var Sre=Object.defineProperty;var Bre=(e,t,r)=>t in e?Sre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var pn=(e,t,r)=>Bre(e,typeof t!="symbol"?t+"":t,r);function Ere(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function en(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _$={exports:{}},rN={},C$={exports:{}},Lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=Symbol.for("react.element"),kre=Symbol.for("react.portal"),Pre=Symbol.for("react.fragment"),Ire=Symbol.for("react.strict_mode"),Tre=Symbol.for("react.profiler"),Ore=Symbol.for("react.provider"),Lre=Symbol.for("react.context"),Fre=Symbol.for("react.forward_ref"),Ure=Symbol.for("react.suspense"),Rre=Symbol.for("react.memo"),Dre=Symbol.for("react.lazy"),OT=Symbol.iterator;function Mre(e){return e===null||typeof e!="object"?null:(e=OT&&e[OT]||e["@@iterator"],typeof e=="function"?e:null)}var S$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$=Object.assign,E$={};function Tg(e,t,r){this.props=e,this.context=t,this.refs=E$,this.updater=r||S$}Tg.prototype.isReactComponent={};Tg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k$(){}k$.prototype=Tg.prototype;function f3(e,t,r){this.props=e,this.context=t,this.refs=E$,this.updater=r||S$}var m3=f3.prototype=new k$;m3.constructor=f3;B$(m3,Tg.prototype);m3.isPureReactComponent=!0;var LT=Array.isArray,P$=Object.prototype.hasOwnProperty,p3={current:null},I$={key:!0,ref:!0,__self:!0,__source:!0};function T$(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)P$.call(t,n)&&!I$.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:gv,type:e,key:a,ref:o,props:i,_owner:p3.current}}function Qre(e,t){return{$$typeof:gv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function g3(e){return typeof e=="object"&&e!==null&&e.$$typeof===gv}function $re(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var FT=/\/+/g;function w_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$re(""+e.key):t.toString(36)}function Kw(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gv:case kre:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+w_(o,0):n,LT(i)?(r="",e!=null&&(r=e.replace(FT,"$&/")+"/"),Kw(i,t,r,"",function(d){return d})):i!=null&&(g3(i)&&(i=Qre(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(FT,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",LT(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+w_(a,l);o+=Kw(a,t,r,c,i)}else if(c=Mre(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+w_(a,l++),o+=Kw(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bb(e,t,r){if(e==null)return e;var n=[],i=0;return Kw(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Hre(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ia={current:null},Ww={transition:null},Vre={ReactCurrentDispatcher:Ia,ReactCurrentBatchConfig:Ww,ReactCurrentOwner:p3};function O$(){throw Error("act(...) is not supported in production builds of React.")}Lr.Children={map:bb,forEach:function(e,t,r){bb(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bb(e,function(){t++}),t},toArray:function(e){return bb(e,function(t){return t})||[]},only:function(e){if(!g3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Lr.Component=Tg;Lr.Fragment=Pre;Lr.Profiler=Tre;Lr.PureComponent=f3;Lr.StrictMode=Ire;Lr.Suspense=Ure;Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vre;Lr.act=O$;Lr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=B$({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=p3.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)P$.call(t,c)&&!I$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:gv,type:e.type,key:i,ref:a,props:n,_owner:o}};Lr.createContext=function(e){return e={$$typeof:Lre,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ore,_context:e},e.Consumer=e};Lr.createElement=T$;Lr.createFactory=function(e){var t=T$.bind(null,e);return t.type=e,t};Lr.createRef=function(){return{current:null}};Lr.forwardRef=function(e){return{$$typeof:Fre,render:e}};Lr.isValidElement=g3;Lr.lazy=function(e){return{$$typeof:Dre,_payload:{_status:-1,_result:e},_init:Hre}};Lr.memo=function(e,t){return{$$typeof:Rre,type:e,compare:t===void 0?null:t}};Lr.startTransition=function(e){var t=Ww.transition;Ww.transition={};try{e()}finally{Ww.transition=t}};Lr.unstable_act=O$;Lr.useCallback=function(e,t){return Ia.current.useCallback(e,t)};Lr.useContext=function(e){return Ia.current.useContext(e)};Lr.useDebugValue=function(){};Lr.useDeferredValue=function(e){return Ia.current.useDeferredValue(e)};Lr.useEffect=function(e,t){return Ia.current.useEffect(e,t)};Lr.useId=function(){return Ia.current.useId()};Lr.useImperativeHandle=function(e,t,r){return Ia.current.useImperativeHandle(e,t,r)};Lr.useInsertionEffect=function(e,t){return Ia.current.useInsertionEffect(e,t)};Lr.useLayoutEffect=function(e,t){return Ia.current.useLayoutEffect(e,t)};Lr.useMemo=function(e,t){return Ia.current.useMemo(e,t)};Lr.useReducer=function(e,t,r){return Ia.current.useReducer(e,t,r)};Lr.useRef=function(e){return Ia.current.useRef(e)};Lr.useState=function(e){return Ia.current.useState(e)};Lr.useSyncExternalStore=function(e,t,r){return Ia.current.useSyncExternalStore(e,t,r)};Lr.useTransition=function(){return Ia.current.useTransition()};Lr.version="18.3.1";C$.exports=Lr;var j=C$.exports;const Ce=en(j),x3=Ere({__proto__:null,default:Ce},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zre=j,Kre=Symbol.for("react.element"),Wre=Symbol.for("react.fragment"),Gre=Object.prototype.hasOwnProperty,qre=zre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yre={key:!0,ref:!0,__self:!0,__source:!0};function L$(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Gre.call(t,n)&&!Yre.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Kre,type:e,key:a,ref:o,props:i,_owner:qre.current}}rN.Fragment=Wre;rN.jsx=L$;rN.jsxs=L$;_$.exports=rN;var s=_$.exports,oB={},F$={exports:{}},To={},U$={exports:{}},R$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,te){var ee=z.length;z.push(te);e:for(;0<ee;){var Z=ee-1>>>1,V=z[Z];if(0<i(V,te))z[Z]=te,z[ee]=V,ee=Z;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var te=z[0],ee=z.pop();if(ee!==te){z[0]=ee;e:for(var Z=0,V=z.length,X=V>>>1;Z<X;){var W=2*(Z+1)-1,ae=z[W],ie=W+1,ce=z[ie];if(0>i(ae,ee))ie<V&&0>i(ce,ae)?(z[Z]=ce,z[ie]=ee,Z=ie):(z[Z]=ae,z[W]=ee,Z=W);else if(ie<V&&0>i(ce,ee))z[Z]=ce,z[ie]=ee,Z=ie;else break e}}return te}function i(z,te){var ee=z.sortIndex-te.sortIndex;return ee!==0?ee:z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,A=null,f=3,m=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var te=r(d);te!==null;){if(te.callback===null)n(d);else if(te.startTime<=z)n(d),te.sortIndex=te.expirationTime,t(c,te);else break;te=r(d)}}function _(z){if(g=!1,w(z),!x)if(r(c)!==null)x=!0,K(N);else{var te=r(d);te!==null&&H(_,te.startTime-z)}}function N(z,te){x=!1,g&&(g=!1,y(E),E=-1),m=!0;var ee=f;try{for(w(te),A=r(c);A!==null&&(!(A.expirationTime>te)||z&&!B());){var Z=A.callback;if(typeof Z=="function"){A.callback=null,f=A.priorityLevel;var V=Z(A.expirationTime<=te);te=e.unstable_now(),typeof V=="function"?A.callback=V:A===r(c)&&n(c),w(te)}else n(c);A=r(c)}if(A!==null)var X=!0;else{var W=r(d);W!==null&&H(_,W.startTime-te),X=!1}return X}finally{A=null,f=ee,m=!1}}var C=!1,P=null,E=-1,I=5,F=-1;function B(){return!(e.unstable_now()-F<I)}function O(){if(P!==null){var z=e.unstable_now();F=z;var te=!0;try{te=P(!0,z)}finally{te?R():(C=!1,P=null)}}else C=!1}var R;if(typeof b=="function")R=function(){b(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=O,R=function(){$.postMessage(null)}}else R=function(){v(O,0)};function K(z){P=z,C||(C=!0,R())}function H(z,te){E=v(function(){z(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,K(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(f){case 1:case 2:case 3:var te=3;break;default:te=f}var ee=f;f=te;try{return z()}finally{f=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=f;f=z;try{return te()}finally{f=ee}},e.unstable_scheduleCallback=function(z,te,ee){var Z=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Z+ee:Z):ee=Z,z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ee+V,z={id:u++,callback:te,priorityLevel:z,startTime:ee,expirationTime:V,sortIndex:-1},ee>Z?(z.sortIndex=ee,t(d,z),r(c)===null&&z===r(d)&&(g?(y(E),E=-1):g=!0,H(_,ee-Z))):(z.sortIndex=V,t(c,z),x||m||(x=!0,K(N))),z},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(z){var te=f;return function(){var ee=f;f=te;try{return z.apply(this,arguments)}finally{f=ee}}}})(R$);U$.exports=R$;var Xre=U$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zre=j,Po=Xre;function jt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D$=new Set,Jx={};function em(e,t){zp(e,t),zp(e+"Capture",t)}function zp(e,t){for(Jx[e]=t,e=0;e<t.length;e++)D$.add(t[e])}var ou=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lB=Object.prototype.hasOwnProperty,Jre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UT={},RT={};function ene(e){return lB.call(RT,e)?!0:lB.call(UT,e)?!1:Jre.test(e)?RT[e]=!0:(UT[e]=!0,!1)}function tne(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rne(e,t,r,n){if(t===null||typeof t>"u"||tne(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ta(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Mi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mi[e]=new Ta(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mi[t]=new Ta(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mi[e]=new Ta(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mi[e]=new Ta(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mi[e]=new Ta(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mi[e]=new Ta(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mi[e]=new Ta(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mi[e]=new Ta(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mi[e]=new Ta(e,5,!1,e.toLowerCase(),null,!1,!1)});var y3=/[\-:]([a-z])/g;function v3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y3,v3);Mi[t]=new Ta(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y3,v3);Mi[t]=new Ta(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y3,v3);Mi[t]=new Ta(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mi[e]=new Ta(e,1,!1,e.toLowerCase(),null,!1,!1)});Mi.xlinkHref=new Ta("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mi[e]=new Ta(e,1,!1,e.toLowerCase(),null,!0,!0)});function b3(e,t,r,n){var i=Mi.hasOwnProperty(t)?Mi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rne(t,r,i,n)&&(r=null),n||i===null?ene(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wu=Zre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wb=Symbol.for("react.element"),Ym=Symbol.for("react.portal"),Xm=Symbol.for("react.fragment"),w3=Symbol.for("react.strict_mode"),cB=Symbol.for("react.profiler"),M$=Symbol.for("react.provider"),Q$=Symbol.for("react.context"),j3=Symbol.for("react.forward_ref"),dB=Symbol.for("react.suspense"),uB=Symbol.for("react.suspense_list"),N3=Symbol.for("react.memo"),lh=Symbol.for("react.lazy"),$$=Symbol.for("react.offscreen"),DT=Symbol.iterator;function N0(e){return e===null||typeof e!="object"?null:(e=DT&&e[DT]||e["@@iterator"],typeof e=="function"?e:null)}var ps=Object.assign,j_;function nx(e){if(j_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);j_=t&&t[1]||""}return`
`+j_+e}var N_=!1;function __(e,t){if(!e||N_)return"";N_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{N_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nx(e):""}function nne(e){switch(e.tag){case 5:return nx(e.type);case 16:return nx("Lazy");case 13:return nx("Suspense");case 19:return nx("SuspenseList");case 0:case 2:case 15:return e=__(e.type,!1),e;case 11:return e=__(e.type.render,!1),e;case 1:return e=__(e.type,!0),e;default:return""}}function hB(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xm:return"Fragment";case Ym:return"Portal";case cB:return"Profiler";case w3:return"StrictMode";case dB:return"Suspense";case uB:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q$:return(e.displayName||"Context")+".Consumer";case M$:return(e._context.displayName||"Context")+".Provider";case j3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N3:return t=e.displayName||null,t!==null?t:hB(e.type)||"Memo";case lh:t=e._payload,e=e._init;try{return hB(e(t))}catch{}}return null}function sne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hB(t);case 8:return t===w3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ine(e){var t=H$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jb(e){e._valueTracker||(e._valueTracker=ine(e))}function V$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function U1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function AB(e,t){var r=t.checked;return ps({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function MT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Vh(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function z$(e,t){t=t.checked,t!=null&&b3(e,"checked",t,!1)}function fB(e,t){z$(e,t);var r=Vh(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mB(e,t.type,r):t.hasOwnProperty("defaultValue")&&mB(e,t.type,Vh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function QT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function mB(e,t,r){(t!=="number"||U1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sx=Array.isArray;function vp(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vh(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function pB(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(jt(91));return ps({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $T(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(jt(92));if(sx(r)){if(1<r.length)throw Error(jt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vh(r)}}function K$(e,t){var r=Vh(t.value),n=Vh(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function HT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function W$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gB(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?W$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nb,G$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nb=Nb||document.createElement("div"),Nb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ey(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ane=["Webkit","ms","Moz","O"];Object.keys(wx).forEach(function(e){ane.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wx[t]=wx[e]})});function q$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wx.hasOwnProperty(e)&&wx[e]?(""+t).trim():t+"px"}function Y$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=q$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var one=ps({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xB(e,t){if(t){if(one[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(jt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(jt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(jt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(jt(62))}}function yB(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vB=null;function _3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bB=null,bp=null,wp=null;function VT(e){if(e=vv(e)){if(typeof bB!="function")throw Error(jt(280));var t=e.stateNode;t&&(t=oN(t),bB(e.stateNode,e.type,t))}}function X$(e){bp?wp?wp.push(e):wp=[e]:bp=e}function Z$(){if(bp){var e=bp,t=wp;if(wp=bp=null,VT(e),t)for(e=0;e<t.length;e++)VT(t[e])}}function J$(e,t){return e(t)}function eH(){}var C_=!1;function tH(e,t,r){if(C_)return e(t,r);C_=!0;try{return J$(e,t,r)}finally{C_=!1,(bp!==null||wp!==null)&&(eH(),Z$())}}function ty(e,t){var r=e.stateNode;if(r===null)return null;var n=oN(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(jt(231,t,typeof r));return r}var wB=!1;if(ou)try{var _0={};Object.defineProperty(_0,"passive",{get:function(){wB=!0}}),window.addEventListener("test",_0,_0),window.removeEventListener("test",_0,_0)}catch{wB=!1}function lne(e,t,r,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var jx=!1,R1=null,D1=!1,jB=null,cne={onError:function(e){jx=!0,R1=e}};function dne(e,t,r,n,i,a,o,l,c){jx=!1,R1=null,lne.apply(cne,arguments)}function une(e,t,r,n,i,a,o,l,c){if(dne.apply(this,arguments),jx){if(jx){var d=R1;jx=!1,R1=null}else throw Error(jt(198));D1||(D1=!0,jB=d)}}function tm(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rH(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zT(e){if(tm(e)!==e)throw Error(jt(188))}function hne(e){var t=e.alternate;if(!t){if(t=tm(e),t===null)throw Error(jt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return zT(i),e;if(a===n)return zT(i),t;a=a.sibling}throw Error(jt(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(jt(189))}}if(r.alternate!==n)throw Error(jt(190))}if(r.tag!==3)throw Error(jt(188));return r.stateNode.current===r?e:t}function nH(e){return e=hne(e),e!==null?sH(e):null}function sH(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sH(e);if(t!==null)return t;e=e.sibling}return null}var iH=Po.unstable_scheduleCallback,KT=Po.unstable_cancelCallback,Ane=Po.unstable_shouldYield,fne=Po.unstable_requestPaint,Ds=Po.unstable_now,mne=Po.unstable_getCurrentPriorityLevel,C3=Po.unstable_ImmediatePriority,aH=Po.unstable_UserBlockingPriority,M1=Po.unstable_NormalPriority,pne=Po.unstable_LowPriority,oH=Po.unstable_IdlePriority,nN=null,Kc=null;function gne(e){if(Kc&&typeof Kc.onCommitFiberRoot=="function")try{Kc.onCommitFiberRoot(nN,e,void 0,(e.current.flags&128)===128)}catch{}}var sc=Math.clz32?Math.clz32:vne,xne=Math.log,yne=Math.LN2;function vne(e){return e>>>=0,e===0?32:31-(xne(e)/yne|0)|0}var _b=64,Cb=4194304;function ix(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Q1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=ix(l):(a&=o,a!==0&&(n=ix(a)))}else o=r&~i,o!==0?n=ix(o):a!==0&&(n=ix(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-sc(t),i=1<<r,n|=e[r],t&=~i;return n}function bne(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wne(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-sc(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=bne(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function NB(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lH(){var e=_b;return _b<<=1,!(_b&4194240)&&(_b=64),e}function S_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sc(t),e[t]=r}function jne(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-sc(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function S3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-sc(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var xn=0;function cH(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dH,B3,uH,hH,AH,_B=!1,Sb=[],Bh=null,Eh=null,kh=null,ry=new Map,ny=new Map,hh=[],Nne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WT(e,t){switch(e){case"focusin":case"focusout":Bh=null;break;case"dragenter":case"dragleave":Eh=null;break;case"mouseover":case"mouseout":kh=null;break;case"pointerover":case"pointerout":ry.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ny.delete(t.pointerId)}}function C0(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=vv(t),t!==null&&B3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function _ne(e,t,r,n,i){switch(t){case"focusin":return Bh=C0(Bh,e,t,r,n,i),!0;case"dragenter":return Eh=C0(Eh,e,t,r,n,i),!0;case"mouseover":return kh=C0(kh,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ry.set(a,C0(ry.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ny.set(a,C0(ny.get(a)||null,e,t,r,n,i)),!0}return!1}function fH(e){var t=qA(e.target);if(t!==null){var r=tm(t);if(r!==null){if(t=r.tag,t===13){if(t=rH(r),t!==null){e.blockedOn=t,AH(e.priority,function(){uH(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=CB(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vB=n,r.target.dispatchEvent(n),vB=null}else return t=vv(r),t!==null&&B3(t),e.blockedOn=r,!1;t.shift()}return!0}function GT(e,t,r){Gw(e)&&r.delete(t)}function Cne(){_B=!1,Bh!==null&&Gw(Bh)&&(Bh=null),Eh!==null&&Gw(Eh)&&(Eh=null),kh!==null&&Gw(kh)&&(kh=null),ry.forEach(GT),ny.forEach(GT)}function S0(e,t){e.blockedOn===t&&(e.blockedOn=null,_B||(_B=!0,Po.unstable_scheduleCallback(Po.unstable_NormalPriority,Cne)))}function sy(e){function t(i){return S0(i,e)}if(0<Sb.length){S0(Sb[0],e);for(var r=1;r<Sb.length;r++){var n=Sb[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bh!==null&&S0(Bh,e),Eh!==null&&S0(Eh,e),kh!==null&&S0(kh,e),ry.forEach(t),ny.forEach(t),r=0;r<hh.length;r++)n=hh[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<hh.length&&(r=hh[0],r.blockedOn===null);)fH(r),r.blockedOn===null&&hh.shift()}var jp=wu.ReactCurrentBatchConfig,$1=!0;function Sne(e,t,r,n){var i=xn,a=jp.transition;jp.transition=null;try{xn=1,E3(e,t,r,n)}finally{xn=i,jp.transition=a}}function Bne(e,t,r,n){var i=xn,a=jp.transition;jp.transition=null;try{xn=4,E3(e,t,r,n)}finally{xn=i,jp.transition=a}}function E3(e,t,r,n){if($1){var i=CB(e,t,r,n);if(i===null)U_(e,t,n,H1,r),WT(e,n);else if(_ne(i,e,t,r,n))n.stopPropagation();else if(WT(e,n),t&4&&-1<Nne.indexOf(e)){for(;i!==null;){var a=vv(i);if(a!==null&&dH(a),a=CB(e,t,r,n),a===null&&U_(e,t,n,H1,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else U_(e,t,n,null,r)}}var H1=null;function CB(e,t,r,n){if(H1=null,e=_3(n),e=qA(e),e!==null)if(t=tm(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rH(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return H1=e,null}function mH(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mne()){case C3:return 1;case aH:return 4;case M1:case pne:return 16;case oH:return 536870912;default:return 16}default:return 16}}var xh=null,k3=null,qw=null;function pH(){if(qw)return qw;var e,t=k3,r=t.length,n,i="value"in xh?xh.value:xh.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return qw=i.slice(e,1<n?1-n:void 0)}function Yw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bb(){return!0}function qT(){return!1}function Oo(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bb:qT,this.isPropagationStopped=qT,this}return ps(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bb)},persist:function(){},isPersistent:Bb}),t}var Og={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P3=Oo(Og),yv=ps({},Og,{view:0,detail:0}),Ene=Oo(yv),B_,E_,B0,sN=ps({},yv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==B0&&(B0&&e.type==="mousemove"?(B_=e.screenX-B0.screenX,E_=e.screenY-B0.screenY):E_=B_=0,B0=e),B_)},movementY:function(e){return"movementY"in e?e.movementY:E_}}),YT=Oo(sN),kne=ps({},sN,{dataTransfer:0}),Pne=Oo(kne),Ine=ps({},yv,{relatedTarget:0}),k_=Oo(Ine),Tne=ps({},Og,{animationName:0,elapsedTime:0,pseudoElement:0}),One=Oo(Tne),Lne=ps({},Og,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fne=Oo(Lne),Une=ps({},Og,{data:0}),XT=Oo(Une),Rne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qne(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mne[e])?!!t[e]:!1}function I3(){return Qne}var $ne=ps({},yv,{key:function(e){if(e.key){var t=Rne[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dne[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I3,charCode:function(e){return e.type==="keypress"?Yw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hne=Oo($ne),Vne=ps({},sN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZT=Oo(Vne),zne=ps({},yv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I3}),Kne=Oo(zne),Wne=ps({},Og,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gne=Oo(Wne),qne=ps({},sN,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yne=Oo(qne),Xne=[9,13,27,32],T3=ou&&"CompositionEvent"in window,Nx=null;ou&&"documentMode"in document&&(Nx=document.documentMode);var Zne=ou&&"TextEvent"in window&&!Nx,gH=ou&&(!T3||Nx&&8<Nx&&11>=Nx),JT=" ",eO=!1;function xH(e,t){switch(e){case"keyup":return Xne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yH(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zm=!1;function Jne(e,t){switch(e){case"compositionend":return yH(t);case"keypress":return t.which!==32?null:(eO=!0,JT);case"textInput":return e=t.data,e===JT&&eO?null:e;default:return null}}function ese(e,t){if(Zm)return e==="compositionend"||!T3&&xH(e,t)?(e=pH(),qw=k3=xh=null,Zm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gH&&t.locale!=="ko"?null:t.data;default:return null}}var tse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tse[e.type]:t==="textarea"}function vH(e,t,r,n){X$(n),t=V1(t,"onChange"),0<t.length&&(r=new P3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _x=null,iy=null;function rse(e){PH(e,0)}function iN(e){var t=tp(e);if(V$(t))return e}function nse(e,t){if(e==="change")return t}var bH=!1;if(ou){var P_;if(ou){var I_="oninput"in document;if(!I_){var rO=document.createElement("div");rO.setAttribute("oninput","return;"),I_=typeof rO.oninput=="function"}P_=I_}else P_=!1;bH=P_&&(!document.documentMode||9<document.documentMode)}function nO(){_x&&(_x.detachEvent("onpropertychange",wH),iy=_x=null)}function wH(e){if(e.propertyName==="value"&&iN(iy)){var t=[];vH(t,iy,e,_3(e)),tH(rse,t)}}function sse(e,t,r){e==="focusin"?(nO(),_x=t,iy=r,_x.attachEvent("onpropertychange",wH)):e==="focusout"&&nO()}function ise(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return iN(iy)}function ase(e,t){if(e==="click")return iN(t)}function ose(e,t){if(e==="input"||e==="change")return iN(t)}function lse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dc=typeof Object.is=="function"?Object.is:lse;function ay(e,t){if(dc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!lB.call(t,i)||!dc(e[i],t[i]))return!1}return!0}function sO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iO(e,t){var r=sO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sO(r)}}function jH(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jH(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NH(){for(var e=window,t=U1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=U1(e.document)}return t}function O3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cse(e){var t=NH(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jH(r.ownerDocument.documentElement,r)){if(n!==null&&O3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=iO(r,a);var o=iO(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dse=ou&&"documentMode"in document&&11>=document.documentMode,Jm=null,SB=null,Cx=null,BB=!1;function aO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;BB||Jm==null||Jm!==U1(n)||(n=Jm,"selectionStart"in n&&O3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cx&&ay(Cx,n)||(Cx=n,n=V1(SB,"onSelect"),0<n.length&&(t=new P3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Jm)))}function Eb(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ep={animationend:Eb("Animation","AnimationEnd"),animationiteration:Eb("Animation","AnimationIteration"),animationstart:Eb("Animation","AnimationStart"),transitionend:Eb("Transition","TransitionEnd")},T_={},_H={};ou&&(_H=document.createElement("div").style,"AnimationEvent"in window||(delete ep.animationend.animation,delete ep.animationiteration.animation,delete ep.animationstart.animation),"TransitionEvent"in window||delete ep.transitionend.transition);function aN(e){if(T_[e])return T_[e];if(!ep[e])return e;var t=ep[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _H)return T_[e]=t[r];return e}var CH=aN("animationend"),SH=aN("animationiteration"),BH=aN("animationstart"),EH=aN("transitionend"),kH=new Map,oO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nA(e,t){kH.set(e,t),em(t,[e])}for(var O_=0;O_<oO.length;O_++){var L_=oO[O_],use=L_.toLowerCase(),hse=L_[0].toUpperCase()+L_.slice(1);nA(use,"on"+hse)}nA(CH,"onAnimationEnd");nA(SH,"onAnimationIteration");nA(BH,"onAnimationStart");nA("dblclick","onDoubleClick");nA("focusin","onFocus");nA("focusout","onBlur");nA(EH,"onTransitionEnd");zp("onMouseEnter",["mouseout","mouseover"]);zp("onMouseLeave",["mouseout","mouseover"]);zp("onPointerEnter",["pointerout","pointerover"]);zp("onPointerLeave",["pointerout","pointerover"]);em("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));em("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));em("onBeforeInput",["compositionend","keypress","textInput","paste"]);em("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));em("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));em("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ax="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ase=new Set("cancel close invalid load scroll toggle".split(" ").concat(ax));function lO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,une(n,t,void 0,e),e.currentTarget=null}function PH(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;lO(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;lO(i,l,d),a=c}}}if(D1)throw e=jB,D1=!1,jB=null,e}function Kn(e,t){var r=t[TB];r===void 0&&(r=t[TB]=new Set);var n=e+"__bubble";r.has(n)||(IH(t,e,2,!1),r.add(n))}function F_(e,t,r){var n=0;t&&(n|=4),IH(r,e,n,t)}var kb="_reactListening"+Math.random().toString(36).slice(2);function oy(e){if(!e[kb]){e[kb]=!0,D$.forEach(function(r){r!=="selectionchange"&&(Ase.has(r)||F_(r,!1,e),F_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kb]||(t[kb]=!0,F_("selectionchange",!1,t))}}function IH(e,t,r,n){switch(mH(t)){case 1:var i=Sne;break;case 4:i=Bne;break;default:i=E3}r=i.bind(null,t,r,e),i=void 0,!wB||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function U_(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=qA(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}tH(function(){var d=a,u=_3(r),A=[];e:{var f=kH.get(e);if(f!==void 0){var m=P3,x=e;switch(e){case"keypress":if(Yw(r)===0)break e;case"keydown":case"keyup":m=Hne;break;case"focusin":x="focus",m=k_;break;case"focusout":x="blur",m=k_;break;case"beforeblur":case"afterblur":m=k_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=YT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Pne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Kne;break;case CH:case SH:case BH:m=One;break;case EH:m=Gne;break;case"scroll":m=Ene;break;case"wheel":m=Yne;break;case"copy":case"cut":case"paste":m=Fne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ZT}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var b=d,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=ty(b,y),_!=null&&g.push(ly(b,_,w)))),v)break;b=b.return}0<g.length&&(f=new m(f,x,null,r,u),A.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==vB&&(x=r.relatedTarget||r.fromElement)&&(qA(x)||x[lu]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=d,x=x?qA(x):null,x!==null&&(v=tm(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(g=YT,_="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=ZT,_="onPointerLeave",y="onPointerEnter",b="pointer"),v=m==null?f:tp(m),w=x==null?f:tp(x),f=new g(_,b+"leave",m,r,u),f.target=v,f.relatedTarget=w,_=null,qA(u)===d&&(g=new g(y,b+"enter",x,r,u),g.target=w,g.relatedTarget=v,_=g),v=_,m&&x)t:{for(g=m,y=x,b=0,w=g;w;w=Sm(w))b++;for(w=0,_=y;_;_=Sm(_))w++;for(;0<b-w;)g=Sm(g),b--;for(;0<w-b;)y=Sm(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=Sm(g),y=Sm(y)}g=null}else g=null;m!==null&&cO(A,f,m,g,!1),x!==null&&v!==null&&cO(A,v,x,g,!0)}}e:{if(f=d?tp(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=nse;else if(tO(f))if(bH)N=ose;else{N=ise;var C=sse}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=ase);if(N&&(N=N(e,d))){vH(A,N,r,u);break e}C&&C(e,f,d),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&mB(f,"number",f.value)}switch(C=d?tp(d):window,e){case"focusin":(tO(C)||C.contentEditable==="true")&&(Jm=C,SB=d,Cx=null);break;case"focusout":Cx=SB=Jm=null;break;case"mousedown":BB=!0;break;case"contextmenu":case"mouseup":case"dragend":BB=!1,aO(A,r,u);break;case"selectionchange":if(dse)break;case"keydown":case"keyup":aO(A,r,u)}var P;if(T3)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Zm?xH(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(gH&&r.locale!=="ko"&&(Zm||E!=="onCompositionStart"?E==="onCompositionEnd"&&Zm&&(P=pH()):(xh=u,k3="value"in xh?xh.value:xh.textContent,Zm=!0)),C=V1(d,E),0<C.length&&(E=new XT(E,e,null,r,u),A.push({event:E,listeners:C}),P?E.data=P:(P=yH(r),P!==null&&(E.data=P)))),(P=Zne?Jne(e,r):ese(e,r))&&(d=V1(d,"onBeforeInput"),0<d.length&&(u=new XT("onBeforeInput","beforeinput",null,r,u),A.push({event:u,listeners:d}),u.data=P))}PH(A,t)})}function ly(e,t,r){return{instance:e,listener:t,currentTarget:r}}function V1(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ty(e,r),a!=null&&n.unshift(ly(e,a,i)),a=ty(e,t),a!=null&&n.push(ly(e,a,i))),e=e.return}return n}function Sm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cO(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=ty(r,a),c!=null&&o.unshift(ly(r,c,l))):i||(c=ty(r,a),c!=null&&o.push(ly(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var fse=/\r\n?/g,mse=/\u0000|\uFFFD/g;function dO(e){return(typeof e=="string"?e:""+e).replace(fse,`
`).replace(mse,"")}function Pb(e,t,r){if(t=dO(t),dO(e)!==t&&r)throw Error(jt(425))}function z1(){}var EB=null,kB=null;function PB(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var IB=typeof setTimeout=="function"?setTimeout:void 0,pse=typeof clearTimeout=="function"?clearTimeout:void 0,uO=typeof Promise=="function"?Promise:void 0,gse=typeof queueMicrotask=="function"?queueMicrotask:typeof uO<"u"?function(e){return uO.resolve(null).then(e).catch(xse)}:IB;function xse(e){setTimeout(function(){throw e})}function R_(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),sy(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);sy(t)}function Ph(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Lg=Math.random().toString(36).slice(2),Mc="__reactFiber$"+Lg,cy="__reactProps$"+Lg,lu="__reactContainer$"+Lg,TB="__reactEvents$"+Lg,yse="__reactListeners$"+Lg,vse="__reactHandles$"+Lg;function qA(e){var t=e[Mc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[lu]||r[Mc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hO(e);e!==null;){if(r=e[Mc])return r;e=hO(e)}return t}e=r,r=e.parentNode}return null}function vv(e){return e=e[Mc]||e[lu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(jt(33))}function oN(e){return e[cy]||null}var OB=[],rp=-1;function sA(e){return{current:e}}function Yn(e){0>rp||(e.current=OB[rp],OB[rp]=null,rp--)}function Mn(e,t){rp++,OB[rp]=e.current,e.current=t}var zh={},da=sA(zh),qa=sA(!1),Cf=zh;function Kp(e,t){var r=e.type.contextTypes;if(!r)return zh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ya(e){return e=e.childContextTypes,e!=null}function K1(){Yn(qa),Yn(da)}function AO(e,t,r){if(da.current!==zh)throw Error(jt(168));Mn(da,t),Mn(qa,r)}function TH(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(jt(108,sne(e)||"Unknown",i));return ps({},r,n)}function W1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zh,Cf=da.current,Mn(da,e),Mn(qa,qa.current),!0}function fO(e,t,r){var n=e.stateNode;if(!n)throw Error(jt(169));r?(e=TH(e,t,Cf),n.__reactInternalMemoizedMergedChildContext=e,Yn(qa),Yn(da),Mn(da,e)):Yn(qa),Mn(qa,r)}var Ud=null,lN=!1,D_=!1;function OH(e){Ud===null?Ud=[e]:Ud.push(e)}function bse(e){lN=!0,OH(e)}function iA(){if(!D_&&Ud!==null){D_=!0;var e=0,t=xn;try{var r=Ud;for(xn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ud=null,lN=!1}catch(i){throw Ud!==null&&(Ud=Ud.slice(e+1)),iH(C3,iA),i}finally{xn=t,D_=!1}}return null}var np=[],sp=0,G1=null,q1=0,rl=[],nl=0,Sf=null,Md=1,Qd="";function FA(e,t){np[sp++]=q1,np[sp++]=G1,G1=e,q1=t}function LH(e,t,r){rl[nl++]=Md,rl[nl++]=Qd,rl[nl++]=Sf,Sf=e;var n=Md;e=Qd;var i=32-sc(n)-1;n&=~(1<<i),r+=1;var a=32-sc(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Md=1<<32-sc(t)+i|r<<i|n,Qd=a+e}else Md=1<<a|r<<i|n,Qd=e}function L3(e){e.return!==null&&(FA(e,1),LH(e,1,0))}function F3(e){for(;e===G1;)G1=np[--sp],np[sp]=null,q1=np[--sp],np[sp]=null;for(;e===Sf;)Sf=rl[--nl],rl[nl]=null,Qd=rl[--nl],rl[nl]=null,Md=rl[--nl],rl[nl]=null}var Co=null,No=null,rs=!1,ec=null;function FH(e,t){var r=ll(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Co=e,No=Ph(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Co=e,No=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sf!==null?{id:Md,overflow:Qd}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ll(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Co=e,No=null,!0):!1;default:return!1}}function LB(e){return(e.mode&1)!==0&&(e.flags&128)===0}function FB(e){if(rs){var t=No;if(t){var r=t;if(!mO(e,t)){if(LB(e))throw Error(jt(418));t=Ph(r.nextSibling);var n=Co;t&&mO(e,t)?FH(n,r):(e.flags=e.flags&-4097|2,rs=!1,Co=e)}}else{if(LB(e))throw Error(jt(418));e.flags=e.flags&-4097|2,rs=!1,Co=e}}}function pO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Co=e}function Ib(e){if(e!==Co)return!1;if(!rs)return pO(e),rs=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!PB(e.type,e.memoizedProps)),t&&(t=No)){if(LB(e))throw UH(),Error(jt(418));for(;t;)FH(e,t),t=Ph(t.nextSibling)}if(pO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(jt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){No=Ph(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}No=null}}else No=Co?Ph(e.stateNode.nextSibling):null;return!0}function UH(){for(var e=No;e;)e=Ph(e.nextSibling)}function Wp(){No=Co=null,rs=!1}function U3(e){ec===null?ec=[e]:ec.push(e)}var wse=wu.ReactCurrentBatchConfig;function E0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(jt(309));var n=r.stateNode}if(!n)throw Error(jt(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(jt(284));if(!r._owner)throw Error(jt(290,e))}return e}function Tb(e,t){throw e=Object.prototype.toString.call(t),Error(jt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gO(e){var t=e._init;return t(e._payload)}function RH(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Lh(y,b),y.index=0,y.sibling=null,y}function a(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,_){return b===null||b.tag!==6?(b=K_(w,y.mode,_),b.return=y,b):(b=i(b,w),b.return=y,b)}function c(y,b,w,_){var N=w.type;return N===Xm?u(y,b,w.props.children,_,w.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===lh&&gO(N)===b.type)?(_=i(b,w.props),_.ref=E0(y,b,w),_.return=y,_):(_=n1(w.type,w.key,w.props,null,y.mode,_),_.ref=E0(y,b,w),_.return=y,_)}function d(y,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=W_(w,y.mode,_),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function u(y,b,w,_,N){return b===null||b.tag!==7?(b=hf(w,y.mode,_,N),b.return=y,b):(b=i(b,w),b.return=y,b)}function A(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=K_(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wb:return w=n1(b.type,b.key,b.props,null,y.mode,w),w.ref=E0(y,null,b),w.return=y,w;case Ym:return b=W_(b,y.mode,w),b.return=y,b;case lh:var _=b._init;return A(y,_(b._payload),w)}if(sx(b)||N0(b))return b=hf(b,y.mode,w,null),b.return=y,b;Tb(y,b)}return null}function f(y,b,w,_){var N=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wb:return w.key===N?c(y,b,w,_):null;case Ym:return w.key===N?d(y,b,w,_):null;case lh:return N=w._init,f(y,b,N(w._payload),_)}if(sx(w)||N0(w))return N!==null?null:u(y,b,w,_,null);Tb(y,w)}return null}function m(y,b,w,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,l(b,y,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wb:return y=y.get(_.key===null?w:_.key)||null,c(b,y,_,N);case Ym:return y=y.get(_.key===null?w:_.key)||null,d(b,y,_,N);case lh:var C=_._init;return m(y,b,w,C(_._payload),N)}if(sx(_)||N0(_))return y=y.get(w)||null,u(b,y,_,N,null);Tb(b,_)}return null}function x(y,b,w,_){for(var N=null,C=null,P=b,E=b=0,I=null;P!==null&&E<w.length;E++){P.index>E?(I=P,P=null):I=P.sibling;var F=f(y,P,w[E],_);if(F===null){P===null&&(P=I);break}e&&P&&F.alternate===null&&t(y,P),b=a(F,b,E),C===null?N=F:C.sibling=F,C=F,P=I}if(E===w.length)return r(y,P),rs&&FA(y,E),N;if(P===null){for(;E<w.length;E++)P=A(y,w[E],_),P!==null&&(b=a(P,b,E),C===null?N=P:C.sibling=P,C=P);return rs&&FA(y,E),N}for(P=n(y,P);E<w.length;E++)I=m(P,y,E,w[E],_),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?E:I.key),b=a(I,b,E),C===null?N=I:C.sibling=I,C=I);return e&&P.forEach(function(B){return t(y,B)}),rs&&FA(y,E),N}function g(y,b,w,_){var N=N0(w);if(typeof N!="function")throw Error(jt(150));if(w=N.call(w),w==null)throw Error(jt(151));for(var C=N=null,P=b,E=b=0,I=null,F=w.next();P!==null&&!F.done;E++,F=w.next()){P.index>E?(I=P,P=null):I=P.sibling;var B=f(y,P,F.value,_);if(B===null){P===null&&(P=I);break}e&&P&&B.alternate===null&&t(y,P),b=a(B,b,E),C===null?N=B:C.sibling=B,C=B,P=I}if(F.done)return r(y,P),rs&&FA(y,E),N;if(P===null){for(;!F.done;E++,F=w.next())F=A(y,F.value,_),F!==null&&(b=a(F,b,E),C===null?N=F:C.sibling=F,C=F);return rs&&FA(y,E),N}for(P=n(y,P);!F.done;E++,F=w.next())F=m(P,y,E,F.value,_),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?E:F.key),b=a(F,b,E),C===null?N=F:C.sibling=F,C=F);return e&&P.forEach(function(O){return t(y,O)}),rs&&FA(y,E),N}function v(y,b,w,_){if(typeof w=="object"&&w!==null&&w.type===Xm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wb:e:{for(var N=w.key,C=b;C!==null;){if(C.key===N){if(N=w.type,N===Xm){if(C.tag===7){r(y,C.sibling),b=i(C,w.props.children),b.return=y,y=b;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===lh&&gO(N)===C.type){r(y,C.sibling),b=i(C,w.props),b.ref=E0(y,C,w),b.return=y,y=b;break e}r(y,C);break}else t(y,C);C=C.sibling}w.type===Xm?(b=hf(w.props.children,y.mode,_,w.key),b.return=y,y=b):(_=n1(w.type,w.key,w.props,null,y.mode,_),_.ref=E0(y,b,w),_.return=y,y=_)}return o(y);case Ym:e:{for(C=w.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=i(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=W_(w,y.mode,_),b.return=y,y=b}return o(y);case lh:return C=w._init,v(y,b,C(w._payload),_)}if(sx(w))return x(y,b,w,_);if(N0(w))return g(y,b,w,_);Tb(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,w),b.return=y,y=b):(r(y,b),b=K_(w,y.mode,_),b.return=y,y=b),o(y)):r(y,b)}return v}var Gp=RH(!0),DH=RH(!1),Y1=sA(null),X1=null,ip=null,R3=null;function D3(){R3=ip=X1=null}function M3(e){var t=Y1.current;Yn(Y1),e._currentValue=t}function UB(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Np(e,t){X1=e,R3=ip=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wa=!0),e.firstContext=null)}function ml(e){var t=e._currentValue;if(R3!==e)if(e={context:e,memoizedValue:t,next:null},ip===null){if(X1===null)throw Error(jt(308));ip=e,X1.dependencies={lanes:0,firstContext:e}}else ip=ip.next=e;return t}var YA=null;function Q3(e){YA===null?YA=[e]:YA.push(e)}function MH(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Q3(t)):(r.next=i.next,i.next=r),t.interleaved=r,cu(e,n)}function cu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ch=!1;function $3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QH(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ih(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Wr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,cu(e,r)}return i=n.interleaved,i===null?(t.next=t,Q3(n)):(t.next=i.next,i.next=t),n.interleaved=t,cu(e,r)}function Xw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,S3(e,r)}}function xO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Z1(e,t,r,n){var i=e.updateQueue;ch=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var A=i.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(f=t,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){A=x.call(m,A,f);break e}A=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,f=typeof x=="function"?x.call(m,A,f):x,f==null)break e;A=ps({},A,f);break e;case 2:ch=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=A):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=A),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ef|=o,e.lanes=o,e.memoizedState=A}}function yO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(jt(191,i));i.call(n)}}}var bv={},Wc=sA(bv),dy=sA(bv),uy=sA(bv);function XA(e){if(e===bv)throw Error(jt(174));return e}function H3(e,t){switch(Mn(uy,t),Mn(dy,e),Mn(Wc,bv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gB(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gB(t,e)}Yn(Wc),Mn(Wc,t)}function qp(){Yn(Wc),Yn(dy),Yn(uy)}function $H(e){XA(uy.current);var t=XA(Wc.current),r=gB(t,e.type);t!==r&&(Mn(dy,e),Mn(Wc,r))}function V3(e){dy.current===e&&(Yn(Wc),Yn(dy))}var hs=sA(0);function J1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var M_=[];function z3(){for(var e=0;e<M_.length;e++)M_[e]._workInProgressVersionPrimary=null;M_.length=0}var Zw=wu.ReactCurrentDispatcher,Q_=wu.ReactCurrentBatchConfig,Bf=0,ms=null,hi=null,wi=null,e2=!1,Sx=!1,hy=0,jse=0;function qi(){throw Error(jt(321))}function K3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dc(e[r],t[r]))return!1;return!0}function W3(e,t,r,n,i,a){if(Bf=a,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zw.current=e===null||e.memoizedState===null?Sse:Bse,e=r(n,i),Sx){a=0;do{if(Sx=!1,hy=0,25<=a)throw Error(jt(301));a+=1,wi=hi=null,t.updateQueue=null,Zw.current=Ese,e=r(n,i)}while(Sx)}if(Zw.current=t2,t=hi!==null&&hi.next!==null,Bf=0,wi=hi=ms=null,e2=!1,t)throw Error(jt(300));return e}function G3(){var e=hy!==0;return hy=0,e}function Dc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wi===null?ms.memoizedState=wi=e:wi=wi.next=e,wi}function pl(){if(hi===null){var e=ms.alternate;e=e!==null?e.memoizedState:null}else e=hi.next;var t=wi===null?ms.memoizedState:wi.next;if(t!==null)wi=t,hi=e;else{if(e===null)throw Error(jt(310));hi=e,e={memoizedState:hi.memoizedState,baseState:hi.baseState,baseQueue:hi.baseQueue,queue:hi.queue,next:null},wi===null?ms.memoizedState=wi=e:wi=wi.next=e}return wi}function Ay(e,t){return typeof t=="function"?t(e):t}function $_(e){var t=pl(),r=t.queue;if(r===null)throw Error(jt(311));r.lastRenderedReducer=e;var n=hi,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Bf&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var A={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=A,o=n):c=c.next=A,ms.lanes|=u,Ef|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,dc(n,t.memoizedState)||(Wa=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ms.lanes|=a,Ef|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function H_(e){var t=pl(),r=t.queue;if(r===null)throw Error(jt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);dc(a,t.memoizedState)||(Wa=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function HH(){}function VH(e,t){var r=ms,n=pl(),i=t(),a=!dc(n.memoizedState,i);if(a&&(n.memoizedState=i,Wa=!0),n=n.queue,q3(WH.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||wi!==null&&wi.memoizedState.tag&1){if(r.flags|=2048,fy(9,KH.bind(null,r,n,i,t),void 0,null),_i===null)throw Error(jt(349));Bf&30||zH(r,t,i)}return i}function zH(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ms.updateQueue,t===null?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function KH(e,t,r,n){t.value=r,t.getSnapshot=n,GH(t)&&qH(e)}function WH(e,t,r){return r(function(){GH(t)&&qH(e)})}function GH(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dc(e,r)}catch{return!0}}function qH(e){var t=cu(e,1);t!==null&&ic(t,e,1,-1)}function vO(e){var t=Dc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:e},t.queue=e,e=e.dispatch=Cse.bind(null,ms,e),[t.memoizedState,e]}function fy(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ms.updateQueue,t===null?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function YH(){return pl().memoizedState}function Jw(e,t,r,n){var i=Dc();ms.flags|=e,i.memoizedState=fy(1|t,r,void 0,n===void 0?null:n)}function cN(e,t,r,n){var i=pl();n=n===void 0?null:n;var a=void 0;if(hi!==null){var o=hi.memoizedState;if(a=o.destroy,n!==null&&K3(n,o.deps)){i.memoizedState=fy(t,r,a,n);return}}ms.flags|=e,i.memoizedState=fy(1|t,r,a,n)}function bO(e,t){return Jw(8390656,8,e,t)}function q3(e,t){return cN(2048,8,e,t)}function XH(e,t){return cN(4,2,e,t)}function ZH(e,t){return cN(4,4,e,t)}function JH(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e9(e,t,r){return r=r!=null?r.concat([e]):null,cN(4,4,JH.bind(null,t,e),r)}function Y3(){}function t9(e,t){var r=pl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&K3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function r9(e,t){var r=pl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&K3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function n9(e,t,r){return Bf&21?(dc(r,t)||(r=lH(),ms.lanes|=r,Ef|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wa=!0),e.memoizedState=r)}function Nse(e,t){var r=xn;xn=r!==0&&4>r?r:4,e(!0);var n=Q_.transition;Q_.transition={};try{e(!1),t()}finally{xn=r,Q_.transition=n}}function s9(){return pl().memoizedState}function _se(e,t,r){var n=Oh(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},i9(e))a9(t,r);else if(r=MH(e,t,r,n),r!==null){var i=Sa();ic(r,e,n,i),o9(r,t,n)}}function Cse(e,t,r){var n=Oh(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(i9(e))a9(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,dc(l,o)){var c=t.interleaved;c===null?(i.next=i,Q3(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=MH(e,t,i,n),r!==null&&(i=Sa(),ic(r,e,n,i),o9(r,t,n))}}function i9(e){var t=e.alternate;return e===ms||t!==null&&t===ms}function a9(e,t){Sx=e2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function o9(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,S3(e,r)}}var t2={readContext:ml,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useInsertionEffect:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useDeferredValue:qi,useTransition:qi,useMutableSource:qi,useSyncExternalStore:qi,useId:qi,unstable_isNewReconciler:!1},Sse={readContext:ml,useCallback:function(e,t){return Dc().memoizedState=[e,t===void 0?null:t],e},useContext:ml,useEffect:bO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Jw(4194308,4,JH.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jw(4,2,e,t)},useMemo:function(e,t){var r=Dc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Dc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_se.bind(null,ms,e),[n.memoizedState,e]},useRef:function(e){var t=Dc();return e={current:e},t.memoizedState=e},useState:vO,useDebugValue:Y3,useDeferredValue:function(e){return Dc().memoizedState=e},useTransition:function(){var e=vO(!1),t=e[0];return e=Nse.bind(null,e[1]),Dc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ms,i=Dc();if(rs){if(r===void 0)throw Error(jt(407));r=r()}else{if(r=t(),_i===null)throw Error(jt(349));Bf&30||zH(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,bO(WH.bind(null,n,a,e),[e]),n.flags|=2048,fy(9,KH.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Dc(),t=_i.identifierPrefix;if(rs){var r=Qd,n=Md;r=(n&~(1<<32-sc(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hy++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jse++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bse={readContext:ml,useCallback:t9,useContext:ml,useEffect:q3,useImperativeHandle:e9,useInsertionEffect:XH,useLayoutEffect:ZH,useMemo:r9,useReducer:$_,useRef:YH,useState:function(){return $_(Ay)},useDebugValue:Y3,useDeferredValue:function(e){var t=pl();return n9(t,hi.memoizedState,e)},useTransition:function(){var e=$_(Ay)[0],t=pl().memoizedState;return[e,t]},useMutableSource:HH,useSyncExternalStore:VH,useId:s9,unstable_isNewReconciler:!1},Ese={readContext:ml,useCallback:t9,useContext:ml,useEffect:q3,useImperativeHandle:e9,useInsertionEffect:XH,useLayoutEffect:ZH,useMemo:r9,useReducer:H_,useRef:YH,useState:function(){return H_(Ay)},useDebugValue:Y3,useDeferredValue:function(e){var t=pl();return hi===null?t.memoizedState=e:n9(t,hi.memoizedState,e)},useTransition:function(){var e=H_(Ay)[0],t=pl().memoizedState;return[e,t]},useMutableSource:HH,useSyncExternalStore:VH,useId:s9,unstable_isNewReconciler:!1};function ql(e,t){if(e&&e.defaultProps){t=ps({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function RB(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ps({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dN={isMounted:function(e){return(e=e._reactInternals)?tm(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Sa(),i=Oh(e),a=Xd(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ih(e,a,i),t!==null&&(ic(t,e,i,n),Xw(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Sa(),i=Oh(e),a=Xd(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ih(e,a,i),t!==null&&(ic(t,e,i,n),Xw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Sa(),n=Oh(e),i=Xd(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ih(e,i,n),t!==null&&(ic(t,e,n,r),Xw(t,e,n))}};function wO(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!ay(r,n)||!ay(i,a):!0}function l9(e,t,r){var n=!1,i=zh,a=t.contextType;return typeof a=="object"&&a!==null?a=ml(a):(i=Ya(t)?Cf:da.current,n=t.contextTypes,a=(n=n!=null)?Kp(e,i):zh),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dN,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function jO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dN.enqueueReplaceState(t,t.state,null)}function DB(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},$3(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ml(a):(a=Ya(t)?Cf:da.current,i.context=Kp(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(RB(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&dN.enqueueReplaceState(i,i.state,null),Z1(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yp(e,t){try{var r="",n=t;do r+=nne(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function V_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function MB(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kse=typeof WeakMap=="function"?WeakMap:Map;function c9(e,t,r){r=Xd(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){n2||(n2=!0,YB=n),MB(e,t)},r}function d9(e,t,r){r=Xd(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){MB(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){MB(e,t),typeof n!="function"&&(Th===null?Th=new Set([this]):Th.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function NO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kse;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Vse.bind(null,e,t,r),t.then(e,e))}function _O(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function CO(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xd(-1,1),t.tag=2,Ih(r,t,1))),r.lanes|=1),e)}var Pse=wu.ReactCurrentOwner,Wa=!1;function wa(e,t,r,n){t.child=e===null?DH(t,null,r,n):Gp(t,e.child,r,n)}function SO(e,t,r,n,i){r=r.render;var a=t.ref;return Np(t,i),n=W3(e,t,r,n,a,i),r=G3(),e!==null&&!Wa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,du(e,t,i)):(rs&&r&&L3(t),t.flags|=1,wa(e,t,n,i),t.child)}function BO(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!sP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,u9(e,t,a,n,i)):(e=n1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:ay,r(o,n)&&e.ref===t.ref)return du(e,t,i)}return t.flags|=1,e=Lh(a,n),e.ref=t.ref,e.return=t,t.child=e}function u9(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ay(a,n)&&e.ref===t.ref)if(Wa=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Wa=!0);else return t.lanes=e.lanes,du(e,t,i)}return QB(e,t,r,n,i)}function h9(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mn(op,vo),vo|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mn(op,vo),vo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Mn(op,vo),vo|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Mn(op,vo),vo|=n;return wa(e,t,i,r),t.child}function A9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function QB(e,t,r,n,i){var a=Ya(r)?Cf:da.current;return a=Kp(t,a),Np(t,i),r=W3(e,t,r,n,a,i),n=G3(),e!==null&&!Wa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,du(e,t,i)):(rs&&n&&L3(t),t.flags|=1,wa(e,t,r,i),t.child)}function EO(e,t,r,n,i){if(Ya(r)){var a=!0;W1(t)}else a=!1;if(Np(t,i),t.stateNode===null)e1(e,t),l9(t,r,n),DB(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ml(d):(d=Ya(r)?Cf:da.current,d=Kp(t,d));var u=r.getDerivedStateFromProps,A=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&jO(t,o,n,d),ch=!1;var f=t.memoizedState;o.state=f,Z1(t,n,o,i),c=t.memoizedState,l!==n||f!==c||qa.current||ch?(typeof u=="function"&&(RB(t,r,u,n),c=t.memoizedState),(l=ch||wO(t,r,l,n,f,c,d))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,QH(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ql(t.type,l),o.props=d,A=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ml(c):(c=Ya(r)?Cf:da.current,c=Kp(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==A||f!==c)&&jO(t,o,n,c),ch=!1,f=t.memoizedState,o.state=f,Z1(t,n,o,i);var x=t.memoizedState;l!==A||f!==x||qa.current||ch?(typeof m=="function"&&(RB(t,r,m,n),x=t.memoizedState),(d=ch||wO(t,r,d,n,f,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return $B(e,t,r,n,a,i)}function $B(e,t,r,n,i,a){A9(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&fO(t,r,!1),du(e,t,a);n=t.stateNode,Pse.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Gp(t,e.child,null,a),t.child=Gp(t,null,l,a)):wa(e,t,l,a),t.memoizedState=n.state,i&&fO(t,r,!0),t.child}function f9(e){var t=e.stateNode;t.pendingContext?AO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&AO(e,t.context,!1),H3(e,t.containerInfo)}function kO(e,t,r,n,i){return Wp(),U3(i),t.flags|=256,wa(e,t,r,n),t.child}var HB={dehydrated:null,treeContext:null,retryLane:0};function VB(e){return{baseLanes:e,cachePool:null,transitions:null}}function m9(e,t,r){var n=t.pendingProps,i=hs.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Mn(hs,i&1),e===null)return FB(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=AN(o,n,0,null),e=hf(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=VB(r),t.memoizedState=HB,e):X3(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Ise(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Lh(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Lh(l,a):(a=hf(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?VB(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=HB,n}return a=e.child,e=a.sibling,n=Lh(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function X3(e,t){return t=AN({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ob(e,t,r,n){return n!==null&&U3(n),Gp(t,e.child,null,r),e=X3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ise(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=V_(Error(jt(422))),Ob(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=AN({mode:"visible",children:n.children},i,0,null),a=hf(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Gp(t,e.child,null,o),t.child.memoizedState=VB(o),t.memoizedState=HB,a);if(!(t.mode&1))return Ob(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(jt(419)),n=V_(a,n,void 0),Ob(e,t,o,n)}if(l=(o&e.childLanes)!==0,Wa||l){if(n=_i,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,cu(e,i),ic(n,e,i,-1))}return nP(),n=V_(Error(jt(421))),Ob(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zse.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,No=Ph(i.nextSibling),Co=t,rs=!0,ec=null,e!==null&&(rl[nl++]=Md,rl[nl++]=Qd,rl[nl++]=Sf,Md=e.id,Qd=e.overflow,Sf=t),t=X3(t,n.children),t.flags|=4096,t)}function PO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),UB(e.return,t,r)}function z_(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function p9(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(wa(e,t,n.children,r),n=hs.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&PO(e,r,t);else if(e.tag===19)PO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Mn(hs,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&J1(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),z_(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&J1(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}z_(t,!0,r,null,a);break;case"together":z_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function e1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function du(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ef|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(jt(153));if(t.child!==null){for(e=t.child,r=Lh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Tse(e,t,r){switch(t.tag){case 3:f9(t),Wp();break;case 5:$H(t);break;case 1:Ya(t.type)&&W1(t);break;case 4:H3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Mn(Y1,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Mn(hs,hs.current&1),t.flags|=128,null):r&t.child.childLanes?m9(e,t,r):(Mn(hs,hs.current&1),e=du(e,t,r),e!==null?e.sibling:null);Mn(hs,hs.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return p9(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mn(hs,hs.current),n)break;return null;case 22:case 23:return t.lanes=0,h9(e,t,r)}return du(e,t,r)}var g9,zB,x9,y9;g9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zB=function(){};x9=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,XA(Wc.current);var a=null;switch(r){case"input":i=AB(e,i),n=AB(e,n),a=[];break;case"select":i=ps({},i,{value:void 0}),n=ps({},n,{value:void 0}),a=[];break;case"textarea":i=pB(e,i),n=pB(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=z1)}xB(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Jx.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Jx.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Kn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};y9=function(e,t,r,n){r!==n&&(t.flags|=4)};function k0(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ose(e,t,r){var n=t.pendingProps;switch(F3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(t),null;case 1:return Ya(t.type)&&K1(),Yi(t),null;case 3:return n=t.stateNode,qp(),Yn(qa),Yn(da),z3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ib(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ec!==null&&(JB(ec),ec=null))),zB(e,t),Yi(t),null;case 5:V3(t);var i=XA(uy.current);if(r=t.type,e!==null&&t.stateNode!=null)x9(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(jt(166));return Yi(t),null}if(e=XA(Wc.current),Ib(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Mc]=t,n[cy]=a,e=(t.mode&1)!==0,r){case"dialog":Kn("cancel",n),Kn("close",n);break;case"iframe":case"object":case"embed":Kn("load",n);break;case"video":case"audio":for(i=0;i<ax.length;i++)Kn(ax[i],n);break;case"source":Kn("error",n);break;case"img":case"image":case"link":Kn("error",n),Kn("load",n);break;case"details":Kn("toggle",n);break;case"input":MT(n,a),Kn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Kn("invalid",n);break;case"textarea":$T(n,a),Kn("invalid",n)}xB(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Pb(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Pb(n.textContent,l,e),i=["children",""+l]):Jx.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kn("scroll",n)}switch(r){case"input":jb(n),QT(n,a,!0);break;case"textarea":jb(n),HT(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=z1)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=W$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Mc]=t,e[cy]=n,g9(e,t,!1,!1),t.stateNode=e;e:{switch(o=yB(r,n),r){case"dialog":Kn("cancel",e),Kn("close",e),i=n;break;case"iframe":case"object":case"embed":Kn("load",e),i=n;break;case"video":case"audio":for(i=0;i<ax.length;i++)Kn(ax[i],e);i=n;break;case"source":Kn("error",e),i=n;break;case"img":case"image":case"link":Kn("error",e),Kn("load",e),i=n;break;case"details":Kn("toggle",e),i=n;break;case"input":MT(e,n),i=AB(e,n),Kn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ps({},n,{value:void 0}),Kn("invalid",e);break;case"textarea":$T(e,n),i=pB(e,n),Kn("invalid",e);break;default:i=n}xB(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Y$(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G$(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ey(e,c):typeof c=="number"&&ey(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jx.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Kn("scroll",e):c!=null&&b3(e,a,c,o))}switch(r){case"input":jb(e),QT(e,n,!1);break;case"textarea":jb(e),HT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vh(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?vp(e,!!n.multiple,a,!1):n.defaultValue!=null&&vp(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=z1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yi(t),null;case 6:if(e&&t.stateNode!=null)y9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(jt(166));if(r=XA(uy.current),XA(Wc.current),Ib(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mc]=t,(a=n.nodeValue!==r)&&(e=Co,e!==null))switch(e.tag){case 3:Pb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pb(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mc]=t,t.stateNode=n}return Yi(t),null;case 13:if(Yn(hs),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rs&&No!==null&&t.mode&1&&!(t.flags&128))UH(),Wp(),t.flags|=98560,a=!1;else if(a=Ib(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(jt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(jt(317));a[Mc]=t}else Wp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yi(t),a=!1}else ec!==null&&(JB(ec),ec=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||hs.current&1?mi===0&&(mi=3):nP())),t.updateQueue!==null&&(t.flags|=4),Yi(t),null);case 4:return qp(),zB(e,t),e===null&&oy(t.stateNode.containerInfo),Yi(t),null;case 10:return M3(t.type._context),Yi(t),null;case 17:return Ya(t.type)&&K1(),Yi(t),null;case 19:if(Yn(hs),a=t.memoizedState,a===null)return Yi(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)k0(a,!1);else{if(mi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=J1(e),o!==null){for(t.flags|=128,k0(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Mn(hs,hs.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ds()>Xp&&(t.flags|=128,n=!0,k0(a,!1),t.lanes=4194304)}else{if(!n)if(e=J1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),k0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!rs)return Yi(t),null}else 2*Ds()-a.renderingStartTime>Xp&&r!==1073741824&&(t.flags|=128,n=!0,k0(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ds(),t.sibling=null,r=hs.current,Mn(hs,n?r&1|2:r&1),t):(Yi(t),null);case 22:case 23:return rP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vo&1073741824&&(Yi(t),t.subtreeFlags&6&&(t.flags|=8192)):Yi(t),null;case 24:return null;case 25:return null}throw Error(jt(156,t.tag))}function Lse(e,t){switch(F3(t),t.tag){case 1:return Ya(t.type)&&K1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qp(),Yn(qa),Yn(da),z3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V3(t),null;case 13:if(Yn(hs),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(jt(340));Wp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yn(hs),null;case 4:return qp(),null;case 10:return M3(t.type._context),null;case 22:case 23:return rP(),null;case 24:return null;default:return null}}var Lb=!1,aa=!1,Fse=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function ap(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Bs(e,t,n)}else r.current=null}function KB(e,t,r){try{r()}catch(n){Bs(e,t,n)}}var IO=!1;function Use(e,t){if(EB=$1,e=NH(),O3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,A=e,f=null;t:for(;;){for(var m;A!==r||i!==0&&A.nodeType!==3||(l=o+i),A!==a||n!==0&&A.nodeType!==3||(c=o+n),A.nodeType===3&&(o+=A.nodeValue.length),(m=A.firstChild)!==null;)f=A,A=m;for(;;){if(A===e)break t;if(f===r&&++d===i&&(l=o),f===a&&++u===n&&(c=o),(m=A.nextSibling)!==null)break;A=f,f=A.parentNode}A=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(kB={focusedElem:e,selectionRange:r},$1=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){t=Dt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ql(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(jt(163))}}catch(_){Bs(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}return x=IO,IO=!1,x}function Bx(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&KB(t,r,a)}i=i.next}while(i!==n)}}function uN(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function WB(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function v9(e){var t=e.alternate;t!==null&&(e.alternate=null,v9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mc],delete t[cy],delete t[TB],delete t[yse],delete t[vse])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b9(e){return e.tag===5||e.tag===3||e.tag===4}function TO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function GB(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=z1));else if(n!==4&&(e=e.child,e!==null))for(GB(e,t,r),e=e.sibling;e!==null;)GB(e,t,r),e=e.sibling}function qB(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qB(e,t,r),e=e.sibling;e!==null;)qB(e,t,r),e=e.sibling}var Li=null,Yl=!1;function qu(e,t,r){for(r=r.child;r!==null;)w9(e,t,r),r=r.sibling}function w9(e,t,r){if(Kc&&typeof Kc.onCommitFiberUnmount=="function")try{Kc.onCommitFiberUnmount(nN,r)}catch{}switch(r.tag){case 5:aa||ap(r,t);case 6:var n=Li,i=Yl;Li=null,qu(e,t,r),Li=n,Yl=i,Li!==null&&(Yl?(e=Li,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Li.removeChild(r.stateNode));break;case 18:Li!==null&&(Yl?(e=Li,r=r.stateNode,e.nodeType===8?R_(e.parentNode,r):e.nodeType===1&&R_(e,r),sy(e)):R_(Li,r.stateNode));break;case 4:n=Li,i=Yl,Li=r.stateNode.containerInfo,Yl=!0,qu(e,t,r),Li=n,Yl=i;break;case 0:case 11:case 14:case 15:if(!aa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&KB(r,t,o),i=i.next}while(i!==n)}qu(e,t,r);break;case 1:if(!aa&&(ap(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Bs(r,t,l)}qu(e,t,r);break;case 21:qu(e,t,r);break;case 22:r.mode&1?(aa=(n=aa)||r.memoizedState!==null,qu(e,t,r),aa=n):qu(e,t,r);break;default:qu(e,t,r)}}function OO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fse),t.forEach(function(n){var i=Kse.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Hl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Li=l.stateNode,Yl=!1;break e;case 3:Li=l.stateNode.containerInfo,Yl=!0;break e;case 4:Li=l.stateNode.containerInfo,Yl=!0;break e}l=l.return}if(Li===null)throw Error(jt(160));w9(a,o,i),Li=null,Yl=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Bs(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j9(t,e),t=t.sibling}function j9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hl(t,e),Oc(e),n&4){try{Bx(3,e,e.return),uN(3,e)}catch(g){Bs(e,e.return,g)}try{Bx(5,e,e.return)}catch(g){Bs(e,e.return,g)}}break;case 1:Hl(t,e),Oc(e),n&512&&r!==null&&ap(r,r.return);break;case 5:if(Hl(t,e),Oc(e),n&512&&r!==null&&ap(r,r.return),e.flags&32){var i=e.stateNode;try{ey(i,"")}catch(g){Bs(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&z$(i,a),yB(l,o);var d=yB(l,a);for(o=0;o<c.length;o+=2){var u=c[o],A=c[o+1];u==="style"?Y$(i,A):u==="dangerouslySetInnerHTML"?G$(i,A):u==="children"?ey(i,A):b3(i,u,A,d)}switch(l){case"input":fB(i,a);break;case"textarea":K$(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?vp(i,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?vp(i,!!a.multiple,a.defaultValue,!0):vp(i,!!a.multiple,a.multiple?[]:"",!1))}i[cy]=a}catch(g){Bs(e,e.return,g)}}break;case 6:if(Hl(t,e),Oc(e),n&4){if(e.stateNode===null)throw Error(jt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Bs(e,e.return,g)}}break;case 3:if(Hl(t,e),Oc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sy(t.containerInfo)}catch(g){Bs(e,e.return,g)}break;case 4:Hl(t,e),Oc(e);break;case 13:Hl(t,e),Oc(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(eP=Ds())),n&4&&OO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(aa=(d=aa)||u,Hl(t,e),aa=d):Hl(t,e),Oc(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Dt=e,u=e.child;u!==null;){for(A=Dt=u;Dt!==null;){switch(f=Dt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Bx(4,f,f.return);break;case 1:ap(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Bs(n,r,g)}}break;case 5:ap(f,f.return);break;case 22:if(f.memoizedState!==null){FO(A);continue}}m!==null?(m.return=f,Dt=m):FO(A)}u=u.sibling}e:for(u=null,A=e;;){if(A.tag===5){if(u===null){u=A;try{i=A.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=A.stateNode,c=A.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=q$("display",o))}catch(g){Bs(e,e.return,g)}}}else if(A.tag===6){if(u===null)try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(g){Bs(e,e.return,g)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;u===A&&(u=null),A=A.return}u===A&&(u=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Hl(t,e),Oc(e),n&4&&OO(e);break;case 21:break;default:Hl(t,e),Oc(e)}}function Oc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(b9(r)){var n=r;break e}r=r.return}throw Error(jt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ey(i,""),n.flags&=-33);var a=TO(e);qB(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=TO(e);GB(e,l,o);break;default:throw Error(jt(161))}}catch(c){Bs(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rse(e,t,r){Dt=e,N9(e)}function N9(e,t,r){for(var n=(e.mode&1)!==0;Dt!==null;){var i=Dt,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Lb;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||aa;l=Lb;var d=aa;if(Lb=o,(aa=c)&&!d)for(Dt=i;Dt!==null;)o=Dt,c=o.child,o.tag===22&&o.memoizedState!==null?UO(i):c!==null?(c.return=o,Dt=c):UO(i);for(;a!==null;)Dt=a,N9(a),a=a.sibling;Dt=i,Lb=l,aa=d}LO(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Dt=a):LO(e)}}function LO(e){for(;Dt!==null;){var t=Dt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:aa||uN(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!aa)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ql(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&yO(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}yO(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var A=u.dehydrated;A!==null&&sy(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(jt(163))}aa||t.flags&512&&WB(t)}catch(f){Bs(t,t.return,f)}}if(t===e){Dt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Dt=r;break}Dt=t.return}}function FO(e){for(;Dt!==null;){var t=Dt;if(t===e){Dt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Dt=r;break}Dt=t.return}}function UO(e){for(;Dt!==null;){var t=Dt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{uN(4,t)}catch(c){Bs(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Bs(t,i,c)}}var a=t.return;try{WB(t)}catch(c){Bs(t,a,c)}break;case 5:var o=t.return;try{WB(t)}catch(c){Bs(t,o,c)}}}catch(c){Bs(t,t.return,c)}if(t===e){Dt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Dt=l;break}Dt=t.return}}var Dse=Math.ceil,r2=wu.ReactCurrentDispatcher,Z3=wu.ReactCurrentOwner,Al=wu.ReactCurrentBatchConfig,Wr=0,_i=null,Ys=null,Ri=0,vo=0,op=sA(0),mi=0,my=null,Ef=0,hN=0,J3=0,Ex=null,Ka=null,eP=0,Xp=1/0,Ld=null,n2=!1,YB=null,Th=null,Fb=!1,yh=null,s2=0,kx=0,XB=null,t1=-1,r1=0;function Sa(){return Wr&6?Ds():t1!==-1?t1:t1=Ds()}function Oh(e){return e.mode&1?Wr&2&&Ri!==0?Ri&-Ri:wse.transition!==null?(r1===0&&(r1=lH()),r1):(e=xn,e!==0||(e=window.event,e=e===void 0?16:mH(e.type)),e):1}function ic(e,t,r,n){if(50<kx)throw kx=0,XB=null,Error(jt(185));xv(e,r,n),(!(Wr&2)||e!==_i)&&(e===_i&&(!(Wr&2)&&(hN|=r),mi===4&&Ah(e,Ri)),Xa(e,n),r===1&&Wr===0&&!(t.mode&1)&&(Xp=Ds()+500,lN&&iA()))}function Xa(e,t){var r=e.callbackNode;wne(e,t);var n=Q1(e,e===_i?Ri:0);if(n===0)r!==null&&KT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&KT(r),t===1)e.tag===0?bse(RO.bind(null,e)):OH(RO.bind(null,e)),gse(function(){!(Wr&6)&&iA()}),r=null;else{switch(cH(n)){case 1:r=C3;break;case 4:r=aH;break;case 16:r=M1;break;case 536870912:r=oH;break;default:r=M1}r=I9(r,_9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function _9(e,t){if(t1=-1,r1=0,Wr&6)throw Error(jt(327));var r=e.callbackNode;if(_p()&&e.callbackNode!==r)return null;var n=Q1(e,e===_i?Ri:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=i2(e,n);else{t=n;var i=Wr;Wr|=2;var a=S9();(_i!==e||Ri!==t)&&(Ld=null,Xp=Ds()+500,uf(e,t));do try{$se();break}catch(l){C9(e,l)}while(!0);D3(),r2.current=a,Wr=i,Ys!==null?t=0:(_i=null,Ri=0,t=mi)}if(t!==0){if(t===2&&(i=NB(e),i!==0&&(n=i,t=ZB(e,i))),t===1)throw r=my,uf(e,0),Ah(e,n),Xa(e,Ds()),r;if(t===6)Ah(e,n);else{if(i=e.current.alternate,!(n&30)&&!Mse(i)&&(t=i2(e,n),t===2&&(a=NB(e),a!==0&&(n=a,t=ZB(e,a))),t===1))throw r=my,uf(e,0),Ah(e,n),Xa(e,Ds()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(jt(345));case 2:UA(e,Ka,Ld);break;case 3:if(Ah(e,n),(n&130023424)===n&&(t=eP+500-Ds(),10<t)){if(Q1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Sa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=IB(UA.bind(null,e,Ka,Ld),t);break}UA(e,Ka,Ld);break;case 4:if(Ah(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-sc(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Ds()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Dse(n/1960))-n,10<n){e.timeoutHandle=IB(UA.bind(null,e,Ka,Ld),n);break}UA(e,Ka,Ld);break;case 5:UA(e,Ka,Ld);break;default:throw Error(jt(329))}}}return Xa(e,Ds()),e.callbackNode===r?_9.bind(null,e):null}function ZB(e,t){var r=Ex;return e.current.memoizedState.isDehydrated&&(uf(e,t).flags|=256),e=i2(e,t),e!==2&&(t=Ka,Ka=r,t!==null&&JB(t)),e}function JB(e){Ka===null?Ka=e:Ka.push.apply(Ka,e)}function Mse(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!dc(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ah(e,t){for(t&=~J3,t&=~hN,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sc(t),n=1<<r;e[r]=-1,t&=~n}}function RO(e){if(Wr&6)throw Error(jt(327));_p();var t=Q1(e,0);if(!(t&1))return Xa(e,Ds()),null;var r=i2(e,t);if(e.tag!==0&&r===2){var n=NB(e);n!==0&&(t=n,r=ZB(e,n))}if(r===1)throw r=my,uf(e,0),Ah(e,t),Xa(e,Ds()),r;if(r===6)throw Error(jt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,UA(e,Ka,Ld),Xa(e,Ds()),null}function tP(e,t){var r=Wr;Wr|=1;try{return e(t)}finally{Wr=r,Wr===0&&(Xp=Ds()+500,lN&&iA())}}function kf(e){yh!==null&&yh.tag===0&&!(Wr&6)&&_p();var t=Wr;Wr|=1;var r=Al.transition,n=xn;try{if(Al.transition=null,xn=1,e)return e()}finally{xn=n,Al.transition=r,Wr=t,!(Wr&6)&&iA()}}function rP(){vo=op.current,Yn(op)}function uf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pse(r)),Ys!==null)for(r=Ys.return;r!==null;){var n=r;switch(F3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&K1();break;case 3:qp(),Yn(qa),Yn(da),z3();break;case 5:V3(n);break;case 4:qp();break;case 13:Yn(hs);break;case 19:Yn(hs);break;case 10:M3(n.type._context);break;case 22:case 23:rP()}r=r.return}if(_i=e,Ys=e=Lh(e.current,null),Ri=vo=t,mi=0,my=null,J3=hN=Ef=0,Ka=Ex=null,YA!==null){for(t=0;t<YA.length;t++)if(r=YA[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}YA=null}return e}function C9(e,t){do{var r=Ys;try{if(D3(),Zw.current=t2,e2){for(var n=ms.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}e2=!1}if(Bf=0,wi=hi=ms=null,Sx=!1,hy=0,Z3.current=null,r===null||r.return===null){mi=1,my=t,Ys=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Ri,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,A=u.tag;if(!(u.mode&1)&&(A===0||A===11||A===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=_O(o);if(m!==null){m.flags&=-257,CO(m,o,l,a,t),m.mode&1&&NO(a,d,t),t=m,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){NO(a,d,t),nP();break e}c=Error(jt(426))}}else if(rs&&l.mode&1){var v=_O(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),CO(v,o,l,a,t),U3(Yp(c,l));break e}}a=c=Yp(c,l),mi!==4&&(mi=2),Ex===null?Ex=[a]:Ex.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=c9(a,c,t);xO(a,y);break e;case 1:l=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Th===null||!Th.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=d9(a,l,t);xO(a,_);break e}}a=a.return}while(a!==null)}E9(r)}catch(N){t=N,Ys===r&&r!==null&&(Ys=r=r.return);continue}break}while(!0)}function S9(){var e=r2.current;return r2.current=t2,e===null?t2:e}function nP(){(mi===0||mi===3||mi===2)&&(mi=4),_i===null||!(Ef&268435455)&&!(hN&268435455)||Ah(_i,Ri)}function i2(e,t){var r=Wr;Wr|=2;var n=S9();(_i!==e||Ri!==t)&&(Ld=null,uf(e,t));do try{Qse();break}catch(i){C9(e,i)}while(!0);if(D3(),Wr=r,r2.current=n,Ys!==null)throw Error(jt(261));return _i=null,Ri=0,mi}function Qse(){for(;Ys!==null;)B9(Ys)}function $se(){for(;Ys!==null&&!Ane();)B9(Ys)}function B9(e){var t=P9(e.alternate,e,vo);e.memoizedProps=e.pendingProps,t===null?E9(e):Ys=t,Z3.current=null}function E9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Lse(r,t),r!==null){r.flags&=32767,Ys=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mi=6,Ys=null;return}}else if(r=Ose(r,t,vo),r!==null){Ys=r;return}if(t=t.sibling,t!==null){Ys=t;return}Ys=t=e}while(t!==null);mi===0&&(mi=5)}function UA(e,t,r){var n=xn,i=Al.transition;try{Al.transition=null,xn=1,Hse(e,t,r,n)}finally{Al.transition=i,xn=n}return null}function Hse(e,t,r,n){do _p();while(yh!==null);if(Wr&6)throw Error(jt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(jt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(jne(e,a),e===_i&&(Ys=_i=null,Ri=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fb||(Fb=!0,I9(M1,function(){return _p(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Al.transition,Al.transition=null;var o=xn;xn=1;var l=Wr;Wr|=4,Z3.current=null,Use(e,r),j9(r,e),cse(kB),$1=!!EB,kB=EB=null,e.current=r,Rse(r),fne(),Wr=l,xn=o,Al.transition=a}else e.current=r;if(Fb&&(Fb=!1,yh=e,s2=i),a=e.pendingLanes,a===0&&(Th=null),gne(r.stateNode),Xa(e,Ds()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(n2)throw n2=!1,e=YB,YB=null,e;return s2&1&&e.tag!==0&&_p(),a=e.pendingLanes,a&1?e===XB?kx++:(kx=0,XB=e):kx=0,iA(),null}function _p(){if(yh!==null){var e=cH(s2),t=Al.transition,r=xn;try{if(Al.transition=null,xn=16>e?16:e,yh===null)var n=!1;else{if(e=yh,yh=null,s2=0,Wr&6)throw Error(jt(331));var i=Wr;for(Wr|=4,Dt=e.current;Dt!==null;){var a=Dt,o=a.child;if(Dt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Dt=d;Dt!==null;){var u=Dt;switch(u.tag){case 0:case 11:case 15:Bx(8,u,a)}var A=u.child;if(A!==null)A.return=u,Dt=A;else for(;Dt!==null;){u=Dt;var f=u.sibling,m=u.return;if(v9(u),u===d){Dt=null;break}if(f!==null){f.return=m,Dt=f;break}Dt=m}}}var x=a.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Dt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Dt=o;else e:for(;Dt!==null;){if(a=Dt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bx(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Dt=y;break e}Dt=a.return}}var b=e.current;for(Dt=b;Dt!==null;){o=Dt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Dt=w;else e:for(o=b;Dt!==null;){if(l=Dt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:uN(9,l)}}catch(N){Bs(l,l.return,N)}if(l===o){Dt=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Dt=_;break e}Dt=l.return}}if(Wr=i,iA(),Kc&&typeof Kc.onPostCommitFiberRoot=="function")try{Kc.onPostCommitFiberRoot(nN,e)}catch{}n=!0}return n}finally{xn=r,Al.transition=t}}return!1}function DO(e,t,r){t=Yp(r,t),t=c9(e,t,1),e=Ih(e,t,1),t=Sa(),e!==null&&(xv(e,1,t),Xa(e,t))}function Bs(e,t,r){if(e.tag===3)DO(e,e,r);else for(;t!==null;){if(t.tag===3){DO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Th===null||!Th.has(n))){e=Yp(r,e),e=d9(t,e,1),t=Ih(t,e,1),e=Sa(),t!==null&&(xv(t,1,e),Xa(t,e));break}}t=t.return}}function Vse(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Sa(),e.pingedLanes|=e.suspendedLanes&r,_i===e&&(Ri&r)===r&&(mi===4||mi===3&&(Ri&130023424)===Ri&&500>Ds()-eP?uf(e,0):J3|=r),Xa(e,t)}function k9(e,t){t===0&&(e.mode&1?(t=Cb,Cb<<=1,!(Cb&130023424)&&(Cb=4194304)):t=1);var r=Sa();e=cu(e,t),e!==null&&(xv(e,t,r),Xa(e,r))}function zse(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),k9(e,r)}function Kse(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(jt(314))}n!==null&&n.delete(t),k9(e,r)}var P9;P9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qa.current)Wa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wa=!1,Tse(e,t,r);Wa=!!(e.flags&131072)}else Wa=!1,rs&&t.flags&1048576&&LH(t,q1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;e1(e,t),e=t.pendingProps;var i=Kp(t,da.current);Np(t,r),i=W3(null,t,n,e,i,r);var a=G3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ya(n)?(a=!0,W1(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$3(t),i.updater=dN,t.stateNode=i,i._reactInternals=t,DB(t,n,e,r),t=$B(null,t,n,!0,a,r)):(t.tag=0,rs&&a&&L3(t),wa(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(e1(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Gse(n),e=ql(n,e),i){case 0:t=QB(null,t,n,e,r);break e;case 1:t=EO(null,t,n,e,r);break e;case 11:t=SO(null,t,n,e,r);break e;case 14:t=BO(null,t,n,ql(n.type,e),r);break e}throw Error(jt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ql(n,i),QB(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ql(n,i),EO(e,t,n,i,r);case 3:e:{if(f9(t),e===null)throw Error(jt(387));n=t.pendingProps,a=t.memoizedState,i=a.element,QH(e,t),Z1(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Yp(Error(jt(423)),t),t=kO(e,t,n,r,i);break e}else if(n!==i){i=Yp(Error(jt(424)),t),t=kO(e,t,n,r,i);break e}else for(No=Ph(t.stateNode.containerInfo.firstChild),Co=t,rs=!0,ec=null,r=DH(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wp(),n===i){t=du(e,t,r);break e}wa(e,t,n,r)}t=t.child}return t;case 5:return $H(t),e===null&&FB(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,PB(n,i)?o=null:a!==null&&PB(n,a)&&(t.flags|=32),A9(e,t),wa(e,t,o,r),t.child;case 6:return e===null&&FB(t),null;case 13:return m9(e,t,r);case 4:return H3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Gp(t,null,n,r):wa(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ql(n,i),SO(e,t,n,i,r);case 7:return wa(e,t,t.pendingProps,r),t.child;case 8:return wa(e,t,t.pendingProps.children,r),t.child;case 12:return wa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Mn(Y1,n._currentValue),n._currentValue=o,a!==null)if(dc(a.value,o)){if(a.children===i.children&&!qa.current){t=du(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Xd(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),UB(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(jt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),UB(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}wa(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Np(t,r),i=ml(i),n=n(i),t.flags|=1,wa(e,t,n,r),t.child;case 14:return n=t.type,i=ql(n,t.pendingProps),i=ql(n.type,i),BO(e,t,n,i,r);case 15:return u9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ql(n,i),e1(e,t),t.tag=1,Ya(n)?(e=!0,W1(t)):e=!1,Np(t,r),l9(t,n,i),DB(t,n,i,r),$B(null,t,n,!0,e,r);case 19:return p9(e,t,r);case 22:return h9(e,t,r)}throw Error(jt(156,t.tag))};function I9(e,t){return iH(e,t)}function Wse(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ll(e,t,r,n){return new Wse(e,t,r,n)}function sP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gse(e){if(typeof e=="function")return sP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===j3)return 11;if(e===N3)return 14}return 2}function Lh(e,t){var r=e.alternate;return r===null?(r=ll(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function n1(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")sP(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xm:return hf(r.children,i,a,t);case w3:o=8,i|=8;break;case cB:return e=ll(12,r,t,i|2),e.elementType=cB,e.lanes=a,e;case dB:return e=ll(13,r,t,i),e.elementType=dB,e.lanes=a,e;case uB:return e=ll(19,r,t,i),e.elementType=uB,e.lanes=a,e;case $$:return AN(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M$:o=10;break e;case Q$:o=9;break e;case j3:o=11;break e;case N3:o=14;break e;case lh:o=16,n=null;break e}throw Error(jt(130,e==null?e:typeof e,""))}return t=ll(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function hf(e,t,r,n){return e=ll(7,e,n,t),e.lanes=r,e}function AN(e,t,r,n){return e=ll(22,e,n,t),e.elementType=$$,e.lanes=r,e.stateNode={isHidden:!1},e}function K_(e,t,r){return e=ll(6,e,null,t),e.lanes=r,e}function W_(e,t,r){return t=ll(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qse(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S_(0),this.expirationTimes=S_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S_(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iP(e,t,r,n,i,a,o,l,c){return e=new qse(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ll(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$3(a),e}function Yse(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ym,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function T9(e){if(!e)return zh;e=e._reactInternals;e:{if(tm(e)!==e||e.tag!==1)throw Error(jt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ya(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(jt(171))}if(e.tag===1){var r=e.type;if(Ya(r))return TH(e,r,t)}return t}function O9(e,t,r,n,i,a,o,l,c){return e=iP(r,n,!0,e,i,a,o,l,c),e.context=T9(null),r=e.current,n=Sa(),i=Oh(r),a=Xd(n,i),a.callback=t??null,Ih(r,a,i),e.current.lanes=i,xv(e,i,n),Xa(e,n),e}function fN(e,t,r,n){var i=t.current,a=Sa(),o=Oh(i);return r=T9(r),t.context===null?t.context=r:t.pendingContext=r,t=Xd(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ih(i,t,o),e!==null&&(ic(e,i,o,a),Xw(e,i,o)),o}function a2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function MO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function aP(e,t){MO(e,t),(e=e.alternate)&&MO(e,t)}function Xse(){return null}var L9=typeof reportError=="function"?reportError:function(e){console.error(e)};function oP(e){this._internalRoot=e}mN.prototype.render=oP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(jt(409));fN(e,t,null,null)};mN.prototype.unmount=oP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kf(function(){fN(null,e,null,null)}),t[lu]=null}};function mN(e){this._internalRoot=e}mN.prototype.unstable_scheduleHydration=function(e){if(e){var t=hH();e={blockedOn:null,target:e,priority:t};for(var r=0;r<hh.length&&t!==0&&t<hh[r].priority;r++);hh.splice(r,0,e),r===0&&fH(e)}};function lP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QO(){}function Zse(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=a2(o);a.call(d)}}var o=O9(t,n,e,0,null,!1,!1,"",QO);return e._reactRootContainer=o,e[lu]=o.current,oy(e.nodeType===8?e.parentNode:e),kf(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=a2(c);l.call(d)}}var c=iP(e,0,!1,null,null,!1,!1,"",QO);return e._reactRootContainer=c,e[lu]=c.current,oy(e.nodeType===8?e.parentNode:e),kf(function(){fN(t,c,r,n)}),c}function gN(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=a2(o);l.call(c)}}fN(t,o,e,i)}else o=Zse(r,t,e,i,n);return a2(o)}dH=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ix(t.pendingLanes);r!==0&&(S3(t,r|1),Xa(t,Ds()),!(Wr&6)&&(Xp=Ds()+500,iA()))}break;case 13:kf(function(){var n=cu(e,1);if(n!==null){var i=Sa();ic(n,e,1,i)}}),aP(e,1)}};B3=function(e){if(e.tag===13){var t=cu(e,134217728);if(t!==null){var r=Sa();ic(t,e,134217728,r)}aP(e,134217728)}};uH=function(e){if(e.tag===13){var t=Oh(e),r=cu(e,t);if(r!==null){var n=Sa();ic(r,e,t,n)}aP(e,t)}};hH=function(){return xn};AH=function(e,t){var r=xn;try{return xn=e,t()}finally{xn=r}};bB=function(e,t,r){switch(t){case"input":if(fB(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=oN(n);if(!i)throw Error(jt(90));V$(n),fB(n,i)}}}break;case"textarea":K$(e,r);break;case"select":t=r.value,t!=null&&vp(e,!!r.multiple,t,!1)}};J$=tP;eH=kf;var Jse={usingClientEntryPoint:!1,Events:[vv,tp,oN,X$,Z$,tP]},P0={findFiberByHostInstance:qA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eie={bundleType:P0.bundleType,version:P0.version,rendererPackageName:P0.rendererPackageName,rendererConfig:P0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nH(e),e===null?null:e.stateNode},findFiberByHostInstance:P0.findFiberByHostInstance||Xse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ub=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ub.isDisabled&&Ub.supportsFiber)try{nN=Ub.inject(eie),Kc=Ub}catch{}}To.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jse;To.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lP(t))throw Error(jt(200));return Yse(e,t,null,r)};To.createRoot=function(e,t){if(!lP(e))throw Error(jt(299));var r=!1,n="",i=L9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=iP(e,1,!1,null,null,r,!1,n,i),e[lu]=t.current,oy(e.nodeType===8?e.parentNode:e),new oP(t)};To.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(jt(188)):(e=Object.keys(e).join(","),Error(jt(268,e)));return e=nH(t),e=e===null?null:e.stateNode,e};To.flushSync=function(e){return kf(e)};To.hydrate=function(e,t,r){if(!pN(t))throw Error(jt(200));return gN(null,e,t,!0,r)};To.hydrateRoot=function(e,t,r){if(!lP(e))throw Error(jt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=L9;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=O9(t,null,e,1,r??null,i,!1,a,o),e[lu]=t.current,oy(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new mN(t)};To.render=function(e,t,r){if(!pN(t))throw Error(jt(200));return gN(null,e,t,!1,r)};To.unmountComponentAtNode=function(e){if(!pN(e))throw Error(jt(40));return e._reactRootContainer?(kf(function(){gN(null,null,e,!1,function(){e._reactRootContainer=null,e[lu]=null})}),!0):!1};To.unstable_batchedUpdates=tP;To.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!pN(r))throw Error(jt(200));if(e==null||e._reactInternals===void 0)throw Error(jt(38));return gN(e,t,r,!1,n)};To.version="18.3.1-next-f1338f8080-20240426";function F9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F9)}catch(e){console.error(e)}}F9(),F$.exports=To;var aA=F$.exports;const tie=en(aA);var $O=aA;oB.createRoot=$O.createRoot,oB.hydrateRoot=$O.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}var vh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vh||(vh={}));const HO="popstate";function rie(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return e4("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:o2(i)}return sie(t,r,null,e)}function Js(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nie(){return Math.random().toString(36).substr(2,8)}function VO(e,t){return{usr:e.state,key:e.key,idx:t}}function e4(e,t,r,n){return r===void 0&&(r=null),py({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fg(t):t,{state:r,key:t&&t.key||n||nie()})}function o2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fg(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function sie(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=vh.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(py({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function A(){l=vh.Pop;let v=u(),y=v==null?null:v-d;d=v,c&&c({action:l,location:g.location,delta:y})}function f(v,y){l=vh.Push;let b=e4(g.location,v,y);d=u()+1;let w=VO(b,d),_=g.createHref(b);try{o.pushState(w,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(_)}a&&c&&c({action:l,location:g.location,delta:1})}function m(v,y){l=vh.Replace;let b=e4(g.location,v,y);d=u();let w=VO(b,d),_=g.createHref(b);o.replaceState(w,"",_),a&&c&&c({action:l,location:g.location,delta:0})}function x(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:o2(v);return b=b.replace(/ $/,"%20"),Js(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return l},get location(){return e(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(HO,A),c=v,()=>{i.removeEventListener(HO,A),c=null}},createHref(v){return t(i,v)},createURL:x,encodeLocation(v){let y=x(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(v){return o.go(v)}};return g}var zO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zO||(zO={}));function iie(e,t,r){return r===void 0&&(r="/"),aie(e,t,r)}function aie(e,t,r,n){let i=typeof t=="string"?Fg(t):t,a=dP(i.pathname||"/",r);if(a==null)return null;let o=U9(e);oie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=yie(a);l=pie(o[c],d)}return l}function U9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Js(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Fh([n,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(Js(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),U9(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:fie(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of R9(a.path))i(a,o,c)}),t}function R9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=R9(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function oie(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:mie(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lie=/^:[\w-]+$/,cie=3,die=2,uie=1,hie=10,Aie=-2,KO=e=>e==="*";function fie(e,t){let r=e.split("/"),n=r.length;return r.some(KO)&&(n+=Aie),t&&(n+=die),r.filter(i=>!KO(i)).reduce((i,a)=>i+(lie.test(a)?cie:a===""?uie:hie),n)}function mie(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function pie(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",A=gie({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!A)return null;Object.assign(i,A.params),o.push({params:i,pathname:Fh([a,A.pathname]),pathnameBase:Nie(Fh([a,A.pathnameBase])),route:f}),A.pathnameBase!=="/"&&(a=Fh([a,A.pathnameBase]))}return o}function gie(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xie(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,A)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let g=l[A]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[A];return m&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function xie(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),cP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function yie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const vie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bie=e=>vie.test(e);function wie(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Fg(e):e,a;if(r)if(bie(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),cP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=WO(r.substring(1),"/"):a=WO(r,t)}else a=t;return{pathname:a,search:_ie(n),hash:Cie(i)}}function WO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function G_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jie(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function D9(e,t){let r=jie(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function M9(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Fg(e):(i=py({},e),Js(!i.pathname||!i.pathname.includes("?"),G_("?","pathname","search",i)),Js(!i.pathname||!i.pathname.includes("#"),G_("#","pathname","hash",i)),Js(!i.search||!i.search.includes("#"),G_("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let A=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),A-=1;i.pathname=f.join("/")}l=A>=0?t[A]:"/"}let c=wie(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Fh=e=>e.join("/").replace(/\/\/+/g,"/"),Nie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_ie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sie(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Q9=["post","put","patch","delete"];new Set(Q9);const Bie=["get",...Q9];new Set(Bie);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}const uP=j.createContext(null),Eie=j.createContext(null),rm=j.createContext(null),xN=j.createContext(null),oA=j.createContext({outlet:null,matches:[],isDataRoute:!1}),$9=j.createContext(null);function kie(e,t){let{relative:r}=t===void 0?{}:t;wv()||Js(!1);let{basename:n,navigator:i}=j.useContext(rm),{hash:a,pathname:o,search:l}=V9(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Fh([n,o])),i.createHref({pathname:c,search:l,hash:a})}function wv(){return j.useContext(xN)!=null}function eo(){return wv()||Js(!1),j.useContext(xN).location}function H9(e){j.useContext(rm).static||j.useLayoutEffect(e)}function Ar(){let{isDataRoute:e}=j.useContext(oA);return e?Vie():Iie()}function Iie(){wv()||Js(!1);let e=j.useContext(uP),{basename:t,future:r,navigator:n}=j.useContext(rm),{matches:i}=j.useContext(oA),{pathname:a}=eo(),o=JSON.stringify(D9(i,r.v7_relativeSplatPath)),l=j.useRef(!1);return H9(()=>{l.current=!0}),j.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let A=M9(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Fh([t,A.pathname])),(u.replace?n.replace:n.push)(A,u.state,u)},[t,n,o,a,e])}function ju(){let{matches:e}=j.useContext(oA),t=e[e.length-1];return t?t.params:{}}function V9(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(rm),{matches:i}=j.useContext(oA),{pathname:a}=eo(),o=JSON.stringify(D9(i,n.v7_relativeSplatPath));return j.useMemo(()=>M9(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Tie(e,t){return Oie(e,t)}function Oie(e,t,r,n){wv()||Js(!1);let{navigator:i}=j.useContext(rm),{matches:a}=j.useContext(oA),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=eo(),u;if(t){var A;let v=typeof t=="string"?Fg(t):t;c==="/"||(A=v.pathname)!=null&&A.startsWith(c)||Js(!1),u=v}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=iie(e,{pathname:m}),g=Die(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Fh([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Fh([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&g?j.createElement(xN.Provider,{value:{location:gy({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vh.Pop}},g):g}function Lie(){let e=Hie(),t=Sie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,null)}const Fie=j.createElement(Lie,null);class Uie extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(oA.Provider,{value:this.props.routeContext},j.createElement($9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rie(e){let{routeContext:t,match:r,children:n}=e,i=j.useContext(uP);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(oA.Provider,{value:t},n)}function Die(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(A=>A.route.id&&(l==null?void 0:l[A.route.id])!==void 0);u>=0||Js(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let A=o[u];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(d=u),A.route.id){let{loaderData:f,errors:m}=r,x=A.route.loader&&f[A.route.id]===void 0&&(!m||m[A.route.id]===void 0);if(A.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,A,f)=>{let m,x=!1,g=null,v=null;r&&(m=l&&A.route.id?l[A.route.id]:void 0,g=A.route.errorElement||Fie,c&&(d<0&&f===0?(zie("route-fallback"),x=!0,v=null):d===f&&(x=!0,v=A.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),b=()=>{let w;return m?w=g:x?w=v:A.route.Component?w=j.createElement(A.route.Component,null):A.route.element?w=A.route.element:w=u,j.createElement(Rie,{match:A,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(A.route.ErrorBoundary||A.route.errorElement||f===0)?j.createElement(Uie,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var z9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(z9||{}),K9=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(K9||{});function Mie(e){let t=j.useContext(uP);return t||Js(!1),t}function Qie(e){let t=j.useContext(Eie);return t||Js(!1),t}function $ie(e){let t=j.useContext(oA);return t||Js(!1),t}function W9(e){let t=$ie(),r=t.matches[t.matches.length-1];return r.route.id||Js(!1),r.route.id}function Hie(){var e;let t=j.useContext($9),r=Qie(),n=W9();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Vie(){let{router:e}=Mie(z9.UseNavigateStable),t=W9(K9.UseNavigateStable),r=j.useRef(!1);return H9(()=>{r.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,gy({fromRouteId:t},a)))},[e,t])}const GO={};function zie(e,t,r){GO[e]||(GO[e]=!0)}function Kie(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wt(e){Js(!1)}function Wie(e){let{basename:t="/",children:r=null,location:n,navigationType:i=vh.Pop,navigator:a,static:o=!1,future:l}=e;wv()&&Js(!1);let c=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:o,future:gy({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Fg(n));let{pathname:u="/",search:A="",hash:f="",state:m=null,key:x="default"}=n,g=j.useMemo(()=>{let v=dP(u,c);return v==null?null:{location:{pathname:v,search:A,hash:f,state:m,key:x},navigationType:i}},[c,u,A,f,m,x,i]);return g==null?null:j.createElement(rm.Provider,{value:d},j.createElement(xN.Provider,{children:r,value:g}))}function Gie(e){let{children:t,location:r}=e;return Tie(t4(t),r)}new Promise(()=>{});function t4(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let a=[...t,i];if(n.type===j.Fragment){r.push.apply(r,t4(n.props.children,a));return}n.type!==Wt&&Js(!1),!n.props.index||!n.props.children||Js(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=t4(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function r4(){return r4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r4.apply(this,arguments)}function qie(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Yie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Xie(e,t){return e.button===0&&(!t||t==="_self")&&!Yie(e)}function n4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Zie(e,t){let r=n4(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const Jie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eae="6";try{window.__reactRouterVersion=eae}catch{}const tae="startTransition",qO=x3[tae];function rae(e){let{basename:t,children:r,future:n,window:i}=e,a=j.useRef();a.current==null&&(a.current=rie({window:i,v5Compat:!0}));let o=a.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=j.useCallback(A=>{d&&qO?qO(()=>c(A)):c(A)},[c,d]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.useEffect(()=>Kie(n),[n]),j.createElement(Wie,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const nae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=j.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:A}=t,f=qie(t,Jie),{basename:m}=j.useContext(rm),x,g=!1;if(typeof d=="string"&&sae.test(d)&&(x=d,nae))try{let w=new URL(window.location.href),_=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=dP(_.pathname,m);_.origin===w.origin&&N!=null?d=N+_.search+_.hash:g=!0}catch{}let v=kie(d,{relative:i}),y=iae(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:A});function b(w){n&&n(w),w.defaultPrevented||y(w)}return j.createElement("a",r4({},f,{href:x||v,onClick:g||a?n:b,ref:r,target:c}))});var YO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(YO||(YO={}));var XO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(XO||(XO={}));function iae(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ar(),d=eo(),u=V9(e,{relative:o});return j.useCallback(A=>{if(Xie(A,r)){A.preventDefault();let f=n!==void 0?n:o2(d)===o2(u);c(e,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,n,i,r,e,a,o,l])}function G9(e){let t=j.useRef(n4(e)),r=j.useRef(!1),n=eo(),i=j.useMemo(()=>Zie(n.search,r.current?null:t.current),[n.search]),a=Ar(),o=j.useCallback((l,c)=>{const d=n4(typeof l=="function"?l(i):l);r.current=!0,a("?"+d,c)},[a,i]);return[i,o]}const hP=j.createContext({});function jv(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const yN=j.createContext(null),AP=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class aae extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oae({children:e,isPresent:t}){const r=j.useId(),n=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=j.useContext(AP);return j.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=i.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),s.jsx(aae,{isPresent:t,childRef:n,sizeRef:i,children:j.cloneElement(e,{ref:n})})}const lae=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=jv(cae),c=j.useId(),d=j.useCallback(A=>{l.set(A,!0);for(const f of l.values())if(!f)return;n&&n()},[l,n]),u=j.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:d,register:A=>(l.set(A,!1),()=>l.delete(A))}),a?[Math.random(),d]:[r,d]);return j.useMemo(()=>{l.forEach((A,f)=>l.set(f,!1))},[r]),j.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(oae,{isPresent:r,children:e})),s.jsx(yN.Provider,{value:u,children:e})};function cae(){return new Map}function q9(e=!0){const t=j.useContext(yN);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=j.useId();j.useEffect(()=>{e&&i(a)},[e]);const o=j.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,o]:[!0]}const Rb=e=>e.key||"";function ZO(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const fP=typeof window<"u",vN=fP?j.useLayoutEffect:j.useEffect,Mr=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=q9(o),d=j.useMemo(()=>ZO(e),[e]),u=o&&!l?[]:d.map(Rb),A=j.useRef(!0),f=j.useRef(d),m=jv(()=>new Map),[x,g]=j.useState(d),[v,y]=j.useState(d);vN(()=>{A.current=!1,f.current=d;for(let _=0;_<v.length;_++){const N=Rb(v[_]);u.includes(N)?m.delete(N):m.get(N)!==!0&&m.set(N,!1)}},[v,u.length,u.join("-")]);const b=[];if(d!==x){let _=[...d];for(let N=0;N<v.length;N++){const C=v[N],P=Rb(C);u.includes(P)||(_.splice(N,0,C),b.push(C))}a==="wait"&&b.length&&(_=b),y(ZO(_)),g(d);return}const{forceRender:w}=j.useContext(hP);return s.jsx(s.Fragment,{children:v.map(_=>{const N=Rb(_),C=o&&!l?!1:d===v||u.includes(N),P=()=>{if(m.has(N))m.set(N,!0);else return;let E=!0;m.forEach(I=>{I||(E=!1)}),E&&(w==null||w(),y(f.current),o&&(c==null||c()),n&&n())};return s.jsx(lae,{isPresent:C,initial:!A.current||r?void 0:!1,custom:C?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:C?void 0:P,children:_},N)})})},Ba=e=>e;let dae=Ba,Y9=Ba;function mP(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pf=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Zd=e=>e*1e3,Jd=e=>e/1e3,uae={useManualTiming:!1};function hae(e){let t=new Set,r=new Set,n=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,A=!1)=>{const m=A&&n?t:r;return u&&a.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,i&&(i=!1,c.process(d))}};return c}const Db=["read","resolveKeyframes","update","preRender","render","postRender"],Aae=40;function X9(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=Db.reduce((y,b)=>(y[b]=hae(a),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:A,postRender:f}=o,m=()=>{const y=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(y-i.timestamp,Aae),1),i.timestamp=y,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),A.process(i),f.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(m))},x=()=>{r=!0,n=!0,i.isProcessing||e(m)};return{schedule:Db.reduce((y,b)=>{const w=o[b];return y[b]=(_,N=!1,C=!1)=>(r||x(),w.schedule(_,N,C)),y},{}),cancel:y=>{for(let b=0;b<Db.length;b++)o[Db[b]].cancel(y)},state:i,steps:o}}const{schedule:cn,cancel:nd,state:vi,steps:q_}=X9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ba,!0),Z9=j.createContext({strict:!1}),JO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zp={};for(const e in JO)Zp[e]={isEnabled:t=>JO[e].some(r=>!!t[r])};function fae(e){for(const t in e)Zp[t]={...Zp[t],...e[t]}}const mae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function l2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mae.has(e)}let J9=e=>!l2(e);function pae(e){e&&(J9=t=>t.startsWith("on")?!l2(t):e(t))}try{pae(require("@emotion/is-prop-valid").default)}catch{}function gae(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(J9(i)||r===!0&&l2(i)||!t&&!l2(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function xae(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const bN=j.createContext({});function xy(e){return typeof e=="string"||Array.isArray(e)}function wN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const pP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gP=["initial",...pP];function jN(e){return wN(e.animate)||gP.some(t=>xy(e[t]))}function eV(e){return!!(jN(e)||e.variants)}function yae(e,t){if(jN(e)){const{initial:r,animate:n}=e;return{initial:r===!1||xy(r)?r:void 0,animate:xy(n)?n:void 0}}return e.inherit!==!1?t:{}}function vae(e){const{initial:t,animate:r}=yae(e,j.useContext(bN));return j.useMemo(()=>({initial:t,animate:r}),[eL(t),eL(r)])}function eL(e){return Array.isArray(e)?e.join(" "):e}const bae=Symbol.for("motionComponentSymbol");function lp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wae(e,t,r){return j.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):lp(r)&&(r.current=n))},[t])}const xP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jae="framerAppearId",tV="data-"+xP(jae),{schedule:yP}=X9(queueMicrotask,!1),rV=j.createContext({});function Nae(e,t,r,n,i){var a,o;const{visualElement:l}=j.useContext(bN),c=j.useContext(Z9),d=j.useContext(yN),u=j.useContext(AP).reducedMotion,A=j.useRef(null);n=n||c.renderer,!A.current&&n&&(A.current=n(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=A.current,m=j.useContext(rV);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&_ae(A.current,r,i,m);const x=j.useRef(!1);j.useInsertionEffect(()=>{f&&x.current&&f.update(r,d)});const g=r[tV],v=j.useRef(!!g&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return vN(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),yP.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),v.current=!1))}),f}function _ae(e,t,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:nV(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&lp(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function nV(e){if(e)return e.options.allowProjection!==!1?e.projection:nV(e.parent)}function Cae({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var a,o;e&&fae(e);function l(d,u){let A;const f={...j.useContext(AP),...d,layoutId:Sae(d)},{isStatic:m}=f,x=vae(d),g=n(d,m);if(!m&&fP){Bae();const v=Eae(f);A=v.MeasureLayout,x.visualElement=Nae(i,g,f,t,v.ProjectionNode)}return s.jsxs(bN.Provider,{value:x,children:[A&&x.visualElement?s.jsx(A,{visualElement:x.visualElement,...f}):null,r(i,d,wae(g,x.visualElement,u),g,m,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=j.forwardRef(l);return c[bae]=i,c}function Sae({layoutId:e}){const t=j.useContext(hP).id;return t&&e!==void 0?t+"-"+e:e}function Bae(e,t){j.useContext(Z9).strict}function Eae(e){const{drag:t,layout:r}=Zp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const kae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vP(e){return typeof e!="string"||e.includes("-")?!1:!!(kae.indexOf(e)>-1||/[A-Z]/u.test(e))}function tL(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function bP(e,t,r,n){if(typeof t=="function"){const[i,a]=tL(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=tL(n);t=t(r!==void 0?r:e.custom,i,a)}return t}const s4=e=>Array.isArray(e),Pae=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Iae=e=>s4(e)?e[e.length-1]||0:e,ca=e=>!!(e&&e.getVelocity);function s1(e){const t=ca(e)?e.get():e;return Pae(t)?t.toValue():t}function Tae({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,a){const o={latestValues:Oae(n,i,a,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const sV=e=>(t,r)=>{const n=j.useContext(bN),i=j.useContext(yN),a=()=>Tae(e,t,n,i);return r?a():jv(a)};function Oae(e,t,r,n){const i={},a=n(e,{});for(const f in a)i[f]=s1(a[f]);let{initial:o,animate:l}=e;const c=jN(e),d=eV(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const A=u?l:o;if(A&&typeof A!="boolean"&&!wN(A)){const f=Array.isArray(A)?A:[A];for(let m=0;m<f.length;m++){const x=bP(e,f[m]);if(x){const{transitionEnd:g,transition:v,...y}=x;for(const b in y){let w=y[b];if(Array.isArray(w)){const _=u?w.length-1:0;w=w[_]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}}}return i}const Ug=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nm=new Set(Ug),iV=e=>t=>typeof t=="string"&&t.startsWith(e),aV=iV("--"),Lae=iV("var(--"),wP=e=>Lae(e)?Fae.test(e.split("/*")[0].trim()):!1,Fae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,sd=(e,t,r)=>r>t?t:r<e?e:r,Rg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yy={...Rg,transform:e=>sd(0,1,e)},Mb={...Rg,default:1},Nv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),rh=Nv("deg"),Gc=Nv("%"),sr=Nv("px"),Uae=Nv("vh"),Rae=Nv("vw"),rL={...Gc,parse:e=>Gc.parse(e)/100,transform:e=>Gc.transform(e*100)},Dae={borderWidth:sr,borderTopWidth:sr,borderRightWidth:sr,borderBottomWidth:sr,borderLeftWidth:sr,borderRadius:sr,radius:sr,borderTopLeftRadius:sr,borderTopRightRadius:sr,borderBottomRightRadius:sr,borderBottomLeftRadius:sr,width:sr,maxWidth:sr,height:sr,maxHeight:sr,top:sr,right:sr,bottom:sr,left:sr,padding:sr,paddingTop:sr,paddingRight:sr,paddingBottom:sr,paddingLeft:sr,margin:sr,marginTop:sr,marginRight:sr,marginBottom:sr,marginLeft:sr,backgroundPositionX:sr,backgroundPositionY:sr},Mae={rotate:rh,rotateX:rh,rotateY:rh,rotateZ:rh,scale:Mb,scaleX:Mb,scaleY:Mb,scaleZ:Mb,skew:rh,skewX:rh,skewY:rh,distance:sr,translateX:sr,translateY:sr,translateZ:sr,x:sr,y:sr,z:sr,perspective:sr,transformPerspective:sr,opacity:yy,originX:rL,originY:rL,originZ:sr},nL={...Rg,transform:Math.round},jP={...Dae,...Mae,zIndex:nL,size:sr,fillOpacity:yy,strokeOpacity:yy,numOctaves:nL},Qae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$ae=Ug.length;function Hae(e,t,r){let n="",i=!0;for(let a=0;a<$ae;a++){const o=Ug[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=oV(l,jP[o]);if(!c){i=!1;const u=Qae[o]||o;n+=`${u}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function NP(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(nm.has(c)){o=!0;continue}else if(aV(c)){i[c]=d;continue}else{const u=oV(d,jP[c]);c.startsWith("origin")?(l=!0,a[c]=u):n[c]=u}}if(t.transform||(o||r?n.transform=Hae(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}const Vae={offset:"stroke-dashoffset",array:"stroke-dasharray"},zae={offset:"strokeDashoffset",array:"strokeDasharray"};function Kae(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?Vae:zae;e[a.offset]=sr.transform(-n);const o=sr.transform(t),l=sr.transform(r);e[a.array]=`${o} ${l}`}function sL(e,t,r){return typeof e=="string"?e:sr.transform(t+r*e)}function Wae(e,t,r){const n=sL(t,e.x,e.width),i=sL(r,e.y,e.height);return`${n} ${i}`}function _P(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,A){if(NP(e,d,A),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:x}=e;f.transform&&(x&&(m.transform=f.transform),delete f.transform),x&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=Wae(x,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&Kae(f,o,l,c,!1)}const CP=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),lV=()=>({...CP(),attrs:{}}),SP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cV(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const dV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uV(e,t,r,n){cV(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(dV.has(i)?i:xP(i),t.attrs[i])}const c2={};function Gae(e){Object.assign(c2,e)}function hV(e,{layout:t,layoutId:r}){return nm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!c2[e]||e==="opacity")}function BP(e,t,r){var n;const{style:i}=e,a={};for(const o in i)(ca(i[o])||t.style&&ca(t.style[o])||hV(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function AV(e,t,r){const n=BP(e,t,r);for(const i in e)if(ca(e[i])||ca(t[i])){const a=Ug.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}function qae(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const iL=["x","y","width","height","cx","cy","r"],Yae={useVisualState:sV({scrapeMotionValuesFromProps:AV,createRenderState:lV,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let a=!!e.drag;if(!a){for(const l in i)if(nm.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<iL.length;l++){const c=iL[l];e[c]!==t[c]&&(o=!0)}o&&cn.read(()=>{qae(r,n),cn.render(()=>{_P(n,i,SP(r.tagName),e.transformTemplate),uV(r,n)})})}})},Xae={useVisualState:sV({scrapeMotionValuesFromProps:BP,createRenderState:CP})};function fV(e,t,r){for(const n in t)!ca(t[n])&&!hV(n,r)&&(e[n]=t[n])}function Zae({transformTemplate:e},t){return j.useMemo(()=>{const r=CP();return NP(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Jae(e,t){const r=e.style||{},n={};return fV(n,r,e),Object.assign(n,Zae(e,t)),n}function eoe(e,t){const r={},n=Jae(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function toe(e,t,r,n){const i=j.useMemo(()=>{const a=lV();return _P(a,t,SP(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};fV(a,e.style,e),i.style={...a,...i.style}}return i}function roe(e=!1){return(r,n,i,{latestValues:a},o)=>{const c=(vP(r)?toe:eoe)(n,a,o,r),d=gae(n,typeof r=="string",e),u=r!==j.Fragment?{...d,...c,ref:i}:{},{children:A}=n,f=j.useMemo(()=>ca(A)?A.get():A,[A]);return j.createElement(r,{...u,children:f})}}function noe(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...vP(n)?Yae:Xae,preloadedFeatures:e,useRender:roe(i),createVisualElement:t,Component:n};return Cae(o)}}function mV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function NN(e,t,r){const n=e.getProps();return bP(n,t,r!==void 0?r:n.custom,e)}const pV=mP(()=>window.ScrollTimeline!==void 0);class soe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>{if(pV()&&i.attachTimeline)return i.attachTimeline(t);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ioe extends soe{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function EP(e,t){return e?e[t]||e.default||e:void 0}const i4=2e4;function gV(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<i4;)t+=r,n=e.next(t);return t>=i4?1/0:t}function kP(e){return typeof e=="function"}function aL(e,t){e.timeline=t,e.onfinish=null}const PP=e=>Array.isArray(e)&&typeof e[0]=="number",aoe={linearEasing:void 0};function ooe(e,t){const r=mP(e);return()=>{var n;return(n=aoe[t])!==null&&n!==void 0?n:r()}}const d2=ooe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xV=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=e(Pf(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function yV(e){return!!(typeof e=="function"&&d2()||!e||typeof e=="string"&&(e in a4||d2())||PP(e)||Array.isArray(e)&&e.every(yV))}const ox=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,a4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ox([0,.65,.55,1]),circOut:ox([.55,0,1,.45]),backIn:ox([.31,.01,.66,-.59]),backOut:ox([.33,1.53,.69,.99])};function vV(e,t){if(e)return typeof e=="function"&&d2()?xV(e,t):PP(e)?ox(e):Array.isArray(e)?e.map(r=>vV(r,t)||a4.easeOut):a4[e]}const Wl={x:!1,y:!1};function bV(){return Wl.x||Wl.y}function IP(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function wV(e,t){const r=IP(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function oL(e){return t=>{t.pointerType==="touch"||bV()||e(t)}}function loe(e,t,r={}){const[n,i,a]=wV(e,r),o=oL(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=oL(A=>{d(A),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const jV=(e,t)=>t?e===t?!0:jV(e,t.parentElement):!1,TP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,coe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function doe(e){return coe.has(e.tagName)||e.tabIndex!==-1}const lx=new WeakSet;function lL(e){return t=>{t.key==="Enter"&&e(t)}}function Y_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const uoe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=lL(()=>{if(lx.has(r))return;Y_(r,"down");const i=lL(()=>{Y_(r,"up")}),a=()=>Y_(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function cL(e){return TP(e)&&!bV()}function hoe(e,t,r={}){const[n,i,a]=wV(e,r),o=l=>{const c=l.currentTarget;if(!cL(l)||lx.has(c))return;lx.add(c);const d=t(l),u=(m,x)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",f),!(!cL(m)||!lx.has(c))&&(lx.delete(c),typeof d=="function"&&d(m,{success:x}))},A=m=>{u(m,r.useGlobalTarget||jV(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",A,i),window.addEventListener("pointercancel",f,i)};return n.forEach(l=>{!doe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",d=>uoe(d,i),i)}),a}function Aoe(e){return e==="x"||e==="y"?Wl[e]?null:(Wl[e]=!0,()=>{Wl[e]=!1}):Wl.x||Wl.y?null:(Wl.x=Wl.y=!0,()=>{Wl.x=Wl.y=!1})}const NV=new Set(["width","height","top","left","right","bottom",...Ug]);let i1;function foe(){i1=void 0}const qc={now:()=>(i1===void 0&&qc.set(vi.isProcessing||uae.useManualTiming?vi.timestamp:performance.now()),i1),set:e=>{i1=e,queueMicrotask(foe)}};function OP(e,t){e.indexOf(t)===-1&&e.push(t)}function LP(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class FP{constructor(){this.subscriptions=[]}add(t){return OP(this.subscriptions,t),()=>LP(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function UP(e,t){return t?e*(1e3/t):0}const dL=30,moe=e=>!isNaN(parseFloat(e));class poe{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=qc.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=qc.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=moe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new FP);const n=this.events[t].add(r);return t==="change"?()=>{n(),cn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dL)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,dL);return UP(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $d(e,t){return new poe(e,t)}function goe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,$d(r))}function RP(e,t){const r=NN(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const l=Iae(a[o]);goe(e,o,l)}}function xoe(e){return!!(ca(e)&&e.add)}function o4(e,t){const r=e.getValue("willChange");if(xoe(r))return r.add(t)}function _V(e){return e.props[tV]}const CV=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,yoe=1e-7,voe=12;function boe(e,t,r,n,i){let a,o,l=0;do o=t+(r-t)/2,a=CV(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>yoe&&++l<voe);return o}function _v(e,t,r,n){if(e===t&&r===n)return Ba;const i=a=>boe(a,0,1,e,r);return a=>a===0||a===1?a:CV(i(a),t,n)}const SV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,BV=e=>t=>1-e(1-t),EV=_v(.33,1.53,.69,.99),DP=BV(EV),kV=SV(DP),PV=e=>(e*=2)<1?.5*DP(e):.5*(2-Math.pow(2,-10*(e-1))),MP=e=>1-Math.sin(Math.acos(e)),IV=BV(MP),TV=SV(MP),OV=e=>/^0[^.\s]+$/u.test(e);function woe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||OV(e):!0}const Px=e=>Math.round(e*1e5)/1e5,QP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function joe(e){return e==null}const Noe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$P=(e,t)=>r=>!!(typeof r=="string"&&Noe.test(r)&&r.startsWith(e)||t&&!joe(r)&&Object.prototype.hasOwnProperty.call(r,t)),LV=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(QP);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},_oe=e=>sd(0,255,e),X_={...Rg,transform:e=>Math.round(_oe(e))},ZA={test:$P("rgb","red"),parse:LV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+X_.transform(e)+", "+X_.transform(t)+", "+X_.transform(r)+", "+Px(yy.transform(n))+")"};function Coe(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const l4={test:$P("#"),parse:Coe,transform:ZA.transform},cp={test:$P("hsl","hue"),parse:LV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Gc.transform(Px(t))+", "+Gc.transform(Px(r))+", "+Px(yy.transform(n))+")"},ra={test:e=>ZA.test(e)||l4.test(e)||cp.test(e),parse:e=>ZA.test(e)?ZA.parse(e):cp.test(e)?cp.parse(e):l4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ZA.transform(e):cp.transform(e)},Soe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Boe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(QP))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Soe))===null||r===void 0?void 0:r.length)||0)>0}const FV="number",UV="color",Eoe="var",koe="var(",uL="${}",Poe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vy(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(Poe,c=>(ra.test(c)?(n.color.push(a),i.push(UV),r.push(ra.parse(c))):c.startsWith(koe)?(n.var.push(a),i.push(Eoe),r.push(c)):(n.number.push(a),i.push(FV),r.push(parseFloat(c))),++a,uL)).split(uL);return{values:r,split:l,indexes:n,types:i}}function RV(e){return vy(e).values}function DV(e){const{split:t,types:r}=vy(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=r[o];l===FV?a+=Px(i[o]):l===UV?a+=ra.transform(i[o]):a+=i[o]}return a}}const Ioe=e=>typeof e=="number"?0:e;function Toe(e){const t=RV(e);return DV(e)(t.map(Ioe))}const Kh={test:Boe,parse:RV,createTransformer:DV,getAnimatableNone:Toe},Ooe=new Set(["brightness","contrast","saturate","opacity"]);function Loe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(QP)||[];if(!n)return e;const i=r.replace(n,"");let a=Ooe.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const Foe=/\b([a-z-]*)\(.*?\)/gu,c4={...Kh,getAnimatableNone:e=>{const t=e.match(Foe);return t?t.map(Loe).join(" "):e}},Uoe={...jP,color:ra,backgroundColor:ra,outlineColor:ra,fill:ra,stroke:ra,borderColor:ra,borderTopColor:ra,borderRightColor:ra,borderBottomColor:ra,borderLeftColor:ra,filter:c4,WebkitFilter:c4},HP=e=>Uoe[e];function MV(e,t){let r=HP(e);return r!==c4&&(r=Kh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Roe=new Set(["auto","none","0"]);function Doe(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!Roe.has(a)&&vy(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=MV(r,i)}const hL=e=>e===Rg||e===sr,AL=(e,t)=>parseFloat(e.split(", ")[t]),fL=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return AL(i[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?AL(a[1],e):0}},Moe=new Set(["x","y","z"]),Qoe=Ug.filter(e=>!Moe.has(e));function $oe(e){const t=[];return Qoe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Jp={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:fL(4,13),y:fL(5,14)};Jp.translateX=Jp.x;Jp.translateY=Jp.y;const Af=new Set;let d4=!1,u4=!1;function QV(){if(u4){const e=Array.from(Af).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=$oe(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}u4=!1,d4=!1,Af.forEach(e=>e.complete()),Af.clear()}function $V(){Af.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(u4=!0)})}function Hoe(){$V(),QV()}class VP{constructor(t,r,n,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Af.add(this),d4||(d4=!0,cn.read($V),cn.resolveKeyframes(QV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Af.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Af.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const HV=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Voe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zoe(e){const t=Voe.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function VV(e,t,r=1){const[n,i]=zoe(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return HV(o)?parseFloat(o):o}return wP(i)?VV(i,t,r+1):i}const zV=e=>t=>t.test(e),Koe={test:e=>e==="auto",parse:e=>e},KV=[Rg,sr,Gc,rh,Rae,Uae,Koe],mL=e=>KV.find(zV(e));class WV extends VP{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),wP(d))){const u=VV(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!NV.has(n)||t.length!==2)return;const[i,a]=t,o=mL(i),l=mL(a);if(o!==l)if(hL(o)&&hL(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)woe(t[i])&&n.push(i);n.length&&Doe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jp[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Jp[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const pL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Kh.test(e)||e==="0")&&!e.startsWith("url("));function Woe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Goe(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=pL(i,t),l=pL(a,t);return!o||!l?!1:Woe(e)||(r==="spring"||kP(r))&&n}const qoe=e=>e!==null;function _N(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(qoe),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const Yoe=40;class GV{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qc.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Yoe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Hoe(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=qc.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!Goe(t,n,i,a))if(o)this.options.duration=0;else{c&&c(_N(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const fs=(e,t,r)=>e+(t-e)*r;function Z_(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Xoe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,o=0;if(!t)i=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Z_(c,l,e+1/3),a=Z_(c,l,e),o=Z_(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function u2(e,t){return r=>r>0?t:e}const J_=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},Zoe=[l4,ZA,cp],Joe=e=>Zoe.find(t=>t.test(e));function gL(e){const t=Joe(e);if(!t)return!1;let r=t.parse(e);return t===cp&&(r=Xoe(r)),r}const xL=(e,t)=>{const r=gL(e),n=gL(t);if(!r||!n)return u2(e,t);const i={...r};return a=>(i.red=J_(r.red,n.red,a),i.green=J_(r.green,n.green,a),i.blue=J_(r.blue,n.blue,a),i.alpha=fs(r.alpha,n.alpha,a),ZA.transform(i))},ele=(e,t)=>r=>t(e(r)),Cv=(...e)=>e.reduce(ele),h4=new Set(["none","hidden"]);function tle(e,t){return h4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function rle(e,t){return r=>fs(e,t,r)}function zP(e){return typeof e=="number"?rle:typeof e=="string"?wP(e)?u2:ra.test(e)?xL:ile:Array.isArray(e)?qV:typeof e=="object"?ra.test(e)?xL:nle:u2}function qV(e,t){const r=[...e],n=r.length,i=e.map((a,o)=>zP(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function nle(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=zP(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function sle(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][i[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[a]=c,i[o]++}return n}const ile=(e,t)=>{const r=Kh.createTransformer(t),n=vy(e),i=vy(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?h4.has(e)&&!i.values.length||h4.has(t)&&!n.values.length?tle(e,t):Cv(qV(sle(n,i),i.values),r):u2(e,t)};function YV(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?fs(e,t,r):zP(e)(e,t)}const ale=5;function XV(e,t,r){const n=Math.max(t-ale,0);return UP(r-e(n),t-n)}const Ss={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eC=.001;function ole({duration:e=Ss.duration,bounce:t=Ss.bounce,velocity:r=Ss.velocity,mass:n=Ss.mass}){let i,a,o=1-t;o=sd(Ss.minDamping,Ss.maxDamping,o),e=sd(Ss.minDuration,Ss.maxDuration,Jd(e)),o<1?(i=d=>{const u=d*o,A=u*e,f=u-r,m=A4(d,o),x=Math.exp(-A);return eC-f/m*x},a=d=>{const A=d*o*e,f=A*r+r,m=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-A),g=A4(Math.pow(d,2),o);return(-i(d)+eC>0?-1:1)*((f-m)*x)/g}):(i=d=>{const u=Math.exp(-d*e),A=(d-r)*e+1;return-eC+u*A},a=d=>{const u=Math.exp(-d*e),A=(r-d)*(e*e);return u*A});const l=5/e,c=cle(i,a,l);if(e=Zd(e),isNaN(c))return{stiffness:Ss.stiffness,damping:Ss.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const lle=12;function cle(e,t,r){let n=r;for(let i=1;i<lle;i++)n=n-e(n)/t(n);return n}function A4(e,t){return e*Math.sqrt(1-t*t)}const dle=["duration","bounce"],ule=["stiffness","damping","mass"];function yL(e,t){return t.some(r=>e[r]!==void 0)}function hle(e){let t={velocity:Ss.velocity,stiffness:Ss.stiffness,damping:Ss.damping,mass:Ss.mass,isResolvedFromDuration:!1,...e};if(!yL(e,ule)&&yL(e,dle))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*sd(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ss.mass,stiffness:i,damping:a}}else{const r=ole(e);t={...t,...r,mass:Ss.mass},t.isResolvedFromDuration=!0}return t}function ZV(e=Ss.visualDuration,t=Ss.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:A,velocity:f,isResolvedFromDuration:m}=hle({...r,velocity:-Jd(r.velocity||0)}),x=f||0,g=d/(2*Math.sqrt(c*u)),v=o-a,y=Jd(Math.sqrt(c/u)),b=Math.abs(v)<5;n||(n=b?Ss.restSpeed.granular:Ss.restSpeed.default),i||(i=b?Ss.restDelta.granular:Ss.restDelta.default);let w;if(g<1){const N=A4(y,g);w=C=>{const P=Math.exp(-g*y*C);return o-P*((x+g*y*v)/N*Math.sin(N*C)+v*Math.cos(N*C))}}else if(g===1)w=N=>o-Math.exp(-y*N)*(v+(x+y*v)*N);else{const N=y*Math.sqrt(g*g-1);w=C=>{const P=Math.exp(-g*y*C),E=Math.min(N*C,300);return o-P*((x+g*y*v)*Math.sinh(E)+N*v*Math.cosh(E))/N}}const _={calculatedDuration:m&&A||null,next:N=>{const C=w(N);if(m)l.done=N>=A;else{let P=0;g<1&&(P=N===0?Zd(x):XV(w,N,C));const E=Math.abs(P)<=n,I=Math.abs(o-C)<=i;l.done=E&&I}return l.value=l.done?o:C,l},toString:()=>{const N=Math.min(gV(_),i4),C=xV(P=>_.next(N*P).value,N,30);return N+"ms "+C}};return _}function vL({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const A=e[0],f={done:!1,value:A},m=E=>l!==void 0&&E<l||c!==void 0&&E>c,x=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let g=r*t;const v=A+g,y=o===void 0?v:o(v);y!==v&&(g=y-A);const b=E=>-g*Math.exp(-E/n),w=E=>y+b(E),_=E=>{const I=b(E),F=w(E);f.done=Math.abs(I)<=d,f.value=f.done?y:F};let N,C;const P=E=>{m(f.value)&&(N=E,C=ZV({keyframes:[f.value,x(f.value)],velocity:XV(w,E,f.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:E=>{let I=!1;return!C&&N===void 0&&(I=!0,_(E),P(E)),N!==void 0&&E>=N?C.next(E-N):(!I&&_(E),f)}}}const Ale=_v(.42,0,1,1),fle=_v(0,0,.58,1),JV=_v(.42,0,.58,1),mle=e=>Array.isArray(e)&&typeof e[0]!="number",ple={linear:Ba,easeIn:Ale,easeInOut:JV,easeOut:fle,circIn:MP,circInOut:TV,circOut:IV,backIn:DP,backInOut:kV,backOut:EV,anticipate:PV},bL=e=>{if(PP(e)){Y9(e.length===4);const[t,r,n,i]=e;return _v(t,r,n,i)}else if(typeof e=="string")return ple[e];return e};function gle(e,t,r){const n=[],i=r||YV,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ba:t;l=Cv(c,l)}n.push(l)}return n}function ez(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(Y9(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=gle(t,n,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let A=0;if(c>1)for(;A<e.length-2&&!(u<e[A+1]);A++);const f=Pf(e[A],e[A+1],u);return l[A](f)};return r?u=>d(sd(e[0],e[a-1],u)):d}function xle(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Pf(0,t,n);e.push(fs(r,1,i))}}function tz(e){const t=[0];return xle(t,e.length-1),t}function yle(e,t){return e.map(r=>r*t)}function vle(e,t){return e.map(()=>t||JV).splice(0,e.length-1)}function h2({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=mle(n)?n.map(bL):bL(n),a={done:!1,value:t[0]},o=yle(r&&r.length===t.length?r:tz(t),e),l=ez(o,t,{ease:Array.isArray(i)?i:vle(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const ble=e=>{const t=({timestamp:r})=>e(r);return{start:()=>cn.update(t,!0),stop:()=>nd(t),now:()=>vi.isProcessing?vi.timestamp:qc.now()}},wle={decay:vL,inertia:vL,tween:h2,keyframes:h2,spring:ZV},jle=e=>e/100;class KP extends GV{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||VP,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=kP(r)?r:wle[r]||h2;let c,d;l!==h2&&typeof t[0]!="number"&&(c=Cv(jle,YV(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});a==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=gV(u));const{calculatedDuration:A}=u,f=A+i,m=f*(n+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:A,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:A}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:x,repeatDelay:g,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,_=a;if(m){const E=Math.min(this.currentTime,u)/A;let I=Math.floor(E),F=E%1;!F&&E>=1&&(F=1),F===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(x==="reverse"?(F=1-F,g&&(F-=g/A)):x==="mirror"&&(_=o)),w=sd(0,1,F)*A}const N=b?{done:!1,value:c[0]}:_.next(w);l&&(N.value=l(N.value));let{done:C}=N;!b&&d!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return P&&i!==void 0&&(N.value=_N(c,this.options,i)),v&&v(N.value),P&&this.finish(),N}get duration(){const{resolved:t}=this;return t?Jd(t.calculatedDuration):0}get time(){return Jd(this.currentTime)}set time(t){t=Zd(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Jd(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=ble,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Nle=new Set(["opacity","clipPath","filter","transform"]);function _le(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=vV(l,i);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Cle=mP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),A2=10,Sle=2e4;function Ble(e){return kP(e.type)||e.type==="spring"||!yV(e.ease)}function Ele(e,t){const r=new KP({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let a=0;for(;!n.done&&a<Sle;)n=r.sample(a),i.push(n.value),a+=A2;return{times:void 0,keyframes:i,duration:a-A2,ease:"linear"}}const rz={anticipate:PV,backInOut:kV,circInOut:TV};function kle(e){return e in rz}class wL extends GV{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new WV(a,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&d2()&&kle(a)&&(a=rz[a]),Ble(this.options)){const{onComplete:A,onUpdate:f,motionValue:m,element:x,...g}=this.options,v=Ele(t,g);t=v.keyframes,t.length===1&&(t[1]=t[0]),n=v.duration,i=v.times,a=v.ease,o="keyframes"}const u=_le(l.owner.current,c,t,{...this.options,duration:n,times:i,ease:a});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(aL(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:A}=this.options;l.set(_N(t,this.options,r)),A&&A(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:i,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Jd(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Jd(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Zd(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Ba;const{animation:n}=r;aL(n,t)}return Ba}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:a,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:A,element:f,...m}=this.options,x=new KP({...m,keyframes:n,duration:i,type:a,ease:o,times:l,isGenerator:!0}),g=Zd(this.time);d.setWithVelocity(x.sample(g-A2).value,x.sample(g).value,A2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:a,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=r.owner.getProps();return Cle()&&n&&Nle.has(n)&&!c&&!d&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Ple={type:"spring",stiffness:500,damping:25,restSpeed:10},Ile=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Tle={type:"keyframes",duration:.8},Ole={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lle=(e,{keyframes:t})=>t.length>2?Tle:nm.has(e)?e.startsWith("scale")?Ile(t[1]):Ple:Ole;function Fle({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const WP=(e,t,r,n={},i,a)=>o=>{const l=EP(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Zd(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};Fle(l)||(u={...u,...Lle(e,u)}),u.duration&&(u.duration=Zd(u.duration)),u.repeatDelay&&(u.repeatDelay=Zd(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let A=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(A=!0)),A&&!a&&t.get()!==void 0){const f=_N(u.keyframes,l);if(f!==void 0)return cn.update(()=>{u.onUpdate(f),u.onComplete()}),new ioe([])}return!a&&wL.supports(u)?new wL(u):new KP(u)};function Ule({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function nz(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const A in c){const f=e.getValue(A,(a=e.latestValues[A])!==null&&a!==void 0?a:null),m=c[A];if(m===void 0||u&&Ule(u,A))continue;const x={delay:r,...EP(o||{},A)};let g=!1;if(window.MotionHandoffAnimation){const y=_V(e);if(y){const b=window.MotionHandoffAnimation(y,A,cn);b!==null&&(x.startTime=b,g=!0)}}o4(e,A),f.start(WP(A,f,m,e.shouldReduceMotion&&NV.has(A)?{type:!1}:x,e,g));const v=f.animation;v&&d.push(v)}return l&&Promise.all(d).then(()=>{cn.update(()=>{l&&RP(e,l)})}),d}function f4(e,t,r={}){var n;const i=NN(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const o=i?()=>Promise.all(nz(e,i,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:A,staggerDirection:f}=a;return Rle(e,t,u+d,A,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function Rle(e,t,r=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(Dle).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(f4(d,t,{...a,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function Dle(e,t){return e.sortNodePosition(t)}function sz(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>f4(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=f4(e,t,r);else{const i=typeof t=="function"?NN(e,t,r.custom):t;n=Promise.all(nz(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Mle=gP.length;function iz(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?iz(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Mle;r++){const n=gP[r],i=e.props[n];(xy(i)||i===!1)&&(t[n]=i)}return t}const Qle=[...pP].reverse(),$le=pP.length;function Hle(e){return t=>Promise.all(t.map(({animation:r,options:n})=>sz(e,r,n)))}function Vle(e){let t=Hle(e),r=jL(),n=!0;const i=c=>(d,u)=>{var A;const f=NN(e,u,c==="exit"?(A=e.presenceContext)===null||A===void 0?void 0:A.custom:void 0);if(f){const{transition:m,transitionEnd:x,...g}=f;d={...d,...g,...x}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=iz(e.parent)||{},A=[],f=new Set;let m={},x=1/0;for(let v=0;v<$le;v++){const y=Qle[v],b=r[y],w=d[y]!==void 0?d[y]:u[y],_=xy(w),N=y===c?b.isActive:null;N===!1&&(x=v);let C=w===u[y]&&w!==d[y]&&_;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...m},!b.isActive&&N===null||!w&&!b.prevProp||wN(w)||typeof w=="boolean")continue;const P=zle(b.prevProp,w);let E=P||y===c&&b.isActive&&!C&&_||v>x&&_,I=!1;const F=Array.isArray(w)?w:[w];let B=F.reduce(i(y),{});N===!1&&(B={});const{prevResolvedValues:O={}}=b,R={...O,...B},U=H=>{E=!0,f.has(H)&&(I=!0,f.delete(H)),b.needsAnimating[H]=!0;const z=e.getValue(H);z&&(z.liveStyle=!1)};for(const H in R){const z=B[H],te=O[H];if(m.hasOwnProperty(H))continue;let ee=!1;s4(z)&&s4(te)?ee=!mV(z,te):ee=z!==te,ee?z!=null?U(H):f.add(H):z!==void 0&&f.has(H)?U(H):b.protectedKeys[H]=!0}b.prevProp=w,b.prevResolvedValues=B,b.isActive&&(m={...m,...B}),n&&e.blockInitialAnimation&&(E=!1),E&&(!(C&&P)||I)&&A.push(...F.map(H=>({animation:H,options:{type:y}})))}if(f.size){const v={};f.forEach(y=>{const b=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=b??null}),A.push({animation:v})}let g=!!A.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(A):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,d)}),r[c].isActive=d;const A=o(c);for(const f in r)r[f].protectedKeys={};return A}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=jL(),n=!0}}}function zle(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mV(t,e):!1}function PA(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jL(){return{animate:PA(!0),whileInView:PA(),whileHover:PA(),whileTap:PA(),whileDrag:PA(),whileFocus:PA(),exit:PA()}}class lA{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Kle extends lA{constructor(t){super(t),t.animationState||(t.animationState=Vle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Wle=0;class Gle extends lA{constructor(){super(...arguments),this.id=Wle++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const qle={animation:{Feature:Kle},exit:{Feature:Gle}};function by(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Sv(e){return{point:{x:e.pageX,y:e.pageY}}}const Yle=e=>t=>TP(t)&&e(t,Sv(t));function Ix(e,t,r,n){return by(e,t,Yle(r),n)}const NL=(e,t)=>Math.abs(e-t);function Xle(e,t){const r=NL(e.x,t.x),n=NL(e.y,t.y);return Math.sqrt(r**2+n**2)}class az{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=rC(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Xle(A.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=A,{timestamp:g}=vi;this.history.push({...x,timestamp:g});const{onStart:v,onMove:y}=this.handlers;f||(v&&v(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,A)},this.handlePointerMove=(A,f)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=tC(f,this.transformPagePoint),cn.update(this.updatePoint,!0)},this.handlePointerUp=(A,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=rC(A.type==="pointercancel"?this.lastMoveEventInfo:tC(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(A,v),x&&x(A,v)},!TP(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=Sv(t),l=tC(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=vi;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,rC(l,this.history)),this.removeListeners=Cv(Ix(this.contextWindow,"pointermove",this.handlePointerMove),Ix(this.contextWindow,"pointerup",this.handlePointerUp),Ix(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nd(this.updatePoint)}}function tC(e,t){return t?{point:t(e.point)}:e}function _L(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rC({point:e},t){return{point:e,delta:_L(e,oz(t)),offset:_L(e,Zle(t)),velocity:Jle(t,.1)}}function Zle(e){return e[0]}function oz(e){return e[e.length-1]}function Jle(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=oz(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Zd(t)));)r--;if(!n)return{x:0,y:0};const a=Jd(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const lz=1e-4,ece=1-lz,tce=1+lz,cz=.01,rce=0-cz,nce=0+cz;function Io(e){return e.max-e.min}function sce(e,t,r){return Math.abs(e-t)<=r}function CL(e,t,r,n=.5){e.origin=n,e.originPoint=fs(t.min,t.max,e.origin),e.scale=Io(r)/Io(t),e.translate=fs(r.min,r.max,e.origin)-e.originPoint,(e.scale>=ece&&e.scale<=tce||isNaN(e.scale))&&(e.scale=1),(e.translate>=rce&&e.translate<=nce||isNaN(e.translate))&&(e.translate=0)}function Tx(e,t,r,n){CL(e.x,t.x,r.x,n?n.originX:void 0),CL(e.y,t.y,r.y,n?n.originY:void 0)}function SL(e,t,r){e.min=r.min+t.min,e.max=e.min+Io(t)}function ice(e,t,r){SL(e.x,t.x,r.x),SL(e.y,t.y,r.y)}function BL(e,t,r){e.min=t.min-r.min,e.max=e.min+Io(t)}function Ox(e,t,r){BL(e.x,t.x,r.x),BL(e.y,t.y,r.y)}function ace(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?fs(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?fs(r,e,n.max):Math.min(e,r)),e}function EL(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function oce(e,{top:t,left:r,bottom:n,right:i}){return{x:EL(e.x,r,i),y:EL(e.y,t,n)}}function kL(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function lce(e,t){return{x:kL(e.x,t.x),y:kL(e.y,t.y)}}function cce(e,t){let r=.5;const n=Io(e),i=Io(t);return i>n?r=Pf(t.min,t.max-n,e.min):n>i&&(r=Pf(e.min,e.max-i,t.min)),sd(0,1,r)}function dce(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const m4=.35;function uce(e=m4){return e===!1?e=0:e===!0&&(e=m4),{x:PL(e,"left","right"),y:PL(e,"top","bottom")}}function PL(e,t,r){return{min:IL(e,t),max:IL(e,r)}}function IL(e,t){return typeof e=="number"?e:e[t]||0}const TL=()=>({translate:0,scale:1,origin:0,originPoint:0}),dp=()=>({x:TL(),y:TL()}),OL=()=>({min:0,max:0}),Us=()=>({x:OL(),y:OL()});function el(e){return[e("x"),e("y")]}function dz({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function hce({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ace(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function nC(e){return e===void 0||e===1}function p4({scale:e,scaleX:t,scaleY:r}){return!nC(e)||!nC(t)||!nC(r)}function RA(e){return p4(e)||uz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uz(e){return LL(e.x)||LL(e.y)}function LL(e){return e&&e!=="0%"}function f2(e,t,r){const n=e-r,i=t*n;return r+i}function FL(e,t,r,n,i){return i!==void 0&&(e=f2(e,i,n)),f2(e,r,n)+t}function g4(e,t=0,r=1,n,i){e.min=FL(e.min,t,r,n,i),e.max=FL(e.max,t,r,n,i)}function hz(e,{x:t,y:r}){g4(e.x,t.translate,t.scale,t.originPoint),g4(e.y,r.translate,r.scale,r.originPoint)}const UL=.999999999999,RL=1.0000000000001;function fce(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hp(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,hz(e,o)),n&&RA(a.latestValues)&&hp(e,a.latestValues))}t.x<RL&&t.x>UL&&(t.x=1),t.y<RL&&t.y>UL&&(t.y=1)}function up(e,t){e.min=e.min+t,e.max=e.max+t}function DL(e,t,r,n,i=.5){const a=fs(e.min,e.max,i);g4(e,t,r,a,n)}function hp(e,t){DL(e.x,t.x,t.scaleX,t.scale,t.originX),DL(e.y,t.y,t.scaleY,t.scale,t.originY)}function Az(e,t){return dz(Ace(e.getBoundingClientRect(),t))}function mce(e,t,r){const n=Az(e,r),{scroll:i}=t;return i&&(up(n.x,i.offset.x),up(n.y,i.offset.y)),n}const fz=({current:e})=>e?e.ownerDocument.defaultView:null,pce=new WeakMap;class gce{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Us(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Sv(u).point)},a=(u,A)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Aoe(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),el(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Gc.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(y=Io(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),x&&cn.postRender(()=>x(u,A)),o4(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,A)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=A;if(m&&this.currentDirection===null){this.currentDirection=xce(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",A.point,v),this.updateAxis("y",A.point,v),this.visualElement.render(),g&&g(u,A)},l=(u,A)=>this.stop(u,A),c=()=>el(u=>{var A;return this.getAnimationState(u)==="paused"&&((A=this.getAxisMotionValue(u).animation)===null||A===void 0?void 0:A.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new az(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:fz(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&cn.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Qb(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=ace(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&lp(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=oce(i.layoutBox,r):this.constraints=!1,this.elastic=uce(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&el(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dce(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!lp(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=mce(n,i.root,this.visualElement.getTransformPagePoint());let o=lce(i.layout.layoutBox,a);if(r){const l=r(hce(o));this.hasMutatedConstraints=!!l,l&&(o=dz(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=el(u=>{if(!Qb(u,r,this.currentDirection))return;let A=c&&c[u]||{};o&&(A={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...A};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return o4(this.visualElement,t),n.start(WP(t,n,0,r,this.visualElement,!1))}stopAnimation(){el(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){el(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){el(r=>{const{drag:n}=this.getProps();if(!Qb(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(t[r]-fs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!lp(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};el(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=cce({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),el(o=>{if(!Qb(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(fs(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;pce.set(this.visualElement,this);const t=this.visualElement.current,r=Ix(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();lp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),cn.read(n);const o=by(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(el(u=>{const A=this.getAxisMotionValue(u);A&&(this.originPoint[u]+=c[u].translate,A.set(A.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=m4,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Qb(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function xce(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class yce extends lA{constructor(t){super(t),this.removeGroupControls=Ba,this.removeListeners=Ba,this.controls=new gce(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ba}unmount(){this.removeGroupControls(),this.removeListeners()}}const ML=e=>(t,r)=>{e&&cn.postRender(()=>e(t,r))};class vce extends lA{constructor(){super(...arguments),this.removePointerDownListener=Ba}onPointerDown(t){this.session=new az(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fz(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:ML(t),onStart:ML(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&cn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Ix(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const a1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const I0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(sr.test(e))e=parseFloat(e);else return e;const r=QL(e,t.target.x),n=QL(e,t.target.y);return`${r}% ${n}%`}},bce={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Kh.parse(e);if(i.length>5)return n;const a=Kh.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=fs(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class wce extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;Gae(jce),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),a1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||cn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mz(e){const[t,r]=q9(),n=j.useContext(hP);return s.jsx(wce,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(rV),isPresent:t,safeToRemove:r})}const jce={borderRadius:{...I0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:I0,borderTopRightRadius:I0,borderBottomLeftRadius:I0,borderBottomRightRadius:I0,boxShadow:bce};function Nce(e,t,r){const n=ca(e)?e:$d(e);return n.start(WP("",n,t,r)),n.animation}function _ce(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Cce=(e,t)=>e.depth-t.depth;class Sce{constructor(){this.children=[],this.isDirty=!1}add(t){OP(this.children,t),this.isDirty=!0}remove(t){LP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Cce),this.isDirty=!1,this.children.forEach(t)}}function Bce(e,t){const r=qc.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(nd(n),e(a-t))};return cn.read(n,!0),()=>nd(n)}const pz=["TopLeft","TopRight","BottomLeft","BottomRight"],Ece=pz.length,$L=e=>typeof e=="string"?parseFloat(e):e,HL=e=>typeof e=="number"||sr.test(e);function kce(e,t,r,n,i,a){i?(e.opacity=fs(0,r.opacity!==void 0?r.opacity:1,Pce(n)),e.opacityExit=fs(t.opacity!==void 0?t.opacity:1,0,Ice(n))):a&&(e.opacity=fs(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Ece;o++){const l=`border${pz[o]}Radius`;let c=VL(t,l),d=VL(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||HL(c)===HL(d)?(e[l]=Math.max(fs($L(c),$L(d),n),0),(Gc.test(d)||Gc.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=fs(t.rotate||0,r.rotate||0,n))}function VL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Pce=gz(0,.5,IV),Ice=gz(.5,.95,Ba);function gz(e,t,r){return n=>n<e?0:n>t?1:r(Pf(e,t,n))}function zL(e,t){e.min=t.min,e.max=t.max}function Yo(e,t){zL(e.x,t.x),zL(e.y,t.y)}function KL(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function WL(e,t,r,n,i){return e-=t,e=f2(e,1/r,n),i!==void 0&&(e=f2(e,1/i,n)),e}function Tce(e,t=0,r=1,n=.5,i,a=e,o=e){if(Gc.test(t)&&(t=parseFloat(t),t=fs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=fs(a.min,a.max,n);e===a&&(l-=t),e.min=WL(e.min,t,r,l,i),e.max=WL(e.max,t,r,l,i)}function GL(e,t,[r,n,i],a,o){Tce(e,t[r],t[n],t[i],t.scale,a,o)}const Oce=["x","scaleX","originX"],Lce=["y","scaleY","originY"];function qL(e,t,r,n){GL(e.x,t,Oce,r?r.x:void 0,n?n.x:void 0),GL(e.y,t,Lce,r?r.y:void 0,n?n.y:void 0)}function YL(e){return e.translate===0&&e.scale===1}function xz(e){return YL(e.x)&&YL(e.y)}function XL(e,t){return e.min===t.min&&e.max===t.max}function Fce(e,t){return XL(e.x,t.x)&&XL(e.y,t.y)}function ZL(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function yz(e,t){return ZL(e.x,t.x)&&ZL(e.y,t.y)}function JL(e){return Io(e.x)/Io(e.y)}function eF(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Uce{constructor(){this.members=[]}add(t){OP(this.members,t),t.scheduleRender()}remove(t){if(LP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rce(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:A,rotateY:f,skewX:m,skewY:x}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),A&&(n+=`rotateX(${A}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const DA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cx=typeof window<"u"&&window.MotionDebug!==void 0,sC=["","X","Y","Z"],Dce={visibility:"hidden"},tF=1e3;let Mce=0;function iC(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function vz(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=_V(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",cn,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&vz(n)}function bz({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Mce++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cx&&(DA.totalNodes=DA.resolvedTargetDeltas=DA.recalculatedProjection=0),this.nodes.forEach(Hce),this.nodes.forEach(Gce),this.nodes.forEach(qce),this.nodes.forEach(Vce),cx&&window.MotionDebug.record(DA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sce)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new FP),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_ce(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let A;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=Bce(f,250),a1.hasAnimatedSinceResize&&(a1.hasAnimatedSinceResize=!1,this.nodes.forEach(nF))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||ede,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),b=!this.targetLayout||!yz(this.targetLayout,x)||m,w=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,w);const _={...EP(g,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||nF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yce),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const A=this.path[u];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rF);return}this.isUpdating||this.nodes.forEach(Kce),this.isUpdating=!1,this.nodes.forEach(Wce),this.nodes.forEach(Qce),this.nodes.forEach($ce),this.clearAllSnapshots();const l=qc.now();vi.delta=sd(0,1e3/60,l-vi.timestamp),vi.timestamp=l,vi.isProcessing=!0,q_.update.process(vi),q_.preRender.process(vi),q_.render.process(vi),vi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zce),this.sharedNodes.forEach(Xce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Us(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!xz(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||RA(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),tde(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Us();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(rde))){const{scroll:u}=this.root;u&&(up(c.x,u.offset.x),up(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=Us();if(Yo(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:A,options:f}=u;u!==this.root&&A&&f.layoutScroll&&(A.wasRoot&&Yo(c,o),up(c.x,A.offset.x),up(c.y,A.offset.y))}return c}applyTransform(o,l=!1){const c=Us();Yo(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&hp(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),RA(u.latestValues)&&hp(c,u.latestValues)}return RA(this.latestValues)&&hp(c,this.latestValues),c}removeTransform(o){const l=Us();Yo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!RA(d.latestValues))continue;p4(d.latestValues)&&d.updateSnapshot();const u=Us(),A=d.measurePageBox();Yo(u,A),qL(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return RA(this.latestValues)&&qL(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:f}=this.options;if(!(!this.layout||!(A||f))){if(this.resolvedRelativeTargetAt=vi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Us(),this.relativeTargetOrigin=Us(),Ox(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Us(),this.targetWithTransforms=Us()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ice(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yo(this.target,this.layout.layoutBox),hz(this.target,this.targetDelta)):Yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Us(),this.relativeTargetOrigin=Us(),Ox(this.relativeTargetOrigin,this.target,m.target),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cx&&DA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||p4(this.parent.latestValues)||uz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===vi.timestamp&&(d=!1),d)return;const{layout:u,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||A))return;Yo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;fce(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Us());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KL(this.prevProjectionDelta.x,this.projectionDelta.x),KL(this.prevProjectionDelta.y,this.projectionDelta.y)),Tx(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!eF(this.projectionDelta.x,this.prevProjectionDelta.x)||!eF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),cx&&DA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dp(),this.projectionDelta=dp(),this.projectionDeltaWithTransform=dp()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},A=dp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Us(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=m!==x,v=this.getStack(),y=!v||v.members.length<=1,b=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(Jce));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const N=_/1e3;sF(A.x,o.x,N),sF(A.y,o.y,N),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ox(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zce(this.relativeTarget,this.relativeTargetOrigin,f,N),w&&Fce(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Us()),Yo(w,this.relativeTarget)),g&&(this.animationValues=u,kce(u,d,this.latestValues,N,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cn.update(()=>{a1.hasAnimatedSinceResize=!0,this.currentAnimation=Nce(0,tF,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&wz(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Us();const A=Io(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+A;const f=Io(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Yo(l,c),hp(l,u),Tx(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Uce),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&iC("z",o,d,this.animationValues);for(let u=0;u<sC.length;u++)iC(`rotate${sC[u]}`,o,d,this.animationValues),iC(`skew${sC[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Dce;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=s1(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=s1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!RA(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=A.animationValues||A.latestValues;this.applyTransformsToTarget(),d.transform=Rce(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:m,y:x}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,A.animationValues?d.opacity=A===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=A===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in c2){if(f[g]===void 0)continue;const{correct:v,applyTo:y}=c2[g],b=d.transform==="none"?f[g]:v(f[g],A);if(y){const w=y.length;for(let _=0;_<w;_++)d[y[_]]=b}else d[g]=b}return this.options.layoutId&&(d.pointerEvents=A===this?s1(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(rF),this.root.sharedNodes.clear()}}}function Qce(e){e.updateLayout()}function $ce(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?el(A=>{const f=o?r.measuredBox[A]:r.layoutBox[A],m=Io(f);f.min=n[A].min,f.max=f.min+m}):wz(a,r.layoutBox,n)&&el(A=>{const f=o?r.measuredBox[A]:r.layoutBox[A],m=Io(n[A]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[A].max=e.relativeTarget[A].min+m)});const l=dp();Tx(l,n,r.layoutBox);const c=dp();o?Tx(c,e.applyTransform(i,!0),r.measuredBox):Tx(c,n,r.layoutBox);const d=!xz(l);let u=!1;if(!e.resumeFrom){const A=e.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:f,layout:m}=A;if(f&&m){const x=Us();Ox(x,r.layoutBox,f.layoutBox);const g=Us();Ox(g,n,m.layoutBox),yz(x,g)||(u=!0),A.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=A)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Hce(e){cx&&DA.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Vce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zce(e){e.clearSnapshot()}function rF(e){e.clearMeasurements()}function Kce(e){e.isLayoutDirty=!1}function Wce(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function nF(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Gce(e){e.resolveTargetDelta()}function qce(e){e.calcProjection()}function Yce(e){e.resetSkewAndRotation()}function Xce(e){e.removeLeadSnapshot()}function sF(e,t,r){e.translate=fs(t.translate,0,r),e.scale=fs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function iF(e,t,r,n){e.min=fs(t.min,r.min,n),e.max=fs(t.max,r.max,n)}function Zce(e,t,r,n){iF(e.x,t.x,r.x,n),iF(e.y,t.y,r.y,n)}function Jce(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ede={duration:.45,ease:[.4,0,.1,1]},aF=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),oF=aF("applewebkit/")&&!aF("chrome/")?Math.round:Ba;function lF(e){e.min=oF(e.min),e.max=oF(e.max)}function tde(e){lF(e.x),lF(e.y)}function wz(e,t,r){return e==="position"||e==="preserve-aspect"&&!sce(JL(t),JL(r),.2)}function rde(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const nde=bz({attachResizeListener:(e,t)=>by(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aC={current:void 0},jz=bz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!aC.current){const e=new nde({});e.mount(window),e.setOptions({layoutScroll:!0}),aC.current=e}return aC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sde={pan:{Feature:vce},drag:{Feature:yce,ProjectionNode:jz,MeasureLayout:mz}};function cF(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&cn.postRender(()=>a(t,Sv(t)))}class ide extends lA{mount(){const{current:t}=this.node;t&&(this.unmount=loe(t,r=>(cF(this.node,r,"Start"),n=>cF(this.node,n,"End"))))}unmount(){}}class ade extends lA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cv(by(this.node.current,"focus",()=>this.onFocus()),by(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dF(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&cn.postRender(()=>a(t,Sv(t)))}class ode extends lA{mount(){const{current:t}=this.node;t&&(this.unmount=hoe(t,r=>(dF(this.node,r,"Start"),(n,{success:i})=>dF(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const x4=new WeakMap,oC=new WeakMap,lde=e=>{const t=x4.get(e.target);t&&t(e)},cde=e=>{e.forEach(lde)};function dde({root:e,...t}){const r=e||document;oC.has(r)||oC.set(r,{});const n=oC.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(cde,{root:e,...t})),n[i]}function ude(e,t,r){const n=dde(t);return x4.set(e,r),n.observe(e),()=>{x4.delete(e),n.unobserve(e)}}const hde={some:0,all:1};class Ade extends lA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:hde[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:A}=this.node.getProps(),f=d?u:A;f&&f(c)};return ude(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(fde(t,r))&&this.startObserver()}unmount(){}}function fde({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const mde={inView:{Feature:Ade},tap:{Feature:ode},focus:{Feature:ade},hover:{Feature:ide}},pde={layout:{ProjectionNode:jz,MeasureLayout:mz}},y4={current:null},Nz={current:!1};function gde(){if(Nz.current=!0,!!fP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>y4.current=e.matches;e.addListener(t),t()}else y4.current=!1}const xde=[...KV,ra,Kh],yde=e=>xde.find(zV(e)),uF=new WeakMap;function vde(e,t,r){for(const n in t){const i=t[n],a=r[n];if(ca(i))e.addValue(n,i);else if(ca(a))e.addValue(n,$d(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,$d(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const hF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bde{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=qc.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,cn.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=jN(r),this.isVariantNode=eV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:A,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const x=f[m];c[m]!==void 0&&ca(x)&&x.set(c[m],!1)}}mount(t){this.current=t,uF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Nz.current||gde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uF.delete(this.current),this.projection&&this.projection.unmount(),nd(this.notifyUpdate),nd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=nm.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&cn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zp){const r=Zp[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Us()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<hF.length;n++){const i=hF[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=vde(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=$d(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(HV(i)||OV(i))?i=parseFloat(i):!yde(i)&&Kh.test(r)&&(i=MV(t,r)),this.setBaseTarget(t,ca(i)?i.get():i)),ca(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=bP(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ca(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new FP),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class _z extends bde{constructor(){super(...arguments),this.KeyframeResolver=WV}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ca(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function wde(e){return window.getComputedStyle(e)}class jde extends _z{constructor(){super(...arguments),this.type="html",this.renderInstance=cV}readValueFromInstance(t,r){if(nm.has(r)){const n=HP(r);return n&&n.default||0}else{const n=wde(t),i=(aV(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Az(t,r)}build(t,r,n){NP(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return BP(t,r,n)}}class Nde extends _z{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Us}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(nm.has(r)){const n=HP(r);return n&&n.default||0}return r=dV.has(r)?r:xP(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return AV(t,r,n)}build(t,r,n){_P(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){uV(t,r,n,i)}mount(t){this.isSVGTag=SP(t.tagName),super.mount(t)}}const _de=(e,t)=>vP(e)?new Nde(t):new jde(t,{allowProjection:e!==j.Fragment}),Cde=noe({...qle,...mde,...sde,...pde},_de),Y=xae(Cde);function Sde(e,t,r){j.useInsertionEffect(()=>e.on(t,r),[e,t,r])}function Cz(e,t){let r;const n=()=>{const{currentTime:i}=t,o=(i===null?0:i.value)/100;r!==o&&e(o),r=o};return cn.update(n,!0),()=>nd(n)}const o1=new WeakMap;let nh;function Bde(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Ede({target:e,contentRect:t,borderBoxSize:r}){var n;(n=o1.get(e))===null||n===void 0||n.forEach(i=>{i({target:e,contentSize:t,get size(){return Bde(e,r)}})})}function kde(e){e.forEach(Ede)}function Pde(){typeof ResizeObserver>"u"||(nh=new ResizeObserver(kde))}function Ide(e,t){nh||Pde();const r=IP(e);return r.forEach(n=>{let i=o1.get(n);i||(i=new Set,o1.set(n,i)),i.add(t),nh==null||nh.observe(n)}),()=>{r.forEach(n=>{const i=o1.get(n);i==null||i.delete(t),i!=null&&i.size||nh==null||nh.unobserve(n)})}}const l1=new Set;let Lx;function Tde(){Lx=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};l1.forEach(r=>r(t))},window.addEventListener("resize",Lx)}function Ode(e){return l1.add(e),Lx||Tde(),()=>{l1.delete(e),!l1.size&&Lx&&(Lx=void 0)}}function Lde(e,t){return typeof e=="function"?Ode(e):Ide(e,t)}const Fde=50,AF=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Ude=()=>({time:0,x:AF(),y:AF()}),Rde={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function fF(e,t,r,n){const i=r[t],{length:a,position:o}=Rde[t],l=i.current,c=r.time;i.current=e[`scroll${o}`],i.scrollLength=e[`scroll${a}`]-e[`client${a}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Pf(0,i.scrollLength,i.current);const d=n-c;i.velocity=d>Fde?0:UP(i.current-l,d)}function Dde(e,t,r){fF(e,"x",t,r),fF(e,"y",t,r),t.time=r}function Mde(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const a=n.getBoundingClientRect();r.x+=i.left-a.left,r.y+=i.top-a.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:a}=n.getBBox();r.x+=i,r.y+=a;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return r}const v4={start:0,center:.5,end:1};function mF(e,t,r=0){let n=0;if(e in v4&&(e=v4[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const Qde=[0,0];function $de(e,t,r,n){let i=Array.isArray(e)?e:Qde,a=0,o=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,v4[e]?e:"0"]),a=mF(i[0],r,n),o=mF(i[1],t),a-o}const Hde={All:[[0,0],[1,1]]},Vde={x:0,y:0};function zde(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Kde(e,t,r){const{offset:n=Hde.All}=r,{target:i=e,axis:a="y"}=r,o=a==="y"?"height":"width",l=i!==e?Mde(i,e):Vde,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:zde(i),d={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let u=!t[a].interpolate;const A=n.length;for(let f=0;f<A;f++){const m=$de(n[f],d[o],c[o],l[a]);!u&&m!==t[a].interpolatorOffsets[f]&&(u=!0),t[a].offset[f]=m}u&&(t[a].interpolate=ez(t[a].offset,tz(n),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=sd(0,1,t[a].interpolate(t[a].current))}function Wde(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function Gde(e,t,r,n={}){return{measure:()=>Wde(e,n.target,r),update:i=>{Dde(e,r,i),(n.offset||n.target)&&Kde(e,r,n)},notify:()=>t(r)}}const T0=new WeakMap,pF=new WeakMap,lC=new WeakMap,gF=e=>e===document.documentElement?window:e;function GP(e,{container:t=document.documentElement,...r}={}){let n=lC.get(t);n||(n=new Set,lC.set(t,n));const i=Ude(),a=Gde(t,e,i,r);if(n.add(a),!T0.has(t)){const l=()=>{for(const f of n)f.measure()},c=()=>{for(const f of n)f.update(vi.timestamp)},d=()=>{for(const f of n)f.notify()},u=()=>{cn.read(l,!1,!0),cn.read(c,!1,!0),cn.update(d,!1,!0)};T0.set(t,u);const A=gF(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&pF.set(t,Lde(t,u)),A.addEventListener("scroll",u,{passive:!0})}const o=T0.get(t);return cn.read(o,!1,!0),()=>{var l;nd(o);const c=lC.get(t);if(!c||(c.delete(a),c.size))return;const d=T0.get(t);T0.delete(t),d&&(gF(t).removeEventListener("scroll",d),(l=pF.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function qde({source:e,container:t,axis:r="y"}){e&&(t=e);const n={value:0},i=GP(a=>{n.value=a[r].progress*100},{container:t,axis:r});return{currentTime:n,cancel:i}}const cC=new Map;function Sz({source:e,container:t=document.documentElement,axis:r="y"}={}){e&&(t=e),cC.has(t)||cC.set(t,{});const n=cC.get(t);return n[r]||(n[r]=pV()?new ScrollTimeline({source:t,axis:r}):qde({source:t,axis:r})),n[r]}function Yde(e){return e.length===2}function Bz(e){return e&&(e.target||e.offset)}function Xde(e,t){return Yde(e)||Bz(t)?GP(r=>{e(r[t.axis].progress,r)},t):Cz(e,Sz(t))}function Zde(e,t){if(e.flatten(),Bz(t))return e.pause(),GP(r=>{e.time=e.duration*r[t.axis].progress},t);{const r=Sz(t);return e.attachTimeline?e.attachTimeline(r,n=>(n.pause(),Cz(i=>{n.time=n.duration*i},r))):Ba}}function Jde(e,{axis:t="y",...r}={}){const n={axis:t,...r};return typeof e=="function"?Xde(e,n):Zde(e,n)}function xF(e,t){dae(!!(!t||t.current))}const eue=()=>({scrollX:$d(0),scrollY:$d(0),scrollXProgress:$d(0),scrollYProgress:$d(0)});function tue({container:e,target:t,layoutEffect:r=!0,...n}={}){const i=jv(eue);return(r?vN:j.useEffect)(()=>(xF("target",t),xF("container",e),Jde((o,{x:l,y:c})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),i}function rue(e){e.values.forEach(t=>t.stop())}function b4(e,t){[...t].reverse().forEach(n=>{const i=e.getVariant(n);i&&RP(e,i),e.variantChildren&&e.variantChildren.forEach(a=>{b4(a,t)})})}function nue(e,t){if(Array.isArray(t))return b4(e,t);if(typeof t=="string")return b4(e,[t]);RP(e,t)}function sue(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const i=[];return e.forEach(a=>{i.push(sz(a,r,{transitionOverride:n}))}),Promise.all(i)},set(r){return e.forEach(n=>{nue(n,r)})},stop(){e.forEach(r=>{rue(r)})},mount(){return()=>{t.stop()}}};return t}function iue(){const e=jv(sue);return vN(e.mount,[]),e}const aue=iue,oue={some:0,all:1};function lue(e,t,{root:r,margin:n,amount:i="some"}={}){const a=IP(e),o=new WeakMap,l=d=>{d.forEach(u=>{const A=o.get(u.target);if(u.isIntersecting!==!!A)if(u.isIntersecting){const f=t(u);typeof f=="function"?o.set(u.target,f):c.unobserve(u.target)}else typeof A=="function"&&(A(u),o.delete(u.target))})},c=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof i=="number"?i:oue[i]});return a.forEach(d=>c.observe(d)),()=>c.disconnect()}function cue(e,{root:t,margin:r,amount:n,once:i=!1}={}){const[a,o]=j.useState(!1);return j.useEffect(()=>{if(!e.current||i&&a)return;const l=()=>(o(!0),i?void 0:()=>o(!1)),c={root:t&&t.current||void 0,margin:r,amount:n};return lue(e.current,l,c)},[t,e,r,i,n]),a}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ez=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...uue,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Ez("lucide",i),...l},[...o.map(([d,u])=>j.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,t)=>{const r=j.forwardRef(({className:n,...i},a)=>j.createElement(hue,{ref:a,iconNode:t,className:Ez(`lucide-${due(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=mt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=mt("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=mt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=mt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=mt("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=mt("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=mt("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=mt("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=mt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=mt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=mt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=mt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=mt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=mt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=mt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=mt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=mt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=mt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=mt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=mt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=mt("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=mt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=mt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=mt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=mt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=mt("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=mt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=mt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=mt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=mt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=mt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=mt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=mt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=mt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=mt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=mt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=mt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=mt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=mt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=mt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=mt("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=mt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=mt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=mt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=mt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=mt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=mt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=mt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=mt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=mt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=mt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=mt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=mt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=mt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=mt("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=mt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=mt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=mt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=mt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=mt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=mt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=mt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=mt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=mt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=mt("Snowflake",[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=mt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=mt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=mt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=mt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=mt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=mt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=mt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=mt("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=mt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=mt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=mt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=mt("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=mt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=mt("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=mt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=mt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Mue=()=>{const[e,t]=j.useState(!1),[r,n]=j.useState(!1),[i,a]=j.useState(!1),[o,l]=j.useState(null),c="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",[d,u]=j.useState(!1),A=eo(),f=Ar(),{scrollY:m}=tue(),x=[{name:"Home",href:"/",icon:Ir},{name:"About",href:"/about",icon:CN},{name:"Contact",href:"/contact",icon:Tn},...i?[{name:"Dashboard",href:"/dashboard",icon:Cp}]:[]];Sde(m,"change",y=>{n(y>10)}),j.useEffect(()=>{const y=()=>{const C=localStorage.getItem("authToken"),P=localStorage.getItem("user");if(a(!!C),P)try{const I=JSON.parse(P);l(I)}catch{localStorage.removeItem("user"),l(null)}else l(null)};y();const b=()=>{y()},w=()=>{a(!1),l(null)},_=()=>{y()},N=()=>{y()};return window.addEventListener("storage",b),window.addEventListener("lyvo-logout",w),window.addEventListener("lyvo-login",_),window.addEventListener("lyvo-profile-update",N),()=>{window.removeEventListener("storage",b),window.removeEventListener("lyvo-logout",w),window.removeEventListener("lyvo-login",_),window.removeEventListener("lyvo-profile-update",N)}},[]),j.useEffect(()=>{const y=b=>{d&&!b.target.closest(".user-dropdown")&&u(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[d]),j.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const g=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),a(!1),l(null),u(!1),t(!1),window.dispatchEvent(new Event("lyvo-logout")),f("/")},v=()=>{t(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-white/95 backdrop-blur-md shadow-lg border-b border-gray-100":"bg-white/90 backdrop-blur-sm"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[s.jsx(Ot,{to:"/",children:s.jsxs(Y.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"flex items-center space-x-3 group cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Y.div,{whileHover:{rotate:5,boxShadow:"0 10px 30px rgba(239, 68, 68, 0.3)"},transition:{duration:.3},className:`w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 overflow-hidden ${A.pathname==="/"?"shadow-[0_0_20px_rgba(239,68,68,0.4)]":""}`,children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx(Y.div,{animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs(Y.span,{whileHover:{color:"rgb(239, 68, 68)"},transition:{duration:.2},className:`text-xl lg:text-2xl font-bold transition-colors duration-300 ${A.pathname==="/"?"text-gray-900":"text-gray-900 group-hover:text-red-600"}`,children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium hidden sm:block",children:"Co-Living Platform"})]})]})}),s.jsx("div",{className:"hidden md:flex items-center space-x-1",children:x.map(y=>{const b=y.icon,w=A.pathname===y.href;return s.jsx(Ot,{to:y.href,children:s.jsxs(Y.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${w?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(Y.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(b,{className:`w-4 h-4 ${w?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:y.name})]}),!w&&s.jsx(Y.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})},y.href)})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"hidden md:flex items-center space-x-3",children:i?s.jsxs("div",{className:"relative user-dropdown",children:[s.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!d),className:"flex items-center space-x-3 px-4 py-2 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl hover:from-red-50 hover:to-red-100 transition-all duration-300 border border-gray-200 hover:border-red-200",title:`Hi, ${(o==null?void 0:o.name)||"User"}!`,children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border-2 border-white shadow-md",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src=c}})}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:(o==null?void 0:o.name)||"User"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Welcome back!"})]}),s.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d?"bg-red-500":"bg-gray-400"}`})]}),d&&s.jsxs(Y.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-100 py-2 z-[100]",children:[s.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-gray-200",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src=c}})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Hi, ",(o==null?void 0:o.name)||"User","!"]}),s.jsx("p",{className:"text-xs text-gray-500",children:o==null?void 0:o.email})]})]})}),s.jsxs(Ot,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(cr,{className:"w-4 h-4 mr-3"}),"Profile"]}),s.jsxs(Ot,{to:"/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(Cp,{className:"w-4 h-4 mr-3"}),"Dashboard"]}),s.jsxs("button",{onClick:g,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(gl,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ot,{to:"/login",children:s.jsxs(Y.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${A.pathname==="/login"?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(Y.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(tu,{className:`w-4 h-4 ${A.pathname==="/login"?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:"Sign In"})]}),A.pathname!=="/login"&&s.jsx(Y.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ot,{to:"/signup",children:s.jsxs(Y.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${A.pathname==="/signup"?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(Y.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(jy,{className:`w-4 h-4 ${A.pathname==="/signup"?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:"Get Started"})]}),A.pathname!=="/signup"&&s.jsx(Y.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})}),s.jsx(Ot,{to:"/room-owner-signup",children:s.jsxs(Y.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${A.pathname==="/room-owner-signup"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(Y.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(m2,{className:`w-4 h-4 ${A.pathname==="/room-owner-signup"?"text-blue-600":"text-gray-500 group-hover:text-blue-600"}`})}),s.jsx("span",{children:"List Property"})]}),A.pathname!=="/room-owner-signup"&&s.jsx(Y.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-blue-50"})]})})]})]})}),s.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 text-gray-700 hover:text-red-600 transition-all duration-300 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Toggle mobile menu","aria-expanded":e,"aria-controls":"mobile-menu",children:s.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:s.jsx("div",{className:`transition-all duration-300 ${e?"rotate-180":"rotate-0"}`,children:e?s.jsx(ar,{className:"w-6 h-6"}):s.jsx(SN,{className:"w-6 h-6"})})})})]})]})})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden transition-opacity duration-200",onClick:v,"aria-hidden":"true"}),s.jsxs("div",{id:"mobile-menu",className:`fixed top-0 right-0 h-full w-80 max-w-[90vw] sm:max-w-[85vw] bg-white shadow-2xl z-50 md:hidden transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,"aria-label":"Mobile navigation menu",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden shadow-md",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]}),s.jsx("button",{onClick:v,className:"p-2 text-gray-500 hover:text-red-600 transition-colors duration-200 rounded-lg hover:bg-red-50","aria-label":"Close mobile menu",children:s.jsx(ar,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"p-6 space-y-3",children:x.map(y=>{const b=y.icon,w=A.pathname===y.href;return s.jsxs(Ot,{to:y.href,onClick:v,className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium ${w?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(b,{className:`h-5 w-5 ${w?"text-red-600":"text-gray-500"}`}),s.jsx("span",{className:"text-base",children:y.name})]},y.href)})}),s.jsx("div",{className:"p-6 border-t border-gray-100 mt-auto",children:i?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"px-4 py-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white shadow-md",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src=c}})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(o==null?void 0:o.name)||"User"}),s.jsx("div",{className:"text-xs text-gray-500",children:o==null?void 0:o.email})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Ot,{to:"/dashboard",onClick:v,className:"flex items-center space-x-3 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg",children:[s.jsx(Cp,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Dashboard"})]}),s.jsxs(Ot,{to:"/profile",onClick:v,className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all duration-200 font-medium",children:[s.jsx(cr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Profile"})]})]}),s.jsxs("button",{onClick:()=>{v(),g()},className:"flex items-center space-x-3 px-4 py-3 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all duration-200 font-medium w-full text-left",children:[s.jsx(gl,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Logout"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ot,{to:"/login",onClick:v,className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium ${A.pathname==="/login"?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(tu,{className:"h-5 w-5"}),s.jsx("span",{className:"text-base",children:"Sign In"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(Ot,{to:"/signup",onClick:v,className:`flex items-center justify-center w-full px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 space-x-2 ${A.pathname==="/signup"?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(jy,{className:"h-4 w-4"}),s.jsx("span",{children:"Get Started"})]}),s.jsxs(Ot,{to:"/room-owner-signup",onClick:v,className:`flex items-center justify-center w-full px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 space-x-2 ${A.pathname==="/room-owner-signup"?"bg-blue-50 text-blue-600":"text-gray-700 hover:text-blue-600 hover:bg-blue-50"}`,children:[s.jsx(m2,{className:"h-4 w-4"}),s.jsx("span",{children:"List Property"})]})]})]})})]})]})},Que=()=>{const e=[{name:"Facebook",icon:vue,href:"#"},{name:"Twitter",icon:Uue,href:"#"},{name:"Instagram",icon:jue,href:"#"},{name:"LinkedIn",icon:Sue,href:"#"}],t=[{name:"Home",href:"/"},{name:"About Us",href:"/about"},{name:"Services",href:"/services"},{name:"Contact",href:"/contact"},{name:"Sign In",href:"/login"}],r=[{name:"Co-Living Spaces",href:"#"},{name:"Community Building",href:"#"},{name:"Events & Activities",href:"#"},{name:"24/7 Support",href:"#"},{name:"Premium Amenities",href:"#"}],n=[{name:"Privacy Policy",href:"#"},{name:"Terms of Service",href:"#"},{name:"Cookie Policy",href:"#"}];return s.jsx("footer",{className:"bg-gray-900 text-white mt-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shadow-lg overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xl font-bold",children:"Lyvo+"}),s.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Co-Living Platform"})]})]}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Empowering communities through innovative co-living solutions. Join us in creating meaningful connections and sustainable living spaces."}),s.jsx("div",{className:"flex space-x-4",children:e.map(i=>s.jsxs(Ot,{to:i.href,className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-gray-700 transition-all duration-200 group",children:[s.jsx(i.icon,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-200"}),s.jsx("span",{className:"sr-only",children:i.name})]},i.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quick Links"}),s.jsx("ul",{className:"space-y-2",children:t.map(i=>s.jsx("li",{children:s.jsx(Ot,{to:i.href,className:"text-gray-300 hover:text-red-500 transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform duration-200",children:i.name})},i.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Services"}),s.jsx("ul",{className:"space-y-2",children:r.map(i=>s.jsx("li",{children:s.jsx(Ot,{to:i.href,className:"text-gray-300 hover:text-red-500 transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform duration-200",children:i.name})},i.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Contact Us"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200",children:s.jsx(Jr,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:"hello@lyvoplus.com"})]}),s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200",children:s.jsx(Tn,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:"+1 (555) 123-4567"})]}),s.jsxs("div",{className:"flex items-start space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200 mt-0.5",children:s.jsx(jr,{className:"w-4 h-4 text-white"})}),s.jsxs("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:["123 Innovation Street",s.jsx("br",{}),"Tech City, TC 12345"]})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsx("div",{className:"text-gray-400 text-sm",children:" 2024 Lyvo+. All rights reserved."}),s.jsx("div",{className:"flex flex-wrap justify-center md:justify-end gap-6 text-sm",children:n.map(i=>s.jsx(Ot,{to:i.href,className:"text-gray-400 hover:text-red-500 transition-colors duration-200 hover:underline",children:i.name},i.name))})]})})]})})};function Lz(e,t){return function(){return e.apply(t,arguments)}}const{toString:$ue}=Object.prototype,{getPrototypeOf:ZP}=Object,{iterator:EN,toStringTag:Fz}=Symbol,kN=(e=>t=>{const r=$ue.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gc=e=>(e=e.toLowerCase(),t=>kN(t)===e),PN=e=>t=>typeof t===e,{isArray:Mg}=Array,rg=PN("undefined");function Ev(e){return e!==null&&!rg(e)&&e.constructor!==null&&!rg(e.constructor)&&Za(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Uz=gc("ArrayBuffer");function Hue(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Uz(e.buffer),t}const Vue=PN("string"),Za=PN("function"),Rz=PN("number"),kv=e=>e!==null&&typeof e=="object",zue=e=>e===!0||e===!1,d1=e=>{if(kN(e)!=="object")return!1;const t=ZP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Fz in e)&&!(EN in e)},Kue=e=>{if(!kv(e)||Ev(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Wue=gc("Date"),Gue=gc("File"),que=gc("Blob"),Yue=gc("FileList"),Xue=e=>kv(e)&&Za(e.pipe),Zue=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Za(e.append)&&((t=kN(e))==="formdata"||t==="object"&&Za(e.toString)&&e.toString()==="[object FormData]"))},Jue=gc("URLSearchParams"),[ehe,the,rhe,nhe]=["ReadableStream","Request","Response","Headers"].map(gc),she=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Mg(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Ev(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function Dz(e,t){if(Ev(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const ef=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mz=e=>!rg(e)&&e!==ef;function N4(){const{caseless:e,skipUndefined:t}=Mz(this)&&this||{},r={},n=(i,a)=>{const o=e&&Dz(r,a)||a;d1(r[o])&&d1(i)?r[o]=N4(r[o],i):d1(i)?r[o]=N4({},i):Mg(i)?r[o]=i.slice():(!t||!rg(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Pv(arguments[i],n);return r}const ihe=(e,t,r,{allOwnKeys:n}={})=>(Pv(t,(i,a)=>{r&&Za(i)?e[a]=Lz(i,r):e[a]=i},{allOwnKeys:n}),e),ahe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ohe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},lhe=(e,t,r,n)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&ZP(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},che=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},dhe=e=>{if(!e)return null;if(Mg(e))return e;let t=e.length;if(!Rz(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},uhe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ZP(Uint8Array)),hhe=(e,t)=>{const n=(e&&e[EN]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},Ahe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},fhe=gc("HTMLFormElement"),mhe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),NF=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),phe=gc("RegExp"),Qz=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Pv(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},ghe=e=>{Qz(e,(t,r)=>{if(Za(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Za(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},xhe=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Mg(e)?n(e):n(String(e).split(t)),r},yhe=()=>{},vhe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function bhe(e){return!!(e&&Za(e.append)&&e[Fz]==="FormData"&&e[EN])}const whe=e=>{const t=new Array(10),r=(n,i)=>{if(kv(n)){if(t.indexOf(n)>=0)return;if(Ev(n))return n;if(!("toJSON"in n)){t[i]=n;const a=Mg(n)?[]:{};return Pv(n,(o,l)=>{const c=r(o,i+1);!rg(c)&&(a[l]=c)}),t[i]=void 0,a}}return n};return r(e,0)},jhe=gc("AsyncFunction"),Nhe=e=>e&&(kv(e)||Za(e))&&Za(e.then)&&Za(e.catch),$z=((e,t)=>e?setImmediate:t?((r,n)=>(ef.addEventListener("message",({source:i,data:a})=>{i===ef&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ef.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Za(ef.postMessage)),_he=typeof queueMicrotask<"u"?queueMicrotask.bind(ef):typeof process<"u"&&process.nextTick||$z,Che=e=>e!=null&&Za(e[EN]),ze={isArray:Mg,isArrayBuffer:Uz,isBuffer:Ev,isFormData:Zue,isArrayBufferView:Hue,isString:Vue,isNumber:Rz,isBoolean:zue,isObject:kv,isPlainObject:d1,isEmptyObject:Kue,isReadableStream:ehe,isRequest:the,isResponse:rhe,isHeaders:nhe,isUndefined:rg,isDate:Wue,isFile:Gue,isBlob:que,isRegExp:phe,isFunction:Za,isStream:Xue,isURLSearchParams:Jue,isTypedArray:uhe,isFileList:Yue,forEach:Pv,merge:N4,extend:ihe,trim:she,stripBOM:ahe,inherits:ohe,toFlatObject:lhe,kindOf:kN,kindOfTest:gc,endsWith:che,toArray:dhe,forEachEntry:hhe,matchAll:Ahe,isHTMLForm:fhe,hasOwnProperty:NF,hasOwnProp:NF,reduceDescriptors:Qz,freezeMethods:ghe,toObjectSet:xhe,toCamelCase:mhe,noop:yhe,toFiniteNumber:vhe,findKey:Dz,global:ef,isContextDefined:Mz,isSpecCompliantForm:bhe,toJSONObject:whe,isAsyncFn:jhe,isThenable:Nhe,setImmediate:$z,asap:_he,isIterable:Che};function wr(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ze.inherits(wr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const Hz=wr.prototype,Vz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Vz[e]={value:e}});Object.defineProperties(wr,Vz);Object.defineProperty(Hz,"isAxiosError",{value:!0});wr.from=(e,t,r,n,i,a)=>{const o=Object.create(Hz);ze.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return wr.call(o,l,c,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const She=null;function _4(e){return ze.isPlainObject(e)||ze.isArray(e)}function zz(e){return ze.endsWith(e,"[]")?e.slice(0,-2):e}function _F(e,t,r){return e?e.concat(t).map(function(i,a){return i=zz(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function Bhe(e){return ze.isArray(e)&&!e.some(_4)}const Ehe=ze.toFlatObject(ze,{},null,function(t){return/^is[A-Z]/.test(t)});function IN(e,t,r){if(!ze.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!ze.isUndefined(v[g])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(t);if(!ze.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(ze.isDate(x))return x.toISOString();if(ze.isBoolean(x))return x.toString();if(!c&&ze.isBlob(x))throw new wr("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(x)||ze.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,g,v){let y=x;if(x&&!v&&typeof x=="object"){if(ze.endsWith(g,"{}"))g=n?g:g.slice(0,-2),x=JSON.stringify(x);else if(ze.isArray(x)&&Bhe(x)||(ze.isFileList(x)||ze.endsWith(g,"[]"))&&(y=ze.toArray(x)))return g=zz(g),y.forEach(function(w,_){!(ze.isUndefined(w)||w===null)&&t.append(o===!0?_F([g],_,a):o===null?g:g+"[]",d(w))}),!1}return _4(x)?!0:(t.append(_F(v,g,a),d(x)),!1)}const A=[],f=Object.assign(Ehe,{defaultVisitor:u,convertValue:d,isVisitable:_4});function m(x,g){if(!ze.isUndefined(x)){if(A.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));A.push(x),ze.forEach(x,function(y,b){(!(ze.isUndefined(y)||y===null)&&i.call(t,y,ze.isString(b)?b.trim():b,g,f))===!0&&m(y,g?g.concat(b):[b])}),A.pop()}}if(!ze.isObject(e))throw new TypeError("data must be an object");return m(e),t}function CF(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function JP(e,t){this._pairs=[],e&&IN(e,this,t)}const Kz=JP.prototype;Kz.append=function(t,r){this._pairs.push([t,r])};Kz.toString=function(t){const r=t?function(n){return t.call(this,n,CF)}:CF;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function khe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Wz(e,t,r){if(!t)return e;const n=r&&r.encode||khe;ze.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=ze.isURLSearchParams(t)?t.toString():new JP(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class SF{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ze.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Gz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Phe=typeof URLSearchParams<"u"?URLSearchParams:JP,Ihe=typeof FormData<"u"?FormData:null,The=typeof Blob<"u"?Blob:null,Ohe={isBrowser:!0,classes:{URLSearchParams:Phe,FormData:Ihe,Blob:The},protocols:["http","https","file","blob","url","data"]},e6=typeof window<"u"&&typeof document<"u",C4=typeof navigator=="object"&&navigator||void 0,Lhe=e6&&(!C4||["ReactNative","NativeScript","NS"].indexOf(C4.product)<0),Fhe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uhe=e6&&window.location.href||"http://localhost",Rhe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:e6,hasStandardBrowserEnv:Lhe,hasStandardBrowserWebWorkerEnv:Fhe,navigator:C4,origin:Uhe},Symbol.toStringTag,{value:"Module"})),la={...Rhe,...Ohe};function Dhe(e,t){return IN(e,new la.classes.URLSearchParams,{visitor:function(r,n,i,a){return la.isNode&&ze.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Mhe(e){return ze.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Qhe(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function qz(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&ze.isArray(i)?i.length:o,c?(ze.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!ze.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&ze.isArray(i[o])&&(i[o]=Qhe(i[o])),!l)}if(ze.isFormData(e)&&ze.isFunction(e.entries)){const r={};return ze.forEachEntry(e,(n,i)=>{t(Mhe(n),i,r,0)}),r}return null}function $he(e,t,r){if(ze.isString(e))try{return(t||JSON.parse)(e),ze.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Iv={transitional:Gz,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=ze.isObject(t);if(a&&ze.isHTMLForm(t)&&(t=new FormData(t)),ze.isFormData(t))return i?JSON.stringify(qz(t)):t;if(ze.isArrayBuffer(t)||ze.isBuffer(t)||ze.isStream(t)||ze.isFile(t)||ze.isBlob(t)||ze.isReadableStream(t))return t;if(ze.isArrayBufferView(t))return t.buffer;if(ze.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Dhe(t,this.formSerializer).toString();if((l=ze.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return IN(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),$he(t)):t}],transformResponse:[function(t){const r=this.transitional||Iv.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ze.isResponse(t)||ze.isReadableStream(t))return t;if(t&&ze.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?wr.from(l,wr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:la.classes.FormData,Blob:la.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],e=>{Iv.headers[e]={}});const Hhe=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vhe=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&Hhe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},BF=Symbol("internals");function O0(e){return e&&String(e).trim().toLowerCase()}function u1(e){return e===!1||e==null?e:ze.isArray(e)?e.map(u1):String(e)}function zhe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Khe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dC(e,t,r,n,i){if(ze.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!ze.isString(t)){if(ze.isString(n))return t.indexOf(n)!==-1;if(ze.isRegExp(n))return n.test(t)}}function Whe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Ghe(e,t){const r=ze.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let Ja=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(l,c,d){const u=O0(c);if(!u)throw new Error("header name must be a non-empty string");const A=ze.findKey(i,u);(!A||i[A]===void 0||d===!0||d===void 0&&i[A]!==!1)&&(i[A||c]=u1(l))}const o=(l,c)=>ze.forEach(l,(d,u)=>a(d,u,c));if(ze.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ze.isString(t)&&(t=t.trim())&&!Khe(t))o(Vhe(t),r);else if(ze.isObject(t)&&ze.isIterable(t)){let l={},c,d;for(const u of t){if(!ze.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?ze.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=O0(t),t){const n=ze.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return zhe(i);if(ze.isFunction(r))return r.call(this,i,n);if(ze.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=O0(t),t){const n=ze.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||dC(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=O0(o),o){const l=ze.findKey(n,o);l&&(!r||dC(n,n[l],l,r))&&(delete n[l],i=!0)}}return ze.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||dC(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return ze.forEach(this,(i,a)=>{const o=ze.findKey(n,a);if(o){r[o]=u1(i),delete r[a];return}const l=t?Whe(a):String(a).trim();l!==a&&delete r[a],r[l]=u1(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ze.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&ze.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[BF]=this[BF]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=O0(o);n[l]||(Ghe(i,o),n[l]=!0)}return ze.isArray(t)?t.forEach(a):a(t),this}};Ja.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(Ja.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ze.freezeMethods(Ja);function uC(e,t){const r=this||Iv,n=t||r,i=Ja.from(n.headers);let a=n.data;return ze.forEach(e,function(l){a=l.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Yz(e){return!!(e&&e.__CANCEL__)}function Qg(e,t,r){wr.call(this,e??"canceled",wr.ERR_CANCELED,t,r),this.name="CanceledError"}ze.inherits(Qg,wr,{__CANCEL__:!0});function Xz(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new wr("Request failed with status code "+r.status,[wr.ERR_BAD_REQUEST,wr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function qhe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Yhe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];o||(o=d),r[i]=c,n[i]=d;let A=a,f=0;for(;A!==i;)f+=r[A++],A=A%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-o<t)return;const m=u&&d-u;return m?Math.round(f*1e3/m):void 0}}function Xhe(e,t){let r=0,n=1e3/t,i,a;const o=(d,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),A=u-r;A>=n?o(d,u):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},n-A)))},()=>i&&o(i)]}const p2=(e,t,r=3)=>{let n=0;const i=Yhe(50,250);return Xhe(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,d=i(c),u=o<=l;n=o;const A={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(A)},r)},EF=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},kF=e=>(...t)=>ze.asap(()=>e(...t)),Zhe=la.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,la.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(la.origin),la.navigator&&/(msie|trident)/i.test(la.navigator.userAgent)):()=>!0,Jhe=la.hasStandardBrowserEnv?{write(e,t,r,n,i,a,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];ze.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),ze.isString(n)&&l.push(`path=${n}`),ze.isString(i)&&l.push(`domain=${i}`),a===!0&&l.push("secure"),ze.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function eAe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tAe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Zz(e,t,r){let n=!eAe(t);return e&&(n||r==!1)?tAe(e,t):t}const PF=e=>e instanceof Ja?{...e}:e;function Of(e,t){t=t||{};const r={};function n(d,u,A,f){return ze.isPlainObject(d)&&ze.isPlainObject(u)?ze.merge.call({caseless:f},d,u):ze.isPlainObject(u)?ze.merge({},u):ze.isArray(u)?u.slice():u}function i(d,u,A,f){if(ze.isUndefined(u)){if(!ze.isUndefined(d))return n(void 0,d,A,f)}else return n(d,u,A,f)}function a(d,u){if(!ze.isUndefined(u))return n(void 0,u)}function o(d,u){if(ze.isUndefined(u)){if(!ze.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,A){if(A in t)return n(d,u);if(A in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,A)=>i(PF(d),PF(u),A,!0)};return ze.forEach(Object.keys({...e,...t}),function(u){const A=c[u]||i,f=A(e[u],t[u],u);ze.isUndefined(f)&&A!==l||(r[u]=f)}),r}const Jz=e=>{const t=Of({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Ja.from(o),t.url=Wz(Zz(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ze.isFormData(r)){if(la.hasStandardBrowserEnv||la.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(ze.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,A])=>{d.includes(u.toLowerCase())&&o.set(u,A)})}}if(la.hasStandardBrowserEnv&&(n&&ze.isFunction(n)&&(n=n(t)),n||n!==!1&&Zhe(t.url))){const c=i&&a&&Jhe.read(a);c&&o.set(i,c)}return t},rAe=typeof XMLHttpRequest<"u",nAe=rAe&&function(e){return new Promise(function(r,n){const i=Jz(e);let a=i.data;const o=Ja.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,A,f,m,x;function g(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function y(){if(!v)return;const w=Ja.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};Xz(function(P){r(P),g()},function(P){n(P),g()},N),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new wr("Request aborted",wr.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const N=_&&_.message?_.message:"Network Error",C=new wr(N,wr.ERR_NETWORK,e,v);C.event=_||null,n(C),v=null},v.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||Gz;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new wr(_,N.clarifyTimeoutError?wr.ETIMEDOUT:wr.ECONNABORTED,e,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&ze.forEach(o.toJSON(),function(_,N){v.setRequestHeader(N,_)}),ze.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),l&&l!=="json"&&(v.responseType=i.responseType),d&&([f,x]=p2(d,!0),v.addEventListener("progress",f)),c&&v.upload&&([A,m]=p2(c),v.upload.addEventListener("progress",A),v.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(u=w=>{v&&(n(!w||w.type?new Qg(null,e,v):w),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=qhe(i.url);if(b&&la.protocols.indexOf(b)===-1){n(new wr("Unsupported protocol "+b+":",wr.ERR_BAD_REQUEST,e));return}v.send(a||null)})},sAe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof wr?u:new Qg(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new wr(`timeout ${t} of ms exceeded`,wr.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>ze.asap(l),c}},iAe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},aAe=async function*(e,t){for await(const r of oAe(e))yield*iAe(r,t)},oAe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},IF=(e,t,r,n)=>{const i=aAe(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let A=u.byteLength;if(r){let f=a+=A;r(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},TF=64*1024,{isFunction:$b}=ze,lAe=(({Request:e,Response:t})=>({Request:e,Response:t}))(ze.global),{ReadableStream:OF,TextEncoder:LF}=ze.global,FF=(e,...t)=>{try{return!!e(...t)}catch{return!1}},cAe=e=>{e=ze.merge.call({skipUndefined:!0},lAe,e);const{fetch:t,Request:r,Response:n}=e,i=t?$b(t):typeof fetch=="function",a=$b(r),o=$b(n);if(!i)return!1;const l=i&&$b(OF),c=i&&(typeof LF=="function"?(x=>g=>x.encode(g))(new LF):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=a&&l&&FF(()=>{let x=!1;const g=new r(la.origin,{body:new OF,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!g}),u=o&&l&&FF(()=>ze.isReadableStream(new n("").body)),A={stream:u&&(x=>x.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!A[x]&&(A[x]=(g,v)=>{let y=g&&g[x];if(y)return y.call(g);throw new wr(`Response type '${x}' is not supported`,wr.ERR_NOT_SUPPORT,v)})});const f=async x=>{if(x==null)return 0;if(ze.isBlob(x))return x.size;if(ze.isSpecCompliantForm(x))return(await new r(la.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(x)||ze.isArrayBuffer(x))return x.byteLength;if(ze.isURLSearchParams(x)&&(x=x+""),ze.isString(x))return(await c(x)).byteLength},m=async(x,g)=>{const v=ze.toFiniteNumber(x.getContentLength());return v??f(g)};return async x=>{let{url:g,method:v,data:y,signal:b,cancelToken:w,timeout:_,onDownloadProgress:N,onUploadProgress:C,responseType:P,headers:E,withCredentials:I="same-origin",fetchOptions:F}=Jz(x),B=t||fetch;P=P?(P+"").toLowerCase():"text";let O=sAe([b,w&&w.toAbortSignal()],_),R=null;const U=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let $;try{if(C&&d&&v!=="get"&&v!=="head"&&($=await m(E,y))!==0){let Z=new r(g,{method:"POST",body:y,duplex:"half"}),V;if(ze.isFormData(y)&&(V=Z.headers.get("content-type"))&&E.setContentType(V),Z.body){const[X,W]=EF($,p2(kF(C)));y=IF(Z.body,TF,X,W)}}ze.isString(I)||(I=I?"include":"omit");const K=a&&"credentials"in r.prototype,H={...F,signal:O,method:v.toUpperCase(),headers:E.normalize().toJSON(),body:y,duplex:"half",credentials:K?I:void 0};R=a&&new r(g,H);let z=await(a?B(R,F):B(g,H));const te=u&&(P==="stream"||P==="response");if(u&&(N||te&&U)){const Z={};["status","statusText","headers"].forEach(ae=>{Z[ae]=z[ae]});const V=ze.toFiniteNumber(z.headers.get("content-length")),[X,W]=N&&EF(V,p2(kF(N),!0))||[];z=new n(IF(z.body,TF,X,()=>{W&&W(),U&&U()}),Z)}P=P||"text";let ee=await A[ze.findKey(A,P)||"text"](z,x);return!te&&U&&U(),await new Promise((Z,V)=>{Xz(Z,V,{data:ee,headers:Ja.from(z.headers),status:z.status,statusText:z.statusText,config:x,request:R})})}catch(K){throw U&&U(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new wr("Network Error",wr.ERR_NETWORK,x,R),{cause:K.cause||K}):wr.from(K,K&&K.code,x,R)}}},dAe=new Map,eK=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,l=o,c,d,u=dAe;for(;l--;)c=a[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:cAe(t)),u=d;return d};eK();const t6={http:She,xhr:nAe,fetch:{get:eK}};ze.forEach(t6,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const UF=e=>`- ${e}`,uAe=e=>ze.isFunction(e)||e===null||e===!1;function hAe(e,t){e=ze.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let l;if(i=n,!uAe(n)&&(i=t6[(l=String(n)).toLowerCase()],i===void 0))throw new wr(`Unknown adapter '${l}'`);if(i&&(ze.isFunction(i)||(i=i.get(t))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(UF).join(`
`):" "+UF(o[0]):"as no adapter specified";throw new wr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const tK={getAdapter:hAe,adapters:t6};function hC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qg(null,e)}function RF(e){return hC(e),e.headers=Ja.from(e.headers),e.data=uC.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tK.getAdapter(e.adapter||Iv.adapter,e)(e).then(function(n){return hC(e),n.data=uC.call(e,e.transformResponse,n),n.headers=Ja.from(n.headers),n},function(n){return Yz(n)||(hC(e),n&&n.response&&(n.response.data=uC.call(e,e.transformResponse,n.response),n.response.headers=Ja.from(n.response.headers))),Promise.reject(n)})}const rK="1.13.2",TN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{TN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const DF={};TN.transitional=function(t,r,n){function i(a,o){return"[Axios v"+rK+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new wr(i(o," has been removed"+(r?" in "+r:"")),wr.ERR_DEPRECATED);return r&&!DF[o]&&(DF[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};TN.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function AAe(e,t,r){if(typeof e!="object")throw new wr("options must be an object",wr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new wr("option "+a+" must be "+c,wr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new wr("Unknown option "+a,wr.ERR_BAD_OPTION)}}const h1={assertOptions:AAe,validators:TN},Lc=h1.validators;let mf=class{constructor(t){this.defaults=t||{},this.interceptors={request:new SF,response:new SF}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Of(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&h1.assertOptions(n,{silentJSONParsing:Lc.transitional(Lc.boolean),forcedJSONParsing:Lc.transitional(Lc.boolean),clarifyTimeoutError:Lc.transitional(Lc.boolean)},!1),i!=null&&(ze.isFunction(i)?r.paramsSerializer={serialize:i}:h1.assertOptions(i,{encode:Lc.function,serialize:Lc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),h1.assertOptions(r,{baseUrl:Lc.spelling("baseURL"),withXsrfToken:Lc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&ze.merge(a.common,a[r.method]);a&&ze.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),r.headers=Ja.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,A=0,f;if(!c){const x=[RF.bind(this),void 0];for(x.unshift(...l),x.push(...d),f=x.length,u=Promise.resolve(r);A<f;)u=u.then(x[A++],x[A++]);return u}f=l.length;let m=r;for(;A<f;){const x=l[A++],g=l[A++];try{m=x(m)}catch(v){g.call(this,v);break}}try{u=RF.call(this,m)}catch(x){return Promise.reject(x)}for(A=0,f=d.length;A<f;)u=u.then(d[A++],d[A++]);return u}getUri(t){t=Of(this.defaults,t);const r=Zz(t.baseURL,t.url,t.allowAbsoluteUrls);return Wz(r,t.params,t.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(t){mf.prototype[t]=function(r,n){return this.request(Of(n||{},{method:t,url:r,data:(n||{}).data}))}});ze.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(Of(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}mf.prototype[t]=r(),mf.prototype[t+"Form"]=r(!0)});let fAe=class nK{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new Qg(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new nK(function(i){t=i}),cancel:t}}};function mAe(e){return function(r){return e.apply(null,r)}}function pAe(e){return ze.isObject(e)&&e.isAxiosError===!0}const S4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(S4).forEach(([e,t])=>{S4[t]=e});function sK(e){const t=new mf(e),r=Lz(mf.prototype.request,t);return ze.extend(r,mf.prototype,t,{allOwnKeys:!0}),ze.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return sK(Of(e,i))},r}const _n=sK(Iv);_n.Axios=mf;_n.CanceledError=Qg;_n.CancelToken=fAe;_n.isCancel=Yz;_n.VERSION=rK;_n.toFormData=IN;_n.AxiosError=wr;_n.Cancel=_n.CanceledError;_n.all=function(t){return Promise.all(t)};_n.spread=mAe;_n.isAxiosError=pAe;_n.mergeConfig=Of;_n.AxiosHeaders=Ja;_n.formToJSON=e=>qz(ze.isHTMLForm(e)?new FormData(e):e);_n.getAdapter=tK.getAdapter;_n.HttpStatusCode=S4;_n.default=_n;const{Axios:VJe,AxiosError:zJe,CanceledError:KJe,isCancel:WJe,CancelToken:GJe,VERSION:qJe,all:YJe,Cancel:XJe,isAxiosError:ZJe,spread:JJe,toFormData:eet,AxiosHeaders:tet,HttpStatusCode:ret,formToJSON:net,getAdapter:set,mergeConfig:iet}=_n;let pf="http://localhost:5000/api";pf.endsWith("/")&&(pf=pf.slice(0,-1));pf.endsWith("/api")||(pf=`${pf}/api`);const Ye=_n.create({baseURL:pf,withCredentials:!0,timeout:1e4});Ye.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));class gAe{constructor(){this.isInitialized=!1,this.apiKey=null,this.apiUrl="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",this.fallbackResponses=this.buildFallbackResponses()}buildFallbackResponses(){return{pricing:["Our rooms start from 8,000/month for shared spaces and 15,000/month for single rooms. All prices include WiFi, utilities, and basic amenities!","Pricing depends on location and room type. Single rooms range from 12,000-25,000/month, while shared spaces start at 8,000/month. We offer great value for money!","We have flexible pricing options! Single rooms: 12,000-25,000/month, Shared rooms: 8,000-15,000/month. All inclusive of utilities and amenities."],locations:["We have properties in prime locations across multiple cities. Our properties are strategically positioned in the best neighborhoods with easy access to business districts and residential areas!","Our properties are located in prime areas across different cities. We have multiple locations including city centers, business districts, and residential neighborhoods.","We operate in multiple cities with properties in prime locations. Each property is carefully selected for its accessibility and neighborhood quality."],amenities:["All our properties include: High-speed WiFi, 24/7 security, housekeeping, laundry facilities, common kitchen, and co-working spaces. Some locations also have gyms and cafeterias!","Standard amenities: WiFi, security, cleaning, kitchen access, and common areas. Premium locations include gyms, cafeterias, gaming rooms, and rooftop spaces.","We provide WiFi, security, housekeeping, shared kitchens, study areas, and common lounges. Premium properties also feature gyms, cafeterias, and recreational facilities."],booking:["To book a room: 1) Browse our listings, 2) Schedule a virtual or in-person tour, 3) Complete the application form, 4) Sign the digital agreement. The process takes 2-3 days!","Booking is simple! Visit any room listing, click 'Book Now', fill the application, and we'll get back within 24 hours. You can also schedule a tour first.","Our booking process: Select a room  Schedule tour  Submit application  Digital agreement  Move in! We typically process applications within 48 hours."],roommate:["We use AI-powered compatibility matching based on lifestyle, work schedule, cleanliness preferences, and interests. You can also specify gender preferences and age range.","Our roommate matching considers work schedules, lifestyle habits, cleanliness standards, and personal interests. We ensure compatible living arrangements for everyone.","We match roommates using advanced algorithms that consider lifestyle compatibility, work schedules, and personal preferences. You can also choose your own roommates if you prefer."],security:["All properties have 24/7 security, CCTV cameras, secure entry systems, and verified property owners. We also conduct background checks on all residents.","Security features include: 24/7 guards, CCTV surveillance, secure access cards, and emergency response systems. All property owners are background-verified.","Your safety is our priority! We provide 24/7 security, surveillance systems, secure access, and verified property owners. All residents undergo background verification."],payment:["We accept online payments via UPI, cards, and net banking. Rent is typically paid monthly, and we offer flexible payment plans. No hidden charges!","Payment options: UPI, credit/debit cards, net banking, and digital wallets. Rent is due monthly, and we provide transparent billing for all utilities.","Payments can be made online through our secure portal. We accept UPI, cards, and net banking. Monthly rent includes utilities with no hidden costs."],support:["Our support team is available 24/7 via chat, phone (+91 98765 43210), or email (support@lyvoplus.com). We typically respond within 2 hours!","You can reach us anytime at support@lyvoplus.com or call +91 98765 43210. Our team responds within 2 hours and is available 24/7.","24/7 support available! Contact us at support@lyvoplus.com or +91 98765 43210. We also have in-app chat support for immediate assistance."],greeting:["Hello! Welcome to Lyvo+. I'm here to help you find your perfect co-living space!","Hi there! Ready to discover amazing co-living opportunities?","Welcome to Lyvo+! Let's find you the ideal living space with great roommates."],default:["I'm here to help with co-living questions! You can ask about pricing, locations, amenities, booking process, roommate matching, security, payments, or support.","I can assist with finding rooms, understanding our services, booking process, roommate matching, and general inquiries. What would you like to know?","Feel free to ask about our co-living spaces, pricing, locations, amenities, booking process, or any other questions about Lyvo+!"]}}async initialize(){try{if(console.log("Initializing Google Gemini Pro AI Service..."),this.apiKey="AIzaSyBctLbHMKEWiFsmnrTPJUVaLe3OMkHLtaM",!this.apiKey)throw new Error("Google Gemini API key not found");await this.testConnectionWithRetry(),this.isInitialized=!0,console.log("Google Gemini Pro AI Service initialized successfully")}catch(t){console.error("Failed to initialize Gemini AI Service:",t),console.log(" AI Service will use fallback responses due to initialization failure"),this.isInitialized=!1}}async testConnectionWithRetry(){for(let n=1;n<=2;n++)try{console.log(` Testing Gemini API connection (attempt ${n}/2)`);const i=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"test"}]}]})});if(i.ok){console.log(" Gemini API connection test successful");return}else if(i.status===429&&(console.warn(` Rate limit hit (429). Attempt ${n}/2`),n<2)){const a=5e3*n;console.log(` Waiting ${a}ms before retry...`),await new Promise(o=>setTimeout(o,a));continue}throw new Error(`API test failed: ${i.status}`)}catch(i){if(console.error(` Gemini API connection test failed (attempt ${n}):`,i),n===2)throw console.warn(" All retry attempts failed. AI service will use fallback responses."),i;if(i.message.includes("429")){const a=5e3*n;console.log(` Rate limit detected. Waiting ${a}ms before retry...`),await new Promise(o=>setTimeout(o,a))}}}async testConnection(){try{const t=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Hello, respond with 'Connection successful'"}]}]})});if(!t.ok)throw new Error(`API test failed: ${t.status}`);console.log("Gemini API connection test successful")}catch(t){throw console.error("Gemini API connection test failed:",t),t}}async getChatResponse(t,r="gemini-2.5-flash"){var n,i;if(!this.isInitialized){console.log(" Initializing AI service...");try{await this.initialize()}catch{console.log(" AI service initialization failed, using fallback responses")}}if(!this.isInitialized){console.log(" Using fallback responses due to AI service unavailability");const a=((n=t[t.length-1])==null?void 0:n.content)||"",o=this.getFallbackResponse(a);return console.log(" Fallback response:",o),o}try{console.log(" Processing message with Google Gemini 2.5 Flash:",{model:r,messageCount:t.length});const a=await this.callGeminiAPI(t);return console.log(" Gemini 2.5 Flash Response generated"),a}catch(a){console.error(" Error getting Gemini response:",a),console.log(" Falling back to local responses");const o=((i=t[t.length-1])==null?void 0:i.content)||"",l=this.getFallbackResponse(o);return console.log(" Fallback response:",l),l}}async fetchProjectData(){try{console.log(" Fetching project data from database...");const r=(await Ye.get("/property/public/properties")).data;return console.log(" Project data fetched:",r),this.transformPropertyData(r)}catch(t){return console.warn(" Error fetching project data:",t),this.getFallbackProjectData()}}transformPropertyData(t){try{const r=t.properties||[],n=[...new Set(r.map(l=>{var c;return(c=l.address)==null?void 0:c.city}).filter(Boolean))],a=r.map(l=>{const c=l.rooms||[];if(c.length===0)return null;const d=c.map(u=>u.rent).filter(Boolean);return d.length===0?null:{min:Math.min(...d),max:Math.max(...d)}}).filter(Boolean).flatMap(l=>[l.min,l.max]),o=a.length>0?`${Math.min(...a).toLocaleString()}-${Math.max(...a).toLocaleString()}`:"Flexible pricing";return{properties:r.slice(0,5).map(l=>{var c;return{id:l._id,name:l.property_name,location:((c=l.address)==null?void 0:c.city)||"Multiple cities",price:this.getPriceRange(l.rooms),type:this.getRoomTypes(l.rooms),amenities:this.getAmenities(l.rooms)}}),cities:n.length>0?n:["Multiple cities"],totalProperties:r.length,averagePrice:o}}catch(r){return console.error("Error transforming property data:",r),this.getFallbackProjectData()}}getPriceRange(t){if(!t||t.length===0)return"Contact for pricing";const r=t.map(a=>a.rent).filter(Boolean);if(r.length===0)return"Contact for pricing";const n=Math.min(...r),i=Math.max(...r);return n===i?`${n.toLocaleString()}`:`${n.toLocaleString()}-${i.toLocaleString()}`}getRoomTypes(t){return!t||t.length===0?"Various types":[...new Set(t.map(n=>n.room_type))].join(", ")}getAmenities(t){if(!t||t.length===0)return["WiFi","Security"];const r=new Set;return t.forEach(n=>{n.amenities&&Object.keys(n.amenities).forEach(i=>{n.amenities[i]&&r.add(i.charAt(0).toUpperCase()+i.slice(1))})}),Array.from(r).slice(0,5)}getFallbackProjectData(){return{properties:[{id:1,name:"Lyvo+ Premium",location:"Prime Location",price:"15,000-25,000",type:"Single Room",amenities:["WiFi","Security","Kitchen","Laundry"]},{id:2,name:"Lyvo+ Shared",location:"Downtown Area",price:"8,000-12,000",type:"Shared Room",amenities:["WiFi","Security","Common Area"]},{id:3,name:"Lyvo+ Studio",location:"City Center",price:"20,000-30,000",type:"Studio",amenities:["WiFi","Security","AC","Private Bathroom"]}],cities:["Multiple Cities"],totalProperties:"50+",averagePrice:"10,000-25,000"}}async callGeminiAPI(t){var r,n,i;try{console.log(" Calling Gemini API...");const a=await this.fetchProjectData(),o=`You are Lyvo+ Assistant, a helpful AI assistant for a co-living platform called Lyvo+. 

About Lyvo+:
- We provide co-living spaces (PG accommodations) across multiple cities
- We offer various room types with flexible pricing options
- All prices include WiFi, utilities, and basic amenities
- We have properties in prime locations across different cities
- We provide 24/7 security, housekeeping, common kitchens, co-working spaces
- Some premium locations have gyms, cafeterias, gaming rooms
- We use AI-powered roommate matching based on lifestyle compatibility
- Booking process: Browse  Tour  Apply  Digital Agreement  Move in
- Support available 24/7 at support@lyvoplus.com

Current Project Data:
- Total Properties: ${a.totalProperties||"Multiple"}
- Price Range: ${a.averagePrice||"Flexible pricing"}
- Available Cities: ${((r=a.cities)==null?void 0:r.join(", "))||"Multiple cities"}
- Property Types: Single rooms, Shared rooms, Premium suites

Sample Properties:
${((n=a.properties)==null?void 0:n.slice(0,3).map(f=>`- ${f.name} (${f.type}): ${f.price} in ${f.location}`).join(`
`))||"- Various properties available"}

Guidelines:
- Be friendly, helpful, and professional
- Focus on co-living, room rentals, and PG accommodations
- Provide accurate information about our services using the project data above
- If asked about topics outside co-living, politely redirect to our services
- Keep responses concise but informative (max 200 words)
- Always be encouraging about our co-living community
- Use the provided project data to give accurate pricing and location information`,l=((i=t[t.length-1])==null?void 0:i.content)||"",c=`${o}

User Question: ${l}`;console.log(" Sending request to Gemini API...");const d=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:200}})});if(console.log(" Gemini API response status:",d.status),!d.ok){const f=await d.text();throw console.error(" Gemini API error response:",f),new Error(`Gemini API error: ${d.status} ${d.statusText}`)}const u=await d.json();if(console.log(" Gemini API response data:",u),!u.candidates||!u.candidates[0]||!u.candidates[0].content)throw new Error("Invalid response format from Gemini API");const A=u.candidates[0].content.parts[0].text;return console.log(" Final AI response:",A),A}catch(a){throw console.error(" Gemini API call failed:",a),a}}getFallbackResponse(t){const r=t.toLowerCase();return r.includes("price")||r.includes("cost")||r.includes("rent")||r.includes("fee")||r.includes("expensive")||r.includes("cheap")?this.getRandomResponse("pricing"):r.includes("location")||r.includes("area")||r.includes("where")||r.includes("place")||r.includes("bangalore")||r.includes("koramangala")||r.includes("hsr")?this.getRandomResponse("locations"):r.includes("amenity")||r.includes("facility")||r.includes("wifi")||r.includes("gym")||r.includes("kitchen")||r.includes("security")||r.includes("laundry")?this.getRandomResponse("amenities"):r.includes("book")||r.includes("apply")||r.includes("reserve")||r.includes("process")||r.includes("how to")||r.includes("procedure")?this.getRandomResponse("booking"):r.includes("roommate")||r.includes("flatmate")||r.includes("match")||r.includes("compatibility")||r.includes("sharing")?this.getRandomResponse("roommate"):r.includes("security")||r.includes("safe")||r.includes("guard")||r.includes("cctv")||r.includes("safety")?this.getRandomResponse("security"):r.includes("payment")||r.includes("pay")||r.includes("upi")||r.includes("card")||r.includes("money")||r.includes("billing")?this.getRandomResponse("payment"):r.includes("support")||r.includes("help")||r.includes("contact")||r.includes("call")||r.includes("assistance")?this.getRandomResponse("support"):r.includes("hello")||r.includes("hi")||r.includes("hey")||r.includes("good morning")||r.includes("good afternoon")||r.includes("good evening")?this.getRandomResponse("greeting"):this.getRandomResponse("default")}getRandomResponse(t){const r=this.fallbackResponses[t]||this.fallbackResponses.default;return r[Math.floor(Math.random()*r.length)]}async getLyvoAssistantResponse(t){try{console.log(" Getting AI response for:",t);const r=await this.getChatResponse([{role:"user",content:t}]);return console.log(" AI Response received:",r),r}catch(r){return console.error(" Error getting Lyvo assistant response:",r),console.log(" Falling back to demo response"),"I'm sorry, I'm having trouble right now. Please try again later or contact our support team at support@lyvoplus.com for immediate assistance."}}}const MF=new gAe,iK=()=>{const[e,t]=j.useState(!1),[r,n]=j.useState(!1),[i,a]=j.useState(!1),[o,l]=j.useState([{id:1,type:"bot",content:"Hi! I'm Lyvo+ Assistant. I can help you find the perfect co-living space, answer questions about our services, or assist with bookings. How can I help you today?",timestamp:new Date}]),[c,d]=j.useState(""),[u,A]=j.useState(!1),[f,m]=j.useState("idle"),[x,g]=j.useState(""),v=j.useRef(null),y=()=>{var I;(I=v.current)==null||I.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{y()},[o]),j.useEffect(()=>{e&&f==="idle"&&(async()=>{m("initializing");try{await MF.initialize(),m("ready")}catch(F){console.error("Failed to initialize AI service:",F),m("error"),g("AI service unavailable. Using fallback responses.")}})()},[e,f]),j.useEffect(()=>{const I=F=>{r&&!F.target.closest(".chatbot-menu")&&E()};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[r]);const b={greeting:["Hello! Welcome to Lyvo+. I'm here to help you find your perfect co-living space!","Hi there! Ready to discover amazing co-living opportunities?","Welcome to Lyvo+! Let's find you the ideal living space with great roommates."],pricing:["Our rooms start from 8,000/month for shared spaces and 15,000/month for single rooms. Prices vary by location and amenities. Would you like to see our current listings?","Pricing depends on location, room type, and amenities. Single rooms range from 12,000-25,000/month, while shared spaces start at 8,000/month. All prices include utilities!","We offer flexible pricing options! Single rooms: 12,000-25,000/month, Shared rooms: 8,000-15,000/month. All inclusive of WiFi, utilities, and basic amenities."],locations:["We have properties in prime locations across Bangalore: Koramangala, Indiranagar, HSR Layout, Whitefield, and Electronic City. Which area interests you?","Our properties are strategically located in Bangalore's best neighborhoods. We have 50+ locations including Koramangala, Indiranagar, HSR Layout, and more!","Currently, we operate in Bangalore with plans to expand to Mumbai, Delhi, and Hyderabad. Our Bangalore locations include all major tech hubs and residential areas."],amenities:["All our properties include: High-speed WiFi, 24/7 security, housekeeping, laundry facilities, common kitchen, and co-working spaces. Some locations also have gyms and cafeterias!","Standard amenities: WiFi, security, cleaning, kitchen access, and common areas. Premium locations include gyms, cafeterias, gaming rooms, and rooftop spaces.","We provide WiFi, security, housekeeping, shared kitchens, study areas, and common lounges. Premium properties also feature gyms, cafeterias, and recreational facilities."],booking:["To book a room, you can: 1) Browse our listings, 2) Schedule a virtual or in-person tour, 3) Complete the application form, 4) Sign the digital agreement. The process takes 2-3 days!","Booking is simple! Visit any room listing, click 'Book Now', fill the application, and we'll get back within 24 hours. You can also schedule a tour first.","Our booking process: Select a room  Schedule tour  Submit application  Digital agreement  Move in! We typically process applications within 48 hours."],roommate:["We use AI-powered compatibility matching based on lifestyle, work schedule, cleanliness preferences, and interests. You can also specify gender preferences and age range.","Our roommate matching considers work schedules, lifestyle habits, cleanliness standards, and personal interests. We ensure compatible living arrangements for everyone.","We match roommates using advanced algorithms that consider lifestyle compatibility, work schedules, and personal preferences. You can also choose your own roommates if you prefer."],security:["All properties have 24/7 security, CCTV cameras, secure entry systems, and verified property owners. We also conduct background checks on all residents.","Security features include: 24/7 guards, CCTV surveillance, secure access cards, and emergency response systems. All property owners are background-verified.","Your safety is our priority! We provide 24/7 security, surveillance systems, secure access, and verified property owners. All residents undergo background verification."],payment:["We accept online payments via UPI, cards, and net banking. Rent is typically paid monthly, and we offer flexible payment plans. No hidden charges!","Payment options: UPI, credit/debit cards, net banking, and digital wallets. Rent is due monthly, and we provide transparent billing for all utilities.","Payments can be made online through our secure portal. We accept UPI, cards, and net banking. Monthly rent includes utilities with no hidden costs."],support:["Our support team is available 24/7 via chat, phone (+91 98765 43210), or email (support@lyvoplus.com). We typically respond within 2 hours!","You can reach us anytime at support@lyvoplus.com or call +91 98765 43210. Our team responds within 2 hours and is available 24/7.","24/7 support available! Contact us at support@lyvoplus.com or +91 98765 43210. We also have in-app chat support for immediate assistance."],default:["I'm here to help with co-living questions! You can ask about pricing, locations, amenities, booking process, roommate matching, security, payments, or support.","I can assist with finding rooms, understanding our services, booking process, roommate matching, and general inquiries. What would you like to know?","Feel free to ask about our co-living spaces, pricing, locations, amenities, booking process, or any other questions about Lyvo+!"]},w=[{text:"What are your room prices?",category:"pricing"},{text:"Where are your properties located?",category:"locations"},{text:"What amenities do you provide?",category:"amenities"},{text:"How do I book a room?",category:"booking"},{text:"How do you match roommates?",category:"roommate"},{text:"What security measures do you have?",category:"security"},{text:"What payment methods do you accept?",category:"payment"},{text:"How can I contact support?",category:"support"}],_=I=>{const F=I.toLowerCase();return F.includes("are you ai")||F.includes("are you a bot")||F.includes("are you real")||F.includes("ai or human")||F.includes("bot or human")?"Yes, I'm an AI-powered chatbot assistant designed to help you with co-living questions. Currently using fallback responses due to high traffic, but I can still help you with pricing, locations, booking, and more!":F.includes("mock")||F.includes("fake")||F.includes("real message")?"I'm using pre-programmed fallback responses right now since our main AI service is temporarily busy. But I'm still here to help with all your co-living questions! What would you like to know?":F.includes("what i asked")||F.includes("my question")||F.includes("tell me about")?"I apologize for not directly answering your previous question. I'm currently in fallback mode. Could you please rephrase your question? I can help with: pricing, locations, amenities, booking process, roommate matching, security, payments, or support contact info.":F.includes("price")||F.includes("cost")||F.includes("rent")||F.includes("fee")?b.pricing[Math.floor(Math.random()*b.pricing.length)]:F.includes("location")||F.includes("area")||F.includes("where")||F.includes("place")?b.locations[Math.floor(Math.random()*b.locations.length)]:F.includes("amenity")||F.includes("facility")||F.includes("wifi")||F.includes("gym")?b.amenities[Math.floor(Math.random()*b.amenities.length)]:F.includes("book")||F.includes("apply")||F.includes("reserve")||F.includes("process")?b.booking[Math.floor(Math.random()*b.booking.length)]:F.includes("roommate")||F.includes("flatmate")||F.includes("match")||F.includes("compatibility")?b.roommate[Math.floor(Math.random()*b.roommate.length)]:F.includes("security")||F.includes("safe")||F.includes("guard")||F.includes("cctv")?b.security[Math.floor(Math.random()*b.security.length)]:F.includes("payment")||F.includes("pay")||F.includes("upi")||F.includes("card")?b.payment[Math.floor(Math.random()*b.payment.length)]:F.includes("support")||F.includes("help")||F.includes("contact")||F.includes("call")?b.support[Math.floor(Math.random()*b.support.length)]:F.includes("hello")||F.includes("hi")||F.includes("hey")?b.greeting[Math.floor(Math.random()*b.greeting.length)]:b.default[Math.floor(Math.random()*b.default.length)]},N=async I=>{if(!I.trim())return;const F={id:Date.now(),type:"user",content:I,timestamp:new Date};l(B=>[...B,F]),d(""),A(!0);try{let B;if(f==="ready")try{B=await MF.getLyvoAssistantResponse(I)}catch(O){console.error("AI service error:",O),B=_(I)}else B=_(I);setTimeout(()=>{const O={id:Date.now()+1,type:"bot",content:B,timestamp:new Date};l(R=>[...R,O]),A(!1)},1e3+Math.random()*1e3)}catch(B){console.error("Error handling message:",B),setTimeout(()=>{const O={id:Date.now()+1,type:"bot",content:"I'm sorry, I'm having trouble right now. Please try again or contact our support team at support@lyvoplus.com.",timestamp:new Date};l(R=>[...R,O]),A(!1)},1e3)}},C=I=>{N(I)},P=()=>{l([{id:Date.now(),type:"bot",content:"Hi! I'm Lyvo+ Assistant. I can help you find the perfect co-living space, answer questions about our services, or assist with bookings. How can I help you today?",timestamp:new Date}]),a(!1),n(!1)},E=()=>{n(!1),a(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(Y.div,{className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-[80]",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:2},children:s.jsxs(Y.button,{onClick:()=>t(!e),className:"relative w-16 h-16 sm:w-16 sm:h-16 bg-gradient-to-br from-red-500 via-red-600 to-red-700 rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 flex items-center justify-center text-white border-2 border-white/20",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9,rotate:-5},children:[s.jsx(Mr,{mode:"wait",children:e?s.jsx(Y.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.3},children:s.jsx(ar,{className:"w-7 h-7 sm:w-7 sm:h-7"})},"close"):s.jsx(Y.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.3},children:s.jsx(ad,{className:"w-7 h-7 sm:w-7 sm:h-7"})},"chat")}),s.jsx(Y.div,{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-red-500 via-red-600 to-red-700 opacity-30",animate:{scale:[1,1.3,1]},transition:{duration:2,repeat:1/0,delay:3}}),s.jsx(Y.div,{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-400 rounded-full border-2 border-white shadow-lg",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}})]})}),s.jsx(Mr,{children:e&&s.jsxs(Y.div,{initial:{opacity:0,scale:.8,y:20,rotateX:-15},animate:{opacity:1,scale:1,y:0,rotateX:0},exit:{opacity:0,scale:.8,y:20,rotateX:-15},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-24 right-4 z-[75] w-[320px] h-[500px] sm:bottom-32 sm:right-20 bg-gradient-to-br from-white to-gray-50 rounded-[2rem] shadow-2xl border border-gray-200/50 backdrop-blur-sm flex flex-col",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[s.jsxs("div",{className:"relative bg-gradient-to-br from-red-500 via-red-600 to-red-700 text-white p-3 rounded-t-[2rem]",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white rounded-full -mr-10 -mt-10"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 bg-white rounded-full -ml-6 -mb-6"})]}),s.jsxs("div",{className:"relative flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-9 h-9 sm:w-8 sm:h-8 bg-white rounded-xl flex items-center justify-center shadow-sm border border-white/30 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-5 h-5 sm:w-4 sm:h-4 object-contain"})}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-2.5 sm:h-2.5 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-bold text-base sm:text-sm",children:[s.jsx("span",{className:"text-black",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Assistant"]}),s.jsxs("div",{className:"text-sm sm:text-xs text-red-100 flex items-center space-x-1",children:[s.jsx("div",{className:`w-2 h-2 sm:w-1.5 sm:h-1.5 rounded-full ${f==="ready"?"bg-green-400 animate-pulse":f==="error"?"bg-yellow-400":f==="initializing"?"bg-blue-400 animate-pulse":"bg-gray-400"}`}),s.jsx("span",{children:f==="ready"?"AI Online  Ready to help":f==="error"?"Fallback Mode  Still helping":f==="initializing"?"Initializing AI...":"Ready to chat"})]})]}),s.jsxs("div",{className:"relative chatbot-menu",children:[s.jsx(Y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(!r),className:"w-7 h-7 sm:w-6 sm:h-6 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors duration-200 backdrop-blur-sm",children:s.jsx(qP,{className:"w-4 h-4 sm:w-3 sm:h-3"})}),s.jsx(Mr,{children:r&&s.jsx(Y.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden z-30",children:s.jsx("div",{className:"p-1",children:s.jsxs(Y.button,{whileHover:{backgroundColor:"#fef2f2"},onClick:()=>a(!0),className:"w-full flex items-center space-x-3 px-3 py-2.5 text-sm text-gray-700 hover:text-red-600 rounded-lg transition-colors duration-200",children:[s.jsx(Tf,{className:"w-4 h-4"}),s.jsx("span",{children:"Clear Chat"})]})})})})]}),s.jsx(Y.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:()=>t(!1),className:"w-7 h-7 sm:w-6 sm:h-6 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors duration-200 backdrop-blur-sm",children:s.jsx(ar,{className:"w-4 h-4 sm:w-3 sm:h-3"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 bg-gradient-to-b from-gray-50/50 to-white/50",children:[o.map(I=>s.jsx(Y.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:300,damping:30},className:`flex ${I.type==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[88%] p-3 sm:p-2.5 rounded-xl shadow-sm ${I.type==="user"?"bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg":"bg-white text-gray-800 border border-gray-100 shadow-md"}`,style:{boxShadow:I.type==="user"?"0 10px 25px -5px rgba(239, 68, 68, 0.3)":"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[s.jsx("p",{className:"text-sm sm:text-xs leading-relaxed",children:I.content}),s.jsxs("p",{className:`text-xs mt-1.5 flex items-center space-x-1 ${I.type==="user"?"text-red-100":"text-gray-400"}`,children:[s.jsx("span",{children:I.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),I.type==="user"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Sent"})]})]})]})},I.id)),u&&s.jsx(Y.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex justify-start",children:s.jsx("div",{className:"bg-white border border-gray-100 p-3 sm:p-2.5 rounded-xl shadow-md",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-6 h-6 sm:w-5 sm:h-5 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Ir,{className:"w-3 h-3 sm:w-2.5 sm:h-2.5 text-red-500"})}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(Y.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:0}}),s.jsx(Y.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:.2}}),s.jsx(Y.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:.4}})]}),s.jsxs("span",{className:"text-sm sm:text-xs text-gray-500 ml-1",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," is typing..."]})]})})}),s.jsx("div",{ref:v})]}),o.length===1&&s.jsxs("div",{className:"px-3 pb-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Quick questions:"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:w.slice(0,4).map((I,F)=>s.jsx(Y.button,{onClick:()=>C(I.text),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-2 sm:px-2.5 sm:py-1.5 bg-white border border-gray-200 hover:border-red-300 hover:bg-red-50 text-gray-700 text-sm sm:text-xs rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:I.text},F))})]}),s.jsxs("div",{className:"flex-shrink-0 px-3 pt-4 pb-5 border-t border-gray-200 bg-white shadow-sm rounded-b-[2rem]",children:[s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:c,onChange:I=>d(I.target.value),onKeyPress:I=>I.key==="Enter"&&N(c),placeholder:"Ask about rooms, pricing, amenities...",className:"w-full px-4 py-2.5 sm:px-3 sm:py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm sm:text-xs bg-white shadow-sm hover:shadow-md transition-all duration-200"}),s.jsx("div",{className:"absolute right-3 sm:right-2.5 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx(ad,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"})})]}),s.jsx(Y.button,{onClick:()=>N(c),disabled:!c.trim(),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2.5 sm:px-3 sm:py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center",children:s.jsx(If,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"})})]}),s.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send  Available 24/7"})]})]})}),s.jsx(Mr,{children:i&&s.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-60 flex items-center justify-center p-4",onClick:E,children:s.jsx(Y.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:I=>I.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Tf,{className:"w-6 h-6 text-red-500"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Clear Chat History?"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"This will delete all messages and start a new conversation. This action cannot be undone."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:E,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),s.jsx(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:P,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-red-500 rounded-xl hover:bg-red-600 transition-colors duration-200",children:"Clear Chat"})]})]})})})})]})},xAe=1,yAe=1e6;let AC=0;function vAe(){return AC=(AC+1)%Number.MAX_SAFE_INTEGER,AC.toString()}const fC=new Map,QF=e=>{if(fC.has(e))return;const t=setTimeout(()=>{fC.delete(e),Fx({type:"REMOVE_TOAST",toastId:e})},yAe);fC.set(e,t)},bAe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xAe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?QF(r):e.toasts.forEach(n=>{QF(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},A1=[];let f1={toasts:[]};function Fx(e){f1=bAe(f1,e),A1.forEach(t=>{t(f1)})}function wAe({...e}){const t=vAe(),r=i=>Fx({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Fx({type:"DISMISS_TOAST",toastId:t});return Fx({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function to(){const[e,t]=j.useState(f1);return j.useEffect(()=>(A1.push(t),()=>{const r=A1.indexOf(t);r>-1&&A1.splice(r,1)}),[e]),{...e,toast:wAe,dismiss:r=>Fx({type:"DISMISS_TOAST",toastId:r})}}function $r(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function $F(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function aK(...e){return t=>{let r=!1;const n=e.map(i=>{const a=$F(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():$F(e[i],null)}}}}function gs(...e){return j.useCallback(aK(...e),e)}function jAe(e,t){const r=j.createContext(t),n=a=>{const{children:o,...l}=a,c=j.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=j.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function Tv(e,t=[]){let r=[];function n(a,o){const l=j.createContext(o),c=r.length;r=[...r,o];const d=A=>{var y;const{scope:f,children:m,...x}=A,g=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,v=j.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:v,children:m})};d.displayName=a+"Provider";function u(A,f){var g;const m=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,x=j.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${A}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=r.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,NAe(i,...t)]}function NAe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const A=c(a)[`__scope${d}`];return{...l,...A}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ng(e){const t=CAe(e),r=j.forwardRef((n,i)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(BAe);if(c){const d=c.props.children,u=l.map(A=>A===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:A);return s.jsx(t,{...o,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var _Ae=ng("Slot");function CAe(e){const t=j.forwardRef((r,n)=>{const{children:i,...a}=r;if(j.isValidElement(i)){const o=kAe(i),l=EAe(a,i.props);return i.type!==j.Fragment&&(l.ref=n?aK(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SAe=Symbol("radix.slottable");function BAe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SAe}function EAe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function kAe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function oK(e){const t=e+"CollectionProvider",[r,n]=Tv(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,b=Ce.useRef(null),w=Ce.useRef(new Map).current;return s.jsx(i,{scope:v,itemMap:w,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=ng(l),d=Ce.forwardRef((g,v)=>{const{scope:y,children:b}=g,w=a(l,y),_=gs(v,w.collectionRef);return s.jsx(c,{ref:_,children:b})});d.displayName=l;const u=e+"CollectionItemSlot",A="data-radix-collection-item",f=ng(u),m=Ce.forwardRef((g,v)=>{const{scope:y,children:b,...w}=g,_=Ce.useRef(null),N=gs(v,_),C=a(u,y);return Ce.useEffect(()=>(C.itemMap.set(_,{ref:_,...w}),()=>void C.itemMap.delete(_))),s.jsx(f,{[A]:"",ref:N,children:b})});m.displayName=u;function x(g){const v=a(e+"CollectionConsumer",g);return Ce.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${A}]`));return Array.from(v.itemMap.values()).sort((C,P)=>w.indexOf(C.ref.current)-w.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},x,n]}var PAe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yr=PAe.reduce((e,t)=>{const r=ng(`Primitive.${t}`),n=j.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function lK(e,t){e&&aA.flushSync(()=>e.dispatchEvent(t))}function hc(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function IAe(e,t=globalThis==null?void 0:globalThis.document){const r=hc(e);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var TAe="DismissableLayer",B4="dismissableLayer.update",OAe="dismissableLayer.pointerDownOutside",LAe="dismissableLayer.focusOutside",HF,cK=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ON=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=j.useContext(cK),[u,A]=j.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=j.useState({}),x=gs(t,P=>A(P)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,N=UAe(P=>{const E=P.target,I=[...d.branches].some(F=>F.contains(E));!_||I||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},f),C=RAe(P=>{const E=P.target;[...d.branches].some(F=>F.contains(E))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},f);return IAe(P=>{b===d.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},f),j.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(HF=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),VF(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=HF)}},[u,f,r,d]),j.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),VF())},[u,d]),j.useEffect(()=>{const P=()=>m({});return document.addEventListener(B4,P),()=>document.removeEventListener(B4,P)},[]),s.jsx(Yr.div,{...c,ref:x,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:$r(e.onFocusCapture,C.onFocusCapture),onBlurCapture:$r(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:$r(e.onPointerDownCapture,N.onPointerDownCapture)})});ON.displayName=TAe;var FAe="DismissableLayerBranch",dK=j.forwardRef((e,t)=>{const r=j.useContext(cK),n=j.useRef(null),i=gs(t,n);return j.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Yr.div,{...e,ref:i})});dK.displayName=FAe;function UAe(e,t=globalThis==null?void 0:globalThis.document){const r=hc(e),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){uK(OAe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function RAe(e,t=globalThis==null?void 0:globalThis.document){const r=hc(e),n=j.useRef(!1);return j.useEffect(()=>{const i=a=>{a.target&&!n.current&&uK(LAe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function VF(){const e=new CustomEvent(B4);document.dispatchEvent(e)}function uK(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?lK(i,a):i.dispatchEvent(a)}var DAe=ON,MAe=dK,Qi=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},QAe="Portal",LN=j.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,a]=j.useState(!1);Qi(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?tie.createPortal(s.jsx(Yr.div,{...n,ref:t}),o):null});LN.displayName=QAe;function $Ae(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var Ov=e=>{const{present:t,children:r}=e,n=HAe(t),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),a=gs(n.ref,VAe(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:a}):null};Ov.displayName="Presence";function HAe(e){const[t,r]=j.useState(),n=j.useRef(null),i=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=$Ae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=Hb(n.current);a.current=l==="mounted"?d:"none"},[l]),Qi(()=>{const d=n.current,u=i.current;if(u!==e){const f=a.current,m=Hb(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Qi(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,A=m=>{const g=Hb(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=m=>{m.target===t&&(a.current=Hb(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",A),t.addEventListener("animationend",A),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",A),t.removeEventListener("animationend",A)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Hb(e){return(e==null?void 0:e.animationName)||"none"}function VAe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zAe=x3[" useInsertionEffect ".trim().toString()]||Qi;function g2({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=KAe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const u=j.useRef(e!==void 0);j.useEffect(()=>{const A=u.current;A!==l&&console.warn(`${n} is changing from ${A?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=j.useCallback(u=>{var A;if(l){const f=WAe(u)?u(e):u;f!==e&&((A=o.current)==null||A.call(o,f))}else a(u)},[l,e,a,o]);return[c,d]}function KAe({defaultProp:e,onChange:t}){const[r,n]=j.useState(e),i=j.useRef(r),a=j.useRef(t);return zAe(()=>{a.current=t},[t]),j.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function WAe(e){return typeof e=="function"}var hK=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GAe="VisuallyHidden",r6=j.forwardRef((e,t)=>s.jsx(Yr.span,{...e,ref:t,style:{...hK,...e.style}}));r6.displayName=GAe;var n6="ToastProvider",[s6,qAe,YAe]=oK("Toast"),[AK]=Tv("Toast",[YAe]),[XAe,FN]=AK(n6),fK=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=j.useState(null),[d,u]=j.useState(0),A=j.useRef(!1),f=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${n6}\`. Expected non-empty \`string\`.`),s.jsx(s6.Provider,{scope:t,children:s.jsx(XAe,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>u(m=>m+1),[]),onToastRemove:j.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:f,children:o})})};fK.displayName=n6;var mK="ToastViewport",ZAe=["F8"],E4="toast.viewportPause",k4="toast.viewportResume",pK=j.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=ZAe,label:i="Notifications ({hotkey})",...a}=e,o=FN(mK,r),l=qAe(r),c=j.useRef(null),d=j.useRef(null),u=j.useRef(null),A=j.useRef(null),f=gs(t,A,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;j.useEffect(()=>{const v=y=>{var w;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((w=A.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),j.useEffect(()=>{const v=c.current,y=A.current;if(x&&v&&y){const b=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(E4);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(k4);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},_=C=>{!v.contains(C.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",_),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const g=j.useCallback(({tabbingDirection:v})=>{const b=l().map(w=>{const _=w.ref.current,N=[_,...ufe(_)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return j.useEffect(()=>{const v=A.current;if(v){const y=b=>{var N,C,P;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const E=document.activeElement,I=b.shiftKey;if(b.target===v&&I){(N=d.current)==null||N.focus();return}const O=g({tabbingDirection:I?"backwards":"forwards"}),R=O.findIndex(U=>U===E);mC(O.slice(R+1))?b.preventDefault():I?(C=d.current)==null||C.focus():(P=u.current)==null||P.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[l,g]),s.jsxs(MAe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(P4,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});mC(v)}}),s.jsx(s6.Slot,{scope:r,children:s.jsx(Yr.ol,{tabIndex:-1,...a,ref:f})}),x&&s.jsx(P4,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});mC(v)}})]})});pK.displayName=mK;var gK="ToastFocusProxy",P4=j.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=FN(gK,r);return s.jsx(r6,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});P4.displayName=gK;var Lv="Toast",JAe="toast.swipeStart",efe="toast.swipeMove",tfe="toast.swipeCancel",rfe="toast.swipeEnd",xK=j.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=g2({prop:n,defaultProp:i??!0,onChange:a,caller:Lv});return s.jsx(Ov,{present:r||l,children:s.jsx(ife,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:hc(e.onPause),onResume:hc(e.onResume),onSwipeStart:$r(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:$r(e.onSwipeMove,d=>{const{x:u,y:A}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:$r(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:$r(e.onSwipeEnd,d=>{const{x:u,y:A}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),c(!1)})})})});xK.displayName=Lv;var[nfe,sfe]=AK(Lv,{onClose(){}}),ife=j.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:A,onSwipeCancel:f,onSwipeEnd:m,...x}=e,g=FN(Lv,r),[v,y]=j.useState(null),b=gs(t,U=>y(U)),w=j.useRef(null),_=j.useRef(null),N=i||g.duration,C=j.useRef(0),P=j.useRef(N),E=j.useRef(0),{onToastAdd:I,onToastRemove:F}=g,B=hc(()=>{var $;(v==null?void 0:v.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),O=j.useCallback(U=>{!U||U===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(B,U))},[B]);j.useEffect(()=>{const U=g.viewport;if(U){const $=()=>{O(P.current),d==null||d()},K=()=>{const H=new Date().getTime()-C.current;P.current=P.current-H,window.clearTimeout(E.current),c==null||c()};return U.addEventListener(E4,K),U.addEventListener(k4,$),()=>{U.removeEventListener(E4,K),U.removeEventListener(k4,$)}}},[g.viewport,N,c,d,O]),j.useEffect(()=>{a&&!g.isClosePausedRef.current&&O(N)},[a,N,g.isClosePausedRef,O]),j.useEffect(()=>(I(),()=>F()),[I,F]);const R=j.useMemo(()=>v?_K(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(afe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:R}),s.jsx(nfe,{scope:r,onClose:B,children:aA.createPortal(s.jsx(s6.ItemSlot,{scope:r,children:s.jsx(DAe,{asChild:!0,onEscapeKeyDown:$r(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||B(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Yr.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:$r(e.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:$r(e.onPointerDown,U=>{U.button===0&&(w.current={x:U.clientX,y:U.clientY})}),onPointerMove:$r(e.onPointerMove,U=>{if(!w.current)return;const $=U.clientX-w.current.x,K=U.clientY-w.current.y,H=!!_.current,z=["left","right"].includes(g.swipeDirection),te=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ee=z?te(0,$):0,Z=z?0:te(0,K),V=U.pointerType==="touch"?10:2,X={x:ee,y:Z},W={originalEvent:U,delta:X};H?(_.current=X,Vb(efe,A,W,{discrete:!1})):zF(X,g.swipeDirection,V)?(_.current=X,Vb(JAe,u,W,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs($)>V||Math.abs(K)>V)&&(w.current=null)}),onPointerUp:$r(e.onPointerUp,U=>{const $=_.current,K=U.target;if(K.hasPointerCapture(U.pointerId)&&K.releasePointerCapture(U.pointerId),_.current=null,w.current=null,$){const H=U.currentTarget,z={originalEvent:U,delta:$};zF($,g.swipeDirection,g.swipeThreshold)?Vb(rfe,m,z,{discrete:!0}):Vb(tfe,f,z,{discrete:!0}),H.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),afe=e=>{const{__scopeToast:t,children:r,...n}=e,i=FN(Lv,t),[a,o]=j.useState(!1),[l,c]=j.useState(!1);return cfe(()=>o(!0)),j.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(LN,{asChild:!0,children:s.jsx(r6,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},ofe="ToastTitle",yK=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Yr.div,{...n,ref:t})});yK.displayName=ofe;var lfe="ToastDescription",vK=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Yr.div,{...n,ref:t})});vK.displayName=lfe;var bK="ToastAction",wK=j.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(NK,{altText:r,asChild:!0,children:s.jsx(i6,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${bK}\`. Expected non-empty \`string\`.`),null)});wK.displayName=bK;var jK="ToastClose",i6=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=sfe(jK,r);return s.jsx(NK,{asChild:!0,children:s.jsx(Yr.button,{type:"button",...n,ref:t,onClick:$r(e.onClick,i.onClose)})})});i6.displayName=jK;var NK=j.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return s.jsx(Yr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function _K(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),dfe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(..._K(n))}}),t}function Vb(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?lK(i,a):i.dispatchEvent(a)}var zF=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function cfe(e=()=>{}){const t=hc(e);Qi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function dfe(e){return e.nodeType===e.ELEMENT_NODE}function ufe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mC(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var hfe=fK,CK=pK,SK=xK,BK=yK,EK=vK,kK=wK,PK=i6;function IK(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=IK(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=IK(e))&&(n&&(n+=" "),n+=t);return n}const KF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,WF=pr,a6=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return WF(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const u=r==null?void 0:r[d],A=a==null?void 0:a[d];if(u===null)return null;const f=KF(u)||KF(A);return i[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[A,f]=u;return f===void 0||(d[A]=f),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:A,className:f,...m}=u;return Object.entries(m).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...a,...l}[g]):{...a,...l}[g]===v})?[...d,A,f]:d},[]);return WF(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},o6="-",Afe=e=>{const t=mfe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(o6);return l[0]===""&&l.length!==1&&l.shift(),TK(l,t)||ffe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},TK=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?TK(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(o6);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},GF=/^\[(.+)\]$/,ffe=e=>{if(GF.test(e)){const t=GF.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},mfe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return gfe(Object.entries(e.classGroups),r).forEach(([a,o])=>{I4(o,n,a,t)}),n},I4=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:qF(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(pfe(i)){I4(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{I4(o,qF(t,a),r,n)})})},qF=(e,t)=>{let r=e;return t.split(o6).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},pfe=e=>e.isThemeGetter,gfe=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,i]}):e,xfe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},OK="!",yfe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,A;for(let v=0;v<l.length;v++){let y=l[v];if(d===0){if(y===i&&(n||l.slice(v,v+a)===t)){c.push(l.slice(u,v)),u=v+a;continue}if(y==="/"){A=v;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(OK),x=m?f.substring(1):f,g=A&&A>u?A-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},vfe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},bfe=e=>({cache:xfe(e.cacheSize),parseClassName:yfe(e),...Afe(e)}),wfe=/\s+/,jfe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(wfe);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:A,baseClassName:f,maybePostfixModifierPosition:m}=r(d);let x=!!m,g=n(x?f.substring(0,m):f);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=n(f),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const v=vfe(u).join(":"),y=A?v+OK:v,b=y+g;if(a.includes(b))continue;a.push(b);const w=i(g,x);for(let _=0;_<w.length;++_){const N=w[_];a.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function Nfe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=LK(t))&&(n&&(n+=" "),n+=r);return n}const LK=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=LK(e[n]))&&(r&&(r+=" "),r+=t);return r};function _fe(e,...t){let r,n,i,a=o;function o(c){const d=t.reduce((u,A)=>A(u),e());return r=bfe(d),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=jfe(c,r);return i(c,u),u}return function(){return a(Nfe.apply(null,arguments))}}const zn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},FK=/^\[(?:([a-z-]+):)?(.+)\]$/i,Cfe=/^\d+\/\d+$/,Sfe=new Set(["px","full","screen"]),Bfe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Efe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kfe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pfe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ife=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ed=e=>Sp(e)||Sfe.has(e)||Cfe.test(e),Yu=e=>$g(e,"length",Mfe),Sp=e=>!!e&&!Number.isNaN(Number(e)),pC=e=>$g(e,"number",Sp),L0=e=>!!e&&Number.isInteger(Number(e)),Tfe=e=>e.endsWith("%")&&Sp(e.slice(0,-1)),Sr=e=>FK.test(e),Xu=e=>Bfe.test(e),Ofe=new Set(["length","size","percentage"]),Lfe=e=>$g(e,Ofe,UK),Ffe=e=>$g(e,"position",UK),Ufe=new Set(["image","url"]),Rfe=e=>$g(e,Ufe,$fe),Dfe=e=>$g(e,"",Qfe),F0=()=>!0,$g=(e,t,r)=>{const n=FK.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Mfe=e=>Efe.test(e)&&!kfe.test(e),UK=()=>!1,Qfe=e=>Pfe.test(e),$fe=e=>Ife.test(e),Hfe=()=>{const e=zn("colors"),t=zn("spacing"),r=zn("blur"),n=zn("brightness"),i=zn("borderColor"),a=zn("borderRadius"),o=zn("borderSpacing"),l=zn("borderWidth"),c=zn("contrast"),d=zn("grayscale"),u=zn("hueRotate"),A=zn("invert"),f=zn("gap"),m=zn("gradientColorStops"),x=zn("gradientColorStopPositions"),g=zn("inset"),v=zn("margin"),y=zn("opacity"),b=zn("padding"),w=zn("saturate"),_=zn("scale"),N=zn("sepia"),C=zn("skew"),P=zn("space"),E=zn("translate"),I=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Sr,t],O=()=>[Sr,t],R=()=>["",Ed,Yu],U=()=>["auto",Sp,Sr],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Sr],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Sp,Sr];return{cacheSize:500,separator:":",theme:{colors:[F0],spacing:[Ed,Yu],blur:["none","",Xu,Sr],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Xu,Sr],borderSpacing:O(),borderWidth:R(),contrast:Z(),grayscale:te(),hueRotate:Z(),invert:te(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[Tfe,Yu],inset:B(),margin:B(),opacity:Z(),padding:O(),saturate:Z(),scale:Z(),sepia:te(),skew:Z(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Sr]}],container:["container"],columns:[{columns:[Xu]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Sr]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",L0,Sr]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Sr]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",L0,Sr]}],"grid-cols":[{"grid-cols":[F0]}],"col-start-end":[{col:["auto",{span:["full",L0,Sr]},Sr]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[F0]}],"row-start-end":[{row:["auto",{span:[L0,Sr]},Sr]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Sr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Sr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Sr,t]}],"min-w":[{"min-w":[Sr,t,"min","max","fit"]}],"max-w":[{"max-w":[Sr,t,"none","full","min","max","fit","prose",{screen:[Xu]},Xu]}],h:[{h:[Sr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Sr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Sr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Sr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xu,Yu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pC]}],"font-family":[{font:[F0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Sr]}],"line-clamp":[{"line-clamp":["none",Sp,pC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ed,Sr]}],"list-image":[{"list-image":["none",Sr]}],"list-style-type":[{list:["none","disc","decimal",Sr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ed,Yu]}],"underline-offset":[{"underline-offset":["auto",Ed,Sr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Sr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Sr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),Ffe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Lfe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Rfe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Ed,Sr]}],"outline-w":[{outline:[Ed,Yu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ed,Yu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xu,Dfe]}],"shadow-color":[{shadow:[F0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xu,Sr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[A]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Sr]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Sr]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Sr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[L0,Sr]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Sr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Sr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Sr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ed,Yu,pC]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Vfe=_fe(Hfe);function dn(...e){return Vfe(pr(e))}const zfe=hfe,RK=j.forwardRef(({className:e,...t},r)=>s.jsx(CK,{ref:r,className:dn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));RK.displayName=CK.displayName;const Kfe=a6("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),DK=j.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(SK,{ref:n,className:dn(Kfe({variant:t}),e),...r}));DK.displayName=SK.displayName;const Wfe=j.forwardRef(({className:e,...t},r)=>s.jsx(kK,{ref:r,className:dn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Wfe.displayName=kK.displayName;const MK=j.forwardRef(({className:e,...t},r)=>s.jsx(PK,{ref:r,className:dn("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(ar,{className:"h-4 w-4"})}));MK.displayName=PK.displayName;const QK=j.forwardRef(({className:e,...t},r)=>s.jsx(BK,{ref:r,className:dn("text-sm font-semibold [&+div]:text-xs",e),...t}));QK.displayName=BK.displayName;const $K=j.forwardRef(({className:e,...t},r)=>s.jsx(EK,{ref:r,className:dn("text-sm opacity-90",e),...t}));$K.displayName=EK.displayName;function HK(){const{toasts:e}=to();return s.jsxs(zfe,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return s.jsxs(DK,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(QK,{children:r}),n&&s.jsx($K,{children:n})]}),i,s.jsx(MK,{})]},t)}),s.jsx(RK,{})]})}const U0=({children:e,direction:t="up",delay:r=0,duration:n=.8,distance:i=50,className:a="",once:o=!0})=>{const l=j.useRef(null),c=cue(l,{once:o,margin:"0px"}),d=aue(),u={up:{hidden:{opacity:0,y:i},visible:{opacity:1,y:0}},down:{hidden:{opacity:0,y:-i},visible:{opacity:1,y:0}},left:{hidden:{opacity:0,x:i},visible:{opacity:1,x:0}},right:{hidden:{opacity:0,x:-i},visible:{opacity:1,x:0}},scale:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}},fade:{hidden:{opacity:0},visible:{opacity:1}}};return j.useEffect(()=>{c?d.start("visible"):o||d.start("hidden")},[c,d,o]),s.jsx(Y.div,{ref:l,animate:d,initial:"hidden",variants:u[t],transition:{duration:n,delay:r,ease:[.4,0,.2,1]},className:a,children:e})},Gfe=()=>{j.useEffect(()=>{(()=>{const r=localStorage.getItem("authToken"),n=localStorage.getItem("user");if(r&&n)try{const i=JSON.parse(n);console.log("Home: User logged in with role:",i.role),i.role===2?window.location.href="/admin-dashboard":i.role===3?window.location.href="/owner-dashboard":i.role}catch(i){console.error("Home: Error parsing user data:",i)}})()},[]);const e=[{icon:jr,title:"Smart PG Location Finder",description:"Find verified PGs and hostels within 1km radius using GPS technology and live location tracking."},{icon:Hr,title:"AI Roommate Matching",description:"Advanced algorithms match you with compatible roommates based on lifestyle and preferences."},{icon:tr,title:"Verified Properties",description:"Background-verified PG owners and secure rental agreements like OYO's verified hotels."},{icon:gue,title:"Transparent Pricing",description:"Clear monthly rent, food charges, and utility costs with no hidden fees."},{icon:ad,title:"Instant Booking",description:"Book PGs instantly with secure payments, just like booking hotels on OYO."},{icon:ru,title:"Safety & Security",description:"24/7 security, CCTV cameras, and verified PG accommodations for your safety."},{icon:ks,title:"Digital Agreements",description:"Paperless PG rental agreements with e-signatures and secure document storage."},{icon:jr,title:"Nearby Amenities",description:"Interactive maps showing nearby colleges, offices, transport links, and neighborhood insights."}];return s.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-16 overflow-x-hidden",children:s.jsxs("div",{className:"bg-white overflow-x-hidden relative",children:[s.jsxs("div",{className:"fixed inset-0 pointer-events-none z-10",children:[[...Array(20)].map((t,r)=>s.jsx(Y.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-gray-200 rounded-full opacity-40",animate:{x:[0,30,-20,40,10,-30,0],y:[0,-40,30,-60,20,-50,0],scale:[.5,1.5,.8,1.2,.6,1.4,.5],opacity:[.2,.6,.3,.7,.2,.5,.2]},transition:{duration:8+r*.5,repeat:1/0,delay:r*.3,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`bg-particle-${r}`)),[...Array(15)].map((t,r)=>s.jsx(Y.div,{className:`absolute w-1 h-1 sm:w-2 sm:h-2 rounded-full ${r%4===0?"bg-red-300":r%4===1?"bg-blue-300":r%4===2?"bg-yellow-300":"bg-purple-300"} opacity-60`,animate:{x:[0,-50,30,-40,20,-30,0],y:[0,30,-40,20,-30,40,0],scale:[.8,1.6,.5,1.3,.7,1.1,.8],opacity:[.3,.8,.2,.6,.4,.7,.3]},transition:{duration:10+r*.8,repeat:1/0,delay:r*.4,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`color-particle-${r}`)),[...Array(12)].map((t,r)=>s.jsx(Y.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-yellow-300 rounded-full opacity-70",animate:{x:[0,25,-15,30,-10,20,0],y:[0,-30,20,-25,15,-20,0],scale:[.4,2,.3,1.8,.5,1.5,.4],opacity:[.2,1,.1,.9,.3,.8,.2]},transition:{duration:6+r*.6,repeat:1/0,delay:r*.5,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`sparkle-${r}`))]}),s.jsx("div",{className:"relative pt-20 pb-4 px-2 sm:px-6 lg:px-8 sm:pt-28 lg:pt-32 overflow-hidden",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsx(Y.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.3},children:s.jsxs("div",{className:"flex flex-col items-center justify-center mb-12",children:[s.jsxs(Y.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"text-center mb-8 overflow-hidden",children:[s.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-8xl font-black mb-8 relative",children:[s.jsx(Y.div,{animate:{scale:[1.05,1.1,1.05],opacity:[.6,.8,.6],rotate:[-12,-10,-12]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-r from-red-100 via-yellow-100 to-red-100 rounded-2xl transform -skew-x-12 opacity-60 -z-10"}),s.jsxs(Y.span,{whileHover:{scale:1.05,textShadow:"0 0 30px rgba(239, 68, 68, 0.8)"},animate:{textShadow:["0 0 20px rgba(239, 68, 68, 0.3)","0 0 30px rgba(239, 68, 68, 0.6)","0 0 20px rgba(239, 68, 68, 0.3)"]},transition:{duration:.3,textShadow:{duration:3,repeat:1/0,ease:"easeInOut"}},className:"relative",children:[s.jsxs(Y.span,{animate:{y:[0,-2,0],scale:[1,1.02,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"text-red-500 drop-shadow-lg relative",children:["Lyvo",s.jsx(Y.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 w-2 h-2 sm:w-3 sm:h-3 bg-yellow-300 rounded-full opacity-80"}),s.jsx(Y.div,{animate:{rotate:[360,0],scale:[1,1.3,1]},transition:{duration:6,repeat:1/0,ease:"linear"},className:"absolute -bottom-1 -left-1 w-1 h-1 sm:w-2 sm:h-2 bg-blue-300 rounded-full opacity-70"})]}),s.jsxs(Y.span,{whileHover:{scale:1.1,rotate:8,textShadow:"0 0 25px rgba(0, 0, 0, 0.6)"},animate:{y:[0,1,0],rotate:[0,1,-1,0]},transition:{duration:.3,y:{duration:4,repeat:1/0,ease:"easeInOut"},rotate:{duration:6,repeat:1/0,ease:"easeInOut"}},className:"text-gray-900 drop-shadow-lg relative",children:["+",s.jsx(Y.div,{animate:{scale:[1,1.4,.8,1.2,1],opacity:[.7,1,.5,.9,.7],y:[0,-2,0,-1,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 w-2 h-2 sm:w-3 sm:h-3 bg-yellow-400 rounded-full shadow-sm"}),s.jsx(Y.div,{animate:{rotate:[0,180,360],scale:[.8,1.2,.8]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute -top-3 -right-3 w-1 h-1 sm:w-2 sm:h-2 bg-orange-300 rounded-full opacity-60"})]})]}),s.jsx(Y.div,{animate:{scale:[1,1.5,.8,1.3,1],opacity:[.6,1,.3,.9,.6],rotate:[0,45,90,135,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 sm:-top-4 sm:-right-4 w-2 h-2 sm:w-4 sm:h-4 bg-gradient-to-br from-red-400 to-orange-400 rounded-full shadow-lg"}),s.jsx(Y.div,{animate:{scale:[1,1.3,.7,1.2,1],opacity:[.6,1,.4,.8,.6],rotate:[0,-45,-90,-135,0]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut"},className:"absolute -bottom-1 -left-1 sm:-bottom-4 sm:-left-4 w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-br from-blue-400 to-purple-400 rounded-full shadow-lg"}),s.jsx(Y.div,{animate:{x:[0,5,-3,4,0],y:[0,-3,2,-4,0],scale:[1,1.2,.8,1.1,1]},transition:{duration:7,repeat:1/0,ease:"easeInOut"},className:"absolute top-2 right-2 sm:top-6 sm:right-6 w-1 h-1 sm:w-2 sm:h-2 bg-green-400 rounded-full shadow-md"}),s.jsx(Y.div,{animate:{x:[0,-4,3,-2,0],y:[0,2,-3,1,0],scale:[1,1.1,.9,1.2,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-2 left-2 sm:bottom-6 sm:left-6 w-1 h-1 sm:w-2 sm:h-2 bg-pink-400 rounded-full shadow-md"})]}),s.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.4},className:"mt-8",children:s.jsxs("p",{className:"text-base sm:text-lg text-gray-600 font-medium tracking-wide px-2",children:[s.jsx("span",{className:"text-red-500",children:"["}),s.jsx("span",{className:"mx-1 sm:mx-2",children:"INDIA'S #1 PG & CO-LIVING PLATFORM"}),s.jsx("span",{className:"text-red-500",children:"]"})]})})]}),s.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},className:"relative mt-8",children:[s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[[...Array(12)].map((t,r)=>{const n=r*30*(Math.PI/180),i=80+r%3*20;return s.jsx(Y.div,{className:"absolute w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-r from-red-400 via-orange-400 to-yellow-400 rounded-full shadow-lg",animate:{x:[Math.cos(n)*i,Math.cos(n+Math.PI/6)*(i+10),Math.cos(n+Math.PI/3)*(i-5),Math.cos(n+Math.PI/2)*(i+15),Math.cos(n+2*Math.PI/3)*(i-10),Math.cos(n+5*Math.PI/6)*(i+5),Math.cos(n+Math.PI)*i],y:[Math.sin(n)*i,Math.sin(n+Math.PI/6)*(i+10),Math.sin(n+Math.PI/3)*(i-5),Math.sin(n+Math.PI/2)*(i+15),Math.sin(n+2*Math.PI/3)*(i-10),Math.sin(n+5*Math.PI/6)*(i+5),Math.sin(n+Math.PI)*i],scale:[1,1.5,.8,1.3,.9,1.2,1],opacity:[.6,1,.3,.9,.4,.8,.6]},transition:{duration:6+r*.3,repeat:1/0,delay:r*.2,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r)}),[...Array(8)].map((t,r)=>{const n=r*45*(Math.PI/180),i=40+r%2*15;return s.jsx(Y.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-yellow-300 rounded-full shadow-sm",animate:{x:[Math.cos(n)*i,Math.cos(n+Math.PI/4)*(i+8),Math.cos(n+Math.PI/2)*(i-3),Math.cos(n+3*Math.PI/4)*(i+12),Math.cos(n+Math.PI)*i],y:[Math.sin(n)*i,Math.sin(n+Math.PI/4)*(i+8),Math.sin(n+Math.PI/2)*(i-3),Math.sin(n+3*Math.PI/4)*(i+12),Math.sin(n+Math.PI)*i],scale:[.5,1.8,.4,1.5,.5],opacity:[.3,1,.2,.8,.3]},transition:{duration:4+r*.4,repeat:1/0,delay:r*.3,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},`sparkle-${r}`)}),[...Array(6)].map((t,r)=>{const n=r*60*(Math.PI/180),i=120+r%2*30;return s.jsx(Y.div,{className:`absolute ${r%2===0?"w-2 h-2 sm:w-3 sm:h-3 bg-blue-400 rounded-full":"w-3 h-3 sm:w-4 sm:h-4 bg-purple-400 transform rotate-45"} shadow-md`,animate:{x:[Math.cos(n)*i,Math.cos(n+Math.PI/3)*(i+20),Math.cos(n+2*Math.PI/3)*(i-15),Math.cos(n+Math.PI)*i],y:[Math.sin(n)*i,Math.sin(n+Math.PI/3)*(i+20),Math.sin(n+2*Math.PI/3)*(i-15),Math.sin(n+Math.PI)*i],scale:[1,1.6,.7,1],opacity:[.4,.9,.2,.4],rotate:r%2===0?[0,180,360]:[0,-180,-360]},transition:{duration:8+r*.6,repeat:1/0,delay:r*.4,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},`accent-${r}`)})]}),s.jsx(Y.div,{initial:{width:0},animate:{width:"auto"},transition:{delay:.4,duration:.8,ease:"easeOut"},className:"overflow-hidden whitespace-normal break-words sm:whitespace-nowrap mx-auto text-center px-2",children:s.jsx(Y.span,{className:"text-xl sm:text-xl font-semibold text-red-600",children:"Find Your Perfect PG, Hostel & Co-Living Space"})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.3},className:"mt-12",children:s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-red-200 max-w-md mx-auto mx-2",children:[s.jsxs("p",{className:"text-sm sm:text-sm text-gray-700 mb-3",children:[s.jsx("span",{className:"text-red-600 font-semibold",children:" Quick Start:"})," Sign up in 30 seconds and find your perfect PG!"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsx(Ot,{to:"/signup",children:s.jsx("button",{className:"w-full sm:w-auto bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-700 transition-colors",children:"Sign Up Free"})}),s.jsx(Ot,{to:"/login",children:s.jsx("button",{className:"w-full sm:w-auto text-red-600 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-50 transition-colors",children:"Login"})})]})]})})]})]})})})}),s.jsxs("div",{className:"py-8 sm:py-12 px-2 sm:px-6 lg:px-8 relative",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((t,r)=>s.jsx(Y.div,{className:`absolute w-1 h-1 sm:w-2 sm:h-2 rounded-full ${r%3===0?"bg-red-200":r%3===1?"bg-blue-200":"bg-yellow-200"} opacity-50`,animate:{x:[0,20,-15,25,-10,15,0],y:[0,-25,15,-20,10,-15,0],scale:[.6,1.4,.5,1.2,.7,1.1,.6],opacity:[.3,.7,.2,.6,.4,.5,.3]},transition:{duration:7+r*.7,repeat:1/0,delay:r*.6,ease:"easeInOut"},style:{left:`${20+r*10}%`,top:`${30+r%4*15}%`}},`section-particle-${r}`))}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[s.jsxs("h2",{className:"text-3xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-6 px-2",children:["Why Choose"," ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"}),"?"]}),s.jsx("p",{className:"text-lg sm:text-lg text-gray-600 max-w-3xl mx-auto px-2 leading-relaxed",children:"Like OYO for hotels and Airbnb for homes, Lyvo+ is your go-to platform for finding verified PGs, hostels, and co-living spaces. Book instantly with secure payments and verified properties."})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mt-8",children:e.map((t,r)=>s.jsxs(Y.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg border border-gray-200 p-5 sm:p-6 hover:shadow-xl transition-all duration-200 relative",children:[r===0&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-bold animate-pulse",children:"POPULAR"}),s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mb-4 sm:mb-5",children:s.jsx(t.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),s.jsx("h3",{className:"text-lg sm:text-lg font-semibold text-gray-900 mb-3",children:t.title}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-sm leading-relaxed",children:t.description}),r===0&&s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:s.jsx(Ot,{to:"/signup",children:s.jsx("button",{className:"w-full bg-red-50 text-red-600 py-2 rounded-lg text-sm font-semibold hover:bg-red-100 transition-colors",children:" Try Now - Free"})})})]},r))})]})]}),s.jsx("div",{className:"py-20 sm:py-28 lg:py-32 relative overflow-hidden bg-gray-50",children:s.jsx("div",{className:"max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 text-center relative z-10",children:s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[s.jsxs("h2",{className:"text-4xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-8 sm:mb-10 font-display px-2",children:["Ready to Book Your ",s.jsx("span",{className:"text-red-600",children:"Perfect PG"}),"?"]}),s.jsx("p",{className:"text-xl sm:text-xl lg:text-2xl text-gray-600 mb-10 sm:mb-14 font-medium max-w-3xl mx-auto px-2 leading-relaxed",children:"Join thousands of students and professionals who have found their ideal PG, hostel, and co-living space with Lyvo+."}),s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-3 sm:p-4 mb-6 sm:mb-8 max-w-2xl mx-auto mx-2",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2 text-red-700 font-semibold text-base sm:text-base",children:[s.jsx("span",{className:"animate-pulse",children:""}),s.jsx("span",{children:"Limited Time: Get 500 OFF on your first month!"}),s.jsx("span",{className:"animate-pulse",children:""})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-6 sm:mb-8 text-sm sm:text-sm text-gray-600 px-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex -space-x-2",children:[s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-red-200 rounded-full border-2 border-white"}),s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-200 rounded-full border-2 border-white"}),s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-yellow-200 rounded-full border-2 border-white"})]}),s.jsx("span",{children:"500+ PGs booked this week"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-yellow-500",children:""}),s.jsx("span",{children:"4.8/5 from 10K+ reviews"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mb-6 sm:mb-8 px-2",children:[s.jsx(Ot,{to:"/signup",children:s.jsxs(Y.button,{whileHover:{scale:1.05,boxShadow:"0 30px 60px rgba(0, 0, 0, 0.3)"},whileTap:{scale:.95},className:"w-full sm:w-auto bg-red-600 text-white px-8 sm:px-12 py-4 sm:py-6 rounded-2xl font-bold text-xl sm:text-2xl flex items-center justify-center space-x-2 sm:space-x-4 shadow-2xl hover:bg-red-700 transition-all duration-300",children:[s.jsx("span",{className:"relative z-10",children:"Sign Up - Get 500 OFF"}),s.jsx(c1,{className:"w-5 h-5 sm:w-7 sm:h-7 relative z-10 group-hover:translate-x-2 transition-transform duration-300"})]})}),s.jsx(Ot,{to:"/login",children:s.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto border-2 border-red-600 text-red-600 px-8 sm:px-12 py-4 sm:py-6 rounded-2xl font-bold text-xl sm:text-2xl hover:bg-red-50 transition-all duration-300",children:"Login"})})]}),s.jsx("div",{className:"text-center text-sm sm:text-sm text-gray-500 px-2",children:s.jsx("p",{children:" Secure & Verified   No Hidden Charges   Instant Booking"})})]})})})]})})},qfe=async e=>{if(!e||!e._id)return console.error("Invalid user object for role repair"),e;try{console.log(" Attempting to repair user role for:",e.email);const t=await fetch(`http://localhost:4002/api/user/public/user/${e._id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const r=await t.json();if(console.log(" Retrieved user data from backend:",r),r.role!==void 0&&r.role!==null){const n={...e,role:r.role};return localStorage.setItem("user",JSON.stringify(n)),console.log(" User role repaired and saved to localStorage"),n}else return console.warn(" Backend also has undefined role, attempting manual fix"),await gC(e)}else return console.error(" Failed to fetch user data from backend:",t.status),await gC(e)}catch(t){return console.error(" Error repairing user role:",t),await gC(e)}},gC=async e=>{console.log(" Attempting manual role fix for:",e.email);let t=1;if(e.email){const n=e.email.toLowerCase();n.includes("admin")||n.includes("lyvo")?t=2:(n.includes("owner")||n.includes("property")||n.includes("anandupg2022"))&&(t=3)}e.name&&(e.name.includes("Owner")||e.name.includes("Property"))&&(t=3);const r={...e,role:t};return localStorage.setItem("user",JSON.stringify(r)),console.log(` Manual role fix applied: estimated role ${t} for ${e.email}`),r},Yfe=e=>!e||e.role===void 0||e.role===null,Xfe=async e=>Yfe(e)?(console.log(" User role needs repair, attempting auto-repair..."),await qfe(e)):e,Fv=e=>{if(!e)return null;const t=e.role;return t==null?(console.warn("User role is undefined/null, attempting to determine from email or other data"),e.email&&e.email.includes("admin")?2:e.email&&(e.email.includes("owner")||e.email.includes("property"))?3:(console.warn("Could not determine user role, defaulting to seeker (1)"),1)):typeof t=="string"?parseInt(t,10):t},Uv=()=>{try{const e=localStorage.getItem("user");if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(console.error("Invalid user data in localStorage"),null):t}catch(e){return console.error("Error parsing user data from localStorage:",e),null}},Zfe=async()=>{try{const e=localStorage.getItem("user");if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(console.error("Invalid user data in localStorage"),null):await Xfe(t)}catch(e){return console.error("Error parsing user data from localStorage:",e),null}},Rv=()=>localStorage.getItem("authToken"),Bp=e=>{const t=Fv(e);switch(console.log("getRedirectUrl: Processing user:",{userRole:t,userRoleType:typeof t,isNewUser:e==null?void 0:e.isNewUser,hasCompletedBehaviorQuestions:e==null?void 0:e.hasCompletedBehaviorQuestions,userEmail:e==null?void 0:e.email,rawUser:e}),t){case 2:return console.log("getRedirectUrl: Redirecting admin to /admin-dashboard"),"/admin-dashboard";case 3:return console.log("getRedirectUrl: Redirecting owner to /owner-dashboard"),"/owner-dashboard";case 1:return e.isNewUser&&!e.hasCompletedBehaviorQuestions?(console.log("getRedirectUrl: Redirecting new seeker to /seeker-onboarding"),"/seeker-onboarding"):e.isTenant?(console.log("getRedirectUrl: User is an active tenant, redirecting to /tenant-dashboard"),"/tenant-dashboard"):(console.log("getRedirectUrl: Redirecting seeker to /seeker-dashboard"),"/seeker-dashboard");default:return console.log("getRedirectUrl: Unknown role, redirecting to /login"),"/login"}},Jfe=()=>{const e=console.error;console.error=(...r)=>{const n=r.join(" ");n.includes("Refused to get unsafe header")||n.includes("x-rtb-fingerprint-id")||e.apply(console,r)};const t=console.warn;console.warn=(...r)=>{const n=r.join(" ");n.includes("Expected length")&&n.includes("auto")||t.apply(console,r)},window.addEventListener("error",r=>{if(r.message.includes("MutationObserver")&&r.message.includes("parameter 1 is not of type"))return r.preventDefault(),!1})},l6=({currentImage:e,onImageUpdate:t,className:r=""})=>{const[n,i]=j.useState(!1),[a,o]=j.useState(null),l=j.useRef(null),c=f=>{const m=f.target.files[0];if(m){if(!m.type.startsWith("image/")){alert("Please select an image file");return}if(m.size>5*1024*1024){alert("File size must be less than 5MB");return}const x=new FileReader;x.onload=g=>{o(g.target.result)},x.readAsDataURL(m)}},d=async()=>{var f;if(a){i(!0);try{const m=localStorage.getItem("authToken");if(!m)throw new Error("No authentication token found. Please log in again.");const g=await(await fetch(a)).blob(),v=new FormData;v.append("profilePicture",g,"profile-picture.jpg");const y=await _n.post("http://localhost:5000/api/user/upload-profile-picture",v,{headers:{Authorization:`Bearer ${m}`,"Content-Type":"multipart/form-data"}});if(y.data.user){const w={...JSON.parse(localStorage.getItem("user")),profilePicture:y.data.user.profilePicture};localStorage.setItem("user",JSON.stringify(w)),t(y.data.user.profilePicture),window.dispatchEvent(new Event("lyvo-profile-update")),o(null)}}catch(m){console.error("Upload error:",m);let x="Failed to upload image. Please try again.";m.response?(x=((f=m.response.data)==null?void 0:f.message)||x,console.error("Server error:",m.response.data),m.response.status===401&&(x="Your session has expired. Please log in again.",localStorage.removeItem("authToken"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},2e3))):m.request?(x="Network error. Please check your connection.",console.error("Network error:",m.request)):console.error("Error:",m.message),alert(x)}finally{i(!1)}}},u=()=>{o(null),l.current&&(l.current.value="")},A=()=>a||e||null;return s.jsxs("div",{className:`relative ${r}`,children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl border-4 border-white shadow-lg overflow-hidden bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center",children:A()?s.jsx("img",{src:A(),alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(cr,{className:"w-12 h-12 text-white"})}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-2xl flex items-center justify-center",children:s.jsx("button",{onClick:()=>{var f;return(f=l.current)==null?void 0:f.click()},className:"text-white hover:text-gray-200 transition-colors",disabled:n,children:s.jsx(As,{className:"w-6 h-6"})})})]}),s.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:c,className:"hidden"}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Preview Profile Picture"}),s.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ar,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("img",{src:a,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:u,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:d,disabled:n,className:"flex-1 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg font-medium hover:shadow-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center space-x-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(XP,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload"})]})})]})]})})]})},eme=e=>{const t=new Date(e),n=Math.floor((new Date-t)/1e3);if(n<60)return"Just now";const i=Math.floor(n/60);if(i<60)return`${i} minute${i>1?"s":""} ago`;const a=Math.floor(i/60);if(a<24)return`${a} hour${a>1?"s":""} ago`;const o=Math.floor(a/24);if(o<7)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/7);if(l<4)return`${l} week${l>1?"s":""} ago`;const c=Math.floor(o/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(o/365);return`${d} year${d>1?"s":""} ago`},VK=({onMenuToggle:e})=>{const[t,r]=j.useState(!1),[n,i]=j.useState(!1),[a,o]=j.useState([]),[l,c]=j.useState(0),[d,u]=j.useState(!1),[A,f]=j.useState({}),m="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face";eo();const x=Ar();j.useEffect(()=>{try{const w=localStorage.getItem("user");w&&f(JSON.parse(w))}catch(w){console.error("Error parsing user data:",w),f({})}},[]);const g=async()=>{try{if(u(!0),!A._id)return;const w=await Ye.get("/notifications",{headers:{"x-user-id":A._id}});if(w.status===200){const _=w.data;_.success&&(o(_.data||[]),c(_.unread_count||0))}}catch(w){console.error("Error fetching notifications:",w)}finally{u(!1)}},v=async()=>{try{const w=JSON.parse(localStorage.getItem("user")||"{}");if(!w._id&&!A._id)return;(await Ye.patch("/notifications/mark-all-read",{},{headers:{"x-user-id":w._id||A._id}})).status===200&&g()}catch(w){console.error("Error marking all notifications as read:",w)}},y=async w=>{try{const _=JSON.parse(localStorage.getItem("user")||"{}");if(!_._id&&!A._id)return;(await Ye.delete(`/notifications/${w}`,{headers:{"x-user-id":_._id||A._id}})).status===200&&g()}catch(_){console.error("Error deleting notification:",_)}};j.useEffect(()=>{g();const w=setInterval(g,3e4);return window.lyvoIntervals||(window.lyvoIntervals=[]),window.lyvoIntervals.push(w),()=>{if(clearInterval(w),window.lyvoIntervals){const _=window.lyvoIntervals.indexOf(w);_>-1&&window.lyvoIntervals.splice(_,1)}}},[]),j.useEffect(()=>{const w=_=>{console.log(" SeekerNavbar received new-notification event:",_.detail),g()};return window.addEventListener("new-notification",w),()=>window.removeEventListener("new-notification",w)},[]),j.useEffect(()=>{const w=_=>{_.target.closest("[data-logout-button]")||_.target.closest("[data-profile-button]")||_.target.closest(".dropdown-container")||(i(!1),r(!1))};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const b=()=>{console.log(" Navbar handleLogout called"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),console.log(" Dispatching logout event..."),window.dispatchEvent(new Event("lyvo-logout")),console.log(" Navigating to login..."),x("/login"),console.log(" Navbar logout completed")};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(SN,{className:"w-5 h-5 text-gray-600"})}),s.jsxs(Ot,{to:"/seeker-dashboard",className:"flex items-center space-x-2",children:[s.jsx(Y.div,{className:"w-8 h-8 rounded-lg flex items-center justify-center overflow-hidden",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:flex items-center",children:[s.jsx("span",{className:"text-xl font-bold text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-xl font-bold text-black",children:"+"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(Y.button,{onClick:()=>r(!t),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(id,{className:"w-5 h-5 text-gray-600"}),l>0&&s.jsx(Y.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:l>9?"9+":l})]}),s.jsx(Mr,{children:t&&s.jsxs(s.Fragment,{children:[s.jsx(Y.div,{className:"fixed inset-0 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1)}),s.jsxs(Y.div,{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),l>0&&s.jsx("button",{onClick:v,className:"text-sm text-red-600 hover:text-red-700 transition-colors",children:"Mark all as read"})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:d?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-2",children:"Loading notifications..."})]}):a.length>0?a.map(w=>s.jsx("div",{className:`p-4 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition-colors ${w.is_read?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${w.type==="booking_approved"?"bg-green-500":w.type==="booking_rejected"?"bg-red-500":w.type==="booking_request"?"bg-blue-500":"bg-yellow-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:eme(w.created_at)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!w.is_read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("button",{onClick:()=>y(w._id),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",title:"Close notification",children:s.jsx(ar,{className:"w-4 h-4 text-gray-500 hover:text-gray-700"})})]})]})},w._id)):s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(id,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No notifications yet"})]})})]})]})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs(Y.button,{onClick:()=>i(!n),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-red-50 transition-colors group",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(Y.div,{className:"relative w-8 h-8 rounded-full overflow-hidden shadow-md",whileHover:{scale:1.08},transition:{duration:.2},children:s.jsx("img",{src:(A==null?void 0:A.profilePicture)||m,alt:"Profile",className:"w-full h-full object-cover",onError:w=>{w.currentTarget.src=m}})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 group-hover:text-red-700 transition-colors",children:A.name||"User"})]}),s.jsx(Mr,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(Y.div,{className:"fixed inset-0 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1)}),s.jsx(Y.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-50",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:s.jsxs("div",{className:"py-2",children:[s.jsxs(Ot,{to:"/seeker-profile","data-profile-button":!0,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>{console.log(" Profile button clicked"),i(!1)},children:[s.jsx(cr,{className:"w-4 h-4 mr-3"}),"Profile"]}),s.jsx("hr",{className:"my-2"}),s.jsxs("button",{"data-logout-button":!0,onClick:w=>{w.preventDefault(),w.stopPropagation(),console.log(" Navbar logout button clicked"),i(!1),b()},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(gl,{className:"w-4 h-4 mr-3"}),"Logout"]})]})})]})})]})]})]})})},tme=()=>{const[e,t]=j.useState(!1),[r,n]=j.useState(!0),[i,a]=j.useState(null),o=j.useRef(!1),l=j.useCallback(async()=>{if(o.current&&r){console.log("Booking status check already in progress, skipping...");return}o.current=!0;try{n(!0),a(null);const d=JSON.parse(localStorage.getItem("user")||"{}");if(!(d.id||d._id||d.userId)){console.log("No user ID found"),t(!1),n(!1);return}const A="http://localhost:5000/api/property",f=new AbortController,m=setTimeout(()=>f.abort(),5e3),x=localStorage.getItem("authToken");try{const g=await fetch(`${A}/user/bookings`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},signal:f.signal});if(clearTimeout(m),!g.ok)throw new Error(`Failed to fetch bookings: ${g.status}`);const y=(await g.json()).bookings||[],b=y.filter(w=>{var _;return w.status==="confirmed"&&((_=w.payment)==null?void 0:_.paymentStatus)==="completed"});t(b.length>0),y.length>0&&console.log("Booking status check:",{totalBookings:y.length,confirmedBookings:b.length,hasConfirmedBooking:b.length>0})}catch(g){if(clearTimeout(m),g.name==="AbortError")console.warn("Booking status check timed out - continuing without booking data");else throw g}}catch(d){console.error("Error checking booking status:",d),a(d.message),t(!1)}finally{n(!1),o.current=!1}},[]);j.useEffect(()=>{l()},[l]);const c=j.useCallback(()=>{o.current=!1,l()},[l]);return{hasConfirmedBooking:e,loading:r,error:i,refreshBookingStatus:c}},im=()=>{const[e,t]=j.useState(!1),[r,n]=j.useState(null),[i,a]=j.useState(!0),[o,l]=j.useState(null),c=j.useCallback(async()=>{try{a(!0),l(null);const u=await Ye.get("/property/user/tenant-status");t(u.data.isTenant),n(u.data.tenantData)}catch(u){console.error("Error fetching tenant status:",u),l(u.message),t(!1),n(null)}finally{a(!1)}},[]);j.useEffect(()=>{c()},[c]);const d=j.useCallback(()=>{c()},[c]);return{isTenant:e,tenantData:r,loading:i,error:o,refreshTenantStatus:d}},YF=({onClose:e})=>{const t=eo(),r=Ar(),[n,i]=j.useState({}),[a,o]=j.useState(!1),l="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face";j.useEffect(()=>{try{const P=localStorage.getItem("user");if(P){const E=JSON.parse(P);if(i(E),(E==null?void 0:E.role)===2){const I=[!E.phone,!E.location,E.age===void 0||E.age===null||E.age==="",!E.occupation,!E.gender].some(Boolean);o(I)}}}catch(P){console.error("Error parsing user data:",P),i({})}},[]);const{hasConfirmedBooking:c,loading:d,refreshBookingStatus:u}=tme(),{isTenant:A,loading:f}=im(),m=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login")};j.useEffect(()=>{const P=()=>{u()};return window.addEventListener("booking-status-changed",P),window.addEventListener("booking-approved",P),window.addEventListener("booking-cancelled",P),()=>{window.removeEventListener("booking-status-changed",P),window.removeEventListener("booking-approved",P),window.removeEventListener("booking-cancelled",P)}},[u]);const x=[{name:"Profile",href:"/seeker-profile",icon:cr}],w=a?[{name:"Profile",href:"/seeker-profile",icon:cr},{name:"Identity Verification",href:"/seeker-kyc",icon:tr}]:A?[...[{name:"Dashboard",href:"/tenant-dashboard",icon:Ir},{name:"Payment History",href:"/tenant-payments",icon:gi},{name:"Split Expenses",href:"/tenant-expenses",icon:BN},{name:"Request Maintenance",href:"/tenant-maintenance",icon:Hd},{name:"View Agreement",href:"/tenant-agreement",icon:ks},{name:"Roommates",href:"/tenant-roommates",icon:cr}],...x]:c?[...[{name:"My Room",href:"/my-room",icon:Ir}],...x]:[...[{name:"Dashboard",href:"/seeker-dashboard",icon:Ir},{name:"Identity Verification",href:"/seeker-kyc",icon:tr},{name:"My Booking",href:"/seeker-bookings",icon:Or},{name:"Favorites",href:"/seeker-favorites",icon:Gh}],...x],_=P=>t.pathname===P,N={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},C={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(Y.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-red-200/50 flex flex-col shadow-2xl h-screen",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"absolute inset-0 opacity-5",children:[s.jsx("div",{className:"absolute top-10 left-4 w-32 h-32 bg-red-400 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-4 w-24 h-24 bg-red-300 rounded-full blur-2xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-red-500 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),s.jsxs("div",{className:"relative flex-shrink-0 flex items-center justify-between p-4 border-b border-red-200/50 bg-red-50/30",children:[s.jsxs(Y.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsxs(Y.div,{className:"relative w-10 h-10 flex items-center justify-center overflow-hidden bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg",whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.3}},whileTap:{scale:.95},transition:{duration:.2},children:[s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-6 h-6 object-contain filter brightness-0 invert"}),s.jsx("div",{className:"absolute inset-0 bg-red-400 rounded-xl blur-md opacity-0 group-hover:opacity-50 transition-opacity duration-300"})]}),s.jsxs("div",{children:[s.jsxs(Y.div,{className:"flex items-center",whileHover:{scale:1.05},transition:{duration:.2},children:[s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent",children:"Lyvo"}),s.jsx(Y.span,{className:"text-xl font-bold text-gray-800 ml-1",animate:{scale:[1,1.1,1],opacity:[1,.7,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"+"})]}),s.jsx(Y.p,{className:"text-xs text-gray-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:A?"Tenant Portal":"Seeker Portal"})]})]}),s.jsx("button",{onClick:e,className:"lg:hidden p-1 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(ar,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"relative flex-shrink-0 p-4 border-b border-red-200/50 bg-red-50/20",children:s.jsxs(Y.div,{className:"relative flex items-center space-x-3 p-3 rounded-xl bg-white border border-red-100/50 shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},whileHover:{scale:1.02,transition:{duration:.2}},children:[s.jsx(Y.div,{className:"relative w-12 h-12 rounded-full overflow-hidden shadow-lg",whileHover:{scale:1.05,transition:{duration:.2}},children:s.jsx("img",{src:(n==null?void 0:n.profilePicture)||l,alt:"Profile",className:"w-full h-full object-cover",onError:P=>{P.currentTarget.src=l}})}),s.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[s.jsx(Y.p,{className:"text-sm font-semibold text-gray-900 truncate",whileHover:{scale:1.02},transition:{duration:.2},children:n.name||"User"}),s.jsx(Y.p,{className:"text-xs text-gray-600 break-words",whileHover:{scale:1.01},transition:{duration:.2},children:n.email||"user@example.com"}),!d&&!f&&s.jsxs(Y.div,{className:"mt-1 flex items-center space-x-1",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${A?"bg-green-500":c?"bg-blue-400":"bg-yellow-400"}`}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:A?"Active Tenant":c?"Booking Confirmed":"Looking for Room"})]})]}),s.jsx(Y.div,{className:"w-3 h-3 bg-green-400 rounded-full shadow-sm",animate:{scale:[1,1.2,1],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]})}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:f||d?Array(5).fill(0).map((P,E)=>s.jsxs("div",{className:"flex items-center px-4 py-3 rounded-xl space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-24"})]},E)):w.map((P,E)=>s.jsx(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+E*.05,duration:.3},variants:N,whileHover:"hover",whileTap:"tap",children:s.jsxs(Ot,{to:P.href,className:`group relative flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-300 ${_(P.href)?"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border-r-4 border-red-500 shadow-lg":"text-gray-700 hover:bg-gradient-to-r hover:from-red-50/50 hover:to-red-100/50 hover:text-red-700 hover:shadow-md"}`,children:[s.jsx(Y.div,{className:"absolute inset-0 bg-gradient-to-r from-red-400/20 to-red-600/20 rounded-xl opacity-0 group-hover:opacity-100",transition:{duration:.3}}),s.jsxs(Y.div,{className:"relative z-10 flex items-center w-full",whileHover:{x:2},transition:{duration:.2},children:[s.jsx(Y.div,{className:`mr-4 h-6 w-6 flex items-center justify-center rounded-lg transition-all duration-300 ${_(P.href)?"bg-red-100 text-red-600":"text-gray-400 group-hover:bg-red-100 group-hover:text-red-600"}`,whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.3}},children:s.jsx(P.icon,{className:"h-4 w-4"})}),s.jsx("span",{className:"flex-1 font-semibold",children:P.name}),_(P.href)&&s.jsxs(Y.div,{className:"flex items-center space-x-2",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1,duration:.3},children:[s.jsx(Y.div,{className:"w-2 h-2 bg-red-500 rounded-full",animate:{scale:[1,1.3,1],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),s.jsx(Y.div,{className:"w-1 h-1 bg-red-400 rounded-full",animate:{scale:[1,1.2,1],opacity:[.8,.4,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.3}})]})]})]})},P.name))}),s.jsx("div",{className:"flex-shrink-0 p-4 border-t border-red-200/50",children:s.jsxs(Y.button,{onClick:m,className:"group relative w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-gradient-to-r from-red-500 to-red-600 rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-lg hover:shadow-xl overflow-hidden",variants:C,whileHover:"hover",whileTap:"tap",children:[s.jsx(Y.div,{className:"absolute inset-0 bg-gradient-to-r from-red-400 to-red-500 opacity-0 group-hover:opacity-100",transition:{duration:.3}}),s.jsx(Y.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s.jsxs(Y.div,{className:"relative z-10 flex items-center",whileHover:{x:2},transition:{duration:.2},children:[s.jsx(Y.div,{className:"mr-3 p-1 rounded-lg bg-white/20",whileHover:{rotate:[0,-10,10,0],transition:{duration:.3}},children:s.jsx(gl,{className:"h-4 w-4"})}),s.jsx("span",{children:"Logout"})]})]})})]})},rme=()=>{new Date().getFullYear();const e={"Quick Links":[{name:"Dashboard",href:"/seeker-dashboard",icon:Ir},{name:"Favorites",href:"/seeker-favorites",icon:Gh},{name:"Bookings",href:"/seeker-bookings",icon:Or}],Account:[{name:"Profile",href:"/seeker-profile",icon:cr},{name:"Settings",href:"/seeker-settings",icon:rc}],Support:[{name:"Help Center",href:"/help",icon:null},{name:"Contact Us",href:"/contact",icon:null},{name:"Privacy Policy",href:"/privacy",icon:null},{name:"Terms of Service",href:"/terms",icon:null}]},t=[{name:"Facebook",href:"#",icon:""},{name:"Twitter",href:"#",icon:""},{name:"Instagram",href:"#",icon:""},{name:"LinkedIn",href:"#",icon:""}];return s.jsxs("footer",{className:"bg-white border-t border-gray-200 text-gray-800",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-xl font-bold text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-xl font-bold text-gray-800",children:"+"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Seeker Portal"})]})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Find your perfect PG, hostel, and co-living space with India's #1 platform. Verified properties, secure payments, and instant booking."}),s.jsx("div",{className:"flex space-x-4",children:t.map((r,n)=>s.jsx(Y.a,{href:r.href,className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-red-100 transition-colors duration-200",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{delay:n*.1,duration:.3},viewport:{once:!0},children:s.jsx("span",{className:"text-sm",children:r.icon})},r.name))})]})}),Object.entries(e).map(([r,n],i)=>s.jsxs("div",{className:"space-y-4",children:[s.jsx(Y.h4,{className:"text-lg font-semibold text-gray-800",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:i*.1,duration:.6},viewport:{once:!0},children:r}),s.jsx("ul",{className:"space-y-2",children:n.map((a,o)=>s.jsx(Y.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:i*.1+o*.05,duration:.6},viewport:{once:!0},children:s.jsxs(Ot,{to:a.href,className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors duration-200 group",children:[a.icon&&s.jsx(a.icon,{className:"w-4 h-4 text-gray-500 group-hover:text-red-500 transition-colors duration-200"}),s.jsx("span",{className:"text-sm",children:a.name})]})},a.name))})]},r))]})}),s.jsx("div",{className:"lg:hidden bg-gray-50 border-t border-gray-200",children:s.jsx("div",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex justify-around",children:[s.jsxs(Ot,{to:"/seeker-dashboard",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Ir,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Home"})]}),s.jsxs(Ot,{to:"/seeker-favorites",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Gh,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Favorites"})]}),s.jsxs(Ot,{to:"/seeker-bookings",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Or,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Bookings"})]}),s.jsxs(Ot,{to:"/seeker-profile",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(cr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Profile"})]})]})})})]})},ld=Object.create(null);ld.open="0";ld.close="1";ld.ping="2";ld.pong="3";ld.message="4";ld.upgrade="5";ld.noop="6";const m1=Object.create(null);Object.keys(ld).forEach(e=>{m1[ld[e]]=e});const T4={type:"error",data:"parser error"},zK=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",KK=typeof ArrayBuffer=="function",WK=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,c6=({type:e,data:t},r,n)=>zK&&t instanceof Blob?r?n(t):XF(t,n):KK&&(t instanceof ArrayBuffer||WK(t))?r?n(t):XF(new Blob([t]),n):n(ld[e]+(t||"")),XF=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function ZF(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let xC;function nme(e,t){if(zK&&e.data instanceof Blob)return e.data.arrayBuffer().then(ZF).then(t);if(KK&&(e.data instanceof ArrayBuffer||WK(e.data)))return t(ZF(e.data));c6(e,!1,r=>{xC||(xC=new TextEncoder),t(xC.encode(r))})}const JF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<JF.length;e++)dx[JF.charCodeAt(e)]=e;const sme=e=>{let t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(n=0;n<r;n+=4)a=dx[e.charCodeAt(n)],o=dx[e.charCodeAt(n+1)],l=dx[e.charCodeAt(n+2)],c=dx[e.charCodeAt(n+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},ime=typeof ArrayBuffer=="function",d6=(e,t)=>{if(typeof e!="string")return{type:"message",data:GK(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:ame(e.substring(1),t)}:m1[r]?e.length>1?{type:m1[r],data:e.substring(1)}:{type:m1[r]}:T4},ame=(e,t)=>{if(ime){const r=sme(e);return GK(r,t)}else return{base64:!0,data:e}},GK=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},qK="",ome=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,o)=>{c6(a,!1,l=>{n[o]=l,++i===r&&t(n.join(qK))})})},lme=(e,t)=>{const r=e.split(qK),n=[];for(let i=0;i<r.length;i++){const a=d6(r[i],t);if(n.push(a),a.type==="error")break}return n};function cme(){return new TransformStream({transform(e,t){nme(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let yC;function zb(e){return e.reduce((t,r)=>t+r.length,0)}function Kb(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function dme(e,t){yC||(yC=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(zb(r)<1)break;const c=Kb(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(zb(r)<2)break;const c=Kb(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(zb(r)<8)break;const c=Kb(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(T4);break}i=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if(zb(r)<i)break;const c=Kb(r,i);l.enqueue(d6(a?c:yC.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(T4);break}}}})}const YK=4;function Zs(e){if(e)return ume(e)}function ume(e){for(var t in Zs.prototype)e[t]=Zs.prototype[t];return e}Zs.prototype.on=Zs.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Zs.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Zs.prototype.off=Zs.prototype.removeListener=Zs.prototype.removeAllListeners=Zs.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Zs.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Zs.prototype.emitReserved=Zs.prototype.emit;Zs.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Zs.prototype.hasListeners=function(e){return!!this.listeners(e).length};const UN=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),sl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),hme="arraybuffer";function XK(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const Ame=sl.setTimeout,fme=sl.clearTimeout;function RN(e,t){t.useNativeTimers?(e.setTimeoutFn=Ame.bind(sl),e.clearTimeoutFn=fme.bind(sl)):(e.setTimeoutFn=sl.setTimeout.bind(sl),e.clearTimeoutFn=sl.clearTimeout.bind(sl))}const mme=1.33;function pme(e){return typeof e=="string"?gme(e):Math.ceil((e.byteLength||e.size)*mme)}function gme(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function ZK(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function xme(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function yme(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class vme extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class u6 extends Zs{constructor(t){super(),this.writable=!1,RN(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new vme(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=d6(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=xme(t);return r.length?"?"+r:""}}class bme extends u6{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};lme(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ome(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=ZK()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let JK=!1;try{JK=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const wme=JK;function jme(){}class Nme extends bme{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Yc extends Zs{constructor(t,r,n){super(),this.createRequest=t,RN(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=XK(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Yc.requestsCount++,Yc.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=jme,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Yc.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Yc.requestsCount=0;Yc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",eU);else if(typeof addEventListener=="function"){const e="onpagehide"in sl?"pagehide":"unload";addEventListener(e,eU,!1)}}function eU(){for(let e in Yc.requests)Yc.requests.hasOwnProperty(e)&&Yc.requests[e].abort()}const _me=function(){const e=eW({xdomain:!1});return e&&e.responseType!==null}();class Cme extends Nme{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=_me&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Yc(eW,this.uri(),t)}}function eW(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||wme))return new XMLHttpRequest}catch{}if(!t)try{return new sl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const tW=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Sme extends u6{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=tW?{}:XK(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;c6(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&UN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=ZK()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const vC=sl.WebSocket||sl.MozWebSocket;class Bme extends Sme{createSocket(t,r,n){return tW?new vC(t,r,n):r?new vC(t,r):new vC(t)}doWrite(t,r){this.ws.send(r)}}class Eme extends u6{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=dme(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=cme();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&UN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const kme={websocket:Bme,webtransport:Eme,polling:Cme},Pme=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ime=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function O4(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=Pme.exec(e||""),a={},o=14;for(;o--;)a[Ime[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Tme(a,a.path),a.queryKey=Ome(a,a.query),a}function Tme(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ome(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const L4=typeof addEventListener=="function"&&typeof removeEventListener=="function",p1=[];L4&&addEventListener("offline",()=>{p1.forEach(e=>e())},!1);class Uh extends Zs{constructor(t,r){if(super(),this.binaryType=hme,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=O4(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=O4(r.host).host);RN(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yme(this.opts.query)),L4&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},p1.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=YK,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Uh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Uh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=pme(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,UN(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Uh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),L4&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=p1.indexOf(this._offlineEventListener);n!==-1&&p1.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Uh.protocol=YK;class Lme extends Uh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Uh.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",A=>{if(!n)if(A.type==="pong"&&A.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Uh.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function a(){n||(n=!0,u(),r.close(),r=null)}const o=A=>{const f=new Error("probe error: "+A);f.transport=r.name,a(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function d(A){r&&A.name!==r.name&&a()}const u=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Fme=class extends Lme{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>kme[i]).filter(i=>!!i)),super(t,n)}};function Ume(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=O4(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const Rme=typeof ArrayBuffer=="function",Dme=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,rW=Object.prototype.toString,Mme=typeof Blob=="function"||typeof Blob<"u"&&rW.call(Blob)==="[object BlobConstructor]",Qme=typeof File=="function"||typeof File<"u"&&rW.call(File)==="[object FileConstructor]";function h6(e){return Rme&&(e instanceof ArrayBuffer||Dme(e))||Mme&&e instanceof Blob||Qme&&e instanceof File}function g1(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(g1(e[r]))return!0;return!1}if(h6(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return g1(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&g1(e[r]))return!0;return!1}function $me(e){const t=[],r=e.data,n=e;return n.data=F4(r,t),n.attachments=t.length,{packet:n,buffers:t}}function F4(e,t){if(!e)return e;if(h6(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=F4(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=F4(e[n],t));return r}return e}function Hme(e,t){return e.data=U4(e.data,t),delete e.attachments,e}function U4(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=U4(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=U4(e[r],t));return e}const nW=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Vme=5;var kr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(kr||(kr={}));class zme{constructor(t){this.replacer=t}encode(t){return(t.type===kr.EVENT||t.type===kr.ACK)&&g1(t)?this.encodeAsBinary({type:t.type===kr.EVENT?kr.BINARY_EVENT:kr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===kr.BINARY_EVENT||t.type===kr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=$me(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class A6 extends Zs{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===kr.BINARY_EVENT;n||r.type===kr.BINARY_ACK?(r.type=n?kr.EVENT:kr.ACK,this.reconstructor=new Kme(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(h6(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(kr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===kr.BINARY_EVENT||n.type===kr.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(a,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(A6.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case kr.CONNECT:return x2(r);case kr.DISCONNECT:return r===void 0;case kr.CONNECT_ERROR:return typeof r=="string"||x2(r);case kr.EVENT:case kr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&nW.indexOf(r[0])===-1);case kr.ACK:case kr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Kme{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Hme(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Wme(e){return typeof e=="string"}const Gme=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function qme(e){return e===void 0||Gme(e)}function x2(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yme(e,t){switch(e){case kr.CONNECT:return t===void 0||x2(t);case kr.DISCONNECT:return t===void 0;case kr.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&nW.indexOf(t[0])===-1);case kr.ACK:return Array.isArray(t);case kr.CONNECT_ERROR:return typeof t=="string"||x2(t);default:return!1}}function Xme(e){return Wme(e.nsp)&&qme(e.id)&&Yme(e.type,e.data)}const Zme=Object.freeze(Object.defineProperty({__proto__:null,Decoder:A6,Encoder:zme,get PacketType(){return kr},isPacketValid:Xme,protocol:Vme},Symbol.toStringTag,{value:"Module"}));function Xl(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Jme=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class sW extends Zs{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Xl(t,"open",this.onopen.bind(this)),Xl(t,"packet",this.onpacket.bind(this)),Xl(t,"error",this.onerror.bind(this)),Xl(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(Jme.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:kr.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,A=r.pop();this._registerAckCallback(u,A),o.id=u}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(o,l)=>o?i(o):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>(this._queue[0],i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:kr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case kr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case kr.EVENT:case kr.BINARY_EVENT:this.onevent(t);break;case kr.ACK:case kr.BINARY_ACK:this.onack(t);break;case kr.DISCONNECT:this.ondisconnect();break;case kr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:kr.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:kr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Hg(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Hg.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Hg.prototype.reset=function(){this.attempts=0};Hg.prototype.setMin=function(e){this.ms=e};Hg.prototype.setMax=function(e){this.max=e};Hg.prototype.setJitter=function(e){this.jitter=e};class R4 extends Zs{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,RN(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Hg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||Zme;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Fme(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Xl(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Xl(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Xl(t,"ping",this.onping.bind(this)),Xl(t,"data",this.ondata.bind(this)),Xl(t,"error",this.onerror.bind(this)),Xl(t,"close",this.onclose.bind(this)),Xl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){UN(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new sW(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const R0={};function x1(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Ume(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=R0[i]&&a in R0[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new R4(n,t):(R0[i]||(R0[i]=new R4(n,t)),c=R0[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(x1,{Manager:R4,Socket:sW,io:x1,connect:x1});class epe{constructor(){this.socket=null,this.isConnected=!1,this.currentChatId=null,this.eventListeners=new Map,this.apiBaseUrl="http://localhost:5000"}connect(t){return this.socket&&this.disconnect(),console.log(" Connecting to chat service..."),this.socket=x1(this.apiBaseUrl,{auth:{token:t},transports:["websocket","polling"],timeout:1e4,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log(" Connected to chat service"),this.isConnected=!0,this.emit("connected")}),this.socket.on("disconnect",r=>{console.log(" Disconnected from chat service:",r),this.isConnected=!1,this.emit("disconnected",r)}),this.socket.on("connect_error",r=>{console.error(" Chat service connection error:",r),this.emit("error",r)}),this.socket.on("error",r=>{console.error(" Chat service error:",r),this.emit("error",r)}),this.socket}disconnect(){this.socket&&(console.log(" Disconnecting from chat service..."),this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.currentChatId=null)}joinChat(t){this.socket&&this.isConnected?(console.log(" Joining chat:",t),this.socket.emit("join_chat",{chatId:t}),this.currentChatId=t):console.warn(" Cannot join chat: not connected to chat service")}leaveChat(){this.socket&&this.currentChatId&&(console.log(" Leaving chat:",this.currentChatId),this.socket.emit("leave_chat",{chatId:this.currentChatId}),this.currentChatId=null)}sendNotification(t){this.socket&&this.isConnected?(console.log(" Sending notification:",t),this.socket.emit("send_notification",t)):console.warn(" Cannot send notification: not connected")}sendMessage(t,r="text",n={}){this.socket&&this.isConnected&&this.currentChatId?(console.log(" Sending message:",t),this.socket.emit("send_message",{chatId:this.currentChatId,content:t,contentType:r,metadata:n})):console.warn(" Cannot send message: not connected or no active chat")}markAsRead(t=[]){this.socket&&this.isConnected&&this.currentChatId&&this.socket.emit("mark_read",{chatId:this.currentChatId,messageIds:t})}setTyping(t){this.socket&&this.isConnected&&this.currentChatId&&this.socket.emit("typing",{chatId:this.currentChatId,isTyping:t})}on(t,r){this.socket&&this.socket.on(t,r),this.eventListeners.has(t)||this.eventListeners.set(t,[]),this.eventListeners.get(t).push(r)}off(t,r){if(this.socket&&this.socket.off(t,r),this.eventListeners.has(t)){const n=this.eventListeners.get(t),i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(t,r){this.eventListeners.has(t)&&this.eventListeners.get(t).forEach(n=>{try{n(r)}catch(i){console.error("Error in event listener:",i)}})}async getUserChats(t){try{const r=localStorage.getItem("authToken"),n=await fetch(`${this.apiBaseUrl}/api/chat/user/${t}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();return i.success?i.data.chats:[]}catch(r){return console.error("Error fetching user chats:",r),[]}}async getChatMessages(t,r=1,n=50){try{const i=localStorage.getItem("authToken"),a=await fetch(`${this.apiBaseUrl}/api/chat/${t}/messages?page=${r}&limit=${n}`,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const o=await a.json();return o.success?o.data.messages:[]}catch(i){return console.error("Error fetching chat messages:",i),[]}}async getChatDetails(t){try{const r=localStorage.getItem("authToken"),n=await fetch(`${this.apiBaseUrl}/api/chat/${t}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();return i.success?i.data:null}catch(r){return console.error("Error fetching chat details:",r),null}}async sendMessageAPI(t,r,n="text",i={}){try{const a=localStorage.getItem("authToken"),o=await fetch(`${this.apiBaseUrl}/api/chat/${t}/message`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({content:r,contentType:n,metadata:i})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const l=await o.json();return l.success?l.data:null}catch(a){return console.error("Error sending message via API:",a),null}}async markAsReadAPI(t,r=[]){try{const n=localStorage.getItem("authToken"),i=await fetch(`${this.apiBaseUrl}/api/chat/${t}/read`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({messageIds:r})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return(await i.json()).success}catch(n){return console.error("Error marking messages as read via API:",n),!1}}getConnectionStatus(){var t;return{isConnected:this.isConnected,currentChatId:this.currentChatId,socketId:(t=this.socket)==null?void 0:t.id}}}const D0=new epe,f6=()=>{const{toast:e}=to();return j.useEffect(()=>{const t=()=>{const a=Rv();if(a){console.log(" NotificationListener: Token found, checking connection..."),D0.isConnected||(console.log(" NotificationListener: Connecting chatService..."),D0.connect(a));const o=l=>{console.log(" New notification received via socket:",l),e({title:l.title||"New Notification",description:l.message||"You have a new message",duration:5e3}),window.dispatchEvent(r(l))};return D0.on("new_notification",o),()=>{D0.off("new_notification",o)}}},r=a=>new CustomEvent("new-notification",{detail:a}),n=t(),i=()=>{console.log(" Auth change detected in NotificationListener"),t()};return window.addEventListener("lyvo-login",i),window.addEventListener("lyvo-logout",()=>{console.log(" Logout detected, disconnecting chatService"),D0.disconnect()}),()=>{n&&n(),window.removeEventListener("lyvo-login",i),window.removeEventListener("lyvo-logout",i)}},[]),null},Br=({children:e,hideFooter:t=!1,hideNavbar:r=!1})=>{const[n,i]=j.useState(!1),[a,o]=j.useState(!1),[l,c]=j.useState(!1),d=()=>{i(!n)},u=()=>{i(!1)},A={hidden:{x:"-100%",opacity:0,transition:{duration:.3,ease:"easeInOut"}},visible:{x:0,opacity:1,transition:{duration:.3,ease:"easeInOut"}},exit:{x:"-100%",opacity:0,transition:{duration:.25,ease:"easeInOut"}}},f={hidden:{opacity:0,transition:{duration:.2}},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},m=()=>{try{const x=localStorage.getItem("user");if(!x)return;const g=JSON.parse(x);if((g==null?void 0:g.role)===2){const v=[!g.phone,g.age===null||g.age===void 0||g.age==="",!g.occupation,!g.gender].some(Boolean);o(v),c(v)}}catch{}};return j.useEffect(()=>{m()},[]),j.useEffect(()=>{const x=v=>{v.key==="user"&&m()},g=()=>m();return window.addEventListener("storage",x),window.addEventListener("lyvo-profile-update",g),()=>{window.removeEventListener("storage",x),window.removeEventListener("lyvo-profile-update",g)}},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(YF,{onClose:u})}),s.jsxs("div",{className:"lg:ml-64",children:[!r&&s.jsx("div",{className:"sticky top-0 z-[1100] bg-white shadow-sm",children:s.jsx(VK,{onMenuToggle:d})}),a&&s.jsx("div",{className:"fixed top-20 right-4 z-40 max-w-xs",children:s.jsx("div",{className:"bg-white border border-blue-300 rounded-xl shadow-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Complete Your Profile"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add your preferences to find better PG matches"}),s.jsxs("div",{className:"mt-3 flex space-x-2",children:[s.jsx("button",{onClick:()=>o(!1),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors",children:"Complete Now"}),s.jsx("button",{onClick:()=>o(!1),className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:"Later"})]})]}),s.jsx("button",{onClick:()=>o(!1),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),s.jsx(Mr,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(Y.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",variants:f,initial:"hidden",animate:"visible",exit:"hidden",onClick:u}),s.jsx(Y.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] lg:hidden",variants:A,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(YF,{onClose:u})})]})}),s.jsx("main",{className:"min-h-screen",children:l?s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-blue-200 rounded-xl p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please fill in phone, age, occupation, and gender to continue."}),s.jsx("a",{href:"/seeker-profile",className:"inline-flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Go to Profile"})]})}):s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e})}),!t&&s.jsx(rme,{}),s.jsx(f6,{})]})]})},tpe=()=>{const e=Ar(),[t,r]=j.useState(!1),[n,i]=j.useState(null),[a,o]=j.useState(!0),[l,c]=j.useState(!1),[d,u]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[A,f]=j.useState({current:!1,new:!1,confirm:!1}),[m,x]=j.useState({type:"",message:""}),[g,v]=j.useState({name:"",email:"",phone:"",location:"",joinDate:"",bio:"",isVerified:!1,trustScore:0,profilePicture:""});j.useEffect(()=>{(async()=>{try{const E=localStorage.getItem("authToken"),I=localStorage.getItem("user");if(!E||!I){i(null),o(!1),e("/login");return}const F=JSON.parse(I);if(console.log("Profile: User role check:",F.role),F.role===2){console.log("Profile: Redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(F.role===3){console.log("Profile: Redirecting owner to owner profile"),window.location.href="/owner-profile";return}else if(F.role===1)console.log("Profile: Regular user, staying on profile page"),i(F);else{console.error("Profile: Invalid user role:",F.role),e("/login");return}v(B=>({...B,name:F.name||"",email:F.email||"",profilePicture:F.profilePicture||"",phone:F.phone||"",location:F.location||"",bio:F.bio||"",isVerified:F.isVerified||!1,trustScore:95,joinDate:F.createdAt?new Date(F.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}))}catch(E){console.error("Error fetching user data:",E),i(null),e("/login")}finally{o(!1)}})()},[e]);const y=(P,E)=>{v(I=>({...I,[P]:E}))},b=(P,E)=>{u(I=>({...I,[P]:E}))},w=P=>{f(E=>({...E,[P]:!E[P]}))},_=async()=>{try{x({type:"loading",message:"Saving changes..."});const P=localStorage.getItem("authToken");if(!P)throw new Error("No authentication token found");const E={name:g.name,phone:g.phone,location:g.location,bio:g.bio},I=await fetch(`http://localhost:5000/api/user/profile/${n._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify(E)});if(!I.ok){const R=await I.json();throw new Error(R.message||"Failed to update profile")}const F=await I.json(),O={...JSON.parse(localStorage.getItem("user")),...F.user};localStorage.setItem("user",JSON.stringify(O)),i(O),r(!1),x({type:"success",message:"Profile updated successfully!"}),window.dispatchEvent(new Event("lyvo-profile-update")),setTimeout(()=>{x({type:"",message:""})},3e3)}catch(P){console.error("Profile update error:",P),x({type:"error",message:P.message||"Failed to update profile"}),setTimeout(()=>{x({type:"",message:""})},3e3)}},N=P=>{v(E=>({...E,profilePicture:P})),x({type:"success",message:"Profile picture updated successfully!"}),setTimeout(()=>{x({type:"",message:""})},3e3)},C=async()=>{try{if(d.newPassword!==d.confirmPassword){x({type:"error",message:"New passwords do not match"});return}if(d.newPassword.length<6){x({type:"error",message:"Password must be at least 6 characters long"});return}x({type:"loading",message:"Updating password..."});const P=localStorage.getItem("authToken");if(!P)throw new Error("No authentication token found");const E=await fetch("http://localhost:5000/api/user/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({currentPassword:d.currentPassword,newPassword:d.newPassword})});if(!E.ok){const I=await E.json();throw new Error(I.message||"Failed to update password")}x({type:"success",message:"Password updated successfully!"}),c(!1),u({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{x({type:"",message:""})},3e3)}catch(P){console.error("Password update error:",P),x({type:"error",message:P.message||"Failed to update password"}),setTimeout(()=>{x({type:"",message:""})},3e3)}};return a?s.jsx("div",{className:"pt-16 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):n?s.jsx(Br,{children:s.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(U0,{children:s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:s.jsxs("div",{className:"relative h-48 bg-gradient-to-r from-red-500/10 via-red-600/10 to-red-700/10",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-transparent"}),s.jsxs("div",{className:"absolute bottom-6 left-8 flex items-end space-x-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(l6,{currentImage:g.profilePicture,onImageUpdate:N,className:"w-24 h-24"}),g.isVerified&&s.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:s.jsx(tr,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"text-gray-900 pb-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-1",children:g.name||"User"}),s.jsxs("p",{className:"text-gray-600 flex items-center space-x-2",children:[s.jsx(Or,{className:"w-4 h-4"}),s.jsxs("span",{children:["Joined ",g.joinDate||"Recently"]})]})]})]}),s.jsx("div",{className:"absolute top-6 right-8",children:s.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!t),className:"bg-white/90 backdrop-blur-sm text-gray-700 px-4 py-2 rounded-xl font-medium flex items-center space-x-2 shadow-lg hover:bg-white transition-all duration-300",children:[t?s.jsx(ar,{className:"w-4 h-4"}):s.jsx(ff,{className:"w-4 h-4"}),s.jsx("span",{children:t?"Cancel":"Edit"})]})})]})})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx(U0,{delay:.1,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{children:"Verified"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),t?s.jsx("input",{type:"text",value:g.name,onChange:P=>y("name",P.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:g.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(Jr,{className:"w-4 h-4 mr-2 text-gray-400"}),g.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),t?s.jsx("input",{type:"tel",value:g.phone,onChange:P=>y("phone",P.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2 text-gray-400"}),g.phone||"Not provided"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),t?s.jsx("input",{type:"text",value:g.location,onChange:P=>y("location",P.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter your location"}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(jr,{className:"w-4 h-4 mr-2 text-gray-400"}),g.location||"Not provided"]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),t?s.jsx("textarea",{value:g.bio,onChange:P=>y("bio",P.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300 resize-none",placeholder:"Tell us about yourself..."}):s.jsx("p",{className:"text-gray-600 leading-relaxed",children:g.bio||"No bio provided"})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(U0,{delay:.1,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Trust Score"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:g.trustScore})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Excellent Profile"})]})]})}),s.jsx(U0,{delay:.2,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>c(!0),className:"w-full px-4 py-3 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-300 flex items-center justify-center space-x-2",children:[s.jsx(uc,{className:"w-4 h-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]}),t&&s.jsx(U0,{delay:.4,children:s.jsx("div",{className:"text-center mt-8",children:s.jsxs(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:_,disabled:m.type==="loading",className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Bv,{className:"w-5 h-5"}),s.jsx("span",{children:m.type==="loading"?"Saving...":"Save Changes"})]})})}),m.message&&s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`fixed top-20 right-4 z-50 px-6 py-3 rounded-xl shadow-lg ${m.type==="success"?"bg-green-100 border border-green-300 text-green-800":m.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-100 border border-blue-300 text-blue-800"}`,children:m.message}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-8 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Change Password"}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(ar,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:A.current?"text":"password",value:d.currentPassword,onChange:P=>b("currentPassword",P.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>w("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A.current?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:A.new?"text":"password",value:d.newPassword,onChange:P=>b("newPassword",P.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>w("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A.new?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:A.confirm?"text":"password",value:d.confirmPassword,onChange:P=>b("confirmPassword",P.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>w("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A.confirm?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300",children:"Cancel"}),s.jsx("button",{onClick:C,disabled:m.type==="loading",className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-300 disabled:opacity-50",children:m.type==="loading"?"Updating...":"Update Password"})]})]})]})})]})})}):s.jsx("div",{className:"pt-16 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(cr,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access your profile."}),s.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-lg font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200",children:"Go to Login"})]})})},rpe=()=>{const e=[{icon:Gh,title:"Community First",description:"We believe in building strong, supportive communities where everyone feels at home."},{icon:tr,title:"Trust & Security",description:"Your safety and privacy are our top priorities with verified listings and secure transactions."},{icon:ru,title:"Innovation",description:"Leveraging cutting-edge technology to make co-living seamless and enjoyable."},{icon:Lue,title:"Transparency",description:"Clear pricing, honest reviews, and open communication at every step."}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-red-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs(Y.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["About ",s.jsx("span",{className:"text-red-600",children:"Lyvo+"})]}),s.jsx(Y.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Revolutionizing the co-living experience through technology, community, and trust."})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Our ",s.jsx("span",{className:"text-red-600",children:"Mission"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"To create a world where finding the perfect co-living space is effortless, where communities thrive, and where technology enhances human connections rather than replacing them."})]})}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Why Co-Living Matters"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"In today's fast-paced world, traditional housing models often leave people feeling isolated. Co-living offers a solution that combines affordability, community, and flexibility."}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We believe everyone deserves a place they can call home, surrounded by like-minded individuals who share their values and aspirations."}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(uu,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Growing Trend"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Co-living is the future of urban living"})]})]})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-2xl p-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Smart Matching"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Community Building"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Secure Transactions"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"24/7 Support"})]})]})})})]})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Our ",s.jsx("span",{className:"text-red-600",children:"Values"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The principles that guide everything we do"})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>s.jsxs(Y.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all duration-200 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(t.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:t.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},r))})]})})]})},npe=()=>{const[e,t]=j.useState({name:"",email:"",subject:"",message:""}),[r,n]=j.useState(!1),[i,a]=j.useState(!1),o=d=>{t({...e,[d.target.name]:d.target.value})},l=async d=>{d.preventDefault(),a(!0),await new Promise(u=>setTimeout(u,1500)),n(!0),a(!1)},c=[{question:"How quickly do you respond to inquiries?",answer:"We typically respond to all inquiries within 24 hours during business days."},{question:"Can I schedule a demo of your platform?",answer:"Absolutely! We'd love to show you around. Contact us to schedule a personalized demo."},{question:"Do you offer support for property owners?",answer:"Yes, we provide comprehensive support for both property owners and tenants."},{question:"What cities do you currently operate in?",answer:"We're currently active in 15+ major cities across India with plans to expand further."}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-red-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs(Y.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Get in ",s.jsx("span",{className:"text-red-600",children:"Touch"})]}),s.jsx(Y.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Send us a Message"}),s.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),r?s.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(yt,{className:"h-10 w-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Message Sent!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for reaching out! We'll get back to you within 24 hours."}),s.jsx("button",{onClick:()=>n(!1),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-all duration-200",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",name:"name",id:"name",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"John Doe",value:e.name,onChange:o})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",id:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"john@example.com",value:e.email,onChange:o})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),s.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"How can we help you?",value:e.subject,onChange:o})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{name:"message",id:"message",rows:6,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 resize-none",placeholder:"Tell us more about your inquiry...",value:e.message,onChange:o})]}),s.jsx(Y.button,{type:"submit",disabled:i,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-red-600 text-white py-4 px-6 rounded-lg font-semibold shadow-sm hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(If,{className:"h-5 w-5"}),s.jsx("span",{children:"Send Message"})]})})]})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Why Choose Lyvo+?"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Di,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Expert Support Team"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Our dedicated team is here to help 24/7"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Di,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Quick Response Time"}),s.jsx("p",{className:"text-sm text-gray-600",children:"We respond to all inquiries within 24 hours"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Di,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Personalized Solutions"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tailored assistance for your specific needs"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),s.jsx("div",{className:"space-y-4",children:c.map((d,u)=>s.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:d.question}),s.jsx("p",{className:"text-sm text-gray-600",children:d.answer})]},u))})]})]})})]})})})]})},spe=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-between items-center py-4",children:s.jsxs(Ot,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Ir,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]})})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl w-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Y.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:100},className:"mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-8xl md:text-9xl font-bold text-red-500 mb-4 tracking-tight",children:"404"}),s.jsx(Y.div,{animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-4 -right-4 w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(ka,{className:"w-8 h-8 text-white"})})]})}),s.jsxs(Y.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"mb-12",children:[s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Page Not Found"}),s.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Oops! The page you're looking for doesn't exist or has been moved. Don't worry, there are plenty of amazing co-living opportunities waiting for you!"})]}),s.jsxs(Y.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 mb-8",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(Y.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-red-50 to-red-100 rounded-xl border border-red-200",children:[s.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(Ir,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Go Home"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Return to the main page and explore our co-living community"}),s.jsx(Ot,{to:"/",children:s.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Home"})})]}),s.jsxs(Y.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(jr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Find Accommodations"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Discover available co-living spaces in your area"}),s.jsx(Ot,{to:"/dashboard",children:s.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Browse"})})]}),s.jsxs(Y.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(Hr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Join Community"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect with other co-living enthusiasts"}),s.jsx(Ot,{to:"/login",children:s.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-green-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-600 transition-colors",children:"Sign In"})})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[s.jsx(Ot,{to:"/",children:s.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2",children:[s.jsx(Ir,{className:"w-5 h-5"}),"Go Home"]})}),s.jsx(Ot,{to:"/login",children:s.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border-2 border-gray-300 text-gray-700 hover:border-red-500 hover:text-red-500 px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2",children:[s.jsx(ei,{className:"w-5 h-5"}),"Back to Login"]})})]})]})]}),s.jsxs(Y.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Need Help?"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"If you're having trouble finding what you're looking for, our support team is here to help."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx("a",{href:"mailto:support@lyvo.com",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"Contact Support"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("a",{href:"/help",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"Help Center"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("a",{href:"/faq",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"FAQ"})]})]})]})})}),s.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[s.jsx(Y.div,{animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-red-500/10 to-red-600/10 rounded-full blur-3xl"}),s.jsx(Y.div,{animate:{scale:[1.2,1,1.2],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-blue-600/10 rounded-full blur-3xl"}),s.jsx(Y.div,{animate:{scale:[1,1.1,1],rotate:[0,90,180,270,360]},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-gradient-to-r from-green-500/10 to-green-600/10 rounded-full blur-2xl"})]})]}),iW=({isOpen:e,onClose:t,title:r,message:n,buttonText:i="Okay",type:a="warning"})=>{if(!e)return null;const o={warning:s.jsx(qh,{className:"w-6 h-6 text-yellow-500"}),danger:s.jsx(Xt,{className:"w-6 h-6 text-red-500"}),info:s.jsx(CN,{className:"w-6 h-6 text-blue-500"}),success:s.jsx(yt,{className:"w-6 h-6 text-green-500"})},l={warning:"bg-yellow-600 hover:bg-yellow-700",danger:"bg-red-600 hover:bg-red-700",info:"bg-blue-600 hover:bg-blue-700",success:"bg-green-600 hover:bg-green-700"};return s.jsx(Mr,{children:s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${a==="danger"?"bg-red-50":a==="warning"?"bg-yellow-50":"bg-blue-50"}`,children:o[a]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ar,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:n}),s.jsx("button",{onClick:t,className:`w-full px-4 py-3 text-white font-semibold rounded-xl transition-colors shadow-lg shadow-black/5 flex items-center justify-center gap-2 ${l[a]}`,children:i})]})})})})},ipe=()=>{};var tU={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},ape=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],l=e[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},oW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,l=o?e[i+1]:0,c=i+2<e.length,d=c?e[i+2]:0,u=a>>2,A=(a&3)<<4|l>>4;let f=(l&15)<<2|d>>6,m=d&63;c||(m=64,o||(f=64)),n.push(r[u],r[A],r[f],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(aW(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ape(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],l=i<e.length?r[e.charAt(i)]:0;++i;const d=i<e.length?r[e.charAt(i)]:64;++i;const A=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||l==null||d==null||A==null)throw new ope;const f=a<<2|l>>4;if(n.push(f),d!==64){const m=l<<4&240|d>>2;if(n.push(m),A!==64){const x=d<<6&192|A;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ope extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lpe=function(e){const t=aW(e);return oW.encodeByteArray(t,!0)},lW=function(e){return lpe(e).replace(/\./g,"")},cW=function(e){try{return oW.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cpe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dpe=()=>cpe().__FIREBASE_DEFAULTS__,upe=()=>{if(typeof process>"u"||typeof tU>"u")return;const e=tU.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},hpe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&cW(e[1]);return t&&JSON.parse(t)},m6=()=>{try{return ipe()||dpe()||upe()||hpe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ape=e=>{var t,r;return(r=(t=m6())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},dW=()=>{var e;return(e=m6())==null?void 0:e.config},uW=e=>{var t;return(t=m6())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fpe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mpe(e){return(await fetch(e,{credentials:"include"})).ok}const Ux={};function ppe(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ux))Ux[t]?e.emulator.push(t):e.prod.push(t);return e}function gpe(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let rU=!1;function xpe(e,t){if(typeof window>"u"||typeof document>"u"||!DN(window.location.host)||Ux[e]===t||Ux[e]||rU)return;Ux[e]=t;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",a=ppe().prod.length>0;function o(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{rU=!0,o()},f}function u(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function A(){const f=gpe(n),m=r("text"),x=document.getElementById(m)||document.createElement("span"),g=r("learnmore"),v=document.getElementById(g)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;l(w),u(v,g);const _=d();c(b,y),w.append(b,x,v,_),document.body.appendChild(w)}a?(x.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ype(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pa())}function vpe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hW(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function bpe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wpe(){const e=Pa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function AW(){try{return typeof indexedDB=="object"}catch{return!1}}function fW(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}function jpe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Npe="FirebaseError";class hd extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=Npe,Object.setPrototypeOf(this,hd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,am.prototype.create)}}class am{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?_pe(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new hd(i,l,n)}}function _pe(e,t){return e.replace(Cpe,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const Cpe=/\{\$([^}]+)}/g;function Spe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lf(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(nU(a)&&nU(o)){if(!Lf(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function nU(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ux(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function hx(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function Bpe(e,t){const r=new Epe(e,t);return r.subscribe.bind(r)}class Epe{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");kpe(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=bC),i.error===void 0&&(i.error=bC),i.complete===void 0&&(i.complete=bC);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kpe(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function bC(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ppe=1e3,Ipe=2,Tpe=4*60*60*1e3,Ope=.5;function sU(e,t=Ppe,r=Ipe){const n=t*Math.pow(r,e),i=Math.round(Ope*n*(Math.random()-.5)*2);return Math.min(Tpe,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(e){return e&&e._delegate?e._delegate:e}class cd{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lpe{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new fpe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Upe(t))try{this.getOrInitializeService({instanceIdentifier:MA})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=MA){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=MA){return this.instances.has(t)}getOptions(t=MA){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Fpe(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=MA){return this.component?this.component.multipleInstances?t:MA:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fpe(e){return e===MA?void 0:e}function Upe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rpe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Lpe(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pn||(Pn={}));const Dpe={debug:Pn.DEBUG,verbose:Pn.VERBOSE,info:Pn.INFO,warn:Pn.WARN,error:Pn.ERROR,silent:Pn.SILENT},Mpe=Pn.INFO,Qpe={[Pn.DEBUG]:"log",[Pn.VERBOSE]:"log",[Pn.INFO]:"info",[Pn.WARN]:"warn",[Pn.ERROR]:"error"},$pe=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=Qpe[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let p6=class{constructor(t){this.name=t,this._logLevel=Mpe,this._logHandler=$pe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Dpe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pn.DEBUG,...t),this._logHandler(this,Pn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pn.VERBOSE,...t),this._logHandler(this,Pn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pn.INFO,...t),this._logHandler(this,Pn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pn.WARN,...t),this._logHandler(this,Pn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pn.ERROR,...t),this._logHandler(this,Pn.ERROR,...t)}};const Hpe=(e,t)=>t.some(r=>e instanceof r);let iU,aU;function Vpe(){return iU||(iU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zpe(){return aU||(aU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mW=new WeakMap,D4=new WeakMap,pW=new WeakMap,wC=new WeakMap,g6=new WeakMap;function Kpe(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(Rh(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&mW.set(r,e)}).catch(()=>{}),g6.set(t,e),t}function Wpe(e){if(D4.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});D4.set(e,t)}let M4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return D4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||pW.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Rh(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Gpe(e){M4=e(M4)}function qpe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(jC(this),t,...r);return pW.set(n,t.sort?t.sort():[t]),Rh(n)}:zpe().includes(e)?function(...t){return e.apply(jC(this),t),Rh(mW.get(this))}:function(...t){return Rh(e.apply(jC(this),t))}}function Ype(e){return typeof e=="function"?qpe(e):(e instanceof IDBTransaction&&Wpe(e),Hpe(e,Vpe())?new Proxy(e,M4):e)}function Rh(e){if(e instanceof IDBRequest)return Kpe(e);if(wC.has(e))return wC.get(e);const t=Ype(e);return t!==e&&(wC.set(e,t),g6.set(t,e)),t}const jC=e=>g6.get(e);function gW(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),l=Rh(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Rh(o.result),c.oldVersion,c.newVersion,Rh(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Xpe=["get","getKey","getAll","getAllKeys","count"],Zpe=["put","add","delete","clear"],NC=new Map;function oU(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(NC.get(t))return NC.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=Zpe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Xpe.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return NC.set(t,a),a}Gpe(e=>({...e,get:(t,r,n)=>oU(t,r)||e.get(t,r,n),has:(t,r)=>!!oU(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jpe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(ege(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function ege(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Q4="@firebase/app",lU="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new p6("@firebase/app"),tge="@firebase/app-compat",rge="@firebase/analytics-compat",nge="@firebase/analytics",sge="@firebase/app-check-compat",ige="@firebase/app-check",age="@firebase/auth",oge="@firebase/auth-compat",lge="@firebase/database",cge="@firebase/data-connect",dge="@firebase/database-compat",uge="@firebase/functions",hge="@firebase/functions-compat",Age="@firebase/installations",fge="@firebase/installations-compat",mge="@firebase/messaging",pge="@firebase/messaging-compat",gge="@firebase/performance",xge="@firebase/performance-compat",yge="@firebase/remote-config",vge="@firebase/remote-config-compat",bge="@firebase/storage",wge="@firebase/storage-compat",jge="@firebase/firestore",Nge="@firebase/ai",_ge="@firebase/firestore-compat",Cge="firebase",Sge="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="[DEFAULT]",Bge={[Q4]:"fire-core",[tge]:"fire-core-compat",[nge]:"fire-analytics",[rge]:"fire-analytics-compat",[ige]:"fire-app-check",[sge]:"fire-app-check-compat",[age]:"fire-auth",[oge]:"fire-auth-compat",[lge]:"fire-rtdb",[cge]:"fire-data-connect",[dge]:"fire-rtdb-compat",[uge]:"fire-fn",[hge]:"fire-fn-compat",[Age]:"fire-iid",[fge]:"fire-iid-compat",[mge]:"fire-fcm",[pge]:"fire-fcm-compat",[gge]:"fire-perf",[xge]:"fire-perf-compat",[yge]:"fire-rc",[vge]:"fire-rc-compat",[bge]:"fire-gcs",[wge]:"fire-gcs-compat",[jge]:"fire-fst",[_ge]:"fire-fst-compat",[Nge]:"fire-vertex","fire-js":"fire-js",[Cge]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Map,Ege=new Map,H4=new Map;function cU(e,t){try{e.container.addComponent(t)}catch(r){hu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Au(e){const t=e.name;if(H4.has(t))return hu.debug(`There were multiple attempts to register component ${t}.`),!1;H4.set(t,e);for(const r of y2.values())cU(r,e);for(const r of Ege.values())cU(r,e);return!0}function Vg(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function al(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kge={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dh=new am("app","Firebase",kge);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pge{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new cd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=Sge;function xW(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:$4,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw Dh.create("bad-app-name",{appName:String(i)});if(r||(r=dW()),!r)throw Dh.create("no-options");const a=y2.get(i);if(a){if(Lf(r,a.options)&&Lf(n,a.config))return a;throw Dh.create("duplicate-app",{appName:i})}const o=new Rpe(i);for(const c of H4.values())o.addComponent(c);const l=new Pge(r,n,o);return y2.set(i,l),l}function yW(e=$4){const t=y2.get(e);if(!t&&e===$4&&dW())return xW();if(!t)throw Dh.create("no-app",{appName:e});return t}function Xc(e,t,r){let n=Bge[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${t}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hu.warn(o.join(" "));return}Au(new cd(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ige="firebase-heartbeat-database",Tge=1,Ny="firebase-heartbeat-store";let _C=null;function vW(){return _C||(_C=gW(Ige,Tge,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ny)}catch(r){console.warn(r)}}}}).catch(e=>{throw Dh.create("idb-open",{originalErrorMessage:e.message})})),_C}async function Oge(e){try{const r=(await vW()).transaction(Ny),n=await r.objectStore(Ny).get(bW(e));return await r.done,n}catch(t){if(t instanceof hd)hu.warn(t.message);else{const r=Dh.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hu.warn(r.message)}}}async function dU(e,t){try{const n=(await vW()).transaction(Ny,"readwrite");await n.objectStore(Ny).put(t,bW(e)),await n.done}catch(r){if(r instanceof hd)hu.warn(r.message);else{const n=Dh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});hu.warn(n.message)}}}function bW(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lge=1024,Fge=30;class Uge{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Dge(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uU();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Fge){const o=Mge(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){hu.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=uU(),{heartbeatsToSend:n,unsentEntries:i}=Rge(this._heartbeatsCache.heartbeats),a=lW(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return hu.warn(r),""}}}function uU(){return new Date().toISOString().substring(0,10)}function Rge(e,t=Lge){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),hU(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),hU(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Dge{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AW()?fW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Oge(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return dU(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return dU(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function hU(e){return lW(JSON.stringify({version:2,heartbeats:e})).length}function Mge(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qge(e){Au(new cd("platform-logger",t=>new Jpe(t),"PRIVATE")),Au(new cd("heartbeat",t=>new Uge(t),"PRIVATE")),Xc(Q4,lU,e),Xc(Q4,lU,"esm2020"),Xc("fire-js","")}Qge("");function wW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $ge=wW,jW=new am("auth","Firebase",wW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new p6("@firebase/auth");function Hge(e,...t){v2.logLevel<=Pn.WARN&&v2.warn(`Auth (${Mv}): ${e}`,...t)}function y1(e,...t){v2.logLevel<=Pn.ERROR&&v2.error(`Auth (${Mv}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(e,...t){throw y6(e,...t)}function oc(e,...t){return y6(e,...t)}function x6(e,t,r){const n={...$ge(),[t]:r};return new am("auth","Firebase",n).create(t,{appName:e.name})}function nu(e){return x6(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vge(e,t,r){const n=r;if(!(t instanceof n))throw n.name!==t.constructor.name&&xl(e,"argument-error"),x6(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y6(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return jW.create(e,...t)}function or(e,t,...r){if(!e)throw y6(t,...r)}function Vd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw y1(t),new Error(t)}function fu(e,t){e||Vd(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function zge(){return AU()==="http:"||AU()==="https:"}function AU(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kge(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zge()||hW()||"connection"in navigator)?navigator.onLine:!0}function Wge(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t,r){this.shortDelay=t,this.longDelay=r,fu(r>t,"Short delay should be less than long delay!"),this.isMobile=ype()||bpe()}get(){return Kge()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(e,t){fu(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qge=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Yge=new Qv(3e4,6e4);function Nu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ad(e,t,r,n,i={}){return _W(e,i,async()=>{let a={},o={};n&&(t==="GET"?o=n:a={body:JSON.stringify(n)});const l=Dv({key:e.config.apiKey,...o}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:c,...a};return vpe()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&DN(e.emulatorConfig.host)&&(d.credentials="include"),NW.fetch()(await CW(e,e.config.apiHost,r,l),d)})}async function _W(e,t,r){e._canInitEmulator=!1;const n={...Gge,...t};try{const i=new Zge(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Wb(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wb(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Wb(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw Wb(e,"user-disabled",o);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw x6(e,u,d);xl(e,u)}}catch(i){if(i instanceof hd)throw i;xl(e,"network-request-failed",{message:String(i)})}}async function $v(e,t,r,n,i={}){const a=await Ad(e,t,r,n,i);return"mfaPendingCredential"in a&&xl(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function CW(e,t,r,n){const i=`${t}${r}?${n}`,a=e,o=a.config.emulator?v6(e.config,i):`${e.config.apiScheme}://${i}`;return qge.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Xge(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zge{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(oc(this.auth,"network-request-failed")),Yge.get())})}}function Wb(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=oc(e,t,n);return i.customData._tokenResponse=r,i}function fU(e){return e!==void 0&&e.enterprise!==void 0}class Jge{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return Xge(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e0e(e,t){return Ad(e,"GET","/v2/recaptchaConfig",Nu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0e(e,t){return Ad(e,"POST","/v1/accounts:delete",t)}async function b2(e,t){return Ad(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function r0e(e,t=!1){const r=Lo(e),n=await r.getIdToken(t),i=b6(n);or(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Rx(CC(i.auth_time)),issuedAtTime:Rx(CC(i.iat)),expirationTime:Rx(CC(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function CC(e){return Number(e)*1e3}function b6(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return y1("JWT malformed, contained fewer than 3 sections"),null;try{const i=cW(r);return i?JSON.parse(i):(y1("Failed to decode base64 JWT payload"),null)}catch(i){return y1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mU(e){const t=b6(e);return or(t,"internal-error"),or(typeof t.exp<"u","internal-error"),or(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof hd&&n0e(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function n0e({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0e{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rx(this.lastLoginAt),this.creationTime=Rx(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(e){var A;const t=e.auth,r=await e.getIdToken(),n=await sg(e,b2(t,{idToken:r}));or(n==null?void 0:n.users.length,t,"internal-error");const i=n.users[0];e._notifyReloadListener(i);const a=(A=i.providerUserInfo)!=null&&A.length?SW(i.providerUserInfo):[],o=a0e(e.providerData,a),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new z4(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,u)}async function i0e(e){const t=Lo(e);await w2(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function a0e(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function SW(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0e(e,t){const r=await _W(e,{},async()=>{const n=Dv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=await CW(e,i,"/v1/token",`key=${a}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return e.emulatorConfig&&DN(e.emulatorConfig.host)&&(c.credentials="include"),NW.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function l0e(e,t){return Ad(e,"POST","/v2/accounts:revokeToken",Nu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){or(t.idToken,"internal-error"),or(typeof t.idToken<"u","internal-error"),or(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mU(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){or(t.length!==0,"internal-error");const r=mU(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(or(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await o0e(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Ep;return n&&(or(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),i&&(or(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),a&&(or(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ep,this.toJSON())}_performRefresh(){return Vd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(e,t){or(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class nc{constructor({uid:t,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new s0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new z4(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const r=await sg(this,this.stsTokenManager.getToken(this.auth,t));return or(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return r0e(this,t)}reload(){return i0e(this)}_assign(t){this!==t&&(or(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new nc({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){or(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await w2(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(al(this.auth.app))return Promise.reject(nu(this.auth));const t=await this.getIdToken();return await sg(this,t0e(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,d=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:A,emailVerified:f,isAnonymous:m,providerData:x,stsTokenManager:g}=r;or(A&&g,t,"internal-error");const v=Ep.fromJSON(this.name,g);or(typeof A=="string",t,"internal-error"),Zu(n,t.name),Zu(i,t.name),or(typeof f=="boolean",t,"internal-error"),or(typeof m=="boolean",t,"internal-error"),Zu(a,t.name),Zu(o,t.name),Zu(l,t.name),Zu(c,t.name),Zu(d,t.name),Zu(u,t.name);const y=new nc({uid:A,auth:t,email:i,emailVerified:f,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:v,createdAt:d,lastLoginAt:u});return x&&Array.isArray(x)&&(y.providerData=x.map(b=>({...b}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(t,r,n=!1){const i=new Ep;i.updateFromServerResponse(r);const a=new nc({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await w2(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];or(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?SW(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Ep;l.updateFromIdToken(n);const c=new nc({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new z4(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=new Map;function zd(e){fu(e instanceof Function,"Expected a class definition");let t=pU.get(e);return t?(fu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pU.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}BW.type="NONE";const gU=BW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(e,t,r){return`firebase:${e}:${t}:${r}`}class kp{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=v1(this.userKey,i.apiKey,a),this.fullPersistenceKey=v1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await b2(this.auth,{idToken:t}).catch(()=>{});return r?nc._fromGetAccountInfoResponse(this.auth,r,t):null}return nc._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new kp(zd(gU),t,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||zd(gU);const o=v1(n,t.config.apiKey,t.name);let l=null;for(const d of r)try{const u=await d._get(o);if(u){let A;if(typeof u=="string"){const f=await b2(t,{idToken:u}).catch(()=>{});if(!f)break;A=await nc._fromGetAccountInfoResponse(t,f,u)}else A=nc._fromJSON(t,u);d!==a&&(l=A),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new kp(a,t,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new kp(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(IW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(EW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OW(t))return"Blackberry";if(LW(t))return"Webos";if(kW(t))return"Safari";if((t.includes("chrome/")||PW(t))&&!t.includes("edge/"))return"Chrome";if(TW(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function EW(e=Pa()){return/firefox\//i.test(e)}function kW(e=Pa()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PW(e=Pa()){return/crios\//i.test(e)}function IW(e=Pa()){return/iemobile/i.test(e)}function TW(e=Pa()){return/android/i.test(e)}function OW(e=Pa()){return/blackberry/i.test(e)}function LW(e=Pa()){return/webos/i.test(e)}function w6(e=Pa()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function c0e(e=Pa()){var t;return w6(e)&&!!((t=window.navigator)!=null&&t.standalone)}function d0e(){return wpe()&&document.documentMode===10}function FW(e=Pa()){return w6(e)||TW(e)||LW(e)||OW(e)||/windows phone/i.test(e)||IW(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(e,t=[]){let r;switch(e){case"Browser":r=xU(Pa());break;case"Worker":r=`${xU(Pa())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Mv}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0e{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((o,l)=>{try{const c=t(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0e(e,t={}){return Ad(e,"GET","/v2/passwordPolicy",Nu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0e=6;class f0e{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??A0e,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0e{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yU(this),this.idTokenSubscription=new yU(this),this.beforeStateQueue=new u0e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=zd(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await kp.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await b2(this,{idToken:t}),n=await nc._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(al(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return or(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await w2(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Wge()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(al(this.app))return Promise.reject(nu(this));const r=t?Lo(t):null;return r&&or(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&or(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return al(this.app)?Promise.reject(nu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return al(this.app)?Promise.reject(nu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zd(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await h0e(this),r=new f0e(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new am("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await l0e(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&zd(t)||this._popupRedirectResolver;or(r,this,"argument-error"),this.redirectPersistenceManager=await kp.create(this,[zd(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(or(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=t.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return or(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=UW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(al(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&Hge(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _u(e){return Lo(e)}class yU{constructor(t){this.auth=t,this.observer=null,this.addObserver=Bpe(r=>this.observer=r)}get next(){return or(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p0e(e){MN=e}function RW(e){return MN.loadJS(e)}function g0e(){return MN.recaptchaEnterpriseScript}function x0e(){return MN.gapiScript}function y0e(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class v0e{constructor(){this.enterprise=new b0e}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class b0e{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const w0e="recaptcha-enterprise",DW="NO_RECAPTCHA";class j0e{constructor(t){this.type=w0e,this.auth=_u(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{e0e(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Jge(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;fU(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:t}).then(d=>{o(d)}).catch(()=>{o(DW)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new v0e().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&fU(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=g0e();c.length!==0&&(c+=l),RW(c).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function vU(e,t,r,n=!1,i=!1){const a=new j0e(e);let o;if(i)o=DW;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function j2(e,t,r,n,i){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await vU(e,t,r,r==="getOobCode");return n(e,o)}else return n(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await vU(e,t,r,r==="getOobCode");return n(e,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0e(e,t){const r=Vg(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Lf(a,t??{}))return i;xl(i,"already-initialized")}return r.initialize({options:t})}function _0e(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(zd);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function C0e(e,t,r){const n=_u(e);or(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=MW(t),{host:o,port:l}=S0e(t),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){or(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),or(Lf(d,n.config.emulator)&&Lf(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,DN(o)?(mpe(`${a}//${o}${c}`),xpe("Auth",!0)):B0e()}function MW(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function S0e(e){const t=MW(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:bU(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:bU(o)}}}function bU(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function B0e(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Vd("not implemented")}_getIdTokenResponse(t){return Vd("not implemented")}_linkToIdToken(t,r){return Vd("not implemented")}_getReauthenticationResolver(t){return Vd("not implemented")}}async function E0e(e,t){return Ad(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0e(e,t){return $v(e,"POST","/v1/accounts:signInWithPassword",Nu(e,t))}async function QW(e,t){return Ad(e,"POST","/v1/accounts:sendOobCode",Nu(e,t))}async function P0e(e,t){return QW(e,t)}async function I0e(e,t){return QW(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0e(e,t){return $v(e,"POST","/v1/accounts:signInWithEmailLink",Nu(e,t))}async function O0e(e,t){return $v(e,"POST","/v1/accounts:signInWithEmailLink",Nu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends j6{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new _y(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new _y(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j2(t,r,"signInWithPassword",k0e);case"emailLink":return T0e(t,{email:this._email,oobCode:this._password});default:xl(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j2(t,n,"signUpPassword",E0e);case"emailLink":return O0e(t,{idToken:r,email:this._email,oobCode:this._password});default:xl(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(e,t){return $v(e,"POST","/v1/accounts:signInWithIdp",Nu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0e="http://localhost";class Ff extends j6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Ff(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):xl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new Ff(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return Pp(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Pp(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Pp(t,r)}buildRequest(){const t={requestUri:L0e,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Dv(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0e(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U0e(e){const t=ux(hx(e)).link,r=t?ux(hx(t)).deep_link_id:null,n=ux(hx(e)).deep_link_id;return(n?ux(hx(n)).link:null)||n||r||t||e}class N6{constructor(t){const r=ux(hx(t)),n=r.apiKey??null,i=r.oobCode??null,a=F0e(r.mode??null);or(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=U0e(t);try{return new N6(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this.providerId=zg.PROVIDER_ID}static credential(t,r){return _y._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=N6.parseLink(r);return or(n,"argument-error"),_y._fromEmailAndCode(t,n.code,n.tenantId)}}zg.PROVIDER_ID="password";zg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends _6{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Hv{constructor(){super("facebook.com")}static credential(t){return Ff._fromParams({providerId:fh.PROVIDER_ID,signInMethod:fh.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fh.credentialFromTaggedObject(t)}static credentialFromError(t){return fh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fh.credential(t.oauthAccessToken)}catch{return null}}}fh.FACEBOOK_SIGN_IN_METHOD="facebook.com";fh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends Hv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ff._fromParams({providerId:Dd.PROVIDER_ID,signInMethod:Dd.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Dd.credentialFromTaggedObject(t)}static credentialFromError(t){return Dd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Dd.credential(r,n)}catch{return null}}}Dd.GOOGLE_SIGN_IN_METHOD="google.com";Dd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Hv{constructor(){super("github.com")}static credential(t){return Ff._fromParams({providerId:mh.PROVIDER_ID,signInMethod:mh.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mh.credentialFromTaggedObject(t)}static credentialFromError(t){return mh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mh.credential(t.oauthAccessToken)}catch{return null}}}mh.GITHUB_SIGN_IN_METHOD="github.com";mh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Hv{constructor(){super("twitter.com")}static credential(t,r){return Ff._fromParams({providerId:ph.PROVIDER_ID,signInMethod:ph.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return ph.credentialFromTaggedObject(t)}static credentialFromError(t){return ph.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return ph.credential(r,n)}catch{return null}}}ph.TWITTER_SIGN_IN_METHOD="twitter.com";ph.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0e(e,t){return $v(e,"POST","/v1/accounts:signUp",Nu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await nc._fromIdTokenResponse(t,n,i),o=wU(n);return new Uf({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=wU(n);return new Uf({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function wU(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends hd{constructor(t,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,N2.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new N2(t,r,n,i)}}function $W(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?N2._fromErrorAndOperation(e,a,t,n):a})}async function D0e(e,t,r=!1){const n=await sg(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Uf._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0e(e,t,r=!1){const{auth:n}=e;if(al(n.app))return Promise.reject(nu(n));const i="reauthenticate";try{const a=await sg(e,$W(n,i,t,e),r);or(a.idToken,n,"internal-error");const o=b6(a.idToken);or(o,n,"internal-error");const{sub:l}=o;return or(e.uid===l,n,"user-mismatch"),Uf._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&xl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(e,t,r=!1){if(al(e.app))return Promise.reject(nu(e));const n="signIn",i=await $W(e,n,t),a=await Uf._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}async function Q0e(e,t){return HW(_u(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VW(e){const t=_u(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function $0e(e,t,r){const n=_u(e);await j2(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",I0e)}async function zW(e,t,r){if(al(e.app))return Promise.reject(nu(e));const n=_u(e),o=await j2(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R0e).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&VW(e),c}),l=await Uf._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function H0e(e,t,r){return al(e.app)?Promise.reject(nu(e)):Q0e(Lo(e),zg.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&VW(e),n})}async function KW(e,t){const r=Lo(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:a}=await P0e(r.auth,i);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0e(e,t){return Ad(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WW(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=Lo(e),a={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},o=await sg(n,V0e(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function z0e(e,t,r,n){return Lo(e).onIdTokenChanged(t,r,n)}function K0e(e,t,r){return Lo(e).beforeAuthStateChanged(t,r)}function W0e(e){return Lo(e).signOut()}const _2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(_2,"1"),this.storage.removeItem(_2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0e=1e3,q0e=10;class qW extends GW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);d0e()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,q0e):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},G0e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}qW.type="LOCAL";const Y0e=qW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW extends GW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}YW.type="SESSION";const XW=YW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0e(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new QN(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async d=>d(r.origin,a)),c=await X0e(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}QN.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0e{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=C6("",20);i.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(A){const f=A;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(u),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(){return window}function J0e(e){Zc().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(){return typeof Zc().WorkerGlobalScope<"u"&&typeof Zc().importScripts=="function"}async function exe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function txe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function rxe(){return ZW()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW="firebaseLocalStorageDb",nxe=1,C2="firebaseLocalStorage",eG="fbase_key";class Vv{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function $N(e,t){return e.transaction([C2],t?"readwrite":"readonly").objectStore(C2)}function sxe(){const e=indexedDB.deleteDatabase(JW);return new Vv(e).toPromise()}function K4(){const e=indexedDB.open(JW,nxe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(C2,{keyPath:eG})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(C2)?t(n):(n.close(),await sxe(),t(await K4()))})})}async function jU(e,t,r){const n=$N(e,!0).put({[eG]:t,value:r});return new Vv(n).toPromise()}async function ixe(e,t){const r=$N(e,!1).get(t),n=await new Vv(r).toPromise();return n===void 0?null:n.value}function NU(e,t){const r=$N(e,!0).delete(t);return new Vv(r).toPromise()}const axe=800,oxe=3;class tG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K4(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>oxe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZW()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=QN._getInstance(rxe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await exe(),!this.activeServiceWorker)return;this.sender=new Z0e(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||txe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await K4();return await jU(t,_2,"1"),await NU(t,_2),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>jU(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>ixe(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>NU(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=$N(i,!1).getAll();return new Vv(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),axe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tG.type="LOCAL";const lxe=tG;new Qv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(e,t){return t?zd(t):(or(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6 extends j6{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pp(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Pp(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Pp(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function cxe(e){return HW(e.auth,new S6(e),e.bypassAuthState)}function dxe(e){const{auth:t,user:r}=e;return or(r,t,"internal-error"),M0e(r,new S6(e),e.bypassAuthState)}async function uxe(e){const{auth:t,user:r}=e;return or(r,t,"internal-error"),D0e(r,new S6(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cxe;case"linkViaPopup":case"linkViaRedirect":return uxe;case"reauthViaPopup":case"reauthViaRedirect":return dxe;default:xl(this.auth,"internal-error")}}resolve(t){fu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hxe=new Qv(2e3,1e4);async function Axe(e,t,r){if(al(e.app))return Promise.reject(oc(e,"operation-not-supported-in-this-environment"));const n=_u(e);Vge(e,t,_6);const i=rG(n,r);return new tf(n,"signInViaPopup",t,i).executeNotNull()}class tf extends nG{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,tf.currentPopupAction&&tf.currentPopupAction.cancel(),tf.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return or(t,this.auth,"internal-error"),t}async onExecution(){fu(this.filter.length===1,"Popup operations only handle one event");const t=C6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(oc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(oc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tf.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hxe.get())};t()}}tf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fxe="pendingRedirect",b1=new Map;class mxe extends nG{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=b1.get(this.auth._key());if(!t){try{const n=await pxe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}b1.set(this.auth._key(),t)}return this.bypassAuthState||b1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pxe(e,t){const r=yxe(t),n=xxe(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function gxe(e,t){b1.set(e._key(),t)}function xxe(e){return zd(e._redirectPersistence)}function yxe(e){return v1(fxe,e.config.apiKey,e.name)}async function vxe(e,t,r=!1){if(al(e.app))return Promise.reject(nu(e));const n=_u(e),i=rG(n,t),o=await new mxe(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bxe=10*60*1e3;class wxe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jxe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!sG(t)){const i=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(oc(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bxe&&this.cachedEventUids.clear(),this.cachedEventUids.has(_U(t))}saveEventToCache(t){this.cachedEventUids.add(_U(t)),this.lastProcessedEventTime=Date.now()}}function _U(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function sG({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function jxe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sG(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nxe(e,t={}){return Ad(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _xe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cxe=/^https?/;async function Sxe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Nxe(e);for(const r of t)try{if(Bxe(r))return}catch{}xl(e,"unauthorized-domain")}function Bxe(e){const t=V4(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Cxe.test(r))return!1;if(_xe.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Exe=new Qv(3e4,6e4);function CU(){const e=Zc().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function kxe(e){return new Promise((t,r)=>{var i,a,o;function n(){CU(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{CU(),r(oc(e,"network-request-failed"))},timeout:Exe.get()})}if((a=(i=Zc().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((o=Zc().gapi)!=null&&o.load)n();else{const l=y0e("iframefcb");return Zc()[l]=()=>{gapi.load?n():r(oc(e,"network-request-failed"))},RW(`${x0e()}?onload=${l}`).catch(c=>r(c))}}).catch(t=>{throw w1=null,t})}let w1=null;function Pxe(e){return w1=w1||kxe(e),w1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ixe=new Qv(5e3,15e3),Txe="__/auth/iframe",Oxe="emulator/auth/iframe",Lxe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fxe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uxe(e){const t=e.config;or(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?v6(t,Oxe):`https://${e.config.authDomain}/${Txe}`,n={apiKey:t.apiKey,appName:e.name,v:Mv},i=Fxe.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Dv(n).slice(1)}`}async function Rxe(e){const t=await Pxe(e),r=Zc().gapi;return or(r,e,"internal-error"),t.open({where:document.body,url:Uxe(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lxe,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=oc(e,"network-request-failed"),l=Zc().setTimeout(()=>{a(o)},Ixe.get());function c(){Zc().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dxe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mxe=500,Qxe=600,$xe="_blank",Hxe="http://localhost";class SU{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vxe(e,t,r,n=Mxe,i=Qxe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...Dxe,width:n.toString(),height:i.toString(),top:a,left:o},d=Pa().toLowerCase();r&&(l=PW(d)?$xe:r),EW(d)&&(t=t||Hxe,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[m,x])=>`${f}${m}=${x},`,"");if(c0e(d)&&l!=="_self")return zxe(t||"",l),new SU(null);const A=window.open(t||"",l,u);or(A,e,"popup-blocked");try{A.focus()}catch{}return new SU(A)}function zxe(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kxe="__/auth/handler",Wxe="emulator/auth/handler",Gxe=encodeURIComponent("fac");async function BU(e,t,r,n,i,a){or(e.config.authDomain,e,"auth-domain-config-required"),or(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Mv,eventId:i};if(t instanceof _6){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Spe(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,A]of Object.entries({}))o[u]=A}if(t instanceof Hv){const u=t.getScopes().filter(A=>A!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await e._getAppCheckToken(),d=c?`#${Gxe}=${encodeURIComponent(c)}`:"";return`${qxe(e)}?${Dv(l).slice(1)}${d}`}function qxe({config:e}){return e.emulator?v6(e,Wxe):`https://${e.authDomain}/${Kxe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="webStorageSupport";class Yxe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XW,this._completeRedirectFn=vxe,this._overrideRedirectResult=gxe}async _openPopup(t,r,n,i){var o;fu((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await BU(t,r,n,V4(),i);return Vxe(t,a,C6())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await BU(t,r,n,V4(),i);return J0e(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(fu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await Rxe(t),n=new wxe(t);return r.register("authEvent",i=>(or(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(SC,{type:SC},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[SC];a!==void 0&&r(!!a),xl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Sxe(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return FW()||kW()||w6()}}const Xxe=Yxe;var EU="@firebase/auth",kU="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zxe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){or(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jxe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eye(e){Au(new cd("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;or(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UW(e)},d=new m0e(n,i,a,c);return _0e(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Au(new cd("auth-internal",t=>{const r=_u(t.getProvider("auth").getImmediate());return(n=>new Zxe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xc(EU,kU,Jxe(e)),Xc(EU,kU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tye=5*60,rye=uW("authIdTokenMaxAge")||tye;let PU=null;const nye=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>rye)return;const i=r==null?void 0:r.token;PU!==i&&(PU=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sye(e=yW()){const t=Vg(e,"auth");if(t.isInitialized())return t.getImmediate();const r=N0e(e,{popupRedirectResolver:Xxe,persistence:[lxe,Y0e,XW]}),n=uW("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=nye(a.toString());K0e(r,o,()=>o(r.currentUser)),z0e(r,l=>o(l))}}const i=Ape("auth");return i&&C0e(r,`http://${i}`),r}function iye(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}p0e({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=oc("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",iye().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eye("Browser");var aye="firebase",oye="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xc(aye,oye,"app");const iG="@firebase/installations",B6="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG=1e4,oG=`w:${B6}`,lG="FIS_v2",lye="https://firebaseinstallations.googleapis.com/v1",cye=60*60*1e3,dye="installations",uye="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hye={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rf=new am(dye,uye,hye);function cG(e){return e instanceof hd&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG({projectId:e}){return`${lye}/projects/${e}/installations`}function uG(e){return{token:e.token,requestStatus:2,expiresIn:fye(e.expiresIn),creationTime:Date.now()}}async function hG(e,t){const n=(await t.json()).error;return Rf.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function AG({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Aye(e,{refreshToken:t}){const r=AG(e);return r.append("Authorization",mye(t)),r}async function fG(e){const t=await e();return t.status>=500&&t.status<600?e():t}function fye(e){return Number(e.replace("s","000"))}function mye(e){return`${lG} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pye({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=dG(e),i=AG(e),a=t.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={fid:r,authVersion:lG,appId:e.appId,sdkVersion:oG},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await fG(()=>fetch(n,l));if(c.ok){const d=await c.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:uG(d.authToken)}}else throw await hG("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gye(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xye=/^[cdef][\w-]{21}$/,W4="";function yye(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=vye(e);return xye.test(r)?r:W4}catch{return W4}}function vye(e){return gye(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG=new Map;function gG(e,t){const r=HN(e);xG(r,t),bye(r,t)}function xG(e,t){const r=pG.get(e);if(r)for(const n of r)n(t)}function bye(e,t){const r=wye();r&&r.postMessage({key:e,fid:t}),jye()}let rf=null;function wye(){return!rf&&"BroadcastChannel"in self&&(rf=new BroadcastChannel("[Firebase] FID Change"),rf.onmessage=e=>{xG(e.data.key,e.data.fid)}),rf}function jye(){pG.size===0&&rf&&(rf.close(),rf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nye="firebase-installations-database",_ye=1,Df="firebase-installations-store";let BC=null;function E6(){return BC||(BC=gW(Nye,_ye,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Df)}}})),BC}async function S2(e,t){const r=HN(e),i=(await E6()).transaction(Df,"readwrite"),a=i.objectStore(Df),o=await a.get(r);return await a.put(t,r),await i.done,(!o||o.fid!==t.fid)&&gG(e,t.fid),t}async function yG(e){const t=HN(e),n=(await E6()).transaction(Df,"readwrite");await n.objectStore(Df).delete(t),await n.done}async function VN(e,t){const r=HN(e),i=(await E6()).transaction(Df,"readwrite"),a=i.objectStore(Df),o=await a.get(r),l=t(o);return l===void 0?await a.delete(r):await a.put(l,r),await i.done,l&&(!o||o.fid!==l.fid)&&gG(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(e){let t;const r=await VN(e.appConfig,n=>{const i=Cye(n),a=Sye(e,i);return t=a.registrationPromise,a.installationEntry});return r.fid===W4?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function Cye(e){const t=e||{fid:yye(),registrationStatus:0};return vG(t)}function Sye(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Rf.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=Bye(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Eye(e)}:{installationEntry:t}}async function Bye(e,t){try{const r=await pye(e,t);return S2(e.appConfig,r)}catch(r){throw cG(r)&&r.customData.serverCode===409?await yG(e.appConfig):await S2(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function Eye(e){let t=await IU(e.appConfig);for(;t.registrationStatus===1;)await mG(100),t=await IU(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await k6(e);return n||r}return t}function IU(e){return VN(e,t=>{if(!t)throw Rf.create("installation-not-found");return vG(t)})}function vG(e){return kye(e)?{fid:e.fid,registrationStatus:0}:e}function kye(e){return e.registrationStatus===1&&e.registrationTime+aG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pye({appConfig:e,heartbeatServiceProvider:t},r){const n=Iye(e,r),i=Aye(e,r),a=t.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={installation:{sdkVersion:oG,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await fG(()=>fetch(n,l));if(c.ok){const d=await c.json();return uG(d)}else throw await hG("Generate Auth Token",c)}function Iye(e,{fid:t}){return`${dG(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(e,t=!1){let r;const n=await VN(e.appConfig,a=>{if(!bG(a))throw Rf.create("not-registered");const o=a.authToken;if(!t&&Lye(o))return a;if(o.requestStatus===1)return r=Tye(e,t),a;{if(!navigator.onLine)throw Rf.create("app-offline");const l=Uye(a);return r=Oye(e,l),l}});return r?await r:n.authToken}async function Tye(e,t){let r=await TU(e.appConfig);for(;r.authToken.requestStatus===1;)await mG(100),r=await TU(e.appConfig);const n=r.authToken;return n.requestStatus===0?P6(e,t):n}function TU(e){return VN(e,t=>{if(!bG(t))throw Rf.create("not-registered");const r=t.authToken;return Rye(r)?{...t,authToken:{requestStatus:0}}:t})}async function Oye(e,t){try{const r=await Pye(e,t),n={...t,authToken:r};return await S2(e.appConfig,n),r}catch(r){if(cG(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await yG(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await S2(e.appConfig,n)}throw r}}function bG(e){return e!==void 0&&e.registrationStatus===2}function Lye(e){return e.requestStatus===2&&!Fye(e)}function Fye(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+cye}function Uye(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function Rye(e){return e.requestStatus===1&&e.requestTime+aG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dye(e){const t=e,{installationEntry:r,registrationPromise:n}=await k6(t);return n?n.catch(console.error):P6(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mye(e,t=!1){const r=e;return await Qye(r),(await P6(r,t)).token}async function Qye(e){const{registrationPromise:t}=await k6(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ye(e){if(!e||!e.options)throw EC("App Configuration");if(!e.name)throw EC("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw EC(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function EC(e){return Rf.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG="installations",Hye="installations-internal",Vye=e=>{const t=e.getProvider("app").getImmediate(),r=$ye(t),n=Vg(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},zye=e=>{const t=e.getProvider("app").getImmediate(),r=Vg(t,wG).getImmediate();return{getId:()=>Dye(r),getToken:i=>Mye(r,i)}};function Kye(){Au(new cd(wG,Vye,"PUBLIC")),Au(new cd(Hye,zye,"PRIVATE"))}Kye();Xc(iG,B6);Xc(iG,B6,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="analytics",Wye="firebase_id",Gye="origin",qye=60*1e3,Yye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",I6="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new p6("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xye={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},So=new am("analytics","Analytics",Xye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zye(e){if(!e.startsWith(I6)){const t=So.create("invalid-gtag-resource",{gtagURL:e});return Ea.warn(t.message),""}return e}function jG(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function Jye(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function eve(e,t){const r=Jye("firebase-js-sdk-policy",{createScriptURL:Zye}),n=document.createElement("script"),i=`${I6}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function tve(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function rve(e,t,r,n,i,a){const o=n[i];try{if(o)await t[o];else{const c=(await jG(r)).find(d=>d.measurementId===i);c&&await t[c.appId]}}catch(l){Ea.error(l)}e("config",i,a)}async function nve(e,t,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await jG(r);for(const c of o){const d=l.find(A=>A.measurementId===c),u=d&&t[d.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",n,i||{})}catch(a){Ea.error(a)}}function sve(e,t,r,n){async function i(a,...o){try{if(a==="event"){const[l,c]=o;await nve(e,t,r,l,c)}else if(a==="config"){const[l,c]=o;await rve(e,t,r,n,l,c)}else if(a==="consent"){const[l,c]=o;e("consent",l,c)}else if(a==="get"){const[l,c,d]=o;e("get",l,c,d)}else if(a==="set"){const[l]=o;e("set",l)}else e(a,...o)}catch(l){Ea.error(l)}}return i}function ive(e,t,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=sve(a,e,t,r),{gtagCore:a,wrappedGtag:window[i]}}function ave(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(I6)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ove=30,lve=1e3;class cve{constructor(t={},r=lve){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const NG=new cve;function dve(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function uve(e){var o;const{appId:t,apiKey:r}=e,n={method:"GET",headers:dve(r)},i=Yye.replace("{app-id}",t),a=await fetch(i,n);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();(o=c.error)!=null&&o.message&&(l=c.error.message)}catch{}throw So.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function hve(e,t=NG,r){const{appId:n,apiKey:i,measurementId:a}=e.options;if(!n)throw So.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw So.create("no-api-key")}const o=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new mve;return setTimeout(async()=>{l.abort()},qye),_G({appId:n,apiKey:i,measurementId:a},o,l,t)}async function _G(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=NG){var l;const{appId:a,measurementId:o}=e;try{await Ave(n,t)}catch(c){if(o)return Ea.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw c}try{const c=await uve(e);return i.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!fve(d)){if(i.deleteThrottleMetadata(a),o)return Ea.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:o};throw c}const u=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?sU(r,i.intervalMillis,ove):sU(r,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(a,A),Ea.debug(`Calling attemptFetch again in ${u} millis`),_G(e,A,n,i)}}function Ave(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(a),n(So.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function fve(e){if(!(e instanceof hd)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class mve{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function pve(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}else{const a=await t,o={...n,send_to:a};e("event",r,o)}}async function gve(e,t,r,n){if(n&&n.global){const i={};for(const a of Object.keys(r))i[`user_properties.${a}`]=r[a];return e("set",i),Promise.resolve()}else{const i=await t;e("config",i,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xve(){if(AW())try{await fW()}catch(e){return Ea.warn(So.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ea.warn(So.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yve(e,t,r,n,i,a,o){const l=hve(e);l.then(f=>{r[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&Ea.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ea.error(f)),t.push(l);const c=xve().then(f=>{if(f)return n.getId()}),[d,u]=await Promise.all([l,c]);ave(a)||eve(a,d.measurementId),i("js",new Date);const A=(o==null?void 0:o.config)??{};return A[Gye]="firebase",A.update=!0,u!=null&&(A[Wye]=u),i("config",d.measurementId,A),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vve{constructor(t){this.app=t}_delete(){return delete Ip[this.app.options.appId],Promise.resolve()}}let Ip={},OU=[];const LU={};let kC="dataLayer",bve="gtag",FU,T6,UU=!1;function wve(){const e=[];if(hW()&&e.push("This is a browser extension environment."),jpe()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=So.create("invalid-analytics-context",{errorInfo:t});Ea.warn(r.message)}}function jve(e,t,r){wve();const n=e.options.appId;if(!n)throw So.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ea.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw So.create("no-api-key");if(Ip[n]!=null)throw So.create("already-exists",{id:n});if(!UU){tve(kC);const{wrappedGtag:a,gtagCore:o}=ive(Ip,OU,LU,kC,bve);T6=a,FU=o,UU=!0}return Ip[n]=yve(e,OU,LU,t,FU,kC,r),new vve(e)}function Nve(e=yW()){e=Lo(e);const t=Vg(e,B2);return t.isInitialized()?t.getImmediate():_ve(e)}function _ve(e,t={}){const r=Vg(e,B2);if(r.isInitialized()){const i=r.getImmediate();if(Lf(t,r.getOptions()))return i;throw So.create("already-initialized")}return r.initialize({options:t})}function Cve(e,t,r){e=Lo(e),gve(T6,Ip[e.app.options.appId],t,r).catch(n=>Ea.error(n))}function Sve(e,t,r,n){e=Lo(e),pve(T6,Ip[e.app.options.appId],t,r,n).catch(i=>Ea.error(i))}const RU="@firebase/analytics",DU="0.10.19";function Bve(){Au(new cd(B2,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return jve(n,i,r)},"PUBLIC")),Au(new cd("analytics-internal",e,"PRIVATE")),Xc(RU,DU),Xc(RU,DU,"esm2020");function e(t){try{const r=t.getProvider(B2).getImmediate();return{logEvent:(n,i,a)=>Sve(r,n,i,a),setUserProperties:(n,i)=>Cve(r,n,i)}}catch(r){throw So.create("interop-component-reg-failed",{reason:r})}}}Bve();const Eve={apiKey:"AIzaSyDzhAKzSVS-Y-s8s4yIufbGufzIWGg-hK0",authDomain:"lyvo-ce4ce.firebaseapp.com",projectId:"lyvo-ce4ce",storageBucket:"lyvo-ce4ce.firebasestorage.app",messagingSenderId:"369723896940",appId:"1:369723896940:web:110502102b415be5f59449",measurementId:"G-RW4WQDGN7R"},CG=xW(Eve);Nve(CG);const Tp=sye(CG),kve=()=>{const[e,t]=j.useState({email:"",password:""}),[r,n]=j.useState(null),[i,a]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,A]=j.useState(!1),f=Ar();j.useEffect(()=>{(()=>{const y="864948749872-dh9vc6atlj2psgd53oiqg99kqgdbusfe.apps.googleusercontent.com",b=document.createElement("script");b.src="https://accounts.google.com/gsi/client",b.async=!0,b.defer=!0,document.head.appendChild(b);const w=()=>{var _;if(window.google&&document.getElementById("google-signin-button")){const N=((_=document.getElementById("google-btn-container"))==null?void 0:_.offsetWidth)||380,C=Math.min(N,380);try{window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",text:"signin_with",shape:"rectangular",width:C.toString()})}catch(P){console.error("Google button render error:",P)}}};return b.onload=()=>{if(window.google)try{window.google.accounts.id.initialize({client_id:y,callback:m,auto_select:!1,cancel_on_tap_outside:!0}),w(),window.addEventListener("resize",w)}catch(_){console.error("Error initializing Google Sign-In:",_);const N=document.getElementById("google-signin-button");N&&(N.style.display="none"),toast.error("Google Sign-in is temporarily unavailable.")}},b.onerror=()=>{console.error("Failed to load Google Sign-In script");const _=document.getElementById("google-signin-button");_&&(_.style.display="none"),toast.error("Google Sign-in is temporarily unavailable. Please use email/password login.")},()=>{window.removeEventListener("resize",w)}})()},[]),j.useEffect(()=>{const v=Rv(),y=Uv();if(v&&y){Fv(y);const b=Bp(y);f(b,{replace:!0})}},[f]);const m=async v=>{var y,b,w,_,N,C,P;try{if(d(!0),n(null),!v||!v.credential)throw new Error("No credential received from Google");const E=await Ye.post("/user/google-signin",{credential:v.credential});localStorage.setItem("authToken",E.data.token),localStorage.setItem("user",JSON.stringify(E.data.user)),console.log("Login: Google sign-in successful, stored data:",{token:E.data.token?"present":"missing",user:E.data.user}),window.dispatchEvent(new Event("lyvo-login"));const I=E.data.user||{};if(console.log("Login: User data after Google sign-in:",{role:I.role,roleType:typeof I.role,isNewUser:I.isNewUser,hasCompletedBehaviorQuestions:I.hasCompletedBehaviorQuestions,email:I.email,name:I.name}),I.role===1&&I.isNewUser&&!I.hasCompletedBehaviorQuestions){console.log("Login: Redirecting seeker to onboarding for behavioral questions"),f("/onboarding");return}const F=I&&I.role===1&&(!I.phone||!I.location||I.age===void 0||I.age===null||I.age===""||!I.occupation||!I.gender);if(I&&I.role===1&&console.log("Login (Google): Profile Completion Check:",{needsCompletion:F,currentUser:I,checks:{phone:!I.phone,location:!I.location,age:I.age===void 0||I.age===null||I.age==="",occupation:!I.occupation,gender:!I.gender}}),F){console.log("Login (Google): Redirecting to /seeker-profile due to incomplete profile"),f("/seeker-profile");return}if(I&&I.role===1&&!I.isTenant)try{console.log("Login: Double-checking tenancy status...");const O=await Ye.get("/property/user/tenant-status");if(O.data.success&&O.data.isTenant){console.log("Login: Tenancy found on double-check. Updating user session."),I.isTenant=!0;const R=JSON.parse(localStorage.getItem("user")||"{}");R.isTenant=!0,localStorage.setItem("user",JSON.stringify(R))}}catch(O){console.warn("Login: Tenancy double-check failed",O)}const B=Bp(I);console.log("Login: Final redirect URL for Google sign-in user:",{role:I.role,redirectUrl:B,userData:I}),f(B)}catch(E){console.error("Google Sign-in Error:",E),((y=E.response)==null?void 0:y.status)===403?(_=(w=(b=E.response)==null?void 0:b.data)==null?void 0:w.message)!=null&&_.toLowerCase().includes("deactivated")?A(!0):n("Google Sign-in is not configured for this domain. Please use email/password login."):((N=E.response)==null?void 0:N.status)===400?n("Invalid Google credentials. Please try again."):E.message==="No credential received from Google"?n("Google Sign-in failed. Please try again."):n(((P=(C=E.response)==null?void 0:C.data)==null?void 0:P.message)||"Google sign-in failed. Please try again.");const I=document.getElementById("google-signin-button");I&&(I.style.display="none")}finally{d(!1)}},x=v=>{t({...e,[v.target.id]:v.target.value})},g=async v=>{var y,b,w,_,N,C;v.preventDefault(),a(!0),n(null);try{const E=(await H0e(Tp,e.email,e.password)).user;await E.reload().catch(U=>console.log("Reload user failed",U)),E.emailVerified||console.warn("User email verified status is FALSE. Proceeding to backend to update status if changed.");const I=await E.getIdToken(),F=await Ye.post("/user/auth/firebase",{},{headers:{Authorization:`Bearer ${I}`}});localStorage.setItem("authToken",F.data.token),localStorage.setItem("user",JSON.stringify(F.data.user)),console.log("Login: Firebase login successful, stored data:",{token:F.data.token?"present":"missing",user:F.data.user}),window.dispatchEvent(new Event("lyvo-login"));const B=F.data.user||{};if(B.role===1&&B.isNewUser&&!B.hasCompletedBehaviorQuestions){f("/onboarding");return}const O=B&&B.role===1&&(!B.phone||!B.location||B.age===void 0||B.age===null||B.age===""||!B.occupation||!B.gender);if(B&&B.role===1&&console.log("Login (Email): Profile Completion Check:",{needsCompletion:O,currentUser:B,checks:{phone:!B.phone,location:!B.location,age:B.age===void 0||B.age===null||B.age==="",occupation:!B.occupation,gender:!B.gender}}),O){console.log("Login (Email): Redirecting to /seeker-profile due to incomplete profile"),f("/seeker-profile");return}if(B&&B.role===1&&!B.isTenant)try{console.log("Login: Double-checking tenancy status...");const U=await Ye.get("/property/user/tenant-status");if(U.data.success&&U.data.isTenant){console.log("Login: Tenancy found on double-check. Updating user session."),B.isTenant=!0;const $=JSON.parse(localStorage.getItem("user")||"{}");$.isTenant=!0,localStorage.setItem("user",JSON.stringify($))}}catch(U){console.warn("Login: Tenancy double-check failed",U)}const R=Bp(B);f(R)}catch(P){console.error("Login Error:",P),P.code==="auth/invalid-credential"?n("Invalid email or password."):P.code==="auth/user-not-found"?n("No user found with this email."):((y=P.response)==null?void 0:y.status)===403&&((_=(w=(b=P.response)==null?void 0:b.data)==null?void 0:w.message)!=null&&_.toLowerCase().includes("deactivated"))?A(!0):n(((C=(N=P.response)==null?void 0:N.data)==null?void 0:C.message)||P.message||"An unexpected error occurred.")}finally{a(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome back"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Sign in to your account"})]}),s.jsx(Mr,{children:r&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(Xt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]})}),s.jsxs("div",{className:"mb-6 flex flex-col items-center w-full",id:"google-btn-container",children:[s.jsx("div",{id:"google-signin-button",className:`w-full flex justify-center ${c?"opacity-50 pointer-events-none":""}`}),s.jsx(Mr,{children:c&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-3 flex items-center justify-center gap-2",children:[s.jsx(Xs,{className:"w-5 h-5 text-red-500 animate-spin"}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Signing in..."})]})}),!1]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your email",value:e.email,onChange:x})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:o?"text":"password",required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your password",value:e.password,onChange:x}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(Ot,{to:"/forgot-password",className:"text-sm text-red-600 hover:text-red-700 hover:underline",children:"Forgot your password?"})}),s.jsx(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:i,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:bg-red-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Signing in..."})]}):"Sign in"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(Ot,{to:"/signup",className:"font-semibold text-red-600 hover:text-red-700 underline",children:"Sign up"})]})})]})}),s.jsx(iW,{isOpen:u,onClose:()=>A(!1),title:"Account Deactivated",message:"Your account has been deactivated by the admin. You will no longer be able to log in or use the platform. Please contact support if you believe this is a mistake.",type:"danger",buttonText:"Close"})]})},MU={score:0,label:"",color:"",barColor:""},Pve=()=>{const[e,t]=j.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=j.useState(null),[i,a]=j.useState(null),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,A]=j.useState(!1),[f,m]=j.useState(!1),[x,g]=j.useState(!1),[v,y]=j.useState(MU),[b,w]=j.useState(""),[_,N]=j.useState(!1),[C,P]=j.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[E,I]=j.useState({name:"",email:"",password:"",confirmPassword:""}),[F,B]=j.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[O,R]=j.useState(!1),[U,$]=j.useState(!1),[K,H]=j.useState(null),z=Ar();j.useEffect(()=>{(()=>{const ue="864948749872-dh9vc6atlj2psgd53oiqg99kqgdbusfe.apps.googleusercontent.com",J=document.createElement("script");J.src="https://accounts.google.com/gsi/client",J.async=!0,J.defer=!0,document.head.appendChild(J);const fe=()=>{var ye;if(window.google&&document.getElementById("google-signin-button")){const Ie=((ye=document.getElementById("google-btn-container"))==null?void 0:ye.offsetWidth)||380,ke=Math.min(Ie,380);try{window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",text:"signup_with",shape:"rectangular",width:ke.toString()})}catch(He){console.error("Error rendering Google button:",He)}}};return J.onload=()=>{if(window.google)try{window.google.accounts.id.initialize({client_id:ue,callback:te,auto_select:!1,cancel_on_tap_outside:!0}),fe(),window.addEventListener("resize",fe)}catch(ye){console.error("Error initializing Google Sign-In:",ye)}},J.onerror=()=>{console.error("Failed to load Google Sign-In script")},()=>{window.removeEventListener("resize",fe)}})()},[]);const te=async _e=>{var ue,J,fe,ye,Ie,ke,He,We;try{m(!0),n(null),a(null);const me=await Ye.post("/user/google-signin",{credential:_e.credential,role:1});localStorage.setItem("authToken",me.data.token),localStorage.setItem("user",JSON.stringify(me.data.user)),window.dispatchEvent(new Event("lyvo-login"));const Be=me.data.user;Be.isNewUser&&!Be.hasCompletedBehaviorQuestions?z("/seeker-onboarding"):z("/seeker-dashboard")}catch(me){((J=(ue=me.response)==null?void 0:ue.data)==null?void 0:J.errorCode)==="ROLE_CONFLICT"?n(me.response.data.message):((fe=me.response)==null?void 0:fe.status)===403&&((ke=(Ie=(ye=me.response)==null?void 0:ye.data)==null?void 0:Ie.message)!=null&&ke.toLowerCase().includes("deactivated"))?g(!0):n(((We=(He=me.response)==null?void 0:He.data)==null?void 0:We.message)||"Google sign-in failed. Please try again.")}finally{m(!1)}},ee={length:e.password.length>=8,uppercase:/[A-Z]/.test(e.password),lowercase:/[a-z]/.test(e.password),number:/\d/.test(e.password),special:/[@$!%*?&]/.test(e.password)},Z=_e=>{if(!_e)return{score:0,label:"",color:"text-gray-400",barColor:"bg-gray-200"};let ue=0,J="";_e.length>=8&&(ue+=20),_e.length>=12&&(ue+=10),/[a-z]/.test(_e)&&(ue+=20),/[A-Z]/.test(_e)&&(ue+=20),/\d/.test(_e)&&(ue+=20),/[@$!%*?&]/.test(_e)&&(ue+=20),_e.length>8&&/[a-z]/.test(_e)&&/[A-Z]/.test(_e)&&(ue+=10),_e.length>8&&/\d/.test(_e)&&/[@$!%*?&]/.test(_e)&&(ue+=10),ue=Math.min(ue,100);let fe="",ye="",Ie="";return ue<20||ue<40?(fe="weak",ye="text-orange-500",Ie="bg-orange-500"):ue<60?(fe="medium",ye="text-yellow-500",Ie="bg-gradient-to-r from-orange-500 to-yellow-500"):ue<80?(fe="good",ye="text-yellow-500",Ie="bg-gradient-to-r from-orange-500 to-yellow-500"):(fe="strong",ye="text-green-500",Ie="bg-gradient-to-r from-red-500 via-orange-500 via-yellow-500 to-green-500"),ue<20?J="This password is not acceptable. Add another word or two.":ue<40?J="Weak password. Try adding numbers and special characters.":ue<60?J="Fair password. Add more variety to make it stronger.":ue<80?J="Good password. Almost there!":J="Excellent! Your password is strong.",w(J),{score:ue,label:fe,color:ye,barColor:Ie}},V=Object.values(ee).every(Boolean);j.useEffect(()=>{const _e=Z(e.password);y(_e)},[e.password]),j.useEffect(()=>{if(V&&_){const _e=setTimeout(()=>{N(!1)},1e3);return()=>clearTimeout(_e)}},[V,_]);const X=_e=>{if(!_e.trim())return"Full name is required";if(_e.trim().length<2)return"Full name must be at least 2 characters long";if(_e.trim().length>50)return"Full name must be less than 50 characters"},W=_e=>{if(!_e.trim())return"Email is required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_e.trim()))return"Please enter a valid email address"},ae=_e=>{if(!_e)return"Password is required";if(_e.length<8)return"Password must be at least 8 characters long";if(!/[A-Z]/.test(_e))return"Password must contain at least one uppercase letter";if(!/[a-z]/.test(_e))return"Password must contain at least one lowercase letter";if(!/\d/.test(_e))return"Password must contain at least one number";if(!/[@$!%*?&]/.test(_e))return"Password must contain at least one special character (@$!%*?&)"},ie=(_e,ue)=>{if(!_e)return"Please confirm your password";if(_e!==ue)return"Passwords do not match"},ce=_e=>{const ue=["name","email","password","confirmPassword"],J=ue.indexOf(_e);if(J===0)return!0;const fe=ue[J-1],ye=F[fe];if(_e==="password"){const Ie=F.email,ke=U&&K&&K.isVerified;return Ie&&!ke}return ye},be=()=>F.name&&F.email&&F.password&&F.confirmPassword,he=async _e=>{if(!_e||!_e.includes("@")){$(!1),H(null);return}try{R(!0),console.log("Checking email:",_e);const ue=await Ye.get("/user/check-email",{params:{email:_e}}),J=ue.data;if(console.log("Email check response:",J),ue.status===200)if(J.exists===!0)$(!0),H({isVerified:!0,note:"This email is already registered. Please use a different email or try logging in."}),I(fe=>({...fe,email:"Email already registered. Please use a different email."})),B(fe=>({...fe,email:!1}));else if(J.isUnverified===!0)$(!0),H({isUnverified:!0,note:"This email was previously registered but not verified. You can register again."}),I(fe=>({...fe,email:""})),B(fe=>({...fe,email:!0}));else{$(!1),H(null),I(ye=>({...ye,email:""}));const fe=W(_e);B(ye=>({...ye,email:!fe}))}else console.error("Email check failed:",J),$(!1),H(null)}catch(ue){console.error("Error checking email:",ue),$(!1),H(null)}finally{R(!1)}};j.useEffect(()=>{const _e=setTimeout(()=>{e.email&&e.email.includes("@")&&e.email.includes(".")?he(e.email):e.email&&!e.email.includes("@")&&($(!1),I(ue=>({...ue,email:""})),B(ue=>({...ue,email:!1})))},500);return()=>clearTimeout(_e)},[e.email]);const ge=_e=>{P(J=>({...J,[_e]:!0}));let ue;switch(_e){case"name":ue=X(e.name);break;case"email":ue=W(e.email);break;case"password":ue=ae(e.password);break;case"confirmPassword":ue=ie(e.confirmPassword,e.password);break}I(J=>({...J,[_e]:ue})),B(J=>({...J,[_e]:!ue}))},Se=_e=>{const{id:ue,value:J}=_e.target;t({...e,[ue]:J}),E[ue]&&I(ye=>({...ye,[ue]:""})),ue==="password"&&J&&!_&&N(!0);let fe="";switch(ue){case"name":fe=X(J);break;case"email":fe=W(J);break;case"password":fe=ae(J);break;case"confirmPassword":fe=ie(J,e.password);break}if(I(ye=>({...ye,[ue]:fe||""})),B(ye=>({...ye,[ue]:!fe})),ue==="password"&&C.confirmPassword){const ye=ie(e.confirmPassword,J);I(Ie=>({...Ie,confirmPassword:ye||""})),B(Ie=>({...Ie,confirmPassword:!ye}))}},re=async _e=>{_e.preventDefault();const ue=X(e.name),J=W(e.email),fe=ae(e.password),ye=ie(e.confirmPassword,e.password);if(I({name:ue||"",email:J||"",password:fe||"",confirmPassword:ye||""}),P({name:!0,email:!0,password:!0,confirmPassword:!0}),ue||J||fe||ye){n("Please fix the errors above before submitting.");return}l(!0),n(null),a(null);try{const ke=(await zW(Tp,e.email,e.password)).user;await WW(ke,{displayName:e.name}),await KW(ke);const He=await ke.getIdToken(!0);await Ye.post("/user/auth/firebase",{name:e.name},{headers:{Authorization:`Bearer ${He}`}}),a("Account created successfully! Please check your email to verify your account."),t({name:"",email:"",password:"",confirmPassword:""}),y(MU),w(""),N(!1),I({name:"",email:"",password:"",confirmPassword:""}),P({name:!1,email:!1,password:!1,confirmPassword:!1}),B({name:!1,email:!1,password:!1,confirmPassword:!1}),R(!1),$(!1)}catch(Ie){console.error("Signup Error:",Ie),Ie.code==="auth/email-already-in-use"?n("This email is already registered. Please login instead."):Ie.code==="auth/weak-password"?n("Password should be at least 6 characters."):n(Ie.message||"An unexpected error occurred.")}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Join ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," as a Room Seeker"]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Find your perfect co-living space and connect with roommates"})]}),s.jsxs(Mr,{children:[r&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(Xt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]}),i&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(yt,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:i}),s.jsx("div",{className:"text-xs mt-1",children:"Please check your email and click the verification link to complete your registration."})]})]})]}),s.jsxs("div",{className:"mb-6 flex flex-col items-center w-full",id:"google-btn-container",children:[s.jsx("div",{id:"google-signin-button",className:`w-full flex justify-center ${f?"opacity-50 pointer-events-none":""}`}),s.jsx(Mr,{children:f&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-3 flex items-center justify-center gap-2",children:[s.jsx(Xs,{className:"w-5 h-5 text-red-500 animate-spin"}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Signing up..."})]})}),!1]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:re,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",F.name&&s.jsx(yt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"name",type:"text",required:!0,disabled:!ce("name"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ce("name")?C.name&&E.name?"border-red-300 bg-red-50":F.name?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your full name",value:e.name,onChange:Se,onBlur:()=>ge("name")})]}),C.name&&E.name&&s.jsxs(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"}),E.name]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",F.email&&!U&&s.jsx(yt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,disabled:!ce("email"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ce("email")?e.email&&(E.email||U)?"border-red-300 bg-red-50":e.email&&F.email&&!U?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your email",value:e.email,onChange:Se,onBlur:()=>ge("email")}),O&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})})]}),e.email&&(E.email||U&&K&&K.isVerified)&&s.jsxs(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"}),U&&K&&K.isVerified?"Email already registered. Please use a different email.":E.email]}),e.email&&!E.email&&!U&&F.email&&s.jsxs(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(yt,{className:"w-4 h-4"}),"Email is available"]}),e.email&&!E.email&&K&&K.isUnverified&&s.jsxs(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-blue-600 flex items-center gap-1",children:[s.jsx(yt,{className:"w-4 h-4"}),K.note||"This email was previously registered but not verified. You can register again."]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",F.password&&s.jsx(yt,{className:"inline w-4 h-4 text-green-500 ml-1"}),!ce("password")&&U&&K&&K.isVerified&&s.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(Email already registered - use different email)"}),!ce("password")&&U&&K&&K.isUnverified&&s.jsx("span",{className:"text-xs text-blue-500 ml-2",children:"(Complete email validation first)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:c?"text":"password",required:!0,disabled:!ce("password"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ce("password")?C.password&&E.password?"border-red-300 bg-red-50":F.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your password",value:e.password,onChange:Se,onBlur:()=>ge("password")}),s.jsx("button",{type:"button",onClick:()=>d(!c),disabled:!ce("password"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:c?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]}),e.password&&s.jsxs(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Password strength"}),s.jsx("span",{className:`text-xs font-medium ${v.color}`,children:v.label})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(Y.div,{className:`h-2 rounded-full ${v.barColor}`,initial:{width:0},animate:{width:`${v.score}%`},transition:{duration:.3,ease:"easeOut"}})})]}),b&&s.jsx(Y.p,{initial:{opacity:0},animate:{opacity:1},className:`text-xs ${v.color}`,children:b}),s.jsx(Mr,{children:_&&!V&&s.jsxs(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Password requirements"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs ${ee.length?"text-green-600":"text-gray-500"}`,children:[ee.length?s.jsx(zm,{className:"w-3 h-3"}):s.jsx(ar,{className:"w-3 h-3"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${ee.uppercase?"text-green-600":"text-gray-500"}`,children:[ee.uppercase?s.jsx(zm,{className:"w-3 h-3"}):s.jsx(ar,{className:"w-3 h-3"}),s.jsx("span",{children:"One uppercase letter"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${ee.lowercase?"text-green-600":"text-gray-500"}`,children:[ee.lowercase?s.jsx(zm,{className:"w-3 h-3"}):s.jsx(ar,{className:"w-3 h-3"}),s.jsx("span",{children:"One lowercase letter"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${ee.number?"text-green-600":"text-gray-500"}`,children:[ee.number?s.jsx(zm,{className:"w-3 h-3"}):s.jsx(ar,{className:"w-3 h-3"}),s.jsx("span",{children:"One number"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${ee.special?"text-green-600":"text-gray-500"}`,children:[ee.special?s.jsx(zm,{className:"w-3 h-3"}):s.jsx(ar,{className:"w-3 h-3"}),s.jsx("span",{children:"One special character (@$!%*?&)"})]})]})]})})]}),C.password&&E.password&&s.jsxs(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"}),E.password]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password ",F.confirmPassword&&s.jsx(yt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirmPassword",type:u?"text":"password",required:!0,disabled:!ce("confirmPassword"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ce("confirmPassword")?C.confirmPassword&&E.confirmPassword?"border-red-300 bg-red-50":C.confirmPassword&&e.confirmPassword&&e.confirmPassword===e.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Confirm your password",value:e.confirmPassword,onChange:Se,onBlur:()=>ge("confirmPassword")}),s.jsx("button",{type:"button",onClick:()=>A(!u),disabled:!ce("confirmPassword"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:u?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]}),C.confirmPassword&&E.confirmPassword&&s.jsxs(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"}),E.confirmPassword]}),C.confirmPassword&&e.confirmPassword&&e.confirmPassword===e.password&&!E.confirmPassword&&s.jsxs(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(yt,{className:"w-4 h-4"}),"Passwords match"]})]}),s.jsx(Y.button,{whileHover:be()?{scale:1.02}:{},whileTap:be()?{scale:.98}:{},type:"submit",disabled:o||!be(),className:`w-full py-3 px-4 rounded-lg font-semibold shadow-sm transition-all duration-200 ${be()?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"} disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:o?s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Creating account..."})]}):be()?"Create account":"Complete all fields to continue"})]}),s.jsxs("div",{className:"mt-6 text-center space-y-3",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Ot,{to:"/login",className:"font-semibold text-red-600 hover:text-red-700 underline",children:"Sign in"})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Are you a property owner?"}),s.jsxs(Ot,{to:"/room-owner-signup",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 underline",children:[s.jsx(tr,{className:"w-4 h-4 mr-1"}),"Sign up as Property Owner"]})]})]})]})}),s.jsx(iW,{isOpen:x,onClose:()=>g(!1),title:"Account Deactivated",message:"Your account has been deactivated by the admin. You will no longer be able to log in or use the platform. Please contact support if you believe this is a mistake.",type:"danger",buttonText:"Close"})]})},Ive={score:0,label:"",color:"",barColor:""},Tve=()=>{const[e,t]=j.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=j.useState(null),[i,a]=j.useState(null),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,A]=j.useState(!1),[f,m]=j.useState(Ive),[x,g]=j.useState(""),[v,y]=j.useState(!1),[b,w]=j.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[_,N]=j.useState({name:"",email:"",password:"",confirmPassword:""}),[C,P]=j.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[E,I]=j.useState(!1),[F,B]=j.useState(!1),[O,R]=j.useState(null),U=Ar(),$=async()=>{try{A(!0),n(null),a(null);const he=new Dd,re=await(await Axe(Tp,he)).user.getIdToken(),_e=await Ye.post("/user/auth/firebase",{role:3},{headers:{Authorization:`Bearer ${re}`}});localStorage.setItem("authToken",_e.data.token),localStorage.setItem("user",JSON.stringify(_e.data.user)),window.dispatchEvent(new Event("lyvo-login")),U("/owner-dashboard")}catch(he){console.error("Google Sign-in error:",he),he.code==="auth/popup-closed-by-user"?n("Sign-in cancelled"):n(he.message||"Google sign-in failed")}finally{A(!1)}},K={length:e.password.length>=8,uppercase:/[A-Z]/.test(e.password),lowercase:/[a-z]/.test(e.password),number:/\d/.test(e.password),special:/[@$!%*?&]/.test(e.password)},H=he=>{if(!he)return{score:0,label:"",color:"text-gray-400",barColor:"bg-gray-200"};let ge=0;he.length>=8&&(ge+=20),he.length>=12&&(ge+=10),/[a-z]/.test(he)&&(ge+=20),/[A-Z]/.test(he)&&(ge+=20),/\d/.test(he)&&(ge+=20),/[@$!%*?&]/.test(he)&&(ge+=20),he.length>8&&/[a-z]/.test(he)&&/[A-Z]/.test(he)&&(ge+=10),he.length>8&&/\d/.test(he)&&/[@$!%*?&]/.test(he)&&(ge+=10),ge=Math.min(ge,100);let Se="",re="",_e="";ge<40?(Se="weak",re="text-orange-500",_e="bg-orange-500"):ge<80?(Se="good",re="text-yellow-500",_e="bg-yellow-500"):(Se="strong",re="text-green-500",_e="bg-green-500");let ue="";return ge<40?ue="Weak password.":ge<80?ue="Good password.":ue="Strong password!",g(ue),{score:ge,label:Se,color:re,barColor:_e}},z=he=>he.trim()?he.length<2?"Too short":void 0:"Name required",te=he=>he.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(he)?void 0:"Invalid email":"Email required",ee=he=>{if(!he)return"Password is required";if(he.length<8)return"Password must be at least 8 characters long";if(!/[A-Z]/.test(he))return"Password must contain at least one uppercase letter";if(!/[a-z]/.test(he))return"Password must contain at least one lowercase letter";if(!/\d/.test(he))return"Password must contain at least one number";if(!/[@$!%*?&]/.test(he))return"Password must contain at least one special character (@$!%*?&)"},Z=(he,ge)=>he!==ge?"Passwords do not match":void 0,V=he=>{const ge=["name","email","password","confirmPassword"],Se=ge.indexOf(he);if(Se===0)return!0;const re=ge[Se-1],_e=C[re];if(he==="password"){const ue=C.email,J=F&&O&&O.isVerified;return ue&&!J}return _e},X=Object.values(K).every(Boolean);j.useEffect(()=>{m(H(e.password))},[e.password]),j.useEffect(()=>{if(X&&v){const he=setTimeout(()=>y(!1),1e3);return()=>clearTimeout(he)}},[X,v]);const W=async he=>{if(!he||!he.includes("@")){B(!1),R(null);return}try{I(!0);const Se=(await Ye.get(`/user/check-email?email=${encodeURIComponent(he)}`)).data;if(console.log("Email check response:",Se),Se.exists===!0)B(!0),R({isVerified:!0,note:"This email is already registered. Please use a different email or try logging in."}),N(re=>({...re,email:"Email already registered. Please use a different email."})),P(re=>({...re,email:!1}));else if(Se.isUnverified===!0)B(!0),R({isUnverified:!0,note:"This email was previously registered but not verified. You can register again."}),N(re=>({...re,email:""})),P(re=>({...re,email:!0}));else{B(!1),R(null),N(_e=>({..._e,email:""}));const re=te(he);P(_e=>({..._e,email:!re}))}}catch(ge){console.error("Error checking email:",ge),B(!1),R(null)}finally{I(!1)}};j.useEffect(()=>{const he=setTimeout(()=>{e.email&&e.email.includes("@")&&e.email.includes(".")?W(e.email):e.email&&!e.email.includes("@")&&(B(!1),N(ge=>({...ge,email:""})),P(ge=>({...ge,email:!1})))},500);return()=>clearTimeout(he)},[e.email]);const ae=he=>{w(Se=>({...Se,[he]:!0}));let ge;switch(he){case"name":ge=z(e.name);break;case"email":ge=te(e.email);break;case"password":ge=ee(e.password);break;case"confirmPassword":ge=Z(e.confirmPassword,e.password);break}N(Se=>({...Se,[he]:ge})),P(Se=>({...Se,[he]:!ge}))},ie=he=>{const{id:ge,value:Se}=he.target;t(_e=>({..._e,[ge]:Se})),ge==="password"&&Se.length>0&&y(!0),_[ge]&&N(_e=>({..._e,[ge]:""}));let re="";switch(ge){case"name":re=z(Se);break;case"email":re=te(Se);break;case"password":re=ee(Se);break;case"confirmPassword":re=Z(Se,e.password);break}if(N(_e=>({..._e,[ge]:re||""})),P(_e=>({..._e,[ge]:!re})),ge==="password"&&b.confirmPassword){const _e=Z(e.confirmPassword,Se);N(ue=>({...ue,confirmPassword:_e||""}))}},ce=()=>C.name&&C.email&&C.password&&C.confirmPassword&&!_.name&&!_.email&&!_.password&&!_.confirmPassword&&!E&&(!F||O&&O.isUnverified),be=async he=>{he.preventDefault(),w({name:!0,email:!0,password:!0,confirmPassword:!0});const ge=z(e.name),Se=te(e.email),re=ee(e.password),_e=Z(e.confirmPassword,e.password);if(N({name:ge||"",email:Se||"",password:re||"",confirmPassword:_e||""}),ge||Se||re||_e||F&&(O!=null&&O.isVerified)){n("Please fix the highlighted errors before submitting.");return}if(E){n("Please wait, checking email availability...");return}l(!0),n(null),a(null);try{const J=(await zW(Tp,e.email,e.password)).user;await WW(J,{displayName:e.name}),await KW(J);const fe=await J.getIdToken();await Ye.post("/user/auth/firebase",{role:3},{headers:{Authorization:`Bearer ${fe}`}}),await W0e(Tp),a("Account created successfully!"),t({name:"",email:"",password:"",confirmPassword:""}),B(!1),R(null),P({name:!1,email:!1,password:!1,confirmPassword:!1}),w({name:!1,email:!1,password:!1,confirmPassword:!1})}catch(ue){console.error(ue),ue.code==="auth/email-already-in-use"?n("Email is already registered. Please log in."):ue.code==="auth/weak-password"?n("Password is too weak."):n(ue.message||"Signup failed.")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"flex items-center space-x-3 group",children:s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})})}),s.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-3 relative",children:[s.jsxs("span",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Join ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," as a"]}),s.jsx("br",{}),s.jsx("span",{className:"text-4xl font-extrabold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent drop-shadow-sm",children:"PROPERTY OWNER"}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"List your properties and connect with room seekers"})]}),s.jsxs(Mr,{children:[r&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(Xt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]}),i&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(yt,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:i}),s.jsx("div",{className:"text-xs mt-1",children:"Please check your email and click the verification link."})]})]})]}),s.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[s.jsxs("button",{type:"button",onClick:$,disabled:u,className:`w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all font-medium ${u?"opacity-50":""}`,children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),s.jsx("span",{children:"Sign up with Google"})]}),s.jsx(Mr,{children:u&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-3 flex items-center justify-center gap-2",children:[s.jsx(Xs,{className:"w-5 h-5 text-red-500 animate-spin"}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Signing up..."})]})})]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:be,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",C.name&&s.jsx(yt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"name",type:"text",required:!0,disabled:!V("name"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${V("name")?b.name&&_.name?"border-red-300 bg-red-50":C.name?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your full name",value:e.name,onChange:ie,onBlur:()=>ae("name")})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",C.email&&!F&&s.jsx(yt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,disabled:!V("email"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${V("email")?e.email&&(_.email||F)?"border-red-300 bg-red-50":e.email&&C.email&&!F?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your email",value:e.email,onChange:ie,onBlur:()=>ae("email")}),E&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})})]}),e.email&&(_.email||F&&O&&O.isVerified)&&s.jsxs(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"}),F&&O&&O.isVerified?"Email already registered. Please use a different email.":_.email]}),e.email&&!_.email&&!F&&C.email&&s.jsxs(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(yt,{className:"w-4 h-4"}),"Email is available"]}),e.email&&!_.email&&O&&O.isUnverified&&s.jsxs(Y.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-blue-600 flex items-center gap-1",children:[s.jsx(yt,{className:"w-4 h-4"}),O.note||"This email was previously registered but not verified. You can register again."]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password",F&&O&&O.isVerified&&s.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(Email already registered - use different email)"}),F&&O&&O.isUnverified&&s.jsx("span",{className:"text-xs text-blue-500 ml-2",children:"(Complete email validation first)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:c?"text":"password",required:!0,disabled:!V("password"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${V("password")?b.password&&_.password?"border-red-300 bg-red-50":C.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your password",value:e.password,onChange:ie,onBlur:()=>ae("password")}),s.jsx("button",{type:"button",onClick:()=>d(!c),disabled:!V("password"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:c?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]}),v&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"flex h-2 overflow-hidden rounded-full bg-gray-200",children:s.jsx("div",{className:`h-full transition-all duration-300 ${f.barColor}`,style:{width:`${f.score}%`}})}),s.jsx("div",{className:"mt-2 flex justify-between text-xs",children:s.jsx("span",{className:`${f.color} font-medium`,children:x})}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-1 text-xs text-gray-500",children:[s.jsx("div",{className:K.length?"text-green-600":"",children:" 8+ characters"}),s.jsx("div",{className:K.uppercase?"text-green-600":"",children:" Uppercase"}),s.jsx("div",{className:K.lowercase?"text-green-600":"",children:" Lowercase"}),s.jsx("div",{className:K.number?"text-green-600":"",children:" Number"}),s.jsx("div",{className:K.special?"text-green-600":"",children:" Special char"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirmPassword",type:c?"text":"password",required:!0,disabled:!V("confirmPassword"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${V("confirmPassword")?b.confirmPassword&&_.confirmPassword?"border-red-300 bg-red-50":C.confirmPassword?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Confirm your password",value:e.confirmPassword,onChange:ie,onBlur:()=>ae("confirmPassword")})]})]}),s.jsx("button",{type:"submit",disabled:o,className:`w-full flex justify-center py-4 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white transition-all transform hover:scale-[1.02] ${o?"opacity-70 cursor-not-allowed":""} ${ce()?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500":"bg-gray-400 cursor-pointer hover:bg-gray-500"}`,children:o?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Create Owner Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Ot,{to:"/login",className:"font-medium text-red-600 hover:text-red-500 transition-colors",children:"Sign in here"})]})})]})})})},Ove=()=>{const[e,t]=j.useState(""),[r,n]=j.useState(null),[i,a]=j.useState(!1),[o,l]=j.useState(!1),c=async d=>{d.preventDefault(),l(!0),n(null),a(!1);try{await $0e(Tp,e),a(!0)}catch(u){console.error("Password reset error:",u),u.code==="auth/user-not-found"?n("No account found with this email in Firebase."):u.code==="auth/invalid-email"?n("Invalid email address format."):n("Failed to send reset email. Please try again later.")}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs(Ot,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Ir,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsx(Ot,{to:"/login",className:"text-sm text-gray-600 hover:text-red-500 transition-colors",children:"Back to Login"})]})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(Y.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(tr,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Enter your email to receive a secure reset link"})]}),s.jsxs("div",{className:"px-8 py-8",children:[s.jsxs(Mr,{children:[r&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(Xt,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r})]})]}),i&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(yt,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Success!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Password reset link sent to your email"})]})]})]}),i?s.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-6",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(yt,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Check Your Email"}),s.jsx("p",{className:"text-gray-600",children:"We've sent a secure password reset link to:"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:e})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-left",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"What's next?"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" Check your email inbox (and spam folder)"}),s.jsx("li",{children:" Click the reset link in the email"}),s.jsx("li",{children:" Create a new secure password"})]})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(Ot,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(ei,{className:"w-4 h-4"}),"Back to Login"]})})]}):s.jsxs(Y.form,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",onSubmit:c,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",value:e,onChange:d=>t(d.target.value)})]})]}),s.jsx(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending Reset Link..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Jr,{className:"w-5 h-5"}),"Send Reset Link"]})})]}),!i&&s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Remember your password?"}),s.jsxs(Ot,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(ei,{className:"w-4 h-4"}),"Sign in to your account"]})]})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Need help? Contact our support team"})})]})})]})},Lve="http://localhost:4002/api/user",Fve=()=>{const[e]=G9(),t=e.get("token"),[r,n]=j.useState(""),[i,a]=j.useState(""),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,A]=j.useState(null),[f,m]=j.useState(!1),[x,g]=j.useState(!1);Ar();const y=(w=>{if(!w)return{score:0,label:"",color:""};let _=0,N=[];return w.length>=8?(_+=1,N.push("8+ characters")):w.length>=6&&(_+=.5,N.push("6+ characters")),/[a-z]/.test(w)&&(_+=1,N.push("lowercase")),/[A-Z]/.test(w)&&(_+=1,N.push("uppercase")),/[0-9]/.test(w)&&(_+=1,N.push("number")),/[^A-Za-z0-9]/.test(w)&&(_+=1,N.push("symbol")),_>=4?{score:4,label:"Strong",color:"bg-green-500",feedback:N}:_>=3?{score:3,label:"Good",color:"bg-blue-500",feedback:N}:_>=2?{score:2,label:"Fair",color:"bg-yellow-500",feedback:N}:_>=1?{score:1,label:"Weak",color:"bg-red-500",feedback:N}:{score:0,label:"Very Weak",color:"bg-gray-300",feedback:N}})(r);if(!t)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-between items-center py-4",children:s.jsxs(Ot,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Ir,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]})})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(Y.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Xt,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-red-100 text-sm",children:"This password reset link is invalid or has expired"})]}),s.jsx("div",{className:"px-8 py-8 text-center",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"The password reset link you're trying to use is no longer valid. This could be because:"}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-left",children:s.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[s.jsx("li",{children:" The link has expired (links expire after 1 hour)"}),s.jsx("li",{children:" The link has already been used"}),s.jsx("li",{children:" The link was copied incorrectly"})]})}),s.jsx("div",{className:"pt-4",children:s.jsxs(Ot,{to:"/forgot-password",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(ei,{className:"w-4 h-4"}),"Request a new reset link"]})})]})})]})})})]});const b=async w=>{var _,N;if(w.preventDefault(),A(null),r.length<6){A("Password must be at least 6 characters.");return}if(r!==i){A("Passwords do not match.");return}g(!0);try{await _n.post(`${Lve}/reset-password`,{token:t,password:r}),m(!0)}catch(C){A(((N=(_=C.response)==null?void 0:_.data)==null?void 0:N.message)||"An unexpected error occurred.")}finally{g(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs(Ot,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Ir,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsx(Ot,{to:"/login",className:"text-sm text-gray-600 hover:text-red-500 transition-colors",children:"Back to Login"})]})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(Y.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(tr,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Create New Password"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Choose a strong password for your account"})]}),s.jsxs("div",{className:"px-8 py-8",children:[s.jsxs(Mr,{children:[u&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(Xt,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:u})]})]}),f&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(yt,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Success!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your password has been reset successfully"})]})]})]}),f?s.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-6",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(yt,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Password Updated!"}),s.jsx("p",{className:"text-gray-600",children:"Your password has been successfully reset. You can now sign in with your new password."})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:"Security Tip"}),s.jsx("p",{className:"text-sm text-green-700",children:"For your security, we recommend using a unique password that you don't use on other websites."})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(Ot,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(ei,{className:"w-4 h-4"}),"Sign in to your account"]})})]}):s.jsxs(Y.form,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",onSubmit:b,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:o?"text":"password",required:!0,minLength:6,className:"w-full pl-12 pr-12 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your new password",value:r,onChange:w=>n(w.target.value)}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:o?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]}),r&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 space-y-2",children:[s.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(w=>s.jsx("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${y.score>=w?y.color:"bg-gray-200"}`},w))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-xs font-medium ${y.score>=4?"text-green-600":y.score>=3?"text-blue-600":y.score>=2?"text-yellow-600":y.score>=1?"text-red-600":"text-gray-500"}`,children:y.label}),s.jsxs("span",{className:"text-xs text-gray-500",children:[r.length,"/8+ characters"]})]}),y.feedback.length>0&&s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Includes: "}),y.feedback.join(", ")]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirm",type:c?"text":"password",required:!0,minLength:6,className:"w-full pl-12 pr-12 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Confirm your new password",value:i,onChange:w=>a(w.target.value)}),s.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:c?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]}),i&&s.jsx(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2",children:s.jsxs("div",{className:`flex items-center gap-2 text-xs ${r===i?"text-green-600":"text-red-600"}`,children:[r===i?s.jsx(yt,{className:"w-4 h-4"}):s.jsx(Xt,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:r===i?"Passwords match":"Passwords do not match"})]})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Password Requirements"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" At least 6 characters long"}),s.jsx("li",{children:" Use a mix of letters, numbers, and symbols"}),s.jsx("li",{children:" Avoid common passwords"})]})]}),s.jsx(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Updating Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-5 h-5"}),"Update Password"]})})]}),!f&&s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Remember your password?"}),s.jsxs(Ot,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(ei,{className:"w-4 h-4"}),"Sign in to your account"]})]})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Need help? Contact our support team"})})]})})]})},Uve=()=>{const[e]=G9(),t=Ar(),[r,n]=j.useState("verifying"),[i,a]=j.useState(""),[o,l]=j.useState(!1),[c,d]=j.useState("");j.useEffect(()=>{(async()=>{var m,x,g;const f=e.get("token");if(!f){n("error"),d("No verification token provided. Please check your email link."),l(!0);return}try{console.log("Verifying email with token:",f);const v=await Ye.get(`/user/verify-email/${f}`,{timeout:1e4});console.log("Verification response:",v),console.log("Response status:",v.status),console.log("Response data:",v.data),v.data&&v.data.message&&v.data.message.includes("verified successfully")?(n("success"),a(v.data.message),l(!0)):(n("error"),d(((m=v.data)==null?void 0:m.message)||"Email verification failed. The link may be invalid or expired."),l(!0))}catch(v){console.error("Verification error:",v),n("error"),d(((g=(x=v.response)==null?void 0:x.data)==null?void 0:g.message)||"Email verification failed. Please try again."),l(!0)}})()},[e,t]);const u=()=>{l(!1),t("/login")};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-stone-100 py-12 px-4 sm:px-6 lg:px-8",children:[r==="verifying"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Y.div,{initial:{scale:.8},animate:{scale:1},className:"mx-auto w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-2xl flex items-center justify-center shadow-lg mb-6",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 font-display",children:"Verifying Email..."}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Please wait while we verify your email address"})]}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-xl p-8 border border-blue-200",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Y.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx("div",{className:"w-12 h-12 animate-spin text-red-500 mx-auto border-4 border-red-200 border-t-red-500 rounded-full"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 font-display",children:"Processing Verification"}),s.jsx("p",{className:"text-sm text-blue-700 mb-6",children:"We're verifying your email address..."}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600",children:[s.jsx("div",{className:"w-4 h-4 animate-spin border-2 border-blue-200 border-t-blue-600 rounded-full"}),s.jsx("span",{children:"Please wait..."})]})]})})]}),s.jsx(Mr,{children:o&&s.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:u,children:s.jsxs(Y.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative",onClick:A=>A.stopPropagation(),children:[s.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ar,{className:"w-6 h-6"})}),s.jsx("div",{className:"text-center",children:r==="success"?s.jsxs(s.Fragment,{children:[s.jsx(Y.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx(yt,{className:"w-16 h-16 text-green-500 mx-auto"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 font-display",children:" Email Verified Successfully!"}),s.jsx("p",{className:"text-gray-700 mb-6",children:i}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-green-700 font-medium",children:" Your email has been verified! You can now log in to your account."})}),s.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:from-green-600 hover:to-emerald-600 transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(tu,{className:"w-5 h-5"}),"Go to Login"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Y.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx(Xt,{className:"w-16 h-16 text-blue-500 mx-auto"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 font-display",children:" Login Using Your Account"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Your account may already be verified or the verification link has expired."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" Try logging in with your email and password. If you don't have an account, you can sign up."})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(tu,{className:"w-5 h-5"}),"Go to Login"]}),s.jsx(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/signup"),className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-semibold hover:bg-gray-200 transition-all duration-200",children:"Try Signing Up Again"})]})]})})]})})})]})},QU="http://localhost:4002/api/user",Rve=()=>{const[e,t]=j.useState(""),[r,n]=j.useState(!1),[i,a]=j.useState(""),[o,l]=j.useState(""),[c,d]=j.useState(null),[u,A]=j.useState(!1);Ar(),j.useEffect(()=>{if(!e.trim()){d(null),a(""),l("");return}const b=setTimeout(async()=>{await f(e.trim())},500);return()=>clearTimeout(b)},[e]);const f=async b=>{try{A(!0),d("checking");const w=await _n.get(`${QU}/check-email?email=${encodeURIComponent(b)}`);w.data.exists&&w.data.isVerified?(d("verified"),a("This email is already verified. Please log in to your account."),l("info")):w.data.isUnverified?(d("unverified"),a("This email is registered but not verified. You can request a new verification email."),l("info")):(d("not_found"),a("This email is not registered. Please check your email address or sign up for a new account."),l("error"))}catch(w){console.error("Email check error:",w),d("error"),a("Unable to check email status. Please try again."),l("error")}finally{A(!1)}},m=async b=>{var w;if(b.preventDefault(),!(!e||c==="verified"||c==="not_found")){n(!0),a(""),l("");try{(await _n.post(`${QU}/resend-verification`,{email:e.trim()})).status===200&&(a("Verification email sent! Please check your inbox and spam folder."),l("success"),t(""),d(null))}catch(_){if(console.error("Resend verification error:",_),_.response){const N=((w=_.response.data)==null?void 0:w.message)||"Failed to send verification email.";a(N),_.response.status===404?l("error"):_.response.status===400?l("info"):l("error")}else a("Network error. Please check your internet connection and try again."),l("error")}finally{n(!1)}}},x=()=>{switch(o){case"success":return s.jsx(yt,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(rr,{className:"w-5 h-5 text-red-500"});case"info":return s.jsx(Jr,{className:"w-5 h-5 text-blue-500"});default:return null}},g=()=>{switch(o){case"success":return"bg-green-50 border-green-200 text-green-700";case"error":return"bg-red-50 border-red-200 text-red-700";case"info":return"bg-blue-50 border-blue-200 text-blue-700";default:return"bg-gray-50 border-gray-200 text-gray-700"}},v=()=>r||!e.trim()||c==="verified"||c==="not_found"||c==="checking"||u,y=()=>r?"Sending...":u||c==="checking"?"Checking...":c==="verified"?"Email Already Verified":c==="not_found"?"Email Not Found":"Send Verification Email";return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Resend Verification Email"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your email address to receive a new verification link"})]}),s.jsx(Mr,{children:i&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`mb-6 border rounded-lg px-4 py-3 flex items-center gap-3 ${g()}`,children:[x(),s.jsx("span",{className:"text-sm font-medium",children:i})]})}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your email address",value:e,onChange:b=>t(b.target.value)}),u&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(Bue,{className:"w-5 h-5 text-gray-400 animate-spin"})})]})]}),s.jsx(Y.button,{whileHover:{scale:c==="unverified"?1.02:1},whileTap:{scale:c==="unverified"?.98:1},type:"submit",disabled:v(),className:`w-full py-3 px-4 rounded-lg font-semibold shadow-sm transition-all duration-200 ${c==="unverified"?"bg-red-600 text-white hover:bg-red-700":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,children:y()})]}),s.jsxs("div",{className:"mt-6 text-center space-y-3",children:[s.jsxs(Ot,{to:"/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-700 hover:underline",children:[s.jsx(ei,{className:"w-4 h-4 mr-1"}),"Back to Login"]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Don't have an account?"}),s.jsx(Ot,{to:"/signup",className:"inline-flex items-center text-sm font-medium text-red-600 hover:text-red-700 underline",children:"Sign up for Lyvo+"})]})]})]})})})},Dve=()=>{const[e,t]=j.useState({}),[r,n]=j.useState(!1),i=()=>{const l=localStorage.getItem("authToken"),c=localStorage.getItem("user"),d=c?JSON.parse(c):null;t({authToken:l?"Present":"Not found",user:c?"Present":"Not found",parsedUser:d?d.name:"N/A"}),n(!!l)},a=()=>{console.log("=== MANUAL LOGOUT TEST ==="),console.log("Before logout:"),console.log("authToken:",localStorage.getItem("authToken")),console.log("user:",localStorage.getItem("user")),localStorage.removeItem("authToken"),localStorage.removeItem("user"),console.log("After logout:"),console.log("authToken:",localStorage.getItem("authToken")),console.log("user:",localStorage.getItem("user")),window.dispatchEvent(new Event("moodbites-logout")),i()},o=()=>{localStorage.setItem("authToken","test-token"),localStorage.setItem("user",JSON.stringify({name:"Test User",email:"test@example.com"})),window.dispatchEvent(new Event("moodbites-login")),i()};return j.useEffect(()=>{i();const l=()=>{i()},c=()=>{console.log("Custom logout event received"),i()};return window.addEventListener("storage",l),window.addEventListener("moodbites-logout",c),()=>{window.removeEventListener("storage",l),window.removeEventListener("moodbites-logout",c)}},[]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-stone-100 pt-20 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-professional p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Debug Logout"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Current State"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:["Login Status: ",s.jsx("span",{className:r?"text-green-600":"text-red-600",children:r?"Logged In":"Not Logged In"})]}),s.jsxs("div",{children:["Auth Token: ",s.jsx("span",{className:"font-mono",children:e.authToken})]}),s.jsxs("div",{children:["User Data: ",s.jsx("span",{className:"font-mono",children:e.user})]}),s.jsxs("div",{children:["User Name: ",s.jsx("span",{className:"font-mono",children:e.parsedUser})]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:o,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-colors",children:"Simulate Login"}),s.jsx("button",{onClick:a,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors",children:"Test Logout"}),s.jsx("button",{onClick:i,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Refresh State"})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Instructions"}),s.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:'1. Click "Simulate Login" to set test data'}),s.jsx("li",{children:"2. Check the navbar - it should show user icon"}),s.jsx("li",{children:'3. Click "Test Logout" to clear data'}),s.jsx("li",{children:"4. Check the navbar - it should show login/signup buttons"}),s.jsx("li",{children:"5. Open browser console to see debug logs"})]})]})]})]})})})},Mve=()=>{var B;const e=Ar(),[t,r]=j.useState(!0),[n,i]=j.useState([]),[a,o]=j.useState({budget:8e3}),[l,c]=j.useState(null),[d,u]=j.useState(0),[A,f]=j.useState(!1),[m,x]=j.useState(!1),g=localStorage.getItem("authToken"),v=localStorage.getItem("user");j.useEffect(()=>{if(!g||!v){e("/login",{replace:!0});return}(async()=>{try{const R=await Ye.get("/behaviour/questions",{headers:{Authorization:`Bearer ${g}`}});i(R.data.questions||[])}catch(R){console.error("Error fetching questions:",R),n.length===0&&i([{id:"budget",text:"Monthly Budget",type:"range",min:5e3,max:5e4},{id:"occupation",text:"Occupation",options:["Student","Professional","Other"]}])}finally{r(!1)}})()},[e,g,v]);const y=(O,R)=>{o(U=>({...U,[O]:R}))},b=()=>{d<n.length-1&&u(d+1)},w=()=>{d>0&&u(d-1)},_=()=>{d<n.length-1&&u(d+1)},N=async()=>{var O,R;try{c(null),f(!0),await Ye.post("/behaviour/answers",{answers:a},{headers:{Authorization:`Bearer ${g}`}});const U=JSON.parse(localStorage.getItem("user"));localStorage.setItem("user",JSON.stringify({...U,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),x(!0),setTimeout(()=>{U.role===1?e("/seeker-profile",{replace:!0}):e(U.role===3?"/owner-dashboard":"/admin-dashboard",{replace:!0})},1500)}catch(U){const $=((R=(O=U==null?void 0:U.response)==null?void 0:O.data)==null?void 0:R.message)||(U==null?void 0:U.message)||"Failed to submit.";c($),f(!1)}},C=O=>{const R=O.toLowerCase();return R.includes("budget")||R.includes("price")?s.jsx(gi,{className:"w-6 h-6 text-gray-700"}):R.includes("occupation")||R.includes("work")?s.jsx(pue,{className:"w-6 h-6 text-gray-700"}):s.jsx(rc,{className:"w-6 h-6 text-gray-700"})},P=(d+1)/n.length*100;if(t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading preferences..."})]})});if(m)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs(Y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(yt,{className:"w-10 h-10 text-green-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Preferences Saved"}),s.jsx("p",{className:"text-gray-600",children:"Setting up your dashboard..."})]})});const E=n[d],I=d===n.length-1,F=a[E==null?void 0:E.id]!==void 0;return s.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-12 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Setup Your Preferences"}),s.jsx("p",{className:"text-gray-600",children:"Help us customize your living experience."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-500 mb-2",children:[s.jsxs("span",{children:["Step ",d+1," of ",n.length]}),s.jsxs("span",{children:[Math.round(P),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(Y.div,{className:"h-2 bg-red-600 rounded-full",initial:{width:0},animate:{width:`${P}%`},transition:{duration:.3}})})]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 min-h-[400px] flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:C((E==null?void 0:E.text)||"")}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:E==null?void 0:E.text})]}),s.jsxs("div",{className:"flex-grow",children:[!(E!=null&&E.type)&&s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(B=E==null?void 0:E.options)==null?void 0:B.map(O=>s.jsx("button",{onClick:()=>y(E.id,O),className:`w-full text-left px-5 py-4 rounded-lg border transition-all ${a[E.id]===O?"border-red-600 bg-red-50 text-red-700 ring-1 ring-red-600":"border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700"}`,children:s.jsx("span",{className:"font-medium",children:O})},O))}),(E==null?void 0:E.type)==="range"&&s.jsxs("div",{className:"px-4 py-8",children:[s.jsx("input",{type:"range",min:E.min,max:E.max,step:E.step||100,value:a[E.id]??E.min,onChange:O=>y(E.id,Number(O.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-600"}),s.jsxs("div",{className:"mt-6 flex justify-between items-center text-gray-900",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["",a[E.id]??E.min]}),s.jsx("span",{className:"text-gray-500 font-medium badge px-3 py-1 bg-gray-100 rounded-md",children:"Monthly Budget"})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-between items-center",children:[s.jsx("button",{onClick:w,disabled:d===0,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${d===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:"Back"}),s.jsxs("div",{className:"flex gap-3",children:[!I&&s.jsx("button",{onClick:_,className:"px-4 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"Skip"}),s.jsx("button",{onClick:I?N:b,disabled:!F&&I,className:"px-6 py-2.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:I?A?"Saving...":"Finish":"Continue"})]})]})]},d)]})})},Qve=()=>s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-60",children:[s.jsxs("div",{className:"relative flex items-center justify-center w-24 h-24",children:[s.jsx("span",{className:"absolute text-4xl font-extrabold text-red-600 select-none z-10",style:{letterSpacing:"0.05em"},children:"L"}),s.jsx("span",{className:"absolute w-4 h-4 rounded-full bg-gradient-to-br from-red-500 via-orange-400 to-red-600 shadow-lg animate-lyvo-orbit",style:{top:0,left:"50%",transform:"translate(-50%, -50%)"}}),s.jsx("span",{className:"absolute w-3 h-3 rounded-full bg-gradient-to-br from-orange-400 via-red-500 to-red-600 shadow-md animate-lyvo-orbit2",style:{right:0,top:"50%",transform:"translate(50%, -50%)"}}),s.jsx("span",{className:"absolute w-2.5 h-2.5 rounded-full bg-gradient-to-br from-red-600 via-orange-400 to-red-500 shadow animate-lyvo-orbit3",style:{bottom:0,left:"50%",transform:"translate(-50%, 50%)"}})]}),s.jsx("style",{children:`
      @keyframes lyvo-orbit {
        0% { transform: rotate(0deg) translateY(-44px) rotate(0deg); }
        100% { transform: rotate(360deg) translateY(-44px) rotate(-360deg); }
      }
      @keyframes lyvo-orbit2 {
        0% { transform: rotate(120deg) translateY(-36px) rotate(-120deg); }
        100% { transform: rotate(480deg) translateY(-36px) rotate(-480deg); }
      }
      @keyframes lyvo-orbit3 {
        0% { transform: rotate(240deg) translateY(-28px) rotate(-240deg); }
        100% { transform: rotate(600deg) translateY(-28px) rotate(-600deg); }
      }
      .animate-lyvo-orbit {
        animation: lyvo-orbit 1.2s linear infinite;
      }
      .animate-lyvo-orbit2 {
        animation: lyvo-orbit2 1.2s linear infinite;
      }
      .animate-lyvo-orbit3 {
        animation: lyvo-orbit3 1.2s linear infinite;
      }
    `})]}),$ve=({children:e})=>{const[t,r]=j.useState(!1),[n,i]=j.useState(!1);return j.useEffect(()=>{(async()=>{try{r(!0),console.log(" RoleRepairProvider: Starting role repair...");const o=Uv();o&&(o.role===void 0||o.role===null)?(console.log(" RoleRepairProvider: User role is undefined, attempting repair..."),await Zfe(),console.log(" RoleRepairProvider: Role repair completed")):console.log(" RoleRepairProvider: User role is already defined"),i(!0)}catch(o){console.error(" RoleRepairProvider: Error during role repair:",o),i(!0)}finally{r(!1)}})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Repairing user role..."})]})}):e};class Hve extends Ce.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Xt,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600",children:"The page encountered an error while loading"})]})]}),this.state.error&&s.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"Error Details:"}),s.jsx("p",{className:"text-sm text-red-700 font-mono",children:this.state.error.toString()})]}),this.state.errorInfo&&s.jsxs("details",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx("summary",{className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Stack Trace (Click to expand)"}),s.jsx("pre",{className:"mt-2 text-xs text-gray-700 overflow-x-auto whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]}),s.jsxs("div",{className:"mt-6 flex space-x-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Reload Page"}),s.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Go Home"})]})]})}):this.props.children}}const Vve=()=>{var y;const e=Ar(),[t,r]=j.useState(null),[n,i]=j.useState(!0),[a,o]=j.useState("overview");j.useEffect(()=>{(()=>{const w=localStorage.getItem("authToken"),_=localStorage.getItem("user");if(!w||!_){e("/login");return}try{const N=JSON.parse(_);if(N.role!==3){e("/login");return}r(N)}catch(N){console.error("Error parsing user data:",N),e("/login");return}i(!1)})()},[e]);const l={totalProperties:4,activeListings:3,totalTenants:8,monthlyRevenue:85e3,occupancyRate:92},c=[{id:1,title:"Modern 2BHK Apartment",location:"Koramangala, Bangalore",price:"25,000",type:"Apartment",bedrooms:2,bathrooms:2,area:"1200 sq ft",status:"Occupied",rating:4.8,tenants:3,image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",nextPayment:"2024-04-15",amenities:["WiFi","Parking","Gym","Security"]},{id:2,title:"Cozy Studio Room",location:"Indiranagar, Bangalore",price:"15,000",type:"Studio",bedrooms:1,bathrooms:1,area:"600 sq ft",status:"Available",rating:4.6,tenants:0,image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",nextPayment:null,amenities:["WiFi","Kitchen","Laundry"]},{id:3,title:"Premium 3BHK Villa",location:"Whitefield, Bangalore",price:"45,000",type:"Villa",bedrooms:3,bathrooms:3,area:"2000 sq ft",status:"Occupied",rating:4.9,tenants:4,image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",nextPayment:"2024-04-20",amenities:["WiFi","Parking","Garden","Security","Pool"]}],d=[{id:1,property:"Modern 2BHK Apartment",tenant:"Sarah Johnson",amount:"25,000",type:"Rent",status:"Completed",date:"2024-04-01"},{id:2,property:"Premium 3BHK Villa",tenant:"Mike Chen",amount:"45,000",type:"Rent",status:"Pending",date:"2024-04-05"},{id:3,property:"Cozy Studio Room",tenant:"Alex Kumar",amount:"15,000",type:"Deposit",status:"Completed",date:"2024-03-28"}],u=[{id:1,property:"Modern 2BHK Apartment",tenant:"Sarah Johnson",issue:"AC not working",priority:"High",status:"In Progress",date:"2024-04-02"},{id:2,property:"Premium 3BHK Villa",tenant:"Mike Chen",issue:"Water leakage",priority:"Medium",status:"Completed",date:"2024-03-30"}],A=[{month:"Jan",revenue:75e3},{month:"Feb",revenue:82e3},{month:"Mar",revenue:78e3},{month:"Apr",revenue:85e3},{month:"May",revenue:9e4},{month:"Jun",revenue:95e3}],f=[{name:"Occupied",value:92,color:"#10b981"},{name:"Vacant",value:8,color:"#ef4444"}],m=[{name:"Apartments",value:2,color:"#3b82f6"},{name:"Studios",value:1,color:"#f59e0b"},{name:"Villas",value:1,color:"#10b981"}],x=[{name:"Overview",icon:Cp,tab:"overview"},{name:"Properties",icon:Ir,tab:"properties"},{name:"Tenants",icon:Hr,tab:"tenants"},{name:"Payments",icon:eg,tab:"payments"},{name:"Maintenance",icon:tr,tab:"maintenance"},{name:"Analytics",icon:uu,tab:"analytics"},{name:"Settings",icon:rc,tab:"settings"},{name:"Logout",icon:gl,tab:"logout"}],g=b=>{switch(b){case"Occupied":return"text-green-600 bg-green-100";case"Available":return"text-blue-600 bg-blue-100";case"Maintenance":return"text-orange-600 bg-orange-100";case"Rented":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},v=b=>{switch(b){case"High":return"text-red-600 bg-red-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"Low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-stone-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-slate-50 to-stone-100",children:[s.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 flex flex-col py-8 px-4 shadow-lg",children:[s.jsxs("div",{className:"flex items-center mb-10",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 via-orange-400 to-red-700 rounded-xl flex items-center justify-center shadow-lg mr-3",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"L"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]})]}),s.jsx("nav",{className:"flex-1",children:s.jsx("ul",{className:"space-y-2",children:x.map(b=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>o(b.tab),className:`w-full flex items-center px-3 py-2 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-600 transition-all ${a===b.tab?"bg-red-50 text-red-600":""}`,children:[s.jsx(b.icon,{className:"w-5 h-5 mr-3"}),s.jsx("span",{className:"font-medium",children:b.name})]})},b.name))})}),s.jsxs("div",{className:"mt-10 text-xs text-gray-400 text-center",children:[" ",new Date().getFullYear()," ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[s.jsxs("header",{className:"flex items-center justify-between px-8 py-6 bg-white border-b border-gray-200 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Room Owner Dashboard"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back, ",(t==null?void 0:t.name)||"Owner","! Manage your properties here."]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900",children:[s.jsx(id,{className:"w-6 h-6"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),s.jsx("span",{className:"text-gray-700 font-medium",children:(t==null?void 0:t.name)||"Owner"}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 via-orange-400 to-red-700 flex items-center justify-center text-white font-bold text-lg shadow",children:((y=t==null?void 0:t.name)==null?void 0:y.charAt(0))||"O"})]})]}),s.jsxs("div",{className:"flex-1 p-8",children:[a==="overview"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Total Properties"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalProperties})]}),s.jsx(Zr,{className:"w-8 h-8 text-red-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Active Listings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.activeListings})]}),s.jsx(Ir,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Total Tenants"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalTenants})]}),s.jsx(Hr,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",l.monthlyRevenue.toLocaleString()]})]}),s.jsx(gi,{className:"w-8 h-8 text-purple-500"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Revenue Trend"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(LineChart,{data:A,children:[s.jsx(CartesianGrid,{strokeDasharray:"3 3"}),s.jsx(XAxis,{dataKey:"month"}),s.jsx(YAxis,{}),s.jsx(Tooltip,{}),s.jsx(Line,{type:"monotone",dataKey:"revenue",stroke:"#ef4444",strokeWidth:3,dot:{r:5}})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Occupancy Rate"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(PieChart,{children:[s.jsx(Pie,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:f.map((b,w)=>s.jsx(Cell,{fill:b.color},`cell-${w}`))}),s.jsx(Tooltip,{})]})}),s.jsxs("div",{className:"text-center mt-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.occupancyRate,"%"]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Occupancy Rate"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Properties"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.slice(0,3).map(b=>s.jsxs(Y.div,{whileHover:{y:-5},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:b.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(b.status)}`,children:b.status})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),b.location]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(gi,{className:"w-4 h-4 mr-2"}),b.price,"/month"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hr,{className:"w-4 h-4 mr-2"}),b.tenants," tenants"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Di,{className:"w-4 h-4 mr-2 text-yellow-500"}),b.rating," rating"]})]})]},b.id))})})]})]}),a==="properties"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Properties"}),s.jsxs("button",{className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[s.jsx(od,{className:"w-5 h-5"}),"Add Property"]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map(b=>s.jsxs(Y.div,{whileHover:{y:-5},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[s.jsx("img",{src:b.image,alt:b.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${g(b.status)}`,children:b.status})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b.title}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(jr,{className:"w-4 h-4 mr-2"}),b.location]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ua,{className:"w-4 h-4 mr-1"}),b.bedrooms]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(mue,{className:"w-4 h-4 mr-1"}),b.bathrooms]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(zA,{className:"w-4 h-4 mr-1"}),b.area]})]}),s.jsx("div",{className:"text-lg font-bold text-gray-900",children:b.price})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Di,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-sm text-gray-600",children:b.rating})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hr,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[b.tenants," tenants"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[s.jsxs("button",{className:"text-red-500 hover:text-red-700 text-sm font-medium flex items-center",children:[s.jsx(ff,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs("button",{className:"text-gray-500 hover:text-gray-700 text-sm font-medium flex items-center",children:[s.jsx(Pr,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})]})]},b.id))})]}),a==="payments"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment History"}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Transactions"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:d.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(BN,{className:"w-5 h-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.property}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tenant: ",b.tenant]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:b.amount}),s.jsx("p",{className:"text-sm text-gray-600",children:b.date})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.status==="Completed"?"text-green-600 bg-green-100":"text-yellow-600 bg-yellow-100"}`,children:b.status})})]},b.id))})})]})]}),a==="maintenance"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Requests"}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Active Requests"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:u.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(Xt,{className:"w-5 h-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.property}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Issue: ",b.issue]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tenant: ",b.tenant]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:b.date}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(b.priority)}`,children:b.priority})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.status==="Completed"?"text-green-600 bg-green-100":b.status==="In Progress"?"text-blue-600 bg-blue-100":"text-gray-600 bg-gray-100"}`,children:b.status})})]},b.id))})})]})]}),a==="analytics"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Property Types"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(PieChart,{children:[s.jsx(Pie,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:m.map((b,w)=>s.jsx(Cell,{fill:b.color},`cell-${w}`))}),s.jsx(Tooltip,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monthly Revenue"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(BarChart,{data:A,children:[s.jsx(CartesianGrid,{strokeDasharray:"3 3"}),s.jsx(XAxis,{dataKey:"month"}),s.jsx(YAxis,{}),s.jsx(Tooltip,{}),s.jsx(Bar,{dataKey:"revenue",fill:"#ef4444",radius:[4,4,0,0]})]})})]})]})]}),a==="settings"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("p",{className:"text-gray-600",children:"Settings page coming soon..."})})]}),a==="logout"&&s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[s.jsx(gl,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Logout"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to logout?"}),s.jsx("button",{onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),e("/login")},className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Logout"})]})}),a!=="overview"&&a!=="properties"&&a!=="logout"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.charAt(0).toUpperCase()+a.slice(1)}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("p",{className:"text-gray-600",children:"This section is coming soon..."})})]})]})]})]})};function SG(e,t){const r=j.useRef(t);j.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}function zve(e,t,r){t.center!==r.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==r.radius&&e.setRadius(t.radius)}const Kve=1;function Wve(e){return Object.freeze({__version:Kve,map:e})}function BG(e,t){return Object.freeze({...e,...t})}const EG=j.createContext(null),kG=EG.Provider;function zN(){const e=j.useContext(EG);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function PG(e){function t(r,n){const{instance:i,context:a}=e(r).current;return j.useImperativeHandle(n,()=>i),r.children==null?null:Ce.createElement(kG,{value:a},r.children)}return j.forwardRef(t)}function Gve(e){function t(r,n){const[i,a]=j.useState(!1),{instance:o}=e(r,a).current;j.useImperativeHandle(n,()=>o),j.useEffect(function(){i&&o.update()},[o,i,r.children]);const l=o._contentNode;return l?aA.createPortal(r.children,l):null}return j.forwardRef(t)}function qve(e){function t(r,n){const{instance:i}=e(r).current;return j.useImperativeHandle(n,()=>i),null}return j.forwardRef(t)}function O6(e,t){const r=j.useRef();j.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function KN(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function Yve(e,t){return function(n,i){const a=zN(),o=e(KN(n,a),a);return SG(a.map,n.attribution),O6(o.current,n.eventHandlers),t(o.current,a,n,i),o}}var G4={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,n){n(t)})(rx,function(r){var n="1.9.4";function i(h){var p,k,M,q;for(k=1,M=arguments.length;k<M;k++){q=arguments[k];for(p in q)h[p]=q[p]}return h}var a=Object.create||function(){function h(){}return function(p){return h.prototype=p,new h}}();function o(h,p){var k=Array.prototype.slice;if(h.bind)return h.bind.apply(h,k.call(arguments,1));var M=k.call(arguments,2);return function(){return h.apply(p,M.length?M.concat(k.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function d(h,p,k){var M,q,le,Ee;return Ee=function(){M=!1,q&&(le.apply(k,q),q=!1)},le=function(){M?q=arguments:(h.apply(k,arguments),setTimeout(Ee,p),M=!0)},le}function u(h,p,k){var M=p[1],q=p[0],le=M-q;return h===M&&k?h:((h-q)%le+le)%le+q}function A(){return!1}function f(h,p){if(p===!1)return h;var k=Math.pow(10,p===void 0?6:p);return Math.round(h*k)/k}function m(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function x(h){return m(h).split(/\s+/)}function g(h,p){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var k in p)h.options[k]=p[k];return h.options}function v(h,p,k){var M=[];for(var q in h)M.push(encodeURIComponent(k?q.toUpperCase():q)+"="+encodeURIComponent(h[q]));return(!p||p.indexOf("?")===-1?"?":"&")+M.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function b(h,p){return h.replace(y,function(k,M){var q=p[M];if(q===void 0)throw new Error("No value provided for variable "+k);return typeof q=="function"&&(q=q(p)),q})}var w=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function _(h,p){for(var k=0;k<h.length;k++)if(h[k]===p)return k;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var P=0;function E(h){var p=+new Date,k=Math.max(0,16-(p-P));return P=p+k,window.setTimeout(h,k)}var I=window.requestAnimationFrame||C("RequestAnimationFrame")||E,F=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function B(h,p,k){if(k&&I===E)h.call(p);else return I.call(window,o(h,p))}function O(h){h&&F.call(window,h)}var R={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:c,throttle:d,wrapNum:u,falseFn:A,formatNum:f,trim:m,splitWords:x,setOptions:g,getParamString:v,template:b,isArray:w,indexOf:_,emptyImageUrl:N,requestFn:I,cancelFn:F,requestAnimFrame:B,cancelAnimFrame:O};function U(){}U.extend=function(h){var p=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=p.__super__=this.prototype,M=a(k);M.constructor=p,p.prototype=M;for(var q in this)Object.prototype.hasOwnProperty.call(this,q)&&q!=="prototype"&&q!=="__super__"&&(p[q]=this[q]);return h.statics&&i(p,h.statics),h.includes&&($(h.includes),i.apply(null,[M].concat(h.includes))),i(M,h),delete M.statics,delete M.includes,M.options&&(M.options=k.options?a(k.options):{},i(M.options,h.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var le=0,Ee=M._initHooks.length;le<Ee;le++)M._initHooks[le].call(this)}},p},U.include=function(h){var p=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=p,this.mergeOptions(h.options)),this},U.mergeOptions=function(h){return i(this.prototype.options,h),this},U.addInitHook=function(h){var p=Array.prototype.slice.call(arguments,1),k=typeof h=="function"?h:function(){this[h].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function $(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=w(h)?h:[h];for(var p=0;p<h.length;p++)h[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(h,p,k){if(typeof h=="object")for(var M in h)this._on(M,h[M],p);else{h=x(h);for(var q=0,le=h.length;q<le;q++)this._on(h[q],p,k)}return this},off:function(h,p,k){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var M in h)this._off(M,h[M],p);else{h=x(h);for(var q=arguments.length===1,le=0,Ee=h.length;le<Ee;le++)q?this._off(h[le]):this._off(h[le],p,k)}return this},_on:function(h,p,k,M){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(h,p,k)===!1){k===this&&(k=void 0);var q={fn:p,ctx:k};M&&(q.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(q)}},_off:function(h,p,k){var M,q,le;if(this._events&&(M=this._events[h],!!M)){if(arguments.length===1){if(this._firingCount)for(q=0,le=M.length;q<le;q++)M[q].fn=A;delete this._events[h];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var Ee=this._listens(h,p,k);if(Ee!==!1){var Me=M[Ee];this._firingCount&&(Me.fn=A,this._events[h]=M=M.slice()),M.splice(Ee,1)}}},fire:function(h,p,k){if(!this.listens(h,k))return this;var M=i({},p,{type:h,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var q=this._events[h];if(q){this._firingCount=this._firingCount+1||1;for(var le=0,Ee=q.length;le<Ee;le++){var Me=q[le],Ve=Me.fn;Me.once&&this.off(h,Ve,Me.ctx),Ve.call(Me.ctx||this,M)}this._firingCount--}}return k&&this._propagateEvent(M),this},listens:function(h,p,k,M){typeof h!="string"&&console.warn('"string" type argument expected');var q=p;typeof p!="function"&&(M=!!p,q=void 0,k=void 0);var le=this._events&&this._events[h];if(le&&le.length&&this._listens(h,q,k)!==!1)return!0;if(M){for(var Ee in this._eventParents)if(this._eventParents[Ee].listens(h,p,k,M))return!0}return!1},_listens:function(h,p,k){if(!this._events)return!1;var M=this._events[h]||[];if(!p)return!!M.length;k===this&&(k=void 0);for(var q=0,le=M.length;q<le;q++)if(M[q].fn===p&&M[q].ctx===k)return q;return!1},once:function(h,p,k){if(typeof h=="object")for(var M in h)this._on(M,h[M],p,!0);else{h=x(h);for(var q=0,le=h.length;q<le;q++)this._on(h[q],p,k,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var p in this._eventParents)this._eventParents[p].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var H=U.extend(K);function z(h,p,k){this.x=k?Math.round(h):h,this.y=k?Math.round(p):p}var te=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(h){return this.clone()._add(ee(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(ee(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new z(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new z(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(h){h=ee(h);var p=h.x-this.x,k=h.y-this.y;return Math.sqrt(p*p+k*k)},equals:function(h){return h=ee(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=ee(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function ee(h,p,k){return h instanceof z?h:w(h)?new z(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new z(h.x,h.y):new z(h,p,k)}function Z(h,p){if(h)for(var k=p?[h,p]:h,M=0,q=k.length;M<q;M++)this.extend(k[M])}Z.prototype={extend:function(h){var p,k;if(!h)return this;if(h instanceof z||typeof h[0]=="number"||"x"in h)p=k=ee(h);else if(h=V(h),p=h.min,k=h.max,!p||!k)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=k.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(h){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var p,k;return typeof h[0]=="number"||h instanceof z?h=ee(h):h=V(h),h instanceof Z?(p=h.min,k=h.max):p=k=h,p.x>=this.min.x&&k.x<=this.max.x&&p.y>=this.min.y&&k.y<=this.max.y},intersects:function(h){h=V(h);var p=this.min,k=this.max,M=h.min,q=h.max,le=q.x>=p.x&&M.x<=k.x,Ee=q.y>=p.y&&M.y<=k.y;return le&&Ee},overlaps:function(h){h=V(h);var p=this.min,k=this.max,M=h.min,q=h.max,le=q.x>p.x&&M.x<k.x,Ee=q.y>p.y&&M.y<k.y;return le&&Ee},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var p=this.min,k=this.max,M=Math.abs(p.x-k.x)*h,q=Math.abs(p.y-k.y)*h;return V(ee(p.x-M,p.y-q),ee(k.x+M,k.y+q))},equals:function(h){return h?(h=V(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function V(h,p){return!h||h instanceof Z?h:new Z(h,p)}function X(h,p){if(h)for(var k=p?[h,p]:h,M=0,q=k.length;M<q;M++)this.extend(k[M])}X.prototype={extend:function(h){var p=this._southWest,k=this._northEast,M,q;if(h instanceof ae)M=h,q=h;else if(h instanceof X){if(M=h._southWest,q=h._northEast,!M||!q)return this}else return h?this.extend(ie(h)||W(h)):this;return!p&&!k?(this._southWest=new ae(M.lat,M.lng),this._northEast=new ae(q.lat,q.lng)):(p.lat=Math.min(M.lat,p.lat),p.lng=Math.min(M.lng,p.lng),k.lat=Math.max(q.lat,k.lat),k.lng=Math.max(q.lng,k.lng)),this},pad:function(h){var p=this._southWest,k=this._northEast,M=Math.abs(p.lat-k.lat)*h,q=Math.abs(p.lng-k.lng)*h;return new X(new ae(p.lat-M,p.lng-q),new ae(k.lat+M,k.lng+q))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ae||"lat"in h?h=ie(h):h=W(h);var p=this._southWest,k=this._northEast,M,q;return h instanceof X?(M=h.getSouthWest(),q=h.getNorthEast()):M=q=h,M.lat>=p.lat&&q.lat<=k.lat&&M.lng>=p.lng&&q.lng<=k.lng},intersects:function(h){h=W(h);var p=this._southWest,k=this._northEast,M=h.getSouthWest(),q=h.getNorthEast(),le=q.lat>=p.lat&&M.lat<=k.lat,Ee=q.lng>=p.lng&&M.lng<=k.lng;return le&&Ee},overlaps:function(h){h=W(h);var p=this._southWest,k=this._northEast,M=h.getSouthWest(),q=h.getNorthEast(),le=q.lat>p.lat&&M.lat<k.lat,Ee=q.lng>p.lng&&M.lng<k.lng;return le&&Ee},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,p){return h?(h=W(h),this._southWest.equals(h.getSouthWest(),p)&&this._northEast.equals(h.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function W(h,p){return h instanceof X?h:new X(h,p)}function ae(h,p,k){if(isNaN(h)||isNaN(p))throw new Error("Invalid LatLng object: ("+h+", "+p+")");this.lat=+h,this.lng=+p,k!==void 0&&(this.alt=+k)}ae.prototype={equals:function(h,p){if(!h)return!1;h=ie(h);var k=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return k<=(p===void 0?1e-9:p)},toString:function(h){return"LatLng("+f(this.lat,h)+", "+f(this.lng,h)+")"},distanceTo:function(h){return be.distance(this,ie(h))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(h){var p=180*h/40075017,k=p/Math.cos(Math.PI/180*this.lat);return W([this.lat-p,this.lng-k],[this.lat+p,this.lng+k])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function ie(h,p,k){return h instanceof ae?h:w(h)&&typeof h[0]!="object"?h.length===3?new ae(h[0],h[1],h[2]):h.length===2?new ae(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ae(h.lat,"lng"in h?h.lng:h.lon,h.alt):p===void 0?null:new ae(h,p,k)}var ce={latLngToPoint:function(h,p){var k=this.projection.project(h),M=this.scale(p);return this.transformation._transform(k,M)},pointToLatLng:function(h,p){var k=this.scale(p),M=this.transformation.untransform(h,k);return this.projection.unproject(M)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var p=this.projection.bounds,k=this.scale(h),M=this.transformation.transform(p.min,k),q=this.transformation.transform(p.max,k);return new Z(M,q)},infinite:!1,wrapLatLng:function(h){var p=this.wrapLng?u(h.lng,this.wrapLng,!0):h.lng,k=this.wrapLat?u(h.lat,this.wrapLat,!0):h.lat,M=h.alt;return new ae(k,p,M)},wrapLatLngBounds:function(h){var p=h.getCenter(),k=this.wrapLatLng(p),M=p.lat-k.lat,q=p.lng-k.lng;if(M===0&&q===0)return h;var le=h.getSouthWest(),Ee=h.getNorthEast(),Me=new ae(le.lat-M,le.lng-q),Ve=new ae(Ee.lat-M,Ee.lng-q);return new X(Me,Ve)}},be=i({},ce,{wrapLng:[-180,180],R:6371e3,distance:function(h,p){var k=Math.PI/180,M=h.lat*k,q=p.lat*k,le=Math.sin((p.lat-h.lat)*k/2),Ee=Math.sin((p.lng-h.lng)*k/2),Me=le*le+Math.cos(M)*Math.cos(q)*Ee*Ee,Ve=2*Math.atan2(Math.sqrt(Me),Math.sqrt(1-Me));return this.R*Ve}}),he=6378137,ge={R:he,MAX_LATITUDE:85.0511287798,project:function(h){var p=Math.PI/180,k=this.MAX_LATITUDE,M=Math.max(Math.min(k,h.lat),-k),q=Math.sin(M*p);return new z(this.R*h.lng*p,this.R*Math.log((1+q)/(1-q))/2)},unproject:function(h){var p=180/Math.PI;return new ae((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*p,h.x*p/this.R)},bounds:function(){var h=he*Math.PI;return new Z([-h,-h],[h,h])}()};function Se(h,p,k,M){if(w(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=p,this._c=k,this._d=M}Se.prototype={transform:function(h,p){return this._transform(h.clone(),p)},_transform:function(h,p){return p=p||1,h.x=p*(this._a*h.x+this._b),h.y=p*(this._c*h.y+this._d),h},untransform:function(h,p){return p=p||1,new z((h.x/p-this._b)/this._a,(h.y/p-this._d)/this._c)}};function re(h,p,k,M){return new Se(h,p,k,M)}var _e=i({},be,{code:"EPSG:3857",projection:ge,transformation:function(){var h=.5/(Math.PI*ge.R);return re(h,.5,-h,.5)}()}),ue=i({},_e,{code:"EPSG:900913"});function J(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function fe(h,p){var k="",M,q,le,Ee,Me,Ve;for(M=0,le=h.length;M<le;M++){for(Me=h[M],q=0,Ee=Me.length;q<Ee;q++)Ve=Me[q],k+=(q?"L":"M")+Ve.x+" "+Ve.y;k+=p?Bt.svg?"z":"x":""}return k||"M0 0"}var ye=document.documentElement.style,Ie="ActiveXObject"in window,ke=Ie&&!document.addEventListener,He="msLaunchUri"in navigator&&!("documentMode"in document),We=br("webkit"),me=br("android"),Be=br("android 2")||br("android 3"),Oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ne=me&&br("Google")&&Oe<537&&!("AudioNode"in window),Fe=!!window.opera,it=!He&&br("chrome"),pt=br("gecko")&&!We&&!Fe&&!Ie,Re=!it&&br("safari"),gt=br("phantom"),rt="OTransition"in ye,ot=navigator.platform.indexOf("Win")===0,xt=Ie&&"transition"in ye,Et="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Be,St="MozPerspective"in ye,$t=!window.L_DISABLE_3D&&(xt||Et||St)&&!rt&&!gt,bt=typeof orientation<"u"||br("mobile"),ht=bt&&We,lt=bt&&Et,ut=!window.PointerEvent&&window.MSPointerEvent,nt=!!(window.PointerEvent||ut),Ke="ontouchstart"in window||!!window.TouchEvent,Ct=!window.L_NO_TOUCH&&(Ke||nt),Gt=bt&&Fe,Xn=bt&&pt,Vr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tn=function(){var h=!1;try{var p=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",A,p),window.removeEventListener("testPassiveEventSupport",A,p)}catch{}return h}(),gr=function(){return!!document.createElement("canvas").getContext}(),Ft=!!(document.createElementNS&&J("svg").createSVGRect),xs=!!Ft&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ys=!Ft&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var p=h.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}}(),On=navigator.platform.indexOf("Mac")===0,is=navigator.platform.indexOf("Linux")===0;function br(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Bt={ie:Ie,ielt9:ke,edge:He,webkit:We,android:me,android23:Be,androidStock:Ne,opera:Fe,chrome:it,gecko:pt,safari:Re,phantom:gt,opera12:rt,win:ot,ie3d:xt,webkit3d:Et,gecko3d:St,any3d:$t,mobile:bt,mobileWebkit:ht,mobileWebkit3d:lt,msPointer:ut,pointer:nt,touch:Ct,touchNative:Ke,mobileOpera:Gt,mobileGecko:Xn,retina:Vr,passiveEvents:tn,canvas:gr,svg:Ft,vml:ys,inlineSvg:xs,mac:On,linux:is},un=Bt.msPointer?"MSPointerDown":"pointerdown",ni=Bt.msPointer?"MSPointerMove":"pointermove",Vs=Bt.msPointer?"MSPointerUp":"pointerup",as=Bt.msPointer?"MSPointerCancel":"pointercancel",os={touchstart:un,touchmove:ni,touchend:Vs,touchcancel:as},ls={touchstart:xe,touchmove:Zn,touchend:Zn,touchcancel:Zn},Cn={},et=!1;function Nt(h,p,k){return p==="touchstart"&&Fr(),ls[p]?(k=ls[p].bind(this,k),h.addEventListener(os[p],k,!1),k):(console.warn("wrong event specified:",p),A)}function Pt(h,p,k){if(!os[p]){console.warn("wrong event specified:",p);return}h.removeEventListener(os[p],k,!1)}function ft(h){Cn[h.pointerId]=h}function Ut(h){Cn[h.pointerId]&&(Cn[h.pointerId]=h)}function bn(h){delete Cn[h.pointerId]}function Fr(){et||(document.addEventListener(un,ft,!0),document.addEventListener(ni,Ut,!0),document.addEventListener(Vs,bn,!0),document.addEventListener(as,bn,!0),et=!0)}function Zn(h,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var k in Cn)p.touches.push(Cn[k]);p.changedTouches=[p],h(p)}}function xe(h,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&$n(p),Zn(h,p)}function Ge(h){var p={},k,M;for(M in h)k=h[M],p[M]=k&&k.bind?k.bind(h):k;return h=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var at=200;function st(h,p){h.addEventListener("dblclick",p);var k=0,M;function q(le){if(le.detail!==1){M=le.detail;return}if(!(le.pointerType==="mouse"||le.sourceCapabilities&&!le.sourceCapabilities.firesTouchEvents)){var Ee=Do(le);if(!(Ee.some(function(Ve){return Ve instanceof HTMLLabelElement&&Ve.attributes.for})&&!Ee.some(function(Ve){return Ve instanceof HTMLInputElement||Ve instanceof HTMLSelectElement}))){var Me=Date.now();Me-k<=at?(M++,M===2&&p(Ge(le))):M=1,k=Me}}}return h.addEventListener("click",q),{dblclick:p,simDblclick:q}}function er(h,p){h.removeEventListener("dblclick",p.dblclick),h.removeEventListener("click",p.simDblclick)}var hn=Iu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),dr=Iu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Si=dr==="webkitTransition"||dr==="OTransition"?dr+"End":"transitionend";function jc(h){return typeof h=="string"?document.getElementById(h):h}function Fo(h,p){var k=h.style[p]||h.currentStyle&&h.currentStyle[p];if((!k||k==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(h,null);k=M?M[p]:null}return k==="auto"?null:k}function yr(h,p,k){var M=document.createElement(h);return M.className=p||"",k&&k.appendChild(M),M}function rn(h){var p=h.parentNode;p&&p.removeChild(h)}function Pu(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Sn(h){var p=h.parentNode;p&&p.lastChild!==h&&p.appendChild(h)}function jl(h){var p=h.parentNode;p&&p.firstChild!==h&&p.insertBefore(h,p.firstChild)}function La(h,p){if(h.classList!==void 0)return h.classList.contains(p);var k=Jn(h);return k.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(k)}function ur(h,p){if(h.classList!==void 0)for(var k=x(p),M=0,q=k.length;M<q;M++)h.classList.add(k[M]);else if(!La(h,p)){var le=Jn(h);$i(h,(le?le+" ":"")+p)}}function Ln(h,p){h.classList!==void 0?h.classList.remove(p):$i(h,m((" "+Jn(h)+" ").replace(" "+p+" "," ")))}function $i(h,p){h.className.baseVal===void 0?h.className=p:h.className.baseVal=p}function Jn(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function vs(h,p){"opacity"in h.style?h.style.opacity=p:"filter"in h.style&&fm(h,p)}function fm(h,p){var k=!1,M="DXImageTransform.Microsoft.Alpha";try{k=h.filters.item(M)}catch{if(p===1)return}p=Math.round(p*100),k?(k.Enabled=p!==100,k.Opacity=p):h.style.filter+=" progid:"+M+"(opacity="+p+")"}function Iu(h){for(var p=document.documentElement.style,k=0;k<h.length;k++)if(h[k]in p)return h[k];return!1}function Nl(h,p,k){var M=p||new z(0,0);h.style[hn]=(Bt.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(k?" scale("+k+")":"")}function Xr(h,p){h._leaflet_pos=p,Bt.any3d?Nl(h,p):(h.style.left=p.x+"px",h.style.top=p.y+"px")}function Uo(h){return h._leaflet_pos||new z(0,0)}var Nc,Ro,_l;if("onselectstart"in document)Nc=function(){_t(window,"selectstart",$n)},Ro=function(){nn(window,"selectstart",$n)};else{var vd=Iu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nc=function(){if(vd){var h=document.documentElement.style;_l=h[vd],h[vd]="none"}},Ro=function(){vd&&(document.documentElement.style[vd]=_l,_l=void 0)}}function pA(){_t(window,"dragstart",$n)}function gA(){nn(window,"dragstart",$n)}var _c,Tu;function ha(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(Ou(),_c=h,Tu=h.style.outlineStyle,h.style.outlineStyle="none",_t(window,"keydown",Ou))}function Ou(){_c&&(_c.style.outlineStyle=Tu,_c=void 0,Tu=void 0,nn(window,"keydown",Ou))}function Cc(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function bd(h){var p=h.getBoundingClientRect();return{x:p.width/h.offsetWidth||1,y:p.height/h.offsetHeight||1,boundingClientRect:p}}var u0={__proto__:null,TRANSFORM:hn,TRANSITION:dr,TRANSITION_END:Si,get:jc,getStyle:Fo,create:yr,remove:rn,empty:Pu,toFront:Sn,toBack:jl,hasClass:La,addClass:ur,removeClass:Ln,setClass:$i,getClass:Jn,setOpacity:vs,testProp:Iu,setTransform:Nl,setPosition:Xr,getPosition:Uo,get disableTextSelection(){return Nc},get enableTextSelection(){return Ro},disableImageDrag:pA,enableImageDrag:gA,preventOutline:ha,restoreOutline:Ou,getSizedParentNode:Cc,getScale:bd};function _t(h,p,k,M){if(p&&typeof p=="object")for(var q in p)io(h,q,p[q],k);else{p=x(p);for(var le=0,Ee=p.length;le<Ee;le++)io(h,p[le],k,M)}return this}var Fa="_leaflet_events";function nn(h,p,k,M){if(arguments.length===1)mm(h),delete h[Fa];else if(p&&typeof p=="object")for(var q in p)xA(h,q,p[q],k);else if(p=x(p),arguments.length===2)mm(h,function(Me){return _(p,Me)!==-1});else for(var le=0,Ee=p.length;le<Ee;le++)xA(h,p[le],k,M);return this}function mm(h,p){for(var k in h[Fa]){var M=k.split(/\d/)[0];(!p||p(M))&&xA(h,M,null,null,k)}}var so={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function io(h,p,k,M){var q=p+c(k)+(M?"_"+c(M):"");if(h[Fa]&&h[Fa][q])return this;var le=function(Me){return k.call(M||h,Me||window.event)},Ee=le;!Bt.touchNative&&Bt.pointer&&p.indexOf("touch")===0?le=Nt(h,p,le):Bt.touch&&p==="dblclick"?le=st(h,le):"addEventListener"in h?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?h.addEventListener(so[p]||p,le,Bt.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(le=function(Me){Me=Me||window.event,Fu(h,Me)&&Ee(Me)},h.addEventListener(so[p],le,!1)):h.addEventListener(p,Ee,!1):h.attachEvent("on"+p,le),h[Fa]=h[Fa]||{},h[Fa][q]=le}function xA(h,p,k,M,q){q=q||p+c(k)+(M?"_"+c(M):"");var le=h[Fa]&&h[Fa][q];if(!le)return this;!Bt.touchNative&&Bt.pointer&&p.indexOf("touch")===0?Pt(h,p,le):Bt.touch&&p==="dblclick"?er(h,le):"removeEventListener"in h?h.removeEventListener(so[p]||p,le,!1):h.detachEvent("on"+p,le),h[Fa][q]=null}function Cl(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function Sc(h){return io(h,"wheel",Cl),this}function Sl(h){return _t(h,"mousedown touchstart dblclick contextmenu",Cl),h._leaflet_disable_click=!0,this}function $n(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function Bl(h){return $n(h),Cl(h),this}function Do(h){if(h.composedPath)return h.composedPath();for(var p=[],k=h.target;k;)p.push(k),k=k.parentNode;return p}function pm(h,p){if(!p)return new z(h.clientX,h.clientY);var k=bd(p),M=k.boundingClientRect;return new z((h.clientX-M.left)/k.x-p.clientLeft,(h.clientY-M.top)/k.y-p.clientTop)}var yA=Bt.linux&&Bt.chrome?window.devicePixelRatio:Bt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Lu(h){return Bt.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/yA:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Fu(h,p){var k=p.relatedTarget;if(!k)return!0;try{for(;k&&k!==h;)k=k.parentNode}catch{return!1}return k!==h}var El={__proto__:null,on:_t,off:nn,stopPropagation:Cl,disableScrollPropagation:Sc,disableClickPropagation:Sl,preventDefault:$n,stop:Bl,getPropagationPath:Do,getMousePosition:pm,getWheelDelta:Lu,isExternalTarget:Fu,addListener:_t,removeListener:nn},Uu=H.extend({run:function(h,p,k,M){this.stop(),this._el=h,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=Uo(h),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(h){var p=+new Date-this._startTime,k=this._duration*1e3;p<k?this._runFrame(this._easeOut(p/k),h):(this._runFrame(1),this._complete())},_runFrame:function(h,p){var k=this._startPos.add(this._offset.multiplyBy(h));p&&k._round(),Xr(this._el,k),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Nr=H.extend({options:{crs:_e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,p){p=g(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(ie(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=dr&&Bt.any3d&&!Bt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_t(this._proxy,Si,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,p,k){if(p=p===void 0?this._zoom:this._limitZoom(p),h=this._limitCenter(ie(h),p,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var M=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,p,k.zoom):this._tryAnimatedPan(h,k.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(h,p,k.pan&&k.pan.noMoveStart),this},setZoom:function(h,p){return this._loaded?this.setView(this.getCenter(),h,{zoom:p}):(this._zoom=h,this)},zoomIn:function(h,p){return h=h||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,p)},zoomOut:function(h,p){return h=h||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,p)},setZoomAround:function(h,p,k){var M=this.getZoomScale(p),q=this.getSize().divideBy(2),le=h instanceof z?h:this.latLngToContainerPoint(h),Ee=le.subtract(q).multiplyBy(1-1/M),Me=this.containerPointToLatLng(q.add(Ee));return this.setView(Me,p,{zoom:k})},_getBoundsCenterZoom:function(h,p){p=p||{},h=h.getBounds?h.getBounds():W(h);var k=ee(p.paddingTopLeft||p.padding||[0,0]),M=ee(p.paddingBottomRight||p.padding||[0,0]),q=this.getBoundsZoom(h,!1,k.add(M));if(q=typeof p.maxZoom=="number"?Math.min(p.maxZoom,q):q,q===1/0)return{center:h.getCenter(),zoom:q};var le=M.subtract(k).divideBy(2),Ee=this.project(h.getSouthWest(),q),Me=this.project(h.getNorthEast(),q),Ve=this.unproject(Ee.add(Me).divideBy(2).add(le),q);return{center:Ve,zoom:q}},fitBounds:function(h,p){if(h=W(h),!h.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(h,p);return this.setView(k.center,k.zoom,p)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,p){return this.setView(h,this._zoom,{pan:p})},panBy:function(h,p){if(h=ee(h).round(),p=p||{},!h.x&&!h.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Uu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){ur(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,k,p.duration||.25,p.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,p,k){if(k=k||{},k.animate===!1||!Bt.any3d)return this.setView(h,p,k);this._stop();var M=this.project(this.getCenter()),q=this.project(h),le=this.getSize(),Ee=this._zoom;h=ie(h),p=p===void 0?Ee:p;var Me=Math.max(le.x,le.y),Ve=Me*this.getZoomScale(Ee,p),dt=q.distanceTo(M)||1,It=1.42,Jt=It*It;function Er(An){var Ei=An?-1:1,u_=An?Ve:Me,h_=Ve*Ve-Me*Me+Ei*Jt*Jt*dt*dt,cb=2*u_*Jt*dt,_m=h_/cb,y0=Math.sqrt(_m*_m+1)-_m,db=y0<1e-9?-18:Math.log(y0);return db}function Bi(An){return(Math.exp(An)-Math.exp(-An))/2}function Ts(An){return(Math.exp(An)+Math.exp(-An))/2}function $a(An){return Bi(An)/Ts(An)}var Wi=Er(0);function Vu(An){return Me*(Ts(Wi)/Ts(Wi+It*An))}function c_(An){return Me*(Ts(Wi)*$a(Wi+It*An)-Bi(Wi))/Jt}function Tc(An){return 1-Math.pow(1-An,1.5)}var co=Date.now(),qo=(Er(1)-Wi)/It,d_=k.duration?1e3*k.duration:1e3*qo*.8;function x0(){var An=(Date.now()-co)/d_,Ei=Tc(An)*qo;An<=1?(this._flyToFrame=B(x0,this),this._move(this.unproject(M.add(q.subtract(M).multiplyBy(c_(Ei)/dt)),Ee),this.getScaleZoom(Me/Vu(Ei),Ee),{flyTo:!0})):this._move(h,p)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),x0.call(this),this},flyToBounds:function(h,p){var k=this._getBoundsCenterZoom(h,p);return this.flyTo(k.center,k.zoom,p)},setMaxBounds:function(h){return h=W(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var p=this.options.minZoom;return this.options.minZoom=h,this._loaded&&p!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var p=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&p!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,p){this._enforcingBounds=!0;var k=this.getCenter(),M=this._limitCenter(k,this._zoom,W(h));return k.equals(M)||this.panTo(M,p),this._enforcingBounds=!1,this},panInside:function(h,p){p=p||{};var k=ee(p.paddingTopLeft||p.padding||[0,0]),M=ee(p.paddingBottomRight||p.padding||[0,0]),q=this.project(this.getCenter()),le=this.project(h),Ee=this.getPixelBounds(),Me=V([Ee.min.add(k),Ee.max.subtract(M)]),Ve=Me.getSize();if(!Me.contains(le)){this._enforcingBounds=!0;var dt=le.subtract(Me.getCenter()),It=Me.extend(le).getSize().subtract(Ve);q.x+=dt.x<0?-It.x:It.x,q.y+=dt.y<0?-It.y:It.y,this.panTo(this.unproject(q),p),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),M=p.divideBy(2).round(),q=k.divideBy(2).round(),le=M.subtract(q);return!le.x&&!le.y?this:(h.animate&&h.pan?this.panBy(le):(h.pan&&this._rawPanBy(le),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=o(this._handleGeolocationResponse,this),k=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,k,h):navigator.geolocation.getCurrentPosition(p,k,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var p=h.code,k=h.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var p=h.coords.latitude,k=h.coords.longitude,M=new ae(p,k),q=M.toBounds(h.coords.accuracy*2),le=this._locateOptions;if(le.setView){var Ee=this.getBoundsZoom(q);this.setView(M,le.maxZoom?Math.min(Ee,le.maxZoom):Ee)}var Me={latlng:M,bounds:q,timestamp:h.timestamp};for(var Ve in h.coords)typeof h.coords[Ve]=="number"&&(Me[Ve]=h.coords[Ve]);this.fire("locationfound",Me)}},addHandler:function(h,p){if(!p)return this;var k=this[h]=new p(this);return this._handlers.push(k),this.options[h]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),rn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)rn(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,p){var k="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),M=yr("div",k,p||this._mapPane);return h&&(this._panes[h]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),p=this.unproject(h.getBottomLeft()),k=this.unproject(h.getTopRight());return new X(p,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,p,k){h=W(h),k=ee(k||[0,0]);var M=this.getZoom()||0,q=this.getMinZoom(),le=this.getMaxZoom(),Ee=h.getNorthWest(),Me=h.getSouthEast(),Ve=this.getSize().subtract(k),dt=V(this.project(Me,M),this.project(Ee,M)).getSize(),It=Bt.any3d?this.options.zoomSnap:1,Jt=Ve.x/dt.x,Er=Ve.y/dt.y,Bi=p?Math.max(Jt,Er):Math.min(Jt,Er);return M=this.getScaleZoom(Bi,M),It&&(M=Math.round(M/(It/100))*(It/100),M=p?Math.ceil(M/It)*It:Math.floor(M/It)*It),Math.max(q,Math.min(le,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,p){var k=this._getTopLeftPoint(h,p);return new Z(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,p){var k=this.options.crs;return p=p===void 0?this._zoom:p,k.scale(h)/k.scale(p)},getScaleZoom:function(h,p){var k=this.options.crs;p=p===void 0?this._zoom:p;var M=k.zoom(h*k.scale(p));return isNaN(M)?1/0:M},project:function(h,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(ie(h),p)},unproject:function(h,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(ee(h),p)},layerPointToLatLng:function(h){var p=ee(h).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(h){var p=this.project(ie(h))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(ie(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(W(h))},distance:function(h,p){return this.options.crs.distance(ie(h),ie(p))},containerPointToLayerPoint:function(h){return ee(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return ee(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var p=this.containerPointToLayerPoint(ee(h));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ie(h)))},mouseEventToContainerPoint:function(h){return pm(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var p=this._container=jc(h);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_t(p,"scroll",this._onScroll,this),this._containerId=c(p)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Bt.any3d,ur(h,"leaflet-container"+(Bt.touch?" leaflet-touch":"")+(Bt.retina?" leaflet-retina":"")+(Bt.ielt9?" leaflet-oldie":"")+(Bt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=Fo(h,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xr(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ur(h.markerPane,"leaflet-zoom-hide"),ur(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,p,k){Xr(this._mapPane,new z(0,0));var M=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var q=this._zoom!==p;this._moveStart(q,k)._move(h,p)._moveEnd(q),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(h,p){return h&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(h,p,k,M){p===void 0&&(p=this._zoom);var q=this._zoom!==p;return this._zoom=p,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),M?k&&k.pinch&&this.fire("zoom",k):((q||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Xr(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var p=h?nn:_t;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),Bt.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,p){for(var k=[],M,q=p==="mouseout"||p==="mouseover",le=h.target||h.srcElement,Ee=!1;le;){if(M=this._targets[c(le)],M&&(p==="click"||p==="preclick")&&this._draggableMoved(M)){Ee=!0;break}if(M&&M.listens(p,!0)&&(q&&!Fu(le,h)||(k.push(M),q))||le===this._container)break;le=le.parentNode}return!k.length&&!Ee&&!q&&this.listens(p,!0)&&(k=[this]),k},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var p=h.target||h.srcElement;if(!(!this._loaded||p._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(p))){var k=h.type;k==="mousedown"&&ha(p),this._fireDOMEvent(h,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,p,k){if(h.type==="click"){var M=i({},h);M.type="preclick",this._fireDOMEvent(M,M.type,k)}var q=this._findEventTargets(h,p);if(k){for(var le=[],Ee=0;Ee<k.length;Ee++)k[Ee].listens(p,!0)&&le.push(k[Ee]);q=le.concat(q)}if(q.length){p==="contextmenu"&&$n(h);var Me=q[0],Ve={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var dt=Me.getLatLng&&(!Me._radius||Me._radius<=10);Ve.containerPoint=dt?this.latLngToContainerPoint(Me.getLatLng()):this.mouseEventToContainerPoint(h),Ve.layerPoint=this.containerPointToLayerPoint(Ve.containerPoint),Ve.latlng=dt?Me.getLatLng():this.layerPointToLatLng(Ve.layerPoint)}for(Ee=0;Ee<q.length;Ee++)if(q[Ee].fire(p,Ve,!0),Ve.originalEvent._stopped||q[Ee].options.bubblingMouseEvents===!1&&_(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,p=this._handlers.length;h<p;h++)this._handlers[h].disable()},whenReady:function(h,p){return this._loaded?h.call(p||this,{target:this}):this.on("load",h,p),this},_getMapPanePos:function(){return Uo(this._mapPane)||new z(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,p){var k=h&&p!==void 0?this._getNewPixelOrigin(h,p):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,p){var k=this.getSize()._divideBy(2);return this.project(h,p)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,p,k){var M=this._getNewPixelOrigin(k,p);return this.project(h,p)._subtract(M)},_latLngBoundsToNewLayerBounds:function(h,p,k){var M=this._getNewPixelOrigin(k,p);return V([this.project(h.getSouthWest(),p)._subtract(M),this.project(h.getNorthWest(),p)._subtract(M),this.project(h.getSouthEast(),p)._subtract(M),this.project(h.getNorthEast(),p)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,p,k){if(!k)return h;var M=this.project(h,p),q=this.getSize().divideBy(2),le=new Z(M.subtract(q),M.add(q)),Ee=this._getBoundsOffset(le,k,p);return Math.abs(Ee.x)<=1&&Math.abs(Ee.y)<=1?h:this.unproject(M.add(Ee),p)},_limitOffset:function(h,p){if(!p)return h;var k=this.getPixelBounds(),M=new Z(k.min.add(h),k.max.add(h));return h.add(this._getBoundsOffset(M,p))},_getBoundsOffset:function(h,p,k){var M=V(this.project(p.getNorthEast(),k),this.project(p.getSouthWest(),k)),q=M.min.subtract(h.min),le=M.max.subtract(h.max),Ee=this._rebound(q.x,-le.x),Me=this._rebound(q.y,-le.y);return new z(Ee,Me)},_rebound:function(h,p){return h+p>0?Math.round(h-p)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(p))},_limitZoom:function(h){var p=this.getMinZoom(),k=this.getMaxZoom(),M=Bt.any3d?this.options.zoomSnap:1;return M&&(h=Math.round(h/M)*M),Math.max(p,Math.min(k,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ln(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,p){var k=this._getCenterOffset(h)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,p),!0)},_createAnimProxy:function(){var h=this._proxy=yr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(p){var k=hn,M=this._proxy.style[k];Nl(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),M===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),p=this.getZoom();Nl(this._proxy,this.project(h,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,p,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(p),q=this._getCenterOffset(h)._divideBy(1-1/M);return k.animate!==!0&&!this.getSize().contains(q)?!1:(B(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(h,p,!0)},this),!0)},_animateZoom:function(h,p,k,M){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=p,ur(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:p,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ln(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function vA(h,p){return new Nr(h,p)}var si=U.extend({options:{position:"topright"},initialize:function(h){g(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var p=this._map;return p&&p.removeControl(this),this.options.position=h,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var p=this._container=this.onAdd(h),k=this.getPosition(),M=h._controlCorners[k];return ur(p,"leaflet-control"),k.indexOf("bottom")!==-1?M.insertBefore(p,M.firstChild):M.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(rn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),kl=function(h){return new si(h)};Nr.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},p="leaflet-",k=this._controlContainer=yr("div",p+"control-container",this._container);function M(q,le){var Ee=p+q+" "+p+le;h[q+le]=yr("div",Ee,k)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)rn(this._controlCorners[h]);rn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bA=si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,p,k,M){return k<M?-1:M<k?1:0}},initialize:function(h,p,k){g(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in h)this._addLayer(h[M],M);for(M in p)this._addLayer(p[M],M,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return si.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,p){return this._addLayer(h,p),this._map?this._update():this},addOverlay:function(h,p){return this._addLayer(h,p,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var p=this._getLayer(c(h));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){ur(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(ur(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Ln(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ln(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",p=this._container=yr("div",h),k=this.options.collapsed;p.setAttribute("aria-haspopup",!0),Sl(p),Sc(p);var M=this._section=yr("section",h+"-list");k&&(this._map.on("click",this.collapse,this),_t(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var q=this._layersLink=yr("a",h+"-toggle",p);q.href="#",q.title="Layers",q.setAttribute("role","button"),_t(q,{keydown:function(le){le.keyCode===13&&this._expandSafely()},click:function(le){$n(le),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=yr("div",h+"-base",M),this._separator=yr("div",h+"-separator",M),this._overlaysList=yr("div",h+"-overlays",M),p.appendChild(M)},_getLayer:function(h){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&c(this._layers[p].layer)===h)return this._layers[p]},_addLayer:function(h,p,k){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:p,overlay:k}),this.options.sortLayers&&this._layers.sort(o(function(M,q){return this.options.sortFunction(M.layer,q.layer,M.name,q.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pu(this._baseLayersList),Pu(this._overlaysList),this._layerControlInputs=[];var h,p,k,M,q=0;for(k=0;k<this._layers.length;k++)M=this._layers[k],this._addItem(M),p=p||M.overlay,h=h||!M.overlay,q+=M.overlay?0:1;return this.options.hideSingleBase&&(h=h&&q>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=p&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var p=this._getLayer(c(h.target)),k=p.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;k&&this._map.fire(k,p)},_createRadioElement:function(h,p){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(p?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=k,M.firstChild},_addItem:function(h){var p=document.createElement("label"),k=this._map.hasLayer(h.layer),M;h.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=k):M=this._createRadioElement("leaflet-base-layers_"+c(this),k),this._layerControlInputs.push(M),M.layerId=c(h.layer),_t(M,"click",this._onInputClick,this);var q=document.createElement("span");q.innerHTML=" "+h.name;var le=document.createElement("span");p.appendChild(le),le.appendChild(M),le.appendChild(q);var Ee=h.overlay?this._overlaysList:this._baseLayersList;return Ee.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,p,k,M=[],q=[];this._handlingClick=!0;for(var le=h.length-1;le>=0;le--)p=h[le],k=this._getLayer(p.layerId).layer,p.checked?M.push(k):p.checked||q.push(k);for(le=0;le<q.length;le++)this._map.hasLayer(q[le])&&this._map.removeLayer(q[le]);for(le=0;le<M.length;le++)this._map.hasLayer(M[le])||this._map.addLayer(M[le]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,p,k,M=this._map.getZoom(),q=h.length-1;q>=0;q--)p=h[q],k=this._getLayer(p.layerId).layer,p.disabled=k.options.minZoom!==void 0&&M<k.options.minZoom||k.options.maxZoom!==void 0&&M>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,_t(h,"click",$n),this.expand();var p=this;setTimeout(function(){nn(h,"click",$n),p._preventClick=!1})}}),gm=function(h,p,k){return new bA(h,p,k)},ao=si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var p="leaflet-control-zoom",k=yr("div",p+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,p+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,p+"-out",k,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,p,k,M,q){var le=yr("a",k,M);return le.innerHTML=h,le.href="#",le.title=p,le.setAttribute("role","button"),le.setAttribute("aria-label",p),Sl(le),_t(le,"click",Bl),_t(le,"click",q,this),_t(le,"click",this._refocusOnMap,this),le},_updateDisabled:function(){var h=this._map,p="leaflet-disabled";Ln(this._zoomInButton,p),Ln(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(ur(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(ur(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});Nr.mergeOptions({zoomControl:!0}),Nr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ao,this.addControl(this.zoomControl))});var Pl=function(h){return new ao(h)},wA=si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var p="leaflet-control-scale",k=yr("div",p),M=this.options;return this._addScales(M,p+"-line",k),h.on(M.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),k},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,p,k){h.metric&&(this._mScale=yr("div",p,k)),h.imperial&&(this._iScale=yr("div",p,k))},_update:function(){var h=this._map,p=h.getSize().y/2,k=h.distance(h.containerPointToLatLng([0,p]),h.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(k)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var p=this._getRoundNum(h),k=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,k,p/h)},_updateImperial:function(h){var p=h*3.2808399,k,M,q;p>5280?(k=p/5280,M=this._getRoundNum(k),this._updateScale(this._iScale,M+" mi",M/k)):(q=this._getRoundNum(p),this._updateScale(this._iScale,q+" ft",q/p))},_updateScale:function(h,p,k){h.style.width=Math.round(this.options.maxWidth*k)+"px",h.innerHTML=p},_getRoundNum:function(h){var p=Math.pow(10,(Math.floor(h)+"").length-1),k=h/p;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,p*k}}),wd=function(h){return new wA(h)},xm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',D=si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Bt.inlineSvg?xm+" ":"")+"Leaflet</a>"},initialize:function(h){g(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=yr("div","leaflet-control-attribution"),Sl(this._container);for(var p in h._layers)h._layers[p].getAttribution&&this.addAttribution(h._layers[p].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var p in this._attributions)this._attributions[p]&&h.push(p);var k=[];this.options.prefix&&k.push(this.options.prefix),h.length&&k.push(h.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});Nr.mergeOptions({attributionControl:!0}),Nr.addInitHook(function(){this.options.attributionControl&&new D().addTo(this)});var ne=function(h){return new D(h)};si.Layers=bA,si.Zoom=ao,si.Scale=wA,si.Attribution=D,kl.layers=gm,kl.zoom=Pl,kl.scale=wd,kl.attribution=ne;var ve=U.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ve.addTo=function(h,p){return h.addHandler(p,this),this};var Pe={Events:K},Ue=Bt.touch?"touchstart mousedown":"mousedown",qe=H.extend({options:{clickTolerance:3},initialize:function(h,p,k,M){g(this,M),this._element=h,this._dragStartTarget=p||h,this._preventOutline=k},enable:function(){this._enabled||(_t(this._dragStartTarget,Ue,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qe._dragging===this&&this.finishDrag(!0),nn(this._dragStartTarget,Ue,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!La(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){qe._dragging===this&&this.finishDrag();return}if(!(qe._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(qe._dragging=this,this._preventOutline&&ha(this._element),pA(),Nc(),!this._moving)){this.fire("down");var p=h.touches?h.touches[0]:h,k=Cc(this._element);this._startPoint=new z(p.clientX,p.clientY),this._startPos=Uo(this._element),this._parentScale=bd(k);var M=h.type==="mousedown";_t(document,M?"mousemove":"touchmove",this._onMove,this),_t(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var p=h.touches&&h.touches.length===1?h.touches[0]:h,k=new z(p.clientX,p.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,$n(h),this._moved||(this.fire("dragstart"),this._moved=!0,ur(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ur(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Xr(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Ln(document.body,"leaflet-dragging"),this._lastTarget&&(Ln(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),nn(document,"mousemove touchmove",this._onMove,this),nn(document,"mouseup touchend touchcancel",this._onUp,this),gA(),Ro();var p=this._moved&&this._moving;this._moving=!1,qe._dragging=!1,p&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function ct(h,p,k){var M,q=[1,4,2,8],le,Ee,Me,Ve,dt,It,Jt,Er;for(le=0,It=h.length;le<It;le++)h[le]._code=ii(h[le],p);for(Me=0;Me<4;Me++){for(Jt=q[Me],M=[],le=0,It=h.length,Ee=It-1;le<It;Ee=le++)Ve=h[le],dt=h[Ee],Ve._code&Jt?dt._code&Jt||(Er=Ua(dt,Ve,Jt,p,k),Er._code=ii(Er,p),M.push(Er)):(dt._code&Jt&&(Er=Ua(dt,Ve,Jt,p,k),Er._code=ii(Er,p),M.push(Er)),M.push(Ve));h=M}return h}function Rt(h,p){var k,M,q,le,Ee,Me,Ve,dt,It;if(!h||h.length===0)throw new Error("latlngs not passed");ai(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Jt=ie([0,0]),Er=W(h),Bi=Er.getNorthWest().distanceTo(Er.getSouthWest())*Er.getNorthEast().distanceTo(Er.getNorthWest());Bi<1700&&(Jt=Vt(h));var Ts=h.length,$a=[];for(k=0;k<Ts;k++){var Wi=ie(h[k]);$a.push(p.project(ie([Wi.lat-Jt.lat,Wi.lng-Jt.lng])))}for(Me=Ve=dt=0,k=0,M=Ts-1;k<Ts;M=k++)q=$a[k],le=$a[M],Ee=q.y*le.x-le.y*q.x,Ve+=(q.x+le.x)*Ee,dt+=(q.y+le.y)*Ee,Me+=Ee*3;Me===0?It=$a[0]:It=[Ve/Me,dt/Me];var Vu=p.unproject(ee(It));return ie([Vu.lat+Jt.lat,Vu.lng+Jt.lng])}function Vt(h){for(var p=0,k=0,M=0,q=0;q<h.length;q++){var le=ie(h[q]);p+=le.lat,k+=le.lng,M++}return ie([p/M,k/M])}var lr={__proto__:null,clipPolygon:ct,polygonCenter:Rt,centroid:Vt};function mr(h,p){if(!p||!h.length)return h.slice();var k=p*p;return h=Ps(h,k),h=bs(h,k),h}function Ur(h,p,k){return Math.sqrt(Tl(h,p,k,!0))}function Hn(h,p,k){return Tl(h,p,k)}function bs(h,p){var k=h.length,M=typeof Uint8Array<"u"?Uint8Array:Array,q=new M(k);q[0]=q[k-1]=1,sn(h,q,p,0,k-1);var le,Ee=[];for(le=0;le<k;le++)q[le]&&Ee.push(h[le]);return Ee}function sn(h,p,k,M,q){var le=0,Ee,Me,Ve;for(Me=M+1;Me<=q-1;Me++)Ve=Tl(h[Me],h[M],h[q],!0),Ve>le&&(Ee=Me,le=Ve);le>k&&(p[Ee]=1,sn(h,p,k,M,Ee),sn(h,p,k,Ee,q))}function Ps(h,p){for(var k=[h[0]],M=1,q=0,le=h.length;M<le;M++)Il(h[M],h[q])>p&&(k.push(h[M]),q=M);return q<le-1&&k.push(h[le-1]),k}var cs;function zs(h,p,k,M,q){var le=M?cs:ii(h,k),Ee=ii(p,k),Me,Ve,dt;for(cs=Ee;;){if(!(le|Ee))return[h,p];if(le&Ee)return!1;Me=le||Ee,Ve=Ua(h,p,Me,k,q),dt=ii(Ve,k),Me===le?(h=Ve,le=dt):(p=Ve,Ee=dt)}}function Ua(h,p,k,M,q){var le=p.x-h.x,Ee=p.y-h.y,Me=M.min,Ve=M.max,dt,It;return k&8?(dt=h.x+le*(Ve.y-h.y)/Ee,It=Ve.y):k&4?(dt=h.x+le*(Me.y-h.y)/Ee,It=Me.y):k&2?(dt=Ve.x,It=h.y+Ee*(Ve.x-h.x)/le):k&1&&(dt=Me.x,It=h.y+Ee*(Me.x-h.x)/le),new z(dt,It,q)}function ii(h,p){var k=0;return h.x<p.min.x?k|=1:h.x>p.max.x&&(k|=2),h.y<p.min.y?k|=4:h.y>p.max.y&&(k|=8),k}function Il(h,p){var k=p.x-h.x,M=p.y-h.y;return k*k+M*M}function Tl(h,p,k,M){var q=p.x,le=p.y,Ee=k.x-q,Me=k.y-le,Ve=Ee*Ee+Me*Me,dt;return Ve>0&&(dt=((h.x-q)*Ee+(h.y-le)*Me)/Ve,dt>1?(q=k.x,le=k.y):dt>0&&(q+=Ee*dt,le+=Me*dt)),Ee=h.x-q,Me=h.y-le,M?Ee*Ee+Me*Me:new z(q,le)}function ai(h){return!w(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Ol(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ai(h)}function Bc(h,p){var k,M,q,le,Ee,Me,Ve,dt;if(!h||h.length===0)throw new Error("latlngs not passed");ai(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var It=ie([0,0]),Jt=W(h),Er=Jt.getNorthWest().distanceTo(Jt.getSouthWest())*Jt.getNorthEast().distanceTo(Jt.getNorthWest());Er<1700&&(It=Vt(h));var Bi=h.length,Ts=[];for(k=0;k<Bi;k++){var $a=ie(h[k]);Ts.push(p.project(ie([$a.lat-It.lat,$a.lng-It.lng])))}for(k=0,M=0;k<Bi-1;k++)M+=Ts[k].distanceTo(Ts[k+1])/2;if(M===0)dt=Ts[0];else for(k=0,le=0;k<Bi-1;k++)if(Ee=Ts[k],Me=Ts[k+1],q=Ee.distanceTo(Me),le+=q,le>M){Ve=(le-M)/q,dt=[Me.x-Ve*(Me.x-Ee.x),Me.y-Ve*(Me.y-Ee.y)];break}var Wi=p.unproject(ee(dt));return ie([Wi.lat+It.lat,Wi.lng+It.lng])}var jd={__proto__:null,simplify:mr,pointToSegmentDistance:Ur,closestPointOnSegment:Hn,clipSegment:zs,_getEdgeIntersection:Ua,_getBitCode:ii,_sqClosestPointOnSegment:Tl,isFlat:ai,_flat:Ol,polylineCenter:Bc},Mo={project:function(h){return new z(h.lng,h.lat)},unproject:function(h){return new ae(h.y,h.x)},bounds:new Z([-180,-90],[180,90])},Is={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var p=Math.PI/180,k=this.R,M=h.lat*p,q=this.R_MINOR/k,le=Math.sqrt(1-q*q),Ee=le*Math.sin(M),Me=Math.tan(Math.PI/4-M/2)/Math.pow((1-Ee)/(1+Ee),le/2);return M=-k*Math.log(Math.max(Me,1e-10)),new z(h.lng*p*k,M)},unproject:function(h){for(var p=180/Math.PI,k=this.R,M=this.R_MINOR/k,q=Math.sqrt(1-M*M),le=Math.exp(-h.y/k),Ee=Math.PI/2-2*Math.atan(le),Me=0,Ve=.1,dt;Me<15&&Math.abs(Ve)>1e-7;Me++)dt=q*Math.sin(Ee),dt=Math.pow((1-dt)/(1+dt),q/2),Ve=Math.PI/2-2*Math.atan(le*dt)-Ee,Ee+=Ve;return new ae(Ee*p,h.x*p/k)}},Nd={__proto__:null,LonLat:Mo,Mercator:Is,SphericalMercator:ge},_d=i({},be,{code:"EPSG:3395",projection:Is,transformation:function(){var h=.5/(Math.PI*Is.R);return re(h,.5,-h,.5)}()}),Ru=i({},be,{code:"EPSG:4326",projection:Mo,transformation:re(1/180,1,-1/180,.5)}),jA=i({},ce,{projection:Mo,transformation:re(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,p){var k=p.lng-h.lng,M=p.lat-h.lat;return Math.sqrt(k*k+M*M)},infinite:!0});ce.Earth=be,ce.EPSG3395=_d,ce.EPSG3857=_e,ce.EPSG900913=ue,ce.EPSG4326=Ru,ce.Simple=jA;var Bn=H.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var p=h.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var k=this.getEvents();p.on(k,this),this.once("remove",function(){p.off(k,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});Nr.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var p=c(h);return this._layers[p]?this:(this._layers[p]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var p=c(h);return this._layers[p]?(this._loaded&&h.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,p){for(var k in this._layers)h.call(p,this._layers[k]);return this},_addLayers:function(h){h=h?w(h)?h:[h]:[];for(var p=0,k=h.length;p<k;p++)this.addLayer(h[p])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var p=c(h);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,p=-1/0,k=this._getZoomSpan();for(var M in this._zoomBoundLayers){var q=this._zoomBoundLayers[M].options;h=q.minZoom===void 0?h:Math.min(h,q.minZoom),p=q.maxZoom===void 0?p:Math.max(p,q.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=h===1/0?void 0:h,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hi=Bn.extend({initialize:function(h,p){g(this,p),this._layers={};var k,M;if(h)for(k=0,M=h.length;k<M;k++)this.addLayer(h[k])},addLayer:function(h){var p=this.getLayerId(h);return this._layers[p]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var p=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(h){var p=typeof h=="number"?h:this.getLayerId(h);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var p=Array.prototype.slice.call(arguments,1),k,M;for(k in this._layers)M=this._layers[k],M[h]&&M[h].apply(M,p);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,p){for(var k in this._layers)h.call(p,this._layers[k]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),Du=function(h,p){return new Hi(h,p)},Ra=Hi.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Hi.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Hi.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new X;for(var p in this._layers){var k=this._layers[p];h.extend(k.getBounds?k.getBounds():k.getLatLng())}return h}}),Da=function(h,p){return new Ra(h,p)},Ma=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){g(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,p){var k=this._getIconUrl(h);if(!k){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(k,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(M,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(h,p){var k=this.options,M=k[p+"Size"];typeof M=="number"&&(M=[M,M]);var q=ee(M),le=ee(p==="shadow"&&k.shadowAnchor||k.iconAnchor||q&&q.divideBy(2,!0));h.className="leaflet-marker-"+p+" "+(k.className||""),le&&(h.style.marginLeft=-le.x+"px",h.style.marginTop=-le.y+"px"),q&&(h.style.width=q.x+"px",h.style.height=q.y+"px")},_createImg:function(h,p){return p=p||document.createElement("img"),p.src=h,p},_getIconUrl:function(h){return Bt.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function NA(h){return new Ma(h)}var Ll=Ma.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Ll.imagePath!="string"&&(Ll.imagePath=this._detectIconPath()),(this.options.imagePath||Ll.imagePath)+Ma.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var p=function(k,M,q){var le=M.exec(k);return le&&le[q]};return h=p(h,/^url\((['"])?(.+)\1\)$/,2),h&&p(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=yr("div","leaflet-default-icon-path",document.body),p=Fo(h,"background-image")||Fo(h,"backgroundImage");if(document.body.removeChild(h),p=this._stripUrl(p),p)return p;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),Fl=ve.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new qe(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ur(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ln(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var p=this._marker,k=p._map,M=this._marker.options.autoPanSpeed,q=this._marker.options.autoPanPadding,le=Uo(p._icon),Ee=k.getPixelBounds(),Me=k.getPixelOrigin(),Ve=V(Ee.min._subtract(Me).add(q),Ee.max._subtract(Me).subtract(q));if(!Ve.contains(le)){var dt=ee((Math.max(Ve.max.x,le.x)-Ve.max.x)/(Ee.max.x-Ve.max.x)-(Math.min(Ve.min.x,le.x)-Ve.min.x)/(Ee.min.x-Ve.min.x),(Math.max(Ve.max.y,le.y)-Ve.max.y)/(Ee.max.y-Ve.max.y)-(Math.min(Ve.min.y,le.y)-Ve.min.y)/(Ee.min.y-Ve.min.y)).multiplyBy(M);k.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),Xr(p._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=B(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,h)))},_onDrag:function(h){var p=this._marker,k=p._shadow,M=Uo(p._icon),q=p._map.layerPointToLatLng(M);k&&Xr(k,M),p._latlng=q,h.latlng=q,h.oldLatLng=this._oldLatLng,p.fire("move",h).fire("drag",h)},_onDragEnd:function(h){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),Qo=Bn.extend({options:{icon:new Ll,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,p){g(this,p),this._latlng=ie(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var p=this._latlng;return this._latlng=ie(h),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=h.icon.createIcon(this._icon),M=!1;k!==this._icon&&(this._icon&&this._removeIcon(),M=!0,h.title&&(k.title=h.title),k.tagName==="IMG"&&(k.alt=h.alt||"")),ur(k,p),h.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_t(k,"focus",this._panOnFocus,this);var q=h.icon.createShadow(this._shadow),le=!1;q!==this._shadow&&(this._removeShadow(),le=!0),q&&(ur(q,p),q.alt=""),this._shadow=q,h.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),q&&le&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nn(this._icon,"focus",this._panOnFocus,this),rn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rn(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Xr(this._icon,h),this._shadow&&Xr(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var p=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(ur(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fl)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fl(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&vs(this._icon,h),this._shadow&&vs(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var p=this.options.icon.options,k=p.iconSize?ee(p.iconSize):ee(0,0),M=p.iconAnchor?ee(p.iconAnchor):ee(0,0);h.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:k.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Aa(h,p){return new Qo(h,p)}var ws=Bn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return g(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),oo=ws.extend({options:{fill:!0,radius:10},initialize:function(h,p){g(this,p),this._latlng=ie(h),this._radius=this.options.radius},setLatLng:function(h){var p=this._latlng;return this._latlng=ie(h),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var p=h&&h.radius||this._radius;return ws.prototype.setStyle.call(this,h),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,p=this._radiusY||h,k=this._clickTolerance(),M=[h+k,p+k];this._pxBounds=new Z(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ul(h,p){return new oo(h,p)}var $o=oo.extend({initialize:function(h,p,k){if(typeof p=="number"&&(p=i({},k,{radius:p})),g(this,p),this._latlng=ie(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:ws.prototype.setStyle,_project:function(){var h=this._latlng.lng,p=this._latlng.lat,k=this._map,M=k.options.crs;if(M.distance===be.distance){var q=Math.PI/180,le=this._mRadius/be.R/q,Ee=k.project([p+le,h]),Me=k.project([p-le,h]),Ve=Ee.add(Me).divideBy(2),dt=k.unproject(Ve).lat,It=Math.acos((Math.cos(le*q)-Math.sin(p*q)*Math.sin(dt*q))/(Math.cos(p*q)*Math.cos(dt*q)))/q;(isNaN(It)||It===0)&&(It=le/Math.cos(Math.PI/180*p)),this._point=Ve.subtract(k.getPixelOrigin()),this._radius=isNaN(It)?0:Ve.x-k.project([dt,h-It]).x,this._radiusY=Ve.y-Ee.y}else{var Jt=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(Jt).x}this._updateBounds()}});function _A(h,p,k){return new $o(h,p,k)}var Vi=ws.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,p){g(this,p),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var p=1/0,k=null,M=Tl,q,le,Ee=0,Me=this._parts.length;Ee<Me;Ee++)for(var Ve=this._parts[Ee],dt=1,It=Ve.length;dt<It;dt++){q=Ve[dt-1],le=Ve[dt];var Jt=M(h,q,le,!0);Jt<p&&(p=Jt,k=M(h,q,le))}return k&&(k.distance=Math.sqrt(p)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,p){return p=p||this._defaultShape(),h=ie(h),p.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new X,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return ai(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var p=[],k=ai(h),M=0,q=h.length;M<q;M++)k?(p[M]=ie(h[M]),this._bounds.extend(p[M])):p[M]=this._convertLatLngs(h[M]);return p},_project:function(){var h=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),p=new z(h,h);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(h,p,k){var M=h[0]instanceof ae,q=h.length,le,Ee;if(M){for(Ee=[],le=0;le<q;le++)Ee[le]=this._map.latLngToLayerPoint(h[le]),k.extend(Ee[le]);p.push(Ee)}else for(le=0;le<q;le++)this._projectLatlngs(h[le],p,k)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,k,M,q,le,Ee,Me,Ve;for(k=0,q=0,le=this._rings.length;k<le;k++)for(Ve=this._rings[k],M=0,Ee=Ve.length;M<Ee-1;M++)Me=zs(Ve[M],Ve[M+1],h,M,!0),Me&&(p[q]=p[q]||[],p[q].push(Me[0]),(Me[1]!==Ve[M+1]||M===Ee-2)&&(p[q].push(Me[1]),q++))}},_simplifyPoints:function(){for(var h=this._parts,p=this.options.smoothFactor,k=0,M=h.length;k<M;k++)h[k]=mr(h[k],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,p){var k,M,q,le,Ee,Me,Ve=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(k=0,le=this._parts.length;k<le;k++)for(Me=this._parts[k],M=0,Ee=Me.length,q=Ee-1;M<Ee;q=M++)if(!(!p&&M===0)&&Ur(h,Me[q],Me[M])<=Ve)return!0;return!1}});function ds(h,p){return new Vi(h,p)}Vi._flat=Ol;var Rl=Vi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var p=Vi.prototype._convertLatLngs.call(this,h),k=p.length;return k>=2&&p[0]instanceof ae&&p[0].equals(p[k-1])&&p.pop(),p},_setLatLngs:function(h){Vi.prototype._setLatLngs.call(this,h),ai(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ai(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,p=this.options.weight,k=new z(p,p);if(h=new Z(h.min.subtract(k),h.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,q=this._rings.length,le;M<q;M++)le=ct(this._rings[M],h,!0),le.length&&this._parts.push(le)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var p=!1,k,M,q,le,Ee,Me,Ve,dt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(le=0,Ve=this._parts.length;le<Ve;le++)for(k=this._parts[le],Ee=0,dt=k.length,Me=dt-1;Ee<dt;Me=Ee++)M=k[Ee],q=k[Me],M.y>h.y!=q.y>h.y&&h.x<(q.x-M.x)*(h.y-M.y)/(q.y-M.y)+M.x&&(p=!p);return p||Vi.prototype._containsPoint.call(this,h,!0)}});function Ho(h,p){return new Rl(h,p)}var Ks=Ra.extend({initialize:function(h,p){g(this,p),this._layers={},h&&this.addData(h)},addData:function(h){var p=w(h)?h:h.features,k,M,q;if(p){for(k=0,M=p.length;k<M;k++)q=p[k],(q.geometries||q.geometry||q.features||q.coordinates)&&this.addData(q);return this}var le=this.options;if(le.filter&&!le.filter(h))return this;var Ee=Ec(h,le);return Ee?(Ee.feature=zo(h),Ee.defaultOptions=Ee.options,this.resetStyle(Ee),le.onEachFeature&&le.onEachFeature(h,Ee),this.addLayer(Ee)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(p){this._setLayerStyle(p,h)},this)},_setLayerStyle:function(h,p){h.setStyle&&(typeof p=="function"&&(p=p(h.feature)),h.setStyle(p))}});function Ec(h,p){var k=h.type==="Feature"?h.geometry:h,M=k?k.coordinates:null,q=[],le=p&&p.pointToLayer,Ee=p&&p.coordsToLatLng||Cd,Me,Ve,dt,It;if(!M&&!k)return null;switch(k.type){case"Point":return Me=Ee(M),Mu(le,h,Me,p);case"MultiPoint":for(dt=0,It=M.length;dt<It;dt++)Me=Ee(M[dt]),q.push(Mu(le,h,Me,p));return new Ra(q);case"LineString":case"MultiLineString":return Ve=kc(M,k.type==="LineString"?0:1,Ee),new Vi(Ve,p);case"Polygon":case"MultiPolygon":return Ve=kc(M,k.type==="Polygon"?1:2,Ee),new Rl(Ve,p);case"GeometryCollection":for(dt=0,It=k.geometries.length;dt<It;dt++){var Jt=Ec({geometry:k.geometries[dt],type:"Feature",properties:h.properties},p);Jt&&q.push(Jt)}return new Ra(q);case"FeatureCollection":for(dt=0,It=k.features.length;dt<It;dt++){var Er=Ec(k.features[dt],p);Er&&q.push(Er)}return new Ra(q);default:throw new Error("Invalid GeoJSON object.")}}function Mu(h,p,k,M){return h?h(p,k):new Qo(k,M&&M.markersInheritOptions&&M)}function Cd(h){return new ae(h[1],h[0],h[2])}function kc(h,p,k){for(var M=[],q=0,le=h.length,Ee;q<le;q++)Ee=p?kc(h[q],p-1,k):(k||Cd)(h[q]),M.push(Ee);return M}function Vo(h,p){return h=ie(h),h.alt!==void 0?[f(h.lng,p),f(h.lat,p),f(h.alt,p)]:[f(h.lng,p),f(h.lat,p)]}function lo(h,p,k,M){for(var q=[],le=0,Ee=h.length;le<Ee;le++)q.push(p?lo(h[le],ai(h[le])?0:p-1,k,M):Vo(h[le],M));return!p&&k&&q.length>0&&q.push(q[0].slice()),q}function fa(h,p){return h.feature?i({},h.feature,{geometry:p}):zo(p)}function zo(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Ko={toGeoJSON:function(h){return fa(this,{type:"Point",coordinates:Vo(this.getLatLng(),h)})}};Qo.include(Ko),$o.include(Ko),oo.include(Ko),Vi.include({toGeoJSON:function(h){var p=!ai(this._latlngs),k=lo(this._latlngs,p?1:0,!1,h);return fa(this,{type:(p?"Multi":"")+"LineString",coordinates:k})}}),Rl.include({toGeoJSON:function(h){var p=!ai(this._latlngs),k=p&&!ai(this._latlngs[0]),M=lo(this._latlngs,k?2:p?1:0,!0,h);return p||(M=[M]),fa(this,{type:(k?"Multi":"")+"Polygon",coordinates:M})}}),Hi.include({toMultiPoint:function(h){var p=[];return this.eachLayer(function(k){p.push(k.toGeoJSON(h).geometry.coordinates)}),fa(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(h){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(h);var k=p==="GeometryCollection",M=[];return this.eachLayer(function(q){if(q.toGeoJSON){var le=q.toGeoJSON(h);if(k)M.push(le.geometry);else{var Ee=zo(le);Ee.type==="FeatureCollection"?M.push.apply(M,Ee.features):M.push(Ee)}}}),k?fa(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function Pc(h,p){return new Ks(h,p)}var Qa=Pc,ma=Bn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,p,k){this._url=h,this._bounds=W(p),g(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ur(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Sn(this._image),this},bringToBack:function(){return this._map&&jl(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=W(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",p=this._image=h?this._url:yr("img");if(ur(p,"leaflet-image-layer"),this._zoomAnimated&&ur(p,"leaflet-zoom-animated"),this.options.className&&ur(p,this.options.className),p.onselectstart=A,p.onmousemove=A,p.onload=o(this.fire,this,"load"),p.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(h){var p=this._map.getZoomScale(h.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;Nl(this._image,k,p)},_reset:function(){var h=this._image,p=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=p.getSize();Xr(h,p.min),h.style.width=k.x+"px",h.style.height=k.y+"px"},_updateOpacity:function(){vs(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Gr=function(h,p,k){return new ma(h,p,k)},an=ma.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",p=this._image=h?this._url:yr("video");if(ur(p,"leaflet-image-layer"),this._zoomAnimated&&ur(p,"leaflet-zoom-animated"),this.options.className&&ur(p,this.options.className),p.onselectstart=A,p.onmousemove=A,p.onloadeddata=o(this.fire,this,"load"),h){for(var k=p.getElementsByTagName("source"),M=[],q=0;q<k.length;q++)M.push(k[q].src);this._url=k.length>0?M:[p.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var le=0;le<this._url.length;le++){var Ee=yr("source");Ee.src=this._url[le],p.appendChild(Ee)}}});function us(h,p,k){return new an(h,p,k)}var js=ma.extend({_initImage:function(){var h=this._image=this._url;ur(h,"leaflet-image-layer"),this._zoomAnimated&&ur(h,"leaflet-zoom-animated"),this.options.className&&ur(h,this.options.className),h.onselectstart=A,h.onmousemove=A}});function Dl(h,p,k){return new js(h,p,k)}var zi=Bn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,p){h&&(h instanceof ae||w(h))?(this._latlng=ie(h),g(this,p)):(g(this,h),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&vs(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&vs(this._container,1),this.bringToFront(),this.options.interactive&&(ur(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(vs(this._container,0),this._removeTimeout=setTimeout(o(rn,void 0,this._container),200)):rn(this._container),this.options.interactive&&(Ln(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=ie(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Sn(this._container),this},bringToBack:function(){return this._map&&jl(this._container),this},_prepareOpen:function(h){var p=this._source;if(!p._map)return!1;if(p instanceof Ra){p=null;var k=this._source._layers;for(var M in k)if(k[M]._map){p=k[M];break}if(!p)return!1;this._source=p}if(!h)if(p.getCenter)h=p.getCenter();else if(p.getLatLng)h=p.getLatLng();else if(p.getBounds)h=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")h.innerHTML=p;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),p=ee(this.options.offset),k=this._getAnchor();this._zoomAnimated?Xr(this._container,h.add(k)):p=p.add(h).add(k);var M=this._containerBottom=-p.y,q=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=M+"px",this._container.style.left=q+"px"}},_getAnchor:function(){return[0,0]}});Nr.include({_initOverlay:function(h,p,k,M){var q=p;return q instanceof h||(q=new h(M).setContent(p)),k&&q.setLatLng(k),q}}),Bn.include({_initOverlay:function(h,p,k,M){var q=k;return q instanceof h?(g(q,M),q._source=this):(q=p&&!M?p:new h(M,this),q.setContent(k)),q}});var Ml=zi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,zi.prototype.openOn.call(this,h)},onAdd:function(h){zi.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ws||this._source.on("preclick",Cl))},onRemove:function(h){zi.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ws||this._source.off("preclick",Cl))},getEvents:function(){var h=zi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",p=this._container=yr("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=yr("div",h+"-content-wrapper",p);if(this._contentNode=yr("div",h+"-content",k),Sl(p),Sc(this._contentNode),_t(p,"contextmenu",Cl),this._tipContainer=yr("div",h+"-tip-container",p),this._tip=yr("div",h+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=yr("a",h+"-close-button",p);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',_t(M,"click",function(q){$n(q),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,p=h.style;p.width="",p.whiteSpace="nowrap";var k=h.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),p.width=k+1+"px",p.whiteSpace="",p.height="";var M=h.offsetHeight,q=this.options.maxHeight,le="leaflet-popup-scrolled";q&&M>q?(p.height=q+"px",ur(h,le)):Ln(h,le),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var p=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),k=this._getAnchor();Xr(this._container,p.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,p=parseInt(Fo(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+p,M=this._containerWidth,q=new z(this._containerLeft,-k-this._containerBottom);q._add(Uo(this._container));var le=h.layerPointToContainerPoint(q),Ee=ee(this.options.autoPanPadding),Me=ee(this.options.autoPanPaddingTopLeft||Ee),Ve=ee(this.options.autoPanPaddingBottomRight||Ee),dt=h.getSize(),It=0,Jt=0;le.x+M+Ve.x>dt.x&&(It=le.x+M-dt.x+Ve.x),le.x-It-Me.x<0&&(It=le.x-Me.x),le.y+k+Ve.y>dt.y&&(Jt=le.y+k-dt.y+Ve.y),le.y-Jt-Me.y<0&&(Jt=le.y-Me.y),(It||Jt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([It,Jt]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ym=function(h,p){return new Ml(h,p)};Nr.mergeOptions({closePopupOnClick:!0}),Nr.include({openPopup:function(h,p,k){return this._initOverlay(Ml,h,p,k).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Bn.include({bindPopup:function(h,p){return this._popup=this._initOverlay(Ml,this._popup,h,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Ra||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){Bl(h);var p=h.layer||h.target;if(this._popup._source===p&&!(p instanceof ws)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=p,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var CA=zi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){zi.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){zi.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=zi.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",p=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=yr("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var p,k,M=this._map,q=this._container,le=M.latLngToContainerPoint(M.getCenter()),Ee=M.layerPointToContainerPoint(h),Me=this.options.direction,Ve=q.offsetWidth,dt=q.offsetHeight,It=ee(this.options.offset),Jt=this._getAnchor();Me==="top"?(p=Ve/2,k=dt):Me==="bottom"?(p=Ve/2,k=0):Me==="center"?(p=Ve/2,k=dt/2):Me==="right"?(p=0,k=dt/2):Me==="left"?(p=Ve,k=dt/2):Ee.x<le.x?(Me="right",p=0,k=dt/2):(Me="left",p=Ve+(It.x+Jt.x)*2,k=dt/2),h=h.subtract(ee(p,k,!0)).add(It).add(Jt),Ln(q,"leaflet-tooltip-right"),Ln(q,"leaflet-tooltip-left"),Ln(q,"leaflet-tooltip-top"),Ln(q,"leaflet-tooltip-bottom"),ur(q,"leaflet-tooltip-"+Me),Xr(q,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&vs(this._container,h)},_animateZoom:function(h){var p=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(p)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),nb=function(h,p){return new CA(h,p)};Nr.include({openTooltip:function(h,p,k){return this._initOverlay(CA,h,p,k).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Bn.include({bindTooltip:function(h,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(CA,this._tooltip,h,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var p=h?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[p](k),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Ra||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var p=typeof h.getElement=="function"&&h.getElement();p&&(_t(p,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),_t(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var p=typeof h.getElement=="function"&&h.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var p=h.latlng,k,M;this._tooltip.options.sticky&&h.originalEvent&&(k=this._map.mouseEventToContainerPoint(h.originalEvent),M=this._map.containerPointToLayerPoint(k),p=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(p)}});var h0=Ma.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var p=h&&h.tagName==="DIV"?h:document.createElement("div"),k=this.options;if(k.html instanceof Element?(Pu(p),p.appendChild(k.html)):p.innerHTML=k.html!==!1?k.html:"",k.bgPos){var M=ee(k.bgPos);p.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function sb(h){return new h0(h)}Ma.Default=Ll;var Qu=Bn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Bt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){g(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),rn(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Sn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(jl(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof z?h:new z(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var p=this.getPane().children,k=-h(-1/0,1/0),M=0,q=p.length,le;M<q;M++)le=p[M].style.zIndex,p[M]!==this._container&&le&&(k=h(k,+le));isFinite(k)&&(this.options.zIndex=k+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Bt.ielt9){vs(this._container,this.options.opacity);var h=+new Date,p=!1,k=!1;for(var M in this._tiles){var q=this._tiles[M];if(!(!q.current||!q.loaded)){var le=Math.min(1,(h-q.loaded)/200);vs(q.el,le),le<1?p=!0:(q.active?k=!0:this._onOpaqueTile(q),q.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),p&&(O(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=yr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,p=this.options.maxZoom;if(h!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===h?(this._levels[k].el.style.zIndex=p-Math.abs(h-k),this._onUpdateLevel(k)):(rn(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var M=this._levels[h],q=this._map;return M||(M=this._levels[h]={},M.el=yr("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=p,M.origin=q.project(q.unproject(q.getPixelOrigin()),h).round(),M.zoom=h,this._setZoomTransform(M,q.getCenter(),q.getZoom()),A(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var h,p,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)p=this._tiles[h],p.retain=p.current;for(h in this._tiles)if(p=this._tiles[h],p.current&&!p.active){var M=p.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var p in this._tiles)this._tiles[p].coords.z===h&&this._removeTile(p)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)rn(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,p,k,M){var q=Math.floor(h/2),le=Math.floor(p/2),Ee=k-1,Me=new z(+q,+le);Me.z=+Ee;var Ve=this._tileCoordsToKey(Me),dt=this._tiles[Ve];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),Ee>M?this._retainParent(q,le,Ee,M):!1)},_retainChildren:function(h,p,k,M){for(var q=2*h;q<2*h+2;q++)for(var le=2*p;le<2*p+2;le++){var Ee=new z(q,le);Ee.z=k+1;var Me=this._tileCoordsToKey(Ee),Ve=this._tiles[Me];if(Ve&&Ve.active){Ve.retain=!0;continue}else Ve&&Ve.loaded&&(Ve.retain=!0);k+1<M&&this._retainChildren(q,le,k+1,M)}},_resetView:function(h){var p=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var p=this.options;return p.minNativeZoom!==void 0&&h<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<h?p.maxNativeZoom:h},_setView:function(h,p,k,M){var q=Math.round(p);this.options.maxZoom!==void 0&&q>this.options.maxZoom||this.options.minZoom!==void 0&&q<this.options.minZoom?q=void 0:q=this._clampZoom(q);var le=this.options.updateWhenZooming&&q!==this._tileZoom;(!M||le)&&(this._tileZoom=q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),q!==void 0&&this._update(h),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(h,p)},_setZoomTransforms:function(h,p){for(var k in this._levels)this._setZoomTransform(this._levels[k],h,p)},_setZoomTransform:function(h,p,k){var M=this._map.getZoomScale(k,h.zoom),q=h.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(p,k)).round();Bt.any3d?Nl(h.el,q,M):Xr(h.el,q)},_resetGrid:function(){var h=this._map,p=h.options.crs,k=this._tileSize=this.getTileSize(),M=this._tileZoom,q=this._map.getPixelWorldBounds(this._tileZoom);q&&(this._globalTileRange=this._pxBoundsToTileRange(q)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,p.wrapLng[0]],M).x/k.x),Math.ceil(h.project([0,p.wrapLng[1]],M).x/k.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([p.wrapLat[0],0],M).y/k.x),Math.ceil(h.project([p.wrapLat[1],0],M).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var p=this._map,k=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),M=p.getZoomScale(k,this._tileZoom),q=p.project(h,this._tileZoom).floor(),le=p.getSize().divideBy(M*2);return new Z(q.subtract(le),q.add(le))},_update:function(h){var p=this._map;if(p){var k=this._clampZoom(p.getZoom());if(h===void 0&&(h=p.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(h),q=this._pxBoundsToTileRange(M),le=q.getCenter(),Ee=[],Me=this.options.keepBuffer,Ve=new Z(q.getBottomLeft().subtract([Me,-Me]),q.getTopRight().add([Me,-Me]));if(!(isFinite(q.min.x)&&isFinite(q.min.y)&&isFinite(q.max.x)&&isFinite(q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var It=this._tiles[dt].coords;(It.z!==this._tileZoom||!Ve.contains(new z(It.x,It.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(h,k);return}for(var Jt=q.min.y;Jt<=q.max.y;Jt++)for(var Er=q.min.x;Er<=q.max.x;Er++){var Bi=new z(Er,Jt);if(Bi.z=this._tileZoom,!!this._isValidTile(Bi)){var Ts=this._tiles[this._tileCoordsToKey(Bi)];Ts?Ts.current=!0:Ee.push(Bi)}}if(Ee.sort(function(Wi,Vu){return Wi.distanceTo(le)-Vu.distanceTo(le)}),Ee.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $a=document.createDocumentFragment();for(Er=0;Er<Ee.length;Er++)this._addTile(Ee[Er],$a);this._level.el.appendChild($a)}}}},_isValidTile:function(h){var p=this._map.options.crs;if(!p.infinite){var k=this._globalTileRange;if(!p.wrapLng&&(h.x<k.min.x||h.x>k.max.x)||!p.wrapLat&&(h.y<k.min.y||h.y>k.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(h);return W(this.options.bounds).overlaps(M)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var p=this._map,k=this.getTileSize(),M=h.scaleBy(k),q=M.add(k),le=p.unproject(M,h.z),Ee=p.unproject(q,h.z);return[le,Ee]},_tileCoordsToBounds:function(h){var p=this._tileCoordsToNwSe(h),k=new X(p[0],p[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var p=h.split(":"),k=new z(+p[0],+p[1]);return k.z=+p[2],k},_removeTile:function(h){var p=this._tiles[h];p&&(rn(p.el),delete this._tiles[h],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){ur(h,"leaflet-tile");var p=this.getTileSize();h.style.width=p.x+"px",h.style.height=p.y+"px",h.onselectstart=A,h.onmousemove=A,Bt.ielt9&&this.options.opacity<1&&vs(h,this.options.opacity)},_addTile:function(h,p){var k=this._getTilePos(h),M=this._tileCoordsToKey(h),q=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(q),this.createTile.length<2&&B(o(this._tileReady,this,h,null,q)),Xr(q,k),this._tiles[M]={el:q,coords:h,current:!0},p.appendChild(q),this.fire("tileloadstart",{tile:q,coords:h})},_tileReady:function(h,p,k){p&&this.fire("tileerror",{error:p,tile:k,coords:h});var M=this._tileCoordsToKey(h);k=this._tiles[M],k&&(k.loaded=+new Date,this._map._fadeAnimated?(vs(k.el,0),O(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),p||(ur(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Bt.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var p=new z(this._wrapX?u(h.x,this._wrapX):h.x,this._wrapY?u(h.y,this._wrapY):h.y);return p.z=h.z,p},_pxBoundsToTileRange:function(h){var p=this.getTileSize();return new Z(h.min.unscaleBy(p).floor(),h.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function ib(h){return new Qu(h)}var Wo=Qu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,p){this._url=h,p=g(this,p),p.detectRetina&&Bt.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,p){return this._url===h&&p===void 0&&(p=!0),this._url=h,p||this.redraw(),this},createTile:function(h,p){var k=document.createElement("img");return _t(k,"load",o(this._tileOnLoad,this,p,k)),_t(k,"error",o(this._tileOnError,this,p,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(h),k},getTileUrl:function(h){var p={r:Bt.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-h.y;this.options.tms&&(p.y=k),p["-y"]=k}return b(this._url,i(p,this.options))},_tileOnLoad:function(h,p){Bt.ielt9?setTimeout(o(h,this,null,p),0):h(null,p)},_tileOnError:function(h,p,k){var M=this.options.errorTileUrl;M&&p.getAttribute("src")!==M&&(p.src=M),h(k,p)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,p=this.options.maxZoom,k=this.options.zoomReverse,M=this.options.zoomOffset;return k&&(h=p-h),h+M},_getSubdomain:function(h){var p=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var h,p;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(p=this._tiles[h].el,p.onload=A,p.onerror=A,!p.complete)){p.src=N;var k=this._tiles[h].coords;rn(p),delete this._tiles[h],this.fire("tileabort",{tile:p,coords:k})}},_removeTile:function(h){var p=this._tiles[h];if(p)return p.el.setAttribute("src",N),Qu.prototype._removeTile.call(this,h)},_tileReady:function(h,p,k){if(!(!this._map||k&&k.getAttribute("src")===N))return Qu.prototype._tileReady.call(this,h,p,k)}});function A0(h,p){return new Wo(h,p)}var f0=Wo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,p){this._url=h;var k=i({},this.defaultWmsParams);for(var M in p)M in this.options||(k[M]=p[M]);p=g(this,p);var q=p.detectRetina&&Bt.retina?2:1,le=this.getTileSize();k.width=le.x*q,k.height=le.y*q,this.wmsParams=k},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Wo.prototype.onAdd.call(this,h)},getTileUrl:function(h){var p=this._tileCoordsToNwSe(h),k=this._crs,M=V(k.project(p[0]),k.project(p[1])),q=M.min,le=M.max,Ee=(this._wmsVersion>=1.3&&this._crs===Ru?[q.y,q.x,le.y,le.x]:[q.x,q.y,le.x,le.y]).join(","),Me=Wo.prototype.getTileUrl.call(this,h);return Me+v(this.wmsParams,Me,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ee},setParams:function(h,p){return i(this.wmsParams,h),p||this.redraw(),this}});function ab(h,p){return new f0(h,p)}Wo.WMS=f0,A0.wms=ab;var Go=Bn.extend({options:{padding:.1},initialize:function(h){g(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ur(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,p){var k=this._map.getZoomScale(p,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),q=this._map.project(this._center,p),le=M.multiplyBy(-k).add(q).subtract(this._map._getNewPixelOrigin(h,p));Bt.any3d?Nl(this._container,le,k):Xr(this._container,le)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,p=this._map.getSize(),k=this._map.containerPointToLayerPoint(p.multiplyBy(-h)).round();this._bounds=new Z(k,k.add(p.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),m0=Go.extend({options:{tolerance:0},getEvents:function(){var h=Go.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Go.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");_t(h,"mousemove",this._onMouseMove,this),_t(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_t(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,rn(this._container),nn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var p in this._layers)h=this._layers[p],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Go.prototype._update.call(this);var h=this._bounds,p=this._container,k=h.getSize(),M=Bt.retina?2:1;Xr(p,h.min),p.width=M*k.x,p.height=M*k.y,p.style.width=k.x+"px",p.style.height=k.y+"px",Bt.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Go.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var p=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var p=h._order,k=p.next,M=p.prev;k?k.prev=M:this._drawLast=M,M?M.next=k:this._drawFirst=k,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var p=h.options.dashArray.split(/[, ]+/),k=[],M,q;for(q=0;q<p.length;q++){if(M=Number(p[q]),isNaN(M))return;k.push(M)}h.options._dashArray=k}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var p=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(h._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(h._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var p=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,p=this._redrawBounds;if(this._ctx.save(),p){var k=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)h=M.layer,(!p||h._pxBounds&&h._pxBounds.intersects(p))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,p){if(this._drawing){var k,M,q,le,Ee=h._parts,Me=Ee.length,Ve=this._ctx;if(Me){for(Ve.beginPath(),k=0;k<Me;k++){for(M=0,q=Ee[k].length;M<q;M++)le=Ee[k][M],Ve[M?"lineTo":"moveTo"](le.x,le.y);p&&Ve.closePath()}this._fillStroke(Ve,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var p=h._point,k=this._ctx,M=Math.max(Math.round(h._radius),1),q=(Math.max(Math.round(h._radiusY),1)||M)/M;q!==1&&(k.save(),k.scale(1,q)),k.beginPath(),k.arc(p.x,p.y/q,M,0,Math.PI*2,!1),q!==1&&k.restore(),this._fillStroke(k,h)}},_fillStroke:function(h,p){var k=p.options;k.fill&&(h.globalAlpha=k.fillOpacity,h.fillStyle=k.fillColor||k.color,h.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(h.setLineDash&&h.setLineDash(p.options&&p.options._dashArray||[]),h.globalAlpha=k.opacity,h.lineWidth=k.weight,h.strokeStyle=k.color,h.lineCap=k.lineCap,h.lineJoin=k.lineJoin,h.stroke())},_onClick:function(h){for(var p=this._map.mouseEventToLayerPoint(h),k,M,q=this._drawFirst;q;q=q.next)k=q.layer,k.options.interactive&&k._containsPoint(p)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(k))&&(M=k);this._fireEvent(M?[M]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,p)}},_handleMouseOut:function(h){var p=this._hoveredLayer;p&&(Ln(this._container,"leaflet-interactive"),this._fireEvent([p],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,p){if(!this._mouseHoverThrottled){for(var k,M,q=this._drawFirst;q;q=q.next)k=q.layer,k.options.interactive&&k._containsPoint(p)&&(M=k);M!==this._hoveredLayer&&(this._handleMouseOut(h),M&&(ur(this._container,"leaflet-interactive"),this._fireEvent([M],h,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,p,k){this._map._fireDOMEvent(p,k||p.type,h)},_bringToFront:function(h){var p=h._order;if(p){var k=p.next,M=p.prev;if(k)k.prev=M;else return;M?M.next=k:k&&(this._drawFirst=k),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(h)}},_bringToBack:function(h){var p=h._order;if(p){var k=p.next,M=p.prev;if(M)M.next=k;else return;k?k.prev=M:M&&(this._drawLast=M),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(h)}}});function p0(h){return Bt.canvas?new m0(h):null}var $u=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ob={_initContainer:function(){this._container=yr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Go.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var p=h._container=$u("shape");ur(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",h._path=$u("path"),p.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var p=h._container;this._container.appendChild(p),h.options.interactive&&h.addInteractiveTarget(p)},_removePath:function(h){var p=h._container;rn(p),h.removeInteractiveTarget(p),delete this._layers[c(h)]},_updateStyle:function(h){var p=h._stroke,k=h._fill,M=h.options,q=h._container;q.stroked=!!M.stroke,q.filled=!!M.fill,M.stroke?(p||(p=h._stroke=$u("stroke")),q.appendChild(p),p.weight=M.weight+"px",p.color=M.color,p.opacity=M.opacity,M.dashArray?p.dashStyle=w(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=M.lineCap.replace("butt","flat"),p.joinstyle=M.lineJoin):p&&(q.removeChild(p),h._stroke=null),M.fill?(k||(k=h._fill=$u("fill")),q.appendChild(k),k.color=M.fillColor||M.color,k.opacity=M.fillOpacity):k&&(q.removeChild(k),h._fill=null)},_updateCircle:function(h){var p=h._point.round(),k=Math.round(h._radius),M=Math.round(h._radiusY||k);this._setPath(h,h._empty()?"M0 0":"AL "+p.x+","+p.y+" "+k+","+M+" 0,"+65535*360)},_setPath:function(h,p){h._path.v=p},_bringToFront:function(h){Sn(h._container)},_bringToBack:function(h){jl(h._container)}},Hu=Bt.vml?$u:J,Ic=Go.extend({_initContainer:function(){this._container=Hu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rn(this._container),nn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Go.prototype._update.call(this);var h=this._bounds,p=h.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,k.setAttribute("width",p.x),k.setAttribute("height",p.y)),Xr(k,h.min),k.setAttribute("viewBox",[h.min.x,h.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(h){var p=h._path=Hu("path");h.options.className&&ur(p,h.options.className),h.options.interactive&&ur(p,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){rn(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var p=h._path,k=h.options;p&&(k.stroke?(p.setAttribute("stroke",k.color),p.setAttribute("stroke-opacity",k.opacity),p.setAttribute("stroke-width",k.weight),p.setAttribute("stroke-linecap",k.lineCap),p.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?p.setAttribute("stroke-dasharray",k.dashArray):p.removeAttribute("stroke-dasharray"),k.dashOffset?p.setAttribute("stroke-dashoffset",k.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),k.fill?(p.setAttribute("fill",k.fillColor||k.color),p.setAttribute("fill-opacity",k.fillOpacity),p.setAttribute("fill-rule",k.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(h,p){this._setPath(h,fe(h._parts,p))},_updateCircle:function(h){var p=h._point,k=Math.max(Math.round(h._radius),1),M=Math.max(Math.round(h._radiusY),1)||k,q="a"+k+","+M+" 0 1,0 ",le=h._empty()?"M0 0":"M"+(p.x-k)+","+p.y+q+k*2+",0 "+q+-k*2+",0 ";this._setPath(h,le)},_setPath:function(h,p){h._path.setAttribute("d",p)},_bringToFront:function(h){Sn(h._path)},_bringToBack:function(h){jl(h._path)}});Bt.vml&&Ic.include(ob);function Ki(h){return Bt.svg||Bt.vml?new Ic(h):null}Nr.include({getRenderer:function(h){var p=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var p=this._paneRenderers[h];return p===void 0&&(p=this._createRenderer({pane:h}),this._paneRenderers[h]=p),p},_createRenderer:function(h){return this.options.preferCanvas&&p0(h)||Ki(h)}});var pa=Rl.extend({initialize:function(h,p){Rl.prototype.initialize.call(this,this._boundsToLatLngs(h),p)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=W(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function vm(h,p){return new pa(h,p)}Ic.create=Hu,Ic.pointsToPath=fe,Ks.geometryToLayer=Ec,Ks.coordsToLatLng=Cd,Ks.coordsToLatLngs=kc,Ks.latLngToCoords=Vo,Ks.latLngsToCoords=lo,Ks.getFeature=fa,Ks.asFeature=zo,Nr.mergeOptions({boxZoom:!0});var SA=ve.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){_t(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){nn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nc(),pA(),this._startPoint=this._map.mouseEventToContainerPoint(h),_t(document,{contextmenu:Bl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=yr("div","leaflet-zoom-box",this._container),ur(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var p=new Z(this._point,this._startPoint),k=p.getSize();Xr(this._box,p.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(rn(this._box),Ln(this._container,"leaflet-crosshair")),Ro(),gA(),nn(document,{contextmenu:Bl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var p=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Nr.addInitHook("addHandler","boxZoom",SA),Nr.mergeOptions({doubleClickZoom:!0});var g0=ve.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var p=this._map,k=p.getZoom(),M=p.options.zoomDelta,q=h.originalEvent.shiftKey?k-M:k+M;p.options.doubleClickZoom==="center"?p.setZoom(q):p.setZoomAround(h.containerPoint,q)}});Nr.addInitHook("addHandler","doubleClickZoom",g0),Nr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var BA=ve.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new qe(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}ur(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ln(this._map._container,"leaflet-grab"),Ln(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=W(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var p=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(p),this._prunePositions(p)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,p){return h-(h-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;h.x<p.min.x&&(h.x=this._viscousLimit(h.x,p.min.x)),h.y<p.min.y&&(h.y=this._viscousLimit(h.y,p.min.y)),h.x>p.max.x&&(h.x=this._viscousLimit(h.x,p.max.x)),h.y>p.max.y&&(h.y=this._viscousLimit(h.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,p=Math.round(h/2),k=this._initialWorldOffset,M=this._draggable._newPos.x,q=(M-p+k)%h+p-k,le=(M+p+k)%h-p-k,Ee=Math.abs(q+k)<Math.abs(le+k)?q:le;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ee},_onDragEnd:function(h){var p=this._map,k=p.options,M=!k.inertia||h.noInertia||this._times.length<2;if(p.fire("dragend",h),M)p.fire("moveend");else{this._prunePositions(+new Date);var q=this._lastPos.subtract(this._positions[0]),le=(this._lastTime-this._times[0])/1e3,Ee=k.easeLinearity,Me=q.multiplyBy(Ee/le),Ve=Me.distanceTo([0,0]),dt=Math.min(k.inertiaMaxSpeed,Ve),It=Me.multiplyBy(dt/Ve),Jt=dt/(k.inertiaDeceleration*Ee),Er=It.multiplyBy(-Jt/2).round();!Er.x&&!Er.y?p.fire("moveend"):(Er=p._limitOffset(Er,p.options.maxBounds),B(function(){p.panBy(Er,{duration:Jt,easeLinearity:Ee,noMoveStart:!0,animate:!0})}))}}});Nr.addInitHook("addHandler","dragging",BA),Nr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var EA=ve.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),_t(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),nn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,p=document.documentElement,k=h.scrollTop||p.scrollTop,M=h.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(M,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var p=this._panKeys={},k=this.keyCodes,M,q;for(M=0,q=k.left.length;M<q;M++)p[k.left[M]]=[-1*h,0];for(M=0,q=k.right.length;M<q;M++)p[k.right[M]]=[h,0];for(M=0,q=k.down.length;M<q;M++)p[k.down[M]]=[0,h];for(M=0,q=k.up.length;M<q;M++)p[k.up[M]]=[0,-1*h]},_setZoomDelta:function(h){var p=this._zoomKeys={},k=this.keyCodes,M,q;for(M=0,q=k.zoomIn.length;M<q;M++)p[k.zoomIn[M]]=h;for(M=0,q=k.zoomOut.length;M<q;M++)p[k.zoomOut[M]]=-h},_addHooks:function(){_t(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){nn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var p=h.keyCode,k=this._map,M;if(p in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(M=this._panKeys[p],h.shiftKey&&(M=ee(M).multiplyBy(3)),k.options.maxBounds&&(M=k._limitOffset(ee(M),k.options.maxBounds)),k.options.worldCopyJump){var q=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(M)));k.panTo(q)}else k.panBy(M)}else if(p in this._zoomKeys)k.setZoom(k.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;Bl(h)}}});Nr.addInitHook("addHandler","keyboard",EA),Nr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bm=ve.extend({addHooks:function(){_t(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){nn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var p=Lu(h),k=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var M=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),Bl(h)},_performZoom:function(){var h=this._map,p=h.getZoom(),k=this._map.options.zoomSnap||0;h._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),q=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,le=k?Math.ceil(q/k)*k:q,Ee=h._limitZoom(p+(this._delta>0?le:-le))-p;this._delta=0,this._startTime=null,Ee&&(h.options.scrollWheelZoom==="center"?h.setZoom(p+Ee):h.setZoomAround(this._lastMousePos,p+Ee))}});Nr.addInitHook("addHandler","scrollWheelZoom",bm);var lb=600;Nr.mergeOptions({tapHold:Bt.touchNative&&Bt.safari&&Bt.mobile,tapTolerance:15});var wm=ve.extend({addHooks:function(){_t(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){nn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var p=h.touches[0];this._startPos=this._newPos=new z(p.clientX,p.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(_t(document,"touchend",$n),_t(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),lb),_t(document,"touchend touchcancel contextmenu",this._cancel,this),_t(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){nn(document,"touchend",$n),nn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),nn(document,"touchend touchcancel contextmenu",this._cancel,this),nn(document,"touchmove",this._onMove,this)},_onMove:function(h){var p=h.touches[0];this._newPos=new z(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,p){var k=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});k._simulated=!0,p.target.dispatchEvent(k)}});Nr.addInitHook("addHandler","tapHold",wm),Nr.mergeOptions({touchZoom:Bt.touch,bounceAtZoomLimits:!0});var jm=ve.extend({addHooks:function(){ur(this._map._container,"leaflet-touch-zoom"),_t(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ln(this._map._container,"leaflet-touch-zoom"),nn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var p=this._map;if(!(!h.touches||h.touches.length!==2||p._animatingZoom||this._zooming)){var k=p.mouseEventToContainerPoint(h.touches[0]),M=p.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(k.add(M)._divideBy(2))),this._startDist=k.distanceTo(M),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),_t(document,"touchmove",this._onTouchMove,this),_t(document,"touchend touchcancel",this._onTouchEnd,this),$n(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var p=this._map,k=p.mouseEventToContainerPoint(h.touches[0]),M=p.mouseEventToContainerPoint(h.touches[1]),q=k.distanceTo(M)/this._startDist;if(this._zoom=p.getScaleZoom(q,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&q<1||this._zoom>p.getMaxZoom()&&q>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,q===1)return}else{var le=k._add(M)._divideBy(2)._subtract(this._centerPoint);if(q===1&&le.x===0&&le.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(le),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var Ee=o(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(Ee,this,!0),$n(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,O(this._animRequest),nn(document,"touchmove",this._onTouchMove,this),nn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Nr.addInitHook("addHandler","touchZoom",jm),Nr.BoxZoom=SA,Nr.DoubleClickZoom=g0,Nr.Drag=BA,Nr.Keyboard=EA,Nr.ScrollWheelZoom=bm,Nr.TapHold=wm,Nr.TouchZoom=jm,r.Bounds=Z,r.Browser=Bt,r.CRS=ce,r.Canvas=m0,r.Circle=$o,r.CircleMarker=oo,r.Class=U,r.Control=si,r.DivIcon=h0,r.DivOverlay=zi,r.DomEvent=El,r.DomUtil=u0,r.Draggable=qe,r.Evented=H,r.FeatureGroup=Ra,r.GeoJSON=Ks,r.GridLayer=Qu,r.Handler=ve,r.Icon=Ma,r.ImageOverlay=ma,r.LatLng=ae,r.LatLngBounds=X,r.Layer=Bn,r.LayerGroup=Hi,r.LineUtil=jd,r.Map=Nr,r.Marker=Qo,r.Mixin=Pe,r.Path=ws,r.Point=z,r.PolyUtil=lr,r.Polygon=Rl,r.Polyline=Vi,r.Popup=Ml,r.PosAnimation=Uu,r.Projection=Nd,r.Rectangle=pa,r.Renderer=Go,r.SVG=Ic,r.SVGOverlay=js,r.TileLayer=Wo,r.Tooltip=CA,r.Transformation=Se,r.Util=R,r.VideoOverlay=an,r.bind=o,r.bounds=V,r.canvas=p0,r.circle=_A,r.circleMarker=Ul,r.control=kl,r.divIcon=sb,r.extend=i,r.featureGroup=Da,r.geoJSON=Pc,r.geoJson=Qa,r.gridLayer=ib,r.icon=NA,r.imageOverlay=Gr,r.latLng=ie,r.latLngBounds=W,r.layerGroup=Du,r.map=vA,r.marker=Aa,r.point=ee,r.polygon=Ho,r.polyline=ds,r.popup=ym,r.rectangle=vm,r.setOptions=g,r.stamp=c,r.svg=Ki,r.svgOverlay=Dl,r.tileLayer=A0,r.tooltip=nb,r.transformation=re,r.version=n,r.videoOverlay=us;var Nm=window.L;r.noConflict=function(){return window.L=Nm,this},window.L=r})})(G4,G4.exports);var Kg=G4.exports;const Oa=en(Kg);function WN(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function GN(e,t){return t==null?function(n,i){const a=j.useRef();return a.current||(a.current=e(n,i)),a}:function(n,i){const a=j.useRef();a.current||(a.current=e(n,i));const o=j.useRef(n),{instance:l}=a.current;return j.useEffect(function(){o.current!==n&&(t(l,n,o.current),o.current=n)},[l,n,i]),a}}function IG(e,t){j.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function TG(e){return function(r){const n=zN(),i=e(KN(r,n),n);return SG(n.map,r.attribution),O6(i.current,r.eventHandlers),IG(i.current,n),i}}function Xve(e,t){const r=j.useRef();j.useEffect(function(){if(t.pathOptions!==r.current){const i=t.pathOptions??{};e.instance.setStyle(i),r.current=i}},[e,t])}function Zve(e){return function(r){const n=zN(),i=e(KN(r,n),n);return O6(i.current,r.eventHandlers),IG(i.current,n),Xve(i.current,r),i}}function Jve(e,t){const r=GN(e,t),n=TG(r);return PG(n)}function ebe(e,t){const r=GN(e),n=Yve(r,t);return Gve(n)}function tbe(e,t){const r=GN(e,t),n=Zve(r);return PG(n)}function rbe(e,t){const r=GN(e,t),n=TG(r);return qve(n)}function nbe(e,t,r){const{opacity:n,zIndex:i}=t;n!=null&&n!==r.opacity&&e.setOpacity(n),i!=null&&i!==r.zIndex&&e.setZIndex(i)}function sbe(){return zN().map}function qN(e){const t=sbe();return j.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const ibe=tbe(function({center:t,children:r,...n},i){const a=new Kg.Circle(t,n);return WN(a,BG(i,{overlayContainer:a}))},zve);function q4(){return q4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q4.apply(this,arguments)}function abe({bounds:e,boundsOptions:t,center:r,children:n,className:i,id:a,placeholder:o,style:l,whenReady:c,zoom:d,...u},A){const[f]=j.useState({className:i,id:a,style:l}),[m,x]=j.useState(null);j.useImperativeHandle(A,()=>(m==null?void 0:m.map)??null,[m]);const g=j.useCallback(y=>{if(y!==null&&m===null){const b=new Kg.Map(y,u);r!=null&&d!=null?b.setView(r,d):e!=null&&b.fitBounds(e,t),c!=null&&b.whenReady(c),x(Wve(b))}},[]);j.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const v=m?Ce.createElement(kG,{value:m},n):o??null;return Ce.createElement("div",q4({},f,{ref:g}),v)}const Yh=j.forwardRef(abe),Xh=Jve(function({position:t,...r},n){const i=new Kg.Marker(t,r);return WN(i,BG(n,{overlayContainer:i}))},function(t,r,n){r.position!==n.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),Cy=ebe(function(t,r){const n=new Kg.Popup(t,r.overlayContainer);return WN(n,r)},function(t,r,{position:n},i){j.useEffect(function(){const{instance:o}=t;function l(d){d.popup===o&&(o.update(),i(!0))}function c(d){d.popup===o&&i(!1)}return r.map.on({popupopen:l,popupclose:c}),r.overlayContainer==null?(n!=null&&o.setLatLng(n),o.openOn(r.map)):r.overlayContainer.bindPopup(o),function(){var u;r.map.off({popupopen:l,popupclose:c}),(u=r.overlayContainer)==null||u.unbindPopup(),r.map.removeLayer(o)}},[t,r,i,n])}),Zh=rbe(function({url:t,...r},n){const i=new Kg.TileLayer(t,KN(r,n));return WN(i,n)},function(t,r,n){nbe(t,r,n);const{url:i}=r;i!=null&&i!==n.url&&t.setUrl(i)});delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const obe=(e,t)=>{var r;return Oa.divIcon({className:"custom-div-icon",html:`
      <div style="
        background-color: ${t};
        width: 30px;
        height: 30px;
        border-radius: 50%;
        border: 3px solid white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 12px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      ">
        ${((r=e==null?void 0:e.charAt(0))==null?void 0:r.toUpperCase())||"P"}
      </div>
    `,iconSize:[30,30],iconAnchor:[15,15]})},lbe=({properties:e=[],selectedLocation:t=null,radius:r=5,onPropertyClick:n=()=>{},height:i="320px",showRadius:a=!0})=>{const[o,l]=j.useState([12.9716,77.5946]),[c,d]=j.useState(12);j.useEffect(()=>{if(t&&t.lat&&t.lng){const f=parseFloat(t.lat),m=parseFloat(t.lng);!isNaN(f)&&!isNaN(m)&&(l([f,m]),d(15))}},[t]);const u=f=>{switch(f==null?void 0:f.toLowerCase()){case"pg":return"#ef4444";case"co-living":return"#3b82f6";case"apartment":return"#10b981";case"house":return"#f59e0b";default:return"#ef4444"}},A=f=>!f||typeof f!="object"?[]:Object.entries(f).filter(([m,x])=>x===!0).map(([m])=>m);return s.jsx("div",{className:"w-full rounded-lg border border-gray-200 overflow-hidden relative z-10",style:{height:i},children:s.jsxs(Yh,{center:o,zoom:c,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,zoomControl:!0,children:[s.jsx(Zh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map(f=>{const m=parseFloat(f.lat),x=parseFloat(f.lng);if(isNaN(m)||isNaN(x))return null;const g=u(f.propertyType),v=obe(f.propertyType,g),y=A(f.amenities);return s.jsx(Xh,{position:[m,x],icon:v,eventHandlers:{click:()=>n(f.id)},children:s.jsx(Cy,{maxWidth:300,minWidth:250,children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight",children:f.name}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 ml-2",children:f.propertyType||"PG"})]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-600 mb-2",children:[s.jsx(jr,{className:"w-3 h-3 mr-1"}),s.jsx("span",{className:"truncate",children:f.address})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-lg font-bold text-red-600",children:f.price}),f.distance&&f.distance!=="0 km"&&s.jsxs("p",{className:"text-xs text-gray-500",children:[f.distance," away"]})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[f.maxOccupancy&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Max Occupancy: ",f.maxOccupancy," people"]})]}),f.ownerName&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Owner: ",f.ownerName]})]}),f.rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Di,{className:"w-3 h-3 mr-1 text-yellow-400 fill-current"}),s.jsxs("span",{children:["Rating: ",f.rating]})]})]}),y.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"font-medium mb-1 text-xs",children:"Amenities:"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.slice(0,3).map((b,w)=>s.jsx("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:b},w)),y.length>3&&s.jsxs("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:["+",y.length-3," more"]})]})]}),f.images&&f.images.length>0&&s.jsx("div",{className:"mt-3",children:s.jsx("img",{src:f.images[0],alt:f.name,className:"w-full h-16 object-cover rounded border"})}),s.jsx("button",{onClick:()=>n(f.id),className:"w-full mt-3 bg-red-600 text-white text-xs py-2 px-3 rounded hover:bg-red-700 transition-colors",children:"View Details"})]})})},f.id)}),t&&a&&!isNaN(parseFloat(t.lat))&&!isNaN(parseFloat(t.lng))&&s.jsx(ibe,{center:[parseFloat(t.lat),parseFloat(t.lng)],radius:r*1e3,pathOptions:{color:"#ef4444",fillColor:"#ef4444",fillOpacity:.1,weight:2}})]},`${o[0]}-${o[1]}-${c}`)})};class cbe{constructor(){this.googleMapsLoaded=!1,this.geocoder=null,this.autocomplete=null}async initializeGoogleMaps(){return this.googleMapsLoaded?Promise.resolve():new Promise((t,r)=>{if(window.google&&window.google.maps){this.googleMapsLoaded=!0,this.geocoder=new window.google.maps.Geocoder,t();return}const n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoPzRJLAmma54BBOyF4AhZ2ZIqGvak8CA&libraries=places,geometry",n.async=!0,n.defer=!0,n.onload=()=>{this.googleMapsLoaded=!0,this.geocoder=new window.google.maps.Geocoder,t()},n.onerror=r,document.head.appendChild(n)})}async searchWithGooglePlaces(t,r){return this.googleMapsLoaded||await this.initializeGoogleMaps(),!this.autocomplete&&r&&(this.autocomplete=new window.google.maps.places.Autocomplete(r,{types:["establishment","geocode"],componentRestrictions:{country:"in"},fields:["place_id","geometry","name","formatted_address"]})),this.autocomplete}async searchWithNominatim(t){if(!t||t.length<3)return[];try{const r=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&countrycodes=in&limit=5&addressdetails=1`,{headers:{"User-Agent":"LyvoPlus-App"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json()).map(i=>({id:i.place_id,name:i.display_name.split(",")[0],address:i.display_name,lat:parseFloat(i.lat),lng:parseFloat(i.lon),type:i.type,importance:i.importance})).sort((i,a)=>a.importance-i.importance)}catch(r){return console.error("Nominatim search error:",r),[]}}async reverseGeocodeWithGoogle(t,r){return this.googleMapsLoaded||await this.initializeGoogleMaps(),new Promise((n,i)=>{this.geocoder.geocode({location:{lat:t,lng:r}},(a,o)=>{if(o==="OK"&&a[0]){const l=a[0];let c="Current Location",d=l.formatted_address;if(l.address_components){const u=l.address_components,A=u.find(v=>v.types.includes("locality")),f=u.find(v=>v.types.includes("sublocality")),m=u.find(v=>v.types.includes("neighborhood")),x=u.find(v=>v.types.includes("administrative_area_level_1")),g=u.find(v=>v.types.includes("administrative_area_level_2"));A&&x?c=`${A.long_name}, ${x.long_name}`:f&&x?c=`${f.long_name}, ${x.long_name}`:m&&x?c=`${m.long_name}, ${x.long_name}`:g&&x?c=`${g.long_name}, ${x.long_name}`:c=l.formatted_address}n({name:c,address:d,lat:t,lng:r})}else i(new Error("Geocoding failed"))})})}async reverseGeocodeWithNominatim(t,r){try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${r}&addressdetails=1`,{headers:{"User-Agent":"LyvoPlus-App"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();let a="Current Location",o=i.display_name;if(i.address){const l=i.address;if(l.city||l.town||l.village){const c=l.city||l.town||l.village,d=l.state;a=d?`${c}, ${d}`:c}else if(l.suburb||l.neighbourhood){const c=l.suburb||l.neighbourhood,d=l.state;a=d?`${c}, ${d}`:c}else l.state&&(a=l.state)}return{name:a,address:o,lat:t,lng:r}}catch(n){return console.error("Nominatim reverse geocoding error:",n),{name:"Current Location",address:"Your current location",lat:t,lng:r}}}async searchLocation(t,r="google"){return r==="google"?null:await this.searchWithNominatim(t)}async reverseGeocode(t,r,n="google"){return n==="google"?await this.reverseGeocodeWithGoogle(t,r):await this.reverseGeocodeWithNominatim(t,r)}async getCurrentLocation(t="google"){return new Promise((r,n)=>{if(!navigator.geolocation){n(new Error("Geolocation is not supported by this browser."));return}navigator.geolocation.getCurrentPosition(async i=>{const{latitude:a,longitude:o}=i.coords;try{const l=await this.reverseGeocode(a,o,t);r({...l,accuracy:i.coords.accuracy,timestamp:new Date().toLocaleString()})}catch{r({name:"Current Location",address:"Your current location",lat:a,lng:o,accuracy:i.coords.accuracy,timestamp:new Date().toLocaleString()})}},i=>{let a="Unable to get your current location. ";switch(i.code){case i.PERMISSION_DENIED:a+="Location access denied by user.";break;case i.POSITION_UNAVAILABLE:a+="Location information unavailable.";break;case i.TIMEOUT:a+="Location request timed out.";break;default:a+="Unknown error occurred.";break}n(new Error(a))})})}}const Gb=new cbe,dbe=({mapType:e="google",onLocationSelect:t,placeholder:r="Search for a location (e.g., Koramangala, Bangalore)",className:n=""})=>{const[i,a]=j.useState(""),[o,l]=j.useState([]),[c,d]=j.useState(!1),[u,A]=j.useState(!1),[f,m]=j.useState(null),x=j.useRef(null),g=j.useRef(null),v=j.useRef(null);j.useEffect(()=>{e==="google"&&x.current&&y()},[e]);const y=async()=>{try{if(await Gb.initializeGoogleMaps(),x.current&&!f){const P=await Gb.searchWithGooglePlaces("",x.current);P.addListener("place_changed",()=>{const E=P.getPlace();if(E.geometry){const I={name:E.name||E.formatted_address,address:E.formatted_address,lat:E.geometry.location.lat(),lng:E.geometry.location.lng()};a(I.name),A(!1),t(I)}}),m(P)}}catch(P){console.error("Failed to initialize Google autocomplete:",P)}},b=async P=>{const E=P.target.value;if(a(E),v.current&&clearTimeout(v.current),E.length<3){l([]),A(!1);return}e==="leaflet"&&(v.current=setTimeout(async()=>{await w(E)},300))},w=async P=>{d(!0);try{const E=await Gb.searchWithNominatim(P);l(E),A(!0)}catch(E){console.error("Search error:",E),l([])}finally{d(!1)}},_=P=>{a(P.name),A(!1),t(P)},N=async()=>{d(!0);try{const P=await Gb.getCurrentLocation(e);a(P.name),A(!1),t(P)}catch(P){console.error("Current location error:",P),alert(P.message)}finally{d(!1)}},C=()=>{a(""),l([]),A(!1),x.current&&x.current.focus()};return j.useEffect(()=>{const P=E=>{g.current&&!g.current.contains(E.target)&&x.current&&!x.current.contains(E.target)&&A(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]),s.jsxs("div",{className:`relative z-[500] ${n}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{ref:x,type:"text",placeholder:r,value:i,onChange:b,onFocus:()=>{e==="leaflet"&&o.length>0&&A(!0)},className:"w-full pl-10 pr-20 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",autoComplete:"off"}),s.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[c&&s.jsx(Xs,{className:"w-4 h-4 text-gray-400 animate-spin"}),s.jsx("div",{className:"text-xs text-gray-500",children:e==="google"?s.jsx("span",{className:"text-green-600",children:" Google"}):s.jsx("span",{className:"text-blue-600",children:" Leaflet"})}),i&&s.jsx("button",{onClick:C,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ar,{className:"w-4 h-4"})})]})]}),e==="leaflet"&&u&&o.length>0&&s.jsx("div",{ref:g,className:"absolute z-[1001] w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-2xl max-h-80 overflow-y-auto",style:{zIndex:1001},children:o.map((P,E)=>s.jsx("button",{onClick:()=>_(P),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(jr,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:P.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:P.address}),P.type&&s.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:P.type})]})]})},P.id||E))}),s.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[s.jsxs("button",{onClick:N,disabled:c,className:"flex items-center space-x-2 text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsx("span",{children:"Use Current Location"})]}),s.jsx("div",{className:"text-xs text-gray-500",children:e==="google"?"Google Places Autocomplete":"OpenStreetMap Search"})]})]})},PC=()=>{const[e,t]=j.useState({}),[r,n]=j.useState([]),[i,a]=j.useState([]),[o,l]=j.useState([]),[c,d]=j.useState(!1),[u,A]=j.useState(!0),[f,m]=j.useState(""),[x,g]=j.useState(null),[v,y]=j.useState(null),[b,w]=j.useState(5),[_,N]=j.useState(!1),[C,P]=j.useState([]),[E,I]=j.useState([]),[F,B]=j.useState([]),[O,R]=j.useState([]),U=Ar(),[$,K]=j.useState(null);j.useEffect(()=>{ae()},[]);const H=ue=>{g(ue),m(ue.name),z(ue),V(ue.lat,ue.lng,b)},z=ue=>{const J={id:Date.now(),location:ue.name,address:ue.address,lat:ue.lat,lng:ue.lng,timestamp:new Date().toISOString(),radius:b,pgCount:0},fe=F.filter(Ie=>Ie.lat!==ue.lat||Ie.lng!==ue.lng),ye=[J,...fe].slice(0,5);B(ye),localStorage.setItem("lyvo_recent_searches",JSON.stringify(ye))},te=ue=>{const J={...ue,viewedAt:new Date().toISOString()},fe=O.filter(Ie=>Ie.id!==ue.id),ye=[J,...fe].slice(0,4);R(ye),localStorage.setItem("lyvo_recently_viewed",JSON.stringify(ye))},ee=ue=>{if(!ue)return"Address not available";if(typeof ue=="string")return ue;const{street:J,city:fe,state:ye,pincode:Ie,landmark:ke}=ue;return[J,ke,fe,ye,Ie].filter(Boolean).join(", ")},Z=(ue,J,fe,ye)=>W(ue,J,fe,ye),V=async(ue,J,fe=b)=>{try{const ke=((await Ye.get("/property/public/properties")).data.data||[]).filter(He=>He.latitude&&He.longitude).map((He,We)=>{const me=Z(ue,J,He.latitude,He.longitude);return{id:He._id,name:He.property_name||He.propertyName||"Unnamed Property",address:ee(He.address),lat:He.latitude,lng:He.longitude,price:He.min_rent?`${He.min_rent.toLocaleString()}`:He.rent?`${He.rent.toLocaleString()}`:"Price not available",securityDeposit:He.security_deposit?`${He.security_deposit.toLocaleString()}`:"N/A",rating:4.5,distance:`${me.toFixed(1)} km`,_distanceKm:me,amenities:He.amenities?Object.entries(He.amenities).filter(([Be,Oe])=>Oe===!0).map(([Be])=>Be):[],propertyType:He.propertyType||"PG",totalRooms:He.totalRooms||He.maxOccupancy||"N/A",images:He.images?[He.images.front,He.images.hall,...He.images.gallery||[]].filter(Boolean):[],ownerName:He.ownerName||"Unknown Owner",roomDetails:He.room_details||[],matchScore:90-We*4}}).filter(He=>He._distanceKm<=fe).sort((He,We)=>He._distanceKm-We._distanceKm);P(ke),X(ue,J,ke.length)}catch(ye){console.error("Error fetching properties:",ye),P([])}},X=(ue,J,fe)=>{B(ye=>{const Ie=ye.map(ke=>Math.abs(ke.lat-ue)<.001&&Math.abs(ke.lng-J)<.001?{...ke,pgCount:fe}:ke);return localStorage.setItem("lyvo_recent_searches",JSON.stringify(Ie)),Ie})},W=(ue,J,fe,ye)=>{const ke=(fe-ue)*Math.PI/180,He=(ye-J)*Math.PI/180,We=Math.sin(ke/2)*Math.sin(ke/2)+Math.cos(ue*Math.PI/180)*Math.cos(fe*Math.PI/180)*Math.sin(He/2)*Math.sin(He/2);return 6371*(2*Math.atan2(Math.sqrt(We),Math.sqrt(1-We)))},ae=async()=>{try{const fe=((await Ye.get("/property/public/properties")).data.data||[]).filter(ye=>ye.latitude&&ye.longitude).map(ye=>({id:ye._id,name:ye.property_name||ye.propertyName||"Unnamed Property",address:ee(ye.address),lat:ye.latitude,lng:ye.longitude,price:ye.min_rent?`${ye.min_rent.toLocaleString()}`:ye.rent?`${ye.rent.toLocaleString()}`:"Price not available",securityDeposit:ye.security_deposit?`${ye.security_deposit.toLocaleString()}`:"N/A",rating:4.5,distance:"0 km",_distanceKm:0,amenities:ye.amenities?Object.entries(ye.amenities).filter(([Ie,ke])=>ke===!0).map(([Ie])=>Ie):[],propertyType:ye.propertyType||"PG",totalRooms:ye.totalRooms||ye.maxOccupancy||"N/A",images:ye.images||[],ownerName:ye.ownerName||"Unknown Owner"}));console.log(`Loaded ${fe.length} properties`),I(fe)}catch(ue){console.error("Error loading properties:",ue)}},ie=ue=>{const J=[...C,...o,...E].find(fe=>fe.id===ue);J&&te(J),U(`/seeker/property/${ue}`)},ce=ue=>{const J=parseInt(ue.target.value);w(J),x?V(x.lat,x.lng,J):v&&V(v.lat,v.lng,J)},be=async()=>{try{const ue=JSON.parse(localStorage.getItem("user")||"{}");if(!(ue.id||ue._id||ue.userId))return;const ye={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`};try{const ke=(await Ye.get("/property/user/tenant-status")).data;if(ke.success&&ke.isTenant)return console.log("User has active tenancy, redirecting to TenantDashboard"),U("/tenant-dashboard"),!0}catch(Ie){console.error("Error checking tenant status:",Ie)}}catch(ue){console.error("Error checking dashboard redirect status:",ue)}return!1};j.useEffect(()=>{const ue=JSON.parse(localStorage.getItem("user")||"{}");t(ue),(()=>{const ke=`lastLogin_${ue._id||ue.id}`;localStorage.getItem(ke)?(d(!1),localStorage.setItem(ke,new Date().toISOString())):(d(!0),localStorage.setItem(ke,new Date().toISOString()))})(),(async()=>{if(A(!0),!await be()){A(!1);const ke=2*24*60*60*1e3,He=new Date().getTime(),We=JSON.parse(localStorage.getItem("lyvo_recent_searches")||"[]"),me=We.filter(Ne=>{const Fe=Ne.timestamp?new Date(Ne.timestamp).getTime():0;return He-Fe<ke});B(me),me.length!==We.length&&localStorage.setItem("lyvo_recent_searches",JSON.stringify(me));const Be=JSON.parse(localStorage.getItem("lyvo_recently_viewed")||"[]"),Oe=Be.filter(Ne=>{const Fe=Ne.viewedAt?new Date(Ne.viewedAt).getTime():0;return He-Fe<ke});R(Oe),Oe.length!==Be.length&&localStorage.setItem("lyvo_recently_viewed",JSON.stringify(Oe)),he(),ge(),Se()}})();const ye=Ie=>{console.log("Booking status change detected:",Ie.detail),(Ie.detail.status==="confirmed"||Ie.detail.status==="approved")&&setTimeout(()=>{be()},1e3)};return window.addEventListener("booking-approved",ye),window.addEventListener("booking-status-changed",ye),()=>{window.removeEventListener("booking-approved",ye),window.removeEventListener("booking-status-changed",ye)}},[]);const he=async()=>{try{const J=(await Ye.get("/property/public/properties")).data.data||[];console.log("=== RAW PROPERTIES DATA ==="),console.log("Total properties from API:",J.length),J.forEach((ye,Ie)=>{console.log(`
Property ${Ie+1}:`),console.log("  _id:",ye._id),console.log("  propertyName:",ye.propertyName),console.log("  address:",ye.address),console.log("  rent:",ye.rent),console.log("  propertyType:",ye.propertyType),console.log("  maxOccupancy:",ye.maxOccupancy),console.log("  amenities:",ye.amenities),console.log("  images:",ye.images),console.log("  description:",ye.description),console.log("  latitude:",ye.latitude),console.log("  longitude:",ye.longitude)}),console.log("=== END RAW PROPERTIES ===");const fe=J.slice(0,4).map((ye,Ie)=>{var ke,He,We,me,Be,Oe,Ne;return{id:ye._id,name:ye.property_name||ye.propertyName||"Unnamed Property",location:ye.address?[ye.address.landmark,ye.address.city,ye.address.state].filter(Boolean).join(", "):"Location not available",price:ye.min_rent?`${ye.min_rent.toLocaleString()}`:ye.rent?`${ye.rent.toLocaleString()}`:"Price not available",securityDeposit:ye.security_deposit?`${ye.security_deposit.toLocaleString()}`:"N/A",rating:4.5,image:(ke=ye.images)!=null&&ke.front||(He=ye.images)!=null&&He.hall||(We=ye.images)!=null&&We.gallery&&ye.images.gallery[0]?((me=ye.images)==null?void 0:me.front)||((Be=ye.images)==null?void 0:Be.hall)||((Ne=(Oe=ye.images)==null?void 0:Oe.gallery)==null?void 0:Ne[0]):"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",distance:`${(Ie+1)*2}.${Ie+1} km`,matchScore:95-Ie*5,propertyType:ye.propertyType||"PG",totalRooms:ye.maxOccupancy||"N/A",amenities:ye.amenities?Object.entries(ye.amenities).filter(([Fe,it])=>it===!0).map(([Fe])=>Fe):[],roomDetails:ye.room_details||[]}});l(fe),console.log("=== RECOMMENDATIONS DATA ==="),console.log("Total recommendations:",fe.length),fe.forEach((ye,Ie)=>{console.log(`
Recommendation ${Ie+1}:`),console.log("  ID:",ye.id),console.log("  Name:",ye.name),console.log("  Location:",ye.location),console.log("  Price:",ye.price),console.log("  Rating:",ye.rating),console.log("  Distance:",ye.distance),console.log("  Match Score:",ye.matchScore+"%"),console.log("  Property Type:",ye.propertyType),console.log("  Max Occupancy:",ye.maxOccupancy),console.log("  Amenities:",ye.amenities),console.log("  Image URL:",ye.image)}),console.log("=== END RECOMMENDATIONS ===")}catch(ue){console.error("Error fetching property recommendations:",ue),l([])}},ge=async()=>{try{const ue=JSON.parse(localStorage.getItem("user")||"{}"),J=ue.userId||ue._id;if(console.log("Fetching favorites for userId:",J),!J){console.log("No userId found in localStorage");return}const fe="/property/favorites";console.log("Favorites API URL:",fe);const ye=await Ye.get(fe);if(console.log("Favorites API response status:",ye.status),ye.status===200){const Ie=ye.data;console.log("Favorites data received:",Ie),n(Ie.favorites||[]),console.log("Favorites count:",(Ie.favorites||[]).length)}}catch(ue){console.error("Error fetching favorites count:",ue),n([])}},Se=async()=>{try{const ue=JSON.parse(localStorage.getItem("user")||"{}"),J=ue.userId||ue._id;if(console.log("Fetching bookings for userId:",J),!J){console.log("No userId found in localStorage");return}const fe="/property/user/bookings";console.log("Bookings API URL:",fe);const ye=await Ye.get(fe);if(console.log("Bookings API response status:",ye.status),ye.status===200){const Ie=ye.data;console.log("Bookings data received:",Ie),a(Ie.bookings||[]),console.log("Bookings count:",(Ie.bookings||[]).length)}}catch(ue){console.error("Error fetching bookings count:",ue),a([])}},re=ue=>{switch(ue){case"confirmed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},_e=ue=>{switch(ue){case"confirmed":return s.jsx(yt,{className:"w-4 h-4"});case"pending":return s.jsx(ns,{className:"w-4 h-4"});case"cancelled":return s.jsx(Xt,{className:"w-4 h-4"});default:return s.jsx(ns,{className:"w-4 h-4"})}};return u?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Verifying account status..."})]})})}):s.jsxs(Br,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[c?"Welcome":"Welcome back",", ",e.name||"User","! "]}),s.jsx("p",{className:"text-gray-600",children:c?"Welcome to Lyvo+! Let's help you find your perfect co-living space.":"Ready to find your perfect PG? Here's what's happening with your account."})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(jr,{className:"w-5 h-5 mr-2 text-red-600"}),"Find PGs Near You"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Interactive Map:"}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-blue-600",children:[s.jsx(_ue,{className:"w-3 h-3"}),s.jsx("span",{children:"Leaflet + OpenStreetMap"})]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsx("div",{className:"flex-1",children:s.jsx(dbe,{mapType:"leaflet",onLocationSelect:H,placeholder:"Search location (e.g. Koramangala)"})}),s.jsxs("div",{className:"flex items-center bg-gray-50 px-4 py-2 rounded-lg border border-gray-200 min-w-[280px]",children:[s.jsxs("div",{className:"flex items-center space-x-2 mr-4",children:[s.jsx(Tue,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:["Radius: ",s.jsxs("span",{className:"text-red-600",children:[b," km"]})]})]}),s.jsx("input",{type:"range",min:"1",max:"20",value:b,onChange:ce,className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-600"})]})]}),x&&s.jsxs(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 bg-red-50 border border-red-100 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:s.jsx(jr,{className:"w-4 h-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:x.name}),s.jsx("p",{className:"text-xs text-gray-600 line-clamp-1",children:x.address})]})]}),s.jsx("button",{onClick:()=>{g(null),m("")},className:"text-xs text-red-600 hover:text-red-800 font-medium px-2",children:"Clear"})]}),_&&s.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200 flex items-center space-x-3",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Locating you..."})]}),$&&s.jsxs("div",{className:"mt-4 p-3 bg-red-50 rounded-lg border border-red-200 text-sm text-red-700 flex items-center justify-between",children:[s.jsx("span",{children:$}),s.jsx("button",{onClick:()=>K(null),className:"text-red-900 underline font-medium",children:"Dismiss"})]}),s.jsxs("div",{className:"mt-6 rounded-2xl overflow-hidden border border-gray-200 shadow-inner relative group",children:[s.jsx(lbe,{properties:x?C:E,selectedLocation:x,radius:b,onPropertyClick:ie,height:"350px",showRadius:!!x}),s.jsx("div",{className:"absolute bottom-2 right-2 bg-white/90 backdrop-blur px-2 py-1 rounded text-[10px] text-gray-500 z-[400] shadow-sm pointer-events-none",children:"OpenStreetMap"})]}),C.length>0&&s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-6",children:[s.jsxs("h3",{className:"text-2xl font-black text-gray-900 font-outfit tracking-tight",children:["Found ",C.length," PGs nearby"]}),s.jsxs("span",{className:"text-[10px] bg-red-50 text-red-600 px-3 py-1 rounded-full font-bold w-fit border border-red-100 uppercase tracking-wider",children:["Within ",b," km"]})]}),s.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:C.map((ue,J)=>s.jsxs(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:J*.1,duration:.4},className:"group bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-[0_20px_50px_rgba(239,68,68,0.15)] hover:border-red-200 transition-all duration-500 cursor-pointer flex flex-col md:flex-row overflow-hidden md:h-56 border-l-4 border-l-red-500",onClick:()=>ie(ue.id),children:[s.jsxs("div",{className:"w-full md:w-48 h-44 md:h-full relative flex-shrink-0 overflow-hidden",children:[s.jsx("img",{src:ue.images&&ue.images[0]?ue.images[0]:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=400&fit=crop",alt:ue.name,className:"w-full h-full object-cover group-hover:scale-110 group-hover:brightness-90 transition-all duration-700 will-change-transform",onError:fe=>{fe.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=400&fit=crop"}}),s.jsx("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:s.jsxs("span",{className:"bg-white/95 backdrop-blur-sm text-gray-900 text-[10px] font-black px-2 py-1 rounded-lg shadow-md flex items-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3 text-red-500"}),ue.distance]})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("div",{className:"bg-red-600 text-white p-1.5 rounded-full shadow-lg",children:s.jsx(jF,{className:"w-3.5 h-3.5"})})})]}),s.jsxs("div",{className:"flex-1 p-4 flex flex-col min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-gray-900 line-clamp-1 group-hover:text-red-600 transition-colors text-lg leading-tight uppercase font-outfit",children:ue.name}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1 flex items-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3 text-gray-400"}),ue.address]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-1 rounded-lg border border-yellow-100",children:[s.jsx(Di,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),s.jsx("span",{className:"text-xs font-bold text-yellow-700",children:ue.rating})]}),s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gradient-to-r from-red-600 to-red-400 text-white text-[9px] font-black shadow-sm uppercase tracking-tighter",children:[s.jsx(jF,{className:"w-2.5 h-2.5"}),s.jsxs("span",{children:[ue.matchScore,"% Match"]})]})]})]}),s.jsxs("div",{className:"bg-red-50/40 rounded-xl p-2 md:p-3 border border-red-100/50 mb-3 group/room",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-[10px] font-black text-red-600 uppercase tracking-wider",children:"Available Rooms"}),s.jsx(bh,{className:"w-3 h-3 text-red-400 group-hover/room:translate-x-1 transition-transform"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[ue.roomDetails&&ue.roomDetails.length>0?ue.roomDetails.slice(0,3).map((fe,ye)=>{var Ie;return s.jsxs("div",{className:"bg-white px-2 py-1 rounded-lg shadow-sm border border-red-100 flex items-center gap-1.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 flex-shrink-0"}),s.jsxs("span",{className:"text-[10px] font-bold text-gray-800",children:["R",fe.room_number,": ",fe.room_type]}),s.jsxs("span",{className:"text-[10px] font-black text-red-600 ml-0.5",children:["",(Ie=fe.rent)==null?void 0:Ie.toLocaleString()]})]},ye)}):s.jsx("span",{className:"text-[10px] text-gray-400 font-medium italic",children:"General Rooms Available"}),ue.roomDetails.length>3&&s.jsx("div",{className:"bg-white/50 px-2 py-1 rounded-lg border border-dashed border-red-200",children:s.jsxs("span",{className:"text-[9px] font-bold text-red-400",children:["+",ue.roomDetails.length-3]})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[s.jsx("div",{className:"flex flex-col",children:s.jsxs("div",{className:"flex items-baseline gap-1.5",children:[s.jsx("span",{className:"text-2xl font-black text-gray-900 tracking-tighter font-outfit leading-none",children:ue.price}),s.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest",children:"/mo"})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"hidden lg:flex gap-1.5 pr-2 border-r border-gray-100 mr-1",children:ue.amenities.slice(0,2).map((fe,ye)=>s.jsx("div",{title:fe,className:"p-1 bg-gray-50 rounded-md border border-gray-100",children:s.jsx(yt,{className:"w-3 h-3 text-red-400"})},ye))}),s.jsx("div",{className:"bg-gray-900 group-hover:bg-red-600 text-white p-2 md:p-2.5 rounded-xl shadow-lg transition-all duration-300",children:s.jsx(ka,{className:"w-4 h-4"})})]})]})]})]},ue.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8 order-1 lg:order-1",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900 font-outfit",children:"Recent Searches"})}),s.jsxs("div",{className:"space-y-3",children:[F.map((ue,J)=>s.jsxs(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+J*.1,duration:.5},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>H(ue),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(jr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:ue.location}),s.jsx("p",{className:"text-sm text-gray-500",children:ue.timestamp}),s.jsxs("p",{className:"text-xs text-blue-600",children:[ue.radius,"km radius"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[ue.pgCount>0&&s.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:[ue.pgCount," PGs"]}),s.jsx(ka,{className:"w-4 h-4 text-gray-400"})]})]},ue.id)),F.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(jr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No recent searches yet"}),s.jsx("p",{className:"text-sm",children:"Search for a location to see it here"})]})]})]}),O.length>0&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.25},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 font-outfit flex items-center gap-2",children:[s.jsx(Pr,{className:"w-5 h-5 text-red-500"}),"Recently Viewed Rooms"]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:O.map((ue,J)=>s.jsxs(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3+J*.1,duration:.4},className:"group bg-gray-50 rounded-xl border border-gray-100 p-3 hover:bg-white hover:shadow-[0_10px_30px_-5px_rgba(239,68,68,0.1)] hover:border-red-200 transition-all duration-300 cursor-pointer",onClick:()=>ie(ue.id),children:[s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-3",children:s.jsx("img",{src:ue.image||ue.images&&ue.images[0]||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:ue.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 will-change-transform"})}),s.jsx("h4",{className:"font-bold text-gray-900 text-sm line-clamp-1 mb-1 group-hover:text-red-600 transition-colors font-outfit",children:ue.name}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-red-600 font-black text-sm font-outfit",children:ue.price}),s.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:ue.propertyType})]})]},`view-${ue.id}-${J}`))})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900 font-outfit",children:"Available Rooms"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((ue,J)=>s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+J*.1,duration:.5},className:"group bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden flex flex-col h-full",onClick:()=>ie(ue.id),children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:ue.image,alt:ue.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:fe=>{fe.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 items-end",children:[s.jsxs("span",{className:"px-3 py-1 bg-white/95 backdrop-blur-sm text-blue-600 text-xs font-bold rounded-full shadow-sm",children:[ue.matchScore,"% Match"]}),s.jsxs("span",{className:"px-3 py-1 bg-green-500/90 backdrop-blur-sm text-white text-xs font-bold rounded-full shadow-sm flex items-center gap-1",children:[s.jsx(yt,{className:"w-3 h-3"})," Available"]})]}),s.jsx("div",{className:"absolute bottom-3 left-3 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsxs("p",{className:"text-xs font-medium flex items-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3"})," View on Map"]})})]}),s.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 line-clamp-1 group-hover:text-blue-600 transition-colors",children:ue.name}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[s.jsx(jr,{className:"w-3 h-3 text-gray-400"}),s.jsx("span",{className:"line-clamp-1",children:ue.location})]})]}),s.jsx("div",{className:"flex flex-col items-end",children:s.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-1 rounded-lg border border-yellow-100",children:[s.jsx(Di,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),s.jsx("span",{className:"text-xs font-bold text-yellow-700",children:ue.rating})]})})]}),s.jsxs("div",{className:"space-y-3 mt-3 mb-4",children:[ue.roomDetails&&ue.roomDetails.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[ue.roomDetails.slice(0,4).map((fe,ye)=>s.jsxs("span",{className:"text-[10px] bg-red-50 text-red-600 px-2 py-1 rounded border border-red-100 font-medium",children:["Room ",fe.room_number,": ",fe.room_type]},ye)),ue.roomDetails.length>4&&s.jsxs("span",{className:"text-[10px] text-gray-400 font-medium",children:["+",ue.roomDetails.length-4]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[ue.amenities.slice(0,3).map((fe,ye)=>s.jsx("span",{className:"px-2 py-1 bg-gray-50 text-gray-600 text-[10px] font-medium uppercase tracking-wide rounded-md border border-gray-100",children:fe.replace(/([A-Z])/g," $1").trim()},ye)),ue.amenities.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-50 text-gray-400 text-[10px] font-medium rounded-md border border-gray-100",children:["+",ue.amenities.length-3," more"]})]})]}),s.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-50 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Starting from"}),s.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[ue.price,s.jsx("span",{className:"text-xs text-gray-400 font-normal ml-1",children:"/mo"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:"Deposit:"})," ",ue.securityDeposit]})]}),s.jsx("button",{className:"px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-blue-600 transition-colors shadow-sm group-hover:shadow-md",children:"View Details"})]})]})]},ue.id))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-pink-50 rounded-lg border border-pink-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center",children:s.jsx(Gh,{className:"w-5 h-5 text-pink-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favorites"})]}),s.jsx("span",{className:"text-2xl font-bold text-pink-600",children:r.length})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Or,{className:"w-5 h-5 text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Bookings"})]}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:i.length})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg border border-purple-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Zr,{className:"w-5 h-5 text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Searches"})]}),s.jsx("span",{className:"text-2xl font-bold text-purple-600",children:F.length})]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Bookings"}),s.jsx("div",{className:"space-y-3",children:i.map((ue,J)=>s.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4+J*.1,duration:.5},className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:ue.pgName}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsxs("p",{children:["Check-in: ",ue.checkIn]}),s.jsxs("p",{children:["Check-out: ",ue.checkOut]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ue.amount}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${re(ue.status)} flex items-center space-x-1`,children:[_e(ue.status),s.jsx("span",{className:"capitalize",children:ue.status})]})]})]},ue.id))}),s.jsx(Ot,{to:"/seeker-bookings",className:"mt-4 w-full text-center text-red-600 hover:text-red-700 text-sm font-medium block",children:"View All Bookings"})]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Quick Tips"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[s.jsx("li",{children:" Save PGs to favorites for quick access"}),s.jsx("li",{children:" Use filters to find exact matches"}),s.jsx("li",{children:" Read reviews before booking"}),s.jsx("li",{children:" Contact owners for questions"})]})]})]})]})]}),s.jsx(iK,{})]})},OG=({isOpen:e,onClose:t,owner:r})=>{if(!e)return null;const n=()=>{if(r!=null&&r.phone){const o=encodeURIComponent("Hi, I'm interested in your property and would like to get more information.");window.open(`https://wa.me/${r.phone.replace(/\D/g,"")}?text=${o}`,"_blank")}},i=()=>{if(r!=null&&r.email){const o=encodeURIComponent("Property Inquiry"),l=encodeURIComponent(`Hi ${r.name||"Owner"},

I'm interested in your property and would like to get more information.

Thank you!`);window.location.href=`mailto:${r.email}?subject=${o}&body=${l}`}},a=()=>{r!=null&&r.phone&&(window.location.href=`tel:${r.phone}`)};return s.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:s.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full p-6 transform transition-all",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ar,{className:"w-6 h-6"})}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(cr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Owner"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get in touch with the property owner"})]})]})}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(cr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Owner Name"}),s.jsx("p",{className:"font-medium text-gray-900",children:(r==null?void 0:r.name)||(r==null?void 0:r.ownerName)||"Not available"})]})]}),(r==null?void 0:r.phone)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Tn,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-gray-900",children:r.phone})]})]}),(r==null?void 0:r.email)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Jr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email Address"}),s.jsx("p",{className:"font-medium text-gray-900 break-all",children:r.email})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[(r==null?void 0:r.phone)&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Tn,{className:"w-5 h-5"}),"Call Owner"]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(ad,{className:"w-5 h-5"}),"WhatsApp"]})]}),(r==null?void 0:r.email)&&s.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(Jr,{className:"w-5 h-5"}),"Send Email"]})]}),s.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," Please be respectful when contacting the property owner. Provide your details and requirements clearly."]})})]})})]})},ube=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(""),[o,l]=j.useState([]),[c,d]=j.useState(!1),[u,A]=j.useState(null),f=Ar(),{toast:m}=to(),x=()=>{const N=localStorage.getItem("user");if(N)try{const C=JSON.parse(N);return C.id||C._id}catch(C){return console.error("Error parsing user data:",C),null}return null},g=async()=>{if(!x()){console.error("User ID not found"),n(!1);return}try{n(!0);const C=await Ye.get("/property/favorites");if(C.status===200){const P=C.data;console.log("Favorites RAW data:",JSON.stringify(P,null,2));const E=(P.favorites||[]).map(I=>{var F,B,O,R,U,$,K,H,z,te,ee,Z,V,X,W;return{...I,property:{...I.propertyId,propertyName:(F=I.propertyId)==null?void 0:F.property_name,address:(B=I.propertyId)==null?void 0:B.address,ownerName:((R=(O=I.propertyId)==null?void 0:O.owner_id)==null?void 0:R.name)||"Property Owner",ownerPhone:(($=(U=I.propertyId)==null?void 0:U.owner_id)==null?void 0:$.phone)||((H=(K=I.propertyId)==null?void 0:K.owner_id)==null?void 0:H.phoneNumber),ownerEmail:(te=(z=I.propertyId)==null?void 0:z.owner_id)==null?void 0:te.email,ownerProfilePicture:(Z=(ee=I.propertyId)==null?void 0:ee.owner_id)==null?void 0:Z.profilePicture},room:{...I.roomId,roomNumber:(V=I.roomId)==null?void 0:V.room_number,roomImage:(X=I.roomId)==null?void 0:X.room_image,toiletImage:(W=I.roomId)==null?void 0:W.toilet_image}}});t(E),l(E)}else console.error("Failed to fetch favorites")}catch(C){console.error("Error fetching favorites:",C)}finally{n(!1)}},v=async(N,C,P)=>{const E=x();if(E)try{const I=await Ye.post("/property/favorites/remove",{userId:E,propertyId:C,roomId:P});I.status===200?I.data.success&&(t(B=>B.filter(O=>O._id!==N)),l(B=>B.filter(O=>O._id!==N)),m({title:"Removed from Favorites",description:"Property has been removed from your favorites"})):(console.error("Failed to remove from favorites"),m({title:"Error",description:"Failed to remove from favorites",variant:"destructive"}))}catch(I){console.error("Error removing from favorites:",I),m({title:"Error",description:"Failed to remove from favorites",variant:"destructive"})}};j.useEffect(()=>{if(i){const N=e.filter(C=>{var B,O,R,U,$;const P=((O=(B=C.property)==null?void 0:B.propertyName)==null?void 0:O.toLowerCase())||"",E=(R=C.property)!=null&&R.address?typeof C.property.address=="string"?C.property.address.toLowerCase():`${C.property.address.street||""} ${C.property.address.city||""} ${C.property.address.state||""}`.toLowerCase():"",I=(($=(U=C.room)==null?void 0:U.roomNumber)==null?void 0:$.toLowerCase())||"",F=i.toLowerCase();return P.includes(F)||E.includes(F)||I.includes(F)});l(N)}else l(e)},[e,i]),j.useEffect(()=>{g()},[]);const y=N=>{switch(N.toLowerCase()){case"wifi":return s.jsx(sm,{className:"w-4 h-4"});case"ac":return s.jsx(Oz,{className:"w-4 h-4"});case"food":return s.jsx(Dg,{className:"w-4 h-4"});case"parking":return s.jsx(ac,{className:"w-4 h-4"});case"security":return s.jsx(tr,{className:"w-4 h-4"});default:return s.jsx(Zr,{className:"w-4 h-4"})}},b=N=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(N),w=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),_=N=>{var C,P,E,I;A({name:(C=N.property)==null?void 0:C.ownerName,phone:(P=N.property)==null?void 0:P.ownerPhone,email:(E=N.property)==null?void 0:E.ownerEmail,ownerName:(I=N.property)==null?void 0:I.ownerName}),d(!0)};return r?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your favorites..."})]})})}):s.jsxs(Br,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Favorites"}),s.jsx("p",{className:"text-gray-600",children:"Properties and rooms you've saved for later."})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsx("div",{className:"flex flex-col lg:flex-row gap-4",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search your favorites...",value:i,onChange:N=>a(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",o.length," of ",e.length," favorites"]}),s.jsx("button",{onClick:g,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Refresh"})]})]}),o.length===0?s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Gh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Favorites Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.length===0?"Start exploring properties and add them to your favorites to see them here!":"No favorites match your current search. Try adjusting your search criteria."}),e.length===0&&s.jsx("button",{onClick:()=>f("/seeker-dashboard"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]}):s.jsx("div",{className:"space-y-6",children:o.map((N,C)=>{var P,E,I,F,B,O,R,U,$,K;return s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1+C*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"lg:w-80 flex-shrink-0",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:((P=N.room)==null?void 0:P.roomImage)||((I=(E=N.property)==null?void 0:E.images)==null?void 0:I[0])||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:((F=N.property)==null?void 0:F.propertyName)||"Property",className:"w-full h-48 object-cover rounded-lg",onError:H=>{H.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop"}}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("button",{onClick:()=>v(N._id,N.propertyId,N.roomId),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:s.jsx(Tf,{className:"w-4 h-4"})})}),N.room&&s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs("span",{className:"px-3 py-1 bg-black bg-opacity-70 text-white text-sm font-medium rounded-lg",children:["Room ",N.room.roomNumber]})})]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:((B=N.property)==null?void 0:B.propertyName)||"Unnamed Property"})]}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[s.jsx(jr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(O=N.property)!=null&&O.address?typeof N.property.address=="string"?N.property.address:`${N.property.address.street||""}, ${N.property.address.city||""}, ${N.property.address.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Address not available"})]}),N.room&&s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(ua,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:["Room ",N.room.roomNumber]}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:N.room.roomType}),N.room.bedType&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:N.room.bedType})]})]}),((R=N.property)==null?void 0:R.propertyType)&&s.jsx("div",{className:"inline-block mb-2",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:N.property.propertyType})}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Or,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Added on ",w(N.addedAt)]})]})]}),s.jsxs("div",{className:"mt-4 lg:mt-0 lg:text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(U=N.room)!=null&&U.rent?b(N.room.rent):"Contact for Price"}),s.jsx("div",{className:"text-sm text-gray-600",children:N.room?"per month":"Property"})]})]}),(($=N.property)==null?void 0:$.amenities)&&Object.keys(N.property.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Property Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(N.property.amenities).filter(([H,z])=>z===!0).slice(0,6).map(([H,z])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[y(H),H]},H))})]}),((K=N.room)==null?void 0:K.amenities)&&Object.keys(N.room.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(N.room.amenities).filter(([H,z])=>z===!0).slice(0,6).map(([H,z])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[y(H),H]},H))})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:()=>{var H;return f(`/seeker/property/${(H=N.property)==null?void 0:H._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Pr,{className:"w-4 h-4"}),"View Property"]}),N.room&&s.jsxs("button",{onClick:()=>{var H;return f(`/seeker/room/${(H=N.room)==null?void 0:H._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(ua,{className:"w-4 h-4"}),"View Room"]}),s.jsxs("button",{onClick:()=>_(N),className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(ad,{className:"w-4 h-4"}),"Contact Owner"]})]})]})]})})},N._id)})})]}),s.jsx(OG,{isOpen:c,onClose:()=>d(!1),owner:u})]})},hbe=()=>{var ce,be,he,ge,Se;const[e,t]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState([]),[o,l]=j.useState("all"),[c,d]=j.useState(""),[u,A]=j.useState(!1),[f,m]=j.useState(null),[x,g]=j.useState(!1),[v,y]=j.useState(null),[b,w]=j.useState(!1),[_,N]=j.useState(!1),[C,P]=j.useState(null),[E,I]=j.useState(""),[F,B]=j.useState(!1),O=Ar(),{toast:R}=to(),U=()=>{const re=localStorage.getItem("user");if(re)try{const _e=JSON.parse(re);return _e.id||_e._id}catch(_e){return console.error("Error parsing user data:",_e),null}return null},$=async()=>{if(!U()){console.error("User ID not found"),n(!1);return}try{n(!0),n(!0);const _e=await Ye.get("/property/user/bookings");if(_e.status===200){const ue=_e.data;console.log("Bookings data received:",ue);const J=(ue.bookings||[]).map(fe=>{var Ie,ke,He,We,me,Be,Oe,Ne,Fe,it,pt,Re,gt,rt,ot,xt,Et,St,$t,bt,ht,lt,ut,nt,Ke,Ct,Gt,Xn,Vr,tn,gr,Ft,xs,ys,On;const ye={...fe,property:{...fe.propertySnapshot,_id:((Ie=fe.propertyId)==null?void 0:Ie._id)||fe.propertyId,propertyName:((ke=fe.propertyId)==null?void 0:ke.property_name)||((He=fe.propertyId)==null?void 0:He.propertyName)||((We=fe.propertySnapshot)==null?void 0:We.name),images:((me=fe.propertyId)==null?void 0:me.images)||((Be=fe.propertySnapshot)==null?void 0:Be.images)||[(Oe=fe.propertySnapshot)==null?void 0:Oe.image],address:((Ne=fe.propertyId)==null?void 0:Ne.address)||((Fe=fe.propertySnapshot)==null?void 0:Fe.address),security_deposit:((it=fe.propertyId)==null?void 0:it.security_deposit)||((pt=fe.propertyId)==null?void 0:pt.securityDeposit)||((Re=fe.propertySnapshot)==null?void 0:Re.security_deposit)},room:{...fe.roomSnapshot,_id:((gt=fe.roomId)==null?void 0:gt._id)||fe.roomId,roomNumber:((rt=fe.roomId)==null?void 0:rt.room_number)||((ot=fe.roomId)==null?void 0:ot.roomNumber)||((xt=fe.roomSnapshot)==null?void 0:xt.roomNumber),roomImage:((Et=fe.roomId)==null?void 0:Et.room_image)||((St=fe.roomId)==null?void 0:St.roomImage)||((bt=($t=fe.roomSnapshot)==null?void 0:$t.images)==null?void 0:bt.room)||((ht=fe.roomSnapshot)==null?void 0:ht.roomImage)||((ut=(lt=fe.roomSnapshot)==null?void 0:lt.images)==null?void 0:ut[0]),toiletImage:((nt=fe.roomId)==null?void 0:nt.toilet_image)||((Ke=fe.roomId)==null?void 0:Ke.toiletImage)||((Gt=(Ct=fe.roomSnapshot)==null?void 0:Ct.images)==null?void 0:Gt.toilet)||((Xn=fe.roomSnapshot)==null?void 0:Xn.toiletImage),rent:((Vr=fe.roomId)==null?void 0:Vr.rent)||((tn=fe.roomSnapshot)==null?void 0:tn.rent),roomType:((gr=fe.roomId)==null?void 0:gr.room_type)||((Ft=fe.roomId)==null?void 0:Ft.roomType)||((xs=fe.roomSnapshot)==null?void 0:xs.roomType)}};return console.log("[DEBUG] Final Mapped booking:",ye._id,{propertyImage:(ys=ye.property)==null?void 0:ys.images,roomImage:(On=ye.room)==null?void 0:On.roomImage,payment:ye.payment}),ye});t(J),a(J)}else console.error("Failed to fetch bookings")}catch(_e){console.error("Error fetching bookings:",_e)}finally{n(!1)}},K=re=>{y(re),g(!0)},H=()=>{g(!1),y(null),w(!1)},z=re=>{P(re),I(re.checkInDate?new Date(re.checkInDate).toISOString().split("T")[0]:""),N(!0)},te=()=>{N(!1),P(null),I(""),B(!1)},ee=async()=>{if(v)try{w(!0);const re=await Ye.delete(`/property/bookings/${v._id}`);if(re.status===200)R({title:"Success",description:(v==null?void 0:v.status)==="rejected"?"Rejected booking removed successfully":"Booking cancelled and removed successfully",variant:"default"}),$(),window.dispatchEvent(new Event("booking-cancelled")),H();else{const _e=re.data||{};R({title:"Error",description:_e.message||"Failed to cancel booking",variant:"destructive"})}}catch(re){console.error("Error cancelling booking:",re),R({title:"Error",description:"Failed to cancel booking. Please try again.",variant:"destructive"})}finally{w(!1)}},Z=async()=>{if(!(!C||!E))try{B(!0);const re=await Ye.post(`/property/user/check-in/${C._id}`,{checkInDate:E});if(re.status===200)R({title:"Success",description:"Check-in date marked successfully",variant:"default"}),$(),te();else{const _e=re.data||{};R({title:"Error",description:_e.message||"Failed to mark check-in date",variant:"destructive"})}}catch(re){console.error("Error marking check-in:",re),R({title:"Error",description:"Failed to mark check-in date. Please try again.",variant:"destructive"})}finally{B(!1)}};j.useEffect(()=>{let re=e;o!=="all"&&(re=re.filter(_e=>_e.status===o)),c&&(re=re.filter(_e=>{var Ie,ke,He,We,me;const ue=((ke=(Ie=_e.property)==null?void 0:Ie.propertyName)==null?void 0:ke.toLowerCase())||"",J=((We=(He=_e.room)==null?void 0:He.roomNumber)==null?void 0:We.toLowerCase())||"";let fe="";(me=_e.property)!=null&&me.address&&(typeof _e.property.address=="string"?fe=_e.property.address.toLowerCase():fe=`${_e.property.address.street||""} ${_e.property.address.city||""} ${_e.property.address.state||""} ${_e.property.address.pincode||""}`.toLowerCase());const ye=c.toLowerCase();return ue.includes(ye)||J.includes(ye)||fe.includes(ye)})),a(re)},[e,o,c]),j.useEffect(()=>{$()},[]);const V=(re,_e=null)=>{switch(re){case"confirmed":case"approved":return{color:"text-green-600 bg-green-100",icon:s.jsx(yt,{className:"w-4 h-4"}),text:"Approved"};case"checked_in":return{color:"text-blue-600 bg-blue-100",icon:s.jsx(yt,{className:"w-4 h-4"}),text:"Checked In"};case"pending_approval":return{color:"text-yellow-600 bg-yellow-100",icon:s.jsx(ns,{className:"w-4 h-4"}),text:"Pending Approval"};case"payment_pending":return{color:"text-orange-600 bg-orange-100",icon:s.jsx(ns,{className:"w-4 h-4"}),text:"Payment Pending"};case"rejected":return{color:"text-red-600 bg-red-100",icon:s.jsx(rr,{className:"w-4 h-4"}),text:"Rejected"};case"cancelled":return{color:"text-gray-600 bg-gray-100",icon:s.jsx(rr,{className:"w-4 h-4"}),text:_e==="user"?"Cancelled by User":"Cancelled"};default:return{color:"text-gray-600 bg-gray-100",icon:s.jsx(ns,{className:"w-4 h-4"}),text:"Unknown"}}},X=re=>re?new Date(re).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not specified",W=re=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(re),ae=re=>{var ue,J,fe;const _e=re.ownerId&&typeof re.ownerId=="object"?re.ownerId:re.ownerSnapshot||{name:(ue=re.property)==null?void 0:ue.ownerName,phone:(J=re.property)==null?void 0:J.ownerPhone,email:(fe=re.property)==null?void 0:fe.ownerEmail};console.log("[DEBUG] Opening contact modal with owner:",_e),m(_e),A(!0)},ie=re=>{switch(re.toLowerCase()){case"wifi":return s.jsx(sm,{className:"w-4 h-4"});case"parking":return s.jsx(ac,{className:"w-4 h-4"});case"security":return s.jsx(tr,{className:"w-4 h-4"});case"food":return s.jsx(Dg,{className:"w-4 h-4"});case"gym":return s.jsx(kz,{className:"w-4 h-4"});case"cctv":return s.jsx(As,{className:"w-4 h-4"});default:return s.jsx(Zr,{className:"w-4 h-4"})}};return r?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your bookings..."})]})})}):s.jsxs(Br,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Bookings"}),s.jsx("p",{className:"text-gray-600",children:"Manage and track all your room bookings and reservations."})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by property name, room number, or address...",value:c,onChange:re=>d(re.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsx("div",{className:"lg:w-64",children:s.jsxs("select",{value:o,onChange:re=>l(re.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"pending_approval",children:"Pending Approval"}),s.jsx("option",{value:"payment_pending",children:"Payment Pending"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",i.length," of ",e.length," bookings"]}),s.jsx("button",{onClick:$,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Refresh"})]})]}),i.length===0?s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Or,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Bookings Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.length===0?"You haven't made any bookings yet. Start exploring properties to book your perfect room!":"No bookings match your current filters. Try adjusting your search criteria."}),e.length===0&&s.jsx("button",{onClick:()=>O("/seeker-dashboard"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]}):s.jsx("div",{className:"space-y-6",children:i.map((re,_e)=>{var J,fe,ye,Ie,ke,He,We,me,Be,Oe,Ne,Fe,it,pt,Re,gt,rt,ot,xt,Et,St,$t,bt,ht,lt,ut,nt,Ke,Ct,Gt,Xn,Vr,tn,gr,Ft,xs,ys,On,is,br,Bt,un,ni,Vs,as,os,ls,Cn,et,Nt,Pt,ft,Ut,bn,Fr,Zn;const ue=V(re.status,re.cancelledBy);return console.log("Booking status:",re.status,"Booking ID:",re._id),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1+_e*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"lg:w-80 flex-shrink-0",children:[re.status==="rejected"?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full h-48 bg-red-50 border-2 border-red-200 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(rr,{className:"w-12 h-12 text-red-400 mx-auto mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Booking Rejected"}),s.jsx("p",{className:"text-red-500 text-sm",children:"Room details unavailable"})]})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${ue.color}`,children:[ue.icon,ue.text]})})]}):s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:((J=re.room)==null?void 0:J.roomImage)||((fe=re.room)==null?void 0:fe.room_image)||((ye=re.room)==null?void 0:ye.toilet_image)||((Ie=re.room)==null?void 0:Ie.toiletImage)||((He=(ke=re.room)==null?void 0:ke.images)==null?void 0:He.room)||((me=(We=re.room)==null?void 0:We.images)==null?void 0:me.toilet)||(Array.isArray((Be=re.property)==null?void 0:Be.images)?re.property.images[0]:((Ne=(Oe=re.property)==null?void 0:Oe.images)==null?void 0:Ne.front)||((pt=(it=(Fe=re.property)==null?void 0:Fe.images)==null?void 0:it.gallery)==null?void 0:pt[0]))||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:`Room ${((Re=re.room)==null?void 0:Re.roomNumber)||"N/A"} - ${((gt=re.property)==null?void 0:gt.propertyName)||"Property"}`,className:"w-full h-48 object-cover rounded-lg",onError:xe=>{xe.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop"}}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${ue.color}`,children:[ue.icon,ue.text]})}),s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs("span",{className:"px-3 py-1 bg-black bg-opacity-70 text-white text-sm font-medium rounded-lg",children:["Room ",((rt=re.room)==null?void 0:rt.roomNumber)||"N/A"]})})]}),re.status!=="rejected"&&(((xt=(ot=re.property)==null?void 0:ot.images)==null?void 0:xt[0])||((St=(Et=re.property)==null?void 0:Et.images)==null?void 0:St.front))&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[s.jsx(Zr,{className:"w-3 h-3"}),s.jsx("span",{children:"Property View"})]}),s.jsx("img",{src:Array.isArray(($t=re.property)==null?void 0:$t.images)?re.property.images[0]:((ht=(bt=re.property)==null?void 0:bt.images)==null?void 0:ht.front)||((nt=(ut=(lt=re.property)==null?void 0:lt.images)==null?void 0:ut.gallery)==null?void 0:nt[0]),alt:re.property.propertyName||"Property",className:"w-full h-20 object-cover rounded-lg"})]}),re.status!=="rejected"&&(((Ke=re.room)==null?void 0:Ke.images)&&re.room.images.length>1||((Ct=re.room)==null?void 0:Ct.roomImage)&&((Gt=re.room)==null?void 0:Gt.toiletImage))&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[s.jsx(As,{className:"w-3 h-3"}),s.jsx("span",{children:"Room Gallery"})]}),s.jsxs("div",{className:"flex gap-1 overflow-x-auto",children:[((Xn=re.room)==null?void 0:Xn.roomImage)&&s.jsx("img",{src:re.room.roomImage,alt:`Room ${((Vr=re.room)==null?void 0:Vr.roomNumber)||"N/A"} - Main`,className:"w-16 h-12 object-cover rounded border",onError:xe=>{xe.target.style.display="none"}}),((tn=re.room)==null?void 0:tn.toiletImage)&&s.jsx("img",{src:re.room.toiletImage,alt:`Room ${((gr=re.room)==null?void 0:gr.roomNumber)||"N/A"} - Bathroom`,className:"w-16 h-12 object-cover rounded border",onError:xe=>{xe.target.style.display="none"}}),((Ft=re.room)==null?void 0:Ft.images)&&re.room.images.slice(0,2).map((xe,Ge)=>{var at;return s.jsx("img",{src:xe,alt:`Room ${((at=re.room)==null?void 0:at.roomNumber)||"N/A"} - Photo ${Ge+1}`,className:"w-16 h-12 object-cover rounded border",onError:st=>{st.target.style.display="none"}},Ge)})]})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:((xs=re.property)==null?void 0:xs.propertyName)||"Unnamed Property"})]}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[s.jsx(jr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(ys=re.property)!=null&&ys.address?typeof re.property.address=="string"?re.property.address:`${re.property.address.street||""}, ${re.property.address.city||""}, ${re.property.address.state||""} ${re.property.address.pincode||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Address not available"})]}),re.status!=="rejected"&&s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(ua,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:["Room ",((On=re.room)==null?void 0:On.roomNumber)||"N/A"]}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:((is=re.room)==null?void 0:is.roomType)||"Standard Room"}),((br=re.room)==null?void 0:br.bedType)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:re.room.bedType})]})]}),re.status!=="rejected"&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-2",children:[((Bt=re.room)==null?void 0:Bt.occupancy)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Hr,{className:"w-3 h-3"}),s.jsxs("span",{children:[re.room.occupancy," person",re.room.occupancy>1?"s":""]})]}),((un=re.room)==null?void 0:un.roomSize)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zr,{className:"w-3 h-3"}),s.jsxs("span",{children:[re.room.roomSize," sq ft"]})]})]}),((ni=re.property)==null?void 0:ni.propertyType)&&s.jsx("div",{className:"inline-block",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:re.property.propertyType})})]}),s.jsx("div",{className:"mt-4 lg:mt-0 lg:text-right",children:re.status==="rejected"?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-red-600 mb-1",children:"Booking Rejected"}),s.jsx("div",{className:"text-sm text-red-500",children:"Room unavailable"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:W(((Vs=re.room)==null?void 0:Vs.rent)||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"per month"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Check-in:"}),s.jsx("span",{children:X(re.checkInDate)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Check-out:"}),s.jsx("span",{children:X(re.checkOutDate)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Security Deposit:"}),s.jsx("span",{children:W(((as=re.payment)==null?void 0:as.securityDeposit)||((os=re.property)==null?void 0:os.security_deposit)||((ls=re.property)==null?void 0:ls.securityDeposit)||re.securityDeposit||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Amount:"}),s.jsx("span",{className:"font-medium",children:W(((Cn=re.payment)==null?void 0:Cn.totalAmount)||re.totalAmount||(((et=re.room)==null?void 0:et.rent)||0)+(((Nt=re.payment)==null?void 0:Nt.securityDeposit)||((Pt=re.property)==null?void 0:Pt.security_deposit)||0)||0)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Info"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Payment Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${((ft=re.payment)==null?void 0:ft.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:((Ut=re.payment)==null?void 0:Ut.paymentStatus)||"Pending"})]}),((bn=re.payment)==null?void 0:bn.paidAt)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Paid On:"}),s.jsx("span",{children:X(re.payment.paidAt)})]}),re.approvedAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Approved On:"}),s.jsx("span",{children:X(re.approvedAt)})]})]})]})]}),re.status!=="rejected"&&((Fr=re.room)==null?void 0:Fr.amenities)&&Object.keys(re.room.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Room Amenities"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(re.room.amenities).filter(([xe,Ge])=>Ge===!0).slice(0,6).map(([xe,Ge])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[ie(xe),xe]},xe)),Object.keys(re.room.amenities).filter(xe=>re.room.amenities[xe]===!0).length>6&&s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:["+",Object.keys(re.room.amenities).filter(xe=>re.room.amenities[xe]===!0).length-6," more"]})]})]}),((Zn=re.property)==null?void 0:Zn.ownerName)&&s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Property Owner"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:re.property.ownerName})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("button",{onClick:()=>O(`/booking-dashboard/${re._id}`),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(Or,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]}),s.jsxs("button",{onClick:()=>{var xe;return O(`/seeker/property/${(xe=re.property)==null?void 0:xe._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(Pr,{className:"w-4 h-4"}),s.jsx("span",{children:"View Property"})]}),re.status!=="rejected"&&s.jsxs("button",{onClick:()=>{var xe;return O(`/seeker/room/${(xe=re.room)==null?void 0:xe._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(ua,{className:"w-4 h-4"}),s.jsx("span",{children:"View Room"})]}),s.jsxs("button",{onClick:()=>ae(re),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(Tn,{className:"w-4 h-4"}),s.jsx("span",{children:"Contact Owner"})]}),re.status!=="checked_in"&&re.status!=="rejected"&&s.jsxs("button",{onClick:()=>z(re),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(tu,{className:"w-4 h-4"}),s.jsx("span",{children:re.checkInDate?"Update Check-in":"Set Check-in"})]}),re.status==="rejected"?s.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:"Booking was rejected by owner"}):re.status==="checked_in"?s.jsx("div",{className:"text-center text-blue-600 text-sm py-2 font-medium",children:"Successfully Checked In"}):s.jsxs("button",{onClick:()=>K(re),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium border-2 border-red-800",children:[s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel Booking"})]})]})]})]})})},re._id)})})]}),s.jsx(OG,{isOpen:u,onClose:()=>A(!1),owner:f}),s.jsx(Mr,{children:x&&s.jsx(s.Fragment,{children:s.jsx(Y.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:H,children:s.jsxs(Y.div,{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:re=>re.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(rr,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(v==null?void 0:v.status)==="rejected"?"Remove Booking":"Cancel Booking"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),s.jsx("button",{onClick:H,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:b,children:s.jsx(ar,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xt,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium mb-1",children:"Warning"}),s.jsx("p",{className:"text-red-700 text-sm",children:(v==null?void 0:v.status)==="rejected"?"Are you sure you want to remove this rejected booking from your list? This action cannot be undone and the booking will be permanently removed.":"Are you sure you want to cancel this booking? This action cannot be undone and the booking will be permanently removed."})]})]})}),v&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Property:"}),s.jsx("span",{className:"font-medium",children:((ce=v.property)==null?void 0:ce.propertyName)||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Room:"}),s.jsxs("span",{className:"font-medium",children:["Room ",((be=v.room)==null?void 0:be.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${v.status==="confirmed"?"bg-green-100 text-green-800":v.status==="pending_approval"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:((he=v.status)==null?void 0:he.replace("_"," ").toUpperCase())||"N/A"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:H,disabled:b,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:((v==null?void 0:v.status)==="rejected","Keep Booking")}),s.jsx("button",{onClick:ee,disabled:b,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:(v==null?void 0:v.status)==="rejected"?"Removing...":"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:(v==null?void 0:v.status)==="rejected"?"Remove Booking":"Cancel Booking"})]})})]})]})})})}),s.jsx(Mr,{children:_&&s.jsx(s.Fragment,{children:s.jsx(Y.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:te,children:s.jsxs(Y.div,{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:re=>re.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(tu,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mark Check-in Date"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Select your check-in date"})]})]}),s.jsx("button",{onClick:te,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:F,children:s.jsx(ar,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[C&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Property:"}),s.jsx("span",{className:"font-medium",children:((ge=C.property)==null?void 0:ge.propertyName)||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Room:"}),s.jsxs("span",{className:"font-medium",children:["Room ",((Se=C.room)==null?void 0:Se.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Current Check-in:"}),s.jsx("span",{className:"font-medium",children:X(C.checkInDate)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Check-in Date *"}),s.jsx("input",{type:"date",id:"checkInDate",value:E,onChange:re=>I(re.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:F}),s.jsx("p",{className:"text-xs text-gray-500",children:"Select the date when you plan to check into the room"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:te,disabled:F,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:Z,disabled:F||!E,className:"flex-1 px-4 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:F?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Marking..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(tu,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark Check-in"})]})})]})]})})})})]})},Abe="http://localhost:5000/api",IC=String(Abe).replace(/\/$/,""),fbe=IC.endsWith("/api")?IC:`${IC}/api`,TC=`${fbe}/behaviour`,mbe=()=>{const e=Ar(),[t,r]=j.useState(!0),[n,i]=j.useState([]),[a,o]=j.useState({budget:8e3}),[l,c]=j.useState(null),[d,u]=j.useState(0),A=localStorage.getItem("authToken"),f=localStorage.getItem("user");j.useEffect(()=>{try{const b=f?JSON.parse(f):null;if(b&&(b.isNewUser===!1||b.hasCompletedBehaviorQuestions)){e("/seeker-dashboard",{replace:!0});return}}catch{}if(!A||!f){e("/login",{replace:!0});return}(async()=>{var b,w,_,N;try{try{const P=await _n.get(`${TC}/status`,{headers:{Authorization:`Bearer ${A}`}});if((b=P==null?void 0:P.data)!=null&&b.completed){const E=JSON.parse(localStorage.getItem("user")||"{}");localStorage.setItem("user",JSON.stringify({...E,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),e("/seeker-dashboard",{replace:!0});return}}catch{}const C=await _n.get(`${TC}/questions`,{headers:{Authorization:`Bearer ${A}`}});i(C.data.questions||[])}catch(C){const P=(w=C==null?void 0:C.response)==null?void 0:w.status,E=((N=(_=C==null?void 0:C.response)==null?void 0:_.data)==null?void 0:N.message)||(C==null?void 0:C.message)||"Failed to load questions. Please try again.";if(c(E),P===401){localStorage.removeItem("authToken"),localStorage.removeItem("user"),e("/login");return}}finally{r(!1)}})()},[e,A,f]);const m=(y,b)=>{o(w=>({...w,[y]:b}))},x=()=>u(y=>Math.min(y+1,((n==null?void 0:n.length)||1)-1)),g=()=>u(y=>Math.max(y-1,0)),v=async()=>{var y,b;try{c(null),await _n.post(`${TC}/answers`,{answers:a},{headers:{Authorization:`Bearer ${A}`}});const w=JSON.parse(localStorage.getItem("user"));localStorage.setItem("user",JSON.stringify({...w,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),e("/seeker-dashboard",{replace:!0})}catch(w){const _=((b=(y=w==null?void 0:w.response)==null?void 0:y.data)==null?void 0:b.message)||(w==null?void 0:w.message)||"Failed to submit. Please try again.";c(_)}};return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading questions..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-stone-100",children:[s.jsx(VK,{onMenuToggle:()=>{}}),s.jsx("div",{className:"pt-20"}),s.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tell us about you"}),s.jsx("p",{className:"text-gray-600",children:"This helps us personalize your co-living matches."})]}),l&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),s.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden mb-6",children:s.jsx("div",{className:"h-full bg-red-500 transition-all duration-300",style:{width:`${n.length?(d+1)/n.length*100:0}%`}})}),s.jsx(Mr,{mode:"wait",children:n[d]&&s.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-900",children:n[d].text}),s.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[d+1,"/",n.length]})]}),!n[d].type&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n[d].options.map(y=>s.jsxs(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>m(n[d].id,y),className:`flex items-center gap-3 px-4 py-3 rounded-xl border text-sm font-medium transition shadow-sm ${a[n[d].id]===y?"bg-red-600 text-white border-red-600 shadow":"bg-white text-gray-800 border-gray-300 hover:border-red-400"}`,children:[s.jsx("span",{className:"text-lg",children:pbe(y)}),s.jsx("span",{className:"truncate",children:y})]},y))}),n[d].type==="range"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{type:"range",min:n[d].min,max:n[d].max,value:a[n[d].id]??n[d].min,onChange:y=>m(n[d].id,Number(y.target.value)),className:"w-full"}),s.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-700",children:[s.jsxs("span",{children:[" ",a[n[d].id]??n[d].min]}),s.jsx("div",{className:"flex gap-2",children:[4e3,8e3,12e3].map(y=>s.jsxs("button",{onClick:()=>m(n[d].id,y),className:"px-2 py-1 rounded-lg border border-gray-300 hover:border-red-400 hover:text-red-600",children:[" ",y]},y))})]})]}),s.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[s.jsx("button",{onClick:g,disabled:d===0,className:"px-4 py-2 rounded-lg border text-sm disabled:opacity-40",children:"Back"}),d<n.length-1?s.jsx("button",{onClick:x,className:"px-5 py-2 rounded-lg bg-red-600 text-white text-sm font-semibold hover:bg-red-700",children:"Next"}):s.jsx("button",{onClick:v,className:"px-5 py-2 rounded-lg bg-red-600 text-white text-sm font-semibold hover:bg-red-700",children:"Finish"})]})]},n[d].id)})]})]})};function pbe(e){const t=String(e||"").toLowerCase();return t.includes("night")?"":t.includes("early")?"":t.includes("flex")?"":t.includes("outgoing")?"":t.includes("social")?"":t.includes("private")?"":t.includes("smoke")||t.includes("drink")?"":t.includes("yes")?"":t.includes("no")?"":t.includes("clean")?"":t.includes("veg")?"":t.includes("non")?"":t.includes("vegan")?"":t.includes("cook")?"":t.includes("order")?"":t.includes("quiet")?"":t.includes("noise")?"":t.includes("privacy")?"":t.includes("match")?"":""}const gbe=()=>{const e=Ar(),[t,r]=j.useState(!1),[n,i]=j.useState(null),[a,o]=j.useState(!0),[l,c]=j.useState(null),[d,u]=j.useState(!1),[A,f]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,x]=j.useState({current:!1,new:!1,confirm:!1}),[g,v]=j.useState({type:"",message:""}),[y,b]=j.useState({}),[w,_]=j.useState(!1),[N,C]=j.useState({name:"",email:"",phone:"",location:"",age:"",occupation:"",gender:"",joinDate:"",bio:"",isVerified:!1,trustScore:0,profilePicture:""}),P=U=>{if(!U)return!1;const $=!!U.phone,K=!(U.age===void 0||U.age===null||U.age==="")&&Number(U.age)>0,H=!!U.occupation,z=!!U.gender;return $&&K&&H&&z};j.useEffect(()=>{(async()=>{try{const $=localStorage.getItem("authToken"),K=localStorage.getItem("user");if(!$||!K){i(null),o(!1),e("/login");return}let H;try{H=JSON.parse(K)}catch(te){console.error("SeekerProfile: Error parsing user data:",te),c("Failed to load user data. Please log in again."),o(!1),setTimeout(()=>e("/login"),2e3);return}if(H.role!==1){console.warn("SeekerProfile: User role mismatch, redirecting"),e("/login");return}i(H),console.log("SeekerProfile: Loading user data from localStorage:",{id:H._id,name:H.name,age:H.age,gender:H.gender,phone:H.phone,occupation:H.occupation});const z=!H.age||!H.gender||!H.phone||!H.occupation;if(console.log("SeekerProfile: Should fetch fresh data from API:",z),console.log("SeekerProfile: Missing fields:",{age:!H.age,gender:!H.gender,phone:!H.phone,occupation:!H.occupation}),z)try{console.log("SeekerProfile: Fetching fresh user data from API...");const ee=(await Ye.get(`/user/profile/${H._id}`)).data;if(ee){console.log("SeekerProfile: Fresh data from API:",ee);const Z={...H,...ee};localStorage.setItem("user",JSON.stringify(Z)),i(Z),C(X=>({...X,name:ee.name||"",email:ee.email||"",profilePicture:ee.profilePicture||"",phone:ee.phone||"",location:ee.location||"",age:ee.age||"",occupation:ee.occupation||"",gender:ee.gender||"",bio:ee.bio||"",isVerified:ee.isVerified||!1,trustScore:95,joinDate:ee.createdAt?new Date(ee.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}));const V=[!ee.phone,ee.age===void 0||ee.age===null||ee.age==="",!ee.occupation,!ee.gender].some(Boolean);console.log("SeekerProfile: Profile completion check with fresh data:",{phone:ee.phone,age:ee.age,occupation:ee.occupation,gender:ee.gender,needsCompletion:V}),V&&(r(!0),_(!0))}else console.error("SeekerProfile: Failed to fetch fresh data from API"),C(V=>({...V,name:H.name||"",email:H.email||"",profilePicture:H.profilePicture||"",phone:H.phone||"",location:H.location||"",age:H.age||"",occupation:H.occupation||"",gender:H.gender||"",bio:H.bio||"",isVerified:H.isVerified||!1,trustScore:95,joinDate:H.createdAt?new Date(H.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"})),[!H.phone,H.age===void 0||H.age===null||H.age==="",!H.occupation,!H.gender].some(Boolean)&&(r(!0),_(!0))}catch(te){console.error("SeekerProfile: Error fetching fresh data:",te),C(Z=>({...Z,name:H.name||"",email:H.email||"",profilePicture:H.profilePicture||"",phone:H.phone||"",location:H.location||"",age:H.age||"",occupation:H.occupation||"",gender:H.gender||"",bio:H.bio||"",isVerified:H.isVerified||!1,trustScore:95,joinDate:H.createdAt?new Date(H.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"})),[!H.phone,H.age===void 0||H.age===null||H.age==="",!H.occupation,!H.gender].some(Boolean)&&(r(!0),_(!0))}else{C(ee=>({...ee,name:H.name||"",email:H.email||"",profilePicture:H.profilePicture||"",phone:H.phone||"",location:H.location||"",age:H.age||"",occupation:H.occupation||"",gender:H.gender||"",bio:H.bio||"",isVerified:H.isVerified||!1,trustScore:95,joinDate:H.createdAt?new Date(H.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}));const te=[!H.phone,H.age===void 0||H.age===null||H.age==="",!H.occupation,!H.gender].some(Boolean);console.log("SeekerProfile: Profile completion check with localStorage data:",{phone:H.phone,age:H.age,occupation:H.occupation,gender:H.gender,needsCompletion:te}),te&&(r(!0),_(!0))}}catch($){console.error("SeekerProfile: Error in fetchUserData:",$),c(`An error occurred: ${$.message}`),i(null),setTimeout(()=>e("/login"),2e3)}finally{o(!1)}})()},[e]);const E=(U,$)=>{C(K=>({...K,[U]:$}))},I=(U,$)=>{f(K=>({...K,[U]:$}))},F=U=>{x($=>({...$,[U]:!$[U]}))},B=async()=>{try{v({type:"loading",message:"Saving changes..."});const U={},$=/^\+?[0-9]{7,14}$/;(!N.phone||!$.test(String(N.phone).trim()))&&(U.phone="Enter a valid phone number (7-14 digits).");const K=Number(N.age);if((!N.age||Number.isNaN(K)||K<1||K>120)&&(U.age="Age must be a number between 1 and 120."),(!N.occupation||String(N.occupation).trim().length<2)&&(U.occupation="Occupation is required."),(!N.gender||!["male","female","other"].includes(String(N.gender)))&&(U.gender="Select a gender option."),b(U),Object.keys(U).length>0){v({type:"error",message:"Please fix the highlighted fields."});return}if(!localStorage.getItem("authToken"))throw new Error("No authentication token found");const z={name:N.name,phone:N.phone,age:N.age?Number(N.age):null,occupation:N.occupation,gender:N.gender||null,bio:N.bio};console.log("SeekerProfile: Sending update payload:",z),console.log("SeekerProfile: User ID being used:",n._id);const ee=(await Ye.put(`/user/profile/${n._id}`,z)).data;console.log("SeekerProfile: API response:",ee);const V={...JSON.parse(localStorage.getItem("user")),...ee.user};localStorage.setItem("user",JSON.stringify(V)),i(V),C(X=>({...X,name:ee.user.name||"",email:ee.user.email||"",profilePicture:ee.user.profilePicture||"",phone:ee.user.phone||"",location:ee.user.location||"",age:ee.user.age||"",occupation:ee.user.occupation||"",gender:ee.user.gender||"",bio:ee.user.bio||"",isVerified:ee.user.isVerified||!1})),console.log("SeekerProfile: Updated profileData:",{age:ee.user.age,gender:ee.user.gender,phone:ee.user.phone,occupation:ee.user.occupation}),r(!1),v({type:"success",message:"Profile updated successfully!"}),window.dispatchEvent(new Event("lyvo-profile-update")),P({phone:ee.user.phone,age:ee.user.age,occupation:ee.user.occupation,gender:ee.user.gender})&&_(!1),setTimeout(()=>v({type:"",message:""}),3e3)}catch(U){v({type:"error",message:U.message||"Failed to update profile"}),setTimeout(()=>v({type:"",message:""}),3e3)}},O=U=>{C($=>({...$,profilePicture:U})),v({type:"success",message:"Profile picture updated successfully!"}),setTimeout(()=>v({type:"",message:""}),3e3)},R=async()=>{try{if(A.newPassword!==A.confirmPassword){v({type:"error",message:"New passwords do not match"});return}if(A.newPassword.length<6){v({type:"error",message:"Password must be at least 6 characters long"});return}v({type:"loading",message:"Updating password..."}),await Ye.post("/user/change-password",{currentPassword:A.currentPassword,newPassword:A.newPassword}),v({type:"success",message:"Password updated successfully!"}),u(!1),f({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>v({type:"",message:""}),3e3)}catch(U){v({type:"error",message:U.message||"Failed to update password"}),setTimeout(()=>v({type:"",message:""}),3e3)}};return s.jsx(Br,{children:a?s.jsx("div",{className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."}),l&&s.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg max-w-md mx-auto",children:s.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[s.jsx(Xt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:l})]})})]})}):n?s.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:s.jsxs("div",{className:"relative min-h-[16rem] md:h-48 bg-gradient-to-r from-red-500/10 via-red-600/10 to-red-700/10 flex flex-col justify-end md:block",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-transparent"}),s.jsx("div",{className:"absolute top-4 right-4 md:top-6 md:right-8 z-10",children:s.jsxs(Y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!t),className:"bg-white/90 backdrop-blur-sm text-gray-700 px-3 py-1.5 md:px-4 md:py-2 rounded-xl font-medium flex items-center space-x-2 shadow-lg hover:bg-white transition-all duration-300 text-sm md:text-base",children:[t?s.jsx(ar,{className:"w-4 h-4"}):s.jsx(ff,{className:"w-4 h-4"}),s.jsx("span",{children:t?"Cancel":"Edit"})]})}),s.jsxs("div",{className:"relative p-6 pt-12 md:p-0 md:absolute md:bottom-6 md:left-8 flex flex-col md:flex-row items-center md:items-end space-y-3 md:space-y-0 md:space-x-6 w-full md:w-auto",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(l6,{currentImage:N.profilePicture,onImageUpdate:O,className:"w-20 h-20 md:w-24 md:h-24"}),N.isVerified&&s.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 md:w-6 md:h-6 bg-green-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:s.jsx(tr,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"text-gray-900 pb-0 md:pb-2 text-center md:text-left",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-1",children:N.name||"User"}),s.jsxs("p",{className:"text-gray-600 flex items-center justify-center md:justify-start space-x-2 text-sm md:text-base",children:[s.jsx(Or,{className:"w-4 h-4"}),s.jsxs("span",{children:["Joined ",N.joinDate||"Recently"]})]})]})]})]})})}),s.jsx(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-8 flex justify-end",children:s.jsxs(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const U=Bp(n);e(U==="/seeker-profile"||U==="/onboarding"?"/seeker-dashboard":U)},className:"w-full sm:w-auto bg-gradient-to-r from-red-600 to-red-700 text-white px-8 py-3 rounded-xl font-bold flex items-center justify-center space-x-2 shadow-lg shadow-red-500/30 hover:shadow-red-500/40 transition-all duration-300",children:[s.jsx(Cue,{className:"w-5 h-5"}),s.jsx("span",{children:"Go to Dashboard"})]})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 md:p-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Personal Information"}),s.jsx("div",{className:"flex items-center space-x-2 self-start sm:self-auto",children:s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{children:"Verified"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),t?s.jsx("input",{type:"text",value:N.name,onChange:U=>E("name",U.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gender"}),t?s.jsxs("select",{value:N.gender,onChange:U=>E("gender",U.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.gender?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.gender?N.gender.charAt(0).toUpperCase()+N.gender.slice(1):"Not provided"}),t&&y.gender&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.gender})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(Jr,{className:"w-4 h-4 mr-2 text-gray-400"}),N.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),t?s.jsx("input",{type:"tel",value:N.phone,onChange:U=>E("phone",U.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.phone?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2 text-gray-400"}),N.phone||"Not provided"]}),t&&y.phone&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Age"}),t?s.jsx("input",{type:"number",min:0,max:120,value:N.age,onChange:U=>E("age",U.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.age?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,placeholder:"Your age"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.age||"Not provided"}),t&&y.age&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.age})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Occupation"}),t?s.jsx("input",{type:"text",value:N.occupation,onChange:U=>E("occupation",U.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.occupation?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,placeholder:"e.g., Student, Software Engineer"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.occupation||"Not provided"}),t&&y.occupation&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.occupation})]})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Trust Score"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:N.trustScore})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Excellent Profile"})]})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"w-full px-4 py-3 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-300 flex items-center justify-center space-x-2",children:[s.jsx(uc,{className:"w-4 h-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]}),t&&s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:s.jsx("div",{className:"text-center mt-8",children:s.jsxs(Y.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:B,disabled:g.type==="loading",className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Bv,{className:"w-5 h-5"}),s.jsx("span",{children:g.type==="loading"?"Saving...":"Save Changes"})]})})}),g.message&&s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`fixed top-20 right-4 z-50 px-6 py-3 rounded-xl shadow-lg ${g.type==="success"?"bg-green-100 border border-green-300 text-green-800":g.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-100 border border-blue-300 text-blue-800"}`,children:g.message}),w&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full border border-blue-200",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Complete your profile to continue"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Phone, Age, Occupation, and Gender are required."})]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:[!N.phone&&s.jsx("li",{children:"Phone Number is missing"}),(N.age===void 0||N.age===null||N.age==="")&&s.jsx("li",{children:"Age is missing"}),!N.occupation&&s.jsx("li",{children:"Occupation is missing"}),!N.gender&&s.jsx("li",{children:"Gender is missing"})]})}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsx("button",{onClick:()=>{r(!0),_(!1)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Edit Now"}),s.jsx("button",{disabled:!P(N),onClick:()=>_(!1),className:`flex-1 px-4 py-2 rounded-lg ${P(N)?"bg-green-600 text-white hover:bg-green-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Continue"})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-8 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Change Password"}),s.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(ar,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.current?"text":"password",value:A.currentPassword,onChange:U=>I("currentPassword",U.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>F("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.current?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.new?"text":"password",value:A.newPassword,onChange:U=>I("newPassword",U.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>F("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.new?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.confirm?"text":"password",value:A.confirmPassword,onChange:U=>I("confirmPassword",U.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>F("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.confirm?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300",children:"Cancel"}),s.jsx("button",{onClick:R,disabled:g.type==="loading",className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-300 disabled:opacity-50",children:g.type==="loading"?"Updating...":"Update Password"})]})]})]})})]})}):s.jsx("div",{className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(cr,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access your profile."}),s.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-lg font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200",children:"Go to Login"})]})})})};delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const xbe=()=>{var E,I,F,B,O;const{id:e}=ju(),t=Ar(),{toast:r}=to(),[n,i]=j.useState(null),[a,o]=j.useState(!0),[l,c]=j.useState(!1),[d,u]=j.useState([0,0]),[A,f]=j.useState(!1),m=j.useRef(null),x=()=>{var R;(R=n==null?void 0:n.ownerDetails)!=null&&R.phone?window.location.href=`tel:${n.ownerDetails.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})},g=()=>{var R;(R=n==null?void 0:n.ownerDetails)!=null&&R.phone?window.location.href=`sms:${n.ownerDetails.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})},y=n?(R=>{if(!(R!=null&&R.images))return[];const{gallery:U,...$}=R.images,K=Object.values($).filter(z=>typeof z=="string"&&z.length>0),H=Array.isArray(U)?U:[];return[...K,...H]})(n):[],b=R=>{if(!R)return"";if(typeof R=="string")return R;const{street:U,city:$,state:K,pincode:H,landmark:z}=R;return[U,z,$,K,H].filter(Boolean).join(", ")},w=()=>{if(!(n!=null&&n.rooms)||n.rooms.length===0)return 0;const R=n.rooms.map(U=>U.rent||0);return Math.min(...R)};j.useEffect(()=>{e&&(async()=>{o(!0);try{const $=(await Ye.get(`/property/public/properties/${e}`)).data;$.success&&$.data?(i($.data),$.data.latitude&&$.data.longitude&&u([parseFloat($.data.latitude),parseFloat($.data.longitude)])):console.error("Property data missing:",$)}catch(U){console.error("Error fetching property details:",U),r({title:"Error",description:"Failed to load property details",variant:"destructive"})}finally{o(!1)}})()},[e,r]);const _=()=>{var R;(R=m.current)==null||R.scrollIntoView({behavior:"smooth"})};if(a)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(!n)return s.jsx(Br,{children:s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Property Not Found"}),s.jsx("button",{onClick:()=>t(-1),className:"text-blue-600 hover:underline",children:"Go Back"})]})});const N=w(),C=n.ownerDetails,P=async()=>{if(navigator.share)try{await navigator.share({title:n.property_name,text:`Check out this property: ${n.property_name}`,url:window.location.href})}catch(R){console.log("Error sharing:",R)}else navigator.clipboard.writeText(window.location.href),r({title:"Link copied",description:"Property link copied to clipboard"})};return s.jsx(Br,{children:s.jsxs("div",{className:`min-h-screen bg-gray-50 pb-20 md:pb-10 ${A?"overflow-hidden h-screen":""}`,children:[s.jsx(Mr,{children:A&&s.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 text-white border-b border-gray-800",children:[s.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(ar,{className:"w-6 h-6"})}),s.jsxs("span",{className:"font-medium",children:["All Photos (",y.length,")"]}),s.jsx("div",{className:"w-10"})," "]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:s.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map((R,U)=>s.jsx("div",{className:"aspect-video relative group overflow-hidden rounded-lg",children:s.jsx("img",{src:R,alt:`Property ${U+1}`,className:"w-full h-full object-cover"})},U))})})]})}),s.jsx("div",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(ei,{className:"w-5 h-5 text-gray-600"})})}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:P,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600",children:s.jsx(tg,{className:"w-5 h-5"})})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8 mt-2",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:n.property_name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-600 text-lg",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jr,{className:"w-5 h-5"})," ",b(n.address)]}),s.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Di,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"})," 4.8 (12 reviews)"]})]})]}),s.jsxs("div",{className:"relative rounded-2xl overflow-hidden h-[300px] md:h-[450px] mb-8",children:[y.length===0?s.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:"No Images Available"}):y.length===1?s.jsx("img",{src:y[0],alt:"Property",className:"w-full h-full object-cover"}):s.jsxs("div",{className:"w-full h-full grid grid-cols-1 md:grid-cols-4 grid-rows-2 gap-2",children:[s.jsx("div",{className:"col-span-2 row-span-2 relative group cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:y[0],alt:"Main",className:"w-full h-full object-cover hover:opacity-95 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:y[1],alt:"Side 1",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:y[2]||y[1],alt:"Side 2",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:y[3]||y[1],alt:"Side 3",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsxs("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:[s.jsx("img",{src:y[4]||y[1],alt:"Side 4",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center hover:bg-black/40 transition-colors",children:s.jsxs("button",{onClick:R=>{R.stopPropagation(),f(!0)},className:"px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg text-sm font-semibold shadow-sm hover:scale-105 transition-transform flex items-center gap-2",children:[s.jsx(wF,{className:"w-4 h-4"})," Show all photos"]})})]})]}),s.jsxs("button",{onClick:()=>f(!0),className:"md:hidden absolute bottom-4 right-4 px-3 py-1.5 bg-white/90 backdrop-blur-md rounded-lg text-xs font-semibold shadow-sm flex items-center gap-2",children:[s.jsx(wF,{className:"w-3 h-3"})," Show all photos"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-md transition-shadow duration-300",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About this place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:n.description||"A beautiful property located in a prime area, offering comfortable living spaces and modern amenities for a hassle-free stay."}),s.jsx("div",{className:"mt-8 border-t border-gray-100 pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Rent starts from"}),s.jsxs("div",{className:"flex items-end gap-1",children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",N.toLocaleString()]}),s.jsx("span",{className:"text-gray-500 mb-1",children:"/ month"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-green-50 text-green-700 border border-green-100",children:[s.jsx(yt,{className:"w-3.5 h-3.5"})," Zero Brokerage"]}),s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-blue-50 text-blue-700 border border-blue-100",children:[s.jsx(yt,{className:"w-3.5 h-3.5"})," Instant Booking"]}),s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-purple-50 text-purple-700 border border-purple-100",children:[s.jsx(yt,{className:"w-3.5 h-3.5"})," Verified Listing"]})]})]}),s.jsxs("button",{onClick:_,className:"px-8 py-3.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold text-lg rounded-xl shadow-md hover:shadow-lg transition-all transform active:scale-95 flex items-center justify-center gap-2 shrink-0",children:[s.jsx(yt,{className:"w-5 h-5"}),"Check Available Rooms"]})]})})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Property Highlights"}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:s.jsx(ua,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1",children:[((E=n.rooms)==null?void 0:E.filter(R=>R.is_available).length)||0,s.jsxs("span",{className:"text-sm font-medium text-gray-400 ml-1",children:["/ ",((I=n.rooms)==null?void 0:I.length)||0]})]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Rooms Available"})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:s.jsx(Hr,{className:"w-5 h-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1",children:n.maxOccupancy||((F=n.rooms)==null?void 0:F.reduce((R,U)=>R+(U.occupancy||0),0))||"N/A"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Total Capacity"})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:s.jsx(gi,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1",children:["",(n.security_deposit||0).toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Security Deposit"})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:s.jsx(tr,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1 text-purple-700",children:"Verified"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Listing Status"})]})]})]})]}),s.jsx("hr",{className:"border-gray-100"}),n.amenities&&Object.keys(n.amenities).some(R=>n.amenities[R])&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What this place offers"}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(n.amenities).filter(([,R])=>R===!0).map(([R])=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-transparent hover:border-blue-100 hover:bg-blue-50/50 transition-colors group",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center shadow-sm",children:s.jsx(yt,{className:"w-4 h-4 text-blue-600"})}),s.jsx("span",{className:"text-gray-700 font-medium capitalize",children:R.replace(/([A-Z0-9])/g," $1").trim()})]},R))})]}),s.jsx("hr",{className:"border-gray-100"}),n.rules&&Object.keys(n.rules).some(R=>n.rules[R]!==void 0)&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.rules).map(([R,U])=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-100 rounded-xl hover:shadow-md transition-shadow",children:[s.jsx("span",{className:"text-gray-700 font-medium capitalize flex items-center gap-2",children:R.replace(/([A-Z0-9])/g," $1").trim()}),U?s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-green-50 text-green-700 border border-green-100",children:"Allowed"}):s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-red-50 text-red-700 border border-red-100",children:"Not Allowed"})]},R))})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{ref:m,className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Available Rooms"}),n.rooms&&n.rooms.length>0?s.jsx("div",{className:"space-y-6",children:n.rooms.map(R=>{var U;return s.jsxs("div",{className:`relative flex flex-col md:flex-row gap-6 p-5 bg-white border rounded-2xl transition-all duration-300 group cursor-pointer
                          ${R.is_available?"border-gray-100 hover:border-blue-100 shadow-sm hover:shadow-lg":"border-gray-100 bg-gray-50/50 opacity-90"}`,onClick:()=>t(`/seeker/room/${R._id}`,{state:{fromPropertyId:e}}),children:[s.jsxs("div",{className:"w-full md:w-64 h-48 rounded-xl overflow-hidden shrink-0 relative bg-gray-200",children:[R.room_image?s.jsx("img",{src:R.room_image,alt:`Room ${R.roomNumber}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx(ua,{className:"w-10 h-10"})}),s.jsx("div",{className:"absolute top-3 left-3 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-lg text-xs font-bold text-gray-700 shadow-sm",children:R.room_type||R.type}),s.jsxs("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-lg text-xs font-bold text-blue-600 shadow-sm flex items-center gap-1",children:[s.jsx(Di,{className:"w-3 h-3 fill-blue-600"}),R.compatibility_score||92,"% Match"]})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:["Room ",R.roomNumber||R.room_number]}),!R.is_available&&s.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-red-100 text-red-700 uppercase tracking-wide",children:"Unavailable"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1.5 bg-gray-50 px-2 py-1 rounded-md",children:[s.jsx(Hr,{className:"w-4 h-4"}),"Occupancy: ",s.jsxs("span",{className:`${(R.current_occupants||0)>=R.occupancy?"text-red-500 font-bold":"text-green-600 font-bold"}`,children:[R.current_occupants||0," / ",R.occupancy]})]}),s.jsxs("span",{className:"flex items-center gap-1.5 bg-gray-50 px-2 py-1 rounded-md",children:[s.jsx(zA,{className:"w-4 h-4"}),R.room_size||R.dimension," sq ft"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"flex items-baseline justify-end gap-1",children:s.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["",(U=R.rent)==null?void 0:U.toLocaleString()]})}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"per month"})]})]}),s.jsx("div",{className:"h-px bg-gray-50 my-4"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Includes"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[R.amenities&&Object.entries(R.amenities).filter(([,$])=>$).slice(0,5).map(([$])=>s.jsx("span",{className:"px-2.5 py-1.5 bg-gray-50 border border-gray-100 rounded-lg text-xs font-medium text-gray-600 capitalize group-hover:bg-blue-50/50 group-hover:text-blue-700 group-hover:border-blue-100 transition-colors",children:$.replace(/([A-Z])/g," $1").trim()},$)),R.amenities&&Object.values(R.amenities).filter($=>$).length>5&&s.jsxs("span",{className:"px-2 py-1 text-xs text-gray-400 self-center",children:["+",Object.values(R.amenities).filter($=>$).length-5," more"]})]})]}),s.jsxs("div",{className:"mt-auto flex items-center justify-between pt-2",children:[R.is_available?s.jsxs("div",{className:"flex items-center gap-2 text-green-600 bg-green-50/50 px-3 py-1.5 rounded-full",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),s.jsx("span",{className:"text-xs font-bold",children:"Available Now"})]}):s.jsx("div",{className:"text-xs font-medium text-gray-400 px-2",children:"Currently Unavailable"}),s.jsxs("span",{className:"flex items-center gap-1 text-sm font-semibold text-blue-600 group-hover:translate-x-1 transition-transform",children:["View Details ",s.jsx(ei,{className:"w-4 h-4 rotate-180"})]})]})]})]},R._id)})}):s.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-xl text-gray-500 border border-dashed border-gray-300",children:"No rooms listed yet."})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Where you'll be"}),s.jsx("div",{className:"h-64 md:h-[400px] w-full rounded-2xl overflow-hidden relative z-0 border border-gray-200",children:n.latitude&&n.longitude?s.jsxs("div",{className:"relative h-full w-full group",children:[s.jsxs(Yh,{center:d,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,dragging:!1,zoomControl:!1,children:[s.jsx(Zh,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(Xh,{position:d})]}),s.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${n.latitude},${n.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 bg-black/5 group-hover:bg-black/10 transition-colors z-[400] flex items-center justify-center",children:s.jsxs("button",{className:"bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg text-sm font-semibold text-gray-800 flex items-center gap-2 transform group-hover:scale-105 transition-all",children:[s.jsx(jr,{className:"w-4 h-4 text-blue-600"}),"Open in Google Maps"]})})]}):s.jsxs("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-500",children:[s.jsx(jr,{className:"w-8 h-8 mb-2"}),s.jsx("p",{children:"Map location unavailable"})]})}),s.jsxs("p",{className:"text-gray-600",children:[(B=n.address)==null?void 0:B.city,", ",(O=n.address)==null?void 0:O.state]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"sticky top-28 space-y-6",children:C&&s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[C.profilePicture?s.jsx("img",{src:C.profilePicture,alt:C.name,className:"w-14 h-14 rounded-full object-cover"}):s.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:s.jsx(cr,{className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Listed by"}),s.jsx("h4",{className:"font-bold text-gray-900 text-lg leading-tight",children:C.name||"Verified Owner"}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600 font-medium mt-1",children:[s.jsx(tr,{className:"w-3 h-3 fill-blue-600"}),"Verified"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:x,className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg font-semibold hover:bg-blue-100 transition-colors",children:[s.jsx(Tn,{className:"w-4 h-4"}),"Call"]}),s.jsxs("button",{onClick:g,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-50 text-green-700 rounded-lg font-semibold hover:bg-green-100 transition-colors",children:[s.jsx(ad,{className:"w-4 h-4"}),"Message"]})]})]})})})]})]})]})})},ybe=()=>{var H,z,te,ee;const{propertyId:e}=ju(),t=Ar(),{toast:r}=to(),[n,i]=j.useState(null),[a,o]=j.useState([]),[l,c]=j.useState(!0),[d,u]=j.useState({}),[A,f]=j.useState({}),[m,x]=j.useState({}),[g,v]=j.useState({lat:12.9716,lng:77.5946}),[y,b]=j.useState(15),[w,_]=j.useState(!1),[N,C]=j.useState(null),P=j.useRef(null),E=j.useRef(null),I=j.useRef(null),F=()=>{const Z=localStorage.getItem("user");if(Z)try{const V=JSON.parse(Z);return V.id||V._id}catch(V){return console.error("Error parsing user data:",V),null}return null},B=async Z=>{const V=F();if(!(!V||!Z)){x(X=>({...X,[Z]:!0}));try{const X=await Ye.get(`/bookings/check-status?userId=${V}&roomId=${Z}`),W=X.data;if(f(ae=>({...ae,[Z]:W})),X.ok){const ae=await X.json();f(ie=>({...ie,[Z]:ae}))}}catch(X){console.error("Error checking booking status:",X)}finally{x(X=>({...X,[Z]:!1}))}}},O=async()=>{try{if(!window.google||!window.google.maps){const Z=document.createElement("script");Z.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoPzRJLAmma54BBOyF4AhZ2ZIqGvak8CA&libraries=places,geometry",Z.async=!0,Z.defer=!0,await new Promise((V,X)=>{Z.onload=V,Z.onerror=X,document.head.appendChild(Z)})}P.current&&window.google&&window.google.maps&&(E.current=new window.google.maps.Map(P.current,{center:g,zoom:y,mapTypeId:window.google.maps.MapTypeId.ROADMAP}),I.current=new window.google.maps.Marker({position:g,map:E.current,title:(n==null?void 0:n.property_name)||"Property Location"}))}catch(Z){console.error("Error initializing Google Maps:",Z)}},R=async()=>{try{c(!0);const V=(await Ye.get(`/property/public/properties/${e}`)).data;if(console.log("Property API Response Data:",V),V.success&&V.data){i(V.data);const X=V.data.rooms||[];o(X),X.forEach(W=>{W._id&&B(W._id)}),V.data.latitude&&V.data.longitude&&v({lat:parseFloat(V.data.latitude),lng:parseFloat(V.data.longitude)})}else throw new Error(V.message||"Failed to fetch property details")}catch(Z){console.error("Error fetching property details:",Z),r({title:"Error",description:`Failed to load property details: ${Z.message}`,variant:"destructive"})}finally{c(!1)}},U=async Z=>{const V=F();if(!V){r({title:"Authentication Required",description:"Please login to book a room",variant:"destructive"}),t("/login");return}u(X=>({...X,[Z]:!0}));try{const W=(await Ye.post("/property/payments/create-order",{userId:V,roomId:Z,propertyId:e})).data;console.log("Payment order created:",W);const ae={key:"rzp_test_RL5vMta3bKvRd4",amount:W.order.amount,currency:W.order.currency,name:"Lyvo",description:`Booking for ${W.paymentDetails.roomDetails.roomType} Room`,order_id:W.order.id,handler:async function(ce){try{const he=(await Ye.post("/property/payments/verify",{razorpay_order_id:ce.razorpay_order_id,razorpay_payment_id:ce.razorpay_payment_id,razorpay_signature:ce.razorpay_signature,userId:V,roomId:Z,propertyId:e,monthlyRent:W.paymentDetails.monthlyRent,securityDeposit:W.paymentDetails.securityDeposit})).data;console.log("Payment verified and booking created:",he),r({title:"Payment Successful!",description:"Your payment has been processed. Waiting for owner approval.",variant:"default"})}catch(be){console.error("Payment verification error:",be),r({title:"Payment Verification Failed",description:"Please contact support.",variant:"destructive"})}},prefill:{name:(()=>{const ce=localStorage.getItem("user");if(ce)try{return JSON.parse(ce).name||""}catch{return""}return""})(),email:(()=>{const ce=localStorage.getItem("user");if(ce)try{return JSON.parse(ce).email||""}catch{return""}return""})(),contact:(()=>{const ce=localStorage.getItem("user");if(ce)try{return JSON.parse(ce).phone||""}catch{return""}return""})()},theme:{color:"#2563eb"},modal:{ondismiss:function(){r({title:"Payment Cancelled",description:"Payment was cancelled. You can try again.",variant:"destructive"})}}};new window.Razorpay(ae).open()}catch(X){console.error("Error creating payment order:",X),r({title:"Error",description:"Failed to initiate payment. Please try again.",variant:"destructive"})}finally{u(X=>({...X,[Z]:!1}))}},$=()=>Math.floor(Math.random()*30)+70,K=()=>Math.random()>.3;return j.useEffect(()=>{e&&R()},[e]),j.useEffect(()=>{n&&g.lat&&g.lng&&O()},[n,g]),l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading property details..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Property ID: ",e]})]})}):n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.property_name}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[(H=n.address)==null?void 0:H.street,", ",(z=n.address)==null?void 0:z.city,", ",(te=n.address)==null?void 0:te.state]})]}),s.jsx("button",{onClick:()=>t("/seeker/dashboard"),className:"text-gray-600 hover:text-gray-900 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.images&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Images"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(n.images).map(([Z,V])=>V&&typeof V=="string"?s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:V,alt:`Property ${Z}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})},Z):null)})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"About this property"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.description}),n.amenities&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Property Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(n.amenities).map(([Z,V])=>V===!0?s.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full",children:Z.replace(/([A-Z])/g," $1").replace(/^./,X=>X.toUpperCase())},Z):null)})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location"}),s.jsx("div",{ref:P,className:"h-64 w-full rounded-lg overflow-hidden",style:{minHeight:"256px"}}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Coordinates: ",g.lat.toFixed(6),", ",g.lng.toFixed(6)]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Available Rooms"}),a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rooms available"}),s.jsx("p",{className:"text-gray-600",children:"This property doesn't have any available rooms at the moment."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(Z=>{var V;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(Z.roomImage||Z.toiletImage)&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[Z.roomImage&&s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:Z.roomImage,alt:"Room",className:"w-full h-full object-cover"})}),Z.toiletImage&&s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:Z.toiletImage,alt:"Toilet",className:"w-full h-full object-cover"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",Z.roomNumber,"  ",Z.roomType]}),s.jsxs("div",{className:"flex items-center gap-2",children:[Z.status==="inactive"?s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-800 font-medium",children:" Inactive"}):Z.status==="maintenance"?s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 font-medium",children:" Maintenance"}):Z.room_status==="full"?s.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-100 text-orange-800 font-medium",children:[" ",Z.currentTenants||Z.occupancy,"/",Z.occupancy," Full"]}):s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Z.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Z.isAvailable?` ${Z.currentTenants||0}/${Z.occupancy} Available`:"Not Available"}),K()&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"Verified"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:["Size: ",Z.roomSize," sq ft"]}),s.jsxs("p",{children:["Bed: ",Z.bedType]}),s.jsxs("p",{children:["Occupancy: ",Z.occupancy," person",Z.occupancy>1?"s":""]})]}),Z.description&&s.jsx("p",{className:"text-sm text-gray-700",children:Z.description}),Z.amenities&&Object.keys(Z.amenities).some(X=>Z.amenities[X]===!0)&&s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(Z.amenities).map(([X,W])=>W===!0?s.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:X.replace(/([A-Z])/g," $1").replace(/^./,ae=>ae.toUpperCase())},X):null)}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Behavioral Match"}),s.jsxs("span",{className:"text-sm font-bold text-blue-900",children:[$(),"%"]})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${$()}%`}})})]}),(Z.status==="inactive"||Z.status==="maintenance"||Z.room_status==="full")&&s.jsx("div",{className:`p-4 rounded-lg border-2 ${Z.status==="inactive"?"bg-red-50 border-red-200":Z.status==="maintenance"?"bg-yellow-50 border-yellow-200":"bg-orange-50 border-orange-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${Z.status==="inactive"?"bg-red-100":Z.status==="maintenance"?"bg-yellow-100":"bg-orange-100"}`,children:Z.status==="inactive"?"":Z.status==="maintenance"?"":""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-semibold text-sm mb-1 ${Z.status==="inactive"?"text-red-900":Z.status==="maintenance"?"text-yellow-900":"text-orange-900"}`,children:Z.status==="inactive"?"Room Currently Inactive":Z.status==="maintenance"?"Room Under Maintenance":`Room is Full (${Z.currentTenants||Z.occupancy}/${Z.occupancy})`}),s.jsx("p",{className:`text-xs ${Z.status==="inactive"?"text-red-700":Z.status==="maintenance"?"text-yellow-700":"text-orange-700"}`,children:Z.status==="inactive"?"This room has been temporarily deactivated by the owner and is not available for booking at this time.":Z.status==="maintenance"?"This room is currently undergoing maintenance and will be available soon.":`This room has reached its maximum occupancy limit (${Z.currentTenants||Z.occupancy}/${Z.occupancy}) and is not available for booking.`})]})]})}),Z.status!=="inactive"&&Z.status!=="maintenance"&&s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",Z.rent?Z.rent.toLocaleString():"Ask Price"]}),s.jsx("span",{className:"text-sm text-gray-600",children:"/month"})]}),m[Z._id]?s.jsx("div",{className:"px-6 py-2 rounded-lg bg-gray-100 text-gray-600 text-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),"Checking..."]})}):(V=A[Z._id])!=null&&V.hasBooking?s.jsxs("div",{className:"px-6 py-2 rounded-lg text-center",children:[A[Z._id].status==="pending_approval"&&s.jsxs("div",{className:"bg-yellow-100 text-yellow-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"font-medium text-sm",children:"Approval Pending"})]}),s.jsx("p",{className:"text-xs",children:"Waiting for owner approval"})]}),A[Z._id].status==="confirmed"&&s.jsxs("div",{className:"bg-green-100 text-green-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium text-sm",children:"Confirmed"})]}),s.jsx("p",{className:"text-xs",children:"Booking approved"})]}),A[Z._id].status==="payment_pending"&&s.jsxs("div",{className:"bg-orange-100 text-orange-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"font-medium text-sm",children:"Payment Pending"})]}),s.jsx("p",{className:"text-xs",children:"Complete payment"})]}),A[Z._id].status==="rejected"&&s.jsxs("div",{className:"bg-red-100 text-red-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium text-sm",children:"Rejected"})]}),s.jsx("p",{className:"text-xs",children:"Booking not approved"})]})]}):!Z.isAvailable||Z.room_status==="full"?s.jsx("div",{className:"px-6 py-2 rounded-lg bg-gray-100 text-gray-600 font-medium border border-gray-300",children:Z.room_status==="full"?`Room Full (${Z.currentTenants||Z.occupancy}/${Z.occupancy})`:"Not Available"}):s.jsx("button",{onClick:()=>{C(Z),_(!0)},disabled:d[Z._id],className:`px-6 py-2 rounded-lg font-medium transition-colors ${d[Z._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:d[Z._id]?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Booking..."]}):"Book Now"})]})]})]},Z._id)})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Owner"}),s.jsx("p",{className:"font-medium text-gray-900",children:n.ownerName||"Unknown Owner"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Security Deposit"}),s.jsxs("p",{className:"font-medium text-gray-900",children:["",((ee=n.security_deposit)==null?void 0:ee.toLocaleString())||"Not specified"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Rooms"}),s.jsx("p",{className:"font-medium text-gray-900",children:a.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Available Rooms"}),s.jsx("p",{className:"font-medium text-gray-900",children:a.filter(Z=>Z.isAvailable).length})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Owner"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Have questions about this property? Contact the owner directly."}),s.jsx("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Contact Owner"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Add to Favorites"}),s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Share Property"}),s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Report Issue"})]})]})]})]})})]}),w&&N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Payment Breakdown"}),s.jsx("button",{onClick:()=>{_(!1),C(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:(n==null?void 0:n.property_name)||"Property"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Room ",N.room_number,"  ",N.room_type]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-700",children:"Monthly Rent"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["",N.rent?N.rent.toLocaleString():"0"]})]}),s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-700",children:"Security Deposit"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["",n!=null&&n.security_deposit?n.security_deposit.toLocaleString():"0"]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 bg-blue-50 rounded-lg px-4",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Total Amount"}),s.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["",N.rent&&(n!=null&&n.security_deposit)?(N.rent+n.security_deposit).toLocaleString():"0"]})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-200",children:s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-green-900 font-semibold",children:"Advance Payment (10%)"}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"To be paid online now"})]}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:["",N.rent&&(n!=null&&n.security_deposit)?((N.rent+n.security_deposit)*.1).toLocaleString():"0"]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border-2 border-orange-200",children:s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-orange-900 font-semibold",children:"Remaining Amount (90%)"}),s.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"To be paid offline during check-in"})]}),s.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["",N.rent&&(n!=null&&n.security_deposit)?((N.rent+n.security_deposit)*.9).toLocaleString():"0"]})]})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsxs("h5",{className:"font-semibold text-yellow-900 mb-2 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Important Notes"]}),s.jsxs("ul",{className:"text-sm text-yellow-900 space-y-1.5",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Security deposit is fully refundable at checkout"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Pay 10% advance online to confirm your booking"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Remaining 90% payment during check-in (cash/UPI)"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Owner approval required before check-in"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{_(!1),C(null)},className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),s.jsx("button",{onClick:()=>{_(!1),U(N._id)},disabled:d[N._id],className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-medium shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:d[N._id]?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Proceed to Pay"})]})]})})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The property you're looking for doesn't exist or is no longer available."}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-6",children:[s.jsxs("p",{children:["Property ID: ",e]}),s.jsx("p",{children:"Please check if the property service is running on port 3002"})]}),s.jsx("button",{onClick:()=>t("/seeker/dashboard"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})})},vbe=()=>{var ye,Ie,ke,He,We,me,Be,Oe,Ne,Fe,it,pt,Re,gt,rt;const e=Ar(),{bookingId:t}=ju(),{toast:r}=to(),[n,i]=j.useState(null),[a,o]=j.useState(null),[l,c]=j.useState(null),[d,u]=j.useState(null),[A,f]=j.useState(!0),[m,x]=j.useState(""),[g,v]=j.useState({amenities:!0,payment:!0,contact:!0,documents:!1}),[y,b]=j.useState(!1),[w,_]=j.useState(""),[N,C]=j.useState(!1),[P,E]=j.useState(!1),[I,F]=j.useState(""),[B,O]=j.useState(!1),[R,U]=j.useState(!1);j.useEffect(()=>{$()},[t]);const $=async()=>{var ot,xt,Et,St,$t;try{f(!0);const bt=localStorage.getItem("authToken"),ht=JSON.parse(localStorage.getItem("user")||"{}");if(!bt){e("/login");return}const lt=await Ye.get(`/property/bookings/${t}`);if(lt.status!==200)throw new Error("Failed to fetch booking details");const nt=lt.data.booking;if(i(nt),nt.propertyId&&typeof nt.propertyId=="object"){const Ke=nt.propertyId;o({...Ke,propertyName:Ke.property_name||Ke.propertyName,images:(xt=(ot=Ke.images)==null?void 0:ot.gallery)!=null&&xt.length?Ke.images.gallery:[(Et=Ke.images)==null?void 0:Et.front].filter(Boolean),security_deposit:Ke.security_deposit||Ke.securityDeposit})}else{const Ke=nt.propertySnapshot;Ke&&o({_id:nt.propertyId,propertyName:Ke.name,address:Ke.address,images:Ke.images||[Ke.image].filter(Boolean),security_deposit:Ke.security_deposit})}if(nt.roomId&&typeof nt.roomId=="object"){const Ke=nt.roomId;c({...Ke,roomNumber:Ke.room_number||Ke.roomNumber,roomType:Ke.room_type||Ke.roomType,roomImage:Ke.room_image||Ke.roomImage,rent:Ke.rent})}else{const Ke=nt.roomSnapshot;Ke&&c({_id:nt.roomId,roomNumber:Ke.roomNumber,roomType:Ke.roomType,rent:Ke.rent,roomSize:Ke.roomSize,roomImage:(St=Ke.images)==null?void 0:St.room,toiletImage:($t=Ke.images)==null?void 0:$t.toilet,amenities:Ke.amenities})}if(nt.ownerId&&typeof nt.ownerId=="object")u(nt.ownerId);else{const Ke=nt.ownerSnapshot;Ke&&u({id:nt.ownerId,name:Ke.name,email:Ke.email,phone:Ke.phone})}}catch(bt){console.error("Error fetching booking details:",bt),x("Failed to load booking details")}finally{f(!1)}},K=ot=>{switch(ot){case"confirmed":case"approved":return"bg-green-100 text-green-800";case"checked_in":return"bg-blue-100 text-blue-800";case"pending":case"pending_approval":case"payment_pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=ot=>{switch(ot){case"confirmed":case"approved":return s.jsx(Dr,{className:"w-4 h-4"});case"checked_in":return s.jsx(Dr,{className:"w-4 h-4 text-blue-600"});case"pending":case"pending_approval":case"payment_pending":return s.jsx(ns,{className:"w-4 h-4"});case"cancelled":return s.jsx(Xt,{className:"w-4 h-4"});default:return s.jsx(ns,{className:"w-4 h-4"})}},z=ot=>({wifi:s.jsx(sm,{className:"w-3 h-3"}),parking:s.jsx(ac,{className:"w-3 h-3"}),kitchen:s.jsx(Dg,{className:"w-3 h-3"}),powerBackup:s.jsx(ru,{className:"w-3 h-3"}),security:s.jsx(tr,{className:"w-3 h-3"}),parking4w:s.jsx(ac,{className:"w-3 h-3"}),parking2w:s.jsx(ac,{className:"w-3 h-3"}),gym:s.jsx(uu,{className:"w-3 h-3"}),laundry:s.jsx(rc,{className:"w-3 h-3"}),balcony:s.jsx(Ir,{className:"w-3 h-3"}),ac:s.jsx(ru,{className:"w-3 h-3"}),tv:s.jsx(Iue,{className:"w-3 h-3"}),refrigerator:s.jsx(Ir,{className:"w-3 h-3"}),geyser:s.jsx(ru,{className:"w-3 h-3"}),cctv:s.jsx(As,{className:"w-3 h-3"}),lift:s.jsx(uu,{className:"w-3 h-3"}),waterSupply:s.jsx(Ir,{className:"w-3 h-3"}),housekeeping:s.jsx(Hr,{className:"w-3 h-3"})})[ot]||s.jsx(Ir,{className:"w-3 h-3"}),te=ot=>{v(xt=>({...xt,[ot]:!xt[ot]}))},ee=(ot,xt)=>{navigator.clipboard.writeText(ot).then(()=>{r({title:"Copied!",description:`${xt} copied to clipboard`,variant:"default"})}).catch(()=>{r({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})})},Z=async()=>{C(!0);try{const ot=V(),xt=window.open("","_blank");xt.document.write(ot),xt.document.close(),setTimeout(()=>{xt.print(),xt.close()},500),r({title:"Receipt Generated!",description:"Your booking receipt has been opened for download/printing",variant:"default"})}catch(ot){console.error("Error generating receipt:",ot),r({title:"Error",description:"Failed to generate receipt",variant:"destructive"})}finally{C(!1)}},V=()=>{var bt,ht,lt,ut,nt,Ke,Ct,Gt;const ot=((bt=n.payment)==null?void 0:bt.monthlyRent)||(l==null?void 0:l.rent)||((ht=n.roomSnapshot)==null?void 0:ht.rent)||0,xt=((lt=n.payment)==null?void 0:lt.securityDeposit)||(a==null?void 0:a.security_deposit)||((ut=n.propertySnapshot)==null?void 0:ut.security_deposit)||ot,Et=((nt=n.payment)==null?void 0:nt.totalAmount)||ot+xt,St=Et*.1,$t=Et*.9;return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Booking Receipt - ${(a==null?void 0:a.propertyName)||"Property"}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
          .header { text-align: center; border-bottom: 2px solid #2563eb; padding-bottom: 20px; margin-bottom: 30px; }
          .logo { font-size: 24px; font-weight: bold; color: #2563eb; }
          .receipt-title { font-size: 20px; margin: 10px 0; }
          .receipt-info { background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 8px; }
          .info-label { font-weight: bold; }
          .section { margin-bottom: 25px; }
          .section-title { font-size: 18px; font-weight: bold; color: #1f2937; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; margin-bottom: 15px; }
          .payment-table { width: 100%; border-collapse: collapse; }
          .payment-table th, .payment-table td { padding: 10px; text-align: left; border-bottom: 1px solid #e5e7eb; }
          .payment-table th { background: #f3f4f6; font-weight: bold; }
          .total-row { font-weight: bold; background: #f0f9ff; }
          .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #6b7280; }
          @media print { body { margin: 0; } }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo">Lyvo+</div>
          <div class="receipt-title">Booking Receipt</div>
          <div>Generated on: ${new Date().toLocaleDateString()}</div>
        </div>
        
        <div class="receipt-info">
          <div class="info-row">
            <span class="info-label">Receipt Number:</span>
            <span>LYV-${((Ct=(Ke=n._id)==null?void 0:Ke.slice(-8))==null?void 0:Ct.toUpperCase())||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Booking Date:</span>
            <span>${be(n.createdAt)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Status:</span>
            <span style="color: #059669; font-weight: bold;">CONFIRMED</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Property Details</div>
          <div class="info-row">
            <span class="info-label">Property Name:</span>
            <span>${(a==null?void 0:a.propertyName)||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Address:</span>
            <span>${he(a==null?void 0:a.address)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Room Number:</span>
            <span>Room ${(l==null?void 0:l.roomNumber)||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Room Type:</span>
            <span>${(l==null?void 0:l.roomType)||"N/A"}</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Booking Period</div>
          <div class="info-row">
            <span class="info-label">Check-in Date:</span>
            <span>${ce(n.checkInDate)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Check-out Date:</span>
            <span>${ce(n.checkOutDate)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Duration:</span>
            <span>${Math.ceil((new Date(n.checkOutDate)-new Date(n.checkInDate))/(1e3*60*60*24))} days</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Payment Summary</div>
          <table class="payment-table">
            <tr>
              <th>Description</th>
              <th>Amount</th>
            </tr>
            <tr>
              <td>Monthly Rent</td>
              <td>${ot.toLocaleString()}</td>
            </tr>
            <tr>
              <td>Security Deposit</td>
              <td>${xt.toLocaleString()}</td>
            </tr>
            <tr class="total-row">
              <td><strong>Total Amount</strong></td>
              <td><strong>${Et.toLocaleString()}</strong></td>
            </tr>
            <tr>
              <td>Advance Paid (10%)</td>
              <td style="color: #059669;">${St.toLocaleString()}</td>
            </tr>
            <tr>
              <td>Remaining (90%)</td>
              <td style="color: #d97706;">${$t.toLocaleString()}</td>
            </tr>
          </table>
        </div>
        
        <div class="section">
          <div class="section-title">Payment Status</div>
          <div class="info-row">
            <span class="info-label">Payment Status:</span>
            <span style="color: #059669; font-weight: bold;">COMPLETED</span>
          </div>
          ${(Gt=n.payment)!=null&&Gt.transactionId?`
          <div class="info-row">
            <span class="info-label">Transaction ID:</span>
            <span>${n.payment.transactionId}</span>
          </div>
          `:""}
        </div>
        
        <div class="footer">
          <p>Thank you for choosing Lyvo+!</p>
          <p>For any queries, contact us at support@lyvo.com</p>
          <p>This is a computer-generated receipt and does not require a signature.</p>
        </div>
      </body>
      </html>
    `},X=()=>{const ot=l&&l.latitude&&l.longitude?{lat:l.latitude,lng:l.longitude,type:"room"}:a&&a.latitude&&a.longitude?{lat:a.latitude,lng:a.longitude,type:"property"}:null;if(ot){const xt=`https://www.google.com/maps/dir/?api=1&destination=${ot.lat},${ot.lng}`;window.open(xt,"_blank"),r({title:"Directions Opened",description:`Opening directions to ${ot.type==="room"?"your room":"the property"}`,variant:"default"})}else r({title:"Location Not Available",description:"Property and room location coordinates are not available",variant:"destructive"})},W=()=>{d&&d.phone?window.open(`tel:${d.phone}`,"_self"):d&&d.email?window.open(`mailto:${d.email}`,"_self"):r({title:"Contact Information Not Available",description:"Owner contact details are not available",variant:"destructive"})},ae=()=>{navigator.share?navigator.share({title:"My Booking Confirmation",text:`I've booked ${(a==null?void 0:a.propertyName)||"a room"} for ${n!=null&&n.checkInDate?new Date(n.checkInDate).toLocaleDateString():"N/A"}`,url:window.location.href}):ee(window.location.href,"Booking link")},ie=ot=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(ot||0),ce=ot=>ot?new Date(ot).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",be=ot=>ot?new Date(ot).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",he=ot=>{if(!ot)return"N/A";if(typeof ot=="string")return ot;const{street:xt,city:Et,state:St,pincode:$t,landmark:bt}=ot;return[xt,bt,Et,St,$t].filter(Boolean).join(", ")},ge=()=>{if(!n)return!1;if(console.log(" Cancel Booking Debug:",{status:n.status,checkInDate:n.checkInDate,canCancel:!0}),["pending","pending_approval","payment_pending"].includes(n.status))return console.log(" Can cancel: Pending booking"),!0;if(n.status==="confirmed"){const ot=new Date(n.checkInDate),xt=new Date,Et=Math.ceil((ot-xt)/(1e3*60*60*24));return console.log(" Confirmed booking check:",{checkInDate:ot.toISOString(),today:xt.toISOString(),daysUntilCheckIn:Et,canCancel:Et>1}),Et>1}return console.log(" Cannot cancel: Status not allowed"),!1},Se=async()=>{if(!(n!=null&&n._id)){r({title:"Error",description:"No booking found to cancel",variant:"destructive"});return}if(window.confirm("Are you sure you want to cancel this booking? This action cannot be undone and will remove all booking and tenant records."))try{U(!0);const xt=await Ye.delete(`/property/bookings/${n._id}`);if(xt.status===200)r({title:"Booking Cancelled",description:"Your booking has been cancelled successfully",variant:"default"}),setTimeout(()=>{e("/seeker-dashboard")},1500);else{const Et=xt.data;r({title:"Cancellation Failed",description:Et.message||"Failed to cancel booking",variant:"destructive"})}}catch(xt){console.error("Error cancelling booking:",xt),r({title:"Error",description:"An error occurred while cancelling the booking",variant:"destructive"})}finally{U(!1)}},re=async()=>{if(!(!n||!I))try{O(!0);const ot=await Ye.post(`/property/user/check-in/${n._id}`,{checkInDate:I});if(ot.status===200)r({title:"Success",description:"Check-in date marked successfully",variant:"default"}),$(),E(!1),F("");else{const xt=ot.data;r({title:"Error",description:xt.message||"Failed to mark check-in date",variant:"destructive"})}}catch(ot){console.error("Error marking check-in:",ot),r({title:"Error",description:"Failed to mark check-in date. Please try again.",variant:"destructive"})}finally{O(!1)}},_e=()=>{F(n.checkInDate?new Date(n.checkInDate).toISOString().split("T")[0]:""),E(!0)};if(A)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your booking details..."})]})})});if(m||!n)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:m||"The booking you are looking for does not exist."}),s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Back to Dashboard"})]})})});const ue=n.status==="confirmed"||n.status==="approved"||n.status==="checked_in",J=(n.status==="pending_approval"||n.status==="confirmed"||n.status==="approved"||n.status==="pending"||n.status==="payment_pending")&&n.status!=="checked_in",fe=ue||n.ownerAccepted===!0||n.ownerApproval==="approved"||n.ownerApproval==="accepted";return console.log("Booking data for debugging:",{status:n.status,ownerAccepted:n.ownerAccepted,ownerApproval:n.ownerApproval,isBookingConfirmed:ue,isOwnerAccepted:fe,allBookingFields:Object.keys(n)}),ue?s.jsxs(Br,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Dr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Booking Confirmed!"})]})}),s.jsx("p",{className:"text-gray-600 mb-2 text-sm sm:text-base",children:"Your accommodation is ready and confirmed"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Dr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Owner Accepted"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Dr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Payment Completed"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Dr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Ready for Check-in"})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-4 bg-white/80 p-3 rounded-xl border border-white shadow-sm w-full lg:w-auto",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-sm border border-gray-100",children:s.jsx("img",{src:(l==null?void 0:l.roomImage)||(l==null?void 0:l.room_image)||(l==null?void 0:l.toilet_image)||(l==null?void 0:l.toiletImage)||((ye=l==null?void 0:l.images)==null?void 0:ye.room)||((Ie=l==null?void 0:l.images)==null?void 0:Ie.toilet)||(Array.isArray(a==null?void 0:a.images)?a.images[0]:(ke=a==null?void 0:a.images)==null?void 0:ke.front)||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=100&h=100&fit=crop",alt:"Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-blue-600 font-bold truncate",children:(a==null?void 0:a.propertyName)||"Property Name"}),s.jsxs("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:["Room ",(l==null?void 0:l.roomNumber)||"N/A"]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ua,{className:"w-3 h-3"})," ",(l==null?void 0:l.roomType)||"Standard"]}),s.jsxs("span",{className:"flex items-center gap-1 font-bold text-green-600",children:["",((He=n.payment)==null?void 0:He.monthlyRent)||(l==null?void 0:l.rent),"/mo"]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full lg:w-auto",children:[s.jsxs("div",{className:"bg-white/70 rounded-xl p-3 border border-white shadow-sm flex-1 sm:flex-initial min-w-[140px]",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(Or,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-tight",children:"Check-in"})]}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:n.checkInDate?ce(n.checkInDate):"Not Set"}),n.checkInDate&&s.jsxs("p",{className:"text-[10px] text-green-600 font-bold mt-1 flex items-center gap-1",children:[s.jsx(Dr,{className:"w-3 h-3"})," Confirmed Arrival"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full lg:w-auto",children:[J&&s.jsxs("button",{onClick:_e,className:"bg-purple-600 text-white px-4 py-2.5 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px]",children:[s.jsx(Or,{className:"w-4 h-4 mr-1"}),n.checkInDate?"Update Check-in":"Set Check-in"]}),ge()&&n.status!=="checked_in"&&s.jsx("button",{onClick:Se,disabled:R,className:"bg-red-600 text-white px-4 py-2.5 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px] disabled:opacity-50 disabled:cursor-not-allowed",children:R?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-1"}),s.jsx("span",{children:"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Cancel Booking"})]})}),s.jsxs("button",{onClick:ae,className:"bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px]",children:[s.jsx(tg,{className:"w-4 h-4 mr-1"}),"Share"]})]})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row lg:flex-col items-start sm:items-center lg:items-end space-y-3 sm:space-y-0 sm:space-x-3 lg:space-x-0 lg:space-y-3",children:s.jsxs("span",{className:`inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium ${K(n.status)}`,children:[H(n.status),s.jsx("span",{className:"ml-2 capitalize",children:n.status})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Or,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Booking Details"]})})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:be(n.createdAt)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Check-in Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ce(n.checkInDate)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${((We=n.payment)==null?void 0:We.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[((me=n.payment)==null?void 0:me.paymentStatus)==="completed"?s.jsx(yt,{className:"w-3 h-3 mr-1"}):s.jsx(ns,{className:"w-3 h-3 mr-1"}),((Be=n.payment)==null?void 0:Be.paymentStatus)||"Pending"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Status"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${K(n.status)}`,children:[H(n.status),s.jsx("span",{className:"ml-1 capitalize",children:n.status})]})})]})]}),s.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Booking Confirmation Summary"}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Booking Status:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Dr,{className:"w-3 h-3 mr-1"}),"Confirmed"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner Acceptance:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Dr,{className:"w-3 h-3 mr-1"}),"Accepted"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Payment Status:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Dr,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Confirmed On:"}),s.jsx("span",{className:"text-sm text-gray-600",children:be(n.updatedAt||n.createdAt)})]})]})})]})]})]}),a&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Zr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Accommodation Details"]}),s.jsxs("button",{onClick:()=>te("amenities"),className:"text-blue-600 hover:text-blue-700 flex items-center text-xs sm:text-sm self-start sm:self-auto",children:[g.amenities?s.jsx(JA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(bh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"ml-1",children:"Amenities"})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[((l==null?void 0:l.roomImage)||((Oe=l==null?void 0:l.images)==null?void 0:Oe[0]))&&s.jsx("div",{className:"w-full md:w-1/3 aspect-video md:aspect-square rounded-xl overflow-hidden shadow-sm",children:s.jsx("img",{src:l.roomImage||l.room_image||l.toilet_image||l.toiletImage||((Ne=l.images)==null?void 0:Ne.room)||((Fe=l.images)==null?void 0:Fe.toilet)||(Array.isArray(a==null?void 0:a.images)?a.images[0]:(it=a==null?void 0:a.images)==null?void 0:it.front),alt:"Your Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:a.propertyName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",l.roomNumber," (",l.roomType,")"]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-base font-semibold text-gray-900 leading-tight",children:he(a.address)}),s.jsx("button",{onClick:X,className:"text-blue-600 hover:text-blue-700",children:s.jsx(Eue,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monthly Rent"}),s.jsx("p",{className:"text-base font-semibold text-green-600",children:ie(l.rent)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Security Deposit"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:ie(((pt=n.payment)==null?void 0:pt.securityDeposit)||(a==null?void 0:a.security_deposit))})]})]})]}),a.amenities&&g.amenities&&s.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:Object.entries(a.amenities).map(([ot,xt])=>xt?s.jsxs("div",{className:"flex items-center px-2 sm:px-3 py-2 bg-blue-50 text-blue-700 rounded-lg",children:[z(ot),s.jsx("span",{className:"ml-2 text-xs sm:text-sm font-medium",children:ot.replace(/([A-Z])/g," $1").trim()})]},ot):null)})]}),l&&l.amenities&&g.amenities&&s.jsxs("div",{className:"mt-4 sm:mt-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:Object.entries(l.amenities).map(([ot,xt])=>xt?s.jsxs("div",{className:"flex items-center px-2 sm:px-3 py-2 bg-green-50 text-green-700 rounded-lg",children:[z(ot),s.jsx("span",{className:"ml-2 text-xs sm:text-sm font-medium",children:ot.replace(/([A-Z])/g," $1").trim()})]},ot):null)})]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b",children:s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(id,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Important Information"]})}),s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Dr,{className:"w-5 h-5 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Check-in Instructions"}),s.jsx("p",{className:"text-gray-600",children:"Please arrive on your check-in date. Contact the property owner for specific check-in procedures."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Xt,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Status"}),s.jsx("p",{className:"text-gray-600",children:"Ensure all payments are completed before check-in. Contact support if you have payment issues."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Nue,{className:"w-5 h-5 text-blue-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Keys & Access"}),s.jsx("p",{className:"text-gray-600",children:"Keys will be provided upon check-in. Make sure to return them during check-out."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ks,{className:"w-5 h-5 text-purple-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Documentation"}),s.jsx("p",{className:"text-gray-600",children:"Keep your booking confirmation and payment receipts for your records."})]})]}),ge()&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(rr,{className:"w-5 h-5 text-red-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Cancellation Policy"}),s.jsx("p",{className:"text-gray-600",children:n.status==="pending"?"You can cancel your pending booking at any time before owner approval.":"You can cancel your booking up to 24 hours before check-in. Cancellation after this period may incur charges."})]})]}),!ge()&&n.status==="confirmed"&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(qh,{className:"w-5 h-5 text-orange-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Cancellation Policy"}),s.jsx("p",{className:"text-gray-600",children:"Cancellation is not available as check-in is within 24 hours. Please contact support for assistance."})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[d&&s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(cr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Property Owner"]}),s.jsx("button",{onClick:()=>te("contact"),className:"text-blue-600 hover:text-blue-700",children:g.contact?s.jsx(JA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(bh,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),g.contact&&s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:s.jsx(cr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})}),s.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900",children:d.name||"Owner Name"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:d.email})]}),d.phone&&s.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:d.phone})]}),s.jsx("button",{onClick:()=>window.open(`tel:${d.phone}`,"_self"),className:"text-blue-600 hover:text-blue-700",children:s.jsx(YP,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:W,className:"bg-blue-600 text-white py-2 px-2 sm:px-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(Tn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Call"]}),s.jsxs("button",{onClick:()=>window.open(`mailto:${d.email}`,"_self"),className:"bg-green-600 text-white py-2 px-2 sm:px-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(Jr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Email"]})]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("button",{onClick:Z,disabled:N,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[N?s.jsx(ja,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(eu,{className:"w-4 h-4 mr-2"}),N?"Generating...":"Download Receipt"]}),s.jsxs("button",{onClick:X,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(j4,{className:"w-4 h-4 mr-2"}),"Get Directions"]}),s.jsxs("button",{onClick:ae,className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center",children:[s.jsx(tg,{className:"w-4 h-4 mr-2"}),"Share Booking"]}),ge()&&s.jsx("button",{onClick:Se,disabled:R,className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:R?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),s.jsx("span",{children:"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Cancel Booking"})]})})]})]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(eg,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Payment Summary"]}),s.jsx("button",{onClick:()=>te("payment"),className:"text-blue-600 hover:text-blue-700",children:g.payment?s.jsx(JA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(bh,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),g.payment&&(()=>{var bt,ht,lt,ut,nt,Ke,Ct,Gt,Xn;const ot=((bt=n.payment)==null?void 0:bt.monthlyRent)||(l==null?void 0:l.rent)||((ht=n.roomSnapshot)==null?void 0:ht.rent)||0,xt=((lt=n.payment)==null?void 0:lt.securityDeposit)||(a==null?void 0:a.security_deposit)||((ut=n.propertySnapshot)==null?void 0:ut.security_deposit)||ot,Et=ot+xt,St=((nt=n.payment)==null?void 0:nt.totalAmount)||Et*.1,$t=Et-St;return s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Monthly Rent"}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:ie(ot)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Security Deposit"}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:ie(xt)})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between font-bold text-sm sm:text-base",children:[s.jsx("span",{children:"Total Amount"}),s.jsx("span",{className:"text-blue-600",children:ie(Et)})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[s.jsx("span",{className:"text-green-700 font-semibold",children:"Advance Paid (10%)"}),s.jsx("span",{className:"font-bold text-green-600",children:ie(St)})]}),s.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[s.jsx("span",{className:"text-orange-700 font-semibold",children:"Remaining (90%)"}),s.jsx("span",{className:"font-bold text-orange-600",children:ie($t)})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Payment Status"}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${((Ke=n.payment)==null?void 0:Ke.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[((Ct=n.payment)==null?void 0:Ct.paymentStatus)==="completed"?s.jsx(yt,{className:"w-3 h-3 mr-1"}):s.jsx(ns,{className:"w-3 h-3 mr-1"}),((Gt=n.payment)==null?void 0:Gt.paymentStatus)||"Pending"]})]}),((Xn=n.payment)==null?void 0:Xn.transactionId)&&s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Transaction ID"}),s.jsxs("button",{onClick:()=>ee(n.payment.transactionId,"Transaction ID"),className:"text-xs text-blue-600 hover:text-blue-700 font-mono break-all",children:[n.payment.transactionId.slice(0,8),"..."]})]})]})]})})()]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(ks,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Documents"]}),s.jsx("button",{onClick:()=>te("documents"),className:"text-blue-600 hover:text-blue-700",children:g.documents?s.jsx(JA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(bh,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),g.documents&&s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("button",{className:"w-full bg-blue-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(BN,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Booking Confirmation"]}),s.jsxs("button",{className:"w-full bg-green-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(ks,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Rental Agreement"]}),s.jsxs("button",{className:"w-full bg-purple-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(eg,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Payment Receipt"]}),s.jsxs("button",{className:"w-full bg-orange-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(Tz,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Print All Documents"]})]})]})]})]})]})}),P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(tu,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mark Check-in Date"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Select your check-in date"})]})]}),s.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:B,children:s.jsx(rr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[n&&s.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 mb-6 border border-gray-100 shadow-sm",children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-sm",children:s.jsx("img",{src:(l==null?void 0:l.roomImage)||(l==null?void 0:l.room_image)||((Re=a==null?void 0:a.images)==null?void 0:Re[0])||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=200&h=200&fit=crop",className:"w-full h-full object-cover",alt:"Room Preview"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:(a==null?void 0:a.propertyName)||"N/A"}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1 mt-0.5",children:[s.jsx(jr,{className:"w-3 h-3"}),he(a==null?void 0:a.address)]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs("span",{className:"bg-blue-50 text-blue-700 text-[10px] font-bold px-2 py-0.5 rounded uppercase",children:["Room ",(l==null?void 0:l.roomNumber)||"N/A"]}),s.jsx("span",{className:"bg-purple-50 text-purple-700 text-[10px] font-bold px-2 py-0.5 rounded uppercase",children:(l==null?void 0:l.roomType)||"Standard"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-bold text-green-600",children:ie(((gt=n.payment)==null?void 0:gt.monthlyRent)||(l==null?void 0:l.rent))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:ie((rt=n.payment)==null?void 0:rt.securityDeposit)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Current Check-in:"}),s.jsx("span",{className:`font-bold ${n.checkInDate?"text-purple-600":"text-orange-500 italic"}`,children:n.checkInDate?ce(n.checkInDate):"Not specified"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Check-in Date *"}),s.jsx("input",{type:"date",id:"checkInDate",value:I,onChange:ot=>F(ot.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:B}),s.jsx("p",{className:"text-xs text-gray-500",children:"Select the date when you plan to check into the room"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>E(!1),disabled:B,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:re,disabled:B||!I,className:"flex-1 px-4 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:B?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Marking..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(tu,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark Check-in"})]})})]})]})})})]}):s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx(qh,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Pending Approval"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your booking is currently waiting for the owner's approval. Please set your check-in date below to help the owner process your request."}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-left",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Booking Status:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Current Status:"}),s.jsx("span",{className:"font-semibold text-yellow-600 capitalize",children:n.status})]}),n.checkInDate&&s.jsxs("div",{className:"flex justify-between border-t border-yellow-200 pt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in Date:"}),s.jsx("span",{className:"font-semibold text-purple-600",children:ce(n.checkInDate)})]}),!n.checkInDate&&s.jsxs("div",{className:"flex justify-between border-t border-yellow-200 pt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in Date:"}),s.jsx("span",{className:"text-red-500 italic",children:"Not set yet"})]})]})]}),n.checkInDate&&s.jsx("p",{className:"text-sm text-gray-500 mb-6 italic",children:"You've set your check-in date. The owner will review and approve your booking shortly."}),s.jsxs("div",{className:"space-y-4",children:[J&&s.jsxs("button",{onClick:_e,className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center font-bold shadow-lg",children:[s.jsx(Or,{className:"w-5 h-5 mr-2"}),n.checkInDate?"Update Check-in Date":"Set Check-in Date"]}),s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})]})})})},bbe=()=>{const e=Ar(),{toast:t}=to(),[r,n]=j.useState(null),[i,a]=j.useState(null),[o,l]=j.useState(null),[c,d]=j.useState(null),[u,A]=j.useState(!0),[f,m]=j.useState(""),[x,g]=j.useState({amenities:!1,contact:!1,documents:!1});j.useEffect(()=>{v()},[]);const v=async()=>{try{A(!0);const F=localStorage.getItem("authToken"),B=JSON.parse(localStorage.getItem("user")||"{}");if(!F){e("/login");return}const O=await Ye.get("/property/user/bookings");if(O.status===200){const U=(O.data.bookings||[]).find($=>{var K;return $.status==="confirmed"&&((K=$.payment)==null?void 0:K.paymentStatus)==="completed"});U?await y(U._id):m("No confirmed booking found")}else throw new Error("Failed to fetch user bookings")}catch(F){console.error("Error fetching user confirmed booking:",F),m("Failed to load your booking details")}finally{A(!1)}},y=async F=>{try{if(!localStorage.getItem("authToken")){e("/login");return}const O=await Ye.get(`/property/bookings/${F}`);if(O.status!==200)throw new Error("Failed to fetch booking details");const R=O.data;if(n(R.booking),R.booking.propertyId)try{const U=await Ye.get(`/property/public/properties/${R.booking.propertyId}`);if(U.status===200){const $=U.data;if(a($.property),$.property.rooms){const K=$.property.rooms.find(H=>H._id===R.booking.roomId);l(K)}}}catch(U){console.error("Error fetching property details:",U)}if(R.booking.ownerId)try{const U=await Ye.get(`/user/profile/${R.booking.ownerId}`);if(U.status===200){const $=U.data;d($)}}catch(U){console.error("Error fetching owner details:",U)}}catch(B){console.error("Error fetching booking details:",B),m("Failed to load booking details")}},b=F=>({wifi:s.jsx(sm,{className:"w-4 h-4"}),parking:s.jsx(ac,{className:"w-4 h-4"}),kitchen:s.jsx(Dg,{className:"w-4 h-4"}),powerBackup:s.jsx(ru,{className:"w-4 h-4"}),security:s.jsx(tr,{className:"w-4 h-4"}),parking4w:s.jsx(ac,{className:"w-4 h-4"}),parking2w:s.jsx(ac,{className:"w-4 h-4"}),gym:s.jsx(rc,{className:"w-4 h-4"}),laundry:s.jsx(rc,{className:"w-4 h-4"}),balcony:s.jsx(Ir,{className:"w-4 h-4"}),ac:s.jsx(ru,{className:"w-4 h-4"}),tv:s.jsx(rc,{className:"w-4 h-4"}),refrigerator:s.jsx(Ir,{className:"w-4 h-4"}),geyser:s.jsx(ru,{className:"w-4 h-4"}),cctv:s.jsx(As,{className:"w-4 h-4"}),lift:s.jsx(rc,{className:"w-4 h-4"}),waterSupply:s.jsx(Ir,{className:"w-4 h-4"}),housekeeping:s.jsx(Hr,{className:"w-4 h-4"})})[F]||s.jsx(Ir,{className:"w-4 h-4"}),w=F=>{g(B=>({...B,[F]:!B[F]}))},_=F=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(F||0),N=F=>F?new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",C=()=>{if(!(r!=null&&r.checkInDate))return 0;const F=new Date,O=new Date(r.checkInDate)-F;return Math.ceil(O/(1e3*60*60*24))},P=()=>{c&&c.phone?window.open(`tel:${c.phone}`,"_self"):c&&c.email?window.open(`mailto:${c.email}`,"_self"):t({title:"Contact Information Not Available",description:"Owner contact details are not available",variant:"destructive"})},E=()=>{if(i&&i.latitude&&i.longitude){const F=`https://www.google.com/maps/dir/?api=1&destination=${i.latitude},${i.longitude}`;window.open(F,"_blank")}else t({title:"Location Not Available",description:"Property location coordinates are not available",variant:"destructive"})};return u?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your room details..."})]})})}):f||!r?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx(Xt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Confirmed Booking"}),s.jsx("p",{className:"text-gray-600 mb-6",children:f||"You don't have any confirmed bookings yet. Book a room to access this dashboard."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Rooms"}),s.jsx("button",{onClick:()=>e("/seeker-bookings"),className:"w-full bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"View My Bookings"})]})]})})}):r.status==="confirmed"||r.status==="approved"?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[(i==null?void 0:i.images)&&i.images.length>0&&s.jsxs("div",{className:"relative h-64 sm:h-80 lg:h-96",children:[s.jsx("img",{src:i.images[0],alt:i.propertyName,className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[s.jsx("button",{className:"bg-white/90 backdrop-blur-sm text-gray-700 p-2 rounded-full hover:bg-white transition-colors",children:s.jsx(Gh,{className:"w-5 h-5"})}),s.jsx("button",{className:"bg-white/90 backdrop-blur-sm text-gray-700 p-2 rounded-full hover:bg-white transition-colors",children:s.jsx(tg,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"absolute bottom-4 left-4",children:s.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Di,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsx("span",{className:"text-sm font-semibold",children:"4.8"}),s.jsx("span",{className:"text-sm text-gray-600",children:" Excellent"})]})})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:(i==null?void 0:i.propertyName)||"Property Name"}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(jr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(i==null?void 0:i.address)||"Address"})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ua,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:["Room ",(o==null?void 0:o.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hr,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[(o==null?void 0:o.maxOccupancy)||(i==null?void 0:i.maxOccupancy)||"N/A"," guests"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ir,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[(o==null?void 0:o.roomSize)||"N/A"," sq ft"]})]})]})]}),s.jsx("div",{className:"mt-4 lg:mt-0 lg:ml-6",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:_(o==null?void 0:o.rent)}),s.jsx("div",{className:"text-sm text-gray-600",children:"per month"})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:()=>e(`/booking-dashboard/${r._id}`),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(ks,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),s.jsxs("button",{onClick:E,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[s.jsx(j4,{className:"w-4 h-4 mr-2"}),"Directions"]}),s.jsxs("button",{onClick:P,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Contact Owner"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Booking Status"}),s.jsxs("div",{className:"flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[s.jsx(Dr,{className:"w-4 h-4 mr-1"}),"Confirmed"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Check-in"}),s.jsx("div",{className:"font-semibold",children:N(r.checkInDate)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Check-out"}),s.jsx("div",{className:"font-semibold",children:N(r.checkOutDate)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Days Remaining"}),s.jsxs("div",{className:"font-semibold text-blue-600",children:[C()," days"]})]})]})]}),o&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Room Type"}),s.jsx("div",{className:"font-semibold",children:o.roomType})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Room Size"}),s.jsxs("div",{className:"font-semibold",children:[o.roomSize," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Max Occupancy"}),s.jsxs("div",{className:"font-semibold",children:[o.maxOccupancy||(i==null?void 0:i.maxOccupancy)," people"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Monthly Rent"}),s.jsx("div",{className:"font-semibold",children:_(o.rent)})]})]})]}),(i==null?void 0:i.amenities)&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Amenities"}),s.jsxs("button",{onClick:()=>w("amenities"),className:"text-blue-600 hover:text-blue-700 flex items-center text-sm",children:[x.amenities?s.jsx(JA,{className:"w-4 h-4"}):s.jsx(bh,{className:"w-4 h-4"}),s.jsx("span",{className:"ml-1",children:"View All"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Object.entries(i.amenities).slice(0,x.amenities?void 0:6).map(([F,B])=>B?s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:[b(F),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:F.replace(/([A-Z])/g," $1").trim()})]},F):null)})]}),(i==null?void 0:i.description)&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"About This Place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]})]}),s.jsxs("div",{className:"space-y-6",children:[c&&s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Host"]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(cr,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"font-semibold text-gray-900",children:c.name||"Host Name"}),s.jsx("p",{className:"text-sm text-gray-600",children:c.email})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("button",{onClick:P,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(ad,{className:"w-4 h-4 mr-2"}),"Contact Host"]})})]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Info"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Paid"}),s.jsx("span",{className:"font-semibold",children:_(r.totalAmount)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Duration"}),s.jsxs("span",{className:"font-semibold",children:[Math.ceil((new Date(r.checkOutDate)-new Date(r.checkInDate))/(1e3*60*60*24))," days"]})]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>e(`/booking-dashboard/${r._id}`),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(ks,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),s.jsxs("button",{onClick:E,className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[s.jsx(j4,{className:"w-4 h-4 mr-2"}),"Get Directions"]}),s.jsxs("button",{onClick:()=>e("/seeker-bookings"),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[s.jsx(Or,{className:"w-4 h-4 mr-2"}),"View All Bookings"]})]})]})]})]})]})})}):s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx(qh,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Ready"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"This dashboard is only available for confirmed bookings."}),s.jsx("div",{className:"space-y-3",children:s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})})]})})})};delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const wbe=()=>{var ae,ie,ce,be,he,ge,Se,re,_e,ue,J;const{roomId:e}=ju(),t=Ar(),{toast:r}=to();eo();const[n,i]=j.useState(null),[a,o]=j.useState(null),[l,c]=j.useState(null),d=()=>{l!=null&&l.phone?window.location.href=`tel:${l.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})},u=()=>{l!=null&&l.phone?window.location.href=`sms:${l.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})},[A,f]=j.useState(!0),[m,x]=j.useState(0),[g,v]=j.useState(!1),[y,b]=j.useState(null),[w,_]=j.useState(!1),[N,C]=j.useState([0,0]),[P,E]=j.useState(!1),[I,F]=j.useState([]),[B,O]=j.useState(!1),R=fe=>{if(!(fe!=null&&fe.images))return[];if(Array.isArray(fe.images))return fe.images;const{gallery:ye,...Ie}=fe.images,ke=Object.values(Ie).filter(We=>typeof We=="string"&&We.length>0),He=Array.isArray(ye)?ye:[];return[...ke,...He]},U=[...n!=null&&n.room_image?[n.room_image]:[],...n!=null&&n.toilet_image?[n.toilet_image]:[],...R(a)],$=()=>{const fe=localStorage.getItem("user");if(fe)try{const ye=JSON.parse(fe);return ye.id||ye._id}catch(ye){return console.error("Error parsing user data:",ye),null}return null},K=async()=>{var fe,ye;try{f(!0);const ke=(await Ye.get(`/property/public/rooms/${e}`)).data;ke.success&&ke.data?(console.log("Room Data Fetched Support:",ke.data),i(ke.data.room),o(ke.data.property),c(ke.data.owner),(fe=ke.data.property)!=null&&fe.latitude&&((ye=ke.data.property)!=null&&ye.longitude)&&C([parseFloat(ke.data.property.latitude),parseFloat(ke.data.property.longitude)])):console.error("Room data missing or invalid structure:",ke)}catch(Ie){console.error("Error fetching room details:",Ie),r({title:"Error",description:"Failed to load room details",variant:"destructive"})}finally{f(!1)}},H=async()=>{const fe=$(),ye=localStorage.getItem("authToken");if(!(!fe||!e||!a||!ye))try{const Ie=await Ye.get("/property/favorites/check",{params:{propertyId:a._id,roomId:e}});Ie.status===200&&v(Ie.data.isFavorite)}catch(Ie){console.error("Error checking favorite:",Ie)}},z=async()=>{const fe=$(),ye=localStorage.getItem("authToken");if(!(!fe||!e||!a||!ye))try{const Ie=await Ye.get("/property/user/check-booking",{params:{propertyId:a._id,roomId:e}});Ie.status===200&&b(Ie.data)}catch(Ie){console.error("Error checking booking status:",Ie)}},te=async()=>{if(e)try{O(!0);const fe=await Ye.get(`/property/public/rooms/${e}/tenants`);if(fe.status===200){const ye=fe.data;F(ye.tenants||[])}}catch(fe){console.error("Error fetching tenant details:",fe)}finally{O(!1)}};j.useEffect(()=>{e&&(K(),te())},[e]),j.useEffect(()=>{n&&a&&(H(),z())},[n,a]);const ee=async()=>{const fe=$();if(localStorage.getItem("authToken"),!fe){r({title:"Please Login",description:"You need to specific login to add favorites",variant:"destructive"});return}try{const ye=g?"/property/favorites/remove":"/property/favorites";(await Ye.post(ye,{userId:fe,propertyId:a._id,roomId:e})).status===200&&(v(!g),r({title:g?"Removed from Favorites":"Added to Favorites",description:g?"Room removed from your list":"Room saved to your favorites"}))}catch{r({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},Z=async()=>{if(navigator.share)try{await navigator.share({title:`${a.property_name} - Room ${n.roomNumber}`,text:`Check out this room for ${n.rent}/month!`,url:window.location.href})}catch(fe){console.log("Error sharing:",fe)}else navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Room link copied to clipboard"})},V=async()=>{var ye,Ie;const fe=$();if(localStorage.getItem("authToken"),!fe){r({title:"Please Login",description:"You need to log in to book a room",variant:"destructive"});return}if((y==null?void 0:y.status)==="confirmed"){r({title:"Already Booked",description:"You have already booked this room."});return}if((y==null?void 0:y.status)==="pending_approval"){r({title:"Pending Approval",description:"You already have a pending booking request for this room. Please wait for owner approval."});return}try{_(!0);const ke=await Ye.get(`/user/profile/${fe}`);if(ke.status===200){const He=ke.data;if(He.kycStatus!=="approved"&&((ye=He.user)==null?void 0:ye.kycStatus)!=="approved"){const We=He.kycStatus||((Ie=He.user)==null?void 0:Ie.kycStatus);r({title:"KYC Verification Required",description:`Your KYC status is '${We||"Not Verified"}'. You must be Approved to book this room.`,variant:"destructive",action:s.jsx("button",{onClick:()=>t("/seeker-kyc"),className:"bg-white text-destructive px-2 py-1 rounded text-xs",children:"Verify Now"})}),setTimeout(()=>t("/seeker-kyc"),2e3),_(!1);return}}}catch(ke){console.log("Error fetching profile for KYC check",ke),r({title:"Verification Failed",description:"Could not verify your KYC status. Please try again.",variant:"destructive"}),_(!1);return}finally{_(!1)}E(!0)},X=async()=>{const fe=$();localStorage.getItem("authToken");const ye=parseFloat(n.rent),Ie=parseFloat(a.security_deposit||0),He=(ye+Ie)*.1;try{_(!0);const me=(await Ye.post("/property/payments/create-order",{amount:He,receipt_id:`rcpt_${Date.now().toString().slice(-10)}`})).data,Be={key:"rzp_test_RL5vMta3bKvRd4",amount:me.amount,currency:me.currency,name:"Lyvo",description:`Booking Fee (10%) for ${a.property_name}`,order_id:me.order_id,handler:async function(Ne){try{const it=(await Ye.post("/property/payments/verify",{razorpay_order_id:Ne.razorpay_order_id,razorpay_payment_id:Ne.razorpay_payment_id,razorpay_signature:Ne.razorpay_signature,bookingDetails:{propertyId:a._id,roomId:e,userId:fe,amount:He,securityDeposit:Ie,monthlyRent:ye}})).data;it.success?(b({status:"pending_approval",bookingId:it.bookingId}),E(!1),r({title:"Booking Requested",description:"Payment successful! Your booking request is now pending owner approval."})):r({title:"Booking Failed",description:it.message,variant:"destructive"})}catch(Fe){console.error("Verification Error:",Fe),r({title:"Verification Error",description:"Payment verified but booking creation failed. Contact support.",variant:"destructive"})}},theme:{color:"#3399cc"}},Oe=new window.Razorpay(Be);Oe.on("payment.failed",function(Ne){r({title:"Payment Failed",description:Ne.error.description,variant:"destructive"})}),Oe.open()}catch(We){console.error(We),r({title:"Payment Error",description:"Could not initiate payment",variant:"destructive"})}finally{_(!1)}},W=async()=>{if(!(!(y!=null&&y.bookingId)||!window.confirm("Are you sure you want to cancel this booking? This will remove your booking request.")))try{_(!0);const ye=localStorage.getItem("authToken"),Ie=await Ye.delete(`/property/bookings/${y.bookingId}`);if(Ie.status===200)b(null),r({title:"Booking Cancelled",description:"Your booking request has been cancelled."});else{const ke=Ie.data||{};r({title:"Cancellation Failed",description:ke.message||"Failed to cancel booking",variant:"destructive"})}}catch(ye){console.error(ye),r({title:"Error",description:"Cancellation failed",variant:"destructive"})}finally{_(!1)}};return A?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):!n||!a?s.jsx(Br,{children:s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Room Not Found"}),s.jsx("button",{onClick:()=>t("/seeker-dashboard"),className:"text-blue-600 hover:underline",children:"Return to Dashboard"})]})}):s.jsx(Br,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-10",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-6 relative",children:[s.jsxs("button",{onClick:()=>t(-1),className:"mb-4 p-2 -ml-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600 hover:text-gray-900 inline-flex items-center gap-2",children:[s.jsx(ei,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium text-sm",children:"Back"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:[a.property_name," - Room ",n.room_number||n.roomNumber]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1 font-medium text-gray-900",children:[s.jsx(Di,{className:"w-4 h-4 fill-black text-black"}),"4.8 ",s.jsx("span",{className:"text-gray-500 font-normal",children:"(12 reviews)"})]}),s.jsx("span",{className:"hidden md:inline",children:""}),s.jsxs("span",{className:"flex items-center gap-1 underline cursor-pointer hover:text-gray-900",children:[(ae=a.address)==null?void 0:ae.city,", ",(ie=a.address)==null?void 0:ie.state,", ",((ce=a.address)==null?void 0:ce.country)||"India"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-5 py-2.5 rounded-full border border-gray-200 bg-white hover:bg-gray-50 hover:shadow-md transition-all duration-300 text-sm font-semibold text-gray-700 group",children:[s.jsx(tg,{className:"w-4 h-4 text-gray-600 group-hover:text-blue-600 transition-colors"}),"Share"]}),s.jsxs("button",{onClick:ee,className:`flex items-center gap-2 px-5 py-2.5 rounded-full border transition-all duration-300 text-sm font-semibold shadow-sm hover:shadow-md group ${g?"border-red-100 bg-red-50 text-red-600":"border-gray-200 bg-white hover:bg-gray-50 text-gray-700"}`,children:[s.jsx(Gh,{className:`w-4 h-4 transition-transform group-hover:scale-110 ${g?"fill-red-500 text-red-500":"text-gray-600 group-hover:text-red-500"}`}),g?"Saved":"Save"]})]})]})}),s.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-sm h-[40vh] md:h-[60vh]",children:[U.length===1?s.jsx("img",{src:U[0],alt:"Room View",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-700 cursor-pointer",onClick:()=>{x(0)}}):U.length>=2?s.jsx("div",{className:"grid grid-cols-2 gap-2 h-full",children:U.slice(0,2).map((fe,ye)=>s.jsxs("div",{className:"relative overflow-hidden group",children:[s.jsx("img",{src:fe,alt:`View ${ye+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500 cursor-pointer",onClick:()=>x(ye)}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors pointer-events-none"})]},ye))}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",children:s.jsx("p",{children:"No images available"})}),s.jsxs("button",{className:"absolute bottom-4 right-4 bg-white border border-black/10 px-4 py-2 rounded-lg text-sm font-semibold shadow-sm hover:shadow-md hover:scale-105 transition-all flex items-center gap-2",children:[s.jsx(zA,{className:"w-4 h-4"})," Show all photos"]})]})]}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-6 relative z-10",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx(Hr,{className:"w-8 h-8 mb-3 text-gray-400 group-hover:text-blue-500 transition-colors stroke-[1.5]"}),s.jsxs("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1",children:[(I==null?void 0:I.length)||0," / ",n.occupancy]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Occupied"})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx(zA,{className:"w-8 h-8 mb-3 text-gray-400 group-hover:text-blue-500 transition-colors stroke-[1.5]"}),s.jsx("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1",children:n.room_size||n.dimension||"N/A"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"sq ft"})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx(ua,{className:"w-8 h-8 mb-3 text-gray-400 group-hover:text-blue-500 transition-colors stroke-[1.5]"}),s.jsx("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1 capitalize truncate",children:n.bed_type||"N/A"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Bed Type"})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx(Or,{className:"w-8 h-8 mb-3 text-gray-400 group-hover:text-blue-500 transition-colors stroke-[1.5]"}),s.jsx("p",{className:`font-bold text-xl leading-none mb-1 capitalize truncate ${n.is_available?"text-green-600":"text-red-500"}`,children:n.is_available?"Available":"Occupied"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Status"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-md transition-shadow duration-300",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About this place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:a.description||"A beautiful property located in a prime area, offering comfortable living spaces and modern amenities for a hassle-free stay."})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsx("div",{className:"md:hidden",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("div",{children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",(be=n.rent)==null?void 0:be.toLocaleString()]}),s.jsx("span",{className:"text-gray-500",children:"/month"})]})}),s.jsx("button",{onClick:V,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold text-lg rounded-xl shadow-lg",children:"Check Availability"})]})}),s.jsx("div",{className:"lg:hidden",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 right-0 p-3",children:s.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center",children:s.jsx(Di,{className:"w-4 h-4 text-blue-600"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Compatibility"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-black text-blue-600",children:"92%"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Lifestyle Match"})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded",children:"Excellent"})})]}),s.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:s.jsx(Y.div,{initial:{width:0},animate:{width:"92%"},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600"})}),s.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Based on your preferences for ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Quiet Evenings"})," and ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Shared Kitchen"})," usage."]})]})]})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Room Features"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.amenities&&Object.entries(n.amenities).map(([fe,ye])=>{if(!ye)return null;const Ie={ac:s.jsx(Due,{className:"w-6 h-6"}),wifi:s.jsx(sm,{className:"w-6 h-6"}),tv:s.jsx(Fue,{className:"w-6 h-6"}),fridge:s.jsx(Dg,{className:"w-6 h-6"}),wardrobe:s.jsx(zA,{className:"w-6 h-6"}),studyTable:s.jsx(zA,{className:"w-6 h-6"}),balcony:s.jsx(zA,{className:"w-6 h-6"}),attachedBathroom:s.jsx(tr,{className:"w-6 h-6"})};return s.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-white border border-gray-100 rounded-2xl hover:border-blue-200 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group cursor-default",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-50 transition-colors",children:s.jsx("span",{className:"text-gray-500 group-hover:text-blue-600 transition-colors",children:Ie[fe]||s.jsx(yt,{className:"w-6 h-6"})})}),s.jsx("span",{className:"text-sm font-bold text-gray-700 capitalize text-center leading-tight group-hover:text-gray-900",children:fe.replace(/([A-Z])/g," $1").trim()})]},fe)}),(!n.amenities||Object.values(n.amenities).every(fe=>!fe))&&s.jsx("div",{className:"col-span-full p-6 bg-gray-50 rounded-2xl text-center border border-dashed border-gray-200",children:s.jsx("p",{className:"text-gray-500 font-medium",children:"No specific room features listed."})})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-md transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Property Amenities"}),s.jsx("span",{className:"text-xs font-bold bg-gray-100 text-gray-600 px-3 py-1 rounded-full uppercase tracking-wider",children:"Common Areas"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.amenities&&Object.entries(a.amenities).filter(([fe,ye])=>ye).map(([fe])=>s.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-2xl hover:bg-gray-50 transition-colors group cursor-default",children:[s.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-full flex items-center justify-center mb-3 group-hover:bg-indigo-100 transition-colors",children:s.jsx(yt,{className:"w-6 h-6 text-indigo-500 group-hover:scale-110 transition-transform"})}),s.jsx("span",{className:"text-sm font-bold text-gray-700 capitalize text-center leading-tight group-hover:text-gray-900",children:fe.replace(/([A-Z])/g," $1").trim()})]},fe))})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-md transition-shadow duration-300",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.rules&&Object.entries(a.rules).map(([fe,ye])=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl",children:[s.jsx("span",{className:"text-gray-700 capitalize font-medium",children:fe.replace(/([A-Z])/g," $1").replace("Allowed","").trim()}),ye?s.jsx("span",{className:"text-green-700 text-sm font-bold bg-green-50 px-3 py-1 rounded-full",children:"Allowed"}):s.jsx("span",{className:"text-red-700 text-sm font-bold bg-red-50 px-3 py-1 rounded-full",children:"No"})]},fe))})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Living With"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Get to know your potential future housemates"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex -space-x-2",children:I.slice(0,3).map((fe,ye)=>{var Ie;return s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white bg-gray-200 overflow-hidden",children:s.jsx("img",{src:fe.profilePicture||((Ie=fe.userId)==null?void 0:Ie.profilePicture)||`https://ui-avatars.com/api/?name=${fe.userName}&background=random`,alt:"",className:"w-full h-full object-cover"})},ye)})}),s.jsxs("span",{className:"text-xs font-bold bg-blue-50 text-blue-600 px-3 py-1.5 rounded-full",children:[I.length," Residents"]})]})]}),B?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10 gap-3",children:[s.jsx("div",{className:"w-8 h-8 border-3 border-blue-100 border-t-blue-600 rounded-full animate-spin"}),s.jsx("p",{className:"text-sm text-gray-500 animate-pulse",children:"Finding your future roommates..."})]}):I.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:I.map((fe,ye)=>{var Ie,ke;return s.jsxs("div",{className:"group relative p-5 bg-white border border-gray-100 rounded-2xl hover:shadow-xl hover:shadow-blue-500/5 hover:border-blue-100 transition-all duration-300",children:[s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 text-green-700 text-[10px] font-bold uppercase tracking-wide",children:[s.jsx(yt,{className:"w-3 h-3"})," Verified"]})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsxs("div",{className:"relative shrink-0",children:[s.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white shadow-md bg-gray-100 group-hover:scale-105 transition-transform duration-300",children:fe.profilePicture||(Ie=fe.userId)!=null&&Ie.profilePicture?s.jsx("img",{src:fe.profilePicture||((ke=fe.userId)==null?void 0:ke.profilePicture),alt:fe.userName||"Resident",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",children:s.jsx(cr,{className:"w-8 h-8"})})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-blue-500 border-2 border-white rounded-full flex items-center justify-center shadow-sm z-10",children:s.jsx(Hr,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"pt-1",children:[s.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight group-hover:text-blue-600 transition-colors",children:fe.userName||"Resident"}),s.jsxs("p",{className:"text-xs text-gray-500 font-medium mt-1",children:["Joined ",fe.actualCheckInDate?new Date(fe.actualCheckInDate).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"Recently"]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx("span",{className:"text-[10px] font-semibold text-gray-500 bg-gray-50 px-2 py-1 rounded-md border border-gray-100",children:"Student"}),s.jsx("span",{className:"text-[10px] font-semibold text-gray-500 bg-gray-50 px-2 py-1 rounded-md border border-gray-100",children:"Non-Smoker"})]})]})]})]},fe._id||ye)})}):s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-3xl p-8 text-center border border-white shadow-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm text-blue-500",children:s.jsx(Hr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-gray-900 font-bold text-lg mb-2",children:"Room is Currently Empty"}),s.jsx("p",{className:"text-sm text-gray-600 max-w-[280px] mx-auto leading-relaxed",children:"You have the unique opportunity to set the vibe! Be the first to move in."})]})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Location Details"}),s.jsxs("p",{className:"text-gray-600 flex items-start gap-2",children:[s.jsx(jr,{className:"w-5 h-5 text-gray-400 mt-1 shrink-0"}),s.jsxs("span",{children:[(he=a.address)==null?void 0:he.street,", ",(ge=a.address)==null?void 0:ge.city,", ",(Se=a.address)==null?void 0:Se.state,", ",(re=a.address)==null?void 0:re.pincode,((_e=a.address)==null?void 0:_e.landmark)&&s.jsxs("span",{className:"block text-sm text-gray-500 mt-1",children:["Landmark: ",a.address.landmark]})]})]}),N[0]!==0&&s.jsx("div",{className:"mt-4 h-[250px] w-full rounded-2xl overflow-hidden relative z-0 border border-gray-200",children:s.jsxs(Yh,{center:N,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[s.jsx(Zh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(Xh,{position:N,children:s.jsx(Cy,{children:s.jsx("div",{className:"p-2",children:s.jsx("p",{className:"font-bold text-gray-900",children:a.property_name})})})})]})})]})]}),s.jsx("div",{className:"md:col-span-1",children:s.jsxs("div",{className:"sticky top-24 space-y-6 mt-6",children:[s.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:["",(ue=n.rent)==null?void 0:ue.toLocaleString()]}),s.jsx("span",{className:"text-gray-500 text-sm font-medium",children:"/month"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold mb-0.5",children:"Deposit"}),s.jsxs("p",{className:"font-bold text-lg text-gray-900",children:["",(J=a.security_deposit)==null?void 0:J.toLocaleString()]})]})]}),s.jsx("hr",{className:"border-gray-100 my-4"}),s.jsx("div",{className:"space-y-3 mb-6",children:s.jsxs("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-gray-600",children:"Service Fee"}),s.jsx("span",{className:"font-medium text-gray-900",children:"0"})]})}),s.jsx("button",{onClick:V,disabled:w||(y==null?void 0:y.status)==="confirmed"||(y==null?void 0:y.status)==="approved"||(y==null?void 0:y.status)==="pending_approval",className:`w-full py-4 rounded-xl text-white font-bold text-lg shadow-lg hover:shadow-xl transition-all transform active:scale-95 ${(y==null?void 0:y.status)==="confirmed"||(y==null?void 0:y.status)==="approved"?"bg-green-600 cursor-default":(y==null?void 0:y.status)==="pending_approval"?"bg-amber-500 cursor-default":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:w?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):(y==null?void 0:y.status)==="confirmed"||(y==null?void 0:y.status)==="approved"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(yt,{className:"w-5 h-5"})," Booked"]}):(y==null?void 0:y.status)==="pending_approval"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(ns,{className:"w-5 h-5"})," Waiting for Approval"]}):(y==null?void 0:y.status)==="pending_payment"?"Complete Payment":"Book Now"}),((y==null?void 0:y.status)==="confirmed"||(y==null?void 0:y.status)==="approved"||(y==null?void 0:y.status)==="pending_approval")&&s.jsxs("button",{onClick:W,disabled:w,className:"w-full mt-3 py-3 rounded-xl border border-red-200 text-red-600 font-semibold hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(ar,{className:"w-4 h-4"})," Cancel Booking"]}),s.jsx("p",{className:"text-xs text-center text-gray-400 mt-4",children:(y==null?void 0:y.status)==="pending_approval"?"Your request is being reviewed by the owner.":"You'll pay a 10% booking fee to reserve."})]}),l&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full overflow-hidden",children:l.profilePicture?s.jsx("img",{src:l.profilePicture,alt:l.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",children:s.jsx(cr,{className:"w-8 h-8"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900",children:l.name}),s.jsx("p",{className:"text-sm text-gray-500",children:"Property Owner"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:u,className:"flex-1 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4"})," Message"]}),s.jsxs("button",{onClick:d,className:"flex-1 py-2 border border-blue-200 bg-blue-50 rounded-lg text-sm font-medium text-blue-700 hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Tn,{className:"w-4 h-4"})," Call"]})]})]}),s.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-lg border border-gray-100 p-6 overflow-hidden relative hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:"absolute top-0 right-0 p-3",children:s.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center",children:s.jsx(Di,{className:"w-4 h-4 text-blue-600"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Compatibility"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-black text-blue-600",children:"92%"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Lifestyle Match"})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded",children:"Excellent"})})]}),s.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:s.jsx(Y.div,{initial:{width:0},animate:{width:"92%"},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600"})}),s.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Based on your preferences for ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Quiet Evenings"})," and ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Shared Kitchen"})," usage."]})]})]})]})})]})}),s.jsx(Mr,{children:P&&s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[s.jsx("button",{onClick:()=>E(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-400 hover:text-gray-600",children:s.jsx(ar,{className:"w-5 h-5"})}),s.jsxs("div",{className:"p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Summary"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Please review the costs before proceeding"}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden shrink-0 shadow-sm border border-white",children:s.jsx("img",{src:n.room_image||n.roomImage||(Array.isArray(a.images)?a.images[0]:a.image),alt:"Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-gray-900",children:["Room ",n.room_number||n.roomNumber]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[n.room_type,"  ",n.bed_type]}),s.jsx("p",{className:"text-[10px] text-blue-600 font-semibold mt-0.5",children:a.property_name})]})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[s.jsx("span",{children:"Monthly Rent"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",n.rent]})]}),s.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[s.jsx("span",{children:"Security Deposit"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",a.security_deposit||0]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900 font-bold",children:"Total Amount"}),s.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["",parseFloat(n.rent)+parseFloat(a.security_deposit||0)]})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-xl p-5 mb-8",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(CN,{className:"w-6 h-6 text-blue-600 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Booking Fee: 10%"}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1 leading-relaxed",children:["You need to pay ",((parseFloat(n.rent)+parseFloat(a.security_deposit||0))*.1).toFixed(2)," to reserve this room. This amount will be adjusted in your first month's payment."]})]})]})}),s.jsx("button",{onClick:X,disabled:w,className:"w-full py-4 bg-blue-600 text-white rounded-xl font-bold text-lg hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02]",children:w?s.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):s.jsxs(s.Fragment,{children:["Pay ",((parseFloat(n.rent)+parseFloat(a.security_deposit||0))*.1).toFixed(2)," & Book Now"]})}),s.jsx("p",{className:"text-center text-xs text-gray-400 mt-5",children:"By proceeding, you agree to Lyvo's Terms and Conditions"})]})]})})})]})})},jbe=()=>{const e=Ar(),[t,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState("");j.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0);const c="http://localhost:5000/api/property";console.log("Fetching rooms from:",`${c}/api/debug/rooms`);const d=await fetch(`${c}/api/debug/rooms`,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("Response status:",d.status),!d.ok){const A=await d.text();throw new Error(`HTTP error! status: ${d.status} - ${A}`)}const u=await d.json();if(console.log("Rooms data:",u),u.success&&u.rooms)r(u.rooms);else throw new Error(u.message||"Failed to fetch rooms")}catch(c){console.error("Error fetching rooms:",c),o(c.message)}finally{i(!1)}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading rooms..."})]})}):a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Rooms"}),s.jsx("p",{className:"text-gray-600 mb-6",children:a}),s.jsx("button",{onClick:()=>e("/seeker/dashboard"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Room Debug - Available Rooms"}),s.jsx("button",{onClick:()=>e("/seeker/dashboard"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["Found ",t.length," rooms in the database"]})}),t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rooms found"}),s.jsx("p",{className:"text-gray-600",children:"There are no rooms in the database."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(c=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Room ",c.room_number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Type: ",c.room_type]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Room ID:"}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:c._id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Property ID:"}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:c.property_id})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.approval_status})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>e(`/seeker/room/${c._id}`),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"View Room Details"})})]},c._id))})]})})})},Nbe=a6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),wn=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?_Ae:"button";return s.jsx(o,{className:dn(Nbe({variant:t,size:r,className:e})),ref:a,...i})});wn.displayName="Button";const Kd=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Kd.displayName="Card";const gf=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("flex flex-col space-y-1.5 p-6",e),...t}));gf.displayName="CardHeader";const xf=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("font-semibold leading-none tracking-tight",e),...t}));xf.displayName="CardTitle";const _be=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("text-sm text-muted-foreground",e),...t}));_be.displayName="CardDescription";const Wd=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("p-6 pt-0",e),...t}));Wd.displayName="CardContent";const Cbe=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("flex items-center p-6 pt-0",e),...t}));Cbe.displayName="CardFooter";const Sbe=a6("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),E2=j.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:dn(Sbe({variant:t}),e),...r}));E2.displayName="Alert";const Bbe=j.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:dn("mb-1 font-medium leading-none tracking-tight",e),...t}));Bbe.displayName="AlertTitle";const k2=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("text-sm [&_p]:leading-relaxed",e),...t}));k2.displayName="AlertDescription";var Ebe=x3[" useId ".trim().toString()]||(()=>{}),kbe=0;function Op(e){const[t,r]=j.useState(Ebe());return Qi(()=>{r(n=>n??String(kbe++))},[e]),t?`radix-${t}`:""}var OC="focusScope.autoFocusOnMount",LC="focusScope.autoFocusOnUnmount",$U={bubbles:!1,cancelable:!0},Pbe="FocusScope",L6=j.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=j.useState(null),d=hc(i),u=hc(a),A=j.useRef(null),f=gs(t,g=>c(g)),m=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let g=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?A.current=_:sh(A.current,{select:!0})},v=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||sh(A.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&sh(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),j.useEffect(()=>{if(l){VU.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(OC,$U);l.addEventListener(OC,d),l.dispatchEvent(y),y.defaultPrevented||(Ibe(Ube(LG(l)),{select:!0}),document.activeElement===g&&sh(l))}return()=>{l.removeEventListener(OC,d),setTimeout(()=>{const y=new CustomEvent(LC,$U);l.addEventListener(LC,u),l.dispatchEvent(y),y.defaultPrevented||sh(g??document.body,{select:!0}),l.removeEventListener(LC,u),VU.remove(m)},0)}}},[l,d,u,m]);const x=j.useCallback(g=>{if(!r&&!n||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const b=g.currentTarget,[w,_]=Tbe(b);w&&_?!g.shiftKey&&y===_?(g.preventDefault(),r&&sh(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&sh(_,{select:!0})):y===b&&g.preventDefault()}},[r,n,m.paused]);return s.jsx(Yr.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});L6.displayName=Pbe;function Ibe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(sh(n,{select:t}),document.activeElement!==r)return}function Tbe(e){const t=LG(e),r=HU(t,e),n=HU(t.reverse(),e);return[r,n]}function LG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function HU(e,t){for(const r of e)if(!Obe(r,{upTo:t}))return r}function Obe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Lbe(e){return e instanceof HTMLInputElement&&"select"in e}function sh(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Lbe(e)&&t&&e.select()}}var VU=Fbe();function Fbe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zU(e,t),e.unshift(t)},remove(t){var r;e=zU(e,t),(r=e[0])==null||r.resume()}}}function zU(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ube(e){return e.filter(t=>t.tagName!=="A")}var FC=0;function FG(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??KU()),document.body.insertAdjacentElement("beforeend",e[1]??KU()),FC++,()=>{FC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),FC--}},[])}function KU(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qc=function(){return Qc=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Qc.apply(this,arguments)};function UG(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Rbe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var j1="right-scroll-bar-position",N1="width-before-scroll-bar",Dbe="with-scroll-bars-hidden",Mbe="--removed-body-scroll-bar-size";function UC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Qbe(e,t){var r=j.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var $be=typeof window<"u"?j.useLayoutEffect:j.useEffect,WU=new WeakMap;function Hbe(e,t){var r=Qbe(null,function(n){return e.forEach(function(i){return UC(i,n)})});return $be(function(){var n=WU.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(l){a.has(l)||UC(l,null)}),a.forEach(function(l){i.has(l)||UC(l,o)})}WU.set(r,e)},[e]),r}function Vbe(e){return e}function zbe(e,t){t===void 0&&(t=Vbe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return i}function Kbe(e){e===void 0&&(e={});var t=zbe(null);return t.options=Qc({async:!0,ssr:!1},e),t}var RG=function(e){var t=e.sideCar,r=UG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Qc({},r))};RG.isSideCarExport=!0;function Wbe(e,t){return e.useMedium(t),RG}var DG=Kbe(),RC=function(){},YN=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:RC,onWheelCapture:RC,onTouchMoveCapture:RC}),i=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,A=e.shards,f=e.sideCar,m=e.noRelative,x=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,_=UG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,C=Hbe([r,t]),P=Qc(Qc({},_),i);return j.createElement(j.Fragment,null,u&&j.createElement(N,{sideCar:DG,removeScrollBar:d,shards:A,noRelative:m,noIsolation:x,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?j.cloneElement(j.Children.only(l),Qc(Qc({},P),{ref:C})):j.createElement(b,Qc({},P,{className:c,ref:C}),l))});YN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};YN.classNames={fullWidth:N1,zeroRight:j1};var Gbe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qbe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Gbe();return t&&e.setAttribute("nonce",t),e}function Ybe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Xbe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Zbe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qbe())&&(Ybe(t,r),Xbe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Jbe=function(){var e=Zbe();return function(t,r){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},MG=function(){var e=Jbe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},ewe={left:0,top:0,right:0,gap:0},DC=function(e){return parseInt(e||"",10)||0},twe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[DC(r),DC(n),DC(i)]},rwe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ewe;var t=twe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},nwe=MG(),Lp="data-scroll-locked",swe=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Dbe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Lp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(j1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(N1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(j1," .").concat(j1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(N1," .").concat(N1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lp,`] {
    `).concat(Mbe,": ").concat(l,`px;
  }
`)},GU=function(){var e=parseInt(document.body.getAttribute(Lp)||"0",10);return isFinite(e)?e:0},iwe=function(){j.useEffect(function(){return document.body.setAttribute(Lp,(GU()+1).toString()),function(){var e=GU()-1;e<=0?document.body.removeAttribute(Lp):document.body.setAttribute(Lp,e.toString())}},[])},awe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;iwe();var a=j.useMemo(function(){return rwe(i)},[i]);return j.createElement(nwe,{styles:swe(a,!t,i,r?"":"!important")})},Y4=!1;if(typeof window<"u")try{var qb=Object.defineProperty({},"passive",{get:function(){return Y4=!0,!0}});window.addEventListener("test",qb,qb),window.removeEventListener("test",qb,qb)}catch{Y4=!1}var Em=Y4?{passive:!1}:!1,owe=function(e){return e.tagName==="TEXTAREA"},QG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!owe(e)&&r[t]==="visible")},lwe=function(e){return QG(e,"overflowY")},cwe=function(e){return QG(e,"overflowX")},qU=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=$G(e,n);if(i){var a=HG(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},dwe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},uwe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},$G=function(e,t){return e==="v"?lwe(t):cwe(t)},HG=function(e,t){return e==="v"?dwe(t):uwe(t)},hwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Awe=function(e,t,r,n,i){var a=hwe(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),d=!1,u=o>0,A=0,f=0;do{if(!l)break;var m=HG(e,l),x=m[0],g=m[1],v=m[2],y=g-v-a*x;(x||y)&&$G(e,l)&&(A+=y,f+=x);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(A)<1||!u&&Math.abs(f)<1)&&(d=!0),d},Yb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},YU=function(e){return[e.deltaX,e.deltaY]},XU=function(e){return e&&"current"in e?e.current:e},fwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mwe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pwe=0,km=[];function gwe(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(pwe++)[0],a=j.useState(MG)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Rbe([e.lockRef.current],(e.shards||[]).map(XU),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Yb(g),b=r.current,w="deltaX"in g?g.deltaX:b[0]-y[0],_="deltaY"in g?g.deltaY:b[1]-y[1],N,C=g.target,P=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&P==="h"&&C.type==="range")return!1;var E=window.getSelection(),I=E&&E.anchorNode,F=I?I===C||I.contains(C):!1;if(F)return!1;var B=qU(P,C);if(!B)return!0;if(B?N=P:(N=P==="v"?"h":"v",B=qU(P,C)),!B)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=N),!N)return!0;var O=n.current||N;return Awe(O,v,g,O==="h"?w:_)},[]),c=j.useCallback(function(g){var v=g;if(!(!km.length||km[km.length-1]!==a)){var y="deltaY"in v?YU(v):Yb(v),b=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&fwe(N.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(XU).filter(Boolean).filter(function(N){return N.contains(v.target)}),_=w.length>0?l(v,w[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),d=j.useCallback(function(g,v,y,b){var w={name:g,delta:v,target:y,should:b,shadowParent:xwe(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),u=j.useCallback(function(g){r.current=Yb(g),n.current=void 0},[]),A=j.useCallback(function(g){d(g.type,YU(g),g.target,l(g,e.lockRef.current))},[]),f=j.useCallback(function(g){d(g.type,Yb(g),g.target,l(g,e.lockRef.current))},[]);j.useEffect(function(){return km.push(a),e.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Em),document.addEventListener("touchmove",c,Em),document.addEventListener("touchstart",u,Em),function(){km=km.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Em),document.removeEventListener("touchmove",c,Em),document.removeEventListener("touchstart",u,Em)}},[]);var m=e.removeScrollBar,x=e.inert;return j.createElement(j.Fragment,null,x?j.createElement(a,{styles:mwe(i)}):null,m?j.createElement(awe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function xwe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ywe=Wbe(DG,gwe);var F6=j.forwardRef(function(e,t){return j.createElement(YN,Qc({},e,{ref:t,sideCar:ywe}))});F6.classNames=YN.classNames;var vwe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pm=new WeakMap,Xb=new WeakMap,Zb={},MC=0,VG=function(e){return e&&(e.host||VG(e.parentNode))},bwe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=VG(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},wwe=function(e,t,r,n){var i=bwe(t,Array.isArray(e)?e:[e]);Zb[r]||(Zb[r]=new WeakMap);var a=Zb[r],o=[],l=new Set,c=new Set(i),d=function(A){!A||l.has(A)||(l.add(A),d(A.parentNode))};i.forEach(d);var u=function(A){!A||c.has(A)||Array.prototype.forEach.call(A.children,function(f){if(l.has(f))u(f);else try{var m=f.getAttribute(n),x=m!==null&&m!=="false",g=(Pm.get(f)||0)+1,v=(a.get(f)||0)+1;Pm.set(f,g),a.set(f,v),o.push(f),g===1&&x&&Xb.set(f,!0),v===1&&f.setAttribute(r,"true"),x||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),l.clear(),MC++,function(){o.forEach(function(A){var f=Pm.get(A)-1,m=a.get(A)-1;Pm.set(A,f),a.set(A,m),f||(Xb.has(A)||A.removeAttribute(n),Xb.delete(A)),m||A.removeAttribute(r)}),MC--,MC||(Pm=new WeakMap,Pm=new WeakMap,Xb=new WeakMap,Zb={})}},zG=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=vwe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),wwe(n,i,r,"aria-hidden")):function(){return null}},XN="Dialog",[KG]=Tv(XN),[jwe,xc]=KG(XN),WG=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[d,u]=g2({prop:n,defaultProp:i??!1,onChange:a,caller:XN});return s.jsx(jwe,{scope:t,triggerRef:l,contentRef:c,contentId:Op(),titleId:Op(),descriptionId:Op(),open:d,onOpenChange:u,onOpenToggle:j.useCallback(()=>u(A=>!A),[u]),modal:o,children:r})};WG.displayName=XN;var GG="DialogTrigger",Nwe=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xc(GG,r),a=gs(t,i.triggerRef);return s.jsx(Yr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":D6(i.open),...n,ref:a,onClick:$r(e.onClick,i.onOpenToggle)})});Nwe.displayName=GG;var U6="DialogPortal",[_we,qG]=KG(U6,{forceMount:void 0}),YG=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=xc(U6,t);return s.jsx(_we,{scope:t,forceMount:r,children:j.Children.map(n,o=>s.jsx(Ov,{present:r||a.open,children:s.jsx(LN,{asChild:!0,container:i,children:o})}))})};YG.displayName=U6;var P2="DialogOverlay",XG=j.forwardRef((e,t)=>{const r=qG(P2,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=xc(P2,e.__scopeDialog);return a.modal?s.jsx(Ov,{present:n||a.open,children:s.jsx(Swe,{...i,ref:t})}):null});XG.displayName=P2;var Cwe=ng("DialogOverlay.RemoveScroll"),Swe=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xc(P2,r);return s.jsx(F6,{as:Cwe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Yr.div,{"data-state":D6(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Mf="DialogContent",ZG=j.forwardRef((e,t)=>{const r=qG(Mf,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=xc(Mf,e.__scopeDialog);return s.jsx(Ov,{present:n||a.open,children:a.modal?s.jsx(Bwe,{...i,ref:t}):s.jsx(Ewe,{...i,ref:t})})});ZG.displayName=Mf;var Bwe=j.forwardRef((e,t)=>{const r=xc(Mf,e.__scopeDialog),n=j.useRef(null),i=gs(t,r.contentRef,n);return j.useEffect(()=>{const a=n.current;if(a)return zG(a)},[]),s.jsx(JG,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$r(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:$r(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:$r(e.onFocusOutside,a=>a.preventDefault())})}),Ewe=j.forwardRef((e,t)=>{const r=xc(Mf,e.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return s.jsx(JG,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),JG=j.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=xc(Mf,r),c=j.useRef(null),d=gs(t,c);return FG(),s.jsxs(s.Fragment,{children:[s.jsx(L6,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(ON,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":D6(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(kwe,{titleId:l.titleId}),s.jsx(Iwe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),R6="DialogTitle",eq=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xc(R6,r);return s.jsx(Yr.h2,{id:i.titleId,...n,ref:t})});eq.displayName=R6;var tq="DialogDescription",rq=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xc(tq,r);return s.jsx(Yr.p,{id:i.descriptionId,...n,ref:t})});rq.displayName=tq;var nq="DialogClose",sq=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xc(nq,r);return s.jsx(Yr.button,{type:"button",...n,ref:t,onClick:$r(e.onClick,()=>i.onOpenChange(!1))})});sq.displayName=nq;function D6(e){return e?"open":"closed"}var iq="DialogTitleWarning",[cet,aq]=jAe(iq,{contentName:Mf,titleName:R6,docsSlug:"dialog"}),kwe=({titleId:e})=>{const t=aq(iq),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Pwe="DialogDescriptionWarning",Iwe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aq(Pwe).contentName}}.`;return j.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Twe=WG,Owe=YG,oq=XG,lq=ZG,cq=eq,dq=rq,Lwe=sq;const uq=Twe,Fwe=Owe,hq=j.forwardRef(({className:e,...t},r)=>s.jsx(oq,{ref:r,className:dn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));hq.displayName=oq.displayName;const M6=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Fwe,{children:[s.jsx(hq,{}),s.jsxs(lq,{ref:n,className:dn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Lwe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ar,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));M6.displayName=lq.displayName;const Q6=({className:e,...t})=>s.jsx("div",{className:dn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Q6.displayName="DialogHeader";const $6=({className:e,...t})=>s.jsx("div",{className:dn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$6.displayName="DialogFooter";const H6=j.forwardRef(({className:e,...t},r)=>s.jsx(cq,{ref:r,className:dn("text-lg font-semibold leading-none tracking-tight",e),...t}));H6.displayName=cq.displayName;const V6=j.forwardRef(({className:e,...t},r)=>s.jsx(dq,{ref:r,className:dn("text-sm text-muted-foreground",e),...t}));V6.displayName=dq.displayName;const Uwe=()=>{var Fe,it,pt,Re,gt,rt,ot,xt,Et,St,$t,bt;const e=Ar(),{toast:t}=to(),r=j.useRef(null),n=j.useRef(null),[i,a]=j.useState(null),[o,l]=j.useState(null),[c,d]=j.useState(!1),[u,A]=j.useState(!1),[f,m]=j.useState(null),[x,g]=j.useState(null),[v,y]=j.useState(!1),[b,w]=j.useState(""),[_,N]=j.useState("pending"),[C,P]=j.useState(null),[E,I]=j.useState(null),[F,B]=j.useState(null),[O,R]=j.useState(!1),[U,$]=j.useState(!1),[K,H]=j.useState(null),[z,te]=j.useState("front"),[ee,Z]=j.useState(null),[V,X]=j.useState(!1),[W,ae]=j.useState(!1),[ie,ce]=j.useState(!1),[be,he]=j.useState(0),[ge,Se]=j.useState(!1),re="aadhar";j.useEffect(()=>{const ht=JSON.parse(localStorage.getItem("user")||"{}");a(ht),Ie(),ye(),(async()=>{try{if(console.log("Checking camera availability..."),!navigator.mediaDevices){console.error("navigator.mediaDevices is not available");return}const ut=await navigator.mediaDevices.enumerateDevices();console.log("Available devices on mount:",ut);const nt=ut.filter(Ke=>Ke.kind==="videoinput");if(console.log("Video devices on mount:",nt),nt.length===0?console.warn("No video devices found"):console.log("Camera devices found:",nt.length),navigator.permissions)try{const Ke=await navigator.permissions.query({name:"camera"});console.log("Camera permission status:",Ke.state)}catch(Ke){console.log("Could not check camera permissions:",Ke)}}catch(ut){console.error("Error checking camera availability:",ut)}})()},[]);const _e=async()=>{try{if(Z(null),ae(!0),X(!1),console.log("Starting camera..."),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia is not supported in this browser");const ht=await navigator.mediaDevices.enumerateDevices();console.log("Available devices:",ht);const lt=ht.filter(Ke=>Ke.kind==="videoinput");if(console.log("Video devices:",lt),lt.length===0)throw new Error("No camera devices found");let ut={video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480}}};console.log("Trying camera with constraints:",ut);let nt;try{nt=await navigator.mediaDevices.getUserMedia(ut),console.log("Camera started successfully with back camera")}catch(Ke){console.log("Back camera failed, trying front camera:",Ke),ut.video.facingMode="user",nt=await navigator.mediaDevices.getUserMedia(ut),console.log("Camera started successfully with front camera")}H(nt),$(!0),setTimeout(()=>{r.current?(console.log("Setting video source..."),r.current.srcObject=nt,r.current.onloadedmetadata=()=>{console.log("Video metadata loaded"),X(!0),ae(!1),r.current.play().catch(Ke=>{console.error("Error playing video:",Ke),Z("Failed to start video playback")})},r.current.oncanplay=()=>{console.log("Video can play"),X(!0),ae(!1)},r.current.onerror=Ke=>{console.error("Video error:",Ke),Z("Video playback error"),ae(!1)},r.current.play().catch(Ke=>{console.error("Error playing video:",Ke)})):(console.error("Video ref is not available"),Z("Video element not ready"),ae(!1))},100),console.log("Camera modal opened")}catch(ht){console.error("Error accessing camera:",ht),ae(!1);let lt="Unable to access camera. ";ht.name==="NotAllowedError"?lt+="Please allow camera permissions and try again.":ht.name==="NotFoundError"?lt+="No camera found on this device.":ht.name==="NotSupportedError"?lt+="Camera is not supported in this browser.":ht.name==="NotReadableError"?lt+="Camera is being used by another application.":lt+="Please check your camera settings.",Z(lt),t({title:"Camera Error",description:lt,variant:"destructive"})}},ue=()=>{K&&(K.getTracks().forEach(ht=>ht.stop()),H(null)),$(!1),Z(null),X(!1),ae(!1),r.current&&(r.current.srcObject=null)},J=()=>{if(!r.current||!n.current)return;const ht=r.current,lt=n.current,ut=lt.getContext("2d");lt.width=ht.videoWidth,lt.height=ht.videoHeight,ut.drawImage(ht,0,0,lt.width,lt.height),lt.toBlob(nt=>{if(nt){const Ke=new File([nt],`captured_${z}_${Date.now()}.jpg`,{type:"image/jpeg"});m(Ke),g(URL.createObjectURL(nt)),ue(),t({title:"Photo Captured",description:"Aadhar card photo captured successfully"})}},"image/jpeg",.8)},fe=()=>{te("front"),_e()},ye=async()=>{var ht;try{R(!0);const lt=await Ye.get("/user/aadhar-status");if(lt.status===200){const ut=lt.data;console.log("[FRONTEND DEBUG] Aadhar approval status response:",ut),B(ut.aadharStatus),console.log("[FRONTEND DEBUG] Set aadharApprovalStatus to:",ut.aadharStatus),console.log("[FRONTEND DEBUG] isApproved:",(ht=ut.aadharStatus)==null?void 0:ht.isApproved)}}catch(lt){console.error("Error checking Aadhar approval status:",lt)}finally{R(!1)}},Ie=async()=>{try{d(!0);const ht=JSON.parse(localStorage.getItem("user")||"{}"),lt=ht.id||ht._id;if(!lt){console.error("User ID not found");return}const ut=await Ye.get(`/user/profile/${lt}`);if(ut.status===200){const nt=ut.data;l(nt.kycStatus||"not_verified"),N(nt.kycStatus||"not_verified")}}catch(ht){console.error("Error checking KYC status:",ht)}finally{d(!1)}},ke=(ht,lt)=>{if(ht){if(!ht.type.startsWith("image/")){t({title:"Invalid file type",description:"Please upload an image file (JPG, PNG, etc.)",variant:"destructive"});return}if(ht.size>5*1024*1024){t({title:"File too large",description:"Please upload an image smaller than 5MB",variant:"destructive"});return}{m(ht);const ut=new FileReader;ut.onload=nt=>g(nt.target.result),ut.readAsDataURL(ht)}}},He=(ht,lt)=>{if(!ht||!lt)return{match:!1,confidence:0,reason:"Missing name data"};const ut=ht.toUpperCase().trim(),nt=lt.toUpperCase().trim(),Ke=ut.split(/\s+/).filter(tn=>tn.length>0),Ct=nt.split(/\s+/).filter(tn=>tn.length>0);if(ut===nt)return{match:!0,confidence:1,reason:"Exact match"};let Gt=0,Xn=Math.max(Ke.length,Ct.length);for(const tn of Ke)for(const gr of Ct){if(tn===gr){Gt++;break}if(tn.length>2&&gr.length>2){const Ft=We(tn,gr);if(Ft>.8){Gt+=Ft;break}}}const Vr=Gt/Xn;return Vr>=.8?{match:!0,confidence:Vr,reason:"High similarity match"}:Vr>=.5?{match:!1,confidence:Vr,reason:"Partial match - manual review needed"}:{match:!1,confidence:Vr,reason:"No significant match found"}},We=(ht,lt)=>{const ut=ht.toUpperCase(),nt=lt.toUpperCase(),Ke=ut.length>nt.length?ut:nt,Ct=ut.length>nt.length?nt:ut;if(Ke.length===0)return 1;const Gt=me(Ke,Ct);return(Ke.length-Gt)/Ke.length},me=(ht,lt)=>{const ut=[];for(let nt=0;nt<=lt.length;nt++)ut[nt]=[nt];for(let nt=0;nt<=ht.length;nt++)ut[0][nt]=nt;for(let nt=1;nt<=lt.length;nt++)for(let Ke=1;Ke<=ht.length;Ke++)lt.charAt(nt-1)===ht.charAt(Ke-1)?ut[nt][Ke]=ut[nt-1][Ke-1]:ut[nt][Ke]=Math.min(ut[nt-1][Ke-1]+1,ut[nt][Ke-1]+1,ut[nt-1][Ke]+1);return ut[lt.length][ht.length]},Be=async()=>{var lt,ut;if(!f){t({title:"Front image required",description:"Please upload the front side of your document",variant:"destructive"});return}A(!0),P(null),I(null),ce(!0),he(0);const ht=setInterval(()=>{he(nt=>nt>=90?(clearInterval(ht),90):nt+10)},200);try{const nt=new FormData;nt.append("frontImage",f),nt.append("idType",re),nt.append("idNumber","");const Ke=await Ye.post("/user/upload-kyc",nt,{headers:{"Content-Type":"multipart/form-data"}}),Ct=Ke.data;if(Ke.status===200){if(clearInterval(ht),he(100),Ct.kycStatus==="rejected"){y(!0),w(Ct.verificationFailureReason||"Verification failed"),t({title:"Verification Failed",description:Ct.verificationFailureReason||"Please verify again with correct image",variant:"destructive"});return}if(P(Ct.ocrResult),(ut=(lt=Ct.ocrResult)==null?void 0:lt.extractedData)!=null&&ut.name){const Gt=He(Ct.ocrResult.extractedData.name,(i==null?void 0:i.name)||"");I(Gt)}N(Ct.kycStatus),l(Ct.kycStatus),t({title:"Document uploaded successfully",description:`KYC status: ${Ct.kycStatus}`,variant:Ct.kycStatus==="approved"?"default":"destructive"}),Ie(),ye()}else throw new Error(Ct.error||"Upload failed")}catch(nt){console.error("Error uploading KYC:",nt),clearInterval(ht),he(0),t({title:"Upload failed",description:nt.message||"Failed to upload document",variant:"destructive"})}finally{A(!1)}},Oe=ht=>{switch(ht){case"approved":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"rejected":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},Ne=ht=>{switch(ht){case"approved":return s.jsx(yt,{className:"w-5 h-5"});case"pending":return s.jsx(Xt,{className:"w-5 h-5"});case"rejected":return s.jsx(rr,{className:"w-5 h-5"});default:return s.jsx(tr,{className:"w-5 h-5"})}};return c||O?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xs,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:O?"Checking verification status...":"Loading KYC status..."})]})}):F&&F.isApproved?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(wn,{variant:"ghost",onClick:()=>e("/seeker-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-full",children:s.jsx(ei,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center mr-4",children:s.jsx(Dr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Identity Verification"}),s.jsx("p",{className:"text-gray-600",children:"Your Aadhar verification is complete"})]})]})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-8",children:s.jsxs(Kd,{className:"border-green-200 bg-green-50",children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center text-green-800",children:[s.jsx(Dr,{className:"w-6 h-6 mr-2"}),"Verification Approved"]})}),s.jsx(Wd,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(tr,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Aadhar Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Status: Approved"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center text-green-600 font-semibold",children:[s.jsx(Dr,{className:"w-5 h-5 mr-1"}),"Verified"]}),s.jsx("p",{className:"text-xs text-gray-500",children:(Fe=F.details)!=null&&Fe.approvalDate?new Date(F.details.approvalDate).toLocaleDateString():"Recently approved"})]})]}),F.details&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 bg-gray-50 p-4 rounded-lg flex justify-center border border-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Verified Document"}),s.jsx("img",{src:F.details.frontImageUrl,alt:"Verified Aadhar",className:"max-h-64 rounded-lg shadow-md border-2 border-green-200 object-contain"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Verification Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Aadhar Number:"}),s.jsx("span",{className:"font-medium",children:F.details.aadharNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Name:"}),s.jsx("span",{className:"font-medium",children:F.details.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Confidence:"}),s.jsxs("span",{className:"font-medium",children:[F.details.overallConfidence,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Method:"}),s.jsx("span",{className:"font-medium capitalize",children:F.details.verificationMethod})]})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"What's Next?"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dr,{className:"w-4 h-4 text-green-600 mr-2"}),"You can now book rooms"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dr,{className:"w-4 h-4 text-green-600 mr-2"}),"Access all platform features"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dr,{className:"w-4 h-4 text-green-600 mr-2"}),"No need to verify again"]})]})]})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx(wn,{onClick:()=>e("/seeker-dashboard"),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Go to Dashboard"}),s.jsx(wn,{onClick:()=>e("/seeker-bookings"),variant:"outline",className:"flex-1",children:"View Bookings"})]})]})})]})})]})})}):s.jsxs(Br,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(wn,{variant:"ghost",onClick:()=>e("/seeker-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-full",children:s.jsx(ei,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mr-4",children:s.jsx(tr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aadhar Card Verification"}),s.jsx("p",{className:"text-gray-600",children:"Verify your identity to unlock premium features"})]})]})]})}),ie&&s.jsx(Y.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"mb-6",children:s.jsx(Kd,{className:"border-green-200 bg-green-50",children:s.jsxs(Wd,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4",children:be===100?s.jsx(Dr,{className:"w-6 h-6 text-white"}):s.jsx(Xs,{className:"w-6 h-6 text-white animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:be===100?"Verification Complete!":"Verifying Your Identity"}),s.jsx("p",{className:"text-sm text-gray-600",children:be===100?"Your identity has been successfully verified":"Please wait while we process your documents..."})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(Y.div,{className:"bg-green-500 h-2 rounded-full",initial:{width:0},animate:{width:`${be}%`},transition:{duration:.3}})}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[be,"% Complete"]})]})})}),o&&!ie&&s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-6",children:s.jsx(E2,{className:`${Oe(o)} border-0`,children:s.jsxs("div",{className:"flex items-center",children:[Ne(o),s.jsxs(k2,{className:"ml-2",children:[s.jsx("strong",{children:"Current Status:"})," ",o.charAt(0).toUpperCase()+o.slice(1)]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:s.jsxs(Kd,{children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center",children:[s.jsx(tr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upload Document"]})}),s.jsxs(Wd,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(eg,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Aadhar Card Verification"})]}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Aadhar Card Photo"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors",children:x?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:x,alt:"Front preview",className:"mx-auto max-h-48 rounded-lg shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(wn,{variant:"destructive",size:"sm",onClick:()=>{m(null),g(null)},className:"rounded-full w-8 h-8 p-0",children:s.jsx(ar,{className:"w-4 h-4"})})})]}),s.jsx("div",{className:"flex gap-2 justify-center",children:s.jsxs(wn,{variant:"outline",size:"sm",onClick:()=>fe(),className:"flex items-center",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Retake"]})})]}):s.jsxs("div",{children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(XP,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"text-gray-600 mb-4 font-medium",children:"Upload a clear photo of your Aadhar card"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:ht=>ke(ht.target.files[0]),className:"hidden",id:"front-upload"}),s.jsx("label",{htmlFor:"front-upload",className:"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold",children:"Choose File"}),s.jsxs(wn,{variant:"outline",onClick:()=>fe(),className:"flex items-center border-blue-300 text-blue-600 hover:bg-blue-50",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Take Photo"]})]})]})})]}),s.jsx(wn,{onClick:Be,disabled:!f||u,className:"w-full",size:"lg",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing Document..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Verify Document"]})})]})]})}),s.jsx(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:s.jsxs(Kd,{children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center",children:[s.jsx(Pr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Verification Results"]})}),s.jsx(Wd,{className:"p-6",children:C?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Dr,{className:"w-6 h-6 mr-2 text-blue-600"}),"Verification Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${(it=C.validation)!=null&&it.is_aadhar_card?"text-green-600":"text-red-600"}`,children:(pt=C.validation)!=null&&pt.is_aadhar_card?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Aadhar Card"}),s.jsx("div",{className:"text-xs text-gray-500",children:(Re=C.validation)!=null&&Re.is_aadhar_card?"Valid":"Invalid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${C.confidence>70?"text-green-600":C.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(C.confidence||0),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Overall Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${C.verified?"text-green-600":"text-yellow-600"}`,children:C.verified?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("div",{className:"text-xs text-gray-500",children:C.verified?"Approved":"Pending"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2 text-blue-600"}),"Extracted Information"]}),s.jsxs("div",{className:"space-y-3",children:[((gt=C.extractedData)==null?void 0:gt.name)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Name:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:C.extractedData.name})]}),((rt=C.extractedData)==null?void 0:rt.number)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"ID Number:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:C.extractedData.number})]}),((ot=C.extractedData)==null?void 0:ot.dob)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:C.extractedData.dob})]}),((xt=C.extractedData)==null?void 0:xt.gender)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Gender:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:C.extractedData.gender})]}),((Et=C.extractedData)==null?void 0:Et.mobile)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Mobile:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:C.extractedData.mobile})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(fue,{className:"w-5 h-5 mr-2 text-green-600"}),"Verification Status"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Overall Confidence:"}),s.jsxs("span",{className:`font-semibold ${C.confidence>70?"text-green-600":C.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(C.confidence||0),"%"]})]}),C.validation&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Aadhar Card Valid:"}),s.jsx("span",{className:`font-semibold ${C.validation.is_aadhar_card?"text-green-600":"text-red-600"}`,children:C.validation.is_aadhar_card?" Valid Aadhar Card":" Not Valid"})]}),s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Validation Details:"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Aadhar Keywords:"}),s.jsx("span",{className:C.validation.has_aadhar_keywords?"text-green-600":"text-red-600",children:C.validation.has_aadhar_keywords?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Aadhar Number:"}),s.jsx("span",{className:C.validation.has_aadhar_number?"text-green-600":"text-red-600",children:C.validation.has_aadhar_number?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Name:"}),s.jsx("span",{className:C.validation.has_name?"text-green-600":"text-red-600",children:C.validation.has_name?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Date of Birth:"}),s.jsx("span",{className:C.validation.has_dob?"text-green-600":"text-red-600",children:C.validation.has_dob?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Gender:"}),s.jsx("span",{className:C.validation.has_gender?"text-green-600":"text-red-600",children:C.validation.has_gender?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Validation Score:"}),s.jsxs("span",{className:`font-semibold ${C.validation.confidence_score>70?"text-green-600":C.validation.confidence_score>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(C.validation.confidence_score||0),"%"]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Final Status:"}),s.jsx("span",{className:`font-semibold ${C.verified?"text-green-600":"text-yellow-600"}`,children:C.verified?" Verified & Approved":" Under Review"})]})]})]}),E&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Name Verification"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Profile Name:"}),s.jsx("span",{className:"font-semibold",children:(i==null?void 0:i.name)||"Not available"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Document Name:"}),s.jsx("span",{className:"font-semibold",children:((St=C.extractedData)==null?void 0:St.name)||"Not extracted"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Match Status:"}),s.jsx("span",{className:`font-semibold ${E.match?"text-green-600":"text-red-600"}`,children:E.match?" Match":" No Match"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(E.confidence*100),"%"]})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2 p-2 bg-white rounded-lg",children:E.reason})]})]}),C.rawText&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>Se(!ge),children:[s.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2 text-gray-600"}),"Extracted Text"]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsxs("span",{className:"mr-2",children:[C.rawText.length," characters"]}),s.jsx("span",{className:`transform transition-transform ${ge?"rotate-180":""}`,children:""})]})]}),ge&&s.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 border",children:[s.jsx("div",{className:"text-sm text-gray-700 leading-relaxed max-h-60 overflow-y-auto whitespace-pre-wrap",children:C.rawText}),s.jsxs("div",{className:"mt-3 flex justify-between items-center text-xs text-gray-500",children:[s.jsx("span",{children:"Raw OCR output from Tesseract"}),s.jsx(wn,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(C.rawText),className:"text-blue-600 hover:text-blue-700",children:"Copy Text"})]})]})]}),C.ocrDetails&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Pr,{className:"w-5 h-5 mr-2 text-blue-600"}),"OCR Processing Details"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Text Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(C.ocrDetails.text_confidence||0),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Field Extraction:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(C.ocrDetails.field_extraction_confidence||0),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Validation Score:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(C.ocrDetails.validation_confidence||0),"%"]})]})]})]}),((bt=($t=C.verificationDetails)==null?void 0:$t.missing_fields)==null?void 0:bt.length)>0&&s.jsxs(E2,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(qh,{className:"w-4 h-4 text-yellow-600"}),s.jsxs(k2,{className:"text-yellow-800",children:[s.jsx("strong",{children:"Missing Information:"})," The following fields could not be extracted: ",C.verificationDetails.missing_fields.join(", ")]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-6",children:s.jsx(tr,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Results Yet"}),s.jsx("p",{className:"text-gray-500",children:"Upload a document to see verification results"})]})})]})})]}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-lg w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capture Aadhar Card"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Take a clear photo of your Aadhar card"})]}),s.jsx(wn,{variant:"ghost",size:"sm",onClick:ue,className:"text-gray-500 hover:text-gray-700 rounded-full w-10 h-10 p-0",children:s.jsx(ar,{className:"w-5 h-5"})})]}),ee?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(Xt,{className:"w-10 h-10 text-red-500"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Camera Error"}),s.jsx("p",{className:"text-red-600 mb-6",children:ee}),s.jsx(wn,{onClick:_e,className:"bg-blue-600 hover:bg-blue-700",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden",children:[W&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xs,{className:"w-12 h-12 text-white animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-sm",children:"Starting camera..."})]})}),s.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-80 object-cover ${V?"opacity-100":"opacity-0"} transition-opacity duration-300`,style:{backgroundColor:"#000"}}),s.jsx("canvas",{ref:n,className:"hidden"}),V&&s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-4 border-2 border-white border-dashed rounded-lg opacity-70",children:s.jsx("div",{className:"absolute top-2 left-2 text-white text-xs font-medium bg-black bg-opacity-50 px-2 py-1 rounded",children:"Align document within frame"})}),s.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-t-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-t-2 border-r-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-b-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-b-2 border-r-2 border-white"})]}),!V&&!W&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(As,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Camera not ready"})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Xt,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tips for better capture:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[s.jsx("li",{children:"Ensure good lighting"}),s.jsx("li",{children:"Keep the document flat and straight"}),s.jsx("li",{children:"Align all four corners within the frame"}),s.jsx("li",{children:"Avoid shadows and reflections"})]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(wn,{onClick:J,disabled:!V||W,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(As,{className:"w-5 h-5 mr-2"}),W?"Starting Camera...":V?"Capture Photo":"Camera Not Ready"]}),s.jsx(wn,{onClick:ue,variant:"outline",className:"px-6 py-3 border-2 border-gray-300 hover:border-gray-400 font-semibold rounded-xl",children:"Cancel"})]})]})]})}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-8 flex justify-center space-x-4",children:[s.jsx(wn,{variant:"outline",onClick:()=>e("/seeker-dashboard"),children:"Back to Dashboard"}),o==="approved"&&s.jsx(wn,{onClick:()=>e("/seeker-dashboard"),className:"bg-green-600 hover:bg-green-700",children:"Continue to Booking"})]})]})}),s.jsx(uq,{open:v,onOpenChange:y,children:s.jsxs(M6,{className:"sm:max-w-md",children:[s.jsxs(Q6,{children:[s.jsxs(H6,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Xt,{className:"h-5 w-5"}),"Verification Failed"]}),s.jsx(V6,{children:"Your KYC verification could not be completed."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:b})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Please ensure:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Upload a clear, valid Aadhar card image"}),s.jsx("li",{children:" The name on the document matches your profile name"}),s.jsx("li",{children:" The image is not blurry or rotated"}),s.jsx("li",{children:" All text is clearly visible"})]})]})]}),s.jsxs($6,{className:"flex gap-2",children:[s.jsx(wn,{variant:"outline",onClick:()=>y(!1),children:"Close"}),s.jsx(wn,{onClick:()=>{y(!1),m(null),g(null),P(null),I(null),he(0)},children:"Try Again"})]})]})})]})},Rwe=()=>{const{tenantData:e,loading:t}=im(),{toast:r}=to(),[n,i]=j.useState(new Date),a=()=>{var x;(x=e==null?void 0:e.owner)!=null&&x.phone?window.location.href=`tel:${e.owner.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})},o=()=>{var x;(x=e==null?void 0:e.owner)!=null&&x.phone?window.location.href=`sms:${e.owner.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})};if(j.useEffect(()=>{const x=setInterval(()=>i(new Date),1e3);return()=>clearInterval(x)},[]),t)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-red-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})})});if(!e)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(Xt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy at the moment."})]})})});const{property:l,room:c}=e,d=Math.floor((new Date-new Date(e.actualCheckInDate))/(1e3*60*60*24)),u=new Date(e.actualCheckInDate);u.setMonth(u.getMonth()+1);const A=Math.ceil((u-new Date)/(1e3*60*60*24)),f=x=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(x||0),m=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-rose-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:"Welcome Home! "}),s.jsxs("p",{className:"text-red-100 text-lg",children:["You've been a tenant for ",d," days"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-red-100 text-sm",children:"Current Time"}),s.jsx("p",{className:"text-2xl font-bold",children:n.toLocaleTimeString()}),s.jsx("p",{className:"text-red-100 text-sm",children:n.toLocaleDateString()})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-400",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:f((c==null?void 0:c.rent)||e.monthlyRent)})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(gi,{className:"w-6 h-6 text-red-500"})})]})}),s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Next Rent Due"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[A," days"]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Or,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["Room ",(c==null?void 0:c.roomNumber)||e.roomNumber]})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(ua,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Status"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1 capitalize",children:e.status})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Ir,{className:"w-6 h-6 mr-2"}),"Your Room"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[((c==null?void 0:c.roomImage)||(c==null?void 0:c.image))&&s.jsx("div",{className:"md:w-1/3",children:s.jsx("img",{src:c.roomImage||c.image,alt:"Your Room",className:"w-full h-48 object-cover rounded-xl shadow-md"})}),s.jsx("div",{className:"flex-1 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["Room ",(c==null?void 0:c.roomNumber)||e.roomNumber]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Type"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(c==null?void 0:c.roomType)||(c==null?void 0:c.room_type)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:f((c==null?void 0:c.rent)||e.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Check-in Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:m(e.actualCheckInDate)})]})]})})]})})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Zr,{className:"w-6 h-6 mr-2"}),"Property Details"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Property Name"}),s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:(l==null?void 0:l.propertyName)||(l==null?void 0:l.property_name)||e.propertyName})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 font-medium flex items-center",children:[s.jsx(jr,{className:"w-4 h-4 mr-1"}),"Address"]}),s.jsx("p",{className:"text-base text-gray-700",children:l!=null&&l.address?typeof l.address=="string"?l.address:`${l.address.street||""}, ${l.address.city||""}, ${l.address.state||""} ${l.address.pincode||""}`:"N/A"})]})]})})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(gi,{className:"w-6 h-6 mr-2"}),"Payment Information"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:f((c==null?void 0:c.rent)||e.monthlyRent)})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-red-700 font-medium mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-2xl font-bold text-red-900",children:f((l==null?void 0:l.security_deposit)||e.securityDeposit)})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Next Payment Due"}),s.jsx("p",{className:"text-lg font-bold text-purple-900",children:m(u)}),s.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["In ",A," days"]})]}),s.jsxs("div",{className:"bg-orange-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-orange-700 font-medium mb-1",children:"Total Paid"}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:f(e.amountPaid)})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 p-4",children:s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Property Owner"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(cr,{className:"w-10 h-10 text-indigo-600"})}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.ownerName})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:a,className:"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center",children:[s.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Call Owner"]}),s.jsxs("button",{onClick:o,className:"w-full bg-red-500 text-white py-3 px-4 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center",children:[s.jsx(ad,{className:"w-4 h-4 mr-2"}),"Send Message"]})]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.9},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 p-4",children:s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[s.jsx(ru,{className:"w-5 h-5 mr-2"}),"Quick Actions"]})}),s.jsxs("div",{className:"p-6 space-y-3",children:[s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(Hd,{className:"w-4 h-4 mr-3 text-orange-600"}),s.jsx("span",{className:"font-medium",children:"Request Maintenance"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(ks,{className:"w-4 h-4 mr-3 text-red-500"}),s.jsx("span",{className:"font-medium",children:"View Agreement"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(uu,{className:"w-4 h-4 mr-3 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Payment History"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(tr,{className:"w-4 h-4 mr-3 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Property Rules"})]})]})]}),s.jsx(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl shadow-xl p-6 border-2 border-yellow-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Xt,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Reminder"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Your next rent payment of ",f(e.monthlyRent)," is due on ",m(u),"."]})]})]})})]})]})]})})})},Dwe=()=>{const{tenantData:e,loading:t}=im(),[r,n]=j.useState("all"),[i,a]=j.useState([{id:1,month:"January 2025",amount:12e3,dueDate:"2025-01-05",paidDate:"2025-01-03",status:"paid",paymentMethod:"UPI",transactionId:"TXN123456789"},{id:2,month:"December 2024",amount:12e3,dueDate:"2024-12-05",paidDate:"2024-12-04",status:"paid",paymentMethod:"Bank Transfer",transactionId:"TXN123456788"},{id:3,month:"November 2024",amount:12e3,dueDate:"2024-11-05",paidDate:"2024-11-02",status:"paid",paymentMethod:"UPI",transactionId:"TXN123456787"}]),o=u=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(u||0),l=u=>u?new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",c=i.filter(u=>r==="all"?!0:u.status===r),d=i.filter(u=>u.status==="paid").reduce((u,A)=>u+A.amount,0);return t?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading payment history..."})]})})}):s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(gi,{className:"w-10 h-10 mr-3"}),"Payment History"]}),s.jsx("p",{className:"text-green-100 text-lg",children:"Track all your rent payments"})]}),s.jsxs("div",{className:"text-right bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Total Paid"}),s.jsx("p",{className:"text-3xl font-bold",children:o(d)})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Payments Made"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:i.filter(u=>u.status==="paid").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:o(e==null?void 0:e.monthlyRent)})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(uu,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Security Deposit"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:o(e==null?void 0:e.securityDeposit)})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(eg,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-6 flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w4,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Filter:"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),s.jsx("button",{onClick:()=>n("paid"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="paid"?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Paid"}),s.jsx("button",{onClick:()=>n("pending"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="pending"?"bg-orange-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Pending"})]})]}),s.jsx("div",{className:"space-y-4",children:c.map((u,A)=>s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+A*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${u.status==="paid"?"bg-green-100":"bg-orange-100"}`,children:u.status==="paid"?s.jsx(yt,{className:"w-6 h-6 text-green-600"}):s.jsx(ns,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u.month}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Due: ",l(u.dueDate)]}),u.paidDate&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Paid: ",l(u.paidDate)]})]})]}),s.jsxs("div",{className:"flex flex-col md:items-end gap-2",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(u.amount)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${u.status==="paid"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:u.status==="paid"?"Paid":"Pending"}),u.paymentMethod&&s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:u.paymentMethod})]}),u.transactionId&&s.jsxs("p",{className:"text-xs text-gray-500",children:["TXN: ",u.transactionId]})]})]}),u.status==="paid"&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(eu,{className:"w-4 h-4"}),"Download Receipt"]})})]})},u.id))}),c.length===0&&s.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(Xt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No payments found"})]})]})})})},Mwe=()=>{const{tenantData:e,loading:t}=im(),[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,l]=j.useState(!1),[c,d]=j.useState({open:!1,id:null}),[u,A]=j.useState({title:"",category:"",priority:"medium",description:"",images:[]}),f=async()=>{try{const _=await Ye.get("/maintenance/tenant");n(_.data)}catch(_){console.error("Error fetching requests:",_)}};j.useEffect(()=>{e?f():t||a(!1)},[e,t]);const m=["Plumbing","Electrical","Carpentry","Painting","Cleaning","Appliances","Other"],x=async _=>{var N,C;_.preventDefault(),a(!0);try{await Ye.post("/maintenance",u),await f(),A({title:"",category:"",priority:"medium",description:"",images:[]}),l(!1)}catch(P){console.error("Error creating request:",P),alert("Failed to submit request: "+(((C=(N=P.response)==null?void 0:N.data)==null?void 0:C.message)||P.message))}finally{a(!1)}},g=_=>{d({open:!0,id:_})},v=async()=>{try{await Ye.patch(`/maintenance/${c.id}`,{status:"cancelled"}),await f(),d({open:!1,id:null})}catch(_){console.error("Error cancelling request:",_),alert("Failed to cancel request")}},y=_=>{switch(_){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},b=_=>{switch(_){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-orange-100 text-orange-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return t?s.jsx(Br,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Hd,{className:"w-12 h-12 animate-spin text-orange-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading maintenance portal..."})]})})}):e?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(Hd,{className:"w-10 h-10 mr-3"}),"Maintenance Requests"]}),s.jsx("p",{className:"text-orange-100 text-lg",children:"Report and track maintenance issues"})]}),s.jsx("button",{onClick:()=>l(!o),className:"bg-white text-orange-600 px-6 py-3 rounded-lg font-bold hover:bg-orange-50 transition-colors shadow-lg",children:o?"Cancel":"+ New Request"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-yellow-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(_=>_.status==="pending").length})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(ns,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"In Progress"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(_=>_.status==="in-progress").length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Hd,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Completed"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(_=>_.status==="completed").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-green-600"})})]})})]}),o&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"New Maintenance Request"}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",required:!0,value:u.title,onChange:_=>A({...u,title:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Brief description of the issue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{required:!0,value:u.category,onChange:_=>A({...u,category:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select category"}),m.map(_=>s.jsx("option",{value:_,children:_},_))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),s.jsx("div",{className:"flex gap-4",children:["low","medium","high"].map(_=>s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"radio",name:"priority",value:_,checked:u.priority===_,onChange:N=>A({...u,priority:N.target.value}),className:"mr-2"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium capitalize ${b(_)}`,children:_})]},_))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{required:!0,value:u.description,onChange:_=>A({...u,description:_.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Provide detailed information about the issue..."})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors flex items-center gap-2",children:[s.jsx(If,{className:"w-4 h-4"}),"Submit Request"]})]})]})]}),s.jsx("div",{className:"space-y-4",children:r.map((_,N)=>s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o?0:.4+N*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${_.status==="completed"?"bg-green-100":_.status==="in-progress"?"bg-blue-100":"bg-yellow-100"}`,children:_.status==="completed"?s.jsx(yt,{className:"w-6 h-6 text-green-600"}):_.status==="in-progress"?s.jsx(Hd,{className:"w-6 h-6 text-blue-600"}):s.jsx(ns,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:_.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.category})]})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:_.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-4 h-4"}),"Created: ",w(_.createdAt)]}),_.assignedTo&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(wy,{className:"w-4 h-4"}),_.assignedTo]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${y(_.status)}`,children:_.status.replace("-"," ")}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${b(_.priority)}`,children:[_.priority," Priority"]}),_.status==="pending"&&s.jsx("button",{onClick:()=>g(_._id),className:"px-3 py-1 bg-red-50 text-red-600 rounded-full text-xs font-medium hover:bg-red-100 transition-colors border border-red-200",children:"Cancel"})]})]})})},_._id||_.id))}),r.length===0&&s.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(Xt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No maintenance requests yet"}),s.jsx("button",{onClick:()=>l(!0),className:"mt-4 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Your First Request"})]}),s.jsx(Mr,{children:c.open&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs(Y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Cancel Request?"}),s.jsx("button",{onClick:()=>d({open:!1,id:null}),className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(ar,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to cancel this maintenance request? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>d({open:!1,id:null}),className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Keep Request"}),s.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Yes, Cancel"})]})]})})})]})})}):s.jsx(Br,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[s.jsx(Xt,{className:"w-16 h-16 text-gray-300 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600 max-w-md",children:"You need to have an active tenancy to submit maintenance requests."})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var X4=function(e,t){return X4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},X4(e,t)};function yc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");X4(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Z4=function(){return Z4=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Z4.apply(this,arguments)};function ba(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,[])).next())})}function ta(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],i=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Jb(e,t,r){if(arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||t)}var mu=function(){function e(t,r,n,i){this.left=t,this.top=r,this.width=n,this.height=i}return e.prototype.add=function(t,r,n,i){return new e(this.left+t,this.top+r,this.width+n,this.height+i)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),ZN=function(e,t){return mu.fromClientRect(e,t.getBoundingClientRect())},Qwe=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new mu(0,0,n,i)},JN=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},Rs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},ZU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$we=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ew=0;ew<ZU.length;ew++)$we[ZU.charCodeAt(ew)]=ew;var JU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ax=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tw=0;tw<JU.length;tw++)Ax[JU.charCodeAt(tw)]=tw;var Hwe=function(e){var t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)a=Ax[e.charCodeAt(n)],o=Ax[e.charCodeAt(n+1)],l=Ax[e.charCodeAt(n+2)],c=Ax[e.charCodeAt(n+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},Vwe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},zwe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},yf=5,z6=11,QC=2,Kwe=z6-yf,Aq=65536>>yf,Wwe=1<<yf,$C=Wwe-1,Gwe=1024>>yf,qwe=Aq+Gwe,Ywe=qwe,Xwe=32,Zwe=Ywe+Xwe,Jwe=65536>>z6,e1e=1<<Kwe,t1e=e1e-1,eR=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},r1e=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},n1e=function(e,t){var r=Hwe(e),n=Array.isArray(r)?zwe(r):new Uint32Array(r),i=Array.isArray(r)?Vwe(r):new Uint16Array(r),a=24,o=eR(i,a/2,n[4]/2),l=n[5]===2?eR(i,(a+n[4])/2):r1e(n,Math.ceil((a+n[4])/4));return new s1e(n[0],n[1],n[2],n[3],o,l)},s1e=function(){function e(t,r,n,i,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>yf],r=(r<<QC)+(t&$C),this.data[r];if(t<=65535)return r=this.index[Aq+(t-55296>>yf)],r=(r<<QC)+(t&$C),this.data[r];if(t<this.highStart)return r=Zwe-Jwe+(t>>z6),r=this.index[r],r+=t>>yf&t1e,r=this.index[r],r=(r<<QC)+(t&$C),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),tR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i1e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rw=0;rw<tR.length;rw++)i1e[tR.charCodeAt(rw)]=rw;var a1e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",rR=50,o1e=1,fq=2,mq=3,l1e=4,c1e=5,nR=7,pq=8,sR=9,wh=10,J4=11,iR=12,eE=13,d1e=14,fx=15,tE=16,nw=17,M0=18,u1e=19,aR=20,rE=21,Q0=22,HC=23,Im=24,go=25,mx=26,px=27,Tm=28,h1e=29,KA=30,A1e=31,sw=32,iw=33,nE=34,sE=35,iE=36,Sy=37,aE=38,_1=39,C1=40,VC=41,gq=42,f1e=43,m1e=[9001,65288],xq="!",Rr="",aw="",oE=n1e(a1e),kd=[KA,iE],lE=[o1e,fq,mq,c1e],yq=[wh,pq],oR=[px,mx],p1e=lE.concat(yq),lR=[aE,_1,C1,nE,sE],g1e=[fx,eE],x1e=function(e,t){t===void 0&&(t="strict");var r=[],n=[],i=[];return e.forEach(function(a,o){var l=oE.get(a);if(l>rR?(i.push(!0),l-=rR):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),r.push(tE);if(l===l1e||l===J4){if(o===0)return n.push(o),r.push(KA);var c=r[o-1];return p1e.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(KA))}if(n.push(o),l===A1e)return r.push(t==="strict"?rE:Sy);if(l===gq||l===h1e)return r.push(KA);if(l===f1e)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(Sy):r.push(KA);r.push(l)}),[n,r,i]},zC=function(e,t,r,n){var i=n[r];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=r;a<=n.length;){a++;var o=n[a];if(o===t)return!0;if(o!==wh)break}if(i===wh)for(var a=r;a>0;){a--;var l=n[a];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===t)return!0;if(o!==wh)break}if(l!==wh)break}return!1},cR=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===wh)r--;else return n}return 0},y1e=function(e,t,r,n,i){if(r[n]===0)return Rr;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return Rr;var o=a-1,l=a+1,c=t[a],d=o>=0?t[o]:0,u=t[l];if(c===fq&&u===mq)return Rr;if(lE.indexOf(c)!==-1)return xq;if(lE.indexOf(u)!==-1||yq.indexOf(u)!==-1)return Rr;if(cR(a,t)===pq)return aw;if(oE.get(e[a])===J4||(c===sw||c===iw)&&oE.get(e[l])===J4||c===nR||u===nR||c===sR||[wh,eE,fx].indexOf(c)===-1&&u===sR||[nw,M0,u1e,Im,Tm].indexOf(u)!==-1||cR(a,t)===Q0||zC(HC,Q0,a,t)||zC([nw,M0],rE,a,t)||zC(iR,iR,a,t))return Rr;if(c===wh)return aw;if(c===HC||u===HC)return Rr;if(u===tE||c===tE)return aw;if([eE,fx,rE].indexOf(u)!==-1||c===d1e||d===iE&&g1e.indexOf(c)!==-1||c===Tm&&u===iE||u===aR||kd.indexOf(u)!==-1&&c===go||kd.indexOf(c)!==-1&&u===go||c===px&&[Sy,sw,iw].indexOf(u)!==-1||[Sy,sw,iw].indexOf(c)!==-1&&u===mx||kd.indexOf(c)!==-1&&oR.indexOf(u)!==-1||oR.indexOf(c)!==-1&&kd.indexOf(u)!==-1||[px,mx].indexOf(c)!==-1&&(u===go||[Q0,fx].indexOf(u)!==-1&&t[l+1]===go)||[Q0,fx].indexOf(c)!==-1&&u===go||c===go&&[go,Tm,Im].indexOf(u)!==-1)return Rr;if([go,Tm,Im,nw,M0].indexOf(u)!==-1)for(var A=a;A>=0;){var f=t[A];if(f===go)return Rr;if([Tm,Im].indexOf(f)!==-1)A--;else break}if([px,mx].indexOf(u)!==-1)for(var A=[nw,M0].indexOf(c)!==-1?o:a;A>=0;){var f=t[A];if(f===go)return Rr;if([Tm,Im].indexOf(f)!==-1)A--;else break}if(aE===c&&[aE,_1,nE,sE].indexOf(u)!==-1||[_1,nE].indexOf(c)!==-1&&[_1,C1].indexOf(u)!==-1||[C1,sE].indexOf(c)!==-1&&u===C1||lR.indexOf(c)!==-1&&[aR,mx].indexOf(u)!==-1||lR.indexOf(u)!==-1&&c===px||kd.indexOf(c)!==-1&&kd.indexOf(u)!==-1||c===Im&&kd.indexOf(u)!==-1||kd.concat(go).indexOf(c)!==-1&&u===Q0&&m1e.indexOf(e[l])===-1||kd.concat(go).indexOf(u)!==-1&&c===M0)return Rr;if(c===VC&&u===VC){for(var m=r[a],x=1;m>0&&(m--,t[m]===VC);)x++;if(x%2!==0)return Rr}return c===sw&&u===iw?Rr:aw},v1e=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=x1e(e,t.lineBreak),n=r[0],i=r[1],a=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(l){return[go,KA,gq].indexOf(l)!==-1?Sy:l}));var o=t.wordBreak==="keep-all"?a.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,i,o]},b1e=function(){function e(t,r,n,i){this.codePoints=t,this.required=r===xq,this.start=n,this.end=i}return e.prototype.slice=function(){return Rs.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),w1e=function(e,t){var r=JN(e),n=v1e(r,t),i=n[0],a=n[1],o=n[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=Rr;d<l&&(u=y1e(r,a,i,++d,o))===Rr;);if(u!==Rr||d===l){var A=new b1e(r,u,c,d);return c=d,{value:A,done:!1}}return{done:!0,value:null}}}},j1e=1,N1e=2,zv=4,dR=8,I2=10,uR=47,Dx=92,_1e=9,C1e=32,ow=34,$0=61,S1e=35,B1e=36,E1e=37,lw=39,cw=40,H0=41,k1e=95,za=45,P1e=33,I1e=60,T1e=62,O1e=64,L1e=91,F1e=93,U1e=61,R1e=123,dw=63,D1e=125,hR=124,M1e=126,Q1e=128,AR=65533,KC=42,nf=43,$1e=44,H1e=58,V1e=59,By=46,z1e=0,K1e=8,W1e=11,G1e=14,q1e=31,Y1e=127,Fc=-1,vq=48,bq=97,wq=101,X1e=102,Z1e=117,J1e=122,jq=65,Nq=69,_q=70,e2e=85,t2e=90,sa=function(e){return e>=vq&&e<=57},r2e=function(e){return e>=55296&&e<=57343},Om=function(e){return sa(e)||e>=jq&&e<=_q||e>=bq&&e<=X1e},n2e=function(e){return e>=bq&&e<=J1e},s2e=function(e){return e>=jq&&e<=t2e},i2e=function(e){return n2e(e)||s2e(e)},a2e=function(e){return e>=Q1e},uw=function(e){return e===I2||e===_1e||e===C1e},T2=function(e){return i2e(e)||a2e(e)||e===k1e},fR=function(e){return T2(e)||sa(e)||e===za},o2e=function(e){return e>=z1e&&e<=K1e||e===W1e||e>=G1e&&e<=q1e||e===Y1e},dh=function(e,t){return e!==Dx?!1:t!==I2},hw=function(e,t,r){return e===za?T2(t)||dh(t,r):T2(e)?!0:!!(e===Dx&&dh(e,t))},WC=function(e,t,r){return e===nf||e===za?sa(t)?!0:t===By&&sa(r):sa(e===By?t:e)},l2e=function(e){var t=0,r=1;(e[t]===nf||e[t]===za)&&(e[t]===za&&(r=-1),t++);for(var n=[];sa(e[t]);)n.push(e[t++]);var i=n.length?parseInt(Rs.apply(void 0,n),10):0;e[t]===By&&t++;for(var a=[];sa(e[t]);)a.push(e[t++]);var o=a.length,l=o?parseInt(Rs.apply(void 0,a),10):0;(e[t]===Nq||e[t]===wq)&&t++;var c=1;(e[t]===nf||e[t]===za)&&(e[t]===za&&(c=-1),t++);for(var d=[];sa(e[t]);)d.push(e[t++]);var u=d.length?parseInt(Rs.apply(void 0,d),10):0;return r*(i+l*Math.pow(10,-o))*Math.pow(10,c*u)},c2e={type:2},d2e={type:3},u2e={type:4},h2e={type:13},A2e={type:8},f2e={type:21},m2e={type:9},p2e={type:10},g2e={type:11},x2e={type:12},y2e={type:14},Aw={type:23},v2e={type:1},b2e={type:25},w2e={type:24},j2e={type:26},N2e={type:27},_2e={type:28},C2e={type:29},S2e={type:31},cE={type:32},Cq=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(JN(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==cE;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case ow:return this.consumeStringToken(ow);case S1e:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(fR(r)||dh(n,i)){var a=hw(r,n,i)?N1e:j1e,o=this.consumeName();return{type:5,value:o,flags:a}}break;case B1e:if(this.peekCodePoint(0)===$0)return this.consumeCodePoint(),h2e;break;case lw:return this.consumeStringToken(lw);case cw:return c2e;case H0:return d2e;case KC:if(this.peekCodePoint(0)===$0)return this.consumeCodePoint(),y2e;break;case nf:if(WC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case $1e:return u2e;case za:var l=t,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(WC(l,c,d))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(hw(l,c,d))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===za&&d===T1e)return this.consumeCodePoint(),this.consumeCodePoint(),w2e;break;case By:if(WC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case uR:if(this.peekCodePoint(0)===KC)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===KC&&(u=this.consumeCodePoint(),u===uR))return this.consumeToken();if(u===Fc)return this.consumeToken()}break;case H1e:return j2e;case V1e:return N2e;case I1e:if(this.peekCodePoint(0)===P1e&&this.peekCodePoint(1)===za&&this.peekCodePoint(2)===za)return this.consumeCodePoint(),this.consumeCodePoint(),b2e;break;case O1e:var A=this.peekCodePoint(0),f=this.peekCodePoint(1),m=this.peekCodePoint(2);if(hw(A,f,m)){var o=this.consumeName();return{type:7,value:o}}break;case L1e:return _2e;case Dx:if(dh(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case F1e:return C2e;case U1e:if(this.peekCodePoint(0)===$0)return this.consumeCodePoint(),A2e;break;case R1e:return g2e;case D1e:return x2e;case Z1e:case e2e:var x=this.peekCodePoint(0),g=this.peekCodePoint(1);return x===nf&&(Om(g)||g===dw)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case hR:if(this.peekCodePoint(0)===$0)return this.consumeCodePoint(),m2e;if(this.peekCodePoint(0)===hR)return this.consumeCodePoint(),f2e;break;case M1e:if(this.peekCodePoint(0)===$0)return this.consumeCodePoint(),p2e;break;case Fc:return cE}return uw(t)?(this.consumeWhiteSpace(),S2e):sa(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):T2(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Rs(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Om(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===dw&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Rs.apply(void 0,t.map(function(c){return c===dw?vq:c})),16),a=parseInt(Rs.apply(void 0,t.map(function(c){return c===dw?_q:c})),16);return{type:30,start:i,end:a}}var o=parseInt(Rs.apply(void 0,t),16);if(this.peekCodePoint(0)===za&&Om(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Om(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var a=parseInt(Rs.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===cw?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===cw?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Fc)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===lw||r===ow){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Fc||this.peekCodePoint(0)===H0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Aw)}for(;;){var i=this.consumeCodePoint();if(i===Fc||i===H0)return{type:22,value:Rs.apply(void 0,t)};if(uw(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Fc||this.peekCodePoint(0)===H0?(this.consumeCodePoint(),{type:22,value:Rs.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Aw);if(i===ow||i===lw||i===cw||o2e(i))return this.consumeBadUrlRemnants(),Aw;if(i===Dx)if(dh(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Aw;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;uw(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===H0||t===Fc)return;dh(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var i=Math.min(r,t);n+=Rs.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var i=this._value[n];if(i===Fc||i===void 0||i===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===I2)return this._value.splice(0,n),v2e;if(i===Dx){var a=this._value[n+1];a!==Fc&&a!==void 0&&(a===I2?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):dh(i,a)&&(r+=this.consumeStringSlice(n),r+=Rs(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=zv,n=this.peekCodePoint(0);for((n===nf||n===za)&&t.push(this.consumeCodePoint());sa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===By&&sa(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=dR;sa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===Nq||n===wq)&&((i===nf||i===za)&&sa(a)||sa(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=dR;sa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[l2e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(hw(i,a,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return i===E1e?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Om(t)){for(var r=Rs(t);Om(this.peekCodePoint(0))&&r.length<6;)r+=Rs(this.consumeCodePoint());uw(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||r2e(n)||n>1114111?AR:n}return t===Fc?AR:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(fR(r))t+=Rs(r);else if(dh(r,this.peekCodePoint(0)))t+=Rs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),Sq=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new Cq;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||E2e(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?cE:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Kv=function(e){return e.type===15},Wg=function(e){return e.type===17},Nn=function(e){return e.type===20},B2e=function(e){return e.type===0},dE=function(e,t){return Nn(e)&&e.value===t},Bq=function(e){return e.type!==31},ig=function(e){return e.type!==31&&e.type!==4},fd=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},E2e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Jh=function(e){return e.type===17||e.type===15},qs=function(e){return e.type===16||Jh(e)},Eq=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ui={type:17,number:0,flags:zv},K6={type:16,number:50,flags:zv},jh={type:16,number:100,flags:zv},gx=function(e,t,r){var n=e[0],i=e[1];return[Dn(n,t),Dn(typeof i<"u"?i:n,r)]},Dn=function(e,t){if(e.type===16)return e.number/100*t;if(Kv(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},kq="deg",Pq="grad",Iq="rad",Tq="turn",e5={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case kq:return Math.PI*t.number/180;case Pq:return Math.PI/200*t.number;case Iq:return t.number;case Tq:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Oq=function(e){return e.type===15&&(e.unit===kq||e.unit===Pq||e.unit===Iq||e.unit===Tq)},Lq=function(e){var t=e.filter(Nn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ui,Ui];case"to top":case"bottom":return cl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ui,jh];case"to right":case"left":return cl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[jh,jh];case"to bottom":case"top":return cl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[jh,Ui];case"to left":case"right":return cl(270)}return 0},cl=function(e){return Math.PI*e/180},Mh={name:"color",parse:function(e,t){if(t.type===18){var r=k2e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return Nh(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return Nh(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return Nh(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return Nh(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var l=su[t.value.toUpperCase()];if(typeof l<"u")return l}return su.TRANSPARENT}},Qh=function(e){return(255&e)===0},yi=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+r+","+t/255+")":"rgb("+i+","+n+","+r+")"},Nh=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},mR=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},pR=function(e,t){var r=t.filter(ig);if(r.length===3){var n=r.map(mR),i=n[0],a=n[1],o=n[2];return Nh(i,a,o,1)}if(r.length===4){var l=r.map(mR),i=l[0],a=l[1],o=l[2],c=l[3];return Nh(i,a,o,c)}return 0};function GC(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var gR=function(e,t){var r=t.filter(ig),n=r[0],i=r[1],a=r[2],o=r[3],l=(n.type===17?cl(n.number):e5.parse(e,n))/(Math.PI*2),c=qs(i)?i.number/100:0,d=qs(a)?a.number/100:0,u=typeof o<"u"&&qs(o)?Dn(o,1):1;if(c===0)return Nh(d*255,d*255,d*255,1);var A=d<=.5?d*(c+1):d+c-d*c,f=d*2-A,m=GC(f,A,l+1/3),x=GC(f,A,l),g=GC(f,A,l-1/3);return Nh(m*255,x*255,g*255,u)},k2e={hsl:gR,hsla:gR,rgb:pR,rgba:pR},Mx=function(e,t){return Mh.parse(e,Sq.create(t).parseComponentValue())},su={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},P2e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Nn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},I2e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},t5=function(e,t){var r=Mh.parse(e,t[0]),n=t[1];return n&&qs(n)?{color:r,stop:n}:{color:r,stop:null}},xR=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Ui),n.stop===null&&(n.stop=jh);for(var i=[],a=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var c=Dn(l,t);c>a?i.push(c):i.push(a),a=c}else i.push(null)}for(var d=null,o=0;o<i.length;o++){var u=i[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var A=o-d,f=i[d-1],m=(u-f)/(A+1),x=1;x<=A;x++)i[d+x-1]=m*x;d=null}}return e.map(function(g,v){var y=g.color;return{color:y,stop:Math.max(Math.min(1,i[v]/t),0)}})},T2e=function(e,t,r){var n=t/2,i=r/2,a=Dn(e[0],t)-n,o=i-Dn(e[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},O2e=function(e,t,r){var n=typeof e=="number"?e:T2e(e,t,r),i=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),a=t/2,o=r/2,l=i/2,c=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[i,a-d,a+d,o-c,o+c]},Kl=function(e,t){return Math.sqrt(e*e+t*t)},yR=function(e,t,r,n,i){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,l){var c=l[0],d=l[1],u=Kl(r-c,n-d);return(i?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},L2e=function(e,t,r,n,i){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(e.shape===0)a=o=Math.min(Kl(t,r),Kl(t,r-i),Kl(t-n,r),Kl(t-n,r-i));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(t),Math.abs(t-n)),c=yR(n,i,t,r,!0),d=c[0],u=c[1];a=Kl(d-t,(u-r)/l),o=l*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(e.shape===0)a=o=Math.max(Kl(t,r),Kl(t,r-i),Kl(t-n,r),Kl(t-n,r-i));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(t),Math.abs(t-n)),A=yR(n,i,t,r,!1),d=A[0],u=A[1];a=Kl(d-t,(u-r)/l),o=l*a}break}return Array.isArray(e.size)&&(a=Dn(e.size[0],n),o=e.size.length===2?Dn(e.size[1],i):a),[a,o]},F2e=function(e,t){var r=cl(180),n=[];return fd(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){r=Lq(i);return}else if(Oq(o)){r=e5.parse(e,o);return}}var l=t5(e,i);n.push(l)}),{angle:r,stops:n,type:1}},fw=function(e,t){var r=cl(180),n=[];return fd(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=Lq(i);return}else if(Oq(o)){r=(e5.parse(e,o)+cl(270))%cl(360);return}}var l=t5(e,i);n.push(l)}),{angle:r,stops:n,type:1}},U2e=function(e,t){var r=cl(180),n=[],i=1,a=0,o=3,l=[];return fd(t).forEach(function(c,d){var u=c[0];if(d===0){if(Nn(u)&&u.value==="linear"){i=1;return}else if(Nn(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var A=Mh.parse(e,u.values[0]);n.push({stop:Ui,color:A})}else if(u.name==="to"){var A=Mh.parse(e,u.values[0]);n.push({stop:jh,color:A})}else if(u.name==="color-stop"){var f=u.values.filter(ig);if(f.length===2){var A=Mh.parse(e,f[1]),m=f[0];Wg(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:A})}}}}),i===1?{angle:(r+cl(180))%cl(360),stops:n,type:i}:{size:o,shape:a,stops:n,position:l,type:i}},Fq="closest-side",Uq="farthest-side",Rq="closest-corner",Dq="farthest-corner",Mq="circle",Qq="ellipse",$q="cover",Hq="contain",R2e=function(e,t){var r=0,n=3,i=[],a=[];return fd(t).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(A,f){if(d)if(Nn(f))switch(f.value){case"center":return a.push(K6),A;case"top":case"left":return a.push(Ui),A;case"right":case"bottom":return a.push(jh),A}else(qs(f)||Jh(f))&&a.push(f);else if(Nn(f))switch(f.value){case Mq:return r=0,!1;case Qq:return r=1,!1;case"at":return d=!0,!1;case Fq:return n=0,!1;case $q:case Uq:return n=1,!1;case Hq:case Rq:return n=2,!1;case Dq:return n=3,!1}else if(Jh(f)||qs(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return A},c)}if(c){var u=t5(e,o);i.push(u)}}),{size:n,shape:r,stops:i,position:a,type:2}},mw=function(e,t){var r=0,n=3,i=[],a=[];return fd(t).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,A){if(Nn(A))switch(A.value){case"center":return a.push(K6),!1;case"top":case"left":return a.push(Ui),!1;case"right":case"bottom":return a.push(jh),!1}else if(qs(A)||Jh(A))return a.push(A),!1;return u},c):l===1&&(c=o.reduce(function(u,A){if(Nn(A))switch(A.value){case Mq:return r=0,!1;case Qq:return r=1,!1;case Hq:case Fq:return n=0,!1;case Uq:return n=1,!1;case Rq:return n=2,!1;case $q:case Dq:return n=3,!1}else if(Jh(A)||qs(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return u},c)),c){var d=t5(e,o);i.push(d)}}),{size:n,shape:r,stops:i,position:a,type:2}},D2e=function(e){return e.type===1},M2e=function(e){return e.type===2},W6={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=Vq[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Q2e(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Vq[e.name])}var Vq={"linear-gradient":F2e,"-moz-linear-gradient":fw,"-ms-linear-gradient":fw,"-o-linear-gradient":fw,"-webkit-linear-gradient":fw,"radial-gradient":R2e,"-moz-radial-gradient":mw,"-ms-radial-gradient":mw,"-o-radial-gradient":mw,"-webkit-radial-gradient":mw,"-webkit-gradient":U2e},$2e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return ig(n)&&Q2e(n)}).map(function(n){return W6.parse(e,n)})}},H2e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Nn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},V2e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return fd(t).map(function(r){return r.filter(qs)}).map(Eq)}},z2e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return fd(t).map(function(r){return r.filter(Nn).map(function(n){return n.value}).join(" ")}).map(K2e)}},K2e=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Fp;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Fp||(Fp={}));var W2e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return fd(t).map(function(r){return r.filter(G2e)})}},G2e=function(e){return Nn(e)||qs(e)},r5=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},q2e=r5("top"),Y2e=r5("right"),X2e=r5("bottom"),Z2e=r5("left"),n5=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return Eq(r.filter(qs))}}},J2e=n5("top-left"),eje=n5("top-right"),tje=n5("bottom-right"),rje=n5("bottom-left"),s5=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},nje=s5("top"),sje=s5("right"),ije=s5("bottom"),aje=s5("left"),i5=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Kv(r)?r.number:0}}},oje=i5("top"),lje=i5("right"),cje=i5("bottom"),dje=i5("left"),uje={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hje={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Aje={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Nn).reduce(function(r,n){return r|fje(n.value)},0)}},fje=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},mje={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},pje={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},O2;(function(e){e.NORMAL="normal",e.STRICT="strict"})(O2||(O2={}));var gje={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return O2.STRICT;case"normal":default:return O2.NORMAL}}},xje={name:"line-height",initialValue:"normal",prefix:!1,type:4},vR=function(e,t){return Nn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:qs(e)?Dn(e,t):t},yje={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:W6.parse(e,t)}},vje={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},uE={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},a5=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},bje=a5("top"),wje=a5("right"),jje=a5("bottom"),Nje=a5("left"),_je={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Nn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Cje={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},o5=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Sje=o5("top"),Bje=o5("right"),Eje=o5("bottom"),kje=o5("left"),Pje={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Ije={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Tje={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&dE(t[0],"none")?[]:fd(t).map(function(r){for(var n={color:su.TRANSPARENT,offsetX:Ui,offsetY:Ui,blur:Ui},i=0,a=0;a<r.length;a++){var o=r[a];Jh(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=Mh.parse(e,o)}return n})}},Oje={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Lje={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=Rje[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Fje=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},Uje=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,i,a,o,l]:null},Rje={matrix:Fje,matrix3d:Uje},bR={type:16,number:50,flags:zv},Dje=[bR,bR],Mje={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(qs);return r.length!==2?Dje:[r[0],r[1]]}},Qje={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Qx;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Qx||(Qx={}));var $je={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Qx.BREAK_ALL;case"keep-all":return Qx.KEEP_ALL;case"normal":default:return Qx.NORMAL}}},Hje={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Wg(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},zq={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Vje={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Wg(t)?t.number:1}},zje={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Kje={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Nn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Wje={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Gje={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},qje={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Wg(t))return t.number;if(Nn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Yje={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Nn).map(function(r){return r.value})}},Xje={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ai=function(e,t){return(e&t)!==0},Zje={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Jje={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=t.filter(Bq),a=0;a<i.length;a++){var o=i[a],l=i[a+1];if(o.type===20){var c=l&&Wg(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},eNe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(Bq),i=0;i<n.length;i++){var a=n[i],o=n[i+1];if(Nn(a)&&a.value!=="none"){var l=o&&Wg(o)?o.number:0;r.push({counter:a.value,reset:l})}}return r}},tNe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Kv).map(function(r){return zq.parse(e,r)})}},rNe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],i=t.filter(B2e);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,l=i[a+1].value;n.push({open:o,close:l})}return n}},wR=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},nNe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&dE(t[0],"none")?[]:fd(t).map(function(r){for(var n={color:255,offsetX:Ui,offsetY:Ui,blur:Ui,spread:Ui,inset:!1},i=0,a=0;a<r.length;a++){var o=r[a];dE(o,"inset")?n.inset=!0:Jh(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=Mh.parse(e,o)}return n})}},sNe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Nn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},iNe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},aNe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Kv(t)?t.number:0}},oNe=function(){function e(t,r){var n,i;this.animationDuration=Lt(t,tNe,r.animationDuration),this.backgroundClip=Lt(t,P2e,r.backgroundClip),this.backgroundColor=Lt(t,I2e,r.backgroundColor),this.backgroundImage=Lt(t,$2e,r.backgroundImage),this.backgroundOrigin=Lt(t,H2e,r.backgroundOrigin),this.backgroundPosition=Lt(t,V2e,r.backgroundPosition),this.backgroundRepeat=Lt(t,z2e,r.backgroundRepeat),this.backgroundSize=Lt(t,W2e,r.backgroundSize),this.borderTopColor=Lt(t,q2e,r.borderTopColor),this.borderRightColor=Lt(t,Y2e,r.borderRightColor),this.borderBottomColor=Lt(t,X2e,r.borderBottomColor),this.borderLeftColor=Lt(t,Z2e,r.borderLeftColor),this.borderTopLeftRadius=Lt(t,J2e,r.borderTopLeftRadius),this.borderTopRightRadius=Lt(t,eje,r.borderTopRightRadius),this.borderBottomRightRadius=Lt(t,tje,r.borderBottomRightRadius),this.borderBottomLeftRadius=Lt(t,rje,r.borderBottomLeftRadius),this.borderTopStyle=Lt(t,nje,r.borderTopStyle),this.borderRightStyle=Lt(t,sje,r.borderRightStyle),this.borderBottomStyle=Lt(t,ije,r.borderBottomStyle),this.borderLeftStyle=Lt(t,aje,r.borderLeftStyle),this.borderTopWidth=Lt(t,oje,r.borderTopWidth),this.borderRightWidth=Lt(t,lje,r.borderRightWidth),this.borderBottomWidth=Lt(t,cje,r.borderBottomWidth),this.borderLeftWidth=Lt(t,dje,r.borderLeftWidth),this.boxShadow=Lt(t,nNe,r.boxShadow),this.color=Lt(t,uje,r.color),this.direction=Lt(t,hje,r.direction),this.display=Lt(t,Aje,r.display),this.float=Lt(t,mje,r.cssFloat),this.fontFamily=Lt(t,Wje,r.fontFamily),this.fontSize=Lt(t,Gje,r.fontSize),this.fontStyle=Lt(t,Xje,r.fontStyle),this.fontVariant=Lt(t,Yje,r.fontVariant),this.fontWeight=Lt(t,qje,r.fontWeight),this.letterSpacing=Lt(t,pje,r.letterSpacing),this.lineBreak=Lt(t,gje,r.lineBreak),this.lineHeight=Lt(t,xje,r.lineHeight),this.listStyleImage=Lt(t,yje,r.listStyleImage),this.listStylePosition=Lt(t,vje,r.listStylePosition),this.listStyleType=Lt(t,uE,r.listStyleType),this.marginTop=Lt(t,bje,r.marginTop),this.marginRight=Lt(t,wje,r.marginRight),this.marginBottom=Lt(t,jje,r.marginBottom),this.marginLeft=Lt(t,Nje,r.marginLeft),this.opacity=Lt(t,Vje,r.opacity);var a=Lt(t,_je,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Lt(t,Cje,r.overflowWrap),this.paddingTop=Lt(t,Sje,r.paddingTop),this.paddingRight=Lt(t,Bje,r.paddingRight),this.paddingBottom=Lt(t,Eje,r.paddingBottom),this.paddingLeft=Lt(t,kje,r.paddingLeft),this.paintOrder=Lt(t,sNe,r.paintOrder),this.position=Lt(t,Ije,r.position),this.textAlign=Lt(t,Pje,r.textAlign),this.textDecorationColor=Lt(t,zje,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Lt(t,Kje,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Lt(t,Tje,r.textShadow),this.textTransform=Lt(t,Oje,r.textTransform),this.transform=Lt(t,Lje,r.transform),this.transformOrigin=Lt(t,Mje,r.transformOrigin),this.visibility=Lt(t,Qje,r.visibility),this.webkitTextStrokeColor=Lt(t,iNe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Lt(t,aNe,r.webkitTextStrokeWidth),this.wordBreak=Lt(t,$je,r.wordBreak),this.zIndex=Lt(t,Hje,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Qh(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ai(this.display,4)||Ai(this.display,33554432)||Ai(this.display,268435456)||Ai(this.display,536870912)||Ai(this.display,67108864)||Ai(this.display,134217728)},e}(),lNe=function(){function e(t,r){this.content=Lt(t,Zje,r.content),this.quotes=Lt(t,rNe,r.quotes)}return e}(),jR=function(){function e(t,r){this.counterIncrement=Lt(t,Jje,r.counterIncrement),this.counterReset=Lt(t,eNe,r.counterReset)}return e}(),Lt=function(e,t,r){var n=new Cq,i=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(i);var a=new Sq(n.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Nn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return e5.parse(e,a.parseComponentValue());case"color":return Mh.parse(e,a.parseComponentValue());case"image":return W6.parse(e,a.parseComponentValue());case"length":var l=a.parseComponentValue();return Jh(l)?l:Ui;case"length-percentage":var c=a.parseComponentValue();return qs(c)?c:Ui;case"time":return zq.parse(e,a.parseComponentValue())}break}},cNe="data-html2canvas-debug",dNe=function(e){var t=e.getAttribute(cNe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},hE=function(e,t){var r=dNe(e);return r===1||t===r},md=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,hE(r,3))debugger;this.styles=new oNe(t,window.getComputedStyle(r,null)),mE(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=ZN(this.context,r),hE(r,4)&&(this.flags|=16)}return e}(),uNe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",NR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pw=0;pw<NR.length;pw++)xx[NR.charCodeAt(pw)]=pw;var hNe=function(e){var t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)a=xx[e.charCodeAt(n)],o=xx[e.charCodeAt(n+1)],l=xx[e.charCodeAt(n+2)],c=xx[e.charCodeAt(n+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},ANe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},fNe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},vf=5,G6=11,qC=2,mNe=G6-vf,Kq=65536>>vf,pNe=1<<vf,YC=pNe-1,gNe=1024>>vf,xNe=Kq+gNe,yNe=xNe,vNe=32,bNe=yNe+vNe,wNe=65536>>G6,jNe=1<<mNe,NNe=jNe-1,_R=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},_Ne=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},CNe=function(e,t){var r=hNe(e),n=Array.isArray(r)?fNe(r):new Uint32Array(r),i=Array.isArray(r)?ANe(r):new Uint16Array(r),a=24,o=_R(i,a/2,n[4]/2),l=n[5]===2?_R(i,(a+n[4])/2):_Ne(n,Math.ceil((a+n[4])/4));return new SNe(n[0],n[1],n[2],n[3],o,l)},SNe=function(){function e(t,r,n,i,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>vf],r=(r<<qC)+(t&YC),this.data[r];if(t<=65535)return r=this.index[Kq+(t-55296>>vf)],r=(r<<qC)+(t&YC),this.data[r];if(t<this.highStart)return r=bNe-wNe+(t>>G6),r=this.index[r],r+=t>>vf&NNe,r=this.index[r],r=(r<<qC)+(t&YC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),CR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BNe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gw=0;gw<CR.length;gw++)BNe[CR.charCodeAt(gw)]=gw;var ENe=1,XC=2,ZC=3,SR=4,BR=5,kNe=7,ER=8,JC=9,eS=10,kR=11,PR=12,IR=13,TR=14,tS=15,PNe=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},INe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},TNe=CNe(uNe),tl="",rS="",ONe=function(e){return TNe.get(e)},LNe=function(e,t,r){var n=r-2,i=t[n],a=t[r-1],o=t[r];if(a===XC&&o===ZC)return tl;if(a===XC||a===ZC||a===SR||o===XC||o===ZC||o===SR)return rS;if(a===ER&&[ER,JC,kR,PR].indexOf(o)!==-1||(a===kR||a===JC)&&(o===JC||o===eS)||(a===PR||a===eS)&&o===eS||o===IR||o===BR||o===kNe||a===ENe)return tl;if(a===IR&&o===TR){for(;i===BR;)i=t[--n];if(i===TR)return tl}if(a===tS&&o===tS){for(var l=0;i===tS;)l++,i=t[--n];if(l%2===0)return tl}return rS},FNe=function(e){var t=PNe(e),r=t.length,n=0,i=0,a=t.map(ONe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=tl;n<r&&(o=LNe(t,a,++n))===tl;);if(o!==tl||n===r){var l=INe.apply(null,t.slice(i,n));return i=n,{value:l,done:!1}}return{done:!0,value:null}}}},UNe=function(e){for(var t=FNe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},RNe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(n),a===t)return!0}}return!1},DNe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,i=JN(n.data).map(function(c){return Rs(c)}),a=0,o={},l=i.every(function(c,d){r.setStart(n,a),r.setEnd(n,a+c.length);var u=r.getBoundingClientRect();a+=c.length;var A=u.x>o.x||u.y>o.y;return o=u,d===0?!0:A});return e.body.removeChild(t),l},MNe=function(){return typeof new Image().crossOrigin<"u"},QNe=function(){return typeof new XMLHttpRequest().responseType=="string"},$Ne=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},OR=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},HNe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,a=t.toDataURL();i.src=a;var o=AE(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),LR(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=e.createElement("div");return d.style.backgroundImage="url("+a+")",d.style.height=r+"px",OR(c)?LR(AE(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),OR(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},AE=function(e,t,r,n,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(i),o},LR=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Fi={get SUPPORT_RANGE_BOUNDS(){var e=RNe(document);return Object.defineProperty(Fi,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Fi.SUPPORT_RANGE_BOUNDS&&DNe(document);return Object.defineProperty(Fi,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=$Ne(document);return Object.defineProperty(Fi,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?HNe(document):Promise.resolve(!1);return Object.defineProperty(Fi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=MNe();return Object.defineProperty(Fi,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=QNe();return Object.defineProperty(Fi,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fi,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Fi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},$x=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),VNe=function(e,t,r,n){var i=WNe(t,r),a=[],o=0;return i.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Fi.SUPPORT_RANGE_BOUNDS){var c=FR(n,o,l.length).getClientRects();if(c.length>1){var d=q6(l),u=0;d.forEach(function(f){a.push(new $x(f,mu.fromDOMRectList(e,FR(n,u+o,f.length).getClientRects()))),u+=f.length})}else a.push(new $x(l,mu.fromDOMRectList(e,c)))}else{var A=n.splitText(l.length);a.push(new $x(l,zNe(e,n))),n=A}else Fi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),a},zNe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var a=ZN(e,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return mu.EMPTY},FR=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+r),i},q6=function(e){if(Fi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return UNe(e)},KNe=function(e,t){if(Fi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return qNe(e,t)},WNe=function(e,t){return t.letterSpacing!==0?q6(e):KNe(e,t)},GNe=[32,160,4961,65792,65793,4153,4241],qNe=function(e,t){for(var r=w1e(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],i,a=function(){if(i.value){var o=i.value.slice(),l=JN(o),c="";l.forEach(function(d){GNe.indexOf(d)===-1?c+=Rs(d):(c.length&&n.push(c),n.push(Rs(d)),c="")}),c.length&&n.push(c)}};!(i=r.next()).done;)a();return n},YNe=function(){function e(t,r,n){this.text=XNe(r.data,n.textTransform),this.textBounds=VNe(t,this.text,n,r)}return e}(),XNe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(ZNe,JNe);case 2:return e.toUpperCase();default:return e}},ZNe=/(^|\s|:|-|\(|\))([a-z])/g,JNe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Wq=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t}(md),Gq=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t}(md),qq=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this,a=new XMLSerializer,o=ZN(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(md),Yq=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(md),fE=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return t}(md),e5e=[{type:15,flags:0,unit:"px",number:3}],t5e=[{type:16,flags:0,number:50}],r5e=function(e){return e.width>e.height?new mu(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new mu(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},n5e=function(e){var t=e.type===s5e?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},L2="checkbox",F2="radio",s5e="password",UR=707406591,Y6=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=n5e(n),(i.type===L2||i.type===F2)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=r5e(i.bounds)),i.type){case L2:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=e5e;break;case F2:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=t5e;break}return i}return t}(md),Xq=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(md),Zq=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(md),Jq=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=tY(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?Mx(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):su.TRANSPARENT,o=n.contentWindow.document.body?Mx(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):su.TRANSPARENT;i.backgroundColor=Qh(a)?Qh(o)?i.styles.backgroundColor:o:a}}catch{}return i}return t}(md),i5e=["OL","UL","MENU"],S1=function(e,t,r,n){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,rY(i)&&i.data.trim().length>0)r.textNodes.push(new YNe(e,i,r.styles));else if(Ap(i))if(aY(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return S1(e,l,r,n)});else{var o=eY(e,i);o.styles.isVisible()&&(a5e(i,o,n)?o.flags|=4:o5e(o.styles)&&(o.flags|=2),i5e.indexOf(i.tagName)!==-1&&(o.flags|=8),r.elements.push(o),i.slot,i.shadowRoot?S1(e,i.shadowRoot,o,n):!U2(i)&&!nY(i)&&!R2(i)&&S1(e,i,o,n))}},eY=function(e,t){return pE(t)?new Wq(e,t):sY(t)?new Gq(e,t):nY(t)?new qq(e,t):l5e(t)?new Yq(e,t):c5e(t)?new fE(e,t):d5e(t)?new Y6(e,t):R2(t)?new Xq(e,t):U2(t)?new Zq(e,t):iY(t)?new Jq(e,t):new md(e,t)},tY=function(e,t){var r=eY(e,t);return r.flags|=4,S1(e,t,r,r),r},a5e=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||X6(e)&&r.styles.isTransparent()},o5e=function(e){return e.isPositioned()||e.isFloating()},rY=function(e){return e.nodeType===Node.TEXT_NODE},Ap=function(e){return e.nodeType===Node.ELEMENT_NODE},mE=function(e){return Ap(e)&&typeof e.style<"u"&&!B1(e)},B1=function(e){return typeof e.className=="object"},l5e=function(e){return e.tagName==="LI"},c5e=function(e){return e.tagName==="OL"},d5e=function(e){return e.tagName==="INPUT"},u5e=function(e){return e.tagName==="HTML"},nY=function(e){return e.tagName==="svg"},X6=function(e){return e.tagName==="BODY"},sY=function(e){return e.tagName==="CANVAS"},RR=function(e){return e.tagName==="VIDEO"},pE=function(e){return e.tagName==="IMG"},iY=function(e){return e.tagName==="IFRAME"},DR=function(e){return e.tagName==="STYLE"},h5e=function(e){return e.tagName==="SCRIPT"},U2=function(e){return e.tagName==="TEXTAREA"},R2=function(e){return e.tagName==="SELECT"},aY=function(e){return e.tagName==="SLOT"},MR=function(e){return e.tagName.indexOf("-")>0},A5e=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,i=t.counterReset,a=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return a&&i.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},e}(),QR={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},$R={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},f5e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},m5e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Lm=function(e,t,r,n,i,a){return e<t||e>r?Ey(e,i,a.length>0):n.integers.reduce(function(o,l,c){for(;e>=l;)e-=l,o+=n.values[c];return o},"")+a},oY=function(e,t,r,n){var i="";do r||e--,i=n(e)+i,e/=t;while(e*t>=t);return i},Fs=function(e,t,r,n,i){var a=r-t+1;return(e<0?"-":"")+(oY(Math.abs(e),a,n,function(o){return Rs(Math.floor(o%a)+t)})+i)},IA=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return oY(Math.abs(e),n,!1,function(i){return t[Math.floor(i%n)]})+r},Km=1,ih=2,ah=4,yx=8,Pd=function(e,t,r,n,i,a){if(e<-9999||e>9999)return Ey(e,4,i.length>0);var o=Math.abs(e),l=i;if(o===0)return t[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&Ai(a,Km)&&l!==""?l=t[d]+l:d>1||d===1&&c===0||d===1&&c===1&&Ai(a,ih)||d===1&&c===1&&Ai(a,ah)&&e>100||d===1&&c>1&&Ai(a,yx)?l=t[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},HR="",VR="",zR="",nS="",Ey=function(e,t,r){var n=r?". ":"",i=r?"":"",a=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Fs(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return IA(e,"",i);case 6:return Lm(e,1,3999,QR,3,n).toLowerCase();case 7:return Lm(e,1,3999,QR,3,n);case 8:return Fs(e,945,969,!1,n);case 9:return Fs(e,97,122,!1,n);case 10:return Fs(e,65,90,!1,n);case 11:return Fs(e,1632,1641,!0,n);case 12:case 49:return Lm(e,1,9999,$R,3,n);case 35:return Lm(e,1,9999,$R,3,n).toLowerCase();case 13:return Fs(e,2534,2543,!0,n);case 14:case 30:return Fs(e,6112,6121,!0,n);case 15:return IA(e,"",i);case 16:return IA(e,"",i);case 17:case 48:return Pd(e,"",HR,"",i,ih|ah|yx);case 47:return Pd(e,"",VR,"",i,Km|ih|ah|yx);case 42:return Pd(e,"",HR,"",i,ih|ah|yx);case 41:return Pd(e,"",VR,"",i,Km|ih|ah|yx);case 26:return Pd(e,"","",zR,i,0);case 25:return Pd(e,"","",zR,i,Km|ih|ah);case 31:return Pd(e,"","",nS,a,Km|ih|ah);case 33:return Pd(e,"","",nS,a,0);case 32:return Pd(e,"","",nS,a,Km|ih|ah);case 18:return Fs(e,2406,2415,!0,n);case 20:return Lm(e,1,19999,m5e,3,n);case 21:return Fs(e,2790,2799,!0,n);case 22:return Fs(e,2662,2671,!0,n);case 22:return Lm(e,1,10999,f5e,3,n);case 23:return IA(e,"");case 24:return IA(e,"");case 27:return Fs(e,3302,3311,!0,n);case 28:return IA(e,"",i);case 29:return IA(e,"",i);case 34:return Fs(e,3792,3801,!0,n);case 37:return Fs(e,6160,6169,!0,n);case 38:return Fs(e,4160,4169,!0,n);case 39:return Fs(e,2918,2927,!0,n);case 40:return Fs(e,1776,1785,!0,n);case 43:return Fs(e,3046,3055,!0,n);case 44:return Fs(e,3174,3183,!0,n);case 45:return Fs(e,3664,3673,!0,n);case 46:return Fs(e,3872,3881,!0,n);case 3:default:return Fs(e,48,57,!0,n)}},lY="data-html2canvas-ignore",KR=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new A5e,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,i=p5e(t,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=i.contentWindow,c=l.document,d=y5e(i).then(function(){return ba(n,void 0,void 0,function(){var u,A;return ta(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(j5e),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,x5e(c)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,A)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(b5e(document.doctype)+"<html></html>"),w5e(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},e.prototype.createElementClone=function(t){if(hE(t,2))debugger;if(sY(t))return this.createCanvasClone(t);if(RR(t))return this.createVideoClone(t);if(DR(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return pE(r)&&(pE(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),MR(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return sS(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,r,n){(!Ap(r)||!h5e(r)&&!r.hasAttribute(lY)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Ap(r)||!DR(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(Ap(a)&&aY(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return i.appendChildNode(r,l,n)})}else this.appendChildNode(r,a,n)},e.prototype.cloneNode=function(t,r){if(rY(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Ap(t)&&(mE(t)||B1(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&mE(i)&&(this.clonedReferenceElement=i),X6(i)&&C5e(i);var c=this.counters.parse(new jR(this.context,a)),d=this.resolvePseudoContent(t,i,o,Hx.BEFORE);MR(t)&&(r=!0),RR(t)||this.cloneChildNodes(t,i,r),d&&i.insertBefore(d,i.firstChild);var u=this.resolvePseudoContent(t,i,l,Hx.AFTER);return u&&i.appendChild(u),this.counters.pop(c),(a&&(this.options.copyStyles||B1(t))&&!iY(t)||r)&&sS(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(U2(t)||R2(t))&&(U2(i)||R2(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,i){var a=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new jR(this.context,n));var c=new lNe(this.context,n),d=l.createElement("html2canvaspseudoelement");sS(n,d),c.content.forEach(function(A){if(A.type===0)d.appendChild(l.createTextNode(A.value));else if(A.type===22){var f=l.createElement("img");f.src=A.value,f.style.opacity="1",d.appendChild(f)}else if(A.type===18){if(A.name==="attr"){var m=A.values.filter(Nn);m.length&&d.appendChild(l.createTextNode(t.getAttribute(m[0].value)||""))}else if(A.name==="counter"){var x=A.values.filter(ig),g=x[0],v=x[1];if(g&&Nn(g)){var y=a.counters.getCounterValue(g.value),b=v&&Nn(v)?uE.parse(a.context,v.value):3;d.appendChild(l.createTextNode(Ey(y,b,!1)))}}else if(A.name==="counters"){var w=A.values.filter(ig),g=w[0],_=w[1],v=w[2];if(g&&Nn(g)){var N=a.counters.getCounterValues(g.value),C=v&&Nn(v)?uE.parse(a.context,v.value):3,P=_&&_.type===0?_.value:"",E=N.map(function(B){return Ey(B,C,!1)}).join(P);d.appendChild(l.createTextNode(E))}}}else if(A.type===20)switch(A.value){case"open-quote":d.appendChild(l.createTextNode(wR(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(wR(c.quotes,--a.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(A.value))}}),d.className=gE+" "+xE;var u=i===Hx.BEFORE?" "+gE:" "+xE;return B1(r)?r.className.baseValue+=u:r.className+=u,d}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Hx;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Hx||(Hx={}));var p5e=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(lY,"true"),e.body.appendChild(r),r},g5e=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},x5e=function(e){return Promise.all([].slice.call(e.images,0).map(g5e))},y5e=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},v5e=["all","d","content"],sS=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);v5e.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},b5e=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},w5e=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},j5e=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},N5e=":before",_5e=":after",gE="___html2canvas___pseudoelement_before",xE="___html2canvas___pseudoelement_after",WR=`{
    content: "" !important;
    display: none !important;
}`,C5e=function(e){S5e(e,"."+gE+N5e+WR+`
         .`+xE+_5e+WR)},S5e=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},cY=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),B5e=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(aS(t)||I5e(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ba(this,void 0,void 0,function(){var r,n,i,a,o=this;return ta(this,function(l){switch(l.label){case 0:return r=cY.isSameOrigin(t),n=!iS(t)&&this._options.useCORS===!0&&Fi.SUPPORT_CORS_IMAGES&&!r,i=!iS(t)&&!r&&!aS(t)&&typeof this._options.proxy=="string"&&Fi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!iS(t)&&!aS(t)&&!i&&!n?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(T5e(a)||n)&&(u.crossOrigin="anonymous"),u.src=a,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,o){var l=Fi.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")a(c.response);else{var A=new FileReader;A.addEventListener("load",function(){return a(A.result)},!1),A.addEventListener("error",function(f){return o(f)},!1),A.readAsDataURL(c.response)}else o("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+d+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+i)}}c.send()})},e}(),E5e=/^data:image\/svg\+xml/i,k5e=/^data:image\/.*;base64,/i,P5e=/^data:image\/.*/i,I5e=function(e){return Fi.SUPPORT_SVG_DRAWING||!O5e(e)},iS=function(e){return P5e.test(e)},T5e=function(e){return k5e.test(e)},aS=function(e){return e.substr(0,4)==="blob"},O5e=function(e){return e.substr(-3).toLowerCase()==="svg"||E5e.test(e)},Tt=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Fm=function(e,t,r){return new Tt(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},xw=function(){function e(t,r,n,i){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=i}return e.prototype.subdivide=function(t,r){var n=Fm(this.start,this.startControl,t),i=Fm(this.startControl,this.endControl,t),a=Fm(this.endControl,this.end,t),o=Fm(n,i,t),l=Fm(i,a,t),c=Fm(o,l,t);return r?new e(this.start,n,o,c):new e(c,l,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),il=function(e){return e.type===1},L5e=function(){function e(t){var r=t.styles,n=t.bounds,i=gx(r.borderTopLeftRadius,n.width,n.height),a=i[0],o=i[1],l=gx(r.borderTopRightRadius,n.width,n.height),c=l[0],d=l[1],u=gx(r.borderBottomRightRadius,n.width,n.height),A=u[0],f=u[1],m=gx(r.borderBottomLeftRadius,n.width,n.height),x=m[0],g=m[1],v=[];v.push((a+c)/n.width),v.push((x+A)/n.width),v.push((o+g)/n.height),v.push((d+f)/n.height);var y=Math.max.apply(Math,v);y>1&&(a/=y,o/=y,c/=y,d/=y,A/=y,f/=y,x/=y,g/=y);var b=n.width-c,w=n.height-f,_=n.width-A,N=n.height-g,C=r.borderTopWidth,P=r.borderRightWidth,E=r.borderBottomWidth,I=r.borderLeftWidth,F=Dn(r.paddingTop,t.bounds.width),B=Dn(r.paddingRight,t.bounds.width),O=Dn(r.paddingBottom,t.bounds.width),R=Dn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?es(n.left+I/3,n.top+C/3,a-I/3,o-C/3,ln.TOP_LEFT):new Tt(n.left+I/3,n.top+C/3),this.topRightBorderDoubleOuterBox=a>0||o>0?es(n.left+b,n.top+C/3,c-P/3,d-C/3,ln.TOP_RIGHT):new Tt(n.left+n.width-P/3,n.top+C/3),this.bottomRightBorderDoubleOuterBox=A>0||f>0?es(n.left+_,n.top+w,A-P/3,f-E/3,ln.BOTTOM_RIGHT):new Tt(n.left+n.width-P/3,n.top+n.height-E/3),this.bottomLeftBorderDoubleOuterBox=x>0||g>0?es(n.left+I/3,n.top+N,x-I/3,g-E/3,ln.BOTTOM_LEFT):new Tt(n.left+I/3,n.top+n.height-E/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?es(n.left+I*2/3,n.top+C*2/3,a-I*2/3,o-C*2/3,ln.TOP_LEFT):new Tt(n.left+I*2/3,n.top+C*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?es(n.left+b,n.top+C*2/3,c-P*2/3,d-C*2/3,ln.TOP_RIGHT):new Tt(n.left+n.width-P*2/3,n.top+C*2/3),this.bottomRightBorderDoubleInnerBox=A>0||f>0?es(n.left+_,n.top+w,A-P*2/3,f-E*2/3,ln.BOTTOM_RIGHT):new Tt(n.left+n.width-P*2/3,n.top+n.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||g>0?es(n.left+I*2/3,n.top+N,x-I*2/3,g-E*2/3,ln.BOTTOM_LEFT):new Tt(n.left+I*2/3,n.top+n.height-E*2/3),this.topLeftBorderStroke=a>0||o>0?es(n.left+I/2,n.top+C/2,a-I/2,o-C/2,ln.TOP_LEFT):new Tt(n.left+I/2,n.top+C/2),this.topRightBorderStroke=a>0||o>0?es(n.left+b,n.top+C/2,c-P/2,d-C/2,ln.TOP_RIGHT):new Tt(n.left+n.width-P/2,n.top+C/2),this.bottomRightBorderStroke=A>0||f>0?es(n.left+_,n.top+w,A-P/2,f-E/2,ln.BOTTOM_RIGHT):new Tt(n.left+n.width-P/2,n.top+n.height-E/2),this.bottomLeftBorderStroke=x>0||g>0?es(n.left+I/2,n.top+N,x-I/2,g-E/2,ln.BOTTOM_LEFT):new Tt(n.left+I/2,n.top+n.height-E/2),this.topLeftBorderBox=a>0||o>0?es(n.left,n.top,a,o,ln.TOP_LEFT):new Tt(n.left,n.top),this.topRightBorderBox=c>0||d>0?es(n.left+b,n.top,c,d,ln.TOP_RIGHT):new Tt(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||f>0?es(n.left+_,n.top+w,A,f,ln.BOTTOM_RIGHT):new Tt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||g>0?es(n.left,n.top+N,x,g,ln.BOTTOM_LEFT):new Tt(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?es(n.left+I,n.top+C,Math.max(0,a-I),Math.max(0,o-C),ln.TOP_LEFT):new Tt(n.left+I,n.top+C),this.topRightPaddingBox=c>0||d>0?es(n.left+Math.min(b,n.width-P),n.top+C,b>n.width+P?0:Math.max(0,c-P),Math.max(0,d-C),ln.TOP_RIGHT):new Tt(n.left+n.width-P,n.top+C),this.bottomRightPaddingBox=A>0||f>0?es(n.left+Math.min(_,n.width-I),n.top+Math.min(w,n.height-E),Math.max(0,A-P),Math.max(0,f-E),ln.BOTTOM_RIGHT):new Tt(n.left+n.width-P,n.top+n.height-E),this.bottomLeftPaddingBox=x>0||g>0?es(n.left+I,n.top+Math.min(N,n.height-E),Math.max(0,x-I),Math.max(0,g-E),ln.BOTTOM_LEFT):new Tt(n.left+I,n.top+n.height-E),this.topLeftContentBox=a>0||o>0?es(n.left+I+R,n.top+C+F,Math.max(0,a-(I+R)),Math.max(0,o-(C+F)),ln.TOP_LEFT):new Tt(n.left+I+R,n.top+C+F),this.topRightContentBox=c>0||d>0?es(n.left+Math.min(b,n.width+I+R),n.top+C+F,b>n.width+I+R?0:c-I+R,d-(C+F),ln.TOP_RIGHT):new Tt(n.left+n.width-(P+B),n.top+C+F),this.bottomRightContentBox=A>0||f>0?es(n.left+Math.min(_,n.width-(I+R)),n.top+Math.min(w,n.height+C+F),Math.max(0,A-(P+B)),f-(E+O),ln.BOTTOM_RIGHT):new Tt(n.left+n.width-(P+B),n.top+n.height-(E+O)),this.bottomLeftContentBox=x>0||g>0?es(n.left+I+R,n.top+N,Math.max(0,x-(I+R)),g-(E+O),ln.BOTTOM_LEFT):new Tt(n.left+I+R,n.top+n.height-(E+O))}return e}(),ln;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ln||(ln={}));var es=function(e,t,r,n,i){var a=4*((Math.sqrt(2)-1)/3),o=r*a,l=n*a,c=e+r,d=t+n;switch(i){case ln.TOP_LEFT:return new xw(new Tt(e,d),new Tt(e,d-l),new Tt(c-o,t),new Tt(c,t));case ln.TOP_RIGHT:return new xw(new Tt(e,t),new Tt(e+o,t),new Tt(c,d-l),new Tt(c,d));case ln.BOTTOM_RIGHT:return new xw(new Tt(c,t),new Tt(c,t+l),new Tt(e+o,d),new Tt(e,d));case ln.BOTTOM_LEFT:default:return new xw(new Tt(c,d),new Tt(c-o,d),new Tt(e,t+l),new Tt(e,t))}},D2=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},F5e=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},M2=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},U5e=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),yw=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),R5e=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),D5e=function(e){return e.type===0},dY=function(e){return e.type===1},M5e=function(e){return e.type===2},GR=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},Q5e=function(e,t,r,n,i){return e.map(function(a,o){switch(o){case 0:return a.add(t,r);case 1:return a.add(t+n,r);case 2:return a.add(t+n,r+i);case 3:return a.add(t,r+i)}return a})},uY=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),hY=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new L5e(this.container),this.container.styles.opacity<1&&this.effects.push(new R5e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new U5e(n,i,a))}if(this.container.styles.overflowX!==0){var o=D2(this.curves),l=M2(this.curves);GR(o,l)?this.effects.push(new yw(o,6)):(this.effects.push(new yw(o,2)),this.effects.push(new yw(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(c){return!dY(c)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=D2(n.curves),l=M2(n.curves);GR(o,l)||i.unshift(new yw(l,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(c){return Ai(c.target,t)})},e}(),yE=function(e,t,r,n){e.container.elements.forEach(function(i){var a=Ai(i.flags,4),o=Ai(i.flags,2),l=new hY(i,e);Ai(i.styles.display,2048)&&n.push(l);var c=Ai(i.flags,8)?[]:n;if(a||o){var d=a||i.styles.isPositioned()?r:t,u=new uY(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var f=0;d.negativeZIndex.some(function(x,g){return A>x.element.container.styles.zIndex.order?(f=g,!1):f>0}),d.negativeZIndex.splice(f,0,u)}else if(A>0){var m=0;d.positiveZIndex.some(function(x,g){return A>=x.element.container.styles.zIndex.order?(m=g+1,!1):m>0}),d.positiveZIndex.splice(m,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);yE(l,u,a?u:r,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),yE(l,t,r,c);Ai(i.flags,8)&&AY(i,c)})},AY=function(e,t){for(var r=e instanceof fE?e.start:1,n=e instanceof fE?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof Yq&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=Ey(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},$5e=function(e){var t=new hY(e,null),r=new uY(t),n=[];return yE(t,r,r,n),AY(t.container,n),r},qR=function(e,t){switch(t){case 0:return dl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return dl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return dl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return dl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},H5e=function(e,t){switch(t){case 0:return dl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return dl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return dl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return dl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},V5e=function(e,t){switch(t){case 0:return dl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return dl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return dl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return dl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},z5e=function(e,t){switch(t){case 0:return vw(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return vw(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return vw(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return vw(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},vw=function(e,t){var r=[];return il(e)?r.push(e.subdivide(.5,!1)):r.push(e),il(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},dl=function(e,t,r,n){var i=[];return il(e)?i.push(e.subdivide(.5,!1)):i.push(e),il(r)?i.push(r.subdivide(.5,!0)):i.push(r),il(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),il(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},fY=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Q2=function(e){var t=e.styles,r=e.bounds,n=Dn(t.paddingLeft,r.width),i=Dn(t.paddingRight,r.width),a=Dn(t.paddingTop,r.width),o=Dn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},K5e=function(e,t){return e===0?t.bounds:e===2?Q2(t):fY(t)},W5e=function(e,t){return e===0?t.bounds:e===2?Q2(t):fY(t)},oS=function(e,t,r){var n=K5e(Wm(e.styles.backgroundOrigin,t),e),i=W5e(Wm(e.styles.backgroundClip,t),e),a=G5e(Wm(e.styles.backgroundSize,t),r,n),o=a[0],l=a[1],c=gx(Wm(e.styles.backgroundPosition,t),n.width-o,n.height-l),d=q5e(Wm(e.styles.backgroundRepeat,t),c,a,n,i),u=Math.round(n.left+c[0]),A=Math.round(n.top+c[1]);return[d,u,A,o,l]},Um=function(e){return Nn(e)&&e.value===Fp.AUTO},bw=function(e){return typeof e=="number"},G5e=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(qs(o)&&l&&qs(l))return[Dn(o,r.width),Dn(l,r.height)];var c=bw(a);if(Nn(o)&&(o.value===Fp.CONTAIN||o.value===Fp.COVER)){if(bw(a)){var d=r.width/r.height;return d<a!=(o.value===Fp.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var u=bw(n),A=bw(i),f=u||A;if(Um(o)&&(!l||Um(l))){if(u&&A)return[n,i];if(!c&&!f)return[r.width,r.height];if(f&&c){var m=u?n:i*a,x=A?i:n/a;return[m,x]}var g=u?n:r.width,v=A?i:r.height;return[g,v]}if(c){var y=0,b=0;return qs(o)?y=Dn(o,r.width):qs(l)&&(b=Dn(l,r.height)),Um(o)?y=b*a:(!l||Um(l))&&(b=y/a),[y,b]}var w=null,_=null;if(qs(o)?w=Dn(o,r.width):l&&qs(l)&&(_=Dn(l,r.height)),w!==null&&(!l||Um(l))&&(_=u&&A?w/n*i:r.height),_!==null&&Um(o)&&(w=u&&A?_/i*n:r.width),w!==null&&_!==null)return[w,_];throw new Error("Unable to calculate background-size for element")},Wm=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},q5e=function(e,t,r,n,i){var a=t[0],o=t[1],l=r[0],c=r[1];switch(e){case 2:return[new Tt(Math.round(n.left),Math.round(n.top+o)),new Tt(Math.round(n.left+n.width),Math.round(n.top+o)),new Tt(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Tt(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Tt(Math.round(n.left+a),Math.round(n.top)),new Tt(Math.round(n.left+a+l),Math.round(n.top)),new Tt(Math.round(n.left+a+l),Math.round(n.height+n.top)),new Tt(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new Tt(Math.round(n.left+a),Math.round(n.top+o)),new Tt(Math.round(n.left+a+l),Math.round(n.top+o)),new Tt(Math.round(n.left+a+l),Math.round(n.top+o+c)),new Tt(Math.round(n.left+a),Math.round(n.top+o+c))];default:return[new Tt(Math.round(i.left),Math.round(i.top)),new Tt(Math.round(i.left+i.width),Math.round(i.top)),new Tt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Tt(Math.round(i.left),Math.round(i.height+i.top))]}},Y5e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",YR="Hidden Text",X5e=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=Y5e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(YR)),n.appendChild(a),n.appendChild(i);var l=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(YR)),n.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),mY=function(){function e(t,r){this.context=t,this.options=r}return e}(),Z5e=1e4,J5e=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new X5e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},t.prototype.applyEffect=function(r){this.ctx.save(),M5e(r)&&(this.ctx.globalAlpha=r.opacity),D5e(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),dY(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return ba(this,void 0,void 0,function(){var n;return ta(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return ba(this,void 0,void 0,function(){return ta(this,function(n){switch(n.label){case 0:if(Ai(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,i){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var o=q6(r.text);o.reduce(function(l,c){return a.ctx.fillText(c,l,r.bounds.top+i),l+a.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=s_e(r.fontFamily).join(", "),a=Kv(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(r,n){return ba(this,void 0,void 0,function(){var i,a,o,l,c,d,u,A,f=this;return ta(this,function(m){return i=this.createFontStyle(n),a=i[0],o=i[1],l=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,A=n.paintOrder,r.textBounds.forEach(function(x){A.forEach(function(g){switch(g){case 0:f.ctx.fillStyle=yi(n.color),f.renderTextWithLetterSpacing(x,n.letterSpacing,d);var v=n.textShadow;v.length&&x.text.trim().length&&(v.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=yi(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(x,n.letterSpacing,d)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=yi(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+d),x.bounds.width,1);break;case 2:f.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:f.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+u),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(f.ctx.strokeStyle=yi(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+d)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=Q2(r),o=M2(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return ba(this,void 0,void 0,function(){var n,i,a,o,l,c,b,b,d,u,A,f,_,m,x,N,g,v,y,b,w,_,N;return ta(this,function(C){switch(C.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,a=n.styles,o=0,l=n.textNodes,C.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:C.sent(),C.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof Wq))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=C.sent(),this.renderReplacedElement(n,i,b),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Gq&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof qq))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=C.sent(),this.renderReplacedElement(n,i,b),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Jq&&n.tree?(d=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:u=C.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),C.label=14;case 14:if(n instanceof Y6&&(A=Math.min(n.bounds.width,n.bounds.height),n.type===L2?n.checked&&(this.ctx.save(),this.path([new Tt(n.bounds.left+A*.39363,n.bounds.top+A*.79),new Tt(n.bounds.left+A*.16,n.bounds.top+A*.5549),new Tt(n.bounds.left+A*.27347,n.bounds.top+A*.44071),new Tt(n.bounds.left+A*.39694,n.bounds.top+A*.5649),new Tt(n.bounds.left+A*.72983,n.bounds.top+A*.23),new Tt(n.bounds.left+A*.84,n.bounds.top+A*.34085),new Tt(n.bounds.left+A*.39363,n.bounds.top+A*.79)]),this.ctx.fillStyle=yi(UR),this.ctx.fill(),this.ctx.restore()):n.type===F2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+A/2,n.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=yi(UR),this.ctx.fill(),this.ctx.restore())),e_e(n)&&n.value.length){switch(f=this.createFontStyle(a),_=f[0],m=f[1],x=this.fontMetrics.getMetrics(_,m).baseline,this.ctx.font=_,this.ctx.fillStyle=yi(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=r_e(n.styles.textAlign),N=Q2(n),g=0,n.styles.textAlign){case 1:g+=N.width/2;break;case 2:g+=N.width;break}v=N.add(g,0,0,-N.height/2+1),this.ctx.save(),this.path([new Tt(N.left,N.top),new Tt(N.left+N.width,N.top),new Tt(N.left+N.width,N.top+N.height),new Tt(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new $x(n.value,v),a.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ai(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];b=void 0,w=y.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return b=C.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(a)[0],this.ctx.font=_,this.ctx.fillStyle=yi(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new mu(n.bounds.left,n.bounds.top+Dn(n.styles.paddingTop,n.bounds.width),n.bounds.width,vR(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new $x(r.listValue,N),a.letterSpacing,vR(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return ba(this,void 0,void 0,function(){var n,i,y,a,o,y,l,c,y,d,u,y,A,f,y,m,x,y,g,v,y;return ta(this,function(b){switch(b.label){case 0:if(Ai(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,i=r.negativeZIndex,b.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),a=0,o=r.nonInlineLevel,b.label=7;case 7:return a<o.length?(y=o[a],[4,this.renderNode(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return a++,[3,7];case 10:l=0,c=r.nonPositionedFloats,b.label=11;case 11:return l<c.length?(y=c[l],[4,this.renderStack(y)]):[3,14];case 12:b.sent(),b.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,b.label=15;case 15:return d<u.length?(y=u[d],[4,this.renderStack(y)]):[3,18];case 16:b.sent(),b.label=17;case 17:return d++,[3,15];case 18:A=0,f=r.inlineLevel,b.label=19;case 19:return A<f.length?(y=f[A],[4,this.renderNode(y)]):[3,22];case 20:b.sent(),b.label=21;case 21:return A++,[3,19];case 22:m=0,x=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return m<x.length?(y=x[m],[4,this.renderStack(y)]):[3,26];case 24:b.sent(),b.label=25;case 25:return m++,[3,23];case 26:g=0,v=r.positiveZIndex,b.label=27;case 27:return g<v.length?(y=v[g],[4,this.renderStack(y)]):[3,30];case 28:b.sent(),b.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(i,a){var o=il(i)?i.start:i;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),il(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(r,n,i,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(r,n,i){var a;if(r.width===n&&r.height===i)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,i);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,i),l},t.prototype.renderBackgroundImage=function(r){return ba(this,void 0,void 0,function(){var n,i,a,o,l,c;return ta(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var A,f,m,F,K,H,R,U,E,x,F,K,H,R,U,g,v,y,b,w,_,N,C,P,E,I,F,B,O,R,U,$,K,H,z,te,ee,Z,V,X,W,ae;return ta(this,function(ie){switch(ie.label){case 0:if(u.type!==0)return[3,5];A=void 0,f=u.url,ie.label=1;case 1:return ie.trys.push([1,3,,4]),[4,a.context.cache.match(f)];case 2:return A=ie.sent(),[3,4];case 3:return ie.sent(),a.context.logger.error("Error loading background-image "+f),[3,4];case 4:return A&&(m=oS(r,n,[A.width,A.height,A.width/A.height]),F=m[0],K=m[1],H=m[2],R=m[3],U=m[4],E=a.ctx.createPattern(a.resizeImage(A,R,U),"repeat"),a.renderRepeat(F,E,K,H)),[3,6];case 5:D2e(u)?(x=oS(r,n,[null,null,null]),F=x[0],K=x[1],H=x[2],R=x[3],U=x[4],g=O2e(u.angle,R,U),v=g[0],y=g[1],b=g[2],w=g[3],_=g[4],N=document.createElement("canvas"),N.width=R,N.height=U,C=N.getContext("2d"),P=C.createLinearGradient(y,w,b,_),xR(u.stops,v).forEach(function(ce){return P.addColorStop(ce.stop,yi(ce.color))}),C.fillStyle=P,C.fillRect(0,0,R,U),R>0&&U>0&&(E=a.ctx.createPattern(N,"repeat"),a.renderRepeat(F,E,K,H))):M2e(u)&&(I=oS(r,n,[null,null,null]),F=I[0],B=I[1],O=I[2],R=I[3],U=I[4],$=u.position.length===0?[K6]:u.position,K=Dn($[0],R),H=Dn($[$.length-1],U),z=L2e(u,K,H,R,U),te=z[0],ee=z[1],te>0&&ee>0&&(Z=a.ctx.createRadialGradient(B+K,O+H,0,B+K,O+H,te),xR(u.stops,te*2).forEach(function(ce){return Z.addColorStop(ce.stop,yi(ce.color))}),a.path(F),a.ctx.fillStyle=Z,te!==ee?(V=r.bounds.left+.5*r.bounds.width,X=r.bounds.top+.5*r.bounds.height,W=ee/te,ae=1/W,a.ctx.save(),a.ctx.translate(V,X),a.ctx.transform(1,0,0,W,0,0),a.ctx.translate(-V,-X),a.ctx.fillRect(B,ae*(O-X)+X,R,U*ae),a.ctx.restore()):a.ctx.fill())),ie.label=6;case 6:return n--,[2]}})},a=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,i(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,i){return ba(this,void 0,void 0,function(){return ta(this,function(a){return this.path(qR(i,n)),this.ctx.fillStyle=yi(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,i,a){return ba(this,void 0,void 0,function(){var o,l;return ta(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=H5e(a,i),this.path(o),this.ctx.fillStyle=yi(r),this.ctx.fill(),l=V5e(a,i),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return ba(this,void 0,void 0,function(){var n,i,a,o,l,c,d,u,A=this;return ta(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Qh(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=t_e(Wm(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Qh(n.backgroundColor)||(this.ctx.fillStyle=yi(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){A.ctx.save();var x=D2(r.curves),g=m.inset?0:Z5e,v=Q5e(x,-g+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(A.path(x),A.ctx.clip(),A.mask(v)):(A.mask(x),A.ctx.clip(),A.path(v)),A.ctx.shadowOffsetX=m.offsetX.number+g,A.ctx.shadowOffsetY=m.offsetY.number,A.ctx.shadowColor=yi(m.color),A.ctx.shadowBlur=m.blur.number,A.ctx.fillStyle=m.inset?yi(m.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),f.label=2;case 2:l=0,c=0,d=a,f.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!Qh(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:f.sent(),f.label=11;case 11:l++,f.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,i,a,o){return ba(this,void 0,void 0,function(){var l,c,d,u,A,f,m,x,g,v,y,b,w,_,N,C,N,C;return ta(this,function(P){return this.ctx.save(),l=z5e(a,i),c=qR(a,i),o===2&&(this.path(c),this.ctx.clip()),il(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),il(c[1])?(A=c[1].end.x,f=c[1].end.y):(A=c[1].x,f=c[1].y),i===0||i===2?m=Math.abs(d-A):m=Math.abs(u-f),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),x=n<3?n*3:n*2,g=n<3?n*2:n,o===3&&(x=n,g=n),v=!0,m<=x*2?v=!1:m<=x*2+g?(y=m/(2*x+g),x*=y,g*=y):(b=Math.floor((m+g)/(x+g)),w=(m-b*x)/(b-1),_=(m-(b+1)*x)/b,g=_<=0||Math.abs(g-w)<Math.abs(g-_)?w:_),v&&(o===3?this.ctx.setLineDash([0,x+g]):this.ctx.setLineDash([x,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=yi(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(il(c[0])&&(N=c[3],C=c[0],this.ctx.beginPath(),this.formatPath([new Tt(N.end.x,N.end.y),new Tt(C.start.x,C.start.y)]),this.ctx.stroke()),il(c[1])&&(N=c[1],C=c[2],this.ctx.beginPath(),this.formatPath([new Tt(N.end.x,N.end.y),new Tt(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return ba(this,void 0,void 0,function(){var n;return ta(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=yi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=$5e(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(mY),e_e=function(e){return e instanceof Zq||e instanceof Xq?!0:e instanceof Y6&&e.type!==F2&&e.type!==L2},t_e=function(e,t){switch(e){case 0:return D2(t);case 2:return F5e(t);case 1:default:return M2(t)}},r_e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},n_e=["-apple-system","system-ui"],s_e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return n_e.indexOf(t)===-1}):e},i_e=function(e){yc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t.prototype.render=function(r){return ba(this,void 0,void 0,function(){var n,i;return ta(this,function(a){switch(a.label){case 0:return n=AE(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,a_e(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=yi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(mY),a_e=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},o_e=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Jb([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Jb([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Jb([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Jb([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),l_e=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new o_e({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new B5e(this,t)}return e.instanceCount=1,e}(),pY=function(e,t){return t===void 0&&(t={}),c_e(e,t)};typeof window<"u"&&cY.setContext(window);var c_e=function(e,t){return ba(void 0,void 0,void 0,function(){var r,n,i,a,o,l,c,d,u,A,f,m,x,g,v,y,b,w,_,N,P,C,P,E,I,F,B,O,R,U,$,K,H,z,te,ee,Z,V,X,W;return ta(this,function(ae){switch(ae.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(E=t.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(I=t.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:t.proxy,useCORS:(F=t.useCORS)!==null&&F!==void 0?F:!1},a=Z4({logging:(B=t.logging)!==null&&B!==void 0?B:!0,cache:t.cache},i),o={windowWidth:(O=t.windowWidth)!==null&&O!==void 0?O:n.innerWidth,windowHeight:(R=t.windowHeight)!==null&&R!==void 0?R:n.innerHeight,scrollX:(U=t.scrollX)!==null&&U!==void 0?U:n.pageXOffset,scrollY:($=t.scrollY)!==null&&$!==void 0?$:n.pageYOffset},l=new mu(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new l_e(a,l),d=(K=t.foreignObjectRendering)!==null&&K!==void 0?K:!1,u={allowTaint:(H=t.allowTaint)!==null&&H!==void 0?H:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),A=new KR(c,e,u),f=A.clonedReferenceElement,f?[4,A.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=ae.sent(),x=X6(f)||u5e(f)?Qwe(f.ownerDocument):ZN(c,f),g=x.width,v=x.height,y=x.left,b=x.top,w=d_e(c,f,t.backgroundColor),_={canvas:t.canvas,backgroundColor:w,scale:(te=(z=t.scale)!==null&&z!==void 0?z:n.devicePixelRatio)!==null&&te!==void 0?te:1,x:((ee=t.x)!==null&&ee!==void 0?ee:0)+y,y:((Z=t.y)!==null&&Z!==void 0?Z:0)+b,width:(V=t.width)!==null&&V!==void 0?V:Math.ceil(g),height:(X=t.height)!==null&&X!==void 0?X:Math.ceil(v)},d?(c.logger.debug("Document cloned, using foreign object rendering"),P=new i_e(c,_),[4,P.render(f)]):[3,3];case 2:return N=ae.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+y+","+b+" with size "+g+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),C=tY(c,f),w===C.styles.backgroundColor&&(C.styles.backgroundColor=su.TRANSPARENT),c.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),P=new J5e(c,_),[4,P.render(C)];case 4:N=ae.sent(),ae.label=5;case 5:return(!((W=t.removeContainer)!==null&&W!==void 0)||W)&&(KR.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},d_e=function(e,t,r){var n=t.ownerDocument,i=n.documentElement?Mx(e,getComputedStyle(n.documentElement).backgroundColor):su.TRANSPARENT,a=n.body?Mx(e,getComputedStyle(n.body).backgroundColor):su.TRANSPARENT,o=typeof r=="string"?Mx(e,r):r===null?su.TRANSPARENT:4294967295;return t===n.documentElement?Qh(i)?Qh(a)?o:a:i:o};const u_e=Object.freeze(Object.defineProperty({__proto__:null,default:pY},Symbol.toStringTag,{value:"Module"})),h_e="modulepreload",A_e=function(e){return"/"+e},XR={},lS=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=A_e(c),c in XR)return;XR[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const A=document.createElement("link");if(A.rel=d?"stylesheet":h_e,d||(A.as="script"),A.crossOrigin="",A.href=c,l&&A.setAttribute("nonce",l),document.head.appendChild(A),d)return new Promise((f,m)=>{A.addEventListener("load",f),A.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function gn(e){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(e)}var Ac=Uint8Array,_o=Uint16Array,Z6=Int32Array,J6=new Ac([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),eI=new Ac([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ZR=new Ac([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gY=function(e,t){for(var r=new _o(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Z6(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},xY=gY(J6,2),f_e=xY.b,vE=xY.r;f_e[28]=258,vE[258]=28;var m_e=gY(eI,0),JR=m_e.r,bE=new _o(32768);for(var qn=0;qn<32768;++qn){var Ju=(qn&43690)>>1|(qn&21845)<<1;Ju=(Ju&52428)>>2|(Ju&13107)<<2,Ju=(Ju&61680)>>4|(Ju&3855)<<4,bE[qn]=((Ju&65280)>>8|(Ju&255)<<8)>>1}var Vx=function(e,t,r){for(var n=e.length,i=0,a=new _o(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new _o(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new _o(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],A=o[e[i]-1]++<<u,f=A|(1<<u)-1;A<=f;++A)l[bE[A]>>c]=d}else for(l=new _o(n),i=0;i<n;++i)e[i]&&(l[i]=bE[o[e[i]-1]++]>>15-e[i]);return l},Qf=new Ac(288);for(var qn=0;qn<144;++qn)Qf[qn]=8;for(var qn=144;qn<256;++qn)Qf[qn]=9;for(var qn=256;qn<280;++qn)Qf[qn]=7;for(var qn=280;qn<288;++qn)Qf[qn]=8;var $2=new Ac(32);for(var qn=0;qn<32;++qn)$2[qn]=5;var p_e=Vx(Qf,9,0),g_e=Vx($2,5,0),yY=function(e){return(e+7)/8|0},x_e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ac(e.subarray(t,r))},Id=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},V0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},cS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:bY,l:0};if(i==1){var o=new Ac(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,C){return N.f-C.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,A=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=r[r[d].f<r[A].f?d++:A++],c=r[d!=u&&r[d].f<r[A].f?d++:A++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=a[0].s,n=1;n<i;++n)a[n].s>f&&(f=a[n].s);var m=new _o(f+1),x=wE(r[u-1],m,0);if(x>t){var n=0,g=0,v=x-t,y=1<<v;for(a.sort(function(C,P){return m[P.s]-m[C.s]||C.f-P.f});n<i;++n){var b=a[n].s;if(m[b]>t)g+=y-(1<<x-m[b]),m[b]=t;else break}for(g>>=v;g>0;){var w=a[n].s;m[w]<t?g-=1<<t-m[w]++-1:++n}for(;n>=0&&g;--n){var _=a[n].s;m[_]==t&&(--m[_],++g)}x=t}return{t:new Ac(m),l:x}},wE=function(e,t,r){return e.s==-1?Math.max(wE(e.l,t,r+1),wE(e.r,t,r+1)):t[e.s]=r},eD=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new _o(++t),n=0,i=e[0],a=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:r.subarray(0,n),n:t}},z0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},vY=function(e,t,r){var n=r.length,i=yY(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},tD=function(e,t,r,n,i,a,o,l,c,d,u){Id(t,u++,r),++i[256];for(var A=cS(i,15),f=A.t,m=A.l,x=cS(a,15),g=x.t,v=x.l,y=eD(f),b=y.c,w=y.n,_=eD(g),N=_.c,C=_.n,P=new _o(19),E=0;E<b.length;++E)++P[b[E]&31];for(var E=0;E<N.length;++E)++P[N[E]&31];for(var I=cS(P,7),F=I.t,B=I.l,O=19;O>4&&!F[ZR[O-1]];--O);var R=d+5<<3,U=z0(i,Qf)+z0(a,$2)+o,$=z0(i,f)+z0(a,g)+o+14+3*O+z0(P,F)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&R<=U&&R<=$)return vY(t,u,e.subarray(c,c+d));var K,H,z,te;if(Id(t,u,1+($<U)),u+=2,$<U){K=Vx(f,m,0),H=f,z=Vx(g,v,0),te=g;var ee=Vx(F,B,0);Id(t,u,w-257),Id(t,u+5,C-1),Id(t,u+10,O-4),u+=14;for(var E=0;E<O;++E)Id(t,u+3*E,F[ZR[E]]);u+=3*O;for(var Z=[b,N],V=0;V<2;++V)for(var X=Z[V],E=0;E<X.length;++E){var W=X[E]&31;Id(t,u,ee[W]),u+=F[W],W>15&&(Id(t,u,X[E]>>5&127),u+=X[E]>>12)}}else K=p_e,H=Qf,z=g_e,te=$2;for(var E=0;E<l;++E){var ae=n[E];if(ae>255){var W=ae>>18&31;V0(t,u,K[W+257]),u+=H[W+257],W>7&&(Id(t,u,ae>>23&31),u+=J6[W]);var ie=ae&31;V0(t,u,z[ie]),u+=te[ie],ie>3&&(V0(t,u,ae>>5&8191),u+=eI[ie])}else V0(t,u,K[ae]),u+=H[ae]}return V0(t,u,K[256]),u+H[256]},y_e=new Z6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bY=new Ac(0),v_e=function(e,t,r,n,i,a){var o=a.z||e.length,l=new Ac(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),d=a.l,u=(a.r||0)&7;if(t){u&&(c[0]=a.r>>3);for(var A=y_e[t-1],f=A>>13,m=A&8191,x=(1<<r)-1,g=a.p||new _o(32768),v=a.h||new _o(x+1),y=Math.ceil(r/3),b=2*y,w=function(ue){return(e[ue]^e[ue+1]<<y^e[ue+2]<<b)&x},_=new Z6(25e3),N=new _o(288),C=new _o(32),P=0,E=0,I=a.i||0,F=0,B=a.w||0,O=0;I+2<o;++I){var R=w(I),U=I&32767,$=v[R];if(g[U]=$,v[R]=U,B<=I){var K=o-I;if((P>7e3||F>24576)&&(K>423||!d)){u=tD(e,c,0,_,N,C,E,F,O,I-O,u),F=P=E=0,O=I;for(var H=0;H<286;++H)N[H]=0;for(var H=0;H<30;++H)C[H]=0}var z=2,te=0,ee=m,Z=U-$&32767;if(K>2&&R==w(I-Z))for(var V=Math.min(f,K)-1,X=Math.min(32767,I),W=Math.min(258,K);Z<=X&&--ee&&U!=$;){if(e[I+z]==e[I+z-Z]){for(var ae=0;ae<W&&e[I+ae]==e[I+ae-Z];++ae);if(ae>z){if(z=ae,te=Z,ae>V)break;for(var ie=Math.min(Z,ae-2),ce=0,H=0;H<ie;++H){var be=I-Z+H&32767,he=g[be],ge=be-he&32767;ge>ce&&(ce=ge,$=be)}}}U=$,$=g[U],Z+=U-$&32767}if(te){_[F++]=268435456|vE[z]<<18|JR[te];var Se=vE[z]&31,re=JR[te]&31;E+=J6[Se]+eI[re],++N[257+Se],++C[re],B=I+z,++P}else _[F++]=e[I],++N[e[I]]}}for(I=Math.max(I,B);I<o;++I)_[F++]=e[I],++N[e[I]];u=tD(e,c,d,_,N,C,E,F,O,I-O,u),d||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=v,a.p=g,a.i=I,a.w=B)}else{for(var I=a.w||0;I<o+d;I+=65535){var _e=I+65535;_e>=o&&(c[u/8|0]=d,_e=o),u=vY(c,u+1,e.subarray(I,_e))}a.i=o}return x_e(l,0,n+yY(u)+i)},wY=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},b_e=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Ac(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return v_e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},jY=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},w_e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=wY();i.p(t.dictionary),jY(e,2,i.d())}};function jE(e,t){t||(t={});var r=wY();r.p(e);var n=b_e(e,t,t.dictionary?6:2,4);return w_e(n,t),jY(n,n.length-4,r.d()),n}var j_e=typeof TextDecoder<"u"&&new TextDecoder,N_e=0;try{j_e.decode(bY,{stream:!0}),N_e=1}catch{}function __e(e){if(Array.isArray(e))return e}function C_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function rD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function S_e(e,t){if(e){if(typeof e=="string")return rD(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rD(e,t):void 0}}function B_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nD(e,t){return __e(e)||C_e(e,t)||S_e(e,t)||B_e()}function sD(e,t="utf8"){return new TextDecoder(t).decode(e)}const E_e=new TextEncoder;function k_e(e){return E_e.encode(e)}const P_e=1024*8,I_e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),dS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class tI{constructor(t=P_e,r={}){pn(this,"buffer");pn(this,"byteLength");pn(this,"byteOffset");pn(this,"length");pn(this,"offset");pn(this,"lastWrittenByte");pn(this,"littleEndian");pn(this,"_data");pn(this,"_mark");pn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof tI)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=dS[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===I_e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new dS[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new dS[r](a);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return sD(this.readBytes(t))}decodeText(t=1,r="utf8"){return sD(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(k_e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Gg(e){let t=e.length;for(;--t>=0;)e[t]=0}const T_e=3,O_e=258,NY=29,L_e=256,F_e=L_e+1+NY,_Y=30,U_e=512,R_e=new Array((F_e+2)*2);Gg(R_e);const D_e=new Array(_Y*2);Gg(D_e);const M_e=new Array(U_e);Gg(M_e);const Q_e=new Array(O_e-T_e+1);Gg(Q_e);const $_e=new Array(NY);Gg($_e);const H_e=new Array(_Y);Gg(H_e);const V_e=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var NE=V_e;const z_e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},K_e=new Uint32Array(z_e()),W_e=(e,t,r,n)=>{const i=K_e,a=n+r;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Uc=W_e,_E={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},CY={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const G_e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var q_e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)G_e(r,n)&&(e[n]=r[n])}}return e},Y_e=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];r.set(o,i),i+=o.length}return r},SY={assign:q_e,flattenChunks:Y_e};let BY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{BY=!1}const ky=new Uint8Array(256);for(let e=0;e<256;e++)ky[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ky[254]=ky[254]=1;var X_e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,o=e.length,l=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const Z_e=(e,t)=>{if(t<65534&&e.subarray&&BY)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var J_e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){a[i++]=o;continue}let l=ky[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return Z_e(a,i)},eCe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+ky[e[r]]>t?r:t},CE={string2buf:X_e,buf2string:J_e,utf8border:eCe};function tCe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var rCe=tCe;const ww=16209,nCe=16191;var sCe=function(t,r){let n,i,a,o,l,c,d,u,A,f,m,x,g,v,y,b,w,_,N,C,P,E,I,F;const B=t.state;n=t.next_in,I=t.input,i=n+(t.avail_in-5),a=t.next_out,F=t.output,o=a-(r-t.avail_out),l=a+(t.avail_out-257),c=B.dmax,d=B.wsize,u=B.whave,A=B.wnext,f=B.window,m=B.hold,x=B.bits,g=B.lencode,v=B.distcode,y=(1<<B.lenbits)-1,b=(1<<B.distbits)-1;e:do{x<15&&(m+=I[n++]<<x,x+=8,m+=I[n++]<<x,x+=8),w=g[m&y];t:for(;;){if(_=w>>>24,m>>>=_,x-=_,_=w>>>16&255,_===0)F[a++]=w&65535;else if(_&16){N=w&65535,_&=15,_&&(x<_&&(m+=I[n++]<<x,x+=8),N+=m&(1<<_)-1,m>>>=_,x-=_),x<15&&(m+=I[n++]<<x,x+=8,m+=I[n++]<<x,x+=8),w=v[m&b];r:for(;;){if(_=w>>>24,m>>>=_,x-=_,_=w>>>16&255,_&16){if(C=w&65535,_&=15,x<_&&(m+=I[n++]<<x,x+=8,x<_&&(m+=I[n++]<<x,x+=8)),C+=m&(1<<_)-1,C>c){t.msg="invalid distance too far back",B.mode=ww;break e}if(m>>>=_,x-=_,_=a-o,C>_){if(_=C-_,_>u&&B.sane){t.msg="invalid distance too far back",B.mode=ww;break e}if(P=0,E=f,A===0){if(P+=d-_,_<N){N-=_;do F[a++]=f[P++];while(--_);P=a-C,E=F}}else if(A<_){if(P+=d+A-_,_-=A,_<N){N-=_;do F[a++]=f[P++];while(--_);if(P=0,A<N){_=A,N-=_;do F[a++]=f[P++];while(--_);P=a-C,E=F}}}else if(P+=A-_,_<N){N-=_;do F[a++]=f[P++];while(--_);P=a-C,E=F}for(;N>2;)F[a++]=E[P++],F[a++]=E[P++],F[a++]=E[P++],N-=3;N&&(F[a++]=E[P++],N>1&&(F[a++]=E[P++]))}else{P=a-C;do F[a++]=F[P++],F[a++]=F[P++],F[a++]=F[P++],N-=3;while(N>2);N&&(F[a++]=F[P++],N>1&&(F[a++]=F[P++]))}}else if(_&64){t.msg="invalid distance code",B.mode=ww;break e}else{w=v[(w&65535)+(m&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){B.mode=nCe;break e}else{t.msg="invalid literal/length code",B.mode=ww;break e}else{w=g[(w&65535)+(m&(1<<_)-1)];continue t}break}}while(n<i&&a<l);N=x>>3,n-=N,x-=N<<3,m&=(1<<x)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<l?257+(l-a):257-(a-l),B.hold=m,B.bits=x};const Rm=15,iD=852,aD=592,oD=0,uS=1,lD=2,iCe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),aCe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),oCe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lCe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),cCe=(e,t,r,n,i,a,o,l)=>{const c=l.bits;let d=0,u=0,A=0,f=0,m=0,x=0,g=0,v=0,y=0,b=0,w,_,N,C,P,E=null,I;const F=new Uint16Array(Rm+1),B=new Uint16Array(Rm+1);let O=null,R,U,$;for(d=0;d<=Rm;d++)F[d]=0;for(u=0;u<n;u++)F[t[r+u]]++;for(m=c,f=Rm;f>=1&&F[f]===0;f--);if(m>f&&(m=f),f===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(A=1;A<f&&F[A]===0;A++);for(m<A&&(m=A),v=1,d=1;d<=Rm;d++)if(v<<=1,v-=F[d],v<0)return-1;if(v>0&&(e===oD||f!==1))return-1;for(B[1]=0,d=1;d<Rm;d++)B[d+1]=B[d]+F[d];for(u=0;u<n;u++)t[r+u]!==0&&(o[B[t[r+u]]++]=u);if(e===oD?(E=O=o,I=20):e===uS?(E=iCe,O=aCe,I=257):(E=oCe,O=lCe,I=0),b=0,u=0,d=A,P=a,x=m,g=0,N=-1,y=1<<m,C=y-1,e===uS&&y>iD||e===lD&&y>aD)return 1;for(;;){R=d-g,o[u]+1<I?(U=0,$=o[u]):o[u]>=I?(U=O[o[u]-I],$=E[o[u]-I]):(U=96,$=0),w=1<<d-g,_=1<<x,A=_;do _-=w,i[P+(b>>g)+_]=R<<24|U<<16|$|0;while(_!==0);for(w=1<<d-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,u++,--F[d]===0){if(d===f)break;d=t[r+o[u]]}if(d>m&&(b&C)!==N){for(g===0&&(g=m),P+=A,x=d-g,v=1<<x;x+g<f&&(v-=F[x+g],!(v<=0));)x++,v<<=1;if(y+=1<<x,e===uS&&y>iD||e===lD&&y>aD)return 1;N=b&C,i[N]=m<<24|x<<16|P-a|0}}return b!==0&&(i[P+b]=d-g<<24|64<<16|0),l.bits=m,0};var zx=cCe;const dCe=0,EY=1,kY=2,{Z_FINISH:cD,Z_BLOCK:uCe,Z_TREES:jw,Z_OK:$f,Z_STREAM_END:hCe,Z_NEED_DICT:ACe,Z_STREAM_ERROR:yl,Z_DATA_ERROR:PY,Z_MEM_ERROR:IY,Z_BUF_ERROR:fCe,Z_DEFLATED:dD}=CY,l5=16180,uD=16181,hD=16182,AD=16183,fD=16184,mD=16185,pD=16186,gD=16187,xD=16188,yD=16189,H2=16190,Td=16191,hS=16192,vD=16193,AS=16194,bD=16195,wD=16196,jD=16197,ND=16198,Nw=16199,_w=16200,_D=16201,CD=16202,SD=16203,BD=16204,ED=16205,fS=16206,kD=16207,PD=16208,ts=16209,TY=16210,OY=16211,mCe=852,pCe=592,gCe=15,xCe=gCe,ID=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function yCe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const om=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<l5||t.mode>OY?1:0},LY=e=>{if(om(e))return yl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=l5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(mCe),t.distcode=t.distdyn=new Int32Array(pCe),t.sane=1,t.back=-1,$f},FY=e=>{if(om(e))return yl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,LY(e)},UY=(e,t)=>{let r;if(om(e))return yl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?yl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,FY(e))},RY=(e,t)=>{if(!e)return yl;const r=new yCe;e.state=r,r.strm=e,r.window=null,r.mode=l5;const n=UY(e,t);return n!==$f&&(e.state=null),n},vCe=e=>RY(e,xCe);let TD=!0,mS,pS;const bCe=e=>{if(TD){mS=new Int32Array(512),pS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(zx(EY,e.lens,0,288,mS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;zx(kY,e.lens,0,32,pS,0,e.work,{bits:5}),TD=!1}e.lencode=mS,e.lenbits=9,e.distcode=pS,e.distbits=5},DY=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},wCe=(e,t)=>{let r,n,i,a,o,l,c,d,u,A,f,m,x,g,v=0,y,b,w,_,N,C,P,E;const I=new Uint8Array(4);let F,B;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(om(e)||!e.output||!e.input&&e.avail_in!==0)return yl;r=e.state,r.mode===Td&&(r.mode=hS),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,A=l,f=c,E=$f;e:for(;;)switch(r.mode){case l5:if(r.wrap===0){r.mode=hS;break}for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=d&255,I[1]=d>>>8&255,r.check=Uc(r.check,I,2,0),d=0,u=0,r.mode=uD;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=ts;break}if((d&15)!==dD){e.msg="unknown compression method",r.mode=ts;break}if(d>>>=4,u-=4,P=(d&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){e.msg="invalid window size",r.mode=ts;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?yD:Td,d=0,u=0;break;case uD:for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==dD){e.msg="unknown compression method",r.mode=ts;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ts;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,r.check=Uc(r.check,I,2,0)),d=0,u=0,r.mode=hD;case hD:for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,I[2]=d>>>16&255,I[3]=d>>>24&255,r.check=Uc(r.check,I,4,0)),d=0,u=0,r.mode=AD;case AD:for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,r.check=Uc(r.check,I,2,0)),d=0,u=0,r.mode=fD;case fD:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,r.check=Uc(r.check,I,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=mD;case mD:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+m),P)),r.flags&512&&r.wrap&4&&(r.check=Uc(r.check,n,m,a)),l-=m,a+=m,r.length-=m),r.length))break e;r.length=0,r.mode=pD;case pD:if(r.flags&2048){if(l===0)break e;m=0;do P=n[a+m++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Uc(r.check,n,m,a)),l-=m,a+=m,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=gD;case gD:if(r.flags&4096){if(l===0)break e;m=0;do P=n[a+m++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Uc(r.check,n,m,a)),l-=m,a+=m,P)break e}else r.head&&(r.head.comment=null);r.mode=xD;case xD:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ts;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Td;break;case yD:for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}e.adler=r.check=ID(d),d=0,u=0,r.mode=H2;case H2:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=u,ACe;e.adler=r.check=1,r.mode=Td;case Td:if(t===uCe||t===jw)break e;case hS:if(r.last){d>>>=u&7,u-=u&7,r.mode=fS;break}for(;u<3;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=vD;break;case 1:if(bCe(r),r.mode=Nw,t===jw){d>>>=2,u-=2;break e}break;case 2:r.mode=wD;break;case 3:e.msg="invalid block type",r.mode=ts}d>>>=2,u-=2;break;case vD:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ts;break}if(r.length=d&65535,d=0,u=0,r.mode=AS,t===jw)break e;case AS:r.mode=bD;case bD:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;i.set(n.subarray(a,a+m),o),l-=m,a+=m,c-=m,o+=m,r.length-=m;break}r.mode=Td;break;case wD:for(;u<14;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ts;break}r.have=0,r.mode=jD;case jD:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.lens[O[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},E=zx(dCe,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,E){e.msg="invalid code lengths set",r.mode=ts;break}r.have=0,r.mode=ND;case ND:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[d&(1<<r.lenbits)-1],y=v>>>24,b=v>>>16&255,w=v&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(w<16)d>>>=y,u-=y,r.lens[r.have++]=w;else{if(w===16){for(B=y+2;u<B;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(d>>>=y,u-=y,r.have===0){e.msg="invalid bit length repeat",r.mode=ts;break}P=r.lens[r.have-1],m=3+(d&3),d>>>=2,u-=2}else if(w===17){for(B=y+3;u<B;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=y,u-=y,P=0,m=3+(d&7),d>>>=3,u-=3}else{for(B=y+7;u<B;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=y,u-=y,P=0,m=11+(d&127),d>>>=7,u-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ts;break}for(;m--;)r.lens[r.have++]=P}}if(r.mode===ts)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ts;break}if(r.lenbits=9,F={bits:r.lenbits},E=zx(EY,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,E){e.msg="invalid literal/lengths set",r.mode=ts;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},E=zx(kY,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,E){e.msg="invalid distances set",r.mode=ts;break}if(r.mode=Nw,t===jw)break e;case Nw:r.mode=_w;case _w:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=u,sCe(e,f),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,r.mode===Td&&(r.back=-1);break}for(r.back=0;v=r.lencode[d&(1<<r.lenbits)-1],y=v>>>24,b=v>>>16&255,w=v&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(b&&!(b&240)){for(_=y,N=b,C=w;v=r.lencode[C+((d&(1<<_+N)-1)>>_)],y=v>>>24,b=v>>>16&255,w=v&65535,!(_+y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=_,u-=_,r.back+=_}if(d>>>=y,u-=y,r.back+=y,r.length=w,b===0){r.mode=ED;break}if(b&32){r.back=-1,r.mode=Td;break}if(b&64){e.msg="invalid literal/length code",r.mode=ts;break}r.extra=b&15,r.mode=_D;case _D:if(r.extra){for(B=r.extra;u<B;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=CD;case CD:for(;v=r.distcode[d&(1<<r.distbits)-1],y=v>>>24,b=v>>>16&255,w=v&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(!(b&240)){for(_=y,N=b,C=w;v=r.distcode[C+((d&(1<<_+N)-1)>>_)],y=v>>>24,b=v>>>16&255,w=v&65535,!(_+y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=_,u-=_,r.back+=_}if(d>>>=y,u-=y,r.back+=y,b&64){e.msg="invalid distance code",r.mode=ts;break}r.offset=w,r.extra=b&15,r.mode=SD;case SD:if(r.extra){for(B=r.extra;u<B;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ts;break}r.mode=BD;case BD:if(c===0)break e;if(m=f-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ts;break}m>r.wnext?(m-=r.wnext,x=r.wsize-m):x=r.wnext-m,m>r.length&&(m=r.length),g=r.window}else g=i,x=o-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do i[o++]=g[x++];while(--m);r.length===0&&(r.mode=_w);break;case ED:if(c===0)break e;i[o++]=r.length,c--,r.mode=_w;break;case fS:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[a++]<<u,u+=8}if(f-=c,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?Uc(r.check,i,f,o-f):NE(r.check,i,f,o-f)),f=c,r.wrap&4&&(r.flags?d:ID(d))!==r.check){e.msg="incorrect data check",r.mode=ts;break}d=0,u=0}r.mode=kD;case kD:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ts;break}d=0,u=0}r.mode=PD;case PD:E=hCe;break e;case ts:E=PY;break e;case TY:return IY;case OY:default:return yl}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=u,(r.wsize||f!==e.avail_out&&r.mode<ts&&(r.mode<fS||t!==cD))&&DY(e,e.output,e.next_out,f-e.avail_out),A-=e.avail_in,f-=e.avail_out,e.total_in+=A,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?Uc(r.check,i,f,e.next_out-f):NE(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Td?128:0)+(r.mode===Nw||r.mode===AS?256:0),(A===0&&f===0||t===cD)&&E===$f&&(E=fCe),E},jCe=e=>{if(om(e))return yl;let t=e.state;return t.window&&(t.window=null),e.state=null,$f},NCe=(e,t)=>{if(om(e))return yl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,$f):yl},_Ce=(e,t)=>{const r=t.length;let n,i,a;return om(e)||(n=e.state,n.wrap!==0&&n.mode!==H2)?yl:n.mode===H2&&(i=1,i=NE(i,t,r,0),i!==n.check)?PY:(a=DY(e,t,r,r),a?(n.mode=TY,IY):(n.havedict=1,$f))};var CCe=FY,SCe=UY,BCe=LY,ECe=vCe,kCe=RY,PCe=wCe,ICe=jCe,TCe=NCe,OCe=_Ce,LCe="pako inflate (from Nodeca project)",Rd={inflateReset:CCe,inflateReset2:SCe,inflateResetKeep:BCe,inflateInit:ECe,inflateInit2:kCe,inflate:PCe,inflateEnd:ICe,inflateGetHeader:TCe,inflateSetDictionary:OCe,inflateInfo:LCe};function FCe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var UCe=FCe;const MY=Object.prototype.toString,{Z_NO_FLUSH:RCe,Z_FINISH:DCe,Z_OK:Py,Z_STREAM_END:gS,Z_NEED_DICT:xS,Z_STREAM_ERROR:MCe,Z_DATA_ERROR:OD,Z_MEM_ERROR:QCe}=CY;function Wv(e){this.options=SY.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rCe,this.strm.avail_out=0;let r=Rd.inflateInit2(this.strm,t.windowBits);if(r!==Py)throw new Error(_E[r]);if(this.header=new UCe,Rd.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=CE.string2buf(t.dictionary):MY.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Rd.inflateSetDictionary(this.strm,t.dictionary),r!==Py)))throw new Error(_E[r])}Wv.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?DCe:RCe,MY.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Rd.inflate(r,o),a===xS&&i&&(a=Rd.inflateSetDictionary(r,i),a===Py?a=Rd.inflate(r,o):a===OD&&(a=xS));r.avail_in>0&&a===gS&&r.state.wrap>0&&e[r.next_in]!==0;)Rd.inflateReset(r),a=Rd.inflate(r,o);switch(a){case MCe:case OD:case xS:case QCe:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===gS))if(this.options.to==="string"){let c=CE.utf8border(r.output,r.next_out),d=r.next_out-c,u=CE.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Py&&l===0)){if(a===gS)return a=Rd.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Wv.prototype.onData=function(e){this.chunks.push(e)};Wv.prototype.onEnd=function(e){e===Py&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=SY.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function $Ce(e,t){const r=new Wv(t);if(r.push(e),r.err)throw r.msg||_E[r.err];return r.result}var HCe=Wv,VCe=$Ce,zCe={Inflate:HCe,inflate:VCe};const{Inflate:KCe,inflate:WCe}=zCe;var LD=KCe,GCe=WCe;const QY=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;QY[e]=t}const FD=4294967295;function qCe(e,t,r){let n=e;for(let i=0;i<r;i++)n=QY[(n^t[i])&255]^n>>>8;return n}function YCe(e,t){return(qCe(FD,e,t)^FD)>>>0}function UD(e,t,r){const n=e.readUint32(),i=YCe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function $Y(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function HY(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function VY(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function zY(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function KY(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+XCe(t[a-i],r[a],r[a-i])&255}}function XCe(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-r);return i<=a&&i<=o?e:a<=o?t:r}function ZCe(e,t,r,n,i,a){switch(e){case 0:$Y(t,r,i);break;case 1:HY(t,r,i,a);break;case 2:VY(t,r,n,i);break;case 3:zY(t,r,n,i,a);break;case 4:KY(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const JCe=new Uint16Array([255]),eSe=new Uint8Array(JCe.buffer),tSe=eSe[0]===255;function rSe(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let d=0;for(let u=0;u<7;u++){const A=o[u],f=Math.ceil((r-A.x)/A.xStep),m=Math.ceil((n-A.y)/A.yStep);if(f<=0||m<=0)continue;const x=f*l,g=new Uint8Array(x);for(let v=0;v<m;v++){const y=t[d++],b=t.subarray(d,d+x);d+=x;const w=new Uint8Array(x);ZCe(y,b,w,g,x,l),g.set(w);for(let _=0;_<f;_++){const N=A.x+_*A.xStep,C=A.y+v*A.yStep;if(!(N>=r||C>=n))for(let P=0;P<l;P++)c[(C*r+N)*l+P]=w[_*l+P]}}}if(a===16){const u=new Uint16Array(c.buffer);if(tSe)for(let A=0;A<u.length;A++)u[A]=nSe(u[A]);return u}else return c}function nSe(e){return(e&255)<<8|e>>8&255}const sSe=new Uint16Array([255]),iSe=new Uint8Array(sSe.buffer),aSe=iSe[0]===255,oSe=new Uint8Array(0);function RD(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let d=oSe,u=0,A,f;for(let m=0;m<n;m++){switch(A=t.subarray(u+1,u+1+l),f=c.subarray(m*l,(m+1)*l),t[u]){case 0:$Y(A,f,l);break;case 1:HY(A,f,l,o);break;case 2:VY(A,f,d,l);break;case 3:zY(A,f,d,l,o);break;case 4:KY(A,f,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=f,u+=l+1}if(a===16){const m=new Uint16Array(c.buffer);if(aSe)for(let x=0;x<m.length;x++)m[x]=lSe(m[x]);return m}else return c}function lSe(e){return(e&255)<<8|e>>8&255}const E1=Uint8Array.of(137,80,78,71,13,10,26,10);function DD(e){if(!cSe(e.readBytes(E1.length)))throw new Error("wrong PNG signature")}function cSe(e){if(e.length<E1.length)return!1;for(let t=0;t<E1.length;t++)if(e[t]!==E1[t])return!1;return!0}const dSe="tEXt",uSe=0,WY=new TextDecoder("latin1");function hSe(e){if(fSe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const ASe=/^[\u0000-\u00FF]*$/;function fSe(e){if(!ASe.test(e))throw new Error("invalid latin1 text")}function mSe(e,t,r){const n=GY(t);e[n]=pSe(t,r-n.length-1)}function GY(e){for(e.mark();e.readByte()!==uSe;);const t=e.offset;e.reset();const r=WY.decode(e.readBytes(t-e.offset-1));return e.skip(1),hSe(r),r}function pSe(e,t){return WY.decode(e.readBytes(t))}const po={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},yS={UNKNOWN:-1,DEFLATE:0},MD={UNKNOWN:-1,ADAPTIVE:0},vS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Cw={NONE:0,BACKGROUND:1,PREVIOUS:2},bS={SOURCE:0,OVER:1};class gSe extends tI{constructor(r,n={}){super(r);pn(this,"_checkCrc");pn(this,"_inflator");pn(this,"_png");pn(this,"_apng");pn(this,"_end");pn(this,"_hasPalette");pn(this,"_palette");pn(this,"_hasTransparency");pn(this,"_transparency");pn(this,"_compressionMethod");pn(this,"_filterMethod");pn(this,"_interlaceMethod");pn(this,"_colorType");pn(this,"_isAnimated");pn(this,"_numberOfFrames");pn(this,"_numberOfPlays");pn(this,"_frames");pn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new LD,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=yS.UNKNOWN,this._filterMethod=MD.UNKNOWN,this._interlaceMethod=vS.UNKNOWN,this._colorType=po.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(DD(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(DD(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case dSe:mSe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?UD(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?UD(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=xSe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case po.GREYSCALE:i=1;break;case po.TRUECOLOUR:i=3;break;case po.INDEXED_COLOUR:i=1;break;case po.GREYSCALE_ALPHA:i=2;break;case po.TRUECOLOUR_ALPHA:i=4;break;case po.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==yS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case po.GREYSCALE:case po.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case po.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case po.UNKNOWN:case po.GREYSCALE_ALPHA:case po.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=GY(this),i=this.readUint8();if(i!==yS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:GCe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=RD({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Cw.NONE:break;case Cw.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case Cw.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case bS.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=n.data[d+u]}break;case bS.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let u=0;u<this._png.channels;u++){const A=n.data[d+this._png.channels-1]/i,f=u%(this._png.channels-1)===0?1:n.data[d+u],m=Math.floor(A*f+(1-A)*r.data[c+u]);r.data[c+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==MD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===vS.NO_INTERLACE)this._png.data=RD({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===vS.ADAM7)this._png.data=rSe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Cw.NONE,blendOp:bS.SOURCE,data:r}),this._inflator=new LD,this._writingDataChunks=!1}}function xSe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var QD;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(QD||(QD={}));function ySe(e,t){return new gSe(e,t).decode()}var hr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function wS(){hr.console&&typeof hr.console.log=="function"&&hr.console.log.apply(hr.console,arguments)}var kn={log:wS,warn:function(e){hr.console&&(typeof hr.console.warn=="function"?hr.console.warn.apply(hr.console,arguments):wS.call(null,arguments))},error:function(e){hr.console&&(typeof hr.console.error=="function"?hr.console.error.apply(hr.console,arguments):wS(e))}};function jS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){QA(n.response,t,r)},n.onerror=function(){kn.error("could not download file")},n.send()}function $D(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Sw(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var QA=hr.saveAs||((typeof window>"u"?"undefined":gn(window))!=="object"||window!==hr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=hr.URL||hr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?$D(i.href)?jS(e,t,r):Sw(i,i.target="_blank"):Sw(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Sw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if($D(e))jS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Sw(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:gn(a)!=="object"&&(kn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return jS(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(hr.HTMLElement)||hr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":gn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=hr.URL||hr.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function qY(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var k1=hr.atob.bind(hr),HD=hr.btoa.bind(hr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function NS(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Xi(r,n,i,a,t[0],7,-680876936),a=Xi(a,r,n,i,t[1],12,-389564586),i=Xi(i,a,r,n,t[2],17,606105819),n=Xi(n,i,a,r,t[3],22,-1044525330),r=Xi(r,n,i,a,t[4],7,-176418897),a=Xi(a,r,n,i,t[5],12,1200080426),i=Xi(i,a,r,n,t[6],17,-1473231341),n=Xi(n,i,a,r,t[7],22,-45705983),r=Xi(r,n,i,a,t[8],7,1770035416),a=Xi(a,r,n,i,t[9],12,-1958414417),i=Xi(i,a,r,n,t[10],17,-42063),n=Xi(n,i,a,r,t[11],22,-1990404162),r=Xi(r,n,i,a,t[12],7,1804603682),a=Xi(a,r,n,i,t[13],12,-40341101),i=Xi(i,a,r,n,t[14],17,-1502002290),r=Zi(r,n=Xi(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Zi(a,r,n,i,t[6],9,-1069501632),i=Zi(i,a,r,n,t[11],14,643717713),n=Zi(n,i,a,r,t[0],20,-373897302),r=Zi(r,n,i,a,t[5],5,-701558691),a=Zi(a,r,n,i,t[10],9,38016083),i=Zi(i,a,r,n,t[15],14,-660478335),n=Zi(n,i,a,r,t[4],20,-405537848),r=Zi(r,n,i,a,t[9],5,568446438),a=Zi(a,r,n,i,t[14],9,-1019803690),i=Zi(i,a,r,n,t[3],14,-187363961),n=Zi(n,i,a,r,t[8],20,1163531501),r=Zi(r,n,i,a,t[13],5,-1444681467),a=Zi(a,r,n,i,t[2],9,-51403784),i=Zi(i,a,r,n,t[7],14,1735328473),r=Ji(r,n=Zi(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Ji(a,r,n,i,t[8],11,-2022574463),i=Ji(i,a,r,n,t[11],16,1839030562),n=Ji(n,i,a,r,t[14],23,-35309556),r=Ji(r,n,i,a,t[1],4,-1530992060),a=Ji(a,r,n,i,t[4],11,1272893353),i=Ji(i,a,r,n,t[7],16,-155497632),n=Ji(n,i,a,r,t[10],23,-1094730640),r=Ji(r,n,i,a,t[13],4,681279174),a=Ji(a,r,n,i,t[0],11,-358537222),i=Ji(i,a,r,n,t[3],16,-722521979),n=Ji(n,i,a,r,t[6],23,76029189),r=Ji(r,n,i,a,t[9],4,-640364487),a=Ji(a,r,n,i,t[12],11,-421815835),i=Ji(i,a,r,n,t[15],16,530742520),r=ea(r,n=Ji(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ea(a,r,n,i,t[7],10,1126891415),i=ea(i,a,r,n,t[14],15,-1416354905),n=ea(n,i,a,r,t[5],21,-57434055),r=ea(r,n,i,a,t[12],6,1700485571),a=ea(a,r,n,i,t[3],10,-1894986606),i=ea(i,a,r,n,t[10],15,-1051523),n=ea(n,i,a,r,t[1],21,-2054922799),r=ea(r,n,i,a,t[8],6,1873313359),a=ea(a,r,n,i,t[15],10,-30611744),i=ea(i,a,r,n,t[6],15,-1560198380),n=ea(n,i,a,r,t[13],21,1309151649),r=ea(r,n,i,a,t[4],6,-145523070),a=ea(a,r,n,i,t[11],10,-1120210379),i=ea(i,a,r,n,t[2],15,718787259),n=ea(n,i,a,r,t[9],21,-343485551),e[0]=_h(r,e[0]),e[1]=_h(n,e[1]),e[2]=_h(i,e[2]),e[3]=_h(a,e[3])}function c5(e,t,r,n,i,a){return t=_h(_h(t,e),_h(n,a)),_h(t<<i|t>>>32-i,r)}function Xi(e,t,r,n,i,a,o){return c5(t&r|~t&n,e,t,i,a,o)}function Zi(e,t,r,n,i,a,o){return c5(t&n|r&~n,e,t,i,a,o)}function Ji(e,t,r,n,i,a,o){return c5(t^r^n,e,t,i,a,o)}function ea(e,t,r,n,i,a,o){return c5(r^(t|~n),e,t,i,a,o)}function YY(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)NS(n,vSe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(NS(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,NS(n,i),n}function vSe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var VD="0123456789abcdef".split("");function bSe(e){for(var t="",r=0;r<4;r++)t+=VD[e>>8*r+4&15]+VD[e>>8*r&15];return t}function wSe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function SE(e){return YY(e).map(wSe).join("")}var jSe=function(e){for(var t=0;t<e.length;t++)e[t]=bSe(e[t]);return e.join("")}(YY("hello"))!="5d41402abc4b2a76b9719d911017c592";function _h(e,t){if(jSe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function BE(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,n=l}else l=n;var A=t.length,f=0,m=0,x="";for(c=0;c<A;c++)m=(m+(u=l[f=(f+1)%256]))%256,l[f]=l[m],l[m]=u,o=l[(l[f]+l[m])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var zD={print:4,modify:8,copy:16,"annot-forms":32};function Gm(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(zD.perm!==void 0)throw new Error("Invalid permission: "+l);i+=zD[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=SE(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=BE(this.encryptionKey,this.padding)}function qm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function KD(e){if(gn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(l){hr.console&&kn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function V2(e){if(!(this instanceof V2))return new V2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function XY(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function WA(e,t,r,n,i){if(!(this instanceof WA))return new WA(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,XY.call(this,n,i)}function fp(e,t,r,n,i){if(!(this instanceof fp))return new fp(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,XY.call(this,n,i)}function Yt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,d="S",u=null;gn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,f={},m={internal:{},__private__:{}};m.__private__.PubSub=KD;var x="1.3",g=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(D){x=D};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var y=m.__private__.getPageFormat=function(D){return v[D]};i=i||"a4";var b="compat",w="advanced",_=b;function N(){this.saveGraphicsState(),J(new Ft(gt,0,0,-gt,0,wd()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),d="n",_=w}function C(){this.restoreGraphicsState(),d="S",_=b}var P=m.__private__.combineFontStyleAndFontWeight=function(D,ne){if(D=="bold"&&ne=="normal"||D=="bold"&&ne==400||D=="normal"&&ne=="italic"||D=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(D=ne==400||ne==="normal"?D==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||D!=="normal"?(ne==700?"bold":ne)+""+D:"bold"),D};m.advancedAPI=function(D){var ne=_===b;return ne&&N.call(this),typeof D!="function"||(D(this),ne&&C.call(this)),this},m.compatAPI=function(D){var ne=_===w;return ne&&C.call(this),typeof D!="function"||(D(this),ne&&N.call(this)),this},m.isAdvancedAPI=function(){return _===w};var E,I=function(D){if(_!==w)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=m.roundToPrecision=m.__private__.roundToPrecision=function(D,ne){var ve=t||ne;if(isNaN(D)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(ve).replace(/0+$/,"")};E=m.hpf=m.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return F(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return F(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return F(D,16)};var B=m.f2=m.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return F(D,2)},O=m.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return F(D,3)},R=m.scale=m.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return _===b?D*gt:_===w?D:void 0},U=function(D){return R(function(ne){return _===b?wd()-ne:_===w?ne:void 0}(D))};m.__private__.setPrecision=m.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(t=parseInt(D,10))};var $,K="00000000000000000000000000000000",H=m.__private__.getFileId=function(){return K},z=m.__private__.setFileId=function(D){return K=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Jn=new Gm(u.userPermissions,u.userPassword,u.ownerPassword,K)),K};m.setFileId=function(D){return z(D),this},m.getFileId=function(){return H()};var te=m.__private__.convertDateToPDFDate=function(D){var ne=D.getTimezoneOffset(),ve=ne<0?"+":"-",Pe=Math.floor(Math.abs(ne/60)),Ue=Math.abs(ne%60),qe=[ve,W(Pe),"'",W(Ue),"'"].join("");return["D:",D.getFullYear(),W(D.getMonth()+1),W(D.getDate()),W(D.getHours()),W(D.getMinutes()),W(D.getSeconds()),qe].join("")},ee=m.__private__.convertPDFDateToDate=function(D){var ne=parseInt(D.substr(2,4),10),ve=parseInt(D.substr(6,2),10)-1,Pe=parseInt(D.substr(8,2),10),Ue=parseInt(D.substr(10,2),10),qe=parseInt(D.substr(12,2),10),ct=parseInt(D.substr(14,2),10);return new Date(ne,ve,Pe,Ue,qe,ct,0)},Z=m.__private__.setCreationDate=function(D){var ne;if(D===void 0&&(D=new Date),D instanceof Date)ne=te(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=D}return $=ne},V=m.__private__.getCreationDate=function(D){var ne=$;return D==="jsDate"&&(ne=ee($)),ne};m.setCreationDate=function(D){return Z(D),this},m.getCreationDate=function(D){return V(D)};var X,W=m.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ae=m.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},ie=0,ce=[],be=[],he=0,ge=[],Se=[],re=!1,_e=be;m.__private__.setCustomOutputDestination=function(D){re=!0,_e=D};var ue=function(D){re||(_e=D)};m.__private__.resetCustomOutputDestination=function(){re=!1,_e=be};var J=m.__private__.out=function(D){return D=D.toString(),he+=D.length+1,_e.push(D),_e},fe=m.__private__.write=function(D){return J(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},ye=m.__private__.getArrayBuffer=function(D){for(var ne=D.length,ve=new ArrayBuffer(ne),Pe=new Uint8Array(ve);ne--;)Pe[ne]=D.charCodeAt(ne);return ve},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ie};var ke=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(D){return ke=_===w?D/gt:D,this};var He,We=m.__private__.getFontSize=m.getFontSize=function(){return _===b?ke:ke*gt},me=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(D){return me=D,this},m.__private__.getR2L=m.getR2L=function(){return me};var Be,Oe=m.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))He=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');He=D}else He=parseInt(D,10)};m.__private__.getZoomMode=function(){return He};var Ne,Fe=m.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Be=D};m.__private__.getPageMode=function(){return Be};var it=m.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Ne=D};m.__private__.getLayoutMode=function(){return Ne},m.__private__.setDisplayMode=m.setDisplayMode=function(D,ne,ve){return Oe(D),it(ne),Fe(ve),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(D){if(Object.keys(pt).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[D]},m.__private__.getDocumentProperties=function(){return pt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(D){for(var ne in pt)pt.hasOwnProperty(ne)&&D[ne]&&(pt[ne]=D[ne]);return this},m.__private__.setDocumentProperty=function(D,ne){if(Object.keys(pt).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[D]=ne};var Re,gt,rt,ot,xt,Et={},St={},$t=[],bt={},ht={},lt={},ut={},nt=null,Ke=0,Ct=[],Gt=new KD(m),Xn=e.hotfixes||[],Vr={},tn={},gr=[],Ft=function D(ne,ve,Pe,Ue,qe,ct){if(!(this instanceof D))return new D(ne,ve,Pe,Ue,qe,ct);isNaN(ne)&&(ne=1),isNaN(ve)&&(ve=0),isNaN(Pe)&&(Pe=0),isNaN(Ue)&&(Ue=1),isNaN(qe)&&(qe=0),isNaN(ct)&&(ct=0),this._matrix=[ne,ve,Pe,Ue,qe,ct]};Object.defineProperty(Ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ft.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(D)},Ft.prototype.multiply=function(D){var ne=D.sx*this.sx+D.shy*this.shx,ve=D.sx*this.shy+D.shy*this.sy,Pe=D.shx*this.sx+D.sy*this.shx,Ue=D.shx*this.shy+D.sy*this.sy,qe=D.tx*this.sx+D.ty*this.shx+this.tx,ct=D.tx*this.shy+D.ty*this.sy+this.ty;return new Ft(ne,ve,Pe,Ue,qe,ct)},Ft.prototype.decompose=function(){var D=this.sx,ne=this.shy,ve=this.shx,Pe=this.sy,Ue=this.tx,qe=this.ty,ct=Math.sqrt(D*D+ne*ne),Rt=(D/=ct)*ve+(ne/=ct)*Pe;ve-=D*Rt,Pe-=ne*Rt;var Vt=Math.sqrt(ve*ve+Pe*Pe);return Rt/=Vt,D*(Pe/=Vt)<ne*(ve/=Vt)&&(D=-D,ne=-ne,Rt=-Rt,ct=-ct),{scale:new Ft(ct,0,0,Vt,0,0),translate:new Ft(1,0,0,1,Ue,qe),rotate:new Ft(D,ne,-ne,D,0,0),skew:new Ft(1,0,Rt,1,0,0)}},Ft.prototype.toString=function(D){return this.join(" ")},Ft.prototype.inversed=function(){var D=this.sx,ne=this.shy,ve=this.shx,Pe=this.sy,Ue=this.tx,qe=this.ty,ct=1/(D*Pe-ne*ve),Rt=Pe*ct,Vt=-ne*ct,lr=-ve*ct,mr=D*ct;return new Ft(Rt,Vt,lr,mr,-Rt*Ue-lr*qe,-Vt*Ue-mr*qe)},Ft.prototype.applyToPoint=function(D){var ne=D.x*this.sx+D.y*this.shx+this.tx,ve=D.x*this.shy+D.y*this.sy+this.ty;return new El(ne,ve)},Ft.prototype.applyToRectangle=function(D){var ne=this.applyToPoint(D),ve=this.applyToPoint(new El(D.x+D.w,D.y+D.h));return new Uu(ne.x,ne.y,ve.x-ne.x,ve.y-ne.y)},Ft.prototype.clone=function(){var D=this.sx,ne=this.shy,ve=this.shx,Pe=this.sy,Ue=this.tx,qe=this.ty;return new Ft(D,ne,ve,Pe,Ue,qe)},m.Matrix=Ft;var xs=m.matrixMult=function(D,ne){return ne.multiply(D)},ys=new Ft(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ys;var On=function(D,ne){if(!ht[D]){var ve=(ne instanceof WA?"Sh":"P")+(Object.keys(bt).length+1).toString(10);ne.id=ve,ht[D]=ve,bt[ve]=ne,Gt.publish("addPattern",ne)}};m.ShadingPattern=WA,m.TilingPattern=fp,m.addShadingPattern=function(D,ne){return I("addShadingPattern()"),On(D,ne),this},m.beginTilingPattern=function(D){I("beginTilingPattern()"),vA(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},m.endTilingPattern=function(D,ne){I("endTilingPattern()"),ne.stream=Se[X].join(`
`),On(D,ne),Gt.publish("endTilingPattern",ne),gr.pop().restore()};var is,br=m.__private__.newObject=function(){var D=Bt();return un(D,!0),D},Bt=m.__private__.newObjectDeferred=function(){return ie++,ce[ie]=function(){return he},ie},un=function(D,ne){return ne=typeof ne=="boolean"&&ne,ce[D]=he,ne&&J(D+" 0 obj"),D},ni=m.__private__.newAdditionalObject=function(){var D={objId:Bt(),content:""};return ge.push(D),D},Vs=Bt(),as=Bt(),os=m.__private__.decodeColorString=function(D){var ne=D.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length!==5||ne[4]!=="k"&&ne[4]!=="K"||(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var ve=parseFloat(ne[0]);ne=[ve,ve,ve,"r"]}for(var Pe="#",Ue=0;Ue<3;Ue++)Pe+=("0"+Math.floor(255*parseFloat(ne[Ue])).toString(16)).slice(-2);return Pe},ls=m.__private__.encodeColorString=function(D){var ne;typeof D=="string"&&(D={ch1:D});var ve=D.ch1,Pe=D.ch2,Ue=D.ch3,qe=D.ch4,ct=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var Rt=new qY(ve);if(Rt.ok)ve=Rt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var Vt=parseInt(ve.substr(1),16);ve=Vt>>16&255,Pe=Vt>>8&255,Ue=255&Vt}if(Pe===void 0||qe===void 0&&ve===Pe&&Pe===Ue)ne=typeof ve=="string"?ve+" "+ct[0]:D.precision===2?B(ve/255)+" "+ct[0]:O(ve/255)+" "+ct[0];else if(qe===void 0||gn(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",ct[1]].join(" ");ne=typeof ve=="string"?[ve,Pe,Ue,ct[1]].join(" "):D.precision===2?[B(ve/255),B(Pe/255),B(Ue/255),ct[1]].join(" "):[O(ve/255),O(Pe/255),O(Ue/255),ct[1]].join(" ")}else ne=typeof ve=="string"?[ve,Pe,Ue,qe,ct[2]].join(" "):D.precision===2?[B(ve),B(Pe),B(Ue),B(qe),ct[2]].join(" "):[O(ve),O(Pe),O(Ue),O(qe),ct[2]].join(" ");return ne},Cn=m.__private__.getFilters=function(){return o},et=m.__private__.putStream=function(D){var ne=(D=D||{}).data||"",ve=D.filters||Cn(),Pe=D.alreadyAppliedFilters||[],Ue=D.addLength1||!1,qe=ne.length,ct=D.objectId,Rt=function(Ps){return Ps};if(u!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Rt=Jn.encryptor(ct,0));var Vt={};ve===!0&&(ve=["FlateEncode"]);var lr=D.additionalKeyValues||[],mr=(Vt=Yt.API.processDataByFilters!==void 0?Yt.API.processDataByFilters(ne,ve):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(Vt.data.length!==0&&(lr.push({key:"Length",value:Vt.data.length}),Ue===!0&&lr.push({key:"Length1",value:qe})),mr.length!=0)if(mr.split("/").length-1==1)lr.push({key:"Filter",value:mr});else{lr.push({key:"Filter",value:"["+mr+"]"});for(var Ur=0;Ur<lr.length;Ur+=1)if(lr[Ur].key==="DecodeParms"){for(var Hn=[],bs=0;bs<Vt.reverseChain.split("/").length-1;bs+=1)Hn.push("null");Hn.push(lr[Ur].value),lr[Ur].value="["+Hn.join(" ")+"]"}}J("<<");for(var sn=0;sn<lr.length;sn++)J("/"+lr[sn].key+" "+lr[sn].value);J(">>"),Vt.data.length!==0&&(J("stream"),J(Rt(Vt.data)),J("endstream"))},Nt=m.__private__.putPage=function(D){var ne=D.number,ve=D.data,Pe=D.objId,Ue=D.contentsObjId;un(Pe,!0),J("<</Type /Page"),J("/Parent "+D.rootDictionaryObjId+" 0 R"),J("/Resources "+D.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(E(D.mediaBox.bottomLeftX))+" "+parseFloat(E(D.mediaBox.bottomLeftY))+" "+E(D.mediaBox.topRightX)+" "+E(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&J("/CropBox ["+E(D.cropBox.bottomLeftX)+" "+E(D.cropBox.bottomLeftY)+" "+E(D.cropBox.topRightX)+" "+E(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&J("/BleedBox ["+E(D.bleedBox.bottomLeftX)+" "+E(D.bleedBox.bottomLeftY)+" "+E(D.bleedBox.topRightX)+" "+E(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&J("/TrimBox ["+E(D.trimBox.bottomLeftX)+" "+E(D.trimBox.bottomLeftY)+" "+E(D.trimBox.topRightX)+" "+E(D.trimBox.topRightY)+"]"),D.artBox!==null&&J("/ArtBox ["+E(D.artBox.bottomLeftX)+" "+E(D.artBox.bottomLeftY)+" "+E(D.artBox.topRightX)+" "+E(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&J("/UserUnit "+D.userUnit),Gt.publish("putPage",{objId:Pe,pageContext:Ct[ne],pageNumber:ne,page:ve}),J("/Contents "+Ue+" 0 R"),J(">>"),J("endobj");var qe=ve.join(`
`);return _===w&&(qe+=`
Q`),un(Ue,!0),et({data:qe,filters:Cn(),objectId:Ue}),J("endobj"),Pe},Pt=m.__private__.putPages=function(){var D,ne,ve=[];for(D=1;D<=Ke;D++)Ct[D].objId=Bt(),Ct[D].contentsObjId=Bt();for(D=1;D<=Ke;D++)ve.push(Nt({number:D,data:Se[D],objId:Ct[D].objId,contentsObjId:Ct[D].contentsObjId,mediaBox:Ct[D].mediaBox,cropBox:Ct[D].cropBox,bleedBox:Ct[D].bleedBox,trimBox:Ct[D].trimBox,artBox:Ct[D].artBox,userUnit:Ct[D].userUnit,rootDictionaryObjId:Vs,resourceDictionaryObjId:as}));un(Vs,!0),J("<</Type /Pages");var Pe="/Kids [";for(ne=0;ne<Ke;ne++)Pe+=ve[ne]+" 0 R ";J(Pe+"]"),J("/Count "+Ke),J(">>"),J("endobj"),Gt.publish("postPutPages")},ft=function(D){Gt.publish("putFont",{font:D,out:J,newObject:br,putStream:et}),D.isAlreadyPutted!==!0&&(D.objectNumber=br(),J("<<"),J("/Type /Font"),J("/BaseFont /"+qm(D.postScriptName)),J("/Subtype /Type1"),typeof D.encoding=="string"&&J("/Encoding /"+D.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Ut=function(D){D.objectNumber=br();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[E(D.x),E(D.y),E(D.x+D.width),E(D.y+D.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var ve=D.pages[1].join(`
`);et({data:ve,additionalKeyValues:ne,objectId:D.objectNumber}),J("endobj")},bn=function(D,ne){ne||(ne=21);var ve=br(),Pe=function(ct,Rt){var Vt,lr=[],mr=1/(Rt-1);for(Vt=0;Vt<1;Vt+=mr)lr.push(Vt);if(lr.push(1),ct[0].offset!=0){var Ur={offset:0,color:ct[0].color};ct.unshift(Ur)}if(ct[ct.length-1].offset!=1){var Hn={offset:1,color:ct[ct.length-1].color};ct.push(Hn)}for(var bs="",sn=0,Ps=0;Ps<lr.length;Ps++){for(Vt=lr[Ps];Vt>ct[sn+1].offset;)sn++;var cs=ct[sn].offset,zs=(Vt-cs)/(ct[sn+1].offset-cs),Ua=ct[sn].color,ii=ct[sn+1].color;bs+=ae(Math.round((1-zs)*Ua[0]+zs*ii[0]).toString(16))+ae(Math.round((1-zs)*Ua[1]+zs*ii[1]).toString(16))+ae(Math.round((1-zs)*Ua[2]+zs*ii[2]).toString(16))}return bs.trim()}(D.colors,ne),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+ne+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et({data:Pe,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),J("endobj"),D.objectNumber=br(),J("<< /ShadingType "+D.type),J("/ColorSpace /DeviceRGB");var qe="/Coords ["+E(parseFloat(D.coords[0]))+" "+E(parseFloat(D.coords[1]))+" ";D.type===2?qe+=E(parseFloat(D.coords[2]))+" "+E(parseFloat(D.coords[3])):qe+=E(parseFloat(D.coords[2]))+" "+E(parseFloat(D.coords[3]))+" "+E(parseFloat(D.coords[4]))+" "+E(parseFloat(D.coords[5])),J(qe+="]"),D.matrix&&J("/Matrix ["+D.matrix.toString()+"]"),J("/Function "+ve+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Fr=function(D,ne){var ve=Bt(),Pe=br();ne.push({resourcesOid:ve,objectOid:Pe}),D.objectNumber=Pe;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+D.boundingBox.map(E).join(" ")+"]"}),Ue.push({key:"XStep",value:E(D.xStep)}),Ue.push({key:"YStep",value:E(D.yStep)}),Ue.push({key:"Resources",value:ve+" 0 R"}),D.matrix&&Ue.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),et({data:D.stream,additionalKeyValues:Ue,objectId:D.objectNumber}),J("endobj")},Zn=function(D){for(var ne in D.objectNumber=br(),J("<<"),D)switch(ne){case"opacity":J("/ca "+B(D[ne]));break;case"stroke-opacity":J("/CA "+B(D[ne]))}J(">>"),J("endobj")},xe=function(D){un(D.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ne in J("/Font <<"),Et)Et.hasOwnProperty(ne)&&(A===!1||A===!0&&f.hasOwnProperty(ne))&&J("/"+ne+" "+Et[ne].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(bt).length>0){for(var ne in J("/Shading <<"),bt)bt.hasOwnProperty(ne)&&bt[ne]instanceof WA&&bt[ne].objectNumber>=0&&J("/"+ne+" "+bt[ne].objectNumber+" 0 R");Gt.publish("putShadingPatternDict"),J(">>")}}(),function(ne){if(Object.keys(bt).length>0){for(var ve in J("/Pattern <<"),bt)bt.hasOwnProperty(ve)&&bt[ve]instanceof m.TilingPattern&&bt[ve].objectNumber>=0&&bt[ve].objectNumber<ne&&J("/"+ve+" "+bt[ve].objectNumber+" 0 R");Gt.publish("putTilingPatternDict"),J(">>")}}(D.objectOid),function(){if(Object.keys(lt).length>0){var ne;for(ne in J("/ExtGState <<"),lt)lt.hasOwnProperty(ne)&&lt[ne].objectNumber>=0&&J("/"+ne+" "+lt[ne].objectNumber+" 0 R");Gt.publish("putGStateDict"),J(">>")}}(),function(){for(var ne in J("/XObject <<"),Vr)Vr.hasOwnProperty(ne)&&Vr[ne].objectNumber>=0&&J("/"+ne+" "+Vr[ne].objectNumber+" 0 R");Gt.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},Ge=function(D){St[D.fontName]=St[D.fontName]||{},St[D.fontName][D.fontStyle]=D.id},at=function(D,ne,ve,Pe,Ue){var qe={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:D,fontName:ne,fontStyle:ve,encoding:Pe,isStandardFont:Ue||!1,metadata:{}};return Gt.publish("addFont",{font:qe,instance:this}),Et[qe.id]=qe,Ge(qe),qe.id},st=m.__private__.pdfEscape=m.pdfEscape=function(D,ne){return function(ve,Pe){var Ue,qe,ct,Rt,Vt,lr,mr,Ur,Hn;if(ct=(Pe=Pe||{}).sourceEncoding||"Unicode",Vt=Pe.outputEncoding,(Pe.autoencode||Vt)&&Et[Re].metadata&&Et[Re].metadata[ct]&&Et[Re].metadata[ct].encoding&&(Rt=Et[Re].metadata[ct].encoding,!Vt&&Et[Re].encoding&&(Vt=Et[Re].encoding),!Vt&&Rt.codePages&&(Vt=Rt.codePages[0]),typeof Vt=="string"&&(Vt=Rt[Vt]),Vt)){for(mr=!1,lr=[],Ue=0,qe=ve.length;Ue<qe;Ue++)(Ur=Vt[ve.charCodeAt(Ue)])?lr.push(String.fromCharCode(Ur)):lr.push(ve[Ue]),lr[Ue].charCodeAt(0)>>8&&(mr=!0);ve=lr.join("")}for(Ue=ve.length;mr===void 0&&Ue!==0;)ve.charCodeAt(Ue-1)>>8&&(mr=!0),Ue--;if(!mr)return ve;for(lr=Pe.noBOM?[]:[254,255],Ue=0,qe=ve.length;Ue<qe;Ue++){if((Hn=(Ur=ve.charCodeAt(Ue))>>8)>>8)throw new Error("Character at position "+Ue+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");lr.push(Hn),lr.push(Ur-(Hn<<8))}return String.fromCharCode.apply(void 0,lr)}(D,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},er=m.__private__.beginPage=function(D){Se[++Ke]=[],Ct[Ke]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Si(Ke),ue(Se[X])},hn=function(D,ne){var ve,Pe,Ue;switch(r=ne||r,typeof D=="string"&&(ve=y(D.toLowerCase()),Array.isArray(ve)&&(Pe=ve[0],Ue=ve[1])),Array.isArray(D)&&(Pe=D[0]*gt,Ue=D[1]*gt),isNaN(Pe)&&(Pe=i[0],Ue=i[1]),(Pe>14400||Ue>14400)&&(kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),Ue=Math.min(14400,Ue)),i=[Pe,Ue],r.substr(0,1)){case"l":Ue>Pe&&(i=[Ue,Pe]);break;case"p":Pe>Ue&&(i=[Ue,Pe])}er(i),_t(bd),J(Sc),yA!==0&&J(yA+" J"),Lu!==0&&J(Lu+" j"),Gt.publish("addPage",{pageNumber:Ke})},dr=function(D){D>0&&D<=Ke&&(Se.splice(D,1),Ct.splice(D,1),Ke--,X>Ke&&(X=Ke),this.setPage(X))},Si=function(D){D>0&&D<=Ke&&(X=D)},jc=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Se.length-1},Fo=function(D,ne,ve){var Pe,Ue=void 0;return ve=ve||{},D=D!==void 0?D:Et[Re].fontName,ne=ne!==void 0?ne:Et[Re].fontStyle,Pe=D.toLowerCase(),St[Pe]!==void 0&&St[Pe][ne]!==void 0?Ue=St[Pe][ne]:St[D]!==void 0&&St[D][ne]!==void 0?Ue=St[D][ne]:ve.disableWarning===!1&&kn.warn("Unable to look up font label for font '"+D+"', '"+ne+"'. Refer to getFontList() for available fonts."),Ue||ve.noFallback||(Ue=St.times[ne])==null&&(Ue=St.times.normal),Ue},yr=m.__private__.putInfo=function(){var D=br(),ne=function(Pe){return Pe};for(var ve in u!==null&&(ne=Jn.encryptor(D,0)),J("<<"),J("/Producer ("+st(ne("jsPDF "+Yt.version))+")"),pt)pt.hasOwnProperty(ve)&&pt[ve]&&J("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+st(ne(pt[ve]))+")");J("/CreationDate ("+st(ne($))+")"),J(">>"),J("endobj")},rn=m.__private__.putCatalog=function(D){var ne=(D=D||{}).rootDictionaryObjId||Vs;switch(br(),J("<<"),J("/Type /Catalog"),J("/Pages "+ne+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+He;ve.substr(ve.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&J("/OpenAction [3 0 R /XYZ null null "+B(He)+"]")}switch(Ne||(Ne="continuous"),Ne){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Be&&J("/PageMode /"+Be),Gt.publish("putCatalog"),J(">>"),J("endobj")},Pu=m.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ie+1)),J("/Root "+ie+" 0 R"),J("/Info "+(ie-1)+" 0 R"),u!==null&&J("/Encrypt "+Jn.oid+" 0 R"),J("/ID [ <"+K+"> <"+K+"> ]"),J(">>")},Sn=m.__private__.putHeader=function(){J("%PDF-"+x),J("%")},jl=m.__private__.putXRef=function(){var D="0000000000";J("xref"),J("0 "+(ie+1)),J("0000000000 65535 f ");for(var ne=1;ne<=ie;ne++)typeof ce[ne]=="function"?J((D+ce[ne]()).slice(-10)+" 00000 n "):ce[ne]!==void 0?J((D+ce[ne]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},La=m.__private__.buildDocument=function(){var D;ie=0,he=0,be=[],ce=[],ge=[],Vs=Bt(),as=Bt(),ue(be),Gt.publish("buildDocument"),Sn(),Pt(),function(){Gt.publish("putAdditionalObjects");for(var ve=0;ve<ge.length;ve++){var Pe=ge[ve];un(Pe.objId,!0),J(Pe.content),J("endobj")}Gt.publish("postPutAdditionalObjects")}(),D=[],function(){for(var ve in Et)Et.hasOwnProperty(ve)&&(A===!1||A===!0&&f.hasOwnProperty(ve))&&ft(Et[ve])}(),function(){var ve;for(ve in lt)lt.hasOwnProperty(ve)&&Zn(lt[ve])}(),function(){for(var ve in Vr)Vr.hasOwnProperty(ve)&&Ut(Vr[ve])}(),function(ve){var Pe;for(Pe in bt)bt.hasOwnProperty(Pe)&&(bt[Pe]instanceof WA?bn(bt[Pe]):bt[Pe]instanceof fp&&Fr(bt[Pe],ve))}(D),Gt.publish("putResources"),D.forEach(xe),xe({resourcesOid:as,objectOid:Number.MAX_SAFE_INTEGER}),Gt.publish("postPutResources"),u!==null&&(Jn.oid=br(),J("<<"),J("/Filter /Standard"),J("/V "+Jn.v),J("/R "+Jn.r),J("/U <"+Jn.toHexString(Jn.U)+">"),J("/O <"+Jn.toHexString(Jn.O)+">"),J("/P "+Jn.P),J(">>"),J("endobj")),yr(),rn();var ne=he;return jl(),Pu(),J("startxref"),J(""+ne),J("%%EOF"),ue(Se[X]),be.join(`
`)},ur=m.__private__.getBlob=function(D){return new Blob([ye(D)],{type:"application/pdf"})},Ln=m.output=m.__private__.output=(is=function(D,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",D){case void 0:return La();case"save":m.save(ne.filename);break;case"arraybuffer":return ye(La());case"blob":return ur(La());case"bloburi":case"bloburl":if(hr.URL!==void 0&&typeof hr.URL.createObjectURL=="function")return hr.URL&&hr.URL.createObjectURL(ur(La()))||void 0;kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Pe=La();try{ve=HD(Pe)}catch{ve=HD(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+ne.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(hr)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(Ue=ne.pdfObjectUrl,qe="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Rt=hr.open();return Rt!==null&&Rt.document.write(ct),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(hr)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',lr=hr.open();if(lr!==null){lr.document.write(Vt);var mr=this;lr.document.documentElement.querySelector("#pdfViewer").onload=function(){lr.document.title=ne.filename,lr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mr.output("bloburl"))}}return lr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(hr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',Hn=hr.open();if(Hn!==null&&(Hn.document.write(Ur),Hn.document.title=ne.filename),Hn||typeof safari>"u")return Hn;break;case"datauri":case"dataurl":return hr.document.location.href=this.output("datauristring",ne);default:return null}},is.foo=function(){try{return is.apply(this,arguments)}catch(ve){var D=ve.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var ne="Error in function "+D.split(`
`)[0].split("<")[0]+": "+ve.message;if(!hr.console)throw new Error(ne);hr.console.error(ne,ve),hr.alert&&alert(ne)}},is.foo.bar=is,is.foo),$i=function(D){return Array.isArray(Xn)===!0&&Xn.indexOf(D)>-1};switch(n){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=$i("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);gt=n}var Jn=null;Z(),z();var vs=m.__private__.getPageInfo=m.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[D].objId,pageNumber:D,pageContext:Ct[D]}},fm=m.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Ct)if(Ct[ne].objId===D)break;return vs(ne)},Iu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ct[X].objId,pageNumber:X,pageContext:Ct[X]}};m.addPage=function(){return hn.apply(this,arguments),this},m.setPage=function(){return Si.apply(this,arguments),ue.call(this,Se[X]),this},m.insertPage=function(D){return this.addPage(),this.movePage(X,D),this},m.movePage=function(D,ne){var ve,Pe;if(D>ne){ve=Se[D],Pe=Ct[D];for(var Ue=D;Ue>ne;Ue--)Se[Ue]=Se[Ue-1],Ct[Ue]=Ct[Ue-1];Se[ne]=ve,Ct[ne]=Pe,this.setPage(ne)}else if(D<ne){ve=Se[D],Pe=Ct[D];for(var qe=D;qe<ne;qe++)Se[qe]=Se[qe+1],Ct[qe]=Ct[qe+1];Se[ne]=ve,Ct[ne]=Pe,this.setPage(ne)}return this},m.deletePage=function(){return dr.apply(this,arguments),this},m.__private__.text=m.text=function(D,ne,ve,Pe,Ue){var qe,ct,Rt,Vt,lr,mr,Ur,Hn,bs,sn=(Pe=Pe||{}).scope||this;if(typeof D=="number"&&typeof ne=="number"&&(typeof ve=="string"||Array.isArray(ve))){var Ps=ve;ve=ne,ne=D,D=Ps}if(arguments[3]instanceof Ft==0?(Rt=arguments[4],Vt=arguments[5],gn(Ur=arguments[3])==="object"&&Ur!==null||(typeof Rt=="string"&&(Vt=Rt,Rt=null),typeof Ur=="string"&&(Vt=Ur,Ur=null),typeof Ur=="number"&&(Rt=Ur,Ur=null),Pe={flags:Ur,angle:Rt,align:Vt})):(I("The transform parameter of text() with a Matrix value"),bs=Ue),isNaN(ne)||isNaN(ve)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return sn;var cs,zs="",Ua=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:Cc,ii=sn.internal.scaleFactor;function Il(Gr){return Gr=Gr.split("	").join(Array(Pe.TabLen||9).join(" ")),st(Gr,Ur)}function Tl(Gr){for(var an,us=Gr.concat(),js=[],Dl=us.length;Dl--;)typeof(an=us.shift())=="string"?js.push(an):Array.isArray(Gr)&&(an.length===1||an[1]===void 0&&an[2]===void 0)?js.push(an[0]):js.push([an[0],an[1],an[2]]);return js}function ai(Gr,an){var us;if(typeof Gr=="string")us=an(Gr)[0];else if(Array.isArray(Gr)){for(var js,Dl,zi=Gr.concat(),Ml=[],ym=zi.length;ym--;)typeof(js=zi.shift())=="string"?Ml.push(an(js)[0]):Array.isArray(js)&&typeof js[0]=="string"&&(Dl=an(js[0],js[1],js[2]),Ml.push([Dl[0],Dl[1],Dl[2]]));us=Ml}return us}var Ol=!1,Bc=!0;if(typeof D=="string")Ol=!0;else if(Array.isArray(D)){var jd=D.concat();ct=[];for(var Mo,Is=jd.length;Is--;)(typeof(Mo=jd.shift())!="string"||Array.isArray(Mo)&&typeof Mo[0]!="string")&&(Bc=!1);Ol=Bc}if(Ol===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Nd=ke/sn.internal.scaleFactor,_d=Nd*(Ua-1);switch(Pe.baseline){case"bottom":ve-=_d;break;case"top":ve+=Nd-_d;break;case"hanging":ve+=Nd-2*_d;break;case"middle":ve+=Nd/2-_d}if((mr=Pe.maxWidth||0)>0&&(typeof D=="string"?D=sn.splitTextToSize(D,mr):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Gr,an){return Gr.concat(sn.splitTextToSize(an,mr))},[]))),qe={text:D,x:ne,y:ve,options:Pe,mutex:{pdfEscape:st,activeFontKey:Re,fonts:Et,activeFontSize:ke}},Gt.publish("preProcessText",qe),D=qe.text,Rt=(Pe=qe.options).angle,bs instanceof Ft==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Pe.rotationDirection===0&&(Rt=-Rt),_===w&&(Rt=-Rt);var Ru=Math.cos(Rt),jA=Math.sin(Rt);bs=new Ft(Ru,jA,-jA,Ru,0,0)}else Rt&&Rt instanceof Ft&&(bs=Rt);_!==w||bs||(bs=ys),(lr=Pe.charSpace||Do)!==void 0&&(zs+=E(R(lr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hn=Pe.horizontalScale)!==void 0&&(zs+=E(100*Hn)+` Tz
`),Pe.lang;var Bn=-1,Hi=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,Du=sn.internal.getCurrentPageInfo().pageContext;switch(Hi){case 0:case!1:case"fill":Bn=0;break;case 1:case!0:case"stroke":Bn=1;break;case 2:case"fillThenStroke":Bn=2;break;case 3:case"invisible":Bn=3;break;case 4:case"fillAndAddForClipping":Bn=4;break;case 5:case"strokeAndAddPathForClipping":Bn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Bn=6;break;case 7:case"addToPathForClipping":Bn=7}var Ra=Du.usedRenderingMode!==void 0?Du.usedRenderingMode:-1;Bn!==-1?zs+=Bn+` Tr
`:Ra!==-1&&(zs+=`0 Tr
`),Bn!==-1&&(Du.usedRenderingMode=Bn),Vt=Pe.align||"left";var Da,Ma=ke*Ua,NA=sn.internal.pageSize.getWidth(),Ll=Et[Re];lr=Pe.charSpace||Do,mr=Pe.maxWidth||0,Ur=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var Fl=[],Qo=function(Gr){return sn.getStringUnitWidth(Gr,{font:Ll,charSpace:lr,fontSize:ke,doKerning:!1})*ke/ii};if(Object.prototype.toString.call(D)==="[object Array]"){var Aa;ct=Tl(D),Vt!=="left"&&(Da=ct.map(Qo));var ws,oo=0;if(Vt==="right"){ne-=Da[0],D=[],Is=ct.length;for(var Ul=0;Ul<Is;Ul++)Ul===0?(ws=so(ne),Aa=io(ve)):(ws=R(oo-Da[Ul]),Aa=-Ma),D.push([ct[Ul],ws,Aa]),oo=Da[Ul]}else if(Vt==="center"){ne-=Da[0]/2,D=[],Is=ct.length;for(var $o=0;$o<Is;$o++)$o===0?(ws=so(ne),Aa=io(ve)):(ws=R((oo-Da[$o])/2),Aa=-Ma),D.push([ct[$o],ws,Aa]),oo=Da[$o]}else if(Vt==="left"){D=[],Is=ct.length;for(var _A=0;_A<Is;_A++)D.push(ct[_A])}else if(Vt==="justify"&&Ll.encoding==="Identity-H"){D=[],Is=ct.length,mr=mr!==0?mr:NA;for(var Vi=0,ds=0;ds<Is;ds++)if(Aa=ds===0?io(ve):-Ma,ws=ds===0?so(ne):Vi,ds<Is-1){var Rl=R((mr-Da[ds])/(ct[ds].split(" ").length-1)),Ho=ct[ds].split(" ");D.push([Ho[0]+" ",ws,Aa]),Vi=0;for(var Ks=1;Ks<Ho.length;Ks++){var Ec=(Qo(Ho[Ks-1]+" "+Ho[Ks])-Qo(Ho[Ks]))*ii+Rl;Ks==Ho.length-1?D.push([Ho[Ks],Ec,0]):D.push([Ho[Ks]+" ",Ec,0]),Vi-=Ec}}else D.push([ct[ds],ws,Aa]);D.push(["",Vi,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Is=ct.length,mr=mr!==0?mr:NA,ds=0;ds<Is;ds++){Aa=ds===0?io(ve):-Ma,ws=ds===0?so(ne):0;var Mu=ct[ds].split(" ").length-1,Cd=Mu>0?(mr-Da[ds])/Mu:0;ds<Is-1?Fl.push(E(R(Cd))):Fl.push(0),D.push([ct[ds],ws,Aa])}}}(typeof Pe.R2L=="boolean"?Pe.R2L:me)===!0&&(D=ai(D,function(Gr,an,us){return[Gr.split("").reverse().join(""),an,us]})),qe={text:D,x:ne,y:ve,options:Pe,mutex:{pdfEscape:st,activeFontKey:Re,fonts:Et,activeFontSize:ke}},Gt.publish("postProcessText",qe),D=qe.text,cs=qe.mutex.isHex||!1;var kc=Et[Re].encoding;kc!=="WinAnsiEncoding"&&kc!=="StandardEncoding"||(D=ai(D,function(Gr,an,us){return[Il(Gr),an,us]})),ct=Tl(D),D=[];for(var Vo,lo,fa,zo=Array.isArray(ct[0])?1:0,Ko="",Pc=function(Gr,an,us){var js="";return us instanceof Ft?(us=typeof Pe.angle=="number"?xs(us,new Ft(1,0,0,1,Gr,an)):xs(new Ft(1,0,0,1,Gr,an),us),_===w&&(us=xs(new Ft(1,0,0,-1,0,0),us)),js=us.join(" ")+` Tm
`):js=E(Gr)+" "+E(an)+` Td
`,js},Qa=0;Qa<ct.length;Qa++){switch(Ko="",zo){case 1:fa=(cs?"<":"(")+ct[Qa][0]+(cs?">":")"),Vo=parseFloat(ct[Qa][1]),lo=parseFloat(ct[Qa][2]);break;case 0:fa=(cs?"<":"(")+ct[Qa]+(cs?">":")"),Vo=so(ne),lo=io(ve)}Fl!==void 0&&Fl[Qa]!==void 0&&(Ko=Fl[Qa]+` Tw
`),Qa===0?D.push(Ko+Pc(Vo,lo,bs)+fa):zo===0?D.push(Ko+fa):zo===1&&D.push(Ko+Pc(Vo,lo,bs)+fa)}D=zo===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var ma=`BT
/`;return ma+=Re+" "+ke+` Tf
`,ma+=E(ke*Ua)+` TL
`,ma+=$n+`
`,ma+=zs,ma+=D,J(ma+="ET"),f[Re]=!0,sn};var Nl=m.__private__.clip=m.clip=function(D){return J(D==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Nl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return J("n"),this};var Xr=m.__private__.isValidStyle=function(D){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(ne=!0),ne};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(D){return Xr(D)&&(d=D),this};var Uo=m.__private__.getStyle=m.getStyle=function(D){var ne=d;switch(D){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=D}return ne},Nc=m.close=function(){return J("h"),this};m.stroke=function(){return J("S"),this},m.fill=function(D){return Ro("f",D),this},m.fillEvenOdd=function(D){return Ro("f*",D),this},m.fillStroke=function(D){return Ro("B",D),this},m.fillStrokeEvenOdd=function(D){return Ro("B*",D),this};var Ro=function(D,ne){gn(ne)==="object"?pA(ne,D):J(D)},_l=function(D){D===null||_===w&&D===void 0||(D=Uo(D),J(D))};function vd(D,ne,ve,Pe,Ue){var qe=new fp(ne||this.boundingBox,ve||this.xStep,Pe||this.yStep,this.gState,Ue||this.matrix);qe.stream=this.stream;var ct=D+"$$"+this.cloneIndex+++"$$";return On(ct,qe),qe}var pA=function(D,ne){var ve=ht[D.key],Pe=bt[ve];if(Pe instanceof WA)J("q"),J(gA(ne)),Pe.gState&&m.setGState(Pe.gState),J(D.matrix.toString()+" cm"),J("/"+ve+" sh"),J("Q");else if(Pe instanceof fp){var Ue=new Ft(1,0,0,-1,0,wd());D.matrix&&(Ue=Ue.multiply(D.matrix||ys),ve=vd.call(Pe,D.key,D.boundingBox,D.xStep,D.yStep,Ue).id),J("q"),J("/Pattern cs"),J("/"+ve+" scn"),Pe.gState&&m.setGState(Pe.gState),J(ne),J("Q")}},gA=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_c=m.moveTo=function(D,ne){return J(E(R(D))+" "+E(U(ne))+" m"),this},Tu=m.lineTo=function(D,ne){return J(E(R(D))+" "+E(U(ne))+" l"),this},ha=m.curveTo=function(D,ne,ve,Pe,Ue,qe){return J([E(R(D)),E(U(ne)),E(R(ve)),E(U(Pe)),E(R(Ue)),E(U(qe)),"c"].join(" ")),this};m.__private__.line=m.line=function(D,ne,ve,Pe,Ue){if(isNaN(D)||isNaN(ne)||isNaN(ve)||isNaN(Pe)||!Xr(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return _===b?this.lines([[ve-D,Pe-ne]],D,ne,[1,1],Ue||"S"):this.lines([[ve-D,Pe-ne]],D,ne,[1,1]).stroke()},m.__private__.lines=m.lines=function(D,ne,ve,Pe,Ue,qe){var ct,Rt,Vt,lr,mr,Ur,Hn,bs,sn,Ps,cs,zs;if(typeof D=="number"&&(zs=ve,ve=ne,ne=D,D=zs),Pe=Pe||[1,1],qe=qe||!1,isNaN(ne)||isNaN(ve)||!Array.isArray(D)||!Array.isArray(Pe)||!Xr(Ue)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_c(ne,ve),ct=Pe[0],Rt=Pe[1],lr=D.length,Ps=ne,cs=ve,Vt=0;Vt<lr;Vt++)(mr=D[Vt]).length===2?(Ps=mr[0]*ct+Ps,cs=mr[1]*Rt+cs,Tu(Ps,cs)):(Ur=mr[0]*ct+Ps,Hn=mr[1]*Rt+cs,bs=mr[2]*ct+Ps,sn=mr[3]*Rt+cs,Ps=mr[4]*ct+Ps,cs=mr[5]*Rt+cs,ha(Ur,Hn,bs,sn,Ps,cs));return qe&&Nc(),_l(Ue),this},m.path=function(D){for(var ne=0;ne<D.length;ne++){var ve=D[ne],Pe=ve.c;switch(ve.op){case"m":_c(Pe[0],Pe[1]);break;case"l":Tu(Pe[0],Pe[1]);break;case"c":ha.apply(this,Pe);break;case"h":Nc()}}return this},m.__private__.rect=m.rect=function(D,ne,ve,Pe,Ue){if(isNaN(D)||isNaN(ne)||isNaN(ve)||isNaN(Pe)||!Xr(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return _===b&&(Pe=-Pe),J([E(R(D)),E(U(ne)),E(R(ve)),E(R(Pe)),"re"].join(" ")),_l(Ue),this},m.__private__.triangle=m.triangle=function(D,ne,ve,Pe,Ue,qe,ct){if(isNaN(D)||isNaN(ne)||isNaN(ve)||isNaN(Pe)||isNaN(Ue)||isNaN(qe)||!Xr(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-D,Pe-ne],[Ue-ve,qe-Pe],[D-Ue,ne-qe]],D,ne,[1,1],ct,!0),this},m.__private__.roundedRect=m.roundedRect=function(D,ne,ve,Pe,Ue,qe,ct){if(isNaN(D)||isNaN(ne)||isNaN(ve)||isNaN(Pe)||isNaN(Ue)||isNaN(qe)||!Xr(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*ve),qe=Math.min(qe,.5*Pe),this.lines([[ve-2*Ue,0],[Ue*Rt,0,Ue,qe-qe*Rt,Ue,qe],[0,Pe-2*qe],[0,qe*Rt,-Ue*Rt,qe,-Ue,qe],[2*Ue-ve,0],[-Ue*Rt,0,-Ue,-qe*Rt,-Ue,-qe],[0,2*qe-Pe],[0,-qe*Rt,Ue*Rt,-qe,Ue,-qe]],D+Ue,ne,[1,1],ct,!0),this},m.__private__.ellipse=m.ellipse=function(D,ne,ve,Pe,Ue){if(isNaN(D)||isNaN(ne)||isNaN(ve)||isNaN(Pe)||!Xr(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*ve,ct=4/3*(Math.SQRT2-1)*Pe;return _c(D+ve,ne),ha(D+ve,ne-ct,D+qe,ne-Pe,D,ne-Pe),ha(D-qe,ne-Pe,D-ve,ne-ct,D-ve,ne),ha(D-ve,ne+ct,D-qe,ne+Pe,D,ne+Pe),ha(D+qe,ne+Pe,D+ve,ne+ct,D+ve,ne),_l(Ue),this},m.__private__.circle=m.circle=function(D,ne,ve,Pe){if(isNaN(D)||isNaN(ne)||isNaN(ve)||!Xr(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,ne,ve,ve,Pe)},m.setFont=function(D,ne,ve){return ve&&(ne=P(ne,ve)),Re=Fo(D,ne,{disableWarning:!1}),this};var Ou=m.__private__.getFont=m.getFont=function(){return Et[Fo.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var D,ne,ve={};for(D in St)if(St.hasOwnProperty(D))for(ne in ve[D]=[],St[D])St[D].hasOwnProperty(ne)&&ve[D].push(ne);return ve},m.addFont=function(D,ne,ve,Pe,Ue){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(ve=P(ve,Pe)),at.call(this,D,ne,ve,Ue=Ue||"Identity-H")};var Cc,bd=e.lineWidth||.200025,u0=m.__private__.getLineWidth=m.getLineWidth=function(){return bd},_t=m.__private__.setLineWidth=m.setLineWidth=function(D){return bd=D,J(E(R(D))+" w"),this};m.__private__.setLineDash=Yt.API.setLineDash=Yt.API.setLineDashPattern=function(D,ne){if(D=D||[],ne=ne||0,isNaN(ne)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(ve){return E(R(ve))}).join(" "),ne=E(R(ne)),J("["+D+"] "+ne+" d"),this};var Fa=m.__private__.getLineHeight=m.getLineHeight=function(){return ke*Cc};m.__private__.getLineHeight=m.getLineHeight=function(){return ke*Cc};var nn=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Cc=D),this},mm=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Cc};nn(e.lineHeight);var so=m.__private__.getHorizontalCoordinate=function(D){return R(D)},io=m.__private__.getVerticalCoordinate=function(D){return _===w?D:Ct[X].mediaBox.topRightY-Ct[X].mediaBox.bottomLeftY-R(D)},xA=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(D){return E(so(D))},Cl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(D){return E(io(D))},Sc=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return os(Sc)},m.__private__.setStrokeColor=m.setDrawColor=function(D,ne,ve,Pe){return Sc=ls({ch1:D,ch2:ne,ch3:ve,ch4:Pe,pdfColorType:"draw",precision:2}),J(Sc),this};var Sl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return os(Sl)},m.__private__.setFillColor=m.setFillColor=function(D,ne,ve,Pe){return Sl=ls({ch1:D,ch2:ne,ch3:ve,ch4:Pe,pdfColorType:"fill",precision:2}),J(Sl),this};var $n=e.textColor||"0 g",Bl=m.__private__.getTextColor=m.getTextColor=function(){return os($n)};m.__private__.setTextColor=m.setTextColor=function(D,ne,ve,Pe){return $n=ls({ch1:D,ch2:ne,ch3:ve,ch4:Pe,pdfColorType:"text",precision:3}),this};var Do=e.charSpace,pm=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Do||0)};m.__private__.setCharSpace=m.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Do=D,this};var yA=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(D){var ne=m.CapJoinStyles[D];if(ne===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yA=ne,J(ne+" J"),this};var Lu=0;m.__private__.setLineJoin=m.setLineJoin=function(D){var ne=m.CapJoinStyles[D];if(ne===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lu=ne,J(ne+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(E(R(D))+" M"),this},m.GState=V2,m.setGState=function(D){(D=typeof D=="string"?lt[ut[D]]:Fu(null,D)).equals(nt)||(J("/"+D.id+" gs"),nt=D)};var Fu=function(D,ne){if(!D||!ut[D]){var ve=!1;for(var Pe in lt)if(lt.hasOwnProperty(Pe)&&lt[Pe].equals(ne)){ve=!0;break}if(ve)ne=lt[Pe];else{var Ue="GS"+(Object.keys(lt).length+1).toString(10);lt[Ue]=ne,ne.id=Ue}return D&&(ut[D]=ne.id),Gt.publish("addGState",ne),ne}};m.addGState=function(D,ne){return Fu(D,ne),this},m.saveGraphicsState=function(){return J("q"),$t.push({key:Re,size:ke,color:$n}),this},m.restoreGraphicsState=function(){J("Q");var D=$t.pop();return Re=D.key,ke=D.size,$n=D.color,nt=null,this},m.setCurrentTransformationMatrix=function(D){return J(D.toString()+" cm"),this},m.comment=function(D){return J("#"+D),this};var El=function(D,ne){var ve=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(qe){isNaN(qe)||(ve=parseFloat(qe))}});var Pe=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(qe){isNaN(qe)||(Pe=parseFloat(qe))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(qe){Ue=qe.toString()}}),this},Uu=function(D,ne,ve,Pe){El.call(this,D,ne),this.type="rect";var Ue=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(ct){isNaN(ct)||(Ue=parseFloat(ct))}});var qe=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(ct){isNaN(ct)||(qe=parseFloat(ct))}}),this},Nr=function(){this.page=Ke,this.currentPage=X,this.pages=Se.slice(0),this.pagesContext=Ct.slice(0),this.x=rt,this.y=ot,this.matrix=xt,this.width=kl(X),this.height=gm(X),this.outputDestination=_e,this.id="",this.objectNumber=-1};Nr.prototype.restore=function(){Ke=this.page,X=this.currentPage,Ct=this.pagesContext,Se=this.pages,rt=this.x,ot=this.y,xt=this.matrix,bA(X,this.width),ao(X,this.height),_e=this.outputDestination};var vA=function(D,ne,ve,Pe,Ue){gr.push(new Nr),Ke=X=0,Se=[],rt=D,ot=ne,xt=Ue,er([ve,Pe])};for(var si in m.beginFormObject=function(D,ne,ve,Pe,Ue){return vA(D,ne,ve,Pe,Ue),this},m.endFormObject=function(D){return function(ne){if(tn[ne])gr.pop().restore();else{var ve=new Nr,Pe="Xo"+(Object.keys(Vr).length+1).toString(10);ve.id=Pe,tn[ne]=Pe,Vr[Pe]=ve,Gt.publish("addFormObject",ve),gr.pop().restore()}}(D),this},m.doFormObject=function(D,ne){var ve=Vr[tn[D]];return J("q"),J(ne.toString()+" cm"),J("/"+ve.id+" Do"),J("Q"),this},m.getFormObject=function(D){var ne=Vr[tn[D]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},m.save=function(D,ne){return D=D||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(QA(ur(La()),D),typeof QA.unload=="function"&&hr.setTimeout&&setTimeout(QA.unload,911),this):new Promise(function(ve,Pe){try{var Ue=QA(ur(La()),D);typeof QA.unload=="function"&&hr.setTimeout&&setTimeout(QA.unload,911),ve(Ue)}catch(qe){Pe(qe.message)}})},Yt.API)Yt.API.hasOwnProperty(si)&&(si==="events"&&Yt.API.events.length?function(D,ne){var ve,Pe,Ue;for(Ue=ne.length-1;Ue!==-1;Ue--)ve=ne[Ue][0],Pe=ne[Ue][1],D.subscribe.apply(D,[ve].concat(typeof Pe=="function"?[Pe]:Pe))}(Gt,Yt.API.events):m[si]=Yt.API[si]);function kl(D){return Ct[D].mediaBox.topRightX-Ct[D].mediaBox.bottomLeftX}function bA(D,ne){Ct[D].mediaBox.topRightX=ne+Ct[D].mediaBox.bottomLeftX}function gm(D){return Ct[D].mediaBox.topRightY-Ct[D].mediaBox.bottomLeftY}function ao(D,ne){Ct[D].mediaBox.topRightY=ne+Ct[D].mediaBox.bottomLeftY}var Pl=m.getPageWidth=function(D){return kl(D=D||X)/gt},wA=m.setPageWidth=function(D,ne){bA(D,ne*gt)},wd=m.getPageHeight=function(D){return gm(D=D||X)/gt},xm=m.setPageHeight=function(D,ne){ao(D,ne*gt)};return m.internal={pdfEscape:st,getStyle:Uo,getFont:Ou,getFontSize:We,getCharSpace:pm,getTextColor:Bl,getLineHeight:Fa,getLineHeightFactor:mm,getLineWidth:u0,write:fe,getHorizontalCoordinate:so,getVerticalCoordinate:io,getCoordinateString:xA,getVerticalCoordinateString:Cl,collections:{},newObject:br,newAdditionalObject:ni,newObjectDeferred:Bt,newObjectDeferredBegin:un,getFilters:Cn,putStream:et,events:Gt,scaleFactor:gt,pageSize:{getWidth:function(){return Pl(X)},setWidth:function(D){wA(X,D)},getHeight:function(){return wd(X)},setHeight:function(D){xm(X,D)}},encryptionOptions:u,encryption:Jn,getEncryptor:function(D){return u!==null?Jn.encryptor(D,0):function(ne){return ne}},output:Ln,getNumberOfPages:jc,get pages(){return Se},out:J,f2:B,f3:O,getPageInfo:vs,getPageInfoByObjId:fm,getCurrentPageInfo:Iu,getPDFVersion:g,Point:El,Rectangle:Uu,Matrix:Ft,hasHotfix:$i},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Pl(X)},set:function(D){wA(X,D)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return wd(X)},set:function(D){xm(X,D)},enumerable:!0,configurable:!0}),(function(D){for(var ne=0,ve=Ie.length;ne<ve;ne++){var Pe=at.call(this,D[ne][0],D[ne][1],D[ne][2],Ie[ne][3],!0);A===!1&&(f[Pe]=!0);var Ue=D[ne][0].split("-");Ge({id:Pe,fontName:Ue[0],fontStyle:Ue[1]||""})}Gt.publish("addFonts",{fonts:Et,dictionary:St})}).call(m,Ie),Re="F1",hn(i,r),Gt.publish("initialized"),m}Gm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Gm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Gm.prototype.processOwnerPassword=function(e,t){return BE(SE(t).substr(0,5),e)},Gm.prototype.encryptor=function(e,t){var r=SE(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return BE(r,n)}},V2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||gn(e)!==gn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Yt.API={events:[]},Yt.version="3.0.4";var Cs=Yt.API,rI=1,lm=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dm=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xr=function(e){return e.toFixed(2)},eh=function(e){return e.toFixed(5)};Cs.__acroform__={};var ro=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},WD=function(e){return e*rI},Rc=function(e){var t=new JY,r=Ht.internal.getHeight(e)||0,n=Ht.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xr(n)),Number(xr(r))],t},NSe=Cs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},_Se=Cs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},CSe=Cs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ms=Cs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return CSe(e,t-1)},Qs=Cs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NSe(e,t-1)},$s=Cs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _Se(e,t-1)},SSe=Cs.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(xr(c.lowerLeft_X)),Number(xr(c.lowerLeft_Y)),Number(xr(c.upperRight_X)),Number(xr(c.upperRight_Y))]},BSe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=EE(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+xr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Rc(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},EE=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(B){return B.split(`
`)}):i.map(function(B){return[B]});var a=r,o=Ht.internal.getHeight(e)||0;o=o<0?-o:o;var l=Ht.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(B,O,R){if(B+1<i.length){var U=O+" "+i[B+1][0];return Bw(U,e,R).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var d,u,A=Bw("3",e,a).height,f=e.multiline?o-a:(o-A)/2,m=f+=2,x=0,g=0,v=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Bw(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var y="",b=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var _=!1;if(i[w].length!==1&&v!==i[w].length-1){if((A+2)*(b+2)+2>o)continue e;y+=i[w][v],_=!0,g=w,w--}else{y=(y+=i[w][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(w),C=c(N,y,a),P=w>=i.length-1;if(C&&!P){y+=" ",v=0;continue}if(C||P){if(P)g=N;else if(e.multiline&&(A+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(A+2)*(b+2)+2>o)continue e;g=N}}for(var E="",I=x;I<=g;I++){var F=i[I];if(e.multiline){if(I===g){E+=F[v]+" ",v=(v+1)%F.length;continue}if(I===x){E+=F[F.length-1]+" ";continue}}E+=F[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,u=Bw(E,e,a).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=xr(d)+" "+xr(m)+` Td
`,t+="("+lm(E)+`) Tj
`,t+=-xr(d)+` 0 Td
`,m=-(a+2),u=0,x=_?g:g+1,b++,y=""}break}return n.text=t,n.fontSize=a,n},Bw=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},ESe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kSe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},PSe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(vc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ESe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");rI=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new eX,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&kSe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=SSe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ht.createDefaultAppearanceStream(l),gn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=BSe(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var A="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var m=l.appearanceStreamContent[f];if(A+="/"+f+" ",A+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(i,l)),A+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,l)),A+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);A+=">>"}c.push({key:"AP",value:`<<
`+A+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&function(g,v){for(var y in g)if(g.hasOwnProperty(y)){var b=y,w=g[y];v.internal.newObjectDeferredBegin(w.objId,!0),gn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[b]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},ZY=Cs.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),gn(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+lm(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_S=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+lm(n(e))+")"},$c=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$c.prototype.toString=function(){return this.objId+" 0 R"},$c.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},$c.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:ZY(i,this.objId,this.scope)}):i instanceof $c?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var JY=function(){$c.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ro(JY,$c);var eX=function(){$c.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+lm(r(e))+")"}},set:function(r){e=r}})};ro(eX,$c);var vc=function e(){$c.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ms(t,3)},set:function(y){y?this.F=Qs(t,3):this.F=$s(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof z2)return;a="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+lm(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/rI:d},set:function(y){d=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof z2||this instanceof bf))return _S(A,this.objId,this.scope)},set:function(y){y=y.toString(),A=y}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ji==0?_S(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof ji==0?y.substr(0,1)==="("?Dm(y.substr(1,y.length-2)):Dm(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?Dm(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof ji==1?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ji==0?_S(m,this.objId,this.scope):m},set:function(y){y=y.toString(),m=this instanceof ji==0?y.substr(0,1)==="("?Dm(y.substr(1,y.length-2)):Dm(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?Dm(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof ji==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(y){x=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,1)},set:function(y){y?this.Ff=Qs(this.Ff,1):this.Ff=$s(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,2)},set:function(y){y?this.Ff=Qs(this.Ff,2):this.Ff=$s(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,3)},set:function(y){y?this.Ff=Qs(this.Ff,3):this.Ff=$s(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};ro(vc,$c);var Up=function(){vc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ZY(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,d=[];c=o.exec(a);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,18)},set:function(r){r?this.Ff=Qs(this.Ff,18):this.Ff=$s(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qs(this.Ff,19):this.Ff=$s(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,20)},set:function(r){r?(this.Ff=Qs(this.Ff,20),t.sort()):this.Ff=$s(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,22)},set:function(r){r?this.Ff=Qs(this.Ff,22):this.Ff=$s(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,23)},set:function(r){r?this.Ff=Qs(this.Ff,23):this.Ff=$s(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,27)},set:function(r){r?this.Ff=Qs(this.Ff,27):this.Ff=$s(this.Ff,27)}}),this.hasAppearanceStream=!1};ro(Up,vc);var Rp=function(){Up.call(this),this.fontName="helvetica",this.combo=!1};ro(Rp,Up);var Dp=function(){Rp.call(this),this.combo=!0};ro(Dp,Rp);var P1=function(){Dp.call(this),this.edit=!0};ro(P1,Dp);var ji=function(){vc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,15)},set:function(r){r?this.Ff=Qs(this.Ff,15):this.Ff=$s(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,16)},set:function(r){r?this.Ff=Qs(this.Ff,16):this.Ff=$s(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,17)},set:function(r){r?this.Ff=Qs(this.Ff,17):this.Ff=$s(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,26)},set:function(r){r?this.Ff=Qs(this.Ff,26):this.Ff=$s(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+lm(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){gn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ro(ji,vc);var I1=function(){ji.call(this),this.pushButton=!0};ro(I1,ji);var Mp=function(){ji.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ro(Mp,ji);var z2=function(){var e,t;vc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+lm(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){gn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ro(z2,vc),Mp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Mp.prototype.createOption=function(e){var t=new z2;return t.Parent=this,t.optionName=e,this.Kids.push(t),ISe.call(this.scope,t),t};var T1=function(){ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ht.CheckBox.createAppearanceStream()};ro(T1,ji);var bf=function(){vc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,13)},set:function(t){t?this.Ff=Qs(this.Ff,13):this.Ff=$s(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,21)},set:function(t){t?this.Ff=Qs(this.Ff,21):this.Ff=$s(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,23)},set:function(t){t?this.Ff=Qs(this.Ff,23):this.Ff=$s(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,24)},set:function(t){t?this.Ff=Qs(this.Ff,24):this.Ff=$s(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,25)},set:function(t){t?this.Ff=Qs(this.Ff,25):this.Ff=$s(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,26)},set:function(t){t?this.Ff=Qs(this.Ff,26):this.Ff=$s(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ro(bf,vc);var O1=function(){bf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,14)},set:function(e){e?this.Ff=Qs(this.Ff,14):this.Ff=$s(this.Ff,14)}}),this.password=!0};ro(O1,bf);var Ht={CheckBox:{createAppearanceStream:function(){return{N:{On:Ht.CheckBox.YesNormal},D:{On:Ht.CheckBox.YesPushDown,Off:Ht.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Rc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=EE(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+xr(Ht.internal.getWidth(e))+" "+xr(Ht.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+xr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Rc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Ht.internal.getHeight(e),o=Ht.internal.getWidth(e),l=EE(e,e.caption);return i.push("1 g"),i.push("0 0 "+xr(o)+" "+xr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xr(o-1)+" "+xr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+xr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Rc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Ht.internal.getWidth(e))+" "+xr(Ht.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ht.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ht.RadioButton.Circle.YesNormal,t.D[e]=Ht.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Rc(e);t.scope=e.scope;var r=[],n=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Ht.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+eh(Ht.internal.getWidth(e)/2)+" "+eh(Ht.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Rc(e);t.scope=e.scope;var r=[],n=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ht.internal.Bezier_C).toFixed(5)),o=Number((n*Ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+eh(Ht.internal.getWidth(e)/2)+" "+eh(Ht.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+eh(Ht.internal.getWidth(e)/2)+" "+eh(Ht.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Rc(e);t.scope=e.scope;var r=[],n=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+eh(Ht.internal.getWidth(e)/2)+" "+eh(Ht.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ht.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ht.RadioButton.Cross.YesNormal,t.D[e]=Ht.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Rc(e);t.scope=e.scope;var r=[],n=Ht.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+xr(Ht.internal.getWidth(e)-2)+" "+xr(Ht.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(xr(n.x1.x)+" "+xr(n.x1.y)+" m"),r.push(xr(n.x2.x)+" "+xr(n.x2.y)+" l"),r.push(xr(n.x4.x)+" "+xr(n.x4.y)+" m"),r.push(xr(n.x3.x)+" "+xr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Rc(e);t.scope=e.scope;var r=Ht.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+xr(Ht.internal.getWidth(e))+" "+xr(Ht.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+xr(Ht.internal.getWidth(e)-2)+" "+xr(Ht.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(xr(r.x1.x)+" "+xr(r.x1.y)+" m"),n.push(xr(r.x2.x)+" "+xr(r.x2.y)+" l"),n.push(xr(r.x4.x)+" "+xr(r.x4.y)+" m"),n.push(xr(r.x3.x)+" "+xr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Rc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Ht.internal.getWidth(e))+" "+xr(Ht.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ht.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ht.internal.getWidth(e),r=Ht.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ht.internal.getWidth=function(e){var t=0;return gn(e)==="object"&&(t=WD(e.Rect[2])),t},Ht.internal.getHeight=function(e){var t=0;return gn(e)==="object"&&(t=WD(e.Rect[3])),t};var ISe=Cs.addField=function(e){if(PSe(this,e),!(e instanceof vc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Cs.AcroFormChoiceField=Up,Cs.AcroFormListBox=Rp,Cs.AcroFormComboBox=Dp,Cs.AcroFormEditBox=P1,Cs.AcroFormButton=ji,Cs.AcroFormPushButton=I1,Cs.AcroFormRadioButton=Mp,Cs.AcroFormCheckBox=T1,Cs.AcroFormTextField=bf,Cs.AcroFormPasswordField=O1,Cs.AcroFormAppearance=Ht,Cs.AcroForm={ChoiceField:Up,ListBox:Rp,ComboBox:Dp,EditBox:P1,Button:ji,PushButton:I1,RadioButton:Mp,CheckBox:T1,TextField:bf,PasswordField:O1,Appearance:Ht},Yt.AcroForm={ChoiceField:Up,ListBox:Rp,ComboBox:Dp,EditBox:P1,Button:ji,PushButton:I1,RadioButton:Mp,CheckBox:T1,TextField:bf,PasswordField:O1,Appearance:Ht};Yt.AcroForm;function tX(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(B,O){var R,U,$,K,H,z=r;if((O=O||r)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(C(B))for(H in n)for($=n[H],R=0;R<$.length;R+=1){for(K=!0,U=0;U<$[R].length;U+=1)if($[R][U]!==void 0&&$[R][U]!==B[U]){K=!1;break}if(K===!0){z=H;break}}else for(H in n)for($=n[H],R=0;R<$.length;R+=1){for(K=!0,U=0;U<$[R].length;U+=1)if($[R][U]!==void 0&&$[R][U]!==B.charCodeAt(U)){K=!1;break}if(K===!0){z=H;break}}return z===r&&O!==r&&(z=O),z},a=function B(O){for(var R=this.internal.write,U=this.internal.putStream,$=(0,this.internal.getFilters)();$.indexOf("FlateEncode")!==-1;)$.splice($.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:O.width}),K.push({key:"Height",value:O.height}),O.colorSpace===y.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===y.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var H="",z=0,te=O.transparency.length;z<te;z++)H+=O.transparency[z]+" "+O.transparency[z]+" ";K.push({key:"Mask",value:"["+H+"]"})}O.sMask!==void 0&&K.push({key:"SMask",value:O.objectId+1+" 0 R"});var ee=O.filter!==void 0?["/"+O.filter]:void 0;if(U({data:O.data,additionalKeyValues:K,alreadyAppliedFilters:ee,objectId:O.objectId}),R("endobj"),"sMask"in O&&O.sMask!==void 0){var Z,V=(Z=O.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:O.bitsPerComponent,X={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:O.sMask};"filter"in O&&(X.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(O.width),X.filter=O.filter),B.call(this,X)}if(O.colorSpace===y.INDEXED){var W=this.internal.newObject();U({data:E(new Uint8Array(O.palette)),objectId:W}),R("endobj")}},o=function(){var B=this.internal.collections[t+"images"];for(var O in B)a.call(this,B[O])},l=function(){var B,O=this.internal.collections[t+"images"],R=this.internal.write;for(var U in O)R("/I"+(B=O[U]).index,B.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var B=this.internal.collections[t+"images"];return c.call(this),B},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(B){return typeof e["process"+B.toUpperCase()]=="function"},f=function(B){return gn(B)==="object"&&B.nodeType===1},m=function(B,O){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var R=""+B.getAttribute("src");if(R.indexOf("data:image/")===0)return k1(unescape(R).split("base64,").pop());var U=e.loadFile(R,!0);if(U!==void 0)return U}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var $;switch(O){case"PNG":$="image/png";break;case"WEBP":$="image/webp";break;default:$="image/jpeg"}return k1(B.toDataURL($,1).split("base64,").pop())}},x=function(B){var O=this.internal.collections[t+"images"];if(O){for(var R in O)if(B===O[R].alias)return O[R]}},g=function(B,O,R){return B||O||(B=-96,O=-96),B<0&&(B=-1*R.width*72/B/this.internal.scaleFactor),O<0&&(O=-1*R.height*72/O/this.internal.scaleFactor),B===0&&(B=O*R.width/R.height),O===0&&(O=B*R.height/R.width),[B,O]},v=function(B,O,R,U,$,K){var H=g.call(this,R,U,$),z=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,ee=d.call(this);if(R=H[0],U=H[1],ee[$.index]=$,K){K*=Math.PI/180;var Z=Math.cos(K),V=Math.sin(K),X=function(ae){return ae.toFixed(4)},W=[X(Z),X(V),X(-1*V),X(Z),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,z(B),te(O+U),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([z(R),"0","0",z(U),"0","0","cm"].join(" "))):this.internal.write([z(R),"0","0",z(U),z(B),te(O+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(B){var O,R,U=0;if(typeof B=="string")for(R=B.length,O=0;O<R;O++)U=(U<<5)-U+B.charCodeAt(O),U|=0;else if(C(B))for(R=B.byteLength/2,O=0;O<R;O++)U=(U<<5)-U+B[O],U|=0;return U},_=e.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var O=!0;return B.length===0&&(O=!1),B.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(O=!1),O},N=e.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var O=B.indexOf(",");return O<0?null:B.substring(0,O).trim().endsWith("base64")?B.substring(O+1):null};e.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var C=e.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(B){for(var O=B.length,R=new Uint8Array(O),U=0;U<O;U++)R[U]=B.charCodeAt(U);return R},E=e.__addimage__.arrayBufferToBinaryString=function(B){for(var O="",R=C(B)?B:new Uint8Array(B),U=0;U<R.length;U+=8192)O+=String.fromCharCode.apply(null,R.subarray(U,U+8192));return O};e.addImage=function(){var B,O,R,U,$,K,H,z,te;if(typeof arguments[1]=="number"?(O=r,R=arguments[1],U=arguments[2],$=arguments[3],K=arguments[4],H=arguments[5],z=arguments[6],te=arguments[7]):(O=arguments[1],R=arguments[2],U=arguments[3],$=arguments[4],K=arguments[5],H=arguments[6],z=arguments[7],te=arguments[8]),gn(B=arguments[0])==="object"&&!f(B)&&"imageData"in B){var ee=B;B=ee.imageData,O=ee.format||O||r,R=ee.x||R||0,U=ee.y||U||0,$=ee.w||ee.width||$,K=ee.h||ee.height||K,H=ee.alias||H,z=ee.compression||z,te=ee.rotation||ee.angle||te}var Z=this.internal.getFilters();if(z===void 0&&Z.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(R)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var V=I.call(this,B,O,H,z);return v.call(this,R,U,$,K,V,te),this};var I=function(B,O,R,U){var $,K,H;if(typeof B=="string"&&i(B)===r){B=unescape(B);var z=F(B,!1);(z!==""||(z=e.loadFile(B,!0))!==void 0)&&(B=z)}if(f(B)&&(B=m(B,O)),O=i(B,O),!A(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((H=R)==null||H.length===0)&&(R=function(te){return typeof te=="string"||C(te)?w(te):C(te.data)?w(te.data):null}(B)),($=x.call(this,R))||(B instanceof Uint8Array||O==="RGBA"||(K=B,B=P(B)),$=this["process"+O.toUpperCase()](B,u.call(this),R,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:b.NONE}(U),K)),!$)throw new Error("An unknown error occurred whilst processing the image.");return $},F=e.__addimage__.convertBase64ToBinaryString=function(B,O){O=typeof O!="boolean"||O;var R,U="";if(typeof B=="string"){var $;R=($=N(B))!==null&&$!==void 0?$:B;try{U=k1(R)}catch(K){if(O)throw _(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(B){var O,R,U="";if(f(B)&&(B=m(B)),typeof B=="string"&&i(B)===r&&((U=F(B,!1))===""&&(U=e.loadFile(B)||""),B=U),R=i(B),!A(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(B instanceof Uint8Array||(B=P(B)),!(O=this["process"+R.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=R,O}})(Yt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,A=0;A<d.length&&!u;A++)switch((n=d[A]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){n=d[f];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),b=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(y(n.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(y(b))+") >>",g.content=a;var w=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var C=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+i),h:d(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,i,a),i+=.2*d,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-d,l,o,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Yt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length==4},A=e.__arabicParser__.resolveLigatures=function(g){var v=0,y=r,b="",w=0;for(v=0;v<g.length;v+=1)y[g.charCodeAt(v)]!==void 0?(w++,typeof(y=y[g.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(y),y=r,w=0),v===g.length-1&&(y=r,b+=g.charAt(v-(w-1)),v-=w-1,w=0)):(y=r,b+=g.charAt(v-w),v-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(g,v,y){return o(g)?a(g)===!1?-1:!d(g)||!o(v)&&!o(y)||!o(y)&&l(v)||l(g)&&!o(v)||l(g)&&c(v)||l(g)&&l(v)?0:u(g)&&o(v)&&!l(v)&&o(y)&&d(y)?3:l(g)||!o(y)?1:2:-1},m=function(g){var v=0,y=0,b=0,w="",_="",N="",C=(g=g||"").split("\\s+"),P=[];for(v=0;v<C.length;v+=1){for(P.push(""),y=0;y<C[v].length;y+=1)w=C[v][y],_=C[v][y-1],N=C[v][y+1],o(w)?(b=f(w,_,N),P[v]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):P[v]+=w;P[v]=A(P[v])}return P.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var b=0;for(y=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?y.push([m(v[b][0]),v[b][1],v[b][2]]):y.push([m(v[b])]);g=y}else g=m(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",x])}(Yt.API),Yt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Yt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=d.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,_){return w.concat(v.splitTextToSize(_,y))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)m<(g=this.getStringUnitWidth(c[b],{font:A})*u)&&(m=g);return m!==0&&(x=c.length),{w:m/=f,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=A.top,m&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,A,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var m,x,g,v,y=[],b=[],w=[],_={},N={},C=[],P=[],E=(f=f||{}).autoSize||!1,I=f.printHeaders!==!1,F=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,B=f.margins||Object.assign({width:this.getPageWidth()},t),O=typeof f.padding=="number"?f.padding:3,R=f.headerBackgroundColor||"#c8c8c8",U=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=U,this.setFontSize(F),A==null)b=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(A)&&gn(A[0])==="object")for(y=A.map(function(ee){return ee.name}),b=A.map(function(ee){return ee.prompt||ee.name||""}),w=A.map(function(ee){return ee.align||"left"}),m=0;m<A.length;m+=1)N[A[m].name]=.7499990551181103*A[m].width;else Array.isArray(A)&&typeof A[0]=="string"&&(b=y=A,w=y.map(function(){return"left"}));if(E||Array.isArray(A)&&typeof A[0]=="string")for(m=0;m<y.length;m+=1){for(_[v=y[m]]=u.map(function(ee){return ee[v]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=_[v],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)C.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[v]=Math.max.apply(null,C)+O+O,C=[]}if(I){var $={};for(m=0;m<y.length;m+=1)$[y[m]]={},$[y[m]].text=b[m],$[y[m]].align=w[m];var K=l.call(this,$,N);P=y.map(function(ee){return new a(c,d,N[ee],K,$[ee].text,void 0,$[ee].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var H=A.reduce(function(ee,Z){return ee[Z.name]=Z.align,ee},{});for(m=0;m<u.length;m+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:m,data:u[m]},this);var z=l.call(this,u[m],N);for(g=0;g<y.length;g+=1){var te=u[m][y[g]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:m,col:g,data:te},this),o.call(this,new a(c,d,N[y[g]],z,te,m+2,H[y[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*A/f+u+u},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(Yt.API);var rX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kE=tX(nX),sX=[100,200,300,400,500,600,700,800,900],TSe=tX(sX);function CS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return rX[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof kE[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function GD(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var OSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},qD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function YD(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function XD(e){return e.trimLeft()}function LSe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function FSe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ew,ZD,JD,Mm,kw,eM,tM,rM,SS=["times"];function nM(e,t,r,n,i){var a=4,o=iM;switch(i){case Yt.API.image_compression.FAST:a=1,o=sM;break;case Yt.API.image_compression.MEDIUM:a=6,o=aM;break;case Yt.API.image_compression.SLOW:a=9,o=oM}e=function(c,d,u,A){for(var f,m=c.length/d,x=new Uint8Array(c.length+m),g=[USe,sM,iM,aM,oM],v=0;v<m;v+=1){var y=v*d,b=c.subarray(y,y+d);if(A)x.set(A(b,u,f),y+v);else{for(var w=g.length,_=[],N=0;N<w;N+=1)_[N]=g[N](b,u,f);var C=DSe(_.concat());x.set(_[C],y+v)}f=b}return x}(e,t,Math.ceil(r*n/8),o);var l=jE(e,{level:a});return Yt.API.__addimage__.arrayBufferToBinaryString(l)}function USe(e){var t=Array.apply([],e);return t.unshift(0),t}function sM(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function iM(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=e[a]-o+256&255}return i}function aM(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=e[a-t]||0,l=r&&r[a]||0;i[a+1]=e[a]+256-(o+l>>>1)&255}return i}function oM(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=RSe(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function RSe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function DSe(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function BS(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return iX(e,i)>>a&o}function lM(e,t,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,c=(t&l)<<o;(function(d,u,A){if(u+1<d.byteLength)d.setUint16(u,A,!1);else{var f=A>>8&255;d.setUint8(u,f)}})(e,a,iX(e,a)&~(l<<o)&65535|c)}function iX(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function MSe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var d=!0,u=[],A=0,f=null,m=0,x=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((B=e[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];A=e[t++]|e[t++]<<8,f=e[t++],1&g||(f=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((B=e[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++],N=_>>6&1,C=1<<1+(7&_),P=l,E=c,I=!1;_>>7&&(I=!0,P=t,E=C,t+=3*C);var F=t;for(t++;;){var B;if(!((B=e[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}u.push({x:v,y,width:b,height:w,has_local_palette:I,palette_offset:P,palette_size:E,data_offset:F,data_length:t-F,transparent_index:f,interlaced:!!N,delay:A,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=u.length)throw new Error("Frame index out of range.");return u[O]},this.decodeAndBlitFrameBGRA=function(O,R){var U=this.frameInfo(O),$=U.width*U.height,K=new Uint8Array($);cM(e,U.data_offset,K,$);var H=U.palette_offset,z=U.transparent_index;z===null&&(z=256);var te=U.width,ee=r-te,Z=te,V=4*(U.y*r+U.x),X=4*((U.y+U.height)*r+U.x),W=V,ae=4*ee;U.interlaced===!0&&(ae+=4*r*7);for(var ie=8,ce=0,be=K.length;ce<be;++ce){var he=K[ce];if(Z===0&&(Z=te,(W+=ae)>=X&&(ae=4*ee+4*r*(ie-1),W=V+(te+ee)*(ie<<1),ie>>=1)),he===z)W+=4;else{var ge=e[H+3*he],Se=e[H+3*he+1],re=e[H+3*he+2];R[W++]=re,R[W++]=Se,R[W++]=ge,R[W++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(O,R){var U=this.frameInfo(O),$=U.width*U.height,K=new Uint8Array($);cM(e,U.data_offset,K,$);var H=U.palette_offset,z=U.transparent_index;z===null&&(z=256);var te=U.width,ee=r-te,Z=te,V=4*(U.y*r+U.x),X=4*((U.y+U.height)*r+U.x),W=V,ae=4*ee;U.interlaced===!0&&(ae+=4*r*7);for(var ie=8,ce=0,be=K.length;ce<be;++ce){var he=K[ce];if(Z===0&&(Z=te,(W+=ae)>=X&&(ae=4*ee+4*r*(ie-1),W=V+(te+ee)*(ie<<1),ie>>=1)),he===z)W+=4;else{var ge=e[H+3*he],Se=e[H+3*he+1],re=e[H+3*he+2];R[W++]=ge,R[W++]=Se,R[W++]=re,R[W++]=255}--Z}}}function cM(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,d=(1<<c)-1,u=0,A=0,f=0,m=e[t++],x=new Int32Array(4096),g=null;;){for(;u<16&&m!==0;)A|=e[t++]<<u,u+=8,m===1?m=e[t++]:--m;if(u<c)break;var v=A&d;if(A>>=c,u-=c,v!==a){if(v===o)break;for(var y=v<l?v:g,b=0,w=y;w>a;)w=x[w]>>8,++b;var _=w;if(f+b+(y!==v?1:0)>n)return void kn.log("Warning, gif stream longer than expected.");r[f++]=_;var N=f+=b;for(y!==v&&(r[f++]=_),w=y;b--;)w=x[w],r[--N]=255&w,w>>=8;g!==null&&l<4096&&(x[l++]=g<<8|_,l>=d+1&&c<12&&(++c,d=d<<1|1)),g=v}else l=o+1,d=(1<<(c=i+1))-1,g=null}return f!==n&&kn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ES(e){var t,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),A=new Array(65535),f=new Array(65535),m=new Array(64),x=new Array(64),g=[],v=0,y=7,b=new Array(64),w=new Array(64),_=new Array(64),N=new Array(256),C=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(V,X){for(var W=0,ae=0,ie=new Array,ce=1;ce<=16;ce++){for(var be=1;be<=V[ce];be++)ie[X[ae]]=[],ie[X[ae]][0]=W,ie[X[ae]][1]=ce,ae++,W++;W*=2}return ie}function H(V){for(var X=V[0],W=V[1]-1;W>=0;)X&1<<W&&(v|=1<<y),W--,--y<0&&(v==255?(z(255),z(0)):z(v),y=7,v=0)}function z(V){g.push(V)}function te(V){z(V>>8&255),z(255&V)}function ee(V,X,W,ae,ie){for(var ce,be=ie[0],he=ie[240],ge=function(ke,He){var We,me,Be,Oe,Ne,Fe,it,pt,Re,gt,rt=0;for(Re=0;Re<8;++Re){We=ke[rt],me=ke[rt+1],Be=ke[rt+2],Oe=ke[rt+3],Ne=ke[rt+4],Fe=ke[rt+5],it=ke[rt+6];var ot=We+(pt=ke[rt+7]),xt=We-pt,Et=me+it,St=me-it,$t=Be+Fe,bt=Be-Fe,ht=Oe+Ne,lt=Oe-Ne,ut=ot+ht,nt=ot-ht,Ke=Et+$t,Ct=Et-$t;ke[rt]=ut+Ke,ke[rt+4]=ut-Ke;var Gt=.707106781*(Ct+nt);ke[rt+2]=nt+Gt,ke[rt+6]=nt-Gt;var Xn=.382683433*((ut=lt+bt)-(Ct=St+xt)),Vr=.5411961*ut+Xn,tn=1.306562965*Ct+Xn,gr=.707106781*(Ke=bt+St),Ft=xt+gr,xs=xt-gr;ke[rt+5]=xs+Vr,ke[rt+3]=xs-Vr,ke[rt+1]=Ft+tn,ke[rt+7]=Ft-tn,rt+=8}for(rt=0,Re=0;Re<8;++Re){We=ke[rt],me=ke[rt+8],Be=ke[rt+16],Oe=ke[rt+24],Ne=ke[rt+32],Fe=ke[rt+40],it=ke[rt+48];var ys=We+(pt=ke[rt+56]),On=We-pt,is=me+it,br=me-it,Bt=Be+Fe,un=Be-Fe,ni=Oe+Ne,Vs=Oe-Ne,as=ys+ni,os=ys-ni,ls=is+Bt,Cn=is-Bt;ke[rt]=as+ls,ke[rt+32]=as-ls;var et=.707106781*(Cn+os);ke[rt+16]=os+et,ke[rt+48]=os-et;var Nt=.382683433*((as=Vs+un)-(Cn=br+On)),Pt=.5411961*as+Nt,ft=1.306562965*Cn+Nt,Ut=.707106781*(ls=un+br),bn=On+Ut,Fr=On-Ut;ke[rt+40]=Fr+Pt,ke[rt+24]=Fr-Pt,ke[rt+8]=bn+ft,ke[rt+56]=bn-ft,rt++}for(Re=0;Re<64;++Re)gt=ke[Re]*He[Re],m[Re]=gt>0?gt+.5|0:gt-.5|0;return m}(V,X),Se=0;Se<64;++Se)x[P[Se]]=ge[Se];var re=x[0]-W;W=x[0],re==0?H(ae[0]):(H(ae[f[ce=32767+re]]),H(A[ce]));for(var _e=63;_e>0&&x[_e]==0;)_e--;if(_e==0)return H(be),W;for(var ue,J=1;J<=_e;){for(var fe=J;x[J]==0&&J<=_e;)++J;var ye=J-fe;if(ye>=16){ue=ye>>4;for(var Ie=1;Ie<=ue;++Ie)H(he);ye&=15}ce=32767+x[J],H(ie[(ye<<4)+f[ce]]),H(A[ce]),J++}return _e!=63&&H(be),W}function Z(V){V=Math.min(Math.max(V,1),100),a!=V&&(function(X){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var ie=o((W[ae]*X+50)/100);ie=Math.min(Math.max(ie,1),255),l[P[ae]]=ie}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var he=o((ce[be]*X+50)/100);he=Math.min(Math.max(he,1),255),c[P[be]]=he}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,re=0;re<8;re++)for(var _e=0;_e<8;_e++)d[Se]=1/(l[P[Se]]*ge[re]*ge[_e]*8),u[Se]=1/(c[P[Se]]*ge[re]*ge[_e]*8),Se++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),a=V)}this.encode=function(V,X){X&&Z(X),g=new Array,v=0,y=7,te(65496),te(65504),te(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),te(1),te(1),z(0),z(0),function(){te(65499),te(132),z(0);for(var me=0;me<64;me++)z(l[me]);z(1);for(var Be=0;Be<64;Be++)z(c[Be])}(),function(me,Be){te(65472),te(17),z(8),te(Be),te(me),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(V.width,V.height),function(){te(65476),te(418),z(0);for(var me=0;me<16;me++)z(E[me+1]);for(var Be=0;Be<=11;Be++)z(I[Be]);z(16);for(var Oe=0;Oe<16;Oe++)z(F[Oe+1]);for(var Ne=0;Ne<=161;Ne++)z(B[Ne]);z(1);for(var Fe=0;Fe<16;Fe++)z(O[Fe+1]);for(var it=0;it<=11;it++)z(R[it]);z(17);for(var pt=0;pt<16;pt++)z(U[pt+1]);for(var Re=0;Re<=161;Re++)z($[Re])}(),te(65498),te(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var W=0,ae=0,ie=0;v=0,y=7,this.encode.displayName="_encode_";for(var ce,be,he,ge,Se,re,_e,ue,J,fe=V.data,ye=V.width,Ie=V.height,ke=4*ye,He=0;He<Ie;){for(ce=0;ce<ke;){for(Se=ke*He+ce,_e=-1,ue=0,J=0;J<64;J++)re=Se+(ue=J>>3)*ke+(_e=4*(7&J)),He+ue>=Ie&&(re-=ke*(He+1+ue-Ie)),ce+_e>=ke&&(re-=ce+_e-ke+4),be=fe[re++],he=fe[re++],ge=fe[re++],b[J]=(C[be]+C[he+256|0]+C[ge+512|0]>>16)-128,w[J]=(C[be+768|0]+C[he+1024|0]+C[ge+1280|0]>>16)-128,_[J]=(C[be+1280|0]+C[he+1536|0]+C[ge+1792|0]>>16)-128;W=ee(b,d,W,t,n),ae=ee(w,u,ae,r,i),ie=ee(_,u,ie,r,i),ce+=32}He+=8}if(y>=0){var We=[];We[1]=y+1,We[0]=(1<<y+1)-1,H(We)}return te(65497),new Uint8Array(g)},e=e||50,function(){for(var V=String.fromCharCode,X=0;X<256;X++)N[X]=V(X)}(),t=K(E,I),r=K(O,R),n=K(F,B),i=K(U,$),function(){for(var V=1,X=2,W=1;W<=15;W++){for(var ae=V;ae<X;ae++)f[32767+ae]=W,A[32767+ae]=[],A[32767+ae][1]=W,A[32767+ae][0]=ae;for(var ie=-(X-1);ie<=-V;ie++)f[32767+ie]=W,A[32767+ie]=[],A[32767+ie][1]=W,A[32767+ie][0]=X-1+ie;V<<=1,X<<=1}}(),function(){for(var V=0;V<256;V++)C[V]=19595*V,C[V+256|0]=38470*V,C[V+512|0]=7471*V+32768,C[V+768|0]=-11059*V,C[V+1024|0]=-21709*V,C[V+1280|0]=32768*V+8421375,C[V+1536|0]=-27439*V,C[V+1792|0]=-5329*V}(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dM(e){function t(I){if(!I)throw Error("assert :P")}function r(I,F,B){for(var O=0;4>O;O++)if(I[F+O]!=B.charCodeAt(O))return!0;return!1}function n(I,F,B,O,R){for(var U=0;U<R;U++)I[F+U]=B[O+U]}function i(I,F,B,O){for(var R=0;R<O;R++)I[F+R]=B}function a(I){return new Int32Array(I)}function o(I,F){for(var B=[],O=0;O<I;O++)B.push(new F);return B}function l(I,F){var B=[];return function O(R,U,$){for(var K=$[U],H=0;H<K&&(R.push($.length>U+1?[]:new F),!($.length<U+1));H++)O(R[H],U+1,$)}(B,0,I),B}var c=function(){var I=this;function F(S,T){for(var Q=1<<T-1>>>0;S&Q;)Q>>>=1;return Q?(S&Q-1)+Q:S}function B(S,T,Q,G,se){t(!(G%Q));do S[T+(G-=Q)]=se;while(0<G)}function O(S,T,Q,G,se){if(t(2328>=se),512>=se)var oe=a(512);else if((oe=a(se))==null)return 0;return function(de,Ae,pe,we,Te,$e){var je,Le,De=Ae,Xe=1<<pe,Qe=a(16),Je=a(16);for(t(Te!=0),t(we!=null),t(de!=null),t(0<pe),Le=0;Le<Te;++Le){if(15<we[Le])return 0;++Qe[we[Le]]}if(Qe[0]==Te)return 0;for(Je[1]=0,je=1;15>je;++je){if(Qe[je]>1<<je)return 0;Je[je+1]=Je[je]+Qe[je]}for(Le=0;Le<Te;++Le)je=we[Le],0<we[Le]&&($e[Je[je]++]=Le);if(Je[15]==1)return(we=new R).g=0,we.value=$e[0],B(de,De,1,Xe,we),Xe;var tt,vt=-1,At=Xe-1,qt=0,Qt=1,_r=1,zt=1<<pe;for(Le=0,je=1,Te=2;je<=pe;++je,Te<<=1){if(Qt+=_r<<=1,0>(_r-=Qe[je]))return 0;for(;0<Qe[je];--Qe[je])(we=new R).g=je,we.value=$e[Le++],B(de,De+qt,Te,zt,we),qt=F(qt,je)}for(je=pe+1,Te=2;15>=je;++je,Te<<=1){if(Qt+=_r<<=1,0>(_r-=Qe[je]))return 0;for(;0<Qe[je];--Qe[je]){if(we=new R,(qt&At)!=vt){for(De+=zt,tt=1<<(vt=je)-pe;15>vt&&!(0>=(tt-=Qe[vt]));)++vt,tt<<=1;Xe+=zt=1<<(tt=vt-pe),de[Ae+(vt=qt&At)].g=tt+pe,de[Ae+vt].value=De-Ae-vt}we.g=je-pe,we.value=$e[Le++],B(de,De+(qt>>pe),Te,zt,we),qt=F(qt,je)}}return Qt!=2*Je[15]-1?0:Xe}(S,T,Q,G,se,oe)}function R(){this.value=this.g=0}function U(){this.value=this.g=0}function $(){this.G=o(5,R),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Qo,U)}function K(S,T,Q,G){t(S!=null),t(T!=null),t(2147483648>G),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=T,S.pa=Q,S.Jd=T,S.Yc=Q+G,S.Zc=4<=G?Q+G-4+1:Q,be(S)}function H(S,T){for(var Q=0;0<T--;)Q|=ge(S,128)<<T;return Q}function z(S,T){var Q=H(S,T);return he(S)?-Q:Q}function te(S,T,Q,G){var se,oe=0;for(t(S!=null),t(T!=null),t(4294967288>G),S.Sb=G,S.Ra=0,S.u=0,S.h=0,4<G&&(G=4),se=0;se<G;++se)oe+=T[Q+se]<<8*se;S.Ra=oe,S.bb=G,S.oa=T,S.pa=Q}function ee(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<oo-8>>>0,++S.bb,S.u-=8;ae(S)&&(S.h=1,S.u=0)}function Z(S,T){if(t(0<=T),!S.h&&T<=ws){var Q=W(S)&Aa[T];return S.u+=T,ee(S),Q}return S.h=1,S.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(S){return S.Ra>>>(S.u&oo-1)>>>0}function ae(S){return t(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>oo}function ie(S,T){S.u=T,S.h=ae(S)}function ce(S){S.u>=Ul&&(t(S.u>=Ul),ee(S))}function be(S){t(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(t(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function he(S){return H(S,1)}function ge(S,T){var Q=S.Ca;0>S.b&&be(S);var G=S.b,se=Q*T>>>8,oe=(S.I>>>G>se)+0;for(oe?(Q-=se,S.I-=se+1<<G>>>0):Q=se+1,G=Q,se=0;256<=G;)se+=8,G>>=8;return G=7^se+$o[G],S.b-=G,S.Ca=(Q<<G)-1,oe}function Se(S,T,Q){S[T+0]=Q>>24&255,S[T+1]=Q>>16&255,S[T+2]=Q>>8&255,S[T+3]=255&Q}function re(S,T){return S[T+0]|S[T+1]<<8}function _e(S,T){return re(S,T)|S[T+2]<<16}function ue(S,T){return re(S,T)|re(S,T+2)<<16}function J(S,T){var Q=1<<T;return t(S!=null),t(0<T),S.X=a(Q),S.X==null?0:(S.Mb=32-T,S.Xa=T,1)}function fe(S,T){t(S!=null),t(T!=null),t(S.Xa==T.Xa),n(T.X,0,S.X,0,1<<T.Xa)}function ye(){this.X=[],this.Xa=this.Mb=0}function Ie(S,T,Q,G){t(Q!=null),t(G!=null);var se=Q[0],oe=G[0];return se==0&&(se=(S*oe+T/2)/T),oe==0&&(oe=(T*se+S/2)/S),0>=se||0>=oe?0:(Q[0]=se,G[0]=oe,1)}function ke(S,T){return S+(1<<T)-1>>>T}function He(S,T){return((4278255360&S)+(4278255360&T)>>>0&4278255360)+((16711935&S)+(16711935&T)>>>0&16711935)>>>0}function We(S,T){I[T]=function(Q,G,se,oe,de,Ae,pe){var we;for(we=0;we<de;++we){var Te=I[S](Ae[pe+we-1],se,oe+we);Ae[pe+we]=He(Q[G+we],Te)}}}function me(){this.ud=this.hd=this.jd=0}function Be(S,T){return((4278124286&(S^T))>>>1)+(S&T)>>>0}function Oe(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Ne(S,T){return Oe(S+(S-T+.5>>1))}function Fe(S,T,Q){return Math.abs(T-Q)-Math.abs(S-Q)}function it(S,T,Q,G,se,oe,de){for(G=oe[de-1],Q=0;Q<se;++Q)oe[de+Q]=G=He(S[T+Q],G)}function pt(S,T,Q,G,se){var oe;for(oe=0;oe<Q;++oe){var de=S[T+oe],Ae=de>>8&255,pe=16711935&(pe=(pe=16711935&de)+((Ae<<16)+Ae));G[se+oe]=(4278255360&de)+pe>>>0}}function Re(S,T){T.jd=255&S,T.hd=S>>8&255,T.ud=S>>16&255}function gt(S,T,Q,G,se,oe){var de;for(de=0;de<G;++de){var Ae=T[Q+de],pe=Ae>>>8,we=Ae,Te=255&(Te=(Te=Ae>>>16)+((S.jd<<24>>24)*(pe<<24>>24)>>>5));we=255&(we=(we+=(S.hd<<24>>24)*(pe<<24>>24)>>>5)+((S.ud<<24>>24)*(Te<<24>>24)>>>5)),se[oe+de]=(4278255360&Ae)+(Te<<16)+we}}function rt(S,T,Q,G,se){I[T]=function(oe,de,Ae,pe,we,Te,$e,je,Le){for(pe=$e;pe<je;++pe)for($e=0;$e<Le;++$e)we[Te++]=se(Ae[G(oe[de++])])},I[S]=function(oe,de,Ae,pe,we,Te,$e){var je=8>>oe.b,Le=oe.Ea,De=oe.K[0],Xe=oe.w;if(8>je)for(oe=(1<<oe.b)-1,Xe=(1<<je)-1;de<Ae;++de){var Qe,Je=0;for(Qe=0;Qe<Le;++Qe)Qe&oe||(Je=G(pe[we++])),Te[$e++]=se(De[Je&Xe]),Je>>=je}else I["VP8LMapColor"+Q](pe,we,De,Xe,Te,$e,de,Ae,Le)}}function ot(S,T,Q,G,se){for(Q=T+Q;T<Q;){var oe=S[T++];G[se++]=oe>>16&255,G[se++]=oe>>8&255,G[se++]=255&oe}}function xt(S,T,Q,G,se){for(Q=T+Q;T<Q;){var oe=S[T++];G[se++]=oe>>16&255,G[se++]=oe>>8&255,G[se++]=255&oe,G[se++]=oe>>24&255}}function Et(S,T,Q,G,se){for(Q=T+Q;T<Q;){var oe=(de=S[T++])>>16&240|de>>12&15,de=240&de|de>>28&15;G[se++]=oe,G[se++]=de}}function St(S,T,Q,G,se){for(Q=T+Q;T<Q;){var oe=(de=S[T++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;G[se++]=oe,G[se++]=de}}function $t(S,T,Q,G,se){for(Q=T+Q;T<Q;){var oe=S[T++];G[se++]=255&oe,G[se++]=oe>>8&255,G[se++]=oe>>16&255}}function bt(S,T,Q,G,se,oe){if(oe==0)for(Q=T+Q;T<Q;)Se(G,((oe=S[T++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),se+=32;else n(G,se,S,T,Q)}function ht(S,T){I[T][0]=I[S+"0"],I[T][1]=I[S+"1"],I[T][2]=I[S+"2"],I[T][3]=I[S+"3"],I[T][4]=I[S+"4"],I[T][5]=I[S+"5"],I[T][6]=I[S+"6"],I[T][7]=I[S+"7"],I[T][8]=I[S+"8"],I[T][9]=I[S+"9"],I[T][10]=I[S+"10"],I[T][11]=I[S+"11"],I[T][12]=I[S+"12"],I[T][13]=I[S+"13"],I[T][14]=I[S+"0"],I[T][15]=I[S+"0"]}function lt(S){return S==wm||S==jm||S==Nm||S==h}function ut(){this.eb=[],this.size=this.A=this.fb=0}function nt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ke(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ut,this.f.kb=new nt,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xn(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function Vr(S,T){var Q=S.T,G=T.ba.f.RGBA,se=G.eb,oe=G.fb+S.ka*G.A,de=Ei[T.ba.S],Ae=S.y,pe=S.O,we=S.f,Te=S.N,$e=S.ea,je=S.W,Le=T.cc,De=T.dc,Xe=T.Mc,Qe=T.Nc,Je=S.ka,tt=S.ka+S.T,vt=S.U,At=vt+1>>1;for(Je==0?de(Ae,pe,null,null,we,Te,$e,je,we,Te,$e,je,se,oe,null,null,vt):(de(T.ec,T.fc,Ae,pe,Le,De,Xe,Qe,we,Te,$e,je,se,oe-G.A,se,oe,vt),++Q);Je+2<tt;Je+=2)Le=we,De=Te,Xe=$e,Qe=je,Te+=S.Rc,je+=S.Rc,oe+=2*G.A,de(Ae,(pe+=2*S.fa)-S.fa,Ae,pe,Le,De,Xe,Qe,we,Te,$e,je,se,oe-G.A,se,oe,vt);return pe+=S.fa,S.j+tt<S.o?(n(T.ec,T.fc,Ae,pe,vt),n(T.cc,T.dc,we,Te,At),n(T.Mc,T.Nc,$e,je,At),Q--):1&tt||de(Ae,pe,null,null,we,Te,$e,je,we,Te,$e,je,se,oe+G.A,null,null,vt),Q}function tn(S,T,Q){var G=S.F,se=[S.J];if(G!=null){var oe=S.U,de=T.ba.S,Ae=de==EA||de==Nm;T=T.ba.f.RGBA;var pe=[0],we=S.ka;pe[0]=S.T,S.Kb&&(we==0?--pe[0]:(--we,se[0]-=S.width),S.j+S.ka+S.T==S.o&&(pe[0]=S.o-S.j-we));var Te=T.eb;we=T.fb+we*T.A,S=f0(G,se[0],S.width,oe,pe,Te,we+(Ae?0:3),T.A),t(Q==pe),S&&lt(de)&&Wo(Te,we,Ae,oe,pe,T.A)}return 0}function gr(S){var T=S.ma,Q=T.ba.S,G=11>Q,se=Q==SA||Q==BA||Q==EA||Q==bm||Q==12||lt(Q);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!NA(T.Oa,S,se?11:12))return 0;if(se&&lt(Q)&&Tl(),S.da)alert("todo:use_scaling");else{if(G){if(T.Ib=Xn,S.Kb){if(Q=S.U+1>>1,T.memory=a(S.U+2*Q),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+S.U,T.Mc=T.cc,T.Nc=T.dc+Q,T.Ib=Vr,Tl()}}else alert("todo:EmitYUV");se&&(T.Jb=tn,G&&ii())}if(G&&!vT){for(S=0;256>S;++S)lre[S]=89858*(S-128)+hb>>ub,ure[S]=-22014*(S-128)+hb,dre[S]=-45773*(S-128),cre[S]=113618*(S-128)+hb>>ub;for(S=v0;S<A_;++S)T=76283*(S-16)+hb>>ub,hre[S-v0]=yr(T,255),Are[S-v0]=yr(T+8>>4,15);vT=1}return 1}function Ft(S){var T=S.ma,Q=S.U,G=S.T;return t(!(1&S.ka)),0>=Q||0>=G?0:(Q=T.Ib(S,T),T.Jb!=null&&T.Jb(S,T,Q),T.Dc+=Q,1)}function xs(S){S.ma.memory=null}function ys(S,T,Q,G){return Z(S,8)!=47?0:(T[0]=Z(S,14)+1,Q[0]=Z(S,14)+1,G[0]=Z(S,1),Z(S,3)!=0?0:!S.h)}function On(S,T){if(4>S)return S+1;var Q=S-2>>1;return(2+(1&S)<<Q)+Z(T,Q)+1}function is(S,T){return 120<T?T-120:1<=(Q=((Q=Ee[T-1])>>4)*S+(8-(15&Q)))?Q:1;var Q}function br(S,T,Q){var G=W(Q),se=S[T+=255&G].g-8;return 0<se&&(ie(Q,Q.u+8),G=W(Q),T+=S[T].value,T+=G&(1<<se)-1),ie(Q,Q.u+S[T].g),S[T].value}function Bt(S,T,Q){return Q.g+=S.g,Q.value+=S.value<<T>>>0,t(8>=Q.g),S.g}function un(S,T,Q){var G=S.xc;return t((T=G==0?0:S.vc[S.md*(Q>>G)+(T>>G)])<S.Wb),S.Ya[T]}function ni(S,T,Q,G){var se=S.ab,oe=S.c*T,de=S.C;T=de+T;var Ae=Q,pe=G;for(G=S.Ta,Q=S.Ua;0<se--;){var we=S.gc[se],Te=de,$e=T,je=Ae,Le=pe,De=(pe=G,Ae=Q,we.Ea);switch(t(Te<$e),t($e<=we.nc),we.hc){case 2:ds(je,Le,($e-Te)*De,pe,Ae);break;case 0:var Xe=Te,Qe=$e,Je=pe,tt=Ae,vt=(zt=we).Ea;Xe==0&&(_A(je,Le,null,null,1,Je,tt),it(je,Le+1,0,0,vt-1,Je,tt+1),Le+=vt,tt+=vt,++Xe);for(var At=1<<zt.b,qt=At-1,Qt=ke(vt,zt.b),_r=zt.K,zt=zt.w+(Xe>>zt.b)*Qt;Xe<Qe;){var Qr=_r,oi=zt,Cr=1;for(Vi(je,Le,Je,tt-vt,1,Je,tt);Cr<vt;){var Kt=(Cr&~qt)+At;Kt>vt&&(Kt=vt),(0,Mu[Qr[oi++]>>8&15])(je,Le+ +Cr,Je,tt+Cr-vt,Kt-Cr,Je,tt+Cr),Cr=Kt}Le+=vt,tt+=vt,++Xe&qt||(zt+=Qt)}$e!=we.nc&&n(pe,Ae-De,pe,Ae+($e-Te-1)*De,De);break;case 1:for(De=je,Qe=Le,vt=(je=we.Ea)-(tt=je&~(Je=(Le=1<<we.b)-1)),Xe=ke(je,we.b),At=we.K,we=we.w+(Te>>we.b)*Xe;Te<$e;){for(qt=At,Qt=we,_r=new me,zt=Qe+tt,Qr=Qe+je;Qe<zt;)Re(qt[Qt++],_r),Cd(_r,De,Qe,Le,pe,Ae),Qe+=Le,Ae+=Le;Qe<Qr&&(Re(qt[Qt++],_r),Cd(_r,De,Qe,vt,pe,Ae),Qe+=vt,Ae+=vt),++Te&Je||(we+=Xe)}break;case 3:if(je==pe&&Le==Ae&&0<we.b){for(Qe=pe,je=De=Ae+($e-Te)*De-(tt=($e-Te)*ke(we.Ea,we.b)),Le=pe,Je=Ae,Xe=[],tt=(vt=tt)-1;0<=tt;--tt)Xe[tt]=Le[Je+tt];for(tt=vt-1;0<=tt;--tt)Qe[je+tt]=Xe[tt];Rl(we,Te,$e,pe,De,pe,Ae)}else Rl(we,Te,$e,je,Le,pe,Ae)}Ae=G,pe=Q}pe!=Q&&n(G,Q,Ae,pe,oe)}function Vs(S,T){var Q=S.V,G=S.Ba+S.c*S.C,se=T-S.C;if(t(T<=S.l.o),t(16>=se),0<se){var oe=S.l,de=S.Ta,Ae=S.Ua,pe=oe.width;if(ni(S,se,Q,G),se=Ae=[Ae],t((Q=S.C)<(G=T)),t(oe.v<oe.va),G>oe.o&&(G=oe.o),Q<oe.j){var we=oe.j-Q;Q=oe.j,se[0]+=we*pe}if(Q>=G?Q=0:(se[0]+=4*oe.v,oe.ka=Q-oe.j,oe.U=oe.va-oe.v,oe.T=G-Q,Q=1),Q){if(Ae=Ae[0],11>(Q=S.ca).S){var Te=Q.f.RGBA,$e=(G=Q.S,se=oe.U,oe=oe.T,we=Te.eb,Te.A),je=oe;for(Te=Te.fb+S.Ma*Te.A;0<je--;){var Le=de,De=Ae,Xe=se,Qe=we,Je=Te;switch(G){case vm:kc(Le,De,Xe,Qe,Je);break;case SA:Vo(Le,De,Xe,Qe,Je);break;case wm:Vo(Le,De,Xe,Qe,Je),Wo(Qe,Je,0,Xe,1,0);break;case g0:zo(Le,De,Xe,Qe,Je);break;case BA:bt(Le,De,Xe,Qe,Je,1);break;case jm:bt(Le,De,Xe,Qe,Je,1),Wo(Qe,Je,0,Xe,1,0);break;case EA:bt(Le,De,Xe,Qe,Je,0);break;case Nm:bt(Le,De,Xe,Qe,Je,0),Wo(Qe,Je,1,Xe,1,0);break;case bm:lo(Le,De,Xe,Qe,Je);break;case h:lo(Le,De,Xe,Qe,Je),A0(Qe,Je,Xe,1,0);break;case lb:fa(Le,De,Xe,Qe,Je);break;default:t(0)}Ae+=pe,Te+=$e}S.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(S.Ma<=Q.height)}}S.C=T,t(S.C<=S.i)}function as(S){var T;if(0<S.ua)return 0;for(T=0;T<S.Wb;++T){var Q=S.Ya[T].G,G=S.Ya[T].H;if(0<Q[1][G[1]+0].g||0<Q[2][G[2]+0].g||0<Q[3][G[3]+0].g)return 0}return 1}function os(S,T,Q,G,se,oe){if(S.Z!=0){var de=S.qd,Ae=S.rd;for(t(An[S.Z]!=null);T<Q;++T)An[S.Z](de,Ae,G,se,G,se,oe),de=G,Ae=se,se+=oe;S.qd=de,S.rd=Ae}}function ls(S,T){var Q=S.l.ma,G=Q.Z==0||Q.Z==1?S.l.j:S.C;if(G=S.C<G?G:S.C,t(T<=S.l.o),T>G){var se=S.l.width,oe=Q.ca,de=Q.tb+se*G,Ae=S.V,pe=S.Ba+S.c*G,we=S.gc;t(S.ab==1),t(we[0].hc==3),Ks(we[0],G,T,Ae,pe,oe,de),os(Q,G,T,oe,de,se)}S.C=S.Ma=T}function Cn(S,T,Q,G,se,oe,de){var Ae=S.$/G,pe=S.$%G,we=S.m,Te=S.s,$e=Q+S.$,je=$e;se=Q+G*se;var Le=Q+G*oe,De=280+Te.ua,Xe=S.Pb?Ae:16777216,Qe=0<Te.ua?Te.Wa:null,Je=Te.wc,tt=$e<Le?un(Te,pe,Ae):null;t(S.C<oe),t(Le<=se);var vt=!1;e:for(;;){for(;vt||$e<Le;){var At=0;if(Ae>=Xe){var qt=$e-Q;t((Xe=S).Pb),Xe.wd=Xe.m,Xe.xd=qt,0<Xe.s.ua&&fe(Xe.s.Wa,Xe.s.vb),Xe=Ae+Ve}if(pe&Je||(tt=un(Te,pe,Ae)),t(tt!=null),tt.Qb&&(T[$e]=tt.qb,vt=!0),!vt)if(ce(we),tt.jc){At=we,qt=T;var Qt=$e,_r=tt.pd[W(At)&Qo-1];t(tt.jc),256>_r.g?(ie(At,At.u+_r.g),qt[Qt]=_r.value,At=0):(ie(At,At.u+_r.g-256),t(256<=_r.value),At=_r.value),At==0&&(vt=!0)}else At=br(tt.G[0],tt.H[0],we);if(we.h)break;if(vt||256>At){if(!vt)if(tt.nd)T[$e]=(tt.qb|At<<8)>>>0;else{if(ce(we),vt=br(tt.G[1],tt.H[1],we),ce(we),qt=br(tt.G[2],tt.H[2],we),Qt=br(tt.G[3],tt.H[3],we),we.h)break;T[$e]=(Qt<<24|vt<<16|At<<8|qt)>>>0}if(vt=!1,++$e,++pe>=G&&(pe=0,++Ae,de!=null&&Ae<=oe&&!(Ae%16)&&de(S,Ae),Qe!=null))for(;je<$e;)At=T[je++],Qe.X[(506832829*At&4294967295)>>>Qe.Mb]=At}else if(280>At){if(At=On(At-256,we),qt=br(tt.G[4],tt.H[4],we),ce(we),qt=is(G,qt=On(qt,we)),we.h)break;if($e-Q<qt||se-$e<At)break e;for(Qt=0;Qt<At;++Qt)T[$e+Qt]=T[$e+Qt-qt];for($e+=At,pe+=At;pe>=G;)pe-=G,++Ae,de!=null&&Ae<=oe&&!(Ae%16)&&de(S,Ae);if(t($e<=se),pe&Je&&(tt=un(Te,pe,Ae)),Qe!=null)for(;je<$e;)At=T[je++],Qe.X[(506832829*At&4294967295)>>>Qe.Mb]=At}else{if(!(At<De))break e;for(vt=At-280,t(Qe!=null);je<$e;)At=T[je++],Qe.X[(506832829*At&4294967295)>>>Qe.Mb]=At;At=$e,t(!(vt>>>(qt=Qe).Xa)),T[At]=qt.X[vt],vt=!0}vt||t(we.h==ae(we))}if(S.Pb&&we.h&&$e<se)t(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&fe(S.s.vb,S.s.Wa);else{if(we.h)break e;de!=null&&de(S,Ae>oe?oe:Ae),S.a=0,S.$=$e-Q}return 1}return S.a=3,0}function et(S){t(S!=null),S.vc=null,S.yc=null,S.Ya=null;var T=S.Wa;T!=null&&(T.X=null),S.vb=null,t(S!=null)}function Nt(){var S=new lr;return S==null?null:(S.a=0,S.xb=x0,ht("Predictor","VP8LPredictors"),ht("Predictor","VP8LPredictors_C"),ht("PredictorAdd","VP8LPredictorsAdd"),ht("PredictorAdd","VP8LPredictorsAdd_C"),ds=pt,Cd=gt,kc=ot,Vo=xt,lo=Et,fa=St,zo=$t,I.VP8LMapColor32b=Ho,I.VP8LMapColor8b=Ec,S)}function Pt(S,T,Q,G,se){var oe=1,de=[S],Ae=[T],pe=G.m,we=G.s,Te=null,$e=0;e:for(;;){if(Q)for(;oe&&Z(pe,1);){var je=de,Le=Ae,De=G,Xe=1,Qe=De.m,Je=De.gc[De.ab],tt=Z(Qe,2);if(De.Oc&1<<tt)oe=0;else{switch(De.Oc|=1<<tt,Je.hc=tt,Je.Ea=je[0],Je.nc=Le[0],Je.K=[null],++De.ab,t(4>=De.ab),tt){case 0:case 1:Je.b=Z(Qe,3)+2,Xe=Pt(ke(Je.Ea,Je.b),ke(Je.nc,Je.b),0,De,Je.K),Je.K=Je.K[0];break;case 3:var vt,At=Z(Qe,8)+1,qt=16<At?0:4<At?1:2<At?2:3;if(je[0]=ke(Je.Ea,qt),Je.b=qt,vt=Xe=Pt(At,1,0,De,Je.K)){var Qt,_r=At,zt=Je,Qr=1<<(8>>zt.b),oi=a(Qr);if(oi==null)vt=0;else{var Cr=zt.K[0],Kt=zt.w;for(oi[0]=zt.K[0][0],Qt=1;Qt<1*_r;++Qt)oi[Qt]=He(Cr[Kt+Qt],oi[Qt-1]);for(;Qt<4*Qr;++Qt)oi[Qt]=0;zt.K[0]=null,zt.K[0]=oi,vt=1}}Xe=vt;break;case 2:break;default:t(0)}oe=Xe}}if(de=de[0],Ae=Ae[0],oe&&Z(pe,1)&&!(oe=1<=($e=Z(pe,4))&&11>=$e)){G.a=3;break e}var kt;if(kt=oe)t:{var Os,vr,zr,Vn=G,ki=de,ga=Ae,Ns=$e,Gi=Q,xa=Vn.m,li=Vn.s,Kr=[null],fn=1,_s=0,mn=Me[Ns];r:for(;;){if(Gi&&Z(xa,1)){var Pi=Z(xa,3)+2,Ql=ke(ki,Pi),Ls=ke(ga,Pi),Ha=Ql*Ls;if(!Pt(Ql,Ls,0,Vn,Kr))break r;for(Kr=Kr[0],li.xc=Pi,Os=0;Os<Ha;++Os){var En=Kr[Os]>>8&65535;Kr[Os]=En,En>=fn&&(fn=En+1)}}if(xa.h)break r;for(vr=0;5>vr;++vr){var ci=M[vr];!vr&&0<Ns&&(ci+=1<<Ns),_s<ci&&(_s=ci)}var uo=o(fn*mn,R),ya=fn,ho=o(ya,$);if(ho==null)var Ao=null;else t(65536>=ya),Ao=ho;var Va=a(_s);if(Ao==null||Va==null||uo==null){Vn.a=1;break r}var fo=uo;for(Os=zr=0;Os<fn;++Os){var Fn=Ao[Os],mo=Fn.G,$l=Fn.H,kA=0,Sd=1,Ii=0;for(vr=0;5>vr;++vr){ci=M[vr],mo[vr]=fo,$l[vr]=zr,!vr&&0<Ns&&(ci+=1<<Ns);s:{var fb,f_=ci,mb=Vn,b0=Va,pre=fo,gre=zr,m_=0,zu=mb.m,xre=Z(zu,1);if(i(b0,0,0,f_),xre){var yre=Z(zu,1)+1,vre=Z(zu,1),jT=Z(zu,vre==0?1:8);b0[jT]=1,yre==2&&(b0[jT=Z(zu,8)]=1);var pb=1}else{var NT=a(19),_T=Z(zu,4)+4;if(19<_T){mb.a=3;var gb=0;break s}for(fb=0;fb<_T;++fb)NT[le[fb]]=Z(zu,3);var p_=void 0,w0=void 0,CT=mb,bre=NT,xb=f_,ST=b0,g_=0,Ku=CT.m,BT=8,ET=o(128,R);n:for(;O(ET,0,7,bre,19);){if(Z(Ku,1)){var wre=2+2*Z(Ku,3);if((p_=2+Z(Ku,wre))>xb)break n}else p_=xb;for(w0=0;w0<xb&&p_--;){ce(Ku);var kT=ET[0+(127&W(Ku))];ie(Ku,Ku.u+kT.g);var Cm=kT.value;if(16>Cm)ST[w0++]=Cm,Cm!=0&&(BT=Cm);else{var jre=Cm==16,PT=Cm-16,Nre=k[PT],IT=Z(Ku,p[PT])+Nre;if(w0+IT>xb)break n;for(var _re=jre?BT:0;0<IT--;)ST[w0++]=_re}}g_=1;break n}g_||(CT.a=3),pb=g_}(pb=pb&&!zu.h)&&(m_=O(pre,gre,8,b0,f_)),pb&&m_!=0?gb=m_:(mb.a=3,gb=0)}if(gb==0)break r;if(Sd&&q[vr]==1&&(Sd=fo[zr].g==0),kA+=fo[zr].g,zr+=gb,3>=vr){var j0,x_=Va[0];for(j0=1;j0<ci;++j0)Va[j0]>x_&&(x_=Va[j0]);Ii+=x_}}if(Fn.nd=Sd,Fn.Qb=0,Sd&&(Fn.qb=(mo[3][$l[3]+0].value<<24|mo[1][$l[1]+0].value<<16|mo[2][$l[2]+0].value)>>>0,kA==0&&256>mo[0][$l[0]+0].value&&(Fn.Qb=1,Fn.qb+=mo[0][$l[0]+0].value<<8)),Fn.jc=!Fn.Qb&&6>Ii,Fn.jc){var yb,Bd=Fn;for(yb=0;yb<Qo;++yb){var Wu=yb,Gu=Bd.pd[Wu],vb=Bd.G[0][Bd.H[0]+Wu];256<=vb.value?(Gu.g=vb.g+256,Gu.value=vb.value):(Gu.g=0,Gu.value=0,Wu>>=Bt(vb,8,Gu),Wu>>=Bt(Bd.G[1][Bd.H[1]+Wu],16,Gu),Wu>>=Bt(Bd.G[2][Bd.H[2]+Wu],0,Gu),Bt(Bd.G[3][Bd.H[3]+Wu],24,Gu))}}}li.vc=Kr,li.Wb=fn,li.Ya=Ao,li.yc=uo,kt=1;break t}kt=0}if(!(oe=kt)){G.a=3;break e}if(0<$e){if(we.ua=1<<$e,!J(we.Wa,$e)){G.a=1,oe=0;break e}}else we.ua=0;var y_=G,TT=de,Cre=Ae,v_=y_.s,b_=v_.xc;if(y_.c=TT,y_.i=Cre,v_.md=ke(TT,b_),v_.wc=b_==0?-1:(1<<b_)-1,Q){G.xb=d_;break e}if((Te=a(de*Ae))==null){G.a=1,oe=0;break e}oe=(oe=Cn(G,Te,0,de,Ae,Ae,null))&&!pe.h;break e}return oe?(se!=null?se[0]=Te:(t(Te==null),t(Q)),G.$=0,Q||et(we)):et(we),oe}function ft(S,T){var Q=S.c*S.i,G=Q+T+16*T;return t(S.c<=T),S.V=a(G),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+Q+T,1)}function Ut(S,T){var Q=S.C,G=T-Q,se=S.V,oe=S.Ba+S.c*Q;for(t(T<=S.l.o);0<G;){var de=16<G?16:G,Ae=S.l.ma,pe=S.l.width,we=pe*de,Te=Ae.ca,$e=Ae.tb+pe*Q,je=S.Ta,Le=S.Ua;ni(S,de,se,oe),ab(je,Le,Te,$e,we),os(Ae,Q,Q+de,Te,$e,pe),G-=de,se+=de*S.c,Q+=de}t(Q==T),S.C=S.Ma=T}function bn(){this.ub=this.yd=this.td=this.Rb=0}function Fr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zn(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function xe(){this.Yb=function(){var S=[];return function T(Q,G,se){for(var oe=se[G],de=0;de<oe&&(Q.push(se.length>G+1?[]:0),!(se.length<G+1));de++)T(Q[de],G+1,se)}(S,0,[3,11]),S}()}function Ge(){this.jb=a(3),this.Wc=l([4,8],xe),this.Xc=l([4,17],xe)}function at(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function st(){this.ld=this.La=this.dd=this.tc=0}function er(){this.Na=this.la=0}function hn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function dr(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Si(){this.uc=this.M=this.Nb=0,this.wa=Array(new st),this.Y=0,this.ya=Array(new dr),this.aa=0,this.l=new rn}function jc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Fo(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new bn,this.Kc=new Fr,this.ed=new at,this.Qa=new Zn,this.Ic=this.$c=this.Aa=0,this.D=new Si,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,hn),this.Pa=new Ge,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jc),this.Hd=0,this.rb=Array(new er),this.sb=0,this.wa=Array(new st),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new dr),this.L=this.aa=0,this.gd=l([4,2],st),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yr(S,T){return 0>S?0:S>T?T:S}function rn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pu(){var S=new Fo;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,Jt||(Jt=ur)),S}function Sn(S,T,Q){return S.a==0&&(S.a=T,S.sc=Q,S.cb=0),0}function jl(S,T,Q){return 3<=Q&&S[T+0]==157&&S[T+1]==1&&S[T+2]==42}function La(S,T){if(S==null)return 0;if(S.a=0,S.sc="OK",T==null)return Sn(S,2,"null VP8Io passed to VP8GetHeaders()");var Q=T.data,G=T.w,se=T.ha;if(4>se)return Sn(S,7,"Truncated header.");var oe=Q[G+0]|Q[G+1]<<8|Q[G+2]<<16,de=S.Od;if(de.Rb=!(1&oe),de.td=oe>>1&7,de.yd=oe>>4&1,de.ub=oe>>5,3<de.td)return Sn(S,3,"Incorrect keyframe parameters.");if(!de.yd)return Sn(S,4,"Frame not displayable.");G+=3,se-=3;var Ae=S.Kc;if(de.Rb){if(7>se)return Sn(S,7,"cannot parse picture header");if(!jl(Q,G,se))return Sn(S,3,"Bad code word");Ae.c=16383&(Q[G+4]<<8|Q[G+3]),Ae.Td=Q[G+4]>>6,Ae.i=16383&(Q[G+6]<<8|Q[G+5]),Ae.Ud=Q[G+6]>>6,G+=7,se-=7,S.za=Ae.c+15>>4,S.Ub=Ae.i+15>>4,T.width=Ae.c,T.height=Ae.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((oe=S.Pa).jb,0,255,oe.jb.length),t((oe=S.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(de.ub>se)return Sn(S,7,"bad partition length");K(oe=S.m,Q,G,de.ub),G+=de.ub,se-=de.ub,de.Rb&&(Ae.Ld=he(oe),Ae.Kd=he(oe)),Ae=S.Qa;var pe,we=S.Pa;if(t(oe!=null),t(Ae!=null),Ae.Cb=he(oe),Ae.Cb){if(Ae.Bb=he(oe),he(oe)){for(Ae.Fb=he(oe),pe=0;4>pe;++pe)Ae.Zb[pe]=he(oe)?z(oe,7):0;for(pe=0;4>pe;++pe)Ae.Lb[pe]=he(oe)?z(oe,6):0}if(Ae.Bb)for(pe=0;3>pe;++pe)we.jb[pe]=he(oe)?H(oe,8):255}else Ae.Bb=0;if(oe.Ka)return Sn(S,3,"cannot parse segment header");if((Ae=S.ed).zd=he(oe),Ae.Tb=H(oe,6),Ae.wb=H(oe,3),Ae.Pc=he(oe),Ae.Pc&&he(oe)){for(we=0;4>we;++we)he(oe)&&(Ae.vd[we]=z(oe,6));for(we=0;4>we;++we)he(oe)&&(Ae.od[we]=z(oe,6))}if(S.L=Ae.Tb==0?0:Ae.zd?1:2,oe.Ka)return Sn(S,3,"cannot parse filter header");var Te=se;if(se=pe=G,G=pe+Te,Ae=Te,S.Xb=(1<<H(S.m,2))-1,Te<3*(we=S.Xb))Q=7;else{for(pe+=3*we,Ae-=3*we,Te=0;Te<we;++Te){var $e=Q[se+0]|Q[se+1]<<8|Q[se+2]<<16;$e>Ae&&($e=Ae),K(S.Jc[+Te],Q,pe,$e),pe+=$e,Ae-=$e,se+=3}K(S.Jc[+we],Q,pe,Ae),Q=pe<G?0:5}if(Q!=0)return Sn(S,Q,"cannot parse partitions");for(Q=H(pe=S.m,7),se=he(pe)?z(pe,4):0,G=he(pe)?z(pe,4):0,Ae=he(pe)?z(pe,4):0,we=he(pe)?z(pe,4):0,pe=he(pe)?z(pe,4):0,Te=S.Qa,$e=0;4>$e;++$e){if(Te.Cb){var je=Te.Zb[$e];Te.Fb||(je+=Q)}else{if(0<$e){S.pb[$e]=S.pb[0];continue}je=Q}var Le=S.pb[$e];Le.Sc[0]=dt[yr(je+se,127)],Le.Sc[1]=It[yr(je+0,127)],Le.Eb[0]=2*dt[yr(je+G,127)],Le.Eb[1]=101581*It[yr(je+Ae,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=dt[yr(je+we,117)],Le.Qc[1]=It[yr(je+pe,127)],Le.lc=je+pe}if(!de.Rb)return Sn(S,4,"Not a key frame.");for(he(oe),de=S.Pa,Q=0;4>Q;++Q){for(se=0;8>se;++se)for(G=0;3>G;++G)for(Ae=0;11>Ae;++Ae)we=ge(oe,Vu[Q][se][G][Ae])?H(oe,8):$a[Q][se][G][Ae],de.Wc[Q][se].Yb[G][Ae]=we;for(se=0;17>se;++se)de.Xc[Q][se]=de.Wc[Q][c_[se]]}return S.kc=he(oe),S.kc&&(S.Bd=H(oe,8)),S.cb=1}function ur(S,T,Q,G,se,oe,de){var Ae=T[se].Yb[Q];for(Q=0;16>se;++se){if(!ge(S,Ae[Q+0]))return se;for(;!ge(S,Ae[Q+1]);)if(Ae=T[++se].Yb[0],Q=0,se==16)return 16;var pe=T[se+1].Yb;if(ge(S,Ae[Q+2])){var we=S,Te=0;if(ge(we,(je=Ae)[($e=Q)+3]))if(ge(we,je[$e+6])){for(Ae=0,$e=2*(Te=ge(we,je[$e+8]))+(je=ge(we,je[$e+9+Te])),Te=0,je=Er[$e];je[Ae];++Ae)Te+=Te+ge(we,je[Ae]);Te+=3+(8<<$e)}else ge(we,je[$e+7])?(Te=7+2*ge(we,165),Te+=ge(we,145)):Te=5+ge(we,159);else Te=ge(we,je[$e+4])?3+ge(we,je[$e+5]):2;Ae=pe[2]}else Te=1,Ae=pe[1];pe=de+Bi[se],0>(we=S).b&&be(we);var $e,je=we.b,Le=($e=we.Ca>>1)-(we.I>>je)>>31;--we.b,we.Ca+=Le,we.Ca|=1,we.I-=($e+1&Le)<<je,oe[pe]=((Te^Le)-Le)*G[(0<se)+0]}return 16}function Ln(S){var T=S.rb[S.sb-1];T.la=0,T.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function $i(S,T,Q,G,se){se=S[T+Q+32*G]+(se>>3),S[T+Q+32*G]=-256&se?0>se?0:255:se}function Jn(S,T,Q,G,se,oe){$i(S,T,0,Q,G+se),$i(S,T,1,Q,G+oe),$i(S,T,2,Q,G-oe),$i(S,T,3,Q,G-se)}function vs(S){return(20091*S>>16)+S}function fm(S,T,Q,G){var se,oe=0,de=a(16);for(se=0;4>se;++se){var Ae=S[T+0]+S[T+8],pe=S[T+0]-S[T+8],we=(35468*S[T+4]>>16)-vs(S[T+12]),Te=vs(S[T+4])+(35468*S[T+12]>>16);de[oe+0]=Ae+Te,de[oe+1]=pe+we,de[oe+2]=pe-we,de[oe+3]=Ae-Te,oe+=4,T++}for(se=oe=0;4>se;++se)Ae=(S=de[oe+0]+4)+de[oe+8],pe=S-de[oe+8],we=(35468*de[oe+4]>>16)-vs(de[oe+12]),$i(Q,G,0,0,Ae+(Te=vs(de[oe+4])+(35468*de[oe+12]>>16))),$i(Q,G,1,0,pe+we),$i(Q,G,2,0,pe-we),$i(Q,G,3,0,Ae-Te),oe++,G+=32}function Iu(S,T,Q,G){var se=S[T+0]+4,oe=35468*S[T+4]>>16,de=vs(S[T+4]),Ae=35468*S[T+1]>>16;Jn(Q,G,0,se+de,S=vs(S[T+1]),Ae),Jn(Q,G,1,se+oe,S,Ae),Jn(Q,G,2,se-oe,S,Ae),Jn(Q,G,3,se-de,S,Ae)}function Nl(S,T,Q,G,se){fm(S,T,Q,G),se&&fm(S,T+16,Q,G+4)}function Xr(S,T,Q,G){Pc(S,T+0,Q,G,1),Pc(S,T+32,Q,G+128,1)}function Uo(S,T,Q,G){var se;for(S=S[T+0]+4,se=0;4>se;++se)for(T=0;4>T;++T)$i(Q,G,T,se,S)}function Nc(S,T,Q,G){S[T+0]&&Gr(S,T+0,Q,G),S[T+16]&&Gr(S,T+16,Q,G+4),S[T+32]&&Gr(S,T+32,Q,G+128),S[T+48]&&Gr(S,T+48,Q,G+128+4)}function Ro(S,T,Q,G){var se,oe=a(16);for(se=0;4>se;++se){var de=S[T+0+se]+S[T+12+se],Ae=S[T+4+se]+S[T+8+se],pe=S[T+4+se]-S[T+8+se],we=S[T+0+se]-S[T+12+se];oe[0+se]=de+Ae,oe[8+se]=de-Ae,oe[4+se]=we+pe,oe[12+se]=we-pe}for(se=0;4>se;++se)de=(S=oe[0+4*se]+3)+oe[3+4*se],Ae=oe[1+4*se]+oe[2+4*se],pe=oe[1+4*se]-oe[2+4*se],we=S-oe[3+4*se],Q[G+0]=de+Ae>>3,Q[G+16]=we+pe>>3,Q[G+32]=de-Ae>>3,Q[G+48]=we-pe>>3,G+=64}function _l(S,T,Q){var G,se=T-32,oe=Ki,de=255-S[se-1];for(G=0;G<Q;++G){var Ae,pe=oe,we=de+S[T-1];for(Ae=0;Ae<Q;++Ae)S[T+Ae]=pe[we+S[se+Ae]];T+=32}}function vd(S,T){_l(S,T,4)}function pA(S,T){_l(S,T,8)}function gA(S,T){_l(S,T,16)}function _c(S,T){var Q;for(Q=0;16>Q;++Q)n(S,T+32*Q,S,T-32,16)}function Tu(S,T){var Q;for(Q=16;0<Q;--Q)i(S,T,S[T-1],16),T+=32}function ha(S,T,Q){var G;for(G=0;16>G;++G)i(T,Q+32*G,S,16)}function Ou(S,T){var Q,G=16;for(Q=0;16>Q;++Q)G+=S[T-1+32*Q]+S[T+Q-32];ha(G>>5,S,T)}function Cc(S,T){var Q,G=8;for(Q=0;16>Q;++Q)G+=S[T-1+32*Q];ha(G>>4,S,T)}function bd(S,T){var Q,G=8;for(Q=0;16>Q;++Q)G+=S[T+Q-32];ha(G>>4,S,T)}function u0(S,T){ha(128,S,T)}function _t(S,T,Q){return S+2*T+Q+2>>2}function Fa(S,T){var Q,G=T-32;for(G=new Uint8Array([_t(S[G-1],S[G+0],S[G+1]),_t(S[G+0],S[G+1],S[G+2]),_t(S[G+1],S[G+2],S[G+3]),_t(S[G+2],S[G+3],S[G+4])]),Q=0;4>Q;++Q)n(S,T+32*Q,G,0,G.length)}function nn(S,T){var Q=S[T-1],G=S[T-1+32],se=S[T-1+64],oe=S[T-1+96];Se(S,T+0,16843009*_t(S[T-1-32],Q,G)),Se(S,T+32,16843009*_t(Q,G,se)),Se(S,T+64,16843009*_t(G,se,oe)),Se(S,T+96,16843009*_t(se,oe,oe))}function mm(S,T){var Q,G=4;for(Q=0;4>Q;++Q)G+=S[T+Q-32]+S[T-1+32*Q];for(G>>=3,Q=0;4>Q;++Q)i(S,T+32*Q,G,4)}function so(S,T){var Q=S[T-1+0],G=S[T-1+32],se=S[T-1+64],oe=S[T-1-32],de=S[T+0-32],Ae=S[T+1-32],pe=S[T+2-32],we=S[T+3-32];S[T+0+96]=_t(G,se,S[T-1+96]),S[T+1+96]=S[T+0+64]=_t(Q,G,se),S[T+2+96]=S[T+1+64]=S[T+0+32]=_t(oe,Q,G),S[T+3+96]=S[T+2+64]=S[T+1+32]=S[T+0+0]=_t(de,oe,Q),S[T+3+64]=S[T+2+32]=S[T+1+0]=_t(Ae,de,oe),S[T+3+32]=S[T+2+0]=_t(pe,Ae,de),S[T+3+0]=_t(we,pe,Ae)}function io(S,T){var Q=S[T+1-32],G=S[T+2-32],se=S[T+3-32],oe=S[T+4-32],de=S[T+5-32],Ae=S[T+6-32],pe=S[T+7-32];S[T+0+0]=_t(S[T+0-32],Q,G),S[T+1+0]=S[T+0+32]=_t(Q,G,se),S[T+2+0]=S[T+1+32]=S[T+0+64]=_t(G,se,oe),S[T+3+0]=S[T+2+32]=S[T+1+64]=S[T+0+96]=_t(se,oe,de),S[T+3+32]=S[T+2+64]=S[T+1+96]=_t(oe,de,Ae),S[T+3+64]=S[T+2+96]=_t(de,Ae,pe),S[T+3+96]=_t(Ae,pe,pe)}function xA(S,T){var Q=S[T-1+0],G=S[T-1+32],se=S[T-1+64],oe=S[T-1-32],de=S[T+0-32],Ae=S[T+1-32],pe=S[T+2-32],we=S[T+3-32];S[T+0+0]=S[T+1+64]=oe+de+1>>1,S[T+1+0]=S[T+2+64]=de+Ae+1>>1,S[T+2+0]=S[T+3+64]=Ae+pe+1>>1,S[T+3+0]=pe+we+1>>1,S[T+0+96]=_t(se,G,Q),S[T+0+64]=_t(G,Q,oe),S[T+0+32]=S[T+1+96]=_t(Q,oe,de),S[T+1+32]=S[T+2+96]=_t(oe,de,Ae),S[T+2+32]=S[T+3+96]=_t(de,Ae,pe),S[T+3+32]=_t(Ae,pe,we)}function Cl(S,T){var Q=S[T+0-32],G=S[T+1-32],se=S[T+2-32],oe=S[T+3-32],de=S[T+4-32],Ae=S[T+5-32],pe=S[T+6-32],we=S[T+7-32];S[T+0+0]=Q+G+1>>1,S[T+1+0]=S[T+0+64]=G+se+1>>1,S[T+2+0]=S[T+1+64]=se+oe+1>>1,S[T+3+0]=S[T+2+64]=oe+de+1>>1,S[T+0+32]=_t(Q,G,se),S[T+1+32]=S[T+0+96]=_t(G,se,oe),S[T+2+32]=S[T+1+96]=_t(se,oe,de),S[T+3+32]=S[T+2+96]=_t(oe,de,Ae),S[T+3+64]=_t(de,Ae,pe),S[T+3+96]=_t(Ae,pe,we)}function Sc(S,T){var Q=S[T-1+0],G=S[T-1+32],se=S[T-1+64],oe=S[T-1+96];S[T+0+0]=Q+G+1>>1,S[T+2+0]=S[T+0+32]=G+se+1>>1,S[T+2+32]=S[T+0+64]=se+oe+1>>1,S[T+1+0]=_t(Q,G,se),S[T+3+0]=S[T+1+32]=_t(G,se,oe),S[T+3+32]=S[T+1+64]=_t(se,oe,oe),S[T+3+64]=S[T+2+64]=S[T+0+96]=S[T+1+96]=S[T+2+96]=S[T+3+96]=oe}function Sl(S,T){var Q=S[T-1+0],G=S[T-1+32],se=S[T-1+64],oe=S[T-1+96],de=S[T-1-32],Ae=S[T+0-32],pe=S[T+1-32],we=S[T+2-32];S[T+0+0]=S[T+2+32]=Q+de+1>>1,S[T+0+32]=S[T+2+64]=G+Q+1>>1,S[T+0+64]=S[T+2+96]=se+G+1>>1,S[T+0+96]=oe+se+1>>1,S[T+3+0]=_t(Ae,pe,we),S[T+2+0]=_t(de,Ae,pe),S[T+1+0]=S[T+3+32]=_t(Q,de,Ae),S[T+1+32]=S[T+3+64]=_t(G,Q,de),S[T+1+64]=S[T+3+96]=_t(se,G,Q),S[T+1+96]=_t(oe,se,G)}function $n(S,T){var Q;for(Q=0;8>Q;++Q)n(S,T+32*Q,S,T-32,8)}function Bl(S,T){var Q;for(Q=0;8>Q;++Q)i(S,T,S[T-1],8),T+=32}function Do(S,T,Q){var G;for(G=0;8>G;++G)i(T,Q+32*G,S,8)}function pm(S,T){var Q,G=8;for(Q=0;8>Q;++Q)G+=S[T+Q-32]+S[T-1+32*Q];Do(G>>4,S,T)}function yA(S,T){var Q,G=4;for(Q=0;8>Q;++Q)G+=S[T+Q-32];Do(G>>3,S,T)}function Lu(S,T){var Q,G=4;for(Q=0;8>Q;++Q)G+=S[T-1+32*Q];Do(G>>3,S,T)}function Fu(S,T){Do(128,S,T)}function El(S,T,Q){var G=S[T-Q],se=S[T+0],oe=3*(se-G)+Hu[1020+S[T-2*Q]-S[T+Q]],de=Ic[112+(oe+4>>3)];S[T-Q]=Ki[255+G+Ic[112+(oe+3>>3)]],S[T+0]=Ki[255+se-de]}function Uu(S,T,Q,G){var se=S[T+0],oe=S[T+Q];return pa[255+S[T-2*Q]-S[T-Q]]>G||pa[255+oe-se]>G}function Nr(S,T,Q,G){return 4*pa[255+S[T-Q]-S[T+0]]+pa[255+S[T-2*Q]-S[T+Q]]<=G}function vA(S,T,Q,G,se){var oe=S[T-3*Q],de=S[T-2*Q],Ae=S[T-Q],pe=S[T+0],we=S[T+Q],Te=S[T+2*Q],$e=S[T+3*Q];return 4*pa[255+Ae-pe]+pa[255+de-we]>G?0:pa[255+S[T-4*Q]-oe]<=se&&pa[255+oe-de]<=se&&pa[255+de-Ae]<=se&&pa[255+$e-Te]<=se&&pa[255+Te-we]<=se&&pa[255+we-pe]<=se}function si(S,T,Q,G){var se=2*G+1;for(G=0;16>G;++G)Nr(S,T+G,Q,se)&&El(S,T+G,Q)}function kl(S,T,Q,G){var se=2*G+1;for(G=0;16>G;++G)Nr(S,T+G*Q,1,se)&&El(S,T+G*Q,1)}function bA(S,T,Q,G){var se;for(se=3;0<se;--se)si(S,T+=4*Q,Q,G)}function gm(S,T,Q,G){var se;for(se=3;0<se;--se)kl(S,T+=4,Q,G)}function ao(S,T,Q,G,se,oe,de,Ae){for(oe=2*oe+1;0<se--;){if(vA(S,T,Q,oe,de))if(Uu(S,T,Q,Ae))El(S,T,Q);else{var pe=S,we=T,Te=Q,$e=pe[we-2*Te],je=pe[we-Te],Le=pe[we+0],De=pe[we+Te],Xe=pe[we+2*Te],Qe=27*(tt=Hu[1020+3*(Le-je)+Hu[1020+$e-De]])+63>>7,Je=18*tt+63>>7,tt=9*tt+63>>7;pe[we-3*Te]=Ki[255+pe[we-3*Te]+tt],pe[we-2*Te]=Ki[255+$e+Je],pe[we-Te]=Ki[255+je+Qe],pe[we+0]=Ki[255+Le-Qe],pe[we+Te]=Ki[255+De-Je],pe[we+2*Te]=Ki[255+Xe-tt]}T+=G}}function Pl(S,T,Q,G,se,oe,de,Ae){for(oe=2*oe+1;0<se--;){if(vA(S,T,Q,oe,de))if(Uu(S,T,Q,Ae))El(S,T,Q);else{var pe=S,we=T,Te=Q,$e=pe[we-Te],je=pe[we+0],Le=pe[we+Te],De=Ic[112+(4+(Xe=3*(je-$e))>>3)],Xe=Ic[112+(Xe+3>>3)],Qe=De+1>>1;pe[we-2*Te]=Ki[255+pe[we-2*Te]+Qe],pe[we-Te]=Ki[255+$e+Xe],pe[we+0]=Ki[255+je-De],pe[we+Te]=Ki[255+Le-Qe]}T+=G}}function wA(S,T,Q,G,se,oe){ao(S,T,Q,1,16,G,se,oe)}function wd(S,T,Q,G,se,oe){ao(S,T,1,Q,16,G,se,oe)}function xm(S,T,Q,G,se,oe){var de;for(de=3;0<de;--de)Pl(S,T+=4*Q,Q,1,16,G,se,oe)}function D(S,T,Q,G,se,oe){var de;for(de=3;0<de;--de)Pl(S,T+=4,1,Q,16,G,se,oe)}function ne(S,T,Q,G,se,oe,de,Ae){ao(S,T,se,1,8,oe,de,Ae),ao(Q,G,se,1,8,oe,de,Ae)}function ve(S,T,Q,G,se,oe,de,Ae){ao(S,T,1,se,8,oe,de,Ae),ao(Q,G,1,se,8,oe,de,Ae)}function Pe(S,T,Q,G,se,oe,de,Ae){Pl(S,T+4*se,se,1,8,oe,de,Ae),Pl(Q,G+4*se,se,1,8,oe,de,Ae)}function Ue(S,T,Q,G,se,oe,de,Ae){Pl(S,T+4,1,se,8,oe,de,Ae),Pl(Q,G+4,1,se,8,oe,de,Ae)}function qe(){this.ba=new Ke,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Vt(){this.ua=0,this.Wa=new ye,this.vb=new ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new R}function lr(){this.xb=this.a=0,this.l=new rn,this.ca=new Ke,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Vt,this.ab=0,this.gc=o(4,Rt),this.Oc=0}function mr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ur(S,T,Q,G,se,oe,de){for(S=S==null?0:S[T+0],T=0;T<de;++T)se[oe+T]=S+Q[G+T]&255,S=se[oe+T]}function Hn(S,T,Q,G,se,oe,de){var Ae;if(S==null)Ur(null,null,Q,G,se,oe,de);else for(Ae=0;Ae<de;++Ae)se[oe+Ae]=S[T+Ae]+Q[G+Ae]&255}function bs(S,T,Q,G,se,oe,de){if(S==null)Ur(null,null,Q,G,se,oe,de);else{var Ae,pe=S[T+0],we=pe,Te=pe;for(Ae=0;Ae<de;++Ae)we=Te+(pe=S[T+Ae])-we,Te=Q[G+Ae]+(-256&we?0>we?0:255:we)&255,we=pe,se[oe+Ae]=Te}}function sn(S,T,Q,G){var se=T.width,oe=T.o;if(t(S!=null&&T!=null),0>Q||0>=G||Q+G>oe)return null;if(!S.Cc){if(S.ga==null){var de;if(S.ga=new mr,(de=S.ga==null)||(de=T.width*T.o,t(S.Gb.length==0),S.Gb=a(de),S.Uc=0,S.Gb==null?de=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,de=1),de=!de),!de){de=S.ga;var Ae=S.Fa,pe=S.P,we=S.qc,Te=S.mb,$e=S.nb,je=pe+1,Le=we-1,De=de.l;if(t(Ae!=null&&Te!=null&&T!=null),An[0]=null,An[1]=Ur,An[2]=Hn,An[3]=bs,de.ca=Te,de.tb=$e,de.c=T.width,de.i=T.height,t(0<de.c&&0<de.i),1>=we)T=0;else if(de.$a=3&Ae[pe+0],de.Z=Ae[pe+0]>>2&3,de.Lc=Ae[pe+0]>>4&3,pe=Ae[pe+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||pe)T=0;else if(De.put=Ft,De.ac=gr,De.bc=xs,De.ma=de,De.width=T.width,De.height=T.height,De.Da=T.Da,De.v=T.v,De.va=T.va,De.j=T.j,De.o=T.o,de.$a)e:{t(de.$a==1),T=Nt();t:for(;;){if(T==null){T=0;break e}if(t(de!=null),de.mc=T,T.c=de.c,T.i=de.i,T.l=de.l,T.l.ma=de,T.l.width=de.c,T.l.height=de.i,T.a=0,te(T.m,Ae,je,Le),!Pt(de.c,de.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&as(T.s)?(de.ic=1,Ae=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(Ae),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(de.ic=0,T=ft(T,de.c)),!T))break t;T=1;break e}de.mc=null,T=0}else T=Le>=de.c*de.i;de=!T}if(de)return null;S.ga.Lc!=1?S.Ga=0:G=oe-Q}t(S.ga!=null),t(Q+G<=oe);e:{if(T=(Ae=S.ga).c,oe=Ae.l.o,Ae.$a==0){if(je=S.rc,Le=S.Vc,De=S.Fa,pe=S.P+1+Q*T,we=S.mb,Te=S.nb+Q*T,t(pe<=S.P+S.qc),Ae.Z!=0)for(t(An[Ae.Z]!=null),de=0;de<G;++de)An[Ae.Z](je,Le,De,pe,we,Te,T),je=we,Le=Te,Te+=T,pe+=T;else for(de=0;de<G;++de)n(we,Te,De,pe,T),je=we,Le=Te,Te+=T,pe+=T;S.rc=je,S.Vc=Le}else{if(t(Ae.mc!=null),T=Q+G,t((de=Ae.mc)!=null),t(T<=de.i),de.C>=T)T=1;else if(Ae.ic||ii(),Ae.ic){Ae=de.V,je=de.Ba,Le=de.c;var Xe=de.i,Qe=(De=1,pe=de.$/Le,we=de.$%Le,Te=de.m,$e=de.s,de.$),Je=Le*Xe,tt=Le*T,vt=$e.wc,At=Qe<tt?un($e,we,pe):null;t(Qe<=Je),t(T<=Xe),t(as($e));t:for(;;){for(;!Te.h&&Qe<tt;){if(we&vt||(At=un($e,we,pe)),t(At!=null),ce(Te),256>(Xe=br(At.G[0],At.H[0],Te)))Ae[je+Qe]=Xe,++Qe,++we>=Le&&(we=0,++pe<=T&&!(pe%16)&&ls(de,pe));else{if(!(280>Xe)){De=0;break t}Xe=On(Xe-256,Te);var qt,Qt=br(At.G[4],At.H[4],Te);if(ce(Te),!(Qe>=(Qt=is(Le,Qt=On(Qt,Te)))&&Je-Qe>=Xe)){De=0;break t}for(qt=0;qt<Xe;++qt)Ae[je+Qe+qt]=Ae[je+Qe+qt-Qt];for(Qe+=Xe,we+=Xe;we>=Le;)we-=Le,++pe<=T&&!(pe%16)&&ls(de,pe);Qe<tt&&we&vt&&(At=un($e,we,pe))}t(Te.h==ae(Te))}ls(de,pe>T?T:pe);break t}!De||Te.h&&Qe<Je?(De=0,de.a=Te.h?5:3):de.$=Qe,T=De}else T=Cn(de,de.V,de.Ba,de.c,de.i,T,Ut);if(!T){G=0;break e}}Q+G>=oe&&(S.Cc=1),G=1}if(!G)return null;if(S.Cc&&((G=S.ga)!=null&&(G.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+Q*se}function Ps(S,T,Q,G,se,oe){for(;0<se--;){var de,Ae=S,pe=T+(Q?1:0),we=S,Te=T+(Q?0:3);for(de=0;de<G;++de){var $e=we[Te+4*de];$e!=255&&($e*=32897,Ae[pe+4*de+0]=Ae[pe+4*de+0]*$e>>23,Ae[pe+4*de+1]=Ae[pe+4*de+1]*$e>>23,Ae[pe+4*de+2]=Ae[pe+4*de+2]*$e>>23)}T+=oe}}function cs(S,T,Q,G,se){for(;0<G--;){var oe;for(oe=0;oe<Q;++oe){var de=S[T+2*oe+0],Ae=15&(we=S[T+2*oe+1]),pe=4369*Ae,we=(240&we|we>>4)*pe>>16;S[T+2*oe+0]=(240&de|de>>4)*pe>>16&240|(15&de|de<<4)*pe>>16>>4&15,S[T+2*oe+1]=240&we|Ae}T+=se}}function zs(S,T,Q,G,se,oe,de,Ae){var pe,we,Te=255;for(we=0;we<se;++we){for(pe=0;pe<G;++pe){var $e=S[T+pe];oe[de+4*pe]=$e,Te&=$e}T+=Q,de+=Ae}return Te!=255}function Ua(S,T,Q,G,se){var oe;for(oe=0;oe<se;++oe)Q[G+oe]=S[T+oe]>>8}function ii(){Wo=Ps,A0=cs,f0=zs,ab=Ua}function Il(S,T,Q){I[S]=function(G,se,oe,de,Ae,pe,we,Te,$e,je,Le,De,Xe,Qe,Je,tt,vt){var At,qt=vt-1>>1,Qt=Ae[pe+0]|we[Te+0]<<16,_r=$e[je+0]|Le[De+0]<<16;t(G!=null);var zt=3*Qt+_r+131074>>2;for(T(G[se+0],255&zt,zt>>16,Xe,Qe),oe!=null&&(zt=3*_r+Qt+131074>>2,T(oe[de+0],255&zt,zt>>16,Je,tt)),At=1;At<=qt;++At){var Qr=Ae[pe+At]|we[Te+At]<<16,oi=$e[je+At]|Le[De+At]<<16,Cr=Qt+Qr+_r+oi+524296,Kt=Cr+2*(Qr+_r)>>3;zt=Kt+Qt>>1,Qt=(Cr=Cr+2*(Qt+oi)>>3)+Qr>>1,T(G[se+2*At-1],255&zt,zt>>16,Xe,Qe+(2*At-1)*Q),T(G[se+2*At-0],255&Qt,Qt>>16,Xe,Qe+(2*At-0)*Q),oe!=null&&(zt=Cr+_r>>1,Qt=Kt+oi>>1,T(oe[de+2*At-1],255&zt,zt>>16,Je,tt+(2*At-1)*Q),T(oe[de+2*At+0],255&Qt,Qt>>16,Je,tt+(2*At+0)*Q)),Qt=Qr,_r=oi}1&vt||(zt=3*Qt+_r+131074>>2,T(G[se+vt-1],255&zt,zt>>16,Xe,Qe+(vt-1)*Q),oe!=null&&(zt=3*_r+Qt+131074>>2,T(oe[de+vt-1],255&zt,zt>>16,Je,tt+(vt-1)*Q)))}}function Tl(){Ei[vm]=u_,Ei[SA]=cb,Ei[g0]=h_,Ei[BA]=_m,Ei[EA]=y0,Ei[bm]=db,Ei[lb]=are,Ei[wm]=cb,Ei[jm]=_m,Ei[Nm]=y0,Ei[h]=db}function ai(S){return S&-16384?0>S?0:255:S>>ore}function Ol(S,T){return ai((19077*S>>8)+(26149*T>>8)-14234)}function Bc(S,T,Q){return ai((19077*S>>8)-(6419*T>>8)-(13320*Q>>8)+8708)}function jd(S,T){return ai((19077*S>>8)+(33050*T>>8)-17685)}function Mo(S,T,Q,G,se){G[se+0]=Ol(S,Q),G[se+1]=Bc(S,T,Q),G[se+2]=jd(S,T)}function Is(S,T,Q,G,se){G[se+0]=jd(S,T),G[se+1]=Bc(S,T,Q),G[se+2]=Ol(S,Q)}function Nd(S,T,Q,G,se){var oe=Bc(S,T,Q);T=oe<<3&224|jd(S,T)>>3,G[se+0]=248&Ol(S,Q)|oe>>5,G[se+1]=T}function _d(S,T,Q,G,se){var oe=240&jd(S,T)|15;G[se+0]=240&Ol(S,Q)|Bc(S,T,Q)>>4,G[se+1]=oe}function Ru(S,T,Q,G,se){G[se+0]=255,Mo(S,T,Q,G,se+1)}function jA(S,T,Q,G,se){Is(S,T,Q,G,se),G[se+3]=255}function Bn(S,T,Q,G,se){Mo(S,T,Q,G,se),G[se+3]=255}function Hi(S,T,Q){I[S]=function(G,se,oe,de,Ae,pe,we,Te,$e){for(var je=Te+(-2&$e)*Q;Te!=je;)T(G[se+0],oe[de+0],Ae[pe+0],we,Te),T(G[se+1],oe[de+0],Ae[pe+0],we,Te+Q),se+=2,++de,++pe,Te+=2*Q;1&$e&&T(G[se+0],oe[de+0],Ae[pe+0],we,Te)}}function Du(S,T,Q){return Q==0?S==0?T==0?6:5:T==0?4:0:Q}function Ra(S,T,Q,G,se){switch(S>>>30){case 3:Pc(T,Q,G,se,0);break;case 2:Qa(T,Q,G,se);break;case 1:Gr(T,Q,G,se)}}function Da(S,T){var Q,G,se=T.M,oe=T.Nb,de=S.oc,Ae=S.pc+40,pe=S.oc,we=S.pc+584,Te=S.oc,$e=S.pc+600;for(Q=0;16>Q;++Q)de[Ae+32*Q-1]=129;for(Q=0;8>Q;++Q)pe[we+32*Q-1]=129,Te[$e+32*Q-1]=129;for(0<se?de[Ae-1-32]=pe[we-1-32]=Te[$e-1-32]=129:(i(de,Ae-32-1,127,21),i(pe,we-32-1,127,9),i(Te,$e-32-1,127,9)),G=0;G<S.za;++G){var je=T.ya[T.aa+G];if(0<G){for(Q=-1;16>Q;++Q)n(de,Ae+32*Q-4,de,Ae+32*Q+12,4);for(Q=-1;8>Q;++Q)n(pe,we+32*Q-4,pe,we+32*Q+4,4),n(Te,$e+32*Q-4,Te,$e+32*Q+4,4)}var Le=S.Gd,De=S.Hd+G,Xe=je.ad,Qe=je.Hc;if(0<se&&(n(de,Ae-32,Le[De].y,0,16),n(pe,we-32,Le[De].f,0,8),n(Te,$e-32,Le[De].ea,0,8)),je.Za){var Je=de,tt=Ae-32+16;for(0<se&&(G>=S.za-1?i(Je,tt,Le[De].y[15],4):n(Je,tt,Le[De+1].y,0,4)),Q=0;4>Q;Q++)Je[tt+128+Q]=Je[tt+256+Q]=Je[tt+384+Q]=Je[tt+0+Q];for(Q=0;16>Q;++Q,Qe<<=2)Je=de,tt=Ae+bT[Q],co[je.Ob[Q]](Je,tt),Ra(Qe,Xe,16*+Q,Je,tt)}else if(Je=Du(G,se,je.Ob[0]),Tc[Je](de,Ae),Qe!=0)for(Q=0;16>Q;++Q,Qe<<=2)Ra(Qe,Xe,16*+Q,de,Ae+bT[Q]);for(Q=je.Gc,Je=Du(G,se,je.Dd),qo[Je](pe,we),qo[Je](Te,$e),Qe=Xe,Je=pe,tt=we,255&(je=0|Q)&&(170&je?ma(Qe,256,Je,tt):an(Qe,256,Je,tt)),je=Te,Qe=$e,255&(Q>>=8)&&(170&Q?ma(Xe,320,je,Qe):an(Xe,320,je,Qe)),se<S.Ub-1&&(n(Le[De].y,0,de,Ae+480,16),n(Le[De].f,0,pe,we+224,8),n(Le[De].ea,0,Te,$e+224,8)),Q=8*oe*S.B,Le=S.sa,De=S.ta+16*G+16*oe*S.R,Xe=S.qa,je=S.ra+8*G+Q,Qe=S.Ha,Je=S.Ia+8*G+Q,Q=0;16>Q;++Q)n(Le,De+Q*S.R,de,Ae+32*Q,16);for(Q=0;8>Q;++Q)n(Xe,je+Q*S.B,pe,we+32*Q,8),n(Qe,Je+Q*S.B,Te,$e+32*Q,8)}}function Ma(S,T,Q,G,se,oe,de,Ae,pe){var we=[0],Te=[0],$e=0,je=pe!=null?pe.kd:0,Le=pe??new ct;if(S==null||12>Q)return 7;Le.data=S,Le.w=T,Le.ha=Q,T=[T],Q=[Q],Le.gb=[Le.gb];e:{var De=T,Xe=Q,Qe=Le.gb;if(t(S!=null),t(Xe!=null),t(Qe!=null),Qe[0]=0,12<=Xe[0]&&!r(S,De[0],"RIFF")){if(r(S,De[0]+8,"WEBP")){Qe=3;break e}var Je=ue(S,De[0]+4);if(12>Je||4294967286<Je){Qe=3;break e}if(je&&Je>Xe[0]-8){Qe=7;break e}Qe[0]=Je,De[0]+=12,Xe[0]-=12}Qe=0}if(Qe!=0)return Qe;for(Je=0<Le.gb[0],Q=Q[0];;){e:{var tt=S;Xe=T,Qe=Q;var vt=we,At=Te,qt=De=[0];if((zt=$e=[$e])[0]=0,8>Qe[0])Qe=7;else{if(!r(tt,Xe[0],"VP8X")){if(ue(tt,Xe[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var Qt=ue(tt,Xe[0]+8),_r=1+_e(tt,Xe[0]+12);if(2147483648<=_r*(tt=1+_e(tt,Xe[0]+15))){Qe=3;break e}qt!=null&&(qt[0]=Qt),vt!=null&&(vt[0]=_r),At!=null&&(At[0]=tt),Xe[0]+=18,Qe[0]-=18,zt[0]=1}Qe=0}}if($e=$e[0],De=De[0],Qe!=0)return Qe;if(Xe=!!(2&De),!Je&&$e)return 3;if(oe!=null&&(oe[0]=!!(16&De)),de!=null&&(de[0]=Xe),Ae!=null&&(Ae[0]=0),de=we[0],De=Te[0],$e&&Xe&&pe==null){Qe=0;break}if(4>Q){Qe=7;break}if(Je&&$e||!Je&&!$e&&!r(S,T[0],"ALPH")){Q=[Q],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Qt=S,Qe=T,Je=Q;var zt=Le.gb;vt=Le.na,At=Le.P,qt=Le.Sa,_r=22,t(Qt!=null),t(Je!=null),tt=Qe[0];var Qr=Je[0];for(t(vt!=null),t(qt!=null),vt[0]=null,At[0]=null,qt[0]=0;;){if(Qe[0]=tt,Je[0]=Qr,8>Qr){Qe=7;break e}var oi=ue(Qt,tt+4);if(4294967286<oi){Qe=3;break e}var Cr=8+oi+1&-2;if(_r+=Cr,0<zt&&_r>zt){Qe=3;break e}if(!r(Qt,tt,"VP8 ")||!r(Qt,tt,"VP8L")){Qe=0;break e}if(Qr[0]<Cr){Qe=7;break e}r(Qt,tt,"ALPH")||(vt[0]=Qt,At[0]=tt+8,qt[0]=oi),tt+=Cr,Qr-=Cr}}if(Q=Q[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Qe!=0)break}Q=[Q],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(zt=S,Qe=T,Je=Q,vt=Le.gb[0],At=Le.Ja,qt=Le.xa,Qt=Qe[0],tt=!r(zt,Qt,"VP8 "),_r=!r(zt,Qt,"VP8L"),t(zt!=null),t(Je!=null),t(At!=null),t(qt!=null),8>Je[0])Qe=7;else{if(tt||_r){if(zt=ue(zt,Qt+4),12<=vt&&zt>vt-12){Qe=3;break e}if(je&&zt>Je[0]-8){Qe=7;break e}At[0]=zt,Qe[0]+=8,Je[0]-=8,qt[0]=_r}else qt[0]=5<=Je[0]&&zt[Qt+0]==47&&!(zt[Qt+4]>>5),At[0]=Je[0];Qe=0}if(Q=Q[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],T=T[0],Qe!=0)break;if(4294967286<Le.Ja)return 3;if(Ae==null||Xe||(Ae[0]=Le.xa?2:1),de=[de],De=[De],Le.xa){if(5>Q){Qe=7;break}Ae=de,je=De,Xe=oe,S==null||5>Q?S=0:5<=Q&&S[T+0]==47&&!(S[T+4]>>5)?(Je=[0],zt=[0],vt=[0],te(At=new X,S,T,Q),ys(At,Je,zt,vt)?(Ae!=null&&(Ae[0]=Je[0]),je!=null&&(je[0]=zt[0]),Xe!=null&&(Xe[0]=vt[0]),S=1):S=0):S=0}else{if(10>Q){Qe=7;break}Ae=De,S==null||10>Q||!jl(S,T+3,Q-3)?S=0:(je=S[T+0]|S[T+1]<<8|S[T+2]<<16,Xe=16383&(S[T+7]<<8|S[T+6]),S=16383&(S[T+9]<<8|S[T+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=Le.Ja||!Xe||!S?S=0:(de&&(de[0]=Xe),Ae&&(Ae[0]=S),S=1))}if(!S||(de=de[0],De=De[0],$e&&(we[0]!=de||Te[0]!=De)))return 3;pe!=null&&(pe[0]=Le,pe.offset=T-pe.w,t(4294967286>T-pe.w),t(pe.offset==pe.ha-Q));break}return Qe==0||Qe==7&&$e&&pe==null?(oe!=null&&(oe[0]|=Le.na!=null&&0<Le.na.length),G!=null&&(G[0]=de),se!=null&&(se[0]=De),0):Qe}function NA(S,T,Q){var G=T.width,se=T.height,oe=0,de=0,Ae=G,pe=se;if(T.Da=S!=null&&0<S.Da,T.Da&&(Ae=S.cd,pe=S.bd,oe=S.v,de=S.j,11>Q||(oe&=-2,de&=-2),0>oe||0>de||0>=Ae||0>=pe||oe+Ae>G||de+pe>se))return 0;if(T.v=oe,T.j=de,T.va=oe+Ae,T.o=de+pe,T.U=Ae,T.T=pe,T.da=S!=null&&0<S.da,T.da){if(!Ie(Ae,pe,Q=[S.ib],oe=[S.hb]))return 0;T.ib=Q[0],T.hb=oe[0]}return T.ob=S!=null&&S.ob,T.Kb=S==null||!S.Sd,T.da&&(T.ob=T.ib<3*G/4&&T.hb<3*se/4,T.Kb=0),1}function Ll(S){if(S==null)return 2;if(11>S.S){var T=S.f.RGBA;T.fb+=(S.height-1)*T.A,T.A=-T.A}else T=S.f.kb,S=S.height,T.O+=(S-1)*T.fa,T.fa=-T.fa,T.N+=(S-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(S-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(S-1)*T.lb,T.lb=-T.lb);return 0}function Fl(S,T,Q,G){if(G==null||0>=S||0>=T)return 2;if(Q!=null){if(Q.Da){var se=Q.cd,oe=Q.bd,de=-2&Q.v,Ae=-2&Q.j;if(0>de||0>Ae||0>=se||0>=oe||de+se>S||Ae+oe>T)return 2;S=se,T=oe}if(Q.da){if(!Ie(S,T,se=[Q.ib],oe=[Q.hb]))return 2;S=se[0],T=oe[0]}}G.width=S,G.height=T;e:{var pe=G.width,we=G.height;if(S=G.S,0>=pe||0>=we||!(S>=vm&&13>S))S=2;else{if(0>=G.Rd&&G.sd==null){de=oe=se=T=0;var Te=(Ae=pe*wT[S])*we;if(11>S||(oe=(we+1)/2*(T=(pe+1)/2),S==12&&(de=(se=pe)*we)),(we=a(Te+2*oe+de))==null){S=1;break e}G.sd=we,11>S?((pe=G.f.RGBA).eb=we,pe.fb=0,pe.A=Ae,pe.size=Te):((pe=G.f.kb).y=we,pe.O=0,pe.fa=Ae,pe.Fd=Te,pe.f=we,pe.N=0+Te,pe.Ab=T,pe.Cd=oe,pe.ea=we,pe.W=0+Te+oe,pe.Db=T,pe.Ed=oe,S==12&&(pe.F=we,pe.J=0+Te+2*oe),pe.Tc=de,pe.lb=se)}if(T=1,se=G.S,oe=G.width,de=G.height,se>=vm&&13>se)if(11>se)S=G.f.RGBA,T&=(Ae=Math.abs(S.A))*(de-1)+oe<=S.size,T&=Ae>=oe*wT[se],T&=S.eb!=null;else{S=G.f.kb,Ae=(oe+1)/2,Te=(de+1)/2,pe=Math.abs(S.fa),we=Math.abs(S.Ab);var $e=Math.abs(S.Db),je=Math.abs(S.lb),Le=je*(de-1)+oe;T&=pe*(de-1)+oe<=S.Fd,T&=we*(Te-1)+Ae<=S.Cd,T=(T&=$e*(Te-1)+Ae<=S.Ed)&pe>=oe&we>=Ae&$e>=Ae,T&=S.y!=null,T&=S.f!=null,T&=S.ea!=null,se==12&&(T&=je>=oe,T&=Le<=S.Tc,T&=S.F!=null)}else T=0;S=T?0:2}}return S!=0||Q!=null&&Q.fd&&(S=Ll(G)),S}var Qo=64,Aa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ws=24,oo=32,Ul=8,$o=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(S){return S},I.Predictor2=function(S,T,Q){return T[Q+0]},I.Predictor3=function(S,T,Q){return T[Q+1]},I.Predictor4=function(S,T,Q){return T[Q-1]},I.Predictor5=function(S,T,Q){return Be(Be(S,T[Q+1]),T[Q+0])},I.Predictor6=function(S,T,Q){return Be(S,T[Q-1])},I.Predictor7=function(S,T,Q){return Be(S,T[Q+0])},I.Predictor8=function(S,T,Q){return Be(T[Q-1],T[Q+0])},I.Predictor9=function(S,T,Q){return Be(T[Q+0],T[Q+1])},I.Predictor10=function(S,T,Q){return Be(Be(S,T[Q-1]),Be(T[Q+0],T[Q+1]))},I.Predictor11=function(S,T,Q){var G=T[Q+0];return 0>=Fe(G>>24&255,S>>24&255,(T=T[Q-1])>>24&255)+Fe(G>>16&255,S>>16&255,T>>16&255)+Fe(G>>8&255,S>>8&255,T>>8&255)+Fe(255&G,255&S,255&T)?G:S},I.Predictor12=function(S,T,Q){var G=T[Q+0];return(Oe((S>>24&255)+(G>>24&255)-((T=T[Q-1])>>24&255))<<24|Oe((S>>16&255)+(G>>16&255)-(T>>16&255))<<16|Oe((S>>8&255)+(G>>8&255)-(T>>8&255))<<8|Oe((255&S)+(255&G)-(255&T)))>>>0},I.Predictor13=function(S,T,Q){var G=T[Q-1];return(Ne((S=Be(S,T[Q+0]))>>24&255,G>>24&255)<<24|Ne(S>>16&255,G>>16&255)<<16|Ne(S>>8&255,G>>8&255)<<8|Ne(255&S,255&G))>>>0};var _A=I.PredictorAdd0;I.PredictorAdd1=it,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Vi=I.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var ds,Rl=I.ColorIndexInverseTransform,Ho=I.MapARGB,Ks=I.VP8LColorIndexInverseTransformAlpha,Ec=I.MapAlpha,Mu=I.VP8LPredictorsAdd=[];Mu.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Cd,kc,Vo,lo,fa,zo,Ko,Pc,Qa,ma,Gr,an,us,js,Dl,zi,Ml,ym,CA,nb,h0,sb,Qu,ib,Wo,A0,f0,ab,Go=a(511),m0=a(2041),p0=a(225),$u=a(767),ob=0,Hu=m0,Ic=p0,Ki=$u,pa=Go,vm=0,SA=1,g0=2,BA=3,EA=4,bm=5,lb=6,wm=7,jm=8,Nm=9,h=10,p=[2,3,7],k=[3,3,11],M=[280,256,256,256,40],q=[0,1,1,1,0],le=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ee=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Me=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ve=8,dt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],It=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jt=null,Er=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Bi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ts=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$a=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],c_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Tc=[],co=[],qo=[],d_=1,x0=2,An=[],Ei=[];Il("UpsampleRgbLinePair",Mo,3),Il("UpsampleBgrLinePair",Is,3),Il("UpsampleRgbaLinePair",Bn,4),Il("UpsampleBgraLinePair",jA,4),Il("UpsampleArgbLinePair",Ru,4),Il("UpsampleRgba4444LinePair",_d,2),Il("UpsampleRgb565LinePair",Nd,2);var u_=I.UpsampleRgbLinePair,h_=I.UpsampleBgrLinePair,cb=I.UpsampleRgbaLinePair,_m=I.UpsampleBgraLinePair,y0=I.UpsampleArgbLinePair,db=I.UpsampleRgba4444LinePair,are=I.UpsampleRgb565LinePair,ub=16,hb=1<<ub-1,v0=-227,A_=482,ore=6,vT=0,lre=a(256),cre=a(256),dre=a(256),ure=a(256),hre=a(A_-v0),Are=a(A_-v0);Hi("YuvToRgbRow",Mo,3),Hi("YuvToBgrRow",Is,3),Hi("YuvToRgbaRow",Bn,4),Hi("YuvToBgraRow",jA,4),Hi("YuvToArgbRow",Ru,4),Hi("YuvToRgba4444Row",_d,2),Hi("YuvToRgb565Row",Nd,2);var bT=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ab=[0,2,8],fre=[8,7,6,4,4,2,2,2,1,1,1,1],mre=1;this.WebPDecodeRGBA=function(S,T,Q,G,se){var oe=SA,de=new qe,Ae=new Ke;de.ba=Ae,Ae.S=oe,Ae.width=[Ae.width],Ae.height=[Ae.height];var pe=Ae.width,we=Ae.height,Te=new Ct;if(Te==null||S==null)var $e=2;else t(Te!=null),$e=Ma(S,T,Q,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if($e!=0?pe=0:(pe!=null&&(pe[0]=Te.width[0]),we!=null&&(we[0]=Te.height[0]),pe=1),pe){Ae.width=Ae.width[0],Ae.height=Ae.height[0],G!=null&&(G[0]=Ae.width),se!=null&&(se[0]=Ae.height);e:{if(G=new rn,(se=new ct).data=S,se.w=T,se.ha=Q,se.kd=1,T=[0],t(se!=null),((S=Ma(se.data,se.w,se.ha,null,null,null,T,null,se))==0||S==7)&&T[0]&&(S=4),(T=S)==0){if(t(de!=null),G.data=se.data,G.w=se.w+se.offset,G.ha=se.ha-se.offset,G.put=Ft,G.ac=gr,G.bc=xs,G.ma=de,se.xa){if((S=Nt())==null){de=1;break e}if(function(je,Le){var De=[0],Xe=[0],Qe=[0];t:for(;;){if(je==null)return 0;if(Le==null)return je.a=2,0;if(je.l=Le,je.a=0,te(je.m,Le.data,Le.w,Le.ha),!ys(je.m,De,Xe,Qe)){je.a=3;break t}if(je.xb=x0,Le.width=De[0],Le.height=Xe[0],!Pt(De[0],Xe[0],1,je,null))break t;return 1}return t(je.a!=0),0}(S,G)){if(G=(T=Fl(G.width,G.height,de.Oa,de.ba))==0){t:{G=S;r:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t((Q=G.l)!=null),t((se=Q.ma)!=null),G.xb!=0){if(G.ca=se.ba,G.tb=se.tb,t(G.ca!=null),!NA(se.Oa,Q,BA)){G.a=2;break r}if(!ft(G,Q.width)||Q.da)break r;if((Q.da||lt(G.ca.S))&&ii(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&ii()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!J(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!Cn(G,G.V,G.Ba,G.c,G.i,Q.o,Vs))break r;se.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(T=S.a)}else T=S.a}else{if((S=new Pu)==null){de=1;break e}if(S.Fa=se.na,S.P=se.P,S.qc=se.Sa,La(S,G)){if((T=Fl(G.width,G.height,de.Oa,de.ba))==0){if(S.Aa=0,Q=de.Oa,t((se=S)!=null),Q!=null){if(0<(pe=0>(pe=Q.Md)?0:100<pe?255:255*pe/100)){for(we=Te=0;4>we;++we)12>($e=se.pb[we]).lc&&($e.ia=pe*fre[0>$e.lc?0:$e.lc]>>3),Te|=$e.ia;Te&&(alert("todo:VP8InitRandom"),se.ia=1)}se.Ga=Q.Id,100<se.Ga?se.Ga=100:0>se.Ga&&(se.Ga=0)}(function(je,Le){if(je==null)return 0;if(Le==null)return Sn(je,2,"NULL VP8Io parameter in VP8Decode().");if(!je.cb&&!La(je,Le))return 0;if(t(je.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(je.L=0);var De=Ab[je.L];if(je.L==2?(je.yb=0,je.zb=0):(je.yb=Le.v-De>>4,je.zb=Le.j-De>>4,0>je.yb&&(je.yb=0),0>je.zb&&(je.zb=0)),je.Va=Le.o+15+De>>4,je.Hb=Le.va+15+De>>4,je.Hb>je.za&&(je.Hb=je.za),je.Va>je.Ub&&(je.Va=je.Ub),0<je.L){var Xe=je.ed;for(De=0;4>De;++De){var Qe;if(je.Qa.Cb){var Je=je.Qa.Lb[De];je.Qa.Fb||(Je+=Xe.Tb)}else Je=Xe.Tb;for(Qe=0;1>=Qe;++Qe){var tt=je.gd[De][Qe],vt=Je;if(Xe.Pc&&(vt+=Xe.vd[0],Qe&&(vt+=Xe.od[0])),0<(vt=0>vt?0:63<vt?63:vt)){var At=vt;0<Xe.wb&&(At=4<Xe.wb?At>>2:At>>1)>9-Xe.wb&&(At=9-Xe.wb),1>At&&(At=1),tt.dd=At,tt.tc=2*vt+At,tt.ld=40<=vt?2:15<=vt?1:0}else tt.tc=0;tt.La=Qe}}}De=0}else Sn(je,6,"Frame setup failed"),De=je.a;if(De=De==0){if(De){je.$c=0,0<je.Aa||(je.Ic=mre);t:{De=je.Ic,Xe=4*(At=je.za);var qt=32*At,Qt=At+1,_r=0<je.L?At*(0<je.Aa?2:1):0,zt=(je.Aa==2?2:1)*At;if((tt=Xe+832+(Qe=3*(16*De+Ab[je.L])/2*qt)+(Je=je.Fa!=null&&0<je.Fa.length?je.Kc.c*je.Kc.i:0))!=tt)De=0;else{if(tt>je.Vb){if(je.Vb=0,je.Ec=a(tt),je.Fc=0,je.Ec==null){De=Sn(je,1,"no memory during frame initialization.");break t}je.Vb=tt}tt=je.Ec,vt=je.Fc,je.Ac=tt,je.Bc=vt,vt+=Xe,je.Gd=o(qt,jc),je.Hd=0,je.rb=o(Qt+1,er),je.sb=1,je.wa=_r?o(_r,st):null,je.Y=0,je.D.Nb=0,je.D.wa=je.wa,je.D.Y=je.Y,0<je.Aa&&(je.D.Y+=At),t(!0),je.oc=tt,je.pc=vt,vt+=832,je.ya=o(zt,dr),je.aa=0,je.D.ya=je.ya,je.D.aa=je.aa,je.Aa==2&&(je.D.aa+=At),je.R=16*At,je.B=8*At,At=(qt=Ab[je.L])*je.R,qt=qt/2*je.B,je.sa=tt,je.ta=vt+At,je.qa=je.sa,je.ra=je.ta+16*De*je.R+qt,je.Ha=je.qa,je.Ia=je.ra+8*De*je.B+qt,je.$c=0,vt+=Qe,je.mb=Je?tt:null,je.nb=Je?vt:null,t(vt+Je<=je.Fc+je.Vb),Ln(je),i(je.Ac,je.Bc,0,Xe),De=1}}if(De){if(Le.ka=0,Le.y=je.sa,Le.O=je.ta,Le.f=je.qa,Le.N=je.ra,Le.ea=je.Ha,Le.Vd=je.Ia,Le.fa=je.R,Le.Rc=je.B,Le.F=null,Le.J=0,!ob){for(De=-255;255>=De;++De)Go[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)m0[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)p0[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)$u[255+De]=0>De?0:255<De?255:De;ob=1}Ko=Ro,Pc=Nl,ma=Xr,Gr=Uo,an=Nc,Qa=Iu,us=wA,js=wd,Dl=ne,zi=ve,Ml=xm,ym=D,CA=Pe,nb=Ue,h0=si,sb=kl,Qu=bA,ib=gm,co[0]=mm,co[1]=vd,co[2]=Fa,co[3]=nn,co[4]=so,co[5]=xA,co[6]=io,co[7]=Cl,co[8]=Sl,co[9]=Sc,Tc[0]=Ou,Tc[1]=gA,Tc[2]=_c,Tc[3]=Tu,Tc[4]=Cc,Tc[5]=bd,Tc[6]=u0,qo[0]=pm,qo[1]=pA,qo[2]=$n,qo[3]=Bl,qo[4]=Lu,qo[5]=yA,qo[6]=Fu,De=1}else De=0}De&&(De=function(Qr,oi){for(Qr.M=0;Qr.M<Qr.Va;++Qr.M){var Cr,Kt=Qr.Jc[Qr.M&Qr.Xb],kt=Qr.m,Os=Qr;for(Cr=0;Cr<Os.za;++Cr){var vr=kt,zr=Os,Vn=zr.Ac,ki=zr.Bc+4*Cr,ga=zr.zc,Ns=zr.ya[zr.aa+Cr];if(zr.Qa.Bb?Ns.$b=ge(vr,zr.Pa.jb[0])?2+ge(vr,zr.Pa.jb[2]):ge(vr,zr.Pa.jb[1]):Ns.$b=0,zr.kc&&(Ns.Ad=ge(vr,zr.Bd)),Ns.Za=!ge(vr,145)+0,Ns.Za){var Gi=Ns.Ob,xa=0;for(zr=0;4>zr;++zr){var li,Kr=ga[0+zr];for(li=0;4>li;++li){Kr=Wi[Vn[ki+li]][Kr];for(var fn=Ts[ge(vr,Kr[0])];0<fn;)fn=Ts[2*fn+ge(vr,Kr[fn])];Kr=-fn,Vn[ki+li]=Kr}n(Gi,xa,Vn,ki,4),xa+=4,ga[0+zr]=Kr}}else Kr=ge(vr,156)?ge(vr,128)?1:3:ge(vr,163)?2:0,Ns.Ob[0]=Kr,i(Vn,ki,Kr,4),i(ga,0,Kr,4);Ns.Dd=ge(vr,142)?ge(vr,114)?ge(vr,183)?1:3:2:0}if(Os.m.Ka)return Sn(Qr,7,"Premature end-of-partition0 encountered.");for(;Qr.ja<Qr.za;++Qr.ja){if(Os=Kt,vr=(kt=Qr).rb[kt.sb-1],Vn=kt.rb[kt.sb+kt.ja],Cr=kt.ya[kt.aa+kt.ja],ki=kt.kc?Cr.Ad:0)vr.la=Vn.la=0,Cr.Za||(vr.Na=Vn.Na=0),Cr.Hc=0,Cr.Gc=0,Cr.ia=0;else{var _s,mn;if(vr=Vn,Vn=Os,ki=kt.Pa.Xc,ga=kt.ya[kt.aa+kt.ja],Ns=kt.pb[ga.$b],zr=ga.ad,Gi=0,xa=kt.rb[kt.sb-1],Kr=li=0,i(zr,Gi,0,384),ga.Za)var Pi=0,Ql=ki[3];else{fn=a(16);var Ls=vr.Na+xa.Na;if(Ls=Jt(Vn,ki[1],Ls,Ns.Eb,0,fn,0),vr.Na=xa.Na=(0<Ls)+0,1<Ls)Ko(fn,0,zr,Gi);else{var Ha=fn[0]+3>>3;for(fn=0;256>fn;fn+=16)zr[Gi+fn]=Ha}Pi=1,Ql=ki[0]}var En=15&vr.la,ci=15&xa.la;for(fn=0;4>fn;++fn){var uo=1&ci;for(Ha=mn=0;4>Ha;++Ha)En=En>>1|(uo=(Ls=Jt(Vn,Ql,Ls=uo+(1&En),Ns.Sc,Pi,zr,Gi))>Pi)<<7,mn=mn<<2|(3<Ls?3:1<Ls?2:zr[Gi+0]!=0),Gi+=16;En>>=4,ci=ci>>1|uo<<7,li=(li<<8|mn)>>>0}for(Ql=En,Pi=ci>>4,_s=0;4>_s;_s+=2){for(mn=0,En=vr.la>>4+_s,ci=xa.la>>4+_s,fn=0;2>fn;++fn){for(uo=1&ci,Ha=0;2>Ha;++Ha)Ls=uo+(1&En),En=En>>1|(uo=0<(Ls=Jt(Vn,ki[2],Ls,Ns.Qc,0,zr,Gi)))<<3,mn=mn<<2|(3<Ls?3:1<Ls?2:zr[Gi+0]!=0),Gi+=16;En>>=2,ci=ci>>1|uo<<5}Kr|=mn<<4*_s,Ql|=En<<4<<_s,Pi|=(240&ci)<<_s}vr.la=Ql,xa.la=Pi,ga.Hc=li,ga.Gc=Kr,ga.ia=43690&Kr?0:Ns.ia,ki=!(li|Kr)}if(0<kt.L&&(kt.wa[kt.Y+kt.ja]=kt.gd[Cr.$b][Cr.Za],kt.wa[kt.Y+kt.ja].La|=!ki),Os.Ka)return Sn(Qr,7,"Premature end-of-file encountered.")}if(Ln(Qr),kt=oi,Os=1,Cr=(Kt=Qr).D,vr=0<Kt.L&&Kt.M>=Kt.zb&&Kt.M<=Kt.Va,Kt.Aa==0)t:{if(Cr.M=Kt.M,Cr.uc=vr,Da(Kt,Cr),Os=1,Cr=(mn=Kt.D).Nb,vr=(Kr=Ab[Kt.L])*Kt.R,Vn=Kr/2*Kt.B,fn=16*Cr*Kt.R,Ha=8*Cr*Kt.B,ki=Kt.sa,ga=Kt.ta-vr+fn,Ns=Kt.qa,zr=Kt.ra-Vn+Ha,Gi=Kt.Ha,xa=Kt.Ia-Vn+Ha,ci=(En=mn.M)==0,li=En>=Kt.Va-1,Kt.Aa==2&&Da(Kt,mn),mn.uc)for(uo=(Ls=Kt).D.M,t(Ls.D.uc),mn=Ls.yb;mn<Ls.Hb;++mn){Pi=mn,Ql=uo;var ya=(ho=(Ii=Ls).D).Nb;_s=Ii.R;var ho=ho.wa[ho.Y+Pi],Ao=Ii.sa,Va=Ii.ta+16*ya*_s+16*Pi,fo=ho.dd,Fn=ho.tc;if(Fn!=0)if(t(3<=Fn),Ii.L==1)0<Pi&&sb(Ao,Va,_s,Fn+4),ho.La&&ib(Ao,Va,_s,Fn),0<Ql&&h0(Ao,Va,_s,Fn+4),ho.La&&Qu(Ao,Va,_s,Fn);else{var mo=Ii.B,$l=Ii.qa,kA=Ii.ra+8*ya*mo+8*Pi,Sd=Ii.Ha,Ii=Ii.Ia+8*ya*mo+8*Pi;ya=ho.ld,0<Pi&&(js(Ao,Va,_s,Fn+4,fo,ya),zi($l,kA,Sd,Ii,mo,Fn+4,fo,ya)),ho.La&&(ym(Ao,Va,_s,Fn,fo,ya),nb($l,kA,Sd,Ii,mo,Fn,fo,ya)),0<Ql&&(us(Ao,Va,_s,Fn+4,fo,ya),Dl($l,kA,Sd,Ii,mo,Fn+4,fo,ya)),ho.La&&(Ml(Ao,Va,_s,Fn,fo,ya),CA($l,kA,Sd,Ii,mo,Fn,fo,ya))}}if(Kt.ia&&alert("todo:DitherRow"),kt.put!=null){if(mn=16*En,En=16*(En+1),ci?(kt.y=Kt.sa,kt.O=Kt.ta+fn,kt.f=Kt.qa,kt.N=Kt.ra+Ha,kt.ea=Kt.Ha,kt.W=Kt.Ia+Ha):(mn-=Kr,kt.y=ki,kt.O=ga,kt.f=Ns,kt.N=zr,kt.ea=Gi,kt.W=xa),li||(En-=Kr),En>kt.o&&(En=kt.o),kt.F=null,kt.J=null,Kt.Fa!=null&&0<Kt.Fa.length&&mn<En&&(kt.J=sn(Kt,kt,mn,En-mn),kt.F=Kt.mb,kt.F==null&&kt.F.length==0)){Os=Sn(Kt,3,"Could not decode alpha data.");break t}mn<kt.j&&(Kr=kt.j-mn,mn=kt.j,t(!(1&Kr)),kt.O+=Kt.R*Kr,kt.N+=Kt.B*(Kr>>1),kt.W+=Kt.B*(Kr>>1),kt.F!=null&&(kt.J+=kt.width*Kr)),mn<En&&(kt.O+=kt.v,kt.N+=kt.v>>1,kt.W+=kt.v>>1,kt.F!=null&&(kt.J+=kt.v),kt.ka=mn-kt.j,kt.U=kt.va-kt.v,kt.T=En-mn,Os=kt.put(kt))}Cr+1!=Kt.Ic||li||(n(Kt.sa,Kt.ta-vr,ki,ga+16*Kt.R,vr),n(Kt.qa,Kt.ra-Vn,Ns,zr+8*Kt.B,Vn),n(Kt.Ha,Kt.Ia-Vn,Gi,xa+8*Kt.B,Vn))}if(!Os)return Sn(Qr,6,"Output aborted.")}return 1}(je,Le)),Le.bc!=null&&Le.bc(Le),De&=1}return De?(je.cb=0,De):0})(S,G)||(T=S.a)}}else T=S.a}T==0&&de.Oa!=null&&de.Oa.fd&&(T=Ll(de.ba))}de=T}oe=de!=0?null:11>oe?Ae.f.RGBA.eb:Ae.f.kb.y}else oe=null;return oe};var wT=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,F){for(var B="",O=0;O<4;O++)B+=String.fromCharCode(I[F++]);return B}function u(I,F){return I[F+0]|I[F+1]<<8}function A(I,F){return(I[F+0]|I[F+1]<<8|I[F+2]<<16)>>>0}function f(I,F){return(I[F+0]|I[F+1]<<8|I[F+2]<<16|I[F+3]<<24)>>>0}new c;var m=[0],x=[0],g=[],v=new c,y=e,b=function(I,F){var B={},O=0,R=!1,U=0,$=0;if(B.frames=[],!function(V,X){for(var W=0;W<4;W++)if(V[X+W]!="RIFF".charCodeAt(W))return!0;return!1}(I,F)){for(f(I,F+=4),F+=8;F<I.length;){var K=d(I,F),H=f(I,F+=4);F+=4;var z=H+(1&H);switch(K){case"VP8 ":case"VP8L":B.frames[O]===void 0&&(B.frames[O]={}),(Z=B.frames[O]).src_off=R?$:F-8,Z.src_size=U+H+8,O++,R&&(R=!1,U=0,$=0);break;case"VP8X":(Z=B.header={}).feature_flags=I[F];var te=F+4;Z.canvas_width=1+A(I,te),te+=3,Z.canvas_height=1+A(I,te),te+=3;break;case"ALPH":R=!0,U=z+8,$=F-8;break;case"ANIM":(Z=B.header).bgcolor=f(I,F),te=F+4,Z.loop_count=u(I,te),te+=2;break;case"ANMF":var ee,Z;(Z=B.frames[O]={}).offset_x=2*A(I,F),F+=3,Z.offset_y=2*A(I,F),F+=3,Z.width=1+A(I,F),F+=3,Z.height=1+A(I,F),F+=3,Z.duration=A(I,F),F+=3,ee=I[F++],Z.dispose=1&ee,Z.blend=ee>>1&1}K!="ANMF"&&(F+=z)}return B}}(y,0);b.response=y,b.rgbaoutput=!0,b.dataurl=!1;var w=b.header?b.header:null,_=b.frames?b.frames:null;if(w){w.loop_counter=w.loop_count,m=[w.canvas_height],x=[w.canvas_width];for(var N=0;N<_.length&&_[N].blend!=0;N++);}var C=_[0],P=v.WebPDecodeRGBA(y,C.src_off,C.src_size,x,m);C.rgba=P,C.imgwidth=x[0],C.imgheight=m[0];for(var E=0;E<x[0]*m[0]*4;E++)g[E]=P[E];return this.width=x,this.height=m,this.data=g,this}(function(e){var t,r,n,i,a,o,l,c,d,u=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new c,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var A=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=V;Object.defineProperty(this,"pdf",{get:function(){return X}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(J){W=!!J}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(J){ae=!!J}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(J){isNaN(J)||(ie=J)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(J){isNaN(J)||(ce=J)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(J){var fe;typeof J=="number"?fe=[J,J,J,J]:((fe=new Array(4))[0]=J[0],fe[1]=J.length>=2?J[1]:fe[0],fe[2]=J.length>=3?J[2]:fe[0],fe[3]=J.length>=4?J[3]:fe[1]),d.margin=fe}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(J){be=J}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(J){he=J}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(J){ge=J}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(J){J instanceof u&&(d=J)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(J){d.path=J}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(J){Se=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var fe;fe=f(J),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var fe=f(J);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var re=null,_e=null,ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return ue},set:function(J){re=null,_e=null,ue=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var fe;if(this.ctx.font=J,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var ye=fe[1];fe[2];var Ie=fe[3],ke=fe[4];fe[5];var He=fe[6],We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(We==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var me=function(rt){var ot,xt,Et=[],St=rt.trim();if(St==="")return SS;if(St in qD)return[qD[St]];for(;St!=="";){switch(xt=null,ot=(St=XD(St)).charAt(0)){case'"':case"'":xt=LSe(St.substring(1),ot);break;default:xt=FSe(St)}if(xt===null||(Et.push(xt[0]),(St=XD(xt[1]))!==""&&St.charAt(0)!==","))return SS;St=St.replace(/^,/,"")}return Et}(He);if(this.fontFaces){var Be=function(rt,ot){var xt=rt.getFontList(),Et=JSON.stringify(xt);if(re===null||_e!==Et){var St=function($t){var bt=[];return Object.keys($t).forEach(function(ht){$t[ht].forEach(function(lt){var ut=null;switch(lt){case"bold":ut={family:ht,weight:"bold"};break;case"italic":ut={family:ht,style:"italic"};break;case"bolditalic":ut={family:ht,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:ht}}ut!==null&&(ut.ref={name:ht,style:lt},bt.push(ut))})}),bt}(xt);re=function($t){for(var bt={},ht=0;ht<$t.length;++ht){var lt=CS($t[ht]),ut=lt.family,nt=lt.stretch,Ke=lt.style,Ct=lt.weight;bt[ut]=bt[ut]||{},bt[ut][nt]=bt[ut][nt]||{},bt[ut][nt][Ke]=bt[ut][nt][Ke]||{},bt[ut][nt][Ke][Ct]=lt}return bt}(St.concat(ot)),_e=Et}return re}(this.pdf,this.fontFaces),Oe=me.map(function(rt){return{family:rt,stretch:"normal",weight:Ie,style:ye}}),Ne=function(rt,ot,xt){for(var Et=(xt=xt||{}).defaultFontFamily||"times",St=Object.assign({},OSe,xt.genericFontFamilies||{}),$t=null,bt=null,ht=0;ht<ot.length;++ht)if(St[($t=CS(ot[ht])).family]&&($t.family=St[$t.family]),rt.hasOwnProperty($t.family)){bt=rt[$t.family];break}if(!(bt=bt||rt[Et]))throw new Error("Could not find a font-family for the rule '"+YD($t)+"' and default family '"+Et+"'.");if(bt=function(lt,ut){if(ut[lt])return ut[lt];var nt=kE[lt],Ke=nt<=kE.normal?-1:1,Ct=GD(ut,nX,nt,Ke);if(!Ct)throw new Error("Could not find a matching font-stretch value for "+lt);return Ct}($t.stretch,bt),bt=function(lt,ut){if(ut[lt])return ut[lt];for(var nt=rX[lt],Ke=0;Ke<nt.length;++Ke)if(ut[nt[Ke]])return ut[nt[Ke]];throw new Error("Could not find a matching font-style for "+lt)}($t.style,bt),!(bt=function(lt,ut){if(ut[lt])return ut[lt];if(lt===400&&ut[500])return ut[500];if(lt===500&&ut[400])return ut[400];var nt=TSe[lt],Ke=GD(ut,sX,nt,lt<400?-1:1);if(!Ke)throw new Error("Could not find a matching font-weight for value "+lt);return Ke}($t.weight,bt)))throw new Error("Failed to resolve a font for the rule '"+YD($t)+"'.");return bt}(Be,Oe);this.pdf.setFont(Ne.ref.name,Ne.ref.style)}else{var Fe="";(Ie==="bold"||parseInt(Ie,10)>=700||ye==="bold")&&(Fe="bold"),ye==="italic"&&(Fe+="italic"),Fe.length===0&&(Fe="normal");for(var it="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Re=0;Re<me.length;Re++){if(this.pdf.internal.getFont(me[Re],Fe,{noFallback:!0,disableWarning:!0})!==void 0){it=me[Re];break}if(Fe==="bolditalic"&&this.pdf.internal.getFont(me[Re],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=me[Re],Fe="bold";else if(this.pdf.internal.getFont(me[Re],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=me[Re],Fe="normal";break}}if(it===""){for(var gt=0;gt<me.length;gt++)if(pt[me[gt]]){it=pt[me[gt]];break}}it=it===""?"Times":it,this.pdf.setFont(it,Fe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};A.prototype.setLineDash=function(V){this.lineDash=V},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){_.call(this,"fill",!1)},A.prototype.stroke=function(){_.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(V,X){if(isNaN(V)||isNaN(X))throw kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new o(V,X));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(V,X)},A.prototype.closePath=function(){var V=new o(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&gn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){V=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},A.prototype.lineTo=function(V,X){if(isNaN(V)||isNaN(X))throw kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new o(V,X));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(W.x,W.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},A.prototype.quadraticCurveTo=function(V,X,W,ae){if(isNaN(W)||isNaN(ae)||isNaN(V)||isNaN(X))throw kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(W,ae)),ce=this.ctx.transform.applyToPoint(new o(V,X));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},A.prototype.bezierCurveTo=function(V,X,W,ae,ie,ce){if(isNaN(ie)||isNaN(ce)||isNaN(V)||isNaN(X)||isNaN(W)||isNaN(ae))throw kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new o(ie,ce)),he=this.ctx.transform.applyToPoint(new o(V,X)),ge=this.ctx.transform.applyToPoint(new o(W,ae));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:ge.x,y2:ge.y,x:be.x,y:be.y}),this.ctx.lastPoint=new o(be.x,be.y)},A.prototype.arc=function(V,X,W,ae,ie,ce){if(isNaN(V)||isNaN(X)||isNaN(W)||isNaN(ae)||isNaN(ie))throw kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new o(V,X));V=be.x,X=be.y;var he=this.ctx.transform.applyToPoint(new o(0,W)),ge=this.ctx.transform.applyToPoint(new o(0,0));W=Math.sqrt(Math.pow(he.x-ge.x,2)+Math.pow(he.y-ge.y,2))}Math.abs(ie-ae)>=2*Math.PI&&(ae=0,ie=2*Math.PI),this.path.push({type:"arc",x:V,y:X,radius:W,startAngle:ae,endAngle:ie,counterclockwise:ce})},A.prototype.arcTo=function(V,X,W,ae,ie){throw new Error("arcTo not implemented.")},A.prototype.rect=function(V,X,W,ae){if(isNaN(V)||isNaN(X)||isNaN(W)||isNaN(ae))throw kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,X),this.lineTo(V+W,X),this.lineTo(V+W,X+ae),this.lineTo(V,X+ae),this.lineTo(V,X),this.lineTo(V+W,X),this.lineTo(V,X)},A.prototype.fillRect=function(V,X,W,ae){if(isNaN(V)||isNaN(X)||isNaN(W)||isNaN(ae))throw kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,X,W,ae),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},A.prototype.strokeRect=function(V,X,W,ae){if(isNaN(V)||isNaN(X)||isNaN(W)||isNaN(ae))throw kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(V,X,W,ae),this.stroke())},A.prototype.clearRect=function(V,X,W,ae){if(isNaN(V)||isNaN(X)||isNaN(W)||isNaN(ae))throw kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,X,W,ae))},A.prototype.save=function(V){V=typeof V!="boolean"||V;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},A.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(X),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(V){var X,W,ae,ie;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))X=0,W=0,ae=0,ie=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(ce!==null)X=parseInt(ce[1]),W=parseInt(ce[2]),ae=parseInt(ce[3]),ie=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)X=parseInt(ce[1]),W=parseInt(ce[2]),ae=parseInt(ce[3]),ie=parseFloat(ce[4]);else{if(ie=1,typeof V=="string"&&V.charAt(0)!=="#"){var be=new qY(V);V=be.ok?be.toHex():"#000000"}V.length===4?(X=V.substring(1,2),X+=X,W=V.substring(2,3),W+=W,ae=V.substring(3,4),ae+=ae):(X=V.substring(1,3),W=V.substring(3,5),ae=V.substring(5,7)),X=parseInt(X,16),W=parseInt(W,16),ae=parseInt(ae,16)}}return{r:X,g:W,b:ae,a:ie,style:V}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(V,X,W,ae){if(isNaN(X)||isNaN(W)||typeof V!="string")throw kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!m.call(this)){var ie=z(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;O.call(this,{text:V,x:X,y:W,scale:ce,angle:ie,align:this.textAlign,maxWidth:ae})}},A.prototype.strokeText=function(V,X,W,ae){if(isNaN(X)||isNaN(W)||typeof V!="string")throw kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ae=isNaN(ae)?void 0:ae;var ie=z(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;O.call(this,{text:V,x:X,y:W,scale:ce,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:ae})}},A.prototype.measureText=function(V){if(typeof V!="string")throw kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,W=this.pdf.internal.scaleFactor,ae=X.internal.getFontSize(),ie=X.getStringUnitWidth(V)*ae/X.internal.scaleFactor;return new function(ce){var be=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:ie*=Math.round(96*W/72*1e4)/1e4})},A.prototype.scale=function(V,X){if(isNaN(V)||isNaN(X))throw kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(V,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},A.prototype.rotate=function(V){if(isNaN(V))throw kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},A.prototype.translate=function(V,X){if(isNaN(V)||isNaN(X))throw kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,V,X);this.ctx.transform=this.ctx.transform.multiply(W)},A.prototype.transform=function(V,X,W,ae,ie,ce){if(isNaN(V)||isNaN(X)||isNaN(W)||isNaN(ae)||isNaN(ie)||isNaN(ce))throw kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new c(V,X,W,ae,ie,ce);this.ctx.transform=this.ctx.transform.multiply(be)},A.prototype.setTransform=function(V,X,W,ae,ie,ce){V=isNaN(V)?1:V,X=isNaN(X)?0:X,W=isNaN(W)?0:W,ae=isNaN(ae)?1:ae,ie=isNaN(ie)?0:ie,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(V,X,W,ae,ie,ce)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(V,X,W,ae,ie,ce,be,he,ge){var Se=this.pdf.getImageProperties(V),re=1,_e=1,ue=1,J=1;ae!==void 0&&he!==void 0&&(ue=he/ae,J=ge/ie,re=Se.width/ae*he/ae,_e=Se.height/ie*ge/ie),ce===void 0&&(ce=X,be=W,X=0,W=0),ae!==void 0&&he===void 0&&(he=ae,ge=ie),ae===void 0&&he===void 0&&(he=Se.width,ge=Se.height);var fe=this.ctx.transform.decompose(),ye=z(fe.rotate.shx),Ie=new c,ke=(Ie=(Ie=(Ie=Ie.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale)).applyToRectangle(new l(ce-X*ue,be-W*J,ae*re,ie*_e));if(this.autoPaging){for(var He,We=v.call(this,ke),me=[],Be=0;Be<We.length;Be+=1)me.indexOf(We[Be])===-1&&me.push(We[Be]);w(me);for(var Oe=me[0],Ne=me[me.length-1],Fe=Oe;Fe<Ne+1;Fe++){this.pdf.setPage(Fe);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=Fe===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Fe===1?0:Re+(Fe-2)*gt;if(this.ctx.clip_path.length!==0){var ot=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(He,this.posX+this.margin[3],-rt+pt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=ot}var xt=JSON.parse(JSON.stringify(ke));xt=b([xt],this.posX+this.margin[3],-rt+pt+this.ctx.prevPageLastElemOffset)[0];var Et=(Fe>Oe||Fe<Ne)&&g.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,gt,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,ye),Et&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,ye)};var v=function(V,X,W){var ae=[];X=X||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":ae.push(Math.floor((V.y+ie)/W)+1);break;case"arc":ae.push(Math.floor((V.y+ie-V.radius)/W)+1),ae.push(Math.floor((V.y+ie+V.radius)/W)+1);break;case"qct":var ce=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);ae.push(Math.floor((ce.y+ie)/W)+1),ae.push(Math.floor((ce.y+ce.h+ie)/W)+1);break;case"bct":var be=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);ae.push(Math.floor((be.y+ie)/W)+1),ae.push(Math.floor((be.y+be.h+ie)/W)+1);break;case"rect":ae.push(Math.floor((V.y+ie)/W)+1),ae.push(Math.floor((V.y+V.h+ie)/W)+1)}for(var he=0;he<ae.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<ae[he];)y.call(this);return ae},y=function(){var V=this.fillStyle,X=this.strokeStyle,W=this.font,ae=this.lineCap,ie=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=X,this.font=W,this.lineCap=ae,this.lineWidth=ie,this.lineJoin=ce},b=function(V,X,W){for(var ae=0;ae<V.length;ae++)switch(V[ae].type){case"bct":V[ae].x2+=X,V[ae].y2+=W;case"qct":V[ae].x1+=X,V[ae].y1+=W;default:V[ae].x+=X,V[ae].y+=W}return V},w=function(V){return V.sort(function(X,W){return X-W})},_=function(V,X){var W=this.fillStyle,ae=this.strokeStyle,ie=this.lineCap,ce=this.lineWidth,be=Math.abs(ce*this.ctx.transform.scaleX),he=this.lineJoin;if(this.autoPaging){for(var ge,Se,re=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),ue=[],J=0;J<_e.length;J++)if(_e[J].x!==void 0)for(var fe=v.call(this,_e[J]),ye=0;ye<fe.length;ye+=1)ue.indexOf(fe[ye])===-1&&ue.push(fe[ye]);for(var Ie=0;Ie<ue.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<ue[Ie];)y.call(this);w(ue);for(var ke=ue[0],He=ue[ue.length-1],We=ke;We<He+1;We++){this.pdf.setPage(We),this.fillStyle=W,this.strokeStyle=ae,this.lineCap=ie,this.lineWidth=be,this.lineJoin=he;var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=We===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=We===1?0:Oe+(We-2)*Ne;if(this.ctx.clip_path.length!==0){var it=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ge,this.posX+this.margin[3],-Fe+Be+this.ctx.prevPageLastElemOffset),N.call(this,V,!0),this.path=it}if(Se=JSON.parse(JSON.stringify(re)),this.path=b(Se,this.posX+this.margin[3],-Fe+Be+this.ctx.prevPageLastElemOffset),X===!1||We===0){var pt=(We>ke||We<He)&&g.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,Ne,null).clip().discardPath()),N.call(this,V,X),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}this.path=re}else this.lineWidth=be,N.call(this,V,X),this.lineWidth=ce},N=function(V,X){if((V!=="stroke"||X||!x.call(this))&&(V==="stroke"||X||!m.call(this))){for(var W,ae,ie=[],ce=this.path,be=0;be<ce.length;be++){var he=ce[be];switch(he.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:he,deltas:[],abs:[]});break;case"lt":var ge=ie.length;if(ce[be-1]&&!isNaN(ce[be-1].x)&&(W=[he.x-ce[be-1].x,he.y-ce[be-1].y],ge>0)){for(;ge>=0;ge--)if(ie[ge-1].close!==!0&&ie[ge-1].begin!==!0){ie[ge-1].deltas.push(W),ie[ge-1].abs.push(he);break}}break;case"bct":W=[he.x1-ce[be-1].x,he.y1-ce[be-1].y,he.x2-ce[be-1].x,he.y2-ce[be-1].y,he.x-ce[be-1].x,he.y-ce[be-1].y],ie[ie.length-1].deltas.push(W);break;case"qct":var Se=ce[be-1].x+2/3*(he.x1-ce[be-1].x),re=ce[be-1].y+2/3*(he.y1-ce[be-1].y),_e=he.x+2/3*(he.x1-he.x),ue=he.y+2/3*(he.y1-he.y),J=he.x,fe=he.y;W=[Se-ce[be-1].x,re-ce[be-1].y,_e-ce[be-1].x,ue-ce[be-1].y,J-ce[be-1].x,fe-ce[be-1].y],ie[ie.length-1].deltas.push(W);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(he)}}ae=X?null:V==="stroke"?"stroke":"fill";for(var ye=!1,Ie=0;Ie<ie.length;Ie++)if(ie[Ie].arc)for(var ke=ie[Ie].abs,He=0;He<ke.length;He++){var We=ke[He];We.type==="arc"?E.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,X,!ye):R.call(this,We.x,We.y),ye=!0}else if(ie[Ie].close===!0)this.pdf.internal.out("h"),ye=!1;else if(ie[Ie].begin!==!0){var me=ie[Ie].start.x,Be=ie[Ie].start.y;U.call(this,ie[Ie].deltas,me,Be),ye=!0}ae&&I.call(this,ae),X&&F.call(this)}},C=function(V){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-W;case"top":return V+X-W;case"hanging":return V+X-2*W;case"middle":return V+X/2-W;default:return V}},P=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(X,W){this.colorStops.push([X,W])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(V,X,W,ae,ie,ce,be,he,ge){for(var Se=K.call(this,W,ae,ie,ce),re=0;re<Se.length;re++){var _e=Se[re];re===0&&(ge?B.call(this,_e.x1+V,_e.y1+X):R.call(this,_e.x1+V,_e.y1+X)),$.call(this,V,X,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}he?F.call(this):I.call(this,be)},I=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(V,X){this.pdf.internal.out(r(V)+" "+n(X)+" m")},O=function(V){var X;switch(V.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var W,ae,ie,ce=this.pdf.getTextDimensions(V.text),be=C.call(this,V.y),he=P.call(this,be)-ce.h,ge=this.ctx.transform.applyToPoint(new o(V.x,be));if(this.autoPaging){var Se=this.ctx.transform.decompose(),re=new c;re=(re=(re=re.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var _e=this.ctx.transform.applyToRectangle(new l(V.x,be,ce.w,ce.h)),ue=re.applyToRectangle(new l(V.x,he,ce.w,ce.h)),J=v.call(this,ue),fe=[],ye=0;ye<J.length;ye+=1)fe.indexOf(J[ye])===-1&&fe.push(J[ye]);w(fe);for(var Ie=fe[0],ke=fe[fe.length-1],He=Ie;He<ke+1;He++){this.pdf.setPage(He);var We=He===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],Oe=Be-this.margin[0],Ne=this.pdf.internal.pageSize.width-this.margin[1],Fe=Ne-this.margin[3],it=He===1?0:me+(He-2)*Oe;if(this.ctx.clip_path.length!==0){var pt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(W,this.posX+this.margin[3],-1*it+We),N.call(this,"fill",!0),this.path=pt}var Re=b([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-it+We+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*V.scale),ie=this.lineWidth,this.lineWidth=ie*V.scale);var gt=this.autoPaging!=="text";if(gt||Re.y+Re.h<=Be){if(gt||Re.y>=We&&Re.x<=Ne){var rt=gt?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Ne-Re.x)[0],ot=b([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-it+We+this.ctx.prevPageLastElemOffset)[0],xt=gt&&(He>Ie||He<ke)&&g.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Oe,null).clip().discardPath()),this.pdf.text(rt,ot.x,ot.y,{angle:V.angle,align:X,renderingMode:V.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else Re.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-Re.y);V.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ie)}}else V.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*V.scale),ie=this.lineWidth,this.lineWidth=ie*V.scale),this.pdf.text(V.text,ge.x+this.posX,ge.y+this.posY,{angle:V.angle,align:X,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ie)},R=function(V,X,W,ae){W=W||0,ae=ae||0,this.pdf.internal.out(r(V+W)+" "+n(X+ae)+" l")},U=function(V,X,W){return this.pdf.lines(V,X,W,null,null)},$=function(V,X,W,ae,ie,ce,be,he){this.pdf.internal.out([t(i(W+V)),t(a(ae+X)),t(i(ie+V)),t(a(ce+X)),t(i(be+V)),t(a(he+X)),"c"].join(" "))},K=function(V,X,W,ae){for(var ie=2*Math.PI,ce=Math.PI/2;X>W;)X-=ie;var be=Math.abs(W-X);be<ie&&ae&&(be=ie-be);for(var he=[],ge=ae?-1:1,Se=X;be>1e-5;){var re=Se+ge*Math.min(be,ce);he.push(H.call(this,V,Se,re)),be-=Math.abs(re-Se),Se=re}return he},H=function(V,X,W){var ae=(W-X)/2,ie=V*Math.cos(ae),ce=V*Math.sin(ae),be=ie,he=-ce,ge=be*be+he*he,Se=ge+be*ie+he*ce,re=4/3*(Math.sqrt(2*ge*Se)-Se)/(be*ce-he*ie),_e=be-re*he,ue=he+re*be,J=_e,fe=-ue,ye=ae+X,Ie=Math.cos(ye),ke=Math.sin(ye);return{x1:V*Math.cos(X),y1:V*Math.sin(X),x2:_e*Ie-ue*ke,y2:_e*ke+ue*Ie,x3:J*Ie-fe*ke,y3:J*ke+fe*Ie,x4:V*Math.cos(W),y4:V*Math.sin(W)}},z=function(V){return 180*V/Math.PI},te=function(V,X,W,ae,ie,ce){var be=V+.5*(W-V),he=X+.5*(ae-X),ge=ie+.5*(W-ie),Se=ce+.5*(ae-ce),re=Math.min(V,ie,be,ge),_e=Math.max(V,ie,be,ge),ue=Math.min(X,ce,he,Se),J=Math.max(X,ce,he,Se);return new l(re,ue,_e-re,J-ue)},ee=function(V,X,W,ae,ie,ce,be,he){var ge,Se,re,_e,ue,J,fe,ye,Ie,ke,He,We,me,Be,Oe=W-V,Ne=ae-X,Fe=ie-W,it=ce-ae,pt=be-ie,Re=he-ce;for(Se=0;Se<41;Se++)Ie=(fe=(re=V+(ge=Se/40)*Oe)+ge*((ue=W+ge*Fe)-re))+ge*(ue+ge*(ie+ge*pt-ue)-fe),ke=(ye=(_e=X+ge*Ne)+ge*((J=ae+ge*it)-_e))+ge*(J+ge*(ce+ge*Re-J)-ye),Se==0?(He=Ie,We=ke,me=Ie,Be=ke):(He=Math.min(He,Ie),We=Math.min(We,ke),me=Math.max(me,Ie),Be=Math.max(Be,ke));return new l(Math.round(He),Math.round(We),Math.round(me-He),Math.round(Be-We))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,X,W=(V=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:X}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Yt.API),function(e){var t=function(o){var l,c,d,u,A,f,m,x,g,v;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(A=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(f=(A=((A=((A=((A=(A-(v=A%85))/85)-(g=A%85))/85)-(x=A%85))/85)-(m=A%85))/85)%85,c.push(f+33,m+33,x+33,g+33,v+33)):c.push(122);return function(y,b){for(var w=b;w>0;w--)y.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,A,f=String,m="length",x=255,g="charCodeAt",v="slice",y="replace";for(o[v](-2),o=o[v](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),d=[],u=0,A=(o+=l="uuuuu"[v](o[m]%5||5))[m];A>u;u+=5)c=52200625*(o[g](u)-33)+614125*(o[g](u+1)-33)+7225*(o[g](u+2)-33)+85*(o[g](u+3)-33)+(o[g](u+4)-33),d.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(b,w){for(var _=w;_>0;_--)b.pop()}(d,l[m]),f.fromCharCode.apply(f,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=jE(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(Yt.API),function(e){e.loadFile=function(t,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var A=new XMLHttpRequest,f=0,m=function(x){var g=x.length,v=[],y=String.fromCharCode;for(f=0;f<g;f+=1)v.push(y(255&x.charCodeAt(f)));return v.join("")};if(A.open("GET",c,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?u(m(this.responseText)):u(void 0)}),A.send(null),d&&A.status===200)return m(A.responseText)}(i,a,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Yt.API),function(e){function t(){return(hr.html2canvas?Promise.resolve(hr.html2canvas):lS(()=>Promise.resolve().then(()=>u_e),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(hr.DOMPurify?Promise.resolve(hr.DOMPurify):lS(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=gn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},a=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),A=c.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||u.appendChild(l(A,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var x=u[m],g=x.src.find(function(v){return v.format==="truetype"});g&&d.addFont(g.url,x.ref.name,x.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,d.context2d.save(!0),c(this.prop.container,f)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||Yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,A){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return d.updateProgress(null,u),f}).then(u,A).then(function(f){return d.updateProgress(1),f})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),f=d.call(A,l,c);return o.convert(f,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Yt.getPageSize=function(l,c,d){if(gn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var A,f=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+c}var x,g=0,v=0;if(m.hasOwnProperty(f))g=m[f][1]/A,v=m[f][0]/A;else try{g=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",v>g&&(x=v,v=g,g=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>v&&(x=v,v=g,g=x)}return{width:v,height:g,unit:c,k:A,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(CS):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(Yt.API),Yt.API.addJS=function(e){return JD=e,this.internal.events.subscribe("postPutResources",function(){Ew=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ew+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ZD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+JD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ew!==void 0&&ZD!==void 0&&this.internal.out("/Names <</JavaScript "+Ew+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(a=0;a<d;a++){var A=r.internal.newObject();u.push(A);var f=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Yt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(A){for(var f,m=256*A.charCodeAt(4)+A.charCodeAt(5),x=A.length,g={width:0,height:0,numcomponents:1},v=4;v<x;v+=2){if(v+=m,t.indexOf(A.charCodeAt(v+1))!==-1){f=256*A.charCodeAt(v+5)+A.charCodeAt(v+6),g={width:256*A.charCodeAt(v+7)+A.charCodeAt(v+8),height:f,numcomponents:A.charCodeAt(v+9)};break}m=256*A.charCodeAt(v+2)+A.charCodeAt(v+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:i}}return u}}(Yt.API),Yt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=ySe(e,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,d=a.palette,u=a.depth;i=d&&c===1?function(E){for(var I=E.width,F=E.height,B=E.data,O=E.palette,R=E.depth,U=!1,$=[],K=[],H=void 0,z=!1,te=0,ee=0;ee<O.length;ee++){var Z=nD(O[ee],4),V=Z[0],X=Z[1],W=Z[2],ae=Z[3];$.push(V,X,W),ae!=null&&(ae===0?(te++,K.length<1&&K.push(ee)):ae<255&&(z=!0))}if(z||te>1){U=!0,K=void 0;var ie=I*F;H=new Uint8Array(ie);for(var ce=new DataView(B.buffer),be=0;be<ie;be++){var he=BS(ce,be,R),ge=nD(O[he],4)[3];H[be]=ge}}else te===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:B,alphaBytes:H,needSMask:U,palette:$,mask:K}}(a):c===2||c===4?function(E){for(var I=E.data,F=E.width,B=E.height,O=E.channels,R=E.depth,U=O===2?"DeviceGray":"DeviceRGB",$=O-1,K=F*B,H=$,z=K*H,te=1*K,ee=Math.ceil(z*R/8),Z=Math.ceil(te*R/8),V=new Uint8Array(ee),X=new Uint8Array(Z),W=new DataView(I.buffer),ae=new DataView(V.buffer),ie=new DataView(X.buffer),ce=!1,be=0;be<K;be++){for(var he=be*O,ge=0;ge<H;ge++)lM(ae,BS(W,he+ge,R),be*H+ge,R);var Se=BS(W,he+H,R);Se<(1<<R)-1&&(ce=!0),lM(ie,Se,1*be,R)}return{colorSpace:U,colorsPerPixel:$,sMaskBitsPerComponent:ce?R:void 0,colorBytes:V,alphaBytes:X,needSMask:ce}}(a):function(E){var I=E.data,F=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(B){for(var O=B.length,R=new Uint8Array(2*O),U=new DataView(R.buffer,R.byteOffset,R.byteLength),$=0;$<O;$++)U.setUint16(2*$,B[$],!1);return R}(I):I,needSMask:!1}}(a);var A,f,m,x=i,g=x.colorSpace,v=x.colorsPerPixel,y=x.sMaskBitsPerComponent,b=x.colorBytes,w=x.alphaBytes,_=x.needSMask,N=x.palette,C=x.mask,P=null;return n!==Yt.API.image_compression.NONE&&typeof jE=="function"?(P=function(E){var I;switch(E){case Yt.API.image_compression.FAST:I=11;break;case Yt.API.image_compression.MEDIUM:I=13;break;case Yt.API.image_compression.SLOW:I=14;break;default:I=12}return I}(n),A=this.decode.FLATE_DECODE,f="/Predictor ".concat(P," /Colors ").concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=nM(b,Math.ceil(o*v*u/8),v,u,n),_&&(m=nM(w,Math.ceil(o*y/8),1,y,n))):(A=void 0,f=void 0,e=b,_&&(m=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:e,index:t,filter:A,decodeParameters:f,transparency:C,palette:N,sMask:m,predictor:P,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new MSe(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new ES(100).encode(d,100);return e.processJPEG.call(this,u,r,n,i)},e.processGIF87A=e.processGIF89A}(Yt.API),Vl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){kn.log("bit decode error:"+r)}},Vl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Vl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Vl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Vl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,d=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},Vl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Vl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Vl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},Vl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Vl(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new ES(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)}}(Yt.API),dM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new dM(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new ES(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)}}(Yt.API),Yt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var u=n[d],A=n[d+1],f=n[d+2],m=n[d+3];a[l++]=u,a[l++]=A,a[l++]=f,o[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Yt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mm=Yt.API,kw=Mm.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=d.fof?d.fof:1,A=t.doKerning!==!1,f=0,m=e.length,x=0,g=l[0]||c,v=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(f=A&&gn(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/u:0,v.push((l[n]||g)/c+f)),x=n;return v},eM=Mm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Mm.processArabic&&(e=Mm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:kw.apply(this,arguments).reduce(function(a,o){return a+o},0)},tM=function(e,t,r,n){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<r;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},rM=function(e,t,r){r||(r={});var n,i,a,o,l,c,d,u=[],A=[u],f=r.textIndent||0,m=0,x=0,g=e.split(" "),v=kw.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),b=[];g.map(function(_){(_=_.split(/\s*\n/)).length>1?b=b.concat(_.map(function(N,C){return(C&&N.length?`
`:"")+N})):b.push(_[0])}),g=b,c=eM.apply(this,[y,r])}for(a=0,o=g.length;a<o;a++){var w=0;if(n=g[a],c&&n[0]==`
`&&(n=n.substr(1),w=1),f+m+(x=(i=kw.apply(this,[n,r])).reduce(function(_,N){return _+N},0))>t||w){if(x>t){for(l=tM.apply(this,[n,i,t-(f+m),t]),u.push(l.shift()),u=[l.pop()];l.length;)A.push([l.shift()]);x=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(_,N){return _+N},0)}else u=[n];A.push(u),f=x+c,m=v}else u.push(n),f+=m+x,m=v}return d=c?function(_,N){return(N?y:"")+_.join(" ")}:function(_){return _.join(" ")},A.map(d)},Mm.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle),f="Unicode";return A.metadata[f]?{widths:A.metadata[f].widths||{0:1},kerning:A.metadata[f].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(rM.apply(this,[n[l],o,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var o=function(f){return"0x"+parseInt(f,10).toString(16)},l=e.__fontmetrics__.compress=function(f){var m,x,g,v,y=["{"];for(var b in f){if(m=f[b],isNaN(parseInt(b,10))?x="'"+b+"'":(b=parseInt(b,10),x=(x=o(b).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof m=="number")m<0?(g=o(m).slice(3),v="-"):(g=o(m).slice(2),v=""),g=v+g.slice(0,-1)+i[g.slice(-1)];else{if(gn(m)!=="object")throw new Error("Don't know what to do with value type "+gn(m)+".");g=l(m)}y.push(x+g)}return y.push("}"),y.join("")},c=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,x,g,v,y={},b=1,w=y,_=[],N="",C="",P=f.length-1,E=1;E<P;E+=1)(v=f[E])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(_.push([w,g]),w={},g=void 0):v=="}"?((x=_.pop())[0][x[1]]=w,g=void 0,w=x[0]):v=="-"?b=-1:g===void 0?n.hasOwnProperty(v)?(N+=n[v],g=parseInt(N,16)*b,b=1,N=""):N+=v:n.hasOwnProperty(v)?(C+=n[v],w[g]=parseInt(C,16)*b,b=1,g=void 0,C=""):C+=v;return y},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var m=f.font,x=A.Unicode[m.postScriptName];x&&(m.metadata.Unicode={},m.metadata.Unicode.widths=x.widths,m.metadata.Unicode.kerning=x.kerning);var g=u.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])}(Yt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(k1(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Yt),Yt.API.addSvgAsImage=function(e,t,r,n,i,a,o,l){if(isNaN(t)||isNaN(r))throw kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(hr.canvg?Promise.resolve(hr.canvg):lS(()=>import("./index.es-D79syzCP.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(u)}).then(function(){A.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,o,l)})},Yt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Yt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,A=0;function f(x,g){var v,y=!1;for(v=0;v<x.length;v+=1)x[v]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(A=0;A<m;A+=1)r[l[A]].value=r[l[A]].defaultValue,r[l[A]].explicitSet=!1}if(gn(e)==="object"){for(i in e)if(a=e[i],f(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&f(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(u=0;u<a[d].length;u+=1)typeof a[d][u]!="number"&&(n=!1);n===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?g.push("/"+x+" /"+r[x].value):g.push("/"+x+" "+r[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Yt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],A=0,f=a.length;A<f;++A){if(l=o.metadata.characterToGlyph(a.charCodeAt(A)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(A),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(a){var o,l,c,d,u,A,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],A=0,f=(l=Object.keys(a).sort(function(m,x){return m-x})).length;A<f;A++)o=l[A],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(d=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var A=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<f.length;x++)m+=String.fromCharCode(f[x]);var g=d();u({data:m,addLength1:!0,objectId:g}),c("endobj");var v=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var y=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+qm(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+qm(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(A)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+qm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var A=l.metadata.rawData,f="",m=0;m<A.length;m++)f+=String.fromCharCode(A[m]);var x=d();u({data:f,addLength1:!0,objectId:x}),c("endobj");var g=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+qm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+qm(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,d=a.y,u=a.options||{},A=a.mutex||{},f=A.pdfEscape,m=A.activeFontKey,x=A.fonts,g=m,v="",y=0,b="",w=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:A};for(b=l,g=m,Array.isArray(l)&&(b=l[0]),y=0;y<b.length;y+=1)x[g].metadata.hasOwnProperty("cmap")&&(o=x[g].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),o||b[y].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?v+=b[y]:v+="";var _="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?_=f(v,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(_=r(v,x[g])),A.isHex=!0,{text:_,x:c,y:d,options:u,mutex:A}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([i(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(i(Object.assign({},c,{text:o[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(Yt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Yt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,l,c,d,u,A=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var _=function(B){var O=B.charCodeAt(),R=O>>8,U=g[R];return U!==void 0?A[256*U+(255&O)]:R===252||R===253?"AL":y.test(R)?"L":R===8?"R":"N"},N=function(B){for(var O,R=0;R<B.length;R++){if((O=_(B.charAt(R)))==="L")return!1;if(O==="R")return!0}return!1},C=function(B,O,R,U){var $,K,H,z,te=O[U];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(te="AN");break;case"AL":b=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":U<1||U+1>=O.length||($=R[U-1])!=="EN"&&$!=="AN"||(K=O[U+1])!=="EN"&&K!=="AN"?te="N":b&&(K="AN"),te=K===$?K:"N";break;case"ES":te=($=U>0?R[U-1]:"B")==="EN"&&U+1<O.length&&O[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&R[U-1]==="EN"){te="EN";break}if(b){te="N";break}for(H=U+1,z=O.length;H<z&&O[H]==="ET";)H++;te=H<z&&O[H]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(z=O.length,H=U+1;H<z&&O[H]==="NSM";)H++;if(H<z){var ee=B[U],Z=ee>=1425&&ee<=2303||ee===64286;if($=O[H],Z&&($==="R"||$==="AL")){te="R";break}}}te=U<1||($=O[U-1])==="B"?"N":R[U-1];break;case"B":b=!1,i=!0,te=w;break;case"S":a=!0,te="N"}return te},P=function(B,O,R){var U=B.split("");return R&&E(U,R,{hiLevel:w}),U.reverse(),O&&O.reverse(),U.join("")},E=function(B,O,R){var U,$,K,H,z,te=-1,ee=B.length,Z=0,V=[],X=w?m:f,W=[];for(b=!1,i=!1,a=!1,$=0;$<ee;$++)W[$]=_(B[$]);for(K=0;K<ee;K++){if(z=Z,V[K]=C(B,W,V,K),U=240&(Z=X[z][x[V[K]]]),Z&=15,O[K]=H=X[Z][5],U>0)if(U===16){for($=te;$<K;$++)O[$]=1;te=-1}else te=-1;if(X[Z][6])te===-1&&(te=K);else if(te>-1){for($=te;$<K;$++)O[$]=H;te=-1}W[K]==="B"&&(O[K]=0),R.hiLevel|=H}a&&function(ae,ie,ce){for(var be=0;be<ce;be++)if(ae[be]==="S"){ie[be]=w;for(var he=be-1;he>=0&&ae[he]==="WS";he--)ie[he]=w}}(W,O,ee)},I=function(B,O,R,U,$){if(!($.hiLevel<B)){if(B===1&&w===1&&!i)return O.reverse(),void(R&&R.reverse());for(var K,H,z,te,ee=O.length,Z=0;Z<ee;){if(U[Z]>=B){for(z=Z+1;z<ee&&U[z]>=B;)z++;for(te=Z,H=z-1;te<H;te++,H--)K=O[te],O[te]=O[H],O[H]=K,R&&(K=R[te],R[te]=R[H],R[H]=K);Z=z}Z++}}},F=function(B,O,R){var U=B.split(""),$={hiLevel:w};return R||(R=[]),E(U,R,$),function(K,H,z){if(z.hiLevel!==0&&u)for(var te,ee=0;ee<K.length;ee++)H[ee]===1&&(te=v.indexOf(K[ee]))>=0&&(K[ee]=v[te+1])}(U,R,$),I(2,U,O,R,$),I(1,U,O,R,$),U.join("")};return this.__bidiEngine__.doBidiReorder=function(B,O,R){if(function($,K){if(K)for(var H=0;H<$.length;H++)K[H]=H;l===void 0&&(l=N($)),d===void 0&&(d=N($))}(B,O),o||!c||d)if(o&&c&&l^d)w=l?1:0,B=P(B,O,R);else if(!o&&c&&d)w=l?1:0,B=F(B,O,R),B=P(B,O);else if(!o||l||c||d){if(o&&!c&&l^d)B=P(B,O),l?(w=0,B=F(B,O,R)):(w=1,B=F(B,O,R),B=P(B,O));else if(o&&l&&!c&&d)w=1,B=F(B,O,R),B=P(B,O);else if(!o&&!c&&l^d){var U=u;l?(w=1,B=F(B,O,R),w=0,u=!1,B=F(B,O,R),u=U):(w=0,B=F(B,O,R),B=P(B,O),w=1,u=!1,B=F(B,O,R),u=U,B=P(B,O))}}else w=0,B=F(B,O,R);else w=l?1:0,B=F(B,O,R);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,c=B.isOutputVisual,l=B.isInputRtl,d=B.isOutputRtl,u=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Yt),Yt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new eA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new tBe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new QSe(this.contents),this.head=new HSe(this),this.name=new GSe(this),this.cmap=new aX(this),this.toUnicode={},this.hhea=new VSe(this),this.maxp=new qSe(this),this.hmtx=new YSe(this),this.post=new KSe(this),this.os2=new zSe(this),this.loca=new eBe(this),this.glyf=new XSe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var bc,eA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),QSe=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,l,c,d,u,A,f,m,x,g;for(g in m=Object.keys(r).length,c=Math.log(2),A=16*Math.floor(Math.log(m)/c),o=Math.floor(A/c),u=16*m-A,(i=new eA).writeInt(this.scalarType),i.writeShort(m),i.writeShort(A),i.writeShort(o),i.writeShort(u),a=16*m,d=i.pos+a,l=null,x=[],r)for(f=r[g],i.writeString(g),i.writeInt(e(f)),i.writeInt(d),i.writeInt(f.length),x=x.concat(f),g==="head"&&(l=d),d+=f.length;d%4;)x.push(0),d++;return i.write(x),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=oX.call(r);r.length%4;)r.push(0);for(a=new eA(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),$Se={}.hasOwnProperty,pd=function(e,t){for(var r in t)$Se.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};bc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var HSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pd(e,bc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new eA).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),uM=function(){function e(t,r){var n,i,a,o,l,c,d,u,A,f,m,x,g,v,y,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),f=m/2,t.pos+=6,a=function(){var _,N;for(N=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)N.push(t.readUInt16());return N}(),t.pos+=2,g=function(){var _,N;for(N=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)N.push(t.readUInt16());return N}(),d=function(){var _,N;for(N=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)N.push(t.readUInt16());return N}(),u=function(){var _,N;for(N=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)N.push(t.readUInt16());return N}(),i=(this.length-t.pos+this.offset)/2,l=function(){var _,N;for(N=[],c=_=0;0<=i?_<i:_>i;c=0<=i?++_:--_)N.push(t.readUInt16());return N}(),c=y=0,w=a.length;y<w;c=++y)for(v=a[c],n=b=x=g[c];x<=v?b<=v:b>=v;n=x<=v?++b:--b)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-x)-(f-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=A}return e.encode=function(t,r){var n,i,a,o,l,c,d,u,A,f,m,x,g,v,y,b,w,_,N,C,P,E,I,F,B,O,R,U,$,K,H,z,te,ee,Z,V,X,W,ae,ie,ce,be,he,ge,Se,re;switch(U=new eA,o=Object.keys(t).sort(function(_e,ue){return _e-ue}),r){case"macroman":for(g=0,v=function(){var _e=[];for(x=0;x<256;++x)_e.push(0);return _e}(),b={0:0},a={},$=0,te=o.length;$<te;$++)b[he=t[i=o[$]]]==null&&(b[he]=++g),a[i]={old:t[i],new:b[t[i]]},v[i]=b[t[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(v),{charMap:a,subtable:U.data,maxGlyphID:g+1};case"unicode":for(O=[],A=[],w=0,b={},n={},y=d=null,K=0,ee=o.length;K<ee;K++)b[N=t[i=o[K]]]==null&&(b[N]=++w),n[i]={old:N,new:b[N]},l=b[N]-i,y!=null&&l===d||(y&&A.push(y),O.push(i),d=l),y=i;for(y&&A.push(y),A.push(65535),O.push(65535),F=2*(I=O.length),E=2*Math.pow(Math.log(I)/Math.LN2,2),f=Math.log(E/2)/Math.LN2,P=2*I-E,c=[],C=[],m=[],x=H=0,Z=O.length;H<Z;x=++H){if(B=O[x],u=A[x],B===65535){c.push(0),C.push(0);break}if(B-(R=n[B].new)>=32768)for(c.push(0),C.push(2*(m.length+I-x)),i=z=B;B<=u?z<=u:z>=u;i=B<=u?++z:--z)m.push(n[i].new);else c.push(R-B),C.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*I+2*m.length),U.writeUInt16(0),U.writeUInt16(F),U.writeUInt16(E),U.writeUInt16(f),U.writeUInt16(P),ce=0,V=A.length;ce<V;ce++)i=A[ce],U.writeUInt16(i);for(U.writeUInt16(0),be=0,X=O.length;be<X;be++)i=O[be],U.writeUInt16(i);for(ge=0,W=c.length;ge<W;ge++)l=c[ge],U.writeUInt16(l);for(Se=0,ae=C.length;Se<ae;Se++)_=C[Se],U.writeUInt16(_);for(re=0,ie=m.length;re<ie;re++)g=m[re],U.writeUInt16(g);return{charMap:n,subtable:U.data,maxGlyphID:w+1}}},e}(),aX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pd(e,bc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new uM(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=uM.encode(t,r),(i=new eA).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),VSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pd(e,bc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),zSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pd(e,bc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),KSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pd(e,bc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),WSe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},GSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pd(e,bc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,o,l,c,d,u,A,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=u=0,A=n.length;u<A;a=++u)i=n[a],t.pos=i.offset,d=t.readString(i.length),o=new WSe(d,i),c[f=i.nameID]==null&&(c[f]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),qSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pd(e,bc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),YSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pd(e,bc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)u.push(t.readInt16());return u}(),this.widths=(function(){var d,u,A,f;for(f=[],d=0,u=(A=this.metrics).length;d<u;d++)a=A[d],f.push(a.advance);return f}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),oX=[].slice,XSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pd(e,bc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,o,l,c,d,u,A;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new eA(r.read(i))).readShort(),d=l.readShort(),A=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new JSe(l,d,A,c,u):new ZSe(l,o,d,A,c,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)i=t[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},e}(),ZSe=function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),JSe=function(){function e(t,r,n,i,a){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new eA(oX.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),eBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return pd(e,bc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},e}(),tBe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,l,c,d,u,A,f,m,x,g,v,y;for(i in n=aX.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},y=n.charMap)m[(c=y[i]).old]=c.new;for(x in f=n.maxGlyphID,o)x in m||(m[x]=f++);return u=function(b){var w,_;for(w in _={},b)_[b[w]]=w;return _}(m),A=Object.keys(u).sort(function(b,w){return b-w}),g=function(){var b,w,_;for(_=[],b=0,w=A.length;b<w;b++)l=A[b],_.push(u[l]);return _}(),a=this.font.glyf.encode(o,g,m),d=this.font.loca.encode(a.offsets,g),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Yt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();const rBe=()=>{var d,u,A,f;const{tenantData:e,loading:t}=im(),r=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(m||0),n=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",i=m=>{if(!m)return"N/A";if(typeof m=="string")return m;const{street:x,city:g,state:v,pincode:y,landmark:b}=m;return[x,b,g,v,y].filter(Boolean).join(", ")},a=async()=>{const m=document.getElementById("rental-agreement-content");if(m)try{const x=await pY(m,{scale:2,useCORS:!0,logging:!1,windowWidth:m.scrollWidth,windowHeight:m.scrollHeight}),g=x.toDataURL("image/png"),v=new Yt("p","mm","a4"),y=v.internal.pageSize.getWidth(),b=x.height*y/x.width;v.addImage(g,"PNG",0,0,y,b),v.save(`Rental-Agreement-${(e==null?void 0:e.userName)||"Tenant"}.pdf`)}catch(x){console.error("Error generating PDF:",x),alert("Failed to generate agreement PDF. Please try again.")}},o=()=>{window.print()};if(t)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading agreement..."})]})})});if(!e)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(Xt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Agreement Found"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy agreement."})]})})});const{property:l,room:c}=e;return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(ks,{className:"w-10 h-10 mr-3"}),"Tenancy Agreement"]}),s.jsx("p",{className:"text-purple-100 text-lg",children:"Your rental agreement details"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:o,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors shadow-lg flex items-center gap-2",children:[s.jsx(Tz,{className:"w-4 h-4"}),"Print"]}),s.jsxs("button",{onClick:a,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors shadow-lg flex items-center gap-2",children:[s.jsx(eu,{className:"w-4 h-4"}),"Download"]})]})]})})]})}),s.jsxs(Y.div,{id:"rental-agreement-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 p-8 border-b-4 border-purple-600",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"RENTAL AGREEMENT"}),s.jsxs("p",{className:"text-gray-600",children:["This agreement is made on ",n(e.actualCheckInDate)]})]})}),s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Parties to the Agreement"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-purple-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-2",children:"LANDLORD (Owner)"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:((d=e.owner)==null?void 0:d.name)||e.ownerName}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((u=e.owner)==null?void 0:u.email)||e.ownerEmail||"Email not available"}),s.jsx("p",{className:"text-sm text-gray-600",children:((A=e.owner)==null?void 0:A.phone)||e.ownerPhone||"Phone not available"})]}),s.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-indigo-700 font-medium mb-2",children:"TENANT"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.userName}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.userEmail}),s.jsx("p",{className:"text-sm text-gray-600",children:e.userPhone})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 mr-2 text-purple-600"}),"Property Details"]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Property Name"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(l==null?void 0:l.propertyName)||e.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",(c==null?void 0:c.roomNumber)||e.roomNumber]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Address"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:i(l==null?void 0:l.address)!=="N/A"?i(l==null?void 0:l.address):((f=e.propertySnapshot)==null?void 0:f.address)||"Address not available"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Type"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(c==null?void 0:c.roomType)||"Standard"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(gi,{className:"w-5 h-5 mr-2 text-purple-600"}),"Financial Terms"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-3xl font-bold text-green-900",children:r(e.monthlyRent)}),s.jsx("p",{className:"text-xs text-green-600 mt-2",children:"Payable on or before 5th of every month"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r(e.securityDeposit)}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Refundable at end of tenancy"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Or,{className:"w-5 h-5 mr-2 text-purple-600"}),"Tenure Details"]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Check-in Date"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:n(e.actualCheckInDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Agreement Status"}),s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[s.jsx(yt,{className:"w-4 h-4 mr-1"}),"Active"]})]})]})})]}),s.jsx("div",{className:"border-t-2 border-gray-200 pt-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium mb-4",children:"Landlord's Signature"}),s.jsx("div",{className:"border-b-2 border-gray-300 pb-4 mb-2",children:s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl text-indigo-900",style:{fontFamily:'"Great Vibes", cursive'},children:e.ownerName}),s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-green-600 font-semibold border border-green-200 px-2 py-0.5 rounded bg-green-50",children:"Digitally Signed"})]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Date: ",n(e.actualCheckInDate)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium mb-4",children:"Tenant's Signature"}),s.jsx("div",{className:"border-b-2 border-gray-300 pb-4 mb-2",children:s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl text-indigo-900",style:{fontFamily:'"Great Vibes", cursive'},children:e.userName}),s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-green-600 font-semibold border border-green-200 px-2 py-0.5 rounded bg-green-50",children:"Digitally Signed"})]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Date: ",n(e.actualCheckInDate)]})]})]})})]}),s.jsx("div",{className:"bg-gray-100 p-6 text-center border-t",children:s.jsx("p",{className:"text-sm text-gray-600",children:"This is a digitally generated agreement. For any queries, please contact the property owner."})})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-xl overflow-hidden p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(tr,{className:"w-8 h-8 text-purple-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Terms & Conditions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant shall pay the monthly rent on or before the 5th of every month."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The security deposit will be refunded within 30 days of vacating the premises, subject to deductions for damages."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant must provide 30 days notice before vacating the property."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant is responsible for maintaining the property in good condition."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"Subletting is not permitted without prior written consent from the landlord."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The landlord reserves the right to inspect the property with 24 hours prior notice."})]})]})]})]})})})},nBe=()=>{var x,g;const{tenantData:e,loading:t}=im(),{toast:r}=to(),[n,i]=j.useState([]),[a,o]=j.useState(!0),l=v=>{v?window.location.href=`tel:${v}`:r({title:"Unavailable",description:"Phone number not available.",variant:"destructive"})},c=v=>{v?window.location.href=`sms:${v}`:r({title:"Unavailable",description:"Contact information not available.",variant:"destructive"})};j.useEffect(()=>{e&&(async()=>{var y;if(e!=null&&e.roomId)try{o(!0);const b=localStorage.getItem("authToken"),w=((y=e.roomId)==null?void 0:y._id)||e.roomId,N=(await Ye.get(`/property/public/rooms/${w}/tenants`)).data.tenants||[],C=[],P=new Set,E=I=>I?typeof I=="string"?I:(I._id||I.id||I).toString():"";N.forEach(I=>{const F=E(I.userId);F&&!P.has(F)&&(P.add(F),C.push(I))}),i(C)}catch(b){console.error("Error fetching roommates:",b)}finally{o(!1)}})()},[e]);const d=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",u=v=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(v||0);if(t||a)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading roommates..."})]})})});if(!e)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(Xt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy at the moment."})]})})});const{property:A,room:f}=e,m=(x=JSON.parse(localStorage.getItem("user")))==null?void 0:x.id;return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(Hr,{className:"w-10 h-10 mr-3"}),"Your Roommates"]}),s.jsxs("p",{className:"text-indigo-100 text-lg",children:["People living in Room ",f==null?void 0:f.roomNumber]})]}),s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-indigo-100 text-sm",children:"Total Tenants"}),s.jsx("p",{className:"text-4xl font-bold",children:n.length})]})]})})]})}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Room Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-indigo-700 font-medium mb-1",children:"Property"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(A==null?void 0:A.property_name)||(A==null?void 0:A.propertyName)||e.propertyName||"N/A"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Room Number"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",(f==null?void 0:f.roomNumber)||e.roomNumber||"N/A"]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Room Type"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(f==null?void 0:f.roomType)||(f==null?void 0:f.room_type)||"Standard"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("p",{className:"text-sm text-green-700 font-medium mb-1 flex items-center gap-1",children:[s.jsx(gi,{className:"w-3 h-3"})," Monthly Rent"]}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:u((f==null?void 0:f.rent)||e.monthlyRent)})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 md:col-span-2 lg:col-span-2",children:[s.jsxs("p",{className:"text-sm text-amber-700 font-medium mb-1 flex items-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3"})," Address"]}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:A!=null&&A.address?typeof A.address=="object"?`${A.address.street||""}, ${A.address.city||""}, ${A.address.state||""} - ${A.address.pincode||""}`:A.address:((g=e.propertySnapshot)==null?void 0:g.address)||"Address not available"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((v,y)=>{var w,_;const b=v.userId===m;return s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+y*.1},className:`bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow ${b?"ring-2 ring-indigo-500":""}`,children:s.jsxs("div",{className:`p-6 ${b?"bg-gradient-to-r from-indigo-50 to-purple-50":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.profilePicture||typeof v.userId=="object"&&((w=v.userId)!=null&&w.profilePicture)?s.jsx("img",{src:v.profilePicture||((_=v.userId)==null?void 0:_.profilePicture),alt:v.userName,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-sm"}):s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx(cr,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[b&&s.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-xs font-bold rounded-full shadow-sm",children:"YOU"}),v.status==="active"&&s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full flex items-center gap-1",children:[s.jsx(Rue,{className:"w-3 h-3"}),"Active"]})]})]}),s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2 truncate",children:[v.userName," ",b&&s.jsx("span",{className:"text-indigo-600 text-sm font-semibold",children:"(You)"})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Jr,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:v.userEmail})]}),v.userPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Tn,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),s.jsx("span",{children:v.userPhone})]})]}),!b&&s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs("button",{onClick:()=>l(v.userPhone),className:"flex-1 bg-indigo-50 text-indigo-600 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-indigo-100 transition-colors border border-indigo-100",children:[s.jsx(Tn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-semibold",children:"Call"})]}),s.jsxs("button",{onClick:()=>c(v.userPhone),className:"flex-1 bg-purple-50 text-purple-600 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-purple-100 transition-colors border border-purple-100",children:[s.jsx(wy,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-semibold",children:"Message"})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-50 flex items-center justify-center",children:s.jsx(Or,{className:"w-4 h-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-bold",children:"Checked in"}),s.jsx("p",{className:"font-semibold text-gray-900",children:d(v.actualCheckInDate)})]})]})})]})},v._id)})}),n.length===0&&s.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(Hr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No roommates found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"You might be the only tenant in this room"})]}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(tr,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Privacy Notice"}),s.jsx("p",{className:"text-sm text-gray-700",children:"Contact information is shared only with tenants residing in the same room. Please respect each other's privacy and maintain a friendly environment."})]})]})})]})})})},sBe=()=>{const{tenantData:e,loading:t,error:r}=im(),{toast:n}=to(),[i,a]=j.useState([]),[o,l]=j.useState(!1),[c,d]=j.useState(!1),[u,A]=j.useState([]),[f,m]=j.useState(null),x=O=>O?typeof O=="string"?O:(O._id||O.id||O).toString():"",g=localStorage.getItem("userUpiId")||"",[v,y]=j.useState({description:"",totalAmount:"",paidBy:"",splitWith:[],category:"groceries",date:new Date().toISOString().split("T")[0],targetUpiId:g}),b=["Groceries","Utilities","Food Delivery","Cleaning Supplies","Internet","Maintenance","Other"];j.useEffect(()=>{const O=JSON.parse(localStorage.getItem("user"));O&&(m(O.id||O._id||O.userId),y(R=>({...R,paidBy:O.name||""})))},[]);const w=async()=>{var O;if(e!=null&&e.roomId)try{l(!0);const R=localStorage.getItem("authToken"),U=((O=e.roomId)==null?void 0:O._id)||e.roomId,K=(await Ye.get(`/property/public/rooms/${U}/tenants`)).data.tenants||[],H=[],z=new Set;K.forEach(ee=>{const Z=x(ee.userId);Z&&!z.has(Z)&&(z.add(Z),H.push(ee))}),a(H);const te=await Ye.get("/property/expenses");A(te.data.expenses||[])}catch(R){console.error("Error fetching data:",R)}finally{l(!1)}};j.useEffect(()=>{e&&w()},[e]);const _=async O=>{var H,z;O.preventDefault();const R=[...v.splitWith,f],U=[...new Set(R)],$=parseFloat(v.totalAmount)/U.length,K=U.map(te=>({user:te,amount:$}));try{const te=localStorage.getItem("authToken");await Ye.post("/property/expenses",{description:v.description,totalAmount:parseFloat(v.totalAmount),category:v.category,date:v.date,targetUpiId:v.targetUpiId,splits:K}),localStorage.setItem("userUpiId",v.targetUpiId),n({title:"Success",description:"Expense added successfully"}),d(!1),y({description:"",totalAmount:"",paidBy:v.paidBy,splitWith:[],category:"groceries",date:new Date().toISOString().split("T")[0],targetUpiId:v.targetUpiId}),w()}catch(te){console.error("Error adding expense:",te),n({variant:"destructive",title:"Error",description:((z=(H=te.response)==null?void 0:H.data)==null?void 0:z.message)||"Failed to add expense"})}},N=async(O,R)=>{var K,H;const U=((K=O.paidBy)==null?void 0:K.name)||((H=O.paidBy)==null?void 0:H.userName)||"Roommate",$=`upi://pay?pa=${O.targetUpiId}&pn=${encodeURIComponent(U)}&tr=${O._id}&tn=${encodeURIComponent(O.description)}&am=${R}&cu=INR`;window.location.href=$,setTimeout(()=>{window.confirm("Did you complete the payment via your UPI app?")&&C(O._id)},3e3)},C=async O=>{try{const R=localStorage.getItem("authToken");await Ye.post(`/property/expenses/${O}/settle`,{}),n({title:"Success",description:"Payment settled!"}),w()}catch(R){console.error("Error settling expense:",R),n({variant:"destructive",title:"Error",description:"Failed to update payment status"})}},P=O=>{if(!O||!f)return;const R=x(O),U=x(f);R!==U&&y($=>{const K=$.splitWith.some(H=>H.toString()===R);return{...$,splitWith:K?$.splitWith.filter(H=>H.toString()!==R):[...$.splitWith,R]}})},E=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(O||0),I=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),F=u.reduce((O,R)=>{const U=R.splits.find($=>$.user._id===f||$.user===f);return U&&R.paidBy._id!==f&&U.status==="pending"?O+U.amount:O},0),B=u.reduce((O,R)=>{if(R.paidBy._id===f){const U=R.splits.reduce(($,K)=>K.user._id!==f&&K.status==="pending"?$+K.amount:$,0);return O+U}return O},0);return t?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-green-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Verifying tenant status..."})]})})}):e?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(BN,{className:"w-8 h-8 text-green-600"}),"Expense Split"]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Manage shared expenses easily"})]}),s.jsxs("button",{onClick:()=>d(!c),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg flex items-center gap-2 text-sm",children:[c?s.jsx(ar,{className:"w-4 h-4"}):s.jsx(od,{className:"w-4 h-4"}),c?"Cancel":"Add Expense"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-red-100 flex flex-col justify-between h-32 relative overflow-hidden group",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wider mb-1",children:"You Owe"}),s.jsx("h3",{className:"text-2xl font-bold text-red-600",children:E(F)})]}),s.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:s.jsx(vF,{className:"w-16 h-16 text-red-600"})})]}),s.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-green-100 flex flex-col justify-between h-32 relative overflow-hidden group",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wider mb-1",children:"Owed to You"}),s.jsx("h3",{className:"text-2xl font-bold text-green-600",children:E(B)})]}),s.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:s.jsx(Wh,{className:"w-16 h-16 text-green-600"})})]})]}),c&&s.jsxs(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-6 mb-8 border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"New Expense"}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),s.jsx("input",{type:"text",required:!0,value:v.description,onChange:O=>y({...v,description:O.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"What's this for?"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:""}),s.jsx("input",{type:"number",required:!0,min:"1",value:v.totalAmount,onChange:O=>y({...v,totalAmount:O.target.value}),className:"w-full pl-7 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Category"}),s.jsx("select",{required:!0,value:v.category,onChange:O=>y({...v,category:O.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",children:b.map(O=>s.jsx("option",{value:O.toLowerCase(),children:O},O))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Your UPI ID (for receiving payment)"}),s.jsx("input",{type:"text",required:!0,value:v.targetUpiId,onChange:O=>y({...v,targetUpiId:O.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50",placeholder:"username@upi"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Roommates will pay to this ID."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2",children:"Split with"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.filter(O=>x(O.userId)!==x(f)).map(O=>{var $,K;const R=x(O.userId),U=v.splitWith.some(H=>x(H)===R);return s.jsxs("button",{type:"button",onClick:()=>P(O.userId),className:`flex items-center gap-2 px-3 py-1.5 rounded-full border text-sm transition-all ${U?"bg-green-50 border-green-500 text-green-700":"bg-white border-gray-200 text-gray-600 hover:border-green-300"}`,children:[O.profilePicture||typeof O.userId=="object"&&(($=O.userId)!=null&&$.profilePicture)?s.jsx("img",{src:O.profilePicture||((K=O.userId)==null?void 0:K.profilePicture),alt:O.userName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(cr,{className:"w-3 h-3"}),O.userName]},O._id)})}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["You + ",v.splitWith.length," others. Share: ",s.jsxs("strong",{className:"text-gray-700",children:[E(v.totalAmount&&v.splitWith.length+1?v.totalAmount/(v.splitWith.length+1):0),"/person"]})]})]}),s.jsx("button",{type:"submit",disabled:v.splitWith.length===0,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-medium hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:"Add Expense"})]})]}),s.jsxs("div",{className:"space-y-4",children:[u.map(O=>{var K,H,z,te;const R=O.paidBy._id===f,U=O.splits.find(ee=>ee.user._id===f||ee.user===f),$=(U==null?void 0:U.status)==="settled";return!R&&!U?null:s.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${R?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:R?s.jsx(Wh,{className:"w-5 h-5"}):s.jsx(vF,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:O.description}),s.jsx("p",{className:"text-xs text-gray-500",children:R?`You paid ${E(O.totalAmount)}`:`${((K=O.paidBy)==null?void 0:K.name)||((H=O.paidBy)==null?void 0:H.userName)||"Someone"} paid ${E(O.totalAmount)}`})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-0.5",children:I(O.date)}),s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs font-medium capitalize",children:O.category})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"text-sm",children:R?s.jsxs("span",{className:"text-green-700 font-medium",children:["You are owed ",E(O.splits.reduce((ee,Z)=>Z.user._id!==f&&Z.status==="pending"?ee+Z.amount:ee,0))]}):s.jsx("span",{className:$?"text-gray-500":"text-red-700 font-medium",children:$?"You settled your share":`You owe ${E(U==null?void 0:U.amount)}`})})}),!R&&!$&&s.jsxs("button",{onClick:()=>N(O,U.amount),className:"px-4 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-full hover:bg-blue-700 transition-colors shadow-sm flex items-center gap-1",children:["Pay ",(((z=O.paidBy)==null?void 0:z.name)||((te=O.paidBy)==null?void 0:te.userName)||"Roommate").split(" ")[0]]}),R&&s.jsx("div",{className:"flex -space-x-2",children:O.splits.filter(ee=>ee.user._id!==f).map(ee=>{var Z,V,X,W;return s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center border-2 border-white text-[10px] font-bold ${ee.status==="settled"?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,title:`${((Z=ee.user)==null?void 0:Z.name)||((V=ee.user)==null?void 0:V.userName)||"User"}: ${ee.status}`,children:(((X=ee.user)==null?void 0:X.name)||((W=ee.user)==null?void 0:W.userName)||"?").charAt(0)},ee._id)})})]})]},O._id)}),u.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"No shared expenses yet."})})]})]})})}):s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md bg-white p-8 rounded-2xl shadow-xl",children:[s.jsx(Xt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Unable to verify tenant status.",r?s.jsxs("span",{className:"block mt-2 text-red-500 text-sm",children:["Error: ",r]}):s.jsx("span",{className:"block mt-2 text-sm text-gray-500",children:"Please make sure the backend server is running."})]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Retry"})]})})})},iBe=e=>{const t=new Date(e),n=Math.floor((new Date-t)/1e3);if(n<60)return"Just now";const i=Math.floor(n/60);if(i<60)return`${i} minute${i>1?"s":""} ago`;const a=Math.floor(i/60);if(a<24)return`${a} hour${a>1?"s":""} ago`;const o=Math.floor(a/24);if(o<7)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/7);if(l<4)return`${l} week${l>1?"s":""} ago`;const c=Math.floor(o/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(o/365);return`${d} year${d>1?"s":""} ago`},aBe=({onMenuToggle:e})=>{const t=Ar(),r=j.useRef(!0),[n,i]=j.useState(!1),[a,o]=j.useState(!1),[l,c]=j.useState([]),[d,u]=j.useState(0),[A,f]=j.useState(!1),[m,x]=j.useState(()=>JSON.parse(localStorage.getItem("user")||"{}"));j.useEffect(()=>{const _=()=>{try{x(JSON.parse(localStorage.getItem("user")||"{}"))}catch{}};return window.addEventListener("lyvo-profile-update",_),window.addEventListener("lyvo-login",_),window.addEventListener("lyvo-logout",_),()=>{window.removeEventListener("lyvo-profile-update",_),window.removeEventListener("lyvo-login",_),window.removeEventListener("lyvo-logout",_)}},[]);const g=async(_=!1)=>{if(A&&!_){console.log("Skipping fetch: already loading");return}try{_||f(!0);const N=JSON.parse(localStorage.getItem("user")||"{}"),C=N._id||N.id;if(!C){console.log("Skipping fetch: Not authenticated");return}console.log("Fetching notifications for user:",C);const P=await Ye.get("/notifications",{headers:{"x-user-id":C}});if(P.status===200){const E=P.data;E.success&&r.current&&(console.log("Notifications fetched:",E.data.length),c(E.data||[]),u(E.unreadCount||0),console.log("Unread count set to:",E.unreadCount))}else console.error("Fetch failed:",P.status)}catch(N){console.error("Error fetching notifications:",N)}finally{_||f(!1)}},v=async _=>{try{const N=JSON.parse(localStorage.getItem("user")||"{}");if(!N._id)return;(await Ye.delete(`/notifications/${_}`,{headers:{"x-user-id":N._id}})).status===200&&(c(P=>P.filter(E=>E._id!==_)),u(P=>Math.max(0,P-1)),g(!0))}catch(N){console.error("Error deleting notification:",N)}};j.useEffect(()=>()=>{r.current=!1},[]),j.useEffect(()=>{g();const _=setInterval(()=>{g()},12e4);return()=>{clearInterval(_)}},[]),j.useEffect(()=>{const _=N=>{console.log(" OwnerNavbar: RECEIVED NOTIFICATION via Socket:",N.detail);const C=N.detail;c(P=>P.some(E=>E._id===C._id)?P:[C,...P]),u(P=>P+1),console.log(" Refreshing unread count (fetching for consistency)..."),g(!0)};return window.addEventListener("new-notification",_),()=>window.removeEventListener("new-notification",_)},[]),j.useEffect(()=>{const _=N=>{N.target.closest(".dropdown-container")||(i(!1),o(!1))};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const y=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),t("/login")},b={hidden:{opacity:0,y:-10,scale:.95,transformOrigin:"top right"},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15,ease:"easeIn"}}},w={hover:{scale:1.05,transition:{duration:.1}},tap:{scale:.95,transition:{duration:.1}}};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 py-3 lg:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx(Y.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Toggle menu",variants:w,whileHover:"hover",whileTap:"tap",children:s.jsx(SN,{className:"w-5 h-5"})}),s.jsxs(Ot,{to:"/owner-dashboard",className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(Y.div,{className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Owner",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Property Management"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(Y.button,{onClick:()=>o(!a),className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 relative","aria-label":"Notifications",variants:w,whileHover:"hover",whileTap:"tap",children:[s.jsx(id,{className:"w-5 h-5"}),d>0&&s.jsx(Y.span,{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white px-1",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:d>9?"9+":d})]}),s.jsx(Mr,{children:a&&s.jsxs(Y.div,{className:"absolute right-0 mt-2 w-72 sm:w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:b,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:A?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading notifications..."})]}):l.filter(_=>!_.is_read).length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(id,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No new notifications"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You're all caught up!"})]}):l.filter(_=>!_.is_read).slice(0,5).map(_=>s.jsxs(Y.div,{className:"relative p-4 border-b border-gray-100 bg-blue-50 hover:bg-blue-100 group",transition:{duration:.2},children:[s.jsx("div",{className:"cursor-pointer pr-8",onClick:()=>{_.action_url&&(t(_.action_url),o(!1))},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.title}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:iBe(_.createdAt)})]}),s.jsx("span",{className:"ml-2 w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]})}),s.jsx("button",{onClick:N=>{N.stopPropagation(),v(_._id)},className:"absolute top-3 right-3 p-1 rounded-full hover:bg-red-100 transition-colors opacity-0 group-hover:opacity-100",title:"Delete notification",children:s.jsx(rr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]},_._id))}),l.filter(_=>!_.is_read).length>0&&s.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsx(Ot,{to:"/owner-notifications",className:"text-sm text-red-600 hover:text-red-700 font-medium",onClick:()=>o(!1),children:"View all notifications"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[l.filter(_=>!_.is_read).length," unread"]})]})]})})]}),s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(Y.button,{onClick:()=>i(!n),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"User menu",variants:w,whileHover:"hover",whileTap:"tap",children:[s.jsx(Y.div,{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full overflow-hidden bg-red-100 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:m!=null&&m.profilePicture?s.jsx("img",{src:m.profilePicture,alt:"avatar",className:"w-full h-full object-cover"}):s.jsx(cr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:m.name||"Owner"})]}),s.jsx(Mr,{children:n&&s.jsx(Y.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:b,initial:"hidden",animate:"visible",exit:"exit",children:s.jsxs("div",{className:"py-2",children:[s.jsx(Y.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsx(Ot,{to:"/owner-profile",className:"block px-4 py-2 text-sm text-gray-700",children:"Profile Settings"})}),s.jsx(Y.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx(gl,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})})]})})})]})]})]})})},hM=({onClose:e})=>{const t=eo(),r=Ar(),n=JSON.parse(localStorage.getItem("user")||"{}"),i=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login")},a=[{name:"Dashboard",href:"/owner-dashboard",icon:Ir},{name:"Properties",href:"/owner-properties",icon:Zr},{name:"Tenants",href:"/owner-tenants",icon:Hr},{name:"Bookings",href:"/owner-bookings",icon:Or},{name:"Maintenance",href:"/owner-maintenance",icon:Hd},{name:"Payments",href:"/owner-payments",icon:gi},{name:"Analytics",href:"/owner-analytics",icon:Cp},{name:"Profile Settings",href:"/owner-settings",icon:rc}],o=d=>t.pathname===d,l={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},c={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(Y.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-gray-200 flex flex-col shadow-xl",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs(Y.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsx(Y.div,{className:"w-8 h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Owner",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Property Management"})]})]}),s.jsx(Y.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Close sidebar",variants:c,whileHover:"hover",whileTap:"tap",children:s.jsx(ar,{className:"w-5 h-5"})})]}),s.jsx(Y.div,{className:"flex-shrink-0 p-4 border-b border-gray-200",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Y.div,{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center overflow-hidden",whileHover:{scale:1.05},transition:{duration:.2},children:n.profilePicture?s.jsx("img",{src:n.profilePicture,alt:n.name,className:"w-full h-full object-cover"}):s.jsx(Hr,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.name||"Property Owner"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email||"owner@lyvo+.com"})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s.jsxs("div",{className:"px-4 space-y-2",children:[s.jsx(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:s.jsxs(Ot,{to:"/owner-add-property",onClick:e,className:"group flex items-center px-3 py-3 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200 mb-4 shadow-sm",children:[s.jsx(od,{className:"mr-3 h-5 w-5"}),"Add Property"]})}),a.map((d,u)=>{const A=d.icon;return s.jsx(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25+u*.05,duration:.3,ease:"easeOut"},children:s.jsx(Y.div,{variants:l,whileHover:"hover",whileTap:"tap",children:s.jsxs(Ot,{to:d.href,onClick:e,className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${o(d.href)?"text-red-700 bg-red-50 border-r-2 border-red-700":"text-gray-700 hover:text-red-700 hover:bg-red-50"}`,children:[s.jsx(A,{className:`mr-3 h-5 w-5 ${o(d.href)?"text-red-700":"text-gray-400 group-hover:text-red-700"}`}),d.name]})})},d.name)})]})}),s.jsx(Y.div,{className:"flex-shrink-0 p-4 border-t border-gray-200",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:s.jsxs(Y.button,{onClick:i,className:"group flex items-center w-full px-3 py-3 text-sm font-medium text-gray-700 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200",variants:c,whileHover:"hover",whileTap:"tap",children:[s.jsx(gl,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-red-700"}),"Logout"]})})]})},oBe=()=>s.jsx("footer",{className:"bg-white border-t border-gray-200 py-6 px-4 lg:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 md:gap-8",children:[s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Property Management Platform"})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-md",children:"Streamline your property management operations with our comprehensive platform designed for property owners and managers."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"Facebook"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"Twitter"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"LinkedIn"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ot,{to:"/owner-dashboard",className:"text-sm text-gray-600 hover:text-gray-900",children:"Dashboard"})}),s.jsx("li",{children:s.jsx(Ot,{to:"/owner-properties",className:"text-sm text-gray-600 hover:text-gray-900",children:"Properties"})}),s.jsx("li",{children:s.jsx(Ot,{to:"/owner-tenants",className:"text-sm text-gray-600 hover:text-gray-900",children:"Tenants"})}),s.jsx("li",{children:s.jsx(Ot,{to:"/owner-settings",className:"text-sm text-gray-600 hover:text-gray-900",children:"Settings"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Help Center"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Contact Support"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Documentation"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"API Reference"})})]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[" 2024 ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"}),". All rights reserved."]}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Privacy Policy"}),s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Terms of Service"}),s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Cookie Policy"})]})]})})]})}),yn=({children:e,hideFooter:t=!1})=>{const[r,n]=j.useState(!1),[i,a]=j.useState(!1),o=()=>{n(!r)},l=()=>{n(!1)},c={hidden:{x:"-100%",opacity:0,transition:{duration:.3,ease:"easeInOut"}},visible:{x:0,opacity:1,transition:{duration:.3,ease:"easeInOut"}},exit:{x:"-100%",opacity:0,transition:{duration:.25,ease:"easeInOut"}}},d={hidden:{opacity:0,transition:{duration:.2}},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},u=A=>{if(!A||A.role!==3)return!1;const f=!!A.govtIdFrontUrl||!!A.govtIdBackUrl,m=A.kycVerified===!0||A.kycStatus==="approved";return!(f||m)};return j.useEffect(()=>{const A=async()=>{try{const m=localStorage.getItem("user");if(!m)return;const x=JSON.parse(m);if((x==null?void 0:x.role)!==3||(a(u(x)),!localStorage.getItem("authToken")||!(x!=null&&x._id)))return;const v=await Ye.get(`/user/profile/${x._id}`);if(v.data){const y=v.data;y!=null&&y._id&&(localStorage.setItem("user",JSON.stringify(y)),a(u(y)))}}catch{}};A();const f=()=>A();return window.addEventListener("lyvo-user-updated",f),()=>window.removeEventListener("lyvo-user-updated",f)},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(hM,{onClose:l})}),s.jsxs("div",{className:"lg:ml-64",children:[s.jsx("div",{className:"sticky top-0 z-30 bg-white shadow-sm",children:s.jsx(aBe,{onMenuToggle:o})}),i&&s.jsx("div",{className:"fixed top-20 right-4 z-40 max-w-xs",children:s.jsxs("div",{className:"bg-white border border-yellow-300 rounded-xl shadow-lg p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Add Govt ID"}),s.jsx("div",{className:"text-xs text-gray-600 mb-3",children:"Verify your identity to boost trust. Upload any govt-approved ID."}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("button",{onClick:()=>{window.location.href="/owner-settings#kyc"},className:"px-3 py-1.5 bg-red-600 text-white text-xs rounded-md hover:bg-red-700",children:"Add ID"}),s.jsx("button",{onClick:()=>a(!1),className:"px-2 py-1 text-xs text-gray-500 hover:text-gray-700",children:"Dismiss"})]})]})}),s.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 overflow-auto",children:e}),!t&&s.jsx(oBe,{})]}),s.jsx(Mr,{children:r&&s.jsx(Y.div,{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",variants:d,initial:"hidden",animate:"visible",exit:"exit",onClick:l})}),s.jsx(Mr,{children:r&&s.jsx("div",{className:"fixed inset-0 z-50 lg:hidden",children:s.jsx(Y.div,{className:"absolute inset-y-0 left-0 w-64 max-w-[80vw]",variants:c,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(hM,{onClose:l})})})}),s.jsx(HK,{}),s.jsx(f6,{})]})},lBe=()=>{const e=Ar(),[t,r]=j.useState(null),[n,i]=j.useState(!0),[a,o]=j.useState(0),[l,c]=j.useState(!1),[d,u]=j.useState(null),[A,f]=j.useState([]),[m,x]=j.useState([]),[g,v]=j.useState({totalProperties:0,activeTenants:0,monthlyRevenue:0,averageRating:0,occupancyRate:0,pendingApplications:0}),[y,b]=j.useState(!1),[w,_]=j.useState(null);j.useEffect(()=>{(()=>{const z=localStorage.getItem("authToken"),te=localStorage.getItem("user");if(!z||!te){e("/login");return}try{const ee=JSON.parse(te);if(ee.role!==3){e("/login");return}r(ee)}catch(ee){console.error("Error parsing user data:",ee),e("/login")}i(!1)})()},[e]);const N=async()=>{try{c(!0),u(null);const H=await Ye.get("/property/owner/tenants");if(console.log("Tenant fetch response status:",H.status),H.status===200){const z=H.data;if(console.log("Tenant fetch response data:",z),z.success&&Array.isArray(z.tenants)){const ee=z.tenants.filter(Z=>["active","extended"].includes(Z.status)).length;o(ee),console.log(`Successfully fetched ${ee} active tenants`),u(null)}else console.warn("API returned success but invalid tenants data",z),u(z.message||"Failed to parse tenant data")}else u(`Failed to fetch tenants (${H.status})`)}catch(H){console.error("Network error fetching tenant count:",H),H.response&&H.response.status===404?(o(0),u(null)):u("Failed to fetch tenants")}finally{c(!1)}};j.useEffect(()=>{t&&F()},[t]),j.useEffect(()=>{(A.length>0||m.length>0)&&I()},[A,m,a]);const C=()=>{console.log("Retrying tenant fetch..."),N()},P=async()=>{try{const H=await Ye.get("/property/owner/properties");if(H.status===200){const z=H.data;z.success&&z.data&&(f(z.data),console.log(`Successfully fetched ${z.data.length} properties`))}}catch(H){console.error("Error fetching properties:",H)}},E=async()=>{try{const H=await Ye.get("/property/owner/bookings");if(H.status===200){const z=H.data;z.success&&z.bookings&&(x(z.bookings),console.log(`Successfully fetched ${z.bookings.length} bookings`))}}catch(H){console.error("Error fetching bookings:",H)}},I=()=>{try{const H=A.length,z=a,ee=m.filter(ce=>ce.status==="confirmed").reduce((ce,be)=>ce+(be.rent||0),0),Z=A.filter(ce=>ce.rating&&ce.rating>0),V=Z.length>0?Z.reduce((ce,be)=>ce+be.rating,0)/Z.length:0;let X=0,W=0;A.forEach(ce=>{ce.rooms&&Array.isArray(ce.rooms)&&(X+=ce.rooms.length,W+=ce.rooms.filter(be=>!be.isAvailable).length)});const ae=X>0?Math.round(W/X*100):0,ie=m.filter(ce=>ce.status==="pending_approval").length;v({totalProperties:H,activeTenants:a,monthlyRevenue:ee,averageRating:Math.round(V*10)/10,occupancyRate:ae,pendingApplications:ie}),console.log("Dashboard stats calculated:",{totalProperties:H,activeTenants:z,monthlyRevenue:ee,averageRating:V,occupancyRate:ae,pendingApplications:ie})}catch(H){console.error("Error calculating dashboard stats:",H)}},F=async()=>{try{b(!0),_(null),await Promise.all([P(),E(),N()])}catch(H){console.error("Error fetching dashboard data:",H),_("Failed to load dashboard data")}finally{b(!1)}},B=A.slice(0,3).map(H=>{var be,he,ge;const z=H.rooms||[],te=z.length,ee=z.filter(Se=>!Se.isAvailable).length,Z=te>0?Math.round(ee/te*100):0,X=m.filter(Se=>String(Se.propertyId)===String(H._id)&&Se.status==="confirmed").reduce((Se,re)=>Se+(re.rent||0),0),W=((be=H.images)==null?void 0:be.front)||((he=H.images)==null?void 0:he.hall)||Array.isArray((ge=H.images)==null?void 0:ge.gallery)&&H.images.gallery[0]||H.frontImage||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center";let ae=`${X.toLocaleString("en-IN")}`,ie="Revenue";if(X===0&&z.length>0){const Se=z.map(re=>re.rent||0).filter(re=>re>0);if(Se.length>0){const re=Math.min(...Se),_e=Math.max(...Se);ae=re===_e?`${re.toLocaleString("en-IN")}/mo`:`${re.toLocaleString("en-IN")} - ${_e.toLocaleString("en-IN")}/mo`,ie="Rent"}}let ce="Location not available";if(H.address){if(typeof H.address=="string")ce=H.address;else if(typeof H.address=="object"){const Se=[];H.address.city&&Se.push(H.address.city),H.address.state&&Se.push(H.address.state),ce=Se.length>0?Se.join(", "):"Location not available"}}return{id:H._id,name:H.propertyName||H.property_name||"Unnamed Property",location:ce,type:H.propertyType||H.property_type||"Property",tenants:ee,occupancy:`${Z}%`,revenue:ae,revenueLabel:ie,status:H.status==="approved"?"Active":H.status||"Pending",image:W}}),O=H=>{if(!H)return"Unknown time";const z=new Date(H),ee=Math.floor((new Date-z)/1e3);if(ee<60)return"Just now";const Z=Math.floor(ee/60);if(Z<60)return`${Z} minute${Z>1?"s":""} ago`;const V=Math.floor(Z/60);if(V<24)return`${V} hour${V>1?"s":""} ago`;const X=Math.floor(V/24);if(X<7)return`${X} day${X>1?"s":""} ago`;const W=Math.floor(X/7);if(W<4)return`${W} week${W>1?"s":""} ago`;const ae=Math.floor(X/30);if(ae<12)return`${ae} month${ae>1?"s":""} ago`;const ie=Math.floor(X/365);return`${ie} year${ie>1?"s":""} ago`},U=(()=>{const H=[];return m.slice(0,3).forEach(z=>{var ae;const te=A.find(ie=>String(ie._id)===String(z.propertyId)),ee=te?te.propertyName||te.property_name:"Unknown Property",Z=((ae=z.userSnapshot)==null?void 0:ae.name)||"Unknown User";let V="",X="",W="";switch(z.status){case"pending_approval":V=`New booking request from ${Z} for ${ee}`,X="pending",W="tenant";break;case"confirmed":V=`Booking confirmed by ${Z} for ${ee}`,X="completed",W="payment";break;case"checked_in":V=`${Z} successfully checked in to ${ee}`,X="completed",W="tenant";break;case"rejected":V=`Booking rejected for ${ee}`,X="completed",W="tenant";break;case"cancelled":V=`Booking cancelled for ${ee}`,X="completed",W="tenant";break;default:V=`Booking ${z.status} for ${ee}`,X="in-progress",W="tenant"}H.push({id:`booking-${z._id}`,type:W,message:V,time:O(z.createdAt||z.bookedAt),status:X,createdAt:z.createdAt||z.bookedAt})}),A.slice(0,2).forEach(z=>{const te=z.propertyName||z.property_name||"Unnamed Property";H.push({id:`property-${z._id}`,type:"property",message:`Property "${te}" ${z.status==="approved"?"approved":"pending approval"}`,time:O(z.createdAt),status:z.status==="approved"?"completed":"pending",createdAt:z.createdAt})}),H.sort((z,te)=>new Date(te.createdAt)-new Date(z.createdAt)).slice(0,4)})(),$=H=>{switch(H){case"tenant":return s.jsx(Hr,{className:"w-5 h-5 text-blue-600"});case"payment":return s.jsx(gi,{className:"w-5 h-5 text-green-600"});case"maintenance":return s.jsx(Zr,{className:"w-5 h-5 text-orange-600"});case"property":return s.jsx(od,{className:"w-5 h-5 text-purple-600"});default:return s.jsx(Or,{className:"w-5 h-5 text-gray-600"})}},K=H=>{switch(H){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"in-progress":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}};return n?s.jsx(yn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(yn,{children:s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Welcome back, ",(t==null?void 0:t.name)||"Owner","!"]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Here's what's happening with your properties today."})]}),s.jsx("div",{className:"sm:mt-0 flex space-x-3",children:s.jsxs("button",{onClick:()=>e("/owner-add-property"),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200",children:[s.jsx(od,{className:"w-4 h-4 mr-2"}),"Add Property"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Properties"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:g.totalProperties})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:s.jsx(Zr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})})]})}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Active Tenants"}),l?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):d?s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-red-600",children:"Error loading tenants"}),s.jsx("button",{onClick:C,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Retry"})]}):s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:g.activeTenants})]}),s.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${d?"bg-red-100":"bg-green-100"}`,children:s.jsx(Hr,{className:`w-5 h-5 sm:w-6 sm:h-6 ${d?"text-red-600":"text-green-600"}`})})]}),d&&s.jsx("div",{className:"mt-3 sm:mt-4",children:s.jsx("p",{className:"text-xs text-gray-500",children:d==="No tenants found for this owner"?"Start by adding properties and getting bookings":"Check your connection and try again"})})]}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["",g.monthlyRevenue.toLocaleString()]})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:s.jsx(gi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Average Rating"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:g.averageRating})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg",children:s.jsx(Di,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600"})})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Occupancy Rate"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[g.occupancyRate,"%"]})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-lg",children:s.jsx(uu,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"})})]})}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200 sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pending Applications"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:g.pendingApplications})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-orange-100 rounded-lg",children:s.jsx(Or,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600"})})]}),s.jsx("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-blue-600",children:s.jsx("span",{children:"Requires attention"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Properties"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Your latest property listings and their performance"})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:y?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-red-600 mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading properties..."})]}):B.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Zr,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No properties yet"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Add your first property to get started"}),s.jsx("button",{onClick:()=>e("/owner-add-property"),className:"px-4 py-2 bg-red-600 text-white text-xs font-medium rounded-lg hover:bg-red-700",children:"Add Property"})]}):B.map(H=>s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx("img",{src:H.image,alt:H.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-lg object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:H.name}),s.jsx("p",{className:"text-xs text-gray-500",children:H.location}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-600",children:[H.tenants," tenants"]}),s.jsx("span",{className:"text-xs text-gray-600",children:""}),s.jsxs("span",{className:"text-xs text-gray-600",children:[H.occupancy," occupied"]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:H.revenue}),s.jsx("p",{className:"text-[10px] text-gray-500",children:H.revenueLabel}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:H.status})]}),s.jsx("button",{className:"p-1 sm:p-2 text-gray-400 hover:text-gray-600 flex-shrink-0",children:s.jsx(qP,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]},H.id))}),s.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200",children:s.jsx("button",{onClick:()=>e("/owner-properties"),className:"text-xs sm:text-sm text-red-600 hover:text-red-700 font-medium",children:"View all properties "})})]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},className:"bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Activities"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Latest updates and notifications"})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:y?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-red-600 mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading activities..."})]}):U.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Or,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No recent activities"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Activities will appear here as bookings and properties are created"})]}):U.map(H=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:$(H.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-900",children:H.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:H.time})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${K(H.status)} flex-shrink-0`,children:H.status})]},H.id))})]})]})]})})},cBe=()=>{const e=Ar(),[t,r]=j.useState(null),[n,i]=j.useState(!0),[a,o]=j.useState([]),[l,c]=j.useState(""),[d,u]=j.useState("all"),[A,f]=j.useState({}),[m,x]=j.useState({}),[g,v]=j.useState(null),y=async()=>{try{const C=localStorage.getItem("authToken");if(!C){e("/login");return}const P=await Ye.get("/property/owner/properties",{headers:{Authorization:`Bearer ${C}`}});P.data.success?(console.log("Properties fetched:",P.data.data),o(P.data.data)):v("Failed to fetch properties")}catch(C){console.error("Error fetching properties:",C),v("Error connecting to server")}finally{i(!1)}},b=async(C,P)=>{try{if(x(F=>({...F,[C]:!0})),!localStorage.getItem("authToken")){e("/login");return}const I=await Ye.put(`/property/owner/properties/${C}/status`,{status:P});I.data.success?(o(F=>F.map(B=>B._id===C?{...B,status:P,updated_at:new Date().toISOString()}:B)),console.log("Property status updated successfully")):(console.error("Failed to update property status:",I.data.message||"Unknown error"),v("Failed to update property status"))}catch(E){console.error("Error updating property status:",E)}finally{x(E=>({...E,[C]:!1}))}};window.refreshProperties=y,j.useEffect(()=>{(()=>{const P=localStorage.getItem("authToken"),E=localStorage.getItem("user");if(!P||!E){e("/login");return}try{const I=JSON.parse(E);if(I.role!==3){e("/login");return}r(I),y()}catch(I){console.error("Error parsing user data:",I),e("/login")}i(!1)})()},[e]);const w=a.map(C=>{var I,F,B,O;let P=[],E=!1;if(console.log("Processing property:",C.property_name),console.log("Property images:",C.images),C.images){const R=[{url:C.images.front,label:"Front"},{url:C.images.hall,label:"Hall"},{url:C.images.room,label:"Room"},{url:C.images.back,label:"Back"},{url:C.images.toilet,label:"Toilet"},{url:C.images.frontImage,label:"Front"},{url:C.images.hallImage,label:"Hall"},{url:C.images.roomImage,label:"Room"},{url:C.images.backImage,label:"Back"},{url:C.images.toiletImage,label:"Toilet"}].filter(U=>U.url);C.images.images&&Array.isArray(C.images.images)&&C.images.images.forEach((U,$)=>{U&&R.push({url:U,label:`Image ${$+1}`})}),P=R,E=R.length>0,console.log("Found images:",P.length)}return E||(P=[{url:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",label:"Default"}]),{id:C._id||C.id,name:C.property_name,location:`${((I=C.address)==null?void 0:I.city)||""}, ${((F=C.address)==null?void 0:F.state)||""}`,type:C.property_type,status:C.status==="active"?"Active":"Inactive",tenants:C.rooms?C.rooms.filter(R=>!R.is_available).length:0,maxTenants:C.rooms?C.rooms.length:0,monthlyRent:((B=C.pricing)==null?void 0:B.monthly_rent)||((O=C.rooms)==null?void 0:O.reduce((R,U)=>R+(U.rent||0),0))||0,totalRooms:C.rooms?C.rooms.length:0,lastUpdated:C.updated_at?new Date(C.updated_at).toISOString().split("T")[0]:C.created_at?new Date(C.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],images:P,hasUploadedImages:E}}),_=C=>{switch(C){case"Active":return"text-green-600 bg-green-100";case"Under Construction":return"text-yellow-600 bg-yellow-100";case"Maintenance":return"text-orange-600 bg-orange-100";case"Inactive":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},N=w.filter(C=>{const P=C.name.toLowerCase().includes(l.toLowerCase())||C.location.toLowerCase().includes(l.toLowerCase()),E=d==="all"||C.status===d;return P&&E});return n?s.jsx(yn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(yn,{children:s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Properties"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage your property portfolio and listings"})]})}),s.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search properties by name or location...",value:l,onChange:C=>c(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:d,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Under Construction",children:"Under Construction"}),s.jsx("option",{value:"Maintenance",children:"Maintenance"}),s.jsx("option",{value:"Inactive",children:"Inactive"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:N.map((C,P)=>{var E,I,F,B;return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[s.jsxs("div",{className:"relative h-40 sm:h-48 bg-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:(E=C.images[0])==null?void 0:E.url,alt:`${C.name} - ${(I=C.images[0])==null?void 0:I.label}`,className:"w-full h-full object-cover",onLoad:()=>{f(O=>({...O,[C.id]:!1}))},onError:O=>{O.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",f(R=>({...R,[C.id]:!1}))}}),A[C.id]!==!1&&s.jsx(Y.div,{className:"absolute inset-0 bg-gray-200 flex items-center justify-center",initial:{opacity:1},animate:{opacity:0},transition:{delay:.5,duration:.3},children:s.jsx(Y.div,{className:"w-8 h-8 border-2 border-gray-300 border-t-red-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}),((F=C.images[0])==null?void 0:F.label)!=="Default"&&s.jsx("div",{className:"absolute bottom-1 left-1",children:s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-black bg-opacity-50 text-white",children:(B=C.images[0])==null?void 0:B.label})})]}),s.jsx(Y.div,{className:"absolute top-2 sm:top-3 right-2 sm:right-3",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.3},children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${_(C.status)}`,children:C.status})})]}),s.jsxs("div",{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:C.name}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 flex-shrink-0",children:s.jsx(qP,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"space-y-2 mb-3 sm:mb-4",children:s.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-600",children:[s.jsx(jr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:C.location})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 mb-3 sm:mb-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:C.totalRooms}),s.jsx("div",{className:"text-xs text-gray-500",children:"Rooms"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:C.type||"N/A"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Type"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:C.status}),s.jsx("div",{className:"text-xs text-gray-500",children:"Status"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{console.log("View button clicked for property:",C.id),console.log("Navigating to:",`/owner-property/${C.id}`),e(`/owner-property/${C.id}`)},className:"flex-1 flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx(Pr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"View"]}),s.jsxs("button",{onClick:()=>e(`/owner-edit-property/${C.id}`),className:"flex-1 flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-gray-700 bg-blue-100 rounded-lg hover:bg-blue-200 transition-colors duration-200",children:[s.jsx(ff,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Edit"]}),s.jsx("button",{onClick:()=>b(C.id,C.status==="Active"?"inactive":"active"),disabled:m[C.id],className:`flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors duration-200 ${C.status==="Active"?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"} ${m[C.id]?"opacity-50 cursor-not-allowed":""}`,children:m[C.id]?s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):C.status==="Active"?s.jsx(Pz,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(Iz,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),s.jsxs("div",{className:"mt-2 sm:mt-3 text-xs text-gray-500 text-center",children:["Last updated: ",new Date(C.lastUpdated).toLocaleDateString()]})]})]},C.id)})}),N.length===0&&s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx(Zr,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No properties found"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:l||d!=="all"?"Try adjusting your search or filters":"No properties available"})]})]})})};delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const dBe=()=>{var Ft,xs,ys,On,is,br,Bt,un,ni,Vs,as,os,ls,Cn,et,Nt,Pt,ft,Ut,bn,Fr,Zn;const{id:e}=ju(),t=Ar(),[r,n]=j.useState(null),[i,a]=j.useState(!0),[o,l]=j.useState(0),[c,d]=j.useState(null),[u,A]=j.useState(null),[f,m]=j.useState(!1),[x,g]=j.useState(null),[v,y]=j.useState(!1),[b,w]=j.useState(!1),[_,N]=j.useState({}),[C,P]=j.useState(!1),[E,I]=j.useState({}),[F,B]=j.useState(!1),[O,R]=j.useState(!1),[U,$]=j.useState({room_number:"",room_type:"Single",rent:"",description:"",occupancy:1,amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},room_image:null,room_image_file:null,toilet_image:null,toilet_image_file:null}),[K,H]=j.useState(!1),[z,te]=j.useState(""),[ee,Z]=j.useState(!1),[V,X]=j.useState(!1),[W,ae]=j.useState({}),[ie,ce]=j.useState(""),[be,he]=j.useState(!1),[ge,Se]=j.useState({}),re=(xe,Ge)=>{const at=Ge.toLowerCase().endsWith(".pdf");console.log("Opening document preview:",{docUrl:xe,fileName:Ge,isPdf:at}),fetch(xe,{method:"HEAD"}).then(st=>{console.log("Document URL response:",st.status,st.statusText),st.ok||console.error("Document URL not accessible:",st.status)}).catch(st=>{console.error("Error checking document URL:",st)}),A({url:xe,name:Ge,type:at?"pdf":"image"})},_e=xe=>{console.log("Opening room details for room:",xe),console.log("Room ID:",xe._id),g(xe),y(!0)},ue=xe=>{console.log("Opening edit room for:",xe),I({_id:xe._id,room_number:xe.room_number,room_type:xe.room_type,room_size:xe.room_size,bed_type:xe.bed_type,occupancy:xe.occupancy,rent:xe.rent,description:xe.description||"",amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1,...typeof xe.amenities=="string"?JSON.parse(xe.amenities):xe.amenities||{}},room_image:xe.room_image,toilet_image:xe.toilet_image}),w(!0)},J=()=>{let xe="101";if(r&&r.rooms&&r.rooms.length>0){const Ge=r.rooms.map(at=>parseInt(at.room_number)).filter(at=>!isNaN(at));Ge.length>0&&(xe=(Math.max(...Ge)+1).toString())}$({room_number:xe,room_type:"Single",room_size:"",bed_type:"Single Bed",rent:"",description:"",occupancy:1,amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},room_image:null,room_image_file:null,toilet_image:null,toilet_image_file:null}),Se({}),B(!0)},fe=(xe,Ge)=>{ge[xe]&&Se(at=>{const st={...at};return delete st[xe],st}),!((xe==="rent"||xe==="room_size")&&Ge!==""&&Number(Ge)<0)&&$(at=>{const st={...at,[xe]:Ge};if(xe==="room_type"){const er={Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1};st.occupancy=er[Ge]||1}return st})},ye=(xe,Ge)=>{$(at=>({...at,amenities:{...at.amenities,[xe]:Ge}}))},Ie=(xe,Ge)=>{const at=xe.target.files[0];at&&(ge.room_image&&Ge==="room_image"&&Se(st=>{const er={...st};return delete er.room_image,er}),ge.toilet_image&&Ge==="toilet_image"&&Se(st=>{const er={...st};return delete er.toilet_image,er}),$(st=>({...st,[Ge]:URL.createObjectURL(at),[`${Ge}_file`]:at})))},ke=xe=>{$(Ge=>({...Ge,[xe]:null,[`${xe}_file`]:null}))},He=()=>{const xe={};return U.room_number||(xe.room_number="Room Number is required"),r&&r.rooms&&r.rooms.some(Ge=>Ge.room_number.toString()===U.room_number.toString())&&(xe.room_number="Room Number already exists"),U.rent?Number(U.rent)<=0&&(xe.rent="Rent must be greater than 0"):xe.rent="Rent is required",U.room_size?Number(U.room_size)<=0&&(xe.room_size="Size must be greater than 0"):xe.room_size="Room Size is required",!U.room_image_file&&!U.room_image&&(xe.room_image="Room Image is required"),U.amenities.attachedBathroom&&!U.toilet_image_file&&!U.toilet_image&&(xe.toilet_image="Toilet Image is required for attached bathroom"),xe},We=async()=>{try{const xe=He();if(Object.keys(xe).length>0){Se(xe);return}R(!0);const Ge=localStorage.getItem("authToken"),at=new FormData,st={...U};delete st.room_image,delete st.room_image_file,delete st.toilet_image,delete st.toilet_image_file,at.append("roomData",JSON.stringify(st)),Object.keys(st).forEach(dr=>{dr==="amenities"||typeof st[dr]=="object"?at.append(dr,JSON.stringify(st[dr])):at.append(dr,st[dr])}),U.room_image_file&&at.append("room_image",U.room_image_file),U.toilet_image_file&&at.append("toilet_image",U.toilet_image_file);const hn=(await Ye.post(`/property/owner/properties/${e}/rooms`,at,{headers:{"Content-Type":"multipart/form-data"}})).data;if(hn.success)await ot(),B(!1),te("Room added successfully!"),H(!0),setTimeout(()=>H(!1),3e3);else throw new Error(hn.message||"Failed to add room")}catch(xe){console.error("Error adding room:",xe),te(`Error: ${xe.message}`),H(!0)}finally{R(!1)}},me=(xe,Ge)=>{I(at=>{const st={...at,[xe]:Ge};if(xe==="room_type"){const er={Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1};st.occupancy=er[Ge]||1}return st})},Be=(xe,Ge)=>{I(at=>{const st={...at,amenities:{...at.amenities,[xe]:Ge}};return xe==="attachedBathroom"&&!Ge&&(st.toilet_image=null,st.toilet_image_file=null),st})},Oe=(xe,Ge)=>{ae(at=>({...at,[xe]:Ge}))},Ne=(xe,Ge)=>{ae(at=>({...at,amenities:{...at.amenities,[xe]:Ge}}))},Fe=(xe,Ge)=>{ae(at=>({...at,rules:{...at.rules,[xe]:Ge}}))},it=async xe=>{try{if(he(!0),!localStorage.getItem("authToken")){t("/login");return}(await Ye.put(`/property/owner/properties/${e}/status`,{status:xe})).data.success&&(n(er=>({...er,status:xe,updated_at:new Date().toISOString()})),console.log("Property status updated successfully"))}catch(Ge){console.error("Error updating property status:",Ge)}finally{he(!1)}},pt=xe=>{const Ge=xe.target.files[0];if(Ge){const at=URL.createObjectURL(Ge);I(st=>({...st,room_image:at,room_image_file:Ge}))}},Re=xe=>{const Ge=xe.target.files[0];if(Ge){const at=URL.createObjectURL(Ge);I(st=>({...st,toilet_image:at,toilet_image_file:Ge}))}},gt=()=>{I(xe=>({...xe,room_image:null,room_image_file:null}))},rt=()=>{I(xe=>({...xe,toilet_image:null,toilet_image_file:null}))},ot=async()=>{try{const Ge=(await Ye.get(`/property/owner/properties/${e}`)).data;Ge.success&&(n(Ge.data),console.log("Property data refreshed"))}catch(xe){console.error("Error refreshing property data:",xe)}},xt=async()=>{try{const xe=localStorage.getItem("authToken"),Ge=(()=>{try{const er=JSON.parse(localStorage.getItem("user")||"{}");return er._id||er.id||""}catch{return""}})();console.log("Fetching owner email for userId:",Ge),console.log("User service URL:",`http://localhost:4002/api/users/${Ge}`);const at=await Ye.get(`/user/profile/${Ge}`);console.log("Owner email response status:",at.status);const st=at.data;console.log("Owner email response data:",st),st.success&&st.data&&(ce(st.data.email||""),console.log("Owner email fetched and set:",st.data.email))}catch(xe){console.error("Error fetching owner email:",xe)}},Et=async()=>{try{P(!0);const xe=localStorage.getItem("authToken"),Ge=(()=>{try{const dr=JSON.parse(localStorage.getItem("user")||"{}");return dr._id||dr.id||""}catch{return""}})(),at=new FormData,st={...E};delete st.room_image_file,delete st.toilet_image_file,delete st.room_image,delete st.toilet_image,at.append("roomData",JSON.stringify(st)),Object.keys(st).forEach(dr=>{dr==="amenities"||typeof st[dr]=="object"?at.append(dr,JSON.stringify(st[dr])):at.append(dr,st[dr])}),E.room_image_file&&at.append("room_image",E.room_image_file),E.toilet_image_file&&at.append("toilet_image",E.toilet_image_file),console.log("Updating room:",E._id),console.log("Room data:",st);const hn=(await Ye.put(`/property/rooms/${E._id}`,at,{headers:{"Content-Type":"multipart/form-data"}})).data;if(console.log("Update response:",hn),hn.success){if(await ot(),x&&x._id===E._id)try{const Si=(await Ye.get(`/property/owner/properties/${e}`)).data;if(Si.success&&Si.data){const jc=Si.data.rooms.find(Fo=>Fo._id===E._id);jc&&g(jc)}}catch(dr){console.error("Error fetching updated room data:",dr)}w(!1),te("Room updated successfully!"),H(!0),setTimeout(()=>{H(!1)},3e3)}}catch(xe){console.error("Error updating room:",xe),te(`Error updating room: ${xe.message}`),H(!0)}finally{P(!1)}},St=async()=>{try{X(!0);const xe=localStorage.getItem("authToken"),Ge=(()=>{try{const hn=JSON.parse(localStorage.getItem("user")||"{}");return hn._id||hn.id||""}catch{return""}})(),at={property_name:W.property_name,description:W.description,amenities:W.amenities,rules:W.rules,contact_number:W.contact_number,security_deposit:W.security_deposit,maintenance_fee:W.maintenance_fee,latitude:W.latitude,longitude:W.longitude,address:{street:W.address,city:W.city,state:W.state,pincode:W.pincode,landmark:W.landmark}};console.log("Updating property:",W._id),console.log("Property data:",at);const er=(await Ye.put(`/property/owner/properties/${W._id}`,at)).data;console.log("Update response:",er),er.success&&(await ot(),Z(!1),te("Property updated successfully!"),H(!0),setTimeout(()=>{H(!1)},3e3))}catch(xe){console.error("Error updating property:",xe),te(`Error updating property: ${xe.message}`),H(!0)}finally{X(!1)}},$t=async(xe,Ge)=>{try{console.log("Updating room status:",{roomId:xe,newStatus:Ge}),N(dr=>({...dr,[xe]:!0}));const at=localStorage.getItem("authToken"),st=(()=>{try{const dr=JSON.parse(localStorage.getItem("user")||"{}");return dr._id||dr.id||""}catch{return""}})();console.log("API call details:",{url:`http://localhost:5000/api/property/api/rooms/${xe}/status`,authToken:at?"Present":"Missing",userId:st||"Missing"});const er=await Ye.put(`/property/rooms/${xe}/status`,{is_available:Ge==="active"});console.log("Response status:",er.status);const hn=er.data;console.log("Response data:",hn),hn.success&&(n(dr=>({...dr,rooms:dr.rooms.map(Si=>Si._id===xe?{...Si,status:Ge,is_available:Ge==="active"}:Si)})),x&&x._id===xe&&g(dr=>({...dr,status:Ge,is_available:Ge==="active"})),console.log("Room status updated successfully"),te("Room status updated successfully!"),H(!0),setTimeout(()=>{H(!1)},3e3))}catch(at){console.error("Error updating room status:",at),te(`Error updating room status: ${at.message}`),H(!0)}finally{N(at=>({...at,[xe]:!1}))}},bt=xe=>{switch(xe){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},ht=xe=>{switch(xe){case"active":return yt;case"inactive":return rr;case"maintenance":return ns;default:return rr}};j.useEffect(()=>{(()=>{const Ge=localStorage.getItem("authToken"),at=localStorage.getItem("user");if(!Ge||!at){t("/login");return}try{const st=JSON.parse(at);if(st.role!==3){t("/login");return}d(st)}catch(st){console.error("Error parsing user data:",st),t("/login")}})()},[t]),j.useEffect(()=>{e&&(async()=>{try{if(console.log("PropertyDetails - Fetching property with ID:",e),!localStorage.getItem("authToken"))return;console.log("PropertyDetails - Fetching from URL via apiClient");const at=await Ye.get(`/property/owner/properties/${e}`);console.log("Property fetch response status:",at.status);const st=at.data;if(st.success){const er={...st.data};try{typeof er.amenities=="string"&&(er.amenities=JSON.parse(er.amenities))}catch(hn){console.error("Error parsing property amenities:",hn),er.amenities={}}try{typeof er.rules=="string"&&(er.rules=JSON.parse(er.rules))}catch(hn){console.error("Error parsing property rules:",hn),er.rules={}}er.rooms&&(er.rooms=er.rooms.map(hn=>{const dr={...hn};try{typeof dr.amenities=="string"&&(dr.amenities=JSON.parse(dr.amenities))}catch(Si){console.error(`Error parsing amenities for room ${hn.room_number}:`,Si),dr.amenities={}}return dr})),console.log("Property details fetched and processed:",er),n(er)}else console.error("Failed to fetch property:",st.message)}catch(Ge){console.error("Error fetching property details:",Ge)}finally{a(!1)}})()},[e]),j.useEffect(()=>{e&&xt()},[e]),j.useEffect(()=>{ie&&ee&&ae(xe=>({...xe,contact_email:ie}))},[ie,ee]);const lt=xe=>{if(!xe)return[];const Ge=[];return[{key:"front",label:"Front View"},{key:"back",label:"Back View"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"}].forEach(({key:st,label:er})=>{xe[st]&&xe[st]!==null&&Ge.push({url:xe[st],label:er,type:"property"})}),xe.gallery&&Array.isArray(xe.gallery)&&xe.gallery.forEach((st,er)=>{st&&st!==null&&Ge.push({url:st,label:`Gallery Image ${er+1}`,type:"gallery"})}),Ge},ut=xe=>{if(!xe||!Array.isArray(xe))return[];const Ge=[];return xe.forEach((at,st)=>{var er;at.room_image&&Ge.push({url:at.room_image,label:`Room ${at.room_number||st+1} - Room Image`,type:"room",roomNumber:at.room_number||st+1}),at.toilet_image&&((er=at.amenities)!=null&&er.attachedBathroom)&&Ge.push({url:at.toilet_image,label:`Room ${at.room_number||st+1} - Toilet Image`,type:"toilet",roomNumber:at.room_number||st+1})}),Ge},nt=()=>{gr&&gr.length>1&&l(xe=>(xe+1)%gr.length)},Ke=()=>{gr&&gr.length>1&&l(xe=>(xe-1+gr.length)%gr.length)},Ct=xe=>({wifi:sm,parking:ac,kitchen:Bm,gym:kz,security:tr,camera:As,ac:Bm,waterSupply:Bm,powerBackup:Bm,garden:Bm,swimmingPool:Bm})[xe.toLowerCase()]||Ir,Gt=xe=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(xe);if(i)return s.jsx(yn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property details..."})]})})});if(!r)return s.jsx(yn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The property you're looking for doesn't exist or has been removed."}),s.jsxs("button",{onClick:()=>t("/owner-properties"),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(ei,{className:"w-4 h-4 mr-2"}),"Back to Properties"]})]})})});const Xn=lt(r.images),Vr=ut(r.rooms),tn=r.outside_toilet_image?[{url:r.outside_toilet_image,label:"Outside Toilet",type:"property"}]:[],gr=[...Xn,...Vr,...tn];return s.jsx(yn,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between py-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/owner-properties"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ei,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.property_name}),s.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsxs("span",{children:[(Ft=r.address)==null?void 0:Ft.city,", ",(xs=r.address)==null?void 0:xs.state]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Zr,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:r.property_mode||"Room"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Hr,{className:"w-4 h-4"}),s.jsxs("span",{children:[((ys=r.rooms)==null?void 0:ys.length)||0," Rooms"]})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(tg,{className:"w-5 h-5 text-gray-600"})}),s.jsx("button",{onClick:()=>t(`/owner-edit-property/${r._id||r.id}`),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ff,{className:"w-5 h-5 text-gray-600"})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[gr.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:s.jsx("img",{src:(On=gr[o])==null?void 0:On.url,alt:(is=gr[o])==null?void 0:is.label,className:"w-full h-96 object-cover",onError:xe=>{xe.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=800&h=600&fit=crop&crop=center"}})}),gr.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:Ke,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(bF,{className:"w-5 h-5"})}),s.jsx("button",{onClick:nt,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(bh,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[s.jsxs("span",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[o+1," / ",gr.length]}),s.jsx("span",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:(br=gr[o])==null?void 0:br.label})]}),s.jsx("button",{onClick:()=>m(!0),className:"absolute bottom-4 right-4 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(kue,{className:"w-5 h-5"})})]}),gr.length>1&&s.jsx("div",{className:"p-4 bg-gray-50",children:s.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:gr.map((xe,Ge)=>s.jsx("button",{onClick:()=>l(Ge),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${Ge===o?"border-red-500":"border-gray-200 hover:border-gray-300"}`,children:s.jsx("img",{src:xe.url,alt:xe.label,className:"w-full h-full object-cover"})},Ge))})})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[s.jsx(As,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Images Available"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"This property doesn't have any images uploaded yet."}),s.jsxs("button",{onClick:()=>t(`/owner-edit-property/${r._id||r.id}`),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Add Images"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})]}),r.property_mode==="room"&&r.rooms&&r.rooms.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Room Details"}),s.jsxs("button",{onClick:J,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(od,{className:"w-5 h-5 mr-2"}),"Add Room"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.rooms.map((xe,Ge)=>{const at=ht(xe.status||"active");return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all cursor-pointer group",onClick:()=>_e(xe),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-bold text-lg",children:xe.room_number||Ge+1})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",xe.room_number||Ge+1]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[xe.room_type,"  ",xe.room_size," sq ft"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Gt(xe.rent)}),s.jsx("p",{className:"text-sm text-gray-500",children:"per month"})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ${bt(xe.status||"active")}`,children:[s.jsx(at,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:xe.status||"Active"})]}),s.jsx("div",{className:"text-sm text-gray-500 group-hover:text-gray-700",children:"Click to view details "})]}),s.jsxs("div",{className:`grid gap-4 mb-4 ${xe.room_image&&xe.toilet_image?"grid-cols-2":"grid-cols-1"}`,children:[xe.room_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("img",{src:xe.room_image,alt:`Room ${xe.room_number||Ge+1}`,className:"w-full h-32 object-cover rounded-lg border",onError:st=>{st.target.src="https://via.placeholder.com/300x200?text=Room+Image"}})]}),xe.toilet_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("img",{src:xe.toilet_image,alt:`Room ${xe.room_number||Ge+1} Toilet`,className:"w-full h-32 object-cover rounded-lg border",onError:st=>{st.target.src="https://via.placeholder.com/300x200?text=Toilet+Image"}})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Bed Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:xe.bed_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Occupancy:"}),s.jsxs("span",{className:`ml-2 font-medium ${(xe.current_occupants||0)>=xe.occupancy?"text-red-500":"text-green-600"}`,children:[xe.current_occupants||0," / ",xe.occupancy," Occupied"]})]})]}),xe.description&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Description:"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:xe.description})]}),xe.amenities&&Object.keys(xe.amenities).length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Amenities:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(xe.amenities).map(([st,er])=>{if(er){const hn=Ct(st);return s.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-green-50 text-green-700 rounded-full text-xs",children:[s.jsx(hn,{className:"w-3 h-3"}),s.jsx("span",{className:"capitalize",children:st.replace(/([A-Z])/g," $1").trim()})]},st)}return null})})]})]})]},Ge)})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Pricing Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.security_deposit&&s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx(tr,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Gt(r.security_deposit)})]}),r.property_mode==="room"&&r.rooms&&r.rooms.length>0&&s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(gi,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Starting from"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Gt(Math.min(...r.rooms.map(xe=>xe.rent)))}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"per room/month"})]})]})]}),r.amenities&&Object.keys(r.amenities).length>0&&(()=>{const xe=Object.entries(r.amenities).filter(([Ge,at])=>at===!0);return xe.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:xe.map(([Ge,at])=>{const st=Ct(Ge);return s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(st,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800 capitalize",children:Ge.replace(/([A-Z])/g," $1").trim()})]},Ge)})})]}):null})(),r.toilet_outside&&r.outside_toilet_image&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Outside Toilet"}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Zr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Outside Toilet Available"}),s.jsx("p",{className:"text-xs text-blue-600",children:"Shared toilet facility for all residents"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("img",{src:r.outside_toilet_image,alt:"Outside Toilet",className:"w-full max-w-md h-64 object-cover rounded-lg border",onError:xe=>{xe.target.src="https://via.placeholder.com/400x300?text=Outside+Toilet+Image"}})})]}),r.rules&&Object.keys(r.rules).length>0&&(()=>{const xe=Object.entries(r.rules).filter(([Ge,at])=>at===!0);return xe.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:xe.map(([Ge,at])=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yt,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700 capitalize",children:Ge.replace(/([A-Z])/g," $1").trim()})]},Ge))})]}):null})(),(r.land_tax_receipt||r.documents&&r.documents.length>0)&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Property Documents"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.land_tax_receipt&&s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ks,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Land Tax Receipt"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>re(r.land_tax_receipt,"Land Tax Receipt.pdf"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Preview",children:s.jsx(Pr,{className:"w-4 h-4"})}),s.jsx("a",{href:r.land_tax_receipt,download:"Land Tax Receipt.pdf",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:s.jsx(eu,{className:"w-4 h-4"})})]})]}),r.documents&&r.documents.map((xe,Ge)=>{const at=xe.split("/").pop()||`Document ${Ge+1}`,st=at.toLowerCase().endsWith(".pdf");return s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ks,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[200px]",children:at}),s.jsx("p",{className:"text-xs text-gray-500",children:st?"PDF Document":"Image Document"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>re(xe,at),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Preview",children:s.jsx(Pr,{className:"w-4 h-4"})}),s.jsx("a",{href:xe,download:at,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:s.jsx(eu,{className:"w-4 h-4"})})]})]},Ge)})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Status"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status==="active"?"Active":"Inactive"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>it(r.status==="active"?"inactive":"active"),disabled:be,className:`flex items-center justify-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${r.status==="active"?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"} ${be?"opacity-50 cursor-not-allowed":""}`,children:be?s.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):r.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(Pz,{className:"w-4 h-4 mr-1"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(Iz,{className:"w-4 h-4 mr-1"}),"Activate"]})}),s.jsx("button",{className:"text-sm text-red-600 hover:text-red-700",children:s.jsx(Tf,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Zr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Property Mode"}),s.jsx("p",{className:"font-medium capitalize",children:r.property_mode||"Room"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Hr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Number of Rooms"}),s.jsx("p",{className:"font-medium",children:((Bt=r.rooms)==null?void 0:Bt.length)||0})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Or,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Listed On"}),s.jsx("p",{className:"font-medium",children:new Date(r.createdAt||r.created_at).toLocaleDateString()})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(jr,{className:"w-5 h-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Street"}),s.jsx("p",{className:"font-medium",children:((un=r.address)==null?void 0:un.street)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Zr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"City, State"}),s.jsxs("p",{className:"font-medium",children:[(ni=r.address)==null?void 0:ni.city,", ",(Vs=r.address)==null?void 0:Vs.state]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ir,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pincode"}),s.jsx("p",{className:"font-medium",children:((as=r.address)==null?void 0:as.pincode)||"Not provided"})]})]}),((os=r.address)==null?void 0:os.landmark)&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Di,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Landmark"}),s.jsx("p",{className:"font-medium",children:r.address.landmark})]})]})]})]}),r.latitude&&r.longitude&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Coordinates"}),s.jsxs("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:[r.latitude,", ",r.longitude]})]}),s.jsx("div",{className:"h-64 w-full rounded-lg overflow-hidden relative",style:{minHeight:"256px",zIndex:1},children:s.jsxs(Yh,{center:[parseFloat(r.latitude),parseFloat(r.longitude)],zoom:15,style:{height:"100%",width:"100%",zIndex:1},scrollWheelZoom:!0,children:[s.jsx(Zh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(Xh,{position:[parseFloat(r.latitude),parseFloat(r.longitude)],children:s.jsx(Cy,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:(r==null?void 0:r.property_name)||"Property Location"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((ls=r==null?void 0:r.address)==null?void 0:ls.street)&&`${r.address.street}, `,((Cn=r==null?void 0:r.address)==null?void 0:Cn.city)&&`${r.address.city}, `,((et=r==null?void 0:r.address)==null?void 0:et.state)&&`${r.address.state}`]})]})})})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:(c==null?void 0:c.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Tn,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("p",{className:"font-medium",children:(c==null?void 0:c.phone)||"Not provided"})]})]})]})]})]})]})}),f&&gr.length>0&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:s.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[s.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 z-10 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(rr,{className:"w-6 h-6"})}),s.jsx("img",{src:(Nt=gr[o])==null?void 0:Nt.url,alt:(Pt=gr[o])==null?void 0:Pt.label,className:"max-w-full max-h-full object-contain rounded-lg"}),gr.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:Ke,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(bF,{className:"w-6 h-6"})}),s.jsx("button",{onClick:nt,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(bh,{className:"w-6 h-6"})})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["Document Preview - ",u.name]}),s.jsx("button",{type:"button",onClick:()=>A(null),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsx("div",{className:"p-4 max-h-[80vh] overflow-auto",children:u.type==="pdf"?s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:s.jsx("iframe",{title:"PDF Preview",src:`${u.url}#toolbar=1&navpanes=1&scrollbar=1`,className:"w-full h-full border-0",style:{minHeight:"600px"},onLoad:()=>{console.log("PDF iframe loaded successfully")},onError:xe=>{console.error("PDF iframe error:",xe),xe.target.style.display="none";const Ge=xe.target.parentElement;Ge.innerHTML=`
                          <div class="flex flex-col items-center justify-center h-full bg-gray-50 p-8">
                            <div class="text-center">
                              <FileText class="w-16 h-16 text-gray-400 mx-auto mb-4" />
                              <h3 class="text-lg font-medium text-gray-900 mb-2">PDF Preview Not Available</h3>
                              <p class="text-gray-600 mb-4">This PDF cannot be previewed in the browser.</p>
                              <div class="flex flex-col sm:flex-row gap-3 justify-center">
                                <a href="${u.url}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                                  <ExternalLink class="w-4 h-4 mr-2" />
                                  Open in New Tab
                                </a>
                                <a href="${u.url}" download="${u.name}" class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
                                  <Download class="w-4 h-4 mr-2" />
                                  Download PDF
                                </a>
                              </div>
                            </div>
                          </div>
                        `}})}):s.jsx("img",{src:u.url,alt:u.name,className:"w-full max-h-[70vh] object-contain border border-gray-200 rounded-lg",onError:xe=>{xe.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[s.jsx("div",{className:"text-xs text-gray-500",children:u.type==="pdf"?"PDF Document":"Image Document"}),s.jsxs("div",{className:"flex gap-2",children:[u.type==="pdf"&&s.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(YP,{className:"w-4 h-4 mr-1"}),"Open in New Tab"]}),s.jsxs("a",{href:u.url,download:u.name,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(eu,{className:"w-4 h-4 mr-1"}),"Download"]})]})]})]})}),v&&x&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-bold text-lg",children:x.room_number})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Room ",x.room_number]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[x.room_type,"  ",x.room_size," sq ft"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ${bt(x.status||"active")}`,children:[(()=>{const xe=ht(x.status||"active");return s.jsx(xe,{className:"w-4 h-4"})})(),s.jsx("span",{className:"capitalize",children:x.status||"Active"})]}),s.jsx("button",{onClick:()=>ue(x),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Room",children:s.jsx(ff,{className:"w-5 h-5 text-blue-600"})}),s.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rr,{className:"w-5 h-5 text-gray-500"})})]})]}),s.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Room Images"}),x.room_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("img",{src:x.room_image,alt:`Room ${x.room_number}`,className:"w-full h-64 object-cover rounded-lg border",onError:xe=>{xe.target.src="https://via.placeholder.com/400x300?text=Room+Image"}})]}),x.toilet_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("img",{src:x.toilet_image,alt:`Room ${x.room_number} Toilet`,className:"w-full h-64 object-cover rounded-lg border",onError:xe=>{xe.target.src="https://via.placeholder.com/400x300?text=Toilet+Image"}})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pricing"}),s.jsx("div",{className:"text-3xl font-bold text-green-600",children:Gt(x.rent)}),s.jsx("p",{className:"text-sm text-gray-500",children:"per month"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Specifications"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Room Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:x.room_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Room Size:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[x.room_size," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Bed Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:x.bed_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Occupancy:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[x.occupancy," people"]})]})]})]}),x.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:x.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["ac","wifi","tv","fridge","wardrobe","studyTable","balcony","attachedBathroom"].map(xe=>{var st;const Ge=(st=x.amenities)==null?void 0:st[xe],at=Ct(xe)||yt;return s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm border transition-colors ${Ge?"bg-green-50 border-green-200 text-green-800 font-medium":"bg-gray-50 border-gray-100 text-gray-400"}`,children:[s.jsx(at,{className:`w-4 h-4 ${Ge?"text-green-600":"text-gray-400"}`}),s.jsx("span",{className:"capitalize flex-1",children:xe.replace(/([A-Z])/g," $1").trim()}),Ge&&s.jsx(yt,{className:"w-4 h-4 text-green-600"})]},xe)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Room Status Management"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>$t(x._id,"active"),disabled:_[x._id]||x.is_available,className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.is_available?"bg-green-100 text-green-800 cursor-not-allowed":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[_[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):s.jsx(yt,{className:"w-4 h-4"}),s.jsx("span",{children:"Active"})]}),s.jsxs("button",{onClick:()=>$t(x._id,"inactive"),disabled:_[x._id]||!x.is_available,className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.is_available?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-gray-100 text-gray-800 cursor-not-allowed"}`,children:[_[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}):s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:"Inactive"})]}),s.jsxs("button",{onClick:()=>$t(x._id,"maintenance"),disabled:_[x._id]||x.status==="maintenance",className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.status==="maintenance"?"bg-yellow-100 text-yellow-800 cursor-not-allowed":"bg-yellow-50 text-yellow-700 hover:bg-yellow-100"}`,children:[_[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"}):s.jsx(ns,{className:"w-4 h-4"}),s.jsx("span",{children:"Maintenance"})]})]})]})]})]})})]})}),b&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Room ",E.room_number]}),s.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Room Images"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),E.room_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:E.room_image,alt:"Room",className:"w-full h-48 object-cover rounded-lg border"}),s.jsx("button",{onClick:gt,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(rr,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:pt,className:"hidden",id:"room-image-upload"}),s.jsxs("label",{htmlFor:"room-image-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:[s.jsx(As,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Click to upload room image"})]})]})]}),(((ft=E.amenities)==null?void 0:ft.attachedBathroom)||E.toilet_image)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),E.toilet_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:E.toilet_image,alt:"Toilet",className:"w-full h-48 object-cover rounded-lg border"}),s.jsx("button",{onClick:rt,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(rr,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:Re,className:"hidden",id:"toilet-image-upload"}),s.jsxs("label",{htmlFor:"toilet-image-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:[s.jsx(As,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Click to upload toilet image"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),s.jsxs("select",{value:E.room_type,onChange:xe=>me("room_type",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single",children:"Single"}),s.jsx("option",{value:"Double",children:"Double"}),s.jsx("option",{value:"Triple",children:"Triple"}),s.jsx("option",{value:"Quad",children:"Quad"}),s.jsx("option",{value:"Master",children:"Master"}),s.jsx("option",{value:"Studio",children:"Studio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (sq ft)"}),s.jsx("input",{type:"number",value:E.room_size,onChange:xe=>me("room_size",parseInt(xe.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),s.jsxs("select",{value:E.bed_type,onChange:xe=>me("bed_type",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single Bed",children:"Single Bed"}),s.jsx("option",{value:"Double Bed",children:"Double Bed"}),s.jsx("option",{value:"Queen Bed",children:"Queen Bed"}),s.jsx("option",{value:"King Bed",children:"King Bed"}),s.jsx("option",{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx("option",{value:"No Bed",children:"No Bed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupancy"}),s.jsx("input",{type:"number",value:E.occupancy,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 cursor-not-allowed"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-set based on room type"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Rent ()"}),s.jsx("input",{type:"number",value:E.rent,onChange:xe=>me("rent",parseInt(xe.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attached Bathroom"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Has attached bathroom?"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`text-sm font-medium ${(Ut=E.amenities)!=null&&Ut.attachedBathroom?"text-gray-500":"text-gray-900"}`,children:"NO"}),s.jsx("button",{type:"button",onClick:()=>{var xe;return Be("attachedBathroom",!((xe=E.amenities)!=null&&xe.attachedBathroom))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 ${(bn=E.amenities)!=null&&bn.attachedBathroom?"bg-red-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${(Fr=E.amenities)!=null&&Fr.attachedBathroom?"translate-x-6":"translate-x-1"}`})}),s.jsx("span",{className:`text-sm font-medium ${(Zn=E.amenities)!=null&&Zn.attachedBathroom?"text-gray-900":"text-gray-500"}`,children:"YES"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:E.description,onChange:xe=>me("description",xe.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Describe this room's features..."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(E.amenities||{}).map(([xe,Ge])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:Ge,onChange:at=>Be(xe,at.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("label",{className:"text-sm text-gray-700 capitalize",children:xe.replace(/([A-Z])/g," $1").trim()})]},xe))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Et,disabled:C,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Updating..."})]}):"Update Room"})]})]})]})})]})}),K&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-md shadow-xl",children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:z.includes("successfully")?s.jsx(yt,{className:"w-8 h-8 text-green-600"}):s.jsx(rr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:z.includes("successfully")?"Success!":"Error"}),s.jsx("p",{className:"text-gray-600 mb-6",children:z}),s.jsx("button",{onClick:()=>H(!1),className:`px-6 py-2 rounded-lg font-medium transition-colors ${z.includes("successfully")?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:"OK"})]})})}),ee&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Property"}),s.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rr,{className:"w-6 h-6 text-gray-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name"}),s.jsx("input",{type:"text",value:W.property_name||"",onChange:xe=>Oe("property_name",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter property name"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{value:W.address||"",onChange:xe=>Oe("address",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:"3",placeholder:"Enter full address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),s.jsx("input",{type:"text",value:W.city||"",onChange:xe=>Oe("city",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter city"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),s.jsx("input",{type:"text",value:W.state||"",onChange:xe=>Oe("state",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter state"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),s.jsx("input",{type:"text",value:W.pincode||"",onChange:xe=>Oe("pincode",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter pincode"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:W.landmark||"",onChange:xe=>Oe("landmark",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter landmark"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),s.jsx("input",{type:"tel",value:W.contact_number||"",onChange:xe=>Oe("contact_number",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter contact number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Email"}),s.jsx("input",{type:"email",value:W.contact_email||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed",placeholder:"Owner email will be loaded automatically"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This is your registered email address"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit"}),s.jsx("input",{type:"number",value:W.security_deposit||"",onChange:xe=>Oe("security_deposit",parseFloat(xe.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter security deposit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maintenance Fee"}),s.jsx("input",{type:"number",value:W.maintenance_fee||"",onChange:xe=>Oe("maintenance_fee",parseFloat(xe.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter maintenance fee"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:W.description||"",onChange:xe=>Oe("description",xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:"4",placeholder:"Enter property description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Rules and Policies"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(W.rules||{}).map(([xe,Ge])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:Ge,onChange:at=>Fe(xe,at.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsxs("label",{className:"text-sm text-gray-700 capitalize",children:[xe.replace(/([A-Z])/g," $1").trim()," Allowed"]})]},xe))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(W.amenities||{}).map(([xe,Ge])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:Ge,onChange:at=>Ne(xe,at.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("label",{className:"text-sm text-gray-700 capitalize",children:xe.replace(/([A-Z])/g," $1").trim()})]},xe))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>Z(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:St,disabled:V,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:V?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Updating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ff,{className:"w-4 h-4"}),s.jsx("span",{children:"Update Property"})]})})]})]})]})})}),F&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Room"}),s.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx(rr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),s.jsx("input",{type:"text",value:U.room_number,onChange:xe=>fe("room_number",xe.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500 ${ge.room_number?"border-red-500":"border-gray-300"}`,placeholder:"e.g. 101"}),ge.room_number&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ge.room_number})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rent ()"}),s.jsx("input",{type:"number",value:U.rent,onChange:xe=>fe("rent",xe.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500 ${ge.rent?"border-red-500":"border-gray-300"}`,placeholder:"e.g. 5000"}),ge.rent&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ge.rent})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),s.jsxs("select",{value:U.room_type,onChange:xe=>fe("room_type",xe.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single",children:"Single"}),s.jsx("option",{value:"Double",children:"Double"}),s.jsx("option",{value:"Triple",children:"Triple"}),s.jsx("option",{value:"Quad",children:"Quad"}),s.jsx("option",{value:"Master",children:"Master"}),s.jsx("option",{value:"Studio",children:"Studio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (sq.ft)"}),s.jsx("input",{type:"number",value:U.room_size||"",onChange:xe=>fe("room_size",xe.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500 ${ge.room_size?"border-red-500":"border-gray-300"}`,placeholder:"e.g. 150"}),ge.room_size&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ge.room_size})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),s.jsxs("select",{value:U.bed_type,onChange:xe=>fe("bed_type",xe.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single Bed",children:"Single Bed"}),s.jsx("option",{value:"Double Bed",children:"Double Bed"}),s.jsx("option",{value:"Queen Bed",children:"Queen Bed"}),s.jsx("option",{value:"King Bed",children:"King Bed"}),s.jsx("option",{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx("option",{value:"No Bed",children:"No Bed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupancy"}),s.jsx("input",{type:"number",value:U.occupancy,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-100"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:U.description,onChange:xe=>fe("description",xe.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"Room description..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(U.amenities).map(([xe,Ge])=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Ge,onChange:at=>ye(xe,at.target.checked),className:"rounded text-red-600 focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-gray-600 capitalize",children:xe.replace(/([A-Z])/g," $1").trim()})]},xe))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-4 text-center hover:bg-gray-50 transition-colors ${ge.room_image?"border-red-500":"border-gray-300"}`,children:U.room_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:U.room_image,alt:"Room Preview",className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{onClick:()=>ke("room_image"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(rr,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"cursor-pointer block",children:[s.jsx(As,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:xe=>Ie(xe,"room_image")})]})}),ge.room_image&&s.jsx("p",{className:"text-red-500 text-xs mt-1 text-center",children:ge.room_image})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-4 text-center hover:bg-gray-50 transition-colors ${ge.toilet_image?"border-red-500":"border-gray-300"}`,children:U.toilet_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:U.toilet_image,alt:"Toilet Preview",className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{onClick:()=>ke("toilet_image"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(rr,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"cursor-pointer block",children:[s.jsx(As,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:xe=>Ie(xe,"toilet_image")})]})}),ge.toilet_image&&s.jsx("p",{className:"text-red-500 text-xs mt-1 text-center",children:ge.toilet_image})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),s.jsxs("button",{onClick:We,disabled:O,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50",children:[O?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):null,s.jsx("span",{children:O?"Adding...":"Add Room"})]})]})]})]})})})]})})};function AM(e,[t,r]){return Math.min(r,Math.max(t,e))}var uBe=j.createContext(void 0);function hBe(e){const t=j.useContext(uBe);return e||t||"ltr"}const ABe=["top","right","bottom","left"],tA=Math.min,wo=Math.max,K2=Math.round,Pw=Math.floor,Jc=e=>({x:e,y:e}),fBe={left:"right",right:"left",bottom:"top",top:"bottom"},mBe={start:"end",end:"start"};function PE(e,t,r){return wo(e,tA(t,r))}function pu(e,t){return typeof e=="function"?e(t):e}function gu(e){return e.split("-")[0]}function qg(e){return e.split("-")[1]}function nI(e){return e==="x"?"y":"x"}function sI(e){return e==="y"?"height":"width"}const pBe=new Set(["top","bottom"]);function Hc(e){return pBe.has(gu(e))?"y":"x"}function iI(e){return nI(Hc(e))}function gBe(e,t,r){r===void 0&&(r=!1);const n=qg(e),i=iI(e),a=sI(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=W2(o)),[o,W2(o)]}function xBe(e){const t=W2(e);return[IE(e),t,IE(t)]}function IE(e){return e.replace(/start|end/g,t=>mBe[t])}const fM=["left","right"],mM=["right","left"],yBe=["top","bottom"],vBe=["bottom","top"];function bBe(e,t,r){switch(e){case"top":case"bottom":return r?t?mM:fM:t?fM:mM;case"left":case"right":return t?yBe:vBe;default:return[]}}function wBe(e,t,r,n){const i=qg(e);let a=bBe(gu(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(IE)))),a}function W2(e){return e.replace(/left|right|bottom|top/g,t=>fBe[t])}function jBe(e){return{top:0,right:0,bottom:0,left:0,...e}}function lX(e){return typeof e!="number"?jBe(e):{top:e,right:e,bottom:e,left:e}}function G2(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function pM(e,t,r){let{reference:n,floating:i}=e;const a=Hc(t),o=iI(t),l=sI(o),c=gu(t),d=a==="y",u=n.x+n.width/2-i.width/2,A=n.y+n.height/2-i.height/2,f=n[l]/2-i[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-i.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:A};break;case"left":m={x:n.x-i.width,y:A};break;default:m={x:n.x,y:n.y}}switch(qg(t)){case"start":m[o]-=f*(r&&d?-1:1);break;case"end":m[o]+=f*(r&&d?-1:1);break}return m}const NBe=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:A}=pM(d,n,c),f=n,m={},x=0;for(let g=0;g<l.length;g++){const{name:v,fn:y}=l[g],{x:b,y:w,data:_,reset:N}=await y({x:u,y:A,initialPlacement:n,placement:f,strategy:i,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});u=b??u,A=w??A,m={...m,[v]:{...m[v],..._}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:u,y:A}=pM(d,f,c)),g=-1)}return{x:u,y:A,placement:f,strategy:i,middlewareData:m}};async function Iy(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:A="floating",altBoundary:f=!1,padding:m=0}=pu(t,e),x=lX(m),v=l[f?A==="floating"?"reference":"floating":A],y=G2(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=A==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=G2(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-N.top+x.top)/_.y,bottom:(N.bottom-y.bottom+x.bottom)/_.y,left:(y.left-N.left+x.left)/_.x,right:(N.right-y.right+x.right)/_.x}}const _Be=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=pu(e,t)||{};if(d==null)return{};const A=lX(u),f={x:r,y:n},m=iI(i),x=sI(m),g=await o.getDimensions(d),v=m==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=a.reference[x]+a.reference[m]-f[m]-a.floating[x],N=f[m]-a.reference[m],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=C?C[w]:0;(!P||!await(o.isElement==null?void 0:o.isElement(C)))&&(P=l.floating[w]||a.floating[x]);const E=_/2-N/2,I=P/2-g[x]/2-1,F=tA(A[y],I),B=tA(A[b],I),O=F,R=P-g[x]-B,U=P/2-g[x]/2+E,$=PE(O,U,R),K=!c.arrow&&qg(i)!=null&&U!==$&&a.reference[x]/2-(U<O?F:B)-g[x]/2<0,H=K?U<O?U-O:U-R:0;return{[m]:f[m]+H,data:{[m]:$,centerOffset:U-$-H,...K&&{alignmentOffset:H}},reset:K}}}),CBe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:A=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...v}=pu(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=gu(i),b=Hc(l),w=gu(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=f||(w||!g?[W2(l)]:xBe(l)),C=x!=="none";!f&&C&&N.push(...wBe(l,g,x,_));const P=[l,...N],E=await Iy(t,v),I=[];let F=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&I.push(E[y]),A){const U=gBe(i,o,_);I.push(E[U[0]],E[U[1]])}if(F=[...F,{placement:i,overflows:I}],!I.every(U=>U<=0)){var B,O;const U=(((B=a.flip)==null?void 0:B.index)||0)+1,$=P[U];if($&&(!(A==="alignment"?b!==Hc($):!1)||F.every(z=>Hc(z.placement)===b?z.overflows[0]>0:!0)))return{data:{index:U,overflows:F},reset:{placement:$}};let K=(O=F.filter(H=>H.overflows[0]<=0).sort((H,z)=>H.overflows[1]-z.overflows[1])[0])==null?void 0:O.placement;if(!K)switch(m){case"bestFit":{var R;const H=(R=F.filter(z=>{if(C){const te=Hc(z.placement);return te===b||te==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(te=>te>0).reduce((te,ee)=>te+ee,0)]).sort((z,te)=>z[1]-te[1])[0])==null?void 0:R[0];H&&(K=H);break}case"initialPlacement":K=l;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function gM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xM(e){return ABe.some(t=>e[t]>=0)}const SBe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=pu(e,t);switch(n){case"referenceHidden":{const a=await Iy(t,{...i,elementContext:"reference"}),o=gM(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xM(o)}}}case"escaped":{const a=await Iy(t,{...i,altBoundary:!0}),o=gM(a,r.floating);return{data:{escapedOffsets:o,escaped:xM(o)}}}default:return{}}}}},cX=new Set(["left","top"]);async function BBe(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=gu(r),l=qg(r),c=Hc(r)==="y",d=cX.has(o)?-1:1,u=a&&c?-1:1,A=pu(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const EBe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await BBe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},kBe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=pu(e,t),d={x:r,y:n},u=await Iy(t,c),A=Hc(gu(i)),f=nI(A);let m=d[f],x=d[A];if(a){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=m+u[v],w=m-u[y];m=PE(b,m,w)}if(o){const v=A==="y"?"top":"left",y=A==="y"?"bottom":"right",b=x+u[v],w=x-u[y];x=PE(b,x,w)}const g=l.fn({...t,[f]:m,[A]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:a,[A]:o}}}}}},PBe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=pu(e,t),u={x:r,y:n},A=Hc(i),f=nI(A);let m=u[f],x=u[A];const g=pu(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",_=a.reference[f]-a.floating[w]+v.mainAxis,N=a.reference[f]+a.reference[w]-v.mainAxis;m<_?m=_:m>N&&(m=N)}if(d){var y,b;const w=f==="y"?"width":"height",_=cX.has(gu(i)),N=a.reference[A]-a.floating[w]+(_&&((y=o.offset)==null?void 0:y[A])||0)+(_?0:v.crossAxis),C=a.reference[A]+a.reference[w]+(_?0:((b=o.offset)==null?void 0:b[A])||0)-(_?v.crossAxis:0);x<N?x=N:x>C&&(x=C)}return{[f]:m,[A]:x}}}},IBe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=pu(e,t),u=await Iy(t,d),A=gu(i),f=qg(i),m=Hc(i)==="y",{width:x,height:g}=a.floating;let v,y;A==="top"||A==="bottom"?(v=A,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=A,v=f==="end"?"top":"bottom");const b=g-u.top-u.bottom,w=x-u.left-u.right,_=tA(g-u[v],b),N=tA(x-u[y],w),C=!t.middlewareData.shift;let P=_,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=b),C&&!f){const F=wo(u.left,0),B=wo(u.right,0),O=wo(u.top,0),R=wo(u.bottom,0);m?E=x-2*(F!==0||B!==0?F+B:wo(u.left,u.right)):P=g-2*(O!==0||R!==0?O+R:wo(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:P});const I=await o.getDimensions(l.floating);return x!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function d5(){return typeof window<"u"}function Yg(e){return dX(e)?(e.nodeName||"").toLowerCase():"#document"}function Bo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gd(e){var t;return(t=(dX(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dX(e){return d5()?e instanceof Node||e instanceof Bo(e).Node:!1}function fc(e){return d5()?e instanceof Element||e instanceof Bo(e).Element:!1}function dd(e){return d5()?e instanceof HTMLElement||e instanceof Bo(e).HTMLElement:!1}function yM(e){return!d5()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bo(e).ShadowRoot}const TBe=new Set(["inline","contents"]);function Gv(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=mc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!TBe.has(i)}const OBe=new Set(["table","td","th"]);function LBe(e){return OBe.has(Yg(e))}const FBe=[":popover-open",":modal"];function u5(e){return FBe.some(t=>{try{return e.matches(t)}catch{return!1}})}const UBe=["transform","translate","scale","rotate","perspective"],RBe=["transform","translate","scale","rotate","perspective","filter"],DBe=["paint","layout","strict","content"];function aI(e){const t=oI(),r=fc(e)?mc(e):e;return UBe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||RBe.some(n=>(r.willChange||"").includes(n))||DBe.some(n=>(r.contain||"").includes(n))}function MBe(e){let t=rA(e);for(;dd(t)&&!ag(t);){if(aI(t))return t;if(u5(t))return null;t=rA(t)}return null}function oI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const QBe=new Set(["html","body","#document"]);function ag(e){return QBe.has(Yg(e))}function mc(e){return Bo(e).getComputedStyle(e)}function h5(e){return fc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rA(e){if(Yg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yM(e)&&e.host||gd(e);return yM(t)?t.host:t}function uX(e){const t=rA(e);return ag(t)?e.ownerDocument?e.ownerDocument.body:e.body:dd(t)&&Gv(t)?t:uX(t)}function Ty(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=uX(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Bo(i);if(a){const l=TE(o);return t.concat(o,o.visualViewport||[],Gv(i)?i:[],l&&r?Ty(l):[])}return t.concat(i,Ty(i,[],r))}function TE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hX(e){const t=mc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=dd(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=K2(r)!==a||K2(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function lI(e){return fc(e)?e:e.contextElement}function Qp(e){const t=lI(e);if(!dd(t))return Jc(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=hX(t);let o=(a?K2(r.width):r.width)/n,l=(a?K2(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const $Be=Jc(0);function AX(e){const t=Bo(e);return!oI()||!t.visualViewport?$Be:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function HBe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Bo(e)?!1:t}function Hf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=lI(e);let o=Jc(1);t&&(n?fc(n)&&(o=Qp(n)):o=Qp(e));const l=HBe(a,r,n)?AX(a):Jc(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,A=i.height/o.y;if(a){const f=Bo(a),m=n&&fc(n)?Bo(n):n;let x=f,g=TE(x);for(;g&&n&&m!==x;){const v=Qp(g),y=g.getBoundingClientRect(),b=mc(g),w=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,_=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,A*=v.y,c+=w,d+=_,x=Bo(g),g=TE(x)}}return G2({width:u,height:A,x:c,y:d})}function A5(e,t){const r=h5(e).scrollLeft;return t?t.left+r:Hf(gd(e)).left+r}function fX(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-A5(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function VBe(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=gd(n),l=t?u5(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=Jc(1);const u=Jc(0),A=dd(n);if((A||!A&&!a)&&((Yg(n)!=="body"||Gv(o))&&(c=h5(n)),dd(n))){const m=Hf(n);d=Qp(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const f=o&&!A&&!a?fX(o,c):Jc(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function zBe(e){return Array.from(e.getClientRects())}function KBe(e){const t=gd(e),r=h5(e),n=e.ownerDocument.body,i=wo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=wo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+A5(e);const l=-r.scrollTop;return mc(n).direction==="rtl"&&(o+=wo(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const vM=25;function WBe(e,t){const r=Bo(e),n=gd(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=oI();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=A5(n);if(d<=0){const u=n.ownerDocument,A=u.body,f=getComputedStyle(A),m=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,x=Math.abs(n.clientWidth-A.clientWidth-m);x<=vM&&(a-=x)}else d<=vM&&(a+=d);return{width:a,height:o,x:l,y:c}}const GBe=new Set(["absolute","fixed"]);function qBe(e,t){const r=Hf(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=dd(e)?Qp(e):Jc(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function bM(e,t,r){let n;if(t==="viewport")n=WBe(e,r);else if(t==="document")n=KBe(gd(e));else if(fc(t))n=qBe(t,r);else{const i=AX(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return G2(n)}function mX(e,t){const r=rA(e);return r===t||!fc(r)||ag(r)?!1:mc(r).position==="fixed"||mX(r,t)}function YBe(e,t){const r=t.get(e);if(r)return r;let n=Ty(e,[],!1).filter(l=>fc(l)&&Yg(l)!=="body"),i=null;const a=mc(e).position==="fixed";let o=a?rA(e):e;for(;fc(o)&&!ag(o);){const l=mc(o),c=aI(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&GBe.has(i.position)||Gv(o)&&!c&&mX(e,o))?n=n.filter(u=>u!==o):i=l,o=rA(o)}return t.set(e,n),n}function XBe(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?u5(t)?[]:YBe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const A=bM(t,u,i);return d.top=wo(A.top,d.top),d.right=tA(A.right,d.right),d.bottom=tA(A.bottom,d.bottom),d.left=wo(A.left,d.left),d},bM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZBe(e){const{width:t,height:r}=hX(e);return{width:t,height:r}}function JBe(e,t,r){const n=dd(t),i=gd(t),a=r==="fixed",o=Hf(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Jc(0);function d(){c.x=A5(i)}if(n||!n&&!a)if((Yg(t)!=="body"||Gv(i))&&(l=h5(t)),n){const m=Hf(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&d();a&&!n&&i&&d();const u=i&&!n&&!a?fX(i,l):Jc(0),A=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:A,y:f,width:o.width,height:o.height}}function kS(e){return mc(e).position==="static"}function wM(e,t){if(!dd(e)||mc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return gd(e)===r&&(r=r.ownerDocument.body),r}function pX(e,t){const r=Bo(e);if(u5(e))return r;if(!dd(e)){let i=rA(e);for(;i&&!ag(i);){if(fc(i)&&!kS(i))return i;i=rA(i)}return r}let n=wM(e,t);for(;n&&LBe(n)&&kS(n);)n=wM(n,t);return n&&ag(n)&&kS(n)&&!aI(n)?r:n||MBe(e)||r}const e4e=async function(e){const t=this.getOffsetParent||pX,r=this.getDimensions,n=await r(e.floating);return{reference:JBe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function t4e(e){return mc(e).direction==="rtl"}const r4e={convertOffsetParentRelativeRectToViewportRelativeRect:VBe,getDocumentElement:gd,getClippingRect:XBe,getOffsetParent:pX,getElementRects:e4e,getClientRects:zBe,getDimensions:ZBe,getScale:Qp,isElement:fc,isRTL:t4e};function gX(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function n4e(e,t){let r=null,n;const i=gd(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:A,width:f,height:m}=d;if(l||t(),!f||!m)return;const x=Pw(A),g=Pw(i.clientWidth-(u+f)),v=Pw(i.clientHeight-(A+m)),y=Pw(u),w={rootMargin:-x+"px "+-g+"px "+-v+"px "+-y+"px",threshold:wo(0,tA(1,c))||1};let _=!0;function N(C){const P=C[0].intersectionRatio;if(P!==c){if(!_)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!gX(d,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),a}function s4e(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=lI(e),u=i||a?[...d?Ty(d):[],...Ty(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const A=d&&l?n4e(d,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let x,g=c?Hf(e):null;c&&v();function v(){const y=Hf(e);g&&!gX(g,y)&&r(),g=y,x=requestAnimationFrame(v)}return r(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),A==null||A(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const i4e=EBe,a4e=kBe,o4e=CBe,l4e=IBe,c4e=SBe,jM=_Be,d4e=PBe,u4e=(e,t,r)=>{const n=new Map,i={platform:r4e,...r},a={...i.platform,_c:n};return NBe(e,t,{...i,platform:a})};var h4e=typeof document<"u",A4e=function(){},L1=h4e?j.useLayoutEffect:A4e;function q2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!q2(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!q2(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function xX(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function NM(e,t){const r=xX(e);return Math.round(t*r)/r}function PS(e){const t=j.useRef(e);return L1(()=>{t.current=e}),t}function f4e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,A]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=j.useState(n);q2(f,n)||m(n);const[x,g]=j.useState(null),[v,y]=j.useState(null),b=j.useCallback(z=>{z!==C.current&&(C.current=z,g(z))},[]),w=j.useCallback(z=>{z!==P.current&&(P.current=z,y(z))},[]),_=a||x,N=o||v,C=j.useRef(null),P=j.useRef(null),E=j.useRef(u),I=c!=null,F=PS(c),B=PS(i),O=PS(d),R=j.useCallback(()=>{if(!C.current||!P.current)return;const z={placement:t,strategy:r,middleware:f};B.current&&(z.platform=B.current),u4e(C.current,P.current,z).then(te=>{const ee={...te,isPositioned:O.current!==!1};U.current&&!q2(E.current,ee)&&(E.current=ee,aA.flushSync(()=>{A(ee)}))})},[f,t,r,B,O]);L1(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,A(z=>({...z,isPositioned:!1})))},[d]);const U=j.useRef(!1);L1(()=>(U.current=!0,()=>{U.current=!1}),[]),L1(()=>{if(_&&(C.current=_),N&&(P.current=N),_&&N){if(F.current)return F.current(_,N,R);R()}},[_,N,R,F,I]);const $=j.useMemo(()=>({reference:C,floating:P,setReference:b,setFloating:w}),[b,w]),K=j.useMemo(()=>({reference:_,floating:N}),[_,N]),H=j.useMemo(()=>{const z={position:r,left:0,top:0};if(!K.floating)return z;const te=NM(K.floating,u.x),ee=NM(K.floating,u.y);return l?{...z,transform:"translate("+te+"px, "+ee+"px)",...xX(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:te,top:ee}},[r,l,K.floating,u.x,u.y]);return j.useMemo(()=>({...u,update:R,refs:$,elements:K,floatingStyles:H}),[u,R,$,K,H])}const m4e=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?jM({element:n.current,padding:i}).fn(r):{}:n?jM({element:n,padding:i}).fn(r):{}}}},p4e=(e,t)=>({...i4e(e),options:[e,t]}),g4e=(e,t)=>({...a4e(e),options:[e,t]}),x4e=(e,t)=>({...d4e(e),options:[e,t]}),y4e=(e,t)=>({...o4e(e),options:[e,t]}),v4e=(e,t)=>({...l4e(e),options:[e,t]}),b4e=(e,t)=>({...c4e(e),options:[e,t]}),w4e=(e,t)=>({...m4e(e),options:[e,t]});var j4e="Arrow",yX=j.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(Yr.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});yX.displayName=j4e;var N4e=yX;function _4e(e){const[t,r]=j.useState(void 0);return Qi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var cI="Popper",[vX,bX]=Tv(cI),[C4e,wX]=vX(cI),jX=e=>{const{__scopePopper:t,children:r}=e,[n,i]=j.useState(null);return s.jsx(C4e,{scope:t,anchor:n,onAnchorChange:i,children:r})};jX.displayName=cI;var NX="PopperAnchor",_X=j.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=wX(NX,r),o=j.useRef(null),l=gs(t,o),c=j.useRef(null);return j.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(Yr.div,{...i,ref:l})});_X.displayName=NX;var dI="PopperContent",[S4e,B4e]=vX(dI),CX=j.forwardRef((e,t)=>{var ce,be,he,ge,Se,re;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:A="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:x,...g}=e,v=wX(dI,r),[y,b]=j.useState(null),w=gs(t,_e=>b(_e)),[_,N]=j.useState(null),C=_4e(_),P=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,I=n+(a!=="center"?"-"+a:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},B=Array.isArray(d)?d:[d],O=B.length>0,R={padding:F,boundary:B.filter(k4e),altBoundary:O},{refs:U,floatingStyles:$,placement:K,isPositioned:H,middlewareData:z}=f4e({strategy:"fixed",placement:I,whileElementsMounted:(..._e)=>s4e(..._e,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[p4e({mainAxis:i+E,alignmentAxis:o}),c&&g4e({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?x4e():void 0,...R}),c&&y4e({...R}),v4e({...R,apply:({elements:_e,rects:ue,availableWidth:J,availableHeight:fe})=>{const{width:ye,height:Ie}=ue.reference,ke=_e.floating.style;ke.setProperty("--radix-popper-available-width",`${J}px`),ke.setProperty("--radix-popper-available-height",`${fe}px`),ke.setProperty("--radix-popper-anchor-width",`${ye}px`),ke.setProperty("--radix-popper-anchor-height",`${Ie}px`)}}),_&&w4e({element:_,padding:l}),P4e({arrowWidth:P,arrowHeight:E}),f&&b4e({strategy:"referenceHidden",...R})]}),[te,ee]=EX(K),Z=hc(x);Qi(()=>{H&&(Z==null||Z())},[H,Z]);const V=(ce=z.arrow)==null?void 0:ce.x,X=(be=z.arrow)==null?void 0:be.y,W=((he=z.arrow)==null?void 0:he.centerOffset)!==0,[ae,ie]=j.useState();return Qi(()=>{y&&ie(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:H?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(ge=z.transformOrigin)==null?void 0:ge.x,(Se=z.transformOrigin)==null?void 0:Se.y].join(" "),...((re=z.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(S4e,{scope:r,placedSide:te,onArrowChange:N,arrowX:V,arrowY:X,shouldHideArrow:W,children:s.jsx(Yr.div,{"data-side":te,"data-align":ee,...g,ref:w,style:{...g.style,animation:H?void 0:"none"}})})})});CX.displayName=dI;var SX="PopperArrow",E4e={top:"bottom",right:"left",bottom:"top",left:"right"},BX=j.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=B4e(SX,n),o=E4e[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(N4e,{...i,ref:r,style:{...i.style,display:"block"}})})});BX.displayName=SX;function k4e(e){return e!==null}var P4e=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:i}=t,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=EX(r),A={start:"0%",center:"50%",end:"100%"}[u],f=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?A:`${f}px`,g=`${-c}px`):d==="top"?(x=o?A:`${f}px`,g=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?A:`${m}px`):d==="left"&&(x=`${n.floating.width+c}px`,g=o?A:`${m}px`),{data:{x,y:g}}}});function EX(e){const[t,r="center"]=e.split("-");return[t,r]}var I4e=jX,T4e=_X,O4e=CX,L4e=BX;function F4e(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var U4e=[" ","Enter","ArrowUp","ArrowDown"],R4e=[" ","Enter"],Vf="Select",[f5,m5,D4e]=oK(Vf),[Xg]=Tv(Vf,[D4e,bX]),p5=bX(),[M4e,cA]=Xg(Vf),[Q4e,$4e]=Xg(Vf),kX=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:A,disabled:f,required:m,form:x}=e,g=p5(t),[v,y]=j.useState(null),[b,w]=j.useState(null),[_,N]=j.useState(!1),C=hBe(d),[P,E]=g2({prop:n,defaultProp:i??!1,onChange:a,caller:Vf}),[I,F]=g2({prop:o,defaultProp:l,onChange:c,caller:Vf}),B=j.useRef(null),O=v?x||!!v.closest("form"):!0,[R,U]=j.useState(new Set),$=Array.from(R).map(K=>K.props.value).join(";");return s.jsx(I4e,{...g,children:s.jsxs(M4e,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:Op(),value:I,onValueChange:F,open:P,onOpenChange:E,dir:C,triggerPointerDownPosRef:B,disabled:f,children:[s.jsx(f5.Provider,{scope:t,children:s.jsx(Q4e,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(K=>{U(H=>new Set(H).add(K))},[]),onNativeOptionRemove:j.useCallback(K=>{U(H=>{const z=new Set(H);return z.delete(K),z})},[]),children:r})}),O?s.jsxs(eZ,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:A,value:I,onChange:K=>F(K.target.value),disabled:f,form:x,children:[I===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},$):null]})})};kX.displayName=Vf;var PX="SelectTrigger",IX=j.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=p5(r),o=cA(PX,r),l=o.disabled||n,c=gs(t,o.onTriggerChange),d=m5(r),u=j.useRef("touch"),[A,f,m]=rZ(g=>{const v=d().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),b=nZ(v,g,y);b!==void 0&&o.onValueChange(b.value)}),x=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(T4e,{asChild:!0,...a,children:s.jsx(Yr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":tZ(o.value)?"":void 0,...i,ref:c,onClick:$r(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:$r(i.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:$r(i.onKeyDown,g=>{const v=A.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(v&&g.key===" ")&&U4e.includes(g.key)&&(x(),g.preventDefault())})})})});IX.displayName=PX;var TX="SelectValue",OX=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=e,c=cA(TX,r),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,A=gs(t,c.onValueNodeChange);return Qi(()=>{d(u)},[d,u]),s.jsx(Yr.span,{...l,ref:A,style:{pointerEvents:"none"},children:tZ(c.value)?s.jsx(s.Fragment,{children:o}):a})});OX.displayName=TX;var H4e="SelectIcon",LX=j.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(Yr.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});LX.displayName=H4e;var V4e="SelectPortal",FX=e=>s.jsx(LN,{asChild:!0,...e});FX.displayName=V4e;var zf="SelectContent",UX=j.forwardRef((e,t)=>{const r=cA(zf,e.__scopeSelect),[n,i]=j.useState();if(Qi(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?aA.createPortal(s.jsx(RX,{scope:e.__scopeSelect,children:s.jsx(f5.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(DX,{...e,ref:t})});UX.displayName=zf;var Gl=10,[RX,dA]=Xg(zf),z4e="SelectContentImpl",K4e=ng("SelectContent.RemoveScroll"),DX=j.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:A,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:v,...y}=e,b=cA(zf,r),[w,_]=j.useState(null),[N,C]=j.useState(null),P=gs(t,ce=>_(ce)),[E,I]=j.useState(null),[F,B]=j.useState(null),O=m5(r),[R,U]=j.useState(!1),$=j.useRef(!1);j.useEffect(()=>{if(w)return zG(w)},[w]),FG();const K=j.useCallback(ce=>{const[be,...he]=O().map(re=>re.ref.current),[ge]=he.slice(-1),Se=document.activeElement;for(const re of ce)if(re===Se||(re==null||re.scrollIntoView({block:"nearest"}),re===be&&N&&(N.scrollTop=0),re===ge&&N&&(N.scrollTop=N.scrollHeight),re==null||re.focus(),document.activeElement!==Se))return},[O,N]),H=j.useCallback(()=>K([E,w]),[K,E,w]);j.useEffect(()=>{R&&H()},[R,H]);const{onOpenChange:z,triggerPointerDownPosRef:te}=b;j.useEffect(()=>{if(w){let ce={x:0,y:0};const be=ge=>{var Se,re;ce={x:Math.abs(Math.round(ge.pageX)-(((Se=te.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((re=te.current)==null?void 0:re.y)??0))}},he=ge=>{ce.x<=10&&ce.y<=10?ge.preventDefault():w.contains(ge.target)||z(!1),document.removeEventListener("pointermove",be),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",he,{capture:!0})}}},[w,z,te]),j.useEffect(()=>{const ce=()=>z(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[z]);const[ee,Z]=rZ(ce=>{const be=O().filter(Se=>!Se.disabled),he=be.find(Se=>Se.ref.current===document.activeElement),ge=nZ(be,ce,he);ge&&setTimeout(()=>ge.ref.current.focus())}),V=j.useCallback((ce,be,he)=>{const ge=!$.current&&!he;(b.value!==void 0&&b.value===be||ge)&&(I(ce),ge&&($.current=!0))},[b.value]),X=j.useCallback(()=>w==null?void 0:w.focus(),[w]),W=j.useCallback((ce,be,he)=>{const ge=!$.current&&!he;(b.value!==void 0&&b.value===be||ge)&&B(ce)},[b.value]),ae=n==="popper"?OE:MX,ie=ae===OE?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:A,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(RX,{scope:r,content:w,viewport:N,onViewportChange:C,itemRefCallback:V,selectedItem:E,onItemLeave:X,itemTextRefCallback:W,focusSelectedItem:H,selectedItemText:F,position:n,isPositioned:R,searchRef:ee,children:s.jsx(F6,{as:K4e,allowPinchZoom:!0,children:s.jsx(L6,{asChild:!0,trapped:b.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:$r(i,ce=>{var be;(be=b.trigger)==null||be.focus({preventScroll:!0}),ce.preventDefault()}),children:s.jsx(ON,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ae,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ce=>ce.preventDefault(),...y,...ie,onPlaced:()=>U(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:$r(y.onKeyDown,ce=>{const be=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!be&&ce.key.length===1&&Z(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let ge=O().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Se=ce.target,re=ge.indexOf(Se);ge=ge.slice(re+1)}setTimeout(()=>K(ge)),ce.preventDefault()}})})})})})})});DX.displayName=z4e;var W4e="SelectItemAlignedPosition",MX=j.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=cA(zf,r),o=dA(zf,r),[l,c]=j.useState(null),[d,u]=j.useState(null),A=gs(t,P=>u(P)),f=m5(r),m=j.useRef(!1),x=j.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,w=j.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&g&&v&&y){const P=a.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),F=y.getBoundingClientRect();if(a.dir!=="rtl"){const Se=F.left-E.left,re=I.left-Se,_e=P.left-re,ue=P.width+_e,J=Math.max(ue,E.width),fe=window.innerWidth-Gl,ye=AM(re,[Gl,Math.max(Gl,fe-J)]);l.style.minWidth=ue+"px",l.style.left=ye+"px"}else{const Se=E.right-F.right,re=window.innerWidth-I.right-Se,_e=window.innerWidth-P.right-re,ue=P.width+_e,J=Math.max(ue,E.width),fe=window.innerWidth-Gl,ye=AM(re,[Gl,Math.max(Gl,fe-J)]);l.style.minWidth=ue+"px",l.style.right=ye+"px"}const B=f(),O=window.innerHeight-Gl*2,R=g.scrollHeight,U=window.getComputedStyle(d),$=parseInt(U.borderTopWidth,10),K=parseInt(U.paddingTop,10),H=parseInt(U.borderBottomWidth,10),z=parseInt(U.paddingBottom,10),te=$+K+R+z+H,ee=Math.min(v.offsetHeight*5,te),Z=window.getComputedStyle(g),V=parseInt(Z.paddingTop,10),X=parseInt(Z.paddingBottom,10),W=P.top+P.height/2-Gl,ae=O-W,ie=v.offsetHeight/2,ce=v.offsetTop+ie,be=$+K+ce,he=te-be;if(be<=W){const Se=B.length>0&&v===B[B.length-1].ref.current;l.style.bottom="0px";const re=d.clientHeight-g.offsetTop-g.offsetHeight,_e=Math.max(ae,ie+(Se?X:0)+re+H),ue=be+_e;l.style.height=ue+"px"}else{const Se=B.length>0&&v===B[0].ref.current;l.style.top="0px";const _e=Math.max(W,$+g.offsetTop+(Se?V:0)+ie)+he;l.style.height=_e+"px",g.scrollTop=be-W+g.offsetTop}l.style.margin=`${Gl}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,l,d,g,v,y,a.dir,n]);Qi(()=>w(),[w]);const[_,N]=j.useState();Qi(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const C=j.useCallback(P=>{P&&x.current===!0&&(w(),b==null||b(),x.current=!1)},[w,b]);return s.jsx(q4e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Yr.div,{...i,ref:A,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});MX.displayName=W4e;var G4e="SelectPopperPosition",OE=j.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Gl,...a}=e,o=p5(r);return s.jsx(O4e,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});OE.displayName=G4e;var[q4e,uI]=Xg(zf,{}),LE="SelectViewport",QX=j.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=dA(LE,r),o=uI(LE,r),l=gs(t,a.onViewportChange),c=j.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(f5.Slot,{scope:r,children:s.jsx(Yr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:$r(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:A,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&A){const m=Math.abs(c.current-u.scrollTop);if(m>0){const x=window.innerHeight-Gl*2,g=parseFloat(A.style.minHeight),v=parseFloat(A.style.height),y=Math.max(g,v);if(y<x){const b=y+m,w=Math.min(x,b),_=b-w;A.style.height=w+"px",A.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,A.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});QX.displayName=LE;var $X="SelectGroup",[Y4e,X4e]=Xg($X),Z4e=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Op();return s.jsx(Y4e,{scope:r,id:i,children:s.jsx(Yr.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Z4e.displayName=$X;var HX="SelectLabel",VX=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=X4e(HX,r);return s.jsx(Yr.div,{id:i.id,...n,ref:t})});VX.displayName=HX;var Y2="SelectItem",[J4e,zX]=Xg(Y2),KX=j.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,l=cA(Y2,r),c=dA(Y2,r),d=l.value===n,[u,A]=j.useState(a??""),[f,m]=j.useState(!1),x=gs(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,i)}),g=Op(),v=j.useRef("touch"),y=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(J4e,{scope:r,value:n,disabled:i,textId:g,isSelected:d,onItemTextChange:j.useCallback(b=>{A(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(f5.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:s.jsx(Yr.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:$r(o.onFocus,()=>m(!0)),onBlur:$r(o.onBlur,()=>m(!1)),onClick:$r(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:$r(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:$r(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:$r(o.onPointerMove,b=>{var w;v.current=b.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$r(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:$r(o.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(R4e.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});KX.displayName=Y2;var vx="SelectItemText",WX=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=cA(vx,r),l=dA(vx,r),c=zX(vx,r),d=$4e(vx,r),[u,A]=j.useState(null),f=gs(t,y=>A(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=u==null?void 0:u.textContent,x=j.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return Qi(()=>(g(x),()=>v(x)),[g,v,x]),s.jsxs(s.Fragment,{children:[s.jsx(Yr.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?aA.createPortal(a.children,o.valueNode):null]})});WX.displayName=vx;var GX="SelectItemIndicator",qX=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zX(GX,r).isSelected?s.jsx(Yr.span,{"aria-hidden":!0,...n,ref:t}):null});qX.displayName=GX;var FE="SelectScrollUpButton",YX=j.forwardRef((e,t)=>{const r=dA(FE,e.__scopeSelect),n=uI(FE,e.__scopeSelect),[i,a]=j.useState(!1),o=gs(t,n.onScrollButtonChange);return Qi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(ZX,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});YX.displayName=FE;var UE="SelectScrollDownButton",XX=j.forwardRef((e,t)=>{const r=dA(UE,e.__scopeSelect),n=uI(UE,e.__scopeSelect),[i,a]=j.useState(!1),o=gs(t,n.onScrollButtonChange);return Qi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(ZX,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});XX.displayName=UE;var ZX=j.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=dA("SelectScrollButton",r),o=j.useRef(null),l=m5(r),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),Qi(()=>{var u;const d=l().find(A=>A.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Yr.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:$r(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:$r(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:$r(i.onPointerLeave,()=>{c()})})}),eEe="SelectSeparator",JX=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Yr.div,{"aria-hidden":!0,...n,ref:t})});JX.displayName=eEe;var RE="SelectArrow",tEe=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=p5(r),a=cA(RE,r),o=dA(RE,r);return a.open&&o.position==="popper"?s.jsx(L4e,{...i,...n,ref:t}):null});tEe.displayName=RE;var rEe="SelectBubbleInput",eZ=j.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=j.useRef(null),a=gs(n,i),o=F4e(t);return j.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const A=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(A)}},[o,t]),s.jsx(Yr.select,{...r,style:{...hK,...r.style},ref:a,defaultValue:t})});eZ.displayName=rEe;function tZ(e){return e===""||e===void 0}function rZ(e){const t=hc(e),r=j.useRef(""),n=j.useRef(0),i=j.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function nZ(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=nEe(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function nEe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sEe=kX,sZ=IX,iEe=OX,aEe=LX,oEe=FX,iZ=UX,lEe=QX,aZ=VX,oZ=KX,cEe=WX,dEe=qX,lZ=YX,cZ=XX,dZ=JX;const X2=sEe,Z2=iEe,Oy=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(sZ,{ref:n,className:dn("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(aEe,{asChild:!0,children:s.jsx(JA,{className:"h-4 w-4 opacity-50"})})]}));Oy.displayName=sZ.displayName;const uZ=j.forwardRef(({className:e,...t},r)=>s.jsx(lZ,{ref:r,className:dn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(xue,{className:"h-4 w-4"})}));uZ.displayName=lZ.displayName;const hZ=j.forwardRef(({className:e,...t},r)=>s.jsx(cZ,{ref:r,className:dn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(JA,{className:"h-4 w-4"})}));hZ.displayName=cZ.displayName;const Ly=j.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>s.jsx(oEe,{children:s.jsxs(iZ,{ref:i,className:dn("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(uZ,{}),s.jsx(lEe,{className:dn("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(hZ,{})]})}));Ly.displayName=iZ.displayName;const uEe=j.forwardRef(({className:e,...t},r)=>s.jsx(aZ,{ref:r,className:dn("px-2 py-1.5 text-sm font-semibold",e),...t}));uEe.displayName=aZ.displayName;const va=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(oZ,{ref:n,className:dn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(dEe,{children:s.jsx(zm,{className:"h-4 w-4"})})}),s.jsx(cEe,{children:t})]}));va.displayName=oZ.displayName;const hEe=j.forwardRef(({className:e,...t},r)=>s.jsx(dZ,{ref:r,className:dn("-mx-1 my-1 h-px bg-muted",e),...t}));hEe.displayName=dZ.displayName;delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const AEe=({onLocationSelect:e})=>(qN({click:t=>{const{lat:r,lng:n}=t.latlng;e(r,n)}}),null),fEe=({center:e})=>{const t=qN({});return Ce.useEffect(()=>{e&&e[0]&&e[1]&&t.setView(e,t.getZoom())},[e,t]),null},mEe=()=>{const e=Ar(),[t,r]=j.useState(null),[n,i]=j.useState(!0),[a,o]=j.useState(!1),[l,c]=j.useState({propertyName:"",description:"",numberOfRooms:"",propertyMode:"room",address:{street:"",city:"",state:"",pincode:"",landmark:"",latitude:"",longitude:""},monthlyRent:"",securityDeposit:"",amenities:{parking4w:!1,parking2w:!1,kitchen:!1,powerBackup:!1},rules:{petsAllowed:!1,smokingAllowed:!1,visitorsAllowed:!0,cookingAllowed:!0},images:[],requiredImages:{front:null,back:null,hall:null,kitchen:null},toiletOutside:!1,outsideToiletImage:null,landTaxReceipt:null,documents:[],rooms:[]}),[d,u]=j.useState({}),[A,f]=j.useState(!1),[m,x]=j.useState(!1),g=me=>{const Be=[];for(let Oe=1;Oe<=me;Oe++)Be.push({roomNumber:Oe,roomType:"",roomSize:"",bedType:"",occupancy:1,rent:"",amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},description:"",roomImage:null,toiletImage:null});return Be},v=me=>{const Be=parseInt(me),Oe=isNaN(Be)?0:Math.min(Be,6);c(Ne=>({...Ne,numberOfRooms:String(Oe),rooms:Oe>0?g(Oe):[]})),x(Oe>0),!isNaN(Be)&&Be>6?u(Ne=>({...Ne,numberOfRooms:"Maximum 6 rooms allowed"})):d.numberOfRooms==="Maximum 6 rooms allowed"&&u(Ne=>({...Ne,numberOfRooms:""}))},y=me=>({Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1})[me]||1,b=(me,Be,Oe)=>{c(Ne=>({...Ne,rooms:Ne.rooms.map((Fe,it)=>{if(it===me){const pt={...Fe,[Be]:Oe};return Be==="roomType"&&Oe&&(pt.occupancy=y(Oe)),pt}return Fe})}))},w=(me,Be,Oe)=>{c(Ne=>({...Ne,rooms:Ne.rooms.map((Fe,it)=>it===me?{...Fe,amenities:{...Fe.amenities,[Be]:Oe}}:Fe)}))},_=(me,Be,Oe)=>{var pt;const Ne=(pt=Oe.target.files)==null?void 0:pt[0];if(!Ne)return;const Fe={file:Ne,preview:URL.createObjectURL(Ne),name:Ne.name};c(Re=>({...Re,rooms:Re.rooms.map((gt,rt)=>rt===me?{...gt,[Be]:Fe}:gt)}));const it=Be==="roomImage"?`room_${me}_roomImage`:`room_${me}_toiletImage`;d[it]&&u(Re=>({...Re,[it]:""}))},N=(me,Be)=>{c(Oe=>({...Oe,rooms:Oe.rooms.map((Ne,Fe)=>Fe===me?{...Ne,[Be]:null}:Ne)}))};j.useRef(null),j.useRef(null);const[C,P]=j.useState(!1),[E,I]=j.useState(!1),[F,B]=j.useState(""),[O,R]=j.useState([]),[U,$]=j.useState(-1),[K,H]=j.useState(!1),z=j.useRef(null),te=j.useRef(null),ee=j.useRef(!1),[Z,V]=j.useState([12.9716,77.5946]);j.useEffect(()=>{(()=>{const Be=localStorage.getItem("authToken"),Oe=localStorage.getItem("user");if(!Be||!Oe){e("/login");return}try{const Ne=JSON.parse(Oe);if(Ne.role!==3){e("/login");return}r(Ne);const Fe=!Ne.kycVerified&&!(Ne.govtIdFrontUrl&&Ne.govtIdBackUrl);o(Fe)}catch(Ne){console.error("Error parsing user data:",Ne),e("/login")}i(!1)})()},[e]),j.useEffect(()=>{if(l.address.latitude&&l.address.longitude){const me=parseFloat(l.address.latitude),Be=parseFloat(l.address.longitude);!isNaN(me)&&!isNaN(Be)&&V([me,Be])}},[l.address.latitude,l.address.longitude]);const X=(me,Be)=>{V([me,Be]),c(Oe=>({...Oe,address:{...Oe.address,latitude:String(me),longitude:String(Be)}}))},W=me=>{const{lat:Be,lng:Oe}=me.target.getLatLng();X(Be,Oe)},ae=()=>{P(!C)},ie=()=>{var Ne;const me=l.address.latitude,Be=l.address.longitude;if(!me||!Be){alert("Set a location first (drag marker or select a place).");return}const Oe=`${me}, ${Be}`;(Ne=navigator.clipboard)!=null&&Ne.writeText?navigator.clipboard.writeText(Oe).then(()=>{alert("Coordinates copied to clipboard")}).catch(()=>{window.prompt("Copy coordinates:",Oe)}):window.prompt("Copy coordinates:",Oe)};j.useEffect(()=>{if(!F||F.trim().length<2){R([]),H(!1),$(-1);return}if(!ee.current)return z.current&&clearTimeout(z.current),z.current=setTimeout(async()=>{try{const me=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(F)}&format=json&addressdetails=1&limit=5&countrycodes=in`,{headers:{Accept:"application/json","User-Agent":"LyvoPropertyApp/1.0"}});if(me.ok){const Be=await me.json();R(Be),H(Be.length>0),$(-1)}else R([]),H(!1),$(-1)}catch(me){console.error("Error fetching place suggestions:",me),R([]),H(!1),$(-1)}},250),()=>{z.current&&clearTimeout(z.current)}},[F]),j.useEffect(()=>{if(!te.current)return;const me=te.current.querySelector(`[data-idx="${U}"]`);me&&me.scrollIntoView({block:"nearest"})},[U]);const ce=me=>{if(!me)return;ee.current=!0,z.current&&clearTimeout(z.current),H(!1),R([]);const Be=me.address||{},Oe=[Be.road,Be.suburb,Be.neighbourhood].filter(Boolean).join(", "),Ne=Be.city||Be.town||Be.village||Be.municipality||"",Fe=Be.state||"",it=Be.postcode||"",pt=me.name||Be.amenity||"",Re=parseFloat(me.lat),gt=parseFloat(me.lon);!isNaN(Re)&&!isNaN(gt)&&V([Re,gt]),c(rt=>({...rt,address:{...rt.address,street:Oe||rt.address.street,city:Ne||rt.address.city,state:Fe||rt.address.state,pincode:it||rt.address.pincode,landmark:pt||rt.address.landmark,latitude:isNaN(Re)?rt.address.latitude:String(Re),longitude:isNaN(gt)?rt.address.longitude:String(gt)}})),B(me.display_name||""),H(!1),$(-1),setTimeout(()=>{ee.current=!1},0)},be=me=>{!K||O.length===0||(me.key==="ArrowDown"?(me.preventDefault(),$(Be=>(Be+1)%O.length)):me.key==="ArrowUp"?(me.preventDefault(),$(Be=>(Be-1+O.length)%O.length)):me.key==="Enter"?U>=0&&(me.preventDefault(),ce(O[U])):me.key==="Escape"&&(H(!1),$(-1)))},he=(me,Be)=>{if(me.includes(".")){const[Oe,Ne]=me.split(".");c(Fe=>({...Fe,[Oe]:{...Fe[Oe],[Ne]:Be}}))}else c(Oe=>({...Oe,[me]:Be}));d[me]&&u(Oe=>({...Oe,[me]:""}))},ge=me=>{c(Be=>({...Be,amenities:{...Be.amenities,[me]:!Be.amenities[me]}}))},Se=me=>{c(Be=>({...Be,rules:{...Be.rules,[me]:!Be.rules[me]}}))},re=me=>{const Oe=Array.from(me.target.files).map(Ne=>({file:Ne,preview:URL.createObjectURL(Ne),name:Ne.name}));c(Ne=>({...Ne,images:[...Ne.images,...Oe]}))},_e=(me,Be)=>{var Fe;const Oe=(Fe=Be.target.files)==null?void 0:Fe[0];if(!Oe)return;const Ne={file:Oe,preview:URL.createObjectURL(Oe),name:Oe.name};c(it=>({...it,requiredImages:{...it.requiredImages,[me]:Ne}})),d[`requiredImages.${me}`]&&u(it=>({...it,[`requiredImages.${me}`]:""}))},ue=me=>{var Ne;const Be=(Ne=me.target.files)==null?void 0:Ne[0];if(!Be)return;const Oe={file:Be,preview:URL.createObjectURL(Be),name:Be.name};c(Fe=>({...Fe,outsideToiletImage:Oe})),d.outsideToiletImage&&u(Fe=>({...Fe,outsideToiletImage:""}))},J=me=>{c(Be=>({...Be,requiredImages:{...Be.requiredImages,[me]:null}}))},fe=me=>{c(Be=>({...Be,images:Be.images.filter((Oe,Ne)=>Ne!==me)}))},ye=me=>{var Ne;const Be=(Ne=me.target.files)==null?void 0:Ne[0];if(!Be)return;const Oe={file:Be,preview:URL.createObjectURL(Be),name:Be.name,type:Be.type};c(Fe=>({...Fe,landTaxReceipt:Oe})),d.landTaxReceipt&&u(Fe=>({...Fe,landTaxReceipt:""}))},Ie=()=>{c(me=>({...me,landTaxReceipt:null}))},ke=()=>{const me={};if(l.propertyName.trim()||(me.propertyName="Property name is required"),l.description.trim()||(me.description="Description is required"),l.propertyMode==="room"){const Oe=parseInt(l.numberOfRooms);!Oe||Oe<=0?me.numberOfRooms="Number of rooms is required":Oe>6&&(me.numberOfRooms="Maximum 6 rooms allowed")}else l.dormitory.numDorms||(me["dormitory.numDorms"]="Number of dorms is required"),parseInt(l.dormitory.numDorms||"0")>0&&(l.dormitory.bedsPerDorms||[]).findIndex(Fe=>!Fe||parseInt(Fe)<=0)!==-1&&(me["dormitory.bedsPerDorms"]="Enter beds for each dorm"),l.dormitory.pricePerBed||(me["dormitory.pricePerBed"]="Price per bed is required");l.propertyMode==="room"&&l.rooms.length>0&&l.rooms.forEach((Oe,Ne)=>{var Fe;Oe.roomType||(me[`room_${Ne}_type`]=`Room ${Ne+1} type is required`),(!Oe.roomSize||parseInt(Oe.roomSize)<=0)&&(me[`room_${Ne}_size`]=`Room ${Ne+1} size is required`),Oe.bedType||(me[`room_${Ne}_bed`]=`Room ${Ne+1} bed type is required`),(!Oe.rent||parseInt(Oe.rent)<=0)&&(me[`room_${Ne}_rent`]=`Room ${Ne+1} rent is required`),Oe.roomImage||(me[`room_${Ne}_roomImage`]=`Room ${Ne+1} image is required`),(Fe=Oe.amenities)!=null&&Fe.attachedBathroom&&!Oe.toiletImage&&(me[`room_${Ne}_toiletImage`]=`Room ${Ne+1} toilet image is required`)}),l.address.street.trim()||(me["address.street"]="Street address is required"),l.address.city.trim()||(me["address.city"]="City is required"),l.address.state.trim()||(me["address.state"]="State is required"),l.address.pincode.trim()||(me["address.pincode"]="Pincode is required"),l.securityDeposit||(me.securityDeposit="Security deposit is required");const Be=["front","back","hall"];return l.amenities.kitchen&&Be.push("kitchen"),Be.forEach(Oe=>{l.requiredImages[Oe]||(me[`requiredImages.${Oe}`]="Required")}),l.toiletOutside&&!l.outsideToiletImage&&(me.outsideToiletImage="Outside toilet image is required"),l.landTaxReceipt||(me.landTaxReceipt="Latest Land Tax Receipt (PDF) is required"),u(me),Object.keys(me).length===0},He=async me=>{var Be,Oe,Ne,Fe,it,pt,Re;if(me.preventDefault(),!!ke()){f(!0);try{const gt=localStorage.getItem("authToken");if(!gt)throw new Error("Authentication token not found");const rt=new FormData,ot={...l};l.propertyMode==="room"?ot.rooms=(ot.rooms||[]).map(St=>{const{roomImage:$t,toiletImage:bt,...ht}=St;return ht}):ot.rooms=[],rt.append("propertyData",JSON.stringify(ot)),(Be=l.requiredImages.front)!=null&&Be.file&&rt.append("frontImage",l.requiredImages.front.file),(Oe=l.requiredImages.back)!=null&&Oe.file&&rt.append("backImage",l.requiredImages.back.file),(Ne=l.requiredImages.hall)!=null&&Ne.file&&rt.append("hallImage",l.requiredImages.hall.file),(Fe=l.requiredImages.kitchen)!=null&&Fe.file&&rt.append("kitchenImage",l.requiredImages.kitchen.file),l.propertyMode==="room"?(l.rooms||[]).forEach((St,$t)=>{var bt,ht;(bt=St.roomImage)!=null&&bt.file&&rt.append(`rooms[${$t}][roomImage]`,St.roomImage.file),(ht=St.toiletImage)!=null&&ht.file&&rt.append(`rooms[${$t}][toiletImage]`,St.toiletImage.file)}):((l.dormitory.images||[]).forEach((St,$t)=>{St.file&&rt.append("dormitoryImages",St.file)}),(it=l.dormitory.toiletImage)!=null&&it.file&&rt.append("dormitoryToiletImage",l.dormitory.toiletImage.file)),rt.append("toiletOutside",String(!!l.toiletOutside)),l.toiletOutside&&((pt=l.outsideToiletImage)!=null&&pt.file)&&rt.append("outsideToiletImage",l.outsideToiletImage.file),console.log("Documents:",l.documents),(Re=l.landTaxReceipt)!=null&&Re.file&&rt.append("landTaxReceipt",l.landTaxReceipt.file),l.documents&&Array.isArray(l.documents)&&l.documents.forEach((St,$t)=>{St.file&&(console.log("Adding document: documents",St.file.name),rt.append("documents",St.file))}),console.log("FormData entries:");for(let[St,$t]of rt.entries())console.log(St,$t);const xt=await fetch("http://localhost:5000/api/property/add",{method:"POST",headers:{Authorization:`Bearer ${gt}`},body:rt}),Et=await xt.json();if(!xt.ok)throw new Error(Et.message||"Failed to create property");if(Et.success)window.refreshProperties&&window.refreshProperties(),e("/owner-properties");else throw new Error(Et.message||"Failed to create property")}catch(gt){console.error("Error adding property:",gt),alert(`Error: ${gt.message}`)}finally{f(!1)}}};if(n)return s.jsx(yn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})});const We=!n&&t&&a;return s.jsxs(yn,{children:[s.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-0 space-y-4 sm:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("button",{onClick:()=>e("/owner-dashboard"),className:"p-1.5 sm:p-2 text-gray-600 hover:text-gray-800 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:s.jsx(ei,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg sm:text-xl sm:text-2xl font-bold text-gray-900",children:"Add New Property"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Fill in the details to list your property"})]})]})}),We&&s.jsxs("div",{className:"p-3 sm:p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("div",{className:"text-xs sm:text-sm text-yellow-900",children:"To add a property, please upload and verify your Government ID."}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:()=>e("/owner-settings#kyc"),className:"px-3 py-2 bg-red-600 text-white rounded-md text-xs sm:text-sm hover:bg-red-700",children:"Go to Upload Documents"})})]}),s.jsxs("form",{onSubmit:He,className:`space-y-6 sm:space-y-8 ${We?"pointer-events-none opacity-50 select-none":""}`,children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(Zr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Basic Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name *"}),s.jsx("input",{type:"text",value:l.propertyName,onChange:me=>he("propertyName",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.propertyName?"border-red-500":"border-gray-300"}`,placeholder:"Enter property name"}),d.propertyName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.propertyName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit () *"}),s.jsx("input",{type:"number",value:l.securityDeposit,onChange:me=>{const Be=me.target.value;(Be===""||/^\d+$/.test(Be)&&parseInt(Be)>=0)&&he("securityDeposit",Be)},onKeyDown:me=>{["-","+","e","E","."].includes(me.key)&&me.preventDefault()},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.securityDeposit?"border-red-500":"border-gray-300"}`,placeholder:"Security deposit amount",min:"0"}),d.securityDeposit&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.securityDeposit})]}),l.propertyMode==="room"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Rooms *"}),s.jsx("input",{type:"number",min:"1",max:"6",value:l.numberOfRooms,onChange:me=>{const Be=me.target.value;(Be===""||/^\d+$/.test(Be)&&parseInt(Be)>0)&&v(Be)},onKeyDown:me=>{["-","+","e","E","."].includes(me.key)&&me.preventDefault()},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.numberOfRooms?"border-red-500":"border-gray-300"}`,placeholder:"Enter number of rooms (max 6)"}),d.numberOfRooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.numberOfRooms})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{value:l.description,onChange:me=>he("description",me.target.value),rows:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe your property, its features, and what makes it special..."}),d.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.description})]})]})]}),m&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(Ir,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Room Details"})]}),s.jsx("div",{className:"space-y-4",children:l.rooms.map((me,Be)=>s.jsxs("div",{className:"border border-red-200 rounded-md p-3 sm:p-4 shadow-sm hover:shadow-md transition-all bg-red-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 rounded-md px-3 py-2 border border-red-200 bg-red-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-700 flex items-center justify-center font-bold",children:me.roomNumber}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 tracking-wide",children:["Room ",me.roomNumber]}),s.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-1.5",children:[me.roomType&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:me.roomType}),me.roomSize&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:[me.roomSize," sq ft"]}),me.occupancy&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:[me.occupancy," pax"]}),me.rent&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-green-50 text-green-700 border border-green-200",children:["",me.rent]})]})]})]}),s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-[11px] font-medium bg-red-50 text-red-700 border border-red-200",children:"Room Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 items-start",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type *"}),s.jsxs(X2,{value:me.roomType,onValueChange:Oe=>b(Be,"roomType",Oe),children:[s.jsx(Oy,{className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_type`]?"border-red-500":"border-gray-300"}`,children:s.jsx(Z2,{placeholder:"Select room type"})}),s.jsxs(Ly,{position:"popper",children:[s.jsx(va,{value:"Single",children:"Single"}),s.jsx(va,{value:"Double",children:"Double"}),s.jsx(va,{value:"Triple",children:"Triple"}),s.jsx(va,{value:"Quad",children:"Quad"}),s.jsx(va,{value:"Master",children:"Master"}),s.jsx(va,{value:"Studio",children:"Studio"})]})]}),d[`room_${Be}_type`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_type`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Size (sq ft) *"}),s.jsx("input",{type:"number",min:"50",value:me.roomSize,onChange:Oe=>{const Ne=Oe.target.value;(Ne===""||/^\d+$/.test(Ne)&&parseInt(Ne)>=0)&&b(Be,"roomSize",Ne)},onKeyDown:Oe=>{["-","+","e","E","."].includes(Oe.key)&&Oe.preventDefault()},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_size`]?"border-red-500":"border-gray-300"}`,placeholder:"Enter room size"}),d[`room_${Be}_size`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_size`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bed Type *"}),s.jsxs(X2,{value:me.bedType,onValueChange:Oe=>b(Be,"bedType",Oe),children:[s.jsx(Oy,{className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_bed`]?"border-red-500":"border-gray-300"}`,children:s.jsx(Z2,{placeholder:"Select bed type"})}),s.jsxs(Ly,{position:"popper",children:[s.jsx(va,{value:"Single Bed",children:"Single Bed"}),s.jsx(va,{value:"Double Bed",children:"Double Bed"}),s.jsx(va,{value:"Queen Bed",children:"Queen Bed"}),s.jsx(va,{value:"King Bed",children:"King Bed"}),s.jsx(va,{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx(va,{value:"No Bed",children:"No Bed"})]})]}),d[`room_${Be}_bed`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_bed`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Occupancy *"}),s.jsx("input",{type:"number",min:"1",max:"10",value:me.occupancy,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-50 text-gray-700 cursor-not-allowed border-gray-300",placeholder:"Auto-set based on room type"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Automatically set based on room type"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Rent () *"}),s.jsx("input",{type:"number",min:"0",value:me.rent,onChange:Oe=>{const Ne=Oe.target.value;(Ne===""||/^\d+$/.test(Ne)&&parseInt(Ne)>=0)&&b(Be,"rent",Ne)},onKeyDown:Oe=>{["-","+","e","E","."].includes(Oe.key)&&Oe.preventDefault()},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_rent`]?"border-red-500":"border-gray-300"}`,placeholder:"Enter monthly rent"}),d[`room_${Be}_rent`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_rent`]})]}),s.jsxs("div",{className:"md:mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attached Bathroom"}),s.jsxs("div",{className:"flex items-center h-10 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>w(Be,"attachedBathroom",!me.amenities.attachedBathroom),className:`relative inline-flex items-center h-9 w-16 rounded-full transition-colors border ${me.amenities.attachedBathroom?"bg-green-500 border-green-500":"bg-gray-200 border-gray-300"}`,title:"Toggle attached bathroom","aria-pressed":me.amenities.attachedBathroom,children:[s.jsx("span",{className:`absolute left-1 top-1 h-7 w-7 rounded-full bg-white shadow transition-transform ${me.amenities.attachedBathroom?"translate-x-7":"translate-x-0"}`}),s.jsx("span",{className:"sr-only",children:"Attached bathroom toggle"})]}),s.jsx("span",{className:`text-xs font-semibold ${me.amenities.attachedBathroom?"text-green-700":"text-gray-600"}`,children:me.amenities.attachedBathroom?"YES":"NO"})]})]}),s.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Description"}),s.jsx("textarea",{value:me.description,onChange:Oe=>b(Be,"description",Oe.target.value),rows:5,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent border-gray-300 h-36",placeholder:"Describe this room's features..."})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image *"}),me.roomImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:me.roomImage.preview,alt:me.roomImage.name,className:"w-full max-w-[220px] h-36 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>N(Be,"roomImage"),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(ar,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-36 border-2 border-dashed rounded-lg cursor-pointer ${d[`room_${Be}_roomImage`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Upload Room Image"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Oe=>_(Be,"roomImage",Oe)})]}),d[`room_${Be}_roomImage`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d[`room_${Be}_roomImage`]})]}),s.jsx("div",{className:"flex flex-col",children:me.amenities.attachedBathroom&&s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image (for attached bathroom) *"}),me.toiletImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:me.toiletImage.preview,alt:me.toiletImage.name,className:"w-full max-w-[220px] h-36 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>N(Be,"toiletImage"),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(ar,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-36 border-2 border-dashed rounded-lg cursor-pointer ${d[`room_${Be}_toiletImage`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Upload Toilet Image"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Oe=>_(Be,"toiletImage",Oe)})]}),d[`room_${Be}_toiletImage`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d[`room_${Be}_toiletImage`]})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-3 items-center",children:Object.entries(me.amenities).filter(([Oe])=>Oe!=="attachedBathroom").map(([Oe,Ne])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:Ne,onChange:Fe=>w(Be,Oe,Fe.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-gray-700 capitalize",children:Oe.replace(/([A-Z])/g," $1").trim()})]},Oe))})]})]})]},Be))})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(jr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Address Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search PG/Property via Google Maps"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:F,onChange:me=>B(me.target.value),onFocus:()=>O.length>0&&H(!0),onKeyDown:be,placeholder:"Start typing address, area, landmark...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),K&&s.jsxs("div",{ref:te,className:"absolute z-40 left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-xl max-h-80 overflow-auto",children:[O.length===0&&s.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No results"}),O.map((me,Be)=>s.jsxs("button",{type:"button","data-idx":Be,onMouseEnter:()=>$(Be),onMouseLeave:()=>$(-1),onClick:()=>ce(me),className:`w-full text-left px-4 py-3 text-sm transition-colors ${Be===U?"bg-red-50":"hover:bg-gray-50"}`,children:[s.jsx("div",{className:"text-gray-700 leading-snug line-clamp-2",children:me.display_name||me.name||""}),me.type&&s.jsx("div",{className:"text-xs text-gray-500 mt-0.5 capitalize",children:me.type})]},`${me.place_id}-${Be}`)),s.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-[11px] text-gray-500",children:"Powered by OpenStreetMap"})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pin PG Location"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>I(!0),className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Open Map"}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Lat: ",l.address.latitude||""," | Lng: ",l.address.longitude||""]}),s.jsx("button",{type:"button",onClick:ie,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 text-xs",children:"Copy Coords"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",value:l.address.street,onChange:me=>he("address.street",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.street"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter street address"}),d["address.street"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.street"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:l.address.city,onChange:me=>he("address.city",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.city"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter city"}),d["address.city"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.city"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",value:l.address.state,onChange:me=>he("address.state",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.state"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter state"}),d["address.state"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.state"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),s.jsx("input",{type:"text",value:l.address.pincode,onChange:me=>he("address.pincode",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.pincode"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter pincode"}),d["address.pincode"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.pincode"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:l.address.landmark,onChange:me=>he("address.landmark",me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Near landmark (optional)"})]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(sm,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Amenities"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[["parking4w","Parking (4 wheeler)"],["parking2w","Parking (2 wheeler)"],["kitchen","Kitchen"],["powerBackup","Power Backup"]].map(([me,Be])=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:!!l.amenities[me],onChange:()=>ge(me),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:Be})]},me))})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(tr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Rules and Policies"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:Object.entries(l.rules).map(([me,Be])=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Be,onChange:()=>Se(me),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[me.replace(/([A-Z])/g," $1").trim()," Allowed"]})]},me))})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(As,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Property Images"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{key:"front",label:"Front"},{key:"back",label:"Back"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"}].filter(({key:me})=>me!=="kitchen"||l.amenities.kitchen).map(({key:me,label:Be})=>s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:[Be," ",me!=="kitchen"||l.amenities.kitchen?"*":""]}),l.requiredImages[me]?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:l.requiredImages[me].preview,alt:l.requiredImages[me].name,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>J(me),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(ar,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${d[`requiredImages.${me}`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsxs("div",{className:"text-xs text-gray-500 text-center px-2",children:["Upload ",Be]}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Oe=>_e(me,Oe)})]}),d[`requiredImages.${me}`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d[`requiredImages.${me}`]})]},me))}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(od,{className:"w-8 h-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:re,className:"hidden"})]})}),s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Toilet Outside the Room"}),s.jsxs("button",{type:"button",onClick:()=>c(me=>({...me,toiletOutside:!me.toiletOutside})),className:`relative inline-flex items-center h-7 w-14 rounded-full transition-colors border ${l.toiletOutside?"bg-blue-500 border-blue-500":"bg-gray-200 border-gray-300"}`,"aria-pressed":l.toiletOutside,children:[s.jsx("span",{className:`absolute left-1 top-1 h-5 w-5 rounded-full bg-white shadow transition-transform ${l.toiletOutside?"translate-x-7":"translate-x-0"}`}),s.jsx("span",{className:"sr-only",children:"Toilet outside toggle"})]}),s.jsx("span",{className:`text-xs font-semibold ${l.toiletOutside?"text-blue-700":"text-gray-600"}`,children:l.toiletOutside?"YES":"NO"})]})}),l.toiletOutside&&s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outside Toilet Image *"}),l.outsideToiletImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:l.outsideToiletImage.preview,alt:l.outsideToiletImage.name,className:"w-44 h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>c(me=>({...me,outsideToiletImage:null})),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(ar,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex flex-col items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${d.outsideToiletImage?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx(od,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload or drag and drop"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ue})]}),d.outsideToiletImage&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d.outsideToiletImage})]}),l.images.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:l.images.map((me,Be)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:me.preview,alt:me.name,className:"w-full h-24 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>fe(Be),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(ar,{className:"w-3 h-3"})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 truncate",children:me.name})]},Be))})]})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.65},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(ks,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Property Documents"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Upload the latest Land Tax Receipt (PDF). No other property documents are accepted."}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Latest Land Tax Receipt (PDF) *"}),l.landTaxReceipt&&s.jsx("button",{type:"button",onClick:Ie,className:"text-xs text-red-600 hover:underline",children:"Remove"})]}),l.landTaxReceipt?s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded bg-red-100",children:s.jsx(ks,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.landTaxReceipt.name}),s.jsx("div",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsx("button",{type:"button",onClick:Ie,className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"Change"})]}):s.jsxs("label",{className:`flex flex-col items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${d.landTaxReceipt?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx(ks,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload latest Land Tax Receipt (PDF only)"}),s.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:ye})]}),d.landTaxReceipt&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d.landTaxReceipt})]})})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/owner-dashboard"),className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:A,className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center space-x-2",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Adding Property..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Bv,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Property"})]})})]})]})]}),E&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Select Location"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:ae,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 text-xs",children:[C?"Satellite":"Street"," view"]}),s.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]})]}),s.jsx("div",{style:{width:"100%",height:"420px"},children:s.jsxs(Yh,{center:Z,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[s.jsx(Zh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:C?"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},C?"satellite":"street"),Z&&Z[0]&&Z[1]&&s.jsx(Xh,{position:Z,draggable:!0,eventHandlers:{dragend:W}}),s.jsx(fEe,{center:Z}),s.jsx(AEe,{onLocationSelect:X})]})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 text-xs text-gray-600 flex items-center justify-between",children:[s.jsxs("div",{children:["Lat: ",l.address.latitude||""," | Lng: ",l.address.longitude||""]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 text-xs",children:"Use This Location"}),s.jsx("button",{type:"button",onClick:ie,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100",children:"Copy Coords"}),s.jsx("span",{className:"text-gray-500 hidden sm:inline",children:"Drag marker or click map to set exact point"})]})]})]})})]})},pEe=()=>{const e=Ar();return s.jsx(yn,{children:s.jsx("div",{className:"max-w-3xl mx-auto p-4",children:s.jsxs("div",{className:"bg-white border border-yellow-200 rounded-xl p-6",children:[s.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Government ID verification required"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"To add a property, please upload and verify your Government ID."}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{type:"button",onClick:()=>e("/owner-settings#kyc"),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",children:"Go to Upload Documents"})})]})})})};var gEe=Array.isArray,no=gEe,xEe=typeof rx=="object"&&rx&&rx.Object===Object&&rx,AZ=xEe,yEe=AZ,vEe=typeof self=="object"&&self&&self.Object===Object&&self,bEe=yEe||vEe||Function("return this")(),xd=bEe,wEe=xd,jEe=wEe.Symbol,qv=jEe,_M=qv,fZ=Object.prototype,NEe=fZ.hasOwnProperty,_Ee=fZ.toString,K0=_M?_M.toStringTag:void 0;function CEe(e){var t=NEe.call(e,K0),r=e[K0];try{e[K0]=void 0;var n=!0}catch{}var i=_Ee.call(e);return n&&(t?e[K0]=r:delete e[K0]),i}var SEe=CEe,BEe=Object.prototype,EEe=BEe.toString;function kEe(e){return EEe.call(e)}var PEe=kEe,CM=qv,IEe=SEe,TEe=PEe,OEe="[object Null]",LEe="[object Undefined]",SM=CM?CM.toStringTag:void 0;function FEe(e){return e==null?e===void 0?LEe:OEe:SM&&SM in Object(e)?IEe(e):TEe(e)}var Cu=FEe;function UEe(e){return e!=null&&typeof e=="object"}var Su=UEe,REe=Cu,DEe=Su,MEe="[object Symbol]";function QEe(e){return typeof e=="symbol"||DEe(e)&&REe(e)==MEe}var Zg=QEe,$Ee=no,HEe=Zg,VEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zEe=/^\w*$/;function KEe(e,t){if($Ee(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||HEe(e)?!0:zEe.test(e)||!VEe.test(e)||t!=null&&e in Object(t)}var hI=KEe;function WEe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var uA=WEe;const Jg=en(uA);var GEe=Cu,qEe=uA,YEe="[object AsyncFunction]",XEe="[object Function]",ZEe="[object GeneratorFunction]",JEe="[object Proxy]";function eke(e){if(!qEe(e))return!1;var t=GEe(e);return t==XEe||t==ZEe||t==YEe||t==JEe}var AI=eke;const ir=en(AI);var tke=xd,rke=tke["__core-js_shared__"],nke=rke,IS=nke,BM=function(){var e=/[^.]+$/.exec(IS&&IS.keys&&IS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ske(e){return!!BM&&BM in e}var ike=ske,ake=Function.prototype,oke=ake.toString;function lke(e){if(e!=null){try{return oke.call(e)}catch{}try{return e+""}catch{}}return""}var mZ=lke,cke=AI,dke=ike,uke=uA,hke=mZ,Ake=/[\\^$.*+?()[\]{}|]/g,fke=/^\[object .+?Constructor\]$/,mke=Function.prototype,pke=Object.prototype,gke=mke.toString,xke=pke.hasOwnProperty,yke=RegExp("^"+gke.call(xke).replace(Ake,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vke(e){if(!uke(e)||dke(e))return!1;var t=cke(e)?yke:fke;return t.test(hke(e))}var bke=vke;function wke(e,t){return e==null?void 0:e[t]}var jke=wke,Nke=bke,_ke=jke;function Cke(e,t){var r=_ke(e,t);return Nke(r)?r:void 0}var cm=Cke,Ske=cm,Bke=Ske(Object,"create"),g5=Bke,EM=g5;function Eke(){this.__data__=EM?EM(null):{},this.size=0}var kke=Eke;function Pke(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ike=Pke,Tke=g5,Oke="__lodash_hash_undefined__",Lke=Object.prototype,Fke=Lke.hasOwnProperty;function Uke(e){var t=this.__data__;if(Tke){var r=t[e];return r===Oke?void 0:r}return Fke.call(t,e)?t[e]:void 0}var Rke=Uke,Dke=g5,Mke=Object.prototype,Qke=Mke.hasOwnProperty;function $ke(e){var t=this.__data__;return Dke?t[e]!==void 0:Qke.call(t,e)}var Hke=$ke,Vke=g5,zke="__lodash_hash_undefined__";function Kke(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Vke&&t===void 0?zke:t,this}var Wke=Kke,Gke=kke,qke=Ike,Yke=Rke,Xke=Hke,Zke=Wke;function e0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}e0.prototype.clear=Gke;e0.prototype.delete=qke;e0.prototype.get=Yke;e0.prototype.has=Xke;e0.prototype.set=Zke;var Jke=e0;function e3e(){this.__data__=[],this.size=0}var t3e=e3e;function r3e(e,t){return e===t||e!==e&&t!==t}var fI=r3e,n3e=fI;function s3e(e,t){for(var r=e.length;r--;)if(n3e(e[r][0],t))return r;return-1}var x5=s3e,i3e=x5,a3e=Array.prototype,o3e=a3e.splice;function l3e(e){var t=this.__data__,r=i3e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():o3e.call(t,r,1),--this.size,!0}var c3e=l3e,d3e=x5;function u3e(e){var t=this.__data__,r=d3e(t,e);return r<0?void 0:t[r][1]}var h3e=u3e,A3e=x5;function f3e(e){return A3e(this.__data__,e)>-1}var m3e=f3e,p3e=x5;function g3e(e,t){var r=this.__data__,n=p3e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var x3e=g3e,y3e=t3e,v3e=c3e,b3e=h3e,w3e=m3e,j3e=x3e;function t0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}t0.prototype.clear=y3e;t0.prototype.delete=v3e;t0.prototype.get=b3e;t0.prototype.has=w3e;t0.prototype.set=j3e;var y5=t0,N3e=cm,_3e=xd,C3e=N3e(_3e,"Map"),mI=C3e,kM=Jke,S3e=y5,B3e=mI;function E3e(){this.size=0,this.__data__={hash:new kM,map:new(B3e||S3e),string:new kM}}var k3e=E3e;function P3e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var I3e=P3e,T3e=I3e;function O3e(e,t){var r=e.__data__;return T3e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var v5=O3e,L3e=v5;function F3e(e){var t=L3e(this,e).delete(e);return this.size-=t?1:0,t}var U3e=F3e,R3e=v5;function D3e(e){return R3e(this,e).get(e)}var M3e=D3e,Q3e=v5;function $3e(e){return Q3e(this,e).has(e)}var H3e=$3e,V3e=v5;function z3e(e,t){var r=V3e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var K3e=z3e,W3e=k3e,G3e=U3e,q3e=M3e,Y3e=H3e,X3e=K3e;function r0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}r0.prototype.clear=W3e;r0.prototype.delete=G3e;r0.prototype.get=q3e;r0.prototype.has=Y3e;r0.prototype.set=X3e;var pI=r0,pZ=pI,Z3e="Expected a function";function gI(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Z3e);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(gI.Cache||pZ),r}gI.Cache=pZ;var gZ=gI;const J3e=en(gZ);var ePe=gZ,tPe=500;function rPe(e){var t=ePe(e,function(n){return r.size===tPe&&r.clear(),n}),r=t.cache;return t}var nPe=rPe,sPe=nPe,iPe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aPe=/\\(\\)?/g,oPe=sPe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(iPe,function(r,n,i,a){t.push(i?a.replace(aPe,"$1"):n||r)}),t}),lPe=oPe;function cPe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var xI=cPe,PM=qv,dPe=xI,uPe=no,hPe=Zg,IM=PM?PM.prototype:void 0,TM=IM?IM.toString:void 0;function xZ(e){if(typeof e=="string")return e;if(uPe(e))return dPe(e,xZ)+"";if(hPe(e))return TM?TM.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var APe=xZ,fPe=APe;function mPe(e){return e==null?"":fPe(e)}var yZ=mPe,pPe=no,gPe=hI,xPe=lPe,yPe=yZ;function vPe(e,t){return pPe(e)?e:gPe(e,t)?[e]:xPe(yPe(e))}var vZ=vPe,bPe=Zg;function wPe(e){if(typeof e=="string"||bPe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var b5=wPe,jPe=vZ,NPe=b5;function _Pe(e,t){t=jPe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[NPe(t[r++])];return r&&r==n?e:void 0}var yI=_Pe,CPe=yI;function SPe(e,t,r){var n=e==null?void 0:CPe(e,t);return n===void 0?r:n}var bZ=SPe;const Eo=en(bZ);function BPe(e){return e==null}var EPe=BPe;const fr=en(EPe);var kPe=Cu,PPe=no,IPe=Su,TPe="[object String]";function OPe(e){return typeof e=="string"||!PPe(e)&&IPe(e)&&kPe(e)==TPe}var LPe=OPe;const Kf=en(LPe);var wZ={exports:{}},vn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI=Symbol.for("react.element"),bI=Symbol.for("react.portal"),w5=Symbol.for("react.fragment"),j5=Symbol.for("react.strict_mode"),N5=Symbol.for("react.profiler"),_5=Symbol.for("react.provider"),C5=Symbol.for("react.context"),FPe=Symbol.for("react.server_context"),S5=Symbol.for("react.forward_ref"),B5=Symbol.for("react.suspense"),E5=Symbol.for("react.suspense_list"),k5=Symbol.for("react.memo"),P5=Symbol.for("react.lazy"),UPe=Symbol.for("react.offscreen"),jZ;jZ=Symbol.for("react.module.reference");function bl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vI:switch(e=e.type,e){case w5:case N5:case j5:case B5:case E5:return e;default:switch(e=e&&e.$$typeof,e){case FPe:case C5:case S5:case P5:case k5:case _5:return e;default:return t}}case bI:return t}}}vn.ContextConsumer=C5;vn.ContextProvider=_5;vn.Element=vI;vn.ForwardRef=S5;vn.Fragment=w5;vn.Lazy=P5;vn.Memo=k5;vn.Portal=bI;vn.Profiler=N5;vn.StrictMode=j5;vn.Suspense=B5;vn.SuspenseList=E5;vn.isAsyncMode=function(){return!1};vn.isConcurrentMode=function(){return!1};vn.isContextConsumer=function(e){return bl(e)===C5};vn.isContextProvider=function(e){return bl(e)===_5};vn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vI};vn.isForwardRef=function(e){return bl(e)===S5};vn.isFragment=function(e){return bl(e)===w5};vn.isLazy=function(e){return bl(e)===P5};vn.isMemo=function(e){return bl(e)===k5};vn.isPortal=function(e){return bl(e)===bI};vn.isProfiler=function(e){return bl(e)===N5};vn.isStrictMode=function(e){return bl(e)===j5};vn.isSuspense=function(e){return bl(e)===B5};vn.isSuspenseList=function(e){return bl(e)===E5};vn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===w5||e===N5||e===j5||e===B5||e===E5||e===UPe||typeof e=="object"&&e!==null&&(e.$$typeof===P5||e.$$typeof===k5||e.$$typeof===_5||e.$$typeof===C5||e.$$typeof===S5||e.$$typeof===jZ||e.getModuleId!==void 0)};vn.typeOf=bl;wZ.exports=vn;var RPe=wZ.exports,DPe=Cu,MPe=Su,QPe="[object Number]";function $Pe(e){return typeof e=="number"||MPe(e)&&DPe(e)==QPe}var NZ=$Pe;const HPe=en(NZ);var VPe=NZ;function zPe(e){return VPe(e)&&e!=+e}var KPe=zPe;const n0=en(KPe);var Na=function(t){return t===0?0:t>0?1:-1},sf=function(t){return Kf(t)&&t.indexOf("%")===t.length-1},wt=function(t){return HPe(t)&&!n0(t)},WPe=function(t){return fr(t)},pi=function(t){return wt(t)||Kf(t)},GPe=0,dm=function(t){var r=++GPe;return"".concat(t||"").concat(r)},_a=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!wt(t)&&!Kf(t))return n;var a;if(sf(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return n0(a)&&(a=n),i&&a>r&&(a=r),a},gh=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},qPe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},fi=function(t,r){return wt(t)&&wt(r)?function(n){return t+n*(r-t)}:function(){return r}};function J2(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Eo(n,t))===r})}var YPe=function(t,r){return wt(t)&&wt(r)?t-r:Kf(t)&&Kf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function $p(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function DE(e){"@babel/helpers - typeof";return DE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DE(e)}var XPe=["viewBox","children"],ZPe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OM=["points","pathLength"],TS={svg:XPe,polygon:OM,polyline:OM},wI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ej=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!Jg(n))return null;var i={};return Object.keys(n).forEach(function(a){wI.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},JPe=function(t,r,n){return function(i){return t(r,n,i),null}},Wf=function(t,r,n){if(!Jg(t)||DE(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];wI.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=JPe(o,r,n))}),i},e6e=["children"],t6e=["children"];function LM(e,t){if(e==null)return{};var r=r6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ME(e){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ME(e)}var FM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},iu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},UM=null,OS=null,jI=function e(t){if(t===UM&&Array.isArray(OS))return OS;var r=[];return j.Children.forEach(t,function(n){fr(n)||(RPe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),OS=r,UM=t,r};function ko(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return iu(i)}):n=[iu(t)],jI(e).forEach(function(i){var a=Eo(i,"type.displayName")||Eo(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function bo(e,t){var r=ko(e,t);return r&&r[0]}var RM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!wt(n)||n<=0||!wt(i)||i<=0)},n6e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],s6e=function(t){return t&&t.type&&Kf(t.type)&&n6e.indexOf(t.type)>=0},_Z=function(t){return t&&ME(t)==="object"&&"clipDot"in t},i6e=function(t,r,n,i){var a,o=(a=TS==null?void 0:TS[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ir(t)&&(i&&o.includes(r)||ZPe.includes(r))||n&&wI.includes(r)},Zt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(j.isValidElement(t)&&(i=t.props),!Jg(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;i6e((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},QE=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return DM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!DM(a,o))return!1}return!0},DM=function(t,r){if(fr(t)&&fr(r))return!0;if(!fr(t)&&!fr(r)){var n=t.props||{},i=n.children,a=LM(n,e6e),o=r.props||{},l=o.children,c=LM(o,t6e);return i&&l?$p(a,c)&&QE(i,l):!i&&!l?$p(a,c):!1}return!1},MM=function(t,r){var n=[],i={};return jI(t).forEach(function(a,o){if(s6e(a))n.push(a);else if(a){var l=iu(a.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!i[l])){var A=d(a,l,o);n.push(A),i[l]=!0}}}),n},a6e=function(t){var r=t&&t.type;return r&&FM[r]?FM[r]:null},o6e=function(t,r){return jI(r).indexOf(t)},l6e=["children","width","height","viewBox","className","style","title","desc"];function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(this,arguments)}function c6e(e,t){if(e==null)return{};var r=d6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HE(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,d=c6e(e,l6e),u=i||{width:r,height:n,x:0,y:0},A=pr("recharts-surface",a);return Ce.createElement("svg",$E({},Zt(d,!0,"svg"),{className:A,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ce.createElement("title",null,l),Ce.createElement("desc",null,c),t)}var u6e=["children","className"];function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VE.apply(this,arguments)}function h6e(e,t){if(e==null)return{};var r=A6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Tr=Ce.forwardRef(function(e,t){var r=e.children,n=e.className,i=h6e(e,u6e),a=pr("recharts-layer",n);return Ce.createElement("g",VE({className:a},Zt(i,!0),{ref:t}),r)}),lc=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function f6e(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var m6e=f6e,p6e=m6e;function g6e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:p6e(e,t,r)}var x6e=g6e,y6e="\\ud800-\\udfff",v6e="\\u0300-\\u036f",b6e="\\ufe20-\\ufe2f",w6e="\\u20d0-\\u20ff",j6e=v6e+b6e+w6e,N6e="\\ufe0e\\ufe0f",_6e="\\u200d",C6e=RegExp("["+_6e+y6e+j6e+N6e+"]");function S6e(e){return C6e.test(e)}var CZ=S6e;function B6e(e){return e.split("")}var E6e=B6e,SZ="\\ud800-\\udfff",k6e="\\u0300-\\u036f",P6e="\\ufe20-\\ufe2f",I6e="\\u20d0-\\u20ff",T6e=k6e+P6e+I6e,O6e="\\ufe0e\\ufe0f",L6e="["+SZ+"]",zE="["+T6e+"]",KE="\\ud83c[\\udffb-\\udfff]",F6e="(?:"+zE+"|"+KE+")",BZ="[^"+SZ+"]",EZ="(?:\\ud83c[\\udde6-\\uddff]){2}",kZ="[\\ud800-\\udbff][\\udc00-\\udfff]",U6e="\\u200d",PZ=F6e+"?",IZ="["+O6e+"]?",R6e="(?:"+U6e+"(?:"+[BZ,EZ,kZ].join("|")+")"+IZ+PZ+")*",D6e=IZ+PZ+R6e,M6e="(?:"+[BZ+zE+"?",zE,EZ,kZ,L6e].join("|")+")",Q6e=RegExp(KE+"(?="+KE+")|"+M6e+D6e,"g");function $6e(e){return e.match(Q6e)||[]}var H6e=$6e,V6e=E6e,z6e=CZ,K6e=H6e;function W6e(e){return z6e(e)?K6e(e):V6e(e)}var G6e=W6e,q6e=x6e,Y6e=CZ,X6e=G6e,Z6e=yZ;function J6e(e){return function(t){t=Z6e(t);var r=Y6e(t)?X6e(t):void 0,n=r?r[0]:t.charAt(0),i=r?q6e(r,1).join(""):t.slice(1);return n[e]()+i}}var eIe=J6e,tIe=eIe,rIe=tIe("toUpperCase"),nIe=rIe;const I5=en(nIe);function Rn(e){return function(){return e}}const TZ=Math.cos,tj=Math.sin,wc=Math.sqrt,rj=Math.PI,T5=2*rj,WE=Math.PI,GE=2*WE,$A=1e-6,sIe=GE-$A;function OZ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function iIe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OZ;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class aIe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OZ:iIe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,d=i-r,u=o-t,A=l-r,f=u*u+A*A;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>$A)if(!(Math.abs(A*c-d*u)>$A)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=i-l,g=c*c+d*d,v=m*m+x*x,y=Math.sqrt(g),b=Math.sqrt(f),w=a*Math.tan((WE-Math.acos((g+f-v)/(2*y*b)))/2),_=w/b,N=w/y;Math.abs(_-1)>$A&&this._append`L${t+_*u},${r+_*A}`,this._append`A${a},${a},0,0,${+(A*m>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=t+l,u=r+c,A=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>$A||Math.abs(this._y1-u)>$A)&&this._append`L${d},${u}`,n&&(f<0&&(f=f%GE+GE),f>sIe?this._append`A${n},${n},0,1,${A},${t-l},${r-c}A${n},${n},0,1,${A},${this._x1=d},${this._y1=u}`:f>$A&&this._append`A${n},${n},0,${+(f>=WE)},${A},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function NI(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new aIe(t)}function _I(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LZ(e){this._context=e}LZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function O5(e){return new LZ(e)}function FZ(e){return e[0]}function UZ(e){return e[1]}function RZ(e,t){var r=Rn(!0),n=null,i=O5,a=null,o=NI(l);e=typeof e=="function"?e:e===void 0?FZ:Rn(e),t=typeof t=="function"?t:t===void 0?UZ:Rn(t);function l(c){var d,u=(c=_I(c)).length,A,f=!1,m;for(n==null&&(a=i(m=o())),d=0;d<=u;++d)!(d<u&&r(A=c[d],d,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(A,d,c),+t(A,d,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Rn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Rn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Rn(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function Iw(e,t,r){var n=null,i=Rn(!0),a=null,o=O5,l=null,c=NI(d);e=typeof e=="function"?e:e===void 0?FZ:Rn(+e),t=typeof t=="function"?t:Rn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UZ:Rn(+r);function d(A){var f,m,x,g=(A=_I(A)).length,v,y=!1,b,w=new Array(g),_=new Array(g);for(a==null&&(l=o(b=c())),f=0;f<=g;++f){if(!(f<g&&i(v=A[f],f,A))===y)if(y=!y)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=f-1;x>=m;--x)l.point(w[x],_[x]);l.lineEnd(),l.areaEnd()}y&&(w[f]=+e(v,f,A),_[f]=+t(v,f,A),l.point(n?+n(v,f,A):w[f],r?+r(v,f,A):_[f]))}if(b)return l=null,b+""||null}function u(){return RZ().defined(i).curve(o).context(a)}return d.x=function(A){return arguments.length?(e=typeof A=="function"?A:Rn(+A),n=null,d):e},d.x0=function(A){return arguments.length?(e=typeof A=="function"?A:Rn(+A),d):e},d.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Rn(+A),d):n},d.y=function(A){return arguments.length?(t=typeof A=="function"?A:Rn(+A),r=null,d):t},d.y0=function(A){return arguments.length?(t=typeof A=="function"?A:Rn(+A),d):t},d.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:Rn(+A),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(A){return arguments.length?(i=typeof A=="function"?A:Rn(!!A),d):i},d.curve=function(A){return arguments.length?(o=A,a!=null&&(l=o(a)),d):o},d.context=function(A){return arguments.length?(A==null?a=l=null:l=o(a=A),d):a},d}class DZ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function oIe(e){return new DZ(e,!0)}function lIe(e){return new DZ(e,!1)}const CI={draw(e,t){const r=wc(t/rj);e.moveTo(r,0),e.arc(0,0,r,0,T5)}},cIe={draw(e,t){const r=wc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},MZ=wc(1/3),dIe=MZ*2,uIe={draw(e,t){const r=wc(t/dIe),n=r*MZ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},hIe={draw(e,t){const r=wc(t),n=-r/2;e.rect(n,n,r,r)}},AIe=.8908130915292852,QZ=tj(rj/10)/tj(7*rj/10),fIe=tj(T5/10)*QZ,mIe=-TZ(T5/10)*QZ,pIe={draw(e,t){const r=wc(t*AIe),n=fIe*r,i=mIe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=T5*a/5,l=TZ(o),c=tj(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},LS=wc(3),gIe={draw(e,t){const r=-wc(t/(LS*3));e.moveTo(0,r*2),e.lineTo(-LS*r,-r),e.lineTo(LS*r,-r),e.closePath()}},Xo=-.5,Zo=wc(3)/2,qE=1/wc(12),xIe=(qE/2+1)*3,yIe={draw(e,t){const r=wc(t/xIe),n=r/2,i=r*qE,a=n,o=r*qE+r,l=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Xo*n-Zo*i,Zo*n+Xo*i),e.lineTo(Xo*a-Zo*o,Zo*a+Xo*o),e.lineTo(Xo*l-Zo*c,Zo*l+Xo*c),e.lineTo(Xo*n+Zo*i,Xo*i-Zo*n),e.lineTo(Xo*a+Zo*o,Xo*o-Zo*a),e.lineTo(Xo*l+Zo*c,Xo*c-Zo*l),e.closePath()}};function vIe(e,t){let r=null,n=NI(i);e=typeof e=="function"?e:Rn(e||CI),t=typeof t=="function"?t:Rn(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Rn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Rn(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function nj(){}function sj(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $Z(e){this._context=e}$Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bIe(e){return new $Z(e)}function HZ(e){this._context=e}HZ.prototype={areaStart:nj,areaEnd:nj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wIe(e){return new HZ(e)}function VZ(e){this._context=e}VZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:sj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jIe(e){return new VZ(e)}function zZ(e){this._context=e}zZ.prototype={areaStart:nj,areaEnd:nj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function NIe(e){return new zZ(e)}function QM(e){return e<0?-1:1}function $M(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(QM(a)+QM(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function HM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function FS(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function ij(e){this._context=e}ij.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:FS(this,this._t0,HM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,FS(this,HM(this,r=$M(this,e,t)),r);break;default:FS(this,this._t0,r=$M(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function KZ(e){this._context=new WZ(e)}(KZ.prototype=Object.create(ij.prototype)).point=function(e,t){ij.prototype.point.call(this,t,e)};function WZ(e){this._context=e}WZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function _Ie(e){return new ij(e)}function CIe(e){return new KZ(e)}function GZ(e){this._context=e}GZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=VM(e),i=VM(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function VM(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function SIe(e){return new GZ(e)}function L5(e,t){this._context=e,this._t=t}L5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function BIe(e){return new L5(e,.5)}function EIe(e){return new L5(e,0)}function kIe(e){return new L5(e,1)}function og(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,l=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function YE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function PIe(e,t){return e[t]}function IIe(e){const t=[];return t.key=e,t}function TIe(){var e=Rn([]),t=YE,r=og,n=PIe;function i(a){var o=Array.from(e.apply(this,arguments),IIe),l,c=o.length,d=-1,u;for(const A of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(A,o[l].key,d,a)]).data=A;for(l=0,u=_I(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Rn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Rn(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?YE:typeof a=="function"?a:Rn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??og,i):r},i}function OIe(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}og(e,t)}}function LIe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}og(e,t)}}function FIe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],A=u[n][1]||0,f=u[n-1][1]||0,m=(A-f)/2,x=0;x<l;++x){var g=e[t[x]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}c+=A,d+=m*A}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,og(e,t)}}function Fy(e){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(e)}var UIe=["type","size","sizeType"];function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XE.apply(this,arguments)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){RIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RIe(e,t,r){return t=DIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DIe(e){var t=MIe(e,"string");return Fy(t)=="symbol"?t:t+""}function MIe(e,t){if(Fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QIe(e,t){if(e==null)return{};var r=$Ie(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Ie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qZ={symbolCircle:CI,symbolCross:cIe,symbolDiamond:uIe,symbolSquare:hIe,symbolStar:pIe,symbolTriangle:gIe,symbolWye:yIe},HIe=Math.PI/180,VIe=function(t){var r="symbol".concat(I5(t));return qZ[r]||CI},zIe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*HIe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},KIe=function(t,r){qZ["symbol".concat(I5(t))]=r},SI=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=QIe(t,UIe),d=KM(KM({},c),{},{type:n,size:a,sizeType:l}),u=function(){var v=VIe(n),y=vIe().type(v).size(zIe(a,l,n));return y()},A=d.className,f=d.cx,m=d.cy,x=Zt(d,!0);return f===+f&&m===+m&&a===+a?Ce.createElement("path",XE({},x,{className:pr("recharts-symbols",A),transform:"translate(".concat(f,", ").concat(m,")"),d:u()})):null};SI.registerSymbol=KIe;function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZE.apply(this,arguments)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){Uy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XZ(n.key),n)}}function YIe(e,t,r){return t&&qIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XIe(e,t,r){return t=aj(t),ZIe(e,YZ()?Reflect.construct(t,r||[],aj(e).constructor):t.apply(e,r))}function ZIe(e,t){if(t&&(lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JIe(e)}function JIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YZ=function(){return!!e})()}function aj(e){return aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aj(e)}function eTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JE(e,t)}function Uy(e,t,r){return t=XZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XZ(e){var t=tTe(e,"string");return lg(t)=="symbol"?t:t+""}function tTe(e,t){if(lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jo=32,BI=function(e){function t(){return GIe(this,t),XIe(this,t,arguments)}return eTe(t,e),YIe(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Jo/2,o=Jo/6,l=Jo/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Ce.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Jo,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Ce.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Jo,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Ce.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Jo/8,"h").concat(Jo,"v").concat(Jo*3/4,"h").concat(-Jo,"z"),className:"recharts-legend-icon"});if(Ce.isValidElement(n.legendIcon)){var d=WIe({},n);return delete d.legendIcon,Ce.cloneElement(n.legendIcon,d)}return Ce.createElement(SI,{fill:c,cx:a,cy:a,size:Jo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,u={x:0,y:0,width:Jo,height:Jo},A={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,x){var g=m.formatter||c,v=pr(Uy(Uy({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=ir(m.value)?null:m.value;lc(!ir(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?d:m.color;return Ce.createElement("li",ZE({className:v,style:A,key:"legend-item-".concat(x)},Wf(n.props,m,x)),Ce.createElement(HE,{width:o,height:o,viewBox:u,style:f},n.renderIcon(m)),Ce.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(y,m,x):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Ce.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);Uy(BI,"displayName","Legend");Uy(BI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rTe=y5;function nTe(){this.__data__=new rTe,this.size=0}var sTe=nTe;function iTe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var aTe=iTe;function oTe(e){return this.__data__.get(e)}var lTe=oTe;function cTe(e){return this.__data__.has(e)}var dTe=cTe,uTe=y5,hTe=mI,ATe=pI,fTe=200;function mTe(e,t){var r=this.__data__;if(r instanceof uTe){var n=r.__data__;if(!hTe||n.length<fTe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ATe(n)}return r.set(e,t),this.size=r.size,this}var pTe=mTe,gTe=y5,xTe=sTe,yTe=aTe,vTe=lTe,bTe=dTe,wTe=pTe;function s0(e){var t=this.__data__=new gTe(e);this.size=t.size}s0.prototype.clear=xTe;s0.prototype.delete=yTe;s0.prototype.get=vTe;s0.prototype.has=bTe;s0.prototype.set=wTe;var ZZ=s0,jTe="__lodash_hash_undefined__";function NTe(e){return this.__data__.set(e,jTe),this}var _Te=NTe;function CTe(e){return this.__data__.has(e)}var STe=CTe,BTe=pI,ETe=_Te,kTe=STe;function oj(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new BTe;++t<r;)this.add(e[t])}oj.prototype.add=oj.prototype.push=ETe;oj.prototype.has=kTe;var JZ=oj;function PTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var eJ=PTe;function ITe(e,t){return e.has(t)}var tJ=ITe,TTe=JZ,OTe=eJ,LTe=tJ,FTe=1,UTe=2;function RTe(e,t,r,n,i,a){var o=r&FTe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var A=-1,f=!0,m=r&UTe?new TTe:void 0;for(a.set(e,t),a.set(t,e);++A<l;){var x=e[A],g=t[A];if(n)var v=o?n(g,x,A,t,e,a):n(x,g,A,e,t,a);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!OTe(t,function(y,b){if(!LTe(m,b)&&(x===y||i(x,y,r,n,a)))return m.push(b)})){f=!1;break}}else if(!(x===g||i(x,g,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var rJ=RTe,DTe=xd,MTe=DTe.Uint8Array,QTe=MTe;function $Te(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var HTe=$Te;function VTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var EI=VTe,GM=qv,qM=QTe,zTe=fI,KTe=rJ,WTe=HTe,GTe=EI,qTe=1,YTe=2,XTe="[object Boolean]",ZTe="[object Date]",JTe="[object Error]",eOe="[object Map]",tOe="[object Number]",rOe="[object RegExp]",nOe="[object Set]",sOe="[object String]",iOe="[object Symbol]",aOe="[object ArrayBuffer]",oOe="[object DataView]",YM=GM?GM.prototype:void 0,US=YM?YM.valueOf:void 0;function lOe(e,t,r,n,i,a,o){switch(r){case oOe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case aOe:return!(e.byteLength!=t.byteLength||!a(new qM(e),new qM(t)));case XTe:case ZTe:case tOe:return zTe(+e,+t);case JTe:return e.name==t.name&&e.message==t.message;case rOe:case sOe:return e==t+"";case eOe:var l=WTe;case nOe:var c=n&qTe;if(l||(l=GTe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=YTe,o.set(e,t);var u=KTe(l(e),l(t),n,i,a,o);return o.delete(e),u;case iOe:if(US)return US.call(e)==US.call(t)}return!1}var cOe=lOe;function dOe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var nJ=dOe,uOe=nJ,hOe=no;function AOe(e,t,r){var n=t(e);return hOe(e)?n:uOe(n,r(e))}var fOe=AOe;function mOe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var pOe=mOe;function gOe(){return[]}var xOe=gOe,yOe=pOe,vOe=xOe,bOe=Object.prototype,wOe=bOe.propertyIsEnumerable,XM=Object.getOwnPropertySymbols,jOe=XM?function(e){return e==null?[]:(e=Object(e),yOe(XM(e),function(t){return wOe.call(e,t)}))}:vOe,NOe=jOe;function _Oe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var COe=_Oe,SOe=Cu,BOe=Su,EOe="[object Arguments]";function kOe(e){return BOe(e)&&SOe(e)==EOe}var POe=kOe,ZM=POe,IOe=Su,sJ=Object.prototype,TOe=sJ.hasOwnProperty,OOe=sJ.propertyIsEnumerable,LOe=ZM(function(){return arguments}())?ZM:function(e){return IOe(e)&&TOe.call(e,"callee")&&!OOe.call(e,"callee")},kI=LOe,lj={exports:{}};function FOe(){return!1}var UOe=FOe;lj.exports;(function(e,t){var r=xd,n=UOe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(lj,lj.exports);var iJ=lj.exports,ROe=9007199254740991,DOe=/^(?:0|[1-9]\d*)$/;function MOe(e,t){var r=typeof e;return t=t??ROe,!!t&&(r=="number"||r!="symbol"&&DOe.test(e))&&e>-1&&e%1==0&&e<t}var PI=MOe,QOe=9007199254740991;function $Oe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=QOe}var II=$Oe,HOe=Cu,VOe=II,zOe=Su,KOe="[object Arguments]",WOe="[object Array]",GOe="[object Boolean]",qOe="[object Date]",YOe="[object Error]",XOe="[object Function]",ZOe="[object Map]",JOe="[object Number]",eLe="[object Object]",tLe="[object RegExp]",rLe="[object Set]",nLe="[object String]",sLe="[object WeakMap]",iLe="[object ArrayBuffer]",aLe="[object DataView]",oLe="[object Float32Array]",lLe="[object Float64Array]",cLe="[object Int8Array]",dLe="[object Int16Array]",uLe="[object Int32Array]",hLe="[object Uint8Array]",ALe="[object Uint8ClampedArray]",fLe="[object Uint16Array]",mLe="[object Uint32Array]",Wn={};Wn[oLe]=Wn[lLe]=Wn[cLe]=Wn[dLe]=Wn[uLe]=Wn[hLe]=Wn[ALe]=Wn[fLe]=Wn[mLe]=!0;Wn[KOe]=Wn[WOe]=Wn[iLe]=Wn[GOe]=Wn[aLe]=Wn[qOe]=Wn[YOe]=Wn[XOe]=Wn[ZOe]=Wn[JOe]=Wn[eLe]=Wn[tLe]=Wn[rLe]=Wn[nLe]=Wn[sLe]=!1;function pLe(e){return zOe(e)&&VOe(e.length)&&!!Wn[HOe(e)]}var gLe=pLe;function xLe(e){return function(t){return e(t)}}var aJ=xLe,cj={exports:{}};cj.exports;(function(e,t){var r=AZ,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(cj,cj.exports);var yLe=cj.exports,vLe=gLe,bLe=aJ,JM=yLe,e8=JM&&JM.isTypedArray,wLe=e8?bLe(e8):vLe,oJ=wLe,jLe=COe,NLe=kI,_Le=no,CLe=iJ,SLe=PI,BLe=oJ,ELe=Object.prototype,kLe=ELe.hasOwnProperty;function PLe(e,t){var r=_Le(e),n=!r&&NLe(e),i=!r&&!n&&CLe(e),a=!r&&!n&&!i&&BLe(e),o=r||n||i||a,l=o?jLe(e.length,String):[],c=l.length;for(var d in e)(t||kLe.call(e,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||SLe(d,c)))&&l.push(d);return l}var ILe=PLe,TLe=Object.prototype;function OLe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||TLe;return e===r}var LLe=OLe;function FLe(e,t){return function(r){return e(t(r))}}var lJ=FLe,ULe=lJ,RLe=ULe(Object.keys,Object),DLe=RLe,MLe=LLe,QLe=DLe,$Le=Object.prototype,HLe=$Le.hasOwnProperty;function VLe(e){if(!MLe(e))return QLe(e);var t=[];for(var r in Object(e))HLe.call(e,r)&&r!="constructor"&&t.push(r);return t}var zLe=VLe,KLe=AI,WLe=II;function GLe(e){return e!=null&&WLe(e.length)&&!KLe(e)}var Yv=GLe,qLe=ILe,YLe=zLe,XLe=Yv;function ZLe(e){return XLe(e)?qLe(e):YLe(e)}var F5=ZLe,JLe=fOe,eFe=NOe,tFe=F5;function rFe(e){return JLe(e,tFe,eFe)}var nFe=rFe,t8=nFe,sFe=1,iFe=Object.prototype,aFe=iFe.hasOwnProperty;function oFe(e,t,r,n,i,a){var o=r&sFe,l=t8(e),c=l.length,d=t8(t),u=d.length;if(c!=u&&!o)return!1;for(var A=c;A--;){var f=l[A];if(!(o?f in t:aFe.call(t,f)))return!1}var m=a.get(e),x=a.get(t);if(m&&x)return m==t&&x==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=o;++A<c;){f=l[A];var y=e[f],b=t[f];if(n)var w=o?n(b,y,f,t,e,a):n(y,b,f,e,t,a);if(!(w===void 0?y===b||i(y,b,r,n,a):w)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var _=e.constructor,N=t.constructor;_!=N&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof N=="function"&&N instanceof N)&&(g=!1)}return a.delete(e),a.delete(t),g}var lFe=oFe,cFe=cm,dFe=xd,uFe=cFe(dFe,"DataView"),hFe=uFe,AFe=cm,fFe=xd,mFe=AFe(fFe,"Promise"),pFe=mFe,gFe=cm,xFe=xd,yFe=gFe(xFe,"Set"),cJ=yFe,vFe=cm,bFe=xd,wFe=vFe(bFe,"WeakMap"),jFe=wFe,ek=hFe,tk=mI,rk=pFe,nk=cJ,sk=jFe,dJ=Cu,i0=mZ,r8="[object Map]",NFe="[object Object]",n8="[object Promise]",s8="[object Set]",i8="[object WeakMap]",a8="[object DataView]",_Fe=i0(ek),CFe=i0(tk),SFe=i0(rk),BFe=i0(nk),EFe=i0(sk),HA=dJ;(ek&&HA(new ek(new ArrayBuffer(1)))!=a8||tk&&HA(new tk)!=r8||rk&&HA(rk.resolve())!=n8||nk&&HA(new nk)!=s8||sk&&HA(new sk)!=i8)&&(HA=function(e){var t=dJ(e),r=t==NFe?e.constructor:void 0,n=r?i0(r):"";if(n)switch(n){case _Fe:return a8;case CFe:return r8;case SFe:return n8;case BFe:return s8;case EFe:return i8}return t});var kFe=HA,RS=ZZ,PFe=rJ,IFe=cOe,TFe=lFe,o8=kFe,l8=no,c8=iJ,OFe=oJ,LFe=1,d8="[object Arguments]",u8="[object Array]",Tw="[object Object]",FFe=Object.prototype,h8=FFe.hasOwnProperty;function UFe(e,t,r,n,i,a){var o=l8(e),l=l8(t),c=o?u8:o8(e),d=l?u8:o8(t);c=c==d8?Tw:c,d=d==d8?Tw:d;var u=c==Tw,A=d==Tw,f=c==d;if(f&&c8(e)){if(!c8(t))return!1;o=!0,u=!1}if(f&&!u)return a||(a=new RS),o||OFe(e)?PFe(e,t,r,n,i,a):IFe(e,t,c,r,n,i,a);if(!(r&LFe)){var m=u&&h8.call(e,"__wrapped__"),x=A&&h8.call(t,"__wrapped__");if(m||x){var g=m?e.value():e,v=x?t.value():t;return a||(a=new RS),i(g,v,r,n,a)}}return f?(a||(a=new RS),TFe(e,t,r,n,i,a)):!1}var RFe=UFe,DFe=RFe,A8=Su;function uJ(e,t,r,n,i){return e===t?!0:e==null||t==null||!A8(e)&&!A8(t)?e!==e&&t!==t:DFe(e,t,r,n,uJ,i)}var TI=uJ,MFe=ZZ,QFe=TI,$Fe=1,HFe=2;function VFe(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var A=new MFe;if(n)var f=n(d,u,c,e,t,A);if(!(f===void 0?QFe(u,d,$Fe|HFe,n,A):f))return!1}}return!0}var zFe=VFe,KFe=uA;function WFe(e){return e===e&&!KFe(e)}var hJ=WFe,GFe=hJ,qFe=F5;function YFe(e){for(var t=qFe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,GFe(i)]}return t}var XFe=YFe;function ZFe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var AJ=ZFe,JFe=zFe,eUe=XFe,tUe=AJ;function rUe(e){var t=eUe(e);return t.length==1&&t[0][2]?tUe(t[0][0],t[0][1]):function(r){return r===e||JFe(r,e,t)}}var nUe=rUe;function sUe(e,t){return e!=null&&t in Object(e)}var iUe=sUe,aUe=vZ,oUe=kI,lUe=no,cUe=PI,dUe=II,uUe=b5;function hUe(e,t,r){t=aUe(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=uUe(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&dUe(i)&&cUe(o,i)&&(lUe(e)||oUe(e)))}var AUe=hUe,fUe=iUe,mUe=AUe;function pUe(e,t){return e!=null&&mUe(e,t,fUe)}var gUe=pUe,xUe=TI,yUe=bZ,vUe=gUe,bUe=hI,wUe=hJ,jUe=AJ,NUe=b5,_Ue=1,CUe=2;function SUe(e,t){return bUe(e)&&wUe(t)?jUe(NUe(e),t):function(r){var n=yUe(r,e);return n===void 0&&n===t?vUe(r,e):xUe(t,n,_Ue|CUe)}}var BUe=SUe;function EUe(e){return e}var a0=EUe;function kUe(e){return function(t){return t==null?void 0:t[e]}}var PUe=kUe,IUe=yI;function TUe(e){return function(t){return IUe(t,e)}}var OUe=TUe,LUe=PUe,FUe=OUe,UUe=hI,RUe=b5;function DUe(e){return UUe(e)?LUe(RUe(e)):FUe(e)}var MUe=DUe,QUe=nUe,$Ue=BUe,HUe=a0,VUe=no,zUe=MUe;function KUe(e){return typeof e=="function"?e:e==null?HUe:typeof e=="object"?VUe(e)?$Ue(e[0],e[1]):QUe(e):zUe(e)}var yd=KUe;function WUe(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var fJ=WUe;function GUe(e){return e!==e}var qUe=GUe;function YUe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var XUe=YUe,ZUe=fJ,JUe=qUe,eRe=XUe;function tRe(e,t,r){return t===t?eRe(e,t,r):ZUe(e,JUe,r)}var rRe=tRe,nRe=rRe;function sRe(e,t){var r=e==null?0:e.length;return!!r&&nRe(e,t,0)>-1}var iRe=sRe;function aRe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var oRe=aRe;function lRe(){}var cRe=lRe,DS=cJ,dRe=cRe,uRe=EI,hRe=1/0,ARe=DS&&1/uRe(new DS([,-0]))[1]==hRe?function(e){return new DS(e)}:dRe,fRe=ARe,mRe=JZ,pRe=iRe,gRe=oRe,xRe=tJ,yRe=fRe,vRe=EI,bRe=200;function wRe(e,t,r){var n=-1,i=pRe,a=e.length,o=!0,l=[],c=l;if(r)o=!1,i=gRe;else if(a>=bRe){var d=t?null:yRe(e);if(d)return vRe(d);o=!1,i=xRe,c=new mRe}else c=t?[]:l;e:for(;++n<a;){var u=e[n],A=t?t(u):u;if(u=r||u!==0?u:0,o&&A===A){for(var f=c.length;f--;)if(c[f]===A)continue e;t&&c.push(A),l.push(u)}else i(c,A,r)||(c!==l&&c.push(A),l.push(u))}return l}var jRe=wRe,NRe=yd,_Re=jRe;function CRe(e,t){return e&&e.length?_Re(e,NRe(t)):[]}var SRe=CRe;const f8=en(SRe);function mJ(e,t,r){return t===!0?f8(e,r):ir(t)?f8(e,t):e}function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}var BRe=["ref"];function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){U5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ERe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gJ(n.key),n)}}function kRe(e,t,r){return t&&p8(e.prototype,t),r&&p8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PRe(e,t,r){return t=dj(t),IRe(e,pJ()?Reflect.construct(t,r||[],dj(e).constructor):t.apply(e,r))}function IRe(e,t){if(t&&(cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TRe(e)}function TRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pJ=function(){return!!e})()}function dj(e){return dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dj(e)}function ORe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ik(e,t)}function ik(e,t){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ik(e,t)}function U5(e,t,r){return t=gJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=LRe(e,"string");return cg(t)=="symbol"?t:t+""}function LRe(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FRe(e,t){if(e==null)return{};var r=URe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function URe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RRe(e){return e.value}function DRe(e,t){if(Ce.isValidElement(e))return Ce.cloneElement(e,t);if(typeof e=="function")return Ce.createElement(e,t);t.ref;var r=FRe(t,BRe);return Ce.createElement(BI,r)}var g8=1,$h=function(e){function t(){var r;ERe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=PRe(this,t,[].concat(i)),U5(r,"lastBoundingBox",{width:-1,height:-1}),r}return ORe(t,e),kRe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>g8||Math.abs(i.height-this.lastBoundingBox.height)>g8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Od({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,u=i.chartHeight,A,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();A={left:((d||0)-m.width)/2}}else A=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();f={top:((u||0)-x.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Od(Od({},A),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,u=i.payload,A=Od(Od({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ce.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:function(m){n.wrapperNode=m}},DRe(a,Od(Od({},this.props),{},{payload:mJ(u,d,RRe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Od(Od({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&wt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(j.PureComponent);U5($h,"displayName","Legend");U5($h,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var x8=qv,MRe=kI,QRe=no,y8=x8?x8.isConcatSpreadable:void 0;function $Re(e){return QRe(e)||MRe(e)||!!(y8&&e&&e[y8])}var HRe=$Re,VRe=nJ,zRe=HRe;function xJ(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=zRe),i||(i=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?xJ(l,t-1,r,n,i):VRe(i,l):n||(i[i.length]=l)}return i}var yJ=xJ;function KRe(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(a[c],c,a)===!1)break}return t}}var WRe=KRe,GRe=WRe,qRe=GRe(),YRe=qRe,XRe=YRe,ZRe=F5;function JRe(e,t){return e&&XRe(e,t,ZRe)}var vJ=JRe,eDe=Yv;function tDe(e,t){return function(r,n){if(r==null)return r;if(!eDe(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var rDe=tDe,nDe=vJ,sDe=rDe,iDe=sDe(nDe),OI=iDe,aDe=OI,oDe=Yv;function lDe(e,t){var r=-1,n=oDe(e)?Array(e.length):[];return aDe(e,function(i,a,o){n[++r]=t(i,a,o)}),n}var bJ=lDe;function cDe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var dDe=cDe,v8=Zg;function uDe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=v8(e),o=t!==void 0,l=t===null,c=t===t,d=v8(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!d&&e<t||d&&r&&i&&!n&&!a||l&&r&&i||!o&&i||!c)return-1}return 0}var hDe=uDe,ADe=hDe;function fDe(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,l=r.length;++n<o;){var c=ADe(i[n],a[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return e.index-t.index}var mDe=fDe,MS=xI,pDe=yI,gDe=yd,xDe=bJ,yDe=dDe,vDe=aJ,bDe=mDe,wDe=a0,jDe=no;function NDe(e,t,r){t.length?t=MS(t,function(a){return jDe(a)?function(o){return pDe(o,a.length===1?a[0]:a)}:a}):t=[wDe];var n=-1;t=MS(t,vDe(gDe));var i=xDe(e,function(a,o,l){var c=MS(t,function(d){return d(a)});return{criteria:c,index:++n,value:a}});return yDe(i,function(a,o){return bDe(a,o,r)})}var _De=NDe;function CDe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var SDe=CDe,BDe=SDe,b8=Math.max;function EDe(e,t,r){return t=b8(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=b8(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),BDe(e,this,l)}}var kDe=EDe;function PDe(e){return function(){return e}}var IDe=PDe,TDe=cm,ODe=function(){try{var e=TDe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wJ=ODe,LDe=IDe,w8=wJ,FDe=a0,UDe=w8?function(e,t){return w8(e,"toString",{configurable:!0,enumerable:!1,value:LDe(t),writable:!0})}:FDe,RDe=UDe,DDe=800,MDe=16,QDe=Date.now;function $De(e){var t=0,r=0;return function(){var n=QDe(),i=MDe-(n-r);if(r=n,i>0){if(++t>=DDe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var HDe=$De,VDe=RDe,zDe=HDe,KDe=zDe(VDe),WDe=KDe,GDe=a0,qDe=kDe,YDe=WDe;function XDe(e,t){return YDe(qDe(e,t,GDe),e+"")}var ZDe=XDe,JDe=fI,eMe=Yv,tMe=PI,rMe=uA;function nMe(e,t,r){if(!rMe(r))return!1;var n=typeof t;return(n=="number"?eMe(r)&&tMe(t,r.length):n=="string"&&t in r)?JDe(r[t],e):!1}var R5=nMe,sMe=yJ,iMe=_De,aMe=ZDe,j8=R5,oMe=aMe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&j8(e,t[0],t[1])?t=[]:r>2&&j8(t[0],t[1],t[2])&&(t=[t[0]]),iMe(e,sMe(t,1),[])}),lMe=oMe;const LI=en(lMe);function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ak.apply(this,arguments)}function cMe(e,t){return AMe(e)||hMe(e,t)||uMe(e,t)||dMe()}function dMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uMe(e,t){if(e){if(typeof e=="string")return N8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N8(e,t)}}function N8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function AMe(e){if(Array.isArray(e))return e}function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(n){fMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fMe(e,t,r){return t=mMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mMe(e){var t=pMe(e,"string");return Ry(t)=="symbol"?t:t+""}function pMe(e,t){if(Ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gMe(e){return Array.isArray(e)&&pi(e[0])&&pi(e[1])?e.join(" ~ "):e}var xMe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,A=t.formatter,f=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,g=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(u&&u.length){var O={padding:0,margin:0},R=(f?LI(u,f):u).map(function(U,$){if(U.type==="none")return null;var K=QS({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),H=U.formatter||A||gMe,z=U.value,te=U.name,ee=z,Z=te;if(H&&ee!=null&&Z!=null){var V=H(z,te,U,$,u);if(Array.isArray(V)){var X=cMe(V,2);ee=X[0],Z=X[1]}else ee=V}return Ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:K},pi(Z)?Ce.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,pi(Z)?Ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ce.createElement("span",{className:"recharts-tooltip-item-value"},ee),Ce.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return Ce.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},_=QS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=QS({margin:0},d),C=!fr(g),P=C?g:"",E=pr("recharts-default-tooltip",m),I=pr("recharts-tooltip-label",x);C&&v&&u!==void 0&&u!==null&&(P=v(g,u));var F=b?{role:"status","aria-live":"assertive"}:{};return Ce.createElement("div",ak({className:E,style:_},F),Ce.createElement("p",{className:I,style:N},Ce.isValidElement(P)?P:"".concat(P)),w())};function Dy(e){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}function Ow(e,t,r){return t=yMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yMe(e){var t=vMe(e,"string");return Dy(t)=="symbol"?t:t+""}function vMe(e,t){if(Dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W0="recharts-tooltip-wrapper",bMe={visibility:"hidden"};function wMe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return pr(W0,Ow(Ow(Ow(Ow({},"".concat(W0,"-right"),wt(r)&&t&&wt(t.x)&&r>=t.x),"".concat(W0,"-left"),wt(r)&&t&&wt(t.x)&&r<t.x),"".concat(W0,"-bottom"),wt(n)&&t&&wt(t.y)&&n>=t.y),"".concat(W0,"-top"),wt(n)&&t&&wt(t.y)&&n<t.y))}function C8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&wt(a[n]))return a[n];var u=r[n]-l-i,A=r[n]+i;if(t[n])return o[n]?u:A;if(o[n]){var f=u,m=c[n];return f<m?Math.max(A,c[n]):Math.max(u,c[n])}var x=A+l,g=c[n]+d;return x>g?Math.max(u,c[n]):Math.max(A,c[n])}function jMe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function NMe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,A;return o.height>0&&o.width>0&&r?(u=C8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),A=C8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=jMe({translateX:u,translateY:A,useTranslate3d:l})):d=bMe,{cssProperties:d,cssClasses:wMe({translateX:u,translateY:A,coordinate:r})}}function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){lk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NJ(n.key),n)}}function SMe(e,t,r){return t&&CMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BMe(e,t,r){return t=uj(t),EMe(e,jJ()?Reflect.construct(t,r||[],uj(e).constructor):t.apply(e,r))}function EMe(e,t){if(t&&(dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kMe(e)}function kMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jJ=function(){return!!e})()}function uj(e){return uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uj(e)}function PMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ok(e,t)}function ok(e,t){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ok(e,t)}function lk(e,t,r){return t=NJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NJ(e){var t=IMe(e,"string");return dg(t)=="symbol"?t:t+""}function IMe(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E8=1,TMe=function(e){function t(){var r;_Me(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=BMe(this,t,[].concat(i)),lk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lk(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return PMe(t,e),SMe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>E8||Math.abs(n.height-this.state.lastBoundingBox.height)>E8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,u=i.coordinate,A=i.hasPayload,f=i.isAnimationActive,m=i.offset,x=i.position,g=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,w=NMe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),_=w.cssClasses,N=w.cssProperties,C=B8(B8({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&A?"visible":"hidden",position:"absolute",top:0,left:0},b);return Ce.createElement("div",{tabIndex:-1,className:_,style:C,ref:function(E){n.wrapperNode=E}},d)}}])}(j.PureComponent),OMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hA={isSsr:OMe()};function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function k8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(r),!0).forEach(function(n){FI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CJ(n.key),n)}}function UMe(e,t,r){return t&&FMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RMe(e,t,r){return t=hj(t),DMe(e,_J()?Reflect.construct(t,r||[],hj(e).constructor):t.apply(e,r))}function DMe(e,t){if(t&&(ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MMe(e)}function MMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_J=function(){return!!e})()}function hj(e){return hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hj(e)}function QMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ck(e,t)}function FI(e,t,r){return t=CJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CJ(e){var t=$Me(e,"string");return ug(t)=="symbol"?t:t+""}function $Me(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HMe(e){return e.dataKey}function VMe(e,t){return Ce.isValidElement(e)?Ce.cloneElement(e,t):typeof e=="function"?Ce.createElement(e,t):Ce.createElement(xMe,t)}var ia=function(e){function t(){return LMe(this,t),RMe(this,t,arguments)}return QMe(t,e),UMe(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,u=i.coordinate,A=i.filterNull,f=i.isAnimationActive,m=i.offset,x=i.payload,g=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,N=x??[];A&&N.length&&(N=mJ(x.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),g,HMe));var C=N.length>0;return Ce.createElement(TMe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:u,hasPayload:C,offset:m,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:_},VMe(d,P8(P8({},this.props),{},{payload:N})))}}])}(j.PureComponent);FI(ia,"displayName","Tooltip");FI(ia,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hA.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zMe=xd,KMe=function(){return zMe.Date.now()},WMe=KMe,GMe=/\s/;function qMe(e){for(var t=e.length;t--&&GMe.test(e.charAt(t)););return t}var YMe=qMe,XMe=YMe,ZMe=/^\s+/;function JMe(e){return e&&e.slice(0,XMe(e)+1).replace(ZMe,"")}var e8e=JMe,t8e=e8e,I8=uA,r8e=Zg,T8=NaN,n8e=/^[-+]0x[0-9a-f]+$/i,s8e=/^0b[01]+$/i,i8e=/^0o[0-7]+$/i,a8e=parseInt;function o8e(e){if(typeof e=="number")return e;if(r8e(e))return T8;if(I8(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=I8(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=t8e(e);var r=s8e.test(e);return r||i8e.test(e)?a8e(e.slice(2),r?2:8):n8e.test(e)?T8:+e}var SJ=o8e,l8e=uA,$S=WMe,O8=SJ,c8e="Expected a function",d8e=Math.max,u8e=Math.min;function h8e(e,t,r){var n,i,a,o,l,c,d=0,u=!1,A=!1,f=!0;if(typeof e!="function")throw new TypeError(c8e);t=O8(t)||0,l8e(r)&&(u=!!r.leading,A="maxWait"in r,a=A?d8e(O8(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function m(C){var P=n,E=i;return n=i=void 0,d=C,o=e.apply(E,P),o}function x(C){return d=C,l=setTimeout(y,t),u?m(C):o}function g(C){var P=C-c,E=C-d,I=t-P;return A?u8e(I,a-E):I}function v(C){var P=C-c,E=C-d;return c===void 0||P>=t||P<0||A&&E>=a}function y(){var C=$S();if(v(C))return b(C);l=setTimeout(y,g(C))}function b(C){return l=void 0,f&&n?m(C):(n=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,n=c=i=l=void 0}function _(){return l===void 0?o:b($S())}function N(){var C=$S(),P=v(C);if(n=arguments,i=this,c=C,P){if(l===void 0)return x(c);if(A)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return N.cancel=w,N.flush=_,N}var A8e=h8e,f8e=A8e,m8e=uA,p8e="Expected a function";function g8e(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(p8e);return m8e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),f8e(e,t,{leading:n,maxWait:t,trailing:i})}var x8e=g8e;const BJ=en(x8e);function My(e){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(e)}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){y8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y8e(e,t,r){return t=v8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8e(e){var t=b8e(e,"string");return My(t)=="symbol"?t:t+""}function b8e(e,t){if(My(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w8e(e,t){return C8e(e)||_8e(e,t)||N8e(e,t)||j8e()}function j8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N8e(e,t){if(e){if(typeof e=="string")return F8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F8(e,t)}}function F8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function C8e(e){if(Array.isArray(e))return e}var af=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,A=e.minHeight,f=e.maxHeight,m=e.children,x=e.debounce,g=x===void 0?0:x,v=e.id,y=e.className,b=e.onResize,w=e.style,_=w===void 0?{}:w,N=j.useRef(null),C=j.useRef();C.current=b,j.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var P=j.useState({containerWidth:i.width,containerHeight:i.height}),E=w8e(P,2),I=E[0],F=E[1],B=j.useCallback(function(R,U){F(function($){var K=Math.round(R),H=Math.round(U);return $.containerWidth===K&&$.containerHeight===H?$:{containerWidth:K,containerHeight:H}})},[]);j.useEffect(function(){var R=function(te){var ee,Z=te[0].contentRect,V=Z.width,X=Z.height;B(V,X),(ee=C.current)===null||ee===void 0||ee.call(C,V,X)};g>0&&(R=BJ(R,g,{trailing:!0,leading:!1}));var U=new ResizeObserver(R),$=N.current.getBoundingClientRect(),K=$.width,H=$.height;return B(K,H),U.observe(N.current),function(){U.disconnect()}},[B,g]);var O=j.useMemo(function(){var R=I.containerWidth,U=I.containerHeight;if(R<0||U<0)return null;lc(sf(o)||sf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),lc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=sf(o)?R:o,K=sf(c)?U:c;r&&r>0&&($?K=$/r:K&&($=K*r),f&&K>f&&(K=f)),lc($>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,K,o,c,u,A,r);var H=!Array.isArray(m)&&iu(m.type).endsWith("Chart");return Ce.Children.map(m,function(z){return Ce.isValidElement(z)?j.cloneElement(z,Lw({width:$,height:K},H?{style:Lw({height:"100%",width:"100%",maxHeight:K,maxWidth:$},z.props.style)}:{})):z})},[r,m,c,f,A,u,I,o]);return Ce.createElement("div",{id:v?"".concat(v):void 0,className:pr("recharts-responsive-container",y),style:Lw(Lw({},_),{},{width:o,height:c,minWidth:u,minHeight:A,maxHeight:f}),ref:N},O)}),D5=function(t){return null};D5.displayName="Cell";function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}function U8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(r),!0).forEach(function(n){S8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S8e(e,t,r){return t=B8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8e(e){var t=E8e(e,"string");return Qy(t)=="symbol"?t:t+""}function E8e(e,t){if(Qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm={widthCache:{},cacheCount:0},k8e=2e3,P8e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},R8="recharts_measurement_span";function I8e(e){var t=dk({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Kx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hA.isSsr)return{width:0,height:0};var n=I8e(r),i=JSON.stringify({text:t,copyStyle:n});if(Qm.widthCache[i])return Qm.widthCache[i];try{var a=document.getElementById(R8);a||(a=document.createElement("span"),a.setAttribute("id",R8),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=dk(dk({},P8e),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Qm.widthCache[i]=c,++Qm.cacheCount>k8e&&(Qm.cacheCount=0,Qm.widthCache={}),c}catch{return{width:0,height:0}}},T8e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function $y(e){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$y(e)}function Aj(e,t){return U8e(e)||F8e(e,t)||L8e(e,t)||O8e()}function O8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L8e(e,t){if(e){if(typeof e=="string")return D8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D8(e,t)}}function D8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function U8e(e){if(Array.isArray(e))return e}function R8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M8e(n.key),n)}}function D8e(e,t,r){return t&&M8(e.prototype,t),r&&M8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M8e(e){var t=Q8e(e,"string");return $y(t)=="symbol"?t:t+""}function Q8e(e,t){if($y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Q8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$8e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,H8e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},V8e=Object.keys(EJ),mp="NaN";function z8e(e,t){return e*EJ[t]}var Fw=function(){function e(t,r){R8e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!$8e.test(r)&&(this.num=NaN,this.unit=""),V8e.includes(r)&&(this.num=z8e(t,r),this.unit="px")}return D8e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=H8e.exec(r))!==null&&n!==void 0?n:[],a=Aj(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function kJ(e){if(e.includes(mp))return mp;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Q8.exec(t))!==null&&r!==void 0?r:[],i=Aj(n,4),a=i[1],o=i[2],l=i[3],c=Fw.parse(a??""),d=Fw.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return mp;t=t.replace(Q8,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var A,f=(A=$8.exec(t))!==null&&A!==void 0?A:[],m=Aj(f,4),x=m[1],g=m[2],v=m[3],y=Fw.parse(x??""),b=Fw.parse(v??""),w=g==="+"?y.add(b):y.subtract(b);if(w.isNaN())return mp;t=t.replace($8,w.toString())}return t}var H8=/\(([^()]*)\)/;function K8e(e){for(var t=e;t.includes("(");){var r=H8.exec(t),n=Aj(r,2),i=n[1];t=t.replace(H8,kJ(i))}return t}function W8e(e){var t=e.replace(/\s+/g,"");return t=K8e(t),t=kJ(t),t}function G8e(e){try{return W8e(e)}catch{return mp}}function HS(e){var t=G8e(e.slice(5,-1));return t===mp?"":t}var q8e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Y8e=["dx","dy","angle","className","breakAll"];function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}function V8(e,t){if(e==null)return{};var r=X8e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z8(e,t){return t7e(e)||e7e(e,t)||J8e(e,t)||Z8e()}function Z8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J8e(e,t){if(e){if(typeof e=="string")return K8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K8(e,t)}}function K8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function t7e(e){if(Array.isArray(e))return e}var PJ=/[ \f\n\r\t\v\u2028\u2029]+/,IJ=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];fr(r)||(n?a=r.toString().split(""):a=r.toString().split(PJ));var o=a.map(function(c){return{word:c,width:Kx(c,i).width}}),l=n?0:Kx("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},r7e=function(t,r,n,i,a){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=wt(o),A=l,f=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(K,H){var z=H.word,te=H.width,ee=K[K.length-1];if(ee&&(i==null||a||ee.width+te+n<Number(i)))ee.words.push(z),ee.width+=te+n;else{var Z={words:[z],width:te};K.push(Z)}return K},[])},m=f(r),x=function($){return $.reduce(function(K,H){return K.width>H.width?K:H})};if(!u)return m;for(var g="",v=function($){var K=A.slice(0,$),H=IJ({breakAll:d,style:c,children:K+g}).wordsWithComputedWidth,z=f(H),te=z.length>o||x(z).width>Number(i);return[te,z]},y=0,b=A.length-1,w=0,_;y<=b&&w<=A.length-1;){var N=Math.floor((y+b)/2),C=N-1,P=v(C),E=z8(P,2),I=E[0],F=E[1],B=v(N),O=z8(B,1),R=O[0];if(!I&&!R&&(y=N+1),I&&R&&(b=N-1),!I&&R){_=F;break}w++}return _||m},W8=function(t){var r=fr(t)?[]:t.toString().split(PJ);return[{words:r}]},n7e=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!hA.isSsr){var c,d,u=IJ({breakAll:o,children:i,style:a});if(u){var A=u.wordsWithComputedWidth,f=u.spaceWidth;c=A,d=f}else return W8(i);return r7e({breakAll:o,children:i,maxLines:l,style:a},c,d,r,n)}return W8(i)},G8="#808080",Gf=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,A=u===void 0?!1:u,f=t.textAnchor,m=f===void 0?"start":f,x=t.verticalAnchor,g=x===void 0?"end":x,v=t.fill,y=v===void 0?G8:v,b=V8(t,q8e),w=j.useMemo(function(){return n7e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:A,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,A,b.style,b.width]),_=b.dx,N=b.dy,C=b.angle,P=b.className,E=b.breakAll,I=V8(b,Y8e);if(!pi(n)||!pi(a))return null;var F=n+(wt(_)?_:0),B=a+(wt(N)?N:0),O;switch(g){case"start":O=HS("calc(".concat(d,")"));break;case"middle":O=HS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:O=HS("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(A){var U=w[0].width,$=b.width;R.push("scale(".concat((wt($)?$/U:1)/U,")"))}return C&&R.push("rotate(".concat(C,", ").concat(F,", ").concat(B,")")),R.length&&(I.transform=R.join(" ")),Ce.createElement("text",uk({},Zt(I,!0),{x:F,y:B,className:pr("recharts-text",P),textAnchor:m,fill:y.includes("url")?G8:y}),w.map(function(K,H){var z=K.words.join(E?"":" ");return Ce.createElement("tspan",{x:F,dy:H===0?O:l,key:"".concat(z,"-").concat(H)},z)}))};function Hh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UI(e){let t,r,n;e.length!==2?(t=Hh,r=(l,c)=>Hh(e(l),c),n=(l,c)=>e(l)-c):(t=e===Hh||e===s7e?e:i7e,r=e,n=e);function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const A=d+u>>>1;r(l[A],c)<0?d=A+1:u=A}while(d<u)}return d}function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const A=d+u>>>1;r(l[A],c)<=0?d=A+1:u=A}while(d<u)}return d}function o(l,c,d=0,u=l.length){const A=i(l,c,d,u-1);return A>d&&n(l[A-1],c)>-n(l[A],c)?A-1:A}return{left:i,center:o,right:a}}function i7e(){return 0}function TJ(e){return e===null?NaN:+e}function*a7e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const o7e=UI(Hh),Xv=o7e.right;UI(TJ).center;class q8 extends Map{constructor(t,r=d7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Y8(this,t))}has(t){return super.has(Y8(this,t))}set(t,r){return super.set(l7e(this,t),r)}delete(t){return super.delete(c7e(this,t))}}function Y8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function l7e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function c7e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function d7e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function u7e(e=Hh){if(e===Hh)return OJ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function OJ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const h7e=Math.sqrt(50),A7e=Math.sqrt(10),f7e=Math.sqrt(2);function fj(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=h7e?10:a>=A7e?5:a>=f7e?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?fj(e,t,r*2):[l,c,d]}function hk(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?fj(t,e,r):fj(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function Ak(e,t,r){return t=+t,e=+e,r=+r,fj(e,t,r)[2]}function fk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Ak(t,e,r):Ak(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function X8(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Z8(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LJ(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?OJ:u7e(i);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),A=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*A*(c-A)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*A/c+f)),x=Math.min(n,Math.floor(t+(c-d)*A/c+f));LJ(e,t,m,x,i)}const a=e[t];let o=r,l=n;for(G0(e,r,t),i(e[n],a)>0&&G0(e,r,n);o<l;){for(G0(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?G0(e,r,l):(++l,G0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function G0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m7e(e,t,r){if(e=Float64Array.from(a7e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Z8(e);if(t>=1)return X8(e);var n,i=(n-1)*t,a=Math.floor(i),o=X8(LJ(e,a).subarray(0,a+1)),l=Z8(e.subarray(a+1));return o+(l-o)*(i-a)}}function p7e(e,t,r=TJ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function g7e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function wl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mk=Symbol("implicit");function RI(){var e=new q8,t=[],r=[],n=mk;function i(a){let o=e.get(a);if(o===void 0){if(n!==mk)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new q8;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return RI(t,r).unknown(n)},wl.apply(i,arguments),i}function Hy(){var e=RI().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function A(){var f=t().length,m=i<n,x=m?i:n,g=m?n:i;a=(g-x)/Math.max(1,f-c+d*2),l&&(a=Math.floor(a)),x+=(g-x-a*(f-c))*u,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=g7e(f).map(function(y){return x+a*y});return r(m?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),A()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,A()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,A()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(l=!!f,A()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),A()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),A()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,A()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),A()):u},e.copy=function(){return Hy(t(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(u)},wl.apply(A(),arguments)}function FJ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return FJ(t())},e}function Wx(){return FJ(Hy.apply(null,arguments).paddingInner(1))}function DI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function UJ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zv(){}var Vy=.7,mj=1/Vy,Hp="\\s*([+-]?\\d+)\\s*",zy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x7e=/^#([0-9a-f]{3,8})$/,y7e=new RegExp(`^rgb\\(${Hp},${Hp},${Hp}\\)$`),v7e=new RegExp(`^rgb\\(${ed},${ed},${ed}\\)$`),b7e=new RegExp(`^rgba\\(${Hp},${Hp},${Hp},${zy}\\)$`),w7e=new RegExp(`^rgba\\(${ed},${ed},${ed},${zy}\\)$`),j7e=new RegExp(`^hsl\\(${zy},${ed},${ed}\\)$`),N7e=new RegExp(`^hsla\\(${zy},${ed},${ed},${zy}\\)$`),J8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DI(Zv,Ky,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:e7,formatHex:e7,formatHex8:_7e,formatHsl:C7e,formatRgb:t7,toString:t7});function e7(){return this.rgb().formatHex()}function _7e(){return this.rgb().formatHex8()}function C7e(){return RJ(this).formatHsl()}function t7(){return this.rgb().formatRgb()}function Ky(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=x7e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?r7(t):r===3?new Ga(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Uw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Uw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=y7e.exec(e))?new Ga(t[1],t[2],t[3],1):(t=v7e.exec(e))?new Ga(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=b7e.exec(e))?Uw(t[1],t[2],t[3],t[4]):(t=w7e.exec(e))?Uw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=j7e.exec(e))?i7(t[1],t[2]/100,t[3]/100,1):(t=N7e.exec(e))?i7(t[1],t[2]/100,t[3]/100,t[4]):J8.hasOwnProperty(e)?r7(J8[e]):e==="transparent"?new Ga(NaN,NaN,NaN,0):null}function r7(e){return new Ga(e>>16&255,e>>8&255,e&255,1)}function Uw(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ga(e,t,r,n)}function S7e(e){return e instanceof Zv||(e=Ky(e)),e?(e=e.rgb(),new Ga(e.r,e.g,e.b,e.opacity)):new Ga}function pk(e,t,r,n){return arguments.length===1?S7e(e):new Ga(e,t,r,n??1)}function Ga(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}DI(Ga,pk,UJ(Zv,{brighter(e){return e=e==null?mj:Math.pow(mj,e),new Ga(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vy:Math.pow(Vy,e),new Ga(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ga(wf(this.r),wf(this.g),wf(this.b),pj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n7,formatHex:n7,formatHex8:B7e,formatRgb:s7,toString:s7}));function n7(){return`#${of(this.r)}${of(this.g)}${of(this.b)}`}function B7e(){return`#${of(this.r)}${of(this.g)}${of(this.b)}${of((isNaN(this.opacity)?1:this.opacity)*255)}`}function s7(){const e=pj(this.opacity);return`${e===1?"rgb(":"rgba("}${wf(this.r)}, ${wf(this.g)}, ${wf(this.b)}${e===1?")":`, ${e})`}`}function pj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function of(e){return e=wf(e),(e<16?"0":"")+e.toString(16)}function i7(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tc(e,t,r,n)}function RJ(e){if(e instanceof tc)return new tc(e.h,e.s,e.l,e.opacity);if(e instanceof Zv||(e=Ky(e)),!e)return new tc;if(e instanceof tc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new tc(o,l,c,e.opacity)}function E7e(e,t,r,n){return arguments.length===1?RJ(e):new tc(e,t,r,n??1)}function tc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}DI(tc,E7e,UJ(Zv,{brighter(e){return e=e==null?mj:Math.pow(mj,e),new tc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vy:Math.pow(Vy,e),new tc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ga(VS(e>=240?e-240:e+120,i,n),VS(e,i,n),VS(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new tc(a7(this.h),Rw(this.s),Rw(this.l),pj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pj(this.opacity);return`${e===1?"hsl(":"hsla("}${a7(this.h)}, ${Rw(this.s)*100}%, ${Rw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function a7(e){return e=(e||0)%360,e<0?e+360:e}function Rw(e){return Math.max(0,Math.min(1,e||0))}function VS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const MI=e=>()=>e;function k7e(e,t){return function(r){return e+r*t}}function P7e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function I7e(e){return(e=+e)==1?DJ:function(t,r){return r-t?P7e(t,r,e):MI(isNaN(t)?r:t)}}function DJ(e,t){var r=t-e;return r?k7e(e,r):MI(isNaN(e)?t:e)}const o7=function e(t){var r=I7e(t);function n(i,a){var o=r((i=pk(i)).r,(a=pk(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),d=DJ(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=c(u),i.opacity=d(u),i+""}}return n.gamma=e,n}(1);function T7e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function O7e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function L7e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=o0(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function F7e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function gj(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function U7e(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=o0(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var gk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zS=new RegExp(gk.source,"g");function R7e(e){return function(){return e}}function D7e(e){return function(t){return e(t)+""}}function M7e(e,t){var r=gk.lastIndex=zS.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=gk.exec(e))&&(i=zS.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:gj(n,i)})),r=zS.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?D7e(c[0].x):R7e(t):(t=c.length,function(d){for(var u=0,A;u<t;++u)l[(A=c[u]).i]=A.x(d);return l.join("")})}function o0(e,t){var r=typeof t,n;return t==null||r==="boolean"?MI(t):(r==="number"?gj:r==="string"?(n=Ky(t))?(t=n,o7):M7e:t instanceof Ky?o7:t instanceof Date?F7e:O7e(t)?T7e:Array.isArray(t)?L7e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?U7e:gj)(e,t)}function QI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Q7e(e,t){t===void 0&&(t=e,e=o0);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function $7e(e){return function(){return e}}function xj(e){return+e}var l7=[0,1];function Ca(e){return e}function xk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:$7e(isNaN(t)?NaN:.5)}function H7e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function V7e(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=xk(i,n),a=r(o,a)):(n=xk(n,i),a=r(a,o)),function(l){return a(n(l))}}function z7e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=xk(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=Xv(e,l,1,n)-1;return a[c](i[c](l))}}function Jv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function M5(){var e=l7,t=l7,r=o0,n,i,a,o=Ca,l,c,d;function u(){var f=Math.min(e.length,t.length);return o!==Ca&&(o=H7e(e[0],e[f-1])),l=f>2?z7e:V7e,c=d=null,A}function A(f){return f==null||isNaN(f=+f)?a:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return A.invert=function(f){return o(i((d||(d=l(t,e.map(n),gj)))(f)))},A.domain=function(f){return arguments.length?(e=Array.from(f,xj),u()):e.slice()},A.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},A.rangeRound=function(f){return t=Array.from(f),r=QI,u()},A.clamp=function(f){return arguments.length?(o=f?!0:Ca,u()):o!==Ca},A.interpolate=function(f){return arguments.length?(r=f,u()):r},A.unknown=function(f){return arguments.length?(a=f,A):a},function(f,m){return n=f,i=m,u()}}function $I(){return M5()(Ca,Ca)}function K7e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yj(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function hg(e){return e=yj(Math.abs(e)),e?e[1]:NaN}function W7e(e,t){return function(r,n){for(var i=r.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function G7e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var q7e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wy(e){if(!(t=q7e.exec(e)))throw new Error("invalid format: "+e);var t;return new HI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wy.prototype=HI.prototype;function HI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}HI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Y7e(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var MJ;function X7e(e,t){var r=yj(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(MJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+yj(e,Math.max(0,t+a-1))[0]}function c7(e,t){var r=yj(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const d7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:K7e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>c7(e*100,t),r:c7,s:X7e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function u7(e){return e}var h7=Array.prototype.map,A7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Z7e(e){var t=e.grouping===void 0||e.thousands===void 0?u7:W7e(h7.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?u7:G7e(h7.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(A){A=Wy(A);var f=A.fill,m=A.align,x=A.sign,g=A.symbol,v=A.zero,y=A.width,b=A.comma,w=A.precision,_=A.trim,N=A.type;N==="n"?(b=!0,N="g"):d7[N]||(w===void 0&&(w=12),_=!0,N="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=g==="$"?n:/[%p]/.test(N)?o:"",E=d7[N],I=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function F(B){var O=C,R=P,U,$,K;if(N==="c")R=E(B)+R,B="";else{B=+B;var H=B<0||1/B<0;if(B=isNaN(B)?c:E(Math.abs(B),w),_&&(B=Y7e(B)),H&&+B==0&&x!=="+"&&(H=!1),O=(H?x==="("?x:l:x==="-"||x==="("?"":x)+O,R=(N==="s"?A7[8+MJ/3]:"")+R+(H&&x==="("?")":""),I){for(U=-1,$=B.length;++U<$;)if(K=B.charCodeAt(U),48>K||K>57){R=(K===46?i+B.slice(U+1):B.slice(U))+R,B=B.slice(0,U);break}}}b&&!v&&(B=t(B,1/0));var z=O.length+B.length+R.length,te=z<y?new Array(y-z+1).join(f):"";switch(b&&v&&(B=t(te+B,te.length?y-R.length:1/0),te=""),m){case"<":B=O+B+R+te;break;case"=":B=O+te+B+R;break;case"^":B=te.slice(0,z=te.length>>1)+O+B+R+te.slice(z);break;default:B=te+O+B+R;break}return a(B)}return F.toString=function(){return A+""},F}function u(A,f){var m=d((A=Wy(A),A.type="f",A)),x=Math.max(-8,Math.min(8,Math.floor(hg(f)/3)))*3,g=Math.pow(10,-x),v=A7[8+x/3];return function(y){return m(g*y)+v}}return{format:d,formatPrefix:u}}var Dw,VI,QJ;J7e({thousands:",",grouping:[3],currency:["$",""]});function J7e(e){return Dw=Z7e(e),VI=Dw.format,QJ=Dw.formatPrefix,Dw}function eQe(e){return Math.max(0,-hg(Math.abs(e)))}function tQe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hg(t)/3)))*3-hg(Math.abs(e)))}function rQe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hg(t)-hg(e))+1}function $J(e,t,r,n){var i=fk(e,t,r),a;switch(n=Wy(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=tQe(i,o))&&(n.precision=a),QJ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=rQe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=eQe(i))&&(n.precision=a-(n.type==="%")*2);break}}return VI(n)}function AA(e){var t=e.domain;return e.ticks=function(r){var n=t();return hk(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return $J(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],l=n[a],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);u-- >0;){if(d=Ak(o,l,r),d===c)return n[i]=o,n[a]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function vj(){var e=$I();return e.copy=function(){return Jv(e,vj())},wl.apply(e,arguments),AA(e)}function HJ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,xj),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return HJ(e).unknown(t)},e=arguments.length?Array.from(e,xj):[0,1],AA(r)}function VJ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function f7(e){return Math.log(e)}function m7(e){return Math.exp(e)}function nQe(e){return-Math.log(-e)}function sQe(e){return-Math.exp(-e)}function iQe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function aQe(e){return e===10?iQe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oQe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function p7(e){return(t,r)=>-e(-t,r)}function zI(e){const t=e(f7,m7),r=t.domain;let n=10,i,a;function o(){return i=oQe(n),a=aQe(n),r()[0]<0?(i=p7(i),a=p7(a),e(nQe,sQe)):e(f7,m7),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const A=u<d;A&&([d,u]=[u,d]);let f=i(d),m=i(u),x,g;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),d>0){for(;f<=m;++f)for(x=1;x<n;++x)if(g=f<0?x/a(-f):x*a(f),!(g<d)){if(g>u)break;y.push(g)}}else for(;f<=m;++f)for(x=n-1;x>=1;--x)if(g=f>0?x/a(-f):x*a(f),!(g<d)){if(g>u)break;y.push(g)}y.length*2<v&&(y=hk(d,u,v))}else y=hk(f,m,Math.min(m-f,v)).map(a);return A?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Wy(c)).precision==null&&(c.trim=!0),c=VI(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let A=u/a(Math.round(i(u)));return A*n<n-.5&&(A*=n),A<=d?c(u):""}},t.nice=()=>r(VJ(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function zJ(){const e=zI(M5()).domain([1,10]);return e.copy=()=>Jv(e,zJ()).base(e.base()),wl.apply(e,arguments),e}function g7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function x7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function KI(e){var t=1,r=e(g7(t),x7(t));return r.constant=function(n){return arguments.length?e(g7(t=+n),x7(t)):t},AA(r)}function KJ(){var e=KI(M5());return e.copy=function(){return Jv(e,KJ()).constant(e.constant())},wl.apply(e,arguments)}function y7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lQe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cQe(e){return e<0?-e*e:e*e}function WI(e){var t=e(Ca,Ca),r=1;function n(){return r===1?e(Ca,Ca):r===.5?e(lQe,cQe):e(y7(r),y7(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},AA(t)}function GI(){var e=WI(M5());return e.copy=function(){return Jv(e,GI()).exponent(e.exponent())},wl.apply(e,arguments),e}function dQe(){return GI.apply(null,arguments).exponent(.5)}function v7(e){return Math.sign(e)*e*e}function uQe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WJ(){var e=$I(),t=[0,1],r=!1,n;function i(a){var o=uQe(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(v7(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,xj)).map(v7)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return WJ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},wl.apply(i,arguments),AA(i)}function GJ(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=p7e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Xv(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Hh),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return GJ().domain(e).range(t).unknown(n)},wl.apply(a,arguments)}function qJ(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Xv(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return qJ().domain([e,t]).range(i).unknown(a)},wl.apply(AA(o),arguments)}function YJ(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Xv(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return YJ().domain(e).range(t).unknown(r)},wl.apply(i,arguments)}const KS=new Date,WS=new Date;function xi(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return c},i.filter=a=>xi(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(KS.setTime(+a),WS.setTime(+o),e(KS),e(WS),Math.floor(r(KS,WS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const bj=xi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):bj);bj.range;const Gd=1e3,ul=Gd*60,qd=ul*60,xu=qd*24,qI=xu*7,b7=xu*30,GS=xu*365,lf=xi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gd)},(e,t)=>(t-e)/Gd,e=>e.getUTCSeconds());lf.range;const YI=xi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gd)},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getMinutes());YI.range;const XI=xi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getUTCMinutes());XI.range;const ZI=xi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gd-e.getMinutes()*ul)},(e,t)=>{e.setTime(+e+t*qd)},(e,t)=>(t-e)/qd,e=>e.getHours());ZI.range;const JI=xi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qd)},(e,t)=>(t-e)/qd,e=>e.getUTCHours());JI.range;const eb=xi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ul)/xu,e=>e.getDate()-1);eb.range;const Q5=xi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xu,e=>e.getUTCDate()-1);Q5.range;const XJ=xi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xu,e=>Math.floor(e/xu));XJ.range;function um(e){return xi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ul)/qI)}const $5=um(0),wj=um(1),hQe=um(2),AQe=um(3),Ag=um(4),fQe=um(5),mQe=um(6);$5.range;wj.range;hQe.range;AQe.range;Ag.range;fQe.range;mQe.range;function hm(e){return xi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/qI)}const H5=hm(0),jj=hm(1),pQe=hm(2),gQe=hm(3),fg=hm(4),xQe=hm(5),yQe=hm(6);H5.range;jj.range;pQe.range;gQe.range;fg.range;xQe.range;yQe.range;const eT=xi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());eT.range;const tT=xi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tT.range;const yu=xi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yu.range;const vu=xi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});vu.range;function ZJ(e,t,r,n,i,a){const o=[[lf,1,Gd],[lf,5,5*Gd],[lf,15,15*Gd],[lf,30,30*Gd],[a,1,ul],[a,5,5*ul],[a,15,15*ul],[a,30,30*ul],[i,1,qd],[i,3,3*qd],[i,6,6*qd],[i,12,12*qd],[n,1,xu],[n,2,2*xu],[r,1,qI],[t,1,b7],[t,3,3*b7],[e,1,GS]];function l(d,u,A){const f=u<d;f&&([d,u]=[u,d]);const m=A&&typeof A.range=="function"?A:c(d,u,A),x=m?m.range(d,+u+1):[];return f?x.reverse():x}function c(d,u,A){const f=Math.abs(u-d)/A,m=UI(([,,v])=>v).right(o,f);if(m===o.length)return e.every(fk(d/GS,u/GS,A));if(m===0)return bj.every(Math.max(fk(d,u,A),1));const[x,g]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return x.every(g)}return[l,c]}const[vQe,bQe]=ZJ(vu,tT,H5,XJ,JI,XI),[wQe,jQe]=ZJ(yu,eT,$5,eb,ZI,YI);function qS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function YS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function q0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function NQe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Y0(i),u=X0(i),A=Y0(a),f=X0(a),m=Y0(o),x=X0(o),g=Y0(l),v=X0(l),y=Y0(c),b=X0(c),w={a:H,A:z,b:te,B:ee,c:null,d:S7,e:S7,f:WQe,g:n$e,G:i$e,H:VQe,I:zQe,j:KQe,L:JJ,m:GQe,M:qQe,p:Z,q:V,Q:k7,s:P7,S:YQe,u:XQe,U:ZQe,V:JQe,w:e$e,W:t$e,x:null,X:null,y:r$e,Y:s$e,Z:a$e,"%":E7},_={a:X,A:W,b:ae,B:ie,c:null,d:B7,e:B7,f:d$e,g:v$e,G:w$e,H:o$e,I:l$e,j:c$e,L:tee,m:u$e,M:h$e,p:ce,q:be,Q:k7,s:P7,S:A$e,u:f$e,U:m$e,V:p$e,w:g$e,W:x$e,x:null,X:null,y:y$e,Y:b$e,Z:j$e,"%":E7},N={a:F,A:B,b:O,B:R,c:U,d:_7,e:_7,f:MQe,g:N7,G:j7,H:C7,I:C7,j:FQe,L:DQe,m:LQe,M:UQe,p:I,q:OQe,Q:$Qe,s:HQe,S:RQe,u:EQe,U:kQe,V:PQe,w:BQe,W:IQe,x:$,X:K,y:N7,Y:j7,Z:TQe,"%":QQe};w.x=C(r,w),w.X=C(n,w),w.c=C(t,w),_.x=C(r,_),_.X=C(n,_),_.c=C(t,_);function C(he,ge){return function(Se){var re=[],_e=-1,ue=0,J=he.length,fe,ye,Ie;for(Se instanceof Date||(Se=new Date(+Se));++_e<J;)he.charCodeAt(_e)===37&&(re.push(he.slice(ue,_e)),(ye=w7[fe=he.charAt(++_e)])!=null?fe=he.charAt(++_e):ye=fe==="e"?" ":"0",(Ie=ge[fe])&&(fe=Ie(Se,ye)),re.push(fe),ue=_e+1);return re.push(he.slice(ue,_e)),re.join("")}}function P(he,ge){return function(Se){var re=q0(1900,void 0,1),_e=E(re,he,Se+="",0),ue,J;if(_e!=Se.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(ge&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(ue=YS(q0(re.y,0,1)),J=ue.getUTCDay(),ue=J>4||J===0?jj.ceil(ue):jj(ue),ue=Q5.offset(ue,(re.V-1)*7),re.y=ue.getUTCFullYear(),re.m=ue.getUTCMonth(),re.d=ue.getUTCDate()+(re.w+6)%7):(ue=qS(q0(re.y,0,1)),J=ue.getDay(),ue=J>4||J===0?wj.ceil(ue):wj(ue),ue=eb.offset(ue,(re.V-1)*7),re.y=ue.getFullYear(),re.m=ue.getMonth(),re.d=ue.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),J="Z"in re?YS(q0(re.y,0,1)).getUTCDay():qS(q0(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(J+5)%7:re.w+re.U*7-(J+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,YS(re)):qS(re)}}function E(he,ge,Se,re){for(var _e=0,ue=ge.length,J=Se.length,fe,ye;_e<ue;){if(re>=J)return-1;if(fe=ge.charCodeAt(_e++),fe===37){if(fe=ge.charAt(_e++),ye=N[fe in w7?ge.charAt(_e++):fe],!ye||(re=ye(he,Se,re))<0)return-1}else if(fe!=Se.charCodeAt(re++))return-1}return re}function I(he,ge,Se){var re=d.exec(ge.slice(Se));return re?(he.p=u.get(re[0].toLowerCase()),Se+re[0].length):-1}function F(he,ge,Se){var re=m.exec(ge.slice(Se));return re?(he.w=x.get(re[0].toLowerCase()),Se+re[0].length):-1}function B(he,ge,Se){var re=A.exec(ge.slice(Se));return re?(he.w=f.get(re[0].toLowerCase()),Se+re[0].length):-1}function O(he,ge,Se){var re=y.exec(ge.slice(Se));return re?(he.m=b.get(re[0].toLowerCase()),Se+re[0].length):-1}function R(he,ge,Se){var re=g.exec(ge.slice(Se));return re?(he.m=v.get(re[0].toLowerCase()),Se+re[0].length):-1}function U(he,ge,Se){return E(he,t,ge,Se)}function $(he,ge,Se){return E(he,r,ge,Se)}function K(he,ge,Se){return E(he,n,ge,Se)}function H(he){return o[he.getDay()]}function z(he){return a[he.getDay()]}function te(he){return c[he.getMonth()]}function ee(he){return l[he.getMonth()]}function Z(he){return i[+(he.getHours()>=12)]}function V(he){return 1+~~(he.getMonth()/3)}function X(he){return o[he.getUTCDay()]}function W(he){return a[he.getUTCDay()]}function ae(he){return c[he.getUTCMonth()]}function ie(he){return l[he.getUTCMonth()]}function ce(he){return i[+(he.getUTCHours()>=12)]}function be(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var ge=C(he+="",w);return ge.toString=function(){return he},ge},parse:function(he){var ge=P(he+="",!1);return ge.toString=function(){return he},ge},utcFormat:function(he){var ge=C(he+="",_);return ge.toString=function(){return he},ge},utcParse:function(he){var ge=P(he+="",!0);return ge.toString=function(){return he},ge}}}var w7={"-":"",_:" ",0:"0"},Ci=/^\s*\d+/,_Qe=/^%/,CQe=/[\\^$*+?|[\]().{}]/g;function qr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function SQe(e){return e.replace(CQe,"\\$&")}function Y0(e){return new RegExp("^(?:"+e.map(SQe).join("|")+")","i")}function X0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function BQe(e,t,r){var n=Ci.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function EQe(e,t,r){var n=Ci.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function kQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function PQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function IQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function j7(e,t,r){var n=Ci.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function N7(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function TQe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function OQe(e,t,r){var n=Ci.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function LQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function _7(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function FQe(e,t,r){var n=Ci.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function C7(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function UQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function RQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function DQe(e,t,r){var n=Ci.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function MQe(e,t,r){var n=Ci.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function QQe(e,t,r){var n=_Qe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function $Qe(e,t,r){var n=Ci.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function HQe(e,t,r){var n=Ci.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function S7(e,t){return qr(e.getDate(),t,2)}function VQe(e,t){return qr(e.getHours(),t,2)}function zQe(e,t){return qr(e.getHours()%12||12,t,2)}function KQe(e,t){return qr(1+eb.count(yu(e),e),t,3)}function JJ(e,t){return qr(e.getMilliseconds(),t,3)}function WQe(e,t){return JJ(e,t)+"000"}function GQe(e,t){return qr(e.getMonth()+1,t,2)}function qQe(e,t){return qr(e.getMinutes(),t,2)}function YQe(e,t){return qr(e.getSeconds(),t,2)}function XQe(e){var t=e.getDay();return t===0?7:t}function ZQe(e,t){return qr($5.count(yu(e)-1,e),t,2)}function eee(e){var t=e.getDay();return t>=4||t===0?Ag(e):Ag.ceil(e)}function JQe(e,t){return e=eee(e),qr(Ag.count(yu(e),e)+(yu(e).getDay()===4),t,2)}function e$e(e){return e.getDay()}function t$e(e,t){return qr(wj.count(yu(e)-1,e),t,2)}function r$e(e,t){return qr(e.getFullYear()%100,t,2)}function n$e(e,t){return e=eee(e),qr(e.getFullYear()%100,t,2)}function s$e(e,t){return qr(e.getFullYear()%1e4,t,4)}function i$e(e,t){var r=e.getDay();return e=r>=4||r===0?Ag(e):Ag.ceil(e),qr(e.getFullYear()%1e4,t,4)}function a$e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qr(t/60|0,"0",2)+qr(t%60,"0",2)}function B7(e,t){return qr(e.getUTCDate(),t,2)}function o$e(e,t){return qr(e.getUTCHours(),t,2)}function l$e(e,t){return qr(e.getUTCHours()%12||12,t,2)}function c$e(e,t){return qr(1+Q5.count(vu(e),e),t,3)}function tee(e,t){return qr(e.getUTCMilliseconds(),t,3)}function d$e(e,t){return tee(e,t)+"000"}function u$e(e,t){return qr(e.getUTCMonth()+1,t,2)}function h$e(e,t){return qr(e.getUTCMinutes(),t,2)}function A$e(e,t){return qr(e.getUTCSeconds(),t,2)}function f$e(e){var t=e.getUTCDay();return t===0?7:t}function m$e(e,t){return qr(H5.count(vu(e)-1,e),t,2)}function ree(e){var t=e.getUTCDay();return t>=4||t===0?fg(e):fg.ceil(e)}function p$e(e,t){return e=ree(e),qr(fg.count(vu(e),e)+(vu(e).getUTCDay()===4),t,2)}function g$e(e){return e.getUTCDay()}function x$e(e,t){return qr(jj.count(vu(e)-1,e),t,2)}function y$e(e,t){return qr(e.getUTCFullYear()%100,t,2)}function v$e(e,t){return e=ree(e),qr(e.getUTCFullYear()%100,t,2)}function b$e(e,t){return qr(e.getUTCFullYear()%1e4,t,4)}function w$e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?fg(e):fg.ceil(e),qr(e.getUTCFullYear()%1e4,t,4)}function j$e(){return"+0000"}function E7(){return"%"}function k7(e){return+e}function P7(e){return Math.floor(+e/1e3)}var $m,nee,see;N$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function N$e(e){return $m=NQe(e),nee=$m.format,$m.parse,see=$m.utcFormat,$m.utcParse,$m}function _$e(e){return new Date(e)}function C$e(e){return e instanceof Date?+e:+new Date(+e)}function rT(e,t,r,n,i,a,o,l,c,d){var u=$I(),A=u.invert,f=u.domain,m=d(".%L"),x=d(":%S"),g=d("%I:%M"),v=d("%I %p"),y=d("%a %d"),b=d("%b %d"),w=d("%B"),_=d("%Y");function N(C){return(c(C)<C?m:l(C)<C?x:o(C)<C?g:a(C)<C?v:n(C)<C?i(C)<C?y:b:r(C)<C?w:_)(C)}return u.invert=function(C){return new Date(A(C))},u.domain=function(C){return arguments.length?f(Array.from(C,C$e)):f().map(_$e)},u.ticks=function(C){var P=f();return e(P[0],P[P.length-1],C??10)},u.tickFormat=function(C,P){return P==null?N:d(P)},u.nice=function(C){var P=f();return(!C||typeof C.range!="function")&&(C=t(P[0],P[P.length-1],C??10)),C?f(VJ(P,C)):u},u.copy=function(){return Jv(u,rT(e,t,r,n,i,a,o,l,c,d))},u}function S$e(){return wl.apply(rT(wQe,jQe,yu,eT,$5,eb,ZI,YI,lf,nee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B$e(){return wl.apply(rT(vQe,bQe,vu,tT,H5,Q5,JI,XI,lf,see).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function V5(){var e=0,t=1,r,n,i,a,o=Ca,l=!1,c;function d(A){return A==null||isNaN(A=+A)?c:o(i===0?.5:(A=(a(A)-r)*i,l?Math.max(0,Math.min(1,A)):A))}d.domain=function(A){return arguments.length?([e,t]=A,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(A){return arguments.length?(l=!!A,d):l},d.interpolator=function(A){return arguments.length?(o=A,d):o};function u(A){return function(f){var m,x;return arguments.length?([m,x]=f,o=A(m,x),d):[o(0),o(1)]}}return d.range=u(o0),d.rangeRound=u(QI),d.unknown=function(A){return arguments.length?(c=A,d):c},function(A){return a=A,r=A(e),n=A(t),i=r===n?0:1/(n-r),d}}function fA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iee(){var e=AA(V5()(Ca));return e.copy=function(){return fA(e,iee())},Bu.apply(e,arguments)}function aee(){var e=zI(V5()).domain([1,10]);return e.copy=function(){return fA(e,aee()).base(e.base())},Bu.apply(e,arguments)}function oee(){var e=KI(V5());return e.copy=function(){return fA(e,oee()).constant(e.constant())},Bu.apply(e,arguments)}function nT(){var e=WI(V5());return e.copy=function(){return fA(e,nT()).exponent(e.exponent())},Bu.apply(e,arguments)}function E$e(){return nT.apply(null,arguments).exponent(.5)}function lee(){var e=[],t=Ca;function r(n){if(n!=null&&!isNaN(n=+n))return t((Xv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hh),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>m7e(e,a/n))},r.copy=function(){return lee(t).domain(e)},Bu.apply(r,arguments)}function z5(){var e=0,t=.5,r=1,n=1,i,a,o,l,c,d=Ca,u,A=!1,f;function m(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-a)*(n*g<n*a?l:c),d(A?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,i=u(e=+e),a=u(t=+t),o=u(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(A=!!g,m):A},m.interpolator=function(g){return arguments.length?(d=g,m):d};function x(g){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,d=Q7e(g,[y,b,w]),m):[d(0),d(.5),d(1)]}}return m.range=x(o0),m.rangeRound=x(QI),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return u=g,i=g(e),a=g(t),o=g(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function cee(){var e=AA(z5()(Ca));return e.copy=function(){return fA(e,cee())},Bu.apply(e,arguments)}function dee(){var e=zI(z5()).domain([.1,1,10]);return e.copy=function(){return fA(e,dee()).base(e.base())},Bu.apply(e,arguments)}function uee(){var e=KI(z5());return e.copy=function(){return fA(e,uee()).constant(e.constant())},Bu.apply(e,arguments)}function sT(){var e=WI(z5());return e.copy=function(){return fA(e,sT()).exponent(e.exponent())},Bu.apply(e,arguments)}function k$e(){return sT.apply(null,arguments).exponent(.5)}const I7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hy,scaleDiverging:cee,scaleDivergingLog:dee,scaleDivergingPow:sT,scaleDivergingSqrt:k$e,scaleDivergingSymlog:uee,scaleIdentity:HJ,scaleImplicit:mk,scaleLinear:vj,scaleLog:zJ,scaleOrdinal:RI,scalePoint:Wx,scalePow:GI,scaleQuantile:GJ,scaleQuantize:qJ,scaleRadial:WJ,scaleSequential:iee,scaleSequentialLog:aee,scaleSequentialPow:nT,scaleSequentialQuantile:lee,scaleSequentialSqrt:E$e,scaleSequentialSymlog:oee,scaleSqrt:dQe,scaleSymlog:KJ,scaleThreshold:YJ,scaleTime:S$e,scaleUtc:B$e,tickFormat:$J},Symbol.toStringTag,{value:"Module"}));var P$e=Zg;function I$e(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(l===void 0?o===o&&!P$e(o):r(o,l)))var l=o,c=a}return c}var K5=I$e;function T$e(e,t){return e>t}var hee=T$e,O$e=K5,L$e=hee,F$e=a0;function U$e(e){return e&&e.length?O$e(e,F$e,L$e):void 0}var R$e=U$e;const Ch=en(R$e);function D$e(e,t){return e<t}var Aee=D$e,M$e=K5,Q$e=Aee,$$e=a0;function H$e(e){return e&&e.length?M$e(e,$$e,Q$e):void 0}var V$e=H$e;const W5=en(V$e);var z$e=xI,K$e=yd,W$e=bJ,G$e=no;function q$e(e,t){var r=G$e(e)?z$e:W$e;return r(e,K$e(t))}var Y$e=q$e,X$e=yJ,Z$e=Y$e;function J$e(e,t){return X$e(Z$e(e,t),1)}var eHe=J$e;const tHe=en(eHe);var rHe=TI;function nHe(e,t){return rHe(e,t)}var sHe=nHe;const qf=en(sHe);var l0=1e9,iHe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aT,ss=!0,vl="[DecimalError] ",jf=vl+"Invalid argument: ",iT=vl+"Exponent out of range: ",c0=Math.floor,VA=Math.pow,aHe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jo,bi=1e7,Gn=7,fee=9007199254740991,Nj=c0(fee/Gn),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Gn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Mt.dividedBy=Mt.div=function(e){return au(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,r=t.constructor;return In(au(t,new r(e),0,1),r.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return ri(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(jo))throw Error(vl+"NaN");if(r.s<1)throw Error(vl+(r.s?"NaN":"-Infinity"));return r.eq(jo)?new n(0):(ss=!1,t=au(Gy(r,a),Gy(e,a),a),ss=!0,In(t,i))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gee(t,e):mee(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(vl+"NaN");return r.s?(ss=!1,t=au(r,e,0,1).times(e),ss=!0,r.minus(t)):In(new n(r),i)};Mt.naturalExponential=Mt.exp=function(){return pee(this)};Mt.naturalLogarithm=Mt.ln=function(){return Gy(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mee(t,e):gee(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jf+e);if(t=ri(i)+1,n=i.d.length-1,r=n*Gn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Mt.squareRoot=Mt.sqrt=function(){var e,t,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(vl+"NaN")}for(e=ri(l),ss=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Vc(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=c0((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(au(l,a,o+2)).times(.5),Vc(a.d).slice(0,o)===(t=Vc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(In(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return ss=!0,In(n,r)};Mt.times=Mt.mul=function(e){var t,r,n,i,a,o,l,c,d,u=this,A=u.constructor,f=u.d,m=(e=new A(e)).d;if(!u.s||!e.s)return new A(0);for(e.s*=u.s,r=u.e+e.e,c=f.length,d=m.length,c<d&&(a=f,f=m,m=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+m[n]*f[i-n-1]+t,a[i--]=l%bi|0,t=l/bi|0;a[i]=(a[i]+t)%bi|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,ss?In(e,A.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ud(e,0,l0),t===void 0?t=n.rounding:ud(t,0,8),In(r,e+ri(r)+1,t))};Mt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Yf(n,!0):(ud(e,0,l0),t===void 0?t=i.rounding:ud(t,0,8),n=In(new i(n),e+1,t),r=Yf(n,!0,e+1)),r};Mt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Yf(i):(ud(e,0,l0),t===void 0?t=a.rounding:ud(t,0,8),n=In(new a(i),e+ri(i)+1,t),r=Yf(n.abs(),!1,e+ri(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return In(new t(e),ri(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,r,n,i,a,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(jo);if(l=new c(l),!l.s){if(e.s<1)throw Error(vl+"Infinity");return l}if(l.eq(jo))return l;if(n=c.precision,e.eq(jo))return In(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=u<0?-u:u)<=fee){for(i=new c(jo),t=Math.ceil(n/Gn+4),ss=!1;r%2&&(i=i.times(l),O7(i.d,t)),r=c0(r/2),r!==0;)l=l.times(l),O7(l.d,t);return ss=!0,e.s<0?new c(jo).div(i):In(i,n)}}else if(a<0)throw Error(vl+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ss=!1,i=e.times(Gy(l,n+d)),ss=!0,i=pee(i),i.s=a,i};Mt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=ri(i),n=Yf(i,r<=a.toExpNeg||r>=a.toExpPos)):(ud(e,1,l0),t===void 0?t=a.rounding:ud(t,0,8),i=In(new a(i),e,t),r=ri(i),n=Yf(i,e<=r||r<=a.toExpNeg,e)),n};Mt.toSignificantDigits=Mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ud(e,1,l0),t===void 0?t=n.rounding:ud(t,0,8)),In(new n(r),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ri(e),r=e.constructor;return Yf(e,t<=r.toExpNeg||t>=r.toExpPos)};function mee(e,t){var r,n,i,a,o,l,c,d,u=e.constructor,A=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ss?In(t,A):t;if(c=e.d,d=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(A/Gn),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/bi|0,c[a]%=bi;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,ss?In(t,A):t}function ud(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jf+e)}function Vc(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Gn-n.length,r&&(a+=uh(r)),a+=n;o=e[t],n=o+"",r=Gn-n.length,r&&(a+=uh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var au=function(){function e(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%bi|0,o=a/bi|0;return o&&n.unshift(o),n}function t(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*bi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,d,u,A,f,m,x,g,v,y,b,w,_,N,C,P,E,I=n.constructor,F=n.s==i.s?1:-1,B=n.d,O=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(vl+"Division by zero");for(c=n.e-i.e,P=O.length,N=B.length,m=new I(F),x=m.d=[],d=0;O[d]==(B[d]||0);)++d;if(O[d]>(B[d]||0)&&--c,a==null?b=a=I.precision:o?b=a+(ri(n)-ri(i))+1:b=a,b<0)return new I(0);if(b=b/Gn+2|0,d=0,P==1)for(u=0,O=O[0],b++;(d<N||u)&&b--;d++)w=u*bi+(B[d]||0),x[d]=w/O|0,u=w%O|0;else{for(u=bi/(O[0]+1)|0,u>1&&(O=e(O,u),B=e(B,u),P=O.length,N=B.length),_=P,g=B.slice(0,P),v=g.length;v<P;)g[v++]=0;E=O.slice(),E.unshift(0),C=O[0],O[1]>=bi/2&&++C;do u=0,l=t(O,g,P,v),l<0?(y=g[0],P!=v&&(y=y*bi+(g[1]||0)),u=y/C|0,u>1?(u>=bi&&(u=bi-1),A=e(O,u),f=A.length,v=g.length,l=t(A,g,f,v),l==1&&(u--,r(A,P<f?E:O,f))):(u==0&&(l=u=1),A=O.slice()),f=A.length,f<v&&A.unshift(0),r(g,A,v),l==-1&&(v=g.length,l=t(O,g,P,v),l<1&&(u++,r(g,P<v?E:O,v))),v=g.length):l===0&&(u++,g=[0]),x[d++]=u,l&&g[0]?g[v++]=B[_]||0:(g=[B[_]],v=1);while((_++<N||g[0]!==void 0)&&b--)}return x[0]||x.shift(),m.e=c,In(m,o?a+ri(m)+1:a)}}();function pee(e,t){var r,n,i,a,o,l,c=0,d=0,u=e.constructor,A=u.precision;if(ri(e)>16)throw Error(iT+ri(e));if(!e.s)return new u(jo);for(ss=!1,l=A,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(VA(2,d))/Math.LN10*2+5|0,l+=n,r=i=a=new u(jo),u.precision=l;;){if(i=In(i.times(e),l),r=r.times(++c),o=a.plus(au(i,r,l)),Vc(o.d).slice(0,l)===Vc(a.d).slice(0,l)){for(;d--;)a=In(a.times(a),l);return u.precision=A,t==null?(ss=!0,In(a,A)):a}a=o}}function ri(e){for(var t=e.e*Gn,r=e.d[0];r>=10;r/=10)t++;return t}function XS(e,t,r){if(t>e.LN10.sd())throw ss=!0,r&&(e.precision=r),Error(vl+"LN10 precision limit exceeded");return In(new e(e.LN10),t)}function uh(e){for(var t="";e--;)t+="0";return t}function Gy(e,t){var r,n,i,a,o,l,c,d,u,A=1,f=10,m=e,x=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(vl+(m.s?"NaN":"-Infinity"));if(m.eq(jo))return new g(0);if(t==null?(ss=!1,d=v):d=t,m.eq(10))return t==null&&(ss=!0),XS(g,d);if(d+=f,g.precision=d,r=Vc(x),n=r.charAt(0),a=ri(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Vc(m.d),n=r.charAt(0),A++;a=ri(m),n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1))}else return c=XS(g,d+2,v).times(a+""),m=Gy(new g(n+"."+r.slice(1)),d-f).plus(c),g.precision=v,t==null?(ss=!0,In(m,v)):m;for(l=o=m=au(m.minus(jo),m.plus(jo),d),u=In(m.times(m),d),i=3;;){if(o=In(o.times(u),d),c=l.plus(au(o,new g(i),d)),Vc(c.d).slice(0,d)===Vc(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(XS(g,d+2,v).times(a+""))),l=au(l,new g(A),d),g.precision=v,t==null?(ss=!0,In(l,v)):l;l=c,i+=2}}function T7(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=c0(r/Gn),e.d=[],n=(r+1)%Gn,r<0&&(n+=Gn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Gn;n<i;)e.d.push(+t.slice(n,n+=Gn));t=t.slice(n),n=Gn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ss&&(e.e>Nj||e.e<-Nj))throw Error(iT+r)}else e.s=0,e.e=0,e.d=[0];return e}function In(e,t,r){var n,i,a,o,l,c,d,u,A=e.d;for(o=1,a=A[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Gn,i=t,d=A[u=0];else{if(u=Math.ceil((n+1)/Gn),a=A.length,u>=a)return e;for(d=a=A[u],o=1;a>=10;a/=10)o++;n%=Gn,i=n-Gn+o}if(r!==void 0&&(a=VA(10,o-i-1),l=d/a%10|0,c=t<0||A[u+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/VA(10,o-i):0:A[u-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return c?(a=ri(e),A.length=1,t=t-a-1,A[0]=VA(10,(Gn-t%Gn)%Gn),e.e=c0(-t/Gn)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(n==0?(A.length=u,a=1,u--):(A.length=u+1,a=VA(10,Gn-n),A[u]=i>0?(d/VA(10,o-i)%VA(10,i)|0)*a:0),c)for(;;)if(u==0){(A[0]+=a)==bi&&(A[0]=1,++e.e);break}else{if(A[u]+=a,A[u]!=bi)break;A[u--]=0,a=1}for(n=A.length;A[--n]===0;)A.pop();if(ss&&(e.e>Nj||e.e<-Nj))throw Error(iT+ri(e));return e}function gee(e,t){var r,n,i,a,o,l,c,d,u,A,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),ss?In(t,m):t;if(c=e.d,A=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=A.length):(r=A,n=d,l=c.length),i=Math.max(Math.ceil(m/Gn),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=A.length,u=i<l,u&&(l=i),i=0;i<l;i++)if(c[i]!=A[i]){u=c[i]<A[i];break}o=0}for(u&&(r=c,c=A,A=r,t.s=-t.s),l=c.length,i=A.length-l;i>0;--i)c[l++]=0;for(i=A.length;i>o;){if(c[--i]<A[i]){for(a=i;a&&c[--a]===0;)c[a]=bi-1;--c[a],c[i]+=bi}c[i]-=A[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ss?In(t,m):t):new f(0)}function Yf(e,t,r){var n,i=ri(e),a=Vc(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+uh(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+uh(-i-1)+a,r&&(n=r-o)>0&&(a+=uh(n))):i>=o?(a+=uh(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+uh(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=uh(n))),e.s<0?"-"+a:a}function O7(e,t){if(e.length>t)return e.length=t,!0}function xee(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(jf+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return T7(o,a.toString())}else if(typeof a!="string")throw Error(jf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,aHe.test(a))T7(o,a);else throw Error(jf+a)}if(i.prototype=Mt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xee,i.config=i.set=oHe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function oHe(e){if(!e||typeof e!="object")throw Error(vl+"Object expected");var t,r,n,i=["precision",1,l0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(c0(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(jf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jf+r+": "+n);return this}var aT=xee(iHe);jo=new aT(1);const jn=aT;function lHe(e){return hHe(e)||uHe(e)||dHe(e)||cHe()}function cHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dHe(e,t){if(e){if(typeof e=="string")return yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yk(e,t)}}function uHe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hHe(e){if(Array.isArray(e))return yk(e)}function yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var AHe=function(t){return t},yee={},vee=function(t){return t===yee},L7=function(t){return function r(){return arguments.length===0||arguments.length===1&&vee(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},fHe=function e(t,r){return t===1?r:L7(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==yee}).length;return o>=t?r.apply(void 0,i):e(t-o,L7(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=i.map(function(A){return vee(A)?c.shift():A});return r.apply(void 0,lHe(u).concat(c))}))})},G5=function(t){return fHe(t.length,t)},vk=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},mHe=G5(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),pHe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return AHe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},bk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},bee=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function gHe(e){var t;return e===0?t=1:t=Math.floor(new jn(e).abs().log(10).toNumber())+1,t}function xHe(e,t,r){for(var n=new jn(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var yHe=G5(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),vHe=G5(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),bHe=G5(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const q5={rangeStep:xHe,getDigitCount:gHe,interpolateNumber:yHe,uninterpolateNumber:vHe,uninterpolateTruncation:bHe};function wk(e){return NHe(e)||jHe(e)||wee(e)||wHe()}function wHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jHe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function NHe(e){if(Array.isArray(e))return jk(e)}function qy(e,t){return SHe(e)||CHe(e,t)||wee(e,t)||_He()}function _He(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wee(e,t){if(e){if(typeof e=="string")return jk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jk(e,t)}}function jk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CHe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function SHe(e){if(Array.isArray(e))return e}function jee(e){var t=qy(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function Nee(e,t,r){if(e.lte(0))return new jn(0);var n=q5.getDigitCount(e.toNumber()),i=new jn(10).pow(n),a=e.div(i),o=n!==1?.05:.1,l=new jn(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new jn(Math.ceil(c))}function BHe(e,t,r){var n=1,i=new jn(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new jn(10).pow(q5.getDigitCount(e)-1),i=new jn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new jn(Math.floor(e)))}else e===0?i=new jn(Math.floor((t-1)/2)):r||(i=new jn(Math.floor(e)));var o=Math.floor((t-1)/2),l=pHe(mHe(function(c){return i.add(new jn(c-o).mul(n)).toNumber()}),vk);return l(0,t)}function _ee(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new jn(0),tickMin:new jn(0),tickMax:new jn(0)};var a=Nee(new jn(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new jn(0):(o=new jn(e).add(t).div(2),o=o.sub(new jn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new jn(t).sub(o).div(a).toNumber()),d=l+c+1;return d>r?_ee(e,t,r,n,i+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:a,tickMin:o.sub(new jn(l).mul(a)),tickMax:o.add(new jn(c).mul(a))})}function EHe(e){var t=qy(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=jee([r,n]),c=qy(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var A=u===1/0?[d].concat(wk(vk(0,i-1).map(function(){return 1/0}))):[].concat(wk(vk(0,i-1).map(function(){return-1/0})),[u]);return r>n?bk(A):A}if(d===u)return BHe(d,i,a);var f=_ee(d,u,o,a),m=f.step,x=f.tickMin,g=f.tickMax,v=q5.rangeStep(x,g.add(new jn(.1).mul(m)),m);return r>n?bk(v):v}function kHe(e,t){var r=qy(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=jee([n,i]),l=qy(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var u=Math.max(t,2),A=Nee(new jn(d).sub(c).div(u-1),a,0),f=[].concat(wk(q5.rangeStep(new jn(c),new jn(d).sub(new jn(.99).mul(A)),A)),[d]);return n>i?bk(f):f}var PHe=bee(EHe),IHe=bee(kHe),THe="Invariant failed";function Xf(e,t){throw new Error(THe)}var OHe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_j.apply(this,arguments)}function LHe(e,t){return DHe(e)||RHe(e,t)||UHe(e,t)||FHe()}function FHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UHe(e,t){if(e){if(typeof e=="string")return F7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F7(e,t)}}function F7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function DHe(e){if(Array.isArray(e))return e}function MHe(e,t){if(e==null)return{};var r=QHe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QHe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bee(n.key),n)}}function VHe(e,t,r){return t&&HHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zHe(e,t,r){return t=Cj(t),KHe(e,Cee()?Reflect.construct(t,r||[],Cj(e).constructor):t.apply(e,r))}function KHe(e,t){if(t&&(mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WHe(e)}function WHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cee=function(){return!!e})()}function Cj(e){return Cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cj(e)}function GHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nk(e,t)}function Nk(e,t){return Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nk(e,t)}function See(e,t,r){return t=Bee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=qHe(e,"string");return mg(t)=="symbol"?t:t+""}function qHe(e,t){if(mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tb=function(e){function t(){return $He(this,t),zHe(this,t,arguments)}return GHe(t,e),VHe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,A=n.yAxis,f=MHe(n,OHe),m=Zt(f,!1);this.props.direction==="x"&&u.type!=="number"&&Xf();var x=c.map(function(g){var v=d(g,l),y=v.x,b=v.y,w=v.value,_=v.errorVal;if(!_)return null;var N=[],C,P;if(Array.isArray(_)){var E=LHe(_,2);C=E[0],P=E[1]}else C=P=_;if(a==="vertical"){var I=u.scale,F=b+i,B=F+o,O=F-o,R=I(w-C),U=I(w+P);N.push({x1:U,y1:B,x2:U,y2:O}),N.push({x1:R,y1:F,x2:U,y2:F}),N.push({x1:R,y1:B,x2:R,y2:O})}else if(a==="horizontal"){var $=A.scale,K=y+i,H=K-o,z=K+o,te=$(w-C),ee=$(w+P);N.push({x1:H,y1:ee,x2:z,y2:ee}),N.push({x1:K,y1:te,x2:K,y2:ee}),N.push({x1:H,y1:te,x2:z,y2:te})}return Ce.createElement(Tr,_j({className:"recharts-errorBar",key:"bar-".concat(N.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),N.map(function(Z){return Ce.createElement("line",_j({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return Ce.createElement(Tr,{className:"recharts-errorBars"},x)}}])}(Ce.Component);See(tb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});See(tb,"displayName","ErrorBar");function Yy(e){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}function U7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U7(Object(r),!0).forEach(function(n){YHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YHe(e,t,r){return t=XHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XHe(e){var t=ZHe(e,"string");return Yy(t)=="symbol"?t:t+""}function ZHe(e,t){if(Yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eee=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=bo(r,$h);if(!o)return null;var l=$h.defaultProps,c=l!==void 0?TA(TA({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(n||[]).reduce(function(u,A){var f=A.item,m=A.props,x=m.sectors||m.data||[];return u.concat(x.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(n||[]).map(function(u){var A=u.item,f=A.type.defaultProps,m=f!==void 0?TA(TA({},f),A.props):{},x=m.dataKey,g=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:x,type:c.iconType||v||"square",color:oT(A),value:g||x,payload:m}}),TA(TA(TA({},c),$h.getWithHeight(o,i)),{},{payload:d,item:o})};function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}function R7(e){return r9e(e)||t9e(e)||e9e(e)||JHe()}function JHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9e(e,t){if(e){if(typeof e=="string")return _k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _k(e,t)}}function t9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r9e(e){if(Array.isArray(e))return _k(e)}function _k(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D7(Object(r),!0).forEach(function(n){Vp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vp(e,t,r){return t=n9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n9e(e){var t=s9e(e,"string");return Xy(t)=="symbol"?t:t+""}function s9e(e,t){if(Xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hs(e,t,r){return fr(e)||fr(t)?r:pi(t)?Eo(e,t,r):ir(t)?t(e):r}function Gx(e,t,r,n){var i=tHe(e,function(l){return Hs(l,t)});if(r==="number"){var a=i.filter(function(l){return wt(l)||parseFloat(l)});return a.length?[W5(a),Ch(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!fr(l)}):i;return o.map(function(l){return pi(l)||l instanceof Date?l:""})}var i9e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var u=d>0?i[d-1].coordinate:i[l-1].coordinate,A=i[d].coordinate,f=d>=l-1?i[0].coordinate:i[d+1].coordinate,m=void 0;if(Na(A-u)!==Na(f-A)){var x=[];if(Na(f-A)===Na(c[1]-c[0])){m=f;var g=A+c[1]-c[0];x[0]=Math.min(g,(g+u)/2),x[1]=Math.max(g,(g+u)/2)}else{m=u;var v=f+c[1]-c[0];x[0]=Math.min(A,(v+A)/2),x[1]=Math.max(A,(v+A)/2)}var y=[Math.min(A,(m+A)/2),Math.max(A,(m+A)/2)];if(t>y[0]&&t<=y[1]||t>=x[0]&&t<=x[1]){o=i[d].index;break}}else{var b=Math.min(u,f),w=Math.max(u,f);if(t>(b+A)/2&&t<=(w+A)/2){o=i[d].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},oT=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},a9e=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var u=a[l[c]].stackGroups,A=Object.keys(u),f=0,m=A.length;f<m;f++){var x=u[A[f]],g=x.items,v=x.cateAxisId,y=g.filter(function(P){return iu(P.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Es(Es({},b),y[0].props):y[0].props,_=w.barSize,N=w[v];o[N]||(o[N]=[]);var C=fr(_)?r:_;o[N].push({item:y[0],stackList:y.slice(1),barSize:fr(C)?void 0:_a(C,n,0)})}}return o},o9e=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=_a(r,i,0,!0),u,A=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=i/c,x=o.reduce(function(_,N){return _+N.barSize||0},0);x+=(c-1)*d,x>=i&&(x-=(c-1)*d,d=0),x>=i&&m>0&&(f=!0,m*=.9,x=c*m);var g=(i-x)/2>>0,v={offset:g-d,size:0};u=o.reduce(function(_,N){var C={item:N.item,position:{offset:v.offset+v.size+d,size:f?m:N.barSize}},P=[].concat(R7(_),[C]);return v=P[P.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){P.push({item:E,position:v})}),P},A)}else{var y=_a(n,i,0,!0);i-2*y-(c-1)*d<=0&&(d=0);var b=(i-2*y-(c-1)*d)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;u=o.reduce(function(_,N,C){var P=[].concat(R7(_),[{item:N.item,position:{offset:y+(b+d)*C+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){P.push({item:E,position:P[P.length-1].position})}),P},A)}return u},l9e=function(t,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=Eee({children:a,legendWidth:c});if(d){var u=i||{},A=u.width,f=u.height,m=d.align,x=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&wt(t[m]))return Es(Es({},t),{},Vp({},m,t[m]+(A||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&wt(t[x]))return Es(Es({},t),{},Vp({},x,t[x]+(f||0)))}return t},c9e=function(t,r,n){return fr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},kee=function(t,r,n,i,a){var o=r.props.children,l=ko(o,tb).filter(function(d){return c9e(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var A=Hs(u,n);if(fr(A))return d;var f=Array.isArray(A)?[W5(A),Ch(A)]:[A,A],m=c.reduce(function(x,g){var v=Hs(u,g,0),y=f[0]-Math.abs(Array.isArray(v)?v[0]:v),b=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},d9e=function(t,r,n,i,a){var o=r.map(function(l){return kee(t,l,n,a,i)}).filter(function(l){return!fr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Pee=function(t,r,n,i,a){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&kee(t,c,d,i)||Gx(t,d,n,a)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,A=d.length;u<A;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},Iee=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Tee=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Yd=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Na(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(A){var f=a?a.indexOf(A):A;return{coordinate:i(f)+d,value:A,offset:d}});return u.filter(function(A){return!n0(A.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(A,f){return{coordinate:i(A)+d,value:A,index:f,offset:d}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(A){return{coordinate:i(A)+d,value:A,offset:d}}):i.domain().map(function(A,f){return{coordinate:i(A)+d,value:a?a[A]:A,index:f,offset:d}})},ZS=new WeakMap,Mw=function(t,r){if(typeof r!="function")return t;ZS.has(t)||ZS.set(t,new WeakMap);var n=ZS.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Oee=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Hy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:vj(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wx(),realScaleType:"point"}:a==="category"?{scale:Hy(),realScaleType:"band"}:{scale:vj(),realScaleType:"linear"};if(Kf(i)){var c="scale".concat(I5(i));return{scale:(I7[c]||Wx)(),realScaleType:I7[c]?c:"point"}}return ir(i)?{scale:i}:{scale:Wx(),realScaleType:"point"}},M7=1e-4,Lee=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-M7,o=Math.max(i[0],i[1])+M7,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},u9e=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},h9e=function(t,r){if(!r||r.length!==2||!wt(r[0])||!wt(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!wt(t[0])||t[0]<n)&&(a[0]=n),(!wt(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},A9e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=n0(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},f9e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=n0(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},m9e={sign:A9e,expand:OIe,none:og,silhouette:LIe,wiggle:FIe,positive:f9e},p9e=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=m9e[n],o=TIe().keys(i).value(function(l,c){return+Hs(l,c,0)}).order(YE).offset(a);return o(t)},g9e=function(t,r,n,i,a,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(A,f){var m,x=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Es(Es({},f.type.defaultProps),f.props):f.props,g=x.stackId,v=x.hide;if(v)return A;var y=x[n],b=A[y]||{hasStack:!1,stackGroups:{}};if(pi(g)){var w=b.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[dm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Es(Es({},A),{},Vp({},y,b))},c),u={};return Object.keys(d).reduce(function(A,f){var m=d[f];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var y=m.stackGroups[v];return Es(Es({},g),{},Vp({},v,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:p9e(t,y.items,a)}))},x)}return Es(Es({},A),{},Vp({},f,m))},u)},Fee=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=PHe(d,a,l);return t.domain([W5(u),Ch(u)]),{niceTicks:u}}if(a&&i==="number"){var A=t.domain(),f=IHe(A,a,l);return{niceTicks:f}}return null};function Sj(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fr(i[t.dataKey])){var l=J2(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Hs(i,fr(o)?t.dataKey:o);return fr(c)?null:t.scale(c)}var Q7=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Hs(o,r.dataKey,r.domain[l]);return fr(c)?null:r.scale(c)-a/2+i},x9e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},y9e=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(pi(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},v9e=function(t){return t.reduce(function(r,n){return[W5(n.concat([r[0]]).filter(wt)),Ch(n.concat([r[1]]).filter(wt))]},[1/0,-1/0])},Uee=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(d,u){var A=v9e(u.slice(r,n+1));return[Math.min(d[0],A[0]),Math.max(d[1],A[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},$7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,H7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ck=function(t,r,n){if(ir(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(wt(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if($7.test(t[0])){var a=+$7.exec(t[0])[1];i[0]=r[0]-a}else ir(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(wt(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(H7.test(t[1])){var o=+H7.exec(t[1])[1];i[1]=r[1]+o}else ir(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Bj=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=LI(r,function(A){return A.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],u=a[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},V7=function(t,r,n){return!t||!t.length||qf(t,Eo(n,"type.defaultProps.domain"))?r:t},Ree=function(t,r){var n=t.type.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return Es(Es({},Zt(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:oT(t),value:Hs(r,i),type:c,payload:r,chartType:d,hide:u})};function Zy(e){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(e)}function z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z7(Object(r),!0).forEach(function(n){Dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dee(e,t,r){return t=b9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b9e(e){var t=w9e(e,"string");return Zy(t)=="symbol"?t:t+""}function w9e(e,t){if(Zy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j9e(e,t){return S9e(e)||C9e(e,t)||_9e(e,t)||N9e()}function N9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _9e(e,t){if(e){if(typeof e=="string")return K7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K7(e,t)}}function K7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function S9e(e){if(Array.isArray(e))return e}var Ej=Math.PI/180,B9e=function(t){return t*180/Math.PI},Qn=function(t,r,n,i){return{x:t+Math.cos(-Ej*i)*n,y:r+Math.sin(-Ej*i)*n}},Mee=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},E9e=function(t,r,n,i,a){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=_a(t.cx,o,o/2),A=_a(t.cy,l,l/2),f=Mee(o,l,n),m=_a(t.innerRadius,f,0),x=_a(t.outerRadius,f,f*.8),g=Object.keys(r);return g.reduce(function(v,y){var b=r[y],w=b.domain,_=b.reversed,N;if(fr(b.range))i==="angleAxis"?N=[c,d]:i==="radiusAxis"&&(N=[m,x]),_&&(N=[N[1],N[0]]);else{N=b.range;var C=N,P=j9e(C,2);c=P[0],d=P[1]}var E=Oee(b,a),I=E.realScaleType,F=E.scale;F.domain(w).range(N),Lee(F);var B=Fee(F,Fd(Fd({},b),{},{realScaleType:I})),O=Fd(Fd(Fd({},b),B),{},{range:N,radius:x,realScaleType:I,scale:F,cx:u,cy:A,innerRadius:m,outerRadius:x,startAngle:c,endAngle:d});return Fd(Fd({},v),{},Dee({},y,O))},{})},k9e=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},P9e=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,l=k9e({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:B9e(d),angleInRadian:d}},I9e=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},T9e=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},W7=function(t,r){var n=t.x,i=t.y,a=P9e({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=I9e(r),A=u.startAngle,f=u.endAngle,m=l,x;if(A<=f){for(;m>f;)m-=360;for(;m<A;)m+=360;x=m>=A&&m<=f}else{for(;m>A;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=A}return x?Fd(Fd({},r),{},{radius:o,angle:T9e(m,r)}):null},Qee=function(t){return!j.isValidElement(t)&&!ir(t)&&typeof t!="boolean"?t.className:""};function Jy(e){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jy(e)}var O9e=["offset"];function L9e(e){return D9e(e)||R9e(e)||U9e(e)||F9e()}function F9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U9e(e,t){if(e){if(typeof e=="string")return Sk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sk(e,t)}}function R9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D9e(e){if(Array.isArray(e))return Sk(e)}function Sk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M9e(e,t){if(e==null)return{};var r=Q9e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G7(Object(r),!0).forEach(function(n){$9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $9e(e,t,r){return t=H9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9e(e){var t=V9e(e,"string");return Jy(t)=="symbol"?t:t+""}function V9e(e,t){if(Jy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(this,arguments)}var z9e=function(t){var r=t.value,n=t.formatter,i=fr(t.children)?r:t.children;return ir(n)?n(i):i},K9e=function(t,r){var n=Na(r-t),i=Math.min(Math.abs(r-t),360);return n*i},W9e=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,d=c.cx,u=c.cy,A=c.innerRadius,f=c.outerRadius,m=c.startAngle,x=c.endAngle,g=c.clockWise,v=(A+f)/2,y=K9e(m,x),b=y>=0?1:-1,w,_;i==="insideStart"?(w=m+b*o,_=g):i==="insideEnd"?(w=x-b*o,_=!g):i==="end"&&(w=x+b*o,_=g),_=y<=0?_:!_;var N=Qn(d,u,v,w),C=Qn(d,u,v,w+(_?1:-1)*359),P="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),E=fr(t.id)?dm("recharts-radial-line-"):t.id;return Ce.createElement("text",ev({},n,{dominantBaseline:"central",className:pr("recharts-radial-bar-label",l)}),Ce.createElement("defs",null,Ce.createElement("path",{id:E,d:P})),Ce.createElement("textPath",{xlinkHref:"#".concat(E)},r))},G9e=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,u=a.startAngle,A=a.endAngle,f=(u+A)/2;if(i==="outside"){var m=Qn(o,l,d+n,f),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,y=Qn(o,l,v,f),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},q9e=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,A=u>=0?1:-1,f=A*i,m=A>0?"end":"start",x=A>0?"start":"end",g=d>=0?1:-1,v=g*i,y=g>0?"end":"start",b=g>0?"start":"end";if(a==="top"){var w={x:l+d/2,y:c-A*i,textAnchor:"middle",verticalAnchor:m};return ui(ui({},w),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var _={x:l+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:x};return ui(ui({},_),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(a==="left"){var N={x:l-v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return ui(ui({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(a==="right"){var C={x:l+d+v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return ui(ui({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var P=n?{width:d,height:u}:{};return a==="insideLeft"?ui({x:l+v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},P):a==="insideRight"?ui({x:l+d-v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},P):a==="insideTop"?ui({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?ui({x:l+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:m},P):a==="insideTopLeft"?ui({x:l+v,y:c+f,textAnchor:b,verticalAnchor:x},P):a==="insideTopRight"?ui({x:l+d-v,y:c+f,textAnchor:y,verticalAnchor:x},P):a==="insideBottomLeft"?ui({x:l+v,y:c+u-f,textAnchor:b,verticalAnchor:m},P):a==="insideBottomRight"?ui({x:l+d-v,y:c+u-f,textAnchor:y,verticalAnchor:m},P):Jg(a)&&(wt(a.x)||sf(a.x))&&(wt(a.y)||sf(a.y))?ui({x:l+_a(a.x,d),y:c+_a(a.y,u),textAnchor:"end",verticalAnchor:"end"},P):ui({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Y9e=function(t){return"cx"in t&&wt(t.cx)};function Ni(e){var t=e.offset,r=t===void 0?5:t,n=M9e(e,O9e),i=ui({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,u=i.className,A=u===void 0?"":u,f=i.textBreakAll;if(!a||fr(l)&&fr(c)&&!j.isValidElement(d)&&!ir(d))return null;if(j.isValidElement(d))return j.cloneElement(d,i);var m;if(ir(d)){if(m=j.createElement(d,i),j.isValidElement(m))return m}else m=z9e(i);var x=Y9e(a),g=Zt(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return W9e(i,m,g);var v=x?G9e(i):q9e(i);return Ce.createElement(Gf,ev({className:pr("recharts-label",A)},g,v,{breakAll:f}),m)}Ni.displayName="Label";var $ee=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,A=t.x,f=t.y,m=t.top,x=t.left,g=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(wt(g)&&wt(v)){if(wt(A)&&wt(f))return{x:A,y:f,width:g,height:v};if(wt(m)&&wt(x))return{x:m,y:x,width:g,height:v}}return wt(A)&&wt(f)?{x:A,y:f,width:0,height:0}:wt(r)&&wt(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},X9e=function(t,r){return t?t===!0?Ce.createElement(Ni,{key:"label-implicit",viewBox:r}):pi(t)?Ce.createElement(Ni,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===Ni?j.cloneElement(t,{key:"label-implicit",viewBox:r}):Ce.createElement(Ni,{key:"label-implicit",content:t,viewBox:r}):ir(t)?Ce.createElement(Ni,{key:"label-implicit",content:t,viewBox:r}):Jg(t)?Ce.createElement(Ni,ev({viewBox:r},t,{key:"label-implicit"})):null:null},Z9e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=$ee(t),o=ko(i,Ni).map(function(c,d){return j.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return o;var l=X9e(t.label,r||a);return[l].concat(L9e(o))};Ni.parseViewBox=$ee;Ni.renderCallByParent=Z9e;function J9e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var eVe=J9e;const tVe=en(eVe);function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}var rVe=["valueAccessor"],nVe=["data","dataKey","clockWise","id","textBreakAll"];function sVe(e){return lVe(e)||oVe(e)||aVe(e)||iVe()}function iVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aVe(e,t){if(e){if(typeof e=="string")return Bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(e,t)}}function oVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lVe(e){if(Array.isArray(e))return Bk(e)}function Bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kj.apply(this,arguments)}function q7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q7(Object(r),!0).forEach(function(n){cVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cVe(e,t,r){return t=dVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dVe(e){var t=uVe(e,"string");return tv(t)=="symbol"?t:t+""}function uVe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X7(e,t){if(e==null)return{};var r=hVe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var AVe=function(t){return Array.isArray(t.value)?tVe(t.value):t.value};function td(e){var t=e.valueAccessor,r=t===void 0?AVe:t,n=X7(e,rVe),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=X7(n,nVe);return!i||!i.length?null:Ce.createElement(Tr,{className:"recharts-label-list"},i.map(function(u,A){var f=fr(a)?r(u,A):Hs(u&&u.payload,a),m=fr(l)?{}:{id:"".concat(l,"-").concat(A)};return Ce.createElement(Ni,kj({},Zt(u,!0),d,m,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:Ni.parseViewBox(fr(o)?u:Y7(Y7({},u),{},{clockWise:o})),key:"label-".concat(A),index:A}))}))}td.displayName="LabelList";function fVe(e,t){return e?e===!0?Ce.createElement(td,{key:"labelList-implicit",data:t}):Ce.isValidElement(e)||ir(e)?Ce.createElement(td,{key:"labelList-implicit",data:t,content:e}):Jg(e)?Ce.createElement(td,kj({data:t},e,{key:"labelList-implicit"})):null:null}function mVe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=ko(n,td).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=fVe(e.label,t);return[a].concat(sVe(i))}td.renderCallByParent=mVe;function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ek.apply(this,arguments)}function Z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z7(Object(r),!0).forEach(function(n){pVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pVe(e,t,r){return t=gVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gVe(e){var t=xVe(e,"string");return rv(t)=="symbol"?t:t+""}function xVe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yVe=function(t,r){var n=Na(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Qw=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+i,A=Math.asin(c/u)/Ej,f=d?a:a+o*A,m=Qn(r,n,u,f),x=Qn(r,n,i,f),g=d?a-o*A:a,v=Qn(r,n,u*Math.cos(A*Ej),g);return{center:m,circleTangency:x,lineTangency:v,theta:A}},Hee=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=yVe(o,l),d=o+c,u=Qn(r,n,a,o),A=Qn(r,n,a,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(i>0){var m=Qn(r,n,i,o),x=Qn(r,n,i,d);f+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},vVe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,A=Na(u-d),f=Qw({cx:r,cy:n,radius:a,angle:d,sign:A,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,x=f.lineTangency,g=f.theta,v=Qw({cx:r,cy:n,radius:a,angle:u,sign:-A,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,w=v.theta,_=c?Math.abs(d-u):Math.abs(d-u)-g-w;if(_<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Hee({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(A<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var C=Qw({cx:r,cy:n,radius:i,angle:d,sign:A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=C.circleTangency,E=C.lineTangency,I=C.theta,F=Qw({cx:r,cy:n,radius:i,angle:u,sign:-A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),B=F.circleTangency,O=F.lineTangency,R=F.theta,U=c?Math.abs(d-u):Math.abs(d-u)-I-R;if(U<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(A>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},bVe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Vee=function(t){var r=J7(J7({},bVe),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,A=r.endAngle,f=r.className;if(o<a||u===A)return null;var m=pr("recharts-sector",f),x=o-a,g=_a(l,x,0,!0),v;return g>0&&Math.abs(u-A)<360?v=vVe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:A}):v=Hee({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:A}),Ce.createElement("path",Ek({},Zt(r,!0),{className:m,d:v,role:"img"}))};function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kk.apply(this,arguments)}function eQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eQ(Object(r),!0).forEach(function(n){wVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wVe(e,t,r){return t=jVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jVe(e){var t=NVe(e,"string");return nv(t)=="symbol"?t:t+""}function NVe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rQ={curveBasisClosed:wIe,curveBasisOpen:jIe,curveBasis:bIe,curveBumpX:oIe,curveBumpY:lIe,curveLinearClosed:NIe,curveLinear:O5,curveMonotoneX:_Ie,curveMonotoneY:CIe,curveNatural:SIe,curveStep:BIe,curveStepAfter:kIe,curveStepBefore:EIe},$w=function(t){return t.x===+t.x&&t.y===+t.y},Z0=function(t){return t.x},J0=function(t){return t.y},_Ve=function(t,r){if(ir(t))return t;var n="curve".concat(I5(t));return(n==="curveMonotone"||n==="curveBump")&&r?rQ["".concat(n).concat(r==="vertical"?"Y":"X")]:rQ[n]||O5},CVe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=_Ve(n,l),A=d?a.filter(function(g){return $w(g)}):a,f;if(Array.isArray(o)){var m=d?o.filter(function(g){return $w(g)}):o,x=A.map(function(g,v){return tQ(tQ({},g),{},{base:m[v]})});return l==="vertical"?f=Iw().y(J0).x1(Z0).x0(function(g){return g.base.x}):f=Iw().x(Z0).y1(J0).y0(function(g){return g.base.y}),f.defined($w).curve(u),f(x)}return l==="vertical"&&wt(o)?f=Iw().y(J0).x1(Z0).x0(o):wt(o)?f=Iw().x(Z0).y1(J0).y0(o):f=RZ().x(Z0).y(J0),f.defined($w).curve(u),f(A)},Nf=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?CVe(t):i;return j.createElement("path",kk({},Zt(t,!1),ej(t),{className:pr("recharts-curve",r),d:o,ref:a}))},zee={exports:{}},SVe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",BVe=SVe,EVe=BVe;function Kee(){}function Wee(){}Wee.resetWarningCache=Kee;var kVe=function(){function e(n,i,a,o,l,c){if(c!==EVe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Wee,resetWarningCache:Kee};return r.PropTypes=r,r};zee.exports=kVe();var PVe=zee.exports;const on=en(PVe),{getOwnPropertyNames:IVe,getOwnPropertySymbols:TVe}=Object,{hasOwnProperty:OVe}=Object.prototype;function JS(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Hw(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=e(r,n,i);return a.delete(r),a.delete(n),c}}function LVe(e){return e!=null?e[Symbol.toStringTag]:void 0}function nQ(e){return IVe(e).concat(TVe(e))}const FVe=Object.hasOwn||((e,t)=>OVe.call(e,t));function Am(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const UVe="__v",RVe="__o",DVe="_owner",{getOwnPropertyDescriptor:sQ,keys:iQ}=Object;function MVe(e,t){return e.byteLength===t.byteLength&&Pj(new Uint8Array(e),new Uint8Array(t))}function QVe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $Ve(e,t){return e.byteLength===t.byteLength&&Pj(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function HVe(e,t){return Am(e.getTime(),t.getTime())}function VVe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zVe(e,t){return e===t}function aQ(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const d=t.entries();let u=!1,A=0;for(;(l=d.next())&&!l.done;){if(i[A]){A++;continue}const f=o.value,m=l.value;if(r.equals(f[0],m[0],c,A,e,t,r)&&r.equals(f[1],m[1],f[0],m[0],e,t,r)){u=i[A]=!0;break}A++}if(!u)return!1;c++}return!0}const KVe=Am;function WVe(e,t,r){const n=iQ(e);let i=n.length;if(iQ(t).length!==i)return!1;for(;i-- >0;)if(!Gee(e,t,r,n[i]))return!1;return!0}function ex(e,t,r){const n=nQ(e);let i=n.length;if(nQ(t).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!Gee(e,t,r,a)||(o=sQ(e,a),l=sQ(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function GVe(e,t){return Am(e.valueOf(),t.valueOf())}function qVe(e,t){return e.source===t.source&&e.flags===t.flags}function oQ(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.values();let o,l;for(;(o=a.next())&&!o.done;){const c=t.values();let d=!1,u=0;for(;(l=c.next())&&!l.done;){if(!i[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=i[u]=!0;break}u++}if(!d)return!1}return!0}function Pj(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function YVe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Gee(e,t,r,n){return(n===DVe||n===RVe||n===UVe)&&(e.$$typeof||t.$$typeof)?!0:FVe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const XVe="[object ArrayBuffer]",ZVe="[object Arguments]",JVe="[object Boolean]",eze="[object DataView]",tze="[object Date]",rze="[object Error]",nze="[object Map]",sze="[object Number]",ize="[object Object]",aze="[object RegExp]",oze="[object Set]",lze="[object String]",cze={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},dze="[object URL]",uze=Object.prototype.toString;function hze({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:u,areSetsEqual:A,areTypedArraysEqual:f,areUrlsEqual:m,unknownTagComparators:x}){return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;const w=typeof v;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(v,y,b):w==="function"?a(v,y,b):!1;const _=v.constructor;if(_!==y.constructor)return!1;if(_===Object)return c(v,y,b);if(Array.isArray(v))return t(v,y,b);if(_===Date)return n(v,y,b);if(_===RegExp)return u(v,y,b);if(_===Map)return o(v,y,b);if(_===Set)return A(v,y,b);const N=uze.call(v);if(N===tze)return n(v,y,b);if(N===aze)return u(v,y,b);if(N===nze)return o(v,y,b);if(N===oze)return A(v,y,b);if(N===ize)return typeof v.then!="function"&&typeof y.then!="function"&&c(v,y,b);if(N===dze)return m(v,y,b);if(N===rze)return i(v,y,b);if(N===ZVe)return c(v,y,b);if(cze[N])return f(v,y,b);if(N===XVe)return e(v,y,b);if(N===eze)return r(v,y,b);if(N===JVe||N===sze||N===lze)return d(v,y,b);if(x){let C=x[N];if(!C){const P=LVe(v);P&&(C=x[P])}if(C)return C(v,y,b)}return!1}}function Aze({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:MVe,areArraysEqual:r?ex:QVe,areDataViewsEqual:$Ve,areDatesEqual:HVe,areErrorsEqual:VVe,areFunctionsEqual:zVe,areMapsEqual:r?JS(aQ,ex):aQ,areNumbersEqual:KVe,areObjectsEqual:r?ex:WVe,arePrimitiveWrappersEqual:GVe,areRegExpsEqual:qVe,areSetsEqual:r?JS(oQ,ex):oQ,areTypedArraysEqual:r?JS(Pj,ex):Pj,areUrlsEqual:YVe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=Hw(n.areArraysEqual),a=Hw(n.areMapsEqual),o=Hw(n.areObjectsEqual),l=Hw(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function fze(e){return function(t,r,n,i,a,o,l){return e(t,r,l)}}function mze({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:d=e?new WeakMap:void 0,meta:u}=r();return t(l,c,{cache:d,equals:n,meta:u,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return t(l,c,a)}}const pze=mA();mA({strict:!0});mA({circular:!0});mA({circular:!0,strict:!0});mA({createInternalComparator:()=>Am});mA({strict:!0,createInternalComparator:()=>Am});mA({circular:!0,createInternalComparator:()=>Am});mA({circular:!0,createInternalComparator:()=>Am,strict:!0});function mA(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,a=Aze(e),o=hze(a),l=r?r(o):fze(o);return mze({circular:t,comparator:o,createState:n,equals:l,strict:i})}function gze(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function lQ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):gze(i)};requestAnimationFrame(n)}function Pk(e){"@babel/helpers - typeof";return Pk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pk(e)}function xze(e){return wze(e)||bze(e)||vze(e)||yze()}function yze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vze(e,t){if(e){if(typeof e=="string")return cQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cQ(e,t)}}function cQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wze(e){if(Array.isArray(e))return e}function jze(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=xze(o),c=l[0],d=l.slice(1);if(typeof c=="number"){lQ(i.bind(null,d),c);return}i(c),lQ(i.bind(null,d));return}Pk(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function dQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dQ(Object(r),!0).forEach(function(n){qee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qee(e,t,r){return t=Nze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nze(e){var t=_ze(e,"string");return sv(t)==="symbol"?t:String(t)}function _ze(e,t){if(sv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cze=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Sze=function(t){return t},Bze=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},qx=function(t,r){return Object.keys(r).reduce(function(n,i){return uQ(uQ({},n),{},qee({},i,t(i,r[i])))},{})},hQ=function(t,r,n){return t.map(function(i){return"".concat(Bze(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Eze(e,t){return Ize(e)||Pze(e,t)||Yee(e,t)||kze()}function kze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Ize(e){if(Array.isArray(e))return e}function Tze(e){return Fze(e)||Lze(e)||Yee(e)||Oze()}function Oze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yee(e,t){if(e){if(typeof e=="string")return Ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ik(e,t)}}function Lze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fze(e){if(Array.isArray(e))return Ik(e)}function Ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ij=1e-4,Xee=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Zee=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},AQ=function(t,r){return function(n){var i=Xee(t,r);return Zee(i,n)}},Uze=function(t,r){return function(n){var i=Xee(t,r),a=[].concat(Tze(i.map(function(o,l){return o*l}).slice(1)),[0]);return Zee(a,n)}},fQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=Eze(d,4);i=u[0],a=u[1],o=u[2],l=u[3]}}}var A=AQ(i,o),f=AQ(a,l),m=Uze(i,o),x=function(y){return y>1?1:y<0?0:y},g=function(y){for(var b=y>1?1:y,w=b,_=0;_<8;++_){var N=A(w)-b,C=m(w);if(Math.abs(N-b)<Ij||C<Ij)return f(w);w=x(w-N/C)}return f(w)};return g.isStepper=!1,g},Rze=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(u,A,f){var m=-(u-A)*n,x=f*a,g=f+(m-x)*l/1e3,v=f*l/1e3+u;return Math.abs(v-A)<Ij&&Math.abs(g)<Ij?[A,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},Dze=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fQ(i);case"spring":return Rze();default:if(i.split("(")[0]==="cubic-bezier")return fQ(i)}return typeof i=="function"?i:null};function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function mQ(e){return $ze(e)||Qze(e)||Jee(e)||Mze()}function Mze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ze(e){if(Array.isArray(e))return Ok(e)}function pQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pQ(Object(r),!0).forEach(function(n){Tk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tk(e,t,r){return t=Hze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hze(e){var t=Vze(e,"string");return iv(t)==="symbol"?t:String(t)}function Vze(e,t){if(iv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zze(e,t){return Gze(e)||Wze(e,t)||Jee(e,t)||Kze()}function Kze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jee(e,t){if(e){if(typeof e=="string")return Ok(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ok(e,t)}}function Ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Gze(e){if(Array.isArray(e))return e}var Tj=function(t,r,n){return t+(r-t)*n},Lk=function(t){var r=t.from,n=t.to;return r!==n},qze=function e(t,r,n){var i=qx(function(a,o){if(Lk(o)){var l=t(o.from,o.to,o.velocity),c=zze(l,2),d=c[0],u=c[1];return Oi(Oi({},o),{},{from:d,velocity:u})}return o},r);return n<1?qx(function(a,o){return Lk(o)?Oi(Oi({},o),{},{velocity:Tj(o.velocity,i[a].velocity,n),from:Tj(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const Yze=function(e,t,r,n,i){var a=Cze(e,t),o=a.reduce(function(v,y){return Oi(Oi({},v),{},Tk({},y,[e[y],t[y]]))},{}),l=a.reduce(function(v,y){return Oi(Oi({},v),{},Tk({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,d,u,A=function(){return null},f=function(){return qx(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(Lk).length},x=function(y){d||(d=y);var b=y-d,w=b/r.dt;l=qze(r,l,w),i(Oi(Oi(Oi({},e),t),f())),d=y,m()||(c=requestAnimationFrame(A))},g=function(y){u||(u=y);var b=(y-u)/n,w=qx(function(N,C){return Tj.apply(void 0,mQ(C).concat([r(b)]))},o);if(i(Oi(Oi(Oi({},e),t),w)),b<1)c=requestAnimationFrame(A);else{var _=qx(function(N,C){return Tj.apply(void 0,mQ(C).concat([r(1)]))},o);i(Oi(Oi(Oi({},e),t),_))}};return A=r.isStepper?x:g,function(){return requestAnimationFrame(A),function(){cancelAnimationFrame(c)}}};function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}var Xze=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Zze(e,t){if(e==null)return{};var r=Jze(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jze(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function eB(e){return nKe(e)||rKe(e)||tKe(e)||eKe()}function eKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tKe(e,t){if(e){if(typeof e=="string")return Fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fk(e,t)}}function rKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nKe(e){if(Array.isArray(e))return Fk(e)}function Fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gQ(Object(r),!0).forEach(function(n){bx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bx(e,t,r){return t=ete(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ete(n.key),n)}}function aKe(e,t,r){return t&&iKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ete(e){var t=oKe(e,"string");return pg(t)==="symbol"?t:String(t)}function oKe(e,t){if(pg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uk(e,t)}function Uk(e,t){return Uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uk(e,t)}function cKe(e){var t=dKe();return function(){var n=Oj(e),i;if(t){var a=Oj(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Rk(this,i)}}function Rk(e,t){if(t&&(pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dk(e)}function Dk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oj(e){return Oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oj(e)}var pc=function(e){lKe(r,e);var t=cKe(r);function r(n,i){var a;sKe(this,r),a=t.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,A=o.steps,f=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Dk(a)),a.changeStyle=a.changeStyle.bind(Dk(a)),!l||m<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:u}),Rk(a);if(A&&A.length)a.state={style:A[0].style};else if(d){if(typeof f=="function")return a.state={style:d},Rk(a);a.state={style:c?bx({},c,d):d}}else a.state={style:{}};return a}return aKe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,u=a.to,A=a.from,f=this.state.style;if(l){if(!o){var m={style:c?bx({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(m);return}if(!(pze(i.to,u)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||d?A:i.to;if(this.state&&f){var v={style:c?bx({},c,g):g};(c&&f[c]!==g||!c&&f!==g)&&this.setState(v)}this.runAnimation(zl(zl({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,u=i.begin,A=i.onAnimationEnd,f=i.onAnimationStart,m=Yze(o,l,Dze(d),c,this.changeStyle),x=function(){a.stopJSAnimation=m()};this.manager.start([f,u,x,c,A])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],u=d.style,A=d.duration,f=A===void 0?0:A,m=function(g,v,y){if(y===0)return g;var b=v.duration,w=v.easing,_=w===void 0?"ease":w,N=v.style,C=v.properties,P=v.onAnimationEnd,E=y>0?o[y-1]:v,I=C||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(eB(g),[a.runJSAnimation.bind(a,{from:E.style,to:N,duration:b,easing:_}),b]);var F=hQ(I,b,_),B=zl(zl(zl({},E.style),N),{},{transition:F});return[].concat(eB(g),[B,b,P]).filter(Sze)};return this.manager.start([c].concat(eB(o.reduce(m,[u,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=jze());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,u=i.onAnimationStart,A=i.onAnimationEnd,f=i.steps,m=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=l?bx({},l,c):c,v=hQ(Object.keys(g),o,d);x.start([u,a,zl(zl({},g),{},{transition:v}),o,A])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Zze(i,Xze),d=j.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!l||d===0||o<=0)return a;var A=function(m){var x=m.props,g=x.style,v=g===void 0?{}:g,y=x.className,b=j.cloneElement(m,zl(zl({},c),{},{style:zl(zl({},v),u),className:y}));return b};return d===1?A(j.Children.only(a)):Ce.createElement("div",null,j.Children.map(a,function(f){return A(f)}))}}]),r}(j.PureComponent);pc.displayName="Animate";pc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pc.propTypes={from:on.oneOfType([on.object,on.string]),to:on.oneOfType([on.object,on.string]),attributeName:on.string,duration:on.number,begin:on.number,easing:on.oneOfType([on.string,on.func]),steps:on.arrayOf(on.shape({duration:on.number.isRequired,style:on.object.isRequired,easing:on.oneOfType([on.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),on.func]),properties:on.arrayOf("string"),onAnimationEnd:on.func})),children:on.oneOfType([on.node,on.func]),isActive:on.bool,canBegin:on.bool,onAnimationEnd:on.func,shouldReAnimate:on.bool,onAnimationStart:on.func,onAnimationReStart:on.func};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function Lj(){return Lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lj.apply(this,arguments)}function uKe(e,t){return mKe(e)||fKe(e,t)||AKe(e,t)||hKe()}function hKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AKe(e,t){if(e){if(typeof e=="string")return xQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xQ(e,t)}}function xQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function mKe(e){if(Array.isArray(e))return e}function yQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yQ(Object(r),!0).forEach(function(n){pKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pKe(e,t,r){return t=gKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gKe(e){var t=xKe(e,"string");return av(t)=="symbol"?t:t+""}function xKe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bQ=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var A=[0,0,0,0],f=0,m=4;f<m;f++)A[f]=a[f]>o?o:a[f];u="M".concat(t,",").concat(r+l*A[0]),A[0]>0&&(u+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(d,",").concat(t+c*A[0],",").concat(r)),u+="L ".concat(t+n-c*A[1],",").concat(r),A[1]>0&&(u+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*A[1])),u+="L ".concat(t+n,",").concat(r+i-l*A[2]),A[2]>0&&(u+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(d,`,
        `).concat(t+n-c*A[2],",").concat(r+i)),u+="L ".concat(t+c*A[3],",").concat(r+i),A[3]>0&&(u+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+i-l*A[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-c*x,",").concat(r+i,`
            L `).concat(t+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+i-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},yKe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),u=Math.max(a,a+l),A=Math.min(o,o+c),f=Math.max(o,o+c);return n>=d&&n<=u&&i>=A&&i<=f}return!1},vKe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lT=function(t){var r=vQ(vQ({},vKe),t),n=j.useRef(),i=j.useState(-1),a=uKe(i,2),o=a[0],l=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,d=r.y,u=r.width,A=r.height,f=r.radius,m=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||A!==+A||u===0||A===0)return null;var w=pr("recharts-rectangle",m);return b?Ce.createElement(pc,{canBegin:o>0,from:{width:u,height:A,x:c,y:d},to:{width:u,height:A,x:c,y:d},duration:g,animationEasing:x,isActive:b},function(_){var N=_.width,C=_.height,P=_.x,E=_.y;return Ce.createElement(pc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:x},Ce.createElement("path",Lj({},Zt(r,!0),{className:w,d:bQ(P,E,N,C,f),ref:n})))}):Ce.createElement("path",Lj({},Zt(r,!0),{className:w,d:bQ(c,d,u,A,f)}))},bKe=["points","className","baseLinePoints","connectNulls"];function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(this,arguments)}function wKe(e,t){if(e==null)return{};var r=jKe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wQ(e){return SKe(e)||CKe(e)||_Ke(e)||NKe()}function NKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ke(e,t){if(e){if(typeof e=="string")return Mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(e,t)}}function CKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SKe(e){if(Array.isArray(e))return Mk(e)}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jQ=function(t){return t&&t.x===+t.x&&t.y===+t.y},BKe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){jQ(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),jQ(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Yx=function(t,r){var n=BKe(t);r&&(n=[n.reduce(function(a,o){return[].concat(wQ(a),wQ(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},EKe=function(t,r,n){var i=Yx(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Yx(r.reverse(),n).slice(1))},kKe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=wKe(t,bKe);if(!r||!r.length)return null;var l=pr("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=EKe(r,i,a);return Ce.createElement("g",{className:l},Ce.createElement("path",pp({},Zt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Ce.createElement("path",pp({},Zt(o,!0),{fill:"none",d:Yx(r,a)})):null,c?Ce.createElement("path",pp({},Zt(o,!0),{fill:"none",d:Yx(i,a)})):null)}var u=Yx(r,a);return Ce.createElement("path",pp({},Zt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qk.apply(this,arguments)}var rb=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=pr("recharts-dot",a);return r===+r&&n===+n&&i===+i?j.createElement("circle",Qk({},Zt(t,!1),ej(t),{className:o,cx:r,cy:n,r:i})):null};function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}var PKe=["x","y","top","left","width","height","className"];function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(this,arguments)}function NQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IKe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NQ(Object(r),!0).forEach(function(n){TKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TKe(e,t,r){return t=OKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OKe(e){var t=LKe(e,"string");return ov(t)=="symbol"?t:t+""}function LKe(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FKe(e,t){if(e==null)return{};var r=UKe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var RKe=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},DKe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,A=u===void 0?0:u,f=t.height,m=f===void 0?0:f,x=t.className,g=FKe(t,PKe),v=IKe({x:n,y:a,top:l,left:d,width:A,height:m},g);return!wt(n)||!wt(a)||!wt(A)||!wt(m)||!wt(l)||!wt(d)?null:Ce.createElement("path",$k({},Zt(v,!0),{className:pr("recharts-cross",x),d:RKe(n,a,A,m,l,d)}))},MKe=K5,QKe=hee,$Ke=yd;function HKe(e,t){return e&&e.length?MKe(e,$Ke(t),QKe):void 0}var VKe=HKe;const zKe=en(VKe);var KKe=K5,WKe=yd,GKe=Aee;function qKe(e,t){return e&&e.length?KKe(e,WKe(t),GKe):void 0}var YKe=qKe;const XKe=en(YKe);var ZKe=["cx","cy","angle","ticks","axisLine"],JKe=["ticks","tick","angle","tickFormatter","stroke"];function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(this,arguments)}function _Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_Q(Object(r),!0).forEach(function(n){Y5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_Q(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CQ(e,t){if(e==null)return{};var r=eWe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rte(n.key),n)}}function rWe(e,t,r){return t&&SQ(e.prototype,t),r&&SQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nWe(e,t,r){return t=Fj(t),sWe(e,tte()?Reflect.construct(t,r||[],Fj(e).constructor):t.apply(e,r))}function sWe(e,t){if(t&&(gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iWe(e)}function iWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tte=function(){return!!e})()}function Fj(e){return Fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fj(e)}function aWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hk(e,t)}function Hk(e,t){return Hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hk(e,t)}function Y5(e,t,r){return t=rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=oWe(e,"string");return gg(t)=="symbol"?t:t+""}function oWe(e,t){if(gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var X5=function(e){function t(){return tWe(this,t),nWe(this,t,arguments)}return aWe(t,e),rWe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Qn(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=zKe(l,function(u){return u.coordinate||0}),d=XKe(l,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=CQ(n,ZKe),u=l.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),A=Qn(i,a,u[0],o),f=Qn(i,a,u[1],o),m=OA(OA(OA({},Zt(d,!1)),{},{fill:"none"},Zt(c,!1)),{},{x1:A.x,y1:A.y,x2:f.x,y2:f.y});return Ce.createElement("line",Xx({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,u=CQ(i,JKe),A=this.getTickTextAnchor(),f=Zt(u,!1),m=Zt(o,!1),x=a.map(function(g,v){var y=n.getTickValueCoord(g),b=OA(OA(OA(OA({textAnchor:A,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:d},m),{},{index:v},y),{},{payload:g});return Ce.createElement(Tr,Xx({className:pr("recharts-polar-radius-axis-tick",Qee(o)),key:"tick-".concat(g.coordinate)},Wf(n.props,g,v)),t.renderTickItem(o,b,c?c(g.value,v):g.value))});return Ce.createElement(Tr,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:Ce.createElement(Tr,{className:pr("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Ni.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return Ce.isValidElement(n)?o=Ce.cloneElement(n,i):ir(n)?o=n(i):o=Ce.createElement(Gf,Xx({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(j.PureComponent);Y5(X5,"displayName","PolarRadiusAxis");Y5(X5,"axisType","radiusAxis");Y5(X5,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function GA(){return GA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GA.apply(this,arguments)}function BQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BQ(Object(r),!0).forEach(function(n){Z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ste(n.key),n)}}function cWe(e,t,r){return t&&EQ(e.prototype,t),r&&EQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dWe(e,t,r){return t=Uj(t),uWe(e,nte()?Reflect.construct(t,r||[],Uj(e).constructor):t.apply(e,r))}function uWe(e,t){if(t&&(xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hWe(e)}function hWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nte=function(){return!!e})()}function Uj(e){return Uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uj(e)}function AWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vk(e,t)}function Vk(e,t){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vk(e,t)}function Z5(e,t,r){return t=ste(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ste(e){var t=fWe(e,"string");return xg(t)=="symbol"?t:t+""}function fWe(e,t){if(xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mWe=Math.PI/180,kQ=1e-5,J5=function(e){function t(){return lWe(this,t),dWe(this,t,arguments)}return AWe(t,e),cWe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,u=d||8,A=Qn(a,o,l,n.coordinate),f=Qn(a,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:A.x,y1:A.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*mWe),o;return a>kQ?o=i==="outer"?"start":"end":a<-kQ?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=LA(LA({},Zt(this.props,!1)),{},{fill:"none"},Zt(l,!1));if(c==="circle")return Ce.createElement(rb,GA({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var u=this.props.ticks,A=u.map(function(f){return Qn(i,a,o,f.coordinate)});return Ce.createElement(kKe,GA({className:"recharts-polar-angle-axis-line"},d,{points:A}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,u=Zt(this.props,!1),A=Zt(o,!1),f=LA(LA({},u),{},{fill:"none"},Zt(l,!1)),m=a.map(function(x,g){var v=n.getTickLineCoord(x),y=n.getTickTextAnchor(x),b=LA(LA(LA({textAnchor:y},u),{},{stroke:"none",fill:d},A),{},{index:g,payload:x,x:v.x2,y:v.y2});return Ce.createElement(Tr,GA({className:pr("recharts-polar-angle-axis-tick",Qee(o)),key:"tick-".concat(x.coordinate)},Wf(n.props,x,g)),l&&Ce.createElement("line",GA({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&t.renderTickItem(o,b,c?c(x.value,g):x.value))});return Ce.createElement(Tr,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:Ce.createElement(Tr,{className:pr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return Ce.isValidElement(n)?o=Ce.cloneElement(n,i):ir(n)?o=n(i):o=Ce.createElement(Gf,GA({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(j.PureComponent);Z5(J5,"displayName","PolarAngleAxis");Z5(J5,"axisType","angleAxis");Z5(J5,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pWe=lJ,gWe=pWe(Object.getPrototypeOf,Object),xWe=gWe,yWe=Cu,vWe=xWe,bWe=Su,wWe="[object Object]",jWe=Function.prototype,NWe=Object.prototype,ite=jWe.toString,_We=NWe.hasOwnProperty,CWe=ite.call(Object);function SWe(e){if(!bWe(e)||yWe(e)!=wWe)return!1;var t=vWe(e);if(t===null)return!0;var r=_We.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ite.call(r)==CWe}var BWe=SWe;const EWe=en(BWe);var kWe=Cu,PWe=Su,IWe="[object Boolean]";function TWe(e){return e===!0||e===!1||PWe(e)&&kWe(e)==IWe}var OWe=TWe;const LWe=en(OWe);function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rj.apply(this,arguments)}function FWe(e,t){return MWe(e)||DWe(e,t)||RWe(e,t)||UWe()}function UWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RWe(e,t){if(e){if(typeof e=="string")return PQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PQ(e,t)}}function PQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function MWe(e){if(Array.isArray(e))return e}function IQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IQ(Object(r),!0).forEach(function(n){QWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QWe(e,t,r){return t=$We(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $We(e){var t=HWe(e,"string");return lv(t)=="symbol"?t:t+""}function HWe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OQ=function(t,r,n,i,a){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},VWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zWe=function(t){var r=TQ(TQ({},VWe),t),n=j.useRef(),i=j.useState(-1),a=FWe(i,2),o=a[0],l=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,A=r.lowerWidth,f=r.height,m=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||A!==+A||f!==+f||u===0&&A===0||f===0)return null;var b=pr("recharts-trapezoid",m);return y?Ce.createElement(pc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:u,lowerWidth:A,height:f,x:c,y:d},duration:g,animationEasing:x,isActive:y},function(w){var _=w.upperWidth,N=w.lowerWidth,C=w.height,P=w.x,E=w.y;return Ce.createElement(pc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:x},Ce.createElement("path",Rj({},Zt(r,!0),{className:b,d:OQ(P,E,_,N,C),ref:n})))}):Ce.createElement("g",null,Ce.createElement("path",Rj({},Zt(r,!0),{className:b,d:OQ(c,d,u,A,f)})))},KWe=["option","shapeType","propTransformer","activeClassName","isActive"];function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function WWe(e,t){if(e==null)return{};var r=GWe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LQ(Object(r),!0).forEach(function(n){qWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qWe(e,t,r){return t=YWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YWe(e){var t=XWe(e,"string");return cv(t)=="symbol"?t:t+""}function XWe(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZWe(e,t){return Dj(Dj({},t),e)}function JWe(e,t){return e==="symbols"}function FQ(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ce.createElement(lT,r);case"trapezoid":return Ce.createElement(zWe,r);case"sector":return Ce.createElement(Vee,r);case"symbols":if(JWe(t))return Ce.createElement(SI,r);break;default:return null}}function eGe(e){return j.isValidElement(e)?e.props:e}function ate(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?ZWe:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=WWe(e,KWe),d;if(j.isValidElement(t))d=j.cloneElement(t,Dj(Dj({},c),eGe(t)));else if(ir(t))d=t(c);else if(EWe(t)&&!LWe(t)){var u=i(t,c);d=Ce.createElement(FQ,{shapeType:r,elementProps:u})}else{var A=c;d=Ce.createElement(FQ,{shapeType:r,elementProps:A})}return l?Ce.createElement(Tr,{className:o},d):d}function e_(e,t){return t!=null&&"trapezoids"in e.props}function t_(e,t){return t!=null&&"sectors"in e.props}function dv(e,t){return t!=null&&"points"in e.props}function tGe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function rGe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function nGe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function sGe(e,t){var r;return e_(e,t)?r=tGe:t_(e,t)?r=rGe:dv(e,t)&&(r=nGe),r}function iGe(e,t){var r;return e_(e,t)?r="trapezoids":t_(e,t)?r="sectors":dv(e,t)&&(r="points"),r}function aGe(e,t){if(e_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(t_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return dv(e,t)?t.payload:{}}function oGe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=iGe(r,t),a=aGe(r,t),o=n.filter(function(c,d){var u=qf(a,c),A=r.props[i].filter(function(x){var g=sGe(r,t);return g(x,t)}),f=r.props[i].indexOf(A[A.length-1]),m=d===f;return u&&m}),l=n.indexOf(o[o.length-1]);return l}var F1;function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}function UQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UQ(Object(r),!0).forEach(function(n){ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lte(n.key),n)}}function cGe(e,t,r){return t&&RQ(e.prototype,t),r&&RQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dGe(e,t,r){return t=Mj(t),uGe(e,ote()?Reflect.construct(t,r||[],Mj(e).constructor):t.apply(e,r))}function uGe(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hGe(e)}function hGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ote(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ote=function(){return!!e})()}function Mj(e){return Mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mj(e)}function AGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zk(e,t)}function zk(e,t){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zk(e,t)}function ol(e,t,r){return t=lte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lte(e){var t=fGe(e,"string");return yg(t)=="symbol"?t:t+""}function fGe(e,t){if(yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eu=function(e){function t(r){var n;return lGe(this,t),n=dGe(this,t,[r]),ol(n,"pieRef",null),ol(n,"sectorRefs",[]),ol(n,"id",dm("recharts-pie-")),ol(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ir(i)&&i()}),ol(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ir(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return AGe(t,e),cGe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,u=Zt(this.props,!1),A=Zt(o,!1),f=Zt(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(g,v){var y=(g.startAngle+g.endAngle)/2,b=Qn(g.cx,g.cy,g.outerRadius+m,y),w=Un(Un(Un(Un({},u),g),{},{stroke:"none"},A),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),_=Un(Un(Un(Un({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:v,points:[Qn(g.cx,g.cy,g.outerRadius,y),b]}),N=c;return fr(c)&&fr(d)?N="value":fr(c)&&(N=d),Ce.createElement(Tr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,w,Hs(g,N)))});return Ce.createElement(Tr,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var A=i.isActiveIndex(u),f=c&&i.hasActiveIndex()?c:null,m=A?o:f,x=Un(Un({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Ce.createElement(Tr,gp({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Wf(i.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),Ce.createElement(ate,gp({option:m,isActive:A,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,u=i.animationId,A=this.state,f=A.prevSectors,m=A.prevIsAnimationActive;return Ce.createElement(pc,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var g=x.t,v=[],y=a&&a[0],b=y.startAngle;return a.forEach(function(w,_){var N=f&&f[_],C=_>0?Eo(w,"paddingAngle",0):0;if(N){var P=fi(N.endAngle-N.startAngle,w.endAngle-w.startAngle),E=Un(Un({},w),{},{startAngle:b+C,endAngle:b+P(g)+C});v.push(E),b=E.endAngle}else{var I=w.endAngle,F=w.startAngle,B=fi(0,I-F),O=B(g),R=Un(Un({},w),{},{startAngle:b+C,endAngle:b+O+C});v.push(R),b=R.endAngle}}),Ce.createElement(Tr,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!qf(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,u=i.cy,A=i.innerRadius,f=i.outerRadius,m=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!wt(d)||!wt(u)||!wt(A)||!wt(f))return null;var g=pr("recharts-pie",l);return Ce.createElement(Tr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),Ni.renderCallByParent(this.props,null,!1),(!m||x)&&td.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(Ce.isValidElement(n))return Ce.cloneElement(n,i);if(ir(n))return n(i);var o=pr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Ce.createElement(Nf,gp({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(Ce.isValidElement(n))return Ce.cloneElement(n,i);var o=a;if(ir(n)&&(o=n(i),Ce.isValidElement(o)))return o;var l=pr("recharts-pie-label-text",typeof n!="boolean"&&!ir(n)?n.className:"");return Ce.createElement(Gf,gp({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);F1=Eu;ol(Eu,"displayName","Pie");ol(Eu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!hA.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ol(Eu,"parseDeltaAngle",function(e,t){var r=Na(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ol(Eu,"getRealPieData",function(e){var t=e.data,r=e.children,n=Zt(e,!1),i=ko(r,D5);return t&&t.length?t.map(function(a,o){return Un(Un(Un({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Un(Un({},n),a.props)}):[]});ol(Eu,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=Mee(i,a),l=n+_a(e.cx,i,i/2),c=r+_a(e.cy,a,a/2),d=_a(e.innerRadius,o,0),u=_a(e.outerRadius,o,o*.8),A=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:A}});ol(Eu,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Un(Un({},t.type.defaultProps),t.props):t.props,i=F1.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,A=n.valueKey,f=n.tooltipType,m=Math.abs(n.minAngle),x=F1.parseCoordinateOfPie(n,r),g=F1.parseDeltaAngle(o,l),v=Math.abs(g),y=d;fr(d)&&fr(A)?(lc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):fr(d)&&(lc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=A);var b=i.filter(function(E){return Hs(E,y,0)!==0}).length,w=(v>=360?b:b-1)*c,_=v-b*m-w,N=i.reduce(function(E,I){var F=Hs(I,y,0);return E+(wt(F)?F:0)},0),C;if(N>0){var P;C=i.map(function(E,I){var F=Hs(E,y,0),B=Hs(E,u,I),O=(wt(F)?F:0)/N,R;I?R=P.endAngle+Na(g)*c*(F!==0?1:0):R=o;var U=R+Na(g)*((F!==0?m:0)+O*_),$=(R+U)/2,K=(x.innerRadius+x.outerRadius)/2,H=[{name:B,value:F,payload:E,dataKey:y,type:f}],z=Qn(x.cx,x.cy,K,$);return P=Un(Un(Un({percent:O,cornerRadius:a,name:B,tooltipPayload:H,midAngle:$,middleRadius:K,tooltipPosition:z},E),x),{},{value:Hs(E,y),startAngle:R,endAngle:U,payload:E,paddingAngle:Na(g)*c}),P})}return Un(Un({},x),{},{sectors:C,data:i})});var mGe=Math.ceil,pGe=Math.max;function gGe(e,t,r,n){for(var i=-1,a=pGe(mGe((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var xGe=gGe,yGe=SJ,DQ=1/0,vGe=17976931348623157e292;function bGe(e){if(!e)return e===0?e:0;if(e=yGe(e),e===DQ||e===-DQ){var t=e<0?-1:1;return t*vGe}return e===e?e:0}var cte=bGe,wGe=xGe,jGe=R5,tB=cte;function NGe(e){return function(t,r,n){return n&&typeof n!="number"&&jGe(t,r,n)&&(r=n=void 0),t=tB(t),r===void 0?(r=t,t=0):r=tB(r),n=n===void 0?t<r?1:-1:tB(n),wGe(t,r,n,e)}}var _Ge=NGe,CGe=_Ge,SGe=CGe(),BGe=SGe;const Qj=en(BGe);function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function MQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MQ(Object(r),!0).forEach(function(n){dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dte(e,t,r){return t=EGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EGe(e){var t=kGe(e,"string");return uv(t)=="symbol"?t:t+""}function kGe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PGe=["Webkit","Moz","O","ms"],IGe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=PGe.reduce(function(a,o){return QQ(QQ({},a),{},dte({},o+n,r))},{});return i[t]=r,i};function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function $j(){return $j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$j.apply(this,arguments)}function $Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$Q(Object(r),!0).forEach(function(n){yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$Q(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hte(n.key),n)}}function OGe(e,t,r){return t&&HQ(e.prototype,t),r&&HQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LGe(e,t,r){return t=Hj(t),FGe(e,ute()?Reflect.construct(t,r||[],Hj(e).constructor):t.apply(e,r))}function FGe(e,t){if(t&&(vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UGe(e)}function UGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ute(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ute=function(){return!!e})()}function Hj(e){return Hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hj(e)}function RGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kk(e,t)}function Kk(e,t){return Kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kk(e,t)}function yo(e,t,r){return t=hte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hte(e){var t=DGe(e,"string");return vg(t)=="symbol"?t:t+""}function DGe(e,t){if(vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MGe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Wx().domain(Qj(0,c)).range([a,a+o-l]),u=d.domain().map(function(A){return d(A)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:u}},VQ=function(t){return t.changedTouches&&!!t.changedTouches.length},bg=function(e){function t(r){var n;return TGe(this,t),n=LGe(this,t,[r]),yo(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),yo(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),yo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),yo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),yo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),yo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),yo(n,"handleSlideDragStart",function(i){var a=VQ(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return RGe(t,e),OGe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,A=Math.min(i,a),f=Math.max(i,a),m=t.getIndexInRange(o,A),x=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Hs(a[n],l,n);return ir(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,u=c.width,A=c.travellerWidth,f=c.startIndex,m=c.endIndex,x=c.onChange,g=n.pageX-a;g>0?g=Math.min(g,d+u-A-l,d+u-A-o):g<0&&(g=Math.max(g,d-o,d-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==f||v.endIndex!==m)&&x&&x(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=VQ(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],u=this.props,A=u.x,f=u.width,m=u.travellerWidth,x=u.onChange,g=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,A+f-m-d):b<0&&(b=Math.max(b,A-d)),y[o]=d+b;var w=this.getIndex(y),_=w.startIndex,N=w.endIndex,C=function(){var E=v.length-1;return o==="startX"&&(l>c?_%g===0:N%g===0)||l<c&&N===E||o==="endX"&&(l>c?N%g===0:_%g===0)||l>c&&N===E};this.setState(yo(yo({},o,d+b),"brushMoveStartX",n.pageX),function(){x&&C()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[i],A=l.indexOf(u);if(A!==-1){var f=A+n;if(!(f===-1||f>=l.length)){var m=l[f];i==="startX"&&m>=d||i==="endX"&&m<=c||this.setState(yo({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return Ce.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,A=j.Children.only(d);return A?Ce.cloneElement(A,{x:i,y:a,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,A=c.height,f=c.traveller,m=c.ariaLabel,x=c.data,g=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=rB(rB({},Zt(this.props,!1)),{},{x:y,y:d,width:u,height:A}),w=m||"Min value: ".concat((a=x[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return Ce.createElement(Tr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,u=Math.min(n,i)+d,A=Math.max(Math.abs(i-n)-d,0);return Ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:A,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,A=u.startX,f=u.endX,m=5,x={pointerEvents:"none",fill:d};return Ce.createElement(Tr,{className:"recharts-brush-texts"},Ce.createElement(Gf,$j({textAnchor:"end",verticalAnchor:"middle",x:Math.min(A,f)-m,y:o+l/2},x),this.getTextOfTick(i)),Ce.createElement(Gf,$j({textAnchor:"start",verticalAnchor:"middle",x:Math.max(A,f)+c+m,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,A=n.alwaysShowText,f=this.state,m=f.startX,x=f.endX,g=f.isTextActive,v=f.isSlideMoving,y=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!wt(l)||!wt(c)||!wt(d)||!wt(u)||d<=0||u<=0)return null;var w=pr("recharts-brush",a),_=Ce.Children.count(o)===1,N=IGe("userSelect","none");return Ce.createElement(Tr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||v||y||b||A)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(a+l/2)-1;return Ce.createElement(Ce.Fragment,null,Ce.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),Ce.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),Ce.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return Ce.isValidElement(n)?a=Ce.cloneElement(n,i):ir(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,A=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return rB({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?MGe({data:a,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:A}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var f=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(j.PureComponent);yo(bg,"displayName","Brush");yo(bg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var QGe=OI;function $Ge(e,t){var r;return QGe(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var HGe=$Ge,VGe=eJ,zGe=yd,KGe=HGe,WGe=no,GGe=R5;function qGe(e,t,r){var n=WGe(e)?VGe:KGe;return r&&GGe(e,t,r)&&(t=void 0),n(e,zGe(t))}var YGe=qGe;const XGe=en(YGe);var rd=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},zQ=wJ;function ZGe(e,t,r){t=="__proto__"&&zQ?zQ(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var JGe=ZGe,eqe=JGe,tqe=vJ,rqe=yd;function nqe(e,t){var r={};return t=rqe(t),tqe(e,function(n,i,a){eqe(r,i,t(n,i,a))}),r}var sqe=nqe;const iqe=en(sqe);function aqe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var oqe=aqe,lqe=OI;function cqe(e,t){var r=!0;return lqe(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var dqe=cqe,uqe=oqe,hqe=dqe,Aqe=yd,fqe=no,mqe=R5;function pqe(e,t,r){var n=fqe(e)?uqe:hqe;return r&&mqe(e,t,r)&&(t=void 0),n(e,Aqe(t))}var gqe=pqe;const Ate=en(gqe);var xqe=["x","y"];function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wk.apply(this,arguments)}function KQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KQ(Object(r),!0).forEach(function(n){yqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yqe(e,t,r){return t=vqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vqe(e){var t=bqe(e,"string");return hv(t)=="symbol"?t:t+""}function bqe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wqe(e,t){if(e==null)return{};var r=jqe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nqe(e,t){var r=e.x,n=e.y,i=wqe(e,xqe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||i.height),u=parseInt(d,10),A="".concat(t.width||i.width),f=parseInt(A,10);return tx(tx(tx(tx(tx({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function WQ(e){return Ce.createElement(ate,Wk({shapeType:"rectangle",propTransformer:Nqe,activeClassName:"recharts-active-bar"},e))}var _qe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=wt(n)||WPe(n);return a?t(n,i):(a||Xf(),r)}},Cqe=["value","background"],fte;function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function Sqe(e,t){if(e==null)return{};var r=Bqe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vj(){return Vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vj.apply(this,arguments)}function GQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GQ(Object(r),!0).forEach(function(n){Sh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pte(n.key),n)}}function kqe(e,t,r){return t&&qQ(e.prototype,t),r&&qQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pqe(e,t,r){return t=zj(t),Iqe(e,mte()?Reflect.construct(t,r||[],zj(e).constructor):t.apply(e,r))}function Iqe(e,t){if(t&&(wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tqe(e)}function Tqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mte=function(){return!!e})()}function zj(e){return zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zj(e)}function Oqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gk(e,t)}function Gk(e,t){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gk(e,t)}function Sh(e,t,r){return t=pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=Lqe(e,"string");return wg(t)=="symbol"?t:t+""}function Lqe(e,t){if(wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bu=function(e){function t(){var r;Eqe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Pqe(this,t,[].concat(i)),Sh(r,"state",{isAnimationFinished:!1}),Sh(r,"id",dm("recharts-bar-")),Sh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Sh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Oqe(t,e),kqe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,u=Zt(this.props,!1);return n&&n.map(function(A,f){var m=f===c,x=m?d:o,g=Gs(Gs(Gs({},u),A),{},{isActive:m,option:x,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Ce.createElement(Tr,Vj({className:"recharts-bar-rectangle"},Wf(i.props,A,f),{key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(f)}),Ce.createElement(WQ,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,u=i.animationEasing,A=i.animationId,f=this.state.prevData;return Ce.createElement(pc,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,g=a.map(function(v,y){var b=f&&f[y];if(b){var w=fi(b.x,v.x),_=fi(b.y,v.y),N=fi(b.width,v.width),C=fi(b.height,v.height);return Gs(Gs({},v),{},{x:w(x),y:_(x),width:N(x),height:C(x)})}if(o==="horizontal"){var P=fi(0,v.height),E=P(x);return Gs(Gs({},v),{},{y:v.y+v.height-E,height:E})}var I=fi(0,v.width),F=I(x);return Gs(Gs({},v),{},{width:F})});return Ce.createElement(Tr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!qf(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Zt(this.props.background,!1);return a.map(function(d,u){d.value;var A=d.background,f=Sqe(d,Cqe);if(!A)return null;var m=Gs(Gs(Gs(Gs(Gs({},f),{},{fill:"#eee"},A),c),Wf(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return Ce.createElement(WQ,Vj({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,A=ko(u,tb);if(!A)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,m=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Hs(v,y)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Ce.createElement(Tr,x,A.map(function(g){return Ce.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,A=n.width,f=n.height,m=n.isAnimationActive,x=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=pr("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=b||w,N=fr(g)?this.id:g;return Ce.createElement(Tr,{className:y},b||w?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(N)},Ce.createElement("rect",{x:b?d:d-A/2,y:w?u:u-f/2,width:b?A:A*2,height:w?f:f*2}))):null,Ce.createElement(Tr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!m||v)&&td.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(j.PureComponent);fte=bu;Sh(bu,"displayName","Bar");Sh(bu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hA.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Sh(bu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,A=e.displayedData,f=e.offset,m=u9e(n,r);if(!m)return null;var x=t.layout,g=r.type.defaultProps,v=g!==void 0?Gs(Gs({},g),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,_=x==="horizontal"?o:a,N=d?_.scale.domain():null,C=x9e({numericAxis:_}),P=ko(b,D5),E=A.map(function(I,F){var B,O,R,U,$,K;d?B=h9e(d[u+F],N):(B=Hs(I,y),Array.isArray(B)||(B=[C,B]));var H=_qe(w,fte.defaultProps.minPointSize)(B[1],F);if(x==="horizontal"){var z,te=[o.scale(B[0]),o.scale(B[1])],ee=te[0],Z=te[1];O=Q7({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:I,index:F}),R=(z=Z??ee)!==null&&z!==void 0?z:void 0,U=m.size;var V=ee-Z;if($=Number.isNaN(V)?0:V,K={x:O,y:o.y,width:U,height:o.height},Math.abs(H)>0&&Math.abs($)<Math.abs(H)){var X=Na($||H)*(Math.abs(H)-Math.abs($));R-=X,$+=X}}else{var W=[a.scale(B[0]),a.scale(B[1])],ae=W[0],ie=W[1];if(O=ae,R=Q7({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:I,index:F}),U=ie-ae,$=m.size,K={x:a.x,y:R,width:a.width,height:$},Math.abs(H)>0&&Math.abs(U)<Math.abs(H)){var ce=Na(U||H)*(Math.abs(H)-Math.abs(U));U+=ce}}return Gs(Gs(Gs({},I),{},{x:O,y:R,width:U,height:$,value:d?B:B[1],payload:I,background:K},P&&P[F]&&P[F].props),{},{tooltipPayload:[Ree(r,I)],tooltipPosition:{x:O+U/2,y:R+$/2}})});return Gs({data:E,layout:x},f)});function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function Fqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gte(n.key),n)}}function Uqe(e,t,r){return t&&YQ(e.prototype,t),r&&YQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XQ(Object(r),!0).forEach(function(n){r_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r_(e,t,r){return t=gte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gte(e){var t=Rqe(e,"string");return Av(t)=="symbol"?t:t+""}function Rqe(e,t){if(Av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cT=function(t,r,n,i,a){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),A={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!bo(d,bu);return u.reduce(function(m,x){var g=r[x],v=g.orientation,y=g.domain,b=g.padding,w=b===void 0?{}:b,_=g.mirror,N=g.reversed,C="".concat(v).concat(_?"Mirror":""),P,E,I,F,B;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=y[1]-y[0],R=1/0,U=g.categoricalDomain.sort(YPe);if(U.forEach(function(W,ae){ae>0&&(R=Math.min((W||0)-(U[ae-1]||0),R))}),Number.isFinite(R)){var $=R/O,K=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(P=$*K/2),g.padding==="no-gap"){var H=_a(t.barCategoryGap,$*K),z=$*K/2;P=z-H-(z-H)/K*H}}}i==="xAxis"?E=[n.left+(w.left||0)+(P||0),n.left+n.width-(w.right||0)-(P||0)]:i==="yAxis"?E=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(P||0),n.top+n.height-(w.bottom||0)-(P||0)]:E=g.range,N&&(E=[E[1],E[0]]);var te=Oee(g,a,f),ee=te.scale,Z=te.realScaleType;ee.domain(y).range(E),Lee(ee);var V=Fee(ee,Zl(Zl({},g),{},{realScaleType:Z}));i==="xAxis"?(B=v==="top"&&!_||v==="bottom"&&_,I=n.left,F=A[C]-B*g.height):i==="yAxis"&&(B=v==="left"&&!_||v==="right"&&_,I=A[C]-B*g.width,F=n.top);var X=Zl(Zl(Zl({},g),V),{},{realScaleType:Z,x:I,y:F,scale:ee,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return X.bandSize=Bj(X,V),!g.hide&&i==="xAxis"?A[C]+=(B?-1:1)*X.height:g.hide||(A[C]+=(B?-1:1)*X.width),Zl(Zl({},m),{},r_({},x,X))},{})},xte=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Dqe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return xte({x:r,y:n},{x:i,y:a})},yte=function(){function e(t){Fqe(this,e),this.scale=t}return Uqe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();r_(yte,"EPS",1e-4);var dT=function(t){var r=Object.keys(t).reduce(function(n,i){return Zl(Zl({},n),{},r_({},i,yte.create(t[i])))},{});return Zl(Zl({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return iqe(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Ate(i,function(a,o){return r[o].isInRange(a)})}})};function Mqe(e){return(e%180+180)%180}var Qqe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Mqe(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},$qe=yd,Hqe=Yv,Vqe=F5;function zqe(e){return function(t,r,n){var i=Object(t);if(!Hqe(t)){var a=$qe(r);t=Vqe(t),r=function(l){return a(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}var Kqe=zqe,Wqe=cte;function Gqe(e){var t=Wqe(e),r=t%1;return t===t?r?t-r:t:0}var qqe=Gqe,Yqe=fJ,Xqe=yd,Zqe=qqe,Jqe=Math.max;function eYe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Zqe(r);return i<0&&(i=Jqe(n+i,0)),Yqe(e,Xqe(t),i)}var tYe=eYe,rYe=Kqe,nYe=tYe,sYe=rYe(nYe),iYe=sYe;const aYe=en(iYe);var oYe=J3e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),uT=j.createContext(void 0),hT=j.createContext(void 0),vte=j.createContext(void 0),bte=j.createContext({}),wte=j.createContext(void 0),jte=j.createContext(0),Nte=j.createContext(0),ZQ=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=oYe(a);return Ce.createElement(uT.Provider,{value:n},Ce.createElement(hT.Provider,{value:i},Ce.createElement(bte.Provider,{value:a},Ce.createElement(vte.Provider,{value:u},Ce.createElement(wte.Provider,{value:o},Ce.createElement(jte.Provider,{value:d},Ce.createElement(Nte.Provider,{value:c},l)))))))},lYe=function(){return j.useContext(wte)},_te=function(t){var r=j.useContext(uT);r==null&&Xf();var n=r[t];return n==null&&Xf(),n},cYe=function(){var t=j.useContext(uT);return gh(t)},dYe=function(){var t=j.useContext(hT),r=aYe(t,function(n){return Ate(n.domain,Number.isFinite)});return r||gh(t)},Cte=function(t){var r=j.useContext(hT);r==null&&Xf();var n=r[t];return n==null&&Xf(),n},uYe=function(){var t=j.useContext(vte);return t},hYe=function(){return j.useContext(bte)},AT=function(){return j.useContext(Nte)},fT=function(){return j.useContext(jte)};function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function AYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bte(n.key),n)}}function mYe(e,t,r){return t&&fYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pYe(e,t,r){return t=Kj(t),gYe(e,Ste()?Reflect.construct(t,r||[],Kj(e).constructor):t.apply(e,r))}function gYe(e,t){if(t&&(jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xYe(e)}function xYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ste(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ste=function(){return!!e})()}function Kj(e){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kj(e)}function yYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qk(e,t)}function qk(e,t){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qk(e,t)}function JQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JQ(Object(r),!0).forEach(function(n){mT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mT(e,t,r){return t=Bte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bte(e){var t=vYe(e,"string");return jg(t)=="symbol"?t:t+""}function vYe(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bYe(e,t){return _Ye(e)||NYe(e,t)||jYe(e,t)||wYe()}function wYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jYe(e,t){if(e){if(typeof e=="string")return t$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t$(e,t)}}function t$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NYe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function _Ye(e){if(Array.isArray(e))return e}function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yk.apply(this,arguments)}var CYe=function(t,r){var n;return Ce.isValidElement(t)?n=Ce.cloneElement(t,r):ir(t)?n=t(r):n=Ce.createElement("line",Yk({},r,{className:"recharts-reference-line-line"})),n},SYe=function(t,r,n,i,a,o,l,c,d){var u=a.x,A=a.y,f=a.width,m=a.height;if(n){var x=d.y,g=t.y.apply(x,{position:o});if(rd(d,"discard")&&!t.y.isInRange(g))return null;var v=[{x:u+f,y:g},{x:u,y:g}];return c==="left"?v.reverse():v}if(r){var y=d.x,b=t.x.apply(y,{position:o});if(rd(d,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:A+m},{x:b,y:A}];return l==="top"?w.reverse():w}if(i){var _=d.segment,N=_.map(function(C){return t.apply(C,{position:o})});return rd(d,"discard")&&XGe(N,function(C){return!t.isInRange(C)})?null:N}return null};function BYe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=lYe(),u=_te(i),A=Cte(a),f=uYe();if(!d||!f)return null;lc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=dT({x:u.scale,y:A.scale}),x=pi(t),g=pi(r),v=n&&n.length===2,y=SYe(m,x,g,v,f,e.position,u.orientation,A.orientation,e);if(!y)return null;var b=bYe(y,2),w=b[0],_=w.x,N=w.y,C=b[1],P=C.x,E=C.y,I=rd(e,"hidden")?"url(#".concat(d,")"):void 0,F=e$(e$({clipPath:I},Zt(e,!0)),{},{x1:_,y1:N,x2:P,y2:E});return Ce.createElement(Tr,{className:pr("recharts-reference-line",l)},CYe(o,F),Ni.renderCallByParent(e,Dqe({x1:_,y1:N,x2:P,y2:E})))}var pT=function(e){function t(){return AYe(this,t),pYe(this,t,arguments)}return yYe(t,e),mYe(t,[{key:"render",value:function(){return Ce.createElement(BYe,this.props)}}])}(Ce.Component);mT(pT,"displayName","ReferenceLine");mT(pT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Xk(){return Xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xk.apply(this,arguments)}function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function r$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(r),!0).forEach(function(n){n_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kte(n.key),n)}}function PYe(e,t,r){return t&&kYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IYe(e,t,r){return t=Wj(t),TYe(e,Ete()?Reflect.construct(t,r||[],Wj(e).constructor):t.apply(e,r))}function TYe(e,t){if(t&&(Ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OYe(e)}function OYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ete(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ete=function(){return!!e})()}function Wj(e){return Wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wj(e)}function LYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zk(e,t)}function Zk(e,t){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zk(e,t)}function n_(e,t,r){return t=kte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kte(e){var t=FYe(e,"string");return Ng(t)=="symbol"?t:t+""}function FYe(e,t){if(Ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UYe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=dT({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return rd(t,"discard")&&!o.isInRange(l)?null:l},s_=function(e){function t(){return EYe(this,t),IYe(this,t,arguments)}return LYe(t,e),PYe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=pi(i),u=pi(a);if(lc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var A=UYe(this.props);if(!A)return null;var f=A.x,m=A.y,x=this.props,g=x.shape,v=x.className,y=rd(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=n$(n$({clipPath:y},Zt(this.props,!0)),{},{cx:f,cy:m});return Ce.createElement(Tr,{className:pr("recharts-reference-dot",v)},t.renderDot(g,b),Ni.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(Ce.Component);n_(s_,"displayName","ReferenceDot");n_(s_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});n_(s_,"renderDot",function(e,t){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,t):ir(e)?r=e(t):r=Ce.createElement(rb,Xk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jk.apply(this,arguments)}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function s$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ite(n.key),n)}}function MYe(e,t,r){return t&&DYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QYe(e,t,r){return t=Gj(t),$Ye(e,Pte()?Reflect.construct(t,r||[],Gj(e).constructor):t.apply(e,r))}function $Ye(e,t){if(t&&(_g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HYe(e)}function HYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pte=function(){return!!e})()}function Gj(e){return Gj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gj(e)}function VYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}function e3(e,t){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e3(e,t)}function i_(e,t,r){return t=Ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ite(e){var t=zYe(e,"string");return _g(t)=="symbol"?t:t+""}function zYe(e,t){if(_g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KYe=function(t,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,u=a.xAxis,A=a.yAxis;if(!u||!A)return null;var f=dT({x:u.scale,y:A.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},x={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(d,{position:"end"}):f.y.rangeMax};return rd(a,"discard")&&(!f.isInRange(m)||!f.isInRange(x))?null:xte(m,x)},a_=function(e){function t(){return RYe(this,t),QYe(this,t,arguments)}return VYe(t,e),MYe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;lc(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=pi(i),f=pi(a),m=pi(o),x=pi(l),g=this.props.shape;if(!A&&!f&&!m&&!x&&!g)return null;var v=KYe(A,f,m,x,this.props);if(!v&&!g)return null;var y=rd(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ce.createElement(Tr,{className:pr("recharts-reference-area",c)},t.renderRect(g,i$(i$({clipPath:y},Zt(this.props,!0)),v)),Ni.renderCallByParent(this.props,v))}}])}(Ce.Component);i_(a_,"displayName","ReferenceArea");i_(a_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});i_(a_,"renderRect",function(e,t){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,t):ir(e)?r=e(t):r=Ce.createElement(lT,Jk({},t,{className:"recharts-reference-area-rect"})),r});function Tte(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function WYe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Qqe(n,r)}function GYe(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function qj(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function qYe(e,t){return Tte(e,t+1)}function YYe(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,A=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:Tte(n,d)};var g=c,v,y=function(){return v===void 0&&(v=r(x,g)),v},b=x.coordinate,w=c===0||qj(e,b,y,u,l);w||(c=0,u=o,d+=1),w&&(u=b+e*(y()/2+i),c+=d)},f;d<=a.length;)if(f=A(),f)return f.v;return[]}function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(n){XYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XYe(e,t,r){return t=ZYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZYe(e){var t=JYe(e,"string");return fv(t)=="symbol"?t:t+""}function JYe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eXe(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,d=function(f){var m=a[f],x,g=function(){return x===void 0&&(x=r(m,f)),x};if(f===o-1){var v=e*(m.coordinate+e*g()/2-c);a[f]=m=na(na({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else a[f]=m=na(na({},m),{},{tickCoord:m.coordinate});var y=qj(e,m.tickCoord,g,l,c);y&&(c=m.tickCoord-e*(g()/2+i),a[f]=na(na({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return a}function tXe(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(a){var u=n[l-1],A=r(u,l-1),f=e*(u.coordinate+e*A/2-d);o[l-1]=u=na(na({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var m=qj(e,u.tickCoord,function(){return A},c,d);m&&(d=u.tickCoord-e*(A/2+i),o[l-1]=na(na({},u),{},{isShow:!0}))}for(var x=a?l-1:l,g=function(b){var w=o[b],_,N=function(){return _===void 0&&(_=r(w,b)),_};if(b===0){var C=e*(w.coordinate-e*N()/2-c);o[b]=w=na(na({},w),{},{tickCoord:C<0?w.coordinate-C*e:w.coordinate})}else o[b]=w=na(na({},w),{},{tickCoord:w.coordinate});var P=qj(e,w.tickCoord,N,c,d);P&&(c=w.tickCoord+e*(N()/2+i),o[b]=na(na({},w),{},{isShow:!0}))},v=0;v<x;v++)g(v);return o}function gT(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,A=e.angle;if(!i||!i.length||!n)return[];if(wt(c)||hA.isSsr)return qYe(i,typeof c=="number"&&wt(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",x=u&&m==="width"?Kx(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(w,_){var N=ir(d)?d(w.value,_):w.value;return m==="width"?WYe(Kx(N,{fontSize:t,letterSpacing:r}),x,A):Kx(N,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?Na(i[1].coordinate-i[0].coordinate):1,y=GYe(a,v,m);return c==="equidistantPreserveStart"?YYe(v,y,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=tXe(v,y,g,i,o,c==="preserveStartEnd"):f=eXe(v,y,g,i,o),f.filter(function(b){return b.isShow}))}var rXe=["viewBox"],nXe=["viewBox"],sXe=["ticks"];function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(this,arguments)}function o$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(r),!0).forEach(function(n){xT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nB(e,t){if(e==null)return{};var r=iXe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lte(n.key),n)}}function oXe(e,t,r){return t&&l$(e.prototype,t),r&&l$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lXe(e,t,r){return t=Yj(t),cXe(e,Ote()?Reflect.construct(t,r||[],Yj(e).constructor):t.apply(e,r))}function cXe(e,t){if(t&&(Cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dXe(e)}function dXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ote(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ote=function(){return!!e})()}function Yj(e){return Yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yj(e)}function uXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t3(e,t)}function xT(e,t,r){return t=Lte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lte(e){var t=hXe(e,"string");return Cg(t)=="symbol"?t:t+""}function hXe(e,t){if(Cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var d0=function(e){function t(r){var n;return aXe(this,t),n=lXe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return uXe(t,e),oXe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=nB(n,rXe),l=this.props,c=l.viewBox,d=nB(l,nXe);return!$p(a,c)||!$p(o,d)||!$p(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,u=i.tickSize,A=i.mirror,f=i.tickMargin,m,x,g,v,y,b,w=A?-1:1,_=n.tickSize||u,N=wt(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":m=x=n.coordinate,v=o+ +!A*c,g=v-w*_,b=g-w*f,y=N;break;case"left":g=v=n.coordinate,x=a+ +!A*l,m=x-w*_,y=m-w*f,b=N;break;case"right":g=v=n.coordinate,x=a+ +A*l,m=x+w*_,y=m+w*f,b=N;break;default:m=x=n.coordinate,v=o+ +A*c,g=v+w*_,b=g+w*f,y=N;break}return{line:{x1:m,y1:g,x2:x,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,A=di(di(di({},Zt(this.props,!1)),Zt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);A=di(di({},A),{},{x1:i,y1:a+f*l,x2:i+o,y2:a+f*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);A=di(di({},A),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+l})}return Ce.createElement("line",xp({},A,{className:pr("recharts-cartesian-axis-line",Eo(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,A=l.tickFormatter,f=l.unit,m=gT(di(di({},this.props),{},{ticks:n}),i,a),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Zt(this.props,!1),y=Zt(u,!1),b=di(di({},v),{},{fill:"none"},Zt(c,!1)),w=m.map(function(_,N){var C=o.getTickLineCoord(_),P=C.line,E=C.tick,I=di(di(di(di({textAnchor:x,verticalAnchor:g},v),{},{stroke:"none",fill:d},y),E),{},{index:N,payload:_,visibleTicksCount:m.length,tickFormatter:A});return Ce.createElement(Tr,xp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Wf(o.props,_,N)),c&&Ce.createElement("line",xp({},b,P,{className:pr("recharts-cartesian-axis-tick-line",Eo(c,"className"))})),u&&t.renderTickItem(u,I,"".concat(ir(A)?A(_.value,N):_.value).concat(f||"")))});return Ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,u=i.hide;if(u)return null;var A=this.props,f=A.ticks,m=nB(A,sXe),x=f;return ir(c)&&(x=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:Ce.createElement(Tr,{className:pr("recharts-cartesian-axis",d),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Ni.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=pr(i.className,"recharts-cartesian-axis-tick-value");return Ce.isValidElement(n)?o=Ce.cloneElement(n,di(di({},i),{},{className:l})):ir(n)?o=n(di(di({},i),{},{className:l})):o=Ce.createElement(Gf,xp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(j.Component);xT(d0,"displayName","CartesianAxis");xT(d0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var AXe=["x1","y1","x2","y2","key"],fXe=["offset"];function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function c$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(r),!0).forEach(function(n){mXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mXe(e,t,r){return t=pXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pXe(e){var t=gXe(e,"string");return Zf(t)=="symbol"?t:t+""}function gXe(e,t){if(Zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(this,arguments)}function d$(e,t){if(e==null)return{};var r=xXe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yXe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return Ce.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Fte(e,t){var r;if(Ce.isValidElement(e))r=Ce.cloneElement(e,t);else if(ir(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=d$(t,AXe),d=Zt(c,!1);d.offset;var u=d$(d,fXe);r=Ce.createElement("line",cf({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function vXe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=oa(oa({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Fte(i,d)});return Ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function bXe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=oa(oa({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Fte(i,d)});return Ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function wXe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==u[0]&&u.unshift(0);var A=u.map(function(f,m){var x=!u[m+1],g=x?i+o-f:u[m+1]-f;if(g<=0)return null;var v=m%t.length;return Ce.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:g,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function jXe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==u[0]&&u.unshift(0);var A=u.map(function(f,m){var x=!u[m+1],g=x?a+l-f:u[m+1]-f;if(g<=0)return null;var v=m%n.length;return Ce.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var NXe=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return Tee(gT(oa(oa(oa({},d0.defaultProps),n),{},{ticks:Yd(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},_Xe=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return Tee(gT(oa(oa(oa({},d0.defaultProps),n),{},{ticks:Yd(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Hm={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _f(e){var t,r,n,i,a,o,l=AT(),c=fT(),d=hYe(),u=oa(oa({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hm.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hm.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hm.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Hm.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Hm.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Hm.verticalFill,x:wt(e.x)?e.x:d.left,y:wt(e.y)?e.y:d.top,width:wt(e.width)?e.width:d.width,height:wt(e.height)?e.height:d.height}),A=u.x,f=u.y,m=u.width,x=u.height,g=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=cYe(),w=dYe();if(!wt(m)||m<=0||!wt(x)||x<=0||!wt(A)||A!==+A||!wt(f)||f!==+f)return null;var _=u.verticalCoordinatesGenerator||NXe,N=u.horizontalCoordinatesGenerator||_Xe,C=u.horizontalPoints,P=u.verticalPoints;if((!C||!C.length)&&ir(N)){var E=v&&v.length,I=N({yAxis:w?oa(oa({},w),{},{ticks:E?v:w.ticks}):void 0,width:l,height:c,offset:d},E?!0:g);lc(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zf(I),"]")),Array.isArray(I)&&(C=I)}if((!P||!P.length)&&ir(_)){var F=y&&y.length,B=_({xAxis:b?oa(oa({},b),{},{ticks:F?y:b.ticks}):void 0,width:l,height:c,offset:d},F?!0:g);lc(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zf(B),"]")),Array.isArray(B)&&(P=B)}return Ce.createElement("g",{className:"recharts-cartesian-grid"},Ce.createElement(yXe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ce.createElement(vXe,cf({},u,{offset:d,horizontalPoints:C,xAxis:b,yAxis:w})),Ce.createElement(bXe,cf({},u,{offset:d,verticalPoints:P,xAxis:b,yAxis:w})),Ce.createElement(wXe,cf({},u,{horizontalPoints:C})),Ce.createElement(jXe,cf({},u,{verticalPoints:P})))}_f.displayName="CartesianGrid";var CXe=["type","layout","connectNulls","ref"],SXe=["key"];function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function u$(e,t){if(e==null)return{};var r=BXe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}function h$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(r),!0).forEach(function(n){Jl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vm(e){return IXe(e)||PXe(e)||kXe(e)||EXe()}function EXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kXe(e,t){if(e){if(typeof e=="string")return r3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r3(e,t)}}function PXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IXe(e){if(Array.isArray(e))return r3(e)}function r3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rte(n.key),n)}}function OXe(e,t,r){return t&&A$(e.prototype,t),r&&A$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LXe(e,t,r){return t=Xj(t),FXe(e,Ute()?Reflect.construct(t,r||[],Xj(e).constructor):t.apply(e,r))}function FXe(e,t){if(t&&(Sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UXe(e)}function UXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ute(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ute=function(){return!!e})()}function Xj(e){return Xj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xj(e)}function RXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}function n3(e,t){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n3(e,t)}function Jl(e,t,r){return t=Rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=DXe(e,"string");return Sg(t)=="symbol"?t:t+""}function DXe(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jf=function(e){function t(){var r;TXe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=LXe(this,t,[].concat(i)),Jl(r,"state",{isAnimationFinished:!0,totalLength:0}),Jl(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Jl(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(y,b){return y+b});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),A=o%d,f=l-o,m=[],x=0,g=0;x<c.length;g+=c[x],++x)if(g+c[x]>A){m=[].concat(Vm(c.slice(0,x)),[A-g]);break}var v=m.length%2===0?[0,f]:[f];return[].concat(Vm(t.repeat(c,u)),Vm(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Jl(r,"id",dm("recharts-line-")),Jl(r,"pathRef",function(o){r.mainCurve=o}),Jl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Jl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return RXe(t,e),OXe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,A=ko(u,tb);if(!A)return null;var f=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Hs(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Ce.createElement(Tr,m,A.map(function(x){return Ce.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,A=Zt(this.props,!1),f=Zt(c,!0),m=d.map(function(g,v){var y=xo(xo(xo({key:"dot-".concat(v),r:3},A),f),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:d});return t.renderDotItem(c,y)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Ce.createElement(Tr,Zx({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var A=u$(l,CXe),f=xo(xo(xo({},Zt(A,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return Ce.createElement(Nf,Zx({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,A=o.animationDuration,f=o.animationEasing,m=o.animationId,x=o.animateNewValues,g=o.width,v=o.height,y=this.state,b=y.prevPoints,w=y.totalLength;return Ce.createElement(pc,{begin:u,duration:A,isActive:d,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var N=_.t;if(b){var C=b.length/l.length,P=l.map(function(O,R){var U=Math.floor(R*C);if(b[U]){var $=b[U],K=fi($.x,O.x),H=fi($.y,O.y);return xo(xo({},O),{},{x:K(N),y:H(N)})}if(x){var z=fi(g*2,O.x),te=fi(v/2,O.y);return xo(xo({},O),{},{x:z(N),y:te(N)})}return xo(xo({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(P,n,i)}var E=fi(0,w),I=E(N),F;if(c){var B="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});F=a.getStrokeDasharray(I,w,B)}else F=a.generateSimpleStrokeDasharray(w,I);return a.renderCurveStatically(l,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!qf(d,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,u=i.yAxis,A=i.top,f=i.left,m=i.width,x=i.height,g=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=pr("recharts-line",c),_=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,C=_||N,P=fr(v)?this.id:v,E=(n=Zt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=E.r,F=I===void 0?3:I,B=E.strokeWidth,O=B===void 0?2:B,R=_Z(o)?o:{},U=R.clipDot,$=U===void 0?!0:U,K=F*2+O;return Ce.createElement(Tr,{className:w},_||N?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(P)},Ce.createElement("rect",{x:_?f:f-m/2,y:N?A:A-x/2,width:_?m:m*2,height:N?x:x*2})),!$&&Ce.createElement("clipPath",{id:"clipPath-dots-".concat(P)},Ce.createElement("rect",{x:f-K/2,y:A-K/2,width:m+K,height:x+K}))):null,!b&&this.renderCurve(C,P),this.renderErrorBar(C,P),(b||o)&&this.renderDots(C,$,P),(!g||y)&&td.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Vm(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(Vm(o),Vm(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(Ce.isValidElement(n))a=Ce.cloneElement(n,i);else if(ir(n))a=n(i);else{var o=i.key,l=u$(i,SXe),c=pr("recharts-line-dot",typeof n!="boolean"?n.className:"");a=Ce.createElement(rb,Zx({key:o},l,{className:c}))}return a}}])}(j.PureComponent);Jl(Jf,"displayName","Line");Jl(Jf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hA.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Jl(Jf,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,A=c.map(function(f,m){var x=Hs(f,o);return u==="horizontal"?{x:Sj({axis:r,ticks:i,bandSize:l,entry:f,index:m}),y:fr(x)?null:n.scale(x),value:x,payload:f}:{x:fr(x)?null:r.scale(x),y:Sj({axis:n,ticks:a,bandSize:l,entry:f,index:m}),value:x,payload:f}});return xo({points:A,layout:u},d)});var MXe=["layout","type","stroke","connectNulls","isRange","ref"],QXe=["key"],Dte;function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function Mte(e,t){if(e==null)return{};var r=$Xe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Xe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(this,arguments)}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(n){zc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$te(n.key),n)}}function VXe(e,t,r){return t&&m$(e.prototype,t),r&&m$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zXe(e,t,r){return t=Zj(t),KXe(e,Qte()?Reflect.construct(t,r||[],Zj(e).constructor):t.apply(e,r))}function KXe(e,t){if(t&&(Bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WXe(e)}function WXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qte=function(){return!!e})()}function Zj(e){return Zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zj(e)}function GXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s3(e,t)}function zc(e,t,r){return t=$te(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $te(e){var t=qXe(e,"string");return Bg(t)=="symbol"?t:t+""}function qXe(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ku=function(e){function t(){var r;HXe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zXe(this,t,[].concat(i)),zc(r,"state",{isAnimationFinished:!0}),zc(r,"id",dm("recharts-area-")),zc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ir(o)&&o()}),zc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ir(o)&&o()}),r}return GXe(t,e),VXe(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,A=c.dataKey,f=Zt(this.props,!1),m=Zt(d,!0),x=u.map(function(v,y){var b=oh(oh(oh({key:"dot-".concat(y),r:3},f),m),{},{index:y,cx:v.x,cy:v.y,dataKey:A,value:v.value,payload:v.payload,points:u});return t.renderDotItem(d,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Ce.createElement(Tr,df({className:"recharts-area-dots"},g),x)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=n*Math.abs(c-d),A=Ch(o.map(function(f){return f.y||0}));return wt(a)&&typeof a=="number"?A=Math.max(a,A):a&&Array.isArray(a)&&a.length&&(A=Math.max(Ch(a.map(function(f){return f.y||0})),A)),wt(A)?Ce.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(A+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=n*Math.abs(c-d),A=Ch(o.map(function(f){return f.x||0}));return wt(a)&&typeof a=="number"?A=Math.max(a,A):a&&Array.isArray(a)&&a.length&&(A=Math.max(Ch(a.map(function(f){return f.x||0})),A)),wt(A)?Ce.createElement("rect",{x:0,y:c<d?c:c-u,width:A+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,A=l.connectNulls,f=l.isRange;l.ref;var m=Mte(l,MXe);return Ce.createElement(Tr,{clipPath:a?"url(#clipPath-".concat(o,")"):null},Ce.createElement(Nf,df({},Zt(m,!0),{points:n,connectNulls:A,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Ce.createElement(Nf,df({},Zt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:A,fill:"none",points:n})),u!=="none"&&f&&Ce.createElement(Nf,df({},Zt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:A,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,A=o.animationDuration,f=o.animationEasing,m=o.animationId,x=this.state,g=x.prevPoints,v=x.prevBaseLine;return Ce.createElement(pc,{begin:u,duration:A,isActive:d,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(g){var w=g.length/l.length,_=l.map(function(E,I){var F=Math.floor(I*w);if(g[F]){var B=g[F],O=fi(B.x,E.x),R=fi(B.y,E.y);return oh(oh({},E),{},{x:O(b),y:R(b)})}return E}),N;if(wt(c)&&typeof c=="number"){var C=fi(v,c);N=C(b)}else if(fr(c)||n0(c)){var P=fi(v,0);N=P(b)}else N=c.map(function(E,I){var F=Math.floor(I*w);if(v[F]){var B=v[F],O=fi(B.x,E.x),R=fi(B.y,E.y);return oh(oh({},E),{},{x:O(b),y:R(b)})}return E});return a.renderAreaStatically(_,N,n,i)}return Ce.createElement(Tr,null,Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),Ce.createElement(Tr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,d=this.state,u=d.prevPoints,A=d.prevBaseLine,f=d.totalLength;return c&&o&&o.length&&(!u&&f>0||!qf(u,o)||!qf(A,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.top,u=i.left,A=i.xAxis,f=i.yAxis,m=i.width,x=i.height,g=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=pr("recharts-area",c),_=A&&A.allowDataOverflow,N=f&&f.allowDataOverflow,C=_||N,P=fr(v)?this.id:v,E=(n=Zt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=E.r,F=I===void 0?3:I,B=E.strokeWidth,O=B===void 0?2:B,R=_Z(o)?o:{},U=R.clipDot,$=U===void 0?!0:U,K=F*2+O;return Ce.createElement(Tr,{className:w},_||N?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(P)},Ce.createElement("rect",{x:_?u:u-m/2,y:N?d:d-x/2,width:_?m:m*2,height:N?x:x*2})),!$&&Ce.createElement("clipPath",{id:"clipPath-dots-".concat(P)},Ce.createElement("rect",{x:u-K/2,y:d-K/2,width:m+K,height:x+K}))):null,b?null:this.renderArea(C,P),(o||b)&&this.renderDots(C,$,P),(!g||y)&&td.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(j.PureComponent);Dte=ku;zc(ku,"displayName","Area");zc(ku,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!hA.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zc(ku,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(wt(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),A=Math.min(d[0],d[1]);return l==="dataMin"?A:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});zc(ku,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,A=e.displayedData,f=e.offset,m=t.layout,x=d&&d.length,g=Dte.getBaseValue(t,r,n,i),v=m==="horizontal",y=!1,b=A.map(function(_,N){var C;x?C=d[u+N]:(C=Hs(_,c),Array.isArray(C)?y=!0:C=[g,C]);var P=C[1]==null||x&&Hs(_,c)==null;return v?{x:Sj({axis:n,ticks:a,bandSize:l,entry:_,index:N}),y:P?null:i.scale(C[1]),value:C,payload:_}:{x:P?null:n.scale(C[1]),y:Sj({axis:i,ticks:o,bandSize:l,entry:_,index:N}),value:C,payload:_}}),w;return x||y?w=b.map(function(_){var N=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:N!=null&&_.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:_.y}}):w=v?i.scale(g):n.scale(g),oh({points:b,baseLine:w,layout:m,isRange:y},f)});zc(ku,"renderDotItem",function(e,t){var r;if(Ce.isValidElement(e))r=Ce.cloneElement(e,t);else if(ir(e))r=e(t);else{var n=pr("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=Mte(t,QXe);r=Ce.createElement(rb,df({},a,{key:i,className:n}))}return r});function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function YXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XXe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zte(n.key),n)}}function ZXe(e,t,r){return t&&XXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JXe(e,t,r){return t=Jj(t),eZe(e,Hte()?Reflect.construct(t,r||[],Jj(e).constructor):t.apply(e,r))}function eZe(e,t){if(t&&(Eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tZe(e)}function tZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hte=function(){return!!e})()}function Jj(e){return Jj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jj(e)}function rZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i3(e,t)}function Vte(e,t,r){return t=zte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zte(e){var t=nZe(e,"string");return Eg(t)=="symbol"?t:t+""}function nZe(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a3.apply(this,arguments)}function sZe(e){var t=e.xAxisId,r=AT(),n=fT(),i=_te(t);return i==null?null:j.createElement(d0,a3({},i,{className:pr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Yd(o,!0)}}))}var cc=function(e){function t(){return YXe(this,t),JXe(this,t,arguments)}return rZe(t,e),ZXe(t,[{key:"render",value:function(){return j.createElement(sZe,this.props)}}])}(j.Component);Vte(cc,"displayName","XAxis");Vte(cc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function iZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aZe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gte(n.key),n)}}function oZe(e,t,r){return t&&aZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lZe(e,t,r){return t=eN(t),cZe(e,Kte()?Reflect.construct(t,r||[],eN(e).constructor):t.apply(e,r))}function cZe(e,t){if(t&&(kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dZe(e)}function dZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kte=function(){return!!e})()}function eN(e){return eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eN(e)}function uZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o3(e,t)}function o3(e,t){return o3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o3(e,t)}function Wte(e,t,r){return t=Gte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gte(e){var t=hZe(e,"string");return kg(t)=="symbol"?t:t+""}function hZe(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function l3(){return l3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l3.apply(this,arguments)}var AZe=function(t){var r=t.yAxisId,n=AT(),i=fT(),a=Cte(r);return a==null?null:j.createElement(d0,l3({},a,{className:pr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Yd(l,!0)}}))},hl=function(e){function t(){return iZe(this,t),lZe(this,t,arguments)}return uZe(t,e),oZe(t,[{key:"render",value:function(){return j.createElement(AZe,this.props)}}])}(j.Component);Wte(hl,"displayName","YAxis");Wte(hl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function p$(e){return gZe(e)||pZe(e)||mZe(e)||fZe()}function fZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mZe(e,t){if(e){if(typeof e=="string")return c3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c3(e,t)}}function pZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gZe(e){if(Array.isArray(e))return c3(e)}function c3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d3=function(t,r,n,i,a){var o=ko(t,pT),l=ko(t,s_),c=[].concat(p$(o),p$(l)),d=ko(t,a_),u="".concat(i,"Id"),A=i[0],f=r;if(c.length&&(f=c.reduce(function(g,v){if(v.props[u]===n&&rd(v.props,"extendDomain")&&wt(v.props[A])){var y=v.props[A];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},f)),d.length){var m="".concat(A,"1"),x="".concat(A,"2");f=d.reduce(function(g,v){if(v.props[u]===n&&rd(v.props,"extendDomain")&&wt(v.props[m])&&wt(v.props[x])){var y=v.props[m],b=v.props[x];return[Math.min(g[0],y,b),Math.max(g[1],y,b)]}return g},f)}return a&&a.length&&(f=a.reduce(function(g,v){return wt(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},f)),f},qte={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function a(c,d,u,A,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,A||c,f),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,A;if(this._eventsCount===0)return d;for(A in u=this._events)t.call(u,A)&&d.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,A=this._events[u];if(!A)return[];if(A.fn)return[A.fn];for(var f=0,m=A.length,x=new Array(m);f<m;f++)x[f]=A[f].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,A=this._events[u];return A?A.fn?1:A.length:0},l.prototype.emit=function(d,u,A,f,m,x){var g=r?r+d:d;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,A),!0;case 4:return v.fn.call(v.context,u,A,f),!0;case 5:return v.fn.call(v.context,u,A,f,m),!0;case 6:return v.fn.call(v.context,u,A,f,m,x),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var _=v.length,N;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(d,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,A);break;case 4:v[w].fn.call(v[w].context,u,A,f);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(d,u,A){return a(this,d,u,A,!1)},l.prototype.once=function(d,u,A){return a(this,d,u,A,!0)},l.prototype.removeListener=function(d,u,A,f){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===u&&(!f||x.once)&&(!A||x.context===A)&&o(this,m);else{for(var g=0,v=[],y=x.length;g<y;g++)(x[g].fn!==u||f&&!x[g].once||A&&x[g].context!==A)&&v.push(x[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(qte);var xZe=qte.exports;const yZe=en(xZe);var sB=new yZe,iB="recharts.syncMouseEvents";function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function vZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bZe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yte(n.key),n)}}function wZe(e,t,r){return t&&bZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aB(e,t,r){return t=Yte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yte(e){var t=jZe(e,"string");return mv(t)=="symbol"?t:t+""}function jZe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NZe=function(){function e(){vZe(this,e),aB(this,"activeIndex",0),aB(this,"coordinateList",[]),aB(this,"layout","horizontal")}return wZe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,A=u===void 0?null:u,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=A??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,A=a+c+d,f=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:A,pageY:f})}}}])}();function _Ze(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&wt(n)&&wt(i))return!0}return!1}function CZe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Xte(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=Qn(t,r,n,i),l=Qn(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function SZe(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,A=t.angle,f=Qn(l,c,d,A),m=Qn(l,c,u,A);n=f.x,i=f.y,a=m.x,o=m.y}else return Xte(t);return[{x:n,y:i},{x:a,y:o}]}function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(n){BZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BZe(e,t,r){return t=EZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZe(e){var t=kZe(e,"string");return pv(t)=="symbol"?t:t+""}function kZe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PZe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,A=e.layout,f=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var x,g=Nf;if(f==="ScatterChart")x=o,g=DKe;else if(f==="BarChart")x=CZe(A,o,c,u),g=lT;else if(A==="radial"){var v=Xte(o),y=v.cx,b=v.cy,w=v.radius,_=v.startAngle,N=v.endAngle;x={cx:y,cy:b,startAngle:_,endAngle:N,innerRadius:w,outerRadius:w},g=Vee}else x={points:SZe(A,o,c)},g=Nf;var C=Vw(Vw(Vw(Vw({stroke:"#ccc",pointerEvents:"none"},c),x),Zt(m,!1)),{},{payload:l,payloadIndex:d,className:pr("recharts-tooltip-cursor",m.className)});return j.isValidElement(m)?j.cloneElement(m,C):j.createElement(g,C)}var IZe=["item"],TZe=["children","className","width","height","style","compact","title","desc"];function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(this,arguments)}function x$(e,t){return FZe(e)||LZe(e,t)||Jte(e,t)||OZe()}function OZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LZe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function FZe(e){if(Array.isArray(e))return e}function y$(e,t){if(e==null)return{};var r=UZe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DZe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ere(n.key),n)}}function MZe(e,t,r){return t&&DZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QZe(e,t,r){return t=tN(t),$Ze(e,Zte()?Reflect.construct(t,r||[],tN(e).constructor):t.apply(e,r))}function $Ze(e,t){if(t&&(Pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HZe(e)}function HZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zte=function(){return!!e})()}function tN(e){return tN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tN(e)}function VZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u3(e,t)}function u3(e,t){return u3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u3(e,t)}function Ig(e){return WZe(e)||KZe(e)||Jte(e)||zZe()}function zZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(e,t){if(e){if(typeof e=="string")return h3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h3(e,t)}}function KZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WZe(e){if(Array.isArray(e))return h3(e)}function h3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v$(Object(r),!0).forEach(function(n){nr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nr(e,t,r){return t=ere(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ere(e){var t=GZe(e,"string");return Pg(t)=="symbol"?t:t+""}function GZe(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qZe={xAxis:["bottom","top"],yAxis:["left","right"]},YZe={width:"100%",height:"100%"},tre={x:0,y:0};function zw(e){return e}var XZe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ZZe=function(t,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Ze(Ze(Ze({},i),Qn(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return Ze(Ze(Ze({},i),Qn(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return tre},o_=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Ig(l),Ig(d)):l},[]);return o.length>0?o:t&&t.length&&wt(i)&&wt(a)?t.slice(i,a+1):[]};function rre(e){return e==="number"?[0,"auto"]:void 0}var A3=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,l=o_(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,d){var u,A=(u=d.props.data)!==null&&u!==void 0?u:r;A&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(A=A.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=A===void 0?l:A;f=J2(m,o.dataKey,i)}else f=A&&A[n]||l[n];return f?[].concat(Ig(c),[Ree(d,f)]):c},[])},b$=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=XZe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=i9e(o,l,d,c);if(u>=0&&d){var A=d[u]&&d[u].value,f=A3(t,r,u,A),m=ZZe(n,l,u,a);return{activeTooltipIndex:u,activeLabel:A,activePayload:f,activeCoordinate:m}}return null},JZe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,A=t.children,f=t.stackOffset,m=Iee(u,a);return n.reduce(function(x,g){var v,y=g.type.defaultProps!==void 0?Ze(Ze({},g.type.defaultProps),g.props):g.props,b=y.type,w=y.dataKey,_=y.allowDataOverflow,N=y.allowDuplicatedCategory,C=y.scale,P=y.ticks,E=y.includeHidden,I=y[o];if(x[I])return x;var F=o_(t.data,{graphicalItems:i.filter(function(V){var X,W=o in V.props?V.props[o]:(X=V.type.defaultProps)===null||X===void 0?void 0:X[o];return W===I}),dataStartIndex:c,dataEndIndex:d}),B=F.length,O,R,U;_Ze(y.domain,_,b)&&(O=Ck(y.domain,null,_),m&&(b==="number"||C!=="auto")&&(U=Gx(F,w,"category")));var $=rre(b);if(!O||O.length===0){var K,H=(K=y.domain)!==null&&K!==void 0?K:$;if(w){if(O=Gx(F,w,b),b==="category"&&m){var z=qPe(O);N&&z?(R=O,O=Qj(0,B)):N||(O=V7(H,O,g).reduce(function(V,X){return V.indexOf(X)>=0?V:[].concat(Ig(V),[X])},[]))}else if(b==="category")N?O=O.filter(function(V){return V!==""&&!fr(V)}):O=V7(H,O,g).reduce(function(V,X){return V.indexOf(X)>=0||X===""||fr(X)?V:[].concat(Ig(V),[X])},[]);else if(b==="number"){var te=d9e(F,i.filter(function(V){var X,W,ae=o in V.props?V.props[o]:(X=V.type.defaultProps)===null||X===void 0?void 0:X[o],ie="hide"in V.props?V.props.hide:(W=V.type.defaultProps)===null||W===void 0?void 0:W.hide;return ae===I&&(E||!ie)}),w,a,u);te&&(O=te)}m&&(b==="number"||C!=="auto")&&(U=Gx(F,w,"category"))}else m?O=Qj(0,B):l&&l[I]&&l[I].hasStack&&b==="number"?O=f==="expand"?[0,1]:Uee(l[I].stackGroups,c,d):O=Pee(F,i.filter(function(V){var X=o in V.props?V.props[o]:V.type.defaultProps[o],W="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return X===I&&(E||!W)}),b,u,!0);if(b==="number")O=d3(A,O,I,a,P),H&&(O=Ck(H,O,_));else if(b==="category"&&H){var ee=H,Z=O.every(function(V){return ee.indexOf(V)>=0});Z&&(O=ee)}}return Ze(Ze({},x),{},nr({},I,Ze(Ze({},y),{},{axisType:a,domain:O,categoricalDomain:U,duplicateDomain:R,originalDomain:(v=y.domain)!==null&&v!==void 0?v:$,isCategorical:m,layout:u})))},{})},eJe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,A=t.children,f=o_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),m=f.length,x=Iee(u,a),g=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?Ze(Ze({},y.type.defaultProps),y.props):y.props,w=b[o],_=rre("number");if(!v[w]){g++;var N;return x?N=Qj(0,m):l&&l[w]&&l[w].hasStack?(N=Uee(l[w].stackGroups,c,d),N=d3(A,N,w,a)):(N=Ck(_,Pee(f,n.filter(function(C){var P,E,I=o in C.props?C.props[o]:(P=C.type.defaultProps)===null||P===void 0?void 0:P[o],F="hide"in C.props?C.props.hide:(E=C.type.defaultProps)===null||E===void 0?void 0:E.hide;return I===w&&!F}),"number",u),i.defaultProps.allowDataOverflow),N=d3(A,N,w,a)),Ze(Ze({},v),{},nr({},w,Ze(Ze({axisType:a},i.defaultProps),{},{hide:!0,orientation:Eo(qZe,"".concat(a,".").concat(g%2),null),domain:N,originalDomain:_,isCategorical:x,layout:u})))}return v},{})},tJe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,A="".concat(i,"Id"),f=ko(u,a),m={};return f&&f.length?m=JZe(t,{axes:f,graphicalItems:o,axisType:i,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(m=eJe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},rJe=function(t){var r=gh(t),n=Yd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:LI(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Bj(r,n)}},w$=function(t){var r=t.children,n=t.defaultShowTooltip,i=bo(r,bg),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},nJe=function(t){return!t||!t.length?!1:t.some(function(r){var n=iu(r&&r.type);return n&&n.indexOf("Bar")>=0})},j$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sJe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,A=n.children,f=n.margin||{},m=bo(A,bg),x=bo(A,$h),g=Object.keys(c).reduce(function(N,C){var P=c[C],E=P.orientation;return!P.mirror&&!P.hide?Ze(Ze({},N),{},nr({},E,N[E]+P.width)):N},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(N,C){var P=o[C],E=P.orientation;return!P.mirror&&!P.hide?Ze(Ze({},N),{},nr({},E,Eo(N,"".concat(E))+P.height)):N},{top:f.top||0,bottom:f.bottom||0}),y=Ze(Ze({},v),g),b=y.bottom;m&&(y.bottom+=m.props.height||bg.defaultProps.height),x&&r&&(y=l9e(y,i,n,r));var w=d-y.left-y.right,_=u-y.top-y.bottom;return Ze(Ze({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(_,0)})},iJe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},l_=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,A=t.defaultProps,f=function(y,b){var w=b.graphicalItems,_=b.stackGroups,N=b.offset,C=b.updateId,P=b.dataStartIndex,E=b.dataEndIndex,I=y.barSize,F=y.layout,B=y.barGap,O=y.barCategoryGap,R=y.maxBarSize,U=j$(F),$=U.numericAxisName,K=U.cateAxisName,H=nJe(w),z=[];return w.forEach(function(te,ee){var Z=o_(y.data,{graphicalItems:[te],dataStartIndex:P,dataEndIndex:E}),V=te.type.defaultProps!==void 0?Ze(Ze({},te.type.defaultProps),te.props):te.props,X=V.dataKey,W=V.maxBarSize,ae=V["".concat($,"Id")],ie=V["".concat(K,"Id")],ce={},be=c.reduce(function(We,me){var Be=b["".concat(me.axisType,"Map")],Oe=V["".concat(me.axisType,"Id")];Be&&Be[Oe]||me.axisType==="zAxis"||Xf();var Ne=Be[Oe];return Ze(Ze({},We),{},nr(nr({},me.axisType,Ne),"".concat(me.axisType,"Ticks"),Yd(Ne)))},ce),he=be[K],ge=be["".concat(K,"Ticks")],Se=_&&_[ae]&&_[ae].hasStack&&y9e(te,_[ae].stackGroups),re=iu(te.type).indexOf("Bar")>=0,_e=Bj(he,ge),ue=[],J=H&&a9e({barSize:I,stackGroups:_,totalSize:iJe(be,K)});if(re){var fe,ye,Ie=fr(W)?R:W,ke=(fe=(ye=Bj(he,ge,!0))!==null&&ye!==void 0?ye:Ie)!==null&&fe!==void 0?fe:0;ue=o9e({barGap:B,barCategoryGap:O,bandSize:ke!==_e?ke:_e,sizeList:J[ie],maxBarSize:Ie}),ke!==_e&&(ue=ue.map(function(We){return Ze(Ze({},We),{},{position:Ze(Ze({},We.position),{},{offset:We.position.offset-ke/2})})}))}var He=te&&te.type&&te.type.getComposedData;He&&z.push({props:Ze(Ze({},He(Ze(Ze({},be),{},{displayedData:Z,props:y,dataKey:X,item:te,bandSize:_e,barPosition:ue,offset:N,stackedData:Se,layout:F,dataStartIndex:P,dataEndIndex:E}))),{},nr(nr(nr({key:te.key||"item-".concat(ee)},$,be[$]),K,be[K]),"animationId",C)),childIndex:o6e(te,y.children),item:te})}),z},m=function(y,b){var w=y.props,_=y.dataStartIndex,N=y.dataEndIndex,C=y.updateId;if(!RM({props:w}))return null;var P=w.children,E=w.layout,I=w.stackOffset,F=w.data,B=w.reverseStackOrder,O=j$(E),R=O.numericAxisName,U=O.cateAxisName,$=ko(P,n),K=g9e(F,$,"".concat(R,"Id"),"".concat(U,"Id"),I,B),H=c.reduce(function(V,X){var W="".concat(X.axisType,"Map");return Ze(Ze({},V),{},nr({},W,tJe(w,Ze(Ze({},X),{},{graphicalItems:$,stackGroups:X.axisType===R&&K,dataStartIndex:_,dataEndIndex:N}))))},{}),z=sJe(Ze(Ze({},H),{},{props:w,graphicalItems:$}),b==null?void 0:b.legendBBox);Object.keys(H).forEach(function(V){H[V]=u(w,H[V],z,V.replace("Map",""),r)});var te=H["".concat(U,"Map")],ee=rJe(te),Z=f(w,Ze(Ze({},H),{},{dataStartIndex:_,dataEndIndex:N,updateId:C,graphicalItems:$,stackGroups:K,offset:z}));return Ze(Ze({formattedGraphicalItems:Z,graphicalItems:$,offset:z,stackGroups:K},ee),H)},x=function(v){function y(b){var w,_,N;return RZe(this,y),N=QZe(this,y,[b]),nr(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nr(N,"accessibilityManager",new NZe),nr(N,"handleLegendBBoxUpdate",function(C){if(C){var P=N.state,E=P.dataStartIndex,I=P.dataEndIndex,F=P.updateId;N.setState(Ze({legendBBox:C},m({props:N.props,dataStartIndex:E,dataEndIndex:I,updateId:F},Ze(Ze({},N.state),{},{legendBBox:C}))))}}),nr(N,"handleReceiveSyncEvent",function(C,P,E){if(N.props.syncId===C){if(E===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(P)}}),nr(N,"handleBrushChange",function(C){var P=C.startIndex,E=C.endIndex;if(P!==N.state.dataStartIndex||E!==N.state.dataEndIndex){var I=N.state.updateId;N.setState(function(){return Ze({dataStartIndex:P,dataEndIndex:E},m({props:N.props,dataStartIndex:P,dataEndIndex:E,updateId:I},N.state))}),N.triggerSyncEvent({dataStartIndex:P,dataEndIndex:E})}}),nr(N,"handleMouseEnter",function(C){var P=N.getMouseInfo(C);if(P){var E=Ze(Ze({},P),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var I=N.props.onMouseEnter;ir(I)&&I(E,C)}}),nr(N,"triggeredAfterMouseMove",function(C){var P=N.getMouseInfo(C),E=P?Ze(Ze({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(E),N.triggerSyncEvent(E);var I=N.props.onMouseMove;ir(I)&&I(E,C)}),nr(N,"handleItemMouseEnter",function(C){N.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),nr(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),nr(N,"handleMouseMove",function(C){C.persist(),N.throttleTriggeredAfterMouseMove(C)}),nr(N,"handleMouseLeave",function(C){N.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var E=N.props.onMouseLeave;ir(E)&&E(P,C)}),nr(N,"handleOuterEvent",function(C){var P=a6e(C),E=Eo(N.props,"".concat(P));if(P&&ir(E)){var I,F;/.*touch.*/i.test(P)?F=N.getMouseInfo(C.changedTouches[0]):F=N.getMouseInfo(C),E((I=F)!==null&&I!==void 0?I:{},C)}}),nr(N,"handleClick",function(C){var P=N.getMouseInfo(C);if(P){var E=Ze(Ze({},P),{},{isTooltipActive:!0});N.setState(E),N.triggerSyncEvent(E);var I=N.props.onClick;ir(I)&&I(E,C)}}),nr(N,"handleMouseDown",function(C){var P=N.props.onMouseDown;if(ir(P)){var E=N.getMouseInfo(C);P(E,C)}}),nr(N,"handleMouseUp",function(C){var P=N.props.onMouseUp;if(ir(P)){var E=N.getMouseInfo(C);P(E,C)}}),nr(N,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),nr(N,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseDown(C.changedTouches[0])}),nr(N,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseUp(C.changedTouches[0])}),nr(N,"handleDoubleClick",function(C){var P=N.props.onDoubleClick;if(ir(P)){var E=N.getMouseInfo(C);P(E,C)}}),nr(N,"handleContextMenu",function(C){var P=N.props.onContextMenu;if(ir(P)){var E=N.getMouseInfo(C);P(E,C)}}),nr(N,"triggerSyncEvent",function(C){N.props.syncId!==void 0&&sB.emit(iB,N.props.syncId,C,N.eventEmitterSymbol)}),nr(N,"applySyncEvent",function(C){var P=N.props,E=P.layout,I=P.syncMethod,F=N.state.updateId,B=C.dataStartIndex,O=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)N.setState(Ze({dataStartIndex:B,dataEndIndex:O},m({props:N.props,dataStartIndex:B,dataEndIndex:O,updateId:F},N.state)));else if(C.activeTooltipIndex!==void 0){var R=C.chartX,U=C.chartY,$=C.activeTooltipIndex,K=N.state,H=K.offset,z=K.tooltipTicks;if(!H)return;if(typeof I=="function")$=I(z,C);else if(I==="value"){$=-1;for(var te=0;te<z.length;te++)if(z[te].value===C.activeLabel){$=te;break}}var ee=Ze(Ze({},H),{},{x:H.left,y:H.top}),Z=Math.min(R,ee.x+ee.width),V=Math.min(U,ee.y+ee.height),X=z[$]&&z[$].value,W=A3(N.state,N.props.data,$),ae=z[$]?{x:E==="horizontal"?z[$].coordinate:Z,y:E==="horizontal"?V:z[$].coordinate}:tre;N.setState(Ze(Ze({},C),{},{activeLabel:X,activeCoordinate:ae,activePayload:W,activeTooltipIndex:$}))}else N.setState(C)}),nr(N,"renderCursor",function(C){var P,E=N.state,I=E.isTooltipActive,F=E.activeCoordinate,B=E.activePayload,O=E.offset,R=E.activeTooltipIndex,U=E.tooltipAxisBandSize,$=N.getTooltipEventType(),K=(P=C.props.active)!==null&&P!==void 0?P:I,H=N.props.layout,z=C.key||"_recharts-cursor";return Ce.createElement(PZe,{key:z,activeCoordinate:F,activePayload:B,activeTooltipIndex:R,chartName:r,element:C,isActive:K,layout:H,offset:O,tooltipAxisBandSize:U,tooltipEventType:$})}),nr(N,"renderPolarAxis",function(C,P,E){var I=Eo(C,"type.axisType"),F=Eo(N.state,"".concat(I,"Map")),B=C.type.defaultProps,O=B!==void 0?Ze(Ze({},B),C.props):C.props,R=F&&F[O["".concat(I,"Id")]];return j.cloneElement(C,Ze(Ze({},R),{},{className:pr(I,R.className),key:C.key||"".concat(P,"-").concat(E),ticks:Yd(R,!0)}))}),nr(N,"renderPolarGrid",function(C){var P=C.props,E=P.radialLines,I=P.polarAngles,F=P.polarRadius,B=N.state,O=B.radiusAxisMap,R=B.angleAxisMap,U=gh(O),$=gh(R),K=$.cx,H=$.cy,z=$.innerRadius,te=$.outerRadius;return j.cloneElement(C,{polarAngles:Array.isArray(I)?I:Yd($,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(F)?F:Yd(U,!0).map(function(ee){return ee.coordinate}),cx:K,cy:H,innerRadius:z,outerRadius:te,key:C.key||"polar-grid",radialLines:E})}),nr(N,"renderLegend",function(){var C=N.state.formattedGraphicalItems,P=N.props,E=P.children,I=P.width,F=P.height,B=N.props.margin||{},O=I-(B.left||0)-(B.right||0),R=Eee({children:E,formattedGraphicalItems:C,legendWidth:O,legendContent:d});if(!R)return null;var U=R.item,$=y$(R,IZe);return j.cloneElement(U,Ze(Ze({},$),{},{chartWidth:I,chartHeight:F,margin:B,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),nr(N,"renderTooltip",function(){var C,P=N.props,E=P.children,I=P.accessibilityLayer,F=bo(E,ia);if(!F)return null;var B=N.state,O=B.isTooltipActive,R=B.activeCoordinate,U=B.activePayload,$=B.activeLabel,K=B.offset,H=(C=F.props.active)!==null&&C!==void 0?C:O;return j.cloneElement(F,{viewBox:Ze(Ze({},K),{},{x:K.left,y:K.top}),active:H,label:$,payload:H?U:[],coordinate:R,accessibilityLayer:I})}),nr(N,"renderBrush",function(C){var P=N.props,E=P.margin,I=P.data,F=N.state,B=F.offset,O=F.dataStartIndex,R=F.dataEndIndex,U=F.updateId;return j.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Mw(N.handleBrushChange,C.props.onChange),data:I,x:wt(C.props.x)?C.props.x:B.left,y:wt(C.props.y)?C.props.y:B.top+B.height+B.brushBottom-(E.bottom||0),width:wt(C.props.width)?C.props.width:B.width,startIndex:O,endIndex:R,updateId:"brush-".concat(U)})}),nr(N,"renderReferenceElement",function(C,P,E){if(!C)return null;var I=N,F=I.clipPathId,B=N.state,O=B.xAxisMap,R=B.yAxisMap,U=B.offset,$=C.type.defaultProps||{},K=C.props,H=K.xAxisId,z=H===void 0?$.xAxisId:H,te=K.yAxisId,ee=te===void 0?$.yAxisId:te;return j.cloneElement(C,{key:C.key||"".concat(P,"-").concat(E),xAxis:O[z],yAxis:R[ee],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:F})}),nr(N,"renderActivePoints",function(C){var P=C.item,E=C.activePoint,I=C.basePoint,F=C.childIndex,B=C.isRange,O=[],R=P.props.key,U=P.item.type.defaultProps!==void 0?Ze(Ze({},P.item.type.defaultProps),P.item.props):P.item.props,$=U.activeDot,K=U.dataKey,H=Ze(Ze({index:F,dataKey:K,cx:E.x,cy:E.y,r:4,fill:oT(P.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Zt($,!1)),ej($));return O.push(y.renderActiveDot($,H,"".concat(R,"-activePoint-").concat(F))),I?O.push(y.renderActiveDot($,Ze(Ze({},H),{},{cx:I.x,cy:I.y}),"".concat(R,"-basePoint-").concat(F))):B&&O.push(null),O}),nr(N,"renderGraphicChild",function(C,P,E){var I=N.filterFormatItem(C,P,E);if(!I)return null;var F=N.getTooltipEventType(),B=N.state,O=B.isTooltipActive,R=B.tooltipAxis,U=B.activeTooltipIndex,$=B.activeLabel,K=N.props.children,H=bo(K,ia),z=I.props,te=z.points,ee=z.isRange,Z=z.baseLine,V=I.item.type.defaultProps!==void 0?Ze(Ze({},I.item.type.defaultProps),I.item.props):I.item.props,X=V.activeDot,W=V.hide,ae=V.activeBar,ie=V.activeShape,ce=!!(!W&&O&&H&&(X||ae||ie)),be={};F!=="axis"&&H&&H.props.trigger==="click"?be={onClick:Mw(N.handleItemMouseEnter,C.props.onClick)}:F!=="axis"&&(be={onMouseLeave:Mw(N.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Mw(N.handleItemMouseEnter,C.props.onMouseEnter)});var he=j.cloneElement(C,Ze(Ze({},I.props),be));function ge(me){return typeof R.dataKey=="function"?R.dataKey(me.payload):null}if(ce)if(U>=0){var Se,re;if(R.dataKey&&!R.allowDuplicatedCategory){var _e=typeof R.dataKey=="function"?ge:"payload.".concat(R.dataKey.toString());Se=J2(te,_e,$),re=ee&&Z&&J2(Z,_e,$)}else Se=te==null?void 0:te[U],re=ee&&Z&&Z[U];if(ie||ae){var ue=C.props.activeIndex!==void 0?C.props.activeIndex:U;return[j.cloneElement(C,Ze(Ze(Ze({},I.props),be),{},{activeIndex:ue})),null,null]}if(!fr(Se))return[he].concat(Ig(N.renderActivePoints({item:I,activePoint:Se,basePoint:re,childIndex:U,isRange:ee})))}else{var J,fe=(J=N.getItemByXY(N.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:he},ye=fe.graphicalItem,Ie=ye.item,ke=Ie===void 0?C:Ie,He=ye.childIndex,We=Ze(Ze(Ze({},I.props),be),{},{activeIndex:He});return[j.cloneElement(ke,We),null,null]}return ee?[he,null,null]:[he,null]}),nr(N,"renderCustomized",function(C,P,E){return j.cloneElement(C,Ze(Ze({key:"recharts-customized-".concat(E)},N.props),N.state))}),nr(N,"renderMap",{CartesianGrid:{handler:zw,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:zw},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:zw},YAxis:{handler:zw},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:dm("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=BJ(N.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return VZe(y,v),MZe(y,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,N=w.data,C=w.height,P=w.layout,E=bo(_,ia);if(E){var I=E.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,B=A3(this.state,N,I,F),O=this.state.tooltipTicks[I].coordinate,R=(this.state.offset.top+C)/2,U=P==="horizontal",$=U?{x:O,y:R}:{y:O,x:R},K=this.state.formattedGraphicalItems.find(function(z){var te=z.item;return te.type.name==="Scatter"});K&&($=Ze(Ze({},$),K.props.points[I].tooltipPosition),B=K.props.points[I].tooltipPayload);var H={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:F,activePayload:B,activeCoordinate:$};this.setState(H),this.renderCursor(E),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,C;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){QE([bo(w.children,ia)],[bo(this.props.children,ia)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=bo(this.props.children,ia);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),C=T8e(N),P={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},E=N.width/_.offsetWidth||1,I=this.inRange(P.chartX,P.chartY,E);if(!I)return null;var F=this.state,B=F.xAxisMap,O=F.yAxisMap,R=this.getTooltipEventType(),U=b$(this.state,this.props.data,this.props.layout,I);if(R!=="axis"&&B&&O){var $=gh(B).scale,K=gh(O).scale,H=$&&$.invert?$.invert(P.chartX):null,z=K&&K.invert?K.invert(P.chartY):null;return Ze(Ze({},P),{},{xValue:H,yValue:z},U)}return U?Ze(Ze({},P),U):null}},{key:"inRange",value:function(w,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,P=w/N,E=_/N;if(C==="horizontal"||C==="vertical"){var I=this.state.offset,F=P>=I.left&&P<=I.left+I.width&&E>=I.top&&E<=I.top+I.height;return F?{x:P,y:E}:null}var B=this.state,O=B.angleAxisMap,R=B.radiusAxisMap;if(O&&R){var U=gh(O);return W7({x:P,y:E},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),N=bo(w,ia),C={};N&&_==="axis"&&(N.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=ej(this.props,this.handleOuterEvent);return Ze(Ze({},P),C)}},{key:"addListener",value:function(){sB.on(iB,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sB.removeListener(iB,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,N){for(var C=this.state.formattedGraphicalItems,P=0,E=C.length;P<E;P++){var I=C[P];if(I.item===w||I.props.key===w.key||_===iu(I.item.type)&&N===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,N=_.left,C=_.top,P=_.height,E=_.width;return Ce.createElement("defs",null,Ce.createElement("clipPath",{id:w},Ce.createElement("rect",{x:N,y:C,height:P,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,N){var C=x$(N,2),P=C[0],E=C[1];return Ze(Ze({},_),{},nr({},P,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,N){var C=x$(N,2),P=C[0],E=C[1];return Ze(Ze({},_),{},nr({},P,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,N=_.formattedGraphicalItems,C=_.activeItem;if(N&&N.length)for(var P=0,E=N.length;P<E;P++){var I=N[P],F=I.props,B=I.item,O=B.type.defaultProps!==void 0?Ze(Ze({},B.type.defaultProps),B.props):B.props,R=iu(B.type);if(R==="Bar"){var U=(F.data||[]).find(function(z){return yKe(w,z)});if(U)return{graphicalItem:I,payload:U}}else if(R==="RadialBar"){var $=(F.data||[]).find(function(z){return W7(w,z)});if($)return{graphicalItem:I,payload:$}}else if(e_(I,C)||t_(I,C)||dv(I,C)){var K=oGe({graphicalItem:I,activeTooltipItem:C,itemData:O.data}),H=O.activeIndex===void 0?K:O.activeIndex;return{graphicalItem:Ze(Ze({},I),{},{childIndex:H}),payload:dv(I,C)?O.data[K]:I.props.data[K]}}}return null}},{key:"render",value:function(){var w=this;if(!RM(this))return null;var _=this.props,N=_.children,C=_.className,P=_.width,E=_.height,I=_.style,F=_.compact,B=_.title,O=_.desc,R=y$(_,TZe),U=Zt(R,!1);if(F)return Ce.createElement(ZQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement(HE,yp({},U,{width:P,height:E,title:B,desc:O}),this.renderClipPath(),MM(N,this.renderMap)));if(this.props.accessibilityLayer){var $,K;U.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,U.role=(K=this.props.role)!==null&&K!==void 0?K:"application",U.onKeyDown=function(z){w.accessibilityManager.keyboardEvent(z)},U.onFocus=function(){w.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return Ce.createElement(ZQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement("div",yp({className:pr("recharts-wrapper",C),style:Ze({position:"relative",cursor:"default",width:P,height:E},I)},H,{ref:function(te){w.container=te}}),Ce.createElement(HE,yp({},U,{width:P,height:E,title:B,desc:O,style:YZe}),this.renderClipPath(),MM(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);nr(x,"displayName",r),nr(x,"defaultProps",Ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},A)),nr(x,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,_=v.children,N=v.width,C=v.height,P=v.layout,E=v.stackOffset,I=v.margin,F=y.dataStartIndex,B=y.dataEndIndex;if(y.updateId===void 0){var O=w$(v);return Ze(Ze(Ze({},O),{},{updateId:0},m(Ze(Ze({props:v},O),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:C,prevLayout:P,prevStackOffset:E,prevMargin:I,prevChildren:_})}if(b!==y.prevDataKey||w!==y.prevData||N!==y.prevWidth||C!==y.prevHeight||P!==y.prevLayout||E!==y.prevStackOffset||!$p(I,y.prevMargin)){var R=w$(v),U={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=Ze(Ze({},b$(y,w,P)),{},{updateId:y.updateId+1}),K=Ze(Ze(Ze({},R),U),$);return Ze(Ze(Ze({},K),m(Ze({props:v},K),y)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:C,prevLayout:P,prevStackOffset:E,prevMargin:I,prevChildren:_})}if(!QE(_,y.prevChildren)){var H,z,te,ee,Z=bo(_,bg),V=Z&&(H=(z=Z.props)===null||z===void 0?void 0:z.startIndex)!==null&&H!==void 0?H:F,X=Z&&(te=(ee=Z.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&te!==void 0?te:B,W=V!==F||X!==B,ae=!fr(w),ie=ae&&!W?y.updateId:y.updateId+1;return Ze(Ze({updateId:ie},m(Ze(Ze({props:v},y),{},{updateId:ie,dataStartIndex:V,dataEndIndex:X}),y)),{},{prevChildren:_,dataStartIndex:V,dataEndIndex:X})}return null}),nr(x,"renderActiveDot",function(v,y,b){var w;return j.isValidElement(v)?w=j.cloneElement(v,y):ir(v)?w=v(y):w=Ce.createElement(rb,y),Ce.createElement(Tr,{className:"recharts-active-dot",key:b},w)});var g=j.forwardRef(function(y,b){return Ce.createElement(x,yp({},y,{ref:b}))});return g.displayName=x.displayName,g},nre=l_({chartName:"LineChart",GraphicalChild:Jf,axisComponents:[{axisType:"xAxis",AxisComp:cc},{axisType:"yAxis",AxisComp:hl}],formatAxisMap:cT}),sre=l_({chartName:"BarChart",GraphicalChild:bu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:cc},{axisType:"yAxis",AxisComp:hl}],formatAxisMap:cT}),aJe=l_({chartName:"PieChart",GraphicalChild:Eu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:J5},{axisType:"radiusAxis",AxisComp:X5}],formatAxisMap:E9e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ire=l_({chartName:"AreaChart",GraphicalChild:ku,axisComponents:[{axisType:"xAxis",AxisComp:cc},{axisType:"yAxis",AxisComp:hl}],formatAxisMap:cT});const oJe=({onClose:e})=>{const t=eo(),r=Ar(),i=(()=>{try{const A=localStorage.getItem("user");return A?JSON.parse(A):null}catch(A){return console.error("Error parsing user data:",A),null}})(),a=[{name:"Dashboard",href:"/admin-dashboard",icon:Ir},{name:"All Users",href:"/admin-users",icon:Hr},{name:"Add Admin",href:"/admin-add-admin",icon:tr},{name:"Room Owners",href:"/admin-owners",icon:cr},{name:"Seekers",href:"/admin-seekers",icon:cr},{name:"Properties",href:"/admin-properties",icon:Zr},{name:"Settings",href:"/admin-settings",icon:rc}],o=()=>{e&&e()},l=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login"),e&&e()},c=A=>t.pathname===A,d={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},u={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(Y.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-gray-200 flex flex-col shadow-xl",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs(Y.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsx(Y.div,{className:"w-8 h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Admin",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"})," Admin"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Co-Living Platform"})]})]}),s.jsx(Y.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Close sidebar",variants:u,whileHover:"hover",whileTap:"tap",children:s.jsx(ar,{className:"w-5 h-5"})})]}),s.jsx(Y.div,{className:"flex-shrink-0 p-4 border-b border-gray-200",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Y.div,{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx(tr,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(i==null?void 0:i.name)||"Admin User"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:(i==null?void 0:i.email)||"admin@lyvo.com"})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s.jsx("div",{className:"px-4 space-y-2",children:a.map((A,f)=>{const m=A.icon;return s.jsx(Y.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25+f*.05,duration:.3,ease:"easeOut"},children:s.jsx(Y.div,{variants:d,whileHover:"hover",whileTap:"tap",children:s.jsxs(Ot,{to:A.href,onClick:o,className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${c(A.href)?"text-red-700 bg-red-50 border-r-2 border-red-700":"text-gray-700 hover:text-red-700 hover:bg-red-50"}`,children:[s.jsx(m,{className:`mr-3 h-5 w-5 ${c(A.href)?"text-red-700":"text-gray-400 group-hover:text-red-700"}`}),A.name]})})},A.name)})})}),s.jsx(Y.div,{className:"flex-shrink-0 p-4 border-t border-gray-200",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:s.jsxs(Y.button,{onClick:l,className:"group flex items-center w-full px-3 py-3 text-sm font-medium text-gray-700 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200",variants:u,whileHover:"hover",whileTap:"tap",children:[s.jsx(gl,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-red-700"}),"Logout"]})})]})},lJe=({onMenuClick:e})=>{const[t,r]=j.useState(!1),[n,i]=j.useState(!1),[a,o]=j.useState([]),[l,c]=j.useState(!1),[d,u]=j.useState(0),A=Ar(),m=(()=>{try{const F=localStorage.getItem("user");return F?JSON.parse(F):null}catch(F){return console.error("Error parsing user data:",F),null}})();j.useEffect(()=>{const F=B=>{B.target.closest(".dropdown-container")||(r(!1),i(!1))};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const x=()=>{r(!t),i(!1)},g=()=>{i(!n),r(!1)},v=async()=>{c(!0);try{const F=localStorage.getItem("authToken"),B=JSON.parse(localStorage.getItem("user")||"{}");if(!F||!B._id)return;const O={"Content-Type":"application/json",Authorization:`Bearer ${F}`,"x-user-id":B._id},[R,U,$]=await Promise.all([Ye.get("/notifications",{headers:{"x-user-id":B._id}}),Ye.get("/user/all",{headers:{"x-user-id":B._id}}),Ye.get("/property/admin/properties?limit=100",{headers:{"x-user-id":B._id}})]),K=R.data,H=U.data,z=$.data,te=H.data||[],ee=z.data||z.properties||[],Z=[];K.success&&K.data&&K.data.filter(ie=>!ie.is_read).forEach(ie=>{var ce,be;Z.push({_id:ie._id,id:ie._id,type:ie.type||"general",icon:(ce=ie.type)!=null&&ce.includes("property")?m2:(be=ie.type)!=null&&be.includes("user")?jy:Xt,title:ie.title,message:ie.message,time:N(ie.createdAt),actionUrl:ie.action_url,isRead:ie.is_read,createdAt:ie.createdAt})});const V=y();ee.filter(ie=>ie.approval_status==="pending").slice(0,3).forEach(ie=>{const ce=`pending-prop-${ie._id}`;if(V.includes(ce))return;Z.find(he=>he.message&&he.message.includes(ie.property_name)&&he.type.includes("property"))||Z.push({id:ce,type:"property_approval",icon:m2,title:"Property Approval Required",message:`${ie.property_name} is waiting for approval`,time:N(ie.createdAt),actionUrl:`/admin-property-details/${ie._id}`,isRead:!1,createdAt:ie.createdAt,isSystemGenerated:!0})});const W=new Date(Date.now()-24*60*60*1e3);te.filter(ie=>ie.role!==2&&new Date(ie.createdAt)>W).sort((ie,ce)=>new Date(ce.createdAt)-new Date(ie.createdAt)).slice(0,3).forEach(ie=>{const ce=`new-user-${ie._id}`;if(V.includes(ce))return;const be=ie.role===1?"Seeker":ie.role===3?"Owner":"User";Z.find(ge=>ge.message&&ge.message.includes(ie.name)&&ge.type.includes("user"))||Z.push({id:ce,type:"user_registration",icon:jy,title:`New ${be} Registered`,message:`${ie.name} just joined the platform`,time:N(ie.createdAt),actionUrl:ie.role===3?"/admin-owners":"/admin-seekers",isRead:!1,createdAt:ie.createdAt,isSystemGenerated:!0})}),Z.sort((ie,ce)=>{const be=ie.type==="property_approval"?0:1,he=ce.type==="property_approval"?0:1;return be!==he?be-he:new Date(ce.createdAt)-new Date(ie.createdAt)}),o(Z),u(Z.length),w()}catch(F){console.error("Error fetching admin notifications:",F)}finally{c(!1)}},y=()=>{try{const F=localStorage.getItem("admin_dismissed_notifications");return F?JSON.parse(F):[]}catch{return[]}},b=F=>{try{const B=y();B.includes(F)||(B.push(F),localStorage.setItem("admin_dismissed_notifications",JSON.stringify(B)))}catch(B){console.error("Error saving dismissed notification:",B)}},w=F=>{try{const O=y().filter($=>$.startsWith("pending-prop-")||$.startsWith("new-user-")),R=Date.now()-7*24*60*60*1e3,U=O.slice(-50);localStorage.setItem("admin_dismissed_notifications",JSON.stringify(U))}catch(B){console.error("Error cleaning up dismissed notifications:",B)}},_=async(F,B)=>{try{if(B){b(F),o($=>$.filter(K=>K.id!==F)),u($=>Math.max(0,$-1));return}const O=localStorage.getItem("authToken"),R=JSON.parse(localStorage.getItem("user")||"{}");if(!O||!R._id)return;(await Ye.delete(`/notifications/${F}`,{headers:{"x-user-id":R._id}})).status===200&&(o($=>$.filter(K=>K._id!==F)),u($=>Math.max(0,$-1)),v())}catch(O){console.error("Error deleting notification:",O)}},N=F=>{const B=new Date(F),R=Math.floor((new Date-B)/1e3);return R<60?`${R}s ago`:R<3600?`${Math.floor(R/60)}m ago`:R<86400?`${Math.floor(R/3600)}h ago`:R<2592e3?`${Math.floor(R/86400)}d ago`:`${Math.floor(R/2592e3)}mo ago`};j.useEffect(()=>{v();const F=setInterval(v,3e4);return()=>clearInterval(F)},[]);const C=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),A("/login")},P=F=>{F.actionUrl&&(A(F.actionUrl),i(!1))};j.useEffect(()=>{const F=B=>{console.log(" AdminNavbar received new-notification event:",B.detail),v()};return window.addEventListener("new-notification",F),()=>window.removeEventListener("new-notification",F)},[]);const E={hidden:{opacity:0,y:-10,scale:.95,transformOrigin:"top right"},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15,ease:"easeIn"}}},I={hover:{scale:1.05,transition:{duration:.1}},tap:{scale:.95,transition:{duration:.1}}};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 py-3 lg:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx(Y.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Toggle menu",variants:I,whileHover:"hover",whileTap:"tap",children:s.jsx(SN,{className:"w-5 h-5"})}),s.jsxs(Ot,{to:"/admin-dashboard",className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(Y.div,{className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Admin",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Lyvo Admin"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Co-Living Platform"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(Y.button,{onClick:g,className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 relative","aria-label":"Notifications",variants:I,whileHover:"hover",whileTap:"tap",children:[s.jsx(id,{className:"w-5 h-5"}),d>0&&s.jsx(Y.span,{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white px-1",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:15},children:d>9?"9+":d})]}),s.jsx(Mr,{children:n&&s.jsxs(Y.div,{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:E,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),d>0&&s.jsxs("span",{className:"px-2 py-1 text-xs font-semibold bg-red-100 text-red-700 rounded-full",children:[d," new"]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:l?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Loading notifications..."})]}):a.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(id,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-sm font-medium",children:"No notifications"}),s.jsx("p",{className:"text-xs mt-1",children:"You're all caught up!"})]}):a.map((F,B)=>{const O=F.icon;return s.jsxs(Y.div,{className:`relative p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors group ${F.type==="property_approval"?"bg-orange-50 hover:bg-orange-100":""}`,whileHover:{backgroundColor:F.type==="property_approval"?"#fed7aa":"#f9fafb"},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:B*.05,duration:.2},children:[s.jsxs("div",{className:"flex items-start space-x-3 pr-8",onClick:()=>P(F),children:[s.jsx("div",{className:`p-2 rounded-lg ${F.type==="property_approval"?"bg-orange-200 text-orange-700":"bg-blue-100 text-blue-600"}`,children:s.jsx(O,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:F.title}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:F.message}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-1.5"}),F.time]})]}),F.type==="property_approval"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Xt,{className:"w-4 h-4 text-orange-600"})})]}),s.jsx("button",{onClick:R=>{R.stopPropagation(),_(F._id||F.id,F.isSystemGenerated)},className:"absolute top-3 right-3 p-1 rounded-full hover:bg-red-100 transition-colors opacity-0 group-hover:opacity-100",title:"Dismiss notification",children:s.jsx(rr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]},F.id)})}),a.length>0&&s.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:()=>{i(!1),A("/admin-properties")},className:"w-full text-sm text-red-600 hover:text-red-700 font-medium py-2 hover:bg-red-50 rounded-md transition-colors",children:"View all pending approvals "})})]})})]}),s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(Y.button,{onClick:x,className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"User menu",variants:I,whileHover:"hover",whileTap:"tap",children:[s.jsx(Y.div,{className:"w-7 h-7 sm:w-8 sm:h-8 bg-red-100 rounded-full flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx(cr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:(m==null?void 0:m.name)||"Admin"})]}),s.jsx(Mr,{children:t&&s.jsx(Y.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:E,initial:"hidden",animate:"visible",exit:"exit",children:s.jsxs("div",{className:"py-2",children:[s.jsx(Y.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs(Ot,{to:"/admin-settings",className:"block px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx(rc,{className:"w-4 h-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(Y.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs("button",{onClick:C,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx(gl,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})})]})})})]})]})]})})},cJe=()=>s.jsx("footer",{className:"bg-white border-t border-gray-200 px-6 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lyvo"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Co-Living Platform"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Quick Links"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Support"})}),s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Privacy"})}),s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Terms"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Contact"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("div",{children:"admin@lyvo.com"}),s.jsx("div",{children:"+44 20 7998 7571"})]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center text-sm text-gray-600",children:[" ",new Date().getFullYear()," Lyvo. All rights reserved."]})})]})}),fl=({children:e,showSidebar:t=!0})=>{const[r,n]=j.useState(!1),i=()=>{n(!r)},a=()=>{n(!1)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:a}),t&&s.jsx("div",{className:`
          fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out
          ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:s.jsx(oJe,{onClose:a})}),s.jsxs("div",{className:`flex flex-col min-h-screen ${t?"lg:pl-64":""}`,children:[s.jsx("div",{className:"sticky top-0 z-30 bg-white",children:s.jsx(lJe,{onMenuClick:i})}),s.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-x-hidden",children:e}),s.jsx(cJe,{})]})]})},dJe=()=>{const[e,t]=j.useState("overview"),[r,n]=j.useState(!0),[i,a]=j.useState([]),[o,l]=j.useState([]),[c,d]=j.useState([]),[u,A]=j.useState({totalUsers:0,activeProperties:0,monthlyRevenue:0,pendingApprovals:0}),f=_=>{const N=new Date(_),P=Math.floor((new Date-N)/1e3);return P<60?`${P} seconds ago`:P<3600?`${Math.floor(P/60)} minutes ago`:P<86400?`${Math.floor(P/3600)} hours ago`:P<2592e3?`${Math.floor(P/86400)} days ago`:`${Math.floor(P/2592e3)} months ago`},m=_=>_>=1e7?`${(_/1e7).toFixed(1)}Cr`:_>=1e5?`${(_/1e5).toFixed(1)}L`:_>=1e3?`${(_/1e3).toFixed(1)}K`:`${_}`;j.useEffect(()=>{(async()=>{n(!0);try{const N=localStorage.getItem("authToken"),C={"Content-Type":"application/json",Authorization:N?`Bearer ${N}`:""},[P,E,I]=await Promise.all([Ye.get("/user/all"),Ye.get("/property/admin/properties?limit=1000"),Ye.get("/property/debug/bookings")]),F=P.data,B=E.data,O=I.data;a(F.data||[]),l(B.data||B.properties||[]),d(O.bookings||[])}catch(N){console.error("Error fetching dashboard data:",N)}finally{n(!1)}})()},[]);const x=j.useMemo(()=>{const _=i.filter(O=>O.role!==2).length,N=o.length,C=o.filter(O=>(O.approval_status==="approved"||O.status==="active")&&O.status!=="inactive").length,P=o.filter(O=>O.approval_status==="pending").length;console.log("Dashboard Stats:",{totalProperties:o.length,activeProperties:C,pendingApprovals:P,propertiesBreakdown:o.map(O=>({name:O.property_name,approval_status:O.approval_status,status:O.status,isActive:(O.approval_status==="approved"||O.status==="active")&&O.status!=="inactive"}))});const E=new Date().getMonth(),I=new Date().getFullYear(),B=c.filter(O=>{var U;const R=new Date(O.createdAt);return R.getMonth()===E&&R.getFullYear()===I&&O.status==="confirmed"&&((U=O.payment)==null?void 0:U.paymentStatus)==="completed"}).reduce((O,R)=>{var U;return O+(((U=R.payment)==null?void 0:U.amount)||0)},0);return{totalUsers:_,totalProperties:N,activeProperties:C,monthlyRevenue:B,pendingApprovals:P}},[i,o,c]),g=j.useMemo(()=>{const _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=[],C=new Date;for(let E=5;E>=0;E--){const I=new Date(C.getFullYear(),C.getMonth()-E,1),F=I.getMonth(),B=I.getFullYear(),O=i.filter(R=>{if(R.role===2)return!1;const U=new Date(R.createdAt);return U.getMonth()===F&&U.getFullYear()===B}).length;N.push({month:_[F],users:O,growth:O})}let P=0;return N.map(E=>(P+=E.users,{...E,users:P}))},[i]),v=j.useMemo(()=>{const _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=[],C=new Date;for(let P=5;P>=0;P--){const E=new Date(C.getFullYear(),C.getMonth()-P,1),I=E.getMonth(),F=E.getFullYear(),B=c.filter(R=>{var $;const U=new Date(R.createdAt);return U.getMonth()===I&&U.getFullYear()===F&&R.status==="confirmed"&&(($=R.payment)==null?void 0:$.paymentStatus)==="completed"}),O=B.reduce((R,U)=>{var $;return R+((($=U.payment)==null?void 0:$.amount)||0)},0);N.push({month:_[I],revenue:O,bookings:B.length})}return N},[c]),y=[{title:"Total Users",value:x.totalUsers.toLocaleString(),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{title:"Total Properties",value:x.totalProperties.toString(),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{title:"Monthly Revenue",value:m(x.monthlyRevenue),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{title:"Pending Approvals",value:x.pendingApprovals.toString(),change:"0%",changeType:x.pendingApprovals>0?"negative":"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}],b=j.useMemo(()=>{const _=[];return i.filter(E=>E.role!==2).sort((E,I)=>new Date(I.createdAt)-new Date(E.createdAt)).slice(0,3).forEach(E=>{_.push({id:`user-${E._id}`,type:"user_registration",message:`New user registered: ${E.name}`,time:f(E.createdAt),status:"success"})}),o.sort((E,I)=>new Date(I.createdAt)-new Date(E.createdAt)).slice(0,2).forEach(E=>{E.approval_status==="approved"&&_.push({id:`prop-${E._id}`,type:"property_approval",message:`Property approved: ${E.property_name}`,time:f(E.updatedAt||E.createdAt),status:"success"})}),c.filter(E=>{var I;return E.status==="confirmed"&&((I=E.payment)==null?void 0:I.paymentStatus)==="completed"}).sort((E,I)=>new Date(I.createdAt)-new Date(E.createdAt)).slice(0,2).forEach(E=>{var I;_.push({id:`booking-${E._id}`,type:"payment_received",message:`Payment received: ${m(((I=E.payment)==null?void 0:I.amount)||0)}`,time:f(E.createdAt),status:"success"})}),_.sort((E,I)=>0).slice(0,5)},[i,o,c]),w=[{id:"overview",label:"Overview",icon:""},{id:"analytics",label:"Analytics",icon:""},{id:"reports",label:"Reports",icon:""}];return r?s.jsx(fl,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xs,{className:"w-12 h-12 text-red-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading dashboard data..."})]})})}):s.jsx(fl,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsx("p",{className:"mt-1 lg:mt-2 text-sm lg:text-base text-gray-600",children:"Welcome back! Here's what's happening with your platform today."})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2 lg:space-x-3",children:[s.jsx("button",{className:"px-3 lg:px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-sm",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("button",{className:"px-3 lg:px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 text-sm",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:y.map((_,N)=>s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:N*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6 hover:shadow-md transition-shadow duration-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:_.title}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900 mt-1",children:_.value}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("span",{className:`text-xs lg:text-sm font-medium ${_.changeType==="positive"?"text-green-600":"text-red-600"}`,children:_.change}),s.jsx("span",{className:"text-xs lg:text-sm text-gray-500 ml-1 hidden sm:inline",children:"from last month"})]})]}),s.jsx("div",{className:"p-2 lg:p-3 bg-red-50 rounded-lg text-red-600",children:_.icon})]})},_.title))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-4 lg:space-x-8 px-4 lg:px-6 overflow-x-auto",children:w.map(_=>s.jsxs("button",{onClick:()=>t(_.id),className:`py-3 lg:py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors duration-200 ${e===_.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx("span",{className:"mr-2",children:_.icon}),_.label]},_.id))})}),s.jsxs("div",{className:"p-4 lg:p-6",children:[e==="overview"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"User Growth"}),s.jsx(af,{width:"100%",height:250,className:"lg:h-[300px]",children:s.jsxs(ire,{data:g,children:[s.jsx(_f,{strokeDasharray:"3 3"}),s.jsx(cc,{dataKey:"month"}),s.jsx(hl,{}),s.jsx(ia,{}),s.jsx(ku,{type:"monotone",dataKey:"users",stroke:"#ef4444",fill:"#fef2f2",strokeWidth:2})]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Revenue & Bookings"}),s.jsx(af,{width:"100%",height:250,className:"lg:h-[300px]",children:s.jsxs(sre,{data:v,children:[s.jsx(_f,{strokeDasharray:"3 3"}),s.jsx(cc,{dataKey:"month"}),s.jsx(hl,{yAxisId:"left"}),s.jsx(hl,{yAxisId:"right",orientation:"right"}),s.jsx(ia,{}),s.jsx($h,{}),s.jsx(bu,{yAxisId:"left",dataKey:"revenue",fill:"#ef4444"}),s.jsx(bu,{yAxisId:"right",dataKey:"bookings",fill:"#3b82f6"})]})})]})]})}),e==="analytics"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Detailed Analytics"}),s.jsx(af,{width:"100%",height:300,className:"lg:h-[400px]",children:s.jsxs(nre,{data:g,children:[s.jsx(_f,{strokeDasharray:"3 3"}),s.jsx(cc,{dataKey:"month"}),s.jsx(hl,{}),s.jsx(ia,{}),s.jsx($h,{}),s.jsx(Jf,{type:"monotone",dataKey:"users",stroke:"#ef4444",strokeWidth:3,dot:{fill:"#ef4444",strokeWidth:2,r:6}}),s.jsx(Jf,{type:"monotone",dataKey:"growth",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:6}})]})})]})}),e==="reports"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Recent Activities"}),s.jsx("div",{className:"space-y-3 lg:space-y-4",children:b.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[s.jsx("div",{className:`w-2 h-2 lg:w-3 lg:h-3 rounded-full mr-3 flex-shrink-0 ${_.status==="success"?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-gray-700 text-sm lg:text-base truncate",children:_.message})]}),s.jsx("span",{className:"text-xs lg:text-sm text-gray-500 ml-2 flex-shrink-0",children:_.time})]},_.id))})]})})]})]})]})})},yT=({isOpen:e,onClose:t,onConfirm:r,title:n,message:i,confirmText:a="Confirm",cancelText:o="Cancel",type:l="warning",isLoading:c=!1})=>{if(!e)return null;const d={warning:s.jsx(qh,{className:"w-6 h-6 text-yellow-500"}),danger:s.jsx(Xt,{className:"w-6 h-6 text-red-500"}),info:s.jsx(CN,{className:"w-6 h-6 text-blue-500"}),success:s.jsx(yt,{className:"w-6 h-6 text-green-500"})},u={warning:"bg-yellow-600 hover:bg-yellow-700",danger:"bg-red-600 hover:bg-red-700",info:"bg-blue-600 hover:bg-blue-700",success:"bg-green-600 hover:bg-green-700"};return s.jsx(Mr,{children:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsx(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${l==="danger"?"bg-red-50":l==="warning"?"bg-yellow-50":"bg-blue-50"}`,children:d[l]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ar,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-gray-600 mb-8",children:i}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,disabled:c,className:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors disabled:opacity-50",children:o}),s.jsxs("button",{onClick:r,disabled:c,className:`flex-1 px-4 py-2.5 text-white font-semibold rounded-xl transition-colors shadow-lg shadow-black/5 flex items-center justify-center gap-2 disabled:opacity-50 ${u[l]}`,children:[c&&s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a]})]})]})})})})},uJe=()=>{const[e,t]=j.useState(""),[r,n]=j.useState(!1),[i,a]=j.useState(""),[o,l]=j.useState([]),[c,d]=j.useState(!1),[u,A]=j.useState(null),[f,m]=j.useState(!1),[x,g]=j.useState(!1),[v,y]=j.useState({isOpen:!1,userId:null,userName:"",currentStatus:null});j.useEffect(()=>{(async()=>{try{n(!0),a("");const P=localStorage.getItem("authToken"),E=await Ye.get("/user/users"),I=E.data;if(E.status!==200)throw new Error((I==null?void 0:I.message)||"Failed to fetch users");const F=((I==null?void 0:I.data)||[]).filter(B=>B.role===3).map(B=>({_id:B._id,name:B.name,email:B.email,kycStatus:B.kycStatus||"not_submitted",govtIdFrontUrl:B.govtIdFrontUrl||null,govtIdBackUrl:B.govtIdBackUrl||null,isVerified:!!B.isVerified,isActive:B.isActive!==!1,createdAt:B.createdAt,updatedAt:B.updatedAt}));l(F)}catch(P){a(P.message),l([])}finally{n(!1)}})()},[]);const b=j.useMemo(()=>o.filter(C=>C.name.toLowerCase().includes(e.toLowerCase())||C.email.toLowerCase().includes(e.toLowerCase())),[o,e]),w=async(C,P)=>{try{m(!0);const E=localStorage.getItem("authToken"),I=await Ye.post("/admin/kyc/review",{userId:C,action:P}),F=I.data;if(I.status!==200)throw new Error((F==null?void 0:F.message)||"Failed to update KYC status");l(B=>B.map(O=>O._id===C?{...O,kycStatus:P==="approve"?"approved":"rejected"}:O)),u&&u._id===C&&A(B=>({...B,kycStatus:P==="approve"?"approved":"rejected"})),alert(`KYC ${P==="approve"?"approved":"rejected"} successfully!`)}catch(E){console.error("KYC review error:",E),alert(`Error: ${E.message}`)}finally{m(!1)}},_=(C,P,E)=>{y({isOpen:!0,userId:C,userName:P,currentStatus:E})},N=async()=>{const{userId:C,currentStatus:P}=v;try{g(!0),y(F=>({...F,isOpen:!1}));const E=await Ye.patch(`/admin/user/${C}/toggle-status`),I=E.data;if(E.status!==200)throw new Error((I==null?void 0:I.message)||"Failed to toggle user status");l(F=>F.map(B=>B._id===C?{...B,isActive:!P}:B)),u&&u._id===C&&A(F=>({...F,isActive:!P}))}catch(E){console.error("Toggle status error:",E),alert(`Error: ${E.message}`)}finally{g(!1)}};return s.jsx(fl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Room Owners"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all property owners"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-gray-600",children:[s.jsx(Hr,{className:"w-4 h-4"}),s.jsxs("span",{children:[b.length," owners"]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"flex gap-3",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{value:e,onChange:C=>t(C.target.value),placeholder:"Search owners...",className:"w-full pl-9 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})}),r&&s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Loading owners"}),i&&!r&&s.jsx("div",{className:"mt-3 text-sm text-red-600",children:i})]}),s.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full table-fixed",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Owner"}),s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"KYC"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left w-24",children:"Email Verified"}),s.jsx("th",{className:"px-6 py-3 text-left w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:b.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 truncate",children:C.name}),s.jsxs("td",{className:"px-6 py-3 truncate flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4 text-gray-400"}),C.email]}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.kycStatus==="approved"?"bg-green-100 text-green-800":C.kycStatus==="rejected"?"bg-red-100 text-red-800":C.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(C.kycStatus).toUpperCase()})}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isActive?"ACTIVE":"INACTIVE"})}),s.jsx("td",{className:"px-6 py-3",children:C.isVerified?"Yes":"No"}),s.jsx("td",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>{A(C),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md hover:bg-gray-50",children:[s.jsx(Pr,{className:"w-4 h-4 mr-1"}),"Details"]}),s.jsx("button",{onClick:()=>_(C._id,C.name,C.isActive),disabled:x,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${C.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,title:C.isActive?"Deactivate User":"Activate User",children:C.isActive?"Deactivate":"Activate"}),C.kycStatus==="pending"&&(C.govtIdFrontUrl||C.govtIdBackUrl)&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>w(C._id,"approve"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",title:"Approve KYC",children:s.jsx(yt,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>w(C._id,"reject"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",title:"Reject KYC",children:s.jsx(rr,{className:"w-3 h-3"})})]})]})})]},C._id))})]})}),s.jsx("div",{className:"lg:hidden p-4 space-y-3",children:b.map(C=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("div",{className:"font-semibold",children:C.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4"}),C.email]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.kycStatus==="approved"?"bg-green-100 text-green-800":C.kycStatus==="rejected"?"bg-red-100 text-red-800":C.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(C.kycStatus).toUpperCase()}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isActive?"ACTIVE":"INACTIVE"})]}),s.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>{A(C),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md",children:"View"}),s.jsx("button",{onClick:()=>_(C._id,C.name,C.isActive),disabled:x,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${C.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:C.isActive?"Deactivate":"Activate"}),C.kycStatus==="pending"&&(C.govtIdFrontUrl||C.govtIdBackUrl)&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>w(C._id,"approve"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[s.jsx(yt,{className:"w-3 h-3 mr-1"}),"Approve"]}),s.jsxs("button",{onClick:()=>w(C._id,"reject"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:[s.jsx(rr,{className:"w-3 h-3 mr-1"}),"Reject"]})]})]})]},C._id))})]}),c&&u&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Owner Details"}),s.jsx("button",{onClick:()=>d(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsxs("div",{className:"p-4 space-y-4 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:u.name}),s.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4"})," ",u.email]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"KYC Status:"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.kycStatus==="approved"?"bg-green-100 text-green-800":u.kycStatus==="rejected"?"bg-red-100 text-red-800":u.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(u.kycStatus).toUpperCase()})]}),(u.govtIdFrontUrl||u.govtIdBackUrl)&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Government ID Documents:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.govtIdFrontUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Front Image"}),s.jsx("img",{src:u.govtIdFrontUrl,alt:"Front",className:"w-full h-40 object-cover rounded border"})]}),u.govtIdBackUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Back Image"}),s.jsx("img",{src:u.govtIdBackUrl,alt:"Back",className:"w-full h-40 object-cover rounded border"})]})]})]}),u.kycStatus==="pending"&&(u.govtIdFrontUrl||u.govtIdBackUrl)&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"font-medium text-gray-900 mb-3",children:"Review KYC Documents:"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>w(u._id,"approve"),disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(yt,{className:"w-4 h-4"}),f?"Processing...":"Approve KYC"]}),s.jsxs("button",{onClick:()=>w(u._id,"reject"),disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(rr,{className:"w-4 h-4"}),f?"Processing...":"Reject KYC"]})]})]}),u.kycStatus==="pending"&&!u.govtIdFrontUrl&&!u.govtIdBackUrl&&s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[s.jsx(ns,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"No KYC documents uploaded yet"})]})})]})]})}),s.jsx(yT,{isOpen:v.isOpen,onClose:()=>y(C=>({...C,isOpen:!1})),onConfirm:N,title:v.currentStatus?"Deactivate User":"Activate User",message:`Are you sure you want to ${v.currentStatus?"deactivate":"activate"} ${v.userName}? ${v.currentStatus?"They will no longer be able to log in or use the platform.":"They will regain access to the platform."}`,confirmText:v.currentStatus?"Deactivate":"Activate",type:v.currentStatus?"danger":"success",isLoading:x})]})})},hJe=()=>{const[e,t]=j.useState(""),[r,n]=j.useState(!1),[i,a]=j.useState(""),[o,l]=j.useState([]),[c,d]=j.useState(!1),[u,A]=j.useState(null),[f,m]=j.useState(!1),[x,g]=j.useState({isOpen:!1,userId:null,userName:"",currentStatus:null});j.useEffect(()=>{(async()=>{try{n(!0),a("");const _=localStorage.getItem("authToken"),N=await Ye.get("/user/users"),C=N.data;if(N.status!==200)throw new Error((C==null?void 0:C.message)||"Failed to fetch users");const P=((C==null?void 0:C.data)||[]).filter(E=>E.role===1).map(E=>({_id:E._id,name:E.name,email:E.email,isVerified:!!E.isVerified,isActive:E.isActive!==!1,createdAt:E.createdAt,updatedAt:E.updatedAt}));l(P)}catch(_){a(_.message),l([])}finally{n(!1)}})()},[]);const v=j.useMemo(()=>o.filter(w=>w.name.toLowerCase().includes(e.toLowerCase())||w.email.toLowerCase().includes(e.toLowerCase())),[o,e]),y=(w,_,N)=>{g({isOpen:!0,userId:w,userName:_,currentStatus:N})},b=async()=>{const{userId:w,currentStatus:_}=x;try{m(!0),g(P=>({...P,isOpen:!1}));const N=await Ye.patch(`/admin/user/${w}/toggle-status`),C=N.data;if(N.status!==200)throw new Error((C==null?void 0:C.message)||"Failed to toggle user status");l(P=>P.map(E=>E._id===w?{...E,isActive:!_}:E)),u&&u._id===w&&A(P=>({...P,isActive:!_}))}catch(N){console.error("Toggle status error:",N),alert(`Error: ${N.message}`)}finally{m(!1)}};return s.jsx(fl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Seekers"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all room seekers"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-gray-600",children:[s.jsx(Hr,{className:"w-4 h-4"}),s.jsxs("span",{children:[v.length," seekers"]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"flex gap-3",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{value:e,onChange:w=>t(w.target.value),placeholder:"Search seekers...",className:"w-full pl-9 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})}),r&&s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Loading seekers"}),i&&!r&&s.jsx("div",{className:"mt-3 text-sm text-red-600",children:i})]}),s.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full table-fixed",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Seeker"}),s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left w-24",children:"Email Verified"}),s.jsx("th",{className:"px-6 py-3 text-left w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 truncate",children:w.name}),s.jsxs("td",{className:"px-6 py-3 truncate flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4 text-gray-400"}),w.email]}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isActive?"ACTIVE":"INACTIVE"})}),s.jsx("td",{className:"px-6 py-3",children:w.isVerified?"Yes":"No"}),s.jsx("td",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>{A(w),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md hover:bg-gray-50",children:[s.jsx(Pr,{className:"w-4 h-4 mr-1"}),"Details"]}),s.jsx("button",{onClick:()=>y(w._id,w.name,w.isActive),disabled:f,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${w.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,title:w.isActive?"Deactivate User":"Activate User",children:w.isActive?"Deactivate":"Activate"})]})})]},w._id))})]})}),s.jsx("div",{className:"lg:hidden p-4 space-y-3",children:v.map(w=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("div",{className:"font-semibold",children:w.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4"}),w.email]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isActive?"ACTIVE":"INACTIVE"})}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{onClick:()=>{A(w),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md",children:"View"}),s.jsx("button",{onClick:()=>y(w._id,w.name,w.isActive),disabled:f,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${w.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:w.isActive?"Deactivate":"Activate"})]})]},w._id))})]}),c&&u&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Seeker Details"}),s.jsx("button",{onClick:()=>d(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:u.name}),s.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4"})," ",u.email]}),s.jsxs("div",{children:["Email Verified: ",s.jsx("span",{className:"font-medium",children:u.isVerified?"Yes":"No"})]})]})]})}),s.jsx(yT,{isOpen:x.isOpen,onClose:()=>g(w=>({...w,isOpen:!1})),onConfirm:b,title:x.currentStatus?"Deactivate User":"Activate User",message:`Are you sure you want to ${x.currentStatus?"deactivate":"activate"} ${x.userName}? ${x.currentStatus?"They will no longer be able to log in or use the platform.":"They will regain access to the platform."}`,confirmText:x.currentStatus?"Deactivate":"Activate",type:x.currentStatus?"danger":"success",isLoading:f})]})})},AJe=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(""),[o,l]=j.useState(""),[c,d]=j.useState("all"),[u,A]=j.useState("all"),[f,m]=j.useState(null),[x,g]=j.useState(""),[v,y]=j.useState({isOpen:!1,userId:null,userName:"",currentStatus:null}),b=F=>({1:"Seeker",2:"Admin",3:"Owner"})[F]||"Unknown",w=F=>({1:{color:"bg-blue-100 text-blue-800",icon:cr},2:{color:"bg-purple-100 text-purple-800",icon:tr},3:{color:"bg-green-100 text-green-800",icon:Ir}})[F]||{color:"bg-gray-100 text-gray-800",icon:cr},_=async()=>{try{n(!0),a("");const F=localStorage.getItem("authToken"),B=await Ye.get("/user/all");if(B.status!==200)throw new Error("Failed to fetch users");const O=B.data;console.log("Fetched users:",O);const R=O.users||O.data||O||[];t(Array.isArray(R)?R:[])}catch(F){console.error("Error fetching users:",F),a(F.message||"Failed to load users")}finally{n(!1)}};j.useEffect(()=>{_()},[]);const N=async(F,B,O)=>{y({isOpen:!0,userId:F,userName:B,currentStatus:O})},C=async()=>{const{userId:F,currentStatus:B}=v;try{if(m(F),y(R=>({...R,isOpen:!1})),(await Ye.patch(`/user/${F}/status`,{isActive:!B})).status!==200)throw new Error("Failed to update user status");t(R=>R.map(U=>U._id===F?{...U,isActive:!B}:U)),g(`User ${B?"deactivated":"activated"} successfully!`),setTimeout(()=>g(""),3e3)}catch(O){console.error("Error updating user status:",O),a(O.message||"Failed to update user status"),setTimeout(()=>a(""),3e3)}finally{m(null)}},P=e.filter(F=>{var U,$,K;if(F.role===2)return!1;const B=o===""||((U=F.name)==null?void 0:U.toLowerCase().includes(o.toLowerCase()))||(($=F.email)==null?void 0:$.toLowerCase().includes(o.toLowerCase()))||((K=F.phone)==null?void 0:K.includes(o)),O=c==="all"||F.role===parseInt(c),R=u==="all"||u==="active"&&F.isActive!==!1||u==="inactive"&&F.isActive===!1;return B&&O&&R}),E=e.filter(F=>F.role!==2),I={total:E.length,active:E.filter(F=>F.isActive!==!1).length,inactive:E.filter(F=>F.isActive===!1).length,seekers:E.filter(F=>F.role===1).length,owners:E.filter(F=>F.role===3).length};return s.jsx(fl,{children:s.jsxs("div",{className:"bg-gray-50 flex flex-col",children:[s.jsxs(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Hr,{className:"w-8 h-8 text-red-600"}),"All Users"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all users across the platform"})]})}),x&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-green-800 font-medium",children:x})]}),i&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[s.jsx(Xt,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"text-red-800 font-medium",children:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.total})]}),s.jsx(Hr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.active})]}),s.jsx(yt,{className:"w-8 h-8 text-green-500"})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:I.inactive})]}),s.jsx(rr,{className:"w-8 h-8 text-red-500"})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Seekers"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.seekers})]}),s.jsx(cr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Owners"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.owners})]}),s.jsx(Ir,{className:"w-8 h-8 text-green-500"})]})})]}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:o,onChange:F=>l(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(w4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:c,onChange:F=>d(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"1",children:"Seekers"}),s.jsx("option",{value:"3",children:"Owners"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(w4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:u,onChange:F=>A(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}):P.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Hr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No users found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your filters"})]}):s.jsxs("div",{className:"overflow-x-hidden",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto -mx-0",children:s.jsx("div",{className:"inline-block min-w-full align-middle",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((F,B)=>{var $;const O=w(F.role),R=O.icon,U=F.isActive!==!1;return s.jsxs(Y.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.05},className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center text-white font-semibold",children:(($=F.name)==null?void 0:$.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name||"Unknown User"}),s.jsx("div",{className:"text-sm text-gray-500",children:F.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O.color}`,children:[s.jsx(R,{className:"w-3 h-3 mr-1"}),b(F.role)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(Tn,{className:"w-3 h-3 text-gray-400"}),F.phone||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(Or,{className:"w-3 h-3 text-gray-400"}),F.createdAt?new Date(F.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U?s.jsxs(s.Fragment,{children:[s.jsx(yt,{className:"w-3 h-3 mr-1"}),"Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-3 h-3 mr-1"}),"Inactive"]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("button",{onClick:()=>N(F._id,F.name,U),disabled:f===F._id,className:`inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${U?"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[f===F._id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current mr-1"}):U?s.jsx(rr,{className:"w-3 h-3 mr-1"}):s.jsx(yt,{className:"w-3 h-3 mr-1"}),f===F._id?"Updating...":U?"Deactivate":"Activate"]})})]},F._id)})})]})})}),s.jsx("div",{className:"lg:hidden p-4 space-y-4 bg-gray-50",children:P.map((F,B)=>{var $;const O=w(F.role),R=O.icon,U=F.isActive!==!1;return s.jsxs(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:B*.05},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-50 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center text-white font-semibold flex-shrink-0",children:(($=F.name)==null?void 0:$.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{className:"ml-3 overflow-hidden",children:[s.jsx("div",{className:"text-sm font-bold text-gray-900 truncate",children:F.name||"Unknown User"}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:F.email})]})]}),s.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${O.color}`,children:[s.jsx(R,{className:"w-3 h-3 mr-1"}),b(F.role)]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[s.jsx(Tn,{className:"w-3.5 h-3.5 mr-2 text-gray-400"}),F.phone||"N/A"]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[s.jsx(Or,{className:"w-3.5 h-3.5 mr-2 text-gray-400"}),"Joined ",F.createdAt?new Date(F.createdAt).toLocaleDateString():"N/A"]})]}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 flex items-center justify-between",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-bold ${U?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:U?"ACTIVE":"INACTIVE"}),s.jsxs("button",{onClick:()=>N(F._id,F.name,U),disabled:f===F._id,className:`inline-flex items-center px-4 py-1.5 rounded-lg text-xs font-bold transition-all shadow-sm ${U?"bg-white text-red-600 border border-red-200 hover:bg-red-50":"bg-green-600 text-white hover:bg-green-700"} disabled:opacity-50`,children:[f===F._id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current mr-2"}):null,f===F._id?"...":U?"Deactivate":"Activate"]})]})]},F._id)})})]})}),!r&&P.length>0&&s.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-4 text-center text-sm text-gray-600",children:["Showing ",P.length," of ",e.length," users"]}),s.jsx(yT,{isOpen:v.isOpen,onClose:()=>y(F=>({...F,isOpen:!1})),onConfirm:C,title:v.currentStatus?"Deactivate User":"Activate User",message:`Are you sure you want to ${v.currentStatus?"deactivate":"activate"} ${v.userName}? ${v.currentStatus?"They will no longer be able to log in or use the platform.":"They will regain access to the platform."}`,confirmText:v.currentStatus?"Deactivate":"Activate",type:v.currentStatus?"danger":"success",isLoading:f===v.userId})]})})},fJe=()=>{const e=Ar(),[t,r]=j.useState({name:"",email:"",password:"",confirmPassword:""}),[n,i]=j.useState(!1),[a,o]=j.useState(!1),[l,c]=j.useState(!1),[d,u]=j.useState(""),[A,f]=j.useState(""),[m,x]=j.useState({}),[g,v]=j.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[y,b]=j.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[w,_]=j.useState(!1),[N,C]=j.useState(null),P=async U=>{if(!U||!U.includes("@")){C(null);return}_(!0);try{const $=await Ye.get(`/user/check-email?email=${encodeURIComponent(U.toLowerCase().trim())}`),K=$.data;$.status===200?C(K.exists?K:null):C(null)}catch($){console.error("Error checking email:",$),C(null)}finally{_(!1)}};j.useEffect(()=>{if(t.email&&y.email){const U=setTimeout(()=>{P(t.email)},500);return()=>clearTimeout(U)}else C(null)},[t.email,y.email]);const E=()=>{const U={};t.name.trim()?t.name.trim().length<2?U.name="Name must be at least 2 characters":t.name.trim().length>50&&(U.name="Name must not exceed 50 characters"):U.name="Name is required";const $=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!t.email.trim())U.email="Email is required";else if(!$.test(t.email))U.email="Please enter a valid email address";else if(N&&N.exists){const K=N.role===1?"Seeker":N.role===3?"Owner":"Admin";U.email=`This email is already registered as a ${K}`}else t.email.trim().length>100&&(U.email="Email must not exceed 100 characters");if(!t.password)U.password="Password is required";else{const K=[];t.password.length<8&&K.push("at least 8 characters"),/[A-Z]/.test(t.password)||K.push("one uppercase letter"),/[a-z]/.test(t.password)||K.push("one lowercase letter"),/[0-9]/.test(t.password)||K.push("one number"),/[!@#$%^&*(),.?":{}|<>]/.test(t.password)||K.push("one special character (!@#$%^&*...)"),K.length>0&&(U.password=`Password must contain ${K.join(", ")}`)}return t.confirmPassword?t.password!==t.confirmPassword&&(U.confirmPassword="Passwords do not match"):U.confirmPassword="Please confirm password",x(U),Object.keys(U).length===0},I=U=>{v({length:U.length>=8,uppercase:/[A-Z]/.test(U),lowercase:/[a-z]/.test(U),number:/[0-9]/.test(U),special:/[!@#$%^&*(),.?":{}|<>]/.test(U)})},F=U=>{const{name:$,value:K}=U.target;r(H=>({...H,[$]:K})),$==="password"&&I(K),y[$]&&O($,K)},B=U=>{const{name:$}=U.target;b(K=>({...K,[$]:!0})),O($,t[$])},O=(U,$)=>{const K={...m};switch(U){case"name":$.trim()?$.trim().length<2?K.name="Name must be at least 2 characters":$.trim().length>50?K.name="Name must not exceed 50 characters":delete K.name:K.name="Name is required";break;case"email":const H=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;$.trim()?H.test($)?$.trim().length>100?K.email="Email must not exceed 100 characters":delete K.email:K.email="Please enter a valid email address":K.email="Email is required";break;case"password":$?!g.length||!g.uppercase||!g.lowercase||!g.number||!g.special?K.password="":delete K.password:K.password="Password is required";break;case"confirmPassword":$?$!==t.password?K.confirmPassword="Passwords do not match":delete K.confirmPassword:K.confirmPassword="Please confirm password";break}x(K)},R=async U=>{if(U.preventDefault(),!!E()){c(!0),u(""),f("");try{const $=await Ye.post("/admin/create-admin",{name:t.name.trim(),email:t.email.trim().toLowerCase(),password:t.password,role:2}),K=$.data;if($.status!==200)throw new Error(K.message||"Failed to create admin");f(`Admin account created successfully! Login credentials have been sent to ${t.email}`),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{e("/admin-dashboard")},3e3)}catch($){console.error("Error creating admin:",$),u($.message||"Failed to create admin account")}finally{c(!1)}}};return s.jsx(fl,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsxs("button",{onClick:()=>e("/admin-dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(ei,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(tr,{className:"w-8 h-8 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Admin"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new administrator account"})]})]})]}),A&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-green-800 font-medium",children:A}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:" Email notification sent with login credentials."}),s.jsx("p",{className:"text-green-700 text-sm",children:"Redirecting to dashboard..."})]})]}),d&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[s.jsx(Xt,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-red-800 font-medium",children:d})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-2xl mx-auto",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:s.jsxs("form",{onSubmit:R,className:"space-y-6",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(tr,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-purple-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Administrator Privileges"}),s.jsx("p",{children:"This account will have full access to the admin panel including user management, property approvals, and system settings."})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:F,onBlur:B,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.name?"border-red-500":y.name&&!m.name&&t.name?"border-green-500":"border-gray-200"}`,placeholder:"Enter admin's full name",disabled:l}),m.name&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Xt,{className:"w-3 h-3"}),m.name]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:F,onBlur:B,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${N&&N.exists||m.email?"border-red-500":y.email&&!m.email&&t.email&&!w&&!N?"border-green-500":"border-gray-200"}`,placeholder:"admin@example.com",disabled:l}),w&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(Xs,{className:"w-5 h-5 text-gray-400 animate-spin"})}),!w&&y.email&&t.email&&!m.email&&!N&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(yt,{className:"w-5 h-5 text-green-500"})}),!w&&N&&N.exists&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(Xt,{className:"w-5 h-5 text-red-500"})})]}),N&&N.exists&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Xt,{className:"w-3 h-3"}),`This email is already registered as a ${N.role===1?"Seeker":N.role===3?"Owner":"Admin"}`]}),m.email&&!N&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Xt,{className:"w-3 h-3"}),m.email]}),!w&&y.email&&t.email&&!m.email&&!N&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(yt,{className:"w-3 h-3"}),"Email is available!"]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:n?"text":"password",id:"password",name:"password",value:t.password,onChange:F,onBlur:B,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.password?"border-red-500":"border-gray-200"}`,placeholder:"Enter secure password",disabled:l}),s.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]}),m.password&&m.password!==""&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Xt,{className:"w-3 h-3"}),m.password]}),t.password&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1.5",children:"Password requirements:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${g.length?"text-green-600":"text-gray-500"}`,children:[g.length?s.jsx(yt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${g.uppercase?"text-green-600":"text-gray-500"}`,children:[g.uppercase?s.jsx(yt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One uppercase letter (A-Z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${g.lowercase?"text-green-600":"text-gray-500"}`,children:[g.lowercase?s.jsx(yt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One lowercase letter (a-z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${g.number?"text-green-600":"text-gray-500"}`,children:[g.number?s.jsx(yt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One number (0-9)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${g.special?"text-green-600":"text-gray-500"}`,children:[g.special?s.jsx(yt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One special character (!@#$%^&*...)"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:a?"text":"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:F,onBlur:B,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.confirmPassword?"border-red-500":y.confirmPassword&&!m.confirmPassword&&t.confirmPassword?"border-green-500":"border-gray-200"}`,placeholder:"Re-enter password",disabled:l}),s.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]}),m.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Xt,{className:"w-3 h-3"}),m.confirmPassword]}),y.confirmPassword&&!m.confirmPassword&&t.confirmPassword&&t.password===t.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(yt,{className:"w-3 h-3"}),"Passwords match!"]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/admin-dashboard"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l||w||N&&N.exists,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-purple-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jy,{className:"w-5 h-5"}),"Create Admin Account"]})})]})]})}),s.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xt,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Security Reminder"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-yellow-700",children:[s.jsx("li",{children:"Share admin credentials securely"}),s.jsx("li",{children:"Use strong, unique passwords"}),s.jsx("li",{children:"Only create admin accounts for trusted personnel"}),s.jsx("li",{children:"Admin accounts have unrestricted system access"})]})]})]})})]})]})})},mJe=()=>{const e=Ar(),[t,r]=j.useState(""),[n,i]=j.useState("all"),[a,o]=j.useState("all"),[l,c]=j.useState([]),[d,u]=j.useState(!1),[A,f]=j.useState(""),[m,x]=j.useState([]),[g,v]=j.useState(!1),[y,b]=j.useState("");j.useEffect(()=>{(async()=>{try{u(!0),f("");const E=localStorage.getItem("authToken"),I=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),F=I._id||I.id||"",B="/property/admin/properties?page=1&limit=200";console.log("Fetching Admin Properties from:",B),console.log("Using Auth Token:",E?"Yes":"No"),console.log("User ID:",F);const O=await Ye.get(B,{headers:{"x-user-id":F}});console.log("Response Status:",O.status);const R=O.data;if(console.log("Response Data:",R),O.status!==200||R.success!==!0)throw new Error(R.message||"Failed to fetch properties");const U=Array.isArray(R.data)?R.data:[];console.log("Set Properties:",U.length),x(U)}catch(E){console.error("Fetch Error:",E),f(E.message)}finally{u(!1)}})()},[]);const w=j.useMemo(()=>{const P=t.trim().toLowerCase();return(m||[]).filter(E=>{var $,K,H,z,te;const I=(E.property_name||"").toLowerCase(),F=`${(($=E.address)==null?void 0:$.street)||""} ${((K=E.address)==null?void 0:K.city)||""} ${((H=E.address)==null?void 0:H.state)||""}`.toLowerCase(),B=(((z=E.owner)==null?void 0:z.name)||"").toLowerCase(),O=!P||I.includes(P)||F.includes(P)||B.includes(P);let R=!0;if(n==="pending"){const ee=(E.rooms||[]).some(Z=>(Z.approval_status||"pending")==="pending");R=(E.approval_status||"pending")==="pending"||ee}else n==="approved"&&(R=(E.approval_status||"pending")==="approved");const U=a==="all"||(((te=E.owner)==null?void 0:te.name)||E.owner_id)===a;return O&&R&&U})},[m,t,n,a]),_=j.useMemo(()=>{const P={};return w.forEach(E=>{var F,B;const I=((F=E.owner)==null?void 0:F.name)||((B=E.owner)==null?void 0:B.email)||E.owner_id||"Unknown Owner";P[I]||(P[I]=[]),P[I].push(E)}),P},[w]),N=j.useMemo(()=>{const P=m.length,E=m.filter(O=>(O.approval_status==="approved"||O.status==="active")&&O.status!=="inactive").length,I=m.filter(O=>O.approval_status==="pending"||(O.rooms||[]).some(R=>(R.approval_status||"pending")==="pending")).length;let F=0;return m.forEach(O=>{O.rooms&&Array.isArray(O.rooms)&&O.rooms.forEach(R=>{R.rent&&typeof R.rent=="number"&&(F+=R.rent)})}),{totalProperties:P,activeListings:E,pendingApproval:I,totalRevenue:(O=>O>=1e7?`${(O/1e7).toFixed(1)}Cr`:O>=1e5?`${(O/1e5).toFixed(1)}L`:O>=1e3?`${(O/1e3).toFixed(1)}K`:`${O}`)(F)}},[m]),C=P=>{const E={active:{text:"Active",color:"bg-green-100 text-green-800"},pending:{text:"Pending",color:"bg-yellow-100 text-yellow-800"},approved:{text:"Approved",color:"bg-green-100 text-green-800"},rejected:{text:"Rejected",color:"bg-red-100 text-red-800"},inactive:{text:"Inactive",color:"bg-gray-100 text-gray-800"},suspended:{text:"Suspended",color:"bg-red-100 text-red-800"}};return E[P]||E.inactive};return s.jsx(fl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Property Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all owner properties, view details, and approve or reject rooms"})]}),A&&s.jsx("div",{className:"p-3 rounded-md bg-red-50 text-red-700 border border-red-200",children:A}),d&&s.jsx("div",{className:"p-3 rounded-md bg-gray-50 text-gray-700 border border-gray-200",children:"Loading properties"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Properties"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.totalProperties})]}),s.jsx("div",{className:"p-3 rounded-lg bg-blue-50",children:s.jsx(Ir,{className:"w-6 h-6 text-blue-500"})})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Listings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.activeListings})]}),s.jsx("div",{className:"p-3 rounded-lg bg-green-50",children:s.jsx(Di,{className:"w-6 h-6 text-green-500"})})]})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.pendingApproval})]}),s.jsx("div",{className:"p-3 rounded-lg bg-yellow-50",children:s.jsx(Or,{className:"w-6 h-6 text-yellow-500"})})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl w-fit",children:[{id:"all",label:"All Properties",count:N.totalProperties},{id:"pending",label:"Pending Approval",count:N.pendingApproval,color:"text-yellow-600"},{id:"approved",label:"Approved",count:N.activeListings,color:"text-green-600"}].map(P=>s.jsxs("button",{onClick:()=>i(P.id),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center gap-2 ${n===P.id?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx("span",{className:n===P.id?P.color:"",children:P.label}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${n===P.id?"bg-gray-100 text-gray-900":"bg-gray-200 text-gray-600"}`,children:P.count})]},P.id))}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"flex items-center space-x-2 bg-white border border-gray-200 rounded-lg px-3 py-2 shadow-sm",children:[s.jsx(Hr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("select",{value:a,onChange:P=>o(P.target.value),className:"text-sm font-medium focus:outline-none bg-transparent min-w-[150px]",children:[s.jsx("option",{value:"all",children:"All Owners"}),Object.keys(_).sort().map(P=>s.jsx("option",{value:P,children:P},P))]})]})})]}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ka,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by property name, location, or owner...",value:t,onChange:P=>r(P.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-transparent rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200"})]}),s.jsx(Mr,{children:l.length>0&&s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600 whitespace-nowrap",children:[l.length," selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white text-sm font-semibold rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:"Approve"}),s.jsx("button",{className:"px-4 py-2 bg-red-600 text-white text-sm font-semibold rounded-lg hover:bg-red-700 transition-colors shadow-sm",children:"Reject"})]})]})})]})})]}),s.jsx("div",{className:"space-y-8",children:Object.entries(_).map(([P,E])=>{var I,F;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-50 flex items-center justify-center",children:s.jsx(cr,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:P}),s.jsxs("p",{className:"text-gray-500 text-sm font-medium",children:[((F=(I=E[0])==null?void 0:I.owner)==null?void 0:F.email)||"","  ",E.length," Properties"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["",E.reduce((B,O)=>{var R;return B+(((R=O.rooms)==null?void 0:R.reduce((U,$)=>U+($.rent||0),0))||0)},0).toLocaleString()]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Total Potential Rent"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map((B,O)=>{var z,te,ee,Z;const R=C(B.approval_status||"pending"),U=B.rooms||[],$=((z=B.images)==null?void 0:z.front)||((te=U.find(V=>V.room_image))==null?void 0:te.room_image),K=U.filter(V=>(V.approval_status||"pending")==="pending").length,H=U.filter(V=>(V.approval_status||"pending")==="approved").length;return s.jsxs(Y.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:O*.05},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>{console.log("Property clicked:",B._id,B.property_name),console.log("Navigating to:",`/admin-property-details/${B._id}`),e(`/admin-property-details/${B._id}`)},children:[s.jsxs("div",{className:"relative h-48 bg-gray-200",children:[$?s.jsx("img",{src:$,alt:B.property_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:s.jsx(Zr,{className:"w-12 h-12 text-gray-400"})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R.color}`,children:R.text})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(Pr,{className:"w-8 h-8 text-white"})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:B.property_name})}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[s.jsx(jr,{className:"w-4 h-4 mr-1 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:`${((ee=B.address)==null?void 0:ee.city)||""}, ${((Z=B.address)==null?void 0:Z.state)||""}`})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Room Status"}),s.jsxs("span",{className:"text-xs font-bold text-gray-700",children:[H,"/",U.length," Approved"]})]}),s.jsxs("div",{className:"flex w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:[s.jsx("div",{className:"bg-green-500 h-full transition-all duration-500",style:{width:`${H/(U.length||1)*100}%`}}),s.jsx("div",{className:"bg-yellow-400 h-full transition-all duration-500",style:{width:`${K/(U.length||1)*100}%`}})]}),K>0&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-yellow-600 bg-yellow-50 px-2 py-1 rounded-md w-fit",children:[s.jsx(Xt,{className:"w-3.5 h-3.5"}),K," ",K===1?"Room Needs":"Rooms Need"," Review"]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("button",{onClick:V=>{V.stopPropagation(),console.log("View Details clicked:",B._id,B.property_name),console.log("Navigating to:",`/admin-property-details/${B._id}`),e(`/admin-property-details/${B._id}`)},className:"flex items-center px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[s.jsx(Pr,{className:"w-3 h-3 mr-1"}),"View Details"]})}),s.jsx(c1,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600 transition-colors"})]})]})]},B._id)})})]},P)})}),s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-500",children:["Showing ",s.jsx("span",{className:"text-gray-900 font-bold",children:Object.keys(_).length})," owner groups  ",s.jsx("span",{className:"text-gray-900 font-bold",children:w.length})," properties"]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("button",{className:"p-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors disabled:opacity-50",children:s.jsx(c1,{className:"w-4 h-4 rotate-180"})}),[1,2,3].map(P=>s.jsx("button",{className:`w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all duration-200 ${P===1?"bg-red-600 text-white shadow-lg shadow-red-200":"text-gray-600 hover:bg-gray-50"}`,children:P},P)),s.jsx("button",{className:"p-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors",children:s.jsx(c1,{className:"w-4 h-4"})})]})]})}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:s.jsx(Dr,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Success!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:y}),s.jsx("button",{onClick:()=>v(!1),className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"OK"})]})})})]})})},pJe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",gJe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let xJe=Oa.icon({iconUrl:pJe,shadowUrl:gJe,iconSize:[25,41],iconAnchor:[12,41]});Oa.Marker.prototype.options.icon=xJe;const yJe=()=>{var Z,V,X,W,ae,ie,ce,be,he,ge,Se,re,_e,ue,J,fe,ye,Ie,ke,He,We,me,Be,Oe;const{propertyId:e}=ju(),t=Ar();console.log("AdminPropertyDetails component loaded"),console.log("propertyId from useParams:",e),console.log("Current URL:",window.location.href),console.log("Component mounted successfully");const[r,n]=j.useState(null),[i,a]=j.useState(!0),[o,l]=j.useState(""),[c,d]=j.useState(null),[u,A]=j.useState(!1),[f,m]=j.useState(!1),[x,g]=j.useState(!1),[v,y]=j.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[b,w]=j.useState(""),[_,N]=j.useState(!1),[C,P]=j.useState(""),[E,I]=j.useState(""),[F,B]=j.useState(!1),O=r&&typeof r.latitude=="number"&&typeof r.longitude=="number"&&!Number.isNaN(r.latitude)&&!Number.isNaN(r.longitude);j.useEffect(()=>{e&&(async()=>{try{a(!0),l("");const Fe=localStorage.getItem("authToken"),it=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),pt=it._id||it.id||"";console.log("Fetching property details for ID:",e),console.log("Current URL:",window.location.href);const Re=await Ye.get(`/property/admin/properties/${e}`,{headers:{"x-user-id":pt}}),gt=Re.data;if(console.log("Admin property response:",gt),Re.status!==200||gt.success!==!0)throw new Error(gt.message||"Failed to fetch property");console.log("Found property:",gt.data),n(gt.data)}catch(Fe){l(Fe.message)}finally{a(!1)}})()},[e]);const R=async(Ne,Fe)=>{try{console.log(`Attempting to ${Fe} room:`,Ne);const it=localStorage.getItem("authToken"),pt=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),Re=pt._id||pt.id||"";console.log("Auth token:",it?"Present":"Missing"),console.log("User ID:",Re);const gt=await Ye.put(`/property/admin/rooms/${Ne}/approve`,{status:Fe==="approve"?"approved":"rejected"},{headers:{"x-user-id":Re}});console.log("Response status:",gt.status);const rt=gt.data;if(console.log("Response data:",rt),gt.status!==200||rt.success!==!0)throw new Error(rt.message||"Failed to update room");n(ot=>({...ot,rooms:(ot.rooms||[]).map(xt=>xt._id===Ne?{...xt,...rt.data}:xt)})),A(!1),w(`Room ${Fe==="approve"?"approved":"rejected"} successfully!`),g(!0),setTimeout(()=>{g(!1)},3e3),console.log(`Room ${Ne} ${Fe}ed successfully`)}catch(it){console.error(`Error ${Fe}ing room:`,it),P(`Failed to ${Fe} room: ${it.message}`),N(!0),setTimeout(()=>{N(!1)},5e3)}},U=async()=>{try{const Ne=localStorage.getItem("authToken"),Fe=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),it=Fe._id||Fe.id||"",pt=await Ye.delete(`/property/admin/properties/${e}`,{headers:{"x-user-id":it}}),Re=pt.data;if(pt.status!==200||Re.success!==!0)throw new Error(Re.message||"Failed to delete property");w("Property deleted successfully!"),g(!0),setTimeout(()=>{g(!1),t("/admin-properties")},1500)}catch(Ne){P(Ne.message),N(!0),setTimeout(()=>N(!1),5e3)}},$=async Ne=>{try{const Fe=localStorage.getItem("authToken"),it=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),pt=it._id||it.id||"",Re=await Ye.delete(`/property/admin/rooms/${Ne}`,{headers:{"x-user-id":pt}}),gt=Re.data;if(Re.status!==200||gt.success!==!0)throw new Error(gt.message||"Failed to delete room");n(rt=>({...rt,rooms:(rt.rooms||[]).filter(ot=>ot._id!==Ne)})),w("Room deleted successfully!"),g(!0),setTimeout(()=>g(!1),3e3)}catch(Fe){P(Fe.message),N(!0),setTimeout(()=>N(!1),5e3)}},K=async Ne=>{try{const Fe=localStorage.getItem("authToken"),it=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),pt=it._id||it.id||"",Re=await Ye.put(`/property/admin/properties/${e}/approve`,{status:Ne==="approve"?"approved":"rejected"},{headers:{"x-user-id":pt}}),gt=Re.data;if(Re.status!==200||gt.success!==!0)throw new Error(gt.message||"Failed to update property");n(rt=>({...rt,...gt.data})),w(`Property ${Ne==="approve"?"approved":"rejected"} successfully!`),g(!0),setTimeout(()=>g(!1),3e3)}catch(Fe){P(Fe.message),N(!0),setTimeout(()=>N(!1),5e3)}},H=async()=>{if(!E.trim()){P("Please enter a message"),N(!0),setTimeout(()=>N(!1),3e3);return}try{B(!0);const Ne=localStorage.getItem("authToken"),Fe=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),it=Fe._id||Fe.id||"",pt=await Ye.post("/property/admin/message",{propertyId:e,message:E.trim()},{headers:{"x-user-id":it}}),Re=pt.data;if(pt.status!==200||Re.success!==!0)throw new Error(Re.message||"Failed to send message");w("Message sent to owner successfully!"),g(!0),setTimeout(()=>g(!1),3e3),I("")}catch(Ne){P(Ne.message||"Failed to send message"),N(!0),setTimeout(()=>N(!1),5e3)}finally{B(!1)}},z=Ne=>({ac:"",wifi:"",tv:"",fridge:"",wardrobe:"",studyTable:"",balcony:"",attachedBathroom:"",parking4w:"",parking2w:"",kitchen:"",powerBackup:""})[Ne]||"",te=Ne=>{const Fe={active:{text:"Active",color:"bg-green-100 text-green-800"},pending:{text:"Pending",color:"bg-yellow-100 text-yellow-800"},approved:{text:"Approved",color:"bg-green-100 text-green-800"},rejected:{text:"Rejected",color:"bg-red-100 text-red-800"},inactive:{text:"Inactive",color:"bg-gray-100 text-gray-800"}};return Fe[Ne]||Fe.pending},ee=Ne=>{d(Ne),A(!0)};return i?s.jsx(fl,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property details..."})]})})}):o||!r?s.jsx(fl,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-600 mb-4",children:o||"Property not found"}),s.jsx("button",{onClick:()=>t("/admin-properties"),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Back to Properties"})]})})}):s.jsx(fl,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between min-h-[4rem] py-4 md:py-0 space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/admin-properties"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(ei,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 line-clamp-1",children:r.property_name}),s.jsx("p",{className:"text-sm md:text-base text-gray-600 line-clamp-1",children:((Z=r.owner)==null?void 0:Z.name)||"Unknown Owner"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:space-x-3",children:[s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${te(r.approval_status||"pending").color}`,children:te(r.approval_status||"pending").text}),s.jsxs("div",{className:"flex flex-1 md:flex-none gap-2 overflow-x-auto pb-1 md:pb-0",children:[["pending","rejected"].includes(r.approval_status||"pending")&&s.jsx("button",{onClick:()=>y({isOpen:!0,title:"Approve Property?",message:"Are you sure you want to approve this property? This will make it visible to potential tenants.",onConfirm:()=>K("approve")}),className:"flex-shrink-0 bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 whitespace-nowrap",children:"Approve"}),["pending","approved"].includes(r.approval_status||"pending")&&s.jsx("button",{onClick:()=>y({isOpen:!0,title:"Reject Property?",message:"Are you sure you want to reject this property?",onConfirm:()=>K("reject")}),className:"flex-shrink-0 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 whitespace-nowrap",children:"Reject"}),s.jsxs("button",{onClick:()=>y({isOpen:!0,title:"Delete Property?",message:`Are you sure you want to permanently delete "${r.property_name}"? This will delete all associated rooms and cannot be undone.`,onConfirm:()=>U()}),className:"flex-shrink-0 bg-red-700 text-white px-3 py-2 rounded text-sm hover:bg-red-800 flex items-center whitespace-nowrap",children:[s.jsx(Tf,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(wue,{className:"w-5 h-5 mr-2"}),"Property Images"]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[((V=r.images)==null?void 0:V.front)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Front View"}),s.jsx("img",{src:r.images.front,alt:"Front View",className:"w-full h-48 object-cover rounded-lg"})]}),((X=r.images)==null?void 0:X.back)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Back View"}),s.jsx("img",{src:r.images.back,alt:"Back View",className:"w-full h-48 object-cover rounded-lg"})]}),((W=r.images)==null?void 0:W.hall)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Hall"}),s.jsx("img",{src:r.images.hall,alt:"Hall",className:"w-full h-48 object-cover rounded-lg"})]}),((ae=r.images)==null?void 0:ae.kitchen)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Kitchen"}),s.jsx("img",{src:r.images.kitchen,alt:"Kitchen",className:"w-full h-48 object-cover rounded-lg"})]}),r.outside_toilet_image&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Outside Toilet"}),s.jsx("img",{src:r.outside_toilet_image,alt:"Outside Toilet",className:"w-full h-48 object-cover rounded-lg"})]})]}),((ie=r.images)==null?void 0:ie.gallery)&&r.images.gallery.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:r.images.gallery.map((Ne,Fe)=>s.jsx("img",{src:Ne,alt:`Gallery ${Fe+1}`,className:"w-full h-32 object-cover rounded-lg"},Fe))})]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 mr-2"}),"Property Details"]})}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:r.description||"No description provided"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(jr,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:((ce=r.address)==null?void 0:ce.street)||"N/A"}),s.jsxs("p",{className:"text-gray-600",children:[((be=r.address)==null?void 0:be.city)||"N/A",", ",((he=r.address)==null?void 0:he.state)||"N/A"]}),s.jsxs("p",{className:"text-gray-600",children:["Pincode: ",((ge=r.address)==null?void 0:ge.pincode)||"N/A"]}),((Se=r.address)==null?void 0:Se.landmark)&&s.jsxs("p",{className:"text-gray-600",children:["Landmark: ",r.address.landmark]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Security Deposit"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",((re=r.security_deposit)==null?void 0:re.toLocaleString())||"0"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.rooms&&r.rooms.length>0?`${Math.min(...r.rooms.map(Ne=>Ne.rent||0)).toLocaleString()} - ${Math.max(...r.rooms.map(Ne=>Ne.rent||0)).toLocaleString()}`:r.monthly_rent?`${r.monthly_rent.toLocaleString()}`:"0"}),r.rooms&&r.rooms.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Range from ",r.rooms.length," room(s)"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Coordinates"}),s.jsx("p",{className:"text-sm text-gray-600",children:O?`${r.latitude}, ${r.longitude}`:"Not provided"})]})]}),r.amenities&&Object.keys(r.amenities).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(r.amenities).map(([Ne,Fe])=>Fe?s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-green-50 rounded-lg",children:[s.jsx("span",{className:"text-lg",children:z(Ne)}),s.jsx("span",{className:"text-sm font-medium text-green-800 capitalize",children:Ne.replace(/([A-Z])/g," $1").trim()})]},Ne):null)})]}),r.rules&&Object.keys(r.rules).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(r.rules).map(([Ne,Fe])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${Fe?"bg-green-500":"bg-red-500"}`}),s.jsxs("span",{className:"text-sm text-gray-700 capitalize",children:[Ne.replace(/([A-Z])/g," $1").trim(),": ",Fe?"Allowed":"Not Allowed"]})]},Ne))})]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Zr,{className:"w-5 h-5 mr-2"}),"Rooms (",(r.rooms||[]).length,")"]}),(r.rooms||[]).some(Ne=>Ne.approval_status==="pending")&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[s.jsxs("button",{onClick:()=>{const Ne=(r.rooms||[]).filter(Fe=>Fe.approval_status==="pending");y({isOpen:!0,title:"Approve All Pending Rooms?",message:`Are you sure you want to approve all ${Ne.length} pending rooms? This action cannot be undone.`,onConfirm:()=>Ne.forEach(Fe=>R(Fe._id,"approve"))})},className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 transition-colors flex items-center justify-center whitespace-nowrap",children:[s.jsx(Dr,{className:"w-4 h-4 mr-1"}),"Approve All"]}),s.jsxs("button",{onClick:()=>{const Ne=(r.rooms||[]).filter(Fe=>Fe.approval_status==="pending");y({isOpen:!0,title:"Reject All Pending Rooms?",message:`Are you sure you want to reject all ${Ne.length} pending rooms? This action cannot be undone.`,onConfirm:()=>Ne.forEach(Fe=>R(Fe._id,"reject"))})},className:"bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors flex items-center justify-center whitespace-nowrap",children:[s.jsx(rr,{className:"w-4 h-4 mr-1"}),"Reject All"]})]})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b overflow-x-auto",children:s.jsxs("div",{className:"flex items-center space-x-6 min-w-max",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="pending").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="pending").length," Pending"]})]}),(r.rooms||[]).filter(Ne=>Ne.approval_status==="approved").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="approved").length," Approved"]})]}),(r.rooms||[]).filter(Ne=>Ne.approval_status==="rejected").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="rejected").length," Rejected"]})]})]})}),s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 lg:gap-6",children:(r.rooms||[]).map(Ne=>{var it,pt;const Fe=te(Ne.approval_status||"pending");return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",Ne.room_number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[Ne.room_type,"  ",Ne.room_size," sq ft"]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Fe.color}`,children:Fe.text})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Rent"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",((it=Ne.rent)==null?void 0:it.toLocaleString())||"0"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Occupancy"}),s.jsxs("span",{className:`font-semibold ${(Ne.current_occupants||0)>=Ne.occupancy?"text-red-600":"text-green-600"}`,children:[Ne.current_occupants||0," / ",Ne.occupancy]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Bed Type"}),s.jsx("span",{className:"font-semibold text-gray-900",children:Ne.bed_type||"N/A"})]})]}),Ne.description&&s.jsx("div",{className:"mt-3",children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:Ne.description})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[Ne.room_image&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Room Image"}),s.jsx("img",{src:Ne.room_image,alt:"Room",className:"w-full h-32 object-cover rounded"})]}),Ne.toilet_image&&((pt=Ne.amenities)==null?void 0:pt.attachedBathroom)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Toilet Image"}),s.jsx("img",{src:Ne.toilet_image,alt:"Toilet",className:"w-full h-32 object-cover rounded"})]})]}),Ne.amenities&&Object.keys(Ne.amenities).length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(Ne.amenities).map(([Re,gt])=>gt?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[z(Re)," ",Re.replace(/([A-Z])/g," $1").trim()]},Re):null)})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 sm:flex sm:items-center sm:space-x-2",children:[s.jsxs("button",{onClick:()=>ee(Ne),className:"col-span-2 sm:col-span-1 sm:flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 transition-colors flex items-center justify-center order-1 sm:order-none",children:[s.jsx(Pr,{className:"w-4 h-4 inline mr-1"}),"View"]}),Ne.approval_status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:Re=>{Re.stopPropagation(),y({isOpen:!0,title:"Approve Room?",message:`Are you sure you want to approve Room ${Ne.room_number}?`,onConfirm:()=>R(Ne._id,"approve")})},className:"flex-1 bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 transition-colors flex items-center justify-center order-2 sm:order-none",children:[s.jsx(Dr,{className:"w-4 h-4 inline mr-1"}),"Approve"]}),s.jsxs("button",{onClick:Re=>{Re.stopPropagation(),y({isOpen:!0,title:"Reject Room?",message:`Are you sure you want to reject Room ${Ne.room_number}?`,onConfirm:()=>R(Ne._id,"reject")})},className:"flex-1 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 transition-colors flex items-center justify-center order-3 sm:order-none",children:[s.jsx(rr,{className:"w-4 h-4 inline mr-1"}),"Reject"]})]}),Ne.approval_status==="approved"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 bg-green-100 text-green-800 px-3 py-2 rounded text-sm text-center font-medium flex items-center justify-center order-2 sm:order-none",children:[s.jsx(Dr,{className:"w-4 h-4 inline mr-1"}),"Approved"]}),s.jsx("button",{onClick:Re=>{Re.stopPropagation(),y({isOpen:!0,title:"Reject Approved Room?",message:`Are you sure you want to reject this already approved Room ${Ne.room_number}? It will be hidden from seekers.`,onConfirm:()=>R(Ne._id,"reject")})},className:"p-2 bg-red-50 text-red-600 rounded hover:bg-red-100 transition-colors border border-red-200 mt-0 flex items-center justify-center order-3 sm:order-none",title:"Reject this room",children:s.jsx(rr,{className:"w-5 h-5"})})]}),Ne.approval_status==="rejected"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 bg-red-100 text-red-800 px-3 py-2 rounded text-sm text-center font-medium flex items-center justify-center order-2 sm:order-none",children:[s.jsx(rr,{className:"w-4 h-4 inline mr-1"}),"Rejected"]}),s.jsx("button",{onClick:Re=>{Re.stopPropagation(),y({isOpen:!0,title:"Re-Approve Room?",message:`Are you sure you want to approve this previously rejected Room ${Ne.room_number}? It will become visible to seekers.`,onConfirm:()=>R(Ne._id,"approve")})},className:"p-2 bg-green-50 text-green-600 rounded hover:bg-green-100 transition-colors border border-green-200 mt-0 flex items-center justify-center order-3 sm:order-none",title:"Re-approve this room",children:s.jsx(Dr,{className:"w-5 h-5"})})]}),s.jsx("button",{onClick:Re=>{Re.stopPropagation(),y({isOpen:!0,title:"Delete Room?",message:`Are you sure you want to permanently delete Room ${Ne.room_number}? This action cannot be undone.`,onConfirm:()=>$(Ne._id)})},className:"col-span-2 sm:col-span-1 p-2 bg-gray-50 text-gray-600 rounded hover:bg-red-50 hover:text-red-600 transition-colors border border-gray-200 hover:border-red-200 sm:ml-2 flex items-center justify-center order-4 sm:order-none",title:"Delete this room",children:s.jsx(Tf,{className:"w-5 h-5"})})]})]},Ne._id)})})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Owner Information"]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[(_e=r.owner)!=null&&_e.profilePicture?s.jsx("img",{src:r.owner.profilePicture,alt:r.owner.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200",children:s.jsx("span",{className:"text-xl font-semibold text-gray-500",children:(((ue=r.owner)==null?void 0:ue.name)||"?").charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:((J=r.owner)==null?void 0:J.name)||"Unknown"}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-0.5",children:[(fe=r.owner)!=null&&fe.isVerified?s.jsxs("span",{className:"flex items-center text-green-600 bg-green-50 px-1.5 py-0.5 rounded",children:[s.jsx(Dr,{className:"w-3 h-3 mr-1"})," Verified"]}):s.jsx("span",{className:"flex items-center text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:"Unverified"}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["Joined ",(ye=r.owner)!=null&&ye.createdAt?new Date(r.owner.createdAt).toLocaleDateString():"N/A"]})]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-3",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Jr,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-900 break-all",children:((Ie=r.owner)==null?void 0:Ie.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Tn,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Phone"}),s.jsx("p",{className:"text-sm text-gray-900",children:((ke=r.owner)==null?void 0:ke.phone)||"Not provided"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[s.jsxs("a",{href:`tel:${(He=r.owner)==null?void 0:He.phone}`,className:`flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${(We=r.owner)!=null&&We.phone?"":"opacity-50 cursor-not-allowed pointer-events-none"}`,children:[s.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Call"]}),s.jsxs("a",{href:`sms:${(me=r.owner)==null?void 0:me.phone}`,className:`flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${(Be=r.owner)!=null&&Be.phone?"":"opacity-50 cursor-not-allowed pointer-events-none"}`,children:[s.jsx(wy,{className:"w-4 h-4 mr-2"}),"Message"]})]}),s.jsxs("button",{onClick:()=>{var Ne,Fe;I(`Hi ${((Ne=r.owner)==null?void 0:Ne.name)||"Owner"}, regarding your property "${r.property_name}"...`),(Fe=document.querySelector("textarea"))==null||Fe.focus(),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},className:"w-full mt-3 bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors flex items-center justify-center",children:[s.jsx(If,{className:"w-4 h-4 mr-2"}),"Send Admin Notification"]})]})]}),O&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(jr,{className:"w-5 h-5 mr-2"}),"Location"]}),s.jsx("button",{onClick:()=>m(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Full Map"})]})}),s.jsx("div",{className:"h-64 relative",children:s.jsx("div",{className:"h-64 relative z-0",children:s.jsxs(Yh,{center:[r.latitude,r.longitude],zoom:15,scrollWheelZoom:!1,className:"w-full h-full",style:{height:"100%",width:"100%"},children:[s.jsx(Zh,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s.jsx(Xh,{position:[r.latitude,r.longitude],children:s.jsx(Cy,{children:r.property_name})})]})})})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2"}),"Documents"]})}),s.jsx("div",{className:"p-4",children:r.land_tax_receipt?s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Land Tax Receipt"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsx("a",{href:r.land_tax_receipt,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:s.jsx(eu,{className:"w-4 h-4"})})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded"})})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(wy,{className:"w-5 h-5 mr-2"}),"Send Message to Owner"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Send a notification message to the property owner"})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:E,onChange:Ne=>I(Ne.target.value),placeholder:"Type your message here... (e.g., Property details incorrect, Already listed elsewhere, etc.)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all",rows:"4",maxLength:"500",disabled:F}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsxs("span",{className:"text-xs text-gray-500 order-2 sm:order-1",children:[E.length,"/500 characters"]}),s.jsx("button",{onClick:H,disabled:F||!E.trim(),className:`flex items-center justify-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all w-full sm:w-auto order-1 sm:order-2 ${F||!E.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md"}`,children:F?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(If,{className:"w-4 h-4"}),s.jsx("span",{children:"Send Message"})]})})]}),s.jsx("p",{className:"text-xs text-gray-400 italic",children:" Tip: Use this to notify the owner about issues like duplicate listings, incorrect information, or required updates."})]})})]})]})]})}),u&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Room ",c.room_number," Details"]}),s.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:""})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Room Type"}),s.jsx("p",{className:"text-gray-900",children:c.room_type})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Room Size"}),s.jsxs("p",{className:"text-gray-900",children:[c.room_size," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Bed Type"}),s.jsx("p",{className:"text-gray-900",children:c.bed_type})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Occupancy"}),s.jsx("p",{className:"text-gray-900",children:c.occupancy})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Rent"}),s.jsxs("p",{className:"text-gray-900",children:["",(Oe=c.rent)==null?void 0:Oe.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Status"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${te(c.approval_status||"pending").color}`,children:te(c.approval_status||"pending").text})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.room_image&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("img",{src:c.room_image,alt:"Room",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-100"})]}),c.toilet_image&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("img",{src:c.toilet_image,alt:"Toilet",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-100"})]})]}),c.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg text-sm",children:c.description})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Amenities Checklist"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["ac","wifi","tv","fridge","wardrobe","studyTable","balcony","attachedBathroom"].map(Ne=>{var it;const Fe=(it=c.amenities)==null?void 0:it[Ne];return s.jsxs("div",{className:`flex items-center justify-between px-3 py-2 rounded-lg text-sm border transition-colors ${Fe?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-100 text-gray-400"}`,children:[s.jsx("span",{className:"capitalize font-medium",children:Ne.replace(/([A-Z])/g," $1").trim()}),Fe?s.jsx(Dr,{className:"w-4 h-4 text-green-600"}):s.jsx("span",{className:"w-4 h-4"})]},Ne)})})]}),s.jsx("div",{className:"flex items-center space-x-3 pt-4 border-t"})]})]})}),v.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:v.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:v.message}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>y({...v,isOpen:!1}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{v.onConfirm&&v.onConfirm(),y({...v,isOpen:!1})},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Confirm"})]})]})})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:s.jsx(Dr,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Success!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b}),s.jsx("button",{onClick:()=>g(!1),className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"OK"})]})})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:s.jsx(rr,{className:"h-6 w-6 text-red-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:C}),s.jsx("button",{onClick:()=>N(!1),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"OK"})]})})}),f&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Property Location"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})})]}),s.jsx("div",{style:{width:"100%",height:"500px"},children:s.jsxs(Yh,{center:[r.latitude,r.longitude],zoom:16,scrollWheelZoom:!0,className:"w-full h-full",style:{height:"100%",width:"100%"},children:[s.jsx(Zh,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s.jsx(Xh,{position:[r.latitude,r.longitude],children:s.jsx(Cy,{children:r.property_name})})]})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 text-sm text-gray-600 flex items-center justify-between",children:[s.jsxs("div",{children:["Lat: ",(r==null?void 0:r.latitude)||""," | Lng: ",(r==null?void 0:r.longitude)||""]}),s.jsx("div",{className:"text-xs text-gray-500",children:(r==null?void 0:r.name)||"Property Location"})]})]})})]})})},vJe=()=>{const[e,t]=j.useState("security"),[r,n]=j.useState({enableTwoFactor:!1}),[i,a]=j.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[o,l]=j.useState({old:!1,new:!1,confirm:!1}),[c,d]=j.useState({}),[u,A]=j.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[f,m]=j.useState({oldPassword:!1,newPassword:!1,confirmPassword:!1}),[x,g]=j.useState(!1),[v,y]=j.useState(!1),[b,w]=j.useState(""),_=F=>{const B={length:F.length>=8,uppercase:/[A-Z]/.test(F),lowercase:/[a-z]/.test(F),number:/[0-9]/.test(F),special:/[!@#$%^&*(),.?":{}|<>]/.test(F)};return A(B),Object.values(B).every(Boolean)},N=(F,B)=>{const O={...c};return F==="oldPassword"&&(B?delete O.oldPassword:O.oldPassword="Current password is required"),F==="newPassword"&&(B?_(B)?B===i.oldPassword?O.newPassword="New password must be different from current password":delete O.newPassword:O.newPassword="Password does not meet all requirements":O.newPassword="New password is required"),F==="confirmPassword"&&(B?B!==i.newPassword?O.confirmPassword="Passwords do not match":delete O.confirmPassword:O.confirmPassword="Please confirm your new password"),d(O),Object.keys(O).length===0},C=(F,B)=>{a(O=>({...O,[F]:B})),F==="newPassword"&&_(B),f[F]&&N(F,B),F==="newPassword"&&f.confirmPassword&&N("confirmPassword",i.confirmPassword)},P=F=>{m(B=>({...B,[F]:!0})),N(F,i[F])},E=async F=>{F.preventDefault(),y(!1),w(""),m({oldPassword:!0,newPassword:!0,confirmPassword:!0});const B=N("oldPassword",i.oldPassword),O=N("newPassword",i.newPassword),R=N("confirmPassword",i.confirmPassword);if(!(!B||!O||!R)){g(!0);try{const U=await Ye.post("/user/change-password",{currentPassword:i.oldPassword,newPassword:i.newPassword}),$=U.data;if(U.status!==200||!$.success)throw new Error($.message||"Failed to change password");y(!0),a({oldPassword:"",newPassword:"",confirmPassword:""}),m({oldPassword:!1,newPassword:!1,confirmPassword:!1}),d({}),setTimeout(()=>y(!1),5e3)}catch(U){console.error("Password change error:",U),w(U.message||"Failed to change password")}finally{g(!1)}}},I=[{id:"security",name:"Security",icon:tr},{id:"system",name:"System",icon:yue}];return s.jsx(fl,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"System Settings"}),s.jsx("p",{className:"text-sm lg:text-base text-gray-600 mt-1",children:"Configure platform settings and preferences"})]})}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsx("div",{className:"lg:hidden p-4",children:s.jsx("select",{value:e,onChange:F=>t(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm",children:I.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))})}),s.jsx("nav",{className:"hidden lg:flex space-x-8 px-6",children:I.map(F=>{const B=F.icon;return s.jsxs("button",{onClick:()=>t(F.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${e===F.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(B,{className:"w-4 h-4"}),s.jsx("span",{children:F.name})]},F.id)})})]}),s.jsxs("div",{className:"p-4 lg:p-6",children:[e==="security"&&s.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),v&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-green-800 font-medium",children:"Password changed successfully!"}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Your password has been updated."})]})]}),b&&s.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[s.jsx(Xt,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("span",{className:"text-red-800 font-medium",children:b})]}),s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"oldPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Current Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.old?"text":"password",id:"oldPassword",value:i.oldPassword,onChange:F=>C("oldPassword",F.target.value),onBlur:()=>P("oldPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.oldPassword&&f.oldPassword?"border-red-500":"border-gray-300"}`,placeholder:"Enter your current password"}),s.jsx("button",{type:"button",onClick:()=>l(F=>({...F,old:!F.old})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.old?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]}),c.oldPassword&&f.oldPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Xt,{className:"w-3 h-3"}),c.oldPassword]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.new?"text":"password",id:"newPassword",value:i.newPassword,onChange:F=>C("newPassword",F.target.value),onBlur:()=>P("newPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.newPassword&&f.newPassword?"border-red-500":"border-gray-300"}`,placeholder:"Enter your new password"}),s.jsx("button",{type:"button",onClick:()=>l(F=>({...F,new:!F.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.new?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]}),c.newPassword&&f.newPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Xt,{className:"w-3 h-3"}),c.newPassword]}),i.newPassword&&s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1.5",children:"Password must contain:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.length?"text-green-600":"text-gray-500"}`,children:[u.length?s.jsx(yt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.uppercase?"text-green-600":"text-gray-500"}`,children:[u.uppercase?s.jsx(yt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One uppercase letter (A-Z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.lowercase?"text-green-600":"text-gray-500"}`,children:[u.lowercase?s.jsx(yt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One lowercase letter (a-z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.number?"text-green-600":"text-gray-500"}`,children:[u.number?s.jsx(yt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One number (0-9)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.special?"text-green-600":"text-gray-500"}`,children:[u.special?s.jsx(yt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One special character (!@#$%^&*...)"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.confirm?"text":"password",id:"confirmPassword",value:i.confirmPassword,onChange:F=>C("confirmPassword",F.target.value),onBlur:()=>P("confirmPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.confirmPassword&&f.confirmPassword?"border-red-500":f.confirmPassword&&!c.confirmPassword&&i.confirmPassword?"border-green-500":"border-gray-300"}`,placeholder:"Re-enter your new password"}),s.jsx("button",{type:"button",onClick:()=>l(F=>({...F,confirm:!F.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.confirm?s.jsx(ti,{className:"w-5 h-5"}):s.jsx(Pr,{className:"w-5 h-5"})})]}),c.confirmPassword&&f.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Xt,{className:"w-3 h-3"}),c.confirmPassword]}),f.confirmPassword&&!c.confirmPassword&&i.confirmPassword&&i.newPassword===i.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(yt,{className:"w-3 h-3"}),"Passwords match!"]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(Y.button,{type:"submit",disabled:x||Object.keys(c).length>0,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:x?s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"w-5 h-5 animate-spin"}),"Changing Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-5 h-5"}),"Change Password"]})})})]})]}),e==="system"&&s.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"System Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-600",children:"All systems operational"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Database"}),s.jsx("span",{className:"text-sm text-gray-600",children:"MongoDB v5.0"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Version"}),s.jsx("span",{className:"text-sm text-gray-600",children:"v2.1.0"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Last Updated"}),s.jsx("span",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString()})]})]})]})]})]})]})})},bJe=()=>s.jsx(fl,{showSidebar:!1,children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"mx-auto w-24 h-24 bg-red-100 rounded-full flex items-center justify-center",children:s.jsxs("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),s.jsx("circle",{cx:"12",cy:"8",r:"2",stroke:"currentColor",strokeWidth:2,fill:"none"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6"})]})})}),s.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Admin Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"The admin page you're looking for doesn't exist or has been moved."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ot,{to:"/admin-dashboard",className:"inline-flex items-center px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors duration-200",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]}),"Go to Admin Dashboard"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(Ot,{to:"/admin-users",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Users"]}),s.jsxs(Ot,{to:"/admin-properties",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Properties"]}),s.jsxs(Ot,{to:"/admin-settings",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsx(Ot,{to:"/",className:"text-red-600 hover:text-red-700 font-medium transition-colors duration-200",children:" Back to Main Site"})})]})})}),N$=()=>{var is,br,Bt,un,ni,Vs,as,os,ls,Cn;const e=Ar(),{toast:t}=to(),r=j.useRef(null),n=j.useRef(null),[i,a]=j.useState(null),[o,l]=j.useState(!0),[c,d]=j.useState("profile"),[u,A]=j.useState(!1),[f,m]=j.useState(!1),[x,g]=j.useState(!1),[v,y]=j.useState(!1),[b,w]=j.useState(!1),[_,N]=j.useState({}),[C,P]=j.useState(0),[E,I]=j.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[F,B]=j.useState(null),[O,R]=j.useState(!1),[U,$]=j.useState(null),[K,H]=j.useState(null),[z,te]=j.useState(!1),[ee,Z]=j.useState(""),[V,X]=j.useState("pending"),[W,ae]=j.useState(null),[ie,ce]=j.useState(null),[be,he]=j.useState(null),[ge,Se]=j.useState(!1),[re,_e]=j.useState(!1),[ue,J]=j.useState(null),[fe,ye]=j.useState("front"),[Ie,ke]=j.useState(null),[He,We]=j.useState(!1),[me,Be]=j.useState(!1),[Oe,Ne]=j.useState(!1),[Fe,it]=j.useState(0),[pt,Re]=j.useState(!1),gt="aadhar",rt=async()=>{try{const et=localStorage.getItem("authToken"),Nt=JSON.parse(localStorage.getItem("user")||"null");if(!et||!(Nt!=null&&Nt._id))return;const ft=(await Ye.get(`/user/profile/${Nt._id}`)).data;ft!=null&&ft._id&&(localStorage.setItem("user",JSON.stringify(ft)),a(ft))}catch(et){console.error("refreshUserFromApi error:",et)}},ot=async()=>{try{if(ke(null),Be(!0),We(!1),console.log("Starting camera..."),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia is not supported in this browser");const et=await navigator.mediaDevices.enumerateDevices();console.log("Available devices:",et);const Nt=et.filter(Ut=>Ut.kind==="videoinput");if(console.log("Video devices:",Nt),Nt.length===0)throw new Error("No camera devices found");let Pt={video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480}}};console.log("Trying camera with constraints:",Pt);let ft;try{ft=await navigator.mediaDevices.getUserMedia(Pt),console.log("Camera started successfully with back camera")}catch(Ut){console.log("Back camera failed, trying front camera:",Ut),Pt.video.facingMode="user",ft=await navigator.mediaDevices.getUserMedia(Pt),console.log("Camera started successfully with front camera")}J(ft),_e(!0),setTimeout(()=>{r.current?(console.log("Setting video source..."),r.current.srcObject=ft,r.current.onloadedmetadata=()=>{console.log("Video metadata loaded"),We(!0),Be(!1),r.current.play().catch(Ut=>{console.error("Error playing video:",Ut),ke("Failed to start video playback")})},r.current.oncanplay=()=>{console.log("Video can play"),We(!0),Be(!1)},r.current.onerror=Ut=>{console.error("Video error:",Ut),ke("Video playback error"),Be(!1)},r.current.play().catch(Ut=>{console.error("Error playing video:",Ut)})):(console.error("Video ref is not available"),ke("Video element not ready"),Be(!1))},100),console.log("Camera modal opened")}catch(et){console.error("Error accessing camera:",et),Be(!1);let Nt="Unable to access camera. ";et.name==="NotAllowedError"?Nt+="Please allow camera permissions and try again.":et.name==="NotFoundError"?Nt+="No camera found on this device.":et.name==="NotSupportedError"?Nt+="Camera is not supported in this browser.":et.name==="NotReadableError"?Nt+="Camera is being used by another application.":Nt+="Please check your camera settings.",ke(Nt),t({title:"Camera Error",description:Nt,variant:"destructive"})}},xt=()=>{ue&&(ue.getTracks().forEach(et=>et.stop()),J(null)),_e(!1),ke(null),We(!1),Be(!1),r.current&&(r.current.srcObject=null)},Et=()=>{if(!r.current||!n.current)return;const et=r.current,Nt=n.current,Pt=Nt.getContext("2d");Nt.width=et.videoWidth,Nt.height=et.videoHeight,Pt.drawImage(et,0,0,Nt.width,Nt.height),Nt.toBlob(ft=>{if(ft){const Ut=new File([ft],`captured_${fe}_${Date.now()}.jpg`,{type:"image/jpeg"});$(Ut),H(URL.createObjectURL(ft)),xt(),t({title:"Photo Captured",description:"Aadhar card photo captured successfully"})}},"image/jpeg",.8)},St=()=>{ye("front"),ot()},$t=async()=>{try{if(Se(!0),!localStorage.getItem("authToken")){console.error("No auth token found");return}const Nt=await Ye.get("/user/aadhar-status");if(Nt.status===200){const Pt=Nt.data;he(Pt.aadharStatus),console.log("Aadhar approval status:",Pt.aadharStatus)}}catch(et){console.error("Error checking Aadhar approval status:",et)}finally{Se(!1)}},bt=async()=>{try{l(!0);const et=localStorage.getItem("authToken"),Nt=JSON.parse(localStorage.getItem("user")||"{}"),Pt=Nt.id||Nt._id;if(!Pt){console.error("User ID not found");return}const ft=await Ye.get(`/user/profile/${Pt}`);if(ft.status===200){const Ut=ft.data;B(Ut.kycStatus||"not_verified"),X(Ut.kycStatus||"not_verified")}}catch(et){console.error("Error checking KYC status:",et)}finally{l(!1)}},ht=(et,Nt)=>{if(et){if(!et.type.startsWith("image/")){t({title:"Invalid file type",description:"Please upload an image file (JPG, PNG, etc.)",variant:"destructive"});return}if(et.size>5*1024*1024){t({title:"File too large",description:"Please upload an image smaller than 5MB",variant:"destructive"});return}{$(et);const Pt=new FileReader;Pt.onload=ft=>H(ft.target.result),Pt.readAsDataURL(et)}}},lt=(et,Nt)=>{if(!et||!Nt)return{match:!1,confidence:0,reason:"Missing name data"};const Pt=et.toUpperCase().trim(),ft=Nt.toUpperCase().trim(),Ut=Pt.split(/\s+/).filter(Ge=>Ge.length>0),bn=ft.split(/\s+/).filter(Ge=>Ge.length>0);if(Pt===ft)return{match:!0,confidence:1,reason:"Exact match"};let Fr=0,Zn=Math.max(Ut.length,bn.length);for(const Ge of Ut)for(const at of bn){if(Ge===at){Fr++;break}if(Ge.length>2&&at.length>2){const st=ut(Ge,at);if(st>.8){Fr+=st;break}}}const xe=Fr/Zn;return xe>=.8?{match:!0,confidence:xe,reason:"High similarity match"}:xe>=.5?{match:!1,confidence:xe,reason:"Partial match - manual review needed"}:{match:!1,confidence:xe,reason:"No significant match found"}},ut=(et,Nt)=>{const Pt=et.toUpperCase(),ft=Nt.toUpperCase(),Ut=Pt.length>ft.length?Pt:ft,bn=Pt.length>ft.length?ft:Pt;if(Ut.length===0)return 1;const Fr=nt(Ut,bn);return(Ut.length-Fr)/Ut.length},nt=(et,Nt)=>{const Pt=[];for(let ft=0;ft<=Nt.length;ft++)Pt[ft]=[ft];for(let ft=0;ft<=et.length;ft++)Pt[0][ft]=ft;for(let ft=1;ft<=Nt.length;ft++)for(let Ut=1;Ut<=et.length;Ut++)Nt.charAt(ft-1)===et.charAt(Ut-1)?Pt[ft][Ut]=Pt[ft-1][Ut-1]:Pt[ft][Ut]=Math.min(Pt[ft-1][Ut-1]+1,Pt[ft][Ut-1]+1,Pt[ft-1][Ut]+1);return Pt[Nt.length][et.length]},Ke=async()=>{var Nt,Pt;if(!U){t({title:"Front image required",description:"Please upload the front side of your document",variant:"destructive"});return}R(!0),ae(null),ce(null),Ne(!0),it(0);const et=setInterval(()=>{it(ft=>ft>=90?(clearInterval(et),90):ft+10)},200);try{const ft=localStorage.getItem("authToken"),Ut=new FormData;Ut.append("frontImage",U),Ut.append("idType",gt),Ut.append("idNumber","");const bn=await Ye.post("/user/upload-kyc",Ut,{headers:{"Content-Type":"multipart/form-data"}}),Fr=bn.data;if(bn.status===200){if(clearInterval(et),it(100),Fr.kycStatus==="rejected"){te(!0),Z(Fr.verificationFailureReason||"Verification failed"),t({title:"Verification Failed",description:Fr.verificationFailureReason||"Please verify again with correct image",variant:"destructive"});return}if(ae(Fr.ocrResult),(Pt=(Nt=Fr.ocrResult)==null?void 0:Nt.extractedData)!=null&&Pt.name){const Zn=lt(Fr.ocrResult.extractedData.name,(i==null?void 0:i.name)||"");ce(Zn)}X(Fr.kycStatus),B(Fr.kycStatus),t({title:"Document uploaded successfully",description:`KYC status: ${Fr.kycStatus}`,variant:Fr.kycStatus==="approved"?"default":"destructive"}),bt(),$t()}else throw new Error(Fr.error||"Upload failed")}catch(ft){console.error("Error uploading KYC:",ft),clearInterval(et),it(0),t({title:"Upload failed",description:ft.message||"Failed to upload document",variant:"destructive"})}finally{R(!1)}},Ct=et=>{switch(et){case"approved":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"rejected":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},Gt=et=>{switch(et){case"approved":return s.jsx(yt,{className:"w-5 h-5"});case"pending":return s.jsx(Xt,{className:"w-5 h-5"});case"rejected":return s.jsx(rr,{className:"w-5 h-5"});default:return s.jsx(tr,{className:"w-5 h-5"})}};j.useEffect(()=>{(()=>{const Nt=localStorage.getItem("authToken"),Pt=localStorage.getItem("user");if(!Nt||!Pt){e("/login");return}try{const ft=JSON.parse(Pt);if(ft.role!==3){e("/login");return}a(ft),bt(),$t()}catch(ft){console.error("Error parsing user data:",ft),e("/login")}l(!1)})()},[e]);const Xn=async()=>{if(i!=null&&i._id)try{y(!0);const et=localStorage.getItem("authToken");await Ye.put(`/user/profile/${i._id}`,{profilePicture:null});const Nt={...i,profilePicture:null};localStorage.setItem("user",JSON.stringify(Nt)),a(Nt),t({title:"Success",description:"Profile picture removed successfully"})}catch(et){console.error("Remove profile picture error:",et),t({title:"Error",description:"Failed to remove picture. Please try again.",variant:"destructive"})}finally{y(!1)}},Vr=async et=>{var Nt,Pt;if(et.preventDefault(),!!(i!=null&&i._id))try{y(!0);const ft=localStorage.getItem("authToken"),Ut=document.getElementById("profile-name").value.trim(),bn=document.getElementById("profile-phone").value.trim(),Fr={name:Ut,phone:bn||void 0},{data:Zn}=await Ye.put(`/user/profile/${i._id}`,Fr);Zn!=null&&Zn.user&&(localStorage.setItem("user",JSON.stringify(Zn.user)),a(Zn.user),window.dispatchEvent(new Event("lyvo-user-updated")),t({title:"Success",description:"Profile updated successfully!"}))}catch(ft){console.error("Profile update error:",ft),t({title:"Error",description:((Pt=(Nt=ft==null?void 0:ft.response)==null?void 0:Nt.data)==null?void 0:Pt.message)||"Failed to update profile. Please try again.",variant:"destructive"})}finally{y(!1)}},tn=et=>{const Nt={length:et.length>=8,uppercase:/[A-Z]/.test(et),lowercase:/[a-z]/.test(et),number:/\d/.test(et),special:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(et)};I(Nt);const Pt=Object.values(Nt).filter(Boolean).length*20;return P(Pt),Nt},gr=(et,Nt,Pt)=>{const ft={};if(et.trim()||(ft.currentPassword="Current password is required"),!Nt.trim())ft.newPassword="New password is required";else{const Ut=tn(Nt);Ut.length?Ut.uppercase?Ut.lowercase?Ut.number?Ut.special||(ft.newPassword="Password must contain at least one special character"):ft.newPassword="Password must contain at least one number":ft.newPassword="Password must contain at least one lowercase letter":ft.newPassword="Password must contain at least one uppercase letter":ft.newPassword="Password must be at least 8 characters long"}return Pt.trim()?Nt!==Pt&&(ft.confirmPassword="Passwords do not match"):ft.confirmPassword="Please confirm your new password",et&&Nt&&et===Nt&&(ft.newPassword="New password must be different from current password"),N(ft),Object.keys(ft).length===0},Ft=et=>et<40?"bg-red-500":et<60?"bg-orange-500":et<80?"bg-yellow-500":"bg-green-500",xs=et=>et<40?"Weak":et<60?"Fair":et<80?"Good":"Strong",ys=async et=>{var Nt,Pt;if(et.preventDefault(),!!(i!=null&&i._id))try{w(!0);const ft=localStorage.getItem("authToken"),Ut=document.getElementById("current-password").value,bn=document.getElementById("new-password").value,Fr=document.getElementById("confirm-password").value;if(!gr(Ut,bn,Fr)){t({title:"Validation Error",description:"Please fix the errors below before proceeding",variant:"destructive"});return}await Ye.post("/user/change-password",{currentPassword:Ut,newPassword:bn}),document.getElementById("current-password").value="",document.getElementById("new-password").value="",document.getElementById("confirm-password").value="",N({}),P(0),I({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),t({title:"Success",description:"Password updated successfully!"})}catch(ft){console.error("Password change error:",ft),t({title:"Error",description:((Pt=(Nt=ft==null?void 0:ft.response)==null?void 0:Nt.data)==null?void 0:Pt.message)||"Failed to update password. Please try again.",variant:"destructive"})}finally{w(!1)}},On=[{id:"profile",name:"Profile",icon:cr},{id:"security",name:"Security",icon:tr},{id:"kyc",name:"Govt ID (KYC)",icon:tr}];return j.useEffect(()=>{window.location.hash==="#kyc"&&d("kyc")},[]),j.useEffect(()=>{c==="kyc"&&(rt(),$t())},[c]),o?s.jsx(yn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(yn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account and property preferences"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"lg:hidden p-4 border-b border-gray-200",children:s.jsxs(X2,{value:c,onValueChange:et=>d(et),children:[s.jsx(Oy,{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:s.jsx(Z2,{placeholder:"Select section"})}),s.jsx(Ly,{position:"popper",children:On.map(et=>s.jsx(va,{value:et.id,children:et.name},et.id))})]})}),s.jsx("div",{className:"hidden lg:flex border-b border-gray-200",children:On.map(et=>{const Nt=et.icon;return s.jsxs("button",{onClick:()=>d(et.id),className:`flex items-center space-x-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors duration-200 ${c===et.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Nt,{className:"w-5 h-5"}),s.jsx("span",{children:et.name})]},et.id)})}),s.jsxs("div",{className:"p-6",children:[c==="kyc"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aadhar Card Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."}),ge?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Xs,{className:"w-8 h-8 animate-spin text-red-600"})}):be&&be.isApproved?s.jsxs(Kd,{className:"border-green-200 bg-green-50",children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center text-green-800",children:[s.jsx(Dr,{className:"w-6 h-6 mr-2"}),"Verification Approved"]})}),s.jsx(Wd,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(tr,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Aadhar Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Status: Approved"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center text-green-600 font-semibold",children:[s.jsx(Dr,{className:"w-5 h-5 mr-1"}),"Verified"]}),s.jsx("p",{className:"text-xs text-gray-500",children:(is=be.details)!=null&&is.approvalDate?new Date(be.details.approvalDate).toLocaleDateString():"Recently approved"})]})]}),be.details&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 bg-gray-50 p-4 rounded-lg flex justify-center border border-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Verified Document"}),s.jsx("img",{src:be.details.frontImageUrl,alt:"Verified Aadhar",className:"max-h-64 rounded-lg shadow-md border-2 border-green-200 object-contain"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Verification Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Aadhar Number:"}),s.jsx("span",{className:"font-medium",children:be.details.aadharNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Name:"}),s.jsx("span",{className:"font-medium",children:be.details.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Confidence:"}),s.jsxs("span",{className:"font-medium",children:[be.details.overallConfidence,"%"]})]})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"What's Next?"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dr,{className:"w-4 h-4 text-green-600 mr-2"}),"You can now list properties"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dr,{className:"w-4 h-4 text-green-600 mr-2"}),"Access all platform features"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Dr,{className:"w-4 h-4 text-green-600 mr-2"}),"No need to verify again"]})]})]})]})]})]})})]}):s.jsxs(s.Fragment,{children:[Oe&&s.jsx(Kd,{className:"border-green-200 bg-green-50",children:s.jsxs(Wd,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4",children:Fe===100?s.jsx(Dr,{className:"w-6 h-6 text-white"}):s.jsx(Xs,{className:"w-6 h-6 text-white animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Fe===100?"Verification Complete!":"Verifying Your Identity"}),s.jsx("p",{className:"text-sm text-gray-600",children:Fe===100?"Your identity has been successfully verified":"Please wait while we process your documents..."})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(Y.div,{className:"bg-green-500 h-2 rounded-full",initial:{width:0},animate:{width:`${Fe}%`},transition:{duration:.3}})}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[Fe,"% Complete"]})]})}),F&&!Oe&&s.jsx(E2,{className:`${Ct(F)} border-0`,children:s.jsxs("div",{className:"flex items-center",children:[Gt(F),s.jsxs(k2,{className:"ml-2",children:[s.jsx("strong",{children:"Current Status:"})," ",F.charAt(0).toUpperCase()+F.slice(1)]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Kd,{children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center",children:[s.jsx(tr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upload Document"]})}),s.jsxs(Wd,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(tr,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Aadhar Card Verification"})]}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Aadhar Card Photo"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors",children:K?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:K,alt:"Front preview",className:"mx-auto max-h-48 rounded-lg shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(wn,{variant:"destructive",size:"sm",onClick:()=>{$(null),H(null)},className:"rounded-full w-8 h-8 p-0",children:s.jsx(ar,{className:"w-4 h-4"})})})]}),s.jsx("div",{className:"flex gap-2 justify-center",children:s.jsxs(wn,{variant:"outline",size:"sm",onClick:()=>St(),className:"flex items-center",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Retake"]})})]}):s.jsxs("div",{children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(XP,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"text-gray-600 mb-4 font-medium",children:"Upload a clear photo of your Aadhar card"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:et=>ht(et.target.files[0]),className:"hidden",id:"front-upload"}),s.jsx("label",{htmlFor:"front-upload",className:"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold",children:"Choose File"}),s.jsxs(wn,{variant:"outline",onClick:()=>St(),className:"flex items-center border-blue-300 text-blue-600 hover:bg-blue-50",children:[s.jsx(As,{className:"w-4 h-4 mr-2"}),"Take Photo"]})]})]})})]}),s.jsx(wn,{onClick:Ke,disabled:!U||O,className:"w-full",size:"lg",children:O?s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing Document..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Verify Document"]})})]})]}),s.jsxs(Kd,{children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center",children:[s.jsx(Pr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Verification Results"]})}),s.jsx(Wd,{className:"p-6",children:W?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Dr,{className:"w-6 h-6 mr-2 text-blue-600"}),"Verification Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${(br=W.validation)!=null&&br.is_aadhar_card?"text-green-600":"text-red-600"}`,children:(Bt=W.validation)!=null&&Bt.is_aadhar_card?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Aadhar Card"}),s.jsx("div",{className:"text-xs text-gray-500",children:(un=W.validation)!=null&&un.is_aadhar_card?"Valid":"Invalid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${W.confidence>70?"text-green-600":W.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(W.confidence||0),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Overall Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${W.verified?"text-green-600":"text-yellow-600"}`,children:W.verified?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("div",{className:"text-xs text-gray-500",children:W.verified?"Approved":"Pending"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2 text-blue-600"}),"Extracted Information"]}),s.jsxs("div",{className:"space-y-3",children:[((ni=W.extractedData)==null?void 0:ni.name)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Name:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:W.extractedData.name})]}),((Vs=W.extractedData)==null?void 0:Vs.number)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"ID Number:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:W.extractedData.number})]}),((as=W.extractedData)==null?void 0:as.dob)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:W.extractedData.dob})]}),((os=W.extractedData)==null?void 0:os.gender)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Gender:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:W.extractedData.gender})]})]})]}),ie&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Name Verification"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Profile Name:"}),s.jsx("span",{className:"font-semibold",children:(i==null?void 0:i.name)||"Not available"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Document Name:"}),s.jsx("span",{className:"font-semibold",children:((ls=W.extractedData)==null?void 0:ls.name)||"Not extracted"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Match Status:"}),s.jsx("span",{className:`font-semibold ${ie.match?"text-green-600":"text-red-600"}`,children:ie.match?" Match":" No Match"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(ie.confidence*100),"%"]})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2 p-2 bg-white rounded-lg",children:ie.reason})]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-6",children:s.jsx(tr,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Results Yet"}),s.jsx("p",{className:"text-gray-500",children:"Upload a document to see verification results"})]})})]})]})]})]}),c==="profile"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Profile Picture"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(l6,{currentImage:(i==null?void 0:i.profilePicture)||null,onImageUpdate:et=>{const Nt={...i,profilePicture:et};localStorage.setItem("user",JSON.stringify(Nt)),a(Nt)}}),(i==null?void 0:i.profilePicture)&&s.jsx("button",{type:"button",onClick:Xn,disabled:v,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:v?"Removing":"Remove"})]})]}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),s.jsxs("form",{onSubmit:Vr,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",id:"profile-name",defaultValue:(i==null?void 0:i.name)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:(i==null?void 0:i.email)||"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed",disabled:!0,readOnly:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"profile-phone",defaultValue:(i==null?void 0:i.phone)||(i==null?void 0:i.phoneNumber)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"+91 98765 43210"})]})]}),s.jsxs("button",{type:"submit",disabled:v,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Bv,{className:"w-4 h-4 mr-2"}),v?"Saving...":"Save Changes"]})]})]}),c==="security"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"}),i!=null&&i.googleId?s.jsx("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(tr,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-1",children:"Google Account"}),s.jsx("p",{className:"text-sm text-blue-700",children:"You signed in using Google. Your password is managed by Google and cannot be changed here."}),s.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["To change your password, please visit your"," ",s.jsx("a",{href:"https://myaccount.google.com/security",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium hover:text-blue-800",children:"Google Account Security Settings"})]})]})]})}):s.jsxs("form",{onSubmit:ys,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",id:"current-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${_.currentPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),s.jsx("button",{type:"button",onClick:()=>A(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?s.jsx(ti,{className:"h-5 w-5 text-gray-400"}):s.jsx(Pr,{className:"h-5 w-5 text-gray-400"})})]}),_.currentPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.currentPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:f?"text":"password",id:"new-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${_.newPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0,onChange:et=>{tn(et.target.value),_.newPassword&&N(Nt=>{const Pt={...Nt};return delete Pt.newPassword,Pt})}}),s.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f?s.jsx(ti,{className:"h-5 w-5 text-gray-400"}):s.jsx(Pr,{className:"h-5 w-5 text-gray-400"})})]}),((Cn=document.getElementById("new-password"))==null?void 0:Cn.value)&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Password Strength:"}),s.jsx("span",{className:`text-xs font-medium ${C<40?"text-red-600":C<60?"text-orange-600":C<80?"text-yellow-600":"text-green-600"}`,children:xs(C)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Ft(C)}`,style:{width:`${C}%`}})})]}),!Object.values(E).every(Boolean)&&s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("div",{className:`flex items-center text-xs ${E.length?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${E.length?"bg-green-500":"bg-gray-300"}`,children:E.length&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"At least 8 characters"]}),s.jsxs("div",{className:`flex items-center text-xs ${E.uppercase?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${E.uppercase?"bg-green-500":"bg-gray-300"}`,children:E.uppercase&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One uppercase letter"]}),s.jsxs("div",{className:`flex items-center text-xs ${E.lowercase?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${E.lowercase?"bg-green-500":"bg-gray-300"}`,children:E.lowercase&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One lowercase letter"]}),s.jsxs("div",{className:`flex items-center text-xs ${E.number?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${E.number?"bg-green-500":"bg-gray-300"}`,children:E.number&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One number"]}),s.jsxs("div",{className:`flex items-center text-xs ${E.special?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${E.special?"bg-green-500":"bg-gray-300"}`,children:E.special&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One special character"]})]}),_.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.newPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:x?"text":"password",id:"confirm-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${_.confirmPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0,onChange:et=>{const Nt=et.target.value,Pt=document.getElementById("new-password").value;Nt&&Pt&&Nt!==Pt?N(ft=>({...ft,confirmPassword:"Passwords do not match"})):_.confirmPassword&&N(ft=>{const Ut={...ft};return delete Ut.confirmPassword,Ut})}}),s.jsx("button",{type:"button",onClick:()=>g(!x),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:x?s.jsx(ti,{className:"h-5 w-5 text-gray-400"}):s.jsx(Pr,{className:"h-5 w-5 text-gray-400"})})]}),_.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.confirmPassword})]}),s.jsxs("button",{type:"submit",disabled:b||Object.values(_).some(et=>et&&et.trim())||!Object.values(E).every(Boolean),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),b?"Updating...":"Update Password"]}),!b&&(Object.values(_).some(et=>et&&et.trim())||!Object.values(E).every(Boolean))&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Complete all password requirements above to enable the update button"})]})]})]})]}),re&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-lg w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capture Aadhar Card"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Take a clear photo of your Aadhar card"})]}),s.jsx(wn,{variant:"ghost",size:"sm",onClick:xt,className:"text-gray-500 hover:text-gray-700 rounded-full w-10 h-10 p-0",children:s.jsx(ar,{className:"w-5 h-5"})})]}),Ie?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(Xt,{className:"w-10 h-10 text-red-500"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Camera Error"}),s.jsx("p",{className:"text-red-600 mb-6",children:Ie}),s.jsx(wn,{onClick:ot,className:"bg-blue-600 hover:bg-blue-700",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden",children:[me&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xs,{className:"w-12 h-12 text-white animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-sm",children:"Starting camera..."})]})}),s.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-80 object-cover ${He?"opacity-100":"opacity-0"} transition-opacity duration-300`,style:{backgroundColor:"#000"}}),s.jsx("canvas",{ref:n,className:"hidden"}),He&&s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-4 border-2 border-white border-dashed rounded-lg opacity-70",children:s.jsx("div",{className:"absolute top-2 left-2 text-white text-xs font-medium bg-black bg-opacity-50 px-2 py-1 rounded",children:"Align document within frame"})}),s.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-t-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-t-2 border-r-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-b-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-b-2 border-r-2 border-white"})]}),!He&&!me&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(As,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Camera not ready"})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Xt,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tips for better capture:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[s.jsx("li",{children:"Ensure good lighting"}),s.jsx("li",{children:"Keep the document flat and straight"}),s.jsx("li",{children:"Align all four corners within the frame"}),s.jsx("li",{children:"Avoid shadows and reflections"})]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(wn,{onClick:Et,disabled:!He||me,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(As,{className:"w-5 h-5 mr-2"}),me?"Starting Camera...":He?"Capture Photo":"Camera Not Ready"]}),s.jsx(wn,{onClick:xt,variant:"outline",className:"px-6 py-3 border-2 border-gray-300 hover:border-gray-400 font-semibold rounded-xl",children:"Cancel"})]})]})]})}),s.jsx(uq,{open:z,onOpenChange:te,children:s.jsxs(M6,{className:"sm:max-w-md",children:[s.jsxs(Q6,{children:[s.jsxs(H6,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Xt,{className:"h-5 w-5"}),"Verification Failed"]}),s.jsx(V6,{children:"Your KYC verification could not be completed."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:ee})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Please ensure:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Upload a clear, valid Aadhar card image"}),s.jsx("li",{children:" The name on the document matches your profile name"}),s.jsx("li",{children:" The image is not blurry or rotated"}),s.jsx("li",{children:" All text is clearly visible"})]})]})]}),s.jsxs($6,{className:"flex gap-2",children:[s.jsx(wn,{variant:"outline",onClick:()=>te(!1),children:"Close"}),s.jsx(wn,{onClick:()=>{te(!1),$(null),H(null),ae(null),ce(null),it(0)},children:"Try Again"})]})]})})]})})},wJe=()=>{const e=Ar(),[t,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(""),[l,c]=j.useState(""),[d,u]=j.useState("all"),[A,f]=j.useState(!1),[m,x]=j.useState("table"),[g,v]=j.useState(new Set);j.useEffect(()=>{y();const B=setInterval(()=>{console.log("[AUTO-REFRESH] Polling for new bookings..."),y(!0)},3e4);return()=>clearInterval(B)},[]);const y=async(B=!1)=>{try{B||i(!0),B&&f(!0),o("");const R=(await Ye.get("/property/owner/bookings")).data;r(Array.isArray(R.bookings)?R.bookings:[])}catch(O){B||o(O.message||"Failed to load bookings")}finally{B||i(!1),B&&f(!1)}},b=j.useMemo(()=>{const B=l.trim().toLowerCase();return t.filter(O=>d==="all"?O.status!=="checked_in":d==="pending"?["pending_approval","payment_pending","pending"].includes(O.status):d==="confirmed"?["confirmed","checked_in"].includes(O.status):O.status===d).filter(O=>{var K,H,z,te,ee;if(!B)return!0;const R=`${((K=O.userSnapshot)==null?void 0:K.name)||""} ${((H=O.userSnapshot)==null?void 0:H.email)||""}`.toLowerCase(),U=`${((z=O.propertySnapshot)==null?void 0:z.name)||""}`.toLowerCase(),$=`${((te=O.roomSnapshot)==null?void 0:te.roomNumber)||""} ${((ee=O.roomSnapshot)==null?void 0:ee.roomType)||""}`.toLowerCase();return R.includes(B)||U.includes(B)||$.includes(B)}).sort((O,R)=>new Date(R.createdAt||R.bookedAt)-new Date(O.createdAt||O.bookedAt))},[t,l,d]),w=j.useMemo(()=>{const B=t.filter(K=>K.status!=="checked_in").length,O=t.filter(K=>["confirmed","checked_in"].includes(K.status)).length,R=t.filter(K=>["pending_approval","payment_pending","pending"].includes(K.status)).length,U=t.filter(K=>K.status==="cancelled").length,$=t.filter(K=>K.status==="rejected").length;return{total:B,confirmed:O,pending:R,cancelled:U,rejected:$}},[t]),_=async()=>{f(!0),await y(),f(!1)},N=B=>B?`${Number(B).toLocaleString()}`:"-",C=B=>{const O=new Date(B);return{date:O.toLocaleDateString(),time:O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},P=B=>{const O=new Set(g);O.has(B)?O.delete(B):O.add(B),v(O)},E=(B,O=null)=>{switch(B){case"confirmed":case"approved":return"bg-green-100 text-green-800 border-green-200";case"checked_in":return"bg-blue-100 text-blue-800 border-blue-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";case"pending_approval":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}},I=(B,O=null)=>{switch(B){case"confirmed":case"approved":return s.jsx(yt,{className:"w-4 h-4"});case"checked_in":return s.jsx(jr,{className:"w-4 h-4"});case"rejected":return s.jsx(rr,{className:"w-4 h-4"});case"cancelled":return s.jsx(rr,{className:"w-4 h-4"});case"pending_approval":return s.jsx(ns,{className:"w-4 h-4"});default:return s.jsx(ns,{className:"w-4 h-4"})}},F=(B,O=null)=>{switch(B){case"confirmed":case"approved":return"Approved";case"checked_in":return"Checked In";case"rejected":return"Rejected";case"cancelled":return O==="user"?"Cancelled by User":"Cancelled";case"pending_approval":return"Pending Approval";default:return B.replace("_"," ").replace(/\b\w/g,R=>R.toUpperCase())}};return s.jsx(yn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bookings Management"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-gray-600",children:"Manage and review all property bookings"}),s.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-50 text-green-700 text-[10px] font-bold uppercase tracking-wider rounded border border-green-100 animate-pulse",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Live Updates"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>x("table"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Table"}),s.jsx("button",{onClick:()=>x("cards"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="cards"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Cards"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:_,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[A?s.jsx(ja,{className:"w-4 h-4 animate-spin"}):s.jsx(ja,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[s.jsx(Wh,{className:"w-4 h-4"}),"Dashboard"]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>u("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Active Bookings"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:w.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(Or,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="confirmed"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>u("confirmed"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Confirmed"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:w.confirmed})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsxs("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow relative cursor-pointer ${d==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>u("pending"),children:[w.pending>0&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg animate-pulse",children:w.pending}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:w.pending}),w.pending>0&&s.jsx("div",{className:"text-xs text-yellow-700 mt-1",children:"Awaiting your approval"})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(ns,{className:"w-6 h-6 text-yellow-600"})})]})]}),s.jsx("div",{className:`bg-gradient-to-br from-gray-50 to-gray-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="cancelled"?"border-gray-400 ring-2 ring-gray-200":"border-gray-200"}`,onClick:()=>u("cancelled"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Cancelled"}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:w.cancelled})]}),s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx(rr,{className:"w-6 h-6 text-gray-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-red-50 to-red-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="rejected"?"border-red-400 ring-2 ring-red-200":"border-red-200"}`,onClick:()=>u("rejected"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-red-600 mb-1",children:"Rejected"}),s.jsx("div",{className:"text-3xl font-bold text-red-900",children:w.rejected})]}),s.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-lg flex items-center justify-center",children:s.jsx(rr,{className:"w-6 h-6 text-red-600"})})]})})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ka,{className:"w-5 h-5 text-gray-400 absolute left-3 top-3"}),s.jsx("input",{value:l,onChange:B=>c(B.target.value),placeholder:"Search by seeker name, property, or room...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm"})]}),d!=="all"&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-lg",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Showing: ",d.charAt(0).toUpperCase()+d.slice(1)," bookings"]}),s.jsx("button",{onClick:()=>u("all"),className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(rr,{className:"w-4 h-4"})})]})]})}),n?s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Loading Bookings"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your bookings..."})]}):a?s.jsxs("div",{className:"bg-white rounded-xl border border-red-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Bookings"}),s.jsx("p",{className:"text-gray-600 mb-4",children:a}),s.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(ja,{className:"w-4 h-4"}),"Try Again"]})]}):t.length===0?s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Or,{className:"w-8 h-8 text-gray-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Bookings Yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"New bookings will appear here when tenants make reservations."}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Wh,{className:"w-4 h-4"}),"Go to Dashboard"]})]}):m==="table"?s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-32",children:"Date"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Status"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-40",children:"Seeker"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-48",children:"Property"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-20",children:"Room"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Rent"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(B=>{var R,U,$,K,H,z,te,ee,Z,V,X;const O=C(B.createdAt||B.bookedAt);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900",children:O.date}),s.jsx("div",{className:"text-xs text-gray-500",children:O.time})]}),s.jsx("td",{className:"px-3 py-3",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${E(B.status,B.cancelledBy)}`,children:[I(B.status,B.cancelledBy),s.jsx("span",{className:"hidden sm:inline",children:F(B.status,B.cancelledBy)})]})}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:((R=B.userSnapshot)==null?void 0:R.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:((U=B.userSnapshot)==null?void 0:U.email)||"-"})]}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:(($=B.propertySnapshot)==null?void 0:$.name)||((K=B.property)==null?void 0:K.propertyName)||"-"}),s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[((z=(H=B.propertySnapshot)==null?void 0:H.address)==null?void 0:z.city)||"",(ee=(te=B.propertySnapshot)==null?void 0:te.address)!=null&&ee.state?`, ${B.propertySnapshot.address.state}`:""]})]}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["R",((Z=B.roomSnapshot)==null?void 0:Z.roomNumber)||"-"]}),s.jsx("div",{className:"text-xs text-gray-500",children:((V=B.roomSnapshot)==null?void 0:V.roomType)||""})]}),s.jsx("td",{className:"px-3 py-3",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:N((X=B.roomSnapshot)==null?void 0:X.rent)})}),s.jsx("td",{className:"px-3 py-3 text-right",children:s.jsxs("button",{onClick:()=>e(`/owner-bookings/${B._id}`,{state:{userId:B.userId,ownerId:B.ownerId,propertyId:B.propertyId,roomId:B.roomId}}),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-xs font-medium",children:[s.jsx(Pr,{className:"w-3 h-3"}),s.jsx("span",{className:"hidden sm:inline",children:"View"})]})})]},B._id)})})]})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(B=>{var U,$,K,H,z,te,ee,Z,V,X,W,ae,ie,ce,be;const O=C(B.createdAt||B.bookedAt),R=g.has(B._id);return s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Or,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.date}),s.jsx("div",{className:"text-xs text-gray-500",children:O.time})]})]}),s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${E(B.status,B.cancelledBy)}`,children:[I(B.status,B.cancelledBy),F(B.status,B.cancelledBy)]})]}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center mr-3",children:s.jsx(cr,{className:"w-4 h-4 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((U=B.userSnapshot)==null?void 0:U.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500",children:(($=B.userSnapshot)==null?void 0:$.email)||"-"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(jr,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((K=B.propertySnapshot)==null?void 0:K.name)||((H=B.property)==null?void 0:H.propertyName)||"-"})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-6",children:[((te=(z=B.propertySnapshot)==null?void 0:z.address)==null?void 0:te.street)||"",(Z=(ee=B.propertySnapshot)==null?void 0:ee.address)!=null&&Z.city?`, ${B.propertySnapshot.address.city}`:"",(X=(V=B.propertySnapshot)==null?void 0:V.address)!=null&&X.state?`, ${B.propertySnapshot.address.state}`:""]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ua,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["Room ",((W=B.roomSnapshot)==null?void 0:W.roomNumber)||"-"]}),s.jsx("div",{className:"text-xs text-gray-500",children:((ae=B.roomSnapshot)==null?void 0:ae.roomType)||""})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:N((ie=B.roomSnapshot)==null?void 0:ie.rent)}),s.jsx("div",{className:"text-xs text-gray-500",children:"per month"})]})]}),R&&s.jsx("div",{className:"border-t border-gray-200 pt-4 mb-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tn,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:((ce=B.userSnapshot)==null?void 0:ce.phone)||"Not provided"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Jr,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:((be=B.userSnapshot)==null?void 0:be.email)||"Not provided"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>P(B._id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:R?"Show Less":"Show More"}),s.jsxs("button",{onClick:()=>e(`/owner-bookings/${B._id}`,{state:{userId:B.userId,ownerId:B.ownerId,propertyId:B.propertyId,roomId:B.roomId}}),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[s.jsx(Pr,{className:"w-4 h-4"}),"View Details"]})]})]})},B._id)})})]})})},jJe=()=>{var E,I,F,B,O,R,U,$,K,H,z,te,ee,Z,V,X,W,ae,ie,ce,be,he,ge,Se,re,_e,ue,J,fe,ye,Ie,ke,He,We,me,Be;const{bookingId:e}=ju(),t=Ar(),r=eo(),[n,i]=j.useState(null),[a,o]=j.useState(!0),[l,c]=j.useState(""),[d,u]=j.useState(""),[A,f]=j.useState(!1),[m,x]=j.useState(!1),[g,v]=j.useState(!1),[y,b]=j.useState(!1),[w,_]=j.useState(null);j.useEffect(()=>{(async()=>{try{o(!0),c("");const Ne="http://localhost:5000/api/property",Fe=localStorage.getItem("authToken");let it=Fe&&e?`${Ne}/bookings/${e}`:null,pt;it&&(pt=await fetch(it,{headers:{"Content-Type":"application/json",...Fe?{Authorization:`Bearer ${Fe}`}:{}}}));let Re;if(pt&&pt.ok)Re=await pt.json(),i(Re.booking),console.log("Booking Data:",Re.booking),u(Re.source||"booking");else{const gt=r.state||{},rt=new URLSearchParams(r.search),ot=gt.userId||rt.get("userId"),xt=gt.ownerId||rt.get("ownerId"),Et=gt.propertyId||rt.get("propertyId"),St=gt.roomId||rt.get("roomId");if(ot&&xt&&Et&&St){const $t=`${Ne}/bookings/lookup/payment?userId=${encodeURIComponent(ot)}&ownerId=${encodeURIComponent(xt)}&propertyId=${encodeURIComponent(Et)}&roomId=${encodeURIComponent(St)}`,bt=await fetch($t);if(!bt.ok){const lt=await bt.text();throw new Error(lt||`HTTP ${bt.status}`)}const ht=await bt.json();i(ht.booking),u(ht.source||"composed")}else if(pt){const $t=await pt.text();throw new Error($t||`HTTP ${pt.status}`)}else throw new Error("No booking ID or lookup parameters found")}}catch(Ne){c(Ne.message||"Failed to load booking")}finally{o(!1)}})()},[e,r.search,r.state]);const N=async Oe=>{try{if(!(n!=null&&n._id))return;f(!0);const Ne="http://localhost:5000/api",Fe=localStorage.getItem("authToken"),it=Oe==="approve"?"approved":"rejected",pt=await fetch(`${Ne}/property/bookings/${n._id}/status`,{method:"POST",headers:{"Content-Type":"application/json",...Fe?{Authorization:`Bearer ${Fe}`}:{}},body:JSON.stringify({status:it})});if(!pt.ok){const gt=await pt.text();throw new Error(gt||`HTTP ${pt.status}`)}const Re=await pt.json();i(Re.booking),_(Oe),Oe==="approve"?x(!0):v(!0)}catch(Ne){c(Ne.message||"Failed to update booking")}finally{f(!1)}},C=async()=>{try{if(!(n!=null&&n._id))return;f(!0);const Oe="http://localhost:5000/api",Ne=localStorage.getItem("authToken"),Fe=await fetch(`${Oe}/property/bookings/${n._id}/finalize-check-in`,{method:"POST",headers:{"Content-Type":"application/json",...Ne?{Authorization:`Bearer ${Ne}`}:{}}});if(!Fe.ok){const pt=await Fe.text();throw new Error(pt||`HTTP ${Fe.status}`)}const it=await Fe.json();i(pt=>({...pt,status:"checked_in"})),b(!0)}catch(Oe){c(Oe.message||"Failed to finalize check-in")}finally{f(!1)}},P=Oe=>{const Ne={pending_approval:{bg:"bg-yellow-100",text:"text-yellow-800",icon:ns,label:"Pending Approval"},confirmed:{bg:"bg-green-100",text:"text-green-800",icon:yt,label:"Approved"},approved:{bg:"bg-green-100",text:"text-green-800",icon:yt,label:"Approved"},checked_in:{bg:"bg-blue-100",text:"text-blue-800",icon:jr,label:"Checked In"},rejected:{bg:"bg-red-100",text:"text-red-800",icon:rr,label:"Rejected"},cancelled:{bg:"bg-gray-100",text:"text-gray-800",icon:rr,label:"Cancelled"}},Fe=Ne[Oe]||Ne.pending_approval,it=Fe.icon;return s.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${Fe.bg} ${Fe.text} font-medium`,children:[s.jsx(it,{className:"w-4 h-4"}),Fe.label]})};return s.jsxs(yn,{children:[s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/owner-bookings"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(ei,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Back to Bookings"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Booking Details"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and review booking information"})]}),n&&s.jsx("div",{children:P(n.status)})]})]}),a?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading booking details..."})]}):l?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx(Xt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-lg",children:l})]}):n?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Zr,{className:"w-6 h-6"}),"Property Details"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Ir,{className:"w-4 h-4"}),"Property Name"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((E=n.propertySnapshot)==null?void 0:E.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(gi,{className:"w-4 h-4"}),"Security Deposit"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((I=n.propertySnapshot)==null?void 0:I.security_deposit)!=null?`${Number(n.propertySnapshot.security_deposit).toLocaleString()}`:"N/A"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(jr,{className:"w-4 h-4"}),"Address"]}),s.jsxs("p",{className:"mt-1 text-gray-900",children:[((B=(F=n.propertySnapshot)==null?void 0:F.address)==null?void 0:B.street)&&`${n.propertySnapshot.address.street}, `,((R=(O=n.propertySnapshot)==null?void 0:O.address)==null?void 0:R.city)&&`${n.propertySnapshot.address.city}, `,(($=(U=n.propertySnapshot)==null?void 0:U.address)==null?void 0:$.state)&&`${n.propertySnapshot.address.state} `,((H=(K=n.propertySnapshot)==null?void 0:K.address)==null?void 0:H.pincode)&&`- ${n.propertySnapshot.address.pincode}`,!((z=n.propertySnapshot)!=null&&z.address)&&"N/A"]})]})]})})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(ua,{className:"w-6 h-6"}),"Room Details"]})}),s.jsxs("div",{className:"p-6",children:[(((ee=(te=n.roomSnapshot)==null?void 0:te.images)==null?void 0:ee.room)||((V=(Z=n.roomSnapshot)==null?void 0:Z.images)==null?void 0:V.toilet))&&s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[((W=(X=n.roomSnapshot)==null?void 0:X.images)==null?void 0:W.room)&&s.jsxs("div",{className:"relative group overflow-hidden rounded-xl",children:[s.jsx("img",{src:n.roomSnapshot.images.room,alt:"Room",className:"w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:s.jsx("p",{className:"text-white font-medium",children:"Room View"})})]}),((ie=(ae=n.roomSnapshot)==null?void 0:ae.images)==null?void 0:ie.toilet)&&s.jsxs("div",{className:"relative group overflow-hidden rounded-xl",children:[s.jsx("img",{src:n.roomSnapshot.images.toilet,alt:"Bathroom",className:"w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:s.jsx("p",{className:"text-white font-medium",children:"Bathroom View"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Oue,{className:"w-4 h-4"}),"Room Number"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((ce=n.roomSnapshot)==null?void 0:ce.roomNumber)??"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ua,{className:"w-4 h-4"}),"Room Type"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((be=n.roomSnapshot)==null?void 0:be.roomType)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Pue,{className:"w-4 h-4"}),"Room Size"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((he=n.roomSnapshot)==null?void 0:he.roomSize)!=null?`${n.roomSnapshot.roomSize} sq ft`:"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Bed Type"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((ge=n.roomSnapshot)==null?void 0:ge.bedType)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Hr,{className:"w-4 h-4"}),"Occupancy"]}),s.jsxs("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:[((Se=n.roomSnapshot)==null?void 0:Se.occupancy)??"N/A"," ",((re=n.roomSnapshot)==null?void 0:re.occupancy)>1?"Persons":"Person"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(gi,{className:"w-4 h-4"}),"Monthly Rent"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-green-600",children:((_e=n.roomSnapshot)==null?void 0:_e.rent)!=null?`${Number(n.roomSnapshot.rent).toLocaleString()}`:"N/A"})]}),s.jsxs("div",{className:n.status==="pending_approval"?"bg-purple-50 p-3 rounded-xl border border-purple-100":"",children:[s.jsxs("label",{className:"text-sm font-medium text-purple-600 flex items-center gap-2",children:[s.jsx(Or,{className:"w-4 h-4"}),"Requested Check-in"]}),s.jsx("p",{className:`mt-1 text-lg font-bold ${n.checkInDate?"text-purple-700":"text-gray-400 italic"}`,children:n.checkInDate?new Date(n.checkInDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"Not set by seeker yet"})]})]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Or,{className:"w-6 h-6"}),"Booking Timeline"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:new Date(n.createdAt||n.bookedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.createdAt||n.bookedAt).toLocaleTimeString("en-IN")})]}),n.checkInDate&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Requested Check-in Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-purple-600",children:new Date(n.checkInDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Expected arrival"})]}),n.approvedAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Approved Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:new Date(n.approvedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.approvedAt).toLocaleTimeString("en-IN")})]})]})})]}),n.status==="pending_approval"&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Actions"}),!n.checkInDate&&n.status==="pending_approval"&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 p-4 rounded-xl mb-4 flex items-start gap-3",children:[s.jsx(qh,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Awaiting Seeker's Check-in Date"}),s.jsx("p",{className:"text-xs mt-1",children:"The seeker needs to set their preferred check-in date from their dashboard before you can approve this booking."})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("button",{disabled:A||!n.checkInDate,onClick:()=>N("approve"),className:"flex-1 min-w-[200px] bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-4 rounded-xl font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed flex items-center justify-center gap-2",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yt,{className:"w-5 h-5"}),n.checkInDate?"Approve Booking":"Awaiting Date"]})}),s.jsx("button",{disabled:A,onClick:()=>N("reject"),className:"flex-1 min-w-[200px] bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-4 rounded-xl font-semibold hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-5 h-5"}),"Reject Booking"]})})]})]}),(n.status==="approved"||n.status==="confirmed")&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg p-6 border-l-4 border-blue-600",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(jr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Final Check-in Confirmation"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Confirm that the seeker has arrived at the property and successfully checked in."})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),"What happens next?"]}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Seeker will be officially added as a Tenant in this room"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Room occupancy will be updated"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Tenancy records will be visible in your Tenant Management area"]})]})]}),s.jsx("button",{disabled:A,onClick:C,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-xl font-bold hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center gap-3",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Check-in..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yt,{className:"w-6 h-6"}),"Confirm Final Check-in"]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5"}),"Seeker Information"]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-4",children:(ue=n.userId)!=null&&ue.profilePicture||(J=n.userId)!=null&&J.picture?s.jsx("img",{src:((fe=n.userId)==null?void 0:fe.profilePicture)||((ye=n.userId)==null?void 0:ye.picture),alt:"Seeker Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-indigo-50 shadow-md"}):s.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-300",children:s.jsx(cr,{className:"w-12 h-12"})})}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((Ie=n.userSnapshot)==null?void 0:Ie.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4"}),"Email"]}),s.jsx("p",{className:"mt-1 text-gray-900 break-words",children:((ke=n.userSnapshot)==null?void 0:ke.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Tn,{className:"w-4 h-4"}),"Phone"]}),s.jsx("p",{className:"mt-1 text-gray-900",children:((He=n.userSnapshot)==null?void 0:He.phone)||"N/A"})]})]})]}),n.userId&&(n.userId.govtIdFrontUrl||n.userId.govtIdBackUrl)&&s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.25},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5"}),"Identity Verification"]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.userId.kycVerified?s.jsxs("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full flex items-center gap-1 font-medium",children:[s.jsx(yt,{className:"w-3 h-3"})," Verified"]}):s.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full flex items-center gap-1 font-medium",children:[s.jsx(ns,{className:"w-3 h-3"})," Pending"]})}),s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:"Government ID"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.userId.govtIdFrontUrl&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Front Side"}),s.jsx("img",{src:n.userId.govtIdFrontUrl,alt:"ID Front",className:"w-full h-40 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(n.userId.govtIdFrontUrl,"_blank")})]}),n.userId.govtIdBackUrl&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Back Side"}),s.jsx("img",{src:n.userId.govtIdBackUrl,alt:"ID Back",className:"w-full h-40 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(n.userId.govtIdBackUrl,"_blank")})]})]})]})]}),s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5"}),"Owner Information"]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((We=n.ownerSnapshot)==null?void 0:We.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4"}),"Email"]}),s.jsx("p",{className:"mt-1 text-gray-900 break-words",children:((me=n.ownerSnapshot)==null?void 0:me.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Tn,{className:"w-4 h-4"}),"Phone"]}),s.jsx("p",{className:"mt-1 text-gray-900",children:((Be=n.ownerSnapshot)==null?void 0:Be.phone)||"N/A"})]})]})]})]})]}):null]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(yt,{className:"w-10 h-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Approved!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The booking has been successfully approved. The seeker will be notified via email."}),s.jsx("button",{onClick:()=>{x(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-200",children:"Back to Bookings"})]})}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rr,{className:"w-10 h-10 text-red-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Rejected"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The booking has been rejected. The seeker will be notified via email."}),s.jsx("button",{onClick:()=>{v(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-red-700 hover:to-red-800 transition-all duration-200",children:"Back to Bookings"})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(yt,{className:"w-10 h-10 text-blue-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check-in Successful!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The seeker has been successfully checked in."}),s.jsx("button",{onClick:()=>{b(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-200",children:"Back to Bookings"})]})})]})},NJe=()=>{const e=Ar(),[t,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(""),[l,c]=j.useState(""),[d,u]=j.useState("all"),[A,f]=j.useState(!1),[m,x]=j.useState(!1),[g,v]=j.useState(null),[y,b]=j.useState(!1),w=async()=>{try{i(!0),o("");const $=await Ye.get("/property/owner/tenants");if($.status===200){const K=$.data,H=Array.isArray(K.tenants)?K.tenants:[],z=new Map;H.forEach(ee=>{const Z=`${ee.userEmail||ee.userName}-${ee.propertyName}-${ee.roomNumber}`;z.has(Z)||z.set(Z,ee)});const te=Array.from(z.values());r(te)}else throw new Error(`HTTP ${$.status}`)}catch($){o($.message||"Failed to load tenants")}finally{i(!1)}};j.useEffect(()=>{w()},[]);const _=j.useMemo(()=>{const $=l.trim().toLowerCase();return t.filter(K=>d==="all"?!0:K.status===d).filter(K=>{if(!$)return!0;const H=`${K.userName||""} ${K.userEmail||""}`.toLowerCase(),z=`${K.propertyName||""}`.toLowerCase(),te=`${K.roomNumber||""} ${K.roomType||""}`.toLowerCase();return H.includes($)||z.includes($)||te.includes($)}).sort((K,H)=>new Date(H.actualCheckInDate)-new Date(K.actualCheckInDate))},[t,l,d]),N=j.useMemo(()=>{const $=t.length,K=t.filter(te=>te.status==="active").length,H=new Date().toDateString(),z=t.filter(te=>new Date(te.actualCheckInDate).toDateString()===H).length;return{total:$,active:K,checkedInToday:z}},[t]),C=async()=>{f(!0),await w(),f(!1)},P=$=>$?`${Number($).toLocaleString()}`:"-",E=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",I=$=>{switch($){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"checked_out":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},F=$=>{v($),x(!0)},B=async()=>{if(g)try{if(b(!0),b(!0),(await Ye.post(`/property/tenants/${g._id}/check-out`)).status!==200)throw new Error("Failed to check out tenant");r(K=>K.map(H=>H._id===g._id?{...H,status:"checked_out"}:H)),x(!1),v(null)}catch($){o($.message||"Failed to check out tenant")}finally{b(!1)}},O=$=>{$&&(window.location.href=`tel:${$}`)},R=$=>{if($){const K=$.replace(/\D/g,"");window.open(`https://wa.me/${K}`,"_blank")}},U=$=>{$&&(window.location.href=`mailto:${$}`)};return n?s.jsx(yn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ja,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading tenants..."})]})})}):s.jsx(yn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Checked-In Tenants"}),s.jsx("p",{className:"text-gray-600",children:"Manage and view all active tenants"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:C,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[A?s.jsx(ja,{className:"w-4 h-4 animate-spin"}):s.jsx(ja,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[s.jsx(Wh,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>u("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Total Tenants"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:N.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(Hr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="active"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>u("active"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Active"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:N.active})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-purple-600 mb-1",children:"Checked-In Today"}),s.jsx("div",{className:"text-3xl font-bold text-purple-900",children:N.checkedInToday})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-200 rounded-lg flex items-center justify-center",children:s.jsx(Or,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant name, email, property, or room...",value:l,onChange:$=>c($.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-800",children:a})}),_.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(Hr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tenants Found"}),s.jsx("p",{className:"text-gray-600",children:l?"Try adjusting your search criteria":"No checked-in tenants yet"})]}):s.jsx("div",{className:"space-y-4",children:_.map(($,K)=>s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:K*.05},className:`bg-white border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${$.status==="checked_out"?"border-red-300 bg-red-50":"border-gray-200"}`,children:s.jsxs("div",{className:"p-4 sm:p-6 text-left",children:[s.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-4 lg:gap-6 items-center",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full lg:col-span-4",children:[s.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full flex-shrink-0 flex items-center justify-center overflow-hidden ${!$.profilePicture&&($.status==="checked_out"?"bg-red-100":"bg-blue-100")}`,children:$.profilePicture?s.jsx("img",{src:$.profilePicture,alt:$.userName,className:"w-full h-full object-cover"}):s.jsx(cr,{className:`w-6 h-6 sm:w-7 sm:h-7 ${$.status==="checked_out"?"text-red-600":"text-blue-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 truncate",title:$.userName,children:$.userName}),s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${I($.status)}`,children:$.status==="active"?"Active":"Checked Out"})]}),s.jsxs("div",{className:"flex flex-col gap-0.5 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[s.jsx(Jr,{className:"w-3.5 h-3.5 flex-shrink-0"}),s.jsx("span",{className:"truncate",title:$.userEmail,children:$.userEmail})]}),$.userPhone&&s.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[s.jsx(Tn,{className:"w-3.5 h-3.5 flex-shrink-0"}),s.jsx("span",{children:$.userPhone})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("button",{onClick:H=>{H.stopPropagation(),O($.userPhone)},className:"p-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors",title:"Call Tenant",children:s.jsx(Tn,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:H=>{H.stopPropagation(),R($.userPhone)},className:"p-1.5 bg-green-50 text-green-600 rounded-md hover:bg-green-100 transition-colors",title:"WhatsApp Tenant",children:s.jsx(ad,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:H=>{H.stopPropagation(),U($.userEmail)},className:"p-1.5 bg-indigo-50 text-indigo-600 rounded-md hover:bg-indigo-100 transition-colors",title:"Email Tenant",children:s.jsx(Jr,{className:"w-3.5 h-3.5"})})]})]})]})]}),s.jsxs("div",{className:"hidden lg:grid grid-cols-2 gap-4 lg:col-span-4 w-full",children:[s.jsxs("div",{className:"text-center overflow-hidden px-1",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wider",children:"Property"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",title:$.propertyName,children:$.propertyName})]}),s.jsxs("div",{className:"text-center px-1",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wider",children:"Room"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Room ",$.roomNumber]})]})]}),s.jsx("div",{className:"flex items-center gap-2 w-full lg:w-auto lg:justify-end lg:col-span-4",children:$.status==="active"?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>e(`/owner/tenants/${$._id}`),title:"View Details",className:"p-2 sm:px-4 sm:py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Pr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Details"})]}),s.jsxs("button",{onClick:()=>F($),title:"Checkout Tenant",className:"flex-1 lg:flex-none px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(gl,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Checkout"}),s.jsx("span",{className:"lg:hidden",children:"Checkout"})]})]}):s.jsx("div",{className:"w-full lg:w-auto px-3 py-1.5 bg-red-50 text-red-600 rounded-lg text-sm font-medium text-center border border-red-100",children:"Checked Out"})})]}),s.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Property"}),s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:$.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Room"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["Room ",$.roomNumber]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Monthly Rent"}),s.jsx("p",{className:"font-semibold text-green-600",children:P($.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Check-in Date"}),s.jsx("p",{className:"font-semibold text-gray-900",children:E($.actualCheckInDate)})]})]})]})},$._id))}),m&&g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-6 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Confirm Checkout"}),s.jsx("p",{className:"text-red-100",children:"Are you sure you want to check out this tenant?"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Tenant Name"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.userName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.userEmail})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Property"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:g.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Room"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Room ",g.roomNumber]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-semibold text-green-600",children:P(g.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Security Deposit"}),s.jsx("p",{className:"text-sm font-semibold text-blue-600",children:P(g.securityDeposit)})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Check-in Date"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:E(g.actualCheckInDate)})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," This action will mark the tenant as checked out. The security deposit will need to be processed separately."]})})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>{x(!1),v(null)},disabled:y,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:B,disabled:y,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:y?s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-4 h-4 animate-spin"}),"Checking Out..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-5 h-5"}),"Confirm Checkout"]})})]})]})})]})})};delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const _Je=({onLocationSelect:e})=>(qN({click:t=>{const{lat:r,lng:n}=t.latlng;e(r,n)}}),null),CJe=({center:e})=>{const t=qN({});return Ce.useEffect(()=>{e&&e[0]&&e[1]&&t.setView(e,t.getZoom())},[e,t]),null},SJe=()=>{const e=Ar(),{id:t}=ju(),[r,n]=j.useState(null),[i,a]=j.useState(!0),[o,l]=j.useState(!1),[c,d]=j.useState(null),[u,A]=j.useState(null),[f,m]=j.useState(null),[x,g]=j.useState("basic"),[v,y]=j.useState([12.9716,77.5946]),[b,w]=j.useState(13),[_,N]=j.useState({}),[C,P]=j.useState({}),[E,I]=j.useState(null),F=j.useRef({}),[B,O]=j.useState({property_name:"",description:"",property_mode:"room",address:{street:"",city:"",state:"",pincode:"",landmark:""},latitude:"",longitude:"",security_deposit:"",amenities:{parking4w:!1,parking2w:!1,kitchen:!1,powerBackup:!1},rules:{petsAllowed:!1,smokingAllowed:!1,visitorsAllowed:!0,cookingAllowed:!0},images:{front:"",back:"",hall:"",kitchen:"",gallery:[]},requiredImages:{front:null,back:null,hall:null,kitchen:null,outside_toilet:null},toilet_outside:!1,outside_toilet_image:"",land_tax_receipt:"",status:"active"});j.useEffect(()=>{(async()=>{var ae,ie,ce,be,he,ge,Se,re,_e,ue,J,fe,ye,Ie,ke,He,We,me,Be,Oe,Ne,Fe;try{if(a(!0),!localStorage.getItem("authToken")){e("/login");return}const pt=await Ye.get(`/property/owner/properties/${t}`);if(pt.data.success){const Re=pt.data.data;d(Re),O({property_name:Re.property_name||"",description:Re.description||"",property_mode:Re.property_mode||"room",address:{street:((ae=Re.address)==null?void 0:ae.street)||"",city:((ie=Re.address)==null?void 0:ie.city)||"",state:((ce=Re.address)==null?void 0:ce.state)||"",pincode:((be=Re.address)==null?void 0:be.pincode)||"",landmark:((he=Re.address)==null?void 0:he.landmark)||""},latitude:Re.latitude||"",longitude:Re.longitude||"",security_deposit:Re.security_deposit||"",amenities:{parking4w:((ge=Re.amenities)==null?void 0:ge.parking4w)||!1,parking2w:((Se=Re.amenities)==null?void 0:Se.parking2w)||!1,kitchen:((re=Re.amenities)==null?void 0:re.kitchen)||!1,powerBackup:((_e=Re.amenities)==null?void 0:_e.powerBackup)||!1},rules:{petsAllowed:((ue=Re.rules)==null?void 0:ue.petsAllowed)||!1,smokingAllowed:((J=Re.rules)==null?void 0:J.smokingAllowed)||!1,visitorsAllowed:((fe=Re.rules)==null?void 0:fe.visitorsAllowed)!==!1,cookingAllowed:((ye=Re.rules)==null?void 0:ye.cookingAllowed)!==!1},images:{front:((Ie=Re.images)==null?void 0:Ie.front)||"",back:((ke=Re.images)==null?void 0:ke.back)||"",hall:((He=Re.images)==null?void 0:He.hall)||"",kitchen:((We=Re.images)==null?void 0:We.kitchen)||"",gallery:((me=Re.images)==null?void 0:me.gallery)||[]},requiredImages:{front:(Be=Re.images)!=null&&Be.front?{file:null,preview:Re.images.front,name:"Front View"}:null,back:(Oe=Re.images)!=null&&Oe.back?{file:null,preview:Re.images.back,name:"Back View"}:null,hall:(Ne=Re.images)!=null&&Ne.hall?{file:null,preview:Re.images.hall,name:"Hall View"}:null,kitchen:(Fe=Re.images)!=null&&Fe.kitchen?{file:null,preview:Re.images.kitchen,name:"Kitchen View"}:null,outside_toilet:Re.outside_toilet_image?{file:null,preview:Re.outside_toilet_image,name:"Outside Toilet"}:null},toilet_outside:Re.toilet_outside||!1,outside_toilet_image:Re.outside_toilet_image||"",land_tax_receipt:Re.land_tax_receipt||"",status:Re.status||"active"}),Re.latitude&&Re.longitude&&y([Re.latitude,Re.longitude])}else A("Property not found")}catch(it){console.error("Error fetching property:",it),A("Error loading property details")}finally{a(!1)}})()},[t,e]),j.useEffect(()=>{const W=JSON.parse(localStorage.getItem("user")||"{}");n(W)},[]);const R=(W,ae)=>{if(W.includes(".")){const[ie,ce]=W.split(".");O(be=>({...be,[ie]:{...be[ie],[ce]:ae}}))}else O(ie=>({...ie,[W]:ae}))},U=W=>{O(ae=>({...ae,amenities:{...ae.amenities,[W]:!ae.amenities[W]}}))},$=W=>{O(ae=>({...ae,rules:{...ae.rules,[W]:!ae.rules[W]}}))},K=(W,ae)=>{O(ie=>({...ie,latitude:W,longitude:ae})),y([W,ae])},H=(W,ae)=>{const ie=ae.toLowerCase().endsWith(".pdf");console.log("Opening document preview:",{docUrl:W,fileName:ae,isPdf:ie}),fetch(W,{method:"HEAD"}).then(ce=>{console.log("Document URL response:",ce.status,ce.statusText),ce.ok||console.error("Document URL not accessible:",ce.status)}).catch(ce=>{console.error("Error checking document URL:",ce)}),I({url:W,name:ae,type:ie?"pdf":"image"})},z=(W,ae)=>{var be;const ie=(be=ae.target.files)==null?void 0:be[0];if(!ie)return;const ce={file:ie,preview:URL.createObjectURL(ie),name:ie.name};O(he=>({...he,requiredImages:{...he.requiredImages,[W]:ce}}))},te=W=>{O(ae=>({...ae,requiredImages:{...ae.requiredImages,[W]:null}}))},ee=(W,ae)=>{if(ae)if(W==="gallery"){const ie={file:ae,preview:URL.createObjectURL(ae),name:ae.name};O(ce=>({...ce,images:{...ce.images,gallery:[...ce.images.gallery,ie]}}))}else{const ie={file:ae,preview:URL.createObjectURL(ae),name:ae.name};O(ce=>({...ce,images:{...ce.images,[W]:ie}}))}},Z=(W,ae=null)=>{O(ae!==null?ie=>({...ie,images:{...ie.images,gallery:ie.images.gallery.filter((ce,be)=>be!==ae)}}):ie=>({...ie,images:{...ie.images,[W]:null}}))},V=async W=>{var ae,ie,ce,be,he,ge,Se,re;W.preventDefault(),l(!0),A(null),m(null);try{if(!localStorage.getItem("authToken")){e("/login");return}const ue="http://localhost:5000/api/property",J=new FormData,fe={...B};if(B.amenities.kitchen&&!(B.images.kitchen||((ae=B.requiredImages.kitchen)==null?void 0:ae.file)||((ie=B.requiredImages.kitchen)==null?void 0:ie.preview))){A("Kitchen image is required when Kitchen amenity is selected"),l(!1);return}const ye={...fe};J.append("propertyData",JSON.stringify(ye)),(ce=B.requiredImages.front)!=null&&ce.file&&J.append("frontImage",B.requiredImages.front.file),(be=B.requiredImages.back)!=null&&be.file&&J.append("backImage",B.requiredImages.back.file),(he=B.requiredImages.hall)!=null&&he.file&&J.append("hallImage",B.requiredImages.hall.file),(ge=B.requiredImages.kitchen)!=null&&ge.file&&J.append("kitchenImage",B.requiredImages.kitchen.file),B.images.gallery&&Array.isArray(B.images.gallery)&&B.images.gallery.forEach((ke,He)=>{ke.file&&J.append("galleryImages",ke.file)}),(Se=B.requiredImages.outside_toilet)!=null&&Se.file&&J.append("outsideToiletImage",B.requiredImages.outside_toilet.file),(re=B.land_tax_receipt)!=null&&re.file&&J.append("landTaxReceipt",B.land_tax_receipt.file),B.documents&&Array.isArray(B.documents)&&B.documents.forEach((ke,He)=>{ke.file&&J.append("documents",ke.file)}),console.log("FormData entries for update:"),console.log("FormData entries for update:");for(let[ke,He]of J.entries())console.log(ke,He);const Ie=await Ye.put(`/property/owner/properties/${t}`,J);Ie.data.success?(m("Property updated successfully!"),setTimeout(()=>{e("/owner-properties")},2e3)):A(Ie.data.message||"Failed to update property")}catch(_e){console.error("Error updating property:",_e),A("Error updating property")}finally{l(!1)}},X=[{id:"basic",label:"Basic Info",icon:Zr},{id:"location",label:"Location & Map",icon:jr},{id:"amenities",label:"Amenities & Rules",icon:Ir},{id:"media",label:"Images & Documents",icon:As}];return i?s.jsx(yn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xs,{className:"w-8 h-8 animate-spin text-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading property details..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Property ID: ",t]})]})})}):u&&!c?s.jsx(yn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Property"}),s.jsx("p",{className:"text-gray-600 mb-4",children:u}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Property ID: ",t]}),s.jsx("button",{onClick:()=>e("/owner-properties"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Back to Properties"})]})})}):s.jsxs(yn,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx("button",{onClick:()=>e("/owner-properties"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ei,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"Edit Property"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Update your property information"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:V,disabled:o,className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?s.jsx(Xs,{className:"w-4 h-4 animate-spin"}):s.jsx(Bv,{className:"w-4 h-4"}),s.jsx("span",{children:o?"Saving...":"Save Changes"})]})})]})}),f&&s.jsxs(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center space-x-2",children:[s.jsx(yt,{className:"w-5 h-5"}),s.jsx("span",{children:f})]}),u&&s.jsxs(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center space-x-2",children:[s.jsx(Xt,{className:"w-5 h-5"}),s.jsx("span",{children:u})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-6 lg:space-x-8 overflow-x-auto scrollbar-hide",children:X.map(W=>{const ae=W.icon;return s.jsxs("button",{onClick:()=>g(W.id),className:`flex items-center space-x-2 sm:space-x-3 py-3 px-3 sm:px-4 border-b-2 font-medium text-sm whitespace-nowrap min-w-0 ${x===W.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(ae,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{children:W.label})]},W.id)})})})}),s.jsxs("form",{onSubmit:V,className:"space-y-6 sm:space-y-8",children:[x==="basic"&&s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Basic Information & Pricing"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name *"}),s.jsx("input",{type:"text",value:B.property_name,onChange:W=>R("property_name",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter property name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Mode"}),s.jsxs(X2,{value:B.property_mode,onValueChange:W=>R("property_mode",W),children:[s.jsx(Oy,{children:s.jsx(Z2,{placeholder:"Select property mode"})}),s.jsx(Ly,{children:s.jsx(va,{value:"room",children:"Room"})})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{value:B.description,onChange:W=>R("description",W.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Describe your property...",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Pricing Information"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit () *"}),s.jsx("input",{type:"number",value:B.security_deposit,onChange:W=>R("security_deposit",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter security deposit amount",required:!0})]})})]})]}),x==="location"&&s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Location & Map"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",value:B.address.street,onChange:W=>R("address.street",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter street address",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:B.address.city,onChange:W=>R("address.city",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"City",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",value:B.address.state,onChange:W=>R("address.state",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"State",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),s.jsx("input",{type:"text",value:B.address.pincode,onChange:W=>R("address.pincode",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Pincode",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:B.address.landmark,onChange:W=>R("address.landmark",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Nearby landmark"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),s.jsx("input",{type:"number",step:"any",value:B.latitude,onChange:W=>R("latitude",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Latitude"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),s.jsx("input",{type:"number",step:"any",value:B.longitude,onChange:W=>R("longitude",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Longitude"})]})]})]}),s.jsx("div",{className:"h-64 sm:h-80 lg:h-96 rounded-lg overflow-hidden border border-gray-300",children:s.jsxs(Yh,{center:v,zoom:b,style:{height:"100%",width:"100%"},children:[s.jsx(Zh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(_Je,{onLocationSelect:K}),s.jsx(CJe,{center:v}),B.latitude&&B.longitude&&s.jsx(Xh,{position:[B.latitude,B.longitude]})]})})]})]}),x==="amenities"&&s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Amenities & Rules"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"parking4w",label:"4-Wheeler Parking",icon:ac},{key:"parking2w",label:"2-Wheeler Parking",icon:ac},{key:"kitchen",label:"Kitchen",icon:Dg},{key:"powerBackup",label:"Power Backup",icon:Oz}].map(W=>{const ae=W.icon;return s.jsxs("label",{className:`flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${B.amenities[W.key]?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{type:"checkbox",checked:B.amenities[W.key],onChange:()=>U(W.key),className:"sr-only"}),s.jsx(ae,{className:"w-6 h-6 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-center",children:W.label})]},W.key)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Rules & Policies"}),s.jsx("div",{className:"space-y-3 sm:space-y-4",children:[{key:"petsAllowed",label:"Pets Allowed",description:"Allow tenants to keep pets"},{key:"smokingAllowed",label:"Smoking Allowed",description:"Allow smoking on the property"},{key:"visitorsAllowed",label:"Visitors Allowed",description:"Allow tenants to have visitors"},{key:"cookingAllowed",label:"Cooking Allowed",description:"Allow cooking in the property"}].map(W=>s.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:B.rules[W.key],onChange:()=>$(W.key),className:"mt-1 h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.label}),s.jsx("div",{className:"text-sm text-gray-500",children:W.description})]})]},W.key))})]})]}),x==="media"&&s.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Images & Documents"}),s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(As,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h4",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:"Property Images"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-8 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Kitchen Available"}),s.jsx("button",{type:"button",onClick:()=>U("kitchen"),className:`relative inline-flex items-center h-6 w-11 rounded-full transition-colors border ${B.amenities.kitchen?"bg-red-600 border-red-600":"bg-gray-200 border-gray-300"}`,"aria-pressed":B.amenities.kitchen,children:s.jsx("span",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transition-transform ${B.amenities.kitchen?"translate-x-5":"translate-x-0"}`})}),s.jsx("span",{className:`text-xs font-semibold ${B.amenities.kitchen?"text-red-700":"text-gray-500"}`,children:B.amenities.kitchen?"YES":"NO"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Outside Toilet Available"}),s.jsx("button",{type:"button",onClick:()=>R("toilet_outside",!B.toilet_outside),className:`relative inline-flex items-center h-6 w-11 rounded-full transition-colors border ${B.toilet_outside?"bg-red-600 border-red-600":"bg-gray-200 border-gray-300"}`,"aria-pressed":B.toilet_outside,children:s.jsx("span",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transition-transform ${B.toilet_outside?"translate-x-5":"translate-x-0"}`})}),s.jsx("span",{className:`text-xs font-semibold ${B.toilet_outside?"text-red-700":"text-gray-500"}`,children:B.toilet_outside?"YES":"NO"})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{key:"front",label:"Front"},{key:"back",label:"Back"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"},{key:"outside_toilet",label:"Outside Toilet"}].filter(({key:W})=>W==="kitchen"?B.amenities.kitchen:W==="outside_toilet"?B.toilet_outside:!0).map(({key:W,label:ae})=>{var be;const ie=B.requiredImages[W]||B.images[W],ce=((be=B.requiredImages[W])==null?void 0:be.preview)||B.images[W];return s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:[ae," ",W!=="kitchen"&&W!=="outside_toilet"||W==="kitchen"&&B.amenities.kitchen||W==="outside_toilet"&&B.toilet_outside?"*":""]}),ie?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:ce,alt:`${ae} View`,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>te(W),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(ar,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${_[W]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:_[W]?"Uploading...":`Upload ${ae}`}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:he=>z(W,he)})]})]},W)})}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(od,{className:"w-8 h-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:W=>{Array.from(W.target.files).forEach(ie=>{ie&&ee("gallery",ie)})},className:"hidden"})]})}),B.images.gallery&&B.images.gallery.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:B.images.gallery.map((W,ae)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:typeof W=="string"?W:W.preview,alt:`Gallery ${ae+1}`,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>Z("gallery",ae),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(ar,{className:"w-3 h-3"})})]},ae))})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Documents"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Land Tax Receipt"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-20 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center",children:B.land_tax_receipt?s.jsx("img",{src:typeof B.land_tax_receipt=="string"?B.land_tax_receipt:B.land_tax_receipt.preview,alt:"Land Tax Receipt",className:"w-full h-full object-cover rounded-lg"}):s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Land Tax Receipt"})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{ref:W=>F.current.land_tax_receipt=W,type:"file",accept:"image/*,.pdf",onChange:W=>ee("land_tax_receipt",W.target.files[0]),className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>{var W;return(W=F.current.land_tax_receipt)==null?void 0:W.click()},disabled:_.land_tax_receipt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Upload Document"}),B.land_tax_receipt&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>H(B.land_tax_receipt,"Land Tax Receipt.pdf"),className:"w-10 h-10 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",title:"Preview Document",children:s.jsx(Pr,{className:"w-4 h-4"})}),s.jsx("a",{href:typeof B.land_tax_receipt=="string"?B.land_tax_receipt:B.land_tax_receipt.preview,download:"Land Tax Receipt.pdf",className:"w-10 h-10 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",title:"Download Document",children:s.jsx(eu,{className:"w-4 h-4"})})]})]})]})]})})]})]})]})]})]})}),E&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["Document Preview - ",E.name]}),s.jsx("button",{type:"button",onClick:()=>I(null),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:""})]}),s.jsx("div",{className:"p-4",children:E.type==="pdf"?s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:s.jsx("iframe",{title:"PDF Preview",src:`${E.url}#toolbar=1&navpanes=1&scrollbar=1`,className:"w-full h-full border-0",style:{minHeight:"600px"},onLoad:()=>{console.log("PDF iframe loaded successfully")},onError:()=>{console.error("PDF iframe failed to load")}})}):s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50 flex items-center justify-center",children:s.jsx("img",{src:E.url,alt:E.name,className:"w-full max-h-[70vh] object-contain border border-gray-200 rounded-lg",onError:W=>{W.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})})}),s.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-600",children:E.type==="pdf"?"PDF Document":"Image Document"}),s.jsxs("div",{className:"flex gap-2",children:[E.type==="pdf"&&s.jsxs("a",{href:E.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(YP,{className:"w-4 h-4 mr-1"}),"Open in New Tab"]}),s.jsxs("a",{href:E.url,download:E.name,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(eu,{className:"w-4 h-4 mr-1"}),"Download"]})]})]})]})})]})},BJe=()=>{const e=Ar(),[t,r]=j.useState(!0),[n,i]=j.useState("6months"),[a,o]=j.useState([]),[l,c]=j.useState([]),[d,u]=j.useState([]);j.useEffect(()=>{(async()=>{r(!0);try{const w=localStorage.getItem("authToken"),_=JSON.parse(localStorage.getItem("user")||"{}");if(!w||!_._id){e("/login");return}const[N,C]=await Promise.all([Ye.get("/property/owner/properties?page=1&limit=500"),Ye.get("/property/owner/bookings")]),P=N.data,E=C.data,I=P.properties||P.data||[];o(I),c(E.bookings||E.data||[]);const F=I.reduce((B,O)=>{const U=(O.rooms&&Array.isArray(O.rooms)?O.rooms:[]).map($=>({...$,rent:$.rent??$.price??0,roomType:$.roomType??$.room_type??"Unknown",is_available:typeof $.is_available=="boolean"?$.is_available:$.status==="active",property:O}));return[...B,...U]},[]);u(F)}catch(w){console.error("Error fetching analytics data:",w)}finally{r(!1)}})()},[e]);const A=j.useMemo(()=>{const b=a.length,w=d.length,_=d.filter(z=>z.status==="active"||z.is_available).length,N=d.filter(z=>z.is_available===!1).length,C=l.filter(z=>{var Z;const te=((Z=z.payment)==null?void 0:Z.paymentStatus)||z.paymentStatus;return(z.status||z.bookingStatus)==="confirmed"&&te==="completed"}),P=C.reduce((z,te)=>{var ee;return z+(((ee=te.payment)==null?void 0:ee.amount)||0)},0),E=new Date().getMonth(),I=new Date().getFullYear(),F=C.filter(z=>{const te=new Date(z.createdAt);return te.getMonth()===E&&te.getFullYear()===I}).reduce((z,te)=>{var ee;return z+(((ee=te.payment)==null?void 0:ee.amount)||0)},0),B=E===0?11:E-1,O=E===0?I-1:I,R=C.filter(z=>{const te=new Date(z.createdAt);return te.getMonth()===B&&te.getFullYear()===O}).reduce((z,te)=>{var ee;return z+(((ee=te.payment)==null?void 0:ee.amount)||0)},0),U=R>0?((F-R)/R*100).toFixed(1):0,$=w>0?(N/w*100).toFixed(1):0,K=d.length>0?Math.round(d.reduce((z,te)=>z+(te.rent||0),0)/d.length):0,H=l.filter(z=>z.status==="pending").length;return{totalProperties:b,totalRooms:w,activeRooms:_,occupiedRooms:N,totalRevenue:P,monthlyRevenue:F,revenueChange:U,occupancyRate:$,avgRent:K,pendingBookings:H,totalBookings:l.length}},[a,d,l]),f=j.useMemo(()=>{const b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=n==="1month"?1:n==="3months"?3:n==="6months"?6:12,_=[],N=new Date;for(let C=w-1;C>=0;C--){const P=new Date(N.getFullYear(),N.getMonth()-C,1),E=P.getMonth(),I=P.getFullYear(),F=l.filter(B=>{var $;const O=B.status||B.bookingStatus,R=(($=B.payment)==null?void 0:$.paymentStatus)||B.paymentStatus;if(O!=="confirmed"||R!=="completed")return!1;const U=new Date(B.createdAt||B.updatedAt||B.date||Date.now());return U.getMonth()===E&&U.getFullYear()===I}).reduce((B,O)=>{var R;return B+(((R=O.payment)==null?void 0:R.amount)||O.amount||O.totalAmount||0)},0);_.push({month:b[E],revenue:F,bookings:l.filter(B=>{const O=new Date(B.createdAt||B.updatedAt||B.date||Date.now());return O.getMonth()===E&&O.getFullYear()===I}).length})}return _},[l,n]),m=j.useMemo(()=>a.map(b=>{const w=b.propertyName||b.property_name||"Property",_=Array.isArray(b.rooms)?b.rooms:[],N=new Set(_.map(E=>(E._id||E.id||"").toString())),C=l.filter(E=>{const I=(E.roomId||E.room_id||"").toString();return I&&N.has(I)}),P=C.filter(E=>{var I;return(E.status||E.bookingStatus)==="confirmed"&&(((I=E.payment)==null?void 0:I.paymentStatus)||E.paymentStatus)==="completed"}).reduce((E,I)=>{var F;return E+(((F=I.payment)==null?void 0:F.amount)||I.amount||I.totalAmount||0)},0);return{name:w.length>15?w.substring(0,15)+"...":w,fullName:w,revenue:P,bookings:C.length,rooms:_.length,occupiedRooms:_.filter(E=>E.is_available===!1).length}}).sort((b,w)=>w.revenue-b.revenue),[a,l]),x=j.useMemo(()=>{const b=l.filter(C=>C.status==="confirmed").length,w=l.filter(C=>C.status==="pending").length,_=l.filter(C=>C.status==="rejected").length,N=l.filter(C=>C.status==="cancelled").length;return[{name:"Confirmed",value:b,color:"#10b981"},{name:"Pending",value:w,color:"#f59e0b"},{name:"Rejected",value:_,color:"#ef4444"},{name:"Cancelled",value:N,color:"#6b7280"}].filter(C=>C.value>0)},[l]),g=j.useMemo(()=>{const b={};return d.forEach(w=>{const _=w.roomType||w.room_type||"Unknown";b[_]=(b[_]||0)+1}),Object.entries(b).map(([w,_])=>({name:w,value:_,color:w==="Single"?"#3b82f6":w==="Double"?"#8b5cf6":w==="Triple"?"#ec4899":"#6b7280"}))},[d]),v=b=>b>=1e7?`${(b/1e7).toFixed(1)}Cr`:b>=1e5?`${(b/1e5).toFixed(1)}L`:b>=1e3?`${(b/1e3).toFixed(1)}K`:`${b}`;if(t)return s.jsx(yn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xs,{className:"w-12 h-12 animate-spin text-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})})});const y=[{title:"Total Revenue",value:v(A.totalRevenue),change:`${A.revenueChange}%`,changeType:A.revenueChange>=0?"positive":"negative",icon:gi,color:"bg-green-500",description:"All-time earnings"},{title:"Monthly Revenue",value:v(A.monthlyRevenue),change:`${A.revenueChange}%`,changeType:A.revenueChange>=0?"positive":"negative",icon:uu,color:"bg-blue-500",description:"This month"},{title:"Occupancy Rate",value:`${A.occupancyRate}%`,change:`${A.occupiedRooms}/${A.totalRooms} rooms`,icon:Zr,color:"bg-purple-500",description:"Current occupancy"},{title:"Total Bookings",value:A.totalBookings.toString(),change:`${A.pendingBookings} pending`,icon:Or,color:"bg-orange-500",description:"All bookings"},{title:"Average Rent",value:v(A.avgRent),change:`${A.totalRooms} rooms`,icon:yF,color:"bg-pink-500",description:"Per room"},{title:"Active Rooms",value:A.activeRooms.toString(),change:`${A.totalRooms} total`,icon:yt,color:"bg-teal-500",description:"Available for booking"}];return s.jsx(yn,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-6",children:[s.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[s.jsx(Cp,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"}),"Analytics Dashboard"]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Track your property performance and revenue"})]}),s.jsx("div",{className:"flex items-center gap-1 sm:gap-2 bg-white rounded-lg border border-gray-200 p-1",children:[{label:"1M",value:"1month"},{label:"3M",value:"3months"},{label:"6M",value:"6months"},{label:"1Y",value:"1year"}].map(b=>s.jsx("button",{onClick:()=>i(b.value),className:`px-2 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ${n===b.value?"bg-red-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:b.label},b.value))})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:y.map((b,w)=>{const _=b.icon;return s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`${b.color} p-2 sm:p-3 rounded-lg`,children:s.jsx(_,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),b.changeType&&s.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${b.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[b.changeType==="positive"?s.jsx(Wh,{className:"w-4 h-4"}):s.jsx(Aue,{className:"w-4 h-4"}),b.change]})]}),s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:b.value}),s.jsx("p",{className:"text-sm text-gray-600",children:b.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.description})]},b.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(uu,{className:"w-5 h-5 text-green-600"}),"Revenue Trend"]}),s.jsx(af,{width:"100%",height:250,children:s.jsxs(ire,{data:f,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(_f,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(cc,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(hl,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(ia,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:b=>[`${b.toLocaleString()}`,"Revenue"]}),s.jsx(ku,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:2})]})})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Or,{className:"w-5 h-5 text-blue-600"}),"Bookings Trend"]}),s.jsx(af,{width:"100%",height:250,children:s.jsxs(nre,{data:f,children:[s.jsx(_f,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(cc,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(hl,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(ia,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:b=>[b,"Bookings"]}),s.jsx(Jf,{type:"monotone",dataKey:"bookings",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 lg:col-span-2",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Zr,{className:"w-5 h-5 text-purple-600"}),"Property Performance"]}),s.jsx(af,{width:"100%",height:250,children:s.jsxs(sre,{data:m,children:[s.jsx(_f,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(cc,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"11px"}}),s.jsx(hl,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(ia,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(b,w)=>[w==="revenue"?`${b.toLocaleString()}`:b,w==="revenue"?"Revenue":"Bookings"],content:({active:b,payload:w})=>{if(b&&w&&w.length){const _=w[0].payload;return s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:_.fullName}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Revenue: ",s.jsxs("span",{className:"font-medium text-purple-600",children:["",_.revenue.toLocaleString()]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Bookings: ",s.jsx("span",{className:"font-medium text-blue-600",children:_.bookings})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Occupancy: ",s.jsxs("span",{className:"font-medium",children:[_.occupiedRooms,"/",_.rooms," rooms"]})]})]})}return null}}),s.jsx(bu,{dataKey:"revenue",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]}),s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(yF,{className:"w-5 h-5 text-orange-600"}),"Booking Status"]}),x.length>0?s.jsxs(s.Fragment,{children:[s.jsx(af,{width:"100%",height:200,children:s.jsxs(aJe,{children:[s.jsx(Eu,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:x.map((b,w)=>s.jsx(D5,{fill:b.color},`cell-${w}`))}),s.jsx(ia,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:x.map(b=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:b.color}}),s.jsx("span",{className:"text-gray-600",children:b.name})]}),s.jsx("span",{className:"font-semibold text-gray-900",children:b.value})]},b.name))})]}):s.jsx("div",{className:"flex items-center justify-center h-[250px] text-gray-400",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xt,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"No bookings yet"})]})})]})]}),g.length>0&&s.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Pr,{className:"w-5 h-5 text-pink-600"}),"Room Type Distribution"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:g.map(b=>s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:b.color}}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:b.name})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.value}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(b.value/d.length*100).toFixed(1),"% of total"]})]},b.name))})]})]})})},EJe=()=>{const e=Ar(),[t,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(""),[l,c]=j.useState("all"),[d,u]=j.useState(!1),[A,f]=j.useState({open:!1,requestId:null,newStatus:null,title:"",message:""}),m=async()=>{try{const P=(await Ye.get("/maintenance/owner")).data.map(E=>{var I,F,B,O,R;return{id:E._id,tenantName:((I=E.tenantId)==null?void 0:I.name)||"Unknown",tenantEmail:(F=E.tenantId)==null?void 0:F.email,tenantPhone:(B=E.tenantId)==null?void 0:B.phone,propertyName:((O=E.propertyId)==null?void 0:O.property_name)||"N/A",roomNumber:((R=E.roomId)==null?void 0:R.room_number)||"N/A",title:E.title,description:E.description,category:E.category,priority:E.priority,status:E.status,dateSubmitted:E.createdAt,assignedTo:E.assignedTo}});r(P)}catch(C){console.error("Error fetching maintenance requests:",C)}finally{i(!1),u(!1)}};j.useEffect(()=>{m()},[]);const x=j.useMemo(()=>{const C=a.trim().toLowerCase();return t.filter(P=>l==="all"?P.status!=="completed":P.status===l).filter(P=>{if(!C)return!0;const E=`${P.tenantName} ${P.tenantEmail}`.toLowerCase(),I=P.propertyName.toLowerCase(),F=(P.roomNumber||"").toLowerCase(),B=P.title.toLowerCase();return E.includes(C)||I.includes(C)||F.includes(C)||B.includes(C)}).sort((P,E)=>new Date(E.dateSubmitted)-new Date(P.dateSubmitted))},[t,a,l]),g=j.useMemo(()=>{const C=t.length,P=t.filter(B=>B.status==="pending").length,E=t.filter(B=>B.status==="in-progress").length,I=t.filter(B=>B.status==="completed").length,F=t.filter(B=>B.status!=="completed").length;return{total:C,pending:P,inProgress:E,completed:I,active:F}},[t]),v=()=>{u(!0),m()},y=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),b=C=>{switch(C){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=C=>{switch(C){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-orange-100 text-orange-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},_=(C,P)=>{const E=P==="in-progress";f({open:!0,requestId:C.id,newStatus:P,title:E?"Start Maintenance?":"Complete Request?",message:E?`Are you sure you want to start working on "${C.title}"? This will notify the tenant.`:`Are you sure you want to mark "${C.title}" as completed? This will notify the tenant.`})},N=async()=>{var C,P;try{await Ye.patch(`/maintenance/${A.requestId}`,{status:A.newStatus}),m(),f({open:!1,requestId:null,newStatus:null,title:"",message:""})}catch(E){console.error("Error updating status:",E),alert("Failed to update status: "+(((P=(C=E.response)==null?void 0:C.data)==null?void 0:P.message)||E.message))}};return n?s.jsx(yn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ja,{className:"w-12 h-12 animate-spin text-orange-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading maintenance requests..."})]})})}):s.jsxs(yn,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Maintenance Requests"}),s.jsx("p",{className:"text-gray-600",children:"Manage tenant maintenance requests"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[d?s.jsx(ja,{className:"w-4 h-4 animate-spin"}):s.jsx(ja,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg text-sm font-medium hover:bg-orange-700 transition-colors",children:[s.jsx(Wh,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-orange-50 to-orange-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="all"?"border-orange-400 ring-2 ring-orange-200":"border-orange-200"}`,onClick:()=>c("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-orange-600 mb-1",children:"Active Requests"}),s.jsx("div",{className:"text-3xl font-bold text-orange-900",children:g.active})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-200 rounded-lg flex items-center justify-center",children:s.jsx(Hd,{className:"w-6 h-6 text-orange-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>c("pending"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:g.pending})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(Xt,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="in-progress"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>c("in-progress"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"In Progress"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:g.inProgress})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(ns,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="completed"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>c("completed"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Completed"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:g.completed})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant, property, room, or request title...",value:a,onChange:C=>o(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),x.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(Hd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Requests Found"}),s.jsx("p",{className:"text-gray-600",children:a?"Try adjusting your search criteria":"No maintenance requests yet"})]}):s.jsx("div",{className:"space-y-4",children:x.map((C,P)=>s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P*.05},className:"bg-white border-2 border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:C.title}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${b(C.status)}`,children:C.status.replace("-"," ")}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${w(C.priority)}`,children:C.priority})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:C.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(cr,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:C.tenantName})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Zr,{className:"w-4 h-4"}),s.jsx("span",{children:C.propertyName})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(ua,{className:"w-4 h-4"}),s.jsxs("span",{children:["Room ",C.roomNumber]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Or,{className:"w-4 h-4"}),s.jsx("span",{children:y(C.dateSubmitted)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full font-medium",children:C.category}),C.assignedTo&&s.jsxs("span",{className:"text-gray-600",children:["Assigned to: ",s.jsx("span",{className:"font-medium",children:C.assignedTo})]})]})]}),s.jsxs("div",{className:"flex lg:flex-col gap-2 lg:items-end",children:[C.status==="pending"&&s.jsx("button",{onClick:()=>_(C,"in-progress"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Start Work"}),C.status==="in-progress"&&s.jsx("button",{onClick:()=>_(C,"completed"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Mark Complete"})]})]})})},C.id))})]}),s.jsx(Mr,{children:A.open&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs(Y.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:A.title}),s.jsx("button",{onClick:()=>f({...A,open:!1}),className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(ar,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:A.message}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>f({...A,open:!1}),className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:N,className:`px-4 py-2 text-white font-medium rounded-lg transition-colors ${A.newStatus==="completed"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,children:"Confirm"})]})]})})})]})},kJe=()=>{const e=Ar(),[t,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(""),[l,c]=j.useState("all"),[d,u]=j.useState(!1),[A,f]=j.useState(!1),[m,x]=j.useState({tenantId:"",amount:"",reason:"",dueDate:""}),g=[{id:1,tenantName:"John Doe",tenantEmail:"john@example.com",tenantPhone:"+91 98765 43210",propertyName:"Sunshine Apartments",roomNumber:"101",monthlyRent:15e3,lastPaymentDate:"2024-12-25",nextDueDate:"2025-01-25",paymentStatus:"pending",daysOverdue:5},{id:2,tenantName:"Jane Smith",tenantEmail:"jane@example.com",tenantPhone:"+91 98765 43211",propertyName:"Green Valley PG",roomNumber:"205",monthlyRent:12e3,lastPaymentDate:"2025-01-20",nextDueDate:"2025-02-20",paymentStatus:"paid",daysOverdue:0},{id:3,tenantName:"Bob Wilson",tenantEmail:"bob@example.com",tenantPhone:"+91 98765 43212",propertyName:"Sunshine Apartments",roomNumber:"303",monthlyRent:18e3,lastPaymentDate:"2024-12-15",nextDueDate:"2025-01-15",paymentStatus:"overdue",daysOverdue:15}];j.useEffect(()=>{setTimeout(()=>{r(g),i(!1)},500)},[]);const v=j.useMemo(()=>{const I=a.trim().toLowerCase();return t.filter(F=>l==="all"?!0:F.paymentStatus===l).filter(F=>{if(!I)return!0;const B=`${F.tenantName} ${F.tenantEmail}`.toLowerCase(),O=F.propertyName.toLowerCase(),R=F.roomNumber.toLowerCase();return B.includes(I)||O.includes(I)||R.includes(I)}).sort((F,B)=>B.daysOverdue-F.daysOverdue)},[t,a,l]),y=j.useMemo(()=>{const I=t.length,F=t.filter(R=>R.paymentStatus==="pending").length,B=t.filter(R=>R.paymentStatus==="overdue").length,O=t.filter(R=>R.paymentStatus==="paid").reduce((R,U)=>R+U.monthlyRent,0);return{total:I,pending:F,overdue:B,collectedThisMonth:O}},[t]),b=async()=>{u(!0),setTimeout(()=>{u(!1)},1e3)},w=I=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(I||0),_=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=I=>{switch(I){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=I=>{alert(`Payment request sent to tenant ${I}`)},P=I=>{r(F=>F.map(B=>B.id===I?{...B,paymentStatus:"paid",daysOverdue:0}:B))},E=()=>{var I;if(!m.tenantId||!m.amount||!m.reason){alert("Please fill in all required fields");return}alert(`Custom payment request created:
Tenant: ${(I=t.find(F=>F.id===parseInt(m.tenantId)))==null?void 0:I.tenantName}
Amount: ${w(m.amount)}
Reason: ${m.reason}`),f(!1),x({tenantId:"",amount:"",reason:"",dueDate:""})};return n?s.jsx(yn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ja,{className:"w-12 h-12 animate-spin text-green-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading payment information..."})]})})}):s.jsx(yn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage tenant rent payments"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[d?s.jsx(ja,{className:"w-4 h-4 animate-spin"}):s.jsx(ja,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:[s.jsx(od,{className:"w-4 h-4"}),"Custom Request"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors",children:[s.jsx(Wh,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>c("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Total Tenants"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:y.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(cr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>c("pending"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:y.pending})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(ns,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-red-50 to-red-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="overdue"?"border-red-400 ring-2 ring-red-200":"border-red-200"}`,onClick:()=>c("overdue"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-red-600 mb-1",children:"Overdue"}),s.jsx("div",{className:"text-3xl font-bold text-red-900",children:y.overdue})]}),s.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-lg flex items-center justify-center",children:s.jsx(Xt,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Collected"}),s.jsx("div",{className:"text-2xl font-bold text-green-900",children:w(y.collectedThisMonth)})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(gi,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant, property, or room...",value:a,onChange:I=>o(I.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),v.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(gi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tenants Found"}),s.jsx("p",{className:"text-gray-600",children:a?"Try adjusting your search criteria":"No tenants with payment information"})]}):s.jsx("div",{className:"space-y-4",children:v.map((I,F)=>s.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},className:`bg-white border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${I.paymentStatus==="overdue"?"border-red-300 bg-red-50":"border-gray-200"}`,children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[s.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center ${I.paymentStatus==="overdue"?"bg-red-100":"bg-green-100"}`,children:s.jsx(cr,{className:`w-6 h-6 sm:w-7 sm:h-7 ${I.paymentStatus==="overdue"?"text-red-600":"text-green-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:I.tenantName}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${N(I.paymentStatus)}`,children:I.paymentStatus}),I.daysOverdue>0&&s.jsxs("span",{className:"px-2.5 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:[I.daysOverdue," days overdue"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs sm:text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsx("span",{children:I.propertyName})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ua,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsxs("span",{children:["Room ",I.roomNumber]})]})]})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-base font-bold text-green-600",children:w(I.monthlyRent)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Last Payment"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_(I.lastPaymentDate)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Next Due"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_(I.nextDueDate)})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[I.paymentStatus!=="paid"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>C(I.id),className:"px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-1.5",children:[s.jsx(If,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Send Request"}),s.jsx("span",{className:"sm:hidden",children:"Request"})]}),s.jsxs("button",{onClick:()=>P(I.id),className:"px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium flex items-center gap-1.5",children:[s.jsx(yt,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Mark Paid"}),s.jsx("span",{className:"sm:hidden",children:"Paid"})]})]}),s.jsxs("button",{className:"px-3 sm:px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center gap-1.5",children:[s.jsx(bue,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"History"})]})]})]}),s.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Monthly Rent"}),s.jsx("p",{className:"font-bold text-green-600",children:w(I.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Last Payment"}),s.jsx("p",{className:"font-semibold text-gray-900",children:_(I.lastPaymentDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Next Due Date"}),s.jsx("p",{className:"font-semibold text-gray-900",children:_(I.nextDueDate)})]})]})]})},I.id))}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Create Custom Payment Request"}),s.jsx("button",{onClick:()=>f(!1),className:"p-1 hover:bg-purple-800 rounded-lg transition-colors",children:s.jsx(ar,{className:"w-6 h-6"})})]}),s.jsx("p",{className:"text-purple-100 mt-2",children:"Request payment from a tenant for any reason"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Tenant ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:m.tenantId,onChange:I=>x({...m,tenantId:I.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose a tenant..."}),t.map(I=>s.jsxs("option",{value:I.id,children:[I.tenantName," - ",I.propertyName," Room ",I.roomNumber]},I.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:m.amount,onChange:I=>x({...m,amount:I.target.value}),placeholder:"Enter amount",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:m.reason,onChange:I=>x({...m,reason:I.target.value}),placeholder:"e.g., Electricity bill, Maintenance charges, Damage repair, etc.",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date (Optional)"}),s.jsx("input",{type:"date",value:m.dueDate,onChange:I=>x({...m,dueDate:I.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:E,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(If,{className:"w-5 h-5"}),"Send Request"]})]})]})})]})})},PJe=()=>{var _,N,C,P,E,I,F,B,O;const{tenantId:e}=ju(),t=Ar(),[r,n]=j.useState(null),[i,a]=j.useState(!0),[o,l]=j.useState(""),[c,d]=j.useState(!1),[u,A]=j.useState(!1);j.useEffect(()=>{e&&(async()=>{var U,$;try{const K=await Ye.get(`/property/tenants/${e}`);K.data.success&&n(K.data.tenant)}catch(K){console.error("Error fetching tenant details:",K),l((($=(U=K.response)==null?void 0:U.data)==null?void 0:$.message)||"Failed to load tenant details")}finally{a(!1)}})()},[e]);const f=R=>R?`${Number(R).toLocaleString()}`:"-",m=R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-",x=async()=>{try{if(A(!0),(await Ye.post(`/property/tenants/${e}/check-out`)).status!==200)throw new Error("Failed to check out tenant");t("/owner-tenants",{state:{message:"Tenant checked out successfully"}})}catch(R){console.error("Checkout error:",R),alert(R.message||"Failed to check out tenant")}finally{A(!1),d(!1)}},g=()=>{r!=null&&r.userPhone&&(window.location.href=`tel:${r.userPhone}`)},v=()=>{if(r!=null&&r.userPhone){const R=r.userPhone.replace(/\D/g,"");window.open(`https://wa.me/${R}`,"_blank")}},y=()=>{r!=null&&r.userEmail&&(window.location.href=`mailto:${r.userEmail}`)};if(i)return s.jsx(yn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(o||!r)return s.jsx(yn,{children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[s.jsx(qh,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-red-900 mb-2",children:"Error Loading Tenant"}),s.jsx("p",{className:"text-red-600 mb-6",children:o||"Tenant not found"}),s.jsx("button",{onClick:()=>t("/owner-tenants"),className:"px-4 py-2 bg-white border border-red-300 rounded-lg text-red-700 font-medium hover:bg-red-50",children:"Back to Tenants"})]})})});const{kyc:b}=r,w=(_=b==null?void 0:b.aadhar)==null?void 0:_.extractedData;return s.jsxs(yn,{children:[s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/owner-tenants"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[s.jsx(ei,{className:"w-4 h-4 mr-1"}),"Back to Tenants List"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tenant Profile"}),s.jsx("p",{className:"text-gray-600",children:"Detailed information and documents"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-medium border ${r.status==="active"?"bg-green-100 text-green-800 border-green-200":r.status==="checked_out"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:["Status: ",r.status.charAt(0).toUpperCase()+r.status.slice(1)]}),r.status==="active"&&s.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center gap-2",children:[s.jsx(gl,{className:"w-4 h-4"}),"Checkout Tenant"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4 overflow-hidden border-4 border-white shadow-md",children:r.profilePicture?s.jsx("img",{src:r.profilePicture,alt:r.userName,className:"w-full h-full object-cover"}):s.jsx(cr,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:r.userName}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Tenant since ",m(r.actualCheckInDate)]}),s.jsxs("div",{className:"w-full space-y-3 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Jr,{className:"w-4 h-4 mr-3 text-gray-400"}),s.jsx("span",{className:"truncate",children:r.userEmail})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Tn,{className:"w-4 h-4 mr-3 text-gray-400"}),s.jsx("span",{children:r.userPhone||"No phone provided"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2",children:[s.jsx("button",{onClick:g,className:"flex items-center justify-center p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",title:"Call",children:s.jsx(Tn,{className:"w-5 h-5"})}),s.jsx("button",{onClick:v,className:"flex items-center justify-center p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",title:"WhatsApp",children:s.jsx(ad,{className:"w-5 h-5"})}),s.jsx("button",{onClick:y,className:"flex items-center justify-center p-2 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100 transition-colors",title:"Email",children:s.jsx(Jr,{className:"w-5 h-5"})})]}),((N=b==null?void 0:b.aadhar)==null?void 0:N.frontImageUrl)&&s.jsxs("div",{className:"pt-2",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1 text-left",children:"KYC Document:"}),s.jsx("div",{className:"h-24 w-full bg-gray-50 rounded border border-gray-100 overflow-hidden cursor-pointer",onClick:()=>window.open(b.aadhar.frontImageUrl,"_blank"),children:s.jsx("img",{src:b.aadhar.frontImageUrl,alt:"KYC Front",className:"w-full h-full object-contain"})})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2 text-blue-600"}),"Lease Details"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Property"}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(jr,{className:"w-4 h-4 mr-2 text-gray-400 mt-0.5"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:((C=r.propertyId)==null?void 0:C.property_name)||((P=r.propertyId)==null?void 0:P.propertyName)||r.propertyName})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Room"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900 ml-6",children:["Room ",((E=r.roomId)==null?void 0:E.roomNumber)||r.roomNumber]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-bold text-green-600 ml-6",children:f(((I=r.roomId)==null?void 0:I.rent)||r.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Deposit"}),s.jsx("p",{className:"text-sm font-bold text-blue-600 ml-6",children:f(((F=r.propertyId)==null?void 0:F.security_deposit)||r.security_deposit||r.securityDeposit)})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Check-in Date"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Or,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:m(r.actualCheckInDate)})]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:`rounded-xl p-6 border ${(b==null?void 0:b.status)==="approved"?"bg-green-50 border-green-200":(b==null?void 0:b.status)==="rejected"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${(b==null?void 0:b.status)==="approved"?"bg-green-100 text-green-600":(b==null?void 0:b.status)==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:s.jsx(tr,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:`text-lg font-bold ${(b==null?void 0:b.status)==="approved"?"text-green-900":(b==null?void 0:b.status)==="rejected"?"text-red-900":"text-yellow-900"}`,children:["KYC Status: ",b!=null&&b.status?b.status.charAt(0).toUpperCase()+b.status.slice(1):"Not Submitted"]}),s.jsx("p",{className:`text-sm ${(b==null?void 0:b.status)==="approved"?"text-green-700":(b==null?void 0:b.status)==="rejected"?"text-red-700":"text-yellow-700"}`,children:(b==null?void 0:b.status)==="approved"?"Identity verified successfully.":(b==null?void 0:b.status)==="rejected"?"Identity verification failed.":"Verification is pending or incomplete."})]})]})})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:[s.jsx(eg,{className:"w-5 h-5 mr-2 text-blue-600"}),"Identity Verification"]})}),s.jsx("div",{className:"p-6",children:w?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Extracted Details"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Full Name"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:w.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Date of Birth"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:w.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Gender"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:w.gender})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Aadhar Number"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 blur-sm hover:blur-none transition-all cursor-pointer",title:"Click to reveal",children:w.aadharNumber})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Document Images"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[((B=b==null?void 0:b.aadhar)==null?void 0:B.frontImageUrl)&&s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Front Side"}),s.jsxs("div",{className:"aspect-[1.6] bg-gray-100 rounded overflow-hidden relative group",children:[s.jsx("img",{src:b.aadhar.frontImageUrl,alt:"ID Front",className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("a",{href:b.aadhar.frontImageUrl,target:"_blank",rel:"noreferrer",className:"px-3 py-1.5 bg-white text-gray-900 text-xs font-medium rounded-full",children:"View Full Size"})})]})]}),((O=b==null?void 0:b.aadhar)==null?void 0:O.backImageUrl)&&s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Back Side"}),s.jsxs("div",{className:"aspect-[1.6] bg-gray-100 rounded overflow-hidden relative group",children:[s.jsx("img",{src:b.aadhar.backImageUrl,alt:"ID Back",className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("a",{href:b.aadhar.backImageUrl,target:"_blank",rel:"noreferrer",className:"px-3 py-1.5 bg-white text-gray-900 text-xs font-medium rounded-full",children:"View Full Size"})})]})]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ks,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No identity documents have been processed for this tenant."})]})})]})]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-6 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Confirm Checkout"}),s.jsx("p",{className:"text-red-100",children:"Are you sure you want to check out this tenant?"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Tenant Name"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:r.userName})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-semibold text-green-600",children:f(r.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Deposit"}),s.jsx("p",{className:"text-sm font-semibold text-blue-600",children:f(r.securityDeposit)})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Check-in Date"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:m(r.actualCheckInDate)})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," This action will mark the tenant as checked out. The security deposit will need to be processed separately."]})})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>d(!1),disabled:u,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:x,disabled:u,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx(ja,{className:"w-4 h-4 animate-spin"}),"Checking Out..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-5 h-5"}),"Confirm Checkout"]})})]})]})})]})},IJe=e=>{const t=new Date(e),n=Math.floor((new Date-t)/1e3);if(n<60)return"Just now";const i=Math.floor(n/60);if(i<60)return`${i}m ago`;const a=Math.floor(i/60);return a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`},TJe=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState("all"),o=async()=>{try{n(!0);const f=JSON.parse(localStorage.getItem("user")||"{}"),m=f._id||f.id;if(!m)return;const x=await Ye.get("/notifications",{headers:{"x-user-id":m}});x.data.success&&t(x.data.data)}catch(f){console.error("Error fetching notifications:",f)}finally{n(!1)}};j.useEffect(()=>{o()},[]);const l=async f=>{try{(await Ye.put(`/notifications/${f}/read`)).data.success&&t(x=>x.map(g=>g._id===f?{...g,is_read:!0}:g))}catch(m){console.error("Error marking as read:",m)}},c=async()=>{try{(await Ye.put("/notifications/mark-all-read")).data.success&&t(m=>m.map(x=>({...x,is_read:!0})))}catch(f){console.error("Error marking all as read:",f)}},d=async f=>{try{(await Ye.delete(`/notifications/${f}`)).data.success&&t(x=>x.filter(g=>g._id!==f))}catch(m){console.error("Error deleting notification:",m)}},u=f=>{switch(f){case"property_approved":return s.jsx(Dr,{className:"w-5 h-5 text-green-500"});case"property_rejected":return s.jsx(Xt,{className:"w-5 h-5 text-red-500"});case"booking_request":return s.jsx(ns,{className:"w-5 h-5 text-blue-500"});case"general":return s.jsx(wy,{className:"w-5 h-5 text-purple-500"});default:return s.jsx(id,{className:"w-5 h-5 text-gray-400"})}},A=i==="unread"?e.filter(f=>!f.is_read):e;return s.jsx(yn,{children:s.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Stay updated with your property management activities"})]}),e.some(f=>!f.is_read)&&s.jsx("button",{onClick:c,className:"text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:"Mark all as read"})]}),s.jsxs("div",{className:"flex space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>a("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${i==="all"?"bg-red-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"All"}),s.jsxs("button",{onClick:()=>a("unread"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${i==="unread"?"bg-red-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,children:["Unread ",e.filter(f=>!f.is_read).length>0&&`(${e.filter(f=>!f.is_read).length})`]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:r?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-500",children:"Loading notifications..."})]}):A.length===0?s.jsxs("div",{className:"p-16 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(id,{className:"w-10 h-10 text-gray-300"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No notifications found"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"We'll notify you when something important happens."})]}):s.jsx("div",{className:"divide-y divide-gray-50",children:s.jsx(Mr,{initial:!1,children:A.map(f=>s.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:`p-5 flex items-start space-x-4 hover:bg-gray-50 transition-colors group relative ${f.is_read?"":"bg-blue-50/30"}`,children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:u(f.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:`text-sm font-medium ${f.is_read?"text-gray-700":"text-gray-900"}`,children:f.title}),s.jsx("span",{className:"text-xs text-gray-400",children:IJe(f.createdAt)})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:f.message}),s.jsxs("div",{className:"flex items-center mt-3 space-x-4",children:[!f.is_read&&s.jsxs("button",{onClick:()=>l(f._id),className:"text-xs font-medium text-red-600 hover:text-red-700 flex items-center",children:[s.jsx(yt,{className:"w-3 h-3 mr-1"}),"Mark as read"]}),f.action_url&&s.jsxs("a",{href:f.action_url,className:"text-xs font-medium text-blue-600 hover:text-blue-700 flex items-center",children:[s.jsx(Ir,{className:"w-3 h-3 mr-1"}),"View details"]})]})]}),s.jsx("button",{onClick:()=>d(f._id),className:"opacity-0 group-hover:opacity-100 p-2 text-gray-400 hover:text-red-600 transition-all rounded-full hover:bg-red-50",title:"Delete notification",children:s.jsx(Tf,{className:"w-4 h-4"})})]},f._id))})})})]})})},th=({children:e})=>{const[t,r]=j.useState(!0),[n,i]=j.useState(!1);return j.useEffect(()=>{const a=()=>{console.log("Global Logout Triggered"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login"};return window.addEventListener("lyvo-logout",a),()=>window.removeEventListener("lyvo-logout",a)},[]),j.useEffect(()=>{(()=>{const o=localStorage.getItem("authToken"),l=localStorage.getItem("user");if(o&&l)try{const c=JSON.parse(l);if(console.log("ProtectedAdminRoute: User role check:",c.role),c.role===2)i(!0);else{console.log("ProtectedAdminRoute: User is not admin, redirecting to login"),window.location.href="/login";return}}catch(c){console.error("Error parsing user data:",c),window.location.href="/login";return}else{console.log("ProtectedAdminRoute: No token or user data, redirecting to login"),window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},Ti=({children:e})=>{const[t,r]=j.useState(!0),[n,i]=j.useState(!1);return j.useEffect(()=>{(()=>{const o=Rv(),l=Uv();if(o&&l)if(Fv(l)===3)i(!0);else{const d=Bp(l);window.location.href=d;return}else{window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},Ws=({children:e})=>{const[t,r]=j.useState(!0),[n,i]=j.useState(!1);return j.useEffect(()=>{(()=>{const o=Rv(),l=Uv();if(o&&l)if(Fv(l)===1)i(!0);else{const d=Bp(l);window.location.href=d;return}else{window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},OJe=({children:e})=>{const[t,r]=j.useState(!0),[n,i]=j.useState(!1);return j.useEffect(()=>{(()=>{const o=localStorage.getItem("authToken"),l=localStorage.getItem("user");if(o&&l)try{const c=JSON.parse(l);if(console.log("ProtectedUserRoute: User role check:",c.role),c.role===1)i(!0);else if(c.role===2){console.log("ProtectedUserRoute: Redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(c.role===3){console.log("ProtectedUserRoute: Redirecting owner to owner dashboard"),window.location.href="/owner-dashboard";return}else{console.log("ProtectedUserRoute: Invalid role, redirecting to login"),window.location.href="/login";return}}catch(c){console.error("Error parsing user data:",c),window.location.href="/login";return}else{console.log("ProtectedUserRoute: No token or user data, redirecting to login"),window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},LJe=({children:e})=>{const[t,r]=j.useState(!0);return j.useEffect(()=>{(()=>{const i=localStorage.getItem("authToken"),a=localStorage.getItem("user");if(i&&a)try{const o=JSON.parse(a),l=window.location.pathname;if(console.log("RootAuthCheck: User logged in with role:",o.role,"on path:",l),l==="/"){if(o.role===2){console.log("RootAuthCheck: Root path - redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(o.role===3){console.log("RootAuthCheck: Root path - redirecting owner to owner dashboard"),window.location.href="/owner-dashboard";return}else if(o.role===1){if(console.log("RootAuthCheck: Root path - redirecting seeker to appropriate page"),o.isTenant){console.log("RootAuthCheck: User is tenant - redirecting to tenant dashboard"),window.location.href="/tenant-dashboard";return}o.isNewUser&&!o.hasCompletedBehaviorQuestions?window.location.href="/seeker-onboarding":window.location.href="/seeker-dashboard";return}}}catch(o){console.error("Error parsing user data in root auth check:",o)}else console.log("RootAuthCheck: No user logged in");r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Checking authentication..."})]})}):e};function FJe(){const e=eo(),[t,r]=j.useState(!1);return j.useEffect(()=>{r(!0);const n=setTimeout(()=>r(!1),1e3);return()=>clearTimeout(n)},[e.pathname]),e.pathname.startsWith("/admin"),e.pathname.startsWith("/owner"),s.jsxs(s.Fragment,{children:[t&&s.jsx(Qve,{}),s.jsx(Mr,{mode:"wait",children:s.jsxs(Gie,{location:e,children:[s.jsx(Wt,{path:"/",element:s.jsx(Gfe,{})}),s.jsx(Wt,{path:"/dashboard",element:s.jsx(Ws,{children:s.jsx(PC,{})})}),s.jsx(Wt,{path:"/seeker",element:s.jsx(Ws,{children:s.jsx(PC,{})})}),s.jsx(Wt,{path:"/seeker-dashboard",element:s.jsx(Ws,{children:s.jsx(PC,{})})}),s.jsx(Wt,{path:"/seeker-favorites",element:s.jsx(Ws,{children:s.jsx(ube,{})})}),s.jsx(Wt,{path:"/seeker-bookings",element:s.jsx(Ws,{children:s.jsx(hbe,{})})}),s.jsx(Wt,{path:"/seeker-onboarding",element:s.jsx(Ws,{children:s.jsx(mbe,{})})}),s.jsx(Wt,{path:"/seeker-profile",element:s.jsx(Hve,{children:s.jsx(Ws,{children:s.jsx(gbe,{})})})}),s.jsx(Wt,{path:"/seeker/property/:id",element:s.jsx(Ws,{children:s.jsx(xbe,{})})}),s.jsx(Wt,{path:"/seeker-dashboard/:propertyId",element:s.jsx(Ws,{children:s.jsx(ybe,{})})}),s.jsx(Wt,{path:"/my-room",element:s.jsx(Ws,{children:s.jsx(bbe,{})})}),s.jsx(Wt,{path:"/booking-dashboard/:bookingId",element:s.jsx(Ws,{children:s.jsx(vbe,{})})}),s.jsx(Wt,{path:"/seeker/room/:roomId",element:s.jsx(Ws,{children:s.jsx(wbe,{})})}),s.jsx(Wt,{path:"/seeker-kyc",element:s.jsx(Ws,{children:s.jsx(Uwe,{})})}),s.jsx(Wt,{path:"/tenant-dashboard",element:s.jsx(Ws,{children:s.jsx(Rwe,{})})}),s.jsx(Wt,{path:"/tenant-payments",element:s.jsx(Ws,{children:s.jsx(Dwe,{})})}),s.jsx(Wt,{path:"/tenant-maintenance",element:s.jsx(Ws,{children:s.jsx(Mwe,{})})}),s.jsx(Wt,{path:"/tenant-agreement",element:s.jsx(Ws,{children:s.jsx(rBe,{})})}),s.jsx(Wt,{path:"/tenant-roommates",element:s.jsx(Ws,{children:s.jsx(nBe,{})})}),s.jsx(Wt,{path:"/tenant-expenses",element:s.jsx(Ws,{children:s.jsx(sBe,{})})}),s.jsx(Wt,{path:"/debug/rooms",element:s.jsx(Ws,{children:s.jsx(jbe,{})})}),s.jsx(Wt,{path:"/profile",element:s.jsx(OJe,{children:s.jsx(tpe,{})})}),s.jsx(Wt,{path:"/login",element:s.jsx(kve,{})}),s.jsx(Wt,{path:"/signup",element:s.jsx(Pve,{})}),s.jsx(Wt,{path:"/room-owner-signup",element:s.jsx(Tve,{})}),s.jsx(Wt,{path:"/forgot-password",element:s.jsx(Ove,{})}),s.jsx(Wt,{path:"/reset-password",element:s.jsx(Fve,{})}),s.jsx(Wt,{path:"/verify-email",element:s.jsx(Uve,{})}),s.jsx(Wt,{path:"/resend-verification",element:s.jsx(Rve,{})}),s.jsx(Wt,{path:"/debug-logout",element:s.jsx(Dve,{})}),s.jsx(Wt,{path:"/onboarding",element:s.jsx(Mve,{})}),s.jsx(Wt,{path:"/room-owner-dashboard",element:s.jsx(Ti,{children:s.jsx(Vve,{})})}),s.jsx(Wt,{path:"/about",element:s.jsx(rpe,{})}),s.jsx(Wt,{path:"/contact",element:s.jsx(npe,{})}),s.jsx(Wt,{path:"/owner-dashboard",element:s.jsx(Ti,{children:s.jsx(lBe,{})})}),s.jsx(Wt,{path:"/owner-properties",element:s.jsx(Ti,{children:s.jsx(cBe,{})})}),s.jsx(Wt,{path:"/owner-property/:id",element:s.jsx(Ti,{children:s.jsx(dBe,{})})}),s.jsx(Wt,{path:"/owner-add-property",element:s.jsx(Ti,{children:s.jsx(mEe,{})})}),s.jsx(Wt,{path:"/owner-edit-property/:id",element:s.jsx(Ti,{children:s.jsx(SJe,{})})}),s.jsx(Wt,{path:"/owner-kyc-required",element:s.jsx(Ti,{children:s.jsx(pEe,{})})}),s.jsx(Wt,{path:"/owner-bookings",element:s.jsx(Ti,{children:s.jsx(wJe,{})})}),s.jsx(Wt,{path:"/owner-bookings/:bookingId",element:s.jsx(Ti,{children:s.jsx(jJe,{})})}),s.jsx(Wt,{path:"/owner-profile",element:s.jsx(Ti,{children:s.jsx(N$,{})})}),s.jsx(Wt,{path:"/owner-settings",element:s.jsx(Ti,{children:s.jsx(N$,{})})}),s.jsx(Wt,{path:"/owner-tenants",element:s.jsx(Ti,{children:s.jsx(NJe,{})})}),s.jsx(Wt,{path:"/owner/tenants/:tenantId",element:s.jsx(Ti,{children:s.jsx(PJe,{})})}),s.jsx(Wt,{path:"/owner-analytics",element:s.jsx(Ti,{children:s.jsx(BJe,{})})}),s.jsx(Wt,{path:"/owner-maintenance",element:s.jsx(Ti,{children:s.jsx(EJe,{})})}),s.jsx(Wt,{path:"/owner-payments",element:s.jsx(Ti,{children:s.jsx(kJe,{})})}),s.jsx(Wt,{path:"/owner-notifications",element:s.jsx(Ti,{children:s.jsx(TJe,{})})}),s.jsx(Wt,{path:"/admin-dashboard",element:s.jsx(th,{children:s.jsx(dJe,{})})}),s.jsx(Wt,{path:"/admin-users",element:s.jsx(th,{children:s.jsx(AJe,{})})}),s.jsx(Wt,{path:"/admin-add-admin",element:s.jsx(th,{children:s.jsx(fJe,{})})}),s.jsx(Wt,{path:"/admin-owners",element:s.jsx(th,{children:s.jsx(uJe,{})})}),s.jsx(Wt,{path:"/admin-seekers",element:s.jsx(th,{children:s.jsx(hJe,{})})}),s.jsx(Wt,{path:"/admin-properties",element:s.jsx(th,{children:s.jsx(mJe,{})})}),s.jsx(Wt,{path:"/admin-property-details/:propertyId",element:s.jsx(th,{children:s.jsx(yJe,{})})}),s.jsx(Wt,{path:"/admin-settings",element:s.jsx(th,{children:s.jsx(vJe,{})})}),s.jsx(Wt,{path:"/admin/*",element:s.jsx(bJe,{})}),s.jsx(Wt,{path:"*",element:s.jsx(spe,{})})]},e.pathname)})]})}function UJe(){const e=eo(),t=e.pathname.startsWith("/admin"),r=e.pathname.startsWith("/owner"),n=e.pathname.startsWith("/seeker")||e.pathname==="/dashboard"||e.pathname.startsWith("/seeker/room/")||e.pathname.startsWith("/booking-dashboard/")||e.pathname.startsWith("/seeker-dashboard")||e.pathname==="/my-room"||e.pathname==="/tenant-dashboard"||e.pathname==="/tenant-payments"||e.pathname==="/tenant-maintenance"||e.pathname==="/tenant-agreement"||e.pathname==="/tenant-roommates"||e.pathname==="/tenant-expenses";return j.useEffect(()=>{(()=>{const a=Rv(),o=Uv();if(a&&o){const l=e.pathname;if(Fv(o)===1&&(l.startsWith("/admin")||l.startsWith("/owner"))){window.location.href="/dashboard";return}}})()},[e.pathname]),s.jsxs("div",{className:"App min-h-screen bg-gradient-to-br from-slate-50 to-stone-100",children:[!t&&!r&&!n&&s.jsx(Mue,{}),s.jsx(FJe,{}),!t&&!r&&!n&&s.jsx(Que,{}),!t&&!r&&!n&&s.jsx(iK,{}),s.jsx(HK,{})]})}function RJe(){return j.useEffect(()=>{Jfe()},[]),s.jsx(rae,{children:s.jsxs($ve,{children:[s.jsx(f6,{}),s.jsx(LJe,{children:s.jsx(UJe,{})})]})})}const DJe=oB.createRoot(document.getElementById("root"));DJe.render(s.jsx(Ce.StrictMode,{children:s.jsx(RJe,{})}));export{gn as _,rx as c,en as g};
