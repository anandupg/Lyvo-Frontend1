var Fre=Object.defineProperty;var Rre=(e,t,r)=>t in e?Fre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var xn=(e,t,r)=>Rre(e,typeof t!="symbol"?t+"":t,r);function Ure(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F$={exports:{}},uN={},R$={exports:{}},Rr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv=Symbol.for("react.element"),Dre=Symbol.for("react.portal"),Mre=Symbol.for("react.fragment"),Qre=Symbol.for("react.strict_mode"),$re=Symbol.for("react.profiler"),Hre=Symbol.for("react.provider"),zre=Symbol.for("react.context"),Vre=Symbol.for("react.forward_ref"),Kre=Symbol.for("react.suspense"),Wre=Symbol.for("react.memo"),Gre=Symbol.for("react.lazy"),HT=Symbol.iterator;function qre(e){return e===null||typeof e!="object"?null:(e=HT&&e[HT]||e["@@iterator"],typeof e=="function"?e:null)}var U$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D$=Object.assign,M$={};function Rg(e,t,r){this.props=e,this.context=t,this.refs=M$,this.updater=r||U$}Rg.prototype.isReactComponent={};Rg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q$(){}Q$.prototype=Rg.prototype;function v3(e,t,r){this.props=e,this.context=t,this.refs=M$,this.updater=r||U$}var b3=v3.prototype=new Q$;b3.constructor=v3;D$(b3,Rg.prototype);b3.isPureReactComponent=!0;var zT=Array.isArray,$$=Object.prototype.hasOwnProperty,w3={current:null},H$={key:!0,ref:!0,__self:!0,__source:!0};function z$(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$$.call(t,n)&&!H$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Nv,type:e,key:i,ref:o,props:a,_owner:w3.current}}function Yre(e,t){return{$$typeof:Nv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function j3(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nv}function Xre(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var VT=/\/+/g;function B_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xre(""+e.key):t.toString(36)}function t1(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Nv:case Dre:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+B_(o,0):n,zT(a)?(r="",e!=null&&(r=e.replace(VT,"$&/")+"/"),t1(a,t,r,"",function(d){return d})):a!=null&&(j3(a)&&(a=Yre(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(VT,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",zT(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+B_(i,l);o+=t1(i,t,r,c,a)}else if(c=qre(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+B_(i,l++),o+=t1(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Eb(e,t,r){if(e==null)return e;var n=[],a=0;return t1(e,n,"","",function(i){return t.call(r,i,a++)}),n}function Zre(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Li={current:null},r1={transition:null},Jre={ReactCurrentDispatcher:Li,ReactCurrentBatchConfig:r1,ReactCurrentOwner:w3};function V$(){throw Error("act(...) is not supported in production builds of React.")}Rr.Children={map:Eb,forEach:function(e,t,r){Eb(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Eb(e,function(){t++}),t},toArray:function(e){return Eb(e,function(t){return t})||[]},only:function(e){if(!j3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Rr.Component=Rg;Rr.Fragment=Mre;Rr.Profiler=$re;Rr.PureComponent=v3;Rr.StrictMode=Qre;Rr.Suspense=Kre;Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jre;Rr.act=V$;Rr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=D$({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=w3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$$.call(t,c)&&!H$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Nv,type:e.type,key:a,ref:i,props:n,_owner:o}};Rr.createContext=function(e){return e={$$typeof:zre,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hre,_context:e},e.Consumer=e};Rr.createElement=z$;Rr.createFactory=function(e){var t=z$.bind(null,e);return t.type=e,t};Rr.createRef=function(){return{current:null}};Rr.forwardRef=function(e){return{$$typeof:Vre,render:e}};Rr.isValidElement=j3;Rr.lazy=function(e){return{$$typeof:Gre,_payload:{_status:-1,_result:e},_init:Zre}};Rr.memo=function(e,t){return{$$typeof:Wre,type:e,compare:t===void 0?null:t}};Rr.startTransition=function(e){var t=r1.transition;r1.transition={};try{e()}finally{r1.transition=t}};Rr.unstable_act=V$;Rr.useCallback=function(e,t){return Li.current.useCallback(e,t)};Rr.useContext=function(e){return Li.current.useContext(e)};Rr.useDebugValue=function(){};Rr.useDeferredValue=function(e){return Li.current.useDeferredValue(e)};Rr.useEffect=function(e,t){return Li.current.useEffect(e,t)};Rr.useId=function(){return Li.current.useId()};Rr.useImperativeHandle=function(e,t,r){return Li.current.useImperativeHandle(e,t,r)};Rr.useInsertionEffect=function(e,t){return Li.current.useInsertionEffect(e,t)};Rr.useLayoutEffect=function(e,t){return Li.current.useLayoutEffect(e,t)};Rr.useMemo=function(e,t){return Li.current.useMemo(e,t)};Rr.useReducer=function(e,t,r){return Li.current.useReducer(e,t,r)};Rr.useRef=function(e){return Li.current.useRef(e)};Rr.useState=function(e){return Li.current.useState(e)};Rr.useSyncExternalStore=function(e,t,r){return Li.current.useSyncExternalStore(e,t,r)};Rr.useTransition=function(){return Li.current.useTransition()};Rr.version="18.3.1";R$.exports=Rr;var _=R$.exports;const Ce=sn(_),N3=Ure({__proto__:null,default:Ce},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ene=_,tne=Symbol.for("react.element"),rne=Symbol.for("react.fragment"),nne=Object.prototype.hasOwnProperty,sne=ene.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ane={key:!0,ref:!0,__self:!0,__source:!0};function K$(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)nne.call(t,n)&&!ane.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:tne,type:e,key:i,ref:o,props:a,_owner:sne.current}}uN.Fragment=rne;uN.jsx=K$;uN.jsxs=K$;F$.exports=uN;var s=F$.exports,f4={},W$={exports:{}},Fo={},G$={exports:{}},q$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,te){var re=V.length;V.push(te);e:for(;0<re;){var K=re-1>>>1,z=V[K];if(0<a(z,te))V[K]=te,V[re]=z,re=K;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var te=V[0],re=V.pop();if(re!==te){V[0]=re;e:for(var K=0,z=V.length,ee=z>>>1;K<ee;){var W=2*(K+1)-1,ne=V[W],se=W+1,ce=V[se];if(0>a(ne,re))se<z&&0>a(ce,ne)?(V[K]=ce,V[se]=re,K=se):(V[K]=ne,V[W]=re,K=W);else if(se<z&&0>a(ce,re))V[K]=ce,V[se]=re,K=se;else break e}}return te}function a(V,te){var re=V.sortIndex-te.sortIndex;return re!==0?re:V.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,A=3,m=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var te=r(d);te!==null;){if(te.callback===null)n(d);else if(te.startTime<=V)n(d),te.sortIndex=te.expirationTime,t(c,te);else break;te=r(d)}}function C(V){if(g=!1,w(V),!x)if(r(c)!==null)x=!0,G(N);else{var te=r(d);te!==null&&$(C,te.startTime-V)}}function N(V,te){x=!1,g&&(g=!1,v(k),k=-1),m=!0;var re=A;try{for(w(te),f=r(c);f!==null&&(!(f.expirationTime>te)||V&&!B());){var K=f.callback;if(typeof K=="function"){f.callback=null,A=f.priorityLevel;var z=K(f.expirationTime<=te);te=e.unstable_now(),typeof z=="function"?f.callback=z:f===r(c)&&n(c),w(te)}else n(c);f=r(c)}if(f!==null)var ee=!0;else{var W=r(d);W!==null&&$(C,W.startTime-te),ee=!1}return ee}finally{f=null,A=re,m=!1}}var j=!1,P=null,k=-1,T=5,O=-1;function B(){return!(e.unstable_now()-O<T)}function F(){if(P!==null){var V=e.unstable_now();O=V;var te=!0;try{te=P(!0,V)}finally{te?M():(j=!1,P=null)}}else j=!1}var M;if(typeof b=="function")M=function(){b(F)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,H=R.port2;R.port1.onmessage=F,M=function(){H.postMessage(null)}}else M=function(){y(F,0)};function G(V){P=V,j||(j=!0,M())}function $(V,te){k=y(function(){V(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,G(N))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(V){switch(A){case 1:case 2:case 3:var te=3;break;default:te=A}var re=A;A=te;try{return V()}finally{A=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,te){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=A;A=V;try{return te()}finally{A=re}},e.unstable_scheduleCallback=function(V,te,re){var K=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?K+re:K):re=K,V){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=re+z,V={id:u++,callback:te,priorityLevel:V,startTime:re,expirationTime:z,sortIndex:-1},re>K?(V.sortIndex=re,t(d,V),r(c)===null&&V===r(d)&&(g?(v(k),k=-1):g=!0,$(C,re-K))):(V.sortIndex=z,t(c,V),x||m||(x=!0,G(N))),V},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(V){var te=A;return function(){var re=A;A=te;try{return V.apply(this,arguments)}finally{A=re}}}})(q$);G$.exports=q$;var ine=G$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var one=_,Oo=ine;function Ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y$=new Set,iy={};function rm(e,t){qp(e,t),qp(e+"Capture",t)}function qp(e,t){for(iy[e]=t,e=0;e<t.length;e++)Y$.add(t[e])}var uu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A4=Object.prototype.hasOwnProperty,lne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KT={},WT={};function cne(e){return A4.call(WT,e)?!0:A4.call(KT,e)?!1:lne.test(e)?WT[e]=!0:(KT[e]=!0,!1)}function dne(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function une(e,t,r,n){if(t===null||typeof t>"u"||dne(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fi(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Qa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qa[e]=new Fi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qa[t]=new Fi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qa[e]=new Fi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qa[e]=new Fi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qa[e]=new Fi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qa[e]=new Fi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qa[e]=new Fi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qa[e]=new Fi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qa[e]=new Fi(e,5,!1,e.toLowerCase(),null,!1,!1)});var _3=/[\-:]([a-z])/g;function C3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_3,C3);Qa[t]=new Fi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_3,C3);Qa[t]=new Fi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_3,C3);Qa[t]=new Fi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qa[e]=new Fi(e,1,!1,e.toLowerCase(),null,!1,!1)});Qa.xlinkHref=new Fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qa[e]=new Fi(e,1,!1,e.toLowerCase(),null,!0,!0)});function S3(e,t,r,n){var a=Qa.hasOwnProperty(t)?Qa[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(une(t,r,a,n)&&(r=null),n||a===null?cne(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cu=one.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pb=Symbol.for("react.element"),ep=Symbol.for("react.portal"),tp=Symbol.for("react.fragment"),B3=Symbol.for("react.strict_mode"),m4=Symbol.for("react.profiler"),X$=Symbol.for("react.provider"),Z$=Symbol.for("react.context"),k3=Symbol.for("react.forward_ref"),p4=Symbol.for("react.suspense"),g4=Symbol.for("react.suspense_list"),E3=Symbol.for("react.memo"),hh=Symbol.for("react.lazy"),J$=Symbol.for("react.offscreen"),GT=Symbol.iterator;function B0(e){return e===null||typeof e!="object"?null:(e=GT&&e[GT]||e["@@iterator"],typeof e=="function"?e:null)}var xs=Object.assign,k_;function ox(e){if(k_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);k_=t&&t[1]||""}return`
`+k_+e}var E_=!1;function P_(e,t){if(!e||E_)return"";E_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{E_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ox(e):""}function hne(e){switch(e.tag){case 5:return ox(e.type);case 16:return ox("Lazy");case 13:return ox("Suspense");case 19:return ox("SuspenseList");case 0:case 2:case 15:return e=P_(e.type,!1),e;case 11:return e=P_(e.type.render,!1),e;case 1:return e=P_(e.type,!0),e;default:return""}}function x4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tp:return"Fragment";case ep:return"Portal";case m4:return"Profiler";case B3:return"StrictMode";case p4:return"Suspense";case g4:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z$:return(e.displayName||"Context")+".Consumer";case X$:return(e._context.displayName||"Context")+".Provider";case k3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E3:return t=e.displayName||null,t!==null?t:x4(e.type)||"Memo";case hh:t=e._payload,e=e._init;try{return x4(e(t))}catch{}}return null}function fne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return x4(t);case 8:return t===B3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eH(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ane(e){var t=eH(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ib(e){e._valueTracker||(e._valueTracker=Ane(e))}function tH(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=eH(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function K1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function y4(e,t){var r=t.checked;return xs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gh(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rH(e,t){t=t.checked,t!=null&&S3(e,"checked",t,!1)}function v4(e,t){rH(e,t);var r=Gh(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?b4(e,t.type,r):t.hasOwnProperty("defaultValue")&&b4(e,t.type,Gh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function YT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function b4(e,t,r){(t!=="number"||K1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lx=Array.isArray;function Np(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gh(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function w4(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ct(91));return xs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function XT(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ct(92));if(lx(r)){if(1<r.length)throw Error(Ct(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gh(r)}}function nH(e,t){var r=Gh(t.value),n=Gh(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ZT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sH(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function j4(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sH(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tb,aH=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tb=Tb||document.createElement("div"),Tb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oy(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mne=["Webkit","ms","Moz","O"];Object.keys(Sx).forEach(function(e){mne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sx[t]=Sx[e]})});function iH(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sx.hasOwnProperty(e)&&Sx[e]?(""+t).trim():t+"px"}function oH(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=iH(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var pne=xs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N4(e,t){if(t){if(pne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ct(62))}}function _4(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C4=null;function P3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var S4=null,_p=null,Cp=null;function JT(e){if(e=Sv(e)){if(typeof S4!="function")throw Error(Ct(280));var t=e.stateNode;t&&(t=pN(t),S4(e.stateNode,e.type,t))}}function lH(e){_p?Cp?Cp.push(e):Cp=[e]:_p=e}function cH(){if(_p){var e=_p,t=Cp;if(Cp=_p=null,JT(e),t)for(e=0;e<t.length;e++)JT(t[e])}}function dH(e,t){return e(t)}function uH(){}var I_=!1;function hH(e,t,r){if(I_)return e(t,r);I_=!0;try{return dH(e,t,r)}finally{I_=!1,(_p!==null||Cp!==null)&&(uH(),cH())}}function ly(e,t){var r=e.stateNode;if(r===null)return null;var n=pN(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ct(231,t,typeof r));return r}var B4=!1;if(uu)try{var k0={};Object.defineProperty(k0,"passive",{get:function(){B4=!0}}),window.addEventListener("test",k0,k0),window.removeEventListener("test",k0,k0)}catch{B4=!1}function gne(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Bx=!1,W1=null,G1=!1,k4=null,xne={onError:function(e){Bx=!0,W1=e}};function yne(e,t,r,n,a,i,o,l,c){Bx=!1,W1=null,gne.apply(xne,arguments)}function vne(e,t,r,n,a,i,o,l,c){if(yne.apply(this,arguments),Bx){if(Bx){var d=W1;Bx=!1,W1=null}else throw Error(Ct(198));G1||(G1=!0,k4=d)}}function nm(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fH(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eO(e){if(nm(e)!==e)throw Error(Ct(188))}function bne(e){var t=e.alternate;if(!t){if(t=nm(e),t===null)throw Error(Ct(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return eO(a),e;if(i===n)return eO(a),t;i=i.sibling}throw Error(Ct(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Ct(189))}}if(r.alternate!==n)throw Error(Ct(190))}if(r.tag!==3)throw Error(Ct(188));return r.stateNode.current===r?e:t}function AH(e){return e=bne(e),e!==null?mH(e):null}function mH(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mH(e);if(t!==null)return t;e=e.sibling}return null}var pH=Oo.unstable_scheduleCallback,tO=Oo.unstable_cancelCallback,wne=Oo.unstable_shouldYield,jne=Oo.unstable_requestPaint,Qs=Oo.unstable_now,Nne=Oo.unstable_getCurrentPriorityLevel,I3=Oo.unstable_ImmediatePriority,gH=Oo.unstable_UserBlockingPriority,q1=Oo.unstable_NormalPriority,_ne=Oo.unstable_LowPriority,xH=Oo.unstable_IdlePriority,hN=null,qc=null;function Cne(e){if(qc&&typeof qc.onCommitFiberRoot=="function")try{qc.onCommitFiberRoot(hN,e,void 0,(e.current.flags&128)===128)}catch{}}var ic=Math.clz32?Math.clz32:kne,Sne=Math.log,Bne=Math.LN2;function kne(e){return e>>>=0,e===0?32:31-(Sne(e)/Bne|0)|0}var Ob=64,Lb=4194304;function cx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Y1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=cx(l):(i&=o,i!==0&&(n=cx(i)))}else o=r&~a,o!==0?n=cx(o):i!==0&&(n=cx(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ic(t),a=1<<r,n|=e[r],t&=~a;return n}function Ene(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pne(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ic(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=Ene(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function E4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yH(){var e=Ob;return Ob<<=1,!(Ob&4194240)&&(Ob=64),e}function T_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _v(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ic(t),e[t]=r}function Ine(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ic(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function T3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ic(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var vn=0;function vH(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bH,O3,wH,jH,NH,P4=!1,Fb=[],Ih=null,Th=null,Oh=null,cy=new Map,dy=new Map,ph=[],Tne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rO(e,t){switch(e){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Th=null;break;case"mouseover":case"mouseout":Oh=null;break;case"pointerover":case"pointerout":cy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dy.delete(t.pointerId)}}function E0(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Sv(t),t!==null&&O3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function One(e,t,r,n,a){switch(t){case"focusin":return Ih=E0(Ih,e,t,r,n,a),!0;case"dragenter":return Th=E0(Th,e,t,r,n,a),!0;case"mouseover":return Oh=E0(Oh,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return cy.set(i,E0(cy.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,dy.set(i,E0(dy.get(i)||null,e,t,r,n,a)),!0}return!1}function _H(e){var t=Xf(e.target);if(t!==null){var r=nm(t);if(r!==null){if(t=r.tag,t===13){if(t=fH(r),t!==null){e.blockedOn=t,NH(e.priority,function(){wH(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function n1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=I4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);C4=n,r.target.dispatchEvent(n),C4=null}else return t=Sv(r),t!==null&&O3(t),e.blockedOn=r,!1;t.shift()}return!0}function nO(e,t,r){n1(e)&&r.delete(t)}function Lne(){P4=!1,Ih!==null&&n1(Ih)&&(Ih=null),Th!==null&&n1(Th)&&(Th=null),Oh!==null&&n1(Oh)&&(Oh=null),cy.forEach(nO),dy.forEach(nO)}function P0(e,t){e.blockedOn===t&&(e.blockedOn=null,P4||(P4=!0,Oo.unstable_scheduleCallback(Oo.unstable_NormalPriority,Lne)))}function uy(e){function t(a){return P0(a,e)}if(0<Fb.length){P0(Fb[0],e);for(var r=1;r<Fb.length;r++){var n=Fb[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ih!==null&&P0(Ih,e),Th!==null&&P0(Th,e),Oh!==null&&P0(Oh,e),cy.forEach(t),dy.forEach(t),r=0;r<ph.length;r++)n=ph[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ph.length&&(r=ph[0],r.blockedOn===null);)_H(r),r.blockedOn===null&&ph.shift()}var Sp=Cu.ReactCurrentBatchConfig,X1=!0;function Fne(e,t,r,n){var a=vn,i=Sp.transition;Sp.transition=null;try{vn=1,L3(e,t,r,n)}finally{vn=a,Sp.transition=i}}function Rne(e,t,r,n){var a=vn,i=Sp.transition;Sp.transition=null;try{vn=4,L3(e,t,r,n)}finally{vn=a,Sp.transition=i}}function L3(e,t,r,n){if(X1){var a=I4(e,t,r,n);if(a===null)H_(e,t,n,Z1,r),rO(e,n);else if(One(a,e,t,r,n))n.stopPropagation();else if(rO(e,n),t&4&&-1<Tne.indexOf(e)){for(;a!==null;){var i=Sv(a);if(i!==null&&bH(i),i=I4(e,t,r,n),i===null&&H_(e,t,n,Z1,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else H_(e,t,n,null,r)}}var Z1=null;function I4(e,t,r,n){if(Z1=null,e=P3(n),e=Xf(e),e!==null)if(t=nm(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fH(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Z1=e,null}function CH(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nne()){case I3:return 1;case gH:return 4;case q1:case _ne:return 16;case xH:return 536870912;default:return 16}default:return 16}}var wh=null,F3=null,s1=null;function SH(){if(s1)return s1;var e,t=F3,r=t.length,n,a="value"in wh?wh.value:wh.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return s1=a.slice(e,1<n?1-n:void 0)}function a1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rb(){return!0}function sO(){return!1}function Ro(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rb:sO,this.isPropagationStopped=sO,this}return xs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rb)},persist:function(){},isPersistent:Rb}),t}var Ug={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R3=Ro(Ug),Cv=xs({},Ug,{view:0,detail:0}),Une=Ro(Cv),O_,L_,I0,fN=xs({},Cv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:U3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==I0&&(I0&&e.type==="mousemove"?(O_=e.screenX-I0.screenX,L_=e.screenY-I0.screenY):L_=O_=0,I0=e),O_)},movementY:function(e){return"movementY"in e?e.movementY:L_}}),aO=Ro(fN),Dne=xs({},fN,{dataTransfer:0}),Mne=Ro(Dne),Qne=xs({},Cv,{relatedTarget:0}),F_=Ro(Qne),$ne=xs({},Ug,{animationName:0,elapsedTime:0,pseudoElement:0}),Hne=Ro($ne),zne=xs({},Ug,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vne=Ro(zne),Kne=xs({},Ug,{data:0}),iO=Ro(Kne),Wne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yne(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qne[e])?!!t[e]:!1}function U3(){return Yne}var Xne=xs({},Cv,{key:function(e){if(e.key){var t=Wne[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=a1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gne[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:U3,charCode:function(e){return e.type==="keypress"?a1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?a1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zne=Ro(Xne),Jne=xs({},fN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oO=Ro(Jne),ese=xs({},Cv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:U3}),tse=Ro(ese),rse=xs({},Ug,{propertyName:0,elapsedTime:0,pseudoElement:0}),nse=Ro(rse),sse=xs({},fN,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ase=Ro(sse),ise=[9,13,27,32],D3=uu&&"CompositionEvent"in window,kx=null;uu&&"documentMode"in document&&(kx=document.documentMode);var ose=uu&&"TextEvent"in window&&!kx,BH=uu&&(!D3||kx&&8<kx&&11>=kx),lO=" ",cO=!1;function kH(e,t){switch(e){case"keyup":return ise.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EH(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rp=!1;function lse(e,t){switch(e){case"compositionend":return EH(t);case"keypress":return t.which!==32?null:(cO=!0,lO);case"textInput":return e=t.data,e===lO&&cO?null:e;default:return null}}function cse(e,t){if(rp)return e==="compositionend"||!D3&&kH(e,t)?(e=SH(),s1=F3=wh=null,rp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BH&&t.locale!=="ko"?null:t.data;default:return null}}var dse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dse[e.type]:t==="textarea"}function PH(e,t,r,n){lH(n),t=J1(t,"onChange"),0<t.length&&(r=new R3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ex=null,hy=null;function use(e){$H(e,0)}function AN(e){var t=ap(e);if(tH(t))return e}function hse(e,t){if(e==="change")return t}var IH=!1;if(uu){var R_;if(uu){var U_="oninput"in document;if(!U_){var uO=document.createElement("div");uO.setAttribute("oninput","return;"),U_=typeof uO.oninput=="function"}R_=U_}else R_=!1;IH=R_&&(!document.documentMode||9<document.documentMode)}function hO(){Ex&&(Ex.detachEvent("onpropertychange",TH),hy=Ex=null)}function TH(e){if(e.propertyName==="value"&&AN(hy)){var t=[];PH(t,hy,e,P3(e)),hH(use,t)}}function fse(e,t,r){e==="focusin"?(hO(),Ex=t,hy=r,Ex.attachEvent("onpropertychange",TH)):e==="focusout"&&hO()}function Ase(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return AN(hy)}function mse(e,t){if(e==="click")return AN(t)}function pse(e,t){if(e==="input"||e==="change")return AN(t)}function gse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fc=typeof Object.is=="function"?Object.is:gse;function fy(e,t){if(fc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!A4.call(t,a)||!fc(e[a],t[a]))return!1}return!0}function fO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function AO(e,t){var r=fO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fO(r)}}function OH(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?OH(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LH(){for(var e=window,t=K1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=K1(e.document)}return t}function M3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xse(e){var t=LH(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&OH(r.ownerDocument.documentElement,r)){if(n!==null&&M3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=AO(r,i);var o=AO(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yse=uu&&"documentMode"in document&&11>=document.documentMode,np=null,T4=null,Px=null,O4=!1;function mO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;O4||np==null||np!==K1(n)||(n=np,"selectionStart"in n&&M3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Px&&fy(Px,n)||(Px=n,n=J1(T4,"onSelect"),0<n.length&&(t=new R3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=np)))}function Ub(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sp={animationend:Ub("Animation","AnimationEnd"),animationiteration:Ub("Animation","AnimationIteration"),animationstart:Ub("Animation","AnimationStart"),transitionend:Ub("Transition","TransitionEnd")},D_={},FH={};uu&&(FH=document.createElement("div").style,"AnimationEvent"in window||(delete sp.animationend.animation,delete sp.animationiteration.animation,delete sp.animationstart.animation),"TransitionEvent"in window||delete sp.transitionend.transition);function mN(e){if(D_[e])return D_[e];if(!sp[e])return e;var t=sp[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in FH)return D_[e]=t[r];return e}var RH=mN("animationend"),UH=mN("animationiteration"),DH=mN("animationstart"),MH=mN("transitionend"),QH=new Map,pO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function of(e,t){QH.set(e,t),rm(t,[e])}for(var M_=0;M_<pO.length;M_++){var Q_=pO[M_],vse=Q_.toLowerCase(),bse=Q_[0].toUpperCase()+Q_.slice(1);of(vse,"on"+bse)}of(RH,"onAnimationEnd");of(UH,"onAnimationIteration");of(DH,"onAnimationStart");of("dblclick","onDoubleClick");of("focusin","onFocus");of("focusout","onBlur");of(MH,"onTransitionEnd");qp("onMouseEnter",["mouseout","mouseover"]);qp("onMouseLeave",["mouseout","mouseover"]);qp("onPointerEnter",["pointerout","pointerover"]);qp("onPointerLeave",["pointerout","pointerover"]);rm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rm("onBeforeInput",["compositionend","keypress","textInput","paste"]);rm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wse=new Set("cancel close invalid load scroll toggle".split(" ").concat(dx));function gO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vne(n,t,void 0,e),e.currentTarget=null}function $H(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;gO(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;gO(a,l,d),i=c}}}if(G1)throw e=k4,G1=!1,k4=null,e}function qn(e,t){var r=t[D4];r===void 0&&(r=t[D4]=new Set);var n=e+"__bubble";r.has(n)||(HH(t,e,2,!1),r.add(n))}function $_(e,t,r){var n=0;t&&(n|=4),HH(r,e,n,t)}var Db="_reactListening"+Math.random().toString(36).slice(2);function Ay(e){if(!e[Db]){e[Db]=!0,Y$.forEach(function(r){r!=="selectionchange"&&(wse.has(r)||$_(r,!1,e),$_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Db]||(t[Db]=!0,$_("selectionchange",!1,t))}}function HH(e,t,r,n){switch(CH(t)){case 1:var a=Fne;break;case 4:a=Rne;break;default:a=L3}r=a.bind(null,t,r,e),a=void 0,!B4||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function H_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Xf(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}hH(function(){var d=i,u=P3(r),f=[];e:{var A=QH.get(e);if(A!==void 0){var m=R3,x=e;switch(e){case"keypress":if(a1(r)===0)break e;case"keydown":case"keyup":m=Zne;break;case"focusin":x="focus",m=F_;break;case"focusout":x="blur",m=F_;break;case"beforeblur":case"afterblur":m=F_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=aO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Mne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tse;break;case RH:case UH:case DH:m=Hne;break;case MH:m=nse;break;case"scroll":m=Une;break;case"wheel":m=ase;break;case"copy":case"cut":case"paste":m=Vne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=oO}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?A!==null?A+"Capture":null:A;g=[];for(var b=d,w;b!==null;){w=b;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,v!==null&&(C=ly(b,v),C!=null&&g.push(my(b,C,w)))),y)break;b=b.return}0<g.length&&(A=new m(A,x,null,r,u),f.push({event:A,listeners:g}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",A&&r!==C4&&(x=r.relatedTarget||r.fromElement)&&(Xf(x)||x[hu]))break e;if((m||A)&&(A=u.window===u?u:(A=u.ownerDocument)?A.defaultView||A.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=d,x=x?Xf(x):null,x!==null&&(y=nm(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(g=aO,C="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=oO,C="onPointerLeave",v="onPointerEnter",b="pointer"),y=m==null?A:ap(m),w=x==null?A:ap(x),A=new g(C,b+"leave",m,r,u),A.target=y,A.relatedTarget=w,C=null,Xf(u)===d&&(g=new g(v,b+"enter",x,r,u),g.target=w,g.relatedTarget=y,C=g),y=C,m&&x)t:{for(g=m,v=x,b=0,w=g;w;w=Em(w))b++;for(w=0,C=v;C;C=Em(C))w++;for(;0<b-w;)g=Em(g),b--;for(;0<w-b;)v=Em(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=Em(g),v=Em(v)}g=null}else g=null;m!==null&&xO(f,A,m,g,!1),x!==null&&y!==null&&xO(f,y,x,g,!0)}}e:{if(A=d?ap(d):window,m=A.nodeName&&A.nodeName.toLowerCase(),m==="select"||m==="input"&&A.type==="file")var N=hse;else if(dO(A))if(IH)N=pse;else{N=Ase;var j=fse}else(m=A.nodeName)&&m.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(N=mse);if(N&&(N=N(e,d))){PH(f,N,r,u);break e}j&&j(e,A,d),e==="focusout"&&(j=A._wrapperState)&&j.controlled&&A.type==="number"&&b4(A,"number",A.value)}switch(j=d?ap(d):window,e){case"focusin":(dO(j)||j.contentEditable==="true")&&(np=j,T4=d,Px=null);break;case"focusout":Px=T4=np=null;break;case"mousedown":O4=!0;break;case"contextmenu":case"mouseup":case"dragend":O4=!1,mO(f,r,u);break;case"selectionchange":if(yse)break;case"keydown":case"keyup":mO(f,r,u)}var P;if(D3)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else rp?kH(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(BH&&r.locale!=="ko"&&(rp||k!=="onCompositionStart"?k==="onCompositionEnd"&&rp&&(P=SH()):(wh=u,F3="value"in wh?wh.value:wh.textContent,rp=!0)),j=J1(d,k),0<j.length&&(k=new iO(k,e,null,r,u),f.push({event:k,listeners:j}),P?k.data=P:(P=EH(r),P!==null&&(k.data=P)))),(P=ose?lse(e,r):cse(e,r))&&(d=J1(d,"onBeforeInput"),0<d.length&&(u=new iO("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=P))}$H(f,t)})}function my(e,t,r){return{instance:e,listener:t,currentTarget:r}}function J1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ly(e,r),i!=null&&n.unshift(my(e,i,a)),i=ly(e,t),i!=null&&n.push(my(e,i,a))),e=e.return}return n}function Em(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xO(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=ly(r,i),c!=null&&o.unshift(my(r,c,l))):a||(c=ly(r,i),c!=null&&o.push(my(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var jse=/\r\n?/g,Nse=/\u0000|\uFFFD/g;function yO(e){return(typeof e=="string"?e:""+e).replace(jse,`
`).replace(Nse,"")}function Mb(e,t,r){if(t=yO(t),yO(e)!==t&&r)throw Error(Ct(425))}function e2(){}var L4=null,F4=null;function R4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var U4=typeof setTimeout=="function"?setTimeout:void 0,_se=typeof clearTimeout=="function"?clearTimeout:void 0,vO=typeof Promise=="function"?Promise:void 0,Cse=typeof queueMicrotask=="function"?queueMicrotask:typeof vO<"u"?function(e){return vO.resolve(null).then(e).catch(Sse)}:U4;function Sse(e){setTimeout(function(){throw e})}function z_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),uy(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);uy(t)}function Lh(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dg=Math.random().toString(36).slice(2),Hc="__reactFiber$"+Dg,py="__reactProps$"+Dg,hu="__reactContainer$"+Dg,D4="__reactEvents$"+Dg,Bse="__reactListeners$"+Dg,kse="__reactHandles$"+Dg;function Xf(e){var t=e[Hc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hu]||r[Hc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bO(e);e!==null;){if(r=e[Hc])return r;e=bO(e)}return t}e=r,r=e.parentNode}return null}function Sv(e){return e=e[Hc]||e[hu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ap(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ct(33))}function pN(e){return e[py]||null}var M4=[],ip=-1;function lf(e){return{current:e}}function Jn(e){0>ip||(e.current=M4[ip],M4[ip]=null,ip--)}function $n(e,t){ip++,M4[ip]=e.current,e.current=t}var qh={},fi=lf(qh),Xi=lf(!1),SA=qh;function Yp(e,t){var r=e.type.contextTypes;if(!r)return qh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zi(e){return e=e.childContextTypes,e!=null}function t2(){Jn(Xi),Jn(fi)}function wO(e,t,r){if(fi.current!==qh)throw Error(Ct(168));$n(fi,t),$n(Xi,r)}function zH(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ct(108,fne(e)||"Unknown",a));return xs({},r,n)}function r2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qh,SA=fi.current,$n(fi,e),$n(Xi,Xi.current),!0}function jO(e,t,r){var n=e.stateNode;if(!n)throw Error(Ct(169));r?(e=zH(e,t,SA),n.__reactInternalMemoizedMergedChildContext=e,Jn(Xi),Jn(fi),$n(fi,e)):Jn(Xi),$n(Xi,r)}var $d=null,gN=!1,V_=!1;function VH(e){$d===null?$d=[e]:$d.push(e)}function Ese(e){gN=!0,VH(e)}function cf(){if(!V_&&$d!==null){V_=!0;var e=0,t=vn;try{var r=$d;for(vn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$d=null,gN=!1}catch(a){throw $d!==null&&($d=$d.slice(e+1)),pH(I3,cf),a}finally{vn=t,V_=!1}}return null}var op=[],lp=0,n2=null,s2=0,sl=[],al=0,BA=null,Vd=1,Kd="";function Df(e,t){op[lp++]=s2,op[lp++]=n2,n2=e,s2=t}function KH(e,t,r){sl[al++]=Vd,sl[al++]=Kd,sl[al++]=BA,BA=e;var n=Vd;e=Kd;var a=32-ic(n)-1;n&=~(1<<a),r+=1;var i=32-ic(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Vd=1<<32-ic(t)+a|r<<a|n,Kd=i+e}else Vd=1<<i|r<<a|n,Kd=e}function Q3(e){e.return!==null&&(Df(e,1),KH(e,1,0))}function $3(e){for(;e===n2;)n2=op[--lp],op[lp]=null,s2=op[--lp],op[lp]=null;for(;e===BA;)BA=sl[--al],sl[al]=null,Kd=sl[--al],sl[al]=null,Vd=sl[--al],sl[al]=null}var ko=null,So=null,as=!1,rc=null;function WH(e,t){var r=ul(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function NO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ko=e,So=Lh(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ko=e,So=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=BA!==null?{id:Vd,overflow:Kd}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ul(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ko=e,So=null,!0):!1;default:return!1}}function Q4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $4(e){if(as){var t=So;if(t){var r=t;if(!NO(e,t)){if(Q4(e))throw Error(Ct(418));t=Lh(r.nextSibling);var n=ko;t&&NO(e,t)?WH(n,r):(e.flags=e.flags&-4097|2,as=!1,ko=e)}}else{if(Q4(e))throw Error(Ct(418));e.flags=e.flags&-4097|2,as=!1,ko=e}}}function _O(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ko=e}function Qb(e){if(e!==ko)return!1;if(!as)return _O(e),as=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!R4(e.type,e.memoizedProps)),t&&(t=So)){if(Q4(e))throw GH(),Error(Ct(418));for(;t;)WH(e,t),t=Lh(t.nextSibling)}if(_O(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ct(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){So=Lh(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}So=null}}else So=ko?Lh(e.stateNode.nextSibling):null;return!0}function GH(){for(var e=So;e;)e=Lh(e.nextSibling)}function Xp(){So=ko=null,as=!1}function H3(e){rc===null?rc=[e]:rc.push(e)}var Pse=Cu.ReactCurrentBatchConfig;function T0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ct(309));var n=r.stateNode}if(!n)throw Error(Ct(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ct(284));if(!r._owner)throw Error(Ct(290,e))}return e}function $b(e,t){throw e=Object.prototype.toString.call(t),Error(Ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function CO(e){var t=e._init;return t(e._payload)}function qH(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function a(v,b){return v=Dh(v,b),v.index=0,v.sibling=null,v}function i(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,w,C){return b===null||b.tag!==6?(b=Z_(w,v.mode,C),b.return=v,b):(b=a(b,w),b.return=v,b)}function c(v,b,w,C){var N=w.type;return N===tp?u(v,b,w.props.children,C,w.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===hh&&CO(N)===b.type)?(C=a(b,w.props),C.ref=T0(v,b,w),C.return=v,C):(C=h1(w.type,w.key,w.props,null,v.mode,C),C.ref=T0(v,b,w),C.return=v,C)}function d(v,b,w,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=J_(w,v.mode,C),b.return=v,b):(b=a(b,w.children||[]),b.return=v,b)}function u(v,b,w,C,N){return b===null||b.tag!==7?(b=fA(w,v.mode,C,N),b.return=v,b):(b=a(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Z_(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pb:return w=h1(b.type,b.key,b.props,null,v.mode,w),w.ref=T0(v,null,b),w.return=v,w;case ep:return b=J_(b,v.mode,w),b.return=v,b;case hh:var C=b._init;return f(v,C(b._payload),w)}if(lx(b)||B0(b))return b=fA(b,v.mode,w,null),b.return=v,b;$b(v,b)}return null}function A(v,b,w,C){var N=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(v,b,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pb:return w.key===N?c(v,b,w,C):null;case ep:return w.key===N?d(v,b,w,C):null;case hh:return N=w._init,A(v,b,N(w._payload),C)}if(lx(w)||B0(w))return N!==null?null:u(v,b,w,C,null);$b(v,w)}return null}function m(v,b,w,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(w)||null,l(b,v,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Pb:return v=v.get(C.key===null?w:C.key)||null,c(b,v,C,N);case ep:return v=v.get(C.key===null?w:C.key)||null,d(b,v,C,N);case hh:var j=C._init;return m(v,b,w,j(C._payload),N)}if(lx(C)||B0(C))return v=v.get(w)||null,u(b,v,C,N,null);$b(b,C)}return null}function x(v,b,w,C){for(var N=null,j=null,P=b,k=b=0,T=null;P!==null&&k<w.length;k++){P.index>k?(T=P,P=null):T=P.sibling;var O=A(v,P,w[k],C);if(O===null){P===null&&(P=T);break}e&&P&&O.alternate===null&&t(v,P),b=i(O,b,k),j===null?N=O:j.sibling=O,j=O,P=T}if(k===w.length)return r(v,P),as&&Df(v,k),N;if(P===null){for(;k<w.length;k++)P=f(v,w[k],C),P!==null&&(b=i(P,b,k),j===null?N=P:j.sibling=P,j=P);return as&&Df(v,k),N}for(P=n(v,P);k<w.length;k++)T=m(P,v,k,w[k],C),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?k:T.key),b=i(T,b,k),j===null?N=T:j.sibling=T,j=T);return e&&P.forEach(function(B){return t(v,B)}),as&&Df(v,k),N}function g(v,b,w,C){var N=B0(w);if(typeof N!="function")throw Error(Ct(150));if(w=N.call(w),w==null)throw Error(Ct(151));for(var j=N=null,P=b,k=b=0,T=null,O=w.next();P!==null&&!O.done;k++,O=w.next()){P.index>k?(T=P,P=null):T=P.sibling;var B=A(v,P,O.value,C);if(B===null){P===null&&(P=T);break}e&&P&&B.alternate===null&&t(v,P),b=i(B,b,k),j===null?N=B:j.sibling=B,j=B,P=T}if(O.done)return r(v,P),as&&Df(v,k),N;if(P===null){for(;!O.done;k++,O=w.next())O=f(v,O.value,C),O!==null&&(b=i(O,b,k),j===null?N=O:j.sibling=O,j=O);return as&&Df(v,k),N}for(P=n(v,P);!O.done;k++,O=w.next())O=m(P,v,k,O.value,C),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?k:O.key),b=i(O,b,k),j===null?N=O:j.sibling=O,j=O);return e&&P.forEach(function(F){return t(v,F)}),as&&Df(v,k),N}function y(v,b,w,C){if(typeof w=="object"&&w!==null&&w.type===tp&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Pb:e:{for(var N=w.key,j=b;j!==null;){if(j.key===N){if(N=w.type,N===tp){if(j.tag===7){r(v,j.sibling),b=a(j,w.props.children),b.return=v,v=b;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===hh&&CO(N)===j.type){r(v,j.sibling),b=a(j,w.props),b.ref=T0(v,j,w),b.return=v,v=b;break e}r(v,j);break}else t(v,j);j=j.sibling}w.type===tp?(b=fA(w.props.children,v.mode,C,w.key),b.return=v,v=b):(C=h1(w.type,w.key,w.props,null,v.mode,C),C.ref=T0(v,b,w),C.return=v,v=C)}return o(v);case ep:e:{for(j=w.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(v,b.sibling),b=a(b,w.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=J_(w,v.mode,C),b.return=v,v=b}return o(v);case hh:return j=w._init,y(v,b,j(w._payload),C)}if(lx(w))return x(v,b,w,C);if(B0(w))return g(v,b,w,C);$b(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(v,b.sibling),b=a(b,w),b.return=v,v=b):(r(v,b),b=Z_(w,v.mode,C),b.return=v,v=b),o(v)):r(v,b)}return y}var Zp=qH(!0),YH=qH(!1),a2=lf(null),i2=null,cp=null,z3=null;function V3(){z3=cp=i2=null}function K3(e){var t=a2.current;Jn(a2),e._currentValue=t}function H4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bp(e,t){i2=e,z3=cp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qi=!0),e.firstContext=null)}function xl(e){var t=e._currentValue;if(z3!==e)if(e={context:e,memoizedValue:t,next:null},cp===null){if(i2===null)throw Error(Ct(308));cp=e,i2.dependencies={lanes:0,firstContext:e}}else cp=cp.next=e;return t}var Zf=null;function W3(e){Zf===null?Zf=[e]:Zf.push(e)}function XH(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,W3(t)):(r.next=a.next,a.next=r),t.interleaved=r,fu(e,n)}function fu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fh=!1;function G3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZH(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ru(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fh(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,fu(e,r)}return a=n.interleaved,a===null?(t.next=t,W3(n)):(t.next=a.next,a.next=t),n.interleaved=t,fu(e,r)}function i1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,T3(e,r)}}function SO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function o2(e,t,r,n){var a=e.updateQueue;fh=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var A=l.lane,m=l.eventTime;if((n&A)===A){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(A=t,m=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(m,f,A);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,A=typeof x=="function"?x.call(m,f,A):x,A==null)break e;f=xs({},f,A);break e;case 2:fh=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,A=a.effects,A===null?a.effects=[l]:A.push(l))}else m={eventTime:m,lane:A,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,o|=A;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;A=l,l=A.next,A.next=null,a.lastBaseUpdate=A,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);EA|=o,e.lanes=o,e.memoizedState=f}}function BO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ct(191,a));a.call(n)}}}var Bv={},Yc=lf(Bv),gy=lf(Bv),xy=lf(Bv);function Jf(e){if(e===Bv)throw Error(Ct(174));return e}function q3(e,t){switch($n(xy,t),$n(gy,e),$n(Yc,Bv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:j4(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=j4(t,e)}Jn(Yc),$n(Yc,t)}function Jp(){Jn(Yc),Jn(gy),Jn(xy)}function JH(e){Jf(xy.current);var t=Jf(Yc.current),r=j4(t,e.type);t!==r&&($n(gy,e),$n(Yc,r))}function Y3(e){gy.current===e&&(Jn(Yc),Jn(gy))}var As=lf(0);function l2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var K_=[];function X3(){for(var e=0;e<K_.length;e++)K_[e]._workInProgressVersionPrimary=null;K_.length=0}var o1=Cu.ReactCurrentDispatcher,W_=Cu.ReactCurrentBatchConfig,kA=0,gs=null,Aa=null,ja=null,c2=!1,Ix=!1,yy=0,Ise=0;function Za(){throw Error(Ct(321))}function Z3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fc(e[r],t[r]))return!1;return!0}function J3(e,t,r,n,a,i){if(kA=i,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,o1.current=e===null||e.memoizedState===null?Fse:Rse,e=r(n,a),Ix){i=0;do{if(Ix=!1,yy=0,25<=i)throw Error(Ct(301));i+=1,ja=Aa=null,t.updateQueue=null,o1.current=Use,e=r(n,a)}while(Ix)}if(o1.current=d2,t=Aa!==null&&Aa.next!==null,kA=0,ja=Aa=gs=null,c2=!1,t)throw Error(Ct(300));return e}function eP(){var e=yy!==0;return yy=0,e}function Qc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ja===null?gs.memoizedState=ja=e:ja=ja.next=e,ja}function yl(){if(Aa===null){var e=gs.alternate;e=e!==null?e.memoizedState:null}else e=Aa.next;var t=ja===null?gs.memoizedState:ja.next;if(t!==null)ja=t,Aa=e;else{if(e===null)throw Error(Ct(310));Aa=e,e={memoizedState:Aa.memoizedState,baseState:Aa.baseState,baseQueue:Aa.baseQueue,queue:Aa.queue,next:null},ja===null?gs.memoizedState=ja=e:ja=ja.next=e}return ja}function vy(e,t){return typeof t=="function"?t(e):t}function G_(e){var t=yl(),r=t.queue;if(r===null)throw Error(Ct(311));r.lastRenderedReducer=e;var n=Aa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((kA&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,gs.lanes|=u,EA|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,fc(n,t.memoizedState)||(qi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,gs.lanes|=i,EA|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function q_(e){var t=yl(),r=t.queue;if(r===null)throw Error(Ct(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);fc(i,t.memoizedState)||(qi=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function e9(){}function t9(e,t){var r=gs,n=yl(),a=t(),i=!fc(n.memoizedState,a);if(i&&(n.memoizedState=a,qi=!0),n=n.queue,tP(s9.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ja!==null&&ja.memoizedState.tag&1){if(r.flags|=2048,by(9,n9.bind(null,r,n,a,t),void 0,null),Ca===null)throw Error(Ct(349));kA&30||r9(r,t,a)}return a}function r9(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=gs.updateQueue,t===null?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function n9(e,t,r,n){t.value=r,t.getSnapshot=n,a9(t)&&i9(e)}function s9(e,t,r){return r(function(){a9(t)&&i9(e)})}function a9(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fc(e,r)}catch{return!0}}function i9(e){var t=fu(e,1);t!==null&&oc(t,e,1,-1)}function kO(e){var t=Qc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:e},t.queue=e,e=e.dispatch=Lse.bind(null,gs,e),[t.memoizedState,e]}function by(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=gs.updateQueue,t===null?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function o9(){return yl().memoizedState}function l1(e,t,r,n){var a=Qc();gs.flags|=e,a.memoizedState=by(1|t,r,void 0,n===void 0?null:n)}function xN(e,t,r,n){var a=yl();n=n===void 0?null:n;var i=void 0;if(Aa!==null){var o=Aa.memoizedState;if(i=o.destroy,n!==null&&Z3(n,o.deps)){a.memoizedState=by(t,r,i,n);return}}gs.flags|=e,a.memoizedState=by(1|t,r,i,n)}function EO(e,t){return l1(8390656,8,e,t)}function tP(e,t){return xN(2048,8,e,t)}function l9(e,t){return xN(4,2,e,t)}function c9(e,t){return xN(4,4,e,t)}function d9(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u9(e,t,r){return r=r!=null?r.concat([e]):null,xN(4,4,d9.bind(null,t,e),r)}function rP(){}function h9(e,t){var r=yl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Z3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function f9(e,t){var r=yl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Z3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function A9(e,t,r){return kA&21?(fc(r,t)||(r=yH(),gs.lanes|=r,EA|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qi=!0),e.memoizedState=r)}function Tse(e,t){var r=vn;vn=r!==0&&4>r?r:4,e(!0);var n=W_.transition;W_.transition={};try{e(!1),t()}finally{vn=r,W_.transition=n}}function m9(){return yl().memoizedState}function Ose(e,t,r){var n=Uh(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},p9(e))g9(t,r);else if(r=XH(e,t,r,n),r!==null){var a=Ei();oc(r,e,n,a),x9(r,t,n)}}function Lse(e,t,r){var n=Uh(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(p9(e))g9(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,fc(l,o)){var c=t.interleaved;c===null?(a.next=a,W3(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=XH(e,t,a,n),r!==null&&(a=Ei(),oc(r,e,n,a),x9(r,t,n))}}function p9(e){var t=e.alternate;return e===gs||t!==null&&t===gs}function g9(e,t){Ix=c2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function x9(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,T3(e,r)}}var d2={readContext:xl,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useInsertionEffect:Za,useLayoutEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useMutableSource:Za,useSyncExternalStore:Za,useId:Za,unstable_isNewReconciler:!1},Fse={readContext:xl,useCallback:function(e,t){return Qc().memoizedState=[e,t===void 0?null:t],e},useContext:xl,useEffect:EO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,l1(4194308,4,d9.bind(null,t,e),r)},useLayoutEffect:function(e,t){return l1(4194308,4,e,t)},useInsertionEffect:function(e,t){return l1(4,2,e,t)},useMemo:function(e,t){var r=Qc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ose.bind(null,gs,e),[n.memoizedState,e]},useRef:function(e){var t=Qc();return e={current:e},t.memoizedState=e},useState:kO,useDebugValue:rP,useDeferredValue:function(e){return Qc().memoizedState=e},useTransition:function(){var e=kO(!1),t=e[0];return e=Tse.bind(null,e[1]),Qc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=gs,a=Qc();if(as){if(r===void 0)throw Error(Ct(407));r=r()}else{if(r=t(),Ca===null)throw Error(Ct(349));kA&30||r9(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,EO(s9.bind(null,n,i,e),[e]),n.flags|=2048,by(9,n9.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Qc(),t=Ca.identifierPrefix;if(as){var r=Kd,n=Vd;r=(n&~(1<<32-ic(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yy++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ise++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rse={readContext:xl,useCallback:h9,useContext:xl,useEffect:tP,useImperativeHandle:u9,useInsertionEffect:l9,useLayoutEffect:c9,useMemo:f9,useReducer:G_,useRef:o9,useState:function(){return G_(vy)},useDebugValue:rP,useDeferredValue:function(e){var t=yl();return A9(t,Aa.memoizedState,e)},useTransition:function(){var e=G_(vy)[0],t=yl().memoizedState;return[e,t]},useMutableSource:e9,useSyncExternalStore:t9,useId:m9,unstable_isNewReconciler:!1},Use={readContext:xl,useCallback:h9,useContext:xl,useEffect:tP,useImperativeHandle:u9,useInsertionEffect:l9,useLayoutEffect:c9,useMemo:f9,useReducer:q_,useRef:o9,useState:function(){return q_(vy)},useDebugValue:rP,useDeferredValue:function(e){var t=yl();return Aa===null?t.memoizedState=e:A9(t,Aa.memoizedState,e)},useTransition:function(){var e=q_(vy)[0],t=yl().memoizedState;return[e,t]},useMutableSource:e9,useSyncExternalStore:t9,useId:m9,unstable_isNewReconciler:!1};function Xl(e,t){if(e&&e.defaultProps){t=xs({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function z4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xs({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yN={isMounted:function(e){return(e=e._reactInternals)?nm(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ei(),a=Uh(e),i=ru(n,a);i.payload=t,r!=null&&(i.callback=r),t=Fh(e,i,a),t!==null&&(oc(t,e,a,n),i1(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ei(),a=Uh(e),i=ru(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Fh(e,i,a),t!==null&&(oc(t,e,a,n),i1(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ei(),n=Uh(e),a=ru(r,n);a.tag=2,t!=null&&(a.callback=t),t=Fh(e,a,n),t!==null&&(oc(t,e,n,r),i1(t,e,n))}};function PO(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!fy(r,n)||!fy(a,i):!0}function y9(e,t,r){var n=!1,a=qh,i=t.contextType;return typeof i=="object"&&i!==null?i=xl(i):(a=Zi(t)?SA:fi.current,n=t.contextTypes,i=(n=n!=null)?Yp(e,a):qh),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yN,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function IO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yN.enqueueReplaceState(t,t.state,null)}function V4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},G3(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=xl(i):(i=Zi(t)?SA:fi.current,a.context=Yp(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(z4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&yN.enqueueReplaceState(a,a.state,null),o2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function eg(e,t){try{var r="",n=t;do r+=hne(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Y_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function K4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Dse=typeof WeakMap=="function"?WeakMap:Map;function v9(e,t,r){r=ru(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){h2||(h2=!0,rB=n),K4(e,t)},r}function b9(e,t,r){r=ru(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){K4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){K4(e,t),typeof n!="function"&&(Rh===null?Rh=new Set([this]):Rh.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function TO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Dse;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Jse.bind(null,e,t,r),t.then(e,e))}function OO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function LO(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ru(-1,1),t.tag=2,Fh(r,t,1))),r.lanes|=1),e)}var Mse=Cu.ReactCurrentOwner,qi=!1;function _i(e,t,r,n){t.child=e===null?YH(t,null,r,n):Zp(t,e.child,r,n)}function FO(e,t,r,n,a){r=r.render;var i=t.ref;return Bp(t,a),n=J3(e,t,r,n,i,a),r=eP(),e!==null&&!qi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Au(e,t,a)):(as&&r&&Q3(t),t.flags|=1,_i(e,t,n,a),t.child)}function RO(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!dP(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,w9(e,t,i,n,a)):(e=h1(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:fy,r(o,n)&&e.ref===t.ref)return Au(e,t,a)}return t.flags|=1,e=Dh(i,n),e.ref=t.ref,e.return=t,t.child=e}function w9(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(fy(i,n)&&e.ref===t.ref)if(qi=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(qi=!0);else return t.lanes=e.lanes,Au(e,t,a)}return W4(e,t,r,n,a)}function j9(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(up,jo),jo|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$n(up,jo),jo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,$n(up,jo),jo|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,$n(up,jo),jo|=n;return _i(e,t,a,r),t.child}function N9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function W4(e,t,r,n,a){var i=Zi(r)?SA:fi.current;return i=Yp(t,i),Bp(t,a),r=J3(e,t,r,n,i,a),n=eP(),e!==null&&!qi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Au(e,t,a)):(as&&n&&Q3(t),t.flags|=1,_i(e,t,r,a),t.child)}function UO(e,t,r,n,a){if(Zi(r)){var i=!0;r2(t)}else i=!1;if(Bp(t,a),t.stateNode===null)c1(e,t),y9(t,r,n),V4(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=xl(d):(d=Zi(r)?SA:fi.current,d=Yp(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&IO(t,o,n,d),fh=!1;var A=t.memoizedState;o.state=A,o2(t,n,o,a),c=t.memoizedState,l!==n||A!==c||Xi.current||fh?(typeof u=="function"&&(z4(t,r,u,n),c=t.memoizedState),(l=fh||PO(t,r,l,n,A,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ZH(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Xl(t.type,l),o.props=d,f=t.pendingProps,A=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=xl(c):(c=Zi(r)?SA:fi.current,c=Yp(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||A!==c)&&IO(t,o,n,c),fh=!1,A=t.memoizedState,o.state=A,o2(t,n,o,a);var x=t.memoizedState;l!==f||A!==x||Xi.current||fh?(typeof m=="function"&&(z4(t,r,m,n),x=t.memoizedState),(d=fh||PO(t,r,d,n,A,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),n=!1)}return G4(e,t,r,n,i,a)}function G4(e,t,r,n,a,i){N9(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&jO(t,r,!1),Au(e,t,i);n=t.stateNode,Mse.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Zp(t,e.child,null,i),t.child=Zp(t,null,l,i)):_i(e,t,l,i),t.memoizedState=n.state,a&&jO(t,r,!0),t.child}function _9(e){var t=e.stateNode;t.pendingContext?wO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wO(e,t.context,!1),q3(e,t.containerInfo)}function DO(e,t,r,n,a){return Xp(),H3(a),t.flags|=256,_i(e,t,r,n),t.child}var q4={dehydrated:null,treeContext:null,retryLane:0};function Y4(e){return{baseLanes:e,cachePool:null,transitions:null}}function C9(e,t,r){var n=t.pendingProps,a=As.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$n(As,a&1),e===null)return $4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wN(o,n,0,null),e=fA(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Y4(r),t.memoizedState=q4,e):nP(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Qse(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Dh(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Dh(l,i):(i=fA(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Y4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=q4,n}return i=e.child,e=i.sibling,n=Dh(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function nP(e,t){return t=wN({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hb(e,t,r,n){return n!==null&&H3(n),Zp(t,e.child,null,r),e=nP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qse(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Y_(Error(Ct(422))),Hb(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=wN({mode:"visible",children:n.children},a,0,null),i=fA(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Zp(t,e.child,null,o),t.child.memoizedState=Y4(o),t.memoizedState=q4,i);if(!(t.mode&1))return Hb(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ct(419)),n=Y_(i,n,void 0),Hb(e,t,o,n)}if(l=(o&e.childLanes)!==0,qi||l){if(n=Ca,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,fu(e,a),oc(n,e,a,-1))}return cP(),n=Y_(Error(Ct(421))),Hb(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=eae.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,So=Lh(a.nextSibling),ko=t,as=!0,rc=null,e!==null&&(sl[al++]=Vd,sl[al++]=Kd,sl[al++]=BA,Vd=e.id,Kd=e.overflow,BA=t),t=nP(t,n.children),t.flags|=4096,t)}function MO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),H4(e.return,t,r)}function X_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function S9(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(_i(e,t,n.children,r),n=As.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&MO(e,r,t);else if(e.tag===19)MO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($n(As,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&l2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),X_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&l2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}X_(t,!0,r,null,i);break;case"together":X_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function c1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Au(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),EA|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ct(153));if(t.child!==null){for(e=t.child,r=Dh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Dh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $se(e,t,r){switch(t.tag){case 3:_9(t),Xp();break;case 5:JH(t);break;case 1:Zi(t.type)&&r2(t);break;case 4:q3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;$n(a2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($n(As,As.current&1),t.flags|=128,null):r&t.child.childLanes?C9(e,t,r):($n(As,As.current&1),e=Au(e,t,r),e!==null?e.sibling:null);$n(As,As.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return S9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$n(As,As.current),n)break;return null;case 22:case 23:return t.lanes=0,j9(e,t,r)}return Au(e,t,r)}var B9,X4,k9,E9;B9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};X4=function(){};k9=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Jf(Yc.current);var i=null;switch(r){case"input":a=y4(e,a),n=y4(e,n),i=[];break;case"select":a=xs({},a,{value:void 0}),n=xs({},n,{value:void 0}),i=[];break;case"textarea":a=w4(e,a),n=w4(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=e2)}N4(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(iy.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(iy.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&qn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};E9=function(e,t,r,n){r!==n&&(t.flags|=4)};function O0(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ja(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Hse(e,t,r){var n=t.pendingProps;switch($3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ja(t),null;case 1:return Zi(t.type)&&t2(),Ja(t),null;case 3:return n=t.stateNode,Jp(),Jn(Xi),Jn(fi),X3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rc!==null&&(aB(rc),rc=null))),X4(e,t),Ja(t),null;case 5:Y3(t);var a=Jf(xy.current);if(r=t.type,e!==null&&t.stateNode!=null)k9(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ct(166));return Ja(t),null}if(e=Jf(Yc.current),Qb(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Hc]=t,n[py]=i,e=(t.mode&1)!==0,r){case"dialog":qn("cancel",n),qn("close",n);break;case"iframe":case"object":case"embed":qn("load",n);break;case"video":case"audio":for(a=0;a<dx.length;a++)qn(dx[a],n);break;case"source":qn("error",n);break;case"img":case"image":case"link":qn("error",n),qn("load",n);break;case"details":qn("toggle",n);break;case"input":qT(n,i),qn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},qn("invalid",n);break;case"textarea":XT(n,i),qn("invalid",n)}N4(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Mb(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Mb(n.textContent,l,e),a=["children",""+l]):iy.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qn("scroll",n)}switch(r){case"input":Ib(n),YT(n,i,!0);break;case"textarea":Ib(n),ZT(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=e2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sH(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Hc]=t,e[py]=n,B9(e,t,!1,!1),t.stateNode=e;e:{switch(o=_4(r,n),r){case"dialog":qn("cancel",e),qn("close",e),a=n;break;case"iframe":case"object":case"embed":qn("load",e),a=n;break;case"video":case"audio":for(a=0;a<dx.length;a++)qn(dx[a],e);a=n;break;case"source":qn("error",e),a=n;break;case"img":case"image":case"link":qn("error",e),qn("load",e),a=n;break;case"details":qn("toggle",e),a=n;break;case"input":qT(e,n),a=y4(e,n),qn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=xs({},n,{value:void 0}),qn("invalid",e);break;case"textarea":XT(e,n),a=w4(e,n),qn("invalid",e);break;default:a=n}N4(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?oH(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&aH(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&oy(e,c):typeof c=="number"&&oy(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(iy.hasOwnProperty(i)?c!=null&&i==="onScroll"&&qn("scroll",e):c!=null&&S3(e,i,c,o))}switch(r){case"input":Ib(e),YT(e,n,!1);break;case"textarea":Ib(e),ZT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gh(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Np(e,!!n.multiple,i,!1):n.defaultValue!=null&&Np(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=e2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ja(t),null;case 6:if(e&&t.stateNode!=null)E9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ct(166));if(r=Jf(xy.current),Jf(Yc.current),Qb(t)){if(n=t.stateNode,r=t.memoizedProps,n[Hc]=t,(i=n.nodeValue!==r)&&(e=ko,e!==null))switch(e.tag){case 3:Mb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mb(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Hc]=t,t.stateNode=n}return Ja(t),null;case 13:if(Jn(As),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(as&&So!==null&&t.mode&1&&!(t.flags&128))GH(),Xp(),t.flags|=98560,i=!1;else if(i=Qb(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ct(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ct(317));i[Hc]=t}else Xp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ja(t),i=!1}else rc!==null&&(aB(rc),rc=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||As.current&1?ga===0&&(ga=3):cP())),t.updateQueue!==null&&(t.flags|=4),Ja(t),null);case 4:return Jp(),X4(e,t),e===null&&Ay(t.stateNode.containerInfo),Ja(t),null;case 10:return K3(t.type._context),Ja(t),null;case 17:return Zi(t.type)&&t2(),Ja(t),null;case 19:if(Jn(As),i=t.memoizedState,i===null)return Ja(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)O0(i,!1);else{if(ga!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=l2(e),o!==null){for(t.flags|=128,O0(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $n(As,As.current&1|2),t.child}e=e.sibling}i.tail!==null&&Qs()>tg&&(t.flags|=128,n=!0,O0(i,!1),t.lanes=4194304)}else{if(!n)if(e=l2(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),O0(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!as)return Ja(t),null}else 2*Qs()-i.renderingStartTime>tg&&r!==1073741824&&(t.flags|=128,n=!0,O0(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qs(),t.sibling=null,r=As.current,$n(As,n?r&1|2:r&1),t):(Ja(t),null);case 22:case 23:return lP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?jo&1073741824&&(Ja(t),t.subtreeFlags&6&&(t.flags|=8192)):Ja(t),null;case 24:return null;case 25:return null}throw Error(Ct(156,t.tag))}function zse(e,t){switch($3(t),t.tag){case 1:return Zi(t.type)&&t2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jp(),Jn(Xi),Jn(fi),X3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Y3(t),null;case 13:if(Jn(As),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ct(340));Xp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(As),null;case 4:return Jp(),null;case 10:return K3(t.type._context),null;case 22:case 23:return lP(),null;case 24:return null;default:return null}}var zb=!1,ci=!1,Vse=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function dp(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ks(e,t,n)}else r.current=null}function Z4(e,t,r){try{r()}catch(n){ks(e,t,n)}}var QO=!1;function Kse(e,t){if(L4=X1,e=LH(),M3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,A=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)A=f,f=m;for(;;){if(f===e)break t;if(A===r&&++d===a&&(l=o),A===i&&++u===n&&(c=o),(m=f.nextSibling)!==null)break;f=A,A=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(F4={focusedElem:e,selectionRange:r},X1=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){t=Qt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,y=x.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Xl(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ct(163))}}catch(C){ks(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}return x=QO,QO=!1,x}function Tx(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Z4(t,r,i)}a=a.next}while(a!==n)}}function vN(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function J4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function P9(e){var t=e.alternate;t!==null&&(e.alternate=null,P9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hc],delete t[py],delete t[D4],delete t[Bse],delete t[kse])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I9(e){return e.tag===5||e.tag===3||e.tag===4}function $O(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function eB(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=e2));else if(n!==4&&(e=e.child,e!==null))for(eB(e,t,r),e=e.sibling;e!==null;)eB(e,t,r),e=e.sibling}function tB(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(tB(e,t,r),e=e.sibling;e!==null;)tB(e,t,r),e=e.sibling}var Ra=null,Zl=!1;function Ju(e,t,r){for(r=r.child;r!==null;)T9(e,t,r),r=r.sibling}function T9(e,t,r){if(qc&&typeof qc.onCommitFiberUnmount=="function")try{qc.onCommitFiberUnmount(hN,r)}catch{}switch(r.tag){case 5:ci||dp(r,t);case 6:var n=Ra,a=Zl;Ra=null,Ju(e,t,r),Ra=n,Zl=a,Ra!==null&&(Zl?(e=Ra,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ra.removeChild(r.stateNode));break;case 18:Ra!==null&&(Zl?(e=Ra,r=r.stateNode,e.nodeType===8?z_(e.parentNode,r):e.nodeType===1&&z_(e,r),uy(e)):z_(Ra,r.stateNode));break;case 4:n=Ra,a=Zl,Ra=r.stateNode.containerInfo,Zl=!0,Ju(e,t,r),Ra=n,Zl=a;break;case 0:case 11:case 14:case 15:if(!ci&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Z4(r,t,o),a=a.next}while(a!==n)}Ju(e,t,r);break;case 1:if(!ci&&(dp(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ks(r,t,l)}Ju(e,t,r);break;case 21:Ju(e,t,r);break;case 22:r.mode&1?(ci=(n=ci)||r.memoizedState!==null,Ju(e,t,r),ci=n):Ju(e,t,r);break;default:Ju(e,t,r)}}function HO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vse),t.forEach(function(n){var a=tae.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Vl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ra=l.stateNode,Zl=!1;break e;case 3:Ra=l.stateNode.containerInfo,Zl=!0;break e;case 4:Ra=l.stateNode.containerInfo,Zl=!0;break e}l=l.return}if(Ra===null)throw Error(Ct(160));T9(i,o,a),Ra=null,Zl=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ks(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)O9(t,e),t=t.sibling}function O9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vl(t,e),Fc(e),n&4){try{Tx(3,e,e.return),vN(3,e)}catch(g){ks(e,e.return,g)}try{Tx(5,e,e.return)}catch(g){ks(e,e.return,g)}}break;case 1:Vl(t,e),Fc(e),n&512&&r!==null&&dp(r,r.return);break;case 5:if(Vl(t,e),Fc(e),n&512&&r!==null&&dp(r,r.return),e.flags&32){var a=e.stateNode;try{oy(a,"")}catch(g){ks(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rH(a,i),_4(l,o);var d=_4(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?oH(a,f):u==="dangerouslySetInnerHTML"?aH(a,f):u==="children"?oy(a,f):S3(a,u,f,d)}switch(l){case"input":v4(a,i);break;case"textarea":nH(a,i);break;case"select":var A=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Np(a,!!i.multiple,m,!1):A!==!!i.multiple&&(i.defaultValue!=null?Np(a,!!i.multiple,i.defaultValue,!0):Np(a,!!i.multiple,i.multiple?[]:"",!1))}a[py]=i}catch(g){ks(e,e.return,g)}}break;case 6:if(Vl(t,e),Fc(e),n&4){if(e.stateNode===null)throw Error(Ct(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){ks(e,e.return,g)}}break;case 3:if(Vl(t,e),Fc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{uy(t.containerInfo)}catch(g){ks(e,e.return,g)}break;case 4:Vl(t,e),Fc(e);break;case 13:Vl(t,e),Fc(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(iP=Qs())),n&4&&HO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ci=(d=ci)||u,Vl(t,e),ci=d):Vl(t,e),Fc(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Qt=e,u=e.child;u!==null;){for(f=Qt=u;Qt!==null;){switch(A=Qt,m=A.child,A.tag){case 0:case 11:case 14:case 15:Tx(4,A,A.return);break;case 1:dp(A,A.return);var x=A.stateNode;if(typeof x.componentWillUnmount=="function"){n=A,r=A.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){ks(n,r,g)}}break;case 5:dp(A,A.return);break;case 22:if(A.memoizedState!==null){VO(f);continue}}m!==null?(m.return=A,Qt=m):VO(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=iH("display",o))}catch(g){ks(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){ks(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vl(t,e),Fc(e),n&4&&HO(e);break;case 21:break;default:Vl(t,e),Fc(e)}}function Fc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(I9(r)){var n=r;break e}r=r.return}throw Error(Ct(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(oy(a,""),n.flags&=-33);var i=$O(e);tB(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=$O(e);eB(e,l,o);break;default:throw Error(Ct(161))}}catch(c){ks(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wse(e,t,r){Qt=e,L9(e)}function L9(e,t,r){for(var n=(e.mode&1)!==0;Qt!==null;){var a=Qt,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||zb;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ci;l=zb;var d=ci;if(zb=o,(ci=c)&&!d)for(Qt=a;Qt!==null;)o=Qt,c=o.child,o.tag===22&&o.memoizedState!==null?KO(a):c!==null?(c.return=o,Qt=c):KO(a);for(;i!==null;)Qt=i,L9(i),i=i.sibling;Qt=a,zb=l,ci=d}zO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Qt=i):zO(e)}}function zO(e){for(;Qt!==null;){var t=Qt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ci||vN(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ci)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Xl(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&BO(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}BO(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&uy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ct(163))}ci||t.flags&512&&J4(t)}catch(A){ks(t,t.return,A)}}if(t===e){Qt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Qt=r;break}Qt=t.return}}function VO(e){for(;Qt!==null;){var t=Qt;if(t===e){Qt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Qt=r;break}Qt=t.return}}function KO(e){for(;Qt!==null;){var t=Qt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vN(4,t)}catch(c){ks(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ks(t,a,c)}}var i=t.return;try{J4(t)}catch(c){ks(t,i,c)}break;case 5:var o=t.return;try{J4(t)}catch(c){ks(t,o,c)}}}catch(c){ks(t,t.return,c)}if(t===e){Qt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Qt=l;break}Qt=t.return}}var Gse=Math.ceil,u2=Cu.ReactCurrentDispatcher,sP=Cu.ReactCurrentOwner,pl=Cu.ReactCurrentBatchConfig,qr=0,Ca=null,Zs=null,Ma=0,jo=0,up=lf(0),ga=0,wy=null,EA=0,bN=0,aP=0,Ox=null,Gi=null,iP=0,tg=1/0,Md=null,h2=!1,rB=null,Rh=null,Vb=!1,jh=null,f2=0,Lx=0,nB=null,d1=-1,u1=0;function Ei(){return qr&6?Qs():d1!==-1?d1:d1=Qs()}function Uh(e){return e.mode&1?qr&2&&Ma!==0?Ma&-Ma:Pse.transition!==null?(u1===0&&(u1=yH()),u1):(e=vn,e!==0||(e=window.event,e=e===void 0?16:CH(e.type)),e):1}function oc(e,t,r,n){if(50<Lx)throw Lx=0,nB=null,Error(Ct(185));_v(e,r,n),(!(qr&2)||e!==Ca)&&(e===Ca&&(!(qr&2)&&(bN|=r),ga===4&&gh(e,Ma)),Ji(e,n),r===1&&qr===0&&!(t.mode&1)&&(tg=Qs()+500,gN&&cf()))}function Ji(e,t){var r=e.callbackNode;Pne(e,t);var n=Y1(e,e===Ca?Ma:0);if(n===0)r!==null&&tO(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tO(r),t===1)e.tag===0?Ese(WO.bind(null,e)):VH(WO.bind(null,e)),Cse(function(){!(qr&6)&&cf()}),r=null;else{switch(vH(n)){case 1:r=I3;break;case 4:r=gH;break;case 16:r=q1;break;case 536870912:r=xH;break;default:r=q1}r=H9(r,F9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function F9(e,t){if(d1=-1,u1=0,qr&6)throw Error(Ct(327));var r=e.callbackNode;if(kp()&&e.callbackNode!==r)return null;var n=Y1(e,e===Ca?Ma:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=A2(e,n);else{t=n;var a=qr;qr|=2;var i=U9();(Ca!==e||Ma!==t)&&(Md=null,tg=Qs()+500,hA(e,t));do try{Xse();break}catch(l){R9(e,l)}while(!0);V3(),u2.current=i,qr=a,Zs!==null?t=0:(Ca=null,Ma=0,t=ga)}if(t!==0){if(t===2&&(a=E4(e),a!==0&&(n=a,t=sB(e,a))),t===1)throw r=wy,hA(e,0),gh(e,n),Ji(e,Qs()),r;if(t===6)gh(e,n);else{if(a=e.current.alternate,!(n&30)&&!qse(a)&&(t=A2(e,n),t===2&&(i=E4(e),i!==0&&(n=i,t=sB(e,i))),t===1))throw r=wy,hA(e,0),gh(e,n),Ji(e,Qs()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ct(345));case 2:Mf(e,Gi,Md);break;case 3:if(gh(e,n),(n&130023424)===n&&(t=iP+500-Qs(),10<t)){if(Y1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ei(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=U4(Mf.bind(null,e,Gi,Md),t);break}Mf(e,Gi,Md);break;case 4:if(gh(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ic(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Qs()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Gse(n/1960))-n,10<n){e.timeoutHandle=U4(Mf.bind(null,e,Gi,Md),n);break}Mf(e,Gi,Md);break;case 5:Mf(e,Gi,Md);break;default:throw Error(Ct(329))}}}return Ji(e,Qs()),e.callbackNode===r?F9.bind(null,e):null}function sB(e,t){var r=Ox;return e.current.memoizedState.isDehydrated&&(hA(e,t).flags|=256),e=A2(e,t),e!==2&&(t=Gi,Gi=r,t!==null&&aB(t)),e}function aB(e){Gi===null?Gi=e:Gi.push.apply(Gi,e)}function qse(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!fc(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gh(e,t){for(t&=~aP,t&=~bN,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ic(t),n=1<<r;e[r]=-1,t&=~n}}function WO(e){if(qr&6)throw Error(Ct(327));kp();var t=Y1(e,0);if(!(t&1))return Ji(e,Qs()),null;var r=A2(e,t);if(e.tag!==0&&r===2){var n=E4(e);n!==0&&(t=n,r=sB(e,n))}if(r===1)throw r=wy,hA(e,0),gh(e,t),Ji(e,Qs()),r;if(r===6)throw Error(Ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mf(e,Gi,Md),Ji(e,Qs()),null}function oP(e,t){var r=qr;qr|=1;try{return e(t)}finally{qr=r,qr===0&&(tg=Qs()+500,gN&&cf())}}function PA(e){jh!==null&&jh.tag===0&&!(qr&6)&&kp();var t=qr;qr|=1;var r=pl.transition,n=vn;try{if(pl.transition=null,vn=1,e)return e()}finally{vn=n,pl.transition=r,qr=t,!(qr&6)&&cf()}}function lP(){jo=up.current,Jn(up)}function hA(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_se(r)),Zs!==null)for(r=Zs.return;r!==null;){var n=r;switch($3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&t2();break;case 3:Jp(),Jn(Xi),Jn(fi),X3();break;case 5:Y3(n);break;case 4:Jp();break;case 13:Jn(As);break;case 19:Jn(As);break;case 10:K3(n.type._context);break;case 22:case 23:lP()}r=r.return}if(Ca=e,Zs=e=Dh(e.current,null),Ma=jo=t,ga=0,wy=null,aP=bN=EA=0,Gi=Ox=null,Zf!==null){for(t=0;t<Zf.length;t++)if(r=Zf[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Zf=null}return e}function R9(e,t){do{var r=Zs;try{if(V3(),o1.current=d2,c2){for(var n=gs.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}c2=!1}if(kA=0,ja=Aa=gs=null,Ix=!1,yy=0,sP.current=null,r===null||r.return===null){ga=1,wy=t,Zs=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ma,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var A=u.alternate;A?(u.updateQueue=A.updateQueue,u.memoizedState=A.memoizedState,u.lanes=A.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=OO(o);if(m!==null){m.flags&=-257,LO(m,o,l,i,t),m.mode&1&&TO(i,d,t),t=m,c=d;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){TO(i,d,t),cP();break e}c=Error(Ct(426))}}else if(as&&l.mode&1){var y=OO(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),LO(y,o,l,i,t),H3(eg(c,l));break e}}i=c=eg(c,l),ga!==4&&(ga=2),Ox===null?Ox=[i]:Ox.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=v9(i,c,t);SO(i,v);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Rh===null||!Rh.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=b9(i,l,t);SO(i,C);break e}}i=i.return}while(i!==null)}M9(r)}catch(N){t=N,Zs===r&&r!==null&&(Zs=r=r.return);continue}break}while(!0)}function U9(){var e=u2.current;return u2.current=d2,e===null?d2:e}function cP(){(ga===0||ga===3||ga===2)&&(ga=4),Ca===null||!(EA&268435455)&&!(bN&268435455)||gh(Ca,Ma)}function A2(e,t){var r=qr;qr|=2;var n=U9();(Ca!==e||Ma!==t)&&(Md=null,hA(e,t));do try{Yse();break}catch(a){R9(e,a)}while(!0);if(V3(),qr=r,u2.current=n,Zs!==null)throw Error(Ct(261));return Ca=null,Ma=0,ga}function Yse(){for(;Zs!==null;)D9(Zs)}function Xse(){for(;Zs!==null&&!wne();)D9(Zs)}function D9(e){var t=$9(e.alternate,e,jo);e.memoizedProps=e.pendingProps,t===null?M9(e):Zs=t,sP.current=null}function M9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zse(r,t),r!==null){r.flags&=32767,Zs=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ga=6,Zs=null;return}}else if(r=Hse(r,t,jo),r!==null){Zs=r;return}if(t=t.sibling,t!==null){Zs=t;return}Zs=t=e}while(t!==null);ga===0&&(ga=5)}function Mf(e,t,r){var n=vn,a=pl.transition;try{pl.transition=null,vn=1,Zse(e,t,r,n)}finally{pl.transition=a,vn=n}return null}function Zse(e,t,r,n){do kp();while(jh!==null);if(qr&6)throw Error(Ct(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ct(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Ine(e,i),e===Ca&&(Zs=Ca=null,Ma=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vb||(Vb=!0,H9(q1,function(){return kp(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=pl.transition,pl.transition=null;var o=vn;vn=1;var l=qr;qr|=4,sP.current=null,Kse(e,r),O9(r,e),xse(F4),X1=!!L4,F4=L4=null,e.current=r,Wse(r),jne(),qr=l,vn=o,pl.transition=i}else e.current=r;if(Vb&&(Vb=!1,jh=e,f2=a),i=e.pendingLanes,i===0&&(Rh=null),Cne(r.stateNode),Ji(e,Qs()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(h2)throw h2=!1,e=rB,rB=null,e;return f2&1&&e.tag!==0&&kp(),i=e.pendingLanes,i&1?e===nB?Lx++:(Lx=0,nB=e):Lx=0,cf(),null}function kp(){if(jh!==null){var e=vH(f2),t=pl.transition,r=vn;try{if(pl.transition=null,vn=16>e?16:e,jh===null)var n=!1;else{if(e=jh,jh=null,f2=0,qr&6)throw Error(Ct(331));var a=qr;for(qr|=4,Qt=e.current;Qt!==null;){var i=Qt,o=i.child;if(Qt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Qt=d;Qt!==null;){var u=Qt;switch(u.tag){case 0:case 11:case 15:Tx(8,u,i)}var f=u.child;if(f!==null)f.return=u,Qt=f;else for(;Qt!==null;){u=Qt;var A=u.sibling,m=u.return;if(P9(u),u===d){Qt=null;break}if(A!==null){A.return=m,Qt=A;break}Qt=m}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Qt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Qt=o;else e:for(;Qt!==null;){if(i=Qt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tx(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Qt=v;break e}Qt=i.return}}var b=e.current;for(Qt=b;Qt!==null;){o=Qt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Qt=w;else e:for(o=b;Qt!==null;){if(l=Qt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vN(9,l)}}catch(N){ks(l,l.return,N)}if(l===o){Qt=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Qt=C;break e}Qt=l.return}}if(qr=a,cf(),qc&&typeof qc.onPostCommitFiberRoot=="function")try{qc.onPostCommitFiberRoot(hN,e)}catch{}n=!0}return n}finally{vn=r,pl.transition=t}}return!1}function GO(e,t,r){t=eg(r,t),t=v9(e,t,1),e=Fh(e,t,1),t=Ei(),e!==null&&(_v(e,1,t),Ji(e,t))}function ks(e,t,r){if(e.tag===3)GO(e,e,r);else for(;t!==null;){if(t.tag===3){GO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rh===null||!Rh.has(n))){e=eg(r,e),e=b9(t,e,1),t=Fh(t,e,1),e=Ei(),t!==null&&(_v(t,1,e),Ji(t,e));break}}t=t.return}}function Jse(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ei(),e.pingedLanes|=e.suspendedLanes&r,Ca===e&&(Ma&r)===r&&(ga===4||ga===3&&(Ma&130023424)===Ma&&500>Qs()-iP?hA(e,0):aP|=r),Ji(e,t)}function Q9(e,t){t===0&&(e.mode&1?(t=Lb,Lb<<=1,!(Lb&130023424)&&(Lb=4194304)):t=1);var r=Ei();e=fu(e,t),e!==null&&(_v(e,t,r),Ji(e,r))}function eae(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Q9(e,r)}function tae(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ct(314))}n!==null&&n.delete(t),Q9(e,r)}var $9;$9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xi.current)qi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qi=!1,$se(e,t,r);qi=!!(e.flags&131072)}else qi=!1,as&&t.flags&1048576&&KH(t,s2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;c1(e,t),e=t.pendingProps;var a=Yp(t,fi.current);Bp(t,r),a=J3(null,t,n,e,a,r);var i=eP();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zi(n)?(i=!0,r2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,G3(t),a.updater=yN,t.stateNode=a,a._reactInternals=t,V4(t,n,e,r),t=G4(null,t,n,!0,i,r)):(t.tag=0,as&&i&&Q3(t),_i(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(c1(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=nae(n),e=Xl(n,e),a){case 0:t=W4(null,t,n,e,r);break e;case 1:t=UO(null,t,n,e,r);break e;case 11:t=FO(null,t,n,e,r);break e;case 14:t=RO(null,t,n,Xl(n.type,e),r);break e}throw Error(Ct(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xl(n,a),W4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xl(n,a),UO(e,t,n,a,r);case 3:e:{if(_9(t),e===null)throw Error(Ct(387));n=t.pendingProps,i=t.memoizedState,a=i.element,ZH(e,t),o2(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=eg(Error(Ct(423)),t),t=DO(e,t,n,r,a);break e}else if(n!==a){a=eg(Error(Ct(424)),t),t=DO(e,t,n,r,a);break e}else for(So=Lh(t.stateNode.containerInfo.firstChild),ko=t,as=!0,rc=null,r=YH(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xp(),n===a){t=Au(e,t,r);break e}_i(e,t,n,r)}t=t.child}return t;case 5:return JH(t),e===null&&$4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,R4(n,a)?o=null:i!==null&&R4(n,i)&&(t.flags|=32),N9(e,t),_i(e,t,o,r),t.child;case 6:return e===null&&$4(t),null;case 13:return C9(e,t,r);case 4:return q3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zp(t,null,n,r):_i(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xl(n,a),FO(e,t,n,a,r);case 7:return _i(e,t,t.pendingProps,r),t.child;case 8:return _i(e,t,t.pendingProps.children,r),t.child;case 12:return _i(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,$n(a2,n._currentValue),n._currentValue=o,i!==null)if(fc(i.value,o)){if(i.children===a.children&&!Xi.current){t=Au(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ru(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),H4(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ct(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),H4(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_i(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Bp(t,r),a=xl(a),n=n(a),t.flags|=1,_i(e,t,n,r),t.child;case 14:return n=t.type,a=Xl(n,t.pendingProps),a=Xl(n.type,a),RO(e,t,n,a,r);case 15:return w9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xl(n,a),c1(e,t),t.tag=1,Zi(n)?(e=!0,r2(t)):e=!1,Bp(t,r),y9(t,n,a),V4(t,n,a,r),G4(null,t,n,!0,e,r);case 19:return S9(e,t,r);case 22:return j9(e,t,r)}throw Error(Ct(156,t.tag))};function H9(e,t){return pH(e,t)}function rae(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ul(e,t,r,n){return new rae(e,t,r,n)}function dP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nae(e){if(typeof e=="function")return dP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===k3)return 11;if(e===E3)return 14}return 2}function Dh(e,t){var r=e.alternate;return r===null?(r=ul(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function h1(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")dP(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case tp:return fA(r.children,a,i,t);case B3:o=8,a|=8;break;case m4:return e=ul(12,r,t,a|2),e.elementType=m4,e.lanes=i,e;case p4:return e=ul(13,r,t,a),e.elementType=p4,e.lanes=i,e;case g4:return e=ul(19,r,t,a),e.elementType=g4,e.lanes=i,e;case J$:return wN(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X$:o=10;break e;case Z$:o=9;break e;case k3:o=11;break e;case E3:o=14;break e;case hh:o=16,n=null;break e}throw Error(Ct(130,e==null?e:typeof e,""))}return t=ul(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function fA(e,t,r,n){return e=ul(7,e,n,t),e.lanes=r,e}function wN(e,t,r,n){return e=ul(22,e,n,t),e.elementType=J$,e.lanes=r,e.stateNode={isHidden:!1},e}function Z_(e,t,r){return e=ul(6,e,null,t),e.lanes=r,e}function J_(e,t,r){return t=ul(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sae(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=T_(0),this.expirationTimes=T_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function uP(e,t,r,n,a,i,o,l,c){return e=new sae(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ul(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},G3(i),e}function aae(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ep,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function z9(e){if(!e)return qh;e=e._reactInternals;e:{if(nm(e)!==e||e.tag!==1)throw Error(Ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ct(171))}if(e.tag===1){var r=e.type;if(Zi(r))return zH(e,r,t)}return t}function V9(e,t,r,n,a,i,o,l,c){return e=uP(r,n,!0,e,a,i,o,l,c),e.context=z9(null),r=e.current,n=Ei(),a=Uh(r),i=ru(n,a),i.callback=t??null,Fh(r,i,a),e.current.lanes=a,_v(e,a,n),Ji(e,n),e}function jN(e,t,r,n){var a=t.current,i=Ei(),o=Uh(a);return r=z9(r),t.context===null?t.context=r:t.pendingContext=r,t=ru(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fh(a,t,o),e!==null&&(oc(e,a,o,i),i1(e,a,o)),o}function m2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hP(e,t){qO(e,t),(e=e.alternate)&&qO(e,t)}function iae(){return null}var K9=typeof reportError=="function"?reportError:function(e){console.error(e)};function fP(e){this._internalRoot=e}NN.prototype.render=fP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ct(409));jN(e,t,null,null)};NN.prototype.unmount=fP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;PA(function(){jN(null,e,null,null)}),t[hu]=null}};function NN(e){this._internalRoot=e}NN.prototype.unstable_scheduleHydration=function(e){if(e){var t=jH();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ph.length&&t!==0&&t<ph[r].priority;r++);ph.splice(r,0,e),r===0&&_H(e)}};function AP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _N(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function YO(){}function oae(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=m2(o);i.call(d)}}var o=V9(t,n,e,0,null,!1,!1,"",YO);return e._reactRootContainer=o,e[hu]=o.current,Ay(e.nodeType===8?e.parentNode:e),PA(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=m2(c);l.call(d)}}var c=uP(e,0,!1,null,null,!1,!1,"",YO);return e._reactRootContainer=c,e[hu]=c.current,Ay(e.nodeType===8?e.parentNode:e),PA(function(){jN(t,c,r,n)}),c}function CN(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=m2(o);l.call(c)}}jN(t,o,e,a)}else o=oae(r,t,e,a,n);return m2(o)}bH=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cx(t.pendingLanes);r!==0&&(T3(t,r|1),Ji(t,Qs()),!(qr&6)&&(tg=Qs()+500,cf()))}break;case 13:PA(function(){var n=fu(e,1);if(n!==null){var a=Ei();oc(n,e,1,a)}}),hP(e,1)}};O3=function(e){if(e.tag===13){var t=fu(e,134217728);if(t!==null){var r=Ei();oc(t,e,134217728,r)}hP(e,134217728)}};wH=function(e){if(e.tag===13){var t=Uh(e),r=fu(e,t);if(r!==null){var n=Ei();oc(r,e,t,n)}hP(e,t)}};jH=function(){return vn};NH=function(e,t){var r=vn;try{return vn=e,t()}finally{vn=r}};S4=function(e,t,r){switch(t){case"input":if(v4(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=pN(n);if(!a)throw Error(Ct(90));tH(n),v4(n,a)}}}break;case"textarea":nH(e,r);break;case"select":t=r.value,t!=null&&Np(e,!!r.multiple,t,!1)}};dH=oP;uH=PA;var lae={usingClientEntryPoint:!1,Events:[Sv,ap,pN,lH,cH,oP]},L0={findFiberByHostInstance:Xf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cae={bundleType:L0.bundleType,version:L0.version,rendererPackageName:L0.rendererPackageName,rendererConfig:L0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=AH(e),e===null?null:e.stateNode},findFiberByHostInstance:L0.findFiberByHostInstance||iae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kb.isDisabled&&Kb.supportsFiber)try{hN=Kb.inject(cae),qc=Kb}catch{}}Fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lae;Fo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AP(t))throw Error(Ct(200));return aae(e,t,null,r)};Fo.createRoot=function(e,t){if(!AP(e))throw Error(Ct(299));var r=!1,n="",a=K9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=uP(e,1,!1,null,null,r,!1,n,a),e[hu]=t.current,Ay(e.nodeType===8?e.parentNode:e),new fP(t)};Fo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ct(188)):(e=Object.keys(e).join(","),Error(Ct(268,e)));return e=AH(t),e=e===null?null:e.stateNode,e};Fo.flushSync=function(e){return PA(e)};Fo.hydrate=function(e,t,r){if(!_N(t))throw Error(Ct(200));return CN(null,e,t,!0,r)};Fo.hydrateRoot=function(e,t,r){if(!AP(e))throw Error(Ct(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=K9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=V9(t,null,e,1,r??null,a,!1,i,o),e[hu]=t.current,Ay(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new NN(t)};Fo.render=function(e,t,r){if(!_N(t))throw Error(Ct(200));return CN(null,e,t,!1,r)};Fo.unmountComponentAtNode=function(e){if(!_N(e))throw Error(Ct(40));return e._reactRootContainer?(PA(function(){CN(null,null,e,!1,function(){e._reactRootContainer=null,e[hu]=null})}),!0):!1};Fo.unstable_batchedUpdates=oP;Fo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_N(r))throw Error(Ct(200));if(e==null||e._reactInternals===void 0)throw Error(Ct(38));return CN(e,t,r,!1,n)};Fo.version="18.3.1-next-f1338f8080-20240426";function W9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W9)}catch(e){console.error(e)}}W9(),W$.exports=Fo;var lc=W$.exports;const dae=sn(lc);var XO=lc;f4.createRoot=XO.createRoot,f4.hydrateRoot=XO.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(this,arguments)}var Nh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nh||(Nh={}));const ZO="popstate";function uae(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return iB("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:p2(a)}return fae(t,r,null,e)}function ta(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hae(){return Math.random().toString(36).substr(2,8)}function JO(e,t){return{usr:e.state,key:e.key,idx:t}}function iB(e,t,r,n){return r===void 0&&(r=null),jy({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mg(t):t,{state:r,key:t&&t.key||n||hae()})}function p2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mg(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function fae(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Nh.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(jy({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Nh.Pop;let y=u(),v=y==null?null:y-d;d=y,c&&c({action:l,location:g.location,delta:v})}function A(y,v){l=Nh.Push;let b=iB(g.location,y,v);d=u()+1;let w=JO(b,d),C=g.createHref(b);try{o.pushState(w,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(C)}i&&c&&c({action:l,location:g.location,delta:1})}function m(y,v){l=Nh.Replace;let b=iB(g.location,y,v);d=u();let w=JO(b,d),C=g.createHref(b);o.replaceState(w,"",C),i&&c&&c({action:l,location:g.location,delta:0})}function x(y){let v=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof y=="string"?y:p2(y);return b=b.replace(/ $/,"%20"),ta(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ZO,f),c=y,()=>{a.removeEventListener(ZO,f),c=null}},createHref(y){return t(a,y)},createURL:x,encodeLocation(y){let v=x(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:A,replace:m,go(y){return o.go(y)}};return g}var eL;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(eL||(eL={}));function Aae(e,t,r){return r===void 0&&(r="/"),mae(e,t,r)}function mae(e,t,r,n){let a=typeof t=="string"?Mg(t):t,i=pP(a.pathname||"/",r);if(i==null)return null;let o=G9(e);pae(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Bae(i);l=_ae(o[c],d)}return l}function G9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ta(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Mh([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(ta(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),G9(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:jae(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of q9(i.path))a(i,o,c)}),t}function q9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=q9(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function pae(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Nae(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gae=/^:[\w-]+$/,xae=3,yae=2,vae=1,bae=10,wae=-2,tL=e=>e==="*";function jae(e,t){let r=e.split("/"),n=r.length;return r.some(tL)&&(n+=wae),t&&(n+=yae),r.filter(a=>!tL(a)).reduce((a,i)=>a+(gae.test(i)?xae:i===""?vae:bae),n)}function Nae(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function _ae(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=Cae({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),A=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Mh([i,f.pathname]),pathnameBase:Tae(Mh([i,f.pathnameBase])),route:A}),f.pathnameBase!=="/"&&(i=Mh([i,f.pathnameBase]))}return o}function Cae(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Sae(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:A,isOptional:m}=u;if(A==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return m&&!x?d[A]=void 0:d[A]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Sae(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),mP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Bae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const kae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eae=e=>kae.test(e);function Pae(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Mg(e):e,i;if(r)if(Eae(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),mP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=rL(r.substring(1),"/"):i=rL(r,t)}else i=t;return{pathname:i,search:Oae(n),hash:Lae(a)}}function rL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function eC(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Iae(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Y9(e,t){let r=Iae(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function X9(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Mg(e):(a=jy({},e),ta(!a.pathname||!a.pathname.includes("?"),eC("?","pathname","search",a)),ta(!a.pathname||!a.pathname.includes("#"),eC("#","pathname","hash",a)),ta(!a.search||!a.search.includes("#"),eC("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let A=o.split("/");for(;A[0]==="..";)A.shift(),f-=1;a.pathname=A.join("/")}l=f>=0?t[f]:"/"}let c=Pae(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Mh=e=>e.join("/").replace(/\/\/+/g,"/"),Tae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Oae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Z9=["post","put","patch","delete"];new Set(Z9);const Rae=["get",...Z9];new Set(Rae);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}const gP=_.createContext(null),Uae=_.createContext(null),sm=_.createContext(null),SN=_.createContext(null),df=_.createContext({outlet:null,matches:[],isDataRoute:!1}),J9=_.createContext(null);function Dae(e,t){let{relative:r}=t===void 0?{}:t;kv()||ta(!1);let{basename:n,navigator:a}=_.useContext(sm),{hash:i,pathname:o,search:l}=tz(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Mh([n,o])),a.createHref({pathname:c,search:l,hash:i})}function kv(){return _.useContext(SN)!=null}function ro(){return kv()||ta(!1),_.useContext(SN).location}function ez(e){_.useContext(sm).static||_.useLayoutEffect(e)}function hr(){let{isDataRoute:e}=_.useContext(df);return e?Zae():Mae()}function Mae(){kv()||ta(!1);let e=_.useContext(gP),{basename:t,future:r,navigator:n}=_.useContext(sm),{matches:a}=_.useContext(df),{pathname:i}=ro(),o=JSON.stringify(Y9(a,r.v7_relativeSplatPath)),l=_.useRef(!1);return ez(()=>{l.current=!0}),_.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=X9(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Mh([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function Su(){let{matches:e}=_.useContext(df),t=e[e.length-1];return t?t.params:{}}function tz(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(sm),{matches:a}=_.useContext(df),{pathname:i}=ro(),o=JSON.stringify(Y9(a,n.v7_relativeSplatPath));return _.useMemo(()=>X9(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Qae(e,t){return $ae(e,t)}function $ae(e,t,r,n){kv()||ta(!1);let{navigator:a}=_.useContext(sm),{matches:i}=_.useContext(df),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ro(),u;if(t){var f;let y=typeof t=="string"?Mg(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||ta(!1),u=y}else u=d;let A=u.pathname||"/",m=A;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+A.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Aae(e,{pathname:m}),g=Wae(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Mh([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Mh([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&g?_.createElement(SN.Provider,{value:{location:Ny({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Nh.Pop}},g):g}function Hae(){let e=Xae(),t=Fae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:a},r):null,null)}const zae=_.createElement(Hae,null);class Vae extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(df.Provider,{value:this.props.routeContext},_.createElement(J9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kae(e){let{routeContext:t,match:r,children:n}=e,a=_.useContext(gP);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(df.Provider,{value:t},n)}function Wae(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||ta(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:A,errors:m}=r,x=f.route.loader&&A[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,A)=>{let m,x=!1,g=null,y=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||zae,c&&(d<0&&A===0?(Jae("route-fallback"),x=!0,y=null):d===A&&(x=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,A+1)),b=()=>{let w;return m?w=g:x?w=y:f.route.Component?w=_.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,_.createElement(Kae,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||A===0)?_.createElement(Vae,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var rz=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rz||{}),nz=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nz||{});function Gae(e){let t=_.useContext(gP);return t||ta(!1),t}function qae(e){let t=_.useContext(Uae);return t||ta(!1),t}function Yae(e){let t=_.useContext(df);return t||ta(!1),t}function sz(e){let t=Yae(),r=t.matches[t.matches.length-1];return r.route.id||ta(!1),r.route.id}function Xae(){var e;let t=_.useContext(J9),r=qae(),n=sz();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Zae(){let{router:e}=Gae(rz.UseNavigateStable),t=sz(nz.UseNavigateStable),r=_.useRef(!1);return ez(()=>{r.current=!0}),_.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ny({fromRouteId:t},i)))},[e,t])}const nL={};function Jae(e,t,r){nL[e]||(nL[e]=!0)}function eie(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function qt(e){ta(!1)}function tie(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Nh.Pop,navigator:i,static:o=!1,future:l}=e;kv()&&ta(!1);let c=t.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:i,static:o,future:Ny({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Mg(n));let{pathname:u="/",search:f="",hash:A="",state:m=null,key:x="default"}=n,g=_.useMemo(()=>{let y=pP(u,c);return y==null?null:{location:{pathname:y,search:f,hash:A,state:m,key:x},navigationType:a}},[c,u,f,A,m,x,a]);return g==null?null:_.createElement(sm.Provider,{value:d},_.createElement(SN.Provider,{children:r,value:g}))}function rie(e){let{children:t,location:r}=e;return Qae(oB(t),r)}new Promise(()=>{});function oB(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,a)=>{if(!_.isValidElement(n))return;let i=[...t,a];if(n.type===_.Fragment){r.push.apply(r,oB(n.props.children,i));return}n.type!==qt&&ta(!1),!n.props.index||!n.props.children||ta(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=oB(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lB(){return lB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lB.apply(this,arguments)}function nie(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function sie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aie(e,t){return e.button===0&&(!t||t==="_self")&&!sie(e)}function cB(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function iie(e,t){let r=cB(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const oie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lie="6";try{window.__reactRouterVersion=lie}catch{}const cie="startTransition",sL=N3[cie];function die(e){let{basename:t,children:r,future:n,window:a}=e,i=_.useRef();i.current==null&&(i.current=uae({window:a,v5Compat:!0}));let o=i.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=_.useCallback(f=>{d&&sL?sL(()=>c(f)):c(f)},[c,d]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.useEffect(()=>eie(n),[n]),_.createElement(tie,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const uie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=_.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,A=nie(t,oie),{basename:m}=_.useContext(sm),x,g=!1;if(typeof d=="string"&&hie.test(d)&&(x=d,uie))try{let w=new URL(window.location.href),C=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=pP(C.pathname,m);C.origin===w.origin&&N!=null?d=N+C.search+C.hash:g=!0}catch{}let y=Dae(d,{relative:a}),v=fie(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||v(w)}return _.createElement("a",lB({},A,{href:x||y,onClick:g||i?n:b,ref:r,target:c}))});var aL;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(aL||(aL={}));var iL;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(iL||(iL={}));function fie(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=hr(),d=ro(),u=tz(e,{relative:o});return _.useCallback(f=>{if(aie(f,r)){f.preventDefault();let A=n!==void 0?n:p2(d)===p2(u);c(e,{replace:A,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function az(e){let t=_.useRef(cB(e)),r=_.useRef(!1),n=ro(),a=_.useMemo(()=>iie(n.search,r.current?null:t.current),[n.search]),i=hr(),o=_.useCallback((l,c)=>{const d=cB(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const xP=_.createContext({});function Ev(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const BN=_.createContext(null),yP=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Aie extends _.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function mie({children:e,isPresent:t}){const r=_.useId(),n=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=_.useContext(yP);return _.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=a.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),s.jsx(Aie,{isPresent:t,childRef:n,sizeRef:a,children:_.cloneElement(e,{ref:n})})}const pie=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=Ev(gie),c=_.useId(),d=_.useCallback(f=>{l.set(f,!0);for(const A of l.values())if(!A)return;n&&n()},[l,n]),u=_.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:d,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),d]:[r,d]);return _.useMemo(()=>{l.forEach((f,A)=>l.set(A,!1))},[r]),_.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(mie,{isPresent:r,children:e})),s.jsx(BN.Provider,{value:u,children:e})};function gie(){return new Map}function iz(e=!0){const t=_.useContext(BN);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=_.useId();_.useEffect(()=>{e&&a(i)},[e]);const o=_.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const Wb=e=>e.key||"";function oL(e){const t=[];return _.Children.forEach(e,r=>{_.isValidElement(r)&&t.push(r)}),t}const vP=typeof window<"u",kN=vP?_.useLayoutEffect:_.useEffect,Sr=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=iz(o),d=_.useMemo(()=>oL(e),[e]),u=o&&!l?[]:d.map(Wb),f=_.useRef(!0),A=_.useRef(d),m=Ev(()=>new Map),[x,g]=_.useState(d),[y,v]=_.useState(d);kN(()=>{f.current=!1,A.current=d;for(let C=0;C<y.length;C++){const N=Wb(y[C]);u.includes(N)?m.delete(N):m.get(N)!==!0&&m.set(N,!1)}},[y,u.length,u.join("-")]);const b=[];if(d!==x){let C=[...d];for(let N=0;N<y.length;N++){const j=y[N],P=Wb(j);u.includes(P)||(C.splice(N,0,j),b.push(j))}i==="wait"&&b.length&&(C=b),v(oL(C)),g(d);return}const{forceRender:w}=_.useContext(xP);return s.jsx(s.Fragment,{children:y.map(C=>{const N=Wb(C),j=o&&!l?!1:d===y||u.includes(N),P=()=>{if(m.has(N))m.set(N,!0);else return;let k=!0;m.forEach(T=>{T||(k=!1)}),k&&(w==null||w(),v(A.current),o&&(c==null||c()),n&&n())};return s.jsx(pie,{isPresent:j,initial:!f.current||r?void 0:!1,custom:j?void 0:t,presenceAffectsLayout:a,mode:i,onExitComplete:j?void 0:P,children:C},N)})})},Pi=e=>e;let xie=Pi,oz=Pi;function bP(e){let t;return()=>(t===void 0&&(t=e()),t)}const IA=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},nu=e=>e*1e3,su=e=>e/1e3,yie={useManualTiming:!1};function vie(e){let t=new Set,r=new Set,n=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,f=!1)=>{const m=f&&n?t:r;return u&&i.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),i.delete(d)},process:d=>{if(o=d,n){a=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,a&&(a=!1,c.process(d))}};return c}const Gb=["read","resolveKeyframes","update","preRender","render","postRender"],bie=40;function lz(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Gb.reduce((v,b)=>(v[b]=vie(i),v),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:f,postRender:A}=o,m=()=>{const v=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(v-a.timestamp,bie),1),a.timestamp=v,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),f.process(a),A.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},x=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:Gb.reduce((v,b)=>{const w=o[b];return v[b]=(C,N=!1,j=!1)=>(r||x(),w.schedule(C,N,j)),v},{}),cancel:v=>{for(let b=0;b<Gb.length;b++)o[Gb[b]].cancel(v)},state:a,steps:o}}const{schedule:hn,cancel:od,state:ba,steps:tC}=lz(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pi,!0),cz=_.createContext({strict:!1}),lL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rg={};for(const e in lL)rg[e]={isEnabled:t=>lL[e].some(r=>!!t[r])};function wie(e){for(const t in e)rg[t]={...rg[t],...e[t]}}const jie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function g2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jie.has(e)}let dz=e=>!g2(e);function Nie(e){e&&(dz=t=>t.startsWith("on")?!g2(t):e(t))}try{Nie(require("@emotion/is-prop-valid").default)}catch{}function _ie(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(dz(a)||r===!0&&g2(a)||!t&&!g2(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Cie(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const EN=_.createContext({});function _y(e){return typeof e=="string"||Array.isArray(e)}function PN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const wP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jP=["initial",...wP];function IN(e){return PN(e.animate)||jP.some(t=>_y(e[t]))}function uz(e){return!!(IN(e)||e.variants)}function Sie(e,t){if(IN(e)){const{initial:r,animate:n}=e;return{initial:r===!1||_y(r)?r:void 0,animate:_y(n)?n:void 0}}return e.inherit!==!1?t:{}}function Bie(e){const{initial:t,animate:r}=Sie(e,_.useContext(EN));return _.useMemo(()=>({initial:t,animate:r}),[cL(t),cL(r)])}function cL(e){return Array.isArray(e)?e.join(" "):e}const kie=Symbol.for("motionComponentSymbol");function hp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Eie(e,t,r){return _.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):hp(r)&&(r.current=n))},[t])}const NP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Iie="framerAppearId",hz="data-"+NP(Iie),{schedule:_P}=lz(queueMicrotask,!1),fz=_.createContext({});function Tie(e,t,r,n,a){var i,o;const{visualElement:l}=_.useContext(EN),c=_.useContext(cz),d=_.useContext(BN),u=_.useContext(yP).reducedMotion,f=_.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const A=f.current,m=_.useContext(fz);A&&!A.projection&&a&&(A.type==="html"||A.type==="svg")&&Oie(f.current,r,a,m);const x=_.useRef(!1);_.useInsertionEffect(()=>{A&&x.current&&A.update(r,d)});const g=r[hz],y=_.useRef(!!g&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return kN(()=>{A&&(x.current=!0,window.MotionIsMounted=!0,A.updateFeatures(),_P.render(A.render),y.current&&A.animationState&&A.animationState.animateChanges())}),_.useEffect(()=>{A&&(!y.current&&A.animationState&&A.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),y.current=!1))}),A}function Oie(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Az(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&hp(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function Az(e){if(e)return e.options.allowProjection!==!1?e.projection:Az(e.parent)}function Lie({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){var i,o;e&&wie(e);function l(d,u){let f;const A={..._.useContext(yP),...d,layoutId:Fie(d)},{isStatic:m}=A,x=Bie(d),g=n(d,m);if(!m&&vP){Rie();const y=Uie(A);f=y.MeasureLayout,x.visualElement=Tie(a,g,A,t,y.ProjectionNode)}return s.jsxs(EN.Provider,{value:x,children:[f&&x.visualElement?s.jsx(f,{visualElement:x.visualElement,...A}):null,r(a,d,Eie(g,x.visualElement,u),g,m,x.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&o!==void 0?o:""})`}`;const c=_.forwardRef(l);return c[kie]=a,c}function Fie({layoutId:e}){const t=_.useContext(xP).id;return t&&e!==void 0?t+"-"+e:e}function Rie(e,t){_.useContext(cz).strict}function Uie(e){const{drag:t,layout:r}=rg;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Die=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function CP(e){return typeof e!="string"||e.includes("-")?!1:!!(Die.indexOf(e)>-1||/[A-Z]/u.test(e))}function dL(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function SP(e,t,r,n){if(typeof t=="function"){const[a,i]=dL(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=dL(n);t=t(r!==void 0?r:e.custom,a,i)}return t}const dB=e=>Array.isArray(e),Mie=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Qie=e=>dB(e)?e[e.length-1]||0:e,hi=e=>!!(e&&e.getVelocity);function f1(e){const t=hi(e)?e.get():e;return Mie(t)?t.toValue():t}function $ie({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,a,i){const o={latestValues:Hie(n,a,i,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const mz=e=>(t,r)=>{const n=_.useContext(EN),a=_.useContext(BN),i=()=>$ie(e,t,n,a);return r?i():Ev(i)};function Hie(e,t,r,n){const a={},i=n(e,{});for(const A in i)a[A]=f1(i[A]);let{initial:o,animate:l}=e;const c=IN(e),d=uz(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!PN(f)){const A=Array.isArray(f)?f:[f];for(let m=0;m<A.length;m++){const x=SP(e,A[m]);if(x){const{transitionEnd:g,transition:y,...v}=x;for(const b in v){let w=v[b];if(Array.isArray(w)){const C=u?w.length-1:0;w=w[C]}w!==null&&(a[b]=w)}for(const b in g)a[b]=g[b]}}}return a}const Qg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],am=new Set(Qg),pz=e=>t=>typeof t=="string"&&t.startsWith(e),gz=pz("--"),zie=pz("var(--"),BP=e=>zie(e)?Vie.test(e.split("/*")[0].trim()):!1,Vie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xz=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ld=(e,t,r)=>r>t?t:r<e?e:r,$g={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Cy={...$g,transform:e=>ld(0,1,e)},qb={...$g,default:1},Pv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ih=Pv("deg"),Xc=Pv("%"),ar=Pv("px"),Kie=Pv("vh"),Wie=Pv("vw"),uL={...Xc,parse:e=>Xc.parse(e)/100,transform:e=>Xc.transform(e*100)},Gie={borderWidth:ar,borderTopWidth:ar,borderRightWidth:ar,borderBottomWidth:ar,borderLeftWidth:ar,borderRadius:ar,radius:ar,borderTopLeftRadius:ar,borderTopRightRadius:ar,borderBottomRightRadius:ar,borderBottomLeftRadius:ar,width:ar,maxWidth:ar,height:ar,maxHeight:ar,top:ar,right:ar,bottom:ar,left:ar,padding:ar,paddingTop:ar,paddingRight:ar,paddingBottom:ar,paddingLeft:ar,margin:ar,marginTop:ar,marginRight:ar,marginBottom:ar,marginLeft:ar,backgroundPositionX:ar,backgroundPositionY:ar},qie={rotate:ih,rotateX:ih,rotateY:ih,rotateZ:ih,scale:qb,scaleX:qb,scaleY:qb,scaleZ:qb,skew:ih,skewX:ih,skewY:ih,distance:ar,translateX:ar,translateY:ar,translateZ:ar,x:ar,y:ar,z:ar,perspective:ar,transformPerspective:ar,opacity:Cy,originX:uL,originY:uL,originZ:ar},hL={...$g,transform:Math.round},kP={...Gie,...qie,zIndex:hL,size:ar,fillOpacity:Cy,strokeOpacity:Cy,numOctaves:hL},Yie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xie=Qg.length;function Zie(e,t,r){let n="",a=!0;for(let i=0;i<Xie;i++){const o=Qg[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=xz(l,kP[o]);if(!c){a=!1;const u=Yie[o]||o;n+=`${u}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function EP(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(am.has(c)){o=!0;continue}else if(gz(c)){a[c]=d;continue}else{const u=xz(d,kP[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(t.transform||(o||r?n.transform=Zie(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const Jie={offset:"stroke-dashoffset",array:"stroke-dasharray"},eoe={offset:"strokeDashoffset",array:"strokeDasharray"};function toe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Jie:eoe;e[i.offset]=ar.transform(-n);const o=ar.transform(t),l=ar.transform(r);e[i.array]=`${o} ${l}`}function fL(e,t,r){return typeof e=="string"?e:ar.transform(t+r*e)}function roe(e,t,r){const n=fL(t,e.x,e.width),a=fL(r,e.y,e.height);return`${n} ${a}`}function PP(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,f){if(EP(e,d,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:A,style:m,dimensions:x}=e;A.transform&&(x&&(m.transform=A.transform),delete A.transform),x&&(a!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=roe(x,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(A.x=t),r!==void 0&&(A.y=r),n!==void 0&&(A.scale=n),o!==void 0&&toe(A,o,l,c,!1)}const IP=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),yz=()=>({...IP(),attrs:{}}),TP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vz(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const bz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wz(e,t,r,n){vz(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(bz.has(a)?a:NP(a),t.attrs[a])}const x2={};function noe(e){Object.assign(x2,e)}function jz(e,{layout:t,layoutId:r}){return am.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!x2[e]||e==="opacity")}function OP(e,t,r){var n;const{style:a}=e,i={};for(const o in a)(hi(a[o])||t.style&&hi(t.style[o])||jz(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function Nz(e,t,r){const n=OP(e,t,r);for(const a in e)if(hi(e[a])||hi(t[a])){const i=Qg.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}function soe(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const AL=["x","y","width","height","cx","cy","r"],aoe={useVisualState:mz({scrapeMotionValuesFromProps:Nz,createRenderState:yz,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:a})=>{if(!r)return;let i=!!e.drag;if(!i){for(const l in a)if(am.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<AL.length;l++){const c=AL[l];e[c]!==t[c]&&(o=!0)}o&&hn.read(()=>{soe(r,n),hn.render(()=>{PP(n,a,TP(r.tagName),e.transformTemplate),wz(r,n)})})}})},ioe={useVisualState:mz({scrapeMotionValuesFromProps:OP,createRenderState:IP})};function _z(e,t,r){for(const n in t)!hi(t[n])&&!jz(n,r)&&(e[n]=t[n])}function ooe({transformTemplate:e},t){return _.useMemo(()=>{const r=IP();return EP(r,t,e),Object.assign({},r.vars,r.style)},[t])}function loe(e,t){const r=e.style||{},n={};return _z(n,r,e),Object.assign(n,ooe(e,t)),n}function coe(e,t){const r={},n=loe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function doe(e,t,r,n){const a=_.useMemo(()=>{const i=yz();return PP(i,t,TP(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};_z(i,e.style,e),a.style={...i,...a.style}}return a}function uoe(e=!1){return(r,n,a,{latestValues:i},o)=>{const c=(CP(r)?doe:coe)(n,i,o,r),d=_ie(n,typeof r=="string",e),u=r!==_.Fragment?{...d,...c,ref:a}:{},{children:f}=n,A=_.useMemo(()=>hi(f)?f.get():f,[f]);return _.createElement(r,{...u,children:A})}}function hoe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...CP(n)?aoe:ioe,preloadedFeatures:e,useRender:uoe(a),createVisualElement:t,Component:n};return Lie(o)}}function Cz(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function TN(e,t,r){const n=e.getProps();return SP(n,t,r!==void 0?r:n.custom,e)}const Sz=bP(()=>window.ScrollTimeline!==void 0);class foe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(a=>{if(Sz()&&a.attachTimeline)return a.attachTimeline(t);if(typeof r=="function")return r(a)});return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Aoe extends foe{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function LP(e,t){return e?e[t]||e.default||e:void 0}const uB=2e4;function Bz(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<uB;)t+=r,n=e.next(t);return t>=uB?1/0:t}function FP(e){return typeof e=="function"}function mL(e,t){e.timeline=t,e.onfinish=null}const RP=e=>Array.isArray(e)&&typeof e[0]=="number",moe={linearEasing:void 0};function poe(e,t){const r=bP(e);return()=>{var n;return(n=moe[t])!==null&&n!==void 0?n:r()}}const y2=poe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kz=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(IA(0,a-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Ez(e){return!!(typeof e=="function"&&y2()||!e||typeof e=="string"&&(e in hB||y2())||RP(e)||Array.isArray(e)&&e.every(Ez))}const ux=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,hB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ux([0,.65,.55,1]),circOut:ux([.55,0,1,.45]),backIn:ux([.31,.01,.66,-.59]),backOut:ux([.33,1.53,.69,.99])};function Pz(e,t){if(e)return typeof e=="function"&&y2()?kz(e,t):RP(e)?ux(e):Array.isArray(e)?e.map(r=>Pz(r,t)||hB.easeOut):hB[e]}const ql={x:!1,y:!1};function Iz(){return ql.x||ql.y}function UP(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const i=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Tz(e,t){const r=UP(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function pL(e){return t=>{t.pointerType==="touch"||Iz()||e(t)}}function goe(e,t,r={}){const[n,a,i]=Tz(e,r),o=pL(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=pL(f=>{d(f),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,a)});return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const Oz=(e,t)=>t?e===t?!0:Oz(e,t.parentElement):!1,DP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,xoe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yoe(e){return xoe.has(e.tagName)||e.tabIndex!==-1}const hx=new WeakSet;function gL(e){return t=>{t.key==="Enter"&&e(t)}}function rC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const voe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=gL(()=>{if(hx.has(r))return;rC(r,"down");const a=gL(()=>{rC(r,"up")}),i=()=>rC(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function xL(e){return DP(e)&&!Iz()}function boe(e,t,r={}){const[n,a,i]=Tz(e,r),o=l=>{const c=l.currentTarget;if(!xL(l)||hx.has(c))return;hx.add(c);const d=t(l),u=(m,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",A),!(!xL(m)||!hx.has(c))&&(hx.delete(c),typeof d=="function"&&d(m,{success:x}))},f=m=>{u(m,r.useGlobalTarget||Oz(c,m.target))},A=m=>{u(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",A,a)};return n.forEach(l=>{!yoe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",d=>voe(d,a),a)}),i}function woe(e){return e==="x"||e==="y"?ql[e]?null:(ql[e]=!0,()=>{ql[e]=!1}):ql.x||ql.y?null:(ql.x=ql.y=!0,()=>{ql.x=ql.y=!1})}const Lz=new Set(["width","height","top","left","right","bottom",...Qg]);let A1;function joe(){A1=void 0}const Zc={now:()=>(A1===void 0&&Zc.set(ba.isProcessing||yie.useManualTiming?ba.timestamp:performance.now()),A1),set:e=>{A1=e,queueMicrotask(joe)}};function MP(e,t){e.indexOf(t)===-1&&e.push(t)}function QP(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class $P{constructor(){this.subscriptions=[]}add(t){return MP(this.subscriptions,t),()=>QP(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function HP(e,t){return t?e*(1e3/t):0}const yL=30,Noe=e=>!isNaN(parseFloat(e));class _oe{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=Zc.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Zc.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Noe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new $P);const n=this.events[t].add(r);return t==="change"?()=>{n(),hn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Zc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yL)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,yL);return HP(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wd(e,t){return new _oe(e,t)}function Coe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Wd(r))}function zP(e,t){const r=TN(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=Qie(i[o]);Coe(e,o,l)}}function Soe(e){return!!(hi(e)&&e.add)}function fB(e,t){const r=e.getValue("willChange");if(Soe(r))return r.add(t)}function Fz(e){return e.props[hz]}const Rz=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Boe=1e-7,koe=12;function Eoe(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=Rz(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>Boe&&++l<koe);return o}function Iv(e,t,r,n){if(e===t&&r===n)return Pi;const a=i=>Eoe(i,0,1,e,r);return i=>i===0||i===1?i:Rz(a(i),t,n)}const Uz=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Dz=e=>t=>1-e(1-t),Mz=Iv(.33,1.53,.69,.99),VP=Dz(Mz),Qz=Uz(VP),$z=e=>(e*=2)<1?.5*VP(e):.5*(2-Math.pow(2,-10*(e-1))),KP=e=>1-Math.sin(Math.acos(e)),Hz=Dz(KP),zz=Uz(KP),Vz=e=>/^0[^.\s]+$/u.test(e);function Poe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Vz(e):!0}const Fx=e=>Math.round(e*1e5)/1e5,WP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ioe(e){return e==null}const Toe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,GP=(e,t)=>r=>!!(typeof r=="string"&&Toe.test(r)&&r.startsWith(e)||t&&!Ioe(r)&&Object.prototype.hasOwnProperty.call(r,t)),Kz=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(WP);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Ooe=e=>ld(0,255,e),nC={...$g,transform:e=>Math.round(Ooe(e))},eA={test:GP("rgb","red"),parse:Kz("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+nC.transform(e)+", "+nC.transform(t)+", "+nC.transform(r)+", "+Fx(Cy.transform(n))+")"};function Loe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const AB={test:GP("#"),parse:Loe,transform:eA.transform},fp={test:GP("hsl","hue"),parse:Kz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Xc.transform(Fx(t))+", "+Xc.transform(Fx(r))+", "+Fx(Cy.transform(n))+")"},ai={test:e=>eA.test(e)||AB.test(e)||fp.test(e),parse:e=>eA.test(e)?eA.parse(e):fp.test(e)?fp.parse(e):AB.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?eA.transform(e):fp.transform(e)},Foe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Roe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(WP))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Foe))===null||r===void 0?void 0:r.length)||0)>0}const Wz="number",Gz="color",Uoe="var",Doe="var(",vL="${}",Moe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sy(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Moe,c=>(ai.test(c)?(n.color.push(i),a.push(Gz),r.push(ai.parse(c))):c.startsWith(Doe)?(n.var.push(i),a.push(Uoe),r.push(c)):(n.number.push(i),a.push(Wz),r.push(parseFloat(c))),++i,vL)).split(vL);return{values:r,split:l,indexes:n,types:a}}function qz(e){return Sy(e).values}function Yz(e){const{split:t,types:r}=Sy(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===Wz?i+=Fx(a[o]):l===Gz?i+=ai.transform(a[o]):i+=a[o]}return i}}const Qoe=e=>typeof e=="number"?0:e;function $oe(e){const t=qz(e);return Yz(e)(t.map(Qoe))}const Yh={test:Roe,parse:qz,createTransformer:Yz,getAnimatableNone:$oe},Hoe=new Set(["brightness","contrast","saturate","opacity"]);function zoe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(WP)||[];if(!n)return e;const a=r.replace(n,"");let i=Hoe.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Voe=/\b([a-z-]*)\(.*?\)/gu,mB={...Yh,getAnimatableNone:e=>{const t=e.match(Voe);return t?t.map(zoe).join(" "):e}},Koe={...kP,color:ai,backgroundColor:ai,outlineColor:ai,fill:ai,stroke:ai,borderColor:ai,borderTopColor:ai,borderRightColor:ai,borderBottomColor:ai,borderLeftColor:ai,filter:mB,WebkitFilter:mB},qP=e=>Koe[e];function Xz(e,t){let r=qP(e);return r!==mB&&(r=Yh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Woe=new Set(["auto","none","0"]);function Goe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Woe.has(i)&&Sy(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=Xz(r,a)}const bL=e=>e===$g||e===ar,wL=(e,t)=>parseFloat(e.split(", ")[t]),jL=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return wL(a[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?wL(i[1],e):0}},qoe=new Set(["x","y","z"]),Yoe=Qg.filter(e=>!qoe.has(e));function Xoe(e){const t=[];return Yoe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ng={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:jL(4,13),y:jL(5,14)};ng.translateX=ng.x;ng.translateY=ng.y;const AA=new Set;let pB=!1,gB=!1;function Zz(){if(gB){const e=Array.from(AA).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Xoe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}gB=!1,pB=!1,AA.forEach(e=>e.complete()),AA.clear()}function Jz(){AA.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gB=!0)})}function Zoe(){Jz(),Zz()}class YP{constructor(t,r,n,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(AA.add(this),pB||(pB=!0,hn.read(Jz),hn.resolveKeyframes(Zz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),AA.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,AA.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const eV=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Joe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ele(e){const t=Joe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function tV(e,t,r=1){const[n,a]=ele(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return eV(o)?parseFloat(o):o}return BP(a)?tV(a,t,r+1):a}const rV=e=>t=>t.test(e),tle={test:e=>e==="auto",parse:e=>e},nV=[$g,ar,Xc,ih,Wie,Kie,tle],NL=e=>nV.find(rV(e));class sV extends YP{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),BP(d))){const u=tV(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Lz.has(n)||t.length!==2)return;const[a,i]=t,o=NL(a),l=NL(i);if(o!==l)if(bL(o)&&bL(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)Poe(t[a])&&n.push(a);n.length&&Goe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ng[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=ng[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const _L=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yh.test(e)||e==="0")&&!e.startsWith("url("));function rle(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function nle(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=_L(a,t),l=_L(i,t);return!o||!l?!1:rle(e)||(r==="spring"||FP(r))&&n}const sle=e=>e!==null;function ON(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(sle),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const ale=40;class aV{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Zc.now(),this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ale?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Zoe(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Zc.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!nle(t,n,a,i))if(o)this.options.duration=0;else{c&&c(ON(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ps=(e,t,r)=>e+(t-e)*r;function sC(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ile({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=sC(c,l,e+1/3),i=sC(c,l,e),o=sC(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function v2(e,t){return r=>r>0?t:e}const aC=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},ole=[AB,eA,fp],lle=e=>ole.find(t=>t.test(e));function CL(e){const t=lle(e);if(!t)return!1;let r=t.parse(e);return t===fp&&(r=ile(r)),r}const SL=(e,t)=>{const r=CL(e),n=CL(t);if(!r||!n)return v2(e,t);const a={...r};return i=>(a.red=aC(r.red,n.red,i),a.green=aC(r.green,n.green,i),a.blue=aC(r.blue,n.blue,i),a.alpha=ps(r.alpha,n.alpha,i),eA.transform(a))},cle=(e,t)=>r=>t(e(r)),Tv=(...e)=>e.reduce(cle),xB=new Set(["none","hidden"]);function dle(e,t){return xB.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function ule(e,t){return r=>ps(e,t,r)}function XP(e){return typeof e=="number"?ule:typeof e=="string"?BP(e)?v2:ai.test(e)?SL:Ale:Array.isArray(e)?iV:typeof e=="object"?ai.test(e)?SL:hle:v2}function iV(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>XP(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function hle(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=XP(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function fle(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[i]=c,a[o]++}return n}const Ale=(e,t)=>{const r=Yh.createTransformer(t),n=Sy(e),a=Sy(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?xB.has(e)&&!a.values.length||xB.has(t)&&!n.values.length?dle(e,t):Tv(iV(fle(n,a),a.values),r):v2(e,t)};function oV(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ps(e,t,r):XP(e)(e,t)}const mle=5;function lV(e,t,r){const n=Math.max(t-mle,0);return HP(r-e(n),t-n)}const Bs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iC=.001;function ple({duration:e=Bs.duration,bounce:t=Bs.bounce,velocity:r=Bs.velocity,mass:n=Bs.mass}){let a,i,o=1-t;o=ld(Bs.minDamping,Bs.maxDamping,o),e=ld(Bs.minDuration,Bs.maxDuration,su(e)),o<1?(a=d=>{const u=d*o,f=u*e,A=u-r,m=yB(d,o),x=Math.exp(-f);return iC-A/m*x},i=d=>{const f=d*o*e,A=f*r+r,m=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-f),g=yB(Math.pow(d,2),o);return(-a(d)+iC>0?-1:1)*((A-m)*x)/g}):(a=d=>{const u=Math.exp(-d*e),f=(d-r)*e+1;return-iC+u*f},i=d=>{const u=Math.exp(-d*e),f=(r-d)*(e*e);return u*f});const l=5/e,c=xle(a,i,l);if(e=nu(e),isNaN(c))return{stiffness:Bs.stiffness,damping:Bs.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const gle=12;function xle(e,t,r){let n=r;for(let a=1;a<gle;a++)n=n-e(n)/t(n);return n}function yB(e,t){return e*Math.sqrt(1-t*t)}const yle=["duration","bounce"],vle=["stiffness","damping","mass"];function BL(e,t){return t.some(r=>e[r]!==void 0)}function ble(e){let t={velocity:Bs.velocity,stiffness:Bs.stiffness,damping:Bs.damping,mass:Bs.mass,isResolvedFromDuration:!1,...e};if(!BL(e,vle)&&BL(e,yle))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*ld(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Bs.mass,stiffness:a,damping:i}}else{const r=ple(e);t={...t,...r,mass:Bs.mass},t.isResolvedFromDuration=!0}return t}function cV(e=Bs.visualDuration,t=Bs.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:A,isResolvedFromDuration:m}=ble({...r,velocity:-su(r.velocity||0)}),x=A||0,g=d/(2*Math.sqrt(c*u)),y=o-i,v=su(Math.sqrt(c/u)),b=Math.abs(y)<5;n||(n=b?Bs.restSpeed.granular:Bs.restSpeed.default),a||(a=b?Bs.restDelta.granular:Bs.restDelta.default);let w;if(g<1){const N=yB(v,g);w=j=>{const P=Math.exp(-g*v*j);return o-P*((x+g*v*y)/N*Math.sin(N*j)+y*Math.cos(N*j))}}else if(g===1)w=N=>o-Math.exp(-v*N)*(y+(x+v*y)*N);else{const N=v*Math.sqrt(g*g-1);w=j=>{const P=Math.exp(-g*v*j),k=Math.min(N*j,300);return o-P*((x+g*v*y)*Math.sinh(k)+N*y*Math.cosh(k))/N}}const C={calculatedDuration:m&&f||null,next:N=>{const j=w(N);if(m)l.done=N>=f;else{let P=0;g<1&&(P=N===0?nu(x):lV(w,N,j));const k=Math.abs(P)<=n,T=Math.abs(o-j)<=a;l.done=k&&T}return l.value=l.done?o:j,l},toString:()=>{const N=Math.min(Bz(C),uB),j=kz(P=>C.next(N*P).value,N,30);return N+"ms "+j}};return C}function kL({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=e[0],A={done:!1,value:f},m=k=>l!==void 0&&k<l||c!==void 0&&k>c,x=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let g=r*t;const y=f+g,v=o===void 0?y:o(y);v!==y&&(g=v-f);const b=k=>-g*Math.exp(-k/n),w=k=>v+b(k),C=k=>{const T=b(k),O=w(k);A.done=Math.abs(T)<=d,A.value=A.done?v:O};let N,j;const P=k=>{m(A.value)&&(N=k,j=cV({keyframes:[A.value,x(A.value)],velocity:lV(w,k,A.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:k=>{let T=!1;return!j&&N===void 0&&(T=!0,C(k),P(k)),N!==void 0&&k>=N?j.next(k-N):(!T&&C(k),A)}}}const wle=Iv(.42,0,1,1),jle=Iv(0,0,.58,1),dV=Iv(.42,0,.58,1),Nle=e=>Array.isArray(e)&&typeof e[0]!="number",_le={linear:Pi,easeIn:wle,easeInOut:dV,easeOut:jle,circIn:KP,circInOut:zz,circOut:Hz,backIn:VP,backInOut:Qz,backOut:Mz,anticipate:$z},EL=e=>{if(RP(e)){oz(e.length===4);const[t,r,n,a]=e;return Iv(t,r,n,a)}else if(typeof e=="string")return _le[e];return e};function Cle(e,t,r){const n=[],a=r||oV,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Pi:t;l=Tv(c,l)}n.push(l)}return n}function uV(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(oz(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Cle(t,n,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const A=IA(e[f],e[f+1],u);return l[f](A)};return r?u=>d(ld(e[0],e[i-1],u)):d}function Sle(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=IA(0,t,n);e.push(ps(r,1,a))}}function hV(e){const t=[0];return Sle(t,e.length-1),t}function Ble(e,t){return e.map(r=>r*t)}function kle(e,t){return e.map(()=>t||dV).splice(0,e.length-1)}function b2({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=Nle(n)?n.map(EL):EL(n),i={done:!1,value:t[0]},o=Ble(r&&r.length===t.length?r:hV(t),e),l=uV(o,t,{ease:Array.isArray(a)?a:kle(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Ele=e=>{const t=({timestamp:r})=>e(r);return{start:()=>hn.update(t,!0),stop:()=>od(t),now:()=>ba.isProcessing?ba.timestamp:Zc.now()}},Ple={decay:kL,inertia:kL,tween:b2,keyframes:b2,spring:cV},Ile=e=>e/100;class ZP extends aV{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||YP,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=FP(r)?r:Ple[r]||b2;let c,d;l!==b2&&typeof t[0]!="number"&&(c=Tv(Ile,oV(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Bz(u));const{calculatedDuration:f}=u,A=f+a,m=A*(n+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:A,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:f}=n;if(this.startTime===null)return i.next(0);const{delay:A,repeat:m,repeatType:x,repeatDelay:g,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-A*(this.speed>=0?1:-1),b=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,C=i;if(m){const k=Math.min(this.currentTime,u)/f;let T=Math.floor(k),O=k%1;!O&&k>=1&&(O=1),O===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(x==="reverse"?(O=1-O,g&&(O-=g/f)):x==="mirror"&&(C=o)),w=ld(0,1,O)*f}const N=b?{done:!1,value:c[0]}:C.next(w);l&&(N.value=l(N.value));let{done:j}=N;!b&&d!==null&&(j=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return P&&a!==void 0&&(N.value=ON(c,this.options,a)),y&&y(N.value),P&&this.finish(),N}get duration(){const{resolved:t}=this;return t?su(t.calculatedDuration):0}get time(){return su(this.currentTime)}set time(t){t=nu(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=su(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Ele,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Tle=new Set(["opacity","clipPath","filter","transform"]);function Ole(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=Pz(l,a);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Lle=bP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),w2=10,Fle=2e4;function Rle(e){return FP(e.type)||e.type==="spring"||!Ez(e.ease)}function Ule(e,t){const r=new ZP({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let i=0;for(;!n.done&&i<Fle;)n=r.sample(i),a.push(n.value),i+=w2;return{times:void 0,keyframes:a,duration:i-w2,ease:"linear"}}const fV={anticipate:$z,backInOut:Qz,circInOut:zz};function Dle(e){return e in fV}class PL extends aV{constructor(t){super(t);const{name:r,motionValue:n,element:a,keyframes:i}=this.options;this.resolver=new sV(i,(o,l)=>this.onKeyframesResolved(o,l),r,n,a),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:a,ease:i,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&y2()&&Dle(i)&&(i=fV[i]),Rle(this.options)){const{onComplete:f,onUpdate:A,motionValue:m,element:x,...g}=this.options,y=Ule(t,g);t=y.keyframes,t.length===1&&(t[1]=t[0]),n=y.duration,a=y.times,i=y.ease,o="keyframes"}const u=Ole(l.owner.current,c,t,{...this.options,duration:n,times:a,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(mL(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;l.set(ON(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:a,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return su(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return su(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=nu(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Pi;const{animation:n}=r;mL(n,t)}return Pi}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:f,element:A,...m}=this.options,x=new ZP({...m,keyframes:n,duration:a,type:i,ease:o,times:l,isGenerator:!0}),g=nu(this.time);d.setWithVelocity(x.sample(g-w2).value,x.sample(g).value,w2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=r.owner.getProps();return Lle()&&n&&Tle.has(n)&&!c&&!d&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const Mle={type:"spring",stiffness:500,damping:25,restSpeed:10},Qle=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$le={type:"keyframes",duration:.8},Hle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zle=(e,{keyframes:t})=>t.length>2?$le:am.has(e)?e.startsWith("scale")?Qle(t[1]):Mle:Hle;function Vle({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const JP=(e,t,r,n={},a,i)=>o=>{const l=LP(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-nu(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:A=>{t.set(A),l.onUpdate&&l.onUpdate(A)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};Vle(l)||(u={...u,...zle(e,u)}),u.duration&&(u.duration=nu(u.duration)),u.repeatDelay&&(u.repeatDelay=nu(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const A=ON(u.keyframes,l);if(A!==void 0)return hn.update(()=>{u.onUpdate(A),u.onComplete()}),new Aoe([])}return!i&&PL.supports(u)?new PL(u):new ZP(u)};function Kle({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function AV(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const A=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),m=c[f];if(m===void 0||u&&Kle(u,f))continue;const x={delay:r,...LP(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const v=Fz(e);if(v){const b=window.MotionHandoffAnimation(v,f,hn);b!==null&&(x.startTime=b,g=!0)}}fB(e,f),A.start(JP(f,A,m,e.shouldReduceMotion&&Lz.has(f)?{type:!1}:x,e,g));const y=A.animation;y&&d.push(y)}return l&&Promise.all(d).then(()=>{hn.update(()=>{l&&zP(e,l)})}),d}function vB(e,t,r={}){var n;const a=TN(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(AV(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:A}=i;return Wle(e,t,u+d,f,A,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function Wle(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(Gle).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(vB(d,t,{...i,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function Gle(e,t){return e.sortNodePosition(t)}function mV(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>vB(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=vB(e,t,r);else{const a=typeof t=="function"?TN(e,t,r.custom):t;n=Promise.all(AV(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const qle=jP.length;function pV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?pV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<qle;r++){const n=jP[r],a=e.props[n];(_y(a)||a===!1)&&(t[n]=a)}return t}const Yle=[...wP].reverse(),Xle=wP.length;function Zle(e){return t=>Promise.all(t.map(({animation:r,options:n})=>mV(e,r,n)))}function Jle(e){let t=Zle(e),r=IL(),n=!0;const a=c=>(d,u)=>{var f;const A=TN(e,u,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(A){const{transition:m,transitionEnd:x,...g}=A;d={...d,...g,...x}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=pV(e.parent)||{},f=[],A=new Set;let m={},x=1/0;for(let y=0;y<Xle;y++){const v=Yle[y],b=r[v],w=d[v]!==void 0?d[v]:u[v],C=_y(w),N=v===c?b.isActive:null;N===!1&&(x=y);let j=w===u[v]&&w!==d[v]&&C;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...m},!b.isActive&&N===null||!w&&!b.prevProp||PN(w)||typeof w=="boolean")continue;const P=ece(b.prevProp,w);let k=P||v===c&&b.isActive&&!j&&C||y>x&&C,T=!1;const O=Array.isArray(w)?w:[w];let B=O.reduce(a(v),{});N===!1&&(B={});const{prevResolvedValues:F={}}=b,M={...F,...B},R=$=>{k=!0,A.has($)&&(T=!0,A.delete($)),b.needsAnimating[$]=!0;const V=e.getValue($);V&&(V.liveStyle=!1)};for(const $ in M){const V=B[$],te=F[$];if(m.hasOwnProperty($))continue;let re=!1;dB(V)&&dB(te)?re=!Cz(V,te):re=V!==te,re?V!=null?R($):A.add($):V!==void 0&&A.has($)?R($):b.protectedKeys[$]=!0}b.prevProp=w,b.prevResolvedValues=B,b.isActive&&(m={...m,...B}),n&&e.blockInitialAnimation&&(k=!1),k&&(!(j&&P)||T)&&f.push(...O.map($=>({animation:$,options:{type:v}})))}if(A.size){const y={};A.forEach(v=>{const b=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),y[v]=b??null}),f.push({animation:y})}let g=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(A=>{var m;return(m=A.animationState)===null||m===void 0?void 0:m.setActive(c,d)}),r[c].isActive=d;const f=o(c);for(const A in r)r[A].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=IL(),n=!0}}}function ece(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Cz(t,e):!1}function Of(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IL(){return{animate:Of(!0),whileInView:Of(),whileHover:Of(),whileTap:Of(),whileDrag:Of(),whileFocus:Of(),exit:Of()}}class uf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class tce extends uf{constructor(t){super(t),t.animationState||(t.animationState=Jle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();PN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let rce=0;class nce extends uf{constructor(){super(...arguments),this.id=rce++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const sce={animation:{Feature:tce},exit:{Feature:nce}};function By(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ov(e){return{point:{x:e.pageX,y:e.pageY}}}const ace=e=>t=>DP(t)&&e(t,Ov(t));function Rx(e,t,r,n){return By(e,t,ace(r),n)}const TL=(e,t)=>Math.abs(e-t);function ice(e,t){const r=TL(e.x,t.x),n=TL(e.y,t.y);return Math.sqrt(r**2+n**2)}class gV{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=lC(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,m=ice(f.offset,{x:0,y:0})>=3;if(!A&&!m)return;const{point:x}=f,{timestamp:g}=ba;this.history.push({...x,timestamp:g});const{onStart:y,onMove:v}=this.handlers;A||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,A)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=oC(A,this.transformPagePoint),hn.update(this.updatePoint,!0)},this.handlePointerUp=(f,A)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=lC(f.type==="pointercancel"?this.lastMoveEventInfo:oC(A,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),x&&x(f,y)},!DP(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Ov(t),l=oC(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=ba;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,lC(l,this.history)),this.removeListeners=Tv(Rx(this.contextWindow,"pointermove",this.handlePointerMove),Rx(this.contextWindow,"pointerup",this.handlePointerUp),Rx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),od(this.updatePoint)}}function oC(e,t){return t?{point:t(e.point)}:e}function OL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lC({point:e},t){return{point:e,delta:OL(e,xV(t)),offset:OL(e,oce(t)),velocity:lce(t,.1)}}function oce(e){return e[0]}function xV(e){return e[e.length-1]}function lce(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=xV(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>nu(t)));)r--;if(!n)return{x:0,y:0};const i=su(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const yV=1e-4,cce=1-yV,dce=1+yV,vV=.01,uce=0-vV,hce=0+vV;function Lo(e){return e.max-e.min}function fce(e,t,r){return Math.abs(e-t)<=r}function LL(e,t,r,n=.5){e.origin=n,e.originPoint=ps(t.min,t.max,e.origin),e.scale=Lo(r)/Lo(t),e.translate=ps(r.min,r.max,e.origin)-e.originPoint,(e.scale>=cce&&e.scale<=dce||isNaN(e.scale))&&(e.scale=1),(e.translate>=uce&&e.translate<=hce||isNaN(e.translate))&&(e.translate=0)}function Ux(e,t,r,n){LL(e.x,t.x,r.x,n?n.originX:void 0),LL(e.y,t.y,r.y,n?n.originY:void 0)}function FL(e,t,r){e.min=r.min+t.min,e.max=e.min+Lo(t)}function Ace(e,t,r){FL(e.x,t.x,r.x),FL(e.y,t.y,r.y)}function RL(e,t,r){e.min=t.min-r.min,e.max=e.min+Lo(t)}function Dx(e,t,r){RL(e.x,t.x,r.x),RL(e.y,t.y,r.y)}function mce(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ps(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ps(r,e,n.max):Math.min(e,r)),e}function UL(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function pce(e,{top:t,left:r,bottom:n,right:a}){return{x:UL(e.x,r,a),y:UL(e.y,t,n)}}function DL(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function gce(e,t){return{x:DL(e.x,t.x),y:DL(e.y,t.y)}}function xce(e,t){let r=.5;const n=Lo(e),a=Lo(t);return a>n?r=IA(t.min,t.max-n,e.min):n>a&&(r=IA(e.min,e.max-a,t.min)),ld(0,1,r)}function yce(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const bB=.35;function vce(e=bB){return e===!1?e=0:e===!0&&(e=bB),{x:ML(e,"left","right"),y:ML(e,"top","bottom")}}function ML(e,t,r){return{min:QL(e,t),max:QL(e,r)}}function QL(e,t){return typeof e=="number"?e:e[t]||0}const $L=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ap=()=>({x:$L(),y:$L()}),HL=()=>({min:0,max:0}),Ds=()=>({x:HL(),y:HL()});function rl(e){return[e("x"),e("y")]}function bV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function bce({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wce(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function cC(e){return e===void 0||e===1}function wB({scale:e,scaleX:t,scaleY:r}){return!cC(e)||!cC(t)||!cC(r)}function Qf(e){return wB(e)||wV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wV(e){return zL(e.x)||zL(e.y)}function zL(e){return e&&e!=="0%"}function j2(e,t,r){const n=e-r,a=t*n;return r+a}function VL(e,t,r,n,a){return a!==void 0&&(e=j2(e,a,n)),j2(e,r,n)+t}function jB(e,t=0,r=1,n,a){e.min=VL(e.min,t,r,n,a),e.max=VL(e.max,t,r,n,a)}function jV(e,{x:t,y:r}){jB(e.x,t.translate,t.scale,t.originPoint),jB(e.y,r.translate,r.scale,r.originPoint)}const KL=.999999999999,WL=1.0000000000001;function jce(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&pp(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,jV(e,o)),n&&Qf(i.latestValues)&&pp(e,i.latestValues))}t.x<WL&&t.x>KL&&(t.x=1),t.y<WL&&t.y>KL&&(t.y=1)}function mp(e,t){e.min=e.min+t,e.max=e.max+t}function GL(e,t,r,n,a=.5){const i=ps(e.min,e.max,a);jB(e,t,r,i,n)}function pp(e,t){GL(e.x,t.x,t.scaleX,t.scale,t.originX),GL(e.y,t.y,t.scaleY,t.scale,t.originY)}function NV(e,t){return bV(wce(e.getBoundingClientRect(),t))}function Nce(e,t,r){const n=NV(e,r),{scroll:a}=t;return a&&(mp(n.x,a.offset.x),mp(n.y,a.offset.y)),n}const _V=({current:e})=>e?e.ownerDocument.defaultView:null,_ce=new WeakMap;class Cce{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ds(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ov(u).point)},i=(u,f)=>{const{drag:A,dragPropagation:m,onDragStart:x}=this.getProps();if(A&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=woe(A),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rl(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Xc.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(v=Lo(w)*(parseFloat(v)/100))}}this.originPoint[y]=v}),x&&hn.postRender(()=>x(u,f)),fB(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:A,dragDirectionLock:m,onDirectionLock:x,onDrag:g}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Sce(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(u,f)},l=(u,f)=>this.stop(u,f),c=()=>rl(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new gV(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:_V(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&hn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Yb(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=mce(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&hp(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=pce(a.layoutBox,r):this.constraints=!1,this.elastic=vce(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&rl(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yce(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!hp(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Nce(n,a.root,this.visualElement.getTransformPagePoint());let o=gce(a.layout.layoutBox,i);if(r){const l=r(bce(o));this.hasMutatedConstraints=!!l,l&&(o=bV(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=rl(u=>{if(!Yb(u,r,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const A=a?200:1e6,m=a?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:A,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return fB(this.visualElement,t),n.start(JP(t,n,0,r,this.visualElement,!1))}stopAnimation(){rl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rl(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){rl(r=>{const{drag:n}=this.getProps();if(!Yb(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-ps(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!hp(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};rl(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=xce({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),rl(o=>{if(!Yb(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ps(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;_ce.set(this.visualElement,this);const t=this.visualElement.current,r=Rx(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();hp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),hn.read(n);const o=By(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(rl(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=bB,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Yb(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Sce(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Bce extends uf{constructor(t){super(t),this.removeGroupControls=Pi,this.removeListeners=Pi,this.controls=new Cce(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const qL=e=>(t,r)=>{e&&hn.postRender(()=>e(t,r))};class kce extends uf{constructor(){super(...arguments),this.removePointerDownListener=Pi}onPointerDown(t){this.session=new gV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_V(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:qL(t),onStart:qL(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&hn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Rx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const m1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const F0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ar.test(e))e=parseFloat(e);else return e;const r=YL(e,t.target.x),n=YL(e,t.target.y);return`${r}% ${n}%`}},Ece={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Yh.parse(e);if(a.length>5)return n;const i=Yh.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=ps(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class Pce extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;noe(Ice),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),m1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||hn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_P.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function CV(e){const[t,r]=iz(),n=_.useContext(xP);return s.jsx(Pce,{...e,layoutGroup:n,switchLayoutGroup:_.useContext(fz),isPresent:t,safeToRemove:r})}const Ice={borderRadius:{...F0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:F0,borderTopRightRadius:F0,borderBottomLeftRadius:F0,borderBottomRightRadius:F0,boxShadow:Ece};function Tce(e,t,r){const n=hi(e)?e:Wd(e);return n.start(JP("",n,t,r)),n.animation}function Oce(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Lce=(e,t)=>e.depth-t.depth;class Fce{constructor(){this.children=[],this.isDirty=!1}add(t){MP(this.children,t),this.isDirty=!0}remove(t){QP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Lce),this.isDirty=!1,this.children.forEach(t)}}function Rce(e,t){const r=Zc.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(od(n),e(i-t))};return hn.read(n,!0),()=>od(n)}const SV=["TopLeft","TopRight","BottomLeft","BottomRight"],Uce=SV.length,XL=e=>typeof e=="string"?parseFloat(e):e,ZL=e=>typeof e=="number"||ar.test(e);function Dce(e,t,r,n,a,i){a?(e.opacity=ps(0,r.opacity!==void 0?r.opacity:1,Mce(n)),e.opacityExit=ps(t.opacity!==void 0?t.opacity:1,0,Qce(n))):i&&(e.opacity=ps(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Uce;o++){const l=`border${SV[o]}Radius`;let c=JL(t,l),d=JL(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||ZL(c)===ZL(d)?(e[l]=Math.max(ps(XL(c),XL(d),n),0),(Xc.test(d)||Xc.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=ps(t.rotate||0,r.rotate||0,n))}function JL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Mce=BV(0,.5,Hz),Qce=BV(.5,.95,Pi);function BV(e,t,r){return n=>n<e?0:n>t?1:r(IA(e,t,n))}function eF(e,t){e.min=t.min,e.max=t.max}function Zo(e,t){eF(e.x,t.x),eF(e.y,t.y)}function tF(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rF(e,t,r,n,a){return e-=t,e=j2(e,1/r,n),a!==void 0&&(e=j2(e,1/a,n)),e}function $ce(e,t=0,r=1,n=.5,a,i=e,o=e){if(Xc.test(t)&&(t=parseFloat(t),t=ps(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ps(i.min,i.max,n);e===i&&(l-=t),e.min=rF(e.min,t,r,l,a),e.max=rF(e.max,t,r,l,a)}function nF(e,t,[r,n,a],i,o){$ce(e,t[r],t[n],t[a],t.scale,i,o)}const Hce=["x","scaleX","originX"],zce=["y","scaleY","originY"];function sF(e,t,r,n){nF(e.x,t,Hce,r?r.x:void 0,n?n.x:void 0),nF(e.y,t,zce,r?r.y:void 0,n?n.y:void 0)}function aF(e){return e.translate===0&&e.scale===1}function kV(e){return aF(e.x)&&aF(e.y)}function iF(e,t){return e.min===t.min&&e.max===t.max}function Vce(e,t){return iF(e.x,t.x)&&iF(e.y,t.y)}function oF(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function EV(e,t){return oF(e.x,t.x)&&oF(e.y,t.y)}function lF(e){return Lo(e.x)/Lo(e.y)}function cF(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Kce{constructor(){this.members=[]}add(t){MP(this.members,t),t.scheduleRender()}remove(t){if(QP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wce(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:A,skewX:m,skewY:x}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),A&&(n+=`rotateY(${A}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const $f={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},fx=typeof window<"u"&&window.MotionDebug!==void 0,dC=["","X","Y","Z"],Gce={visibility:"hidden"},dF=1e3;let qce=0;function uC(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function PV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Fz(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",hn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&PV(n)}function IV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=qce++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fx&&($f.totalNodes=$f.resolvedTargetDeltas=$f.recalculatedProjection=0),this.nodes.forEach(Zce),this.nodes.forEach(nde),this.nodes.forEach(sde),this.nodes.forEach(Jce),fx&&window.MotionDebug.record($f)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fce)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $P),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Oce(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let f;const A=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Rce(A,250),m1.hasAnimatedSinceResize&&(m1.hasAnimatedSinceResize=!1,this.nodes.forEach(hF))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:A,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||cde,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!EV(this.targetLayout,x)||m,w=!A&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||A&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...LP(g,"layout"),onPlay:y,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else A||hF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,od(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ade),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uF);return}this.isUpdating||this.nodes.forEach(tde),this.isUpdating=!1,this.nodes.forEach(rde),this.nodes.forEach(Yce),this.nodes.forEach(Xce),this.clearAllSnapshots();const l=Zc.now();ba.delta=ld(0,1e3/60,l-ba.timestamp),ba.timestamp=l,ba.isProcessing=!0,tC.update.process(ba),tC.preRender.process(ba),tC.render.process(ba),ba.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_P.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ede),this.sharedNodes.forEach(ide)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ds(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!kV(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Qf(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),dde(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Ds();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ude))){const{scroll:u}=this.root;u&&(mp(c.x,u.offset.x),mp(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=Ds();if(Zo(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:f,options:A}=u;u!==this.root&&f&&A.layoutScroll&&(f.wasRoot&&Zo(c,o),mp(c.x,f.offset.x),mp(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Ds();Zo(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&pp(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Qf(u.latestValues)&&pp(c,u.latestValues)}return Qf(this.latestValues)&&pp(c,this.latestValues),c}removeTransform(o){const l=Ds();Zo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Qf(d.latestValues))continue;wB(d.latestValues)&&d.updateSnapshot();const u=Ds(),f=d.measurePageBox();Zo(u,f),sF(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Qf(this.latestValues)&&sF(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ba.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:A}=this.options;if(!(!this.layout||!(f||A))){if(this.resolvedRelativeTargetAt=ba.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ds(),this.relativeTargetOrigin=Ds(),Dx(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Zo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ds(),this.targetWithTransforms=Ds()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ace(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zo(this.target,this.layout.layoutBox),jV(this.target,this.targetDelta)):Zo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ds(),this.relativeTargetOrigin=Ds(),Dx(this.relativeTargetOrigin,this.target,m.target),Zo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fx&&$f.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wB(this.parent.latestValues)||wV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ba.timestamp&&(d=!1),d)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Zo(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,m=this.treeScale.y;jce(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ds());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tF(this.prevProjectionDelta.x,this.projectionDelta.x),tF(this.prevProjectionDelta.y,this.projectionDelta.y)),Ux(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==m||!cF(this.projectionDelta.x,this.prevProjectionDelta.x)||!cF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),fx&&$f.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ap(),this.projectionDelta=Ap(),this.projectionDeltaWithTransform=Ap()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=Ap();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const A=Ds(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=m!==x,y=this.getStack(),v=!y||y.members.length<=1,b=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(lde));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const N=C/1e3;fF(f.x,o.x,N),fF(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dx(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ode(this.relativeTarget,this.relativeTargetOrigin,A,N),w&&Vce(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ds()),Zo(w,this.relativeTarget)),g&&(this.animationValues=u,Dce(u,d,this.latestValues,N,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(od(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hn.update(()=>{m1.hasAnimatedSinceResize=!0,this.currentAnimation=Tce(0,dF,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&TV(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ds();const f=Lo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const A=Lo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+A}Zo(l,c),pp(l,u),Ux(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Kce),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&uC("z",o,d,this.animationValues);for(let u=0;u<dC.length;u++)uC(`rotate${dC[u]}`,o,d,this.animationValues),uC(`skew${dC[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Gce;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=f1(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=f1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qf(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const A=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=Wce(this.projectionDeltaWithTransform,this.treeScale,A),u&&(d.transform=u(A,d.transform));const{x:m,y:x}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=A.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:d.opacity=f===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const g in x2){if(A[g]===void 0)continue;const{correct:y,applyTo:v}=x2[g],b=d.transform==="none"?A[g]:y(A[g],f);if(v){const w=v.length;for(let C=0;C<w;C++)d[v[C]]=b}else d[g]=b}return this.options.layoutId&&(d.pointerEvents=f===this?f1(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(uF),this.root.sharedNodes.clear()}}}function Yce(e){e.updateLayout()}function Xce(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?rl(f=>{const A=o?r.measuredBox[f]:r.layoutBox[f],m=Lo(A);A.min=n[f].min,A.max=A.min+m}):TV(i,r.layoutBox,n)&&rl(f=>{const A=o?r.measuredBox[f]:r.layoutBox[f],m=Lo(n[f]);A.max=A.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Ap();Ux(l,n,r.layoutBox);const c=Ap();o?Ux(c,e.applyTransform(a,!0),r.measuredBox):Ux(c,n,r.layoutBox);const d=!kV(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:A,layout:m}=f;if(A&&m){const x=Ds();Dx(x,r.layoutBox,A.layoutBox);const g=Ds();Dx(g,n,m.layoutBox),EV(x,g)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Zce(e){fx&&$f.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Jce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ede(e){e.clearSnapshot()}function uF(e){e.clearMeasurements()}function tde(e){e.isLayoutDirty=!1}function rde(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hF(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nde(e){e.resolveTargetDelta()}function sde(e){e.calcProjection()}function ade(e){e.resetSkewAndRotation()}function ide(e){e.removeLeadSnapshot()}function fF(e,t,r){e.translate=ps(t.translate,0,r),e.scale=ps(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function AF(e,t,r,n){e.min=ps(t.min,r.min,n),e.max=ps(t.max,r.max,n)}function ode(e,t,r,n){AF(e.x,t.x,r.x,n),AF(e.y,t.y,r.y,n)}function lde(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cde={duration:.45,ease:[.4,0,.1,1]},mF=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),pF=mF("applewebkit/")&&!mF("chrome/")?Math.round:Pi;function gF(e){e.min=pF(e.min),e.max=pF(e.max)}function dde(e){gF(e.x),gF(e.y)}function TV(e,t,r){return e==="position"||e==="preserve-aspect"&&!fce(lF(t),lF(r),.2)}function ude(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const hde=IV({attachResizeListener:(e,t)=>By(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hC={current:void 0},OV=IV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hC.current){const e=new hde({});e.mount(window),e.setOptions({layoutScroll:!0}),hC.current=e}return hC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fde={pan:{Feature:kce},drag:{Feature:Bce,ProjectionNode:OV,MeasureLayout:CV}};function xF(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&hn.postRender(()=>i(t,Ov(t)))}class Ade extends uf{mount(){const{current:t}=this.node;t&&(this.unmount=goe(t,r=>(xF(this.node,r,"Start"),n=>xF(this.node,n,"End"))))}unmount(){}}class mde extends uf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tv(By(this.node.current,"focus",()=>this.onFocus()),By(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yF(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&hn.postRender(()=>i(t,Ov(t)))}class pde extends uf{mount(){const{current:t}=this.node;t&&(this.unmount=boe(t,r=>(yF(this.node,r,"Start"),(n,{success:a})=>yF(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const NB=new WeakMap,fC=new WeakMap,gde=e=>{const t=NB.get(e.target);t&&t(e)},xde=e=>{e.forEach(gde)};function yde({root:e,...t}){const r=e||document;fC.has(r)||fC.set(r,{});const n=fC.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(xde,{root:e,...t})),n[a]}function vde(e,t,r){const n=yde(t);return NB.set(e,r),n.observe(e),()=>{NB.delete(e),n.unobserve(e)}}const bde={some:0,all:1};class wde extends uf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:bde[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),A=d?u:f;A&&A(c)};return vde(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(jde(t,r))&&this.startObserver()}unmount(){}}function jde({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Nde={inView:{Feature:wde},tap:{Feature:pde},focus:{Feature:mde},hover:{Feature:Ade}},_de={layout:{ProjectionNode:OV,MeasureLayout:CV}},_B={current:null},LV={current:!1};function Cde(){if(LV.current=!0,!!vP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_B.current=e.matches;e.addListener(t),t()}else _B.current=!1}const Sde=[...nV,ai,Yh],Bde=e=>Sde.find(rV(e)),vF=new WeakMap;function kde(e,t,r){for(const n in t){const a=t[n],i=r[n];if(hi(a))e.addValue(n,a);else if(hi(i))e.addValue(n,Wd(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Wd(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const bF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ede{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=YP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Zc.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,hn.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=IN(r),this.isVariantNode=uz(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...A}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in A){const x=A[m];c[m]!==void 0&&hi(x)&&x.set(c[m],!1)}}mount(t){this.current=t,vF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),LV.current||Cde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_B.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vF.delete(this.current),this.projection&&this.projection.unmount(),od(this.notifyUpdate),od(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=am.has(t),a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&hn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rg){const r=rg[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ds()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<bF.length;n++){const a=bF[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=kde(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Wd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(eV(a)||Vz(a))?a=parseFloat(a):!Bde(a)&&Yh.test(r)&&(a=Xz(t,r)),this.setBaseTarget(t,hi(a)?a.get():a)),hi(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=SP(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!hi(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new $P),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class FV extends Ede{constructor(){super(...arguments),this.KeyframeResolver=sV}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Pde(e){return window.getComputedStyle(e)}class Ide extends FV{constructor(){super(...arguments),this.type="html",this.renderInstance=vz}readValueFromInstance(t,r){if(am.has(r)){const n=qP(r);return n&&n.default||0}else{const n=Pde(t),a=(gz(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return NV(t,r)}build(t,r,n){EP(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return OP(t,r,n)}}class Tde extends FV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ds}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(am.has(r)){const n=qP(r);return n&&n.default||0}return r=bz.has(r)?r:NP(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Nz(t,r,n)}build(t,r,n){PP(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,a){wz(t,r,n,a)}mount(t){this.isSVGTag=TP(t.tagName),super.mount(t)}}const Ode=(e,t)=>CP(e)?new Tde(t):new Ide(t,{allowProjection:e!==_.Fragment}),Lde=hoe({...sce,...Nde,...fde,..._de},Ode),J=Cie(Lde);function Fde(e,t,r){_.useInsertionEffect(()=>e.on(t,r),[e,t,r])}function RV(e,t){let r;const n=()=>{const{currentTime:a}=t,o=(a===null?0:a.value)/100;r!==o&&e(o),r=o};return hn.update(n,!0),()=>od(n)}const p1=new WeakMap;let oh;function Rde(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Ude({target:e,contentRect:t,borderBoxSize:r}){var n;(n=p1.get(e))===null||n===void 0||n.forEach(a=>{a({target:e,contentSize:t,get size(){return Rde(e,r)}})})}function Dde(e){e.forEach(Ude)}function Mde(){typeof ResizeObserver>"u"||(oh=new ResizeObserver(Dde))}function Qde(e,t){oh||Mde();const r=UP(e);return r.forEach(n=>{let a=p1.get(n);a||(a=new Set,p1.set(n,a)),a.add(t),oh==null||oh.observe(n)}),()=>{r.forEach(n=>{const a=p1.get(n);a==null||a.delete(t),a!=null&&a.size||oh==null||oh.unobserve(n)})}}const g1=new Set;let Mx;function $de(){Mx=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};g1.forEach(r=>r(t))},window.addEventListener("resize",Mx)}function Hde(e){return g1.add(e),Mx||$de(),()=>{g1.delete(e),!g1.size&&Mx&&(Mx=void 0)}}function zde(e,t){return typeof e=="function"?Hde(e):Qde(e,t)}const Vde=50,wF=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Kde=()=>({time:0,x:wF(),y:wF()}),Wde={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function jF(e,t,r,n){const a=r[t],{length:i,position:o}=Wde[t],l=a.current,c=r.time;a.current=e[`scroll${o}`],a.scrollLength=e[`scroll${i}`]-e[`client${i}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=IA(0,a.scrollLength,a.current);const d=n-c;a.velocity=d>Vde?0:HP(a.current-l,d)}function Gde(e,t,r){jF(e,"x",t,r),jF(e,"y",t,r),t.time=r}function qde(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const a=n.getBoundingClientRect();n=n.parentElement;const i=n.getBoundingClientRect();r.x+=a.left-i.left,r.y+=a.top-i.top}else if(n instanceof SVGGraphicsElement){const{x:a,y:i}=n.getBBox();r.x+=a,r.y+=i;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return r}const CB={start:0,center:.5,end:1};function NF(e,t,r=0){let n=0;if(e in CB&&(e=CB[e]),typeof e=="string"){const a=parseFloat(e);e.endsWith("px")?n=a:e.endsWith("%")?e=a/100:e.endsWith("vw")?n=a/100*document.documentElement.clientWidth:e.endsWith("vh")?n=a/100*document.documentElement.clientHeight:e=a}return typeof e=="number"&&(n=t*e),r+n}const Yde=[0,0];function Xde(e,t,r,n){let a=Array.isArray(e)?e:Yde,i=0,o=0;return typeof e=="number"?a=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?a=e.split(" "):a=[e,CB[e]?e:"0"]),i=NF(a[0],r,n),o=NF(a[1],t),i-o}const Zde={All:[[0,0],[1,1]]},Jde={x:0,y:0};function eue(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function tue(e,t,r){const{offset:n=Zde.All}=r,{target:a=e,axis:i="y"}=r,o=i==="y"?"height":"width",l=a!==e?qde(a,e):Jde,c=a===e?{width:e.scrollWidth,height:e.scrollHeight}:eue(a),d={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let u=!t[i].interpolate;const f=n.length;for(let A=0;A<f;A++){const m=Xde(n[A],d[o],c[o],l[i]);!u&&m!==t[i].interpolatorOffsets[A]&&(u=!0),t[i].offset[A]=m}u&&(t[i].interpolate=uV(t[i].offset,hV(n),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=ld(0,1,t[i].interpolate(t[i].current))}function rue(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function nue(e,t,r,n={}){return{measure:()=>rue(e,n.target,r),update:a=>{Gde(e,r,a),(n.offset||n.target)&&tue(e,r,n)},notify:()=>t(r)}}const R0=new WeakMap,_F=new WeakMap,AC=new WeakMap,CF=e=>e===document.documentElement?window:e;function e6(e,{container:t=document.documentElement,...r}={}){let n=AC.get(t);n||(n=new Set,AC.set(t,n));const a=Kde(),i=nue(t,e,a,r);if(n.add(i),!R0.has(t)){const l=()=>{for(const A of n)A.measure()},c=()=>{for(const A of n)A.update(ba.timestamp)},d=()=>{for(const A of n)A.notify()},u=()=>{hn.read(l,!1,!0),hn.read(c,!1,!0),hn.update(d,!1,!0)};R0.set(t,u);const f=CF(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&_F.set(t,zde(t,u)),f.addEventListener("scroll",u,{passive:!0})}const o=R0.get(t);return hn.read(o,!1,!0),()=>{var l;od(o);const c=AC.get(t);if(!c||(c.delete(i),c.size))return;const d=R0.get(t);R0.delete(t),d&&(CF(t).removeEventListener("scroll",d),(l=_F.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function sue({source:e,container:t,axis:r="y"}){e&&(t=e);const n={value:0},a=e6(i=>{n.value=i[r].progress*100},{container:t,axis:r});return{currentTime:n,cancel:a}}const mC=new Map;function UV({source:e,container:t=document.documentElement,axis:r="y"}={}){e&&(t=e),mC.has(t)||mC.set(t,{});const n=mC.get(t);return n[r]||(n[r]=Sz()?new ScrollTimeline({source:t,axis:r}):sue({source:t,axis:r})),n[r]}function aue(e){return e.length===2}function DV(e){return e&&(e.target||e.offset)}function iue(e,t){return aue(e)||DV(t)?e6(r=>{e(r[t.axis].progress,r)},t):RV(e,UV(t))}function oue(e,t){if(e.flatten(),DV(t))return e.pause(),e6(r=>{e.time=e.duration*r[t.axis].progress},t);{const r=UV(t);return e.attachTimeline?e.attachTimeline(r,n=>(n.pause(),RV(a=>{n.time=n.duration*a},r))):Pi}}function lue(e,{axis:t="y",...r}={}){const n={axis:t,...r};return typeof e=="function"?iue(e,n):oue(e,n)}function SF(e,t){xie(!!(!t||t.current))}const cue=()=>({scrollX:Wd(0),scrollY:Wd(0),scrollXProgress:Wd(0),scrollYProgress:Wd(0)});function due({container:e,target:t,layoutEffect:r=!0,...n}={}){const a=Ev(cue);return(r?kN:_.useEffect)(()=>(SF("target",t),SF("container",e),lue((o,{x:l,y:c})=>{a.scrollX.set(l.current),a.scrollXProgress.set(l.progress),a.scrollY.set(c.current),a.scrollYProgress.set(c.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),a}function uue(e){e.values.forEach(t=>t.stop())}function SB(e,t){[...t].reverse().forEach(n=>{const a=e.getVariant(n);a&&zP(e,a),e.variantChildren&&e.variantChildren.forEach(i=>{SB(i,t)})})}function hue(e,t){if(Array.isArray(t))return SB(e,t);if(typeof t=="string")return SB(e,[t]);zP(e,t)}function fue(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const a=[];return e.forEach(i=>{a.push(mV(i,r,{transitionOverride:n}))}),Promise.all(a)},set(r){return e.forEach(n=>{hue(n,r)})},stop(){e.forEach(r=>{uue(r)})},mount(){return()=>{t.stop()}}};return t}function Aue(){const e=Ev(fue);return kN(e.mount,[]),e}const mue=Aue,pue={some:0,all:1};function gue(e,t,{root:r,margin:n,amount:a="some"}={}){const i=UP(e),o=new WeakMap,l=d=>{d.forEach(u=>{const f=o.get(u.target);if(u.isIntersecting!==!!f)if(u.isIntersecting){const A=t(u);typeof A=="function"?o.set(u.target,A):c.unobserve(u.target)}else typeof f=="function"&&(f(u),o.delete(u.target))})},c=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof a=="number"?a:pue[a]});return i.forEach(d=>c.observe(d)),()=>c.disconnect()}function xue(e,{root:t,margin:r,amount:n,once:a=!1}={}){const[i,o]=_.useState(!1);return _.useEffect(()=>{if(!e.current||a&&i)return;const l=()=>(o(!0),a?void 0:()=>o(!1)),c={root:t&&t.current||void 0,margin:r,amount:n};return gue(e.current,l,c)},[t,e,r,a,n]),i}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MV=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...vue,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:MV("lucide",a),...l},[...o.map(([d,u])=>_.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(e,t)=>{const r=_.forwardRef(({className:n,...a},i)=>_.createElement(bue,{ref:i,iconNode:t,className:MV(`lucide-${yue(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=bt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=bt("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=bt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=bt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=bt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=bt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=bt("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=bt("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=bt("BellRing",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=bt("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=bt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=bt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=bt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=bt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=bt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=bt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=bt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=bt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=bt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=bt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=bt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=bt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=bt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=bt("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=bt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=bt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=bt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=bt("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=bt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=bt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=bt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=bt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=bt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=bt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=bt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=bt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=bt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=bt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=bt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=bt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=bt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=bt("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=bt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=bt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=bt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=bt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=bt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=bt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=bt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=bt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=bt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=bt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=bt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=bt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=bt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=bt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=bt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=bt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=bt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=bt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=bt("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=bt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=bt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=bt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=bt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=bt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=bt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=bt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=bt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=bt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=bt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=bt("Snowflake",[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=bt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=bt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=bt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=bt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=bt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=bt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=bt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=bt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=bt("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=bt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=bt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=bt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=bt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=bt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=bt("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=bt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=bt("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=bt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=bt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Wue=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[a,i]=_.useState(!1),[o,l]=_.useState(null),c="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",[d,u]=_.useState(!1),f=ro(),A=hr(),{scrollY:m}=due(),x=[{name:"Home",href:"/",icon:Pr},{name:"About",href:"/about",icon:LN},{name:"Contact",href:"/contact",icon:bn},...a?[{name:"Dashboard",href:"/dashboard",icon:Ep}]:[]];Fde(m,"change",v=>{n(v>10)}),_.useEffect(()=>{const v=()=>{const j=localStorage.getItem("authToken"),P=localStorage.getItem("user");if(i(!!j),P)try{const T=JSON.parse(P);l(T)}catch{localStorage.removeItem("user"),l(null)}else l(null)};v();const b=()=>{v()},w=()=>{i(!1),l(null)},C=()=>{v()},N=()=>{v()};return window.addEventListener("storage",b),window.addEventListener("lyvo-logout",w),window.addEventListener("lyvo-login",C),window.addEventListener("lyvo-profile-update",N),()=>{window.removeEventListener("storage",b),window.removeEventListener("lyvo-logout",w),window.removeEventListener("lyvo-login",C),window.removeEventListener("lyvo-profile-update",N)}},[]),_.useEffect(()=>{const v=b=>{d&&!b.target.closest(".user-dropdown")&&u(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[d]),_.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const g=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),i(!1),l(null),u(!1),t(!1),window.dispatchEvent(new Event("lyvo-logout")),A("/")},y=()=>{t(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-white/95 backdrop-blur-md shadow-lg border-b border-gray-100":"bg-white/90 backdrop-blur-sm"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[s.jsx(Ft,{to:"/",children:s.jsxs(J.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"flex items-center space-x-3 group cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx(J.div,{whileHover:{rotate:5,boxShadow:"0 10px 30px rgba(239, 68, 68, 0.3)"},transition:{duration:.3},className:`w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 overflow-hidden ${f.pathname==="/"?"shadow-[0_0_20px_rgba(239,68,68,0.4)]":""}`,children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx(J.div,{animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs(J.span,{whileHover:{color:"rgb(239, 68, 68)"},transition:{duration:.2},className:`text-xl lg:text-2xl font-bold transition-colors duration-300 ${f.pathname==="/"?"text-gray-900":"text-gray-900 group-hover:text-red-600"}`,children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium hidden sm:block",children:"Co-Living Platform"})]})]})}),s.jsx("div",{className:"hidden md:flex items-center space-x-1",children:x.map(v=>{const b=v.icon,w=f.pathname===v.href;return s.jsx(Ft,{to:v.href,children:s.jsxs(J.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${w?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(J.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(b,{className:`w-4 h-4 ${w?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:v.name})]}),!w&&s.jsx(J.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})},v.href)})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"hidden md:flex items-center space-x-3",children:a?s.jsxs("div",{className:"relative user-dropdown",children:[s.jsxs(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!d),className:"flex items-center space-x-3 px-4 py-2 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl hover:from-red-50 hover:to-red-100 transition-all duration-300 border border-gray-200 hover:border-red-200",title:`Hi, ${(o==null?void 0:o.name)||"User"}!`,children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border-2 border-white shadow-md",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:v=>{v.currentTarget.src=c}})}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:(o==null?void 0:o.name)||"User"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Welcome back!"})]}),s.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d?"bg-red-500":"bg-gray-400"}`})]}),d&&s.jsxs(J.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-100 py-2 z-[100]",children:[s.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-gray-200",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:v=>{v.currentTarget.src=c}})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Hi, ",(o==null?void 0:o.name)||"User","!"]}),s.jsx("p",{className:"text-xs text-gray-500",children:o==null?void 0:o.email})]})]})}),s.jsxs(Ft,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(cr,{className:"w-4 h-4 mr-3"}),"Profile"]}),s.jsxs(Ft,{to:"/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(Ep,{className:"w-4 h-4 mr-3"}),"Dashboard"]}),s.jsxs("button",{onClick:g,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx($a,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ft,{to:"/login",children:s.jsxs(J.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${f.pathname==="/login"?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(J.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(au,{className:`w-4 h-4 ${f.pathname==="/login"?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:"Sign In"})]}),f.pathname!=="/login"&&s.jsx(J.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ft,{to:"/signup",children:s.jsxs(J.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${f.pathname==="/signup"?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(J.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(Ey,{className:`w-4 h-4 ${f.pathname==="/signup"?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:"Get Started"})]}),f.pathname!=="/signup"&&s.jsx(J.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})}),s.jsx(Ft,{to:"/room-owner-signup",children:s.jsxs(J.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${f.pathname==="/room-owner-signup"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(J.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(N2,{className:`w-4 h-4 ${f.pathname==="/room-owner-signup"?"text-blue-600":"text-gray-500 group-hover:text-blue-600"}`})}),s.jsx("span",{children:"List Property"})]}),f.pathname!=="/room-owner-signup"&&s.jsx(J.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-blue-50"})]})})]})]})}),s.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 text-gray-700 hover:text-red-600 transition-all duration-300 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Toggle mobile menu","aria-expanded":e,"aria-controls":"mobile-menu",children:s.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:s.jsx("div",{className:`transition-all duration-300 ${e?"rotate-180":"rotate-0"}`,children:e?s.jsx(nr,{className:"w-6 h-6"}):s.jsx(FN,{className:"w-6 h-6"})})})})]})]})})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden transition-opacity duration-200",onClick:y,"aria-hidden":"true"}),s.jsxs("div",{id:"mobile-menu",className:`fixed top-0 right-0 h-full w-80 max-w-[90vw] sm:max-w-[85vw] bg-white shadow-2xl z-50 md:hidden transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,"aria-label":"Mobile navigation menu",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden shadow-md",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]}),s.jsx("button",{onClick:y,className:"p-2 text-gray-500 hover:text-red-600 transition-colors duration-200 rounded-lg hover:bg-red-50","aria-label":"Close mobile menu",children:s.jsx(nr,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"p-6 space-y-3",children:x.map(v=>{const b=v.icon,w=f.pathname===v.href;return s.jsxs(Ft,{to:v.href,onClick:y,className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium ${w?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(b,{className:`h-5 w-5 ${w?"text-red-600":"text-gray-500"}`}),s.jsx("span",{className:"text-base",children:v.name})]},v.href)})}),s.jsx("div",{className:"p-6 border-t border-gray-100 mt-auto",children:a?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"px-4 py-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white shadow-md",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:v=>{v.currentTarget.src=c}})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(o==null?void 0:o.name)||"User"}),s.jsx("div",{className:"text-xs text-gray-500",children:o==null?void 0:o.email})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Ft,{to:"/dashboard",onClick:y,className:"flex items-center space-x-3 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg",children:[s.jsx(Ep,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Dashboard"})]}),s.jsxs(Ft,{to:"/profile",onClick:y,className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all duration-200 font-medium",children:[s.jsx(cr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Profile"})]})]}),s.jsxs("button",{onClick:()=>{y(),g()},className:"flex items-center space-x-3 px-4 py-3 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all duration-200 font-medium w-full text-left",children:[s.jsx($a,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Logout"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ft,{to:"/login",onClick:y,className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium ${f.pathname==="/login"?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(au,{className:"h-5 w-5"}),s.jsx("span",{className:"text-base",children:"Sign In"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(Ft,{to:"/signup",onClick:y,className:`flex items-center justify-center w-full px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 space-x-2 ${f.pathname==="/signup"?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(Ey,{className:"h-4 w-4"}),s.jsx("span",{children:"Get Started"})]}),s.jsxs(Ft,{to:"/room-owner-signup",onClick:y,className:`flex items-center justify-center w-full px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 space-x-2 ${f.pathname==="/room-owner-signup"?"bg-blue-50 text-blue-600":"text-gray-700 hover:text-blue-600 hover:bg-blue-50"}`,children:[s.jsx(N2,{className:"h-4 w-4"}),s.jsx("span",{children:"List Property"})]})]})]})})]})]})},Gue=()=>{const e=[{name:"Facebook",icon:Bue,href:"#"},{name:"Twitter",icon:zue,href:"#"},{name:"Instagram",icon:Eue,href:"#"},{name:"LinkedIn",icon:Oue,href:"#"}],t=[{name:"Home",href:"/"},{name:"About Us",href:"/about"},{name:"Services",href:"/services"},{name:"Contact",href:"/contact"},{name:"Sign In",href:"/login"}],r=[{name:"Co-Living Spaces",href:"#"},{name:"Community Building",href:"#"},{name:"Events & Activities",href:"#"},{name:"24/7 Support",href:"#"},{name:"Premium Amenities",href:"#"}],n=[{name:"Privacy Policy",href:"#"},{name:"Terms of Service",href:"#"},{name:"Cookie Policy",href:"#"}];return s.jsx("footer",{className:"bg-gray-900 text-white mt-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shadow-lg overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xl font-bold",children:"Lyvo+"}),s.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Co-Living Platform"})]})]}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Empowering communities through innovative co-living solutions. Join us in creating meaningful connections and sustainable living spaces."}),s.jsx("div",{className:"flex space-x-4",children:e.map(a=>s.jsxs(Ft,{to:a.href,className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-gray-700 transition-all duration-200 group",children:[s.jsx(a.icon,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-200"}),s.jsx("span",{className:"sr-only",children:a.name})]},a.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quick Links"}),s.jsx("ul",{className:"space-y-2",children:t.map(a=>s.jsx("li",{children:s.jsx(Ft,{to:a.href,className:"text-gray-300 hover:text-red-500 transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform duration-200",children:a.name})},a.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Services"}),s.jsx("ul",{className:"space-y-2",children:r.map(a=>s.jsx("li",{children:s.jsx(Ft,{to:a.href,className:"text-gray-300 hover:text-red-500 transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform duration-200",children:a.name})},a.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Contact Us"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200",children:s.jsx(nn,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:"hello@lyvoplus.com"})]}),s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200",children:s.jsx(bn,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:"+1 (555) 123-4567"})]}),s.jsxs("div",{className:"flex items-start space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200 mt-0.5",children:s.jsx(xr,{className:"w-4 h-4 text-white"})}),s.jsxs("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:["123 Innovation Street",s.jsx("br",{}),"Tech City, TC 12345"]})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsx("div",{className:"text-gray-400 text-sm",children:" 2024 Lyvo+. All rights reserved."}),s.jsx("div",{className:"flex flex-wrap justify-center md:justify-end gap-6 text-sm",children:n.map(a=>s.jsx(Ft,{to:a.href,className:"text-gray-400 hover:text-red-500 transition-colors duration-200 hover:underline",children:a.name},a.name))})]})})]})})};function KV(e,t){return function(){return e.apply(t,arguments)}}const{toString:que}=Object.prototype,{getPrototypeOf:s6}=Object,{iterator:RN,toStringTag:WV}=Symbol,UN=(e=>t=>{const r=que.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),vc=e=>(e=e.toLowerCase(),t=>UN(t)===e),DN=e=>t=>typeof t===e,{isArray:zg}=Array,ig=DN("undefined");function Fv(e){return e!==null&&!ig(e)&&e.constructor!==null&&!ig(e.constructor)&&eo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const GV=vc("ArrayBuffer");function Yue(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&GV(e.buffer),t}const Xue=DN("string"),eo=DN("function"),qV=DN("number"),Rv=e=>e!==null&&typeof e=="object",Zue=e=>e===!0||e===!1,y1=e=>{if(UN(e)!=="object")return!1;const t=s6(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(WV in e)&&!(RN in e)},Jue=e=>{if(!Rv(e)||Fv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ehe=vc("Date"),the=vc("File"),rhe=vc("Blob"),nhe=vc("FileList"),she=e=>Rv(e)&&eo(e.pipe),ahe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||eo(e.append)&&((t=UN(e))==="formdata"||t==="object"&&eo(e.toString)&&e.toString()==="[object FormData]"))},ihe=vc("URLSearchParams"),[ohe,lhe,che,dhe]=["ReadableStream","Request","Response","Headers"].map(vc),uhe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),zg(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Fv(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function YV(e,t){if(Fv(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const rA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,XV=e=>!ig(e)&&e!==rA;function EB(){const{caseless:e,skipUndefined:t}=XV(this)&&this||{},r={},n=(a,i)=>{const o=e&&YV(r,i)||i;y1(r[o])&&y1(a)?r[o]=EB(r[o],a):y1(a)?r[o]=EB({},a):zg(a)?r[o]=a.slice():(!t||!ig(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Uv(arguments[a],n);return r}const hhe=(e,t,r,{allOwnKeys:n}={})=>(Uv(t,(a,i)=>{r&&eo(a)?e[i]=KV(a,r):e[i]=a},{allOwnKeys:n}),e),fhe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ahe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},mhe=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&s6(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},phe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},ghe=e=>{if(!e)return null;if(zg(e))return e;let t=e.length;if(!qV(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},xhe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&s6(Uint8Array)),yhe=(e,t)=>{const n=(e&&e[RN]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},vhe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},bhe=vc("HTMLFormElement"),whe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),TF=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),jhe=vc("RegExp"),ZV=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Uv(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},Nhe=e=>{ZV(e,(t,r)=>{if(eo(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(eo(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_he=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return zg(e)?n(e):n(String(e).split(t)),r},Che=()=>{},She=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Bhe(e){return!!(e&&eo(e.append)&&e[WV]==="FormData"&&e[RN])}const khe=e=>{const t=new Array(10),r=(n,a)=>{if(Rv(n)){if(t.indexOf(n)>=0)return;if(Fv(n))return n;if(!("toJSON"in n)){t[a]=n;const i=zg(n)?[]:{};return Uv(n,(o,l)=>{const c=r(o,a+1);!ig(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},Ehe=vc("AsyncFunction"),Phe=e=>e&&(Rv(e)||eo(e))&&eo(e.then)&&eo(e.catch),JV=((e,t)=>e?setImmediate:t?((r,n)=>(rA.addEventListener("message",({source:a,data:i})=>{a===rA&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),rA.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",eo(rA.postMessage)),Ihe=typeof queueMicrotask<"u"?queueMicrotask.bind(rA):typeof process<"u"&&process.nextTick||JV,The=e=>e!=null&&eo(e[RN]),We={isArray:zg,isArrayBuffer:GV,isBuffer:Fv,isFormData:ahe,isArrayBufferView:Yue,isString:Xue,isNumber:qV,isBoolean:Zue,isObject:Rv,isPlainObject:y1,isEmptyObject:Jue,isReadableStream:ohe,isRequest:lhe,isResponse:che,isHeaders:dhe,isUndefined:ig,isDate:ehe,isFile:the,isBlob:rhe,isRegExp:jhe,isFunction:eo,isStream:she,isURLSearchParams:ihe,isTypedArray:xhe,isFileList:nhe,forEach:Uv,merge:EB,extend:hhe,trim:uhe,stripBOM:fhe,inherits:Ahe,toFlatObject:mhe,kindOf:UN,kindOfTest:vc,endsWith:phe,toArray:ghe,forEachEntry:yhe,matchAll:vhe,isHTMLForm:bhe,hasOwnProperty:TF,hasOwnProp:TF,reduceDescriptors:ZV,freezeMethods:Nhe,toObjectSet:_he,toCamelCase:whe,noop:Che,toFiniteNumber:She,findKey:YV,global:rA,isContextDefined:XV,isSpecCompliantForm:Bhe,toJSONObject:khe,isAsyncFn:Ehe,isThenable:Phe,setImmediate:JV,asap:Ihe,isIterable:The};function wr(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}We.inherits(wr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:We.toJSONObject(this.config),code:this.code,status:this.status}}});const eK=wr.prototype,tK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tK[e]={value:e}});Object.defineProperties(wr,tK);Object.defineProperty(eK,"isAxiosError",{value:!0});wr.from=(e,t,r,n,a,i)=>{const o=Object.create(eK);We.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return wr.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Ohe=null;function PB(e){return We.isPlainObject(e)||We.isArray(e)}function rK(e){return We.endsWith(e,"[]")?e.slice(0,-2):e}function OF(e,t,r){return e?e.concat(t).map(function(a,i){return a=rK(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function Lhe(e){return We.isArray(e)&&!e.some(PB)}const Fhe=We.toFlatObject(We,{},null,function(t){return/^is[A-Z]/.test(t)});function MN(e,t,r){if(!We.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=We.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!We.isUndefined(y[g])});const n=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&We.isSpecCompliantForm(t);if(!We.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(We.isDate(x))return x.toISOString();if(We.isBoolean(x))return x.toString();if(!c&&We.isBlob(x))throw new wr("Blob is not supported. Use a Buffer instead.");return We.isArrayBuffer(x)||We.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,g,y){let v=x;if(x&&!y&&typeof x=="object"){if(We.endsWith(g,"{}"))g=n?g:g.slice(0,-2),x=JSON.stringify(x);else if(We.isArray(x)&&Lhe(x)||(We.isFileList(x)||We.endsWith(g,"[]"))&&(v=We.toArray(x)))return g=rK(g),v.forEach(function(w,C){!(We.isUndefined(w)||w===null)&&t.append(o===!0?OF([g],C,i):o===null?g:g+"[]",d(w))}),!1}return PB(x)?!0:(t.append(OF(y,g,i),d(x)),!1)}const f=[],A=Object.assign(Fhe,{defaultVisitor:u,convertValue:d,isVisitable:PB});function m(x,g){if(!We.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(x),We.forEach(x,function(v,b){(!(We.isUndefined(v)||v===null)&&a.call(t,v,We.isString(b)?b.trim():b,g,A))===!0&&m(v,g?g.concat(b):[b])}),f.pop()}}if(!We.isObject(e))throw new TypeError("data must be an object");return m(e),t}function LF(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function a6(e,t){this._pairs=[],e&&MN(e,this,t)}const nK=a6.prototype;nK.append=function(t,r){this._pairs.push([t,r])};nK.toString=function(t){const r=t?function(n){return t.call(this,n,LF)}:LF;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Rhe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sK(e,t,r){if(!t)return e;const n=r&&r.encode||Rhe;We.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=We.isURLSearchParams(t)?t.toString():new a6(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class FF{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){We.forEach(this.handlers,function(n){n!==null&&t(n)})}}const aK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uhe=typeof URLSearchParams<"u"?URLSearchParams:a6,Dhe=typeof FormData<"u"?FormData:null,Mhe=typeof Blob<"u"?Blob:null,Qhe={isBrowser:!0,classes:{URLSearchParams:Uhe,FormData:Dhe,Blob:Mhe},protocols:["http","https","file","blob","url","data"]},i6=typeof window<"u"&&typeof document<"u",IB=typeof navigator=="object"&&navigator||void 0,$he=i6&&(!IB||["ReactNative","NativeScript","NS"].indexOf(IB.product)<0),Hhe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zhe=i6&&window.location.href||"http://localhost",Vhe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:i6,hasStandardBrowserEnv:$he,hasStandardBrowserWebWorkerEnv:Hhe,navigator:IB,origin:zhe},Symbol.toStringTag,{value:"Module"})),ui={...Vhe,...Qhe};function Khe(e,t){return MN(e,new ui.classes.URLSearchParams,{visitor:function(r,n,a,i){return ui.isNode&&We.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Whe(e){return We.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ghe(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function iK(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&We.isArray(a)?a.length:o,c?(We.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!We.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&We.isArray(a[o])&&(a[o]=Ghe(a[o])),!l)}if(We.isFormData(e)&&We.isFunction(e.entries)){const r={};return We.forEachEntry(e,(n,a)=>{t(Whe(n),a,r,0)}),r}return null}function qhe(e,t,r){if(We.isString(e))try{return(t||JSON.parse)(e),We.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Dv={transitional:aK,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=We.isObject(t);if(i&&We.isHTMLForm(t)&&(t=new FormData(t)),We.isFormData(t))return a?JSON.stringify(iK(t)):t;if(We.isArrayBuffer(t)||We.isBuffer(t)||We.isStream(t)||We.isFile(t)||We.isBlob(t)||We.isReadableStream(t))return t;if(We.isArrayBufferView(t))return t.buffer;if(We.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Khe(t,this.formSerializer).toString();if((l=We.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return MN(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),qhe(t)):t}],transformResponse:[function(t){const r=this.transitional||Dv.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(We.isResponse(t)||We.isReadableStream(t))return t;if(t&&We.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?wr.from(l,wr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};We.forEach(["delete","get","head","post","put","patch"],e=>{Dv.headers[e]={}});const Yhe=We.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xhe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&Yhe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},RF=Symbol("internals");function U0(e){return e&&String(e).trim().toLowerCase()}function v1(e){return e===!1||e==null?e:We.isArray(e)?e.map(v1):String(e)}function Zhe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Jhe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pC(e,t,r,n,a){if(We.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!We.isString(t)){if(We.isString(n))return t.indexOf(n)!==-1;if(We.isRegExp(n))return n.test(t)}}function efe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function tfe(e,t){const r=We.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let to=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,d){const u=U0(c);if(!u)throw new Error("header name must be a non-empty string");const f=We.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=v1(l))}const o=(l,c)=>We.forEach(l,(d,u)=>i(d,u,c));if(We.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(We.isString(t)&&(t=t.trim())&&!Jhe(t))o(Xhe(t),r);else if(We.isObject(t)&&We.isIterable(t)){let l={},c,d;for(const u of t){if(!We.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?We.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=U0(t),t){const n=We.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Zhe(a);if(We.isFunction(r))return r.call(this,a,n);if(We.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=U0(t),t){const n=We.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||pC(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=U0(o),o){const l=We.findKey(n,o);l&&(!r||pC(n,n[l],l,r))&&(delete n[l],a=!0)}}return We.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||pC(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return We.forEach(this,(a,i)=>{const o=We.findKey(n,i);if(o){r[o]=v1(a),delete r[i];return}const l=t?efe(i):String(i).trim();l!==i&&delete r[i],r[l]=v1(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return We.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&We.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[RF]=this[RF]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=U0(o);n[l]||(tfe(a,o),n[l]=!0)}return We.isArray(t)?t.forEach(i):i(t),this}};to.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);We.reduceDescriptors(to.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});We.freezeMethods(to);function gC(e,t){const r=this||Dv,n=t||r,a=to.from(n.headers);let i=n.data;return We.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function oK(e){return!!(e&&e.__CANCEL__)}function Vg(e,t,r){wr.call(this,e??"canceled",wr.ERR_CANCELED,t,r),this.name="CanceledError"}We.inherits(Vg,wr,{__CANCEL__:!0});function lK(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new wr("Request failed with status code "+r.status,[wr.ERR_BAD_REQUEST,wr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function rfe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function nfe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[i];o||(o=d),r[a]=c,n[a]=d;let f=i,A=0;for(;f!==a;)A+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const m=u&&d-u;return m?Math.round(A*1e3/m):void 0}}function sfe(e,t){let r=0,n=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=n?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-f)))},()=>a&&o(a)]}const _2=(e,t,r=3)=>{let n=0;const a=nfe(50,250);return sfe(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=a(c),u=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},UF=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},DF=e=>(...t)=>We.asap(()=>e(...t)),afe=ui.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ui.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ui.origin),ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent)):()=>!0,ife=ui.hasStandardBrowserEnv?{write(e,t,r,n,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];We.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),We.isString(n)&&l.push(`path=${n}`),We.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),We.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ofe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function lfe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cK(e,t,r){let n=!ofe(t);return e&&(n||r==!1)?lfe(e,t):t}const MF=e=>e instanceof to?{...e}:e;function FA(e,t){t=t||{};const r={};function n(d,u,f,A){return We.isPlainObject(d)&&We.isPlainObject(u)?We.merge.call({caseless:A},d,u):We.isPlainObject(u)?We.merge({},u):We.isArray(u)?u.slice():u}function a(d,u,f,A){if(We.isUndefined(u)){if(!We.isUndefined(d))return n(void 0,d,f,A)}else return n(d,u,f,A)}function i(d,u){if(!We.isUndefined(u))return n(void 0,u)}function o(d,u){if(We.isUndefined(u)){if(!We.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,f){if(f in t)return n(d,u);if(f in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>a(MF(d),MF(u),f,!0)};return We.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||a,A=f(e[u],t[u],u);We.isUndefined(A)&&f!==l||(r[u]=A)}),r}const dK=e=>{const t=FA({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=to.from(o),t.url=sK(cK(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),We.isFormData(r)){if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(We.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&o.set(u,f)})}}if(ui.hasStandardBrowserEnv&&(n&&We.isFunction(n)&&(n=n(t)),n||n!==!1&&afe(t.url))){const c=a&&i&&ife.read(i);c&&o.set(a,c)}return t},cfe=typeof XMLHttpRequest<"u",dfe=cfe&&function(e){return new Promise(function(r,n){const a=dK(e);let i=a.data;const o=to.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,f,A,m,x;function g(){m&&m(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function v(){if(!y)return;const w=to.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};lK(function(P){r(P),g()},function(P){n(P),g()},N),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(n(new wr("Request aborted",wr.ECONNABORTED,e,y)),y=null)},y.onerror=function(C){const N=C&&C.message?C.message:"Network Error",j=new wr(N,wr.ERR_NETWORK,e,y);j.event=C||null,n(j),y=null},y.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||aK;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),n(new wr(C,N.clarifyTimeoutError?wr.ETIMEDOUT:wr.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&We.forEach(o.toJSON(),function(C,N){y.setRequestHeader(N,C)}),We.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),l&&l!=="json"&&(y.responseType=a.responseType),d&&([A,x]=_2(d,!0),y.addEventListener("progress",A)),c&&y.upload&&([f,m]=_2(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(u=w=>{y&&(n(!w||w.type?new Vg(null,e,y):w),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const b=rfe(a.url);if(b&&ui.protocols.indexOf(b)===-1){n(new wr("Unsupported protocol "+b+":",wr.ERR_BAD_REQUEST,e));return}y.send(i||null)})},ufe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof wr?u:new Vg(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new wr(`timeout ${t} of ms exceeded`,wr.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>We.asap(l),c}},hfe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},ffe=async function*(e,t){for await(const r of Afe(e))yield*hfe(r,t)},Afe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},QF=(e,t,r,n)=>{const a=ffe(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let A=i+=f;r(A)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},$F=64*1024,{isFunction:Xb}=We,mfe=(({Request:e,Response:t})=>({Request:e,Response:t}))(We.global),{ReadableStream:HF,TextEncoder:zF}=We.global,VF=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pfe=e=>{e=We.merge.call({skipUndefined:!0},mfe,e);const{fetch:t,Request:r,Response:n}=e,a=t?Xb(t):typeof fetch=="function",i=Xb(r),o=Xb(n);if(!a)return!1;const l=a&&Xb(HF),c=a&&(typeof zF=="function"?(x=>g=>x.encode(g))(new zF):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=i&&l&&VF(()=>{let x=!1;const g=new r(ui.origin,{body:new HF,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!g}),u=o&&l&&VF(()=>We.isReadableStream(new n("").body)),f={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(g,y)=>{let v=g&&g[x];if(v)return v.call(g);throw new wr(`Response type '${x}' is not supported`,wr.ERR_NOT_SUPPORT,y)})});const A=async x=>{if(x==null)return 0;if(We.isBlob(x))return x.size;if(We.isSpecCompliantForm(x))return(await new r(ui.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(We.isArrayBufferView(x)||We.isArrayBuffer(x))return x.byteLength;if(We.isURLSearchParams(x)&&(x=x+""),We.isString(x))return(await c(x)).byteLength},m=async(x,g)=>{const y=We.toFiniteNumber(x.getContentLength());return y??A(g)};return async x=>{let{url:g,method:y,data:v,signal:b,cancelToken:w,timeout:C,onDownloadProgress:N,onUploadProgress:j,responseType:P,headers:k,withCredentials:T="same-origin",fetchOptions:O}=dK(x),B=t||fetch;P=P?(P+"").toLowerCase():"text";let F=ufe([b,w&&w.toAbortSignal()],C),M=null;const R=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let H;try{if(j&&d&&y!=="get"&&y!=="head"&&(H=await m(k,v))!==0){let K=new r(g,{method:"POST",body:v,duplex:"half"}),z;if(We.isFormData(v)&&(z=K.headers.get("content-type"))&&k.setContentType(z),K.body){const[ee,W]=UF(H,_2(DF(j)));v=QF(K.body,$F,ee,W)}}We.isString(T)||(T=T?"include":"omit");const G=i&&"credentials"in r.prototype,$={...O,signal:F,method:y.toUpperCase(),headers:k.normalize().toJSON(),body:v,duplex:"half",credentials:G?T:void 0};M=i&&new r(g,$);let V=await(i?B(M,O):B(g,$));const te=u&&(P==="stream"||P==="response");if(u&&(N||te&&R)){const K={};["status","statusText","headers"].forEach(ne=>{K[ne]=V[ne]});const z=We.toFiniteNumber(V.headers.get("content-length")),[ee,W]=N&&UF(z,_2(DF(N),!0))||[];V=new n(QF(V.body,$F,ee,()=>{W&&W(),R&&R()}),K)}P=P||"text";let re=await f[We.findKey(f,P)||"text"](V,x);return!te&&R&&R(),await new Promise((K,z)=>{lK(K,z,{data:re,headers:to.from(V.headers),status:V.status,statusText:V.statusText,config:x,request:M})})}catch(G){throw R&&R(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new wr("Network Error",wr.ERR_NETWORK,x,M),{cause:G.cause||G}):wr.from(G,G&&G.code,x,M)}}},gfe=new Map,uK=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,l=o,c,d,u=gfe;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:pfe(t)),u=d;return d};uK();const o6={http:Ohe,xhr:dfe,fetch:{get:uK}};We.forEach(o6,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const KF=e=>`- ${e}`,xfe=e=>We.isFunction(e)||e===null||e===!1;function yfe(e,t){e=We.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!xfe(n)&&(a=o6[(l=String(n)).toLowerCase()],a===void 0))throw new wr(`Unknown adapter '${l}'`);if(a&&(We.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(KF).join(`
`):" "+KF(o[0]):"as no adapter specified";throw new wr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const hK={getAdapter:yfe,adapters:o6};function xC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vg(null,e)}function WF(e){return xC(e),e.headers=to.from(e.headers),e.data=gC.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hK.getAdapter(e.adapter||Dv.adapter,e)(e).then(function(n){return xC(e),n.data=gC.call(e,e.transformResponse,n),n.headers=to.from(n.headers),n},function(n){return oK(n)||(xC(e),n&&n.response&&(n.response.data=gC.call(e,e.transformResponse,n.response),n.response.headers=to.from(n.response.headers))),Promise.reject(n)})}const fK="1.13.2",QN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{QN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const GF={};QN.transitional=function(t,r,n){function a(i,o){return"[Axios v"+fK+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new wr(a(o," has been removed"+(r?" in "+r:"")),wr.ERR_DEPRECATED);return r&&!GF[o]&&(GF[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};QN.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function vfe(e,t,r){if(typeof e!="object")throw new wr("options must be an object",wr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new wr("option "+i+" must be "+c,wr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new wr("Unknown option "+i,wr.ERR_BAD_OPTION)}}const b1={assertOptions:vfe,validators:QN},Rc=b1.validators;let pA=class{constructor(t){this.defaults=t||{},this.interceptors={request:new FF,response:new FF}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=FA(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&b1.assertOptions(n,{silentJSONParsing:Rc.transitional(Rc.boolean),forcedJSONParsing:Rc.transitional(Rc.boolean),clarifyTimeoutError:Rc.transitional(Rc.boolean)},!1),a!=null&&(We.isFunction(a)?r.paramsSerializer={serialize:a}:b1.assertOptions(a,{encode:Rc.function,serialize:Rc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),b1.assertOptions(r,{baseUrl:Rc.spelling("baseURL"),withXsrfToken:Rc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&We.merge(i.common,i[r.method]);i&&We.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=to.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,f=0,A;if(!c){const x=[WF.bind(this),void 0];for(x.unshift(...l),x.push(...d),A=x.length,u=Promise.resolve(r);f<A;)u=u.then(x[f++],x[f++]);return u}A=l.length;let m=r;for(;f<A;){const x=l[f++],g=l[f++];try{m=x(m)}catch(y){g.call(this,y);break}}try{u=WF.call(this,m)}catch(x){return Promise.reject(x)}for(f=0,A=d.length;f<A;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=FA(this.defaults,t);const r=cK(t.baseURL,t.url,t.allowAbsoluteUrls);return sK(r,t.params,t.paramsSerializer)}};We.forEach(["delete","get","head","options"],function(t){pA.prototype[t]=function(r,n){return this.request(FA(n||{},{method:t,url:r,data:(n||{}).data}))}});We.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(FA(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}pA.prototype[t]=r(),pA.prototype[t+"Form"]=r(!0)});let bfe=class AK{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Vg(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new AK(function(a){t=a}),cancel:t}}};function wfe(e){return function(r){return e.apply(null,r)}}function jfe(e){return We.isObject(e)&&e.isAxiosError===!0}const TB={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(TB).forEach(([e,t])=>{TB[t]=e});function mK(e){const t=new pA(e),r=KV(pA.prototype.request,t);return We.extend(r,pA.prototype,t,{allOwnKeys:!0}),We.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return mK(FA(e,a))},r}const Bn=mK(Dv);Bn.Axios=pA;Bn.CanceledError=Vg;Bn.CancelToken=bfe;Bn.isCancel=oK;Bn.VERSION=fK;Bn.toFormData=MN;Bn.AxiosError=wr;Bn.Cancel=Bn.CanceledError;Bn.all=function(t){return Promise.all(t)};Bn.spread=wfe;Bn.isAxiosError=jfe;Bn.mergeConfig=FA;Bn.AxiosHeaders=to;Bn.formToJSON=e=>iK(We.isHTMLForm(e)?new FormData(e):e);Bn.getAdapter=hK.getAdapter;Bn.HttpStatusCode=TB;Bn.default=Bn;const{Axios:aet,AxiosError:iet,CanceledError:oet,isCancel:cet,CancelToken:det,VERSION:uet,all:het,Cancel:fet,isAxiosError:Aet,spread:met,toFormData:pet,AxiosHeaders:get,HttpStatusCode:xet,formToJSON:yet,getAdapter:vet,mergeConfig:bet}=Bn;let gA="http://localhost:5000/api";gA.endsWith("/")&&(gA=gA.slice(0,-1));gA.endsWith("/api")||(gA=`${gA}/api`);const qe=Bn.create({baseURL:gA,withCredentials:!0,timeout:1e4});qe.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));class Nfe{constructor(){this.isInitialized=!1,this.apiKey=null,this.apiUrl="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",this.fallbackResponses=this.buildFallbackResponses()}buildFallbackResponses(){return{pricing:["Our rooms start from 8,000/month for shared spaces and 15,000/month for single rooms. All prices include WiFi, utilities, and basic amenities!","Pricing depends on location and room type. Single rooms range from 12,000-25,000/month, while shared spaces start at 8,000/month. We offer great value for money!","We have flexible pricing options! Single rooms: 12,000-25,000/month, Shared rooms: 8,000-15,000/month. All inclusive of utilities and amenities."],locations:["We have properties in prime locations across multiple cities. Our properties are strategically positioned in the best neighborhoods with easy access to business districts and residential areas!","Our properties are located in prime areas across different cities. We have multiple locations including city centers, business districts, and residential neighborhoods.","We operate in multiple cities with properties in prime locations. Each property is carefully selected for its accessibility and neighborhood quality."],amenities:["All our properties include: High-speed WiFi, 24/7 security, housekeeping, laundry facilities, common kitchen, and co-working spaces. Some locations also have gyms and cafeterias!","Standard amenities: WiFi, security, cleaning, kitchen access, and common areas. Premium locations include gyms, cafeterias, gaming rooms, and rooftop spaces.","We provide WiFi, security, housekeeping, shared kitchens, study areas, and common lounges. Premium properties also feature gyms, cafeterias, and recreational facilities."],booking:["To book a room: 1) Browse our listings, 2) Schedule a virtual or in-person tour, 3) Complete the application form, 4) Sign the digital agreement. The process takes 2-3 days!","Booking is simple! Visit any room listing, click 'Book Now', fill the application, and we'll get back within 24 hours. You can also schedule a tour first.","Our booking process: Select a room  Schedule tour  Submit application  Digital agreement  Move in! We typically process applications within 48 hours."],roommate:["We use AI-powered compatibility matching based on lifestyle, work schedule, cleanliness preferences, and interests. You can also specify gender preferences and age range.","Our roommate matching considers work schedules, lifestyle habits, cleanliness standards, and personal interests. We ensure compatible living arrangements for everyone.","We match roommates using advanced algorithms that consider lifestyle compatibility, work schedules, and personal preferences. You can also choose your own roommates if you prefer."],security:["All properties have 24/7 security, CCTV cameras, secure entry systems, and verified property owners. We also conduct background checks on all residents.","Security features include: 24/7 guards, CCTV surveillance, secure access cards, and emergency response systems. All property owners are background-verified.","Your safety is our priority! We provide 24/7 security, surveillance systems, secure access, and verified property owners. All residents undergo background verification."],payment:["We accept online payments via UPI, cards, and net banking. Rent is typically paid monthly, and we offer flexible payment plans. No hidden charges!","Payment options: UPI, credit/debit cards, net banking, and digital wallets. Rent is due monthly, and we provide transparent billing for all utilities.","Payments can be made online through our secure portal. We accept UPI, cards, and net banking. Monthly rent includes utilities with no hidden costs."],support:["Our support team is available 24/7 via chat, phone (+91 98765 43210), or email (support@lyvoplus.com). We typically respond within 2 hours!","You can reach us anytime at support@lyvoplus.com or call +91 98765 43210. Our team responds within 2 hours and is available 24/7.","24/7 support available! Contact us at support@lyvoplus.com or +91 98765 43210. We also have in-app chat support for immediate assistance."],greeting:["Hello! Welcome to Lyvo+. I'm here to help you find your perfect co-living space!","Hi there! Ready to discover amazing co-living opportunities?","Welcome to Lyvo+! Let's find you the ideal living space with great roommates."],default:["I'm here to help with co-living questions! You can ask about pricing, locations, amenities, booking process, roommate matching, security, payments, or support.","I can assist with finding rooms, understanding our services, booking process, roommate matching, and general inquiries. What would you like to know?","Feel free to ask about our co-living spaces, pricing, locations, amenities, booking process, or any other questions about Lyvo+!"]}}async initialize(){try{if(console.log("Initializing Google Gemini Pro AI Service..."),this.apiKey="AIzaSyBctLbHMKEWiFsmnrTPJUVaLe3OMkHLtaM",!this.apiKey)throw new Error("Google Gemini API key not found");await this.testConnectionWithRetry(),this.isInitialized=!0,console.log("Google Gemini Pro AI Service initialized successfully")}catch(t){console.error("Failed to initialize Gemini AI Service:",t),console.log(" AI Service will use fallback responses due to initialization failure"),this.isInitialized=!1}}async testConnectionWithRetry(){for(let n=1;n<=2;n++)try{console.log(` Testing Gemini API connection (attempt ${n}/2)`);const a=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"test"}]}]})});if(a.ok){console.log(" Gemini API connection test successful");return}else if(a.status===429&&(console.warn(` Rate limit hit (429). Attempt ${n}/2`),n<2)){const i=5e3*n;console.log(` Waiting ${i}ms before retry...`),await new Promise(o=>setTimeout(o,i));continue}throw new Error(`API test failed: ${a.status}`)}catch(a){if(console.error(` Gemini API connection test failed (attempt ${n}):`,a),n===2)throw console.warn(" All retry attempts failed. AI service will use fallback responses."),a;if(a.message.includes("429")){const i=5e3*n;console.log(` Rate limit detected. Waiting ${i}ms before retry...`),await new Promise(o=>setTimeout(o,i))}}}async testConnection(){try{const t=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Hello, respond with 'Connection successful'"}]}]})});if(!t.ok)throw new Error(`API test failed: ${t.status}`);console.log("Gemini API connection test successful")}catch(t){throw console.error("Gemini API connection test failed:",t),t}}async getChatResponse(t,r="gemini-2.5-flash"){var n,a;if(!this.isInitialized){console.log(" Initializing AI service...");try{await this.initialize()}catch{console.log(" AI service initialization failed, using fallback responses")}}if(!this.isInitialized){console.log(" Using fallback responses due to AI service unavailability");const i=((n=t[t.length-1])==null?void 0:n.content)||"",o=this.getFallbackResponse(i);return console.log(" Fallback response:",o),o}try{console.log(" Processing message with Google Gemini 2.5 Flash:",{model:r,messageCount:t.length});const i=await this.callGeminiAPI(t);return console.log(" Gemini 2.5 Flash Response generated"),i}catch(i){console.error(" Error getting Gemini response:",i),console.log(" Falling back to local responses");const o=((a=t[t.length-1])==null?void 0:a.content)||"",l=this.getFallbackResponse(o);return console.log(" Fallback response:",l),l}}async fetchProjectData(){try{console.log(" Fetching project data from database...");const r=(await qe.get("/property/public/properties")).data;return console.log(" Project data fetched:",r),this.transformPropertyData(r)}catch(t){return console.warn(" Error fetching project data:",t),this.getFallbackProjectData()}}transformPropertyData(t){try{const r=t.properties||[],n=[...new Set(r.map(l=>{var c;return(c=l.address)==null?void 0:c.city}).filter(Boolean))],i=r.map(l=>{const c=l.rooms||[];if(c.length===0)return null;const d=c.map(u=>u.rent).filter(Boolean);return d.length===0?null:{min:Math.min(...d),max:Math.max(...d)}}).filter(Boolean).flatMap(l=>[l.min,l.max]),o=i.length>0?`${Math.min(...i).toLocaleString()}-${Math.max(...i).toLocaleString()}`:"Flexible pricing";return{properties:r.slice(0,5).map(l=>{var c;return{id:l._id,name:l.property_name,location:((c=l.address)==null?void 0:c.city)||"Multiple cities",price:this.getPriceRange(l.rooms),type:this.getRoomTypes(l.rooms),amenities:this.getAmenities(l.rooms)}}),cities:n.length>0?n:["Multiple cities"],totalProperties:r.length,averagePrice:o}}catch(r){return console.error("Error transforming property data:",r),this.getFallbackProjectData()}}getPriceRange(t){if(!t||t.length===0)return"Contact for pricing";const r=t.map(i=>i.rent).filter(Boolean);if(r.length===0)return"Contact for pricing";const n=Math.min(...r),a=Math.max(...r);return n===a?`${n.toLocaleString()}`:`${n.toLocaleString()}-${a.toLocaleString()}`}getRoomTypes(t){return!t||t.length===0?"Various types":[...new Set(t.map(n=>n.room_type))].join(", ")}getAmenities(t){if(!t||t.length===0)return["WiFi","Security"];const r=new Set;return t.forEach(n=>{n.amenities&&Object.keys(n.amenities).forEach(a=>{n.amenities[a]&&r.add(a.charAt(0).toUpperCase()+a.slice(1))})}),Array.from(r).slice(0,5)}getFallbackProjectData(){return{properties:[{id:1,name:"Lyvo+ Premium",location:"Prime Location",price:"15,000-25,000",type:"Single Room",amenities:["WiFi","Security","Kitchen","Laundry"]},{id:2,name:"Lyvo+ Shared",location:"Downtown Area",price:"8,000-12,000",type:"Shared Room",amenities:["WiFi","Security","Common Area"]},{id:3,name:"Lyvo+ Studio",location:"City Center",price:"20,000-30,000",type:"Studio",amenities:["WiFi","Security","AC","Private Bathroom"]}],cities:["Multiple Cities"],totalProperties:"50+",averagePrice:"10,000-25,000"}}async callGeminiAPI(t){var r,n,a;try{console.log(" Calling Gemini API...");const i=await this.fetchProjectData(),o=`You are Lyvo+ Assistant, a helpful AI assistant for a co-living platform called Lyvo+. 

About Lyvo+:
- We provide co-living spaces (PG accommodations) across multiple cities
- We offer various room types with flexible pricing options
- All prices include WiFi, utilities, and basic amenities
- We have properties in prime locations across different cities
- We provide 24/7 security, housekeeping, common kitchens, co-working spaces
- Some premium locations have gyms, cafeterias, gaming rooms
- We use AI-powered roommate matching based on lifestyle compatibility
- Booking process: Browse  Tour  Apply  Digital Agreement  Move in
- Support available 24/7 at support@lyvoplus.com

Current Project Data:
- Total Properties: ${i.totalProperties||"Multiple"}
- Price Range: ${i.averagePrice||"Flexible pricing"}
- Available Cities: ${((r=i.cities)==null?void 0:r.join(", "))||"Multiple cities"}
- Property Types: Single rooms, Shared rooms, Premium suites

Sample Properties:
${((n=i.properties)==null?void 0:n.slice(0,3).map(A=>`- ${A.name} (${A.type}): ${A.price} in ${A.location}`).join(`
`))||"- Various properties available"}

Guidelines:
- Be friendly, helpful, and professional
- Focus on co-living, room rentals, and PG accommodations
- Provide accurate information about our services using the project data above
- If asked about topics outside co-living, politely redirect to our services
- Keep responses concise but informative (max 200 words)
- Always be encouraging about our co-living community
- Use the provided project data to give accurate pricing and location information`,l=((a=t[t.length-1])==null?void 0:a.content)||"",c=`${o}

User Question: ${l}`;console.log(" Sending request to Gemini API...");const d=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:200}})});if(console.log(" Gemini API response status:",d.status),!d.ok){const A=await d.text();throw console.error(" Gemini API error response:",A),new Error(`Gemini API error: ${d.status} ${d.statusText}`)}const u=await d.json();if(console.log(" Gemini API response data:",u),!u.candidates||!u.candidates[0]||!u.candidates[0].content)throw new Error("Invalid response format from Gemini API");const f=u.candidates[0].content.parts[0].text;return console.log(" Final AI response:",f),f}catch(i){throw console.error(" Gemini API call failed:",i),i}}getFallbackResponse(t){const r=t.toLowerCase();return r.includes("price")||r.includes("cost")||r.includes("rent")||r.includes("fee")||r.includes("expensive")||r.includes("cheap")?this.getRandomResponse("pricing"):r.includes("location")||r.includes("area")||r.includes("where")||r.includes("place")||r.includes("bangalore")||r.includes("koramangala")||r.includes("hsr")?this.getRandomResponse("locations"):r.includes("amenity")||r.includes("facility")||r.includes("wifi")||r.includes("gym")||r.includes("kitchen")||r.includes("security")||r.includes("laundry")?this.getRandomResponse("amenities"):r.includes("book")||r.includes("apply")||r.includes("reserve")||r.includes("process")||r.includes("how to")||r.includes("procedure")?this.getRandomResponse("booking"):r.includes("roommate")||r.includes("flatmate")||r.includes("match")||r.includes("compatibility")||r.includes("sharing")?this.getRandomResponse("roommate"):r.includes("security")||r.includes("safe")||r.includes("guard")||r.includes("cctv")||r.includes("safety")?this.getRandomResponse("security"):r.includes("payment")||r.includes("pay")||r.includes("upi")||r.includes("card")||r.includes("money")||r.includes("billing")?this.getRandomResponse("payment"):r.includes("support")||r.includes("help")||r.includes("contact")||r.includes("call")||r.includes("assistance")?this.getRandomResponse("support"):r.includes("hello")||r.includes("hi")||r.includes("hey")||r.includes("good morning")||r.includes("good afternoon")||r.includes("good evening")?this.getRandomResponse("greeting"):this.getRandomResponse("default")}getRandomResponse(t){const r=this.fallbackResponses[t]||this.fallbackResponses.default;return r[Math.floor(Math.random()*r.length)]}async getLyvoAssistantResponse(t){try{console.log(" Getting AI response for:",t);const r=await this.getChatResponse([{role:"user",content:t}]);return console.log(" AI Response received:",r),r}catch(r){return console.error(" Error getting Lyvo assistant response:",r),console.log(" Falling back to demo response"),"I'm sorry, I'm having trouble right now. Please try again later or contact our support team at support@lyvoplus.com for immediate assistance."}}}const qF=new Nfe,pK=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[a,i]=_.useState(!1),[o,l]=_.useState([{id:1,type:"bot",content:"Hi! I'm Lyvo+ Assistant. I can help you find the perfect co-living space, answer questions about our services, or assist with bookings. How can I help you today?",timestamp:new Date}]),[c,d]=_.useState(""),[u,f]=_.useState(!1),[A,m]=_.useState("idle"),[x,g]=_.useState(""),y=_.useRef(null),v=()=>{var T;(T=y.current)==null||T.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{v()},[o]),_.useEffect(()=>{e&&A==="idle"&&(async()=>{m("initializing");try{await qF.initialize(),m("ready")}catch(O){console.error("Failed to initialize AI service:",O),m("error"),g("AI service unavailable. Using fallback responses.")}})()},[e,A]),_.useEffect(()=>{const T=O=>{r&&!O.target.closest(".chatbot-menu")&&k()};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[r]);const b={greeting:["Hello! Welcome to Lyvo+. I'm here to help you find your perfect co-living space!","Hi there! Ready to discover amazing co-living opportunities?","Welcome to Lyvo+! Let's find you the ideal living space with great roommates."],pricing:["Our rooms start from 8,000/month for shared spaces and 15,000/month for single rooms. Prices vary by location and amenities. Would you like to see our current listings?","Pricing depends on location, room type, and amenities. Single rooms range from 12,000-25,000/month, while shared spaces start at 8,000/month. All prices include utilities!","We offer flexible pricing options! Single rooms: 12,000-25,000/month, Shared rooms: 8,000-15,000/month. All inclusive of WiFi, utilities, and basic amenities."],locations:["We have properties in prime locations across Bangalore: Koramangala, Indiranagar, HSR Layout, Whitefield, and Electronic City. Which area interests you?","Our properties are strategically located in Bangalore's best neighborhoods. We have 50+ locations including Koramangala, Indiranagar, HSR Layout, and more!","Currently, we operate in Bangalore with plans to expand to Mumbai, Delhi, and Hyderabad. Our Bangalore locations include all major tech hubs and residential areas."],amenities:["All our properties include: High-speed WiFi, 24/7 security, housekeeping, laundry facilities, common kitchen, and co-working spaces. Some locations also have gyms and cafeterias!","Standard amenities: WiFi, security, cleaning, kitchen access, and common areas. Premium locations include gyms, cafeterias, gaming rooms, and rooftop spaces.","We provide WiFi, security, housekeeping, shared kitchens, study areas, and common lounges. Premium properties also feature gyms, cafeterias, and recreational facilities."],booking:["To book a room, you can: 1) Browse our listings, 2) Schedule a virtual or in-person tour, 3) Complete the application form, 4) Sign the digital agreement. The process takes 2-3 days!","Booking is simple! Visit any room listing, click 'Book Now', fill the application, and we'll get back within 24 hours. You can also schedule a tour first.","Our booking process: Select a room  Schedule tour  Submit application  Digital agreement  Move in! We typically process applications within 48 hours."],roommate:["We use AI-powered compatibility matching based on lifestyle, work schedule, cleanliness preferences, and interests. You can also specify gender preferences and age range.","Our roommate matching considers work schedules, lifestyle habits, cleanliness standards, and personal interests. We ensure compatible living arrangements for everyone.","We match roommates using advanced algorithms that consider lifestyle compatibility, work schedules, and personal preferences. You can also choose your own roommates if you prefer."],security:["All properties have 24/7 security, CCTV cameras, secure entry systems, and verified property owners. We also conduct background checks on all residents.","Security features include: 24/7 guards, CCTV surveillance, secure access cards, and emergency response systems. All property owners are background-verified.","Your safety is our priority! We provide 24/7 security, surveillance systems, secure access, and verified property owners. All residents undergo background verification."],payment:["We accept online payments via UPI, cards, and net banking. Rent is typically paid monthly, and we offer flexible payment plans. No hidden charges!","Payment options: UPI, credit/debit cards, net banking, and digital wallets. Rent is due monthly, and we provide transparent billing for all utilities.","Payments can be made online through our secure portal. We accept UPI, cards, and net banking. Monthly rent includes utilities with no hidden costs."],support:["Our support team is available 24/7 via chat, phone (+91 98765 43210), or email (support@lyvoplus.com). We typically respond within 2 hours!","You can reach us anytime at support@lyvoplus.com or call +91 98765 43210. Our team responds within 2 hours and is available 24/7.","24/7 support available! Contact us at support@lyvoplus.com or +91 98765 43210. We also have in-app chat support for immediate assistance."],default:["I'm here to help with co-living questions! You can ask about pricing, locations, amenities, booking process, roommate matching, security, payments, or support.","I can assist with finding rooms, understanding our services, booking process, roommate matching, and general inquiries. What would you like to know?","Feel free to ask about our co-living spaces, pricing, locations, amenities, booking process, or any other questions about Lyvo+!"]},w=[{text:"What are your room prices?",category:"pricing"},{text:"Where are your properties located?",category:"locations"},{text:"What amenities do you provide?",category:"amenities"},{text:"How do I book a room?",category:"booking"},{text:"How do you match roommates?",category:"roommate"},{text:"What security measures do you have?",category:"security"},{text:"What payment methods do you accept?",category:"payment"},{text:"How can I contact support?",category:"support"}],C=T=>{const O=T.toLowerCase();return O.includes("are you ai")||O.includes("are you a bot")||O.includes("are you real")||O.includes("ai or human")||O.includes("bot or human")?"Yes, I'm an AI-powered chatbot assistant designed to help you with co-living questions. Currently using fallback responses due to high traffic, but I can still help you with pricing, locations, booking, and more!":O.includes("mock")||O.includes("fake")||O.includes("real message")?"I'm using pre-programmed fallback responses right now since our main AI service is temporarily busy. But I'm still here to help with all your co-living questions! What would you like to know?":O.includes("what i asked")||O.includes("my question")||O.includes("tell me about")?"I apologize for not directly answering your previous question. I'm currently in fallback mode. Could you please rephrase your question? I can help with: pricing, locations, amenities, booking process, roommate matching, security, payments, or support contact info.":O.includes("price")||O.includes("cost")||O.includes("rent")||O.includes("fee")?b.pricing[Math.floor(Math.random()*b.pricing.length)]:O.includes("location")||O.includes("area")||O.includes("where")||O.includes("place")?b.locations[Math.floor(Math.random()*b.locations.length)]:O.includes("amenity")||O.includes("facility")||O.includes("wifi")||O.includes("gym")?b.amenities[Math.floor(Math.random()*b.amenities.length)]:O.includes("book")||O.includes("apply")||O.includes("reserve")||O.includes("process")?b.booking[Math.floor(Math.random()*b.booking.length)]:O.includes("roommate")||O.includes("flatmate")||O.includes("match")||O.includes("compatibility")?b.roommate[Math.floor(Math.random()*b.roommate.length)]:O.includes("security")||O.includes("safe")||O.includes("guard")||O.includes("cctv")?b.security[Math.floor(Math.random()*b.security.length)]:O.includes("payment")||O.includes("pay")||O.includes("upi")||O.includes("card")?b.payment[Math.floor(Math.random()*b.payment.length)]:O.includes("support")||O.includes("help")||O.includes("contact")||O.includes("call")?b.support[Math.floor(Math.random()*b.support.length)]:O.includes("hello")||O.includes("hi")||O.includes("hey")?b.greeting[Math.floor(Math.random()*b.greeting.length)]:b.default[Math.floor(Math.random()*b.default.length)]},N=async T=>{if(!T.trim())return;const O={id:Date.now(),type:"user",content:T,timestamp:new Date};l(B=>[...B,O]),d(""),f(!0);try{let B;if(A==="ready")try{B=await qF.getLyvoAssistantResponse(T)}catch(F){console.error("AI service error:",F),B=C(T)}else B=C(T);setTimeout(()=>{const F={id:Date.now()+1,type:"bot",content:B,timestamp:new Date};l(M=>[...M,F]),f(!1)},1e3+Math.random()*1e3)}catch(B){console.error("Error handling message:",B),setTimeout(()=>{const F={id:Date.now()+1,type:"bot",content:"I'm sorry, I'm having trouble right now. Please try again or contact our support team at support@lyvoplus.com.",timestamp:new Date};l(M=>[...M,F]),f(!1)},1e3)}},j=T=>{N(T)},P=()=>{l([{id:Date.now(),type:"bot",content:"Hi! I'm Lyvo+ Assistant. I can help you find the perfect co-living space, answer questions about our services, or assist with bookings. How can I help you today?",timestamp:new Date}]),i(!1),n(!1)},k=()=>{n(!1),i(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(J.div,{className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-[80]",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:2},children:s.jsxs(J.button,{onClick:()=>t(!e),className:"relative w-16 h-16 sm:w-16 sm:h-16 bg-gradient-to-br from-red-500 via-red-600 to-red-700 rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 flex items-center justify-center text-white border-2 border-white/20",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9,rotate:-5},children:[s.jsx(Sr,{mode:"wait",children:e?s.jsx(J.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.3},children:s.jsx(nr,{className:"w-7 h-7 sm:w-7 sm:h-7"})},"close"):s.jsx(J.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.3},children:s.jsx(dd,{className:"w-7 h-7 sm:w-7 sm:h-7"})},"chat")}),s.jsx(J.div,{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-red-500 via-red-600 to-red-700 opacity-30",animate:{scale:[1,1.3,1]},transition:{duration:2,repeat:1/0,delay:3}}),s.jsx(J.div,{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-400 rounded-full border-2 border-white shadow-lg",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}})]})}),s.jsx(Sr,{children:e&&s.jsxs(J.div,{initial:{opacity:0,scale:.8,y:20,rotateX:-15},animate:{opacity:1,scale:1,y:0,rotateX:0},exit:{opacity:0,scale:.8,y:20,rotateX:-15},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-24 right-4 z-[75] w-[320px] h-[500px] sm:bottom-32 sm:right-20 bg-gradient-to-br from-white to-gray-50 rounded-[2rem] shadow-2xl border border-gray-200/50 backdrop-blur-sm flex flex-col",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[s.jsxs("div",{className:"relative bg-gradient-to-br from-red-500 via-red-600 to-red-700 text-white p-3 rounded-t-[2rem]",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white rounded-full -mr-10 -mt-10"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 bg-white rounded-full -ml-6 -mb-6"})]}),s.jsxs("div",{className:"relative flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-9 h-9 sm:w-8 sm:h-8 bg-white rounded-xl flex items-center justify-center shadow-sm border border-white/30 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-5 h-5 sm:w-4 sm:h-4 object-contain"})}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-2.5 sm:h-2.5 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-bold text-base sm:text-sm",children:[s.jsx("span",{className:"text-black",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Assistant"]}),s.jsxs("div",{className:"text-sm sm:text-xs text-red-100 flex items-center space-x-1",children:[s.jsx("div",{className:`w-2 h-2 sm:w-1.5 sm:h-1.5 rounded-full ${A==="ready"?"bg-green-400 animate-pulse":A==="error"?"bg-yellow-400":A==="initializing"?"bg-blue-400 animate-pulse":"bg-gray-400"}`}),s.jsx("span",{children:A==="ready"?"AI Online  Ready to help":A==="error"?"Fallback Mode  Still helping":A==="initializing"?"Initializing AI...":"Ready to chat"})]})]}),s.jsxs("div",{className:"relative chatbot-menu",children:[s.jsx(J.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(!r),className:"w-7 h-7 sm:w-6 sm:h-6 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors duration-200 backdrop-blur-sm",children:s.jsx(t6,{className:"w-4 h-4 sm:w-3 sm:h-3"})}),s.jsx(Sr,{children:r&&s.jsx(J.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden z-30",children:s.jsx("div",{className:"p-1",children:s.jsxs(J.button,{whileHover:{backgroundColor:"#fef2f2"},onClick:()=>i(!0),className:"w-full flex items-center space-x-3 px-3 py-2.5 text-sm text-gray-700 hover:text-red-600 rounded-lg transition-colors duration-200",children:[s.jsx(LA,{className:"w-4 h-4"}),s.jsx("span",{children:"Clear Chat"})]})})})})]}),s.jsx(J.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:()=>t(!1),className:"w-7 h-7 sm:w-6 sm:h-6 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors duration-200 backdrop-blur-sm",children:s.jsx(nr,{className:"w-4 h-4 sm:w-3 sm:h-3"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 bg-gradient-to-b from-gray-50/50 to-white/50",children:[o.map(T=>s.jsx(J.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:300,damping:30},className:`flex ${T.type==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[88%] p-3 sm:p-2.5 rounded-xl shadow-sm ${T.type==="user"?"bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg":"bg-white text-gray-800 border border-gray-100 shadow-md"}`,style:{boxShadow:T.type==="user"?"0 10px 25px -5px rgba(239, 68, 68, 0.3)":"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[s.jsx("p",{className:"text-sm sm:text-xs leading-relaxed",children:T.content}),s.jsxs("p",{className:`text-xs mt-1.5 flex items-center space-x-1 ${T.type==="user"?"text-red-100":"text-gray-400"}`,children:[s.jsx("span",{children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),T.type==="user"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Sent"})]})]})]})},T.id)),u&&s.jsx(J.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex justify-start",children:s.jsx("div",{className:"bg-white border border-gray-100 p-3 sm:p-2.5 rounded-xl shadow-md",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-6 h-6 sm:w-5 sm:h-5 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Pr,{className:"w-3 h-3 sm:w-2.5 sm:h-2.5 text-red-500"})}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(J.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:0}}),s.jsx(J.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:.2}}),s.jsx(J.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:.4}})]}),s.jsxs("span",{className:"text-sm sm:text-xs text-gray-500 ml-1",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," is typing..."]})]})})}),s.jsx("div",{ref:y})]}),o.length===1&&s.jsxs("div",{className:"px-3 pb-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Quick questions:"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:w.slice(0,4).map((T,O)=>s.jsx(J.button,{onClick:()=>j(T.text),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-2 sm:px-2.5 sm:py-1.5 bg-white border border-gray-200 hover:border-red-300 hover:bg-red-50 text-gray-700 text-sm sm:text-xs rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:T.text},O))})]}),s.jsxs("div",{className:"flex-shrink-0 px-3 pt-4 pb-5 border-t border-gray-200 bg-white shadow-sm rounded-b-[2rem]",children:[s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:c,onChange:T=>d(T.target.value),onKeyPress:T=>T.key==="Enter"&&N(c),placeholder:"Ask about rooms, pricing, amenities...",className:"w-full px-4 py-2.5 sm:px-3 sm:py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm sm:text-xs bg-white shadow-sm hover:shadow-md transition-all duration-200"}),s.jsx("div",{className:"absolute right-3 sm:right-2.5 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx(dd,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"})})]}),s.jsx(J.button,{onClick:()=>N(c),disabled:!c.trim(),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2.5 sm:px-3 sm:py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center",children:s.jsx(OA,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"})})]}),s.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send  Available 24/7"})]})]})}),s.jsx(Sr,{children:a&&s.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-60 flex items-center justify-center p-4",onClick:k,children:s.jsx(J.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:T=>T.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(LA,{className:"w-6 h-6 text-red-500"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Clear Chat History?"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"This will delete all messages and start a new conversation. This action cannot be undone."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:k,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),s.jsx(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:P,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-red-500 rounded-xl hover:bg-red-600 transition-colors duration-200",children:"Clear Chat"})]})]})})})})]})},_fe=1,Cfe=1e6;let yC=0;function Sfe(){return yC=(yC+1)%Number.MAX_SAFE_INTEGER,yC.toString()}const vC=new Map,YF=e=>{if(vC.has(e))return;const t=setTimeout(()=>{vC.delete(e),$x({type:"REMOVE_TOAST",toastId:e})},Cfe);vC.set(e,t)},Bfe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_fe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?YF(r):e.toasts.forEach(n=>{YF(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},w1=[];let j1={toasts:[]};function $x(e){j1=Bfe(j1,e),w1.forEach(t=>{t(j1)})}function kfe({...e}){const t=Sfe(),r=a=>$x({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>$x({type:"DISMISS_TOAST",toastId:t});return $x({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function no(){const[e,t]=_.useState(j1);return _.useEffect(()=>(w1.push(t),()=>{const r=w1.indexOf(t);r>-1&&w1.splice(r,1)}),[e]),{...e,toast:kfe,dismiss:r=>$x({type:"DISMISS_TOAST",toastId:r})}}function zr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function XF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gK(...e){return t=>{let r=!1;const n=e.map(a=>{const i=XF(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():XF(e[a],null)}}}}function ys(...e){return _.useCallback(gK(...e),e)}function Efe(e,t){const r=_.createContext(t),n=i=>{const{children:o,...l}=i,c=_.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=_.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Mv(e,t=[]){let r=[];function n(i,o){const l=_.createContext(o),c=r.length;r=[...r,o];const d=f=>{var v;const{scope:A,children:m,...x}=f,g=((v=A==null?void 0:A[e])==null?void 0:v[c])||l,y=_.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:y,children:m})};d.displayName=i+"Provider";function u(f,A){var g;const m=((g=A==null?void 0:A[e])==null?void 0:g[c])||l,x=_.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Pfe(a,...t)]}function Pfe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function og(e){const t=Tfe(e),r=_.forwardRef((n,a)=>{const{children:i,...o}=n,l=_.Children.toArray(i),c=l.find(Lfe);if(c){const d=c.props.children,u=l.map(f=>f===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:f);return s.jsx(t,{...o,ref:a,children:_.isValidElement(d)?_.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Ife=og("Slot");function Tfe(e){const t=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const o=Rfe(a),l=Ffe(i,a.props);return a.type!==_.Fragment&&(l.ref=n?gK(n,o):o),_.cloneElement(a,l)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ofe=Symbol("radix.slottable");function Lfe(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ofe}function Ffe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Rfe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function xK(e){const t=e+"CollectionProvider",[r,n]=Mv(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:v}=g,b=Ce.useRef(null),w=Ce.useRef(new Map).current;return s.jsx(a,{scope:y,itemMap:w,collectionRef:b,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=og(l),d=Ce.forwardRef((g,y)=>{const{scope:v,children:b}=g,w=i(l,v),C=ys(y,w.collectionRef);return s.jsx(c,{ref:C,children:b})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",A=og(u),m=Ce.forwardRef((g,y)=>{const{scope:v,children:b,...w}=g,C=Ce.useRef(null),N=ys(y,C),j=i(u,v);return Ce.useEffect(()=>(j.itemMap.set(C,{ref:C,...w}),()=>void j.itemMap.delete(C))),s.jsx(A,{[f]:"",ref:N,children:b})});m.displayName=u;function x(g){const y=i(e+"CollectionConsumer",g);return Ce.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((j,P)=>w.indexOf(j.ref.current)-w.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},x,n]}var Ufe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],en=Ufe.reduce((e,t)=>{const r=og(`Primitive.${t}`),n=_.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yK(e,t){e&&lc.flushSync(()=>e.dispatchEvent(t))}function mc(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Dfe(e,t=globalThis==null?void 0:globalThis.document){const r=mc(e);_.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Mfe="DismissableLayer",OB="dismissableLayer.update",Qfe="dismissableLayer.pointerDownOutside",$fe="dismissableLayer.focusOutside",ZF,vK=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$N=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=_.useContext(vK),[u,f]=_.useState(null),A=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=_.useState({}),x=ys(t,P=>f(P)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),b=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,C=b>=v,N=zfe(P=>{const k=P.target,T=[...d.branches].some(O=>O.contains(k));!C||T||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},A),j=Vfe(P=>{const k=P.target;[...d.branches].some(O=>O.contains(k))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},A);return Dfe(P=>{b===d.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},A),_.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ZF=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),JF(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(A.body.style.pointerEvents=ZF)}},[u,A,r,d]),_.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),JF())},[u,d]),_.useEffect(()=>{const P=()=>m({});return document.addEventListener(OB,P),()=>document.removeEventListener(OB,P)},[]),s.jsx(en.div,{...c,ref:x,style:{pointerEvents:w?C?"auto":"none":void 0,...e.style},onFocusCapture:zr(e.onFocusCapture,j.onFocusCapture),onBlurCapture:zr(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:zr(e.onPointerDownCapture,N.onPointerDownCapture)})});$N.displayName=Mfe;var Hfe="DismissableLayerBranch",bK=_.forwardRef((e,t)=>{const r=_.useContext(vK),n=_.useRef(null),a=ys(t,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(en.div,{...e,ref:a})});bK.displayName=Hfe;function zfe(e,t=globalThis==null?void 0:globalThis.document){const r=mc(e),n=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){wK(Qfe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Vfe(e,t=globalThis==null?void 0:globalThis.document){const r=mc(e),n=_.useRef(!1);return _.useEffect(()=>{const a=i=>{i.target&&!n.current&&wK($fe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JF(){const e=new CustomEvent(OB);document.dispatchEvent(e)}function wK(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yK(a,i):a.dispatchEvent(i)}var Kfe=$N,Wfe=bK,Ha=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},Gfe="Portal",HN=_.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=_.useState(!1);Ha(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?dae.createPortal(s.jsx(en.div,{...n,ref:t}),o):null});HN.displayName=Gfe;function qfe(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var Qv=e=>{const{present:t,children:r}=e,n=Yfe(t),a=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=ys(n.ref,Xfe(a));return typeof r=="function"||n.isPresent?_.cloneElement(a,{ref:i}):null};Qv.displayName="Presence";function Yfe(e){const[t,r]=_.useState(),n=_.useRef(null),a=_.useRef(e),i=_.useRef("none"),o=e?"mounted":"unmounted",[l,c]=qfe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=Zb(n.current);i.current=l==="mounted"?d:"none"},[l]),Ha(()=>{const d=n.current,u=a.current;if(u!==e){const A=i.current,m=Zb(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&A!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ha(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=m=>{const g=Zb(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},A=m=>{m.target===t&&(i.current=Zb(n.current))};return t.addEventListener("animationstart",A),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",A),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Zb(e){return(e==null?void 0:e.animationName)||"none"}function Xfe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Zfe=N3[" useInsertionEffect ".trim().toString()]||Ha;function C2({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=Jfe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=_.useRef(e!==void 0);_.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=_.useCallback(u=>{var f;if(l){const A=eAe(u)?u(e):u;A!==e&&((f=o.current)==null||f.call(o,A))}else i(u)},[l,e,i,o]);return[c,d]}function Jfe({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),a=_.useRef(r),i=_.useRef(t);return Zfe(()=>{i.current=t},[t]),_.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function eAe(e){return typeof e=="function"}var jK=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tAe="VisuallyHidden",l6=_.forwardRef((e,t)=>s.jsx(en.span,{...e,ref:t,style:{...jK,...e.style}}));l6.displayName=tAe;var c6="ToastProvider",[d6,rAe,nAe]=xK("Toast"),[NK]=Mv("Toast",[nAe]),[sAe,zN]=NK(c6),_K=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=_.useState(null),[d,u]=_.useState(0),f=_.useRef(!1),A=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${c6}\`. Expected non-empty \`string\`.`),s.jsx(d6.Provider,{scope:t,children:s.jsx(sAe,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:_.useCallback(()=>u(m=>m+1),[]),onToastRemove:_.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:A,children:o})})};_K.displayName=c6;var CK="ToastViewport",aAe=["F8"],LB="toast.viewportPause",FB="toast.viewportResume",SK=_.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=aAe,label:a="Notifications ({hotkey})",...i}=e,o=zN(CK,r),l=rAe(r),c=_.useRef(null),d=_.useRef(null),u=_.useRef(null),f=_.useRef(null),A=ys(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;_.useEffect(()=>{const y=v=>{var w;n.length!==0&&n.every(C=>v[C]||v.code===C)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),_.useEffect(()=>{const y=c.current,v=f.current;if(x&&y&&v){const b=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(LB);v.dispatchEvent(j),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(FB);v.dispatchEvent(j),o.isClosePausedRef.current=!1}},C=j=>{!y.contains(j.relatedTarget)&&w()},N=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",b),y.addEventListener("focusout",C),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:y})=>{const b=l().map(w=>{const C=w.ref.current,N=[C,...xAe(C)];return y==="forwards"?N:N.reverse()});return(y==="forwards"?b.reverse():b).flat()},[l]);return _.useEffect(()=>{const y=f.current;if(y){const v=b=>{var N,j,P;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const k=document.activeElement,T=b.shiftKey;if(b.target===y&&T){(N=d.current)==null||N.focus();return}const F=g({tabbingDirection:T?"backwards":"forwards"}),M=F.findIndex(R=>R===k);bC(F.slice(M+1))?b.preventDefault():T?(j=d.current)==null||j.focus():(P=u.current)==null||P.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[l,g]),s.jsxs(Wfe,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(RB,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});bC(y)}}),s.jsx(d6.Slot,{scope:r,children:s.jsx(en.ol,{tabIndex:-1,...i,ref:A})}),x&&s.jsx(RB,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});bC(y)}})]})});SK.displayName=CK;var BK="ToastFocusProxy",RB=_.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=zN(BK,r);return s.jsx(l6,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});RB.displayName=BK;var $v="Toast",iAe="toast.swipeStart",oAe="toast.swipeMove",lAe="toast.swipeCancel",cAe="toast.swipeEnd",kK=_.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=C2({prop:n,defaultProp:a??!0,onChange:i,caller:$v});return s.jsx(Qv,{present:r||l,children:s.jsx(hAe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:mc(e.onPause),onResume:mc(e.onResume),onSwipeStart:zr(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:zr(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:zr(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:zr(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});kK.displayName=$v;var[dAe,uAe]=NK($v,{onClose(){}}),hAe=_.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:A,onSwipeEnd:m,...x}=e,g=zN($v,r),[y,v]=_.useState(null),b=ys(t,R=>v(R)),w=_.useRef(null),C=_.useRef(null),N=a||g.duration,j=_.useRef(0),P=_.useRef(N),k=_.useRef(0),{onToastAdd:T,onToastRemove:O}=g,B=mc(()=>{var H;(y==null?void 0:y.contains(document.activeElement))&&((H=g.viewport)==null||H.focus()),o()}),F=_.useCallback(R=>{!R||R===1/0||(window.clearTimeout(k.current),j.current=new Date().getTime(),k.current=window.setTimeout(B,R))},[B]);_.useEffect(()=>{const R=g.viewport;if(R){const H=()=>{F(P.current),d==null||d()},G=()=>{const $=new Date().getTime()-j.current;P.current=P.current-$,window.clearTimeout(k.current),c==null||c()};return R.addEventListener(LB,G),R.addEventListener(FB,H),()=>{R.removeEventListener(LB,G),R.removeEventListener(FB,H)}}},[g.viewport,N,c,d,F]),_.useEffect(()=>{i&&!g.isClosePausedRef.current&&F(N)},[i,N,g.isClosePausedRef,F]),_.useEffect(()=>(T(),()=>O()),[T,O]);const M=_.useMemo(()=>y?FK(y):null,[y]);return g.viewport?s.jsxs(s.Fragment,{children:[M&&s.jsx(fAe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:M}),s.jsx(dAe,{scope:r,onClose:B,children:lc.createPortal(s.jsx(d6.ItemSlot,{scope:r,children:s.jsx(Kfe,{asChild:!0,onEscapeKeyDown:zr(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||B(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(en.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:zr(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:zr(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:zr(e.onPointerMove,R=>{if(!w.current)return;const H=R.clientX-w.current.x,G=R.clientY-w.current.y,$=!!C.current,V=["left","right"].includes(g.swipeDirection),te=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,re=V?te(0,H):0,K=V?0:te(0,G),z=R.pointerType==="touch"?10:2,ee={x:re,y:K},W={originalEvent:R,delta:ee};$?(C.current=ee,Jb(oAe,f,W,{discrete:!1})):eR(ee,g.swipeDirection,z)?(C.current=ee,Jb(iAe,u,W,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(H)>z||Math.abs(G)>z)&&(w.current=null)}),onPointerUp:zr(e.onPointerUp,R=>{const H=C.current,G=R.target;if(G.hasPointerCapture(R.pointerId)&&G.releasePointerCapture(R.pointerId),C.current=null,w.current=null,H){const $=R.currentTarget,V={originalEvent:R,delta:H};eR(H,g.swipeDirection,g.swipeThreshold)?Jb(cAe,m,V,{discrete:!0}):Jb(lAe,A,V,{discrete:!0}),$.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),fAe=e=>{const{__scopeToast:t,children:r,...n}=e,a=zN($v,t),[i,o]=_.useState(!1),[l,c]=_.useState(!1);return pAe(()=>o(!0)),_.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(HN,{asChild:!0,children:s.jsx(l6,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},AAe="ToastTitle",EK=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(en.div,{...n,ref:t})});EK.displayName=AAe;var mAe="ToastDescription",PK=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(en.div,{...n,ref:t})});PK.displayName=mAe;var IK="ToastAction",TK=_.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(LK,{altText:r,asChild:!0,children:s.jsx(u6,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${IK}\`. Expected non-empty \`string\`.`),null)});TK.displayName=IK;var OK="ToastClose",u6=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=uAe(OK,r);return s.jsx(LK,{asChild:!0,children:s.jsx(en.button,{type:"button",...n,ref:t,onClick:zr(e.onClick,a.onClose)})})});u6.displayName=OK;var LK=_.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(en.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function FK(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),gAe(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...FK(n))}}),t}function Jb(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?yK(a,i):a.dispatchEvent(i)}var eR=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function pAe(e=()=>{}){const t=mc(e);Ha(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function gAe(e){return e.nodeType===e.ELEMENT_NODE}function xAe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function bC(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var yAe=_K,RK=SK,UK=kK,DK=EK,MK=PK,QK=TK,$K=u6;function HK(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=HK(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=HK(e))&&(n&&(n+=" "),n+=t);return n}const tR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,rR=pr,h6=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return rR(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const A=tR(u)||tR(f);return a[d][A]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,A]=u;return A===void 0||(d[f]=A),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:A,...m}=u;return Object.entries(m).every(x=>{let[g,y]=x;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...d,f,A]:d},[]);return rR(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},f6="-",vAe=e=>{const t=wAe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(f6);return l[0]===""&&l.length!==1&&l.shift(),zK(l,t)||bAe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},zK=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?zK(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(f6);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},nR=/^\[(.+)\]$/,bAe=e=>{if(nR.test(e)){const t=nR.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},wAe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return NAe(Object.entries(e.classGroups),r).forEach(([i,o])=>{UB(o,n,i,t)}),n},UB=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:sR(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(jAe(a)){UB(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{UB(o,sR(t,i),r,n)})})},sR=(e,t)=>{let r=e;return t.split(f6).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},jAe=e=>e.isThemeGetter,NAe=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,_Ae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},VK="!",CAe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let y=0;y<l.length;y++){let v=l[y];if(d===0){if(v===a&&(n||l.slice(y,y+i)===t)){c.push(l.slice(u,y)),u=y+i;continue}if(v==="/"){f=y;continue}}v==="["?d++:v==="]"&&d--}const A=c.length===0?l:l.substring(u),m=A.startsWith(VK),x=m?A.substring(1):A,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},SAe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},BAe=e=>({cache:_Ae(e.cacheSize),parseClassName:CAe(e),...vAe(e)}),kAe=/\s+/,EAe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(kAe);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:A,maybePostfixModifierPosition:m}=r(d);let x=!!m,g=n(x?A.substring(0,m):A);if(!g){if(!x){l=d+(l.length>0?" "+l:l);continue}if(g=n(A),!g){l=d+(l.length>0?" "+l:l);continue}x=!1}const y=SAe(u).join(":"),v=f?y+VK:y,b=v+g;if(i.includes(b))continue;i.push(b);const w=a(g,x);for(let C=0;C<w.length;++C){const N=w[C];i.push(v+N)}l=d+(l.length>0?" "+l:l)}return l};function PAe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=KK(t))&&(n&&(n+=" "),n+=r);return n}const KK=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=KK(e[n]))&&(r&&(r+=" "),r+=t);return r};function IAe(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=BAe(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=EAe(c,r);return a(c,u),u}return function(){return i(PAe.apply(null,arguments))}}const Gn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},WK=/^\[(?:([a-z-]+):)?(.+)\]$/i,TAe=/^\d+\/\d+$/,OAe=new Set(["px","full","screen"]),LAe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FAe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RAe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,UAe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DAe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Od=e=>Pp(e)||OAe.has(e)||TAe.test(e),eh=e=>Kg(e,"length",WAe),Pp=e=>!!e&&!Number.isNaN(Number(e)),wC=e=>Kg(e,"number",Pp),D0=e=>!!e&&Number.isInteger(Number(e)),MAe=e=>e.endsWith("%")&&Pp(e.slice(0,-1)),Cr=e=>WK.test(e),th=e=>LAe.test(e),QAe=new Set(["length","size","percentage"]),$Ae=e=>Kg(e,QAe,GK),HAe=e=>Kg(e,"position",GK),zAe=new Set(["image","url"]),VAe=e=>Kg(e,zAe,qAe),KAe=e=>Kg(e,"",GAe),M0=()=>!0,Kg=(e,t,r)=>{const n=WK.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},WAe=e=>FAe.test(e)&&!RAe.test(e),GK=()=>!1,GAe=e=>UAe.test(e),qAe=e=>DAe.test(e),YAe=()=>{const e=Gn("colors"),t=Gn("spacing"),r=Gn("blur"),n=Gn("brightness"),a=Gn("borderColor"),i=Gn("borderRadius"),o=Gn("borderSpacing"),l=Gn("borderWidth"),c=Gn("contrast"),d=Gn("grayscale"),u=Gn("hueRotate"),f=Gn("invert"),A=Gn("gap"),m=Gn("gradientColorStops"),x=Gn("gradientColorStopPositions"),g=Gn("inset"),y=Gn("margin"),v=Gn("opacity"),b=Gn("padding"),w=Gn("saturate"),C=Gn("scale"),N=Gn("sepia"),j=Gn("skew"),P=Gn("space"),k=Gn("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Cr,t],F=()=>[Cr,t],M=()=>["",Od,eh],R=()=>["auto",Pp,Cr],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Cr],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Pp,Cr];return{cacheSize:500,separator:":",theme:{colors:[M0],spacing:[Od,eh],blur:["none","",th,Cr],brightness:K(),borderColor:[e],borderRadius:["none","","full",th,Cr],borderSpacing:F(),borderWidth:M(),contrast:K(),grayscale:te(),hueRotate:K(),invert:te(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[MAe,eh],inset:B(),margin:B(),opacity:K(),padding:F(),saturate:K(),scale:K(),sepia:te(),skew:K(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Cr]}],container:["container"],columns:[{columns:[th]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Cr]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",D0,Cr]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Cr]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",D0,Cr]}],"grid-cols":[{"grid-cols":[M0]}],"col-start-end":[{col:["auto",{span:["full",D0,Cr]},Cr]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[M0]}],"row-start-end":[{row:["auto",{span:[D0,Cr]},Cr]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Cr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Cr]}],gap:[{gap:[A]}],"gap-x":[{"gap-x":[A]}],"gap-y":[{"gap-y":[A]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Cr,t]}],"min-w":[{"min-w":[Cr,t,"min","max","fit"]}],"max-w":[{"max-w":[Cr,t,"none","full","min","max","fit","prose",{screen:[th]},th]}],h:[{h:[Cr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Cr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Cr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Cr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",th,eh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wC]}],"font-family":[{font:[M0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Cr]}],"line-clamp":[{"line-clamp":["none",Pp,wC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Od,Cr]}],"list-image":[{"list-image":["none",Cr]}],"list-style-type":[{list:["none","disc","decimal",Cr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Od,eh]}],"underline-offset":[{"underline-offset":["auto",Od,Cr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Cr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Cr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),HAe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$Ae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VAe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:G()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Od,Cr]}],"outline-w":[{outline:[Od,eh]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Od,eh]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",th,KAe]}],"shadow-color":[{shadow:[M0]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",th,Cr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Cr]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Cr]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Cr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[D0,Cr]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Cr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Cr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Cr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Od,eh,wC]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XAe=IAe(YAe);function fn(...e){return XAe(pr(e))}const ZAe=yAe,qK=_.forwardRef(({className:e,...t},r)=>s.jsx(RK,{ref:r,className:fn("fixed bottom-0 z-[9999] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 sm:flex-col md:max-w-[420px]",e),...t}));qK.displayName=RK.displayName;const JAe=h6("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),YK=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(UK,{ref:n,className:fn(JAe({variant:t}),e),...r}));YK.displayName=UK.displayName;const eme=_.forwardRef(({className:e,...t},r)=>s.jsx(QK,{ref:r,className:fn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));eme.displayName=QK.displayName;const XK=_.forwardRef(({className:e,...t},r)=>s.jsx($K,{ref:r,className:fn("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(nr,{className:"h-4 w-4"})}));XK.displayName=$K.displayName;const ZK=_.forwardRef(({className:e,...t},r)=>s.jsx(DK,{ref:r,className:fn("text-sm font-semibold [&+div]:text-xs",e),...t}));ZK.displayName=DK.displayName;const JK=_.forwardRef(({className:e,...t},r)=>s.jsx(MK,{ref:r,className:fn("text-sm opacity-90",e),...t}));JK.displayName=MK.displayName;function eW(){const{toasts:e}=no();return s.jsxs(ZAe,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(YK,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(ZK,{children:r}),n&&s.jsx(JK,{children:n})]}),a,s.jsx(XK,{})]},t)}),s.jsx(qK,{})]})}const Q0=({children:e,direction:t="up",delay:r=0,duration:n=.8,distance:a=50,className:i="",once:o=!0})=>{const l=_.useRef(null),c=xue(l,{once:o,margin:"0px"}),d=mue(),u={up:{hidden:{opacity:0,y:a},visible:{opacity:1,y:0}},down:{hidden:{opacity:0,y:-a},visible:{opacity:1,y:0}},left:{hidden:{opacity:0,x:a},visible:{opacity:1,x:0}},right:{hidden:{opacity:0,x:-a},visible:{opacity:1,x:0}},scale:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}},fade:{hidden:{opacity:0},visible:{opacity:1}}};return _.useEffect(()=>{c?d.start("visible"):o||d.start("hidden")},[c,d,o]),s.jsx(J.div,{ref:l,animate:d,initial:"hidden",variants:u[t],transition:{duration:n,delay:r,ease:[.4,0,.2,1]},className:i,children:e})},tme=()=>{_.useEffect(()=>{(()=>{const r=localStorage.getItem("authToken"),n=localStorage.getItem("user");if(r&&n)try{const a=JSON.parse(n);console.log("Home: User logged in with role:",a.role),a.role===2?window.location.href="/admin-dashboard":a.role===3?window.location.href="/owner-dashboard":a.role}catch(a){console.error("Home: Error parsing user data:",a)}})()},[]);const e=[{icon:xr,title:"Smart PG Location Finder",description:"Find verified PGs and hostels within 1km radius using GPS technology and live location tracking."},{icon:Wr,title:"AI Roommate Matching",description:"Advanced algorithms match you with compatible roommates based on lifestyle and preferences."},{icon:er,title:"Verified Properties",description:"Background-verified PG owners and secure rental agreements like OYO's verified hotels."},{icon:_ue,title:"Transparent Pricing",description:"Clear monthly rent, food charges, and utility costs with no hidden fees."},{icon:dd,title:"Instant Booking",description:"Book PGs instantly with secure payments, just like booking hotels on OYO."},{icon:iu,title:"Safety & Security",description:"24/7 security, CCTV cameras, and verified PG accommodations for your safety."},{icon:Is,title:"Digital Agreements",description:"Paperless PG rental agreements with e-signatures and secure document storage."},{icon:xr,title:"Nearby Amenities",description:"Interactive maps showing nearby colleges, offices, transport links, and neighborhood insights."}];return s.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-16 overflow-x-hidden",children:s.jsxs("div",{className:"bg-white overflow-x-hidden relative",children:[s.jsxs("div",{className:"fixed inset-0 pointer-events-none z-10",children:[[...Array(20)].map((t,r)=>s.jsx(J.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-gray-200 rounded-full opacity-40",animate:{x:[0,30,-20,40,10,-30,0],y:[0,-40,30,-60,20,-50,0],scale:[.5,1.5,.8,1.2,.6,1.4,.5],opacity:[.2,.6,.3,.7,.2,.5,.2]},transition:{duration:8+r*.5,repeat:1/0,delay:r*.3,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`bg-particle-${r}`)),[...Array(15)].map((t,r)=>s.jsx(J.div,{className:`absolute w-1 h-1 sm:w-2 sm:h-2 rounded-full ${r%4===0?"bg-red-300":r%4===1?"bg-blue-300":r%4===2?"bg-yellow-300":"bg-purple-300"} opacity-60`,animate:{x:[0,-50,30,-40,20,-30,0],y:[0,30,-40,20,-30,40,0],scale:[.8,1.6,.5,1.3,.7,1.1,.8],opacity:[.3,.8,.2,.6,.4,.7,.3]},transition:{duration:10+r*.8,repeat:1/0,delay:r*.4,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`color-particle-${r}`)),[...Array(12)].map((t,r)=>s.jsx(J.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-yellow-300 rounded-full opacity-70",animate:{x:[0,25,-15,30,-10,20,0],y:[0,-30,20,-25,15,-20,0],scale:[.4,2,.3,1.8,.5,1.5,.4],opacity:[.2,1,.1,.9,.3,.8,.2]},transition:{duration:6+r*.6,repeat:1/0,delay:r*.5,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`sparkle-${r}`))]}),s.jsx("div",{className:"relative pt-20 pb-4 px-2 sm:px-6 lg:px-8 sm:pt-28 lg:pt-32 overflow-hidden",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsx(J.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.3},children:s.jsxs("div",{className:"flex flex-col items-center justify-center mb-12",children:[s.jsxs(J.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"text-center mb-8 overflow-hidden",children:[s.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-8xl font-black mb-8 relative",children:[s.jsx(J.div,{animate:{scale:[1.05,1.1,1.05],opacity:[.6,.8,.6],rotate:[-12,-10,-12]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-r from-red-100 via-yellow-100 to-red-100 rounded-2xl transform -skew-x-12 opacity-60 -z-10"}),s.jsxs(J.span,{whileHover:{scale:1.05,textShadow:"0 0 30px rgba(239, 68, 68, 0.8)"},animate:{textShadow:["0 0 20px rgba(239, 68, 68, 0.3)","0 0 30px rgba(239, 68, 68, 0.6)","0 0 20px rgba(239, 68, 68, 0.3)"]},transition:{duration:.3,textShadow:{duration:3,repeat:1/0,ease:"easeInOut"}},className:"relative",children:[s.jsxs(J.span,{animate:{y:[0,-2,0],scale:[1,1.02,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"text-red-500 drop-shadow-lg relative",children:["Lyvo",s.jsx(J.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 w-2 h-2 sm:w-3 sm:h-3 bg-yellow-300 rounded-full opacity-80"}),s.jsx(J.div,{animate:{rotate:[360,0],scale:[1,1.3,1]},transition:{duration:6,repeat:1/0,ease:"linear"},className:"absolute -bottom-1 -left-1 w-1 h-1 sm:w-2 sm:h-2 bg-blue-300 rounded-full opacity-70"})]}),s.jsxs(J.span,{whileHover:{scale:1.1,rotate:8,textShadow:"0 0 25px rgba(0, 0, 0, 0.6)"},animate:{y:[0,1,0],rotate:[0,1,-1,0]},transition:{duration:.3,y:{duration:4,repeat:1/0,ease:"easeInOut"},rotate:{duration:6,repeat:1/0,ease:"easeInOut"}},className:"text-gray-900 drop-shadow-lg relative",children:["+",s.jsx(J.div,{animate:{scale:[1,1.4,.8,1.2,1],opacity:[.7,1,.5,.9,.7],y:[0,-2,0,-1,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 w-2 h-2 sm:w-3 sm:h-3 bg-yellow-400 rounded-full shadow-sm"}),s.jsx(J.div,{animate:{rotate:[0,180,360],scale:[.8,1.2,.8]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute -top-3 -right-3 w-1 h-1 sm:w-2 sm:h-2 bg-orange-300 rounded-full opacity-60"})]})]}),s.jsx(J.div,{animate:{scale:[1,1.5,.8,1.3,1],opacity:[.6,1,.3,.9,.6],rotate:[0,45,90,135,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 sm:-top-4 sm:-right-4 w-2 h-2 sm:w-4 sm:h-4 bg-gradient-to-br from-red-400 to-orange-400 rounded-full shadow-lg"}),s.jsx(J.div,{animate:{scale:[1,1.3,.7,1.2,1],opacity:[.6,1,.4,.8,.6],rotate:[0,-45,-90,-135,0]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut"},className:"absolute -bottom-1 -left-1 sm:-bottom-4 sm:-left-4 w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-br from-blue-400 to-purple-400 rounded-full shadow-lg"}),s.jsx(J.div,{animate:{x:[0,5,-3,4,0],y:[0,-3,2,-4,0],scale:[1,1.2,.8,1.1,1]},transition:{duration:7,repeat:1/0,ease:"easeInOut"},className:"absolute top-2 right-2 sm:top-6 sm:right-6 w-1 h-1 sm:w-2 sm:h-2 bg-green-400 rounded-full shadow-md"}),s.jsx(J.div,{animate:{x:[0,-4,3,-2,0],y:[0,2,-3,1,0],scale:[1,1.1,.9,1.2,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-2 left-2 sm:bottom-6 sm:left-6 w-1 h-1 sm:w-2 sm:h-2 bg-pink-400 rounded-full shadow-md"})]}),s.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.4},className:"mt-8",children:s.jsxs("p",{className:"text-base sm:text-lg text-gray-600 font-medium tracking-wide px-2",children:[s.jsx("span",{className:"text-red-500",children:"["}),s.jsx("span",{className:"mx-1 sm:mx-2",children:"INDIA'S #1 PG & CO-LIVING PLATFORM"}),s.jsx("span",{className:"text-red-500",children:"]"})]})})]}),s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},className:"relative mt-8",children:[s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[[...Array(12)].map((t,r)=>{const n=r*30*(Math.PI/180),a=80+r%3*20;return s.jsx(J.div,{className:"absolute w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-r from-red-400 via-orange-400 to-yellow-400 rounded-full shadow-lg",animate:{x:[Math.cos(n)*a,Math.cos(n+Math.PI/6)*(a+10),Math.cos(n+Math.PI/3)*(a-5),Math.cos(n+Math.PI/2)*(a+15),Math.cos(n+2*Math.PI/3)*(a-10),Math.cos(n+5*Math.PI/6)*(a+5),Math.cos(n+Math.PI)*a],y:[Math.sin(n)*a,Math.sin(n+Math.PI/6)*(a+10),Math.sin(n+Math.PI/3)*(a-5),Math.sin(n+Math.PI/2)*(a+15),Math.sin(n+2*Math.PI/3)*(a-10),Math.sin(n+5*Math.PI/6)*(a+5),Math.sin(n+Math.PI)*a],scale:[1,1.5,.8,1.3,.9,1.2,1],opacity:[.6,1,.3,.9,.4,.8,.6]},transition:{duration:6+r*.3,repeat:1/0,delay:r*.2,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r)}),[...Array(8)].map((t,r)=>{const n=r*45*(Math.PI/180),a=40+r%2*15;return s.jsx(J.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-yellow-300 rounded-full shadow-sm",animate:{x:[Math.cos(n)*a,Math.cos(n+Math.PI/4)*(a+8),Math.cos(n+Math.PI/2)*(a-3),Math.cos(n+3*Math.PI/4)*(a+12),Math.cos(n+Math.PI)*a],y:[Math.sin(n)*a,Math.sin(n+Math.PI/4)*(a+8),Math.sin(n+Math.PI/2)*(a-3),Math.sin(n+3*Math.PI/4)*(a+12),Math.sin(n+Math.PI)*a],scale:[.5,1.8,.4,1.5,.5],opacity:[.3,1,.2,.8,.3]},transition:{duration:4+r*.4,repeat:1/0,delay:r*.3,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},`sparkle-${r}`)}),[...Array(6)].map((t,r)=>{const n=r*60*(Math.PI/180),a=120+r%2*30;return s.jsx(J.div,{className:`absolute ${r%2===0?"w-2 h-2 sm:w-3 sm:h-3 bg-blue-400 rounded-full":"w-3 h-3 sm:w-4 sm:h-4 bg-purple-400 transform rotate-45"} shadow-md`,animate:{x:[Math.cos(n)*a,Math.cos(n+Math.PI/3)*(a+20),Math.cos(n+2*Math.PI/3)*(a-15),Math.cos(n+Math.PI)*a],y:[Math.sin(n)*a,Math.sin(n+Math.PI/3)*(a+20),Math.sin(n+2*Math.PI/3)*(a-15),Math.sin(n+Math.PI)*a],scale:[1,1.6,.7,1],opacity:[.4,.9,.2,.4],rotate:r%2===0?[0,180,360]:[0,-180,-360]},transition:{duration:8+r*.6,repeat:1/0,delay:r*.4,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},`accent-${r}`)})]}),s.jsx(J.div,{initial:{width:0},animate:{width:"auto"},transition:{delay:.4,duration:.8,ease:"easeOut"},className:"overflow-hidden whitespace-normal break-words sm:whitespace-nowrap mx-auto text-center px-2",children:s.jsx(J.span,{className:"text-xl sm:text-xl font-semibold text-red-600",children:"Find Your Perfect PG, Hostel & Co-Living Space"})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.3},className:"mt-12",children:s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-red-200 max-w-md mx-auto mx-2",children:[s.jsxs("p",{className:"text-sm sm:text-sm text-gray-700 mb-3",children:[s.jsx("span",{className:"text-red-600 font-semibold",children:" Quick Start:"})," Sign up in 30 seconds and find your perfect PG!"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsx(Ft,{to:"/signup",children:s.jsx("button",{className:"w-full sm:w-auto bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-700 transition-colors",children:"Sign Up Free"})}),s.jsx(Ft,{to:"/login",children:s.jsx("button",{className:"w-full sm:w-auto text-red-600 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-50 transition-colors",children:"Login"})})]})]})})]})]})})})}),s.jsxs("div",{className:"py-8 sm:py-12 px-2 sm:px-6 lg:px-8 relative",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((t,r)=>s.jsx(J.div,{className:`absolute w-1 h-1 sm:w-2 sm:h-2 rounded-full ${r%3===0?"bg-red-200":r%3===1?"bg-blue-200":"bg-yellow-200"} opacity-50`,animate:{x:[0,20,-15,25,-10,15,0],y:[0,-25,15,-20,10,-15,0],scale:[.6,1.4,.5,1.2,.7,1.1,.6],opacity:[.3,.7,.2,.6,.4,.5,.3]},transition:{duration:7+r*.7,repeat:1/0,delay:r*.6,ease:"easeInOut"},style:{left:`${20+r*10}%`,top:`${30+r%4*15}%`}},`section-particle-${r}`))}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[s.jsxs("h2",{className:"text-3xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-6 px-2",children:["Why Choose"," ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"}),"?"]}),s.jsx("p",{className:"text-lg sm:text-lg text-gray-600 max-w-3xl mx-auto px-2 leading-relaxed",children:"Like OYO for hotels and Airbnb for homes, Lyvo+ is your go-to platform for finding verified PGs, hostels, and co-living spaces. Book instantly with secure payments and verified properties."})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mt-8",children:e.map((t,r)=>s.jsxs(J.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg border border-gray-200 p-5 sm:p-6 hover:shadow-xl transition-all duration-200 relative",children:[r===0&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-bold animate-pulse",children:"POPULAR"}),s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mb-4 sm:mb-5",children:s.jsx(t.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),s.jsx("h3",{className:"text-lg sm:text-lg font-semibold text-gray-900 mb-3",children:t.title}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-sm leading-relaxed",children:t.description}),r===0&&s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:s.jsx(Ft,{to:"/signup",children:s.jsx("button",{className:"w-full bg-red-50 text-red-600 py-2 rounded-lg text-sm font-semibold hover:bg-red-100 transition-colors",children:" Try Now - Free"})})})]},r))})]})]}),s.jsx("div",{className:"py-20 sm:py-28 lg:py-32 relative overflow-hidden bg-gray-50",children:s.jsx("div",{className:"max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 text-center relative z-10",children:s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[s.jsxs("h2",{className:"text-4xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-8 sm:mb-10 font-display px-2",children:["Ready to Book Your ",s.jsx("span",{className:"text-red-600",children:"Perfect PG"}),"?"]}),s.jsx("p",{className:"text-xl sm:text-xl lg:text-2xl text-gray-600 mb-10 sm:mb-14 font-medium max-w-3xl mx-auto px-2 leading-relaxed",children:"Join thousands of students and professionals who have found their ideal PG, hostel, and co-living space with Lyvo+."}),s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-3 sm:p-4 mb-6 sm:mb-8 max-w-2xl mx-auto mx-2",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2 text-red-700 font-semibold text-base sm:text-base",children:[s.jsx("span",{className:"animate-pulse",children:""}),s.jsx("span",{children:"Limited Time: Get 500 OFF on your first month!"}),s.jsx("span",{className:"animate-pulse",children:""})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-6 sm:mb-8 text-sm sm:text-sm text-gray-600 px-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex -space-x-2",children:[s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-red-200 rounded-full border-2 border-white"}),s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-200 rounded-full border-2 border-white"}),s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-yellow-200 rounded-full border-2 border-white"})]}),s.jsx("span",{children:"500+ PGs booked this week"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-yellow-500",children:""}),s.jsx("span",{children:"4.8/5 from 10K+ reviews"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mb-6 sm:mb-8 px-2",children:[s.jsx(Ft,{to:"/signup",children:s.jsxs(J.button,{whileHover:{scale:1.05,boxShadow:"0 30px 60px rgba(0, 0, 0, 0.3)"},whileTap:{scale:.95},className:"w-full sm:w-auto bg-red-600 text-white px-8 sm:px-12 py-4 sm:py-6 rounded-2xl font-bold text-xl sm:text-2xl flex items-center justify-center space-x-2 sm:space-x-4 shadow-2xl hover:bg-red-700 transition-all duration-300",children:[s.jsx("span",{className:"relative z-10",children:"Sign Up - Get 500 OFF"}),s.jsx(x1,{className:"w-5 h-5 sm:w-7 sm:h-7 relative z-10 group-hover:translate-x-2 transition-transform duration-300"})]})}),s.jsx(Ft,{to:"/login",children:s.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto border-2 border-red-600 text-red-600 px-8 sm:px-12 py-4 sm:py-6 rounded-2xl font-bold text-xl sm:text-2xl hover:bg-red-50 transition-all duration-300",children:"Login"})})]}),s.jsx("div",{className:"text-center text-sm sm:text-sm text-gray-500 px-2",children:s.jsx("p",{children:" Secure & Verified   No Hidden Charges   Instant Booking"})})]})})})]})})},rme=async e=>{if(!e||!e._id)return console.error("Invalid user object for role repair"),e;try{console.log(" Attempting to repair user role for:",e.email);const t=await fetch(`http://localhost:4002/api/user/public/user/${e._id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const r=await t.json();if(console.log(" Retrieved user data from backend:",r),r.role!==void 0&&r.role!==null){const n={...e,role:r.role};return localStorage.setItem("user",JSON.stringify(n)),console.log(" User role repaired and saved to localStorage"),n}else return console.warn(" Backend also has undefined role, attempting manual fix"),await jC(e)}else return console.error(" Failed to fetch user data from backend:",t.status),await jC(e)}catch(t){return console.error(" Error repairing user role:",t),await jC(e)}},jC=async e=>{console.log(" Attempting manual role fix for:",e.email);let t=1;if(e.email){const n=e.email.toLowerCase();n.includes("admin")||n.includes("lyvo")?t=2:(n.includes("owner")||n.includes("property")||n.includes("anandupg2022"))&&(t=3)}e.name&&(e.name.includes("Owner")||e.name.includes("Property"))&&(t=3);const r={...e,role:t};return localStorage.setItem("user",JSON.stringify(r)),console.log(` Manual role fix applied: estimated role ${t} for ${e.email}`),r},nme=e=>!e||e.role===void 0||e.role===null,sme=async e=>nme(e)?(console.log(" User role needs repair, attempting auto-repair..."),await rme(e)):e;class Ax extends Error{}Ax.prototype.name="InvalidTokenError";function ame(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function ime(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return ame(t)}catch{return atob(t)}}function ome(e,t){if(typeof e!="string")throw new Ax("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new Ax(`Invalid token specified: missing part #${r+1}`);let a;try{a=ime(n)}catch(i){throw new Ax(`Invalid token specified: invalid base64 for part #${r+1} (${i.message})`)}try{return JSON.parse(a)}catch(i){throw new Ax(`Invalid token specified: invalid json for part #${r+1} (${i.message})`)}}const Hv=e=>{if(!e)return null;const t=e.role;return t==null?(console.warn("User role is undefined/null, attempting to determine from email or other data"),e.email&&e.email.includes("admin")?2:e.email&&(e.email.includes("owner")||e.email.includes("property"))?3:(console.warn("Could not determine user role, defaulting to seeker (1)"),1)):typeof t=="string"?parseInt(t,10):t},zv=()=>{try{const e=localStorage.getItem("user");if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(console.error("Invalid user data in localStorage"),null):t}catch(e){return console.error("Error parsing user data from localStorage:",e),null}},lme=async()=>{try{const e=localStorage.getItem("user");if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(console.error("Invalid user data in localStorage"),null):await sme(t)}catch(e){return console.error("Error parsing user data from localStorage:",e),null}},Vv=()=>{const e=localStorage.getItem("authToken");return e?cme(e)?(console.warn("Token expired, returning null from getAuthToken"),null):e:null},cme=e=>{if(!e)return!0;try{const t=ome(e),r=Date.now()/1e3;return t.exp<r}catch(t){return console.error("Error decoding token:",t),!0}},Ip=e=>{const t=Hv(e);switch(console.log("getRedirectUrl: Processing user:",{userRole:t,userRoleType:typeof t,isNewUser:e==null?void 0:e.isNewUser,hasCompletedBehaviorQuestions:e==null?void 0:e.hasCompletedBehaviorQuestions,userEmail:e==null?void 0:e.email,rawUser:e}),t){case 2:return console.log("getRedirectUrl: Redirecting admin to /admin-dashboard"),"/admin-dashboard";case 3:return console.log("getRedirectUrl: Redirecting owner to /owner-dashboard"),"/owner-dashboard";case 1:return e.isNewUser&&!e.hasCompletedBehaviorQuestions?(console.log("getRedirectUrl: Redirecting new seeker to /seeker-onboarding"),"/seeker-onboarding"):e.isTenant?(console.log("getRedirectUrl: User is an active tenant, redirecting to /tenant-dashboard"),"/tenant-dashboard"):e.activeBookingId?(console.log(`getRedirectUrl: User has active booking ${e.activeBookingId}, redirecting to post-booking dashboard`),`/booking-dashboard/${e.activeBookingId}`):(console.log("getRedirectUrl: Redirecting seeker to /seeker-dashboard"),"/seeker-dashboard");default:return console.log("getRedirectUrl: Unknown role, redirecting to /login"),"/login"}},dme=()=>{const e=console.error;console.error=(...r)=>{const n=r.join(" ");n.includes("Refused to get unsafe header")||n.includes("x-rtb-fingerprint-id")||e.apply(console,r)};const t=console.warn;console.warn=(...r)=>{const n=r.join(" ");n.includes("Expected length")&&n.includes("auto")||t.apply(console,r)},window.addEventListener("error",r=>{if(r.message.includes("MutationObserver")&&r.message.includes("parameter 1 is not of type"))return r.preventDefault(),!1})},A6=({currentImage:e,onImageUpdate:t,className:r=""})=>{const[n,a]=_.useState(!1),[i,o]=_.useState(null),l=_.useRef(null),c=A=>{const m=A.target.files[0];if(m){if(!m.type.startsWith("image/")){alert("Please select an image file");return}if(m.size>5*1024*1024){alert("File size must be less than 5MB");return}const x=new FileReader;x.onload=g=>{o(g.target.result)},x.readAsDataURL(m)}},d=async()=>{var A;if(i){a(!0);try{const m=localStorage.getItem("authToken");if(!m)throw new Error("No authentication token found. Please log in again.");const g=await(await fetch(i)).blob(),y=new FormData;y.append("profilePicture",g,"profile-picture.jpg");const v=await Bn.post("http://localhost:5000/api/user/upload-profile-picture",y,{headers:{Authorization:`Bearer ${m}`,"Content-Type":"multipart/form-data"}});if(v.data.user){const w={...JSON.parse(localStorage.getItem("user")),profilePicture:v.data.user.profilePicture};localStorage.setItem("user",JSON.stringify(w)),t(v.data.user.profilePicture),window.dispatchEvent(new Event("lyvo-profile-update")),o(null)}}catch(m){console.error("Upload error:",m);let x="Failed to upload image. Please try again.";m.response?(x=((A=m.response.data)==null?void 0:A.message)||x,console.error("Server error:",m.response.data),m.response.status===401&&(x="Your session has expired. Please log in again.",localStorage.removeItem("authToken"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},2e3))):m.request?(x="Network error. Please check your connection.",console.error("Network error:",m.request)):console.error("Error:",m.message),alert(x)}finally{a(!1)}}},u=()=>{o(null),l.current&&(l.current.value="")},f=()=>i||e||null;return s.jsxs("div",{className:`relative ${r}`,children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl border-4 border-white shadow-lg overflow-hidden bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center",children:f()?s.jsx("img",{src:f(),alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(cr,{className:"w-12 h-12 text-white"})}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-2xl flex items-center justify-center",children:s.jsx("button",{onClick:()=>{var A;return(A=l.current)==null?void 0:A.click()},className:"text-white hover:text-gray-200 transition-colors",disabled:n,children:s.jsx(ms,{className:"w-6 h-6"})})})]}),s.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:c,className:"hidden"}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Preview Profile Picture"}),s.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600",children:s.jsx(nr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("img",{src:i,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:u,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:d,disabled:n,className:"flex-1 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg font-medium hover:shadow-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center space-x-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(n6,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload"})]})})]})]})})]})},ume=e=>{const t=new Date(e);if(isNaN(t.getTime()))return"Recently";const n=Math.floor((new Date-t)/1e3);if(n<60)return"Just now";const a=Math.floor(n/60);if(a<60)return`${a} minute${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<7)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/7);if(l<4)return`${l} week${l>1?"s":""} ago`;const c=Math.floor(o/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(o/365);return`${d} year${d>1?"s":""} ago`},tW=({onMenuToggle:e})=>{const[t,r]=_.useState(!1),[n,a]=_.useState(!1),[i,o]=_.useState([]),[l,c]=_.useState(0),[d,u]=_.useState(!1),[f,A]=_.useState({}),m="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face";ro();const x=hr();_.useEffect(()=>{try{const b=localStorage.getItem("user");b&&A(JSON.parse(b))}catch(b){console.error("Error parsing user data:",b),A({})}},[]);const g=async()=>{try{u(!0);const b=JSON.parse(localStorage.getItem("user")||"{}"),w=b._id||b.id||f._id||f.id;if(!w)return;const C=await qe.get("/notifications",{headers:{"x-user-id":w}});if(C.status===200){const N=C.data;N.success&&(o(N.data||[]),c(N.unreadCount||0))}}catch(b){console.error("Error fetching notifications:",b)}finally{u(!1)}},y=async b=>{try{const w=JSON.parse(localStorage.getItem("user")||"{}");if(!(w._id||w.id||f._id||f.id))return;(await qe.delete(`/notifications/${b}`,{headers:{"x-user-id":w._id||w.id||f._id||f.id}})).status===200&&g()}catch(w){console.error("Error deleting notification:",w)}};_.useEffect(()=>{g();const b=setInterval(g,3e4);return window.lyvoIntervals||(window.lyvoIntervals=[]),window.lyvoIntervals.push(b),()=>{if(clearInterval(b),window.lyvoIntervals){const w=window.lyvoIntervals.indexOf(b);w>-1&&window.lyvoIntervals.splice(w,1)}}},[]),_.useEffect(()=>{const b=w=>{console.log(" SeekerNavbar received new-notification event:",w.detail),g()};return window.addEventListener("new-notification",b),()=>window.removeEventListener("new-notification",b)},[]),_.useEffect(()=>{const b=w=>{w.target.closest("[data-logout-button]")||w.target.closest("[data-profile-button]")||w.target.closest(".dropdown-container")||(a(!1),r(!1))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const v=()=>{console.log(" Navbar handleLogout called"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),console.log(" Dispatching logout event..."),window.dispatchEvent(new Event("lyvo-logout")),console.log(" Navigating to login..."),x("/login"),console.log(" Navbar logout completed")};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(FN,{className:"w-5 h-5 text-gray-600"})}),s.jsxs(Ft,{to:"/seeker-dashboard",className:"flex items-center space-x-2",children:[s.jsx(J.div,{className:"w-8 h-8 rounded-lg flex items-center justify-center overflow-hidden",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:flex items-center",children:[s.jsx("span",{className:"text-xl font-bold text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-xl font-bold text-black",children:"+"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(J.button,{onClick:()=>r(!t),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(cd,{className:"w-5 h-5 text-gray-600"}),l>0&&s.jsx(J.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:l>9?"9+":l})]}),s.jsx(Sr,{children:t&&s.jsxs(s.Fragment,{children:[s.jsx(J.div,{className:"fixed inset-0 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1)}),s.jsxs(J.div,{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:d?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-2",children:"Loading notifications..."})]}):i.length>0?i.map(b=>s.jsx("div",{className:`p-4 mb-2 mx-2 rounded-lg border border-gray-200 ${b.is_read?"bg-white":"bg-blue-50 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${b.type==="booking_approved"?"bg-green-500":b.type==="booking_rejected"?"bg-red-500":b.type==="booking_request"?"bg-blue-500":b.type==="expense_reminder"?"bg-orange-500":b.type==="expense_added"?"bg-rose-500":b.type==="expense_settled"?"bg-emerald-500":"bg-yellow-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:ume(b.createdAt||b.created_at)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!b.is_read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("button",{onClick:()=>y(b._id),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",title:"Close notification",children:s.jsx(nr,{className:"w-4 h-4 text-gray-500 hover:text-gray-700"})})]})]})},b._id)):s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(cd,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No notifications yet"})]})})]})]})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs(J.button,{onClick:()=>a(!n),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-red-50 transition-colors group",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(J.div,{className:"relative w-8 h-8 rounded-full overflow-hidden shadow-md",whileHover:{scale:1.08},transition:{duration:.2},children:s.jsx("img",{src:(f==null?void 0:f.profilePicture)||m,alt:"Profile",className:"w-full h-full object-cover",onError:b=>{b.currentTarget.src=m}})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 group-hover:text-red-700 transition-colors",children:f.name||"User"})]}),s.jsx(Sr,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(J.div,{className:"fixed inset-0 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1)}),s.jsx(J.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-50",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:s.jsxs("div",{className:"py-2",children:[s.jsxs(Ft,{to:"/seeker-profile","data-profile-button":!0,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>{console.log(" Profile button clicked"),a(!1)},children:[s.jsx(cr,{className:"w-4 h-4 mr-3"}),"Profile"]}),s.jsx("hr",{className:"my-2"}),s.jsxs("button",{"data-logout-button":!0,onClick:b=>{b.preventDefault(),b.stopPropagation(),console.log(" Navbar logout button clicked"),a(!1),v()},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx($a,{className:"w-4 h-4 mr-3"}),"Logout"]})]})})]})})]})]})]})})},hme=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!0),[a,i]=_.useState(null),o=_.useRef(!1),l=_.useCallback(async()=>{if(o.current&&r){console.log("Booking status check already in progress, skipping...");return}o.current=!0;try{n(!0),i(null);const d=JSON.parse(localStorage.getItem("user")||"{}");if(!(d.id||d._id||d.userId)){console.log("No user ID found"),t(!1),n(!1);return}const f="http://localhost:5000/api/property",A=new AbortController,m=setTimeout(()=>A.abort(),5e3),x=localStorage.getItem("authToken");try{const g=await fetch(`${f}/user/bookings`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},signal:A.signal});if(clearTimeout(m),!g.ok)throw new Error(`Failed to fetch bookings: ${g.status}`);const v=(await g.json()).bookings||[],b=v.filter(w=>{var C;return w.status==="confirmed"&&((C=w.payment)==null?void 0:C.paymentStatus)==="completed"});t(b.length>0),v.length>0&&console.log("Booking status check:",{totalBookings:v.length,confirmedBookings:b.length,hasConfirmedBooking:b.length>0})}catch(g){if(clearTimeout(m),g.name==="AbortError")console.warn("Booking status check timed out - continuing without booking data");else throw g}}catch(d){console.error("Error checking booking status:",d),i(d.message),t(!1)}finally{n(!1),o.current=!1}},[]);_.useEffect(()=>{l()},[l]);const c=_.useCallback(()=>{o.current=!1,l()},[l]);return{hasConfirmedBooking:e,loading:r,error:a,refreshBookingStatus:c}},om=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(null),c=_.useCallback(async()=>{try{i(!0),l(null);const u=await qe.get("/property/user/tenant-status");t(u.data.isTenant),n(u.data.tenantData)}catch(u){console.error("Error fetching tenant status:",u),l(u.message),t(!1),n(null)}finally{i(!1)}},[]);_.useEffect(()=>{c()},[c]);const d=_.useCallback(()=>{c()},[c]);return{isTenant:e,tenantData:r,loading:a,error:o,refreshTenantStatus:d}},aR=({onClose:e})=>{const t=ro(),r=hr(),[n,a]=_.useState({}),[i,o]=_.useState(!1),l="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face";_.useEffect(()=>{try{const P=localStorage.getItem("user");if(P){const k=JSON.parse(P);if(a(k),(k==null?void 0:k.role)===2){const T=[!k.phone,!k.location,k.age===void 0||k.age===null||k.age==="",!k.occupation,!k.gender].some(Boolean);o(T)}}}catch(P){console.error("Error parsing user data:",P),a({})}},[]);const{hasConfirmedBooking:c,loading:d,refreshBookingStatus:u}=hme(),{isTenant:f,loading:A}=om(),m=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login")};_.useEffect(()=>{const P=()=>{u()};return window.addEventListener("booking-status-changed",P),window.addEventListener("booking-approved",P),window.addEventListener("booking-cancelled",P),()=>{window.removeEventListener("booking-status-changed",P),window.removeEventListener("booking-approved",P),window.removeEventListener("booking-cancelled",P)}},[u]);const x=[{name:"Profile",href:"/seeker-profile",icon:cr}],w=i?[{name:"Profile",href:"/seeker-profile",icon:cr},{name:"Identity Verification",href:"/seeker-kyc",icon:er}]:f?[...[{name:"Dashboard",href:"/tenant-dashboard",icon:Pr},{name:"Payment History",href:"/tenant-payments",icon:ra},{name:"Split Expenses",href:"/tenant-expenses",icon:ky},{name:"Request Maintenance",href:"/tenant-maintenance",icon:Gd},{name:"View Agreement",href:"/tenant-agreement",icon:Is},{name:"Roommates",href:"/tenant-roommates",icon:cr}],...x]:c?[...[{name:"My Room",href:"/my-room",icon:Pr}],...x]:[...[{name:"Dashboard",href:"/seeker-dashboard",icon:Pr},{name:"Identity Verification",href:"/seeker-kyc",icon:er},{name:"My Booking",href:"/seeker-bookings",icon:Fr},{name:"Favorites",href:"/seeker-favorites",icon:Zh}],...x],C=P=>t.pathname===P,N={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},j={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(J.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-red-200/50 flex flex-col shadow-2xl h-screen",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"absolute inset-0 opacity-5",children:[s.jsx("div",{className:"absolute top-10 left-4 w-32 h-32 bg-red-400 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-4 w-24 h-24 bg-red-300 rounded-full blur-2xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-red-500 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),s.jsxs("div",{className:"relative flex-shrink-0 flex items-center justify-between p-4 border-b border-red-200/50 bg-red-50/30",children:[s.jsxs(J.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsxs(J.div,{className:"relative w-10 h-10 flex items-center justify-center overflow-hidden bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg",whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.3}},whileTap:{scale:.95},transition:{duration:.2},children:[s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-6 h-6 object-contain filter brightness-0 invert"}),s.jsx("div",{className:"absolute inset-0 bg-red-400 rounded-xl blur-md opacity-0 group-hover:opacity-50 transition-opacity duration-300"})]}),s.jsxs("div",{children:[s.jsxs(J.div,{className:"flex items-center",whileHover:{scale:1.05},transition:{duration:.2},children:[s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent",children:"Lyvo"}),s.jsx(J.span,{className:"text-xl font-bold text-gray-800 ml-1",animate:{scale:[1,1.1,1],opacity:[1,.7,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"+"})]}),s.jsx(J.p,{className:"text-xs text-gray-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:f?"Tenant Portal":"Seeker Portal"})]})]}),s.jsx("button",{onClick:e,className:"lg:hidden p-1 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(nr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"relative flex-shrink-0 p-4 border-b border-red-200/50 bg-red-50/20",children:s.jsxs(J.div,{className:"relative flex items-center space-x-3 p-3 rounded-xl bg-white border border-red-100/50 shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},whileHover:{scale:1.02,transition:{duration:.2}},children:[s.jsx(J.div,{className:"relative w-12 h-12 rounded-full overflow-hidden shadow-lg",whileHover:{scale:1.05,transition:{duration:.2}},children:s.jsx("img",{src:(n==null?void 0:n.profilePicture)||l,alt:"Profile",className:"w-full h-full object-cover",onError:P=>{P.currentTarget.src=l}})}),s.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[s.jsx(J.p,{className:"text-sm font-semibold text-gray-900 truncate",whileHover:{scale:1.02},transition:{duration:.2},children:n.name||"User"}),s.jsx(J.p,{className:"text-xs text-gray-600 break-words",whileHover:{scale:1.01},transition:{duration:.2},children:n.email||"user@example.com"}),!d&&!A&&s.jsxs(J.div,{className:"mt-1 flex items-center space-x-1",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${f?"bg-green-500":c?"bg-blue-400":"bg-yellow-400"}`}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:f?"Active Tenant":c?"Booking Confirmed":"Looking for Room"})]})]}),s.jsx(J.div,{className:"w-3 h-3 bg-green-400 rounded-full shadow-sm",animate:{scale:[1,1.2,1],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]})}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:A||d?Array(5).fill(0).map((P,k)=>s.jsxs("div",{className:"flex items-center px-4 py-3 rounded-xl space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-24"})]},k)):w.map((P,k)=>s.jsx(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+k*.05,duration:.3},variants:N,whileHover:"hover",whileTap:"tap",children:s.jsxs(Ft,{to:P.href,className:`group relative flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-300 ${C(P.href)?"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border-r-4 border-red-500 shadow-lg":"text-gray-700 hover:bg-gradient-to-r hover:from-red-50/50 hover:to-red-100/50 hover:text-red-700 hover:shadow-md"}`,children:[s.jsx(J.div,{className:"absolute inset-0 bg-gradient-to-r from-red-400/20 to-red-600/20 rounded-xl opacity-0 group-hover:opacity-100",transition:{duration:.3}}),s.jsxs(J.div,{className:"relative z-10 flex items-center w-full",whileHover:{x:2},transition:{duration:.2},children:[s.jsx(J.div,{className:`mr-4 h-6 w-6 flex items-center justify-center rounded-lg transition-all duration-300 ${C(P.href)?"bg-red-100 text-red-600":"text-gray-400 group-hover:bg-red-100 group-hover:text-red-600"}`,whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.3}},children:s.jsx(P.icon,{className:"h-4 w-4"})}),s.jsx("span",{className:"flex-1 font-semibold",children:P.name}),C(P.href)&&s.jsxs(J.div,{className:"flex items-center space-x-2",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1,duration:.3},children:[s.jsx(J.div,{className:"w-2 h-2 bg-red-500 rounded-full",animate:{scale:[1,1.3,1],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),s.jsx(J.div,{className:"w-1 h-1 bg-red-400 rounded-full",animate:{scale:[1,1.2,1],opacity:[.8,.4,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.3}})]})]})]})},P.name))}),s.jsx("div",{className:"flex-shrink-0 p-4 border-t border-red-200/50",children:s.jsxs(J.button,{onClick:m,className:"group relative w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-gradient-to-r from-red-500 to-red-600 rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-lg hover:shadow-xl overflow-hidden",variants:j,whileHover:"hover",whileTap:"tap",children:[s.jsx(J.div,{className:"absolute inset-0 bg-gradient-to-r from-red-400 to-red-500 opacity-0 group-hover:opacity-100",transition:{duration:.3}}),s.jsx(J.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s.jsxs(J.div,{className:"relative z-10 flex items-center",whileHover:{x:2},transition:{duration:.2},children:[s.jsx(J.div,{className:"mr-3 p-1 rounded-lg bg-white/20",whileHover:{rotate:[0,-10,10,0],transition:{duration:.3}},children:s.jsx($a,{className:"h-4 w-4"})}),s.jsx("span",{children:"Logout"})]})]})})]})},fme=()=>{new Date().getFullYear();const e={"Quick Links":[{name:"Dashboard",href:"/seeker-dashboard",icon:Pr},{name:"Favorites",href:"/seeker-favorites",icon:Zh},{name:"Bookings",href:"/seeker-bookings",icon:Fr}],Account:[{name:"Profile",href:"/seeker-profile",icon:cr},{name:"Settings",href:"/seeker-settings",icon:sc}]},t=[{name:"Facebook",href:"#",icon:""},{name:"Twitter",href:"#",icon:""},{name:"Instagram",href:"#",icon:""},{name:"LinkedIn",href:"#",icon:""}];return s.jsxs("footer",{className:"bg-white border-t border-gray-200 text-gray-800",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(J.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-xl font-bold text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-xl font-bold text-gray-800",children:"+"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Seeker Portal"})]})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Find your perfect PG, hostel, and co-living space with India's #1 platform. Verified properties, secure payments, and instant booking."}),s.jsx("div",{className:"flex space-x-4",children:t.map((r,n)=>s.jsx(J.a,{href:r.href,className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-red-100 transition-colors duration-200",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{delay:n*.1,duration:.3},viewport:{once:!0},children:s.jsx("span",{className:"text-sm",children:r.icon})},r.name))})]})}),Object.entries(e).map(([r,n],a)=>s.jsxs("div",{className:"space-y-4",children:[s.jsx(J.h4,{className:"text-lg font-semibold text-gray-800",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:a*.1,duration:.6},viewport:{once:!0},children:r}),s.jsx("ul",{className:"space-y-2",children:n.map((i,o)=>s.jsx(J.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:a*.1+o*.05,duration:.6},viewport:{once:!0},children:s.jsxs(Ft,{to:i.href,className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors duration-200 group",children:[i.icon&&s.jsx(i.icon,{className:"w-4 h-4 text-gray-500 group-hover:text-red-500 transition-colors duration-200"}),s.jsx("span",{className:"text-sm",children:i.name})]})},i.name))})]},r))]})}),s.jsx("div",{className:"lg:hidden bg-gray-50 border-t border-gray-200",children:s.jsx("div",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex justify-around",children:[s.jsxs(Ft,{to:"/seeker-dashboard",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Pr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Home"})]}),s.jsxs(Ft,{to:"/seeker-favorites",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Zh,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Favorites"})]}),s.jsxs(Ft,{to:"/seeker-bookings",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Fr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Bookings"})]}),s.jsxs(Ft,{to:"/seeker-profile",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(cr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Profile"})]})]})})})]})},hd=Object.create(null);hd.open="0";hd.close="1";hd.ping="2";hd.pong="3";hd.message="4";hd.upgrade="5";hd.noop="6";const N1=Object.create(null);Object.keys(hd).forEach(e=>{N1[hd[e]]=e});const DB={type:"error",data:"parser error"},rW=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",nW=typeof ArrayBuffer=="function",sW=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,m6=({type:e,data:t},r,n)=>rW&&t instanceof Blob?r?n(t):iR(t,n):nW&&(t instanceof ArrayBuffer||sW(t))?r?n(t):iR(new Blob([t]),n):n(hd[e]+(t||"")),iR=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function oR(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let NC;function Ame(e,t){if(rW&&e.data instanceof Blob)return e.data.arrayBuffer().then(oR).then(t);if(nW&&(e.data instanceof ArrayBuffer||sW(e.data)))return t(oR(e.data));m6(e,!1,r=>{NC||(NC=new TextEncoder),t(NC.encode(r))})}const lR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<lR.length;e++)mx[lR.charCodeAt(e)]=e;const mme=e=>{let t=e.length*.75,r=e.length,n,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(n=0;n<r;n+=4)i=mx[e.charCodeAt(n)],o=mx[e.charCodeAt(n+1)],l=mx[e.charCodeAt(n+2)],c=mx[e.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},pme=typeof ArrayBuffer=="function",p6=(e,t)=>{if(typeof e!="string")return{type:"message",data:aW(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:gme(e.substring(1),t)}:N1[r]?e.length>1?{type:N1[r],data:e.substring(1)}:{type:N1[r]}:DB},gme=(e,t)=>{if(pme){const r=mme(e);return aW(r,t)}else return{base64:!0,data:e}},aW=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},iW="",xme=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((i,o)=>{m6(i,!1,l=>{n[o]=l,++a===r&&t(n.join(iW))})})},yme=(e,t)=>{const r=e.split(iW),n=[];for(let a=0;a<r.length;a++){const i=p6(r[a],t);if(n.push(i),i.type==="error")break}return n};function vme(){return new TransformStream({transform(e,t){Ame(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let _C;function ew(e){return e.reduce((t,r)=>t+r.length,0)}function tw(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function bme(e,t){_C||(_C=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(ew(r)<1)break;const c=tw(r,1);i=(c[0]&128)===128,a=c[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(ew(r)<2)break;const c=tw(r,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(ew(r)<8)break;const c=tw(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(DB);break}a=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if(ew(r)<a)break;const c=tw(r,a);l.enqueue(p6(i?c:_C.decode(c),t)),n=0}if(a===0||a>e){l.enqueue(DB);break}}}})}const oW=4;function ea(e){if(e)return wme(e)}function wme(e){for(var t in ea.prototype)e[t]=ea.prototype[t];return e}ea.prototype.on=ea.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ea.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};ea.prototype.off=ea.prototype.removeListener=ea.prototype.removeAllListeners=ea.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};ea.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};ea.prototype.emitReserved=ea.prototype.emit;ea.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ea.prototype.hasListeners=function(e){return!!this.listeners(e).length};const VN=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),il=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),jme="arraybuffer";function lW(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const Nme=il.setTimeout,_me=il.clearTimeout;function KN(e,t){t.useNativeTimers?(e.setTimeoutFn=Nme.bind(il),e.clearTimeoutFn=_me.bind(il)):(e.setTimeoutFn=il.setTimeout.bind(il),e.clearTimeoutFn=il.clearTimeout.bind(il))}const Cme=1.33;function Sme(e){return typeof e=="string"?Bme(e):Math.ceil((e.byteLength||e.size)*Cme)}function Bme(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function cW(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function kme(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Eme(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class Pme extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class g6 extends ea{constructor(t){super(),this.writable=!1,KN(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new Pme(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=p6(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=kme(t);return r.length?"?"+r:""}}class Ime extends g6{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};yme(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,xme(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=cW()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let dW=!1;try{dW=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Tme=dW;function Ome(){}class Lme extends Ime{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class ed extends ea{constructor(t,r,n){super(),this.createRequest=t,KN(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=lW(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=ed.requestsCount++,ed.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ome,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ed.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ed.requestsCount=0;ed.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",cR);else if(typeof addEventListener=="function"){const e="onpagehide"in il?"pagehide":"unload";addEventListener(e,cR,!1)}}function cR(){for(let e in ed.requests)ed.requests.hasOwnProperty(e)&&ed.requests[e].abort()}const Fme=function(){const e=uW({xdomain:!1});return e&&e.responseType!==null}();class Rme extends Lme{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Fme&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ed(uW,this.uri(),t)}}function uW(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Tme))return new XMLHttpRequest}catch{}if(!t)try{return new il[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const hW=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ume extends g6{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=hW?{}:lW(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;m6(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&VN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=cW()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const CC=il.WebSocket||il.MozWebSocket;class Dme extends Ume{createSocket(t,r,n){return hW?new CC(t,r,n):r?new CC(t,r):new CC(t)}doWrite(t,r){this.ws.send(r)}}class Mme extends g6{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=bme(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=vme();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&VN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Qme={websocket:Dme,webtransport:Mme,polling:Rme},$me=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Hme=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function MB(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=$me.exec(e||""),i={},o=14;for(;o--;)i[Hme[o]]=a[o]||"";return r!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=zme(i,i.path),i.queryKey=Vme(i,i.query),i}function zme(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Vme(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}const QB=typeof addEventListener=="function"&&typeof removeEventListener=="function",_1=[];QB&&addEventListener("offline",()=>{_1.forEach(e=>e())},!1);class Qh extends ea{constructor(t,r){if(super(),this.binaryType=jme,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=MB(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=MB(r.host).host);KN(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Eme(this.opts.query)),QB&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},_1.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=oW,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Qh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Qh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=Sme(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,VN(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Qh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),QB&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=_1.indexOf(this._offlineEventListener);n!==-1&&_1.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Qh.protocol=oW;class Kme extends Qh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Qh.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Qh.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const A=new Error("probe error");A.transport=r.name,this.emitReserved("upgradeError",A)}}))};function i(){n||(n=!0,u(),r.close(),r=null)}const o=f=>{const A=new Error("probe error: "+f);A.transport=r.name,i(),this.emitReserved("upgradeError",A)};function l(){o("transport closed")}function c(){o("socket closed")}function d(f){r&&f.name!==r.name&&i()}const u=()=>{r.removeListener("open",a),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",a),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Wme=class extends Kme{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>Qme[a]).filter(a=>!!a)),super(t,n)}};function Gme(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=MB(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const qme=typeof ArrayBuffer=="function",Yme=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,fW=Object.prototype.toString,Xme=typeof Blob=="function"||typeof Blob<"u"&&fW.call(Blob)==="[object BlobConstructor]",Zme=typeof File=="function"||typeof File<"u"&&fW.call(File)==="[object FileConstructor]";function x6(e){return qme&&(e instanceof ArrayBuffer||Yme(e))||Xme&&e instanceof Blob||Zme&&e instanceof File}function C1(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(C1(e[r]))return!0;return!1}if(x6(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return C1(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&C1(e[r]))return!0;return!1}function Jme(e){const t=[],r=e.data,n=e;return n.data=$B(r,t),n.attachments=t.length,{packet:n,buffers:t}}function $B(e,t){if(!e)return e;if(x6(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=$B(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=$B(e[n],t));return r}return e}function epe(e,t){return e.data=HB(e.data,t),delete e.attachments,e}function HB(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=HB(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=HB(e[r],t));return e}const AW=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],tpe=5;var Er;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Er||(Er={}));class rpe{constructor(t){this.replacer=t}encode(t){return(t.type===Er.EVENT||t.type===Er.ACK)&&C1(t)?this.encodeAsBinary({type:t.type===Er.EVENT?Er.BINARY_EVENT:Er.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Er.BINARY_EVENT||t.type===Er.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Jme(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}class y6 extends ea{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Er.BINARY_EVENT;n||r.type===Er.BINARY_ACK?(r.type=n?Er.EVENT:Er.ACK,this.reconstructor=new npe(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(x6(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Er[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Er.BINARY_EVENT||n.type===Er.BINARY_ACK){const i=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(i,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(i,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(i,r+1))}if(t.charAt(++r)){const i=this.tryParse(t.substr(r));if(y6.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Er.CONNECT:return S2(r);case Er.DISCONNECT:return r===void 0;case Er.CONNECT_ERROR:return typeof r=="string"||S2(r);case Er.EVENT:case Er.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&AW.indexOf(r[0])===-1);case Er.ACK:case Er.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class npe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=epe(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function spe(e){return typeof e=="string"}const ape=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function ipe(e){return e===void 0||ape(e)}function S2(e){return Object.prototype.toString.call(e)==="[object Object]"}function ope(e,t){switch(e){case Er.CONNECT:return t===void 0||S2(t);case Er.DISCONNECT:return t===void 0;case Er.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&AW.indexOf(t[0])===-1);case Er.ACK:return Array.isArray(t);case Er.CONNECT_ERROR:return typeof t=="string"||S2(t);default:return!1}}function lpe(e){return spe(e.nsp)&&ipe(e.id)&&ope(e.type,e.data)}const cpe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:y6,Encoder:rpe,get PacketType(){return Er},isPacketValid:lpe,protocol:tpe},Symbol.toStringTag,{value:"Module"}));function Jl(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const dpe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class mW extends ea{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Jl(t,"open",this.onopen.bind(this)),Jl(t,"packet",this.onpacket.bind(this)),Jl(t,"error",this.onerror.bind(this)),Jl(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,i;if(dpe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Er.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,f=r.pop();this._registerAckCallback(u,f),o.id=u}const l=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},a),o=(...l)=>{this.io.clearTimeoutFn(i),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,a)=>{const i=(o,l)=>o?a(o):n(l);i.withError=!0,r.push(i),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Er.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Er.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Er.EVENT:case Er.BINARY_EVENT:this.onevent(t);break;case Er.ACK:case Er.BINARY_ACK:this.onack(t);break;case Er.DISCONNECT:this.ondisconnect();break;case Er.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:Er.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Er.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Wg(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Wg.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Wg.prototype.reset=function(){this.attempts=0};Wg.prototype.setMin=function(e){this.ms=e};Wg.prototype.setMax=function(e){this.max=e};Wg.prototype.setJitter=function(e){this.jitter=e};class zB extends ea{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,KN(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Wg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||cpe;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Wme(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Jl(r,"open",function(){n.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Jl(r,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Jl(t,"ping",this.onping.bind(this)),Jl(t,"data",this.ondata.bind(this)),Jl(t,"error",this.onerror.bind(this)),Jl(t,"close",this.onclose.bind(this)),Jl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){VN(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new mW(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const $0={};function S1(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Gme(e,t.path||"/socket.io"),n=r.source,a=r.id,i=r.path,o=$0[a]&&i in $0[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new zB(n,t):($0[a]||($0[a]=new zB(n,t)),c=$0[a]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(S1,{Manager:zB,Socket:mW,io:S1,connect:S1});class upe{constructor(){this.socket=null,this.isConnected=!1,this.currentChatId=null,this.eventListeners=new Map,this.apiBaseUrl="http://localhost:5000"}connect(t){return this.socket&&this.disconnect(),console.log(" Connecting to chat service..."),this.socket=S1(this.apiBaseUrl,{auth:{token:t},transports:["websocket","polling"],timeout:1e4,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log(" Connected to chat service"),this.isConnected=!0,this.emit("connected")}),this.socket.on("disconnect",r=>{console.log(" Disconnected from chat service:",r),this.isConnected=!1,this.emit("disconnected",r)}),this.socket.on("connect_error",r=>{console.error(" Chat service connection error:",r),this.emit("error",r)}),this.socket.on("error",r=>{console.error(" Chat service error:",r),this.emit("error",r)}),this.socket}disconnect(){this.socket&&(console.log(" Disconnecting from chat service..."),this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.currentChatId=null)}joinChat(t){this.socket&&this.isConnected?(console.log(" Joining chat:",t),this.socket.emit("join_chat",{chatId:t}),this.currentChatId=t):console.warn(" Cannot join chat: not connected to chat service")}leaveChat(){this.socket&&this.currentChatId&&(console.log(" Leaving chat:",this.currentChatId),this.socket.emit("leave_chat",{chatId:this.currentChatId}),this.currentChatId=null)}sendNotification(t){this.socket&&this.isConnected?(console.log(" Sending notification:",t),this.socket.emit("send_notification",t)):console.warn(" Cannot send notification: not connected")}sendMessage(t,r="text",n={}){this.socket&&this.isConnected&&this.currentChatId?(console.log(" Sending message:",t),this.socket.emit("send_message",{chatId:this.currentChatId,content:t,contentType:r,metadata:n})):console.warn(" Cannot send message: not connected or no active chat")}markAsRead(t=[]){this.socket&&this.isConnected&&this.currentChatId&&this.socket.emit("mark_read",{chatId:this.currentChatId,messageIds:t})}setTyping(t){this.socket&&this.isConnected&&this.currentChatId&&this.socket.emit("typing",{chatId:this.currentChatId,isTyping:t})}on(t,r){this.socket&&this.socket.on(t,r),this.eventListeners.has(t)||this.eventListeners.set(t,[]),this.eventListeners.get(t).push(r)}off(t,r){if(this.socket&&this.socket.off(t,r),this.eventListeners.has(t)){const n=this.eventListeners.get(t),a=n.indexOf(r);a>-1&&n.splice(a,1)}}emit(t,r){this.eventListeners.has(t)&&this.eventListeners.get(t).forEach(n=>{try{n(r)}catch(a){console.error("Error in event listener:",a)}})}async getUserChats(t){try{const r=localStorage.getItem("authToken"),n=await fetch(`${this.apiBaseUrl}/api/chat/user/${t}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();return a.success?a.data.chats:[]}catch(r){return console.error("Error fetching user chats:",r),[]}}async getChatMessages(t,r=1,n=50){try{const a=localStorage.getItem("authToken"),i=await fetch(`${this.apiBaseUrl}/api/chat/${t}/messages?page=${r}&limit=${n}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const o=await i.json();return o.success?o.data.messages:[]}catch(a){return console.error("Error fetching chat messages:",a),[]}}async getChatDetails(t){try{const r=localStorage.getItem("authToken"),n=await fetch(`${this.apiBaseUrl}/api/chat/${t}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();return a.success?a.data:null}catch(r){return console.error("Error fetching chat details:",r),null}}async sendMessageAPI(t,r,n="text",a={}){try{const i=localStorage.getItem("authToken"),o=await fetch(`${this.apiBaseUrl}/api/chat/${t}/message`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({content:r,contentType:n,metadata:a})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const l=await o.json();return l.success?l.data:null}catch(i){return console.error("Error sending message via API:",i),null}}async markAsReadAPI(t,r=[]){try{const n=localStorage.getItem("authToken"),a=await fetch(`${this.apiBaseUrl}/api/chat/${t}/read`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({messageIds:r})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return(await a.json()).success}catch(n){return console.error("Error marking messages as read via API:",n),!1}}getConnectionStatus(){var t;return{isConnected:this.isConnected,currentChatId:this.currentChatId,socketId:(t=this.socket)==null?void 0:t.id}}}const H0=new upe,v6=()=>{const{toast:e}=no();return _.useEffect(()=>{const t=()=>{const i=Vv();if(i){console.log(" NotificationListener: Token found, checking connection..."),H0.isConnected||(console.log(" NotificationListener: Connecting chatService..."),H0.connect(i));const o=l=>{console.log(" New notification received via socket:",l),e({title:l.title||"New Notification",description:l.message||"You have a new message",duration:5e3}),window.dispatchEvent(r(l))};return H0.on("new_notification",o),()=>{H0.off("new_notification",o)}}},r=i=>new CustomEvent("new-notification",{detail:i}),n=t(),a=()=>{console.log(" Auth change detected in NotificationListener"),t()};return window.addEventListener("lyvo-login",a),window.addEventListener("lyvo-logout",()=>{console.log(" Logout detected, disconnecting chatService"),H0.disconnect()}),()=>{n&&n(),window.removeEventListener("lyvo-login",a),window.removeEventListener("lyvo-logout",a)}},[]),null},Br=({children:e,hideFooter:t=!1,hideNavbar:r=!1})=>{const[n,a]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(!1),d=()=>{a(!n)},u=()=>{a(!1)},f={hidden:{x:"-100%",opacity:0,transition:{duration:.3,ease:"easeInOut"}},visible:{x:0,opacity:1,transition:{duration:.3,ease:"easeInOut"}},exit:{x:"-100%",opacity:0,transition:{duration:.25,ease:"easeInOut"}}},A={hidden:{opacity:0,transition:{duration:.2}},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},m=()=>{try{const x=localStorage.getItem("user");if(!x)return;const g=JSON.parse(x);if((g==null?void 0:g.role)===2){const y=[!g.phone,g.age===null||g.age===void 0||g.age==="",!g.occupation,!g.gender].some(Boolean);o(y),c(y)}}catch{}};return _.useEffect(()=>{m()},[]),_.useEffect(()=>{const x=y=>{y.key==="user"&&m()},g=()=>m();return window.addEventListener("storage",x),window.addEventListener("lyvo-profile-update",g),()=>{window.removeEventListener("storage",x),window.removeEventListener("lyvo-profile-update",g)}},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(aR,{onClose:u})}),s.jsxs("div",{className:"lg:ml-64",children:[!r&&s.jsx("div",{className:"sticky top-0 z-[1100] bg-white shadow-sm",children:s.jsx(tW,{onMenuToggle:d})}),i&&s.jsx("div",{className:"fixed top-20 right-4 z-40 max-w-xs",children:s.jsx("div",{className:"bg-white border border-blue-300 rounded-xl shadow-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Complete Your Profile"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add your preferences to find better PG matches"}),s.jsxs("div",{className:"mt-3 flex space-x-2",children:[s.jsx("button",{onClick:()=>o(!1),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors",children:"Complete Now"}),s.jsx("button",{onClick:()=>o(!1),className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:"Later"})]})]}),s.jsx("button",{onClick:()=>o(!1),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),s.jsx(Sr,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(J.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",variants:A,initial:"hidden",animate:"visible",exit:"hidden",onClick:u}),s.jsx(J.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] lg:hidden",variants:f,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(aR,{onClose:u})})]})}),s.jsx("main",{className:"min-h-screen",children:l?s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-blue-200 rounded-xl p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please fill in phone, age, occupation, and gender to continue."}),s.jsx("a",{href:"/seeker-profile",className:"inline-flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Go to Profile"})]})}):s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e})}),!t&&s.jsx(fme,{}),s.jsx(v6,{})]})]})},hpe=()=>{const e=hr(),[t,r]=_.useState(!1),[n,a]=_.useState(null),[i,o]=_.useState(!0),[l,c]=_.useState(!1),[d,u]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[f,A]=_.useState({current:!1,new:!1,confirm:!1}),[m,x]=_.useState({type:"",message:""}),[g,y]=_.useState({name:"",email:"",phone:"",location:"",joinDate:"",bio:"",isVerified:!1,trustScore:0,profilePicture:""});_.useEffect(()=>{(async()=>{try{const k=localStorage.getItem("authToken"),T=localStorage.getItem("user");if(!k||!T){a(null),o(!1),e("/login");return}const O=JSON.parse(T);if(console.log("Profile: User role check:",O.role),O.role===2){console.log("Profile: Redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(O.role===3){console.log("Profile: Redirecting owner to owner profile"),window.location.href="/owner-profile";return}else if(O.role===1)console.log("Profile: Regular user, staying on profile page"),a(O);else{console.error("Profile: Invalid user role:",O.role),e("/login");return}y(B=>({...B,name:O.name||"",email:O.email||"",profilePicture:O.profilePicture||"",phone:O.phone||"",location:O.location||"",bio:O.bio||"",isVerified:O.isVerified||!1,trustScore:95,joinDate:O.createdAt?new Date(O.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}))}catch(k){console.error("Error fetching user data:",k),a(null),e("/login")}finally{o(!1)}})()},[e]);const v=(P,k)=>{y(T=>({...T,[P]:k}))},b=(P,k)=>{u(T=>({...T,[P]:k}))},w=P=>{A(k=>({...k,[P]:!k[P]}))},C=async()=>{try{x({type:"loading",message:"Saving changes..."});const P=localStorage.getItem("authToken");if(!P)throw new Error("No authentication token found");const k={name:g.name,phone:g.phone,location:g.location,bio:g.bio},T=await fetch(`http://localhost:5000/api/user/profile/${n._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify(k)});if(!T.ok){const M=await T.json();throw new Error(M.message||"Failed to update profile")}const O=await T.json(),F={...JSON.parse(localStorage.getItem("user")),...O.user};localStorage.setItem("user",JSON.stringify(F)),a(F),r(!1),x({type:"success",message:"Profile updated successfully!"}),window.dispatchEvent(new Event("lyvo-profile-update")),setTimeout(()=>{x({type:"",message:""})},3e3)}catch(P){console.error("Profile update error:",P),x({type:"error",message:P.message||"Failed to update profile"}),setTimeout(()=>{x({type:"",message:""})},3e3)}},N=P=>{y(k=>({...k,profilePicture:P})),x({type:"success",message:"Profile picture updated successfully!"}),setTimeout(()=>{x({type:"",message:""})},3e3)},j=async()=>{try{if(d.newPassword!==d.confirmPassword){x({type:"error",message:"New passwords do not match"});return}if(d.newPassword.length<6){x({type:"error",message:"Password must be at least 6 characters long"});return}x({type:"loading",message:"Updating password..."});const P=localStorage.getItem("authToken");if(!P)throw new Error("No authentication token found");const k=await fetch("http://localhost:5000/api/user/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({currentPassword:d.currentPassword,newPassword:d.newPassword})});if(!k.ok){const T=await k.json();throw new Error(T.message||"Failed to update password")}x({type:"success",message:"Password updated successfully!"}),c(!1),u({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{x({type:"",message:""})},3e3)}catch(P){console.error("Password update error:",P),x({type:"error",message:P.message||"Failed to update password"}),setTimeout(()=>{x({type:"",message:""})},3e3)}};return i?s.jsx("div",{className:"pt-16 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):n?s.jsx(Br,{children:s.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Q0,{children:s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:s.jsxs("div",{className:"relative h-48 bg-gradient-to-r from-red-500/10 via-red-600/10 to-red-700/10",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-transparent"}),s.jsxs("div",{className:"absolute bottom-6 left-8 flex items-end space-x-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(A6,{currentImage:g.profilePicture,onImageUpdate:N,className:"w-24 h-24"}),g.isVerified&&s.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:s.jsx(er,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"text-gray-900 pb-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-1",children:g.name||"User"}),s.jsxs("p",{className:"text-gray-600 flex items-center space-x-2",children:[s.jsx(Fr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Joined ",g.joinDate||"Recently"]})]})]})]}),s.jsx("div",{className:"absolute top-6 right-8",children:s.jsxs(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!t),className:"bg-white/90 backdrop-blur-sm text-gray-700 px-4 py-2 rounded-xl font-medium flex items-center space-x-2 shadow-lg hover:bg-white transition-all duration-300",children:[t?s.jsx(nr,{className:"w-4 h-4"}):s.jsx(mA,{className:"w-4 h-4"}),s.jsx("span",{children:t?"Cancel":"Edit"})]})})]})})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx(Q0,{delay:.1,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:[s.jsx(er,{className:"w-4 h-4"}),s.jsx("span",{children:"Verified"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),t?s.jsx("input",{type:"text",value:g.name,onChange:P=>v("name",P.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:g.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(nn,{className:"w-4 h-4 mr-2 text-gray-400"}),g.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),t?s.jsx("input",{type:"tel",value:g.phone,onChange:P=>v("phone",P.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(bn,{className:"w-4 h-4 mr-2 text-gray-400"}),g.phone||"Not provided"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),t?s.jsx("input",{type:"text",value:g.location,onChange:P=>v("location",P.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter your location"}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(xr,{className:"w-4 h-4 mr-2 text-gray-400"}),g.location||"Not provided"]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),t?s.jsx("textarea",{value:g.bio,onChange:P=>v("bio",P.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300 resize-none",placeholder:"Tell us about yourself..."}):s.jsx("p",{className:"text-gray-600 leading-relaxed",children:g.bio||"No bio provided"})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Q0,{delay:.1,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Trust Score"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:g.trustScore})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Excellent Profile"})]})]})}),s.jsx(Q0,{delay:.2,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>c(!0),className:"w-full px-4 py-3 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-300 flex items-center justify-center space-x-2",children:[s.jsx(Ac,{className:"w-4 h-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]}),t&&s.jsx(Q0,{delay:.4,children:s.jsx("div",{className:"text-center mt-8",children:s.jsxs(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:C,disabled:m.type==="loading",className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Lv,{className:"w-5 h-5"}),s.jsx("span",{children:m.type==="loading"?"Saving...":"Save Changes"})]})})}),m.message&&s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`fixed top-20 right-4 z-50 px-6 py-3 rounded-xl shadow-lg ${m.type==="success"?"bg-green-100 border border-green-300 text-green-800":m.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-100 border border-blue-300 text-blue-800"}`,children:m.message}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-8 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Change Password"}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(nr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:f.current?"text":"password",value:d.currentPassword,onChange:P=>b("currentPassword",P.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>w("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f.current?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:f.new?"text":"password",value:d.newPassword,onChange:P=>b("newPassword",P.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>w("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f.new?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:f.confirm?"text":"password",value:d.confirmPassword,onChange:P=>b("confirmPassword",P.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>w("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f.confirm?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300",children:"Cancel"}),s.jsx("button",{onClick:j,disabled:m.type==="loading",className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-300 disabled:opacity-50",children:m.type==="loading"?"Updating...":"Update Password"})]})]})]})})]})})}):s.jsx("div",{className:"pt-16 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(cr,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access your profile."}),s.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-lg font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200",children:"Go to Login"})]})})},fpe=()=>{const e=[{icon:Zh,title:"Community First",description:"We believe in building strong, supportive communities where everyone feels at home."},{icon:er,title:"Trust & Security",description:"Your safety and privacy are our top priorities with verified listings and secure transactions."},{icon:iu,title:"Innovation",description:"Leveraging cutting-edge technology to make co-living seamless and enjoyable."},{icon:$ue,title:"Transparency",description:"Clear pricing, honest reviews, and open communication at every step."}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-red-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["About ",s.jsx("span",{className:"text-red-600",children:"Lyvo+"})]}),s.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Revolutionizing the co-living experience through technology, community, and trust."})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Our ",s.jsx("span",{className:"text-red-600",children:"Mission"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"To create a world where finding the perfect co-living space is effortless, where communities thrive, and where technology enhances human connections rather than replacing them."})]})}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Why Co-Living Matters"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"In today's fast-paced world, traditional housing models often leave people feeling isolated. Co-living offers a solution that combines affordability, community, and flexibility."}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We believe everyone deserves a place they can call home, surrounded by like-minded individuals who share their values and aspirations."}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(mu,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Growing Trend"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Co-living is the future of urban living"})]})]})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-2xl p-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Smart Matching"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Community Building"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Secure Transactions"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"24/7 Support"})]})]})})})]})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Our ",s.jsx("span",{className:"text-red-600",children:"Values"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The principles that guide everything we do"})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>s.jsxs(J.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all duration-200 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(t.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:t.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},r))})]})})]})},Ape=()=>{const[e,t]=_.useState({name:"",email:"",subject:"",message:""}),[r,n]=_.useState(!1),[a,i]=_.useState(!1),o=d=>{t({...e,[d.target.name]:d.target.value})},l=async d=>{d.preventDefault(),i(!0),await new Promise(u=>setTimeout(u,1500)),n(!0),i(!1)},c=[{question:"How quickly do you respond to inquiries?",answer:"We typically respond to all inquiries within 24 hours during business days."},{question:"Can I schedule a demo of your platform?",answer:"Absolutely! We'd love to show you around. Contact us to schedule a personalized demo."},{question:"Do you offer support for property owners?",answer:"Yes, we provide comprehensive support for both property owners and tenants."},{question:"What cities do you currently operate in?",answer:"We're currently active in 15+ major cities across India with plans to expand further."}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-red-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs(J.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Get in ",s.jsx("span",{className:"text-red-600",children:"Touch"})]}),s.jsx(J.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Send us a Message"}),s.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),r?s.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(At,{className:"h-10 w-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Message Sent!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for reaching out! We'll get back to you within 24 hours."}),s.jsx("button",{onClick:()=>n(!1),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-all duration-200",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",name:"name",id:"name",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"John Doe",value:e.name,onChange:o})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",id:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"john@example.com",value:e.email,onChange:o})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),s.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"How can we help you?",value:e.subject,onChange:o})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{name:"message",id:"message",rows:6,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 resize-none",placeholder:"Tell us more about your inquiry...",value:e.message,onChange:o})]}),s.jsx(J.button,{type:"submit",disabled:a,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-red-600 text-white py-4 px-6 rounded-lg font-semibold shadow-sm hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(OA,{className:"h-5 w-5"}),s.jsx("span",{children:"Send Message"})]})})]})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Why Choose Lyvo+?"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Sa,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Expert Support Team"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Our dedicated team is here to help 24/7"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Sa,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Quick Response Time"}),s.jsx("p",{className:"text-sm text-gray-600",children:"We respond to all inquiries within 24 hours"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Sa,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Personalized Solutions"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tailored assistance for your specific needs"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),s.jsx("div",{className:"space-y-4",children:c.map((d,u)=>s.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:d.question}),s.jsx("p",{className:"text-sm text-gray-600",children:d.answer})]},u))})]})]})})]})})})]})},mpe=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-between items-center py-4",children:s.jsxs(Ft,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Pr,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]})})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl w-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(J.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:100},className:"mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-8xl md:text-9xl font-bold text-red-500 mb-4 tracking-tight",children:"404"}),s.jsx(J.div,{animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-4 -right-4 w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(Ti,{className:"w-8 h-8 text-white"})})]})}),s.jsxs(J.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"mb-12",children:[s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Page Not Found"}),s.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Oops! The page you're looking for doesn't exist or has been moved. Don't worry, there are plenty of amazing co-living opportunities waiting for you!"})]}),s.jsxs(J.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 mb-8",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(J.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-red-50 to-red-100 rounded-xl border border-red-200",children:[s.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(Pr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Go Home"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Return to the main page and explore our co-living community"}),s.jsx(Ft,{to:"/",children:s.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Home"})})]}),s.jsxs(J.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(xr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Find Accommodations"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Discover available co-living spaces in your area"}),s.jsx(Ft,{to:"/dashboard",children:s.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Browse"})})]}),s.jsxs(J.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(Wr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Join Community"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect with other co-living enthusiasts"}),s.jsx(Ft,{to:"/login",children:s.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-green-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-600 transition-colors",children:"Sign In"})})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[s.jsx(Ft,{to:"/",children:s.jsxs(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2",children:[s.jsx(Pr,{className:"w-5 h-5"}),"Go Home"]})}),s.jsx(Ft,{to:"/login",children:s.jsxs(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border-2 border-gray-300 text-gray-700 hover:border-red-500 hover:text-red-500 px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2",children:[s.jsx(Ps,{className:"w-5 h-5"}),"Back to Login"]})})]})]})]}),s.jsxs(J.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Need Help?"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"If you're having trouble finding what you're looking for, our support team is here to help."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx("a",{href:"mailto:support@lyvo.com",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"Contact Support"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("a",{href:"/help",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"Help Center"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("a",{href:"/faq",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"FAQ"})]})]})]})})}),s.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[s.jsx(J.div,{animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-red-500/10 to-red-600/10 rounded-full blur-3xl"}),s.jsx(J.div,{animate:{scale:[1.2,1,1.2],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-blue-600/10 rounded-full blur-3xl"}),s.jsx(J.div,{animate:{scale:[1,1.1,1],rotate:[0,90,180,270,360]},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-gradient-to-r from-green-500/10 to-green-600/10 rounded-full blur-2xl"})]})]}),pW=({isOpen:e,onClose:t,title:r,message:n,buttonText:a="Okay",type:i="warning"})=>{if(!e)return null;const o={warning:s.jsx(Jh,{className:"w-6 h-6 text-yellow-500"}),danger:s.jsx($t,{className:"w-6 h-6 text-red-500"}),info:s.jsx(LN,{className:"w-6 h-6 text-blue-500"}),success:s.jsx(At,{className:"w-6 h-6 text-green-500"})},l={warning:"bg-yellow-600 hover:bg-yellow-700",danger:"bg-red-600 hover:bg-red-700",info:"bg-blue-600 hover:bg-blue-700",success:"bg-green-600 hover:bg-green-700"};return s.jsx(Sr,{children:s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsx(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${i==="danger"?"bg-red-50":i==="warning"?"bg-yellow-50":"bg-blue-50"}`,children:o[i]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(nr,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:n}),s.jsx("button",{onClick:t,className:`w-full px-4 py-3 text-white font-semibold rounded-xl transition-colors shadow-lg shadow-black/5 flex items-center justify-center gap-2 ${l[i]}`,children:a})]})})})})},ppe=()=>{};var dR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},gpe=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],o=e[r++],l=e[r++],c=((a&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const i=e[r++],o=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63)}}return t.join("")},xW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],o=a+1<e.length,l=o?e[a+1]:0,c=a+2<e.length,d=c?e[a+2]:0,u=i>>2,f=(i&3)<<4|l>>4;let A=(l&15)<<2|d>>6,m=d&63;c||(m=64,o||(A=64)),n.push(r[u],r[f],r[A],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gW(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gpe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],l=a<e.length?r[e.charAt(a)]:0;++a;const d=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||l==null||d==null||f==null)throw new xpe;const A=i<<2|l>>4;if(n.push(A),d!==64){const m=l<<4&240|d>>2;if(n.push(m),f!==64){const x=d<<6&192|f;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xpe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ype=function(e){const t=gW(e);return xW.encodeByteArray(t,!0)},yW=function(e){return ype(e).replace(/\./g,"")},vW=function(e){try{return xW.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vpe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bpe=()=>vpe().__FIREBASE_DEFAULTS__,wpe=()=>{if(typeof process>"u"||typeof dR>"u")return;const e=dR.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},jpe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&vW(e[1]);return t&&JSON.parse(t)},b6=()=>{try{return ppe()||bpe()||wpe()||jpe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Npe=e=>{var t,r;return(r=(t=b6())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},bW=()=>{var e;return(e=b6())==null?void 0:e.config},wW=e=>{var t;return(t=b6())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cpe(e){return(await fetch(e,{credentials:"include"})).ok}const Hx={};function Spe(){const e={prod:[],emulator:[]};for(const t of Object.keys(Hx))Hx[t]?e.emulator.push(t):e.prod.push(t);return e}function Bpe(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let uR=!1;function kpe(e,t){if(typeof window>"u"||typeof document>"u"||!WN(window.location.host)||Hx[e]===t||Hx[e]||uR)return;Hx[e]=t;function r(A){return`__firebase__banner__${A}`}const n="__firebase__banner",i=Spe().prod.length>0;function o(){const A=document.getElementById(n);A&&A.remove()}function l(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function c(A,m){A.setAttribute("width","24"),A.setAttribute("id",m),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function d(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{uR=!0,o()},A}function u(A,m){A.setAttribute("id",m),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function f(){const A=Bpe(n),m=r("text"),x=document.getElementById(m)||document.createElement("span"),g=r("learnmore"),y=document.getElementById(g)||document.createElement("a"),v=r("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const w=A.element;l(w),u(y,g);const C=d();c(b,v),w.append(b,x,y,C),document.body.appendChild(w)}i?(x.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Epe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oi())}function Ppe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jW(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ipe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tpe(){const e=Oi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function NW(){try{return typeof indexedDB=="object"}catch{return!1}}function _W(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)==null?void 0:i.message)||"")}}catch(r){t(r)}})}function Ope(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lpe="FirebaseError";class gd extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=Lpe,Object.setPrototypeOf(this,gd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lm.prototype.create)}}class lm{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],o=i?Fpe(i,n):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new gd(a,l,n)}}function Fpe(e,t){return e.replace(Rpe,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const Rpe=/\{\$([^}]+)}/g;function Upe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function RA(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],o=t[a];if(hR(i)&&hR(o)){if(!RA(i,o))return!1}else if(i!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function hR(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function px(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(i)}}),t}function gx(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function Dpe(e,t){const r=new Mpe(e,t);return r.subscribe.bind(r)}class Mpe{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Qpe(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=SC),a.error===void 0&&(a.error=SC),a.complete===void 0&&(a.complete=SC);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qpe(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function SC(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $pe=1e3,Hpe=2,zpe=4*60*60*1e3,Vpe=.5;function fR(e,t=$pe,r=Hpe){const n=t*Math.pow(r,e),a=Math.round(Vpe*n*(Math.random()-.5)*2);return Math.min(zpe,n+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(e){return e&&e._delegate?e._delegate:e}class fd{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kpe{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new _pe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Gpe(t))try{this.getOrInitializeService({instanceIdentifier:Hf})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=Hf){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hf){return this.instances.has(t)}getOptions(t=Hf){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&o.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&t(i,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Wpe(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Hf){return this.component?this.component.multipleInstances?t:Hf:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wpe(e){return e===Hf?void 0:e}function Gpe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qpe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Kpe(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(On||(On={}));const Ype={debug:On.DEBUG,verbose:On.VERBOSE,info:On.INFO,warn:On.WARN,error:On.ERROR,silent:On.SILENT},Xpe=On.INFO,Zpe={[On.DEBUG]:"log",[On.VERBOSE]:"log",[On.INFO]:"info",[On.WARN]:"warn",[On.ERROR]:"error"},Jpe=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=Zpe[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let w6=class{constructor(t){this.name=t,this._logLevel=Xpe,this._logHandler=Jpe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in On))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ype[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,On.DEBUG,...t),this._logHandler(this,On.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,On.VERBOSE,...t),this._logHandler(this,On.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,On.INFO,...t),this._logHandler(this,On.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,On.WARN,...t),this._logHandler(this,On.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,On.ERROR,...t),this._logHandler(this,On.ERROR,...t)}};const ege=(e,t)=>t.some(r=>e instanceof r);let AR,mR;function tge(){return AR||(AR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rge(){return mR||(mR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CW=new WeakMap,VB=new WeakMap,SW=new WeakMap,BC=new WeakMap,j6=new WeakMap;function nge(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{r($h(e.result)),a()},o=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&CW.set(r,e)}).catch(()=>{}),j6.set(t,e),t}function sge(e){if(VB.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{r(),a()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});VB.set(e,t)}let KB={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return VB.get(e);if(t==="objectStoreNames")return e.objectStoreNames||SW.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return $h(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function age(e){KB=e(KB)}function ige(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(kC(this),t,...r);return SW.set(n,t.sort?t.sort():[t]),$h(n)}:rge().includes(e)?function(...t){return e.apply(kC(this),t),$h(CW.get(this))}:function(...t){return $h(e.apply(kC(this),t))}}function oge(e){return typeof e=="function"?ige(e):(e instanceof IDBTransaction&&sge(e),ege(e,tge())?new Proxy(e,KB):e)}function $h(e){if(e instanceof IDBRequest)return nge(e);if(BC.has(e))return BC.get(e);const t=oge(e);return t!==e&&(BC.set(e,t),j6.set(t,e)),t}const kC=e=>j6.get(e);function BW(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const o=indexedDB.open(e,t),l=$h(o);return n&&o.addEventListener("upgradeneeded",c=>{n($h(o.result),c.oldVersion,c.newVersion,$h(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const lge=["get","getKey","getAll","getAllKeys","count"],cge=["put","add","delete","clear"],EC=new Map;function pR(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(EC.get(t))return EC.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=cge.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||lge.includes(r)))return;const i=async function(o,...l){const c=this.transaction(o,a?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),a&&c.done]))[0]};return EC.set(t,i),i}age(e=>({...e,get:(t,r,n)=>pR(t,r)||e.get(t,r,n),has:(t,r)=>!!pR(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dge{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(uge(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function uge(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const WB="@firebase/app",gR="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new w6("@firebase/app"),hge="@firebase/app-compat",fge="@firebase/analytics-compat",Age="@firebase/analytics",mge="@firebase/app-check-compat",pge="@firebase/app-check",gge="@firebase/auth",xge="@firebase/auth-compat",yge="@firebase/database",vge="@firebase/data-connect",bge="@firebase/database-compat",wge="@firebase/functions",jge="@firebase/functions-compat",Nge="@firebase/installations",_ge="@firebase/installations-compat",Cge="@firebase/messaging",Sge="@firebase/messaging-compat",Bge="@firebase/performance",kge="@firebase/performance-compat",Ege="@firebase/remote-config",Pge="@firebase/remote-config-compat",Ige="@firebase/storage",Tge="@firebase/storage-compat",Oge="@firebase/firestore",Lge="@firebase/ai",Fge="@firebase/firestore-compat",Rge="firebase",Uge="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="[DEFAULT]",Dge={[WB]:"fire-core",[hge]:"fire-core-compat",[Age]:"fire-analytics",[fge]:"fire-analytics-compat",[pge]:"fire-app-check",[mge]:"fire-app-check-compat",[gge]:"fire-auth",[xge]:"fire-auth-compat",[yge]:"fire-rtdb",[vge]:"fire-data-connect",[bge]:"fire-rtdb-compat",[wge]:"fire-fn",[jge]:"fire-fn-compat",[Nge]:"fire-iid",[_ge]:"fire-iid-compat",[Cge]:"fire-fcm",[Sge]:"fire-fcm-compat",[Bge]:"fire-perf",[kge]:"fire-perf-compat",[Ege]:"fire-rc",[Pge]:"fire-rc-compat",[Ige]:"fire-gcs",[Tge]:"fire-gcs-compat",[Oge]:"fire-fst",[Fge]:"fire-fst-compat",[Lge]:"fire-vertex","fire-js":"fire-js",[Rge]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Map,Mge=new Map,qB=new Map;function xR(e,t){try{e.container.addComponent(t)}catch(r){pu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function gu(e){const t=e.name;if(qB.has(t))return pu.debug(`There were multiple attempts to register component ${t}.`),!1;qB.set(t,e);for(const r of B2.values())xR(r,e);for(const r of Mge.values())xR(r,e);return!0}function Gg(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function cl(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qge={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hh=new lm("app","Firebase",Qge);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ge{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=Uge;function kW(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:GB,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw Hh.create("bad-app-name",{appName:String(a)});if(r||(r=bW()),!r)throw Hh.create("no-options");const i=B2.get(a);if(i){if(RA(r,i.options)&&RA(n,i.config))return i;throw Hh.create("duplicate-app",{appName:a})}const o=new qpe(a);for(const c of qB.values())o.addComponent(c);const l=new $ge(r,n,o);return B2.set(a,l),l}function EW(e=GB){const t=B2.get(e);if(!t&&e===GB&&bW())return kW();if(!t)throw Hh.create("no-app",{appName:e});return t}function td(e,t,r){let n=Dge[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const o=[`Unable to register library "${n}" with version "${t}":`];a&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pu.warn(o.join(" "));return}gu(new fd(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hge="firebase-heartbeat-database",zge=1,Py="firebase-heartbeat-store";let PC=null;function PW(){return PC||(PC=BW(Hge,zge,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Py)}catch(r){console.warn(r)}}}}).catch(e=>{throw Hh.create("idb-open",{originalErrorMessage:e.message})})),PC}async function Vge(e){try{const r=(await PW()).transaction(Py),n=await r.objectStore(Py).get(IW(e));return await r.done,n}catch(t){if(t instanceof gd)pu.warn(t.message);else{const r=Hh.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pu.warn(r.message)}}}async function yR(e,t){try{const n=(await PW()).transaction(Py,"readwrite");await n.objectStore(Py).put(t,IW(e)),await n.done}catch(r){if(r instanceof gd)pu.warn(r.message);else{const n=Hh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});pu.warn(n.message)}}}function IW(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kge=1024,Wge=30;class Gge{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Yge(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vR();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>Wge){const o=Xge(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){pu.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=vR(),{heartbeatsToSend:n,unsentEntries:a}=qge(this._heartbeatsCache.heartbeats),i=yW(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return pu.warn(r),""}}}function vR(){return new Date().toISOString().substring(0,10)}function qge(e,t=Kge){const r=[];let n=e.slice();for(const a of e){const i=r.find(o=>o.agent===a.agent);if(i){if(i.dates.push(a.date),bR(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),bR(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Yge{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NW()?_W().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Vge(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return yR(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return yR(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function bR(e){return yW(JSON.stringify({version:2,heartbeats:e})).length}function Xge(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zge(e){gu(new fd("platform-logger",t=>new dge(t),"PRIVATE")),gu(new fd("heartbeat",t=>new Gge(t),"PRIVATE")),td(WB,gR,e),td(WB,gR,"esm2020"),td("fire-js","")}Zge("");function TW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jge=TW,OW=new lm("auth","Firebase",TW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new w6("@firebase/auth");function e0e(e,...t){k2.logLevel<=On.WARN&&k2.warn(`Auth (${Wv}): ${e}`,...t)}function B1(e,...t){k2.logLevel<=On.ERROR&&k2.error(`Auth (${Wv}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(e,...t){throw _6(e,...t)}function dc(e,...t){return _6(e,...t)}function N6(e,t,r){const n={...Jge(),[t]:r};return new lm("auth","Firebase",n).create(t,{appName:e.name})}function ou(e){return N6(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t0e(e,t,r){const n=r;if(!(t instanceof n))throw n.name!==t.constructor.name&&vl(e,"argument-error"),N6(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _6(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return OW.create(e,...t)}function or(e,t,...r){if(!e)throw _6(t,...r)}function qd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw B1(t),new Error(t)}function xu(e,t){e||qd(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function r0e(){return wR()==="http:"||wR()==="https:"}function wR(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r0e()||jW()||"connection"in navigator)?navigator.onLine:!0}function s0e(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t,r){this.shortDelay=t,this.longDelay=r,xu(r>t,"Short delay should be less than long delay!"),this.isMobile=Epe()||Ipe()}get(){return n0e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(e,t){xu(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0e=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o0e=new Gv(3e4,6e4);function Bu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function xd(e,t,r,n,a={}){return FW(e,a,async()=>{let i={},o={};n&&(t==="GET"?o=n:i={body:JSON.stringify(n)});const l=Kv({key:e.config.apiKey,...o}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:c,...i};return Ppe()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&WN(e.emulatorConfig.host)&&(d.credentials="include"),LW.fetch()(await RW(e,e.config.apiHost,r,l),d)})}async function FW(e,t,r){e._canInitEmulator=!1;const n={...a0e,...t};try{const a=new c0e(e),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw rw(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rw(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw rw(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw rw(e,"user-disabled",o);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw N6(e,u,d);vl(e,u)}}catch(a){if(a instanceof gd)throw a;vl(e,"network-request-failed",{message:String(a)})}}async function qv(e,t,r,n,a={}){const i=await xd(e,t,r,n,a);return"mfaPendingCredential"in i&&vl(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function RW(e,t,r,n){const a=`${t}${r}?${n}`,i=e,o=i.config.emulator?C6(e.config,a):`${e.config.apiScheme}://${a}`;return i0e.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function l0e(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c0e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(dc(this.auth,"network-request-failed")),o0e.get())})}}function rw(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=dc(e,t,n);return a.customData._tokenResponse=r,a}function jR(e){return e!==void 0&&e.enterprise!==void 0}class d0e{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return l0e(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u0e(e,t){return xd(e,"GET","/v2/recaptchaConfig",Bu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0e(e,t){return xd(e,"POST","/v1/accounts:delete",t)}async function E2(e,t){return xd(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function f0e(e,t=!1){const r=Uo(e),n=await r.getIdToken(t),a=S6(n);or(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:zx(IC(a.auth_time)),issuedAtTime:zx(IC(a.iat)),expirationTime:zx(IC(a.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function IC(e){return Number(e)*1e3}function S6(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return B1("JWT malformed, contained fewer than 3 sections"),null;try{const a=vW(r);return a?JSON.parse(a):(B1("Failed to decode base64 JWT payload"),null)}catch(a){return B1("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function NR(e){const t=S6(e);return or(t,"internal-error"),or(typeof t.exp<"u","internal-error"),or(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lg(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof gd&&A0e(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function A0e({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0e{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=zx(this.lastLoginAt),this.creationTime=zx(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(e){var f;const t=e.auth,r=await e.getIdToken(),n=await lg(e,E2(t,{idToken:r}));or(n==null?void 0:n.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const i=(f=a.providerUserInfo)!=null&&f.length?UW(a.providerUserInfo):[],o=g0e(e.providerData,i),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new XB(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,u)}async function p0e(e){const t=Uo(e);await P2(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function g0e(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function UW(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0e(e,t){const r=await FW(e,{},async()=>{const n=Kv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:i}=e.config,o=await RW(e,a,"/v1/token",`key=${i}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return e.emulatorConfig&&WN(e.emulatorConfig.host)&&(c.credentials="include"),LW.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function y0e(e,t){return xd(e,"POST","/v2/accounts:revokeToken",Bu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){or(t.idToken,"internal-error"),or(typeof t.idToken<"u","internal-error"),or(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):NR(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){or(t.length!==0,"internal-error");const r=NR(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(or(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await x0e(t,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,o=new Tp;return n&&(or(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),a&&(or(typeof a=="string","internal-error",{appName:t}),o.accessToken=a),i&&(or(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Tp,this.toJSON())}_performRefresh(){return qd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(e,t){or(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ac{constructor({uid:t,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new m0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new XB(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await lg(this,this.stsTokenManager.getToken(this.auth,t));return or(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return f0e(this,t)}reload(){return p0e(this)}_assign(t){this!==t&&(or(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new ac({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){or(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await P2(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cl(this.auth.app))return Promise.reject(ou(this.auth));const t=await this.getIdToken();return await lg(this,h0e(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,a=r.email??void 0,i=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,d=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:f,emailVerified:A,isAnonymous:m,providerData:x,stsTokenManager:g}=r;or(f&&g,t,"internal-error");const y=Tp.fromJSON(this.name,g);or(typeof f=="string",t,"internal-error"),rh(n,t.name),rh(a,t.name),or(typeof A=="boolean",t,"internal-error"),or(typeof m=="boolean",t,"internal-error"),rh(i,t.name),rh(o,t.name),rh(l,t.name),rh(c,t.name),rh(d,t.name),rh(u,t.name);const v=new ac({uid:f,auth:t,email:a,emailVerified:A,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:y,createdAt:d,lastLoginAt:u});return x&&Array.isArray(x)&&(v.providerData=x.map(b=>({...b}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(t,r,n=!1){const a=new Tp;a.updateFromServerResponse(r);const i=new ac({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await P2(i),i}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];or(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?UW(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),l=new Tp;l.updateFromIdToken(n);const c=new ac({uid:a.localId,auth:t,stsTokenManager:l,isAnonymous:o}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new XB(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Map;function Yd(e){xu(e instanceof Function,"Expected a class definition");let t=_R.get(e);return t?(xu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_R.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}DW.type="NONE";const CR=DW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(e,t,r){return`firebase:${e}:${t}:${r}`}class Op{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=k1(this.userKey,a.apiKey,i),this.fullPersistenceKey=k1("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await E2(this.auth,{idToken:t}).catch(()=>{});return r?ac._fromGetAccountInfoResponse(this.auth,r,t):null}return ac._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Op(Yd(CR),t,n);const a=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=a[0]||Yd(CR);const o=k1(n,t.config.apiKey,t.name);let l=null;for(const d of r)try{const u=await d._get(o);if(u){let f;if(typeof u=="string"){const A=await E2(t,{idToken:u}).catch(()=>{});if(!A)break;f=await ac._fromGetAccountInfoResponse(t,A,u)}else f=ac._fromJSON(t,u);d!==i&&(l=f),i=d;break}}catch{}const c=a.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Op(i,t,n):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Op(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VW(t))return"Blackberry";if(KW(t))return"Webos";if(QW(t))return"Safari";if((t.includes("chrome/")||$W(t))&&!t.includes("edge/"))return"Chrome";if(zW(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function MW(e=Oi()){return/firefox\//i.test(e)}function QW(e=Oi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $W(e=Oi()){return/crios\//i.test(e)}function HW(e=Oi()){return/iemobile/i.test(e)}function zW(e=Oi()){return/android/i.test(e)}function VW(e=Oi()){return/blackberry/i.test(e)}function KW(e=Oi()){return/webos/i.test(e)}function B6(e=Oi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function v0e(e=Oi()){var t;return B6(e)&&!!((t=window.navigator)!=null&&t.standalone)}function b0e(){return Tpe()&&document.documentMode===10}function WW(e=Oi()){return B6(e)||zW(e)||KW(e)||VW(e)||/windows phone/i.test(e)||HW(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(e,t=[]){let r;switch(e){case"Browser":r=SR(Oi());break;case"Worker":r=`${SR(Oi())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Wv}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0e{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=i=>new Promise((o,l)=>{try{const c=t(i);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0e(e,t={}){return xd(e,"GET","/v2/passwordPolicy",Bu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0e=6;class _0e{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??N0e,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0e{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BR(this),this.idTokenSubscription=new BR(this),this.beforeStateQueue=new w0e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Yd(r)),this._initializationPromise=this.queue(async()=>{var n,a,i;if(!this._deleted&&(this.persistenceManager=await Op.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await E2(this,{idToken:t}),n=await ac._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(cl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return or(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await P2(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=s0e()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cl(this.app))return Promise.reject(ou(this));const r=t?Uo(t):null;return r&&or(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&or(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cl(this.app)?Promise.reject(ou(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cl(this.app)?Promise.reject(ou(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yd(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await j0e(this),r=new _0e(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new lm("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await y0e(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Yd(t)||this._popupRedirectResolver;or(r,this,"argument-error"),this.redirectPersistenceManager=await Op.create(this,[Yd(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(or(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,a);return()=>{o=!0,c()}}else{const c=t.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return or(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=GW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(cl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&e0e(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ku(e){return Uo(e)}class BR{constructor(t){this.auth=t,this.observer=null,this.addObserver=Dpe(r=>this.observer=r)}get next(){return or(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S0e(e){GN=e}function qW(e){return GN.loadJS(e)}function B0e(){return GN.recaptchaEnterpriseScript}function k0e(){return GN.gapiScript}function E0e(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class P0e{constructor(){this.enterprise=new I0e}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class I0e{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const T0e="recaptcha-enterprise",YW="NO_RECAPTCHA";class O0e{constructor(t){this.type=T0e,this.auth=ku(t)}async verify(t="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{u0e(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new d0e(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function a(i,o,l){const c=window.grecaptcha;jR(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:t}).then(d=>{o(d)}).catch(()=>{o(YW)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new P0e().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{n(this.auth).then(l=>{if(!r&&jR(window.grecaptcha))a(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=B0e();c.length!==0&&(c+=l),qW(c).then(()=>{a(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function kR(e,t,r,n=!1,a=!1){const i=new O0e(e);let o;if(a)o=YW;else try{o=await i.verify(r)}catch{o=await i.verify(r,!0)}const l={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function I2(e,t,r,n,a){var i;if((i=e._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await kR(e,t,r,r==="getOobCode");return n(e,o)}else return n(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await kR(e,t,r,r==="getOobCode");return n(e,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0e(e,t){const r=Gg(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(RA(i,t??{}))return a;vl(a,"already-initialized")}return r.initialize({options:t})}function F0e(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Yd);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function R0e(e,t,r){const n=ku(e);or(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,i=XW(t),{host:o,port:l}=U0e(t),c=l===null?"":`:${l}`,d={url:`${i}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){or(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),or(RA(d,n.config.emulator)&&RA(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,WN(o)?(Cpe(`${i}//${o}${c}`),kpe("Auth",!0)):D0e()}function XW(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function U0e(e){const t=XW(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:ER(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:ER(o)}}}function ER(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function D0e(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return qd("not implemented")}_getIdTokenResponse(t){return qd("not implemented")}_linkToIdToken(t,r){return qd("not implemented")}_getReauthenticationResolver(t){return qd("not implemented")}}async function M0e(e,t){return xd(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0e(e,t){return qv(e,"POST","/v1/accounts:signInWithPassword",Bu(e,t))}async function ZW(e,t){return xd(e,"POST","/v1/accounts:sendOobCode",Bu(e,t))}async function $0e(e,t){return ZW(e,t)}async function H0e(e,t){return ZW(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0e(e,t){return qv(e,"POST","/v1/accounts:signInWithEmailLink",Bu(e,t))}async function V0e(e,t){return qv(e,"POST","/v1/accounts:signInWithEmailLink",Bu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends k6{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new Iy(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Iy(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I2(t,r,"signInWithPassword",Q0e);case"emailLink":return z0e(t,{email:this._email,oobCode:this._password});default:vl(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I2(t,n,"signUpPassword",M0e);case"emailLink":return V0e(t,{idToken:r,email:this._email,oobCode:this._password});default:vl(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(e,t){return qv(e,"POST","/v1/accounts:signInWithIdp",Bu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0e="http://localhost";class UA extends k6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new UA(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):vl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a,...i}=r;if(!n||!a)return null;const o=new UA(n,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return Lp(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Lp(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Lp(t,r)}buildRequest(){const t={requestUri:K0e,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Kv(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0e(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G0e(e){const t=px(gx(e)).link,r=t?px(gx(t)).deep_link_id:null,n=px(gx(e)).deep_link_id;return(n?px(gx(n)).link:null)||n||r||t||e}class E6{constructor(t){const r=px(gx(t)),n=r.apiKey??null,a=r.oobCode??null,i=W0e(r.mode??null);or(n&&a&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=G0e(t);try{return new E6(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.providerId=qg.PROVIDER_ID}static credential(t,r){return Iy._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=E6.parseLink(r);return or(n,"argument-error"),Iy._fromEmailAndCode(t,n.code,n.tenantId)}}qg.PROVIDER_ID="password";qg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv extends P6{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Yv{constructor(){super("facebook.com")}static credential(t){return UA._fromParams({providerId:xh.PROVIDER_ID,signInMethod:xh.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xh.credentialFromTaggedObject(t)}static credentialFromError(t){return xh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xh.credential(t.oauthAccessToken)}catch{return null}}}xh.FACEBOOK_SIGN_IN_METHOD="facebook.com";xh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Yv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return UA._fromParams({providerId:zd.PROVIDER_ID,signInMethod:zd.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return zd.credentialFromTaggedObject(t)}static credentialFromError(t){return zd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return zd.credential(r,n)}catch{return null}}}zd.GOOGLE_SIGN_IN_METHOD="google.com";zd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Yv{constructor(){super("github.com")}static credential(t){return UA._fromParams({providerId:yh.PROVIDER_ID,signInMethod:yh.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yh.credentialFromTaggedObject(t)}static credentialFromError(t){return yh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yh.credential(t.oauthAccessToken)}catch{return null}}}yh.GITHUB_SIGN_IN_METHOD="github.com";yh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Yv{constructor(){super("twitter.com")}static credential(t,r){return UA._fromParams({providerId:vh.PROVIDER_ID,signInMethod:vh.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return vh.credentialFromTaggedObject(t)}static credentialFromError(t){return vh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return vh.credential(r,n)}catch{return null}}}vh.TWITTER_SIGN_IN_METHOD="twitter.com";vh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0e(e,t){return qv(e,"POST","/v1/accounts:signUp",Bu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const i=await ac._fromIdTokenResponse(t,n,a),o=PR(n);return new DA({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=PR(n);return new DA({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function PR(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2 extends gd{constructor(t,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,T2.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new T2(t,r,n,a)}}function JW(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?T2._fromErrorAndOperation(e,i,t,n):i})}async function Y0e(e,t,r=!1){const n=await lg(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return DA._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0e(e,t,r=!1){const{auth:n}=e;if(cl(n.app))return Promise.reject(ou(n));const a="reauthenticate";try{const i=await lg(e,JW(n,a,t,e),r);or(i.idToken,n,"internal-error");const o=S6(i.idToken);or(o,n,"internal-error");const{sub:l}=o;return or(e.uid===l,n,"user-mismatch"),DA._forOperation(e,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&vl(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eG(e,t,r=!1){if(cl(e.app))return Promise.reject(ou(e));const n="signIn",a=await JW(e,n,t),i=await DA._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}async function Z0e(e,t){return eG(ku(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(e){const t=ku(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function J0e(e,t,r){const n=ku(e);await I2(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",H0e)}async function rG(e,t,r){if(cl(e.app))return Promise.reject(ou(e));const n=ku(e),o=await I2(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q0e).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&tG(e),c}),l=await DA._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function exe(e,t,r){return cl(e.app)?Promise.reject(ou(e)):Z0e(Uo(e),qg.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&tG(e),n})}async function nG(e,t){const r=Uo(e),a={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:i}=await $0e(r.auth,a);i!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function txe(e,t){return xd(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sG(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=Uo(e),i={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},o=await lg(n,txe(n.auth,i));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function rxe(e,t,r,n){return Uo(e).onIdTokenChanged(t,r,n)}function nxe(e,t,r){return Uo(e).beforeAuthStateChanged(t,r)}function sxe(e){return Uo(e).signOut()}const O2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(O2,"1"),this.storage.removeItem(O2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const axe=1e3,ixe=10;class iG extends aG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);b0e()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,ixe):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},axe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}iG.type="LOCAL";const oxe=iG;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG extends aG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}oG.type="SESSION";const lG=oG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lxe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new qN(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:i}=r.data,o=this.handlersMap[a];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const l=Array.from(o).map(async d=>d(r.origin,i)),c=await lxe(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qN.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cxe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=I6("",20);a.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:a,onMessage(f){const A=f;if(A.data.eventId===d)switch(A.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(A.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:r},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(){return window}function dxe(e){rd().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(){return typeof rd().WorkerGlobalScope<"u"&&typeof rd().importScripts=="function"}async function uxe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hxe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function fxe(){return cG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG="firebaseLocalStorageDb",Axe=1,L2="firebaseLocalStorage",uG="fbase_key";class Xv{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function YN(e,t){return e.transaction([L2],t?"readwrite":"readonly").objectStore(L2)}function mxe(){const e=indexedDB.deleteDatabase(dG);return new Xv(e).toPromise()}function ZB(){const e=indexedDB.open(dG,Axe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(L2,{keyPath:uG})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(L2)?t(n):(n.close(),await mxe(),t(await ZB()))})})}async function IR(e,t,r){const n=YN(e,!0).put({[uG]:t,value:r});return new Xv(n).toPromise()}async function pxe(e,t){const r=YN(e,!1).get(t),n=await new Xv(r).toPromise();return n===void 0?null:n.value}function TR(e,t){const r=YN(e,!0).delete(t);return new Xv(r).toPromise()}const gxe=800,xxe=3;class hG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ZB(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>xxe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qN._getInstance(fxe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await uxe(),!this.activeServiceWorker)return;this.sender=new cxe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hxe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ZB();return await IR(t,O2,"1"),await TR(t,O2),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>IR(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>pxe(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>TR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const i=YN(a,!1).getAll();return new Xv(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:i}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gxe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hG.type="LOCAL";const yxe=hG;new Gv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(e,t){return t?Yd(t):(or(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6 extends k6{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Lp(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Lp(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Lp(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function vxe(e){return eG(e.auth,new T6(e),e.bypassAuthState)}function bxe(e){const{auth:t,user:r}=e;return or(r,t,"internal-error"),X0e(r,new T6(e),e.bypassAuthState)}async function wxe(e){const{auth:t,user:r}=e;return or(r,t,"internal-error"),Y0e(r,new T6(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(t,r,n,a,i=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vxe;case"linkViaPopup":case"linkViaRedirect":return wxe;case"reauthViaPopup":case"reauthViaRedirect":return bxe;default:vl(this.auth,"internal-error")}}resolve(t){xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jxe=new Gv(2e3,1e4);async function Nxe(e,t,r){if(cl(e.app))return Promise.reject(dc(e,"operation-not-supported-in-this-environment"));const n=ku(e);t0e(e,t,P6);const a=fG(n,r);return new nA(n,"signInViaPopup",t,a).executeNotNull()}class nA extends AG{constructor(t,r,n,a,i){super(t,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,nA.currentPopupAction&&nA.currentPopupAction.cancel(),nA.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return or(t,this.auth,"internal-error"),t}async onExecution(){xu(this.filter.length===1,"Popup operations only handle one event");const t=I6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(dc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(dc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nA.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,jxe.get())};t()}}nA.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _xe="pendingRedirect",E1=new Map;class Cxe extends AG{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=E1.get(this.auth._key());if(!t){try{const n=await Sxe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}E1.set(this.auth._key(),t)}return this.bypassAuthState||E1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sxe(e,t){const r=Exe(t),n=kxe(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function Bxe(e,t){E1.set(e._key(),t)}function kxe(e){return Yd(e._redirectPersistence)}function Exe(e){return k1(_xe,e.config.apiKey,e.name)}async function Pxe(e,t,r=!1){if(cl(e.app))return Promise.reject(ou(e));const n=ku(e),a=fG(n,t),o=await new Cxe(n,a,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ixe=10*60*1e3;class Txe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Oxe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!mG(t)){const a=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(dc(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Ixe&&this.cachedEventUids.clear(),this.cachedEventUids.has(OR(t))}saveEventToCache(t){this.cachedEventUids.add(OR(t)),this.lastProcessedEventTime=Date.now()}}function OR(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function mG({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Oxe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mG(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lxe(e,t={}){return xd(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fxe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rxe=/^https?/;async function Uxe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Lxe(e);for(const r of t)try{if(Dxe(r))return}catch{}vl(e,"unauthorized-domain")}function Dxe(e){const t=YB(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Rxe.test(r))return!1;if(Fxe.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mxe=new Gv(3e4,6e4);function LR(){const e=rd().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function Qxe(e){return new Promise((t,r)=>{var a,i,o;function n(){LR(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{LR(),r(dc(e,"network-request-failed"))},timeout:Mxe.get()})}if((i=(a=rd().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((o=rd().gapi)!=null&&o.load)n();else{const l=E0e("iframefcb");return rd()[l]=()=>{gapi.load?n():r(dc(e,"network-request-failed"))},qW(`${k0e()}?onload=${l}`).catch(c=>r(c))}}).catch(t=>{throw P1=null,t})}let P1=null;function $xe(e){return P1=P1||Qxe(e),P1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hxe=new Gv(5e3,15e3),zxe="__/auth/iframe",Vxe="emulator/auth/iframe",Kxe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wxe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gxe(e){const t=e.config;or(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?C6(t,Vxe):`https://${e.config.authDomain}/${zxe}`,n={apiKey:t.apiKey,appName:e.name,v:Wv},a=Wxe.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Kv(n).slice(1)}`}async function qxe(e){const t=await $xe(e),r=rd().gapi;return or(r,e,"internal-error"),t.open({where:document.body,url:Gxe(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kxe,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const o=dc(e,"network-request-failed"),l=rd().setTimeout(()=>{i(o)},Hxe.get());function c(){rd().clearTimeout(l),a(n)}n.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yxe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xxe=500,Zxe=600,Jxe="_blank",eye="http://localhost";class FR{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tye(e,t,r,n=Xxe,a=Zxe){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...Yxe,width:n.toString(),height:a.toString(),top:i,left:o},d=Oi().toLowerCase();r&&(l=$W(d)?Jxe:r),MW(d)&&(t=t||eye,c.scrollbars="yes");const u=Object.entries(c).reduce((A,[m,x])=>`${A}${m}=${x},`,"");if(v0e(d)&&l!=="_self")return rye(t||"",l),new FR(null);const f=window.open(t||"",l,u);or(f,e,"popup-blocked");try{f.focus()}catch{}return new FR(f)}function rye(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nye="__/auth/handler",sye="emulator/auth/handler",aye=encodeURIComponent("fac");async function RR(e,t,r,n,a,i){or(e.config.authDomain,e,"auth-domain-config-required"),or(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Wv,eventId:a};if(t instanceof P6){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Upe(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(t instanceof Yv){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await e._getAppCheckToken(),d=c?`#${aye}=${encodeURIComponent(c)}`:"";return`${iye(e)}?${Kv(l).slice(1)}${d}`}function iye({config:e}){return e.emulator?C6(e,sye):`https://${e.authDomain}/${nye}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="webStorageSupport";class oye{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lG,this._completeRedirectFn=Pxe,this._overrideRedirectResult=Bxe}async _openPopup(t,r,n,a){var o;xu((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await RR(t,r,n,YB(),a);return tye(t,i,I6())}async _openRedirect(t,r,n,a){await this._originValidation(t);const i=await RR(t,r,n,YB(),a);return dxe(i),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(xu(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await qxe(t),n=new Txe(t);return r.register("authEvent",a=>(or(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(TC,{type:TC},a=>{var o;const i=(o=a==null?void 0:a[0])==null?void 0:o[TC];i!==void 0&&r(!!i),vl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Uxe(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return WW()||QW()||B6()}}const lye=oye;var UR="@firebase/auth",DR="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cye{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){or(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dye(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uye(e){gu(new fd("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;or(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GW(e)},d=new C0e(n,a,i,c);return F0e(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),gu(new fd("auth-internal",t=>{const r=ku(t.getProvider("auth").getImmediate());return(n=>new cye(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),td(UR,DR,dye(e)),td(UR,DR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hye=5*60,fye=wW("authIdTokenMaxAge")||hye;let MR=null;const Aye=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>fye)return;const a=r==null?void 0:r.token;MR!==a&&(MR=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function mye(e=EW()){const t=Gg(e,"auth");if(t.isInitialized())return t.getImmediate();const r=L0e(e,{popupRedirectResolver:lye,persistence:[yxe,oxe,lG]}),n=wW("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=Aye(i.toString());nxe(r,o,()=>o(r.currentUser)),rxe(r,l=>o(l))}}const a=Npe("auth");return a&&R0e(r,`http://${a}`),r}function pye(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}S0e({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const i=dc("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",pye().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uye("Browser");var gye="firebase",xye="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */td(gye,xye,"app");const pG="@firebase/installations",O6="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=1e4,xG=`w:${O6}`,yG="FIS_v2",yye="https://firebaseinstallations.googleapis.com/v1",vye=60*60*1e3,bye="installations",wye="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jye={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},MA=new lm(bye,wye,jye);function vG(e){return e instanceof gd&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG({projectId:e}){return`${yye}/projects/${e}/installations`}function wG(e){return{token:e.token,requestStatus:2,expiresIn:_ye(e.expiresIn),creationTime:Date.now()}}async function jG(e,t){const n=(await t.json()).error;return MA.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function NG({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Nye(e,{refreshToken:t}){const r=NG(e);return r.append("Authorization",Cye(t)),r}async function _G(e){const t=await e();return t.status>=500&&t.status<600?e():t}function _ye(e){return Number(e.replace("s","000"))}function Cye(e){return`${yG} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sye({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=bG(e),a=NG(e),i=t.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const o={fid:r,authVersion:yG,appId:e.appId,sdkVersion:xG},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await _G(()=>fetch(n,l));if(c.ok){const d=await c.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:wG(d.authToken)}}else throw await jG("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bye(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kye=/^[cdef][\w-]{21}$/,JB="";function Eye(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=Pye(e);return kye.test(r)?r:JB}catch{return JB}}function Pye(e){return Bye(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG=new Map;function BG(e,t){const r=XN(e);kG(r,t),Iye(r,t)}function kG(e,t){const r=SG.get(e);if(r)for(const n of r)n(t)}function Iye(e,t){const r=Tye();r&&r.postMessage({key:e,fid:t}),Oye()}let sA=null;function Tye(){return!sA&&"BroadcastChannel"in self&&(sA=new BroadcastChannel("[Firebase] FID Change"),sA.onmessage=e=>{kG(e.data.key,e.data.fid)}),sA}function Oye(){SG.size===0&&sA&&(sA.close(),sA=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lye="firebase-installations-database",Fye=1,QA="firebase-installations-store";let OC=null;function L6(){return OC||(OC=BW(Lye,Fye,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(QA)}}})),OC}async function F2(e,t){const r=XN(e),a=(await L6()).transaction(QA,"readwrite"),i=a.objectStore(QA),o=await i.get(r);return await i.put(t,r),await a.done,(!o||o.fid!==t.fid)&&BG(e,t.fid),t}async function EG(e){const t=XN(e),n=(await L6()).transaction(QA,"readwrite");await n.objectStore(QA).delete(t),await n.done}async function ZN(e,t){const r=XN(e),a=(await L6()).transaction(QA,"readwrite"),i=a.objectStore(QA),o=await i.get(r),l=t(o);return l===void 0?await i.delete(r):await i.put(l,r),await a.done,l&&(!o||o.fid!==l.fid)&&BG(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(e){let t;const r=await ZN(e.appConfig,n=>{const a=Rye(n),i=Uye(e,a);return t=i.registrationPromise,i.installationEntry});return r.fid===JB?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function Rye(e){const t=e||{fid:Eye(),registrationStatus:0};return PG(t)}function Uye(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(MA.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=Dye(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Mye(e)}:{installationEntry:t}}async function Dye(e,t){try{const r=await Sye(e,t);return F2(e.appConfig,r)}catch(r){throw vG(r)&&r.customData.serverCode===409?await EG(e.appConfig):await F2(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function Mye(e){let t=await QR(e.appConfig);for(;t.registrationStatus===1;)await CG(100),t=await QR(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await F6(e);return n||r}return t}function QR(e){return ZN(e,t=>{if(!t)throw MA.create("installation-not-found");return PG(t)})}function PG(e){return Qye(e)?{fid:e.fid,registrationStatus:0}:e}function Qye(e){return e.registrationStatus===1&&e.registrationTime+gG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ye({appConfig:e,heartbeatServiceProvider:t},r){const n=Hye(e,r),a=Nye(e,r),i=t.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const o={installation:{sdkVersion:xG,appId:e.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await _G(()=>fetch(n,l));if(c.ok){const d=await c.json();return wG(d)}else throw await jG("Generate Auth Token",c)}function Hye(e,{fid:t}){return`${bG(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(e,t=!1){let r;const n=await ZN(e.appConfig,i=>{if(!IG(i))throw MA.create("not-registered");const o=i.authToken;if(!t&&Kye(o))return i;if(o.requestStatus===1)return r=zye(e,t),i;{if(!navigator.onLine)throw MA.create("app-offline");const l=Gye(i);return r=Vye(e,l),l}});return r?await r:n.authToken}async function zye(e,t){let r=await $R(e.appConfig);for(;r.authToken.requestStatus===1;)await CG(100),r=await $R(e.appConfig);const n=r.authToken;return n.requestStatus===0?R6(e,t):n}function $R(e){return ZN(e,t=>{if(!IG(t))throw MA.create("not-registered");const r=t.authToken;return qye(r)?{...t,authToken:{requestStatus:0}}:t})}async function Vye(e,t){try{const r=await $ye(e,t),n={...t,authToken:r};return await F2(e.appConfig,n),r}catch(r){if(vG(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await EG(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await F2(e.appConfig,n)}throw r}}function IG(e){return e!==void 0&&e.registrationStatus===2}function Kye(e){return e.requestStatus===2&&!Wye(e)}function Wye(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+vye}function Gye(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function qye(e){return e.requestStatus===1&&e.requestTime+gG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yye(e){const t=e,{installationEntry:r,registrationPromise:n}=await F6(t);return n?n.catch(console.error):R6(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xye(e,t=!1){const r=e;return await Zye(r),(await R6(r,t)).token}async function Zye(e){const{registrationPromise:t}=await F6(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jye(e){if(!e||!e.options)throw LC("App Configuration");if(!e.name)throw LC("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw LC(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function LC(e){return MA.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG="installations",eve="installations-internal",tve=e=>{const t=e.getProvider("app").getImmediate(),r=Jye(t),n=Gg(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},rve=e=>{const t=e.getProvider("app").getImmediate(),r=Gg(t,TG).getImmediate();return{getId:()=>Yye(r),getToken:a=>Xye(r,a)}};function nve(){gu(new fd(TG,tve,"PUBLIC")),gu(new fd(eve,rve,"PRIVATE"))}nve();td(pG,O6);td(pG,O6,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="analytics",sve="firebase_id",ave="origin",ive=60*1e3,ove="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",U6="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new w6("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lve={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Eo=new lm("analytics","Analytics",lve);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cve(e){if(!e.startsWith(U6)){const t=Eo.create("invalid-gtag-resource",{gtagURL:e});return Ii.warn(t.message),""}return e}function OG(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function dve(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function uve(e,t){const r=dve("firebase-js-sdk-policy",{createScriptURL:cve}),n=document.createElement("script"),a=`${U6}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function hve(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function fve(e,t,r,n,a,i){const o=n[a];try{if(o)await t[o];else{const c=(await OG(r)).find(d=>d.measurementId===a);c&&await t[c.appId]}}catch(l){Ii.error(l)}e("config",a,i)}async function Ave(e,t,r,n,a){try{let i=[];if(a&&a.send_to){let o=a.send_to;Array.isArray(o)||(o=[o]);const l=await OG(r);for(const c of o){const d=l.find(f=>f.measurementId===c),u=d&&t[d.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",n,a||{})}catch(i){Ii.error(i)}}function mve(e,t,r,n){async function a(i,...o){try{if(i==="event"){const[l,c]=o;await Ave(e,t,r,l,c)}else if(i==="config"){const[l,c]=o;await fve(e,t,r,n,l,c)}else if(i==="consent"){const[l,c]=o;e("consent",l,c)}else if(i==="get"){const[l,c,d]=o;e("get",l,c,d)}else if(i==="set"){const[l]=o;e("set",l)}else e(i,...o)}catch(l){Ii.error(l)}}return a}function pve(e,t,r,n,a){let i=function(...o){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=mve(i,e,t,r),{gtagCore:i,wrappedGtag:window[a]}}function gve(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(U6)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xve=30,yve=1e3;class vve{constructor(t={},r=yve){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const LG=new vve;function bve(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function wve(e){var o;const{appId:t,apiKey:r}=e,n={method:"GET",headers:bve(r)},a=ove.replace("{app-id}",t),i=await fetch(a,n);if(i.status!==200&&i.status!==304){let l="";try{const c=await i.json();(o=c.error)!=null&&o.message&&(l=c.error.message)}catch{}throw Eo.create("config-fetch-failed",{httpStatus:i.status,responseMessage:l})}return i.json()}async function jve(e,t=LG,r){const{appId:n,apiKey:a,measurementId:i}=e.options;if(!n)throw Eo.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:n};throw Eo.create("no-api-key")}const o=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Cve;return setTimeout(async()=>{l.abort()},ive),FG({appId:n,apiKey:a,measurementId:i},o,l,t)}async function FG(e,{throttleEndTimeMillis:t,backoffCount:r},n,a=LG){var l;const{appId:i,measurementId:o}=e;try{await Nve(n,t)}catch(c){if(o)return Ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw c}try{const c=await wve(e);return a.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!_ve(d)){if(a.deleteThrottleMetadata(i),o)return Ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw c}const u=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?fR(r,a.intervalMillis,xve):fR(r,a.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return a.setThrottleMetadata(i,f),Ii.debug(`Calling attemptFetch again in ${u} millis`),FG(e,f,n,a)}}function Nve(e,t){return new Promise((r,n)=>{const a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener(()=>{clearTimeout(i),n(Eo.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function _ve(e){if(!(e instanceof gd)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Cve{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Sve(e,t,r,n,a){if(a&&a.global){e("event",r,n);return}else{const i=await t,o={...n,send_to:i};e("event",r,o)}}async function Bve(e,t,r,n){if(n&&n.global){const a={};for(const i of Object.keys(r))a[`user_properties.${i}`]=r[i];return e("set",a),Promise.resolve()}else{const a=await t;e("config",a,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kve(){if(NW())try{await _W()}catch(e){return Ii.warn(Eo.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ii.warn(Eo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Eve(e,t,r,n,a,i,o){const l=jve(e);l.then(A=>{r[A.measurementId]=A.appId,e.options.measurementId&&A.measurementId!==e.options.measurementId&&Ii.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>Ii.error(A)),t.push(l);const c=kve().then(A=>{if(A)return n.getId()}),[d,u]=await Promise.all([l,c]);gve(i)||uve(i,d.measurementId),a("js",new Date);const f=(o==null?void 0:o.config)??{};return f[ave]="firebase",f.update=!0,u!=null&&(f[sve]=u),a("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pve{constructor(t){this.app=t}_delete(){return delete Fp[this.app.options.appId],Promise.resolve()}}let Fp={},HR=[];const zR={};let FC="dataLayer",Ive="gtag",VR,D6,KR=!1;function Tve(){const e=[];if(jW()&&e.push("This is a browser extension environment."),Ope()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,a)=>`(${a+1}) ${n}`).join(" "),r=Eo.create("invalid-analytics-context",{errorInfo:t});Ii.warn(r.message)}}function Ove(e,t,r){Tve();const n=e.options.appId;if(!n)throw Eo.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Eo.create("no-api-key");if(Fp[n]!=null)throw Eo.create("already-exists",{id:n});if(!KR){hve(FC);const{wrappedGtag:i,gtagCore:o}=pve(Fp,HR,zR,FC,Ive);D6=i,VR=o,KR=!0}return Fp[n]=Eve(e,HR,zR,t,VR,FC,r),new Pve(e)}function Lve(e=EW()){e=Uo(e);const t=Gg(e,R2);return t.isInitialized()?t.getImmediate():Fve(e)}function Fve(e,t={}){const r=Gg(e,R2);if(r.isInitialized()){const a=r.getImmediate();if(RA(t,r.getOptions()))return a;throw Eo.create("already-initialized")}return r.initialize({options:t})}function Rve(e,t,r){e=Uo(e),Bve(D6,Fp[e.app.options.appId],t,r).catch(n=>Ii.error(n))}function Uve(e,t,r,n){e=Uo(e),Sve(D6,Fp[e.app.options.appId],t,r,n).catch(a=>Ii.error(a))}const WR="@firebase/analytics",GR="0.10.19";function Dve(){gu(new fd(R2,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return Ove(n,a,r)},"PUBLIC")),gu(new fd("analytics-internal",e,"PRIVATE")),td(WR,GR),td(WR,GR,"esm2020");function e(t){try{const r=t.getProvider(R2).getImmediate();return{logEvent:(n,a,i)=>Uve(r,n,a,i),setUserProperties:(n,a)=>Rve(r,n,a)}}catch(r){throw Eo.create("interop-component-reg-failed",{reason:r})}}}Dve();const Mve={apiKey:"AIzaSyDzhAKzSVS-Y-s8s4yIufbGufzIWGg-hK0",authDomain:"lyvo-ce4ce.firebaseapp.com",projectId:"lyvo-ce4ce",storageBucket:"lyvo-ce4ce.firebasestorage.app",messagingSenderId:"369723896940",appId:"1:369723896940:web:110502102b415be5f59449",measurementId:"G-RW4WQDGN7R"},RG=kW(Mve);Lve(RG);const Rp=mye(RG),Qve=()=>{const[e,t]=_.useState({email:"",password:""}),[r,n]=_.useState(null),[a,i]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,f]=_.useState(!1),A=hr();_.useEffect(()=>{(()=>{const v="864948749872-dh9vc6atlj2psgd53oiqg99kqgdbusfe.apps.googleusercontent.com",b=document.createElement("script");b.src="https://accounts.google.com/gsi/client",b.async=!0,b.defer=!0,document.head.appendChild(b);const w=()=>{var C;if(window.google&&document.getElementById("google-signin-button")){const N=((C=document.getElementById("google-btn-container"))==null?void 0:C.offsetWidth)||380,j=Math.min(N,380);try{window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",text:"signin_with",shape:"rectangular",width:j.toString()})}catch(P){console.error("Google button render error:",P)}}};return b.onload=()=>{if(window.google)try{window.google.accounts.id.initialize({client_id:v,callback:m,auto_select:!1,cancel_on_tap_outside:!0}),w(),window.addEventListener("resize",w)}catch(C){console.error("Error initializing Google Sign-In:",C);const N=document.getElementById("google-signin-button");N&&(N.style.display="none"),toast.error("Google Sign-in is temporarily unavailable.")}},b.onerror=()=>{console.error("Failed to load Google Sign-In script");const C=document.getElementById("google-signin-button");C&&(C.style.display="none"),toast.error("Google Sign-in is temporarily unavailable. Please use email/password login.")},()=>{window.removeEventListener("resize",w)}})()},[]),_.useEffect(()=>{const y=Vv(),v=zv();if(y&&v){Hv(v);const b=Ip(v);A(b,{replace:!0})}},[A]);const m=async y=>{var v,b,w,C,N,j,P;try{if(d(!0),n(null),!y||!y.credential)throw new Error("No credential received from Google");const k=await qe.post("/user/google-signin",{credential:y.credential});localStorage.setItem("authToken",k.data.token),localStorage.setItem("user",JSON.stringify(k.data.user)),console.log("Login: Google sign-in successful, stored data:",{token:k.data.token?"present":"missing",user:k.data.user}),window.dispatchEvent(new Event("lyvo-login"));const T=k.data.user||{};if(console.log("Login: User data after Google sign-in:",{role:T.role,roleType:typeof T.role,isNewUser:T.isNewUser,hasCompletedBehaviorQuestions:T.hasCompletedBehaviorQuestions,email:T.email,name:T.name}),T.role===1&&T.isNewUser&&!T.hasCompletedBehaviorQuestions){console.log("Login: Redirecting seeker to onboarding for behavioral questions"),A("/onboarding");return}const O=T&&T.role===1&&(!T.phone||!T.location||T.age===void 0||T.age===null||T.age===""||!T.occupation||!T.gender);if(T&&T.role===1&&console.log("Login (Google): Profile Completion Check:",{needsCompletion:O,currentUser:T,checks:{phone:!T.phone,location:!T.location,age:T.age===void 0||T.age===null||T.age==="",occupation:!T.occupation,gender:!T.gender}}),O){console.log("Login (Google): Redirecting to /seeker-profile due to incomplete profile"),A("/seeker-profile");return}if(T&&T.role===1&&!T.isTenant)try{console.log("Login: Double-checking tenancy status...");const F=await qe.get("/property/user/tenant-status");if(F.data.success&&F.data.isTenant){console.log("Login: Tenancy found on double-check. Updating user session."),T.isTenant=!0;const M=JSON.parse(localStorage.getItem("user")||"{}");M.isTenant=!0,localStorage.setItem("user",JSON.stringify(M))}}catch(F){console.warn("Login: Tenancy double-check failed",F)}const B=Ip(T);console.log("Login: Final redirect URL for Google sign-in user:",{role:T.role,redirectUrl:B,userData:T}),A(B)}catch(k){console.error("Google Sign-in Error:",k),((v=k.response)==null?void 0:v.status)===403?(C=(w=(b=k.response)==null?void 0:b.data)==null?void 0:w.message)!=null&&C.toLowerCase().includes("deactivated")?f(!0):n("Google Sign-in is not configured for this domain. Please use email/password login."):((N=k.response)==null?void 0:N.status)===400?n("Invalid Google credentials. Please try again."):k.message==="No credential received from Google"?n("Google Sign-in failed. Please try again."):n(((P=(j=k.response)==null?void 0:j.data)==null?void 0:P.message)||"Google sign-in failed. Please try again.");const T=document.getElementById("google-signin-button");T&&(T.style.display="none")}finally{d(!1)}},x=y=>{t({...e,[y.target.id]:y.target.value})},g=async y=>{var v,b,w,C,N,j;y.preventDefault(),i(!0),n(null);try{const k=(await exe(Rp,e.email,e.password)).user;await k.reload().catch(R=>console.log("Reload user failed",R)),k.emailVerified||console.warn("User email verified status is FALSE. Proceeding to backend to update status if changed.");const T=await k.getIdToken(),O=await qe.post("/user/auth/firebase",{},{headers:{Authorization:`Bearer ${T}`}});localStorage.setItem("authToken",O.data.token),localStorage.setItem("user",JSON.stringify(O.data.user)),console.log("Login: Firebase login successful, stored data:",{token:O.data.token?"present":"missing",user:O.data.user}),window.dispatchEvent(new Event("lyvo-login"));const B=O.data.user||{};if(B.role===1&&B.isNewUser&&!B.hasCompletedBehaviorQuestions){A("/onboarding");return}const F=B&&B.role===1&&(!B.phone||!B.location||B.age===void 0||B.age===null||B.age===""||!B.occupation||!B.gender);if(B&&B.role===1&&console.log("Login (Email): Profile Completion Check:",{needsCompletion:F,currentUser:B,checks:{phone:!B.phone,location:!B.location,age:B.age===void 0||B.age===null||B.age==="",occupation:!B.occupation,gender:!B.gender}}),F){console.log("Login (Email): Redirecting to /seeker-profile due to incomplete profile"),A("/seeker-profile");return}if(B&&B.role===1&&!B.isTenant)try{console.log("Login: Double-checking tenancy status...");const R=await qe.get("/property/user/tenant-status");if(R.data.success&&R.data.isTenant){console.log("Login: Tenancy found on double-check. Updating user session."),B.isTenant=!0;const H=JSON.parse(localStorage.getItem("user")||"{}");H.isTenant=!0,localStorage.setItem("user",JSON.stringify(H))}}catch(R){console.warn("Login: Tenancy double-check failed",R)}const M=Ip(B);A(M)}catch(P){console.error("Login Error:",P),P.code==="auth/invalid-credential"?n("Invalid email or password."):P.code==="auth/user-not-found"?n("No user found with this email."):((v=P.response)==null?void 0:v.status)===403&&((C=(w=(b=P.response)==null?void 0:b.data)==null?void 0:w.message)!=null&&C.toLowerCase().includes("deactivated"))?f(!0):n(((j=(N=P.response)==null?void 0:N.data)==null?void 0:j.message)||P.message||"An unexpected error occurred.")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome back"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Sign in to your account"})]}),s.jsx(Sr,{children:r&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx($t,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]})}),s.jsxs("div",{className:"mb-6 flex flex-col items-center w-full",id:"google-btn-container",children:[s.jsx("div",{id:"google-signin-button",className:`w-full flex justify-center ${c?"opacity-50 pointer-events-none":""}`}),s.jsx(Sr,{children:c&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-3 flex items-center justify-center gap-2",children:[s.jsx(Js,{className:"w-5 h-5 text-red-500 animate-spin"}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Signing in..."})]})}),!1]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your email",value:e.email,onChange:x})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:o?"text":"password",required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your password",value:e.password,onChange:x}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(Ft,{to:"/forgot-password",className:"text-sm text-red-600 hover:text-red-700 hover:underline",children:"Forgot your password?"})}),s.jsx(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:a,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:bg-red-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Signing in..."})]}):"Sign in"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(Ft,{to:"/signup",className:"font-semibold text-red-600 hover:text-red-700 underline",children:"Sign up"})]})})]})}),s.jsx(pW,{isOpen:u,onClose:()=>f(!1),title:"Account Deactivated",message:"Your account has been deactivated by the admin. You will no longer be able to log in or use the platform. Please contact support if you believe this is a mistake.",type:"danger",buttonText:"Close"})]})},qR={score:0,label:"",color:"",barColor:""},$ve=()=>{const[e,t]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=_.useState(null),[a,i]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,f]=_.useState(!1),[A,m]=_.useState(!1),[x,g]=_.useState(!1),[y,v]=_.useState(qR),[b,w]=_.useState(""),[C,N]=_.useState(!1),[j,P]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[k,T]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[O,B]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[F,M]=_.useState(!1),[R,H]=_.useState(!1),[G,$]=_.useState(null),V=hr();_.useEffect(()=>{(()=>{const oe="864948749872-dh9vc6atlj2psgd53oiqg99kqgdbusfe.apps.googleusercontent.com",X=document.createElement("script");X.src="https://accounts.google.com/gsi/client",X.async=!0,X.defer=!0,document.head.appendChild(X);const be=()=>{var _e;if(window.google&&document.getElementById("google-signin-button")){const Le=((_e=document.getElementById("google-btn-container"))==null?void 0:_e.offsetWidth)||380,ke=Math.min(Le,380);try{window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",text:"signup_with",shape:"rectangular",width:ke.toString()})}catch(Qe){console.error("Error rendering Google button:",Qe)}}};return X.onload=()=>{if(window.google)try{window.google.accounts.id.initialize({client_id:oe,callback:te,auto_select:!1,cancel_on_tap_outside:!0}),be(),window.addEventListener("resize",be)}catch(_e){console.error("Error initializing Google Sign-In:",_e)}},X.onerror=()=>{console.error("Failed to load Google Sign-In script")},()=>{window.removeEventListener("resize",be)}})()},[]);const te=async pe=>{var oe,X,be,_e,Le,ke,Qe,Ye;try{m(!0),n(null),i(null);const it=await qe.post("/user/google-signin",{credential:pe.credential,role:1});localStorage.setItem("authToken",it.data.token),localStorage.setItem("user",JSON.stringify(it.data.user)),window.dispatchEvent(new Event("lyvo-login"));const Oe=it.data.user;Oe.isNewUser&&!Oe.hasCompletedBehaviorQuestions?V("/seeker-onboarding"):V("/seeker-dashboard")}catch(it){((X=(oe=it.response)==null?void 0:oe.data)==null?void 0:X.errorCode)==="ROLE_CONFLICT"?n(it.response.data.message):((be=it.response)==null?void 0:be.status)===403&&((ke=(Le=(_e=it.response)==null?void 0:_e.data)==null?void 0:Le.message)!=null&&ke.toLowerCase().includes("deactivated"))?g(!0):n(((Ye=(Qe=it.response)==null?void 0:Qe.data)==null?void 0:Ye.message)||"Google sign-in failed. Please try again.")}finally{m(!1)}},re={length:e.password.length>=8,uppercase:/[A-Z]/.test(e.password),lowercase:/[a-z]/.test(e.password),number:/\d/.test(e.password),special:/[@$!%*?&]/.test(e.password)},K=pe=>{if(!pe)return{score:0,label:"",color:"text-gray-400",barColor:"bg-gray-200"};let oe=0,X="";pe.length>=8&&(oe+=20),pe.length>=12&&(oe+=10),/[a-z]/.test(pe)&&(oe+=20),/[A-Z]/.test(pe)&&(oe+=20),/\d/.test(pe)&&(oe+=20),/[@$!%*?&]/.test(pe)&&(oe+=20),pe.length>8&&/[a-z]/.test(pe)&&/[A-Z]/.test(pe)&&(oe+=10),pe.length>8&&/\d/.test(pe)&&/[@$!%*?&]/.test(pe)&&(oe+=10),oe=Math.min(oe,100);let be="",_e="",Le="";return oe<20||oe<40?(be="weak",_e="text-orange-500",Le="bg-orange-500"):oe<60?(be="medium",_e="text-yellow-500",Le="bg-gradient-to-r from-orange-500 to-yellow-500"):oe<80?(be="good",_e="text-yellow-500",Le="bg-gradient-to-r from-orange-500 to-yellow-500"):(be="strong",_e="text-green-500",Le="bg-gradient-to-r from-red-500 via-orange-500 via-yellow-500 to-green-500"),oe<20?X="This password is not acceptable. Add another word or two.":oe<40?X="Weak password. Try adding numbers and special characters.":oe<60?X="Fair password. Add more variety to make it stronger.":oe<80?X="Good password. Almost there!":X="Excellent! Your password is strong.",w(X),{score:oe,label:be,color:_e,barColor:Le}},z=Object.values(re).every(Boolean);_.useEffect(()=>{const pe=K(e.password);v(pe)},[e.password]),_.useEffect(()=>{if(z&&C){const pe=setTimeout(()=>{N(!1)},1e3);return()=>clearTimeout(pe)}},[z,C]);const ee=pe=>{if(!pe.trim())return"Full name is required";if(pe.trim().length<2)return"Full name must be at least 2 characters long";if(pe.trim().length>50)return"Full name must be less than 50 characters"},W=pe=>{if(!pe.trim())return"Email is required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(pe.trim()))return"Please enter a valid email address"},ne=pe=>{if(!pe)return"Password is required";if(pe.length<8)return"Password must be at least 8 characters long";if(!/[A-Z]/.test(pe))return"Password must contain at least one uppercase letter";if(!/[a-z]/.test(pe))return"Password must contain at least one lowercase letter";if(!/\d/.test(pe))return"Password must contain at least one number";if(!/[@$!%*?&]/.test(pe))return"Password must contain at least one special character (@$!%*?&)"},se=(pe,oe)=>{if(!pe)return"Please confirm your password";if(pe!==oe)return"Passwords do not match"},ce=pe=>{const oe=["name","email","password","confirmPassword"],X=oe.indexOf(pe);if(X===0)return!0;const be=oe[X-1],_e=O[be];if(pe==="password"){const Le=O.email,ke=R&&G&&G.isVerified;return Le&&!ke}return _e},ye=()=>O.name&&O.email&&O.password&&O.confirmPassword,Ae=async pe=>{if(!pe||!pe.includes("@")){H(!1),$(null);return}try{M(!0),console.log("Checking email:",pe);const oe=await qe.get("/user/check-email",{params:{email:pe}}),X=oe.data;if(console.log("Email check response:",X),oe.status===200)if(X.exists===!0)H(!0),$({isVerified:!0,note:"This email is already registered. Please use a different email or try logging in."}),T(be=>({...be,email:"Email already registered. Please use a different email."})),B(be=>({...be,email:!1}));else if(X.isUnverified===!0)H(!0),$({isUnverified:!0,note:"This email was previously registered but not verified. You can register again."}),T(be=>({...be,email:""})),B(be=>({...be,email:!0}));else{H(!1),$(null),T(_e=>({..._e,email:""}));const be=W(pe);B(_e=>({..._e,email:!be}))}else console.error("Email check failed:",X),H(!1),$(null)}catch(oe){console.error("Error checking email:",oe),H(!1),$(null)}finally{M(!1)}};_.useEffect(()=>{const pe=setTimeout(()=>{e.email&&e.email.includes("@")&&e.email.includes(".")?Ae(e.email):e.email&&!e.email.includes("@")&&(H(!1),T(oe=>({...oe,email:""})),B(oe=>({...oe,email:!1})))},500);return()=>clearTimeout(pe)},[e.email]);const xe=pe=>{P(X=>({...X,[pe]:!0}));let oe;switch(pe){case"name":oe=ee(e.name);break;case"email":oe=W(e.email);break;case"password":oe=ne(e.password);break;case"confirmPassword":oe=se(e.confirmPassword,e.password);break}T(X=>({...X,[pe]:oe})),B(X=>({...X,[pe]:!oe}))},le=pe=>{const{id:oe,value:X}=pe.target;t({...e,[oe]:X}),k[oe]&&T(_e=>({..._e,[oe]:""})),oe==="password"&&X&&!C&&N(!0);let be="";switch(oe){case"name":be=ee(X);break;case"email":be=W(X);break;case"password":be=ne(X);break;case"confirmPassword":be=se(X,e.password);break}if(T(_e=>({..._e,[oe]:be||""})),B(_e=>({..._e,[oe]:!be})),oe==="password"&&j.confirmPassword){const _e=se(e.confirmPassword,X);T(Le=>({...Le,confirmPassword:_e||""})),B(Le=>({...Le,confirmPassword:!_e}))}},Z=async pe=>{pe.preventDefault();const oe=ee(e.name),X=W(e.email),be=ne(e.password),_e=se(e.confirmPassword,e.password);if(T({name:oe||"",email:X||"",password:be||"",confirmPassword:_e||""}),P({name:!0,email:!0,password:!0,confirmPassword:!0}),oe||X||be||_e){n("Please fix the errors above before submitting.");return}l(!0),n(null),i(null);try{const ke=(await rG(Rp,e.email,e.password)).user;await sG(ke,{displayName:e.name}),await nG(ke);const Qe=await ke.getIdToken(!0);await qe.post("/user/auth/firebase",{name:e.name},{headers:{Authorization:`Bearer ${Qe}`}}),i("Account created successfully! Please check your email to verify your account."),t({name:"",email:"",password:"",confirmPassword:""}),v(qR),w(""),N(!1),T({name:"",email:"",password:"",confirmPassword:""}),P({name:!1,email:!1,password:!1,confirmPassword:!1}),B({name:!1,email:!1,password:!1,confirmPassword:!1}),M(!1),H(!1)}catch(Le){console.error("Signup Error:",Le),Le.code==="auth/email-already-in-use"?n("This email is already registered. Please login instead."):Le.code==="auth/weak-password"?n("Password should be at least 6 characters."):n(Le.message||"An unexpected error occurred.")}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Join ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," as a Room Seeker"]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Find your perfect co-living space and connect with roommates"})]}),s.jsxs(Sr,{children:[r&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx($t,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]}),a&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:a}),s.jsx("div",{className:"text-xs mt-1",children:"Please check your email and click the verification link to complete your registration."})]})]})]}),s.jsxs("div",{className:"mb-6 flex flex-col items-center w-full",id:"google-btn-container",children:[s.jsx("div",{id:"google-signin-button",className:`w-full flex justify-center ${A?"opacity-50 pointer-events-none":""}`}),s.jsx(Sr,{children:A&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-3 flex items-center justify-center gap-2",children:[s.jsx(Js,{className:"w-5 h-5 text-red-500 animate-spin"}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Signing up..."})]})}),!1]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",O.name&&s.jsx(At,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"name",type:"text",required:!0,disabled:!ce("name"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ce("name")?j.name&&k.name?"border-red-300 bg-red-50":O.name?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your full name",value:e.name,onChange:le,onBlur:()=>xe("name")})]}),j.name&&k.name&&s.jsxs(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(nr,{className:"w-4 h-4"}),k.name]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",O.email&&!R&&s.jsx(At,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,disabled:!ce("email"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ce("email")?e.email&&(k.email||R)?"border-red-300 bg-red-50":e.email&&O.email&&!R?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your email",value:e.email,onChange:le,onBlur:()=>xe("email")}),F&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})})]}),e.email&&(k.email||R&&G&&G.isVerified)&&s.jsxs(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(nr,{className:"w-4 h-4"}),R&&G&&G.isVerified?"Email already registered. Please use a different email.":k.email]}),e.email&&!k.email&&!R&&O.email&&s.jsxs(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(At,{className:"w-4 h-4"}),"Email is available"]}),e.email&&!k.email&&G&&G.isUnverified&&s.jsxs(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-blue-600 flex items-center gap-1",children:[s.jsx(At,{className:"w-4 h-4"}),G.note||"This email was previously registered but not verified. You can register again."]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",O.password&&s.jsx(At,{className:"inline w-4 h-4 text-green-500 ml-1"}),!ce("password")&&R&&G&&G.isVerified&&s.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(Email already registered - use different email)"}),!ce("password")&&R&&G&&G.isUnverified&&s.jsx("span",{className:"text-xs text-blue-500 ml-2",children:"(Complete email validation first)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:c?"text":"password",required:!0,disabled:!ce("password"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ce("password")?j.password&&k.password?"border-red-300 bg-red-50":O.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your password",value:e.password,onChange:le,onBlur:()=>xe("password")}),s.jsx("button",{type:"button",onClick:()=>d(!c),disabled:!ce("password"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:c?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]}),e.password&&s.jsxs(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Password strength"}),s.jsx("span",{className:`text-xs font-medium ${y.color}`,children:y.label})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(J.div,{className:`h-2 rounded-full ${y.barColor}`,initial:{width:0},animate:{width:`${y.score}%`},transition:{duration:.3,ease:"easeOut"}})})]}),b&&s.jsx(J.p,{initial:{opacity:0},animate:{opacity:1},className:`text-xs ${y.color}`,children:b}),s.jsx(Sr,{children:C&&!z&&s.jsxs(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(er,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Password requirements"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs ${re.length?"text-green-600":"text-gray-500"}`,children:[re.length?s.jsx(Gm,{className:"w-3 h-3"}):s.jsx(nr,{className:"w-3 h-3"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${re.uppercase?"text-green-600":"text-gray-500"}`,children:[re.uppercase?s.jsx(Gm,{className:"w-3 h-3"}):s.jsx(nr,{className:"w-3 h-3"}),s.jsx("span",{children:"One uppercase letter"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${re.lowercase?"text-green-600":"text-gray-500"}`,children:[re.lowercase?s.jsx(Gm,{className:"w-3 h-3"}):s.jsx(nr,{className:"w-3 h-3"}),s.jsx("span",{children:"One lowercase letter"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${re.number?"text-green-600":"text-gray-500"}`,children:[re.number?s.jsx(Gm,{className:"w-3 h-3"}):s.jsx(nr,{className:"w-3 h-3"}),s.jsx("span",{children:"One number"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${re.special?"text-green-600":"text-gray-500"}`,children:[re.special?s.jsx(Gm,{className:"w-3 h-3"}):s.jsx(nr,{className:"w-3 h-3"}),s.jsx("span",{children:"One special character (@$!%*?&)"})]})]})]})})]}),j.password&&k.password&&s.jsxs(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(nr,{className:"w-4 h-4"}),k.password]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password ",O.confirmPassword&&s.jsx(At,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirmPassword",type:u?"text":"password",required:!0,disabled:!ce("confirmPassword"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ce("confirmPassword")?j.confirmPassword&&k.confirmPassword?"border-red-300 bg-red-50":j.confirmPassword&&e.confirmPassword&&e.confirmPassword===e.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Confirm your password",value:e.confirmPassword,onChange:le,onBlur:()=>xe("confirmPassword")}),s.jsx("button",{type:"button",onClick:()=>f(!u),disabled:!ce("confirmPassword"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:u?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]}),j.confirmPassword&&k.confirmPassword&&s.jsxs(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(nr,{className:"w-4 h-4"}),k.confirmPassword]}),j.confirmPassword&&e.confirmPassword&&e.confirmPassword===e.password&&!k.confirmPassword&&s.jsxs(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(At,{className:"w-4 h-4"}),"Passwords match"]})]}),s.jsx(J.button,{whileHover:ye()?{scale:1.02}:{},whileTap:ye()?{scale:.98}:{},type:"submit",disabled:o||!ye(),className:`w-full py-3 px-4 rounded-lg font-semibold shadow-sm transition-all duration-200 ${ye()?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"} disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:o?s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Creating account..."})]}):ye()?"Create account":"Complete all fields to continue"})]}),s.jsxs("div",{className:"mt-6 text-center space-y-3",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Ft,{to:"/login",className:"font-semibold text-red-600 hover:text-red-700 underline",children:"Sign in"})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Are you a property owner?"}),s.jsxs(Ft,{to:"/room-owner-signup",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 underline",children:[s.jsx(er,{className:"w-4 h-4 mr-1"}),"Sign up as Property Owner"]})]})]})]})}),s.jsx(pW,{isOpen:x,onClose:()=>g(!1),title:"Account Deactivated",message:"Your account has been deactivated by the admin. You will no longer be able to log in or use the platform. Please contact support if you believe this is a mistake.",type:"danger",buttonText:"Close"})]})},Hve={score:0,label:"",color:"",barColor:""},zve=()=>{const[e,t]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=_.useState(null),[a,i]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,f]=_.useState(!1),[A,m]=_.useState(Hve),[x,g]=_.useState(""),[y,v]=_.useState(!1),[b,w]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[C,N]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[j,P]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[k,T]=_.useState(!1),[O,B]=_.useState(!1),[F,M]=_.useState(null),R=hr(),H=async()=>{try{f(!0),n(null),i(null);const Ae=new zd,Z=await(await Nxe(Rp,Ae)).user.getIdToken(),pe=await qe.post("/user/auth/firebase",{role:3},{headers:{Authorization:`Bearer ${Z}`}});localStorage.setItem("authToken",pe.data.token),localStorage.setItem("user",JSON.stringify(pe.data.user)),window.dispatchEvent(new Event("lyvo-login")),R("/owner-dashboard")}catch(Ae){console.error("Google Sign-in error:",Ae),Ae.code==="auth/popup-closed-by-user"?n("Sign-in cancelled"):n(Ae.message||"Google sign-in failed")}finally{f(!1)}},G={length:e.password.length>=8,uppercase:/[A-Z]/.test(e.password),lowercase:/[a-z]/.test(e.password),number:/\d/.test(e.password),special:/[@$!%*?&]/.test(e.password)},$=Ae=>{if(!Ae)return{score:0,label:"",color:"text-gray-400",barColor:"bg-gray-200"};let xe=0;Ae.length>=8&&(xe+=20),Ae.length>=12&&(xe+=10),/[a-z]/.test(Ae)&&(xe+=20),/[A-Z]/.test(Ae)&&(xe+=20),/\d/.test(Ae)&&(xe+=20),/[@$!%*?&]/.test(Ae)&&(xe+=20),Ae.length>8&&/[a-z]/.test(Ae)&&/[A-Z]/.test(Ae)&&(xe+=10),Ae.length>8&&/\d/.test(Ae)&&/[@$!%*?&]/.test(Ae)&&(xe+=10),xe=Math.min(xe,100);let le="",Z="",pe="";xe<40?(le="weak",Z="text-orange-500",pe="bg-orange-500"):xe<80?(le="good",Z="text-yellow-500",pe="bg-yellow-500"):(le="strong",Z="text-green-500",pe="bg-green-500");let oe="";return xe<40?oe="Weak password.":xe<80?oe="Good password.":oe="Strong password!",g(oe),{score:xe,label:le,color:Z,barColor:pe}},V=Ae=>Ae.trim()?Ae.length<2?"Too short":void 0:"Name required",te=Ae=>Ae.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ae)?void 0:"Invalid email":"Email required",re=Ae=>{if(!Ae)return"Password is required";if(Ae.length<8)return"Password must be at least 8 characters long";if(!/[A-Z]/.test(Ae))return"Password must contain at least one uppercase letter";if(!/[a-z]/.test(Ae))return"Password must contain at least one lowercase letter";if(!/\d/.test(Ae))return"Password must contain at least one number";if(!/[@$!%*?&]/.test(Ae))return"Password must contain at least one special character (@$!%*?&)"},K=(Ae,xe)=>Ae!==xe?"Passwords do not match":void 0,z=Ae=>{const xe=["name","email","password","confirmPassword"],le=xe.indexOf(Ae);if(le===0)return!0;const Z=xe[le-1],pe=j[Z];if(Ae==="password"){const oe=j.email,X=O&&F&&F.isVerified;return oe&&!X}return pe},ee=Object.values(G).every(Boolean);_.useEffect(()=>{m($(e.password))},[e.password]),_.useEffect(()=>{if(ee&&y){const Ae=setTimeout(()=>v(!1),1e3);return()=>clearTimeout(Ae)}},[ee,y]);const W=async Ae=>{if(!Ae||!Ae.includes("@")){B(!1),M(null);return}try{T(!0);const le=(await qe.get(`/user/check-email?email=${encodeURIComponent(Ae)}`)).data;if(console.log("Email check response:",le),le.exists===!0)B(!0),M({isVerified:!0,note:"This email is already registered. Please use a different email or try logging in."}),N(Z=>({...Z,email:"Email already registered. Please use a different email."})),P(Z=>({...Z,email:!1}));else if(le.isUnverified===!0)B(!0),M({isUnverified:!0,note:"This email was previously registered but not verified. You can register again."}),N(Z=>({...Z,email:""})),P(Z=>({...Z,email:!0}));else{B(!1),M(null),N(pe=>({...pe,email:""}));const Z=te(Ae);P(pe=>({...pe,email:!Z}))}}catch(xe){console.error("Error checking email:",xe),B(!1),M(null)}finally{T(!1)}};_.useEffect(()=>{const Ae=setTimeout(()=>{e.email&&e.email.includes("@")&&e.email.includes(".")?W(e.email):e.email&&!e.email.includes("@")&&(B(!1),N(xe=>({...xe,email:""})),P(xe=>({...xe,email:!1})))},500);return()=>clearTimeout(Ae)},[e.email]);const ne=Ae=>{w(le=>({...le,[Ae]:!0}));let xe;switch(Ae){case"name":xe=V(e.name);break;case"email":xe=te(e.email);break;case"password":xe=re(e.password);break;case"confirmPassword":xe=K(e.confirmPassword,e.password);break}N(le=>({...le,[Ae]:xe})),P(le=>({...le,[Ae]:!xe}))},se=Ae=>{const{id:xe,value:le}=Ae.target;t(pe=>({...pe,[xe]:le})),xe==="password"&&le.length>0&&v(!0),C[xe]&&N(pe=>({...pe,[xe]:""}));let Z="";switch(xe){case"name":Z=V(le);break;case"email":Z=te(le);break;case"password":Z=re(le);break;case"confirmPassword":Z=K(le,e.password);break}if(N(pe=>({...pe,[xe]:Z||""})),P(pe=>({...pe,[xe]:!Z})),xe==="password"&&b.confirmPassword){const pe=K(e.confirmPassword,le);N(oe=>({...oe,confirmPassword:pe||""}))}},ce=()=>j.name&&j.email&&j.password&&j.confirmPassword&&!C.name&&!C.email&&!C.password&&!C.confirmPassword&&!k&&(!O||F&&F.isUnverified),ye=async Ae=>{Ae.preventDefault(),w({name:!0,email:!0,password:!0,confirmPassword:!0});const xe=V(e.name),le=te(e.email),Z=re(e.password),pe=K(e.confirmPassword,e.password);if(N({name:xe||"",email:le||"",password:Z||"",confirmPassword:pe||""}),xe||le||Z||pe||O&&(F!=null&&F.isVerified)){n("Please fix the highlighted errors before submitting.");return}if(k){n("Please wait, checking email availability...");return}l(!0),n(null),i(null);try{const X=(await rG(Rp,e.email,e.password)).user;await sG(X,{displayName:e.name}),await nG(X);const be=await X.getIdToken();await qe.post("/user/auth/firebase",{role:3},{headers:{Authorization:`Bearer ${be}`}}),await sxe(Rp),i("Account created successfully!"),t({name:"",email:"",password:"",confirmPassword:""}),B(!1),M(null),P({name:!1,email:!1,password:!1,confirmPassword:!1}),w({name:!1,email:!1,password:!1,confirmPassword:!1})}catch(oe){console.error(oe),oe.code==="auth/email-already-in-use"?n("Email is already registered. Please log in."):oe.code==="auth/weak-password"?n("Password is too weak."):n(oe.message||"Signup failed.")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"flex items-center space-x-3 group",children:s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})})}),s.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-3 relative",children:[s.jsxs("span",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Join ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," as a"]}),s.jsx("br",{}),s.jsx("span",{className:"text-4xl font-extrabold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent drop-shadow-sm",children:"PROPERTY OWNER"}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"List your properties and connect with room seekers"})]}),s.jsxs(Sr,{children:[r&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx($t,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]}),a&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:a}),s.jsx("div",{className:"text-xs mt-1",children:"Please check your email and click the verification link."})]})]})]}),s.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[s.jsxs("button",{type:"button",onClick:H,disabled:u,className:`w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all font-medium ${u?"opacity-50":""}`,children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),s.jsx("span",{children:"Sign up with Google"})]}),s.jsx(Sr,{children:u&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-3 flex items-center justify-center gap-2",children:[s.jsx(Js,{className:"w-5 h-5 text-red-500 animate-spin"}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Signing up..."})]})})]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:ye,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",j.name&&s.jsx(At,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"name",type:"text",required:!0,disabled:!z("name"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${z("name")?b.name&&C.name?"border-red-300 bg-red-50":j.name?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your full name",value:e.name,onChange:se,onBlur:()=>ne("name")})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",j.email&&!O&&s.jsx(At,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,disabled:!z("email"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${z("email")?e.email&&(C.email||O)?"border-red-300 bg-red-50":e.email&&j.email&&!O?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your email",value:e.email,onChange:se,onBlur:()=>ne("email")}),k&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})})]}),e.email&&(C.email||O&&F&&F.isVerified)&&s.jsxs(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(nr,{className:"w-4 h-4"}),O&&F&&F.isVerified?"Email already registered. Please use a different email.":C.email]}),e.email&&!C.email&&!O&&j.email&&s.jsxs(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(At,{className:"w-4 h-4"}),"Email is available"]}),e.email&&!C.email&&F&&F.isUnverified&&s.jsxs(J.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-blue-600 flex items-center gap-1",children:[s.jsx(At,{className:"w-4 h-4"}),F.note||"This email was previously registered but not verified. You can register again."]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password",O&&F&&F.isVerified&&s.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(Email already registered - use different email)"}),O&&F&&F.isUnverified&&s.jsx("span",{className:"text-xs text-blue-500 ml-2",children:"(Complete email validation first)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:c?"text":"password",required:!0,disabled:!z("password"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${z("password")?b.password&&C.password?"border-red-300 bg-red-50":j.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your password",value:e.password,onChange:se,onBlur:()=>ne("password")}),s.jsx("button",{type:"button",onClick:()=>d(!c),disabled:!z("password"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:c?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]}),y&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"flex h-2 overflow-hidden rounded-full bg-gray-200",children:s.jsx("div",{className:`h-full transition-all duration-300 ${A.barColor}`,style:{width:`${A.score}%`}})}),s.jsx("div",{className:"mt-2 flex justify-between text-xs",children:s.jsx("span",{className:`${A.color} font-medium`,children:x})}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-1 text-xs text-gray-500",children:[s.jsx("div",{className:G.length?"text-green-600":"",children:" 8+ characters"}),s.jsx("div",{className:G.uppercase?"text-green-600":"",children:" Uppercase"}),s.jsx("div",{className:G.lowercase?"text-green-600":"",children:" Lowercase"}),s.jsx("div",{className:G.number?"text-green-600":"",children:" Number"}),s.jsx("div",{className:G.special?"text-green-600":"",children:" Special char"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirmPassword",type:c?"text":"password",required:!0,disabled:!z("confirmPassword"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${z("confirmPassword")?b.confirmPassword&&C.confirmPassword?"border-red-300 bg-red-50":j.confirmPassword?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Confirm your password",value:e.confirmPassword,onChange:se,onBlur:()=>ne("confirmPassword")})]})]}),s.jsx("button",{type:"submit",disabled:o,className:`w-full flex justify-center py-4 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white transition-all transform hover:scale-[1.02] ${o?"opacity-70 cursor-not-allowed":""} ${ce()?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500":"bg-gray-400 cursor-pointer hover:bg-gray-500"}`,children:o?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Create Owner Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Ft,{to:"/login",className:"font-medium text-red-600 hover:text-red-500 transition-colors",children:"Sign in here"})]})})]})})})},Vve=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(null),[a,i]=_.useState(!1),[o,l]=_.useState(!1),c=async d=>{d.preventDefault(),l(!0),n(null),i(!1);try{await J0e(Rp,e),i(!0)}catch(u){console.error("Password reset error:",u),u.code==="auth/user-not-found"?n("No account found with this email in Firebase."):u.code==="auth/invalid-email"?n("Invalid email address format."):n("Failed to send reset email. Please try again later.")}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs(Ft,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Pr,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsx(Ft,{to:"/login",className:"text-sm text-gray-600 hover:text-red-500 transition-colors",children:"Back to Login"})]})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(J.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(er,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Enter your email to receive a secure reset link"})]}),s.jsxs("div",{className:"px-8 py-8",children:[s.jsxs(Sr,{children:[r&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx($t,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r})]})]}),a&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(At,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Success!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Password reset link sent to your email"})]})]})]}),a?s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-6",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(At,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Check Your Email"}),s.jsx("p",{className:"text-gray-600",children:"We've sent a secure password reset link to:"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:e})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-left",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"What's next?"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" Check your email inbox (and spam folder)"}),s.jsx("li",{children:" Click the reset link in the email"}),s.jsx("li",{children:" Create a new secure password"})]})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(Ft,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(Ps,{className:"w-4 h-4"}),"Back to Login"]})})]}):s.jsxs(J.form,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",onSubmit:c,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(nn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",value:e,onChange:d=>t(d.target.value)})]})]}),s.jsx(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending Reset Link..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"w-5 h-5"}),"Send Reset Link"]})})]}),!a&&s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Remember your password?"}),s.jsxs(Ft,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(Ps,{className:"w-4 h-4"}),"Sign in to your account"]})]})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Need help? Contact our support team"})})]})})]})},Kve="http://localhost:4002/api/user",Wve=()=>{const[e]=az(),t=e.get("token"),[r,n]=_.useState(""),[a,i]=_.useState(""),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,f]=_.useState(null),[A,m]=_.useState(!1),[x,g]=_.useState(!1);hr();const v=(w=>{if(!w)return{score:0,label:"",color:""};let C=0,N=[];return w.length>=8?(C+=1,N.push("8+ characters")):w.length>=6&&(C+=.5,N.push("6+ characters")),/[a-z]/.test(w)&&(C+=1,N.push("lowercase")),/[A-Z]/.test(w)&&(C+=1,N.push("uppercase")),/[0-9]/.test(w)&&(C+=1,N.push("number")),/[^A-Za-z0-9]/.test(w)&&(C+=1,N.push("symbol")),C>=4?{score:4,label:"Strong",color:"bg-green-500",feedback:N}:C>=3?{score:3,label:"Good",color:"bg-blue-500",feedback:N}:C>=2?{score:2,label:"Fair",color:"bg-yellow-500",feedback:N}:C>=1?{score:1,label:"Weak",color:"bg-red-500",feedback:N}:{score:0,label:"Very Weak",color:"bg-gray-300",feedback:N}})(r);if(!t)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-between items-center py-4",children:s.jsxs(Ft,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Pr,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]})})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(J.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx($t,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-red-100 text-sm",children:"This password reset link is invalid or has expired"})]}),s.jsx("div",{className:"px-8 py-8 text-center",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"The password reset link you're trying to use is no longer valid. This could be because:"}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-left",children:s.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[s.jsx("li",{children:" The link has expired (links expire after 1 hour)"}),s.jsx("li",{children:" The link has already been used"}),s.jsx("li",{children:" The link was copied incorrectly"})]})}),s.jsx("div",{className:"pt-4",children:s.jsxs(Ft,{to:"/forgot-password",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(Ps,{className:"w-4 h-4"}),"Request a new reset link"]})})]})})]})})})]});const b=async w=>{var C,N;if(w.preventDefault(),f(null),r.length<6){f("Password must be at least 6 characters.");return}if(r!==a){f("Passwords do not match.");return}g(!0);try{await Bn.post(`${Kve}/reset-password`,{token:t,password:r}),m(!0)}catch(j){f(((N=(C=j.response)==null?void 0:C.data)==null?void 0:N.message)||"An unexpected error occurred.")}finally{g(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs(Ft,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Pr,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsx(Ft,{to:"/login",className:"text-sm text-gray-600 hover:text-red-500 transition-colors",children:"Back to Login"})]})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(J.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(er,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Create New Password"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Choose a strong password for your account"})]}),s.jsxs("div",{className:"px-8 py-8",children:[s.jsxs(Sr,{children:[u&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx($t,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:u})]})]}),A&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(At,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Success!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your password has been reset successfully"})]})]})]}),A?s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-6",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(At,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Password Updated!"}),s.jsx("p",{className:"text-gray-600",children:"Your password has been successfully reset. You can now sign in with your new password."})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:"Security Tip"}),s.jsx("p",{className:"text-sm text-green-700",children:"For your security, we recommend using a unique password that you don't use on other websites."})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(Ft,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(Ps,{className:"w-4 h-4"}),"Sign in to your account"]})})]}):s.jsxs(J.form,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",onSubmit:b,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:o?"text":"password",required:!0,minLength:6,className:"w-full pl-12 pr-12 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your new password",value:r,onChange:w=>n(w.target.value)}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:o?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]}),r&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 space-y-2",children:[s.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(w=>s.jsx("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${v.score>=w?v.color:"bg-gray-200"}`},w))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-xs font-medium ${v.score>=4?"text-green-600":v.score>=3?"text-blue-600":v.score>=2?"text-yellow-600":v.score>=1?"text-red-600":"text-gray-500"}`,children:v.label}),s.jsxs("span",{className:"text-xs text-gray-500",children:[r.length,"/8+ characters"]})]}),v.feedback.length>0&&s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Includes: "}),v.feedback.join(", ")]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirm",type:c?"text":"password",required:!0,minLength:6,className:"w-full pl-12 pr-12 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Confirm your new password",value:a,onChange:w=>i(w.target.value)}),s.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:c?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]}),a&&s.jsx(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2",children:s.jsxs("div",{className:`flex items-center gap-2 text-xs ${r===a?"text-green-600":"text-red-600"}`,children:[r===a?s.jsx(At,{className:"w-4 h-4"}):s.jsx($t,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:r===a?"Passwords match":"Passwords do not match"})]})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Password Requirements"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" At least 6 characters long"}),s.jsx("li",{children:" Use a mix of letters, numbers, and symbols"}),s.jsx("li",{children:" Avoid common passwords"})]})]}),s.jsx(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Updating Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"w-5 h-5"}),"Update Password"]})})]}),!A&&s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Remember your password?"}),s.jsxs(Ft,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(Ps,{className:"w-4 h-4"}),"Sign in to your account"]})]})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Need help? Contact our support team"})})]})})]})},Gve=()=>{const[e]=az(),t=hr(),[r,n]=_.useState("verifying"),[a,i]=_.useState(""),[o,l]=_.useState(!1),[c,d]=_.useState("");_.useEffect(()=>{(async()=>{var m,x,g;const A=e.get("token");if(!A){n("error"),d("No verification token provided. Please check your email link."),l(!0);return}try{console.log("Verifying email with token:",A);const y=await qe.get(`/user/verify-email/${A}`,{timeout:1e4});console.log("Verification response:",y),console.log("Response status:",y.status),console.log("Response data:",y.data),y.data&&y.data.message&&y.data.message.includes("verified successfully")?(n("success"),i(y.data.message),l(!0)):(n("error"),d(((m=y.data)==null?void 0:m.message)||"Email verification failed. The link may be invalid or expired."),l(!0))}catch(y){console.error("Verification error:",y),n("error"),d(((g=(x=y.response)==null?void 0:x.data)==null?void 0:g.message)||"Email verification failed. Please try again."),l(!0)}})()},[e,t]);const u=()=>{l(!1),t("/login")};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-stone-100 py-12 px-4 sm:px-6 lg:px-8",children:[r==="verifying"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(J.div,{initial:{scale:.8},animate:{scale:1},className:"mx-auto w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-2xl flex items-center justify-center shadow-lg mb-6",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 font-display",children:"Verifying Email..."}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Please wait while we verify your email address"})]}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-xl p-8 border border-blue-200",children:s.jsxs("div",{className:"text-center",children:[s.jsx(J.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx("div",{className:"w-12 h-12 animate-spin text-red-500 mx-auto border-4 border-red-200 border-t-red-500 rounded-full"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 font-display",children:"Processing Verification"}),s.jsx("p",{className:"text-sm text-blue-700 mb-6",children:"We're verifying your email address..."}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600",children:[s.jsx("div",{className:"w-4 h-4 animate-spin border-2 border-blue-200 border-t-blue-600 rounded-full"}),s.jsx("span",{children:"Please wait..."})]})]})})]}),s.jsx(Sr,{children:o&&s.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:u,children:s.jsxs(J.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative",onClick:f=>f.stopPropagation(),children:[s.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(nr,{className:"w-6 h-6"})}),s.jsx("div",{className:"text-center",children:r==="success"?s.jsxs(s.Fragment,{children:[s.jsx(J.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx(At,{className:"w-16 h-16 text-green-500 mx-auto"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 font-display",children:" Email Verified Successfully!"}),s.jsx("p",{className:"text-gray-700 mb-6",children:a}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-green-700 font-medium",children:" Your email has been verified! You can now log in to your account."})}),s.jsxs(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:from-green-600 hover:to-emerald-600 transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(au,{className:"w-5 h-5"}),"Go to Login"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(J.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx($t,{className:"w-16 h-16 text-blue-500 mx-auto"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 font-display",children:" Login Using Your Account"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Your account may already be verified or the verification link has expired."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" Try logging in with your email and password. If you don't have an account, you can sign up."})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(au,{className:"w-5 h-5"}),"Go to Login"]}),s.jsx(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/signup"),className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-semibold hover:bg-gray-200 transition-all duration-200",children:"Try Signing Up Again"})]})]})})]})})})]})},YR="http://localhost:4002/api/user",qve=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[a,i]=_.useState(""),[o,l]=_.useState(""),[c,d]=_.useState(null),[u,f]=_.useState(!1);hr(),_.useEffect(()=>{if(!e.trim()){d(null),i(""),l("");return}const b=setTimeout(async()=>{await A(e.trim())},500);return()=>clearTimeout(b)},[e]);const A=async b=>{try{f(!0),d("checking");const w=await Bn.get(`${YR}/check-email?email=${encodeURIComponent(b)}`);w.data.exists&&w.data.isVerified?(d("verified"),i("This email is already verified. Please log in to your account."),l("info")):w.data.isUnverified?(d("unverified"),i("This email is registered but not verified. You can request a new verification email."),l("info")):(d("not_found"),i("This email is not registered. Please check your email address or sign up for a new account."),l("error"))}catch(w){console.error("Email check error:",w),d("error"),i("Unable to check email status. Please try again."),l("error")}finally{f(!1)}},m=async b=>{var w;if(b.preventDefault(),!(!e||c==="verified"||c==="not_found")){n(!0),i(""),l("");try{(await Bn.post(`${YR}/resend-verification`,{email:e.trim()})).status===200&&(i("Verification email sent! Please check your inbox and spam folder."),l("success"),t(""),d(null))}catch(C){if(console.error("Resend verification error:",C),C.response){const N=((w=C.response.data)==null?void 0:w.message)||"Failed to send verification email.";i(N),C.response.status===404?l("error"):C.response.status===400?l("info"):l("error")}else i("Network error. Please check your internet connection and try again."),l("error")}finally{n(!1)}}},x=()=>{switch(o){case"success":return s.jsx(At,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(rr,{className:"w-5 h-5 text-red-500"});case"info":return s.jsx(nn,{className:"w-5 h-5 text-blue-500"});default:return null}},g=()=>{switch(o){case"success":return"bg-green-50 border-green-200 text-green-700";case"error":return"bg-red-50 border-red-200 text-red-700";case"info":return"bg-blue-50 border-blue-200 text-blue-700";default:return"bg-gray-50 border-gray-200 text-gray-700"}},y=()=>r||!e.trim()||c==="verified"||c==="not_found"||c==="checking"||u,v=()=>r?"Sending...":u||c==="checking"?"Checking...":c==="verified"?"Email Already Verified":c==="not_found"?"Email Not Found":"Send Verification Email";return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Resend Verification Email"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your email address to receive a new verification link"})]}),s.jsx(Sr,{children:a&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`mb-6 border rounded-lg px-4 py-3 flex items-center gap-3 ${g()}`,children:[x(),s.jsx("span",{className:"text-sm font-medium",children:a})]})}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your email address",value:e,onChange:b=>t(b.target.value)}),u&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(Lue,{className:"w-5 h-5 text-gray-400 animate-spin"})})]})]}),s.jsx(J.button,{whileHover:{scale:c==="unverified"?1.02:1},whileTap:{scale:c==="unverified"?.98:1},type:"submit",disabled:y(),className:`w-full py-3 px-4 rounded-lg font-semibold shadow-sm transition-all duration-200 ${c==="unverified"?"bg-red-600 text-white hover:bg-red-700":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,children:v()})]}),s.jsxs("div",{className:"mt-6 text-center space-y-3",children:[s.jsxs(Ft,{to:"/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-700 hover:underline",children:[s.jsx(Ps,{className:"w-4 h-4 mr-1"}),"Back to Login"]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Don't have an account?"}),s.jsx(Ft,{to:"/signup",className:"inline-flex items-center text-sm font-medium text-red-600 hover:text-red-700 underline",children:"Sign up for Lyvo+"})]})]})]})})})},Yve=()=>{const[e,t]=_.useState({}),[r,n]=_.useState(!1),a=()=>{const l=localStorage.getItem("authToken"),c=localStorage.getItem("user"),d=c?JSON.parse(c):null;t({authToken:l?"Present":"Not found",user:c?"Present":"Not found",parsedUser:d?d.name:"N/A"}),n(!!l)},i=()=>{console.log("=== MANUAL LOGOUT TEST ==="),console.log("Before logout:"),console.log("authToken:",localStorage.getItem("authToken")),console.log("user:",localStorage.getItem("user")),localStorage.removeItem("authToken"),localStorage.removeItem("user"),console.log("After logout:"),console.log("authToken:",localStorage.getItem("authToken")),console.log("user:",localStorage.getItem("user")),window.dispatchEvent(new Event("moodbites-logout")),a()},o=()=>{localStorage.setItem("authToken","test-token"),localStorage.setItem("user",JSON.stringify({name:"Test User",email:"test@example.com"})),window.dispatchEvent(new Event("moodbites-login")),a()};return _.useEffect(()=>{a();const l=()=>{a()},c=()=>{console.log("Custom logout event received"),a()};return window.addEventListener("storage",l),window.addEventListener("moodbites-logout",c),()=>{window.removeEventListener("storage",l),window.removeEventListener("moodbites-logout",c)}},[]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-stone-100 pt-20 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-professional p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Debug Logout"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Current State"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:["Login Status: ",s.jsx("span",{className:r?"text-green-600":"text-red-600",children:r?"Logged In":"Not Logged In"})]}),s.jsxs("div",{children:["Auth Token: ",s.jsx("span",{className:"font-mono",children:e.authToken})]}),s.jsxs("div",{children:["User Data: ",s.jsx("span",{className:"font-mono",children:e.user})]}),s.jsxs("div",{children:["User Name: ",s.jsx("span",{className:"font-mono",children:e.parsedUser})]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:o,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-colors",children:"Simulate Login"}),s.jsx("button",{onClick:i,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors",children:"Test Logout"}),s.jsx("button",{onClick:a,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Refresh State"})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Instructions"}),s.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:'1. Click "Simulate Login" to set test data'}),s.jsx("li",{children:"2. Check the navbar - it should show user icon"}),s.jsx("li",{children:'3. Click "Test Logout" to clear data'}),s.jsx("li",{children:"4. Check the navbar - it should show login/signup buttons"}),s.jsx("li",{children:"5. Open browser console to see debug logs"})]})]})]})]})})})},Xve=()=>{var B;const e=hr(),[t,r]=_.useState(!0),[n,a]=_.useState([]),[i,o]=_.useState({budget:8e3}),[l,c]=_.useState(null),[d,u]=_.useState(0),[f,A]=_.useState(!1),[m,x]=_.useState(!1),g=localStorage.getItem("authToken"),y=localStorage.getItem("user");_.useEffect(()=>{if(!g||!y){e("/login",{replace:!0});return}(async()=>{try{const M=await qe.get("/behaviour/questions",{headers:{Authorization:`Bearer ${g}`}});a(M.data.questions||[])}catch(M){console.error("Error fetching questions:",M),n.length===0&&a([{id:"budget",text:"Monthly Budget",type:"range",min:5e3,max:5e4},{id:"occupation",text:"Occupation",options:["Student","Professional","Other"]}])}finally{r(!1)}})()},[e,g,y]);const v=(F,M)=>{o(R=>({...R,[F]:M}))},b=()=>{d<n.length-1&&u(d+1)},w=()=>{d>0&&u(d-1)},C=()=>{d<n.length-1&&u(d+1)},N=async()=>{var F,M;try{c(null),A(!0),await qe.post("/behaviour/answers",{answers:i},{headers:{Authorization:`Bearer ${g}`}});const R=JSON.parse(localStorage.getItem("user"));localStorage.setItem("user",JSON.stringify({...R,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),x(!0),setTimeout(()=>{R.role===1?e("/seeker-profile",{replace:!0}):e(R.role===3?"/owner-dashboard":"/admin-dashboard",{replace:!0})},1500)}catch(R){const H=((M=(F=R==null?void 0:R.response)==null?void 0:F.data)==null?void 0:M.message)||(R==null?void 0:R.message)||"Failed to submit.";c(H),A(!1)}},j=F=>{const M=F.toLowerCase();return M.includes("budget")||M.includes("price")?s.jsx(ra,{className:"w-6 h-6 text-gray-700"}):M.includes("occupation")||M.includes("work")?s.jsx(Nue,{className:"w-6 h-6 text-gray-700"}):s.jsx(sc,{className:"w-6 h-6 text-gray-700"})},P=(d+1)/n.length*100;if(t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading preferences..."})]})});if(m)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs(J.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(At,{className:"w-10 h-10 text-green-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Preferences Saved"}),s.jsx("p",{className:"text-gray-600",children:"Setting up your dashboard..."})]})});const k=n[d],T=d===n.length-1,O=i[k==null?void 0:k.id]!==void 0;return s.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-12 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Setup Your Preferences"}),s.jsx("p",{className:"text-gray-600",children:"Help us customize your living experience."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-500 mb-2",children:[s.jsxs("span",{children:["Step ",d+1," of ",n.length]}),s.jsxs("span",{children:[Math.round(P),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(J.div,{className:"h-2 bg-red-600 rounded-full",initial:{width:0},animate:{width:`${P}%`},transition:{duration:.3}})})]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 min-h-[400px] flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:j((k==null?void 0:k.text)||"")}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:k==null?void 0:k.text})]}),s.jsxs("div",{className:"flex-grow",children:[!(k!=null&&k.type)&&s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(B=k==null?void 0:k.options)==null?void 0:B.map(F=>s.jsx("button",{onClick:()=>v(k.id,F),className:`w-full text-left px-5 py-4 rounded-lg border transition-all ${i[k.id]===F?"border-red-600 bg-red-50 text-red-700 ring-1 ring-red-600":"border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700"}`,children:s.jsx("span",{className:"font-medium",children:F})},F))}),(k==null?void 0:k.type)==="range"&&s.jsxs("div",{className:"px-4 py-8",children:[s.jsx("input",{type:"range",min:k.min,max:k.max,step:k.step||100,value:i[k.id]??k.min,onChange:F=>v(k.id,Number(F.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-600"}),s.jsxs("div",{className:"mt-6 flex justify-between items-center text-gray-900",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["",i[k.id]??k.min]}),s.jsx("span",{className:"text-gray-500 font-medium badge px-3 py-1 bg-gray-100 rounded-md",children:"Monthly Budget"})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-between items-center",children:[s.jsx("button",{onClick:w,disabled:d===0,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${d===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:"Back"}),s.jsxs("div",{className:"flex gap-3",children:[!T&&s.jsx("button",{onClick:C,className:"px-4 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"Skip"}),s.jsx("button",{onClick:T?N:b,disabled:!O&&T,className:"px-6 py-2.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:T?f?"Saving...":"Finish":"Continue"})]})]})]},d)]})})},Zve=()=>s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-60",children:[s.jsxs("div",{className:"relative flex items-center justify-center w-24 h-24",children:[s.jsx("span",{className:"absolute text-4xl font-extrabold text-red-600 select-none z-10",style:{letterSpacing:"0.05em"},children:"L"}),s.jsx("span",{className:"absolute w-4 h-4 rounded-full bg-gradient-to-br from-red-500 via-orange-400 to-red-600 shadow-lg animate-lyvo-orbit",style:{top:0,left:"50%",transform:"translate(-50%, -50%)"}}),s.jsx("span",{className:"absolute w-3 h-3 rounded-full bg-gradient-to-br from-orange-400 via-red-500 to-red-600 shadow-md animate-lyvo-orbit2",style:{right:0,top:"50%",transform:"translate(50%, -50%)"}}),s.jsx("span",{className:"absolute w-2.5 h-2.5 rounded-full bg-gradient-to-br from-red-600 via-orange-400 to-red-500 shadow animate-lyvo-orbit3",style:{bottom:0,left:"50%",transform:"translate(-50%, 50%)"}})]}),s.jsx("style",{children:`
      @keyframes lyvo-orbit {
        0% { transform: rotate(0deg) translateY(-44px) rotate(0deg); }
        100% { transform: rotate(360deg) translateY(-44px) rotate(-360deg); }
      }
      @keyframes lyvo-orbit2 {
        0% { transform: rotate(120deg) translateY(-36px) rotate(-120deg); }
        100% { transform: rotate(480deg) translateY(-36px) rotate(-480deg); }
      }
      @keyframes lyvo-orbit3 {
        0% { transform: rotate(240deg) translateY(-28px) rotate(-240deg); }
        100% { transform: rotate(600deg) translateY(-28px) rotate(-600deg); }
      }
      .animate-lyvo-orbit {
        animation: lyvo-orbit 1.2s linear infinite;
      }
      .animate-lyvo-orbit2 {
        animation: lyvo-orbit2 1.2s linear infinite;
      }
      .animate-lyvo-orbit3 {
        animation: lyvo-orbit3 1.2s linear infinite;
      }
    `})]}),Jve=({children:e})=>{const[t,r]=_.useState(!1),[n,a]=_.useState(!1);return _.useEffect(()=>{(async()=>{try{r(!0),console.log(" RoleRepairProvider: Starting role repair...");const o=zv();o&&(o.role===void 0||o.role===null)?(console.log(" RoleRepairProvider: User role is undefined, attempting repair..."),await lme(),console.log(" RoleRepairProvider: Role repair completed")):console.log(" RoleRepairProvider: User role is already defined"),a(!0)}catch(o){console.error(" RoleRepairProvider: Error during role repair:",o),a(!0)}finally{r(!1)}})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Repairing user role..."})]})}):e};class ebe extends Ce.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx($t,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600",children:"The page encountered an error while loading"})]})]}),this.state.error&&s.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"Error Details:"}),s.jsx("p",{className:"text-sm text-red-700 font-mono",children:this.state.error.toString()})]}),this.state.errorInfo&&s.jsxs("details",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx("summary",{className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Stack Trace (Click to expand)"}),s.jsx("pre",{className:"mt-2 text-xs text-gray-700 overflow-x-auto whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]}),s.jsxs("div",{className:"mt-6 flex space-x-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Reload Page"}),s.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Go Home"})]})]})}):this.props.children}}const tbe=()=>{var b;const e=hr(),[t,r]=_.useState(null),[n,a]=_.useState(!0),[i,o]=_.useState("overview");_.useEffect(()=>{(()=>{const C=localStorage.getItem("authToken"),N=localStorage.getItem("user");if(!C||!N){e("/login");return}try{const j=JSON.parse(N);if(j.role!==3){e("/login");return}r(j)}catch(j){console.error("Error parsing user data:",j),e("/login");return}a(!1)})()},[e]);const l={totalProperties:c.length,activeListings:c.filter(w=>w.status==="active").length,totalTenants:c.reduce((w,C)=>{var N;return w+(((N=C.rooms)==null?void 0:N.reduce((j,P)=>j+(P.current_occupants||0),0))||0)},0),monthlyRevenue:85e3,occupancyRate:92},[c,d]=_.useState([]);_.useEffect(()=>{t&&(async()=>{try{const C=localStorage.getItem("authToken"),j=await(await fetch("http://localhost:5000/api/property/owner/properties",{headers:{Authorization:`Bearer ${C}`}})).json();j.success&&d(j.data)}catch(C){console.error("Error fetching properties:",C)}})()},[t]);const u=[{id:1,property:"Modern 2BHK Apartment",tenant:"Sarah Johnson",amount:"25,000",type:"Rent",status:"Completed",date:"2024-04-01"},{id:2,property:"Premium 3BHK Villa",tenant:"Mike Chen",amount:"45,000",type:"Rent",status:"Pending",date:"2024-04-05"},{id:3,property:"Cozy Studio Room",tenant:"Alex Kumar",amount:"15,000",type:"Deposit",status:"Completed",date:"2024-03-28"}],f=[{id:1,property:"Modern 2BHK Apartment",tenant:"Sarah Johnson",issue:"AC not working",priority:"High",status:"In Progress",date:"2024-04-02"},{id:2,property:"Premium 3BHK Villa",tenant:"Mike Chen",issue:"Water leakage",priority:"Medium",status:"Completed",date:"2024-03-30"}],A=[{month:"Jan",revenue:75e3},{month:"Feb",revenue:82e3},{month:"Mar",revenue:78e3},{month:"Apr",revenue:85e3},{month:"May",revenue:9e4},{month:"Jun",revenue:95e3}],m=[{name:"Occupied",value:92,color:"#10b981"},{name:"Vacant",value:8,color:"#ef4444"}],x=[{name:"Apartments",value:2,color:"#3b82f6"},{name:"Studios",value:1,color:"#f59e0b"},{name:"Villas",value:1,color:"#10b981"}],g=[{name:"Overview",icon:Ep,tab:"overview"},{name:"Properties",icon:Pr,tab:"properties"},{name:"Tenants",icon:Wr,tab:"tenants"},{name:"Payments",icon:TA,tab:"payments"},{name:"Maintenance",icon:er,tab:"maintenance"},{name:"Analytics",icon:mu,tab:"analytics"},{name:"Settings",icon:sc,tab:"settings"},{name:"Logout",icon:$a,tab:"logout"}],y=w=>{switch(w){case"Occupied":return"text-green-600 bg-green-100";case"Available":return"text-blue-600 bg-blue-100";case"Maintenance":return"text-orange-600 bg-orange-100";case"Rented":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},v=w=>{switch(w){case"High":return"text-red-600 bg-red-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"Low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-stone-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-slate-50 to-stone-100",children:[s.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 flex flex-col py-8 px-4 shadow-lg",children:[s.jsxs("div",{className:"flex items-center mb-10",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 via-orange-400 to-red-700 rounded-xl flex items-center justify-center shadow-lg mr-3",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"L"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]})]}),s.jsx("nav",{className:"flex-1",children:s.jsx("ul",{className:"space-y-2",children:g.map(w=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>o(w.tab),className:`w-full flex items-center px-3 py-2 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-600 transition-all ${i===w.tab?"bg-red-50 text-red-600":""}`,children:[s.jsx(w.icon,{className:"w-5 h-5 mr-3"}),s.jsx("span",{className:"font-medium",children:w.name})]})},w.name))})}),s.jsxs("div",{className:"mt-10 text-xs text-gray-400 text-center",children:[" ",new Date().getFullYear()," ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[s.jsxs("header",{className:"flex items-center justify-between px-8 py-6 bg-white border-b border-gray-200 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Room Owner Dashboard"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back, ",(t==null?void 0:t.name)||"Owner","! Manage your properties here."]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900",children:[s.jsx(cd,{className:"w-6 h-6"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),s.jsx("span",{className:"text-gray-700 font-medium",children:(t==null?void 0:t.name)||"Owner"}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 via-orange-400 to-red-700 flex items-center justify-center text-white font-bold text-lg shadow",children:((b=t==null?void 0:t.name)==null?void 0:b.charAt(0))||"O"})]})]}),s.jsxs("div",{className:"flex-1 p-8",children:[i==="overview"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Total Properties"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalProperties})]}),s.jsx(Zr,{className:"w-8 h-8 text-red-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Active Listings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.activeListings})]}),s.jsx(Pr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Total Tenants"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalTenants})]}),s.jsx(Wr,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",l.monthlyRevenue.toLocaleString()]})]}),s.jsx(ra,{className:"w-8 h-8 text-purple-500"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Revenue Trend"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(LineChart,{data:A,children:[s.jsx(CartesianGrid,{strokeDasharray:"3 3"}),s.jsx(XAxis,{dataKey:"month"}),s.jsx(YAxis,{}),s.jsx(Tooltip,{}),s.jsx(Line,{type:"monotone",dataKey:"revenue",stroke:"#ef4444",strokeWidth:3,dot:{r:5}})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Occupancy Rate"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(PieChart,{children:[s.jsx(Pie,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:m.map((w,C)=>s.jsx(Cell,{fill:w.color},`cell-${C}`))}),s.jsx(Tooltip,{})]})}),s.jsxs("div",{className:"text-center mt-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.occupancyRate,"%"]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Occupancy Rate"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Properties"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.slice(0,3).map(w=>{var C,N,j,P;return s.jsxs(J.div,{whileHover:{y:-5},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",onClick:()=>e(`/owner/properties/${w._id}`),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:w.property_name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(w.status)}`,children:w.status})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"}),((C=w.address)==null?void 0:C.city)||"Unknown Location"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ra,{className:"w-4 h-4 mr-2"}),(j=(N=w.rooms)==null?void 0:N[0])!=null&&j.rent?`${w.rooms[0].rent}/month`:"Contact for Price"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wr,{className:"w-4 h-4 mr-2"}),(P=w.rooms)==null?void 0:P.reduce((k,T)=>k+(T.current_occupants||0),0)," tenants"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2 text-yellow-500"}),w.average_rating||"New"," rating"]})]})]},w._id)})})})]})]}),i==="properties"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Properties"}),s.jsxs("button",{onClick:()=>e("/owner/properties/add"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[s.jsx(ud,{className:"w-5 h-5"}),"Add Property"]})]}),c.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[s.jsx(Pr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No properties found"}),s.jsx("p",{className:"text-gray-500 mt-2 mb-6",children:"You haven't added any properties yet."}),s.jsx("button",{onClick:()=>e("/owner/properties/add"),className:"text-red-500 font-medium hover:text-red-700",children:"Add your first property"})]}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map(w=>{var C,N,j,P,k,T,O,B,F;return s.jsxs(J.div,{whileHover:{y:-5},className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer",onClick:()=>e(`/owner/properties/${w._id}`),children:[s.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[s.jsx("img",{src:((C=w.images)==null?void 0:C.front)||((j=(N=w.images)==null?void 0:N.gallery)==null?void 0:j[0])||"https://via.placeholder.com/400x300?text=No+Image",alt:w.property_name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y(w.status)}`,children:w.status})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:w.property_name}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(xr,{className:"w-4 h-4 mr-2"}),((P=w.address)==null?void 0:P.city)||"Unknown",", ",((k=w.address)==null?void 0:k.state)||""]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ai,{className:"w-4 h-4 mr-1"}),((T=w.rooms)==null?void 0:T.length)||0," Rooms"]})}),s.jsx("div",{className:"text-lg font-bold text-gray-900",children:(B=(O=w.rooms)==null?void 0:O[0])!=null&&B.rent?`${w.rooms[0].rent}`:"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Sa,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-sm text-gray-600",children:w.average_rating||"New"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wr,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(F=w.rooms)==null?void 0:F.reduce((M,R)=>M+(R.current_occupants||0),0)," tenants"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[s.jsxs("button",{className:"text-red-500 hover:text-red-700 text-sm font-medium flex items-center",children:[s.jsx(mA,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs("button",{className:"text-gray-500 hover:text-gray-700 text-sm font-medium flex items-center",onClick:M=>{M.stopPropagation(),e(`/owner/properties/${w._id}`)},children:[s.jsx(Ir,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})]})]},w._id)})})]}),i==="payments"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment History"}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Transactions"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:u.map(w=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(ky,{className:"w-5 h-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:w.property}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tenant: ",w.tenant]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:w.amount}),s.jsx("p",{className:"text-sm text-gray-600",children:w.date})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w.status==="Completed"?"text-green-600 bg-green-100":"text-yellow-600 bg-yellow-100"}`,children:w.status})})]},w.id))})})]})]}),i==="maintenance"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Requests"}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Active Requests"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:f.map(w=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx($t,{className:"w-5 h-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:w.property}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Issue: ",w.issue]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tenant: ",w.tenant]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:w.date}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(w.priority)}`,children:w.priority})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w.status==="Completed"?"text-green-600 bg-green-100":w.status==="In Progress"?"text-blue-600 bg-blue-100":"text-gray-600 bg-gray-100"}`,children:w.status})})]},w.id))})})]})]}),i==="analytics"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Property Types"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(PieChart,{children:[s.jsx(Pie,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:x.map((w,C)=>s.jsx(Cell,{fill:w.color},`cell-${C}`))}),s.jsx(Tooltip,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monthly Revenue"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(BarChart,{data:A,children:[s.jsx(CartesianGrid,{strokeDasharray:"3 3"}),s.jsx(XAxis,{dataKey:"month"}),s.jsx(YAxis,{}),s.jsx(Tooltip,{}),s.jsx(Bar,{dataKey:"revenue",fill:"#ef4444",radius:[4,4,0,0]})]})})]})]})]}),i==="settings"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("p",{className:"text-gray-600",children:"Settings page coming soon..."})})]}),i==="logout"&&s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[s.jsx($a,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Logout"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to logout?"}),s.jsx("button",{onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),e("/login")},className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Logout"})]})}),i!=="overview"&&i!=="properties"&&i!=="logout"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i.charAt(0).toUpperCase()+i.slice(1)}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("p",{className:"text-gray-600",children:"This section is coming soon..."})})]})]})]})]})};function UG(e,t){const r=_.useRef(t);_.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}function rbe(e,t,r){t.center!==r.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==r.radius&&e.setRadius(t.radius)}const nbe=1;function sbe(e){return Object.freeze({__version:nbe,map:e})}function JN(e,t){return Object.freeze({...e,...t})}const DG=_.createContext(null),M6=DG.Provider;function Yg(){const e=_.useContext(DG);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Q6(e){function t(r,n){const{instance:a,context:i}=e(r).current;return _.useImperativeHandle(n,()=>a),r.children==null?null:Ce.createElement(M6,{value:i},r.children)}return _.forwardRef(t)}function abe(e){function t(r,n){const[a,i]=_.useState(!1),{instance:o}=e(r,i).current;_.useImperativeHandle(n,()=>o),_.useEffect(function(){a&&o.update()},[o,a,r.children]);const l=o._contentNode;return l?lc.createPortal(r.children,l):null}return _.forwardRef(t)}function ibe(e){function t(r,n){const{instance:a}=e(r).current;return _.useImperativeHandle(n,()=>a),null}return _.forwardRef(t)}function obe(e){return function(r){const n=Yg(),a=e(r,n),{instance:i}=a.current,o=_.useRef(r.position),{position:l}=r;return _.useEffect(function(){return i.addTo(n.map),function(){i.remove()}},[n.map,i]),_.useEffect(function(){l!=null&&l!==o.current&&(i.setPosition(l),o.current=l)},[i,l]),a}}function $6(e,t){const r=_.useRef();_.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function e5(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function lbe(e,t){return function(n,a){const i=Yg(),o=e(e5(n,i),i);return UG(i.map,n.attribution),$6(o.current,n.eventHandlers),t(o.current,i,n,a),o}}var ek={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,n){n(t)})(ix,function(r){var n="1.9.4";function a(h){var p,E,D,Y;for(E=1,D=arguments.length;E<D;E++){Y=arguments[E];for(p in Y)h[p]=Y[p]}return h}var i=Object.create||function(){function h(){}return function(p){return h.prototype=p,new h}}();function o(h,p){var E=Array.prototype.slice;if(h.bind)return h.bind.apply(h,E.call(arguments,1));var D=E.call(arguments,2);return function(){return h.apply(p,D.length?D.concat(E.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function d(h,p,E){var D,Y,he,Be;return Be=function(){D=!1,Y&&(he.apply(E,Y),Y=!1)},he=function(){D?Y=arguments:(h.apply(E,arguments),setTimeout(Be,p),D=!0)},he}function u(h,p,E){var D=p[1],Y=p[0],he=D-Y;return h===D&&E?h:((h-Y)%he+he)%he+Y}function f(){return!1}function A(h,p){if(p===!1)return h;var E=Math.pow(10,p===void 0?6:p);return Math.round(h*E)/E}function m(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function x(h){return m(h).split(/\s+/)}function g(h,p){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?i(h.options):{});for(var E in p)h.options[E]=p[E];return h.options}function y(h,p,E){var D=[];for(var Y in h)D.push(encodeURIComponent(E?Y.toUpperCase():Y)+"="+encodeURIComponent(h[Y]));return(!p||p.indexOf("?")===-1?"?":"&")+D.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function b(h,p){return h.replace(v,function(E,D){var Y=p[D];if(Y===void 0)throw new Error("No value provided for variable "+E);return typeof Y=="function"&&(Y=Y(p)),Y})}var w=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function C(h,p){for(var E=0;E<h.length;E++)if(h[E]===p)return E;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var P=0;function k(h){var p=+new Date,E=Math.max(0,16-(p-P));return P=p+E,window.setTimeout(h,E)}var T=window.requestAnimationFrame||j("RequestAnimationFrame")||k,O=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function B(h,p,E){if(E&&T===k)h.call(p);else return T.call(window,o(h,p))}function F(h){h&&O.call(window,h)}var M={__proto__:null,extend:a,create:i,bind:o,get lastId(){return l},stamp:c,throttle:d,wrapNum:u,falseFn:f,formatNum:A,trim:m,splitWords:x,setOptions:g,getParamString:y,template:b,isArray:w,indexOf:C,emptyImageUrl:N,requestFn:T,cancelFn:O,requestAnimFrame:B,cancelAnimFrame:F};function R(){}R.extend=function(h){var p=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=p.__super__=this.prototype,D=i(E);D.constructor=p,p.prototype=D;for(var Y in this)Object.prototype.hasOwnProperty.call(this,Y)&&Y!=="prototype"&&Y!=="__super__"&&(p[Y]=this[Y]);return h.statics&&a(p,h.statics),h.includes&&(H(h.includes),a.apply(null,[D].concat(h.includes))),a(D,h),delete D.statics,delete D.includes,D.options&&(D.options=E.options?i(E.options):{},a(D.options,h.options)),D._initHooks=[],D.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var he=0,Be=D._initHooks.length;he<Be;he++)D._initHooks[he].call(this)}},p},R.include=function(h){var p=this.prototype.options;return a(this.prototype,h),h.options&&(this.prototype.options=p,this.mergeOptions(h.options)),this},R.mergeOptions=function(h){return a(this.prototype.options,h),this},R.addInitHook=function(h){var p=Array.prototype.slice.call(arguments,1),E=typeof h=="function"?h:function(){this[h].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function H(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=w(h)?h:[h];for(var p=0;p<h.length;p++)h[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(h,p,E){if(typeof h=="object")for(var D in h)this._on(D,h[D],p);else{h=x(h);for(var Y=0,he=h.length;Y<he;Y++)this._on(h[Y],p,E)}return this},off:function(h,p,E){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var D in h)this._off(D,h[D],p);else{h=x(h);for(var Y=arguments.length===1,he=0,Be=h.length;he<Be;he++)Y?this._off(h[he]):this._off(h[he],p,E)}return this},_on:function(h,p,E,D){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(h,p,E)===!1){E===this&&(E=void 0);var Y={fn:p,ctx:E};D&&(Y.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(Y)}},_off:function(h,p,E){var D,Y,he;if(this._events&&(D=this._events[h],!!D)){if(arguments.length===1){if(this._firingCount)for(Y=0,he=D.length;Y<he;Y++)D[Y].fn=f;delete this._events[h];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var Be=this._listens(h,p,E);if(Be!==!1){var $e=D[Be];this._firingCount&&($e.fn=f,this._events[h]=D=D.slice()),D.splice(Be,1)}}},fire:function(h,p,E){if(!this.listens(h,E))return this;var D=a({},p,{type:h,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var Y=this._events[h];if(Y){this._firingCount=this._firingCount+1||1;for(var he=0,Be=Y.length;he<Be;he++){var $e=Y[he],Ke=$e.fn;$e.once&&this.off(h,Ke,$e.ctx),Ke.call($e.ctx||this,D)}this._firingCount--}}return E&&this._propagateEvent(D),this},listens:function(h,p,E,D){typeof h!="string"&&console.warn('"string" type argument expected');var Y=p;typeof p!="function"&&(D=!!p,Y=void 0,E=void 0);var he=this._events&&this._events[h];if(he&&he.length&&this._listens(h,Y,E)!==!1)return!0;if(D){for(var Be in this._eventParents)if(this._eventParents[Be].listens(h,p,E,D))return!0}return!1},_listens:function(h,p,E){if(!this._events)return!1;var D=this._events[h]||[];if(!p)return!!D.length;E===this&&(E=void 0);for(var Y=0,he=D.length;Y<he;Y++)if(D[Y].fn===p&&D[Y].ctx===E)return Y;return!1},once:function(h,p,E){if(typeof h=="object")for(var D in h)this._on(D,h[D],p,!0);else{h=x(h);for(var Y=0,he=h.length;Y<he;Y++)this._on(h[Y],p,E,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var p in this._eventParents)this._eventParents[p].fire(h.type,a({layer:h.target,propagatedFrom:h.target},h),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var $=R.extend(G);function V(h,p,E){this.x=E?Math.round(h):h,this.y=E?Math.round(p):p}var te=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(h){return this.clone()._add(re(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(re(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new V(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new V(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(h){h=re(h);var p=h.x-this.x,E=h.y-this.y;return Math.sqrt(p*p+E*E)},equals:function(h){return h=re(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=re(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+A(this.x)+", "+A(this.y)+")"}};function re(h,p,E){return h instanceof V?h:w(h)?new V(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new V(h.x,h.y):new V(h,p,E)}function K(h,p){if(h)for(var E=p?[h,p]:h,D=0,Y=E.length;D<Y;D++)this.extend(E[D])}K.prototype={extend:function(h){var p,E;if(!h)return this;if(h instanceof V||typeof h[0]=="number"||"x"in h)p=E=re(h);else if(h=z(h),p=h.min,E=h.max,!p||!E)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=E.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(h){return re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return re(this.min.x,this.max.y)},getTopRight:function(){return re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var p,E;return typeof h[0]=="number"||h instanceof V?h=re(h):h=z(h),h instanceof K?(p=h.min,E=h.max):p=E=h,p.x>=this.min.x&&E.x<=this.max.x&&p.y>=this.min.y&&E.y<=this.max.y},intersects:function(h){h=z(h);var p=this.min,E=this.max,D=h.min,Y=h.max,he=Y.x>=p.x&&D.x<=E.x,Be=Y.y>=p.y&&D.y<=E.y;return he&&Be},overlaps:function(h){h=z(h);var p=this.min,E=this.max,D=h.min,Y=h.max,he=Y.x>p.x&&D.x<E.x,Be=Y.y>p.y&&D.y<E.y;return he&&Be},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var p=this.min,E=this.max,D=Math.abs(p.x-E.x)*h,Y=Math.abs(p.y-E.y)*h;return z(re(p.x-D,p.y-Y),re(E.x+D,E.y+Y))},equals:function(h){return h?(h=z(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function z(h,p){return!h||h instanceof K?h:new K(h,p)}function ee(h,p){if(h)for(var E=p?[h,p]:h,D=0,Y=E.length;D<Y;D++)this.extend(E[D])}ee.prototype={extend:function(h){var p=this._southWest,E=this._northEast,D,Y;if(h instanceof ne)D=h,Y=h;else if(h instanceof ee){if(D=h._southWest,Y=h._northEast,!D||!Y)return this}else return h?this.extend(se(h)||W(h)):this;return!p&&!E?(this._southWest=new ne(D.lat,D.lng),this._northEast=new ne(Y.lat,Y.lng)):(p.lat=Math.min(D.lat,p.lat),p.lng=Math.min(D.lng,p.lng),E.lat=Math.max(Y.lat,E.lat),E.lng=Math.max(Y.lng,E.lng)),this},pad:function(h){var p=this._southWest,E=this._northEast,D=Math.abs(p.lat-E.lat)*h,Y=Math.abs(p.lng-E.lng)*h;return new ee(new ne(p.lat-D,p.lng-Y),new ne(E.lat+D,E.lng+Y))},getCenter:function(){return new ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ne||"lat"in h?h=se(h):h=W(h);var p=this._southWest,E=this._northEast,D,Y;return h instanceof ee?(D=h.getSouthWest(),Y=h.getNorthEast()):D=Y=h,D.lat>=p.lat&&Y.lat<=E.lat&&D.lng>=p.lng&&Y.lng<=E.lng},intersects:function(h){h=W(h);var p=this._southWest,E=this._northEast,D=h.getSouthWest(),Y=h.getNorthEast(),he=Y.lat>=p.lat&&D.lat<=E.lat,Be=Y.lng>=p.lng&&D.lng<=E.lng;return he&&Be},overlaps:function(h){h=W(h);var p=this._southWest,E=this._northEast,D=h.getSouthWest(),Y=h.getNorthEast(),he=Y.lat>p.lat&&D.lat<E.lat,Be=Y.lng>p.lng&&D.lng<E.lng;return he&&Be},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,p){return h?(h=W(h),this._southWest.equals(h.getSouthWest(),p)&&this._northEast.equals(h.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function W(h,p){return h instanceof ee?h:new ee(h,p)}function ne(h,p,E){if(isNaN(h)||isNaN(p))throw new Error("Invalid LatLng object: ("+h+", "+p+")");this.lat=+h,this.lng=+p,E!==void 0&&(this.alt=+E)}ne.prototype={equals:function(h,p){if(!h)return!1;h=se(h);var E=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return E<=(p===void 0?1e-9:p)},toString:function(h){return"LatLng("+A(this.lat,h)+", "+A(this.lng,h)+")"},distanceTo:function(h){return ye.distance(this,se(h))},wrap:function(){return ye.wrapLatLng(this)},toBounds:function(h){var p=180*h/40075017,E=p/Math.cos(Math.PI/180*this.lat);return W([this.lat-p,this.lng-E],[this.lat+p,this.lng+E])},clone:function(){return new ne(this.lat,this.lng,this.alt)}};function se(h,p,E){return h instanceof ne?h:w(h)&&typeof h[0]!="object"?h.length===3?new ne(h[0],h[1],h[2]):h.length===2?new ne(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ne(h.lat,"lng"in h?h.lng:h.lon,h.alt):p===void 0?null:new ne(h,p,E)}var ce={latLngToPoint:function(h,p){var E=this.projection.project(h),D=this.scale(p);return this.transformation._transform(E,D)},pointToLatLng:function(h,p){var E=this.scale(p),D=this.transformation.untransform(h,E);return this.projection.unproject(D)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var p=this.projection.bounds,E=this.scale(h),D=this.transformation.transform(p.min,E),Y=this.transformation.transform(p.max,E);return new K(D,Y)},infinite:!1,wrapLatLng:function(h){var p=this.wrapLng?u(h.lng,this.wrapLng,!0):h.lng,E=this.wrapLat?u(h.lat,this.wrapLat,!0):h.lat,D=h.alt;return new ne(E,p,D)},wrapLatLngBounds:function(h){var p=h.getCenter(),E=this.wrapLatLng(p),D=p.lat-E.lat,Y=p.lng-E.lng;if(D===0&&Y===0)return h;var he=h.getSouthWest(),Be=h.getNorthEast(),$e=new ne(he.lat-D,he.lng-Y),Ke=new ne(Be.lat-D,Be.lng-Y);return new ee($e,Ke)}},ye=a({},ce,{wrapLng:[-180,180],R:6371e3,distance:function(h,p){var E=Math.PI/180,D=h.lat*E,Y=p.lat*E,he=Math.sin((p.lat-h.lat)*E/2),Be=Math.sin((p.lng-h.lng)*E/2),$e=he*he+Math.cos(D)*Math.cos(Y)*Be*Be,Ke=2*Math.atan2(Math.sqrt($e),Math.sqrt(1-$e));return this.R*Ke}}),Ae=6378137,xe={R:Ae,MAX_LATITUDE:85.0511287798,project:function(h){var p=Math.PI/180,E=this.MAX_LATITUDE,D=Math.max(Math.min(E,h.lat),-E),Y=Math.sin(D*p);return new V(this.R*h.lng*p,this.R*Math.log((1+Y)/(1-Y))/2)},unproject:function(h){var p=180/Math.PI;return new ne((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*p,h.x*p/this.R)},bounds:function(){var h=Ae*Math.PI;return new K([-h,-h],[h,h])}()};function le(h,p,E,D){if(w(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=p,this._c=E,this._d=D}le.prototype={transform:function(h,p){return this._transform(h.clone(),p)},_transform:function(h,p){return p=p||1,h.x=p*(this._a*h.x+this._b),h.y=p*(this._c*h.y+this._d),h},untransform:function(h,p){return p=p||1,new V((h.x/p-this._b)/this._a,(h.y/p-this._d)/this._c)}};function Z(h,p,E,D){return new le(h,p,E,D)}var pe=a({},ye,{code:"EPSG:3857",projection:xe,transformation:function(){var h=.5/(Math.PI*xe.R);return Z(h,.5,-h,.5)}()}),oe=a({},pe,{code:"EPSG:900913"});function X(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function be(h,p){var E="",D,Y,he,Be,$e,Ke;for(D=0,he=h.length;D<he;D++){for($e=h[D],Y=0,Be=$e.length;Y<Be;Y++)Ke=$e[Y],E+=(Y?"L":"M")+Ke.x+" "+Ke.y;E+=p?Et.svg?"z":"x":""}return E||"M0 0"}var _e=document.documentElement.style,Le="ActiveXObject"in window,ke=Le&&!document.addEventListener,Qe="msLaunchUri"in navigator&&!("documentMode"in document),Ye=br("webkit"),it=br("android"),Oe=br("android 2")||br("android 3"),Ge=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mt=it&&br("Google")&&Ge<537&&!("AudioNode"in window),ft=!!window.opera,Ie=!Qe&&br("chrome"),Je=br("gecko")&&!Ye&&!ft&&!Le,ue=!Ie&&br("safari"),Se=br("phantom"),Fe="OTransition"in _e,Ee=navigator.platform.indexOf("Win")===0,De=Le&&"transition"in _e,ut="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Oe,Nt="MozPerspective"in _e,Pt=!window.L_DISABLE_3D&&(De||ut||Nt)&&!Fe&&!Se,ht=typeof orientation<"u"||br("mobile"),Xe=ht&&Ye,Ze=ht&&ut,ct=!window.PointerEvent&&window.MSPointerEvent,tt=!!(window.PointerEvent||ct),ze="ontouchstart"in window||!!window.TouchEvent,wt=!window.L_NO_TOUCH&&(ze||tt),Ut=ht&&ft,$r=ht&&Je,Or=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Vr=function(){var h=!1;try{var p=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",f,p),window.removeEventListener("testPassiveEventSupport",f,p)}catch{}return h}(),tn=function(){return!!document.createElement("canvas").getContext}(),Bt=!!(document.createElementNS&&X("svg").createSVGRect),es=!!Bt&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),vs=!Bt&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var p=h.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}}(),Fn=navigator.platform.indexOf("Mac")===0,os=navigator.platform.indexOf("Linux")===0;function br(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Et={ie:Le,ielt9:ke,edge:Qe,webkit:Ye,android:it,android23:Oe,androidStock:mt,opera:ft,chrome:Ie,gecko:Je,safari:ue,phantom:Se,opera12:Fe,win:Ee,ie3d:De,webkit3d:ut,gecko3d:Nt,any3d:Pt,mobile:ht,mobileWebkit:Xe,mobileWebkit3d:Ze,msPointer:ct,pointer:tt,touch:wt,touchNative:ze,mobileOpera:Ut,mobileGecko:$r,retina:Or,passiveEvents:Vr,canvas:tn,svg:Bt,vml:vs,inlineSvg:es,mac:Fn,linux:os},An=Et.msPointer?"MSPointerDown":"pointerdown",aa=Et.msPointer?"MSPointerMove":"pointermove",Ks=Et.msPointer?"MSPointerUp":"pointerup",ls=Et.msPointer?"MSPointerCancel":"pointercancel",cs={touchstart:An,touchmove:aa,touchend:Ks,touchcancel:ls},ds={touchstart:Tr,touchmove:ts,touchend:ts,touchcancel:ts},kn={},ot=!1;function St(h,p,E){return p==="touchstart"&&Ur(),ds[p]?(E=ds[p].bind(this,E),h.addEventListener(cs[p],E,!1),E):(console.warn("wrong event specified:",p),f)}function Tt(h,p,E){if(!cs[p]){console.warn("wrong event specified:",p);return}h.removeEventListener(cs[p],E,!1)}function vt(h){kn[h.pointerId]=h}function Dt(h){kn[h.pointerId]&&(kn[h.pointerId]=h)}function Nn(h){delete kn[h.pointerId]}function Ur(){ot||(document.addEventListener(An,vt,!0),document.addEventListener(aa,Dt,!0),document.addEventListener(Ks,Nn,!0),document.addEventListener(ls,Nn,!0),ot=!0)}function ts(h,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var E in kn)p.touches.push(kn[E]);p.changedTouches=[p],h(p)}}function Tr(h,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&Vn(p),ts(h,p)}function ve(h){var p={},E,D;for(D in h)E=h[D],p[D]=E&&E.bind?E.bind(h):E;return h=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var nt=200;function lt(h,p){h.addEventListener("dblclick",p);var E=0,D;function Y(he){if(he.detail!==1){D=he.detail;return}if(!(he.pointerType==="mouse"||he.sourceCapabilities&&!he.sourceCapabilities.firesTouchEvents)){var Be=Qo(he);if(!(Be.some(function(Ke){return Ke instanceof HTMLLabelElement&&Ke.attributes.for})&&!Be.some(function(Ke){return Ke instanceof HTMLInputElement||Ke instanceof HTMLSelectElement}))){var $e=Date.now();$e-E<=nt?(D++,D===2&&p(ve(he))):D=1,E=$e}}}return h.addEventListener("click",Y),{dblclick:p,simDblclick:Y}}function yt(h,p){h.removeEventListener("dblclick",p.dblclick),h.removeEventListener("click",p.simDblclick)}var tr=Fu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yr=Fu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yr=Yr==="webkitTransition"||Yr==="OTransition"?Yr+"End":"transitionend";function ka(h){return typeof h=="string"?document.getElementById(h):h}function io(h,p){var E=h.style[p]||h.currentStyle&&h.currentStyle[p];if((!E||E==="auto")&&document.defaultView){var D=document.defaultView.getComputedStyle(h,null);E=D?D[p]:null}return E==="auto"?null:E}function Ar(h,p,E){var D=document.createElement(h);return D.className=p||"",E&&E.appendChild(D),D}function an(h){var p=h.parentNode;p&&p.removeChild(h)}function Lu(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function En(h){var p=h.parentNode;p&&p.lastChild!==h&&p.appendChild(h)}function _l(h){var p=h.parentNode;p&&p.firstChild!==h&&p.insertBefore(h,p.firstChild)}function Ri(h,p){if(h.classList!==void 0)return h.classList.contains(p);var E=rs(h);return E.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(E)}function dr(h,p){if(h.classList!==void 0)for(var E=x(p),D=0,Y=E.length;D<Y;D++)h.classList.add(E[D]);else if(!Ri(h,p)){var he=rs(h);Va(h,(he?he+" ":"")+p)}}function Rn(h,p){h.classList!==void 0?h.classList.remove(p):Va(h,m((" "+rs(h)+" ").replace(" "+p+" "," ")))}function Va(h,p){h.className.baseVal===void 0?h.className=p:h.className.baseVal=p}function rs(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function bs(h,p){"opacity"in h.style?h.style.opacity=p:"filter"in h.style&&gm(h,p)}function gm(h,p){var E=!1,D="DXImageTransform.Microsoft.Alpha";try{E=h.filters.item(D)}catch{if(p===1)return}p=Math.round(p*100),E?(E.Enabled=p!==100,E.Opacity=p):h.style.filter+=" progid:"+D+"(opacity="+p+")"}function Fu(h){for(var p=document.documentElement.style,E=0;E<h.length;E++)if(h[E]in p)return h[E];return!1}function Cl(h,p,E){var D=p||new V(0,0);h.style[tr]=(Et.ie3d?"translate("+D.x+"px,"+D.y+"px)":"translate3d("+D.x+"px,"+D.y+"px,0)")+(E?" scale("+E+")":"")}function rn(h,p){h._leaflet_pos=p,Et.any3d?Cl(h,p):(h.style.left=p.x+"px",h.style.top=p.y+"px")}function Do(h){return h._leaflet_pos||new V(0,0)}var Cc,Mo,Sl;if("onselectstart"in document)Cc=function(){kt(window,"selectstart",Vn)},Mo=function(){on(window,"selectstart",Vn)};else{var _d=Fu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Cc=function(){if(_d){var h=document.documentElement.style;Sl=h[_d],h[_d]="none"}},Mo=function(){_d&&(document.documentElement.style[_d]=Sl,Sl=void 0)}}function yf(){kt(window,"dragstart",Vn)}function vf(){on(window,"dragstart",Vn)}var Sc,Ru;function mi(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(Uu(),Sc=h,Ru=h.style.outlineStyle,h.style.outlineStyle="none",kt(window,"keydown",Uu))}function Uu(){Sc&&(Sc.style.outlineStyle=Ru,Sc=void 0,Ru=void 0,on(window,"keydown",Uu))}function Bc(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Cd(h){var p=h.getBoundingClientRect();return{x:p.width/h.offsetWidth||1,y:p.height/h.offsetHeight||1,boundingClientRect:p}}var m0={__proto__:null,TRANSFORM:tr,TRANSITION:Yr,TRANSITION_END:yr,get:ka,getStyle:io,create:Ar,remove:an,empty:Lu,toFront:En,toBack:_l,hasClass:Ri,addClass:dr,removeClass:Rn,setClass:Va,getClass:rs,setOpacity:bs,testProp:Fu,setTransform:Cl,setPosition:rn,getPosition:Do,get disableTextSelection(){return Cc},get enableTextSelection(){return Mo},disableImageDrag:yf,enableImageDrag:vf,preventOutline:mi,restoreOutline:Uu,getSizedParentNode:Bc,getScale:Cd};function kt(h,p,E,D){if(p&&typeof p=="object")for(var Y in p)lo(h,Y,p[Y],E);else{p=x(p);for(var he=0,Be=p.length;he<Be;he++)lo(h,p[he],E,D)}return this}var Ui="_leaflet_events";function on(h,p,E,D){if(arguments.length===1)xm(h),delete h[Ui];else if(p&&typeof p=="object")for(var Y in p)bf(h,Y,p[Y],E);else if(p=x(p),arguments.length===2)xm(h,function($e){return C(p,$e)!==-1});else for(var he=0,Be=p.length;he<Be;he++)bf(h,p[he],E,D);return this}function xm(h,p){for(var E in h[Ui]){var D=E.split(/\d/)[0];(!p||p(D))&&bf(h,D,null,null,E)}}var oo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function lo(h,p,E,D){var Y=p+c(E)+(D?"_"+c(D):"");if(h[Ui]&&h[Ui][Y])return this;var he=function($e){return E.call(D||h,$e||window.event)},Be=he;!Et.touchNative&&Et.pointer&&p.indexOf("touch")===0?he=St(h,p,he):Et.touch&&p==="dblclick"?he=lt(h,he):"addEventListener"in h?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?h.addEventListener(oo[p]||p,he,Et.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(he=function($e){$e=$e||window.event,Mu(h,$e)&&Be($e)},h.addEventListener(oo[p],he,!1)):h.addEventListener(p,Be,!1):h.attachEvent("on"+p,he),h[Ui]=h[Ui]||{},h[Ui][Y]=he}function bf(h,p,E,D,Y){Y=Y||p+c(E)+(D?"_"+c(D):"");var he=h[Ui]&&h[Ui][Y];if(!he)return this;!Et.touchNative&&Et.pointer&&p.indexOf("touch")===0?Tt(h,p,he):Et.touch&&p==="dblclick"?yt(h,he):"removeEventListener"in h?h.removeEventListener(oo[p]||p,he,!1):h.detachEvent("on"+p,he),h[Ui][Y]=null}function Bl(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function kc(h){return lo(h,"wheel",Bl),this}function kl(h){return kt(h,"mousedown touchstart dblclick contextmenu",Bl),h._leaflet_disable_click=!0,this}function Vn(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function El(h){return Vn(h),Bl(h),this}function Qo(h){if(h.composedPath)return h.composedPath();for(var p=[],E=h.target;E;)p.push(E),E=E.parentNode;return p}function ym(h,p){if(!p)return new V(h.clientX,h.clientY);var E=Cd(p),D=E.boundingClientRect;return new V((h.clientX-D.left)/E.x-p.clientLeft,(h.clientY-D.top)/E.y-p.clientTop)}var wf=Et.linux&&Et.chrome?window.devicePixelRatio:Et.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Du(h){return Et.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/wf:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Mu(h,p){var E=p.relatedTarget;if(!E)return!0;try{for(;E&&E!==h;)E=E.parentNode}catch{return!1}return E!==h}var Pl={__proto__:null,on:kt,off:on,stopPropagation:Bl,disableScrollPropagation:kc,disableClickPropagation:kl,preventDefault:Vn,stop:El,getPropagationPath:Qo,getMousePosition:ym,getWheelDelta:Du,isExternalTarget:Mu,addListener:kt,removeListener:on},Qu=$.extend({run:function(h,p,E,D){this.stop(),this._el=h,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(D||.5,.2),this._startPos=Do(h),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(h){var p=+new Date-this._startTime,E=this._duration*1e3;p<E?this._runFrame(this._easeOut(p/E),h):(this._runFrame(1),this._complete())},_runFrame:function(h,p){var E=this._startPos.add(this._offset.multiplyBy(h));p&&E._round(),rn(this._el,E),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),jr=$.extend({options:{crs:pe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,p){p=g(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(se(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yr&&Et.any3d&&!Et.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),kt(this._proxy,yr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,p,E){if(p=p===void 0?this._zoom:this._limitZoom(p),h=this._limitCenter(se(h),p,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=a({animate:E.animate},E.zoom),E.pan=a({animate:E.animate,duration:E.duration},E.pan));var D=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,p,E.zoom):this._tryAnimatedPan(h,E.pan);if(D)return clearTimeout(this._sizeTimer),this}return this._resetView(h,p,E.pan&&E.pan.noMoveStart),this},setZoom:function(h,p){return this._loaded?this.setView(this.getCenter(),h,{zoom:p}):(this._zoom=h,this)},zoomIn:function(h,p){return h=h||(Et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,p)},zoomOut:function(h,p){return h=h||(Et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,p)},setZoomAround:function(h,p,E){var D=this.getZoomScale(p),Y=this.getSize().divideBy(2),he=h instanceof V?h:this.latLngToContainerPoint(h),Be=he.subtract(Y).multiplyBy(1-1/D),$e=this.containerPointToLatLng(Y.add(Be));return this.setView($e,p,{zoom:E})},_getBoundsCenterZoom:function(h,p){p=p||{},h=h.getBounds?h.getBounds():W(h);var E=re(p.paddingTopLeft||p.padding||[0,0]),D=re(p.paddingBottomRight||p.padding||[0,0]),Y=this.getBoundsZoom(h,!1,E.add(D));if(Y=typeof p.maxZoom=="number"?Math.min(p.maxZoom,Y):Y,Y===1/0)return{center:h.getCenter(),zoom:Y};var he=D.subtract(E).divideBy(2),Be=this.project(h.getSouthWest(),Y),$e=this.project(h.getNorthEast(),Y),Ke=this.unproject(Be.add($e).divideBy(2).add(he),Y);return{center:Ke,zoom:Y}},fitBounds:function(h,p){if(h=W(h),!h.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(h,p);return this.setView(E.center,E.zoom,p)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,p){return this.setView(h,this._zoom,{pan:p})},panBy:function(h,p){if(h=re(h).round(),p=p||{},!h.x&&!h.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){dr(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,E,p.duration||.25,p.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,p,E){if(E=E||{},E.animate===!1||!Et.any3d)return this.setView(h,p,E);this._stop();var D=this.project(this.getCenter()),Y=this.project(h),he=this.getSize(),Be=this._zoom;h=se(h),p=p===void 0?Be:p;var $e=Math.max(he.x,he.y),Ke=$e*this.getZoomScale(Be,p),gt=Y.distanceTo(D)||1,Ot=1.42,Jt=Ot*Ot;function kr(mn){var Pa=mn?-1:1,g_=mn?Ke:$e,x_=Ke*Ke-$e*$e+Pa*Jt*Jt*gt*gt,xb=2*g_*Jt*gt,Bm=x_/xb,j0=Math.sqrt(Bm*Bm+1)-Bm,yb=j0<1e-9?-18:Math.log(j0);return yb}function Ea(mn){return(Math.exp(mn)-Math.exp(-mn))/2}function Ls(mn){return(Math.exp(mn)+Math.exp(-mn))/2}function zi(mn){return Ea(mn)/Ls(mn)}var Ya=kr(0);function Gu(mn){return $e*(Ls(Ya)/Ls(Ya+Ot*mn))}function m_(mn){return $e*(Ls(Ya)*zi(Ya+Ot*mn)-Ea(Ya))/Jt}function Lc(mn){return 1-Math.pow(1-mn,1.5)}var fo=Date.now(),Xo=(kr(1)-Ya)/Ot,p_=E.duration?1e3*E.duration:1e3*Xo*.8;function w0(){var mn=(Date.now()-fo)/p_,Pa=Lc(mn)*Xo;mn<=1?(this._flyToFrame=B(w0,this),this._move(this.unproject(D.add(Y.subtract(D).multiplyBy(m_(Pa)/gt)),Be),this.getScaleZoom($e/Gu(Pa),Be),{flyTo:!0})):this._move(h,p)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),w0.call(this),this},flyToBounds:function(h,p){var E=this._getBoundsCenterZoom(h,p);return this.flyTo(E.center,E.zoom,p)},setMaxBounds:function(h){return h=W(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var p=this.options.minZoom;return this.options.minZoom=h,this._loaded&&p!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var p=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&p!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,p){this._enforcingBounds=!0;var E=this.getCenter(),D=this._limitCenter(E,this._zoom,W(h));return E.equals(D)||this.panTo(D,p),this._enforcingBounds=!1,this},panInside:function(h,p){p=p||{};var E=re(p.paddingTopLeft||p.padding||[0,0]),D=re(p.paddingBottomRight||p.padding||[0,0]),Y=this.project(this.getCenter()),he=this.project(h),Be=this.getPixelBounds(),$e=z([Be.min.add(E),Be.max.subtract(D)]),Ke=$e.getSize();if(!$e.contains(he)){this._enforcingBounds=!0;var gt=he.subtract($e.getCenter()),Ot=$e.extend(he).getSize().subtract(Ke);Y.x+=gt.x<0?-Ot.x:Ot.x,Y.y+=gt.y<0?-Ot.y:Ot.y,this.panTo(this.unproject(Y),p),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=a({animate:!1,pan:!0},h===!0?{animate:!0}:h);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),D=p.divideBy(2).round(),Y=E.divideBy(2).round(),he=D.subtract(Y);return!he.x&&!he.y?this:(h.animate&&h.pan?this.panBy(he):(h.pan&&this._rawPanBy(he),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=a({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,E,h):navigator.geolocation.getCurrentPosition(p,E,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var p=h.code,E=h.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var p=h.coords.latitude,E=h.coords.longitude,D=new ne(p,E),Y=D.toBounds(h.coords.accuracy*2),he=this._locateOptions;if(he.setView){var Be=this.getBoundsZoom(Y);this.setView(D,he.maxZoom?Math.min(Be,he.maxZoom):Be)}var $e={latlng:D,bounds:Y,timestamp:h.timestamp};for(var Ke in h.coords)typeof h.coords[Ke]=="number"&&($e[Ke]=h.coords[Ke]);this.fire("locationfound",$e)}},addHandler:function(h,p){if(!p)return this;var E=this[h]=new p(this);return this._handlers.push(E),this.options[h]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),an(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)an(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,p){var E="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),D=Ar("div",E,p||this._mapPane);return h&&(this._panes[h]=D),D},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),p=this.unproject(h.getBottomLeft()),E=this.unproject(h.getTopRight());return new ee(p,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,p,E){h=W(h),E=re(E||[0,0]);var D=this.getZoom()||0,Y=this.getMinZoom(),he=this.getMaxZoom(),Be=h.getNorthWest(),$e=h.getSouthEast(),Ke=this.getSize().subtract(E),gt=z(this.project($e,D),this.project(Be,D)).getSize(),Ot=Et.any3d?this.options.zoomSnap:1,Jt=Ke.x/gt.x,kr=Ke.y/gt.y,Ea=p?Math.max(Jt,kr):Math.min(Jt,kr);return D=this.getScaleZoom(Ea,D),Ot&&(D=Math.round(D/(Ot/100))*(Ot/100),D=p?Math.ceil(D/Ot)*Ot:Math.floor(D/Ot)*Ot),Math.max(Y,Math.min(he,D))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,p){var E=this._getTopLeftPoint(h,p);return new K(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,p){var E=this.options.crs;return p=p===void 0?this._zoom:p,E.scale(h)/E.scale(p)},getScaleZoom:function(h,p){var E=this.options.crs;p=p===void 0?this._zoom:p;var D=E.zoom(h*E.scale(p));return isNaN(D)?1/0:D},project:function(h,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(se(h),p)},unproject:function(h,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(re(h),p)},layerPointToLatLng:function(h){var p=re(h).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(h){var p=this.project(se(h))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(se(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(W(h))},distance:function(h,p){return this.options.crs.distance(se(h),se(p))},containerPointToLayerPoint:function(h){return re(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return re(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var p=this.containerPointToLayerPoint(re(h));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(h)))},mouseEventToContainerPoint:function(h){return ym(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var p=this._container=ka(h);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");kt(p,"scroll",this._onScroll,this),this._containerId=c(p)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Et.any3d,dr(h,"leaflet-container"+(Et.touch?" leaflet-touch":"")+(Et.retina?" leaflet-retina":"")+(Et.ielt9?" leaflet-oldie":"")+(Et.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=io(h,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rn(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dr(h.markerPane,"leaflet-zoom-hide"),dr(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,p,E){rn(this._mapPane,new V(0,0));var D=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var Y=this._zoom!==p;this._moveStart(Y,E)._move(h,p)._moveEnd(Y),this.fire("viewreset"),D&&this.fire("load")},_moveStart:function(h,p){return h&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(h,p,E,D){p===void 0&&(p=this._zoom);var Y=this._zoom!==p;return this._zoom=p,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),D?E&&E.pinch&&this.fire("zoom",E):((Y||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){rn(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var p=h?on:kt;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),Et.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,p){for(var E=[],D,Y=p==="mouseout"||p==="mouseover",he=h.target||h.srcElement,Be=!1;he;){if(D=this._targets[c(he)],D&&(p==="click"||p==="preclick")&&this._draggableMoved(D)){Be=!0;break}if(D&&D.listens(p,!0)&&(Y&&!Mu(he,h)||(E.push(D),Y))||he===this._container)break;he=he.parentNode}return!E.length&&!Be&&!Y&&this.listens(p,!0)&&(E=[this]),E},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var p=h.target||h.srcElement;if(!(!this._loaded||p._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(p))){var E=h.type;E==="mousedown"&&mi(p),this._fireDOMEvent(h,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,p,E){if(h.type==="click"){var D=a({},h);D.type="preclick",this._fireDOMEvent(D,D.type,E)}var Y=this._findEventTargets(h,p);if(E){for(var he=[],Be=0;Be<E.length;Be++)E[Be].listens(p,!0)&&he.push(E[Be]);Y=he.concat(Y)}if(Y.length){p==="contextmenu"&&Vn(h);var $e=Y[0],Ke={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var gt=$e.getLatLng&&(!$e._radius||$e._radius<=10);Ke.containerPoint=gt?this.latLngToContainerPoint($e.getLatLng()):this.mouseEventToContainerPoint(h),Ke.layerPoint=this.containerPointToLayerPoint(Ke.containerPoint),Ke.latlng=gt?$e.getLatLng():this.layerPointToLatLng(Ke.layerPoint)}for(Be=0;Be<Y.length;Be++)if(Y[Be].fire(p,Ke,!0),Ke.originalEvent._stopped||Y[Be].options.bubblingMouseEvents===!1&&C(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,p=this._handlers.length;h<p;h++)this._handlers[h].disable()},whenReady:function(h,p){return this._loaded?h.call(p||this,{target:this}):this.on("load",h,p),this},_getMapPanePos:function(){return Do(this._mapPane)||new V(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,p){var E=h&&p!==void 0?this._getNewPixelOrigin(h,p):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,p){var E=this.getSize()._divideBy(2);return this.project(h,p)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,p,E){var D=this._getNewPixelOrigin(E,p);return this.project(h,p)._subtract(D)},_latLngBoundsToNewLayerBounds:function(h,p,E){var D=this._getNewPixelOrigin(E,p);return z([this.project(h.getSouthWest(),p)._subtract(D),this.project(h.getNorthWest(),p)._subtract(D),this.project(h.getSouthEast(),p)._subtract(D),this.project(h.getNorthEast(),p)._subtract(D)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,p,E){if(!E)return h;var D=this.project(h,p),Y=this.getSize().divideBy(2),he=new K(D.subtract(Y),D.add(Y)),Be=this._getBoundsOffset(he,E,p);return Math.abs(Be.x)<=1&&Math.abs(Be.y)<=1?h:this.unproject(D.add(Be),p)},_limitOffset:function(h,p){if(!p)return h;var E=this.getPixelBounds(),D=new K(E.min.add(h),E.max.add(h));return h.add(this._getBoundsOffset(D,p))},_getBoundsOffset:function(h,p,E){var D=z(this.project(p.getNorthEast(),E),this.project(p.getSouthWest(),E)),Y=D.min.subtract(h.min),he=D.max.subtract(h.max),Be=this._rebound(Y.x,-he.x),$e=this._rebound(Y.y,-he.y);return new V(Be,$e)},_rebound:function(h,p){return h+p>0?Math.round(h-p)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(p))},_limitZoom:function(h){var p=this.getMinZoom(),E=this.getMaxZoom(),D=Et.any3d?this.options.zoomSnap:1;return D&&(h=Math.round(h/D)*D),Math.max(p,Math.min(E,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Rn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,p){var E=this._getCenterOffset(h)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,p),!0)},_createAnimProxy:function(){var h=this._proxy=Ar("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(p){var E=tr,D=this._proxy.style[E];Cl(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),D===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){an(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),p=this.getZoom();Cl(this._proxy,this.project(h,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,p,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var D=this.getZoomScale(p),Y=this._getCenterOffset(h)._divideBy(1-1/D);return E.animate!==!0&&!this.getSize().contains(Y)?!1:(B(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(h,p,!0)},this),!0)},_animateZoom:function(h,p,E,D){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=p,dr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:p,noUpdate:D}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Rn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function jf(h,p){return new jr(h,p)}var ia=R.extend({options:{position:"topright"},initialize:function(h){g(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var p=this._map;return p&&p.removeControl(this),this.options.position=h,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var p=this._container=this.onAdd(h),E=this.getPosition(),D=h._controlCorners[E];return dr(p,"leaflet-control"),E.indexOf("bottom")!==-1?D.insertBefore(p,D.firstChild):D.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(an(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),Il=function(h){return new ia(h)};jr.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},p="leaflet-",E=this._controlContainer=Ar("div",p+"control-container",this._container);function D(Y,he){var Be=p+Y+" "+p+he;h[Y+he]=Ar("div",Be,E)}D("top","left"),D("top","right"),D("bottom","left"),D("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)an(this._controlCorners[h]);an(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nf=ia.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,p,E,D){return E<D?-1:D<E?1:0}},initialize:function(h,p,E){g(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var D in h)this._addLayer(h[D],D);for(D in p)this._addLayer(p[D],D,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return ia.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,p){return this._addLayer(h,p),this._map?this._update():this},addOverlay:function(h,p){return this._addLayer(h,p,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var p=this._getLayer(c(h));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){dr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(dr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Rn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Rn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",p=this._container=Ar("div",h),E=this.options.collapsed;p.setAttribute("aria-haspopup",!0),kl(p),kc(p);var D=this._section=Ar("section",h+"-list");E&&(this._map.on("click",this.collapse,this),kt(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Y=this._layersLink=Ar("a",h+"-toggle",p);Y.href="#",Y.title="Layers",Y.setAttribute("role","button"),kt(Y,{keydown:function(he){he.keyCode===13&&this._expandSafely()},click:function(he){Vn(he),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=Ar("div",h+"-base",D),this._separator=Ar("div",h+"-separator",D),this._overlaysList=Ar("div",h+"-overlays",D),p.appendChild(D)},_getLayer:function(h){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&c(this._layers[p].layer)===h)return this._layers[p]},_addLayer:function(h,p,E){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:p,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(D,Y){return this.options.sortFunction(D.layer,Y.layer,D.name,Y.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Lu(this._baseLayersList),Lu(this._overlaysList),this._layerControlInputs=[];var h,p,E,D,Y=0;for(E=0;E<this._layers.length;E++)D=this._layers[E],this._addItem(D),p=p||D.overlay,h=h||!D.overlay,Y+=D.overlay?0:1;return this.options.hideSingleBase&&(h=h&&Y>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=p&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var p=this._getLayer(c(h.target)),E=p.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;E&&this._map.fire(E,p)},_createRadioElement:function(h,p){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(p?' checked="checked"':"")+"/>",D=document.createElement("div");return D.innerHTML=E,D.firstChild},_addItem:function(h){var p=document.createElement("label"),E=this._map.hasLayer(h.layer),D;h.overlay?(D=document.createElement("input"),D.type="checkbox",D.className="leaflet-control-layers-selector",D.defaultChecked=E):D=this._createRadioElement("leaflet-base-layers_"+c(this),E),this._layerControlInputs.push(D),D.layerId=c(h.layer),kt(D,"click",this._onInputClick,this);var Y=document.createElement("span");Y.innerHTML=" "+h.name;var he=document.createElement("span");p.appendChild(he),he.appendChild(D),he.appendChild(Y);var Be=h.overlay?this._overlaysList:this._baseLayersList;return Be.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,p,E,D=[],Y=[];this._handlingClick=!0;for(var he=h.length-1;he>=0;he--)p=h[he],E=this._getLayer(p.layerId).layer,p.checked?D.push(E):p.checked||Y.push(E);for(he=0;he<Y.length;he++)this._map.hasLayer(Y[he])&&this._map.removeLayer(Y[he]);for(he=0;he<D.length;he++)this._map.hasLayer(D[he])||this._map.addLayer(D[he]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,p,E,D=this._map.getZoom(),Y=h.length-1;Y>=0;Y--)p=h[Y],E=this._getLayer(p.layerId).layer,p.disabled=E.options.minZoom!==void 0&&D<E.options.minZoom||E.options.maxZoom!==void 0&&D>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,kt(h,"click",Vn),this.expand();var p=this;setTimeout(function(){on(h,"click",Vn),p._preventClick=!1})}}),vm=function(h,p,E){return new Nf(h,p,E)},co=ia.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var p="leaflet-control-zoom",E=Ar("div",p+" leaflet-bar"),D=this.options;return this._zoomInButton=this._createButton(D.zoomInText,D.zoomInTitle,p+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(D.zoomOutText,D.zoomOutTitle,p+"-out",E,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,p,E,D,Y){var he=Ar("a",E,D);return he.innerHTML=h,he.href="#",he.title=p,he.setAttribute("role","button"),he.setAttribute("aria-label",p),kl(he),kt(he,"click",El),kt(he,"click",Y,this),kt(he,"click",this._refocusOnMap,this),he},_updateDisabled:function(){var h=this._map,p="leaflet-disabled";Rn(this._zoomInButton,p),Rn(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(dr(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(dr(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});jr.mergeOptions({zoomControl:!0}),jr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new co,this.addControl(this.zoomControl))});var Tl=function(h){return new co(h)},_f=ia.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var p="leaflet-control-scale",E=Ar("div",p),D=this.options;return this._addScales(D,p+"-line",E),h.on(D.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),E},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,p,E){h.metric&&(this._mScale=Ar("div",p,E)),h.imperial&&(this._iScale=Ar("div",p,E))},_update:function(){var h=this._map,p=h.getSize().y/2,E=h.distance(h.containerPointToLatLng([0,p]),h.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(E)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var p=this._getRoundNum(h),E=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,E,p/h)},_updateImperial:function(h){var p=h*3.2808399,E,D,Y;p>5280?(E=p/5280,D=this._getRoundNum(E),this._updateScale(this._iScale,D+" mi",D/E)):(Y=this._getRoundNum(p),this._updateScale(this._iScale,Y+" ft",Y/p))},_updateScale:function(h,p,E){h.style.width=Math.round(this.options.maxWidth*E)+"px",h.innerHTML=p},_getRoundNum:function(h){var p=Math.pow(10,(Math.floor(h)+"").length-1),E=h/p;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,p*E}}),Sd=function(h){return new _f(h)},bm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',U=ia.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Et.inlineSvg?bm+" ":"")+"Leaflet</a>"},initialize:function(h){g(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Ar("div","leaflet-control-attribution"),kl(this._container);for(var p in h._layers)h._layers[p].getAttribution&&this.addAttribution(h._layers[p].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var p in this._attributions)this._attributions[p]&&h.push(p);var E=[];this.options.prefix&&E.push(this.options.prefix),h.length&&E.push(h.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});jr.mergeOptions({attributionControl:!0}),jr.addInitHook(function(){this.options.attributionControl&&new U().addTo(this)});var ae=function(h){return new U(h)};ia.Layers=Nf,ia.Zoom=co,ia.Scale=_f,ia.Attribution=U,Il.layers=vm,Il.zoom=Tl,Il.scale=Sd,Il.attribution=ae;var we=R.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});we.addTo=function(h,p){return h.addHandler(p,this),this};var Pe={Events:G},Ue=Et.touch?"touchstart mousedown":"mousedown",et=$.extend({options:{clickTolerance:3},initialize:function(h,p,E,D){g(this,D),this._element=h,this._dragStartTarget=p||h,this._preventOutline=E},enable:function(){this._enabled||(kt(this._dragStartTarget,Ue,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(et._dragging===this&&this.finishDrag(!0),on(this._dragStartTarget,Ue,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Ri(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){et._dragging===this&&this.finishDrag();return}if(!(et._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(et._dragging=this,this._preventOutline&&mi(this._element),yf(),Cc(),!this._moving)){this.fire("down");var p=h.touches?h.touches[0]:h,E=Bc(this._element);this._startPoint=new V(p.clientX,p.clientY),this._startPos=Do(this._element),this._parentScale=Cd(E);var D=h.type==="mousedown";kt(document,D?"mousemove":"touchmove",this._onMove,this),kt(document,D?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var p=h.touches&&h.touches.length===1?h.touches[0]:h,E=new V(p.clientX,p.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,Vn(h),this._moved||(this.fire("dragstart"),this._moved=!0,dr(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),rn(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Rn(document.body,"leaflet-dragging"),this._lastTarget&&(Rn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),on(document,"mousemove touchmove",this._onMove,this),on(document,"mouseup touchend touchcancel",this._onUp,this),vf(),Mo();var p=this._moved&&this._moving;this._moving=!1,et._dragging=!1,p&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function pt(h,p,E){var D,Y=[1,4,2,8],he,Be,$e,Ke,gt,Ot,Jt,kr;for(he=0,Ot=h.length;he<Ot;he++)h[he]._code=oa(h[he],p);for($e=0;$e<4;$e++){for(Jt=Y[$e],D=[],he=0,Ot=h.length,Be=Ot-1;he<Ot;Be=he++)Ke=h[he],gt=h[Be],Ke._code&Jt?gt._code&Jt||(kr=Di(gt,Ke,Jt,p,E),kr._code=oa(kr,p),D.push(kr)):(gt._code&Jt&&(kr=Di(gt,Ke,Jt,p,E),kr._code=oa(kr,p),D.push(kr)),D.push(Ke));h=D}return h}function Mt(h,p){var E,D,Y,he,Be,$e,Ke,gt,Ot;if(!h||h.length===0)throw new Error("latlngs not passed");la(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Jt=se([0,0]),kr=W(h),Ea=kr.getNorthWest().distanceTo(kr.getSouthWest())*kr.getNorthEast().distanceTo(kr.getNorthWest());Ea<1700&&(Jt=Kt(h));var Ls=h.length,zi=[];for(E=0;E<Ls;E++){var Ya=se(h[E]);zi.push(p.project(se([Ya.lat-Jt.lat,Ya.lng-Jt.lng])))}for($e=Ke=gt=0,E=0,D=Ls-1;E<Ls;D=E++)Y=zi[E],he=zi[D],Be=Y.y*he.x-he.y*Y.x,Ke+=(Y.x+he.x)*Be,gt+=(Y.y+he.y)*Be,$e+=Be*3;$e===0?Ot=zi[0]:Ot=[Ke/$e,gt/$e];var Gu=p.unproject(re(Ot));return se([Gu.lat+Jt.lat,Gu.lng+Jt.lng])}function Kt(h){for(var p=0,E=0,D=0,Y=0;Y<h.length;Y++){var he=se(h[Y]);p+=he.lat,E+=he.lng,D++}return se([p/D,E/D])}var lr={__proto__:null,clipPolygon:pt,polygonCenter:Mt,centroid:Kt};function mr(h,p){if(!p||!h.length)return h.slice();var E=p*p;return h=Ts(h,E),h=ws(h,E),h}function Dr(h,p,E){return Math.sqrt(Ll(h,p,E,!0))}function Kn(h,p,E){return Ll(h,p,E)}function ws(h,p){var E=h.length,D=typeof Uint8Array<"u"?Uint8Array:Array,Y=new D(E);Y[0]=Y[E-1]=1,ln(h,Y,p,0,E-1);var he,Be=[];for(he=0;he<E;he++)Y[he]&&Be.push(h[he]);return Be}function ln(h,p,E,D,Y){var he=0,Be,$e,Ke;for($e=D+1;$e<=Y-1;$e++)Ke=Ll(h[$e],h[D],h[Y],!0),Ke>he&&(Be=$e,he=Ke);he>E&&(p[Be]=1,ln(h,p,E,D,Be),ln(h,p,E,Be,Y))}function Ts(h,p){for(var E=[h[0]],D=1,Y=0,he=h.length;D<he;D++)Ol(h[D],h[Y])>p&&(E.push(h[D]),Y=D);return Y<he-1&&E.push(h[he-1]),E}var us;function Ws(h,p,E,D,Y){var he=D?us:oa(h,E),Be=oa(p,E),$e,Ke,gt;for(us=Be;;){if(!(he|Be))return[h,p];if(he&Be)return!1;$e=he||Be,Ke=Di(h,p,$e,E,Y),gt=oa(Ke,E),$e===he?(h=Ke,he=gt):(p=Ke,Be=gt)}}function Di(h,p,E,D,Y){var he=p.x-h.x,Be=p.y-h.y,$e=D.min,Ke=D.max,gt,Ot;return E&8?(gt=h.x+he*(Ke.y-h.y)/Be,Ot=Ke.y):E&4?(gt=h.x+he*($e.y-h.y)/Be,Ot=$e.y):E&2?(gt=Ke.x,Ot=h.y+Be*(Ke.x-h.x)/he):E&1&&(gt=$e.x,Ot=h.y+Be*($e.x-h.x)/he),new V(gt,Ot,Y)}function oa(h,p){var E=0;return h.x<p.min.x?E|=1:h.x>p.max.x&&(E|=2),h.y<p.min.y?E|=4:h.y>p.max.y&&(E|=8),E}function Ol(h,p){var E=p.x-h.x,D=p.y-h.y;return E*E+D*D}function Ll(h,p,E,D){var Y=p.x,he=p.y,Be=E.x-Y,$e=E.y-he,Ke=Be*Be+$e*$e,gt;return Ke>0&&(gt=((h.x-Y)*Be+(h.y-he)*$e)/Ke,gt>1?(Y=E.x,he=E.y):gt>0&&(Y+=Be*gt,he+=$e*gt)),Be=h.x-Y,$e=h.y-he,D?Be*Be+$e*$e:new V(Y,he)}function la(h){return!w(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Fl(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),la(h)}function Ec(h,p){var E,D,Y,he,Be,$e,Ke,gt;if(!h||h.length===0)throw new Error("latlngs not passed");la(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Ot=se([0,0]),Jt=W(h),kr=Jt.getNorthWest().distanceTo(Jt.getSouthWest())*Jt.getNorthEast().distanceTo(Jt.getNorthWest());kr<1700&&(Ot=Kt(h));var Ea=h.length,Ls=[];for(E=0;E<Ea;E++){var zi=se(h[E]);Ls.push(p.project(se([zi.lat-Ot.lat,zi.lng-Ot.lng])))}for(E=0,D=0;E<Ea-1;E++)D+=Ls[E].distanceTo(Ls[E+1])/2;if(D===0)gt=Ls[0];else for(E=0,he=0;E<Ea-1;E++)if(Be=Ls[E],$e=Ls[E+1],Y=Be.distanceTo($e),he+=Y,he>D){Ke=(he-D)/Y,gt=[$e.x-Ke*($e.x-Be.x),$e.y-Ke*($e.y-Be.y)];break}var Ya=p.unproject(re(gt));return se([Ya.lat+Ot.lat,Ya.lng+Ot.lng])}var Bd={__proto__:null,simplify:mr,pointToSegmentDistance:Dr,closestPointOnSegment:Kn,clipSegment:Ws,_getEdgeIntersection:Di,_getBitCode:oa,_sqClosestPointOnSegment:Ll,isFlat:la,_flat:Fl,polylineCenter:Ec},$o={project:function(h){return new V(h.lng,h.lat)},unproject:function(h){return new ne(h.y,h.x)},bounds:new K([-180,-90],[180,90])},Os={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var p=Math.PI/180,E=this.R,D=h.lat*p,Y=this.R_MINOR/E,he=Math.sqrt(1-Y*Y),Be=he*Math.sin(D),$e=Math.tan(Math.PI/4-D/2)/Math.pow((1-Be)/(1+Be),he/2);return D=-E*Math.log(Math.max($e,1e-10)),new V(h.lng*p*E,D)},unproject:function(h){for(var p=180/Math.PI,E=this.R,D=this.R_MINOR/E,Y=Math.sqrt(1-D*D),he=Math.exp(-h.y/E),Be=Math.PI/2-2*Math.atan(he),$e=0,Ke=.1,gt;$e<15&&Math.abs(Ke)>1e-7;$e++)gt=Y*Math.sin(Be),gt=Math.pow((1-gt)/(1+gt),Y/2),Ke=Math.PI/2-2*Math.atan(he*gt)-Be,Be+=Ke;return new ne(Be*p,h.x*p/E)}},kd={__proto__:null,LonLat:$o,Mercator:Os,SphericalMercator:xe},Ed=a({},ye,{code:"EPSG:3395",projection:Os,transformation:function(){var h=.5/(Math.PI*Os.R);return Z(h,.5,-h,.5)}()}),$u=a({},ye,{code:"EPSG:4326",projection:$o,transformation:Z(1/180,1,-1/180,.5)}),Cf=a({},ce,{projection:$o,transformation:Z(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,p){var E=p.lng-h.lng,D=p.lat-h.lat;return Math.sqrt(E*E+D*D)},infinite:!0});ce.Earth=ye,ce.EPSG3395=Ed,ce.EPSG3857=pe,ce.EPSG900913=oe,ce.EPSG4326=$u,ce.Simple=Cf;var Pn=$.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var p=h.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var E=this.getEvents();p.on(E,this),this.once("remove",function(){p.off(E,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});jr.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var p=c(h);return this._layers[p]?this:(this._layers[p]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var p=c(h);return this._layers[p]?(this._loaded&&h.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,p){for(var E in this._layers)h.call(p,this._layers[E]);return this},_addLayers:function(h){h=h?w(h)?h:[h]:[];for(var p=0,E=h.length;p<E;p++)this.addLayer(h[p])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var p=c(h);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,p=-1/0,E=this._getZoomSpan();for(var D in this._zoomBoundLayers){var Y=this._zoomBoundLayers[D].options;h=Y.minZoom===void 0?h:Math.min(h,Y.minZoom),p=Y.maxZoom===void 0?p:Math.max(p,Y.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=h===1/0?void 0:h,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ka=Pn.extend({initialize:function(h,p){g(this,p),this._layers={};var E,D;if(h)for(E=0,D=h.length;E<D;E++)this.addLayer(h[E])},addLayer:function(h){var p=this.getLayerId(h);return this._layers[p]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var p=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(h){var p=typeof h=="number"?h:this.getLayerId(h);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var p=Array.prototype.slice.call(arguments,1),E,D;for(E in this._layers)D=this._layers[E],D[h]&&D[h].apply(D,p);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,p){for(var E in this._layers)h.call(p,this._layers[E]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),Hu=function(h,p){return new Ka(h,p)},Mi=Ka.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Ka.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Ka.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new ee;for(var p in this._layers){var E=this._layers[p];h.extend(E.getBounds?E.getBounds():E.getLatLng())}return h}}),Qi=function(h,p){return new Mi(h,p)},$i=R.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){g(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,p){var E=this._getIconUrl(h);if(!E){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var D=this._createImg(E,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(D,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(D.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),D},_setIconStyles:function(h,p){var E=this.options,D=E[p+"Size"];typeof D=="number"&&(D=[D,D]);var Y=re(D),he=re(p==="shadow"&&E.shadowAnchor||E.iconAnchor||Y&&Y.divideBy(2,!0));h.className="leaflet-marker-"+p+" "+(E.className||""),he&&(h.style.marginLeft=-he.x+"px",h.style.marginTop=-he.y+"px"),Y&&(h.style.width=Y.x+"px",h.style.height=Y.y+"px")},_createImg:function(h,p){return p=p||document.createElement("img"),p.src=h,p},_getIconUrl:function(h){return Et.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function Sf(h){return new $i(h)}var Rl=$i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Rl.imagePath!="string"&&(Rl.imagePath=this._detectIconPath()),(this.options.imagePath||Rl.imagePath)+$i.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var p=function(E,D,Y){var he=D.exec(E);return he&&he[Y]};return h=p(h,/^url\((['"])?(.+)\1\)$/,2),h&&p(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Ar("div","leaflet-default-icon-path",document.body),p=io(h,"background-image")||io(h,"backgroundImage");if(document.body.removeChild(h),p=this._stripUrl(p),p)return p;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),Ul=we.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new et(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dr(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Rn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var p=this._marker,E=p._map,D=this._marker.options.autoPanSpeed,Y=this._marker.options.autoPanPadding,he=Do(p._icon),Be=E.getPixelBounds(),$e=E.getPixelOrigin(),Ke=z(Be.min._subtract($e).add(Y),Be.max._subtract($e).subtract(Y));if(!Ke.contains(he)){var gt=re((Math.max(Ke.max.x,he.x)-Ke.max.x)/(Be.max.x-Ke.max.x)-(Math.min(Ke.min.x,he.x)-Ke.min.x)/(Be.min.x-Ke.min.x),(Math.max(Ke.max.y,he.y)-Ke.max.y)/(Be.max.y-Ke.max.y)-(Math.min(Ke.min.y,he.y)-Ke.min.y)/(Be.min.y-Ke.min.y)).multiplyBy(D);E.panBy(gt,{animate:!1}),this._draggable._newPos._add(gt),this._draggable._startPos._add(gt),rn(p._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=B(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,h)))},_onDrag:function(h){var p=this._marker,E=p._shadow,D=Do(p._icon),Y=p._map.layerPointToLatLng(D);E&&rn(E,D),p._latlng=Y,h.latlng=Y,h.oldLatLng=this._oldLatLng,p.fire("move",h).fire("drag",h)},_onDragEnd:function(h){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),Ho=Pn.extend({options:{icon:new Rl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,p){g(this,p),this._latlng=se(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var p=this._latlng;return this._latlng=se(h),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=h.icon.createIcon(this._icon),D=!1;E!==this._icon&&(this._icon&&this._removeIcon(),D=!0,h.title&&(E.title=h.title),E.tagName==="IMG"&&(E.alt=h.alt||"")),dr(E,p),h.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(E,"focus",this._panOnFocus,this);var Y=h.icon.createShadow(this._shadow),he=!1;Y!==this._shadow&&(this._removeShadow(),he=!0),Y&&(dr(Y,p),Y.alt=""),this._shadow=Y,h.opacity<1&&this._updateOpacity(),D&&this.getPane().appendChild(this._icon),this._initInteraction(),Y&&he&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&on(this._icon,"focus",this._panOnFocus,this),an(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&an(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&rn(this._icon,h),this._shadow&&rn(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var p=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(dr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ul)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ul(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&bs(this._icon,h),this._shadow&&bs(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var p=this.options.icon.options,E=p.iconSize?re(p.iconSize):re(0,0),D=p.iconAnchor?re(p.iconAnchor):re(0,0);h.panInside(this._latlng,{paddingTopLeft:D,paddingBottomRight:E.subtract(D)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pi(h,p){return new Ho(h,p)}var js=Pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return g(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),uo=js.extend({options:{fill:!0,radius:10},initialize:function(h,p){g(this,p),this._latlng=se(h),this._radius=this.options.radius},setLatLng:function(h){var p=this._latlng;return this._latlng=se(h),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var p=h&&h.radius||this._radius;return js.prototype.setStyle.call(this,h),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,p=this._radiusY||h,E=this._clickTolerance(),D=[h+E,p+E];this._pxBounds=new K(this._point.subtract(D),this._point.add(D))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Dl(h,p){return new uo(h,p)}var zo=uo.extend({initialize:function(h,p,E){if(typeof p=="number"&&(p=a({},E,{radius:p})),g(this,p),this._latlng=se(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new ee(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:js.prototype.setStyle,_project:function(){var h=this._latlng.lng,p=this._latlng.lat,E=this._map,D=E.options.crs;if(D.distance===ye.distance){var Y=Math.PI/180,he=this._mRadius/ye.R/Y,Be=E.project([p+he,h]),$e=E.project([p-he,h]),Ke=Be.add($e).divideBy(2),gt=E.unproject(Ke).lat,Ot=Math.acos((Math.cos(he*Y)-Math.sin(p*Y)*Math.sin(gt*Y))/(Math.cos(p*Y)*Math.cos(gt*Y)))/Y;(isNaN(Ot)||Ot===0)&&(Ot=he/Math.cos(Math.PI/180*p)),this._point=Ke.subtract(E.getPixelOrigin()),this._radius=isNaN(Ot)?0:Ke.x-E.project([gt,h-Ot]).x,this._radiusY=Ke.y-Be.y}else{var Jt=D.unproject(D.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(Jt).x}this._updateBounds()}});function Bf(h,p,E){return new zo(h,p,E)}var Wa=js.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,p){g(this,p),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var p=1/0,E=null,D=Ll,Y,he,Be=0,$e=this._parts.length;Be<$e;Be++)for(var Ke=this._parts[Be],gt=1,Ot=Ke.length;gt<Ot;gt++){Y=Ke[gt-1],he=Ke[gt];var Jt=D(h,Y,he,!0);Jt<p&&(p=Jt,E=D(h,Y,he))}return E&&(E.distance=Math.sqrt(p)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ec(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,p){return p=p||this._defaultShape(),h=se(h),p.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new ee,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return la(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var p=[],E=la(h),D=0,Y=h.length;D<Y;D++)E?(p[D]=se(h[D]),this._bounds.extend(p[D])):p[D]=this._convertLatLngs(h[D]);return p},_project:function(){var h=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),p=new V(h,h);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(h,p,E){var D=h[0]instanceof ne,Y=h.length,he,Be;if(D){for(Be=[],he=0;he<Y;he++)Be[he]=this._map.latLngToLayerPoint(h[he]),E.extend(Be[he]);p.push(Be)}else for(he=0;he<Y;he++)this._projectLatlngs(h[he],p,E)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,E,D,Y,he,Be,$e,Ke;for(E=0,Y=0,he=this._rings.length;E<he;E++)for(Ke=this._rings[E],D=0,Be=Ke.length;D<Be-1;D++)$e=Ws(Ke[D],Ke[D+1],h,D,!0),$e&&(p[Y]=p[Y]||[],p[Y].push($e[0]),($e[1]!==Ke[D+1]||D===Be-2)&&(p[Y].push($e[1]),Y++))}},_simplifyPoints:function(){for(var h=this._parts,p=this.options.smoothFactor,E=0,D=h.length;E<D;E++)h[E]=mr(h[E],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,p){var E,D,Y,he,Be,$e,Ke=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(E=0,he=this._parts.length;E<he;E++)for($e=this._parts[E],D=0,Be=$e.length,Y=Be-1;D<Be;Y=D++)if(!(!p&&D===0)&&Dr(h,$e[Y],$e[D])<=Ke)return!0;return!1}});function hs(h,p){return new Wa(h,p)}Wa._flat=Fl;var Ml=Wa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var p=Wa.prototype._convertLatLngs.call(this,h),E=p.length;return E>=2&&p[0]instanceof ne&&p[0].equals(p[E-1])&&p.pop(),p},_setLatLngs:function(h){Wa.prototype._setLatLngs.call(this,h),la(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return la(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,p=this.options.weight,E=new V(p,p);if(h=new K(h.min.subtract(E),h.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var D=0,Y=this._rings.length,he;D<Y;D++)he=pt(this._rings[D],h,!0),he.length&&this._parts.push(he)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var p=!1,E,D,Y,he,Be,$e,Ke,gt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(he=0,Ke=this._parts.length;he<Ke;he++)for(E=this._parts[he],Be=0,gt=E.length,$e=gt-1;Be<gt;$e=Be++)D=E[Be],Y=E[$e],D.y>h.y!=Y.y>h.y&&h.x<(Y.x-D.x)*(h.y-D.y)/(Y.y-D.y)+D.x&&(p=!p);return p||Wa.prototype._containsPoint.call(this,h,!0)}});function Vo(h,p){return new Ml(h,p)}var Gs=Mi.extend({initialize:function(h,p){g(this,p),this._layers={},h&&this.addData(h)},addData:function(h){var p=w(h)?h:h.features,E,D,Y;if(p){for(E=0,D=p.length;E<D;E++)Y=p[E],(Y.geometries||Y.geometry||Y.features||Y.coordinates)&&this.addData(Y);return this}var he=this.options;if(he.filter&&!he.filter(h))return this;var Be=Pc(h,he);return Be?(Be.feature=Wo(h),Be.defaultOptions=Be.options,this.resetStyle(Be),he.onEachFeature&&he.onEachFeature(h,Be),this.addLayer(Be)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=a({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(p){this._setLayerStyle(p,h)},this)},_setLayerStyle:function(h,p){h.setStyle&&(typeof p=="function"&&(p=p(h.feature)),h.setStyle(p))}});function Pc(h,p){var E=h.type==="Feature"?h.geometry:h,D=E?E.coordinates:null,Y=[],he=p&&p.pointToLayer,Be=p&&p.coordsToLatLng||Pd,$e,Ke,gt,Ot;if(!D&&!E)return null;switch(E.type){case"Point":return $e=Be(D),zu(he,h,$e,p);case"MultiPoint":for(gt=0,Ot=D.length;gt<Ot;gt++)$e=Be(D[gt]),Y.push(zu(he,h,$e,p));return new Mi(Y);case"LineString":case"MultiLineString":return Ke=Ic(D,E.type==="LineString"?0:1,Be),new Wa(Ke,p);case"Polygon":case"MultiPolygon":return Ke=Ic(D,E.type==="Polygon"?1:2,Be),new Ml(Ke,p);case"GeometryCollection":for(gt=0,Ot=E.geometries.length;gt<Ot;gt++){var Jt=Pc({geometry:E.geometries[gt],type:"Feature",properties:h.properties},p);Jt&&Y.push(Jt)}return new Mi(Y);case"FeatureCollection":for(gt=0,Ot=E.features.length;gt<Ot;gt++){var kr=Pc(E.features[gt],p);kr&&Y.push(kr)}return new Mi(Y);default:throw new Error("Invalid GeoJSON object.")}}function zu(h,p,E,D){return h?h(p,E):new Ho(E,D&&D.markersInheritOptions&&D)}function Pd(h){return new ne(h[1],h[0],h[2])}function Ic(h,p,E){for(var D=[],Y=0,he=h.length,Be;Y<he;Y++)Be=p?Ic(h[Y],p-1,E):(E||Pd)(h[Y]),D.push(Be);return D}function Ko(h,p){return h=se(h),h.alt!==void 0?[A(h.lng,p),A(h.lat,p),A(h.alt,p)]:[A(h.lng,p),A(h.lat,p)]}function ho(h,p,E,D){for(var Y=[],he=0,Be=h.length;he<Be;he++)Y.push(p?ho(h[he],la(h[he])?0:p-1,E,D):Ko(h[he],D));return!p&&E&&Y.length>0&&Y.push(Y[0].slice()),Y}function gi(h,p){return h.feature?a({},h.feature,{geometry:p}):Wo(p)}function Wo(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Go={toGeoJSON:function(h){return gi(this,{type:"Point",coordinates:Ko(this.getLatLng(),h)})}};Ho.include(Go),zo.include(Go),uo.include(Go),Wa.include({toGeoJSON:function(h){var p=!la(this._latlngs),E=ho(this._latlngs,p?1:0,!1,h);return gi(this,{type:(p?"Multi":"")+"LineString",coordinates:E})}}),Ml.include({toGeoJSON:function(h){var p=!la(this._latlngs),E=p&&!la(this._latlngs[0]),D=ho(this._latlngs,E?2:p?1:0,!0,h);return p||(D=[D]),gi(this,{type:(E?"Multi":"")+"Polygon",coordinates:D})}}),Ka.include({toMultiPoint:function(h){var p=[];return this.eachLayer(function(E){p.push(E.toGeoJSON(h).geometry.coordinates)}),gi(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(h){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(h);var E=p==="GeometryCollection",D=[];return this.eachLayer(function(Y){if(Y.toGeoJSON){var he=Y.toGeoJSON(h);if(E)D.push(he.geometry);else{var Be=Wo(he);Be.type==="FeatureCollection"?D.push.apply(D,Be.features):D.push(Be)}}}),E?gi(this,{geometries:D,type:"GeometryCollection"}):{type:"FeatureCollection",features:D}}});function Tc(h,p){return new Gs(h,p)}var Hi=Tc,xi=Pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,p,E){this._url=h,this._bounds=W(p),g(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){an(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&En(this._image),this},bringToBack:function(){return this._map&&_l(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=W(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",p=this._image=h?this._url:Ar("img");if(dr(p,"leaflet-image-layer"),this._zoomAnimated&&dr(p,"leaflet-zoom-animated"),this.options.className&&dr(p,this.options.className),p.onselectstart=f,p.onmousemove=f,p.onload=o(this.fire,this,"load"),p.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(h){var p=this._map.getZoomScale(h.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;Cl(this._image,E,p)},_reset:function(){var h=this._image,p=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=p.getSize();rn(h,p.min),h.style.width=E.x+"px",h.style.height=E.y+"px"},_updateOpacity:function(){bs(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Xr=function(h,p,E){return new xi(h,p,E)},cn=xi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",p=this._image=h?this._url:Ar("video");if(dr(p,"leaflet-image-layer"),this._zoomAnimated&&dr(p,"leaflet-zoom-animated"),this.options.className&&dr(p,this.options.className),p.onselectstart=f,p.onmousemove=f,p.onloadeddata=o(this.fire,this,"load"),h){for(var E=p.getElementsByTagName("source"),D=[],Y=0;Y<E.length;Y++)D.push(E[Y].src);this._url=E.length>0?D:[p.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var he=0;he<this._url.length;he++){var Be=Ar("source");Be.src=this._url[he],p.appendChild(Be)}}});function fs(h,p,E){return new cn(h,p,E)}var Ns=xi.extend({_initImage:function(){var h=this._image=this._url;dr(h,"leaflet-image-layer"),this._zoomAnimated&&dr(h,"leaflet-zoom-animated"),this.options.className&&dr(h,this.options.className),h.onselectstart=f,h.onmousemove=f}});function Ql(h,p,E){return new Ns(h,p,E)}var Ga=Pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,p){h&&(h instanceof ne||w(h))?(this._latlng=se(h),g(this,p)):(g(this,h),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&bs(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&bs(this._container,1),this.bringToFront(),this.options.interactive&&(dr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(bs(this._container,0),this._removeTimeout=setTimeout(o(an,void 0,this._container),200)):an(this._container),this.options.interactive&&(Rn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=se(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&En(this._container),this},bringToBack:function(){return this._map&&_l(this._container),this},_prepareOpen:function(h){var p=this._source;if(!p._map)return!1;if(p instanceof Mi){p=null;var E=this._source._layers;for(var D in E)if(E[D]._map){p=E[D];break}if(!p)return!1;this._source=p}if(!h)if(p.getCenter)h=p.getCenter();else if(p.getLatLng)h=p.getLatLng();else if(p.getBounds)h=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")h.innerHTML=p;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),p=re(this.options.offset),E=this._getAnchor();this._zoomAnimated?rn(this._container,h.add(E)):p=p.add(h).add(E);var D=this._containerBottom=-p.y,Y=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=D+"px",this._container.style.left=Y+"px"}},_getAnchor:function(){return[0,0]}});jr.include({_initOverlay:function(h,p,E,D){var Y=p;return Y instanceof h||(Y=new h(D).setContent(p)),E&&Y.setLatLng(E),Y}}),Pn.include({_initOverlay:function(h,p,E,D){var Y=E;return Y instanceof h?(g(Y,D),Y._source=this):(Y=p&&!D?p:new h(D,this),Y.setContent(E)),Y}});var $l=Ga.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,Ga.prototype.openOn.call(this,h)},onAdd:function(h){Ga.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof js||this._source.on("preclick",Bl))},onRemove:function(h){Ga.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof js||this._source.off("preclick",Bl))},getEvents:function(){var h=Ga.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",p=this._container=Ar("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=Ar("div",h+"-content-wrapper",p);if(this._contentNode=Ar("div",h+"-content",E),kl(p),kc(this._contentNode),kt(p,"contextmenu",Bl),this._tipContainer=Ar("div",h+"-tip-container",p),this._tip=Ar("div",h+"-tip",this._tipContainer),this.options.closeButton){var D=this._closeButton=Ar("a",h+"-close-button",p);D.setAttribute("role","button"),D.setAttribute("aria-label","Close popup"),D.href="#close",D.innerHTML='<span aria-hidden="true">&#215;</span>',kt(D,"click",function(Y){Vn(Y),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,p=h.style;p.width="",p.whiteSpace="nowrap";var E=h.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),p.width=E+1+"px",p.whiteSpace="",p.height="";var D=h.offsetHeight,Y=this.options.maxHeight,he="leaflet-popup-scrolled";Y&&D>Y?(p.height=Y+"px",dr(h,he)):Rn(h,he),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var p=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),E=this._getAnchor();rn(this._container,p.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,p=parseInt(io(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+p,D=this._containerWidth,Y=new V(this._containerLeft,-E-this._containerBottom);Y._add(Do(this._container));var he=h.layerPointToContainerPoint(Y),Be=re(this.options.autoPanPadding),$e=re(this.options.autoPanPaddingTopLeft||Be),Ke=re(this.options.autoPanPaddingBottomRight||Be),gt=h.getSize(),Ot=0,Jt=0;he.x+D+Ke.x>gt.x&&(Ot=he.x+D-gt.x+Ke.x),he.x-Ot-$e.x<0&&(Ot=he.x-$e.x),he.y+E+Ke.y>gt.y&&(Jt=he.y+E-gt.y+Ke.y),he.y-Jt-$e.y<0&&(Jt=he.y-$e.y),(Ot||Jt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Ot,Jt]))}},_getAnchor:function(){return re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),wm=function(h,p){return new $l(h,p)};jr.mergeOptions({closePopupOnClick:!0}),jr.include({openPopup:function(h,p,E){return this._initOverlay($l,h,p,E).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Pn.include({bindPopup:function(h,p){return this._popup=this._initOverlay($l,this._popup,h,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Mi||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){El(h);var p=h.layer||h.target;if(this._popup._source===p&&!(p instanceof js)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=p,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var kf=Ga.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){Ga.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){Ga.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=Ga.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",p=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ar("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var p,E,D=this._map,Y=this._container,he=D.latLngToContainerPoint(D.getCenter()),Be=D.layerPointToContainerPoint(h),$e=this.options.direction,Ke=Y.offsetWidth,gt=Y.offsetHeight,Ot=re(this.options.offset),Jt=this._getAnchor();$e==="top"?(p=Ke/2,E=gt):$e==="bottom"?(p=Ke/2,E=0):$e==="center"?(p=Ke/2,E=gt/2):$e==="right"?(p=0,E=gt/2):$e==="left"?(p=Ke,E=gt/2):Be.x<he.x?($e="right",p=0,E=gt/2):($e="left",p=Ke+(Ot.x+Jt.x)*2,E=gt/2),h=h.subtract(re(p,E,!0)).add(Ot).add(Jt),Rn(Y,"leaflet-tooltip-right"),Rn(Y,"leaflet-tooltip-left"),Rn(Y,"leaflet-tooltip-top"),Rn(Y,"leaflet-tooltip-bottom"),dr(Y,"leaflet-tooltip-"+$e),rn(Y,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&bs(this._container,h)},_animateZoom:function(h){var p=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(p)},_getAnchor:function(){return re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),hb=function(h,p){return new kf(h,p)};jr.include({openTooltip:function(h,p,E){return this._initOverlay(kf,h,p,E).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Pn.include({bindTooltip:function(h,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(kf,this._tooltip,h,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var p=h?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[p](E),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Mi||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var p=typeof h.getElement=="function"&&h.getElement();p&&(kt(p,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),kt(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var p=typeof h.getElement=="function"&&h.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var p=h.latlng,E,D;this._tooltip.options.sticky&&h.originalEvent&&(E=this._map.mouseEventToContainerPoint(h.originalEvent),D=this._map.containerPointToLayerPoint(E),p=this._map.layerPointToLatLng(D)),this._tooltip.setLatLng(p)}});var p0=$i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var p=h&&h.tagName==="DIV"?h:document.createElement("div"),E=this.options;if(E.html instanceof Element?(Lu(p),p.appendChild(E.html)):p.innerHTML=E.html!==!1?E.html:"",E.bgPos){var D=re(E.bgPos);p.style.backgroundPosition=-D.x+"px "+-D.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function fb(h){return new p0(h)}$i.Default=Rl;var Vu=Pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Et.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){g(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),an(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(En(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_l(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof V?h:new V(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var p=this.getPane().children,E=-h(-1/0,1/0),D=0,Y=p.length,he;D<Y;D++)he=p[D].style.zIndex,p[D]!==this._container&&he&&(E=h(E,+he));isFinite(E)&&(this.options.zIndex=E+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Et.ielt9){bs(this._container,this.options.opacity);var h=+new Date,p=!1,E=!1;for(var D in this._tiles){var Y=this._tiles[D];if(!(!Y.current||!Y.loaded)){var he=Math.min(1,(h-Y.loaded)/200);bs(Y.el,he),he<1?p=!0:(Y.active?E=!0:this._onOpaqueTile(Y),Y.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),p&&(F(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Ar("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,p=this.options.maxZoom;if(h!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===h?(this._levels[E].el.style.zIndex=p-Math.abs(h-E),this._onUpdateLevel(E)):(an(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var D=this._levels[h],Y=this._map;return D||(D=this._levels[h]={},D.el=Ar("div","leaflet-tile-container leaflet-zoom-animated",this._container),D.el.style.zIndex=p,D.origin=Y.project(Y.unproject(Y.getPixelOrigin()),h).round(),D.zoom=h,this._setZoomTransform(D,Y.getCenter(),Y.getZoom()),f(D.el.offsetWidth),this._onCreateLevel(D)),this._level=D,D}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var h,p,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)p=this._tiles[h],p.retain=p.current;for(h in this._tiles)if(p=this._tiles[h],p.current&&!p.active){var D=p.coords;this._retainParent(D.x,D.y,D.z,D.z-5)||this._retainChildren(D.x,D.y,D.z,D.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var p in this._tiles)this._tiles[p].coords.z===h&&this._removeTile(p)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)an(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,p,E,D){var Y=Math.floor(h/2),he=Math.floor(p/2),Be=E-1,$e=new V(+Y,+he);$e.z=+Be;var Ke=this._tileCoordsToKey($e),gt=this._tiles[Ke];return gt&&gt.active?(gt.retain=!0,!0):(gt&&gt.loaded&&(gt.retain=!0),Be>D?this._retainParent(Y,he,Be,D):!1)},_retainChildren:function(h,p,E,D){for(var Y=2*h;Y<2*h+2;Y++)for(var he=2*p;he<2*p+2;he++){var Be=new V(Y,he);Be.z=E+1;var $e=this._tileCoordsToKey(Be),Ke=this._tiles[$e];if(Ke&&Ke.active){Ke.retain=!0;continue}else Ke&&Ke.loaded&&(Ke.retain=!0);E+1<D&&this._retainChildren(Y,he,E+1,D)}},_resetView:function(h){var p=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var p=this.options;return p.minNativeZoom!==void 0&&h<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<h?p.maxNativeZoom:h},_setView:function(h,p,E,D){var Y=Math.round(p);this.options.maxZoom!==void 0&&Y>this.options.maxZoom||this.options.minZoom!==void 0&&Y<this.options.minZoom?Y=void 0:Y=this._clampZoom(Y);var he=this.options.updateWhenZooming&&Y!==this._tileZoom;(!D||he)&&(this._tileZoom=Y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Y!==void 0&&this._update(h),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(h,p)},_setZoomTransforms:function(h,p){for(var E in this._levels)this._setZoomTransform(this._levels[E],h,p)},_setZoomTransform:function(h,p,E){var D=this._map.getZoomScale(E,h.zoom),Y=h.origin.multiplyBy(D).subtract(this._map._getNewPixelOrigin(p,E)).round();Et.any3d?Cl(h.el,Y,D):rn(h.el,Y)},_resetGrid:function(){var h=this._map,p=h.options.crs,E=this._tileSize=this.getTileSize(),D=this._tileZoom,Y=this._map.getPixelWorldBounds(this._tileZoom);Y&&(this._globalTileRange=this._pxBoundsToTileRange(Y)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,p.wrapLng[0]],D).x/E.x),Math.ceil(h.project([0,p.wrapLng[1]],D).x/E.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([p.wrapLat[0],0],D).y/E.x),Math.ceil(h.project([p.wrapLat[1],0],D).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var p=this._map,E=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),D=p.getZoomScale(E,this._tileZoom),Y=p.project(h,this._tileZoom).floor(),he=p.getSize().divideBy(D*2);return new K(Y.subtract(he),Y.add(he))},_update:function(h){var p=this._map;if(p){var E=this._clampZoom(p.getZoom());if(h===void 0&&(h=p.getCenter()),this._tileZoom!==void 0){var D=this._getTiledPixelBounds(h),Y=this._pxBoundsToTileRange(D),he=Y.getCenter(),Be=[],$e=this.options.keepBuffer,Ke=new K(Y.getBottomLeft().subtract([$e,-$e]),Y.getTopRight().add([$e,-$e]));if(!(isFinite(Y.min.x)&&isFinite(Y.min.y)&&isFinite(Y.max.x)&&isFinite(Y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var gt in this._tiles){var Ot=this._tiles[gt].coords;(Ot.z!==this._tileZoom||!Ke.contains(new V(Ot.x,Ot.y)))&&(this._tiles[gt].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(h,E);return}for(var Jt=Y.min.y;Jt<=Y.max.y;Jt++)for(var kr=Y.min.x;kr<=Y.max.x;kr++){var Ea=new V(kr,Jt);if(Ea.z=this._tileZoom,!!this._isValidTile(Ea)){var Ls=this._tiles[this._tileCoordsToKey(Ea)];Ls?Ls.current=!0:Be.push(Ea)}}if(Be.sort(function(Ya,Gu){return Ya.distanceTo(he)-Gu.distanceTo(he)}),Be.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zi=document.createDocumentFragment();for(kr=0;kr<Be.length;kr++)this._addTile(Be[kr],zi);this._level.el.appendChild(zi)}}}},_isValidTile:function(h){var p=this._map.options.crs;if(!p.infinite){var E=this._globalTileRange;if(!p.wrapLng&&(h.x<E.min.x||h.x>E.max.x)||!p.wrapLat&&(h.y<E.min.y||h.y>E.max.y))return!1}if(!this.options.bounds)return!0;var D=this._tileCoordsToBounds(h);return W(this.options.bounds).overlaps(D)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var p=this._map,E=this.getTileSize(),D=h.scaleBy(E),Y=D.add(E),he=p.unproject(D,h.z),Be=p.unproject(Y,h.z);return[he,Be]},_tileCoordsToBounds:function(h){var p=this._tileCoordsToNwSe(h),E=new ee(p[0],p[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var p=h.split(":"),E=new V(+p[0],+p[1]);return E.z=+p[2],E},_removeTile:function(h){var p=this._tiles[h];p&&(an(p.el),delete this._tiles[h],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){dr(h,"leaflet-tile");var p=this.getTileSize();h.style.width=p.x+"px",h.style.height=p.y+"px",h.onselectstart=f,h.onmousemove=f,Et.ielt9&&this.options.opacity<1&&bs(h,this.options.opacity)},_addTile:function(h,p){var E=this._getTilePos(h),D=this._tileCoordsToKey(h),Y=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(Y),this.createTile.length<2&&B(o(this._tileReady,this,h,null,Y)),rn(Y,E),this._tiles[D]={el:Y,coords:h,current:!0},p.appendChild(Y),this.fire("tileloadstart",{tile:Y,coords:h})},_tileReady:function(h,p,E){p&&this.fire("tileerror",{error:p,tile:E,coords:h});var D=this._tileCoordsToKey(h);E=this._tiles[D],E&&(E.loaded=+new Date,this._map._fadeAnimated?(bs(E.el,0),F(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),p||(dr(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Et.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var p=new V(this._wrapX?u(h.x,this._wrapX):h.x,this._wrapY?u(h.y,this._wrapY):h.y);return p.z=h.z,p},_pxBoundsToTileRange:function(h){var p=this.getTileSize();return new K(h.min.unscaleBy(p).floor(),h.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function Ab(h){return new Vu(h)}var qo=Vu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,p){this._url=h,p=g(this,p),p.detectRetina&&Et.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,p){return this._url===h&&p===void 0&&(p=!0),this._url=h,p||this.redraw(),this},createTile:function(h,p){var E=document.createElement("img");return kt(E,"load",o(this._tileOnLoad,this,p,E)),kt(E,"error",o(this._tileOnError,this,p,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(h),E},getTileUrl:function(h){var p={r:Et.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-h.y;this.options.tms&&(p.y=E),p["-y"]=E}return b(this._url,a(p,this.options))},_tileOnLoad:function(h,p){Et.ielt9?setTimeout(o(h,this,null,p),0):h(null,p)},_tileOnError:function(h,p,E){var D=this.options.errorTileUrl;D&&p.getAttribute("src")!==D&&(p.src=D),h(E,p)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,p=this.options.maxZoom,E=this.options.zoomReverse,D=this.options.zoomOffset;return E&&(h=p-h),h+D},_getSubdomain:function(h){var p=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var h,p;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(p=this._tiles[h].el,p.onload=f,p.onerror=f,!p.complete)){p.src=N;var E=this._tiles[h].coords;an(p),delete this._tiles[h],this.fire("tileabort",{tile:p,coords:E})}},_removeTile:function(h){var p=this._tiles[h];if(p)return p.el.setAttribute("src",N),Vu.prototype._removeTile.call(this,h)},_tileReady:function(h,p,E){if(!(!this._map||E&&E.getAttribute("src")===N))return Vu.prototype._tileReady.call(this,h,p,E)}});function g0(h,p){return new qo(h,p)}var x0=qo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,p){this._url=h;var E=a({},this.defaultWmsParams);for(var D in p)D in this.options||(E[D]=p[D]);p=g(this,p);var Y=p.detectRetina&&Et.retina?2:1,he=this.getTileSize();E.width=he.x*Y,E.height=he.y*Y,this.wmsParams=E},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,qo.prototype.onAdd.call(this,h)},getTileUrl:function(h){var p=this._tileCoordsToNwSe(h),E=this._crs,D=z(E.project(p[0]),E.project(p[1])),Y=D.min,he=D.max,Be=(this._wmsVersion>=1.3&&this._crs===$u?[Y.y,Y.x,he.y,he.x]:[Y.x,Y.y,he.x,he.y]).join(","),$e=qo.prototype.getTileUrl.call(this,h);return $e+y(this.wmsParams,$e,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Be},setParams:function(h,p){return a(this.wmsParams,h),p||this.redraw(),this}});function mb(h,p){return new x0(h,p)}qo.WMS=x0,g0.wms=mb;var Yo=Pn.extend({options:{padding:.1},initialize:function(h){g(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,p){var E=this._map.getZoomScale(p,this._zoom),D=this._map.getSize().multiplyBy(.5+this.options.padding),Y=this._map.project(this._center,p),he=D.multiplyBy(-E).add(Y).subtract(this._map._getNewPixelOrigin(h,p));Et.any3d?Cl(this._container,he,E):rn(this._container,he)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,p=this._map.getSize(),E=this._map.containerPointToLayerPoint(p.multiplyBy(-h)).round();this._bounds=new K(E,E.add(p.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),y0=Yo.extend({options:{tolerance:0},getEvents:function(){var h=Yo.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");kt(h,"mousemove",this._onMouseMove,this),kt(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),kt(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,an(this._container),on(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var p in this._layers)h=this._layers[p],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yo.prototype._update.call(this);var h=this._bounds,p=this._container,E=h.getSize(),D=Et.retina?2:1;rn(p,h.min),p.width=D*E.x,p.height=D*E.y,p.style.width=E.x+"px",p.style.height=E.y+"px",Et.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Yo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var p=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var p=h._order,E=p.next,D=p.prev;E?E.prev=D:this._drawLast=D,D?D.next=E:this._drawFirst=E,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var p=h.options.dashArray.split(/[, ]+/),E=[],D,Y;for(Y=0;Y<p.length;Y++){if(D=Number(p[Y]),isNaN(D))return;E.push(D)}h.options._dashArray=E}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var p=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(h._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(h._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var p=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,p=this._redrawBounds;if(this._ctx.save(),p){var E=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var D=this._drawFirst;D;D=D.next)h=D.layer,(!p||h._pxBounds&&h._pxBounds.intersects(p))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,p){if(this._drawing){var E,D,Y,he,Be=h._parts,$e=Be.length,Ke=this._ctx;if($e){for(Ke.beginPath(),E=0;E<$e;E++){for(D=0,Y=Be[E].length;D<Y;D++)he=Be[E][D],Ke[D?"lineTo":"moveTo"](he.x,he.y);p&&Ke.closePath()}this._fillStroke(Ke,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var p=h._point,E=this._ctx,D=Math.max(Math.round(h._radius),1),Y=(Math.max(Math.round(h._radiusY),1)||D)/D;Y!==1&&(E.save(),E.scale(1,Y)),E.beginPath(),E.arc(p.x,p.y/Y,D,0,Math.PI*2,!1),Y!==1&&E.restore(),this._fillStroke(E,h)}},_fillStroke:function(h,p){var E=p.options;E.fill&&(h.globalAlpha=E.fillOpacity,h.fillStyle=E.fillColor||E.color,h.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(h.setLineDash&&h.setLineDash(p.options&&p.options._dashArray||[]),h.globalAlpha=E.opacity,h.lineWidth=E.weight,h.strokeStyle=E.color,h.lineCap=E.lineCap,h.lineJoin=E.lineJoin,h.stroke())},_onClick:function(h){for(var p=this._map.mouseEventToLayerPoint(h),E,D,Y=this._drawFirst;Y;Y=Y.next)E=Y.layer,E.options.interactive&&E._containsPoint(p)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(E))&&(D=E);this._fireEvent(D?[D]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,p)}},_handleMouseOut:function(h){var p=this._hoveredLayer;p&&(Rn(this._container,"leaflet-interactive"),this._fireEvent([p],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,p){if(!this._mouseHoverThrottled){for(var E,D,Y=this._drawFirst;Y;Y=Y.next)E=Y.layer,E.options.interactive&&E._containsPoint(p)&&(D=E);D!==this._hoveredLayer&&(this._handleMouseOut(h),D&&(dr(this._container,"leaflet-interactive"),this._fireEvent([D],h,"mouseover"),this._hoveredLayer=D)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,p,E){this._map._fireDOMEvent(p,E||p.type,h)},_bringToFront:function(h){var p=h._order;if(p){var E=p.next,D=p.prev;if(E)E.prev=D;else return;D?D.next=E:E&&(this._drawFirst=E),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(h)}},_bringToBack:function(h){var p=h._order;if(p){var E=p.next,D=p.prev;if(D)D.next=E;else return;E?E.prev=D:D&&(this._drawLast=D),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(h)}}});function v0(h){return Et.canvas?new y0(h):null}var Ku=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),pb={_initContainer:function(){this._container=Ar("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yo.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var p=h._container=Ku("shape");dr(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",h._path=Ku("path"),p.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var p=h._container;this._container.appendChild(p),h.options.interactive&&h.addInteractiveTarget(p)},_removePath:function(h){var p=h._container;an(p),h.removeInteractiveTarget(p),delete this._layers[c(h)]},_updateStyle:function(h){var p=h._stroke,E=h._fill,D=h.options,Y=h._container;Y.stroked=!!D.stroke,Y.filled=!!D.fill,D.stroke?(p||(p=h._stroke=Ku("stroke")),Y.appendChild(p),p.weight=D.weight+"px",p.color=D.color,p.opacity=D.opacity,D.dashArray?p.dashStyle=w(D.dashArray)?D.dashArray.join(" "):D.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=D.lineCap.replace("butt","flat"),p.joinstyle=D.lineJoin):p&&(Y.removeChild(p),h._stroke=null),D.fill?(E||(E=h._fill=Ku("fill")),Y.appendChild(E),E.color=D.fillColor||D.color,E.opacity=D.fillOpacity):E&&(Y.removeChild(E),h._fill=null)},_updateCircle:function(h){var p=h._point.round(),E=Math.round(h._radius),D=Math.round(h._radiusY||E);this._setPath(h,h._empty()?"M0 0":"AL "+p.x+","+p.y+" "+E+","+D+" 0,"+65535*360)},_setPath:function(h,p){h._path.v=p},_bringToFront:function(h){En(h._container)},_bringToBack:function(h){_l(h._container)}},Wu=Et.vml?Ku:X,Oc=Yo.extend({_initContainer:function(){this._container=Wu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){an(this._container),on(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yo.prototype._update.call(this);var h=this._bounds,p=h.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,E.setAttribute("width",p.x),E.setAttribute("height",p.y)),rn(E,h.min),E.setAttribute("viewBox",[h.min.x,h.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(h){var p=h._path=Wu("path");h.options.className&&dr(p,h.options.className),h.options.interactive&&dr(p,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){an(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var p=h._path,E=h.options;p&&(E.stroke?(p.setAttribute("stroke",E.color),p.setAttribute("stroke-opacity",E.opacity),p.setAttribute("stroke-width",E.weight),p.setAttribute("stroke-linecap",E.lineCap),p.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?p.setAttribute("stroke-dasharray",E.dashArray):p.removeAttribute("stroke-dasharray"),E.dashOffset?p.setAttribute("stroke-dashoffset",E.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),E.fill?(p.setAttribute("fill",E.fillColor||E.color),p.setAttribute("fill-opacity",E.fillOpacity),p.setAttribute("fill-rule",E.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(h,p){this._setPath(h,be(h._parts,p))},_updateCircle:function(h){var p=h._point,E=Math.max(Math.round(h._radius),1),D=Math.max(Math.round(h._radiusY),1)||E,Y="a"+E+","+D+" 0 1,0 ",he=h._empty()?"M0 0":"M"+(p.x-E)+","+p.y+Y+E*2+",0 "+Y+-E*2+",0 ";this._setPath(h,he)},_setPath:function(h,p){h._path.setAttribute("d",p)},_bringToFront:function(h){En(h._path)},_bringToBack:function(h){_l(h._path)}});Et.vml&&Oc.include(pb);function qa(h){return Et.svg||Et.vml?new Oc(h):null}jr.include({getRenderer:function(h){var p=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var p=this._paneRenderers[h];return p===void 0&&(p=this._createRenderer({pane:h}),this._paneRenderers[h]=p),p},_createRenderer:function(h){return this.options.preferCanvas&&v0(h)||qa(h)}});var yi=Ml.extend({initialize:function(h,p){Ml.prototype.initialize.call(this,this._boundsToLatLngs(h),p)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=W(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function jm(h,p){return new yi(h,p)}Oc.create=Wu,Oc.pointsToPath=be,Gs.geometryToLayer=Pc,Gs.coordsToLatLng=Pd,Gs.coordsToLatLngs=Ic,Gs.latLngToCoords=Ko,Gs.latLngsToCoords=ho,Gs.getFeature=gi,Gs.asFeature=Wo,jr.mergeOptions({boxZoom:!0});var Ef=we.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){on(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){an(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Cc(),yf(),this._startPoint=this._map.mouseEventToContainerPoint(h),kt(document,{contextmenu:El,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Ar("div","leaflet-zoom-box",this._container),dr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var p=new K(this._point,this._startPoint),E=p.getSize();rn(this._box,p.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(an(this._box),Rn(this._container,"leaflet-crosshair")),Mo(),vf(),on(document,{contextmenu:El,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var p=new ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});jr.addInitHook("addHandler","boxZoom",Ef),jr.mergeOptions({doubleClickZoom:!0});var b0=we.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var p=this._map,E=p.getZoom(),D=p.options.zoomDelta,Y=h.originalEvent.shiftKey?E-D:E+D;p.options.doubleClickZoom==="center"?p.setZoom(Y):p.setZoomAround(h.containerPoint,Y)}});jr.addInitHook("addHandler","doubleClickZoom",b0),jr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Pf=we.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new et(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}dr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Rn(this._map._container,"leaflet-grab"),Rn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=W(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var p=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(p),this._prunePositions(p)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,p){return h-(h-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;h.x<p.min.x&&(h.x=this._viscousLimit(h.x,p.min.x)),h.y<p.min.y&&(h.y=this._viscousLimit(h.y,p.min.y)),h.x>p.max.x&&(h.x=this._viscousLimit(h.x,p.max.x)),h.y>p.max.y&&(h.y=this._viscousLimit(h.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,p=Math.round(h/2),E=this._initialWorldOffset,D=this._draggable._newPos.x,Y=(D-p+E)%h+p-E,he=(D+p+E)%h-p-E,Be=Math.abs(Y+E)<Math.abs(he+E)?Y:he;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Be},_onDragEnd:function(h){var p=this._map,E=p.options,D=!E.inertia||h.noInertia||this._times.length<2;if(p.fire("dragend",h),D)p.fire("moveend");else{this._prunePositions(+new Date);var Y=this._lastPos.subtract(this._positions[0]),he=(this._lastTime-this._times[0])/1e3,Be=E.easeLinearity,$e=Y.multiplyBy(Be/he),Ke=$e.distanceTo([0,0]),gt=Math.min(E.inertiaMaxSpeed,Ke),Ot=$e.multiplyBy(gt/Ke),Jt=gt/(E.inertiaDeceleration*Be),kr=Ot.multiplyBy(-Jt/2).round();!kr.x&&!kr.y?p.fire("moveend"):(kr=p._limitOffset(kr,p.options.maxBounds),B(function(){p.panBy(kr,{duration:Jt,easeLinearity:Be,noMoveStart:!0,animate:!0})}))}}});jr.addInitHook("addHandler","dragging",Pf),jr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var If=we.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),kt(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),on(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,p=document.documentElement,E=h.scrollTop||p.scrollTop,D=h.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(D,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var p=this._panKeys={},E=this.keyCodes,D,Y;for(D=0,Y=E.left.length;D<Y;D++)p[E.left[D]]=[-1*h,0];for(D=0,Y=E.right.length;D<Y;D++)p[E.right[D]]=[h,0];for(D=0,Y=E.down.length;D<Y;D++)p[E.down[D]]=[0,h];for(D=0,Y=E.up.length;D<Y;D++)p[E.up[D]]=[0,-1*h]},_setZoomDelta:function(h){var p=this._zoomKeys={},E=this.keyCodes,D,Y;for(D=0,Y=E.zoomIn.length;D<Y;D++)p[E.zoomIn[D]]=h;for(D=0,Y=E.zoomOut.length;D<Y;D++)p[E.zoomOut[D]]=-h},_addHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){on(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var p=h.keyCode,E=this._map,D;if(p in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(D=this._panKeys[p],h.shiftKey&&(D=re(D).multiplyBy(3)),E.options.maxBounds&&(D=E._limitOffset(re(D),E.options.maxBounds)),E.options.worldCopyJump){var Y=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(D)));E.panTo(Y)}else E.panBy(D)}else if(p in this._zoomKeys)E.setZoom(E.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;El(h)}}});jr.addInitHook("addHandler","keyboard",If),jr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Nm=we.extend({addHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){on(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var p=Du(h),E=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var D=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),D),El(h)},_performZoom:function(){var h=this._map,p=h.getZoom(),E=this._map.options.zoomSnap||0;h._stop();var D=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Y=4*Math.log(2/(1+Math.exp(-Math.abs(D))))/Math.LN2,he=E?Math.ceil(Y/E)*E:Y,Be=h._limitZoom(p+(this._delta>0?he:-he))-p;this._delta=0,this._startTime=null,Be&&(h.options.scrollWheelZoom==="center"?h.setZoom(p+Be):h.setZoomAround(this._lastMousePos,p+Be))}});jr.addInitHook("addHandler","scrollWheelZoom",Nm);var gb=600;jr.mergeOptions({tapHold:Et.touchNative&&Et.safari&&Et.mobile,tapTolerance:15});var _m=we.extend({addHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){on(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var p=h.touches[0];this._startPos=this._newPos=new V(p.clientX,p.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(kt(document,"touchend",Vn),kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),gb),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){on(document,"touchend",Vn),on(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),on(document,"touchend touchcancel contextmenu",this._cancel,this),on(document,"touchmove",this._onMove,this)},_onMove:function(h){var p=h.touches[0];this._newPos=new V(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,p){var E=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});E._simulated=!0,p.target.dispatchEvent(E)}});jr.addInitHook("addHandler","tapHold",_m),jr.mergeOptions({touchZoom:Et.touch,bounceAtZoomLimits:!0});var Cm=we.extend({addHooks:function(){dr(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Rn(this._map._container,"leaflet-touch-zoom"),on(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var p=this._map;if(!(!h.touches||h.touches.length!==2||p._animatingZoom||this._zooming)){var E=p.mouseEventToContainerPoint(h.touches[0]),D=p.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(E.add(D)._divideBy(2))),this._startDist=E.distanceTo(D),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),Vn(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var p=this._map,E=p.mouseEventToContainerPoint(h.touches[0]),D=p.mouseEventToContainerPoint(h.touches[1]),Y=E.distanceTo(D)/this._startDist;if(this._zoom=p.getScaleZoom(Y,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&Y<1||this._zoom>p.getMaxZoom()&&Y>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,Y===1)return}else{var he=E._add(D)._divideBy(2)._subtract(this._centerPoint);if(Y===1&&he.x===0&&he.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(he),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var Be=o(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(Be,this,!0),Vn(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),on(document,"touchmove",this._onTouchMove,this),on(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});jr.addInitHook("addHandler","touchZoom",Cm),jr.BoxZoom=Ef,jr.DoubleClickZoom=b0,jr.Drag=Pf,jr.Keyboard=If,jr.ScrollWheelZoom=Nm,jr.TapHold=_m,jr.TouchZoom=Cm,r.Bounds=K,r.Browser=Et,r.CRS=ce,r.Canvas=y0,r.Circle=zo,r.CircleMarker=uo,r.Class=R,r.Control=ia,r.DivIcon=p0,r.DivOverlay=Ga,r.DomEvent=Pl,r.DomUtil=m0,r.Draggable=et,r.Evented=$,r.FeatureGroup=Mi,r.GeoJSON=Gs,r.GridLayer=Vu,r.Handler=we,r.Icon=$i,r.ImageOverlay=xi,r.LatLng=ne,r.LatLngBounds=ee,r.Layer=Pn,r.LayerGroup=Ka,r.LineUtil=Bd,r.Map=jr,r.Marker=Ho,r.Mixin=Pe,r.Path=js,r.Point=V,r.PolyUtil=lr,r.Polygon=Ml,r.Polyline=Wa,r.Popup=$l,r.PosAnimation=Qu,r.Projection=kd,r.Rectangle=yi,r.Renderer=Yo,r.SVG=Oc,r.SVGOverlay=Ns,r.TileLayer=qo,r.Tooltip=kf,r.Transformation=le,r.Util=M,r.VideoOverlay=cn,r.bind=o,r.bounds=z,r.canvas=v0,r.circle=Bf,r.circleMarker=Dl,r.control=Il,r.divIcon=fb,r.extend=a,r.featureGroup=Qi,r.geoJSON=Tc,r.geoJson=Hi,r.gridLayer=Ab,r.icon=Sf,r.imageOverlay=Xr,r.latLng=se,r.latLngBounds=W,r.layerGroup=Hu,r.map=jf,r.marker=pi,r.point=re,r.polygon=Vo,r.polyline=hs,r.popup=wm,r.rectangle=jm,r.setOptions=g,r.stamp=c,r.svg=qa,r.svgOverlay=Ql,r.tileLayer=g0,r.tooltip=hb,r.transformation=Z,r.version=n,r.videoOverlay=fs;var Sm=window.L;r.noConflict=function(){return window.L=Sm,this},window.L=r})})(ek,ek.exports);var cm=ek.exports;const za=sn(cm);function Zv(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function Jv(e,t){return t==null?function(n,a){const i=_.useRef();return i.current||(i.current=e(n,a)),i}:function(n,a){const i=_.useRef();i.current||(i.current=e(n,a));const o=_.useRef(n),{instance:l}=i.current;return _.useEffect(function(){o.current!==n&&(t(l,n,o.current),o.current=n)},[l,n,a]),i}}function MG(e,t){_.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function QG(e){return function(r){const n=Yg(),a=e(e5(r,n),n);return UG(n.map,r.attribution),$6(a.current,r.eventHandlers),MG(a.current,n),a}}function cbe(e,t){const r=_.useRef();_.useEffect(function(){if(t.pathOptions!==r.current){const a=t.pathOptions??{};e.instance.setStyle(a),r.current=a}},[e,t])}function dbe(e){return function(r){const n=Yg(),a=e(e5(r,n),n);return $6(a.current,r.eventHandlers),MG(a.current,n),cbe(a.current,r),a}}function ube(e,t){const r=Jv(e,t),n=QG(r);return Q6(n)}function hbe(e,t){const r=Jv(e),n=lbe(r,t);return abe(n)}function fbe(e,t){const r=Jv(e,t),n=dbe(r);return Q6(n)}function Abe(e,t){const r=Jv(e,t),n=QG(r);return ibe(n)}function mbe(e,t,r){const{opacity:n,zIndex:a}=t;n!=null&&n!==r.opacity&&e.setOpacity(n),a!=null&&a!==r.zIndex&&e.setZIndex(a)}function pbe(){return Yg().map}function t5(e){const t=pbe();return _.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const gbe=fbe(function({center:t,children:r,...n},a){const i=new cm.Circle(t,n);return Zv(i,JN(a,{overlayContainer:i}))},rbe),xbe=Jv(function({children:t,...r},n){const a=new cm.Control.Layers(void 0,void 0,r);return Zv(a,JN(n,{layersControl:a}))},function(t,r,n){r.collapsed!==n.collapsed&&(r.collapsed===!0?t.collapse():t.expand())}),ybe=obe(xbe),$c=Q6(ybe);function $G(e){return function(r){const n=Yg(),a=_.useRef(r),[i,o]=_.useState(null),{layersControl:l,map:c}=n,d=_.useCallback(A=>{l!=null&&(a.current.checked&&c.addLayer(A),e(l,A,a.current.name),o(A))},[l,c]),u=_.useCallback(A=>{l==null||l.removeLayer(A),o(null)},[l]),f=_.useMemo(()=>JN(n,{layerContainer:{addLayer:d,removeLayer:u}}),[n,d,u]);return _.useEffect(()=>{i!==null&&a.current!==r&&(r.checked===!0&&(a.current.checked==null||a.current.checked===!1)?c.addLayer(i):a.current.checked===!0&&(r.checked==null||r.checked===!1)&&c.removeLayer(i),a.current=r)}),r.children?Ce.createElement(M6,{value:f},r.children):null}}$c.BaseLayer=$G(function(t,r,n){t.addBaseLayer(r,n)});$c.Overlay=$G(function(t,r,n){t.addOverlay(r,n)});function tk(){return tk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tk.apply(this,arguments)}function vbe({bounds:e,boundsOptions:t,center:r,children:n,className:a,id:i,placeholder:o,style:l,whenReady:c,zoom:d,...u},f){const[A]=_.useState({className:a,id:i,style:l}),[m,x]=_.useState(null);_.useImperativeHandle(f,()=>(m==null?void 0:m.map)??null,[m]);const g=_.useCallback(v=>{if(v!==null&&m===null){const b=new cm.Map(v,u);r!=null&&d!=null?b.setView(r,d):e!=null&&b.fitBounds(e,t),c!=null&&b.whenReady(c),x(sbe(b))}},[]);_.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const y=m?Ce.createElement(M6,{value:m},n):o??null;return Ce.createElement("div",tk({},A,{ref:g}),y)}const ef=_.forwardRef(vbe),tf=ube(function({position:t,...r},n){const a=new cm.Marker(t,r);return Zv(a,JN(n,{overlayContainer:a}))},function(t,r,n){r.position!==n.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),Ty=hbe(function(t,r){const n=new cm.Popup(t,r.overlayContainer);return Zv(n,r)},function(t,r,{position:n},a){_.useEffect(function(){const{instance:o}=t;function l(d){d.popup===o&&(o.update(),a(!0))}function c(d){d.popup===o&&a(!1)}return r.map.on({popupopen:l,popupclose:c}),r.overlayContainer==null?(n!=null&&o.setLatLng(n),o.openOn(r.map)):r.overlayContainer.bindPopup(o),function(){var u;r.map.off({popupopen:l,popupclose:c}),(u=r.overlayContainer)==null||u.unbindPopup(),r.map.removeLayer(o)}},[t,r,a,n])}),ol=Abe(function({url:t,...r},n){const a=new cm.TileLayer(t,e5(r,n));return Zv(a,n)},function(t,r,n){mbe(t,r,n);const{url:a}=r;a!=null&&a!==n.url&&t.setUrl(a)});delete za.Icon.Default.prototype._getIconUrl;za.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const bbe=(e,t)=>{var r;return za.divIcon({className:"custom-div-icon",html:`
      <div style="
        background-color: ${t};
        width: 30px;
        height: 30px;
        border-radius: 50%;
        border: 3px solid white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 12px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      ">
        ${((r=e==null?void 0:e.charAt(0))==null?void 0:r.toUpperCase())||"P"}
      </div>
    `,iconSize:[30,30],iconAnchor:[15,15]})},wbe=({properties:e=[],selectedLocation:t=null,radius:r=5,onPropertyClick:n=()=>{},height:a="320px",showRadius:i=!0})=>{const[o,l]=_.useState([12.9716,77.5946]),[c,d]=_.useState(12);_.useEffect(()=>{if(t&&t.lat&&t.lng){const A=parseFloat(t.lat),m=parseFloat(t.lng);!isNaN(A)&&!isNaN(m)&&(l([A,m]),d(15))}},[t]);const u=A=>{switch(A==null?void 0:A.toLowerCase()){case"pg":return"#ef4444";case"co-living":return"#3b82f6";case"apartment":return"#10b981";case"house":return"#f59e0b";default:return"#ef4444"}},f=A=>!A||typeof A!="object"?[]:Object.entries(A).filter(([m,x])=>x===!0).map(([m])=>m);return s.jsx("div",{className:"w-full rounded-lg border border-gray-200 overflow-hidden relative z-10",style:{height:a},children:s.jsxs(ef,{center:o,zoom:c,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,zoomControl:!0,children:[s.jsx(ol,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map(A=>{const m=parseFloat(A.lat),x=parseFloat(A.lng);if(isNaN(m)||isNaN(x))return null;const g=u(A.propertyType),y=bbe(A.propertyType,g),v=f(A.amenities);return s.jsx(tf,{position:[m,x],icon:y,eventHandlers:{click:()=>n(A.id)},children:s.jsx(Ty,{maxWidth:300,minWidth:250,children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight",children:A.name}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 ml-2",children:A.propertyType||"PG"})]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-600 mb-2",children:[s.jsx(xr,{className:"w-3 h-3 mr-1"}),s.jsx("span",{className:"truncate",children:A.address})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-lg font-bold text-red-600",children:A.price}),A.matchScore&&s.jsxs("span",{className:"flex items-center gap-0.5 px-1.5 py-0.5 rounded-full bg-red-100 text-red-700 text-[10px] font-bold",children:[s.jsx(Sa,{className:"w-2.5 h-2.5 fill-red-700"})," ",A.matchScore,"%"]})]}),A.distance&&A.distance!=="0 km"&&s.jsxs("p",{className:"text-xs text-gray-500",children:[A.distance," away"]})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[A.maxOccupancy&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Max Occupancy: ",A.maxOccupancy," people"]})]}),A.ownerName&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Owner: ",A.ownerName]})]}),A.rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Sa,{className:"w-3 h-3 mr-1 text-yellow-400 fill-current"}),s.jsxs("span",{children:["Rating: ",A.rating]})]})]}),v.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"font-medium mb-1 text-xs",children:"Amenities:"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.slice(0,3).map((b,w)=>s.jsx("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:b},w)),v.length>3&&s.jsxs("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:["+",v.length-3," more"]})]})]}),A.images&&A.images.length>0&&s.jsx("div",{className:"mt-3",children:s.jsx("img",{src:A.images[0],alt:A.name,className:"w-full h-16 object-cover rounded border"})}),s.jsx("button",{onClick:()=>n(A.id),className:"w-full mt-3 bg-red-600 text-white text-xs py-2 px-3 rounded hover:bg-red-700 transition-colors",children:"View Details"})]})})},A.id)}),t&&i&&!isNaN(parseFloat(t.lat))&&!isNaN(parseFloat(t.lng))&&s.jsx(gbe,{center:[parseFloat(t.lat),parseFloat(t.lng)],radius:r*1e3,pathOptions:{color:"#ef4444",fillColor:"#ef4444",fillOpacity:.1,weight:2}})]},`${o[0]}-${o[1]}-${c}`)})};class jbe{constructor(){this.googleMapsLoaded=!1,this.geocoder=null,this.autocomplete=null}async initializeGoogleMaps(){return this.googleMapsLoaded?Promise.resolve():new Promise((t,r)=>{if(window.google&&window.google.maps){this.googleMapsLoaded=!0,this.geocoder=new window.google.maps.Geocoder,t();return}const n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoPzRJLAmma54BBOyF4AhZ2ZIqGvak8CA&libraries=places,geometry",n.async=!0,n.defer=!0,n.onload=()=>{this.googleMapsLoaded=!0,this.geocoder=new window.google.maps.Geocoder,t()},n.onerror=r,document.head.appendChild(n)})}async searchWithGooglePlaces(t,r){return this.googleMapsLoaded||await this.initializeGoogleMaps(),!this.autocomplete&&r&&(this.autocomplete=new window.google.maps.places.Autocomplete(r,{types:["establishment","geocode"],componentRestrictions:{country:"in"},fields:["place_id","geometry","name","formatted_address"]})),this.autocomplete}async searchWithNominatim(t){if(!t||t.length<3)return[];try{const r=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&countrycodes=in&limit=5&addressdetails=1`,{headers:{"User-Agent":"LyvoPlus-App"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json()).map(a=>({id:a.place_id,name:a.display_name.split(",")[0],address:a.display_name,lat:parseFloat(a.lat),lng:parseFloat(a.lon),type:a.type,importance:a.importance})).sort((a,i)=>i.importance-a.importance)}catch(r){return console.error("Nominatim search error:",r),[]}}async reverseGeocodeWithGoogle(t,r){return this.googleMapsLoaded||await this.initializeGoogleMaps(),new Promise((n,a)=>{this.geocoder.geocode({location:{lat:t,lng:r}},(i,o)=>{if(o==="OK"&&i[0]){const l=i[0];let c="Current Location",d=l.formatted_address;if(l.address_components){const u=l.address_components,f=u.find(y=>y.types.includes("locality")),A=u.find(y=>y.types.includes("sublocality")),m=u.find(y=>y.types.includes("neighborhood")),x=u.find(y=>y.types.includes("administrative_area_level_1")),g=u.find(y=>y.types.includes("administrative_area_level_2"));f&&x?c=`${f.long_name}, ${x.long_name}`:A&&x?c=`${A.long_name}, ${x.long_name}`:m&&x?c=`${m.long_name}, ${x.long_name}`:g&&x?c=`${g.long_name}, ${x.long_name}`:c=l.formatted_address}n({name:c,address:d,lat:t,lng:r})}else a(new Error("Geocoding failed"))})})}async reverseGeocodeWithNominatim(t,r){try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${r}&addressdetails=1`,{headers:{"User-Agent":"LyvoPlus-App"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();let i="Current Location",o=a.display_name;if(a.address){const l=a.address;if(l.city||l.town||l.village){const c=l.city||l.town||l.village,d=l.state;i=d?`${c}, ${d}`:c}else if(l.suburb||l.neighbourhood){const c=l.suburb||l.neighbourhood,d=l.state;i=d?`${c}, ${d}`:c}else l.state&&(i=l.state)}return{name:i,address:o,lat:t,lng:r}}catch(n){return console.error("Nominatim reverse geocoding error:",n),{name:"Current Location",address:"Your current location",lat:t,lng:r}}}async searchLocation(t,r="google"){return r==="google"?null:await this.searchWithNominatim(t)}async reverseGeocode(t,r,n="google"){return n==="google"?await this.reverseGeocodeWithGoogle(t,r):await this.reverseGeocodeWithNominatim(t,r)}async getCurrentLocation(t="google"){return new Promise((r,n)=>{if(!navigator.geolocation){n(new Error("Geolocation is not supported by this browser."));return}navigator.geolocation.getCurrentPosition(async a=>{const{latitude:i,longitude:o}=a.coords;try{const l=await this.reverseGeocode(i,o,t);r({...l,accuracy:a.coords.accuracy,timestamp:new Date().toLocaleString()})}catch{r({name:"Current Location",address:"Your current location",lat:i,lng:o,accuracy:a.coords.accuracy,timestamp:new Date().toLocaleString()})}},a=>{let i="Unable to get your current location. ";switch(a.code){case a.PERMISSION_DENIED:i+="Location access denied by user.";break;case a.POSITION_UNAVAILABLE:i+="Location information unavailable.";break;case a.TIMEOUT:i+="Location request timed out.";break;default:i+="Unknown error occurred.";break}n(new Error(i))})})}}const nw=new jbe,Nbe=({mapType:e="google",onLocationSelect:t,placeholder:r="Search for a location (e.g., Koramangala, Bangalore)",className:n=""})=>{const[a,i]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,f]=_.useState(!1),[A,m]=_.useState(null),x=_.useRef(null),g=_.useRef(null),y=_.useRef(null);_.useEffect(()=>{e==="google"&&x.current&&v()},[e]);const v=async()=>{try{if(await nw.initializeGoogleMaps(),x.current&&!A){const P=await nw.searchWithGooglePlaces("",x.current);P.addListener("place_changed",()=>{const k=P.getPlace();if(k.geometry){const T={name:k.name||k.formatted_address,address:k.formatted_address,lat:k.geometry.location.lat(),lng:k.geometry.location.lng()};i(T.name),f(!1),t(T)}}),m(P)}}catch(P){console.error("Failed to initialize Google autocomplete:",P)}},b=async P=>{const k=P.target.value;if(i(k),y.current&&clearTimeout(y.current),k.length<3){l([]),f(!1);return}e==="leaflet"&&(y.current=setTimeout(async()=>{await w(k)},300))},w=async P=>{d(!0);try{const k=await nw.searchWithNominatim(P);l(k),f(!0)}catch(k){console.error("Search error:",k),l([])}finally{d(!1)}},C=P=>{i(P.name),f(!1),t(P)},N=async()=>{d(!0);try{const P=await nw.getCurrentLocation(e);i(P.name),f(!1),t(P)}catch(P){console.error("Current location error:",P),alert(P.message)}finally{d(!1)}},j=()=>{i(""),l([]),f(!1),x.current&&x.current.focus()};return _.useEffect(()=>{const P=k=>{g.current&&!g.current.contains(k.target)&&x.current&&!x.current.contains(k.target)&&f(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]),s.jsxs("div",{className:`relative z-[500] ${n}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{ref:x,type:"text",placeholder:r,value:a,onChange:b,onFocus:()=>{e==="leaflet"&&o.length>0&&f(!0)},className:"w-full pl-10 pr-20 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",autoComplete:"off"}),s.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[c&&s.jsx(Js,{className:"w-4 h-4 text-gray-400 animate-spin"}),s.jsx("div",{className:"text-xs text-gray-500",children:e==="google"?s.jsx("span",{className:"text-green-600",children:" Google"}):s.jsx("span",{className:"text-blue-600",children:" Leaflet"})}),a&&s.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(nr,{className:"w-4 h-4"})})]})]}),e==="leaflet"&&u&&o.length>0&&s.jsx("div",{ref:g,className:"absolute z-[1001] w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-2xl max-h-80 overflow-y-auto",style:{zIndex:1001},children:o.map((P,k)=>s.jsx("button",{onClick:()=>C(P),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(xr,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:P.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:P.address}),P.type&&s.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:P.type})]})]})},P.id||k))}),s.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[s.jsxs("button",{onClick:N,disabled:c,className:"flex items-center space-x-2 text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(xr,{className:"w-4 h-4"}),s.jsx("span",{children:"Use Current Location"})]}),s.jsx("div",{className:"text-xs text-gray-500",children:e==="google"?"Google Places Autocomplete":"OpenStreetMap Search"})]})]})},RC=()=>{const[e,t]=_.useState({}),[r,n]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,f]=_.useState(!0),[A,m]=_.useState(""),[x,g]=_.useState(null),[y,v]=_.useState(null),[b,w]=_.useState(5),[C,N]=_.useState(!1),[j,P]=_.useState([]),[k,T]=_.useState([]),[O,B]=_.useState([]),[F,M]=_.useState([]),R=hr(),[H,G]=_.useState(null);_.useEffect(()=>{ne()},[]);const $=oe=>{g(oe),m(oe.name),V(oe),z(oe.lat,oe.lng,b)},V=oe=>{const X={id:Date.now(),location:oe.name,address:oe.address,lat:oe.lat,lng:oe.lng,timestamp:new Date().toISOString(),radius:b,pgCount:0},be=O.filter(Le=>Le.lat!==oe.lat||Le.lng!==oe.lng),_e=[X,...be].slice(0,5);B(_e),localStorage.setItem("lyvo_recent_searches",JSON.stringify(_e))},te=oe=>{const X={...oe,viewedAt:new Date().toISOString()},be=F.filter(Le=>Le.id!==oe.id),_e=[X,...be].slice(0,4);M(_e),localStorage.setItem("lyvo_recently_viewed",JSON.stringify(_e))},re=oe=>{if(!oe)return"Address not available";if(typeof oe=="string")return oe;const{street:X,city:be,state:_e,pincode:Le,landmark:ke}=oe;return[X,ke,be,_e,Le].filter(Boolean).join(", ")},K=(oe,X,be,_e)=>W(oe,X,be,_e),z=async(oe,X,be=b)=>{try{const ke=((await qe.get("/property/public/properties")).data.data||[]).filter(Qe=>Qe.latitude&&Qe.longitude).map((Qe,Ye)=>{const it=K(oe,X,Qe.latitude,Qe.longitude);return{id:Qe._id,name:Qe.property_name||Qe.propertyName||"Unnamed Property",address:re(Qe.address),lat:Qe.latitude,lng:Qe.longitude,price:Qe.min_rent?`${Qe.min_rent.toLocaleString()}`:Qe.rent?`${Qe.rent.toLocaleString()}`:"Price not available",securityDeposit:Qe.security_deposit?`${Qe.security_deposit.toLocaleString()}`:"N/A",rating:4.5,distance:`${it.toFixed(1)} km`,_distanceKm:it,amenities:Qe.amenities?Object.entries(Qe.amenities).filter(([Oe,Ge])=>Ge===!0).map(([Oe])=>Oe):[],propertyType:Qe.propertyType||"PG",totalRooms:Qe.totalRooms||Qe.maxOccupancy||"N/A",images:Qe.images?[Qe.images.front,Qe.images.hall,...Qe.images.gallery||[]].filter(Boolean):[],ownerName:Qe.ownerName||"Unknown Owner",roomDetails:Qe.room_details||[],matchScore:Qe.matchScore||null}}).filter(Qe=>Qe._distanceKm<=be).sort((Qe,Ye)=>Qe._distanceKm-Ye._distanceKm);P(ke),ee(oe,X,ke.length)}catch(_e){console.error("Error fetching properties:",_e),P([])}},ee=(oe,X,be)=>{B(_e=>{const Le=_e.map(ke=>Math.abs(ke.lat-oe)<.001&&Math.abs(ke.lng-X)<.001?{...ke,pgCount:be}:ke);return localStorage.setItem("lyvo_recent_searches",JSON.stringify(Le)),Le})},W=(oe,X,be,_e)=>{const ke=(be-oe)*Math.PI/180,Qe=(_e-X)*Math.PI/180,Ye=Math.sin(ke/2)*Math.sin(ke/2)+Math.cos(oe*Math.PI/180)*Math.cos(be*Math.PI/180)*Math.sin(Qe/2)*Math.sin(Qe/2);return 6371*(2*Math.atan2(Math.sqrt(Ye),Math.sqrt(1-Ye)))},ne=async()=>{try{const be=((await qe.get("/property/public/properties")).data.data||[]).filter(_e=>_e.latitude&&_e.longitude).map(_e=>({id:_e._id,name:_e.property_name||_e.propertyName||"Unnamed Property",address:re(_e.address),lat:_e.latitude,lng:_e.longitude,price:_e.min_rent?`${_e.min_rent.toLocaleString()}`:_e.rent?`${_e.rent.toLocaleString()}`:"Price not available",securityDeposit:_e.security_deposit?`${_e.security_deposit.toLocaleString()}`:"N/A",rating:4.5,distance:"0 km",_distanceKm:0,amenities:_e.amenities?Object.entries(_e.amenities).filter(([Le,ke])=>ke===!0).map(([Le])=>Le):[],propertyType:_e.propertyType||"PG",totalRooms:_e.totalRooms||_e.maxOccupancy||"N/A",images:_e.images||[],ownerName:_e.ownerName||"Unknown Owner"}));console.log(`Loaded ${be.length} properties`),T(be)}catch(oe){console.error("Error loading properties:",oe)}},se=oe=>{const X=[...j,...o,...k].find(be=>be.id===oe);X&&te(X),R(`/seeker/property/${oe}`)},ce=oe=>{const X=parseInt(oe.target.value);w(X),x?z(x.lat,x.lng,X):y&&z(y.lat,y.lng,X)},ye=async()=>{try{const oe=JSON.parse(localStorage.getItem("user")||"{}");if(!(oe.id||oe._id||oe.userId))return;const _e={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`};try{const ke=(await qe.get("/property/user/tenant-status")).data;if(ke.success&&ke.isTenant)return console.log("User has active tenancy, redirecting to TenantDashboard"),R("/tenant-dashboard"),!0}catch(Le){console.error("Error checking tenant status:",Le)}}catch(oe){console.error("Error checking dashboard redirect status:",oe)}return!1};_.useEffect(()=>{const oe=JSON.parse(localStorage.getItem("user")||"{}");t(oe),(()=>{const ke=`lastLogin_${oe._id||oe.id}`;localStorage.getItem(ke)?(d(!1),localStorage.setItem(ke,new Date().toISOString())):(d(!0),localStorage.setItem(ke,new Date().toISOString()))})(),(async()=>{if(f(!0),!await ye()){f(!1);const ke=2*24*60*60*1e3,Qe=new Date().getTime(),Ye=JSON.parse(localStorage.getItem("lyvo_recent_searches")||"[]"),it=Ye.filter(mt=>{const ft=mt.timestamp?new Date(mt.timestamp).getTime():0;return Qe-ft<ke});B(it),it.length!==Ye.length&&localStorage.setItem("lyvo_recent_searches",JSON.stringify(it));const Oe=JSON.parse(localStorage.getItem("lyvo_recently_viewed")||"[]"),Ge=Oe.filter(mt=>{const ft=mt.viewedAt?new Date(mt.viewedAt).getTime():0;return Qe-ft<ke});M(Ge),Ge.length!==Oe.length&&localStorage.setItem("lyvo_recently_viewed",JSON.stringify(Ge)),Ae(),xe(),le()}})();const _e=Le=>{console.log("Booking status change detected:",Le.detail),(Le.detail.status==="confirmed"||Le.detail.status==="approved")&&setTimeout(()=>{ye()},1e3)};return window.addEventListener("booking-approved",_e),window.addEventListener("booking-status-changed",_e),()=>{window.removeEventListener("booking-approved",_e),window.removeEventListener("booking-status-changed",_e)}},[]);const Ae=async()=>{try{const X=(await qe.get("/property/public/properties")).data.data||[];console.log("=== RAW PROPERTIES DATA ==="),console.log("Total properties from API:",X.length),X.forEach((_e,Le)=>{console.log(`
Property ${Le+1}:`),console.log("  _id:",_e._id),console.log("  propertyName:",_e.propertyName),console.log("  address:",_e.address),console.log("  rent:",_e.rent),console.log("  propertyType:",_e.propertyType),console.log("  maxOccupancy:",_e.maxOccupancy),console.log("  amenities:",_e.amenities),console.log("  images:",_e.images),console.log("  description:",_e.description),console.log("  latitude:",_e.latitude),console.log("  longitude:",_e.longitude)}),console.log("=== END RAW PROPERTIES ===");const be=X.slice(0,4).map((_e,Le)=>{var ke,Qe,Ye,it,Oe,Ge,mt;return{id:_e._id,name:_e.property_name||_e.propertyName||"Unnamed Property",location:_e.address?[_e.address.landmark,_e.address.city,_e.address.state].filter(Boolean).join(", "):"Location not available",price:_e.min_rent?`${_e.min_rent.toLocaleString()}`:_e.rent?`${_e.rent.toLocaleString()}`:"Price not available",securityDeposit:_e.security_deposit?`${_e.security_deposit.toLocaleString()}`:"N/A",rating:4.5,image:(ke=_e.images)!=null&&ke.front||(Qe=_e.images)!=null&&Qe.hall||(Ye=_e.images)!=null&&Ye.gallery&&_e.images.gallery[0]?((it=_e.images)==null?void 0:it.front)||((Oe=_e.images)==null?void 0:Oe.hall)||((mt=(Ge=_e.images)==null?void 0:Ge.gallery)==null?void 0:mt[0]):"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",distance:`${(Le+1)*2}.${Le+1} km`,matchScore:95-Le*5,propertyType:_e.propertyType||"PG",totalRooms:_e.maxOccupancy||"N/A",amenities:_e.amenities?Object.entries(_e.amenities).filter(([ft,Ie])=>Ie===!0).map(([ft])=>ft):[],roomDetails:_e.room_details||[]}});l(be),console.log("=== RECOMMENDATIONS DATA ==="),console.log("Total recommendations:",be.length),be.forEach((_e,Le)=>{console.log(`
Recommendation ${Le+1}:`),console.log("  ID:",_e.id),console.log("  Name:",_e.name),console.log("  Location:",_e.location),console.log("  Price:",_e.price),console.log("  Rating:",_e.rating),console.log("  Distance:",_e.distance),console.log("  Match Score:",_e.matchScore+"%"),console.log("  Property Type:",_e.propertyType),console.log("  Max Occupancy:",_e.maxOccupancy),console.log("  Amenities:",_e.amenities),console.log("  Image URL:",_e.image)}),console.log("=== END RECOMMENDATIONS ===")}catch(oe){console.error("Error fetching property recommendations:",oe),l([])}},xe=async()=>{try{const oe=JSON.parse(localStorage.getItem("user")||"{}"),X=oe.userId||oe._id;if(console.log("Fetching favorites for userId:",X),!X){console.log("No userId found in localStorage");return}const be="/property/favorites";console.log("Favorites API URL:",be);const _e=await qe.get(be);if(console.log("Favorites API response status:",_e.status),_e.status===200){const Le=_e.data;console.log("Favorites data received:",Le),n(Le.favorites||[]),console.log("Favorites count:",(Le.favorites||[]).length)}}catch(oe){console.error("Error fetching favorites count:",oe),n([])}},le=async()=>{try{const oe=JSON.parse(localStorage.getItem("user")||"{}"),X=oe.userId||oe._id;if(console.log("Fetching bookings for userId:",X),!X){console.log("No userId found in localStorage");return}const be="/property/user/bookings";console.log("Bookings API URL:",be);const _e=await qe.get(be);if(console.log("Bookings API response status:",_e.status),_e.status===200){const Le=_e.data;console.log("Bookings data received:",Le),i(Le.bookings||[]),console.log("Bookings count:",(Le.bookings||[]).length)}}catch(oe){console.error("Error fetching bookings count:",oe),i([])}},Z=oe=>{switch(oe){case"confirmed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},pe=oe=>{switch(oe){case"confirmed":return s.jsx(At,{className:"w-4 h-4"});case"pending":return s.jsx(Hn,{className:"w-4 h-4"});case"cancelled":return s.jsx($t,{className:"w-4 h-4"});default:return s.jsx(Hn,{className:"w-4 h-4"})}};return u?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Verifying account status..."})]})})}):s.jsxs(Br,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[c?"Welcome":"Welcome back",", ",e.name||"User","! "]}),s.jsx("p",{className:"text-gray-600",children:c?"Welcome to Lyvo+! Let's help you find your perfect co-living space.":"Ready to find your perfect PG? Here's what's happening with your account."})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(xr,{className:"w-5 h-5 mr-2 text-red-600"}),"Find PGs Near You"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Interactive Map:"}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-blue-600",children:[s.jsx(Iue,{className:"w-3 h-3"}),s.jsx("span",{children:"Leaflet + OpenStreetMap"})]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Nbe,{mapType:"leaflet",onLocationSelect:$,placeholder:"Search location (e.g. Koramangala)"})}),s.jsxs("div",{className:"flex items-center bg-gray-50 px-4 py-2 rounded-lg border border-gray-200 min-w-[280px]",children:[s.jsxs("div",{className:"flex items-center space-x-2 mr-4",children:[s.jsx(Mue,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:["Radius: ",s.jsxs("span",{className:"text-red-600",children:[b," km"]})]})]}),s.jsx("input",{type:"range",min:"1",max:"20",value:b,onChange:ce,className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-600"})]})]}),x&&s.jsxs(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 bg-red-50 border border-red-100 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:s.jsx(xr,{className:"w-4 h-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:x.name}),s.jsx("p",{className:"text-xs text-gray-600 line-clamp-1",children:x.address})]})]}),s.jsx("button",{onClick:()=>{g(null),m("")},className:"text-xs text-red-600 hover:text-red-800 font-medium px-2",children:"Clear"})]}),C&&s.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200 flex items-center space-x-3",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Locating you..."})]}),H&&s.jsxs("div",{className:"mt-4 p-3 bg-red-50 rounded-lg border border-red-200 text-sm text-red-700 flex items-center justify-between",children:[s.jsx("span",{children:H}),s.jsx("button",{onClick:()=>G(null),className:"text-red-900 underline font-medium",children:"Dismiss"})]}),s.jsxs("div",{className:"mt-6 rounded-2xl overflow-hidden border border-gray-200 shadow-inner relative group",children:[s.jsx(wbe,{properties:x?j:k,selectedLocation:x,radius:b,onPropertyClick:se,height:"350px",showRadius:!!x}),s.jsx("div",{className:"absolute bottom-2 right-2 bg-white/90 backdrop-blur px-2 py-1 rounded text-[10px] text-gray-500 z-[400] shadow-sm pointer-events-none",children:"OpenStreetMap"})]}),j.length>0&&s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-6",children:[s.jsxs("h3",{className:"text-2xl font-black text-gray-900 font-outfit tracking-tight",children:["Found ",j.length," PGs nearby"]}),s.jsxs("span",{className:"text-[10px] bg-red-50 text-red-600 px-3 py-1 rounded-full font-bold w-fit border border-red-100 uppercase tracking-wider",children:["Within ",b," km"]})]}),s.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:j.map((oe,X)=>{var be,_e,Le;return s.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:X*.1,duration:.4},className:"group bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-[0_20px_50px_rgba(239,68,68,0.15)] hover:border-red-200 transition-all duration-500 cursor-pointer flex flex-col md:flex-row overflow-hidden md:min-h-[14rem] border-l-4 border-l-red-500",onClick:()=>se(oe.id),children:[s.jsxs("div",{className:"w-full md:w-48 h-44 md:h-full relative flex-shrink-0 overflow-hidden",children:[s.jsx("img",{src:oe.images&&oe.images[0]?oe.images[0]:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=400&fit=crop",alt:oe.name,className:"w-full h-full object-cover group-hover:scale-110 group-hover:brightness-90 transition-all duration-700 will-change-transform",onError:ke=>{ke.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=400&fit=crop"}}),s.jsx("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:s.jsxs("span",{className:"bg-white/95 backdrop-blur-sm text-gray-900 text-[10px] font-black px-2 py-1 rounded-lg shadow-md flex items-center gap-1",children:[s.jsx(xr,{className:"w-3 h-3 text-red-500"}),oe.distance]})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("div",{className:"bg-red-600 text-white p-1.5 rounded-full shadow-lg",children:s.jsx(Qx,{className:"w-3.5 h-3.5"})})})]}),s.jsxs("div",{className:"flex-1 p-4 flex flex-col min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-gray-900 line-clamp-1 group-hover:text-red-600 transition-colors text-lg leading-tight uppercase font-outfit",children:oe.name}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1.5 flex items-start gap-1.5 min-w-0",children:[s.jsx(xr,{className:"w-3.5 h-3.5 text-gray-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"line-clamp-2 leading-relaxed",children:oe.address})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-1 rounded-lg border border-yellow-100",children:[s.jsx(Sa,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),s.jsx("span",{className:"text-xs font-bold text-yellow-700",children:oe.rating})]}),oe.matchScore&&s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gradient-to-r from-red-600 to-red-400 text-white text-[9px] font-black shadow-sm uppercase tracking-tighter",children:[s.jsx(Qx,{className:"w-2.5 h-2.5"}),s.jsxs("span",{children:[oe.matchScore,"% Match"]})]})]})]}),s.jsxs("div",{className:"bg-red-50/40 rounded-xl p-2 md:p-3 border border-red-100/50 mb-3 group/room",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:`text-[10px] font-black uppercase tracking-wider ${((be=oe.roomDetails)==null?void 0:be.length)>0?"text-red-600":"text-gray-500"}`,children:((_e=oe.roomDetails)==null?void 0:_e.length)>0?"Available Rooms":"Occupancy Status"}),s.jsx(_h,{className:"w-3 h-3 text-red-400 group-hover/room:translate-x-1 transition-transform"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[oe.roomDetails&&oe.roomDetails.length>0?oe.roomDetails.slice(0,3).map((ke,Qe)=>{var Ye;return s.jsxs("div",{className:"bg-white px-2 py-1 rounded-lg shadow-sm border border-red-100 flex items-center gap-1.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 flex-shrink-0"}),s.jsxs("span",{className:"text-[10px] font-bold text-gray-800",children:["R",ke.room_number,": ",ke.room_type]}),s.jsxs("span",{className:"text-[10px] font-black text-red-600 ml-0.5",children:["",(Ye=ke.perPersonRent)==null?void 0:Ye.toLocaleString(),"/p"]})]},Qe)}):s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-gray-100 rounded-lg border border-gray-200 w-full",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 flex-shrink-0"}),s.jsx("span",{className:"text-[10px] text-gray-600 font-bold uppercase",children:"Fully Occupied"})]}),oe.roomDetails.length>3&&s.jsx("div",{className:"bg-white/50 px-2 py-1 rounded-lg border border-dashed border-red-200",children:s.jsxs("span",{className:"text-[9px] font-bold text-red-400",children:["+",oe.roomDetails.length-3]})})]})]}),s.jsxs("div",{className:"flex flex-row items-end justify-between mt-auto pt-3 border-t border-gray-50/50",children:[s.jsx("div",{className:"flex flex-col flex-shrink-0",children:s.jsx("div",{className:"flex items-baseline gap-1",children:((Le=oe.roomDetails)==null?void 0:Le.length)>0?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-2xl font-black text-gray-900 tracking-tighter font-outfit leading-none",children:oe.price}),s.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest leading-none",children:"/mo"})]}):s.jsx("span",{className:"text-sm font-black text-red-600 uppercase tracking-tight font-outfit",children:"FULLY OCCUPIED"})})}),s.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[s.jsx("div",{className:"hidden sm:flex gap-1 pr-2 border-r border-gray-100",children:oe.amenities.slice(0,2).map((ke,Qe)=>s.jsx("div",{title:ke,className:"p-1 bg-gray-50 rounded-md border border-gray-100",children:s.jsx(At,{className:"w-3 h-3 text-red-500 opacity-70"})},Qe))}),s.jsx("div",{className:"bg-gray-900 group-hover:bg-red-600 text-white p-2 rounded-xl shadow-lg transition-all duration-300 transform group-hover:scale-105",children:s.jsx(Ti,{className:"w-4 h-4"})})]})]})]})]},oe.id)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8 order-1 lg:order-1",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900 font-outfit",children:"Recent Searches"})}),s.jsxs("div",{className:"space-y-3",children:[O.map((oe,X)=>s.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+X*.1,duration:.5},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>$(oe),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(xr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:oe.location}),s.jsx("p",{className:"text-sm text-gray-500",children:oe.timestamp}),s.jsxs("p",{className:"text-xs text-blue-600",children:[oe.radius,"km radius"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[oe.pgCount>0&&s.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:[oe.pgCount," PGs"]}),s.jsx(Ti,{className:"w-4 h-4 text-gray-400"})]})]},oe.id)),O.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(xr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No recent searches yet"}),s.jsx("p",{className:"text-sm",children:"Search for a location to see it here"})]})]})]}),F.length>0&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.25},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 font-outfit flex items-center gap-2",children:[s.jsx(Ir,{className:"w-5 h-5 text-red-500"}),"Recently Viewed Rooms"]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:F.map((oe,X)=>{var be;return s.jsxs(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3+X*.1,duration:.4},className:"group bg-gray-50 rounded-xl border border-gray-100 p-3 hover:bg-white hover:shadow-[0_10px_30px_-5px_rgba(239,68,68,0.1)] hover:border-red-200 transition-all duration-300 cursor-pointer",onClick:()=>se(oe.id),children:[s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-3",children:s.jsx("img",{src:oe.image||oe.images&&oe.images[0]||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:oe.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 will-change-transform"})}),s.jsx("h4",{className:"font-bold text-gray-900 text-sm line-clamp-1 mb-1 group-hover:text-red-600 transition-colors font-outfit",children:oe.name}),s.jsxs("div",{className:"flex items-center justify-between",children:[((be=oe.roomDetails)==null?void 0:be.length)===0?s.jsx("span",{className:"text-red-600 font-black text-[10px] font-outfit uppercase bg-red-50 px-2 py-0.5 rounded",children:"Fully Occupied"}):s.jsx("span",{className:"text-red-600 font-black text-sm font-outfit",children:oe.price}),s.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:oe.propertyType})]})]},`view-${oe.id}-${X}`)})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900 font-outfit",children:"Available Rooms"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((oe,X)=>{var be,_e,Le;return s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+X*.1,duration:.5},className:"group bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden flex flex-col h-full",onClick:()=>se(oe.id),children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:oe.image,alt:oe.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:ke=>{ke.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 items-end",children:[s.jsxs("span",{className:"px-3 py-1 bg-white/95 backdrop-blur-sm text-blue-600 text-xs font-bold rounded-full shadow-sm",children:[oe.matchScore,"% Match"]}),((be=oe.roomDetails)==null?void 0:be.length)>0?s.jsxs("span",{className:"px-3 py-1 bg-green-500/90 backdrop-blur-sm text-white text-xs font-bold rounded-full shadow-sm flex items-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"})," Available"]}):s.jsxs("span",{className:"px-3 py-1 bg-red-600/90 backdrop-blur-sm text-white text-xs font-bold rounded-full shadow-sm flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"})," Fully Occupied"]})]}),s.jsx("div",{className:"absolute bottom-3 left-3 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsxs("p",{className:"text-xs font-medium flex items-center gap-1",children:[s.jsx(xr,{className:"w-3 h-3"})," View on Map"]})})]}),s.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 line-clamp-1 group-hover:text-blue-600 transition-colors",children:oe.name}),s.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[s.jsx(xr,{className:"w-3 h-3 text-gray-400"}),s.jsx("span",{className:"line-clamp-1",children:oe.location})]})]}),s.jsx("div",{className:"flex flex-col items-end",children:s.jsxs("div",{className:"flex items-center gap-1 bg-yellow-50 px-2 py-1 rounded-lg border border-yellow-100",children:[s.jsx(Sa,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"}),s.jsx("span",{className:"text-xs font-bold text-yellow-700",children:oe.rating})]})})]}),s.jsxs("div",{className:"space-y-3 mt-3 mb-4",children:[oe.roomDetails&&oe.roomDetails.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[oe.roomDetails.slice(0,4).map((ke,Qe)=>s.jsxs("span",{className:"text-[10px] bg-red-50 text-red-600 px-2 py-1 rounded border border-red-100 font-medium",children:["Room ",ke.room_number,": ",ke.room_type]},Qe)),oe.roomDetails.length>4&&s.jsxs("span",{className:"text-[10px] text-gray-400 font-medium",children:["+",oe.roomDetails.length-4]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[oe.amenities.slice(0,3).map((ke,Qe)=>s.jsx("span",{className:"px-2 py-1 bg-gray-50 text-gray-600 text-[10px] font-medium uppercase tracking-wide rounded-md border border-gray-100",children:ke.replace(/([A-Z])/g," $1").trim()},Qe)),oe.amenities.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-50 text-gray-400 text-[10px] font-medium rounded-md border border-gray-100",children:["+",oe.amenities.length-3," more"]})]})]}),s.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-50 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Starting from"}),s.jsx("p",{className:`text-xl font-bold ${((_e=oe.roomDetails)==null?void 0:_e.length)>0?"text-blue-600":"text-red-600"}`,children:((Le=oe.roomDetails)==null?void 0:Le.length)>0?s.jsxs(s.Fragment,{children:[oe.price,s.jsx("span",{className:"text-xs text-gray-400 font-normal ml-1",children:"/mo"})]}):"Fully Occupied"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[s.jsx("span",{className:"font-medium",children:"Deposit:"})," ",oe.securityDeposit]})]}),s.jsx("button",{className:"px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-blue-600 transition-colors shadow-sm group-hover:shadow-md",children:"View Details"})]})]})]},oe.id)})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-pink-50 rounded-lg border border-pink-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center",children:s.jsx(Zh,{className:"w-5 h-5 text-pink-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favorites"})]}),s.jsx("span",{className:"text-2xl font-bold text-pink-600",children:r.length})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Fr,{className:"w-5 h-5 text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Bookings"})]}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:a.length})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg border border-purple-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Zr,{className:"w-5 h-5 text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Searches"})]}),s.jsx("span",{className:"text-2xl font-bold text-purple-600",children:O.length})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Bookings"}),s.jsx("div",{className:"space-y-3",children:a.map((oe,X)=>s.jsxs(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4+X*.1,duration:.5},className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:oe.pgName}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsxs("p",{children:["Check-in: ",oe.checkIn]}),s.jsxs("p",{children:["Check-out: ",oe.checkOut]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:oe.amount}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${Z(oe.status)} flex items-center space-x-1`,children:[pe(oe.status),s.jsx("span",{className:"capitalize",children:oe.status})]})]})]},oe.id))}),s.jsx(Ft,{to:"/seeker-bookings",className:"mt-4 w-full text-center text-red-600 hover:text-red-700 text-sm font-medium block",children:"View All Bookings"})]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Quick Tips"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[s.jsx("li",{children:" Save PGs to favorites for quick access"}),s.jsx("li",{children:" Use filters to find exact matches"}),s.jsx("li",{children:" Read reviews before booking"}),s.jsx("li",{children:" Contact owners for questions"})]})]})]})]})]}),s.jsx(pK,{})]})},HG=({isOpen:e,onClose:t,owner:r})=>{if(!e)return null;const n=()=>{if(r!=null&&r.phone){const o=encodeURIComponent("Hi, I'm interested in your property and would like to get more information.");window.open(`https://wa.me/${r.phone.replace(/\D/g,"")}?text=${o}`,"_blank")}},a=()=>{if(r!=null&&r.email){const o=encodeURIComponent("Property Inquiry"),l=encodeURIComponent(`Hi ${r.name||"Owner"},

I'm interested in your property and would like to get more information.

Thank you!`);window.location.href=`mailto:${r.email}?subject=${o}&body=${l}`}},i=()=>{r!=null&&r.phone&&(window.location.href=`tel:${r.phone}`)};return s.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:s.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full p-6 transform transition-all",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(nr,{className:"w-6 h-6"})}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(cr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Owner"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get in touch with the property owner"})]})]})}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(cr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Owner Name"}),s.jsx("p",{className:"font-medium text-gray-900",children:(r==null?void 0:r.name)||(r==null?void 0:r.ownerName)||"Not available"})]})]}),(r==null?void 0:r.phone)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(bn,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-gray-900",children:r.phone})]})]}),(r==null?void 0:r.email)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(nn,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email Address"}),s.jsx("p",{className:"font-medium text-gray-900 break-all",children:r.email})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[(r==null?void 0:r.phone)&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(bn,{className:"w-5 h-5"}),"Call Owner"]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(dd,{className:"w-5 h-5"}),"WhatsApp"]})]}),(r==null?void 0:r.email)&&s.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(nn,{className:"w-5 h-5"}),"Send Email"]})]}),s.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," Please be respectful when contacting the property owner. Provide your details and requirements clearly."]})})]})})]})},_be=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,f]=_.useState(null),A=hr(),{toast:m}=no(),x=()=>{const N=localStorage.getItem("user");if(N)try{const j=JSON.parse(N);return j.id||j._id}catch(j){return console.error("Error parsing user data:",j),null}return null},g=async()=>{if(!x()){console.error("User ID not found"),n(!1);return}try{n(!0);const j=await qe.get("/property/favorites");if(j.status===200){const P=j.data;console.log("Favorites RAW data:",JSON.stringify(P,null,2));const k=(P.favorites||[]).map(T=>{var O,B,F,M,R,H,G,$,V,te,re,K,z,ee,W;return{...T,property:{...T.propertyId,propertyName:(O=T.propertyId)==null?void 0:O.property_name,address:(B=T.propertyId)==null?void 0:B.address,ownerName:((M=(F=T.propertyId)==null?void 0:F.owner_id)==null?void 0:M.name)||"Property Owner",ownerPhone:((H=(R=T.propertyId)==null?void 0:R.owner_id)==null?void 0:H.phone)||(($=(G=T.propertyId)==null?void 0:G.owner_id)==null?void 0:$.phoneNumber),ownerEmail:(te=(V=T.propertyId)==null?void 0:V.owner_id)==null?void 0:te.email,ownerProfilePicture:(K=(re=T.propertyId)==null?void 0:re.owner_id)==null?void 0:K.profilePicture},room:{...T.roomId,roomNumber:(z=T.roomId)==null?void 0:z.room_number,roomImage:(ee=T.roomId)==null?void 0:ee.room_image,toiletImage:(W=T.roomId)==null?void 0:W.toilet_image}}});t(k),l(k)}else console.error("Failed to fetch favorites")}catch(j){console.error("Error fetching favorites:",j)}finally{n(!1)}},y=async(N,j,P)=>{const k=x();if(k)try{const T=await qe.post("/property/favorites/remove",{userId:k,propertyId:j,roomId:P});T.status===200?T.data.success&&(t(B=>B.filter(F=>F._id!==N)),l(B=>B.filter(F=>F._id!==N)),m({title:"Removed from Favorites",description:"Property has been removed from your favorites"})):(console.error("Failed to remove from favorites"),m({title:"Error",description:"Failed to remove from favorites",variant:"destructive"}))}catch(T){console.error("Error removing from favorites:",T),m({title:"Error",description:"Failed to remove from favorites",variant:"destructive"})}};_.useEffect(()=>{if(a){const N=e.filter(j=>{var B,F,M,R,H;const P=((F=(B=j.property)==null?void 0:B.propertyName)==null?void 0:F.toLowerCase())||"",k=(M=j.property)!=null&&M.address?typeof j.property.address=="string"?j.property.address.toLowerCase():`${j.property.address.street||""} ${j.property.address.city||""} ${j.property.address.state||""}`.toLowerCase():"",T=((H=(R=j.room)==null?void 0:R.roomNumber)==null?void 0:H.toLowerCase())||"",O=a.toLowerCase();return P.includes(O)||k.includes(O)||T.includes(O)});l(N)}else l(e)},[e,a]),_.useEffect(()=>{g()},[]);const v=N=>{switch(N.toLowerCase()){case"wifi":return s.jsx(im,{className:"w-4 h-4"});case"ac":return s.jsx(VV,{className:"w-4 h-4"});case"food":return s.jsx(Hg,{className:"w-4 h-4"});case"parking":return s.jsx(cc,{className:"w-4 h-4"});case"security":return s.jsx(er,{className:"w-4 h-4"});default:return s.jsx(Zr,{className:"w-4 h-4"})}},b=N=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(N),w=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),C=N=>{var j,P,k,T;f({name:(j=N.property)==null?void 0:j.ownerName,phone:(P=N.property)==null?void 0:P.ownerPhone,email:(k=N.property)==null?void 0:k.ownerEmail,ownerName:(T=N.property)==null?void 0:T.ownerName}),d(!0)};return r?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your favorites..."})]})})}):s.jsxs(Br,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Favorites"}),s.jsx("p",{className:"text-gray-600",children:"Properties and rooms you've saved for later."})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsx("div",{className:"flex flex-col lg:flex-row gap-4",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search your favorites...",value:a,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",o.length," of ",e.length," favorites"]}),s.jsx("button",{onClick:g,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Refresh"})]})]}),o.length===0?s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Zh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Favorites Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.length===0?"Start exploring properties and add them to your favorites to see them here!":"No favorites match your current search. Try adjusting your search criteria."}),e.length===0&&s.jsx("button",{onClick:()=>A("/seeker-dashboard"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]}):s.jsx("div",{className:"space-y-6",children:o.map((N,j)=>{var P,k,T,O,B,F,M,R,H,G;return s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1+j*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"lg:w-80 flex-shrink-0",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:((P=N.room)==null?void 0:P.roomImage)||((T=(k=N.property)==null?void 0:k.images)==null?void 0:T[0])||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:((O=N.property)==null?void 0:O.propertyName)||"Property",className:"w-full h-48 object-cover rounded-lg",onError:$=>{$.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop"}}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("button",{onClick:()=>y(N._id,N.propertyId,N.roomId),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:s.jsx(LA,{className:"w-4 h-4"})})}),N.room&&s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs("span",{className:"px-3 py-1 bg-black bg-opacity-70 text-white text-sm font-medium rounded-lg",children:["Room ",N.room.roomNumber]})})]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:((B=N.property)==null?void 0:B.propertyName)||"Unnamed Property"})]}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[s.jsx(xr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(F=N.property)!=null&&F.address?typeof N.property.address=="string"?N.property.address:`${N.property.address.street||""}, ${N.property.address.city||""}, ${N.property.address.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Address not available"})]}),N.room&&s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(Ai,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:["Room ",N.room.roomNumber]}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:N.room.roomType}),N.room.bedType&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:N.room.bedType})]})]}),((M=N.property)==null?void 0:M.propertyType)&&s.jsx("div",{className:"inline-block mb-2",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:N.property.propertyType})}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Fr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Added on ",w(N.addedAt)]})]})]}),s.jsxs("div",{className:"mt-4 lg:mt-0 lg:text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(R=N.room)!=null&&R.rent?b(N.room.rent):"Contact for Price"}),s.jsx("div",{className:"text-sm text-gray-600",children:N.room?"per month":"Property"})]})]}),((H=N.property)==null?void 0:H.amenities)&&Object.keys(N.property.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Property Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(N.property.amenities).filter(([$,V])=>V===!0).slice(0,6).map(([$,V])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[v($),$]},$))})]}),((G=N.room)==null?void 0:G.amenities)&&Object.keys(N.room.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(N.room.amenities).filter(([$,V])=>V===!0).slice(0,6).map(([$,V])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[v($),$]},$))})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:()=>{var $;return A(`/seeker/property/${($=N.property)==null?void 0:$._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Ir,{className:"w-4 h-4"}),"View Property"]}),N.room&&s.jsxs("button",{onClick:()=>{var $;return A(`/seeker/room/${($=N.room)==null?void 0:$._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(Ai,{className:"w-4 h-4"}),"View Room"]}),s.jsxs("button",{onClick:()=>C(N),className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(dd,{className:"w-4 h-4"}),"Contact Owner"]})]})]})]})})},N._id)})})]}),s.jsx(HG,{isOpen:c,onClose:()=>d(!1),owner:u})]})},Cbe=()=>{var ce,ye,Ae,xe,le;const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState([]),[o,l]=_.useState("all"),[c,d]=_.useState(""),[u,f]=_.useState(!1),[A,m]=_.useState(null),[x,g]=_.useState(!1),[y,v]=_.useState(null),[b,w]=_.useState(!1),[C,N]=_.useState(!1),[j,P]=_.useState(null),[k,T]=_.useState(""),[O,B]=_.useState(!1),F=hr(),{toast:M}=no(),R=()=>{const Z=localStorage.getItem("user");if(Z)try{const pe=JSON.parse(Z);return pe.id||pe._id}catch(pe){return console.error("Error parsing user data:",pe),null}return null},H=async()=>{if(!R()){console.error("User ID not found"),n(!1);return}try{n(!0),n(!0);const pe=await qe.get("/property/user/bookings");if(pe.status===200){const oe=pe.data;console.log("Bookings data received:",oe);const X=(oe.bookings||[]).map(be=>{var Le,ke,Qe,Ye,it,Oe,Ge,mt,ft,Ie,Je,ue,Se,Fe,Ee,De,ut,Nt,Pt,ht,Xe,Ze,ct,tt,ze,wt,Ut,$r,Or,Vr,tn,Bt,es,vs,Fn;const _e={...be,property:{...be.propertySnapshot,_id:((Le=be.propertyId)==null?void 0:Le._id)||be.propertyId,propertyName:((ke=be.propertyId)==null?void 0:ke.property_name)||((Qe=be.propertyId)==null?void 0:Qe.propertyName)||((Ye=be.propertySnapshot)==null?void 0:Ye.name),images:((it=be.propertyId)==null?void 0:it.images)||((Oe=be.propertySnapshot)==null?void 0:Oe.images)||[(Ge=be.propertySnapshot)==null?void 0:Ge.image],address:((mt=be.propertyId)==null?void 0:mt.address)||((ft=be.propertySnapshot)==null?void 0:ft.address),security_deposit:((Ie=be.propertyId)==null?void 0:Ie.security_deposit)||((Je=be.propertyId)==null?void 0:Je.securityDeposit)||((ue=be.propertySnapshot)==null?void 0:ue.security_deposit)},room:{...be.roomSnapshot,_id:((Se=be.roomId)==null?void 0:Se._id)||be.roomId,roomNumber:((Fe=be.roomId)==null?void 0:Fe.room_number)||((Ee=be.roomId)==null?void 0:Ee.roomNumber)||((De=be.roomSnapshot)==null?void 0:De.roomNumber),roomImage:((ut=be.roomId)==null?void 0:ut.room_image)||((Nt=be.roomId)==null?void 0:Nt.roomImage)||((ht=(Pt=be.roomSnapshot)==null?void 0:Pt.images)==null?void 0:ht.room)||((Xe=be.roomSnapshot)==null?void 0:Xe.roomImage)||((ct=(Ze=be.roomSnapshot)==null?void 0:Ze.images)==null?void 0:ct[0]),toiletImage:((tt=be.roomId)==null?void 0:tt.toilet_image)||((ze=be.roomId)==null?void 0:ze.toiletImage)||((Ut=(wt=be.roomSnapshot)==null?void 0:wt.images)==null?void 0:Ut.toilet)||(($r=be.roomSnapshot)==null?void 0:$r.toiletImage),rent:((Or=be.roomId)==null?void 0:Or.rent)||((Vr=be.roomSnapshot)==null?void 0:Vr.rent),roomType:((tn=be.roomId)==null?void 0:tn.room_type)||((Bt=be.roomId)==null?void 0:Bt.roomType)||((es=be.roomSnapshot)==null?void 0:es.roomType)}};return console.log("[DEBUG] Final Mapped booking:",_e._id,{propertyImage:(vs=_e.property)==null?void 0:vs.images,roomImage:(Fn=_e.room)==null?void 0:Fn.roomImage,payment:_e.payment}),_e});t(X),i(X)}else console.error("Failed to fetch bookings")}catch(pe){console.error("Error fetching bookings:",pe)}finally{n(!1)}},G=Z=>{v(Z),g(!0)},$=()=>{g(!1),v(null),w(!1)},V=Z=>{P(Z),T(Z.checkInDate?new Date(Z.checkInDate).toISOString().split("T")[0]:""),N(!0)},te=()=>{N(!1),P(null),T(""),B(!1)},re=async()=>{if(y)try{w(!0);const Z=await qe.delete(`/property/bookings/${y._id}`);if(Z.status===200)M({title:"Success",description:(y==null?void 0:y.status)==="rejected"?"Rejected booking removed successfully":"Booking cancelled and removed successfully",variant:"default"}),H(),window.dispatchEvent(new Event("booking-cancelled")),$();else{const pe=Z.data||{};M({title:"Error",description:pe.message||"Failed to cancel booking",variant:"destructive"})}}catch(Z){console.error("Error cancelling booking:",Z),M({title:"Error",description:"Failed to cancel booking. Please try again.",variant:"destructive"})}finally{w(!1)}},K=async()=>{if(!(!j||!k))try{B(!0);const Z=await qe.post(`/property/user/check-in/${j._id}`,{checkInDate:k});if(Z.status===200)M({title:"Success",description:"Check-in date marked successfully",variant:"default"}),H(),te();else{const pe=Z.data||{};M({title:"Error",description:pe.message||"Failed to mark check-in date",variant:"destructive"})}}catch(Z){console.error("Error marking check-in:",Z),M({title:"Error",description:"Failed to mark check-in date. Please try again.",variant:"destructive"})}finally{B(!1)}};_.useEffect(()=>{let Z=e;o!=="all"&&(Z=Z.filter(pe=>pe.status===o)),c&&(Z=Z.filter(pe=>{var Le,ke,Qe,Ye,it;const oe=((ke=(Le=pe.property)==null?void 0:Le.propertyName)==null?void 0:ke.toLowerCase())||"",X=((Ye=(Qe=pe.room)==null?void 0:Qe.roomNumber)==null?void 0:Ye.toLowerCase())||"";let be="";(it=pe.property)!=null&&it.address&&(typeof pe.property.address=="string"?be=pe.property.address.toLowerCase():be=`${pe.property.address.street||""} ${pe.property.address.city||""} ${pe.property.address.state||""} ${pe.property.address.pincode||""}`.toLowerCase());const _e=c.toLowerCase();return oe.includes(_e)||X.includes(_e)||be.includes(_e)})),i(Z)},[e,o,c]),_.useEffect(()=>{H()},[]);const z=(Z,pe=null)=>{switch(Z){case"confirmed":case"approved":return{color:"text-green-600 bg-green-100",icon:s.jsx(At,{className:"w-4 h-4"}),text:"Approved"};case"checked_in":return{color:"text-blue-600 bg-blue-100",icon:s.jsx(At,{className:"w-4 h-4"}),text:"Checked In"};case"pending_approval":return{color:"text-yellow-600 bg-yellow-100",icon:s.jsx(Hn,{className:"w-4 h-4"}),text:"Pending Approval"};case"payment_pending":return{color:"text-orange-600 bg-orange-100",icon:s.jsx(Hn,{className:"w-4 h-4"}),text:"Payment Pending"};case"rejected":return{color:"text-red-600 bg-red-100",icon:s.jsx(rr,{className:"w-4 h-4"}),text:"Rejected"};case"checked_out":return{color:"text-gray-600 bg-gray-200",icon:s.jsx($a,{className:"w-4 h-4"}),text:"Checked Out"};case"cancelled":return{color:"text-gray-600 bg-gray-100",icon:s.jsx(rr,{className:"w-4 h-4"}),text:pe==="user"?"Cancelled by User":"Cancelled"};default:return{color:"text-gray-600 bg-gray-100",icon:s.jsx(Hn,{className:"w-4 h-4"}),text:"Unknown"}}},ee=Z=>Z?new Date(Z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not specified",W=Z=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Z),ne=Z=>{var oe,X,be;const pe=Z.ownerId&&typeof Z.ownerId=="object"?Z.ownerId:Z.ownerSnapshot||{name:(oe=Z.property)==null?void 0:oe.ownerName,phone:(X=Z.property)==null?void 0:X.ownerPhone,email:(be=Z.property)==null?void 0:be.ownerEmail};console.log("[DEBUG] Opening contact modal with owner:",pe),m(pe),f(!0)},se=Z=>{switch(Z.toLowerCase()){case"wifi":return s.jsx(im,{className:"w-4 h-4"});case"parking":return s.jsx(cc,{className:"w-4 h-4"});case"security":return s.jsx(er,{className:"w-4 h-4"});case"food":return s.jsx(Hg,{className:"w-4 h-4"});case"gym":return s.jsx(QV,{className:"w-4 h-4"});case"cctv":return s.jsx(ms,{className:"w-4 h-4"});default:return s.jsx(Zr,{className:"w-4 h-4"})}};return r?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your bookings..."})]})})}):s.jsxs(Br,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Bookings"}),s.jsx("p",{className:"text-gray-600",children:"Manage and track all your room bookings and reservations."})]}),e.some(Z=>Z.status==="pending_approval"&&!Z.checkInDate)&&s.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-8 p-4 bg-purple-50 border border-purple-200 rounded-xl flex items-start gap-4 shadow-sm",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shrink-0",children:s.jsx($t,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-purple-900 font-bold",children:"Action Required: Set Check-in Date"}),s.jsxs("p",{className:"text-purple-700 text-sm mt-1",children:["For bookings pending approval, please set your preferred check-in date. ",s.jsx("b",{children:"Note: Owner approval is typically granted only after you've specified a check-in date."})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by property name, room number, or address...",value:c,onChange:Z=>d(Z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsx("div",{className:"lg:w-64",children:s.jsxs("select",{value:o,onChange:Z=>l(Z.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"pending_approval",children:"Pending Approval"}),s.jsx("option",{value:"payment_pending",children:"Payment Pending"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",a.length," of ",e.length," bookings"]}),s.jsx("button",{onClick:H,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Refresh"})]})]}),a.length===0?s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Fr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Bookings Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.length===0?"You haven't made any bookings yet. Start exploring properties to book your perfect room!":"No bookings match your current filters. Try adjusting your search criteria."}),e.length===0&&s.jsx("button",{onClick:()=>F("/seeker-dashboard"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]}):s.jsx("div",{className:"space-y-6",children:a.map((Z,pe)=>{var X,be,_e,Le,ke,Qe,Ye,it,Oe,Ge,mt,ft,Ie,Je,ue,Se,Fe,Ee,De,ut,Nt,Pt,ht,Xe,Ze,ct,tt,ze,wt,Ut,$r,Or,Vr,tn,Bt,es,vs,Fn,os,br,Et,An,aa,Ks,ls,cs,ds,kn,ot,St,Tt,vt,Dt,Nn,Ur,ts;const oe=z(Z.status,Z.cancelledBy);return console.log("Booking status:",Z.status,"Booking ID:",Z._id),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1+pe*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"lg:w-80 flex-shrink-0",children:[Z.status==="rejected"?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full h-48 bg-red-50 border-2 border-red-200 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(rr,{className:"w-12 h-12 text-red-400 mx-auto mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Booking Rejected"}),s.jsx("p",{className:"text-red-500 text-sm",children:"Room details unavailable"})]})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${oe.color}`,children:[oe.icon,oe.text]})})]}):s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:((X=Z.room)==null?void 0:X.roomImage)||((be=Z.room)==null?void 0:be.room_image)||((_e=Z.room)==null?void 0:_e.toilet_image)||((Le=Z.room)==null?void 0:Le.toiletImage)||((Qe=(ke=Z.room)==null?void 0:ke.images)==null?void 0:Qe.room)||((it=(Ye=Z.room)==null?void 0:Ye.images)==null?void 0:it.toilet)||(Array.isArray((Oe=Z.property)==null?void 0:Oe.images)?Z.property.images[0]:((mt=(Ge=Z.property)==null?void 0:Ge.images)==null?void 0:mt.front)||((Je=(Ie=(ft=Z.property)==null?void 0:ft.images)==null?void 0:Ie.gallery)==null?void 0:Je[0]))||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:`Room ${((ue=Z.room)==null?void 0:ue.roomNumber)||"N/A"} - ${((Se=Z.property)==null?void 0:Se.propertyName)||"Property"}`,className:"w-full h-48 object-cover rounded-lg",onError:Tr=>{Tr.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop"}}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${oe.color}`,children:[oe.icon,oe.text]})}),s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs("span",{className:"px-3 py-1 bg-black bg-opacity-70 text-white text-sm font-medium rounded-lg",children:["Room ",((Fe=Z.room)==null?void 0:Fe.roomNumber)||"N/A"]})})]}),Z.status!=="rejected"&&(((De=(Ee=Z.property)==null?void 0:Ee.images)==null?void 0:De[0])||((Nt=(ut=Z.property)==null?void 0:ut.images)==null?void 0:Nt.front))&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[s.jsx(Zr,{className:"w-3 h-3"}),s.jsx("span",{children:"Property View"})]}),s.jsx("img",{src:Array.isArray((Pt=Z.property)==null?void 0:Pt.images)?Z.property.images[0]:((Xe=(ht=Z.property)==null?void 0:ht.images)==null?void 0:Xe.front)||((tt=(ct=(Ze=Z.property)==null?void 0:Ze.images)==null?void 0:ct.gallery)==null?void 0:tt[0]),alt:Z.property.propertyName||"Property",className:"w-full h-20 object-cover rounded-lg"})]}),Z.status!=="rejected"&&(((ze=Z.room)==null?void 0:ze.images)&&Z.room.images.length>1||((wt=Z.room)==null?void 0:wt.roomImage)&&((Ut=Z.room)==null?void 0:Ut.toiletImage))&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[s.jsx(ms,{className:"w-3 h-3"}),s.jsx("span",{children:"Room Gallery"})]}),s.jsxs("div",{className:"flex gap-1 overflow-x-auto",children:[(($r=Z.room)==null?void 0:$r.roomImage)&&s.jsx("img",{src:Z.room.roomImage,alt:`Room ${((Or=Z.room)==null?void 0:Or.roomNumber)||"N/A"} - Main`,className:"w-16 h-12 object-cover rounded border",onError:Tr=>{Tr.target.style.display="none"}}),((Vr=Z.room)==null?void 0:Vr.toiletImage)&&s.jsx("img",{src:Z.room.toiletImage,alt:`Room ${((tn=Z.room)==null?void 0:tn.roomNumber)||"N/A"} - Bathroom`,className:"w-16 h-12 object-cover rounded border",onError:Tr=>{Tr.target.style.display="none"}}),Array.isArray((Bt=Z.room)==null?void 0:Bt.images)&&Z.room.images.slice(0,2).map((Tr,ve)=>{var nt;return s.jsx("img",{src:Tr,alt:`Room ${((nt=Z.room)==null?void 0:nt.roomNumber)||"N/A"} - Photo ${ve+1}`,className:"w-16 h-12 object-cover rounded border",onError:lt=>{lt.target.style.display="none"}},ve)})]})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:((es=Z.property)==null?void 0:es.propertyName)||"Unnamed Property"})]}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[s.jsx(xr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(vs=Z.property)!=null&&vs.address?typeof Z.property.address=="string"?Z.property.address:`${Z.property.address.street||""}, ${Z.property.address.city||""}, ${Z.property.address.state||""} ${Z.property.address.pincode||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Address not available"})]}),Z.status!=="rejected"&&s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(Ai,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:["Room ",((Fn=Z.room)==null?void 0:Fn.roomNumber)||"N/A"]}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:((os=Z.room)==null?void 0:os.roomType)||"Standard Room"}),((br=Z.room)==null?void 0:br.bedType)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:Z.room.bedType})]})]}),Z.status!=="rejected"&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-2",children:[((Et=Z.room)==null?void 0:Et.occupancy)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Wr,{className:"w-3 h-3"}),s.jsxs("span",{children:[Z.room.occupancy," person",Z.room.occupancy>1?"s":""]})]}),((An=Z.room)==null?void 0:An.roomSize)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zr,{className:"w-3 h-3"}),s.jsxs("span",{children:[Z.room.roomSize," sq ft"]})]})]}),((aa=Z.property)==null?void 0:aa.propertyType)&&s.jsx("div",{className:"inline-block",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:Z.property.propertyType})})]}),s.jsx("div",{className:"mt-4 lg:mt-0 lg:text-right",children:Z.status==="rejected"?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-red-600 mb-1",children:"Booking Rejected"}),s.jsx("div",{className:"text-sm text-red-500",children:"Room unavailable"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:W(((Ks=Z.room)==null?void 0:Ks.rent)||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"per month"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Check-in:"}),s.jsx("span",{children:ee(Z.checkInDate)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Check-out:"}),s.jsx("span",{children:ee(Z.checkOutDate)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Security Deposit:"}),s.jsx("span",{children:W(((ls=Z.payment)==null?void 0:ls.securityDeposit)||((cs=Z.property)==null?void 0:cs.security_deposit)||((ds=Z.property)==null?void 0:ds.securityDeposit)||Z.securityDeposit||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Amount:"}),s.jsx("span",{className:"font-medium",children:W(((kn=Z.payment)==null?void 0:kn.totalAmount)||Z.totalAmount||(((ot=Z.room)==null?void 0:ot.rent)||0)+(((St=Z.payment)==null?void 0:St.securityDeposit)||((Tt=Z.property)==null?void 0:Tt.security_deposit)||0)||0)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Info"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Payment Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${((vt=Z.payment)==null?void 0:vt.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:((Dt=Z.payment)==null?void 0:Dt.paymentStatus)||"Pending"})]}),((Nn=Z.payment)==null?void 0:Nn.paidAt)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Paid On:"}),s.jsx("span",{children:ee(Z.payment.paidAt)})]}),Z.approvedAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Approved On:"}),s.jsx("span",{children:ee(Z.approvedAt)})]})]})]})]}),Z.status!=="rejected"&&((Ur=Z.room)==null?void 0:Ur.amenities)&&Object.keys(Z.room.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Room Amenities"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(Z.room.amenities).filter(([Tr,ve])=>ve===!0).slice(0,6).map(([Tr,ve])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[se(Tr),Tr]},Tr)),Object.keys(Z.room.amenities).filter(Tr=>Z.room.amenities[Tr]===!0).length>6&&s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:["+",Object.keys(Z.room.amenities).filter(Tr=>Z.room.amenities[Tr]===!0).length-6," more"]})]})]}),((ts=Z.property)==null?void 0:ts.ownerName)&&s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Property Owner"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:Z.property.ownerName})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("button",{onClick:()=>F(`/booking-dashboard/${Z._id}`),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(Fr,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]}),s.jsxs("button",{onClick:()=>{var Tr;return F(`/seeker/property/${(Tr=Z.property)==null?void 0:Tr._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(Ir,{className:"w-4 h-4"}),s.jsx("span",{children:"View Property"})]}),Z.status!=="rejected"&&s.jsxs("button",{onClick:()=>{var Tr;return F(`/seeker/room/${(Tr=Z.room)==null?void 0:Tr._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(Ai,{className:"w-4 h-4"}),s.jsx("span",{children:"View Room"})]}),s.jsxs("button",{onClick:()=>ne(Z),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(bn,{className:"w-4 h-4"}),s.jsx("span",{children:"Contact Owner"})]}),Z.status!=="checked_in"&&Z.status!=="rejected"&&Z.status!=="checked_out"&&s.jsxs("button",{onClick:()=>V(Z),className:`flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r ${Z.checkInDate?"from-purple-600 to-purple-700":"from-purple-600 to-indigo-700 animate-pulse"} text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium`,children:[s.jsx(au,{className:"w-4 h-4"}),s.jsx("span",{children:Z.checkInDate?"Change Check-in":"Set Check-in Date"})]}),Z.status==="rejected"?s.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:"Booking was rejected by owner"}):Z.status==="checked_in"?s.jsx("div",{className:"text-center text-blue-600 text-sm py-2 font-medium",children:"Successfully Checked In"}):Z.status==="checked_out"?s.jsxs("div",{className:"text-center text-gray-600 text-sm py-2 font-medium",children:["Checked Out on ",Z.actualCheckOutDate?new Date(Z.actualCheckOutDate).toLocaleDateString():"Unknown Date"]}):s.jsxs("button",{onClick:()=>G(Z),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium border-2 border-red-800",children:[s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel Booking"})]})]})]})]})})},Z._id)})})]}),s.jsx(HG,{isOpen:u,onClose:()=>f(!1),owner:A}),s.jsx(Sr,{children:x&&s.jsx(s.Fragment,{children:s.jsx(J.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:$,children:s.jsxs(J.div,{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:Z=>Z.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(rr,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(y==null?void 0:y.status)==="rejected"?"Remove Booking":"Cancel Booking"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),s.jsx("button",{onClick:$,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:b,children:s.jsx(nr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($t,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium mb-1",children:"Warning"}),s.jsx("p",{className:"text-red-700 text-sm",children:(y==null?void 0:y.status)==="rejected"?"Are you sure you want to remove this rejected booking from your list? This action cannot be undone and the booking will be permanently removed.":"Are you sure you want to cancel this booking? This action cannot be undone and the booking will be permanently removed."})]})]})}),y&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Property:"}),s.jsx("span",{className:"font-medium",children:((ce=y.property)==null?void 0:ce.propertyName)||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Room:"}),s.jsxs("span",{className:"font-medium",children:["Room ",((ye=y.room)==null?void 0:ye.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${y.status==="confirmed"?"bg-green-100 text-green-800":y.status==="pending_approval"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:((Ae=y.status)==null?void 0:Ae.replace("_"," ").toUpperCase())||"N/A"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:$,disabled:b,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:((y==null?void 0:y.status)==="rejected","Keep Booking")}),s.jsx("button",{onClick:re,disabled:b,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:(y==null?void 0:y.status)==="rejected"?"Removing...":"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:(y==null?void 0:y.status)==="rejected"?"Remove Booking":"Cancel Booking"})]})})]})]})})})}),s.jsx(Sr,{children:C&&s.jsx(s.Fragment,{children:s.jsx(J.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:te,children:s.jsxs(J.div,{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:Z=>Z.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(au,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mark Check-in Date"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Select your check-in date"})]})]}),s.jsx("button",{onClick:te,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:O,children:s.jsx(nr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[j&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Property:"}),s.jsx("span",{className:"font-medium",children:((xe=j.property)==null?void 0:xe.propertyName)||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Room:"}),s.jsxs("span",{className:"font-medium",children:["Room ",((le=j.room)==null?void 0:le.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Current Check-in:"}),s.jsx("span",{className:"font-medium",children:ee(j.checkInDate)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Check-in Date *"}),s.jsx("input",{type:"date",id:"checkInDate",value:k,onChange:Z=>T(Z.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:O}),s.jsx("p",{className:"text-xs text-gray-500",children:"Select the date when you plan to check into the room"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:te,disabled:O,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:K,disabled:O||!k,className:"flex-1 px-4 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:O?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Marking..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark Check-in"})]})})]})]})})})})]})};var Vx=function(){return Vx=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Vx.apply(this,arguments)};var Sbe=_.createContext(void 0);function Bbe(){var e=_.useContext(Sbe);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}_.createContext(void 0);_.forwardRef(function(e,t){var r=Bbe(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Vx(Vx({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Vx({},e,{ref:t,type:"button",className:o,style:l}))});_.createContext(void 0);_.createContext(void 0);var Ad;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ad||(Ad={}));Ad.Selected;Ad.Disabled;Ad.Hidden;Ad.Today;Ad.RangeEnd;Ad.RangeMiddle;Ad.RangeStart;Ad.Outside;_.createContext(void 0);_.createContext(void 0);_.createContext(void 0);const kbe=h6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_n=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Ife:"button";return s.jsx(o,{className:fn(kbe({variant:t,size:r,className:e})),ref:i,...a})});_n.displayName="Button";const Ebe="http://localhost:5000/api",UC=String(Ebe).replace(/\/$/,""),Pbe=UC.endsWith("/api")?UC:`${UC}/api`,DC=`${Pbe}/behaviour`,Ibe=()=>{const e=hr(),[t,r]=_.useState(!0),[n,a]=_.useState([]),[i,o]=_.useState({}),[l,c]=_.useState(null),[d,u]=_.useState(0),f=localStorage.getItem("authToken"),A=localStorage.getItem("user");_.useEffect(()=>{try{const N=A?JSON.parse(A):null;if(N&&(N.isNewUser===!1||N.hasCompletedBehaviorQuestions)){e("/seeker-dashboard",{replace:!0});return}}catch{}if(!f||!A){e("/login",{replace:!0});return}(async()=>{var N,j,P,k;try{try{const O=await Bn.get(`${DC}/status`,{headers:{Authorization:`Bearer ${f}`}});if((N=O==null?void 0:O.data)!=null&&N.completed){const B=JSON.parse(localStorage.getItem("user")||"{}");localStorage.setItem("user",JSON.stringify({...B,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),e("/seeker-dashboard",{replace:!0});return}}catch{}const T=await Bn.get(`${DC}/questions`,{headers:{Authorization:`Bearer ${f}`}});a(T.data.questions||[])}catch(T){const O=(j=T==null?void 0:T.response)==null?void 0:j.status,B=((k=(P=T==null?void 0:T.response)==null?void 0:P.data)==null?void 0:k.message)||(T==null?void 0:T.message)||"Failed to load questions. Please try again.";if(c(B),O===401){localStorage.removeItem("authToken"),localStorage.removeItem("user"),e("/login");return}}finally{r(!1)}})()},[e,f,A]);const m=(C,N)=>{o(j=>({...j,[C]:N})),l&&c(null)},x=n[d],g=x?i[x.id]:void 0,y=g!=null&&g!=="",v=()=>{if(!y){c("Please select an option to continue.");return}c(null),u(C=>Math.min(C+1,((n==null?void 0:n.length)||1)-1))},b=()=>{c(null),u(C=>Math.max(C-1,0))},w=async()=>{var C,N;if(!y){c("Please select an option to continue.");return}try{c(null),await Bn.post(`${DC}/answers`,{answers:i},{headers:{Authorization:`Bearer ${f}`}});const j=JSON.parse(localStorage.getItem("user"));localStorage.setItem("user",JSON.stringify({...j,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),e("/seeker-dashboard",{replace:!0})}catch(j){const P=((N=(C=j==null?void 0:j.response)==null?void 0:C.data)==null?void 0:N.message)||(j==null?void 0:j.message)||"Failed to submit. Please try again.";c(P)}};return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading questions..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-stone-100",children:[s.jsx(tW,{onMenuToggle:()=>{}}),s.jsx("div",{className:"pt-20"}),s.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tell us about you"}),s.jsx("p",{className:"text-gray-600",children:"This helps us personalize your co-living matches."})]}),l&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),s.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden mb-6",children:s.jsx("div",{className:"h-full bg-red-500 transition-all duration-300",style:{width:`${n.length?(d+1)/n.length*100:0}%`}})}),s.jsx(Sr,{mode:"wait",children:n[d]&&s.jsxs(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("label",{className:"block text-base sm:text-lg font-semibold text-gray-900",children:[n[d].text," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[d+1,"/",n.length]})]}),!n[d].type&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n[d].options.map(C=>s.jsxs(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>m(n[d].id,C),className:`flex items-center gap-3 px-4 py-3 rounded-xl border text-sm font-medium transition shadow-sm ${i[n[d].id]===C?"bg-red-600 text-white border-red-600 shadow":"bg-white text-gray-800 border-gray-300 hover:border-red-400"}`,children:[s.jsx("span",{className:"text-lg",children:Tbe(C)}),s.jsx("span",{className:"truncate",children:C})]},C))}),n[d].type==="date"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("input",{type:"date",value:i[n[d].id]||"",onChange:C=>m(n[d].id,C.target.value),className:"w-full p-4 border border-gray-300 rounded-xl text-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-all shadow-sm"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Please enter your date of birth."})]}),!y&&s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Please select one option to continue"}),(()=>{const C=y;return s.jsxs("div",{className:"pt-2 flex items-center justify-between mt-8",children:[s.jsx("button",{onClick:b,disabled:d===0,className:"px-4 py-2 rounded-lg border text-sm disabled:opacity-40 hover:bg-gray-50 transition-colors",children:"Back"}),d<n.length-1?s.jsx("button",{onClick:v,disabled:!C,className:`px-5 py-2 rounded-lg text-sm font-semibold transition-all ${C?"bg-red-600 text-white hover:bg-red-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Next"}):s.jsx("button",{onClick:w,disabled:!C,className:`px-5 py-2 rounded-lg text-sm font-semibold transition-all ${C?"bg-red-600 text-white hover:bg-red-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Finish"})]})})()]},n[d].id)})]})]})};function Tbe(e){const t=String(e||"").toLowerCase();return t.includes("night")?"":t.includes("early")?"":t.includes("flex")?"":t.includes("outgoing")?"":t.includes("social")?"":t.includes("private")?"":t.includes("smoke")||t.includes("drink")?"":t.includes("yes")?"":t.includes("no")?"":t.includes("clean")?"":t.includes("veg")?"":t.includes("non")?"":t.includes("vegan")?"":t.includes("cook")?"":t.includes("order")?"":t.includes("quiet")?"":t.includes("noise")?"":t.includes("privacy")?"":t.includes("match")&&t.includes("male")===!1&&t.includes("female")===!1?"":t==="male"?"":t==="female"?"":""}const Obe=()=>{const e=hr(),[t,r]=_.useState(!1),[n,a]=_.useState(null),[i,o]=_.useState(!0),[l,c]=_.useState(null),[d,u]=_.useState(!1),[f,A]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,x]=_.useState({current:!1,new:!1,confirm:!1}),[g,y]=_.useState({type:"",message:""}),[v,b]=_.useState({}),[w,C]=_.useState(!1),[N,j]=_.useState({name:"",email:"",phone:"",location:"",age:"",occupation:"",gender:"",joinDate:"",bio:"",isVerified:!1,trustScore:0,profilePicture:""}),P=R=>{if(!R)return!1;const H=!!R.phone,G=!(R.age===void 0||R.age===null||R.age==="")&&Number(R.age)>0,$=!!R.occupation,V=!!R.gender;return H&&G&&$&&V};_.useEffect(()=>{(async()=>{try{const H=localStorage.getItem("authToken"),G=localStorage.getItem("user");if(!H||!G){a(null),o(!1),e("/login");return}let $;try{$=JSON.parse(G)}catch(te){console.error("SeekerProfile: Error parsing user data:",te),c("Failed to load user data. Please log in again."),o(!1),setTimeout(()=>e("/login"),2e3);return}if($.role!==1){console.warn("SeekerProfile: User role mismatch, redirecting"),e("/login");return}a($),console.log("SeekerProfile: Loading user data from localStorage:",{id:$._id,name:$.name,age:$.age,gender:$.gender,phone:$.phone,occupation:$.occupation});const V=!$.age||!$.gender||!$.phone||!$.occupation;if(console.log("SeekerProfile: Should fetch fresh data from API:",V),console.log("SeekerProfile: Missing fields:",{age:!$.age,gender:!$.gender,phone:!$.phone,occupation:!$.occupation}),V)try{console.log("SeekerProfile: Fetching fresh user data from API...");const re=(await qe.get(`/user/profile/${$._id}`)).data;if(re){console.log("SeekerProfile: Fresh data from API:",re);const K={...$,...re};localStorage.setItem("user",JSON.stringify(K)),a(K),j(ee=>({...ee,name:re.name||"",email:re.email||"",profilePicture:re.profilePicture||"",phone:re.phone||"",location:re.location||"",age:re.age||"",occupation:re.occupation||"",gender:re.gender||"",bio:re.bio||"",isVerified:re.isVerified||!1,trustScore:95,joinDate:re.createdAt?new Date(re.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}));const z=[!re.phone,re.age===void 0||re.age===null||re.age==="",!re.occupation,!re.gender].some(Boolean);console.log("SeekerProfile: Profile completion check with fresh data:",{phone:re.phone,age:re.age,occupation:re.occupation,gender:re.gender,needsCompletion:z}),z&&(r(!0),C(!0))}else console.error("SeekerProfile: Failed to fetch fresh data from API"),j(z=>({...z,name:$.name||"",email:$.email||"",profilePicture:$.profilePicture||"",phone:$.phone||"",location:$.location||"",age:$.age||"",occupation:$.occupation||"",gender:$.gender||"",bio:$.bio||"",isVerified:$.isVerified||!1,trustScore:95,joinDate:$.createdAt?new Date($.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"})),[!$.phone,$.age===void 0||$.age===null||$.age==="",!$.occupation,!$.gender].some(Boolean)&&(r(!0),C(!0))}catch(te){console.error("SeekerProfile: Error fetching fresh data:",te),j(K=>({...K,name:$.name||"",email:$.email||"",profilePicture:$.profilePicture||"",phone:$.phone||"",location:$.location||"",age:$.age||"",occupation:$.occupation||"",gender:$.gender||"",bio:$.bio||"",isVerified:$.isVerified||!1,trustScore:95,joinDate:$.createdAt?new Date($.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"})),[!$.phone,$.age===void 0||$.age===null||$.age==="",!$.occupation,!$.gender].some(Boolean)&&(r(!0),C(!0))}else{j(re=>({...re,name:$.name||"",email:$.email||"",profilePicture:$.profilePicture||"",phone:$.phone||"",location:$.location||"",age:$.age||"",occupation:$.occupation||"",gender:$.gender||"",bio:$.bio||"",isVerified:$.isVerified||!1,trustScore:95,joinDate:$.createdAt?new Date($.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}));const te=[!$.phone,$.age===void 0||$.age===null||$.age==="",!$.occupation,!$.gender].some(Boolean);console.log("SeekerProfile: Profile completion check with localStorage data:",{phone:$.phone,age:$.age,occupation:$.occupation,gender:$.gender,needsCompletion:te}),te&&(r(!0),C(!0))}}catch(H){console.error("SeekerProfile: Error in fetchUserData:",H),c(`An error occurred: ${H.message}`),a(null),setTimeout(()=>e("/login"),2e3)}finally{o(!1)}})()},[e]);const k=(R,H)=>{j(G=>({...G,[R]:H}))},T=(R,H)=>{A(G=>({...G,[R]:H}))},O=R=>{x(H=>({...H,[R]:!H[R]}))},B=async()=>{try{y({type:"loading",message:"Saving changes..."});const R={},H=/^\+?[0-9]{7,14}$/;(!N.phone||!H.test(String(N.phone).trim()))&&(R.phone="Enter a valid phone number (7-14 digits).");const G=Number(N.age);if((!N.age||Number.isNaN(G)||G<1||G>120)&&(R.age="Age must be a number between 1 and 120."),(!N.occupation||String(N.occupation).trim().length<2)&&(R.occupation="Occupation is required."),(!N.gender||!["male","female","other"].includes(String(N.gender)))&&(R.gender="Select a gender option."),b(R),Object.keys(R).length>0){y({type:"error",message:"Please fix the highlighted fields."});return}if(!localStorage.getItem("authToken"))throw new Error("No authentication token found");const V={name:N.name,phone:N.phone,age:N.age?Number(N.age):null,occupation:N.occupation,gender:N.gender||null,bio:N.bio};console.log("SeekerProfile: Sending update payload:",V),console.log("SeekerProfile: User ID being used:",n._id);const re=(await qe.put(`/user/profile/${n._id}`,V)).data;console.log("SeekerProfile: API response:",re);const z={...JSON.parse(localStorage.getItem("user")),...re.user};localStorage.setItem("user",JSON.stringify(z)),a(z),j(ee=>({...ee,name:re.user.name||"",email:re.user.email||"",profilePicture:re.user.profilePicture||"",phone:re.user.phone||"",location:re.user.location||"",age:re.user.age||"",occupation:re.user.occupation||"",gender:re.user.gender||"",bio:re.user.bio||"",isVerified:re.user.isVerified||!1})),console.log("SeekerProfile: Updated profileData:",{age:re.user.age,gender:re.user.gender,phone:re.user.phone,occupation:re.user.occupation}),r(!1),y({type:"success",message:"Profile updated successfully!"}),window.dispatchEvent(new Event("lyvo-profile-update")),P({phone:re.user.phone,age:re.user.age,occupation:re.user.occupation,gender:re.user.gender})&&C(!1),setTimeout(()=>y({type:"",message:""}),3e3)}catch(R){y({type:"error",message:R.message||"Failed to update profile"}),setTimeout(()=>y({type:"",message:""}),3e3)}},F=R=>{j(H=>({...H,profilePicture:R})),y({type:"success",message:"Profile picture updated successfully!"}),setTimeout(()=>y({type:"",message:""}),3e3)},M=async()=>{try{if(f.newPassword!==f.confirmPassword){y({type:"error",message:"New passwords do not match"});return}if(f.newPassword.length<6){y({type:"error",message:"Password must be at least 6 characters long"});return}y({type:"loading",message:"Updating password..."}),await qe.post("/user/change-password",{currentPassword:f.currentPassword,newPassword:f.newPassword}),y({type:"success",message:"Password updated successfully!"}),u(!1),A({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>y({type:"",message:""}),3e3)}catch(R){y({type:"error",message:R.message||"Failed to update password"}),setTimeout(()=>y({type:"",message:""}),3e3)}};return s.jsx(Br,{children:i?s.jsx("div",{className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."}),l&&s.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg max-w-md mx-auto",children:s.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[s.jsx($t,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:l})]})})]})}):n?s.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:s.jsxs("div",{className:"relative min-h-[16rem] md:h-48 bg-gradient-to-r from-red-500/10 via-red-600/10 to-red-700/10 flex flex-col justify-end md:block",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-transparent"}),s.jsx("div",{className:"absolute top-4 right-4 md:top-6 md:right-8 z-10",children:s.jsxs(J.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!t),className:"bg-white/90 backdrop-blur-sm text-gray-700 px-3 py-1.5 md:px-4 md:py-2 rounded-xl font-medium flex items-center space-x-2 shadow-lg hover:bg-white transition-all duration-300 text-sm md:text-base",children:[t?s.jsx(nr,{className:"w-4 h-4"}):s.jsx(mA,{className:"w-4 h-4"}),s.jsx("span",{children:t?"Cancel":"Edit"})]})}),s.jsxs("div",{className:"relative p-6 pt-12 md:p-0 md:absolute md:bottom-6 md:left-8 flex flex-col md:flex-row items-center md:items-end space-y-3 md:space-y-0 md:space-x-6 w-full md:w-auto",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(A6,{currentImage:N.profilePicture,onImageUpdate:F,className:"w-20 h-20 md:w-24 md:h-24"}),N.isVerified&&s.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 md:w-6 md:h-6 bg-green-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:s.jsx(er,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"text-gray-900 pb-0 md:pb-2 text-center md:text-left",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-1",children:N.name||"User"}),s.jsxs("p",{className:"text-gray-600 flex items-center justify-center md:justify-start space-x-2 text-sm md:text-base",children:[s.jsx(Fr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Joined ",N.joinDate||"Recently"]})]})]})]})]})})}),s.jsx(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-8 flex justify-end",children:s.jsxs(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const R=Ip(n);e(R==="/seeker-profile"||R==="/onboarding"?"/seeker-dashboard":R)},className:"w-full sm:w-auto bg-gradient-to-r from-red-600 to-red-700 text-white px-8 py-3 rounded-xl font-bold flex items-center justify-center space-x-2 shadow-lg shadow-red-500/30 hover:shadow-red-500/40 transition-all duration-300",children:[s.jsx(Tue,{className:"w-5 h-5"}),s.jsx("span",{children:"Go to Dashboard"})]})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 md:p-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Personal Information"}),s.jsx("div",{className:"flex items-center space-x-2 self-start sm:self-auto",children:s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:[s.jsx(er,{className:"w-4 h-4"}),s.jsx("span",{children:"Verified"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),t?s.jsx("input",{type:"text",value:N.name,onChange:R=>k("name",R.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gender"}),t?s.jsxs("select",{value:N.gender,onChange:R=>k("gender",R.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${v.gender?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.gender?N.gender.charAt(0).toUpperCase()+N.gender.slice(1):"Not provided"}),t&&v.gender&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:v.gender})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(nn,{className:"w-4 h-4 mr-2 text-gray-400"}),N.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),t?s.jsx("input",{type:"tel",value:N.phone,onChange:R=>k("phone",R.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${v.phone?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(bn,{className:"w-4 h-4 mr-2 text-gray-400"}),N.phone||"Not provided"]}),t&&v.phone&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:v.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Age"}),t?s.jsx("input",{type:"number",min:0,max:120,value:N.age,onChange:R=>k("age",R.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${v.age?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,placeholder:"Your age"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.age||"Not provided"}),t&&v.age&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:v.age})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Occupation"}),t?s.jsx("input",{type:"text",value:N.occupation,onChange:R=>k("occupation",R.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${v.occupation?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,placeholder:"e.g., Student, Software Engineer"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.occupation||"Not provided"}),t&&v.occupation&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:v.occupation})]})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Trust Score"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:N.trustScore})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Excellent Profile"})]})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"w-full px-4 py-3 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-300 flex items-center justify-center space-x-2",children:[s.jsx(Ac,{className:"w-4 h-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]}),t&&s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:s.jsx("div",{className:"text-center mt-8",children:s.jsxs(J.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:B,disabled:g.type==="loading",className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Lv,{className:"w-5 h-5"}),s.jsx("span",{children:g.type==="loading"?"Saving...":"Save Changes"})]})})}),g.message&&lc.createPortal(s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`fixed top-20 right-4 z-[1300] px-6 py-3 rounded-xl shadow-lg ${g.type==="success"?"bg-green-100 border border-green-300 text-green-800":g.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-100 border border-blue-300 text-blue-800"}`,children:g.message}),document.body),w&&lc.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1300] p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full border border-blue-200",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Complete your profile to continue"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Phone, Age, Occupation, and Gender are required."})]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:[!N.phone&&s.jsx("li",{children:"Phone Number is missing"}),(N.age===void 0||N.age===null||N.age==="")&&s.jsx("li",{children:"Age is missing"}),!N.occupation&&s.jsx("li",{children:"Occupation is missing"}),!N.gender&&s.jsx("li",{children:"Gender is missing"})]})}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsx("button",{onClick:()=>{r(!0),C(!1)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Edit Now"}),s.jsx("button",{disabled:!P(N),onClick:()=>C(!1),className:`flex-1 px-4 py-2 rounded-lg ${P(N)?"bg-green-600 text-white hover:bg-green-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Continue"})]})]})}),document.body),d&&lc.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1300] p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-8 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Change Password"}),s.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(nr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.current?"text":"password",value:f.currentPassword,onChange:R=>T("currentPassword",R.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>O("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.current?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.new?"text":"password",value:f.newPassword,onChange:R=>T("newPassword",R.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>O("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.new?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.confirm?"text":"password",value:f.confirmPassword,onChange:R=>T("confirmPassword",R.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>O("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.confirm?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300",children:"Cancel"}),s.jsx("button",{onClick:M,disabled:g.type==="loading",className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-300 disabled:opacity-50",children:g.type==="loading"?"Updating...":"Update Password"})]})]})]})}),document.body)]})}):s.jsx("div",{className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(cr,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access your profile."}),s.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-lg font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200",children:"Go to Login"})]})})})};delete za.Icon.Default.prototype._getIconUrl;za.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Lbe=()=>{var k,T,O,B,F,M;const{id:e}=Su(),t=hr(),{toast:r}=no(),[n,a]=_.useState(null),[i,o]=_.useState(!0),[l,c]=_.useState(!1),[d,u]=_.useState([0,0]),[f,A]=_.useState(!1),m=_.useRef(null),x=()=>{var R;(R=n==null?void 0:n.ownerDetails)!=null&&R.phone?window.location.href=`tel:${n.ownerDetails.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})},g=()=>{var R;(R=n==null?void 0:n.ownerDetails)!=null&&R.phone?window.location.href=`sms:${n.ownerDetails.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})},v=n?(R=>{if(!(R!=null&&R.images))return[];const{gallery:H,...G}=R.images,$=Object.values(G).filter(te=>typeof te=="string"&&te.length>0),V=Array.isArray(H)?H:[];return[...$,...V]})(n):[],b=R=>{if(!R)return"";if(typeof R=="string")return R;const{street:H,city:G,state:$,pincode:V,landmark:te}=R;return[H,te,G,$,V].filter(Boolean).join(", ")},w=()=>{if(!(n!=null&&n.rooms)||n.rooms.length===0)return 0;const R=n.rooms.map(H=>H.perPersonRent||Math.ceil((H.rent||0)/(H.occupancy||1))||0);return Math.min(...R)};_.useEffect(()=>{e&&(async()=>{o(!0);try{const G=(await qe.get(`/property/public/properties/${e}`)).data;G.success&&G.data?(a(G.data),G.data.latitude&&G.data.longitude&&u([parseFloat(G.data.latitude),parseFloat(G.data.longitude)])):console.error("Property data missing:",G)}catch(H){console.error("Error fetching property details:",H),r({title:"Error",description:"Failed to load property details",variant:"destructive"})}finally{o(!1)}})()},[e,r]);const C=()=>{var R;(R=m.current)==null||R.scrollIntoView({behavior:"smooth"})};if(i)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(!n)return s.jsx(Br,{children:s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Property Not Found"}),s.jsx("button",{onClick:()=>t(-1),className:"text-blue-600 hover:underline",children:"Go Back"})]})});const N=w(),j=n.ownerDetails,P=async()=>{if(navigator.share)try{await navigator.share({title:n.property_name,text:`Check out this property: ${n.property_name}`,url:window.location.href})}catch(R){console.log("Error sharing:",R)}else navigator.clipboard.writeText(window.location.href),r({title:"Link copied",description:"Property link copied to clipboard"})};return s.jsx(Br,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-10",children:[s.jsx(Sr,{children:f&&s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[3000] bg-white overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white/80 backdrop-blur-md z-10 px-4 py-4 md:px-8 border-b border-gray-100 flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>A(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex items-center gap-2 text-gray-600 font-semibold",children:[s.jsx(Ps,{className:"w-5 h-5"}),s.jsx("span",{children:"Back"})]}),s.jsx("h2",{className:"font-outfit font-black text-xl uppercase tracking-tight text-red-600",children:"Property Gallery"}),s.jsx("div",{className:"w-10"})," "]}),s.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8 md:py-12",children:s.jsx("div",{className:"grid grid-cols-1 gap-8",children:v.map((R,H)=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl overflow-hidden bg-gray-50 shadow-sm border border-gray-100",children:s.jsx("img",{src:R,alt:`Photo ${H+1}`,className:"w-full h-auto object-contain max-h-[90vh] mx-auto",loading:"lazy"})}),s.jsx("div",{className:"flex justify-between items-center px-2",children:s.jsxs("span",{className:"text-gray-400 text-sm font-medium",children:["Photo ",H+1," of ",v.length]})})]},H))})}),s.jsxs("div",{className:"text-center py-12 bg-gray-50 border-t border-gray-100 mt-8",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-4 italic",children:"End of gallery"}),s.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),A(!1)},className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-all shadow-lg shadow-red-100",children:"Back to Property"})]})]})}),s.jsx("div",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Ps,{className:"w-5 h-5 text-gray-600"})})}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:P,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600",children:s.jsx(ag,{className:"w-5 h-5"})})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8 mt-2",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:n.property_name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-600 text-lg",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xr,{className:"w-5 h-5"})," ",b(n.address)]}),s.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Sa,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"})," 4.8 (12 reviews)"]})]})]}),s.jsxs("div",{className:"relative rounded-2xl overflow-hidden h-[300px] md:h-[450px] mb-8",children:[v.length===0?s.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:"No Images Available"}):v.length===1?s.jsx("img",{src:v[0],alt:"Property",className:"w-full h-full object-cover"}):s.jsxs("div",{className:"w-full h-full grid grid-cols-1 md:grid-cols-4 grid-rows-2 gap-2",children:[s.jsx("div",{className:"col-span-2 row-span-2 relative group cursor-pointer",onClick:()=>A(!0),children:s.jsx("img",{src:v[0],alt:"Main",className:"w-full h-full object-cover hover:opacity-95 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>A(!0),children:s.jsx("img",{src:v[1],alt:"Side 1",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>A(!0),children:s.jsx("img",{src:v[2]||v[1],alt:"Side 2",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>A(!0),children:s.jsx("img",{src:v[3]||v[1],alt:"Side 3",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsxs("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>A(!0),children:[s.jsx("img",{src:v[4]||v[1],alt:"Side 4",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center hover:bg-black/40 transition-colors",children:s.jsxs("button",{onClick:R=>{R.stopPropagation(),A(!0)},className:"px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg text-sm font-semibold shadow-sm hover:scale-105 transition-transform flex items-center gap-2 text-red-600",children:[s.jsx(IF,{className:"w-4 h-4"})," Show all photos"]})})]})]}),s.jsxs("button",{onClick:()=>A(!0),className:"md:hidden absolute bottom-4 right-4 px-3 py-1.5 bg-white/90 backdrop-blur-md rounded-lg text-xs font-semibold shadow-sm flex items-center gap-2 text-red-600",children:[s.jsx(IF,{className:"w-3 h-3"})," Show all photos"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-md transition-shadow duration-300",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About this place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:n.description||"A beautiful property located in a prime area, offering comfortable living spaces and modern amenities for a hassle-free stay."}),s.jsx("div",{className:"mt-8 border-t border-gray-100 pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Rent starts from"}),s.jsxs("div",{className:"flex items-end gap-1",children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",N.toLocaleString()]}),s.jsx("span",{className:"text-gray-500 mb-1",children:"/ person/month"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-red-50 text-red-700 border border-red-100",children:[s.jsx(At,{className:"w-3.5 h-3.5"})," Zero Brokerage"]}),s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-red-50 text-red-700 border border-red-100",children:[s.jsx(At,{className:"w-3.5 h-3.5"})," Instant Booking"]}),s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-red-50 text-red-700 border border-red-100",children:[s.jsx(At,{className:"w-3.5 h-3.5"})," Verified Listing"]})]})]}),s.jsxs("button",{onClick:C,className:"px-8 py-3.5 bg-gradient-to-r from-red-600 to-red-500 text-white font-bold text-lg rounded-xl shadow-md shadow-red-100 hover:shadow-lg transition-all transform active:scale-95 flex items-center justify-center gap-2 shrink-0 font-outfit uppercase tracking-tight",children:[s.jsx(At,{className:"w-5 h-5"}),"Check Available Rooms"]})]})})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Property Highlights"}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:s.jsx(Ai,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1",children:[((k=n.rooms)==null?void 0:k.filter(R=>R.is_available).length)||0,s.jsxs("span",{className:"text-sm font-medium text-gray-400 ml-1",children:["/ ",((T=n.rooms)==null?void 0:T.length)||0]})]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Rooms Available"})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:s.jsx(Wr,{className:"w-5 h-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1",children:n.maxOccupancy||((O=n.rooms)==null?void 0:O.reduce((R,H)=>R+(H.occupancy||0),0))||"N/A"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Total Capacity"})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:s.jsx(ra,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1",children:["",(n.security_deposit||0).toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Security Deposit"})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:s.jsx(er,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1 text-purple-700",children:"Verified"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Listing Status"})]})]})]})]}),s.jsx("hr",{className:"border-gray-100"}),n.amenities&&Object.keys(n.amenities).some(R=>n.amenities[R])&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What this place offers"}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(n.amenities).filter(([,R])=>R===!0).map(([R])=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-transparent hover:border-blue-100 hover:bg-blue-50/50 transition-colors group",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center shadow-sm",children:s.jsx(At,{className:"w-4 h-4 text-blue-600"})}),s.jsx("span",{className:"text-gray-700 font-medium capitalize",children:R.replace(/([A-Z0-9])/g," $1").trim()})]},R))})]}),s.jsx("hr",{className:"border-gray-100"}),n.rules&&Object.keys(n.rules).some(R=>n.rules[R]!==void 0)&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.rules).map(([R,H])=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-100 rounded-xl hover:shadow-md transition-shadow",children:[s.jsx("span",{className:"text-gray-700 font-medium capitalize flex items-center gap-2",children:R.replace(/([A-Z0-9])/g," $1").trim()}),H?s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-green-50 text-green-700 border border-green-100",children:"Allowed"}):s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-red-50 text-red-700 border border-red-100",children:"Not Allowed"})]},R))})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{ref:m,className:"space-y-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Available Rooms (",((B=n.rooms)==null?void 0:B.length)||0,")"]}),n.rooms&&n.rooms.length>0?s.jsx("div",{className:"space-y-6",children:n.rooms.map(R=>{var H,G;return s.jsxs("div",{className:`relative flex flex-col md:flex-row gap-6 p-5 bg-white border rounded-2xl transition-all duration-300 group cursor-pointer
                          ${R.is_available?"border-gray-100 hover:border-blue-100 shadow-sm hover:shadow-lg":"border-gray-100 bg-gray-50/50 opacity-90"}`,onClick:()=>t(`/seeker/room/${R._id}`,{state:{fromPropertyId:e}}),children:[s.jsxs("div",{className:"w-full md:w-64 h-48 rounded-xl overflow-hidden shrink-0 relative bg-gray-200",children:[R.room_image?s.jsx("img",{src:R.room_image,alt:`Room ${R.roomNumber}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx(Ai,{className:"w-10 h-10"})}),s.jsx("div",{className:"absolute top-3 left-3 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-lg text-xs font-bold text-gray-700 shadow-sm",children:R.room_type||R.type}),((H=R.compatibility)==null?void 0:H.overallScore)!==void 0&&s.jsxs("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-lg text-xs font-bold shadow-sm flex items-center gap-1",children:[s.jsx(Sa,{className:`w-3 h-3 ${R.compatibility.overallScore>=80?"fill-green-600 text-green-600":R.compatibility.overallScore>=60?"fill-blue-600 text-blue-600":"fill-red-600 text-red-600"}`}),s.jsxs("span",{className:`${R.compatibility.overallScore>=80?"text-green-600":R.compatibility.overallScore>=60?"text-blue-600":"text-red-600"}`,children:[R.compatibility.overallScore,"% Match"]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:["Room ",R.roomNumber||R.room_number]}),!R.is_available&&s.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-red-100 text-red-700 uppercase tracking-wide",children:"Room is Full"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1.5 bg-gray-50 px-2 py-1 rounded-md",children:[s.jsx(Wr,{className:"w-4 h-4"}),"Occupancy: ",s.jsxs("span",{className:`${(R.current_occupants||0)>=R.occupancy?"text-red-500 font-bold":"text-green-600 font-bold"}`,children:[R.current_occupants||0," / ",R.occupancy]})]}),s.jsxs("span",{className:"flex items-center gap-1.5 bg-gray-50 px-2 py-1 rounded-md",children:[s.jsx(qm,{className:"w-4 h-4"}),R.room_size||R.dimension," sq ft"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"flex items-baseline justify-end gap-1",children:s.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["",(G=R.perPersonRent||Math.ceil(R.rent/R.occupancy))==null?void 0:G.toLocaleString()]})}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"per person/month"})]})]}),s.jsx("div",{className:"h-px bg-gray-50 my-4"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Includes"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[R.amenities&&Object.entries(R.amenities).filter(([,$])=>$).slice(0,5).map(([$])=>s.jsx("span",{className:"px-2.5 py-1.5 bg-gray-50 border border-gray-100 rounded-lg text-xs font-medium text-gray-600 capitalize group-hover:bg-blue-50/50 group-hover:text-blue-700 group-hover:border-blue-100 transition-colors",children:$.replace(/([A-Z])/g," $1").trim()},$)),R.amenities&&Object.values(R.amenities).filter($=>$).length>5&&s.jsxs("span",{className:"px-2 py-1 text-xs text-gray-400 self-center",children:["+",Object.values(R.amenities).filter($=>$).length-5," more"]})]})]}),s.jsxs("div",{className:"mt-auto flex items-center justify-between pt-2",children:[R.is_available?s.jsxs("div",{className:"flex items-center gap-2 text-green-600 bg-green-50/50 px-3 py-1.5 rounded-full",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),s.jsx("span",{className:"text-xs font-bold",children:"Available Now"})]}):s.jsx("div",{className:"text-xs font-medium text-red-600 px-2",children:"Room is Full"}),s.jsxs("span",{className:"flex items-center gap-1 text-sm font-semibold text-blue-600 group-hover:translate-x-1 transition-transform",children:["View Details ",s.jsx(Ps,{className:"w-4 h-4 rotate-180"})]})]})]})]},R._id)})}):s.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-xl text-gray-500 border border-dashed border-gray-300",children:"No rooms listed yet."})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Where you'll be"}),s.jsx("div",{className:"h-64 md:h-[400px] w-full rounded-2xl overflow-hidden relative z-0 border border-gray-200",children:n.latitude&&n.longitude?s.jsxs("div",{className:"relative h-full w-full group",children:[s.jsxs(ef,{center:d,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,dragging:!1,zoomControl:!1,children:[s.jsx(ol,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(tf,{position:d})]}),s.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${n.latitude},${n.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 bg-black/5 group-hover:bg-black/10 transition-colors z-[400] flex items-center justify-center",children:s.jsxs("button",{className:"bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg text-sm font-semibold text-gray-800 flex items-center gap-2 transform group-hover:scale-105 transition-all",children:[s.jsx(xr,{className:"w-4 h-4 text-blue-600"}),"Open in Google Maps"]})})]}):s.jsxs("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-500",children:[s.jsx(xr,{className:"w-8 h-8 mb-2"}),s.jsx("p",{children:"Map location unavailable"})]})}),s.jsxs("p",{className:"text-gray-600",children:[(F=n.address)==null?void 0:F.city,", ",(M=n.address)==null?void 0:M.state]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-28 space-y-6",children:[j&&s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[j.profilePicture?s.jsx("img",{src:j.profilePicture,alt:j.name,className:"w-14 h-14 rounded-full object-cover"}):s.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:s.jsx(cr,{className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Listed by"}),s.jsx("h4",{className:"font-bold text-gray-900 text-lg leading-tight",children:j.name||"Verified Owner"}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600 font-medium mt-1",children:[s.jsx(er,{className:"w-3 h-3 fill-blue-600"}),"Verified"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:x,className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg font-semibold hover:bg-blue-100 transition-colors",children:[s.jsx(bn,{className:"w-4 h-4"}),"Call"]}),s.jsxs("button",{onClick:g,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-50 text-green-700 rounded-lg font-semibold hover:bg-green-100 transition-colors",children:[s.jsx(dd,{className:"w-4 h-4"}),"Message"]})]})]}),(n.house_vibe||n.current_residents&&n.current_residents.length>0)&&s.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-2xl border border-indigo-100 p-6 mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-white rounded-lg shadow-sm text-indigo-600",children:s.jsx(Wr,{className:"w-4 h-4"})}),s.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:"House Vibe"})]}),n.house_vibe&&s.jsxs("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold shadow-sm border ${n.house_vibe.overallScore>=80?"bg-green-100 text-green-700 border-green-200":"bg-white text-indigo-600 border-indigo-100"}`,children:[n.house_vibe.overallScore,"% Match"]})]}),n.house_vibe&&s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-700 leading-snug",children:['"',n.house_vibe.notes||n.house_vibe.label,'"']}),n.house_vibe.scoreBreakdown&&n.house_vibe.scoreBreakdown.pros.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1.5",children:n.house_vibe.scoreBreakdown.pros.slice(0,3).map((R,H)=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-md bg-green-50 text-green-700 text-[10px] font-bold border border-green-100 uppercase tracking-wide",children:[s.jsx(At,{className:"w-2.5 h-2.5"})," ",R]},H))})]}),n.current_residents&&n.current_residents.length>0?s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide mb-3 flex items-center justify-between",children:["Flatmates",s.jsxs("span",{className:"text-gray-500",children:[n.current_residents.length," active"]})]}),s.jsxs("div",{className:"flex items-center -space-x-2 overflow-hidden py-1",children:[n.current_residents.slice(0,5).map((R,H)=>s.jsx("img",{src:R.profilePicture||`https://ui-avatars.com/api/?name=${R.name}&background=random`,alt:R.name,className:"inline-block h-8 w-8 rounded-full ring-2 ring-white object-cover",title:R.name},H)),n.current_residents.length>5&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-8 w-8 rounded-full ring-2 ring-white bg-gray-100 text-xs font-bold text-gray-500 z-10",children:["+",n.current_residents.length-5]})]})]}):s.jsx("p",{className:"text-xs text-gray-400 italic",children:"No flatmates yet. Be the first!"})]})]})})]})]})]})})},Fbe=()=>{var $,V,te,re;const{propertyId:e}=Su(),t=hr(),{toast:r}=no(),[n,a]=_.useState(null),[i,o]=_.useState([]),[l,c]=_.useState(!0),[d,u]=_.useState({}),[f,A]=_.useState({}),[m,x]=_.useState({}),[g,y]=_.useState({lat:12.9716,lng:77.5946}),[v,b]=_.useState(15),[w,C]=_.useState(!1),[N,j]=_.useState(null),P=_.useRef(null),k=_.useRef(null),T=_.useRef(null),O=()=>{const K=localStorage.getItem("user");if(K)try{const z=JSON.parse(K);return z.id||z._id}catch(z){return console.error("Error parsing user data:",z),null}return null},B=async K=>{const z=O();if(!(!z||!K)){x(ee=>({...ee,[K]:!0}));try{const ee=await qe.get(`/bookings/check-status?userId=${z}&roomId=${K}`),W=ee.data;if(A(ne=>({...ne,[K]:W})),ee.ok){const ne=await ee.json();A(se=>({...se,[K]:ne}))}}catch(ee){console.error("Error checking booking status:",ee)}finally{x(ee=>({...ee,[K]:!1}))}}},F=async()=>{try{if(!window.google||!window.google.maps){const K=document.createElement("script");K.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoPzRJLAmma54BBOyF4AhZ2ZIqGvak8CA&libraries=places,geometry",K.async=!0,K.defer=!0,await new Promise((z,ee)=>{K.onload=z,K.onerror=ee,document.head.appendChild(K)})}P.current&&window.google&&window.google.maps&&(k.current=new window.google.maps.Map(P.current,{center:g,zoom:v,mapTypeId:window.google.maps.MapTypeId.ROADMAP}),T.current=new window.google.maps.Marker({position:g,map:k.current,title:(n==null?void 0:n.property_name)||"Property Location"}))}catch(K){console.error("Error initializing Google Maps:",K)}},M=async()=>{try{c(!0);const z=(await qe.get(`/property/public/properties/${e}`)).data;if(console.log("Property API Response Data:",z),z.success&&z.data){a(z.data);const ee=z.data.rooms||[];o(ee),ee.forEach(W=>{W._id&&B(W._id)}),z.data.latitude&&z.data.longitude&&y({lat:parseFloat(z.data.latitude),lng:parseFloat(z.data.longitude)})}else throw new Error(z.message||"Failed to fetch property details")}catch(K){console.error("Error fetching property details:",K),r({title:"Error",description:`Failed to load property details: ${K.message}`,variant:"destructive"})}finally{c(!1)}},R=async K=>{const z=O();if(!z){r({title:"Authentication Required",description:"Please login to book a room",variant:"destructive"}),t("/login");return}u(ee=>({...ee,[K]:!0}));try{const W=(await qe.post("/property/payments/create-order",{userId:z,roomId:K,propertyId:e})).data;console.log("Payment order created:",W);const ne={key:"rzp_test_RL5vMta3bKvRd4",amount:W.order.amount,currency:W.order.currency,name:"Lyvo",description:`Booking for ${W.paymentDetails.roomDetails.roomType} Room`,order_id:W.order.id,handler:async function(ce){try{const Ae=(await qe.post("/property/payments/verify",{razorpay_order_id:ce.razorpay_order_id,razorpay_payment_id:ce.razorpay_payment_id,razorpay_signature:ce.razorpay_signature,userId:z,roomId:K,propertyId:e,monthlyRent:W.paymentDetails.monthlyRent,securityDeposit:W.paymentDetails.securityDeposit})).data;console.log("Payment verified and booking created:",Ae),r({title:"Payment Successful!",description:"Your payment has been processed. Waiting for owner approval.",variant:"default"})}catch(ye){console.error("Payment verification error:",ye),r({title:"Payment Verification Failed",description:"Please contact support.",variant:"destructive"})}},prefill:{name:(()=>{const ce=localStorage.getItem("user");if(ce)try{return JSON.parse(ce).name||""}catch{return""}return""})(),email:(()=>{const ce=localStorage.getItem("user");if(ce)try{return JSON.parse(ce).email||""}catch{return""}return""})(),contact:(()=>{const ce=localStorage.getItem("user");if(ce)try{return JSON.parse(ce).phone||""}catch{return""}return""})()},theme:{color:"#2563eb"},modal:{ondismiss:function(){r({title:"Payment Cancelled",description:"Payment was cancelled. You can try again.",variant:"destructive"})}}};new window.Razorpay(ne).open()}catch(ee){console.error("Error creating payment order:",ee),r({title:"Error",description:"Failed to initiate payment. Please try again.",variant:"destructive"})}finally{u(ee=>({...ee,[K]:!1}))}},H=()=>Math.floor(Math.random()*30)+70,G=()=>Math.random()>.3;return _.useEffect(()=>{e&&M()},[e]),_.useEffect(()=>{n&&g.lat&&g.lng&&F()},[n,g]),l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading property details..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Property ID: ",e]})]})}):n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.property_name}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[($=n.address)==null?void 0:$.street,", ",(V=n.address)==null?void 0:V.city,", ",(te=n.address)==null?void 0:te.state]})]}),s.jsx("button",{onClick:()=>t("/seeker/dashboard"),className:"text-gray-600 hover:text-gray-900 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.images&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Images"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(n.images).map(([K,z])=>z&&typeof z=="string"?s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:z,alt:`Property ${K}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})},K):null)})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"About this property"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.description}),n.amenities&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Property Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(n.amenities).map(([K,z])=>z===!0?s.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full",children:K.replace(/([A-Z])/g," $1").replace(/^./,ee=>ee.toUpperCase())},K):null)})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location"}),s.jsx("div",{ref:P,className:"h-64 w-full rounded-lg overflow-hidden",style:{minHeight:"256px"}}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Coordinates: ",g.lat.toFixed(6),", ",g.lng.toFixed(6)]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Available Rooms"}),i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rooms available"}),s.jsx("p",{className:"text-gray-600",children:"This property doesn't have any available rooms at the moment."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(K=>{var z;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(K.roomImage||K.toiletImage)&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[K.roomImage&&s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:K.roomImage,alt:"Room",className:"w-full h-full object-cover"})}),K.toiletImage&&s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:K.toiletImage,alt:"Toilet",className:"w-full h-full object-cover"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",K.roomNumber,"  ",K.roomType]}),s.jsxs("div",{className:"flex items-center gap-2",children:[K.status==="inactive"?s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-800 font-medium",children:" Inactive"}):K.status==="maintenance"?s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 font-medium",children:" Maintenance"}):K.room_status==="full"?s.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-100 text-orange-800 font-medium",children:[" ",K.currentTenants||K.occupancy,"/",K.occupancy," Full"]}):s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${K.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:K.isAvailable?` ${K.currentTenants||0}/${K.occupancy} Available`:"Not Available"}),G()&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"Verified"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:["Size: ",K.roomSize," sq ft"]}),s.jsxs("p",{children:["Bed: ",K.bedType]}),s.jsxs("p",{children:["Occupancy: ",K.occupancy," person",K.occupancy>1?"s":""]})]}),K.description&&s.jsx("p",{className:"text-sm text-gray-700",children:K.description}),K.amenities&&Object.keys(K.amenities).some(ee=>K.amenities[ee]===!0)&&s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(K.amenities).map(([ee,W])=>W===!0?s.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:ee.replace(/([A-Z])/g," $1").replace(/^./,ne=>ne.toUpperCase())},ee):null)}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Behavioral Match"}),s.jsxs("span",{className:"text-sm font-bold text-blue-900",children:[H(),"%"]})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${H()}%`}})})]}),(K.status==="inactive"||K.status==="maintenance"||K.room_status==="full")&&s.jsx("div",{className:`p-4 rounded-lg border-2 ${K.status==="inactive"?"bg-red-50 border-red-200":K.status==="maintenance"?"bg-yellow-50 border-yellow-200":"bg-orange-50 border-orange-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${K.status==="inactive"?"bg-red-100":K.status==="maintenance"?"bg-yellow-100":"bg-orange-100"}`,children:K.status==="inactive"?"":K.status==="maintenance"?"":""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-semibold text-sm mb-1 ${K.status==="inactive"?"text-red-900":K.status==="maintenance"?"text-yellow-900":"text-orange-900"}`,children:K.status==="inactive"?"Room Currently Inactive":K.status==="maintenance"?"Room Under Maintenance":`Room is Full (${K.currentTenants||K.occupancy}/${K.occupancy})`}),s.jsx("p",{className:`text-xs ${K.status==="inactive"?"text-red-700":K.status==="maintenance"?"text-yellow-700":"text-orange-700"}`,children:K.status==="inactive"?"This room has been temporarily deactivated by the owner and is not available for booking at this time.":K.status==="maintenance"?"This room is currently undergoing maintenance and will be available soon.":`This room has reached its maximum occupancy limit (${K.currentTenants||K.occupancy}/${K.occupancy}) and is not available for booking.`})]})]})}),K.status!=="inactive"&&K.status!=="maintenance"&&s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",K.rent?K.rent.toLocaleString():"Ask Price"]}),s.jsx("span",{className:"text-sm text-gray-600",children:"/month"})]}),m[K._id]?s.jsx("div",{className:"px-6 py-2 rounded-lg bg-gray-100 text-gray-600 text-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),"Checking..."]})}):(z=f[K._id])!=null&&z.hasBooking?s.jsxs("div",{className:"px-6 py-2 rounded-lg text-center",children:[f[K._id].status==="pending_approval"&&s.jsxs("div",{className:"bg-yellow-100 text-yellow-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"font-medium text-sm",children:"Approval Pending"})]}),s.jsx("p",{className:"text-xs",children:"Waiting for owner approval"})]}),f[K._id].status==="confirmed"&&s.jsxs("div",{className:"bg-green-100 text-green-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium text-sm",children:"Confirmed"})]}),s.jsx("p",{className:"text-xs",children:"Booking approved"})]}),f[K._id].status==="payment_pending"&&s.jsxs("div",{className:"bg-orange-100 text-orange-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"font-medium text-sm",children:"Payment Pending"})]}),s.jsx("p",{className:"text-xs",children:"Complete payment"})]}),f[K._id].status==="rejected"&&s.jsxs("div",{className:"bg-red-100 text-red-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium text-sm",children:"Rejected"})]}),s.jsx("p",{className:"text-xs",children:"Booking not approved"})]})]}):!K.isAvailable||K.room_status==="full"?s.jsx("div",{className:"px-6 py-2 rounded-lg bg-gray-100 text-gray-600 font-medium border border-gray-300",children:K.room_status==="full"?`Room Full (${K.currentTenants||K.occupancy}/${K.occupancy})`:"Not Available"}):s.jsx("button",{onClick:()=>{j(K),C(!0)},disabled:d[K._id],className:`px-6 py-2 rounded-lg font-medium transition-colors ${d[K._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:d[K._id]?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Booking..."]}):"Book Now"})]})]})]},K._id)})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Owner"}),s.jsx("p",{className:"font-medium text-gray-900",children:n.ownerName||"Unknown Owner"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Security Deposit"}),s.jsxs("p",{className:"font-medium text-gray-900",children:["",((re=n.security_deposit)==null?void 0:re.toLocaleString())||"Not specified"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Rooms"}),s.jsx("p",{className:"font-medium text-gray-900",children:i.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Available Rooms"}),s.jsx("p",{className:"font-medium text-gray-900",children:i.filter(K=>K.isAvailable).length})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Owner"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Have questions about this property? Contact the owner directly."}),s.jsx("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Contact Owner"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Add to Favorites"}),s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Share Property"}),s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Report Issue"})]})]})]})]})})]}),w&&N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Payment Breakdown"}),s.jsx("button",{onClick:()=>{C(!1),j(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:(n==null?void 0:n.property_name)||"Property"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Room ",N.room_number,"  ",N.room_type]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-700",children:"Monthly Rent"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["",N.rent?N.rent.toLocaleString():"0"]})]}),s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-700",children:"Security Deposit"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["",n!=null&&n.security_deposit?n.security_deposit.toLocaleString():"0"]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 bg-blue-50 rounded-lg px-4",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Total Amount"}),s.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["",N.rent&&(n!=null&&n.security_deposit)?(N.rent+n.security_deposit).toLocaleString():"0"]})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-200",children:s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-green-900 font-semibold",children:"Advance Payment (10%)"}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"To be paid online now"})]}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:["",N.rent&&(n!=null&&n.security_deposit)?((N.rent+n.security_deposit)*.1).toLocaleString():"0"]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border-2 border-orange-200",children:s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-orange-900 font-semibold",children:"Remaining Amount (90%)"}),s.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"To be paid offline during check-in"})]}),s.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["",N.rent&&(n!=null&&n.security_deposit)?((N.rent+n.security_deposit)*.9).toLocaleString():"0"]})]})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsxs("h5",{className:"font-semibold text-yellow-900 mb-2 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Important Notes"]}),s.jsxs("ul",{className:"text-sm text-yellow-900 space-y-1.5",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Security deposit is fully refundable at checkout"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Pay 10% advance online to confirm your booking"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Remaining 90% payment during check-in (cash/UPI)"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Owner approval required before check-in"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{C(!1),j(null)},className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),s.jsx("button",{onClick:()=>{C(!1),R(N._id)},disabled:d[N._id],className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-medium shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:d[N._id]?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Proceed to Pay"})]})]})})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The property you're looking for doesn't exist or is no longer available."}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-6",children:[s.jsxs("p",{children:["Property ID: ",e]}),s.jsx("p",{children:"Please check if the property service is running on port 3002"})]}),s.jsx("button",{onClick:()=>t("/seeker/dashboard"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})})},Rbe=()=>{var _e,Le,ke,Qe,Ye,it,Oe,Ge,mt,ft,Ie,Je,ue,Se,Fe;const e=hr(),{bookingId:t}=Su(),{toast:r}=no(),[n,a]=_.useState(null),[i,o]=_.useState(null),[l,c]=_.useState(null),[d,u]=_.useState(null),[f,A]=_.useState(!0),[m,x]=_.useState(""),[g,y]=_.useState({amenities:!0,payment:!0,contact:!0,documents:!1}),[v,b]=_.useState(!1),[w,C]=_.useState(""),[N,j]=_.useState(!1),[P,k]=_.useState(!1),[T,O]=_.useState(""),[B,F]=_.useState(!1),[M,R]=_.useState(!1);_.useEffect(()=>{H()},[t]);const H=async()=>{var Ee,De,ut,Nt,Pt;try{A(!0);const ht=localStorage.getItem("authToken"),Xe=JSON.parse(localStorage.getItem("user")||"{}");if(!ht){e("/login");return}const Ze=await qe.get(`/property/bookings/${t}`);if(Ze.status!==200)throw new Error("Failed to fetch booking details");const tt=Ze.data.booking;if(a(tt),tt.propertyId&&typeof tt.propertyId=="object"){const ze=tt.propertyId;o({...ze,propertyName:ze.property_name||ze.propertyName,images:(De=(Ee=ze.images)==null?void 0:Ee.gallery)!=null&&De.length?ze.images.gallery:[(ut=ze.images)==null?void 0:ut.front].filter(Boolean),security_deposit:ze.security_deposit||ze.securityDeposit})}else{const ze=tt.propertySnapshot;ze&&o({_id:tt.propertyId,propertyName:ze.name,address:ze.address,images:ze.images||[ze.image].filter(Boolean),security_deposit:ze.security_deposit})}if(tt.roomId&&typeof tt.roomId=="object"){const ze=tt.roomId;c({...ze,roomNumber:ze.room_number||ze.roomNumber,roomType:ze.room_type||ze.roomType,roomImage:ze.room_image||ze.roomImage,rent:ze.rent})}else{const ze=tt.roomSnapshot;ze&&c({_id:tt.roomId,roomNumber:ze.roomNumber,roomType:ze.roomType,rent:ze.rent,roomSize:ze.roomSize,roomImage:(Nt=ze.images)==null?void 0:Nt.room,toiletImage:(Pt=ze.images)==null?void 0:Pt.toilet,amenities:ze.amenities})}if(tt.ownerId&&typeof tt.ownerId=="object")u(tt.ownerId);else{const ze=tt.ownerSnapshot;ze&&u({id:tt.ownerId,name:ze.name,email:ze.email,phone:ze.phone})}}catch(ht){console.error("Error fetching booking details:",ht),x("Failed to load booking details")}finally{A(!1)}},G=Ee=>{switch(Ee){case"confirmed":case"approved":return"bg-green-100 text-green-800";case"checked_in":return"bg-blue-100 text-blue-800";case"pending":case"pending_approval":case"payment_pending":return"bg-yellow-100 text-yellow-800";case"checked_out":return"bg-gray-200 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=Ee=>{switch(Ee){case"confirmed":case"approved":return s.jsx(Qr,{className:"w-4 h-4"});case"checked_in":return s.jsx(Qr,{className:"w-4 h-4 text-blue-600"});case"pending":case"pending_approval":case"payment_pending":return s.jsx(Hn,{className:"w-4 h-4"});case"checked_out":return s.jsx($a,{className:"w-4 h-4"});case"cancelled":return s.jsx($t,{className:"w-4 h-4"});default:return s.jsx(Hn,{className:"w-4 h-4"})}},V=Ee=>({wifi:s.jsx(im,{className:"w-3 h-3"}),parking:s.jsx(cc,{className:"w-3 h-3"}),kitchen:s.jsx(Hg,{className:"w-3 h-3"}),powerBackup:s.jsx(iu,{className:"w-3 h-3"}),security:s.jsx(er,{className:"w-3 h-3"}),parking4w:s.jsx(cc,{className:"w-3 h-3"}),parking2w:s.jsx(cc,{className:"w-3 h-3"}),gym:s.jsx(mu,{className:"w-3 h-3"}),laundry:s.jsx(sc,{className:"w-3 h-3"}),balcony:s.jsx(Pr,{className:"w-3 h-3"}),ac:s.jsx(iu,{className:"w-3 h-3"}),tv:s.jsx(Due,{className:"w-3 h-3"}),refrigerator:s.jsx(Pr,{className:"w-3 h-3"}),geyser:s.jsx(iu,{className:"w-3 h-3"}),cctv:s.jsx(ms,{className:"w-3 h-3"}),lift:s.jsx(mu,{className:"w-3 h-3"}),waterSupply:s.jsx(Pr,{className:"w-3 h-3"}),housekeeping:s.jsx(Wr,{className:"w-3 h-3"})})[Ee]||s.jsx(Pr,{className:"w-3 h-3"}),te=Ee=>{y(De=>({...De,[Ee]:!De[Ee]}))},re=(Ee,De)=>{navigator.clipboard.writeText(Ee).then(()=>{r({title:"Copied!",description:`${De} copied to clipboard`,variant:"default"})}).catch(()=>{r({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})})},K=async()=>{j(!0);try{const Ee=z(),De=window.open("","_blank");De.document.write(Ee),De.document.close(),setTimeout(()=>{De.print(),De.close()},500),r({title:"Receipt Generated!",description:"Your booking receipt has been opened for download/printing",variant:"default"})}catch(Ee){console.error("Error generating receipt:",Ee),r({title:"Error",description:"Failed to generate receipt",variant:"destructive"})}finally{j(!1)}},z=()=>{var ht,Xe,Ze,ct,tt,ze,wt,Ut;const Ee=((ht=n.payment)==null?void 0:ht.monthlyRent)||(l==null?void 0:l.rent)||((Xe=n.roomSnapshot)==null?void 0:Xe.rent)||0,De=((Ze=n.payment)==null?void 0:Ze.securityDeposit)||(i==null?void 0:i.security_deposit)||((ct=n.propertySnapshot)==null?void 0:ct.security_deposit)||Ee,ut=((tt=n.payment)==null?void 0:tt.totalAmount)||Ee+De,Nt=ut*.1,Pt=ut*.9;return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Booking Receipt - ${(i==null?void 0:i.propertyName)||"Property"}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
          .header { text-align: center; border-bottom: 2px solid #2563eb; padding-bottom: 20px; margin-bottom: 30px; }
          .logo { font-size: 24px; font-weight: bold; color: #2563eb; }
          .receipt-title { font-size: 20px; margin: 10px 0; }
          .receipt-info { background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 8px; }
          .info-label { font-weight: bold; }
          .section { margin-bottom: 25px; }
          .section-title { font-size: 18px; font-weight: bold; color: #1f2937; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; margin-bottom: 15px; }
          .payment-table { width: 100%; border-collapse: collapse; }
          .payment-table th, .payment-table td { padding: 10px; text-align: left; border-bottom: 1px solid #e5e7eb; }
          .payment-table th { background: #f3f4f6; font-weight: bold; }
          .total-row { font-weight: bold; background: #f0f9ff; }
          .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #6b7280; }
          @media print { body { margin: 0; } }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo">Lyvo+</div>
          <div class="receipt-title">Booking Receipt</div>
          <div>Generated on: ${new Date().toLocaleDateString()}</div>
        </div>
        
        <div class="receipt-info">
          <div class="info-row">
            <span class="info-label">Receipt Number:</span>
            <span>LYV-${((wt=(ze=n._id)==null?void 0:ze.slice(-8))==null?void 0:wt.toUpperCase())||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Booking Date:</span>
            <span>${ye(n.createdAt)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Status:</span>
            <span style="color: #059669; font-weight: bold;">CONFIRMED</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Property Details</div>
          <div class="info-row">
            <span class="info-label">Property Name:</span>
            <span>${(i==null?void 0:i.propertyName)||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Address:</span>
            <span>${Ae(i==null?void 0:i.address)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Room Number:</span>
            <span>Room ${(l==null?void 0:l.roomNumber)||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Room Type:</span>
            <span>${(l==null?void 0:l.roomType)||"N/A"}</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Booking Period</div>
          <div class="info-row">
            <span class="info-label">Check-in Date:</span>
            <span>${ce(n.checkInDate)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Check-out Date:</span>
            <span>${ce(n.checkOutDate)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Duration:</span>
            <span>${Math.ceil((new Date(n.checkOutDate)-new Date(n.checkInDate))/(1e3*60*60*24))} days</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Payment Summary</div>
          <table class="payment-table">
            <tr>
              <th>Description</th>
              <th>Amount</th>
            </tr>
            <tr>
              <td>Monthly Rent</td>
              <td>${Ee.toLocaleString()}</td>
            </tr>
            <tr>
              <td>Security Deposit</td>
              <td>${De.toLocaleString()}</td>
            </tr>
            <tr class="total-row">
              <td><strong>Total Amount</strong></td>
              <td><strong>${ut.toLocaleString()}</strong></td>
            </tr>
            <tr>
              <td>Advance Paid (10%)</td>
              <td style="color: #059669;">${Nt.toLocaleString()}</td>
            </tr>
            <tr>
              <td>Remaining (90%)</td>
              <td style="color: #d97706;">${Pt.toLocaleString()}</td>
            </tr>
          </table>
        </div>
        
        <div class="section">
          <div class="section-title">Payment Status</div>
          <div class="info-row">
            <span class="info-label">Payment Status:</span>
            <span style="color: #059669; font-weight: bold;">COMPLETED</span>
          </div>
          ${(Ut=n.payment)!=null&&Ut.transactionId?`
          <div class="info-row">
            <span class="info-label">Transaction ID:</span>
            <span>${n.payment.transactionId}</span>
          </div>
          `:""}
        </div>
        
        <div class="footer">
          <p>Thank you for choosing Lyvo+!</p>
          <p>For any queries, contact us at support@lyvo.com</p>
          <p>This is a computer-generated receipt and does not require a signature.</p>
        </div>
      </body>
      </html>
    `},ee=()=>{const Ee=l&&l.latitude&&l.longitude?{lat:l.latitude,lng:l.longitude,type:"room"}:i&&i.latitude&&i.longitude?{lat:i.latitude,lng:i.longitude,type:"property"}:null;if(Ee){const De=`https://www.google.com/maps/dir/?api=1&destination=${Ee.lat},${Ee.lng}`;window.open(De,"_blank"),r({title:"Directions Opened",description:`Opening directions to ${Ee.type==="room"?"your room":"the property"}`,variant:"default"})}else r({title:"Location Not Available",description:"Property and room location coordinates are not available",variant:"destructive"})},W=()=>{d&&d.phone?window.open(`tel:${d.phone}`,"_self"):d&&d.email?window.open(`mailto:${d.email}`,"_self"):r({title:"Contact Information Not Available",description:"Owner contact details are not available",variant:"destructive"})},ne=()=>{navigator.share?navigator.share({title:"My Booking Confirmation",text:`I've booked ${(i==null?void 0:i.propertyName)||"a room"} for ${n!=null&&n.checkInDate?new Date(n.checkInDate).toLocaleDateString():"N/A"}`,url:window.location.href}):re(window.location.href,"Booking link")},se=Ee=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Ee||0),ce=Ee=>Ee?new Date(Ee).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",ye=Ee=>Ee?new Date(Ee).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",Ae=Ee=>{if(!Ee)return"N/A";if(typeof Ee=="string")return Ee;const{street:De,city:ut,state:Nt,pincode:Pt,landmark:ht}=Ee;return[De,ht,ut,Nt,Pt].filter(Boolean).join(", ")},xe=()=>{if(!n)return!1;if(console.log(" Cancel Booking Debug:",{status:n.status,checkInDate:n.checkInDate,canCancel:!0}),["pending","pending_approval","payment_pending"].includes(n.status))return console.log(" Can cancel: Pending booking"),!0;if(n.status==="confirmed"){const Ee=new Date(n.checkInDate),De=new Date,ut=Math.ceil((Ee-De)/(1e3*60*60*24));return console.log(" Confirmed booking check:",{checkInDate:Ee.toISOString(),today:De.toISOString(),daysUntilCheckIn:ut,canCancel:ut>1}),ut>1}return console.log(" Cannot cancel: Status not allowed"),!1},le=async()=>{if(!(n!=null&&n._id)){r({title:"Error",description:"No booking found to cancel",variant:"destructive"});return}if(window.confirm("Are you sure you want to cancel this booking? This action cannot be undone and will remove all booking and tenant records."))try{R(!0);const De=await qe.delete(`/property/bookings/${n._id}`);if(De.status===200)r({title:"Booking Cancelled",description:"Your booking has been cancelled successfully",variant:"default"}),setTimeout(()=>{e("/seeker-dashboard")},1500);else{const ut=De.data;r({title:"Cancellation Failed",description:ut.message||"Failed to cancel booking",variant:"destructive"})}}catch(De){console.error("Error cancelling booking:",De),r({title:"Error",description:"An error occurred while cancelling the booking",variant:"destructive"})}finally{R(!1)}},Z=async()=>{if(!(!n||!T))try{F(!0);const Ee=await qe.post(`/property/user/check-in/${n._id}`,{checkInDate:T});if(Ee.status===200)r({title:"Success",description:"Check-in date marked successfully",variant:"default"}),H(),k(!1),O("");else{const De=Ee.data;r({title:"Error",description:De.message||"Failed to mark check-in date",variant:"destructive"})}}catch(Ee){console.error("Error marking check-in:",Ee),r({title:"Error",description:"Failed to mark check-in date. Please try again.",variant:"destructive"})}finally{F(!1)}},pe=()=>{O(n.checkInDate?new Date(n.checkInDate).toISOString().split("T")[0]:""),k(!0)};if(f)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your booking details..."})]})})});if(m||!n)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx($t,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:m||"The booking you are looking for does not exist."}),s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Back to Dashboard"})]})})});const oe=n.status==="confirmed"||n.status==="approved"||n.status==="checked_in",X=(n.status==="pending_approval"||n.status==="confirmed"||n.status==="approved"||n.status==="pending"||n.status==="payment_pending")&&n.status!=="checked_in",be=oe||n.ownerAccepted===!0||n.ownerApproval==="approved"||n.ownerApproval==="accepted";return console.log("Booking data for debugging:",{status:n.status,ownerAccepted:n.ownerAccepted,ownerApproval:n.ownerApproval,isBookingConfirmed:oe,isOwnerAccepted:be,allBookingFields:Object.keys(n)}),oe?s.jsxs(Br,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Booking Confirmed!"})]})}),s.jsx("p",{className:"text-gray-600 mb-2 text-sm sm:text-base",children:"Your accommodation is ready and confirmed"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Owner Accepted"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Payment Completed"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Ready for Check-in"})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-4 bg-white/80 p-3 rounded-xl border border-white shadow-sm w-full lg:w-auto",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-sm border border-gray-100",children:s.jsx("img",{src:(l==null?void 0:l.roomImage)||(l==null?void 0:l.room_image)||(l==null?void 0:l.toilet_image)||(l==null?void 0:l.toiletImage)||((_e=l==null?void 0:l.images)==null?void 0:_e.room)||((Le=l==null?void 0:l.images)==null?void 0:Le.toilet)||(Array.isArray(i==null?void 0:i.images)?i.images[0]:(ke=i==null?void 0:i.images)==null?void 0:ke.front)||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=100&h=100&fit=crop",alt:"Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-blue-600 font-bold truncate",children:(i==null?void 0:i.propertyName)||"Property Name"}),s.jsxs("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:["Room ",(l==null?void 0:l.roomNumber)||"N/A"]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ai,{className:"w-3 h-3"})," ",(l==null?void 0:l.roomType)||"Standard"]}),s.jsxs("span",{className:"flex items-center gap-1 font-bold text-green-600",children:["",((Qe=n.payment)==null?void 0:Qe.monthlyRent)||(l==null?void 0:l.rent),"/mo"]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full lg:w-auto",children:[s.jsxs("div",{className:"bg-white/70 rounded-xl p-3 border border-white shadow-sm flex-1 sm:flex-initial min-w-[140px]",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(Fr,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-tight",children:"Check-in"})]}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:n.checkInDate?ce(n.checkInDate):"Not Set"}),n.checkInDate&&s.jsxs("p",{className:"text-[10px] text-green-600 font-bold mt-1 flex items-center gap-1",children:[s.jsx(Qr,{className:"w-3 h-3"})," Confirmed Arrival"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full lg:w-auto",children:[X&&n.status!=="checked_out"&&s.jsxs("button",{onClick:pe,className:"bg-purple-600 text-white px-4 py-2.5 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px]",children:[s.jsx(Fr,{className:"w-4 h-4 mr-1"}),n.checkInDate?"Update Check-in":"Set Check-in"]}),xe()&&n.status!=="checked_in"&&n.status!=="checked_out"&&s.jsx("button",{onClick:le,disabled:M,className:"bg-red-600 text-white px-4 py-2.5 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px] disabled:opacity-50 disabled:cursor-not-allowed",children:M?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-1"}),s.jsx("span",{children:"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Cancel Booking"})]})}),s.jsxs("button",{onClick:ne,className:"bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px]",children:[s.jsx(ag,{className:"w-4 h-4 mr-1"}),"Share"]})]})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row lg:flex-col items-start sm:items-center lg:items-end space-y-3 sm:space-y-0 sm:space-x-3 lg:space-x-0 lg:space-y-3",children:s.jsxs("span",{className:`inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium ${G(n.status)}`,children:[$(n.status),s.jsx("span",{className:"ml-2 capitalize",children:n.status})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Fr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Booking Details"]})})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ye(n.createdAt)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Check-in Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ce(n.checkInDate)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${((Ye=n.payment)==null?void 0:Ye.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[((it=n.payment)==null?void 0:it.paymentStatus)==="completed"?s.jsx(At,{className:"w-3 h-3 mr-1"}):s.jsx(Hn,{className:"w-3 h-3 mr-1"}),((Oe=n.payment)==null?void 0:Oe.paymentStatus)||"Pending"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Status"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G(n.status)}`,children:[$(n.status),s.jsx("span",{className:"ml-1 capitalize",children:n.status})]})})]})]}),s.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Booking Confirmation Summary"}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Booking Status:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"}),"Confirmed"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner Acceptance:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"}),"Accepted"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Payment Status:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Confirmed On:"}),s.jsx("span",{className:"text-sm text-gray-600",children:ye(n.updatedAt||n.createdAt)})]})]})})]})]})]}),i&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Zr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Accommodation Details"]}),s.jsxs("button",{onClick:()=>te("amenities"),className:"text-blue-600 hover:text-blue-700 flex items-center text-xs sm:text-sm self-start sm:self-auto",children:[g.amenities?s.jsx(tA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(_h,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"ml-1",children:"Amenities"})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[((l==null?void 0:l.roomImage)||((Ge=l==null?void 0:l.images)==null?void 0:Ge[0]))&&s.jsx("div",{className:"w-full md:w-1/3 aspect-video md:aspect-square rounded-xl overflow-hidden shadow-sm",children:s.jsx("img",{src:l.roomImage||l.room_image||l.toilet_image||l.toiletImage||((mt=l.images)==null?void 0:mt.room)||((ft=l.images)==null?void 0:ft.toilet)||(Array.isArray(i==null?void 0:i.images)?i.images[0]:(Ie=i==null?void 0:i.images)==null?void 0:Ie.front),alt:"Your Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:i.propertyName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",l.roomNumber," (",l.roomType,")"]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-base font-semibold text-gray-900 leading-tight",children:Ae(i.address)}),s.jsx("button",{onClick:ee,className:"text-blue-600 hover:text-blue-700",children:s.jsx(Fue,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monthly Rent"}),s.jsx("p",{className:"text-base font-semibold text-green-600",children:se(l.rent)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Security Deposit"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:se(((Je=n.payment)==null?void 0:Je.securityDeposit)||(i==null?void 0:i.security_deposit))})]})]})]}),i.amenities&&g.amenities&&s.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:Object.entries(i.amenities).map(([Ee,De])=>De?s.jsxs("div",{className:"flex items-center px-2 sm:px-3 py-2 bg-blue-50 text-blue-700 rounded-lg",children:[V(Ee),s.jsx("span",{className:"ml-2 text-xs sm:text-sm font-medium",children:Ee.replace(/([A-Z])/g," $1").trim()})]},Ee):null)})]}),l&&l.amenities&&g.amenities&&s.jsxs("div",{className:"mt-4 sm:mt-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:Object.entries(l.amenities).map(([Ee,De])=>De?s.jsxs("div",{className:"flex items-center px-2 sm:px-3 py-2 bg-green-50 text-green-700 rounded-lg",children:[V(Ee),s.jsx("span",{className:"ml-2 text-xs sm:text-sm font-medium",children:Ee.replace(/([A-Z])/g," $1").trim()})]},Ee):null)})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b",children:s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(cd,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Important Information"]})}),s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Qr,{className:"w-5 h-5 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Check-in Instructions"}),s.jsx("p",{className:"text-gray-600",children:"Please arrive on your check-in date. Contact the property owner for specific check-in procedures."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx($t,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Status"}),s.jsx("p",{className:"text-gray-600",children:"Ensure all payments are completed before check-in. Contact support if you have payment issues."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Pue,{className:"w-5 h-5 text-blue-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Keys & Access"}),s.jsx("p",{className:"text-gray-600",children:"Keys will be provided upon check-in. Make sure to return them during check-out."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Is,{className:"w-5 h-5 text-purple-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Documentation"}),s.jsx("p",{className:"text-gray-600",children:"Keep your booking confirmation and payment receipts for your records."})]})]}),xe()&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(rr,{className:"w-5 h-5 text-red-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Cancellation Policy"}),s.jsx("p",{className:"text-gray-600",children:n.status==="pending"?"You can cancel your pending booking at any time before owner approval.":"You can cancel your booking up to 24 hours before check-in. Cancellation after this period may incur charges."})]})]}),!xe()&&n.status==="confirmed"&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Jh,{className:"w-5 h-5 text-orange-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Cancellation Policy"}),s.jsx("p",{className:"text-gray-600",children:"Cancellation is not available as check-in is within 24 hours. Please contact support for assistance."})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[d&&s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(cr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Property Owner"]}),s.jsx("button",{onClick:()=>te("contact"),className:"text-blue-600 hover:text-blue-700",children:g.contact?s.jsx(tA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(_h,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),g.contact&&s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:s.jsx(cr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})}),s.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900",children:d.name||"Owner Name"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:d.email})]}),d.phone&&s.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:d.phone})]}),s.jsx("button",{onClick:()=>window.open(`tel:${d.phone}`,"_self"),className:"text-blue-600 hover:text-blue-700",children:s.jsx(r6,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:W,className:"bg-blue-600 text-white py-2 px-2 sm:px-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(bn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Call"]}),s.jsxs("button",{onClick:()=>window.open(`mailto:${d.email}`,"_self"),className:"bg-green-600 text-white py-2 px-2 sm:px-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(nn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Email"]})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("button",{onClick:K,disabled:N,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[N?s.jsx(Ci,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Jc,{className:"w-4 h-4 mr-2"}),N?"Generating...":"Download Receipt"]}),s.jsxs("button",{onClick:ee,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(kB,{className:"w-4 h-4 mr-2"}),"Get Directions"]}),s.jsxs("button",{onClick:ne,className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center",children:[s.jsx(ag,{className:"w-4 h-4 mr-2"}),"Share Booking"]}),xe()&&s.jsx("button",{onClick:le,disabled:M,className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:M?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),s.jsx("span",{children:"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Cancel Booking"})]})})]})]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(TA,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Payment Summary"]}),s.jsx("button",{onClick:()=>te("payment"),className:"text-blue-600 hover:text-blue-700",children:g.payment?s.jsx(tA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(_h,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),g.payment&&(()=>{var ht,Xe,Ze,ct,tt,ze,wt,Ut,$r;const Ee=((ht=n.payment)==null?void 0:ht.monthlyRent)||(l==null?void 0:l.rent)||((Xe=n.roomSnapshot)==null?void 0:Xe.rent)||0,De=((Ze=n.payment)==null?void 0:Ze.securityDeposit)||(i==null?void 0:i.security_deposit)||((ct=n.propertySnapshot)==null?void 0:ct.security_deposit)||Ee,ut=Ee+De,Nt=((tt=n.payment)==null?void 0:tt.totalAmount)||ut*.1,Pt=ut-Nt;return s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Monthly Rent"}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:se(Ee)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Security Deposit"}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:se(De)})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between font-bold text-sm sm:text-base",children:[s.jsx("span",{children:"Total Amount"}),s.jsx("span",{className:"text-blue-600",children:se(ut)})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[s.jsx("span",{className:"text-green-700 font-semibold",children:"Advance Paid (10%)"}),s.jsx("span",{className:"font-bold text-green-600",children:se(Nt)})]}),s.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[s.jsx("span",{className:"text-orange-700 font-semibold",children:"Remaining (90%)"}),s.jsx("span",{className:"font-bold text-orange-600",children:se(Pt)})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Payment Status"}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${((ze=n.payment)==null?void 0:ze.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[((wt=n.payment)==null?void 0:wt.paymentStatus)==="completed"?s.jsx(At,{className:"w-3 h-3 mr-1"}):s.jsx(Hn,{className:"w-3 h-3 mr-1"}),((Ut=n.payment)==null?void 0:Ut.paymentStatus)||"Pending"]})]}),(($r=n.payment)==null?void 0:$r.transactionId)&&s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Transaction ID"}),s.jsxs("button",{onClick:()=>re(n.payment.transactionId,"Transaction ID"),className:"text-xs text-blue-600 hover:text-blue-700 font-mono break-all",children:[n.payment.transactionId.slice(0,8),"..."]})]})]})]})})()]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Is,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Documents"]}),s.jsx("button",{onClick:()=>te("documents"),className:"text-blue-600 hover:text-blue-700",children:g.documents?s.jsx(tA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(_h,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),g.documents&&s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("button",{className:"w-full bg-blue-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(ky,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Booking Confirmation"]}),s.jsxs("button",{className:"w-full bg-green-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(Is,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Rental Agreement"]}),s.jsxs("button",{className:"w-full bg-purple-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(TA,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Payment Receipt"]}),s.jsxs("button",{className:"w-full bg-orange-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(zV,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Print All Documents"]})]})]})]})]})]})}),P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(au,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mark Check-in Date"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Select your check-in date"})]})]}),s.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:B,children:s.jsx(rr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[n&&s.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 mb-6 border border-gray-100 shadow-sm",children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-sm",children:s.jsx("img",{src:(l==null?void 0:l.roomImage)||(l==null?void 0:l.room_image)||((ue=i==null?void 0:i.images)==null?void 0:ue[0])||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=200&h=200&fit=crop",className:"w-full h-full object-cover",alt:"Room Preview"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:(i==null?void 0:i.propertyName)||"N/A"}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1 mt-0.5",children:[s.jsx(xr,{className:"w-3 h-3"}),Ae(i==null?void 0:i.address)]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs("span",{className:"bg-blue-50 text-blue-700 text-[10px] font-bold px-2 py-0.5 rounded uppercase",children:["Room ",(l==null?void 0:l.roomNumber)||"N/A"]}),s.jsx("span",{className:"bg-purple-50 text-purple-700 text-[10px] font-bold px-2 py-0.5 rounded uppercase",children:(l==null?void 0:l.roomType)||"Standard"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-bold text-green-600",children:se(((Se=n.payment)==null?void 0:Se.monthlyRent)||(l==null?void 0:l.rent))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:se((Fe=n.payment)==null?void 0:Fe.securityDeposit)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Current Check-in:"}),s.jsx("span",{className:`font-bold ${n.checkInDate?"text-purple-600":"text-orange-500 italic"}`,children:n.checkInDate?ce(n.checkInDate):"Not specified"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Check-in Date *"}),s.jsx("input",{type:"date",id:"checkInDate",value:T,onChange:Ee=>O(Ee.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:B}),s.jsx("p",{className:"text-xs text-gray-500",children:"Select the date when you plan to check into the room"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>k(!1),disabled:B,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:Z,disabled:B||!T,className:"flex-1 px-4 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:B?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Marking..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(au,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark Check-in"})]})})]})]})})})]}):s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[n.status==="checked_out"?s.jsxs(s.Fragment,{children:[s.jsx($a,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Checked Out"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"You have successfully checked out of this property. We hope you enjoyed your stay!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Jh,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Pending Approval"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your booking is currently waiting for the owner's approval. Please set your check-in date below to help the owner process your request."})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-left",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Booking Status:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Current Status:"}),s.jsx("span",{className:`font-semibold capitalize ${n.status==="checked_out"?"text-gray-600":"text-yellow-600"}`,children:n.status})]}),n.status==="checked_out"&&s.jsxs("div",{className:"flex justify-between border-t border-yellow-200 pt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Checked Out On:"}),s.jsx("span",{className:"font-semibold text-gray-600",children:n.actualCheckOutDate?ce(n.actualCheckOutDate):"Unknown Date"})]}),n.status!=="checked_out"&&n.checkInDate&&s.jsxs("div",{className:"flex justify-between border-t border-yellow-200 pt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in Date:"}),s.jsx("span",{className:"font-semibold text-purple-600",children:ce(n.checkInDate)})]}),n.status!=="checked_out"&&!n.checkInDate&&s.jsxs("div",{className:"flex justify-between border-t border-yellow-200 pt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in Date:"}),s.jsx("span",{className:"text-red-500 italic",children:"Not set yet"})]})]})]}),n.checkInDate&&n.status!=="checked_out"&&s.jsx("p",{className:"text-sm text-gray-500 mb-6 italic",children:"You've set your check-in date. The owner will review and approve your booking shortly."}),s.jsxs("div",{className:"space-y-4",children:[X&&s.jsxs("button",{onClick:pe,className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center font-bold shadow-lg",children:[s.jsx(Fr,{className:"w-5 h-5 mr-2"}),n.checkInDate?"Update Check-in Date":"Set Check-in Date"]}),s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})]})})})},Ube=()=>{const e=hr(),{toast:t}=no(),[r,n]=_.useState(null),[a,i]=_.useState(null),[o,l]=_.useState(null),[c,d]=_.useState(null),[u,f]=_.useState(!0),[A,m]=_.useState(""),[x,g]=_.useState({amenities:!1,contact:!1,documents:!1});_.useEffect(()=>{y()},[]);const y=async()=>{try{f(!0);const O=localStorage.getItem("authToken"),B=JSON.parse(localStorage.getItem("user")||"{}");if(!O){e("/login");return}const F=await qe.get("/property/user/bookings");if(F.status===200){const R=(F.data.bookings||[]).find(H=>{var G;return H.status==="confirmed"&&((G=H.payment)==null?void 0:G.paymentStatus)==="completed"});R?await v(R._id):m("No confirmed booking found")}else throw new Error("Failed to fetch user bookings")}catch(O){console.error("Error fetching user confirmed booking:",O),m("Failed to load your booking details")}finally{f(!1)}},v=async O=>{try{if(!localStorage.getItem("authToken")){e("/login");return}const F=await qe.get(`/property/bookings/${O}`);if(F.status!==200)throw new Error("Failed to fetch booking details");const M=F.data;if(n(M.booking),M.booking.propertyId)try{const R=await qe.get(`/property/public/properties/${M.booking.propertyId}`);if(R.status===200){const H=R.data;if(i(H.property),H.property.rooms){const G=H.property.rooms.find($=>$._id===M.booking.roomId);l(G)}}}catch(R){console.error("Error fetching property details:",R)}if(M.booking.ownerId)try{const R=await qe.get(`/user/profile/${M.booking.ownerId}`);if(R.status===200){const H=R.data;d(H)}}catch(R){console.error("Error fetching owner details:",R)}}catch(B){console.error("Error fetching booking details:",B),m("Failed to load booking details")}},b=O=>({wifi:s.jsx(im,{className:"w-4 h-4"}),parking:s.jsx(cc,{className:"w-4 h-4"}),kitchen:s.jsx(Hg,{className:"w-4 h-4"}),powerBackup:s.jsx(iu,{className:"w-4 h-4"}),security:s.jsx(er,{className:"w-4 h-4"}),parking4w:s.jsx(cc,{className:"w-4 h-4"}),parking2w:s.jsx(cc,{className:"w-4 h-4"}),gym:s.jsx(sc,{className:"w-4 h-4"}),laundry:s.jsx(sc,{className:"w-4 h-4"}),balcony:s.jsx(Pr,{className:"w-4 h-4"}),ac:s.jsx(iu,{className:"w-4 h-4"}),tv:s.jsx(sc,{className:"w-4 h-4"}),refrigerator:s.jsx(Pr,{className:"w-4 h-4"}),geyser:s.jsx(iu,{className:"w-4 h-4"}),cctv:s.jsx(ms,{className:"w-4 h-4"}),lift:s.jsx(sc,{className:"w-4 h-4"}),waterSupply:s.jsx(Pr,{className:"w-4 h-4"}),housekeeping:s.jsx(Wr,{className:"w-4 h-4"})})[O]||s.jsx(Pr,{className:"w-4 h-4"}),w=O=>{g(B=>({...B,[O]:!B[O]}))},C=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(O||0),N=O=>O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",j=()=>{if(!(r!=null&&r.checkInDate))return 0;const O=new Date,F=new Date(r.checkInDate)-O;return Math.ceil(F/(1e3*60*60*24))},P=()=>{c&&c.phone?window.open(`tel:${c.phone}`,"_self"):c&&c.email?window.open(`mailto:${c.email}`,"_self"):t({title:"Contact Information Not Available",description:"Owner contact details are not available",variant:"destructive"})},k=()=>{if(a&&a.latitude&&a.longitude){const O=`https://www.google.com/maps/dir/?api=1&destination=${a.latitude},${a.longitude}`;window.open(O,"_blank")}else t({title:"Location Not Available",description:"Property location coordinates are not available",variant:"destructive"})};return u?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your room details..."})]})})}):A||!r?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx($t,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Confirmed Booking"}),s.jsx("p",{className:"text-gray-600 mb-6",children:A||"You don't have any confirmed bookings yet. Book a room to access this dashboard."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Rooms"}),s.jsx("button",{onClick:()=>e("/seeker-bookings"),className:"w-full bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"View My Bookings"})]})]})})}):r.status==="confirmed"||r.status==="approved"?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[(a==null?void 0:a.images)&&a.images.length>0&&s.jsxs("div",{className:"relative h-64 sm:h-80 lg:h-96",children:[s.jsx("img",{src:a.images[0],alt:a.propertyName,className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[s.jsx("button",{className:"bg-white/90 backdrop-blur-sm text-gray-700 p-2 rounded-full hover:bg-white transition-colors",children:s.jsx(Zh,{className:"w-5 h-5"})}),s.jsx("button",{className:"bg-white/90 backdrop-blur-sm text-gray-700 p-2 rounded-full hover:bg-white transition-colors",children:s.jsx(ag,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"absolute bottom-4 left-4",children:s.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sa,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsx("span",{className:"text-sm font-semibold",children:"4.8"}),s.jsx("span",{className:"text-sm text-gray-600",children:" Excellent"})]})})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:(a==null?void 0:a.propertyName)||"Property Name"}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(xr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(a==null?void 0:a.address)||"Address"})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ai,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:["Room ",(o==null?void 0:o.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wr,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[(o==null?void 0:o.maxOccupancy)||(a==null?void 0:a.maxOccupancy)||"N/A"," guests"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pr,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[(o==null?void 0:o.roomSize)||"N/A"," sq ft"]})]})]})]}),s.jsx("div",{className:"mt-4 lg:mt-0 lg:ml-6",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:C(o==null?void 0:o.rent)}),s.jsx("div",{className:"text-sm text-gray-600",children:"per month"})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:()=>e(`/booking-dashboard/${r._id}`),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),s.jsxs("button",{onClick:k,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[s.jsx(kB,{className:"w-4 h-4 mr-2"}),"Directions"]}),s.jsxs("button",{onClick:P,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[s.jsx(bn,{className:"w-4 h-4 mr-2"}),"Contact Owner"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Booking Status"}),s.jsxs("div",{className:"flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[s.jsx(Qr,{className:"w-4 h-4 mr-1"}),"Confirmed"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Check-in"}),s.jsx("div",{className:"font-semibold",children:N(r.checkInDate)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Check-out"}),s.jsx("div",{className:"font-semibold",children:N(r.checkOutDate)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Days Remaining"}),s.jsxs("div",{className:"font-semibold text-blue-600",children:[j()," days"]})]})]})]}),o&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Room Type"}),s.jsx("div",{className:"font-semibold",children:o.roomType})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Room Size"}),s.jsxs("div",{className:"font-semibold",children:[o.roomSize," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Max Occupancy"}),s.jsxs("div",{className:"font-semibold",children:[o.maxOccupancy||(a==null?void 0:a.maxOccupancy)," people"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Monthly Rent"}),s.jsx("div",{className:"font-semibold",children:C(o.rent)})]})]})]}),(a==null?void 0:a.amenities)&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Amenities"}),s.jsxs("button",{onClick:()=>w("amenities"),className:"text-blue-600 hover:text-blue-700 flex items-center text-sm",children:[x.amenities?s.jsx(tA,{className:"w-4 h-4"}):s.jsx(_h,{className:"w-4 h-4"}),s.jsx("span",{className:"ml-1",children:"View All"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Object.entries(a.amenities).slice(0,x.amenities?void 0:6).map(([O,B])=>B?s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:[b(O),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:O.replace(/([A-Z])/g," $1").trim()})]},O):null)})]}),(a==null?void 0:a.description)&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"About This Place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:a.description})]})]}),s.jsxs("div",{className:"space-y-6",children:[c&&s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Host"]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(cr,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"font-semibold text-gray-900",children:c.name||"Host Name"}),s.jsx("p",{className:"text-sm text-gray-600",children:c.email})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("button",{onClick:P,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(dd,{className:"w-4 h-4 mr-2"}),"Contact Host"]})})]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Info"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Paid"}),s.jsx("span",{className:"font-semibold",children:C(r.totalAmount)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Duration"}),s.jsxs("span",{className:"font-semibold",children:[Math.ceil((new Date(r.checkOutDate)-new Date(r.checkInDate))/(1e3*60*60*24))," days"]})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>e(`/booking-dashboard/${r._id}`),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),s.jsxs("button",{onClick:k,className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[s.jsx(kB,{className:"w-4 h-4 mr-2"}),"Get Directions"]}),s.jsxs("button",{onClick:()=>e("/seeker-bookings"),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[s.jsx(Fr,{className:"w-4 h-4 mr-2"}),"View All Bookings"]})]})]})]})]})]})})}):s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx(Jh,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Ready"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"This dashboard is only available for confirmed bookings."}),s.jsx("div",{className:"space-y-3",children:s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})})]})})})};delete za.Icon.Default.prototype._getIconUrl;za.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Dbe=()=>{var Ae,xe,le,Z,pe,oe,X,be,_e,Le,ke,Qe,Ye,it;const{roomId:e}=Su(),t=hr(),{toast:r}=no();ro();const[n,a]=_.useState(null),[i,o]=_.useState(null),[l,c]=_.useState(null),d=()=>{l!=null&&l.phone?window.location.href=`tel:${l.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})},u=()=>{l!=null&&l.phone?window.location.href=`sms:${l.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})},[f,A]=_.useState(!0),[m,x]=_.useState(null),[g,y]=_.useState(0),[v,b]=_.useState(!1),[w,C]=_.useState(null),[N,j]=_.useState(!1),[P,k]=_.useState([0,0]),[T,O]=_.useState(!1),[B,F]=_.useState(!1),[M,R]=_.useState([]),[H,G]=_.useState(!1),$=Oe=>{if(!(Oe!=null&&Oe.images))return[];if(Array.isArray(Oe.images))return Oe.images;const{gallery:Ge,...mt}=Oe.images,ft=Object.values(mt).filter(Je=>typeof Je=="string"&&Je.length>0),Ie=Array.isArray(Ge)?Ge:[];return[...ft,...Ie]},V=[...n!=null&&n.room_image?[n.room_image]:[],...n!=null&&n.toilet_image?[n.toilet_image]:[],...$(i)],te=()=>{const Oe=localStorage.getItem("user");if(Oe)try{const Ge=JSON.parse(Oe);return Ge.id||Ge._id}catch(Ge){return console.error("Error parsing user data:",Ge),null}return null},re=async()=>{var Oe,Ge;try{A(!0);const ft=(await qe.get(`/property/public/rooms/${e}`)).data;ft.success&&ft.data?(console.log("Room Data Fetched Support:",ft.data),a(ft.data.room),o(ft.data.property),c(ft.data.owner),R(ft.data.residents||[]),x(ft.data.compatibility),(Oe=ft.data.property)!=null&&Oe.latitude&&((Ge=ft.data.property)!=null&&Ge.longitude)&&k([parseFloat(ft.data.property.latitude),parseFloat(ft.data.property.longitude)])):console.error("Room data missing or invalid structure:",ft)}catch(mt){console.error("Error fetching room details:",mt),r({title:"Error",description:"Failed to load room details",variant:"destructive"})}finally{A(!1)}},K=async()=>{const Oe=te(),Ge=localStorage.getItem("authToken");if(!(!Oe||!e||!i||!Ge))try{const mt=await qe.get("/property/favorites/check",{params:{propertyId:i._id,roomId:e}});mt.status===200&&b(mt.data.isFavorite)}catch(mt){console.error("Error checking favorite:",mt)}},z=async()=>{const Oe=te(),Ge=localStorage.getItem("authToken");if(!(!Oe||!e||!i||!Ge))try{const mt=await qe.get("/property/user/check-booking",{params:{propertyId:i._id,roomId:e}});mt.status===200&&C(mt.data)}catch(mt){console.error("Error checking booking status:",mt)}},ee=async()=>{if(e)try{G(!0);const Oe=await qe.get(`/property/public/rooms/${e}/tenants`);if(Oe.status===200){const Ge=Oe.data;R(Ge.tenants||[])}}catch(Oe){console.error("Error fetching tenant details:",Oe)}finally{G(!1)}};_.useEffect(()=>{e&&(re(),ee())},[e]),_.useEffect(()=>{n&&i&&(K(),z())},[n,i]);const W=async()=>{const Oe=te();if(localStorage.getItem("authToken"),!Oe){r({title:"Please Login",description:"You need to specific login to add favorites",variant:"destructive"});return}try{const Ge=v?"/property/favorites/remove":"/property/favorites";(await qe.post(Ge,{userId:Oe,propertyId:i._id,roomId:e})).status===200&&(b(!v),r({title:v?"Removed from Favorites":"Added to Favorites",description:v?"Room removed from your list":"Room saved to your favorites"}))}catch{r({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},ne=async()=>{if(navigator.share)try{await navigator.share({title:`${i.property_name} - Room ${n.roomNumber}`,text:`Check out this room for ${n.rent}/month!`,url:window.location.href})}catch(Oe){console.log("Error sharing:",Oe)}else navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Room link copied to clipboard"})},se=async()=>{var Ge,mt;const Oe=te();if(localStorage.getItem("authToken"),!Oe){r({title:"Please Login",description:"You need to log in to book a room",variant:"destructive"});return}if((w==null?void 0:w.status)==="confirmed"){r({title:"Already Booked",description:"You have already booked this room."});return}if((w==null?void 0:w.status)==="pending_approval"){r({title:"Pending Approval",description:"You already have a pending booking request for this room. Please wait for owner approval."});return}try{j(!0);const ft=await qe.get(`/user/profile/${Oe}`);if(ft.status===200){const Ie=ft.data;if(Ie.kycStatus!=="approved"&&((Ge=Ie.user)==null?void 0:Ge.kycStatus)!=="approved"){const Je=Ie.kycStatus||((mt=Ie.user)==null?void 0:mt.kycStatus);r({title:"KYC Verification Required",description:`Your KYC status is '${Je||"Not Verified"}'. You must be Approved to book this room.`,variant:"destructive",action:s.jsx("button",{onClick:()=>t("/seeker-kyc"),className:"bg-white text-destructive px-2 py-1 rounded text-xs",children:"Verify Now"})}),setTimeout(()=>t("/seeker-kyc"),2e3),j(!1);return}}}catch(ft){console.log("Error fetching profile for KYC check",ft),r({title:"Verification Failed",description:"Could not verify your KYC status. Please try again.",variant:"destructive"}),j(!1);return}finally{j(!1)}O(!0)},ce=async()=>{const Oe=te();localStorage.getItem("authToken");const Ge=parseFloat(n.perPersonRent||Math.ceil(n.rent/n.occupancy)),mt=parseFloat(i.security_deposit||0),Ie=(Ge+mt)*.1;try{j(!0);const ue=(await qe.post("/property/payments/create-order",{amount:Ie,receipt_id:`rcpt_${Date.now().toString().slice(-10)}`})).data,Se={key:"rzp_test_RL5vMta3bKvRd4",amount:ue.amount,currency:ue.currency,name:"Lyvo",description:`Booking Fee (10%) for ${i.property_name}`,order_id:ue.order_id,handler:async function(Ee){try{const ut=(await qe.post("/property/payments/verify",{razorpay_order_id:Ee.razorpay_order_id,razorpay_payment_id:Ee.razorpay_payment_id,razorpay_signature:Ee.razorpay_signature,bookingDetails:{propertyId:i._id,roomId:e,userId:Oe,amount:Ie,securityDeposit:mt,monthlyRent:Ge}})).data;ut.success?(C({status:"pending_approval",bookingId:ut.bookingId}),O(!1),r({title:"Booking Requested",description:"Payment successful! Your booking request is now pending owner approval."}),setTimeout(()=>t("/seeker-bookings"),1500)):r({title:"Booking Failed",description:ut.message,variant:"destructive"})}catch(De){console.error("Verification Error:",De),r({title:"Verification Error",description:"Payment verified but booking creation failed. Contact support.",variant:"destructive"})}},theme:{color:"#3399cc"}},Fe=new window.Razorpay(Se);Fe.on("payment.failed",function(Ee){r({title:"Payment Failed",description:Ee.error.description,variant:"destructive"})}),Fe.open()}catch(Je){console.error(Je),r({title:"Payment Error",description:"Could not initiate payment",variant:"destructive"})}finally{j(!1)}},ye=async()=>{if(!(!(w!=null&&w.bookingId)||!window.confirm("Are you sure you want to cancel this booking? This will remove your booking request.")))try{j(!0);const Ge=localStorage.getItem("authToken"),mt=await qe.delete(`/property/bookings/${w.bookingId}`);if(mt.status===200)C(null),r({title:"Booking Cancelled",description:"Your booking request has been cancelled."});else{const ft=mt.data||{};r({title:"Cancellation Failed",description:ft.message||"Failed to cancel booking",variant:"destructive"})}}catch(Ge){console.error(Ge),r({title:"Error",description:"Cancellation failed",variant:"destructive"})}finally{j(!1)}};return f?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):!n||!i?s.jsx(Br,{children:s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Room Not Found"}),s.jsx("button",{onClick:()=>t("/seeker-dashboard"),className:"text-blue-600 hover:underline",children:"Return to Dashboard"})]})}):s.jsx(Br,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-10",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-6 relative",children:[s.jsxs("button",{onClick:()=>t(-1),className:"mb-4 p-2 -ml-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600 hover:text-gray-900 inline-flex items-center gap-2",children:[s.jsx(Ps,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium text-sm",children:"Back"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:[i.property_name," - Room ",n.room_number||n.roomNumber]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1 font-medium text-gray-900",children:[s.jsx(Sa,{className:"w-4 h-4 fill-black text-black"}),"4.8 ",s.jsx("span",{className:"text-gray-500 font-normal",children:"(12 reviews)"})]}),s.jsx("span",{className:"hidden md:inline",children:""}),s.jsxs("span",{className:"flex items-center gap-1 underline cursor-pointer hover:text-gray-900",children:[(Ae=i.address)==null?void 0:Ae.city,", ",(xe=i.address)==null?void 0:xe.state,", ",((le=i.address)==null?void 0:le.country)||"India"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-5 py-2.5 rounded-full border border-gray-200 bg-white hover:bg-gray-50 hover:shadow-md transition-all duration-300 text-sm font-semibold text-gray-700 group",children:[s.jsx(ag,{className:"w-4 h-4 text-gray-600 group-hover:text-blue-600 transition-colors"}),"Share"]}),s.jsxs("button",{onClick:W,className:`flex items-center gap-2 px-5 py-2.5 rounded-full border transition-all duration-300 text-sm font-semibold shadow-sm hover:shadow-md group ${v?"border-red-100 bg-red-50 text-red-600":"border-gray-200 bg-white hover:bg-gray-50 text-gray-700"}`,children:[s.jsx(Zh,{className:`w-4 h-4 transition-transform group-hover:scale-110 ${v?"fill-red-500 text-red-500":"text-gray-600 group-hover:text-red-500"}`}),v?"Saved":"Save"]})]})]})}),s.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-sm h-[40vh] md:h-[60vh]",children:[V.length===1?s.jsx("img",{src:V[0],alt:"Room View",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-700 cursor-pointer",onClick:()=>{y(0)}}):V.length>=2?s.jsx("div",{className:"grid grid-cols-2 gap-2 h-full",children:V.slice(0,2).map((Oe,Ge)=>s.jsxs("div",{className:"relative overflow-hidden group",children:[s.jsx("img",{src:Oe,alt:`View ${Ge+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500 cursor-pointer",onClick:()=>y(Ge)}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors pointer-events-none"})]},Ge))}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",children:s.jsx("p",{children:"No images available"})}),s.jsxs("button",{onClick:()=>F(!0),className:"absolute bottom-4 right-4 bg-white border border-black/10 px-4 py-2 rounded-lg text-sm font-semibold shadow-sm hover:shadow-md hover:scale-105 transition-all flex items-center gap-2",children:[s.jsx(qm,{className:"w-4 h-4"})," Show all photos"]})]})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-6 relative z-10",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx(Wr,{className:"w-8 h-8 mb-3 text-gray-400 group-hover:text-blue-500 transition-colors stroke-[1.5]"}),s.jsxs("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1",children:[(M==null?void 0:M.length)||0," / ",n.occupancy]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Occupied"})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx(qm,{className:"w-8 h-8 mb-3 text-gray-400 group-hover:text-blue-500 transition-colors stroke-[1.5]"}),s.jsx("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1",children:n.room_size||n.dimension||"N/A"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"sq ft"})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx(Ai,{className:"w-8 h-8 mb-3 text-gray-400 group-hover:text-blue-500 transition-colors stroke-[1.5]"}),s.jsx("p",{className:"font-bold text-xl text-gray-900 leading-none mb-1 capitalize truncate",children:n.bed_type||"N/A"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Bed Type"})]}),s.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-blue-100 transition-all duration-300 group",children:[s.jsx(Fr,{className:"w-8 h-8 mb-3 text-gray-400 group-hover:text-blue-500 transition-colors stroke-[1.5]"}),s.jsx("p",{className:`font-bold text-xl leading-none mb-1 capitalize truncate ${n.is_available?"text-green-600":"text-red-500"}`,children:n.is_available?"Available":"Room is Full"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:"Status"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-md transition-shadow duration-300 mt-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About this place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:i.description||"A beautiful property located in a prime area, offering comfortable living spaces and modern amenities for a hassle-free stay."})]}),M&&M.length>0&&s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Living With"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Get to know your potential future housemates"})]}),s.jsxs("div",{className:"flex items-center gap-3 bg-blue-50 px-4 py-2 rounded-full",children:[s.jsx("div",{className:"flex -space-x-3",children:M.slice(0,3).map((Oe,Ge)=>s.jsx("img",{src:Oe.profilePicture||`https://ui-avatars.com/api/?name=${Oe.name}&background=random`,alt:Oe.name,className:"w-8 h-8 rounded-full border-2 border-white object-cover"},Ge))}),s.jsxs("span",{className:"text-sm font-bold text-blue-700",children:[M.length," Residents"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:M.map((Oe,Ge)=>{var mt,ft;return s.jsxs("div",{className:"flex gap-4 p-5 bg-white border border-gray-100 rounded-2xl hover:shadow-lg hover:border-blue-100 transition-all duration-300 items-center",children:[s.jsxs("div",{className:"relative shrink-0",children:[s.jsx("img",{src:Oe.profilePicture||`https://ui-avatars.com/api/?name=${Oe.name}&background=random`,alt:Oe.name,className:"w-16 h-16 rounded-full object-cover shadow-sm bg-gray-100"}),Oe.matchScore!==void 0&&s.jsx("div",{className:`absolute -bottom-2 -right-2 px-1.5 py-0.5 rounded-full border-2 border-white shadow-sm flex items-center justify-center ${Oe.matchScore>=80?"bg-green-500":Oe.matchScore>=60?"bg-blue-500":"bg-red-500"}`,title:"Lifestyle Match Score",children:s.jsxs("span",{className:"text-[10px] font-bold text-white",children:[Oe.matchScore,"%"]})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"text-lg font-bold text-gray-900 truncate",children:Oe.name}),s.jsxs("span",{className:"flex items-center gap-0.5 px-2 py-0.5 bg-green-50 text-green-700 text-[10px] font-bold rounded-full border border-green-100 uppercase tracking-wide",children:[s.jsx(At,{className:"w-3 h-3"})," VERIFIED"]})]}),s.jsxs("p",{className:"text-xs text-gray-500 font-medium mb-3",children:["Joined ",Oe.joinedAt?new Date(Oe.joinedAt).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"Recently"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[((mt=Oe.lifestyle)==null?void 0:mt.occupation)&&s.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 text-[10px] font-bold rounded-lg border border-gray-200",children:Oe.lifestyle.occupation}),((ft=Oe.lifestyle)==null?void 0:ft.smoking)!==void 0&&s.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-600 text-[10px] font-bold rounded-lg border border-gray-200",children:Oe.lifestyle.smoking==="Yes"?"Smoker":"Non-Smoker"})]})]})]},Ge)})})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{className:"md:hidden",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("div",{children:s.jsxs("div",{children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",(Z=n.perPersonRent||Math.ceil(n.rent/n.occupancy))==null?void 0:Z.toLocaleString()]}),s.jsx("span",{className:"text-gray-500",children:"/person/month"}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Total Room Rent: ",(pe=n.rent)==null?void 0:pe.toLocaleString()]}),s.jsx("div",{className:"text-[10px] text-green-600 font-medium mt-1",children:"Per-person rent is fixed and does not increase with fewer occupants."})]})}),s.jsx("button",{onClick:se,disabled:N||(w==null?void 0:w.status)==="confirmed"||(w==null?void 0:w.status)==="approved"||(w==null?void 0:w.status)==="pending_approval"||!n.is_available,className:`w-full py-4 text-white font-bold text-lg rounded-xl shadow-lg transition-all font-outfit uppercase tracking-tight
                                          ${!n.is_available&&!(w&&["confirmed","approved","pending_approval"].includes(w.status))?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 shadow-red-100"}`,children:!n.is_available&&!(w&&["confirmed","approved","pending_approval"].includes(w.status))?"Room is Full":"Book Now"})]})}),m&&s.jsx("div",{className:"lg:hidden",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 right-0 p-3",children:s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${m.overallScore>=80?"bg-green-50":m.overallScore>=60?"bg-blue-50":"bg-red-50"}`,children:s.jsx(Sa,{className:`w-4 h-4 ${m.overallScore>=80?"text-green-600":m.overallScore>=60?"text-blue-600":"text-red-600"}`})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 font-outfit",children:"Compatibility"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:`text-3xl font-black ${m.overallScore>=80?"text-green-600":m.overallScore>=60?"text-blue-600":"text-red-600"}`,children:[m.overallScore,"%"]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Lifestyle Match"})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:`text-sm font-bold px-2 py-0.5 rounded ${m.overallScore>=80?"text-green-600 bg-green-50":m.overallScore>=60?"text-blue-600 bg-blue-50":"text-red-600 bg-red-50"}`,children:m.label})})]}),s.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:s.jsx(J.div,{initial:{width:0},animate:{width:`${m.overallScore}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${m.overallScore>=80?"from-green-500 to-emerald-600":m.overallScore>=60?"from-blue-500 to-indigo-600":"from-red-500 to-pink-600"}`})}),s.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:m.notes}),((oe=m.scoreBreakdown)==null?void 0:oe.attributeScores)&&s.jsxs("details",{className:"mt-6 group",children:[s.jsxs("summary",{className:"flex items-center justify-between cursor-pointer list-none py-2 border-b border-gray-100",children:[s.jsx("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wide",children:"Detailed Breakdown"}),s.jsx("div",{className:"text-gray-400 group-open:rotate-180 transition-transform",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:"pt-4 grid grid-cols-2 gap-x-4 gap-y-3",children:m.scoreBreakdown.attributeScores.map((Oe,Ge)=>{const mt=Oe.score>=1.5?"bg-green-500":Oe.score>=.8?"bg-yellow-500":"bg-red-500",ft=Oe.score/2*100;return s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider mb-0.5",children:Oe.attribute}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:Oe.seekerValue}),s.jsx("span",{className:"text-gray-300 text-[10px] px-1",children:""}),s.jsx("span",{className:"text-gray-900 font-bold truncate max-w-[100px] text-right",title:Oe.tenantValue,children:Oe.tenantValue})]})]}),s.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${mt}`,style:{width:`${ft}%`}})})]},Ge)})})]}),m.scoreBreakdown&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-xs font-bold text-green-700 uppercase tracking-wide mb-2 flex items-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"})," Strong Matches"]}),m.scoreBreakdown.pros.length>0?s.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:m.scoreBreakdown.pros.map((Oe,Ge)=>s.jsx("li",{className:"flex items-center gap-1.5 list-disc list-inside",children:Oe},Ge))}):s.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"No specific strong matches."})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-xs font-bold text-red-700 uppercase tracking-wide mb-2 flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"})," Top Conflicts"]}),m.scoreBreakdown.cons.length>0?s.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:m.scoreBreakdown.cons.map((Oe,Ge)=>s.jsx("li",{className:"flex items-center gap-1.5 list-disc list-inside",children:Oe},Ge))}):s.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"No major friction points."})]})]})]})]})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Room Features"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.amenities&&Object.entries(n.amenities).map(([Oe,Ge])=>{if(!Ge)return null;const mt={ac:s.jsx(Kue,{className:"w-6 h-6"}),wifi:s.jsx(im,{className:"w-6 h-6"}),tv:s.jsx(Hue,{className:"w-6 h-6"}),fridge:s.jsx(Hg,{className:"w-6 h-6"}),wardrobe:s.jsx(qm,{className:"w-6 h-6"}),studyTable:s.jsx(qm,{className:"w-6 h-6"}),balcony:s.jsx(qm,{className:"w-6 h-6"}),attachedBathroom:s.jsx(er,{className:"w-6 h-6"})};return s.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-white border border-gray-100 rounded-2xl hover:border-blue-200 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group cursor-default",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-50 transition-colors",children:s.jsx("span",{className:"text-gray-500 group-hover:text-blue-600 transition-colors",children:mt[Oe]||s.jsx(At,{className:"w-6 h-6"})})}),s.jsx("span",{className:"text-sm font-bold text-gray-700 capitalize text-center leading-tight group-hover:text-gray-900",children:Oe.replace(/([A-Z])/g," $1").trim()})]},Oe)}),(!n.amenities||Object.values(n.amenities).every(Oe=>!Oe))&&s.jsx("div",{className:"col-span-full p-6 bg-gray-50 rounded-2xl text-center border border-dashed border-gray-200",children:s.jsx("p",{className:"text-gray-500 font-medium",children:"No specific room features listed."})})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-md transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Property Amenities"}),s.jsx("span",{className:"text-xs font-bold bg-gray-100 text-gray-600 px-3 py-1 rounded-full uppercase tracking-wider",children:"Common Areas"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.amenities&&Object.entries(i.amenities).filter(([Oe,Ge])=>Ge).map(([Oe])=>s.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-2xl hover:bg-gray-50 transition-colors group cursor-default",children:[s.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-full flex items-center justify-center mb-3 group-hover:bg-indigo-100 transition-colors",children:s.jsx(At,{className:"w-6 h-6 text-indigo-500 group-hover:scale-110 transition-transform"})}),s.jsx("span",{className:"text-sm font-bold text-gray-700 capitalize text-center leading-tight group-hover:text-gray-900",children:Oe.replace(/([A-Z])/g," $1").trim()})]},Oe))})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-6 hover:shadow-md transition-shadow duration-300",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.rules&&Object.entries(i.rules).map(([Oe,Ge])=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl",children:[s.jsx("span",{className:"text-gray-700 capitalize font-medium",children:Oe.replace(/([A-Z])/g," $1").replace("Allowed","").trim()}),Ge?s.jsx("span",{className:"text-green-700 text-sm font-bold bg-green-50 px-3 py-1 rounded-full",children:"Allowed"}):s.jsx("span",{className:"text-red-700 text-sm font-bold bg-red-50 px-3 py-1 rounded-full",children:"No"})]},Oe))})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{className:"space-y-6 py-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Where you'll be"}),s.jsxs("p",{className:"text-gray-600 flex items-start gap-2 text-lg",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-900 mt-1 shrink-0"}),s.jsxs("span",{children:[(X=i.address)==null?void 0:X.city,", ",(be=i.address)==null?void 0:be.state,", ",(_e=i.address)==null?void 0:_e.pincode]})]}),P[0]!==0&&s.jsx("div",{className:"mt-6 h-[400px] md:h-[480px] w-full rounded-xl overflow-hidden relative z-0 border border-gray-200 shadow-sm",children:s.jsxs(ef,{center:P,zoom:13,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[s.jsx(ol,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(tf,{position:P,children:s.jsx(Ty,{children:s.jsx("div",{className:"p-2 font-sans",children:s.jsx("p",{className:"font-bold text-gray-900 text-sm mb-1",children:"Exact location provided after booking"})})})})]})}),s.jsxs("div",{className:"text-gray-500 text-sm mt-2",children:[s.jsx("p",{children:(Le=i.address)==null?void 0:Le.street}),((ke=i.address)==null?void 0:ke.landmark)&&s.jsxs("p",{children:["Near ",i.address.landmark]})]})]})]}),s.jsx("div",{className:"md:col-span-1",children:s.jsxs("div",{className:"sticky top-24 space-y-6 mt-6",children:[s.jsxs("div",{className:"hidden md:block bg-white rounded-xl shadow-xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:["",(Qe=n.perPersonRent||Math.ceil(n.rent/n.occupancy))==null?void 0:Qe.toLocaleString()]}),s.jsx("span",{className:"text-gray-500 text-sm font-medium",children:"/month"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold mb-0.5",children:"Deposit"}),s.jsxs("p",{className:"font-bold text-lg text-gray-900",children:["",(Ye=i.security_deposit)==null?void 0:Ye.toLocaleString()]})]})]}),s.jsx("hr",{className:"border-gray-100 my-4"}),s.jsx("div",{className:"space-y-3 mb-6",children:s.jsxs("div",{className:"flex justify-between text-base",children:[s.jsx("span",{className:"text-gray-600",children:"Service Fee"}),s.jsx("span",{className:"font-medium text-gray-900",children:"0"})]})}),s.jsx("button",{onClick:se,disabled:N||(w==null?void 0:w.status)==="confirmed"||(w==null?void 0:w.status)==="approved"||(w==null?void 0:w.status)==="pending_approval"||!n.is_available&&!w,className:`w-full py-4 rounded-xl text-white font-bold text-lg shadow-lg hover:shadow-xl transition-all transform active:scale-95 ${(w==null?void 0:w.status)==="confirmed"||(w==null?void 0:w.status)==="approved"?"bg-green-600 cursor-default":(w==null?void 0:w.status)==="pending_approval"?"bg-amber-500 cursor-default":n.is_available?"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 shadow-red-100":"bg-gray-400 cursor-not-allowed"}`,children:N?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):(w==null?void 0:w.status)==="confirmed"||(w==null?void 0:w.status)==="approved"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(At,{className:"w-5 h-5"})," Booked"]}):(w==null?void 0:w.status)==="pending_approval"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(Hn,{className:"w-5 h-5"})," Waiting for Approval"]}):(w==null?void 0:w.status)==="pending_payment"?"Complete Payment":n.is_available?"Book Now":"Room is Full"}),((w==null?void 0:w.status)==="confirmed"||(w==null?void 0:w.status)==="approved"||(w==null?void 0:w.status)==="pending_approval")&&s.jsxs("button",{onClick:ye,disabled:N,className:"w-full mt-3 py-3 rounded-xl border border-red-200 text-red-600 font-semibold hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(nr,{className:"w-4 h-4"})," Cancel Booking"]}),s.jsx("p",{className:"text-xs text-center text-gray-400 mt-4",children:(w==null?void 0:w.status)==="pending_approval"?"Your request is being reviewed by the owner.":"You'll pay a 10% booking fee to reserve."})]}),l&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full overflow-hidden",children:l.profilePicture?s.jsx("img",{src:l.profilePicture,alt:l.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",children:s.jsx(cr,{className:"w-8 h-8"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900",children:l.name}),s.jsx("p",{className:"text-sm text-gray-500",children:"Property Owner"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:u,className:"flex-1 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"})," Message"]}),s.jsxs("button",{onClick:d,className:"flex-1 py-2 border border-blue-200 bg-blue-50 rounded-lg text-sm font-medium text-blue-700 hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[s.jsx(bn,{className:"w-4 h-4"})," Call"]})]})]}),m&&s.jsxs("div",{className:"hidden md:block bg-white rounded-2xl shadow-lg border border-gray-100 p-6 overflow-hidden relative hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:"absolute top-0 right-0 p-3",children:s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${m.overallScore>=80?"bg-green-50":m.overallScore>=60?"bg-blue-50":"bg-red-50"}`,children:s.jsx(Sa,{className:`w-4 h-4 ${m.overallScore>=80?"text-green-600":m.overallScore>=60?"text-blue-600":"text-red-600"}`})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Compatibility"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:`text-3xl font-black ${m.overallScore>=80?"text-green-600":m.overallScore>=60?"text-blue-600":"text-red-600"}`,children:[m.overallScore,"%"]}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Lifestyle Match"})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:`text-sm font-bold px-2 py-0.5 rounded ${m.overallScore>=80?"text-green-600 bg-green-50":m.overallScore>=60?"text-blue-600 bg-blue-50":"text-red-600 bg-red-50"}`,children:m.label})})]}),s.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:s.jsx(J.div,{initial:{width:0},animate:{width:`${m.overallScore}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${m.overallScore>=80?"from-green-500 to-emerald-600":m.overallScore>=60?"from-blue-500 to-indigo-600":"from-red-500 to-pink-600"}`})}),s.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:m.notes||s.jsxs("span",{children:["Based on your preferences for ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Quiet Evenings"})," and ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Shared Kitchen"})," usage."]})}),((it=m.scoreBreakdown)==null?void 0:it.attributeScores)&&s.jsxs("details",{className:"mt-6 group",children:[s.jsxs("summary",{className:"flex items-center justify-between cursor-pointer list-none py-2 border-b border-gray-100",children:[s.jsx("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-wide",children:"Detailed Breakdown"}),s.jsx("div",{className:"text-gray-400 group-open:rotate-180 transition-transform",children:s.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),s.jsx("div",{className:"pt-4 grid grid-cols-2 gap-x-4 gap-y-4",children:m.scoreBreakdown.attributeScores.map((Oe,Ge)=>{const mt=Oe.score>=1.5?"bg-green-500":Oe.score>=.8?"bg-yellow-500":"bg-red-500",ft=Oe.score/2*100;return s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider mb-0.5",children:Oe.attribute}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:Oe.seekerValue}),s.jsx("span",{className:"text-gray-300 text-[10px] px-1",children:""}),s.jsx("span",{className:"text-gray-900 font-bold truncate max-w-[120px] text-right",title:`Residents: ${Oe.tenantValue}`,children:Oe.tenantValue})]})]}),s.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden shadow-inner",children:s.jsx(J.div,{initial:{width:0},animate:{width:`${ft}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full rounded-full ${mt}`})})]},Ge)})})]}),m.scoreBreakdown&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-xs font-bold text-green-700 uppercase tracking-wide mb-2 flex items-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"})," Strong Matches"]}),m.scoreBreakdown.pros.length>0?s.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:m.scoreBreakdown.pros.map((Oe,Ge)=>s.jsx("li",{className:"flex items-center gap-1.5 list-disc list-inside",children:Oe},Ge))}):s.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"No specific strong matches."})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-xs font-bold text-red-700 uppercase tracking-wide mb-2 flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"})," Top Conflicts"]}),m.scoreBreakdown.cons.length>0?s.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:m.scoreBreakdown.cons.map((Oe,Ge)=>s.jsx("li",{className:"flex items-center gap-1.5 list-disc list-inside",children:Oe},Ge))}):s.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"No major friction points."})]})]})]})]})]})})]})}),s.jsx(Sr,{children:T&&s.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:s.jsxs(J.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[s.jsx("button",{onClick:()=>O(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-400 hover:text-gray-600",children:s.jsx(nr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"p-8",children:[s.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-2 font-outfit uppercase tracking-tight",children:"Booking Summary"}),s.jsx("p",{className:"text-gray-500 mb-6 text-sm",children:"Please review the costs before proceeding"}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden shrink-0 shadow-sm border border-white",children:s.jsx("img",{src:n.room_image||n.roomImage||(Array.isArray(i.images)?i.images[0]:i.image),alt:"Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-gray-900",children:["Room ",n.room_number||n.roomNumber]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[n.room_type,"  ",n.bed_type]}),s.jsx("p",{className:"text-[10px] text-red-600 font-semibold mt-0.5",children:i.property_name})]})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[s.jsx("span",{children:"Monthly Rent (Per Person)"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",n.perPersonRent||Math.ceil(n.rent/n.occupancy)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[s.jsx("span",{children:"Security Deposit"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",i.security_deposit||0]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900 font-bold",children:"Total Amount"}),s.jsxs("span",{className:"text-xl font-bold text-red-600",children:["",parseFloat(n.perPersonRent||Math.ceil(n.rent/n.occupancy))+parseFloat(i.security_deposit||0)]})]})]}),s.jsx("div",{className:"bg-red-50 rounded-xl p-5 mb-8",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(LN,{className:"w-6 h-6 text-red-600 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-red-900",children:"Booking Fee: 10%"}),s.jsxs("p",{className:"text-sm text-red-700 mt-1 leading-relaxed",children:["You need to pay ",((parseFloat(n.perPersonRent||Math.ceil(n.rent/n.occupancy))+parseFloat(i.security_deposit||0))*.1).toFixed(2)," to reserve this room. This amount will be adjusted in your first month's payment."]})]})]})}),s.jsx("button",{onClick:ce,disabled:N,className:"w-full py-4 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-bold text-lg hover:from-red-700 hover:to-red-600 transition-all shadow-lg shadow-red-100 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02]",children:N?s.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):s.jsxs(s.Fragment,{children:["Pay ",((parseFloat(n.perPersonRent||Math.ceil(n.rent/n.occupancy))+parseFloat(i.security_deposit||0))*.1).toFixed(2)," & Book Now"]})}),s.jsx("p",{className:"text-center text-xs text-gray-400 mt-5",children:"By proceeding, you agree to Lyvo's Terms and Conditions"})]})]})})}),s.jsx(Sr,{children:B&&s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[3000] bg-white overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white/80 backdrop-blur-md z-10 px-4 py-4 md:px-8 border-b border-gray-100 flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>F(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors flex items-center gap-2 text-gray-600 font-semibold",children:[s.jsx(Ps,{className:"w-5 h-5"}),s.jsx("span",{children:"Back"})]}),s.jsx("h2",{className:"font-outfit font-black text-xl uppercase tracking-tight text-red-600",children:"Property Gallery"}),s.jsx("div",{className:"w-10"})," "]}),s.jsx("div",{className:"max-w-5xl mx-auto px-4 py-8 md:py-12",children:s.jsx("div",{className:"grid grid-cols-1 gap-8",children:V.map((Oe,Ge)=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl overflow-hidden bg-gray-50 shadow-sm border border-gray-100",children:s.jsx("img",{src:Oe,alt:`Photo ${Ge+1}`,className:"w-full h-auto object-contain max-h-[90vh] mx-auto",loading:"lazy"})}),s.jsx("div",{className:"flex justify-between items-center px-2",children:s.jsxs("span",{className:"text-gray-400 text-sm font-medium",children:["Photo ",Ge+1," of ",V.length]})})]},Ge))})}),s.jsxs("div",{className:"text-center py-12 bg-gray-50 border-t border-gray-100 mt-8",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-4 italic",children:"End of gallery"}),s.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),F(!1)},className:"px-6 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-all shadow-lg shadow-red-100",children:"Back to Room"})]})]})})]})]})})},Mbe=()=>{const e=hr(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[i,o]=_.useState("");_.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0);const c="http://localhost:5000/api/property";console.log("Fetching rooms from:",`${c}/api/debug/rooms`);const d=await fetch(`${c}/api/debug/rooms`,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("Response status:",d.status),!d.ok){const f=await d.text();throw new Error(`HTTP error! status: ${d.status} - ${f}`)}const u=await d.json();if(console.log("Rooms data:",u),u.success&&u.rooms)r(u.rooms);else throw new Error(u.message||"Failed to fetch rooms")}catch(c){console.error("Error fetching rooms:",c),o(c.message)}finally{a(!1)}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading rooms..."})]})}):i?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Rooms"}),s.jsx("p",{className:"text-gray-600 mb-6",children:i}),s.jsx("button",{onClick:()=>e("/seeker/dashboard"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Room Debug - Available Rooms"}),s.jsx("button",{onClick:()=>e("/seeker/dashboard"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["Found ",t.length," rooms in the database"]})}),t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rooms found"}),s.jsx("p",{className:"text-gray-600",children:"There are no rooms in the database."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(c=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Room ",c.room_number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Type: ",c.room_type]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Room ID:"}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:c._id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Property ID:"}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:c.property_id})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.approval_status})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>e(`/seeker/room/${c._id}`),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"View Room Details"})})]},c._id))})]})})})},Xd=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fn("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Xd.displayName="Card";const xA=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fn("flex flex-col space-y-1.5 p-6",e),...t}));xA.displayName="CardHeader";const yA=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fn("font-semibold leading-none tracking-tight",e),...t}));yA.displayName="CardTitle";const Qbe=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fn("text-sm text-muted-foreground",e),...t}));Qbe.displayName="CardDescription";const Zd=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fn("p-6 pt-0",e),...t}));Zd.displayName="CardContent";const $be=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fn("flex items-center p-6 pt-0",e),...t}));$be.displayName="CardFooter";const Hbe=h6("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),U2=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:fn(Hbe({variant:t}),e),...r}));U2.displayName="Alert";const zbe=_.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:fn("mb-1 font-medium leading-none tracking-tight",e),...t}));zbe.displayName="AlertTitle";const D2=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:fn("text-sm [&_p]:leading-relaxed",e),...t}));D2.displayName="AlertDescription";var Vbe=N3[" useId ".trim().toString()]||(()=>{}),Kbe=0;function Up(e){const[t,r]=_.useState(Vbe());return Ha(()=>{r(n=>n??String(Kbe++))},[e]),t?`radix-${t}`:""}var MC="focusScope.autoFocusOnMount",QC="focusScope.autoFocusOnUnmount",XR={bubbles:!1,cancelable:!0},Wbe="FocusScope",H6=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=_.useState(null),d=mc(a),u=mc(i),f=_.useRef(null),A=ys(t,g=>c(g)),m=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let g=function(w){if(m.paused||!l)return;const C=w.target;l.contains(C)?f.current=C:lh(f.current,{select:!0})},y=function(w){if(m.paused||!l)return;const C=w.relatedTarget;C!==null&&(l.contains(C)||lh(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&lh(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[n,l,m.paused]),_.useEffect(()=>{if(l){JR.add(m);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(MC,XR);l.addEventListener(MC,d),l.dispatchEvent(v),v.defaultPrevented||(Gbe(Jbe(zG(l)),{select:!0}),document.activeElement===g&&lh(l))}return()=>{l.removeEventListener(MC,d),setTimeout(()=>{const v=new CustomEvent(QC,XR);l.addEventListener(QC,u),l.dispatchEvent(v),v.defaultPrevented||lh(g??document.body,{select:!0}),l.removeEventListener(QC,u),JR.remove(m)},0)}}},[l,d,u,m]);const x=_.useCallback(g=>{if(!r&&!n||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const b=g.currentTarget,[w,C]=qbe(b);w&&C?!g.shiftKey&&v===C?(g.preventDefault(),r&&lh(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),r&&lh(C,{select:!0})):v===b&&g.preventDefault()}},[r,n,m.paused]);return s.jsx(en.div,{tabIndex:-1,...o,ref:A,onKeyDown:x})});H6.displayName=Wbe;function Gbe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(lh(n,{select:t}),document.activeElement!==r)return}function qbe(e){const t=zG(e),r=ZR(t,e),n=ZR(t.reverse(),e);return[r,n]}function zG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ZR(e,t){for(const r of e)if(!Ybe(r,{upTo:t}))return r}function Ybe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Xbe(e){return e instanceof HTMLInputElement&&"select"in e}function lh(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Xbe(e)&&t&&e.select()}}var JR=Zbe();function Zbe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=eU(e,t),e.unshift(t)},remove(t){var r;e=eU(e,t),(r=e[0])==null||r.resume()}}}function eU(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Jbe(e){return e.filter(t=>t.tagName!=="A")}var $C=0;function VG(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tU()),document.body.insertAdjacentElement("beforeend",e[1]??tU()),$C++,()=>{$C===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$C--}},[])}function tU(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zc=function(){return zc=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zc.apply(this,arguments)};function KG(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function ewe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var I1="right-scroll-bar-position",T1="width-before-scroll-bar",twe="with-scroll-bars-hidden",rwe="--removed-body-scroll-bar-size";function HC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nwe(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var swe=typeof window<"u"?_.useLayoutEffect:_.useEffect,rU=new WeakMap;function awe(e,t){var r=nwe(null,function(n){return e.forEach(function(a){return HC(a,n)})});return swe(function(){var n=rU.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||HC(l,null)}),i.forEach(function(l){a.has(l)||HC(l,o)})}rU.set(r,e)},[e]),r}function iwe(e){return e}function owe(e,t){t===void 0&&(t=iwe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function lwe(e){e===void 0&&(e={});var t=owe(null);return t.options=zc({async:!0,ssr:!1},e),t}var WG=function(e){var t=e.sideCar,r=KG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,zc({},r))};WG.isSideCarExport=!0;function cwe(e,t){return e.useMedium(t),WG}var GG=lwe(),zC=function(){},r5=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:zC,onWheelCapture:zC,onTouchMoveCapture:zC}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,A=e.sideCar,m=e.noRelative,x=e.noIsolation,g=e.inert,y=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,w=e.gapMode,C=KG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=A,j=awe([r,t]),P=zc(zc({},C),a);return _.createElement(_.Fragment,null,u&&_.createElement(N,{sideCar:GG,removeScrollBar:d,shards:f,noRelative:m,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:w}),o?_.cloneElement(_.Children.only(l),zc(zc({},P),{ref:j})):_.createElement(b,zc({},P,{className:c,ref:j}),l))});r5.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};r5.classNames={fullWidth:T1,zeroRight:I1};var dwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uwe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dwe();return t&&e.setAttribute("nonce",t),e}function hwe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function fwe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Awe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=uwe())&&(hwe(t,r),fwe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mwe=function(){var e=Awe();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},qG=function(){var e=mwe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},pwe={left:0,top:0,right:0,gap:0},VC=function(e){return parseInt(e||"",10)||0},gwe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[VC(r),VC(n),VC(a)]},xwe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pwe;var t=gwe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ywe=qG(),Dp="data-scroll-locked",vwe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(twe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Dp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(I1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(T1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(I1," .").concat(I1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(T1," .").concat(T1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Dp,`] {
    `).concat(rwe,": ").concat(l,`px;
  }
`)},nU=function(){var e=parseInt(document.body.getAttribute(Dp)||"0",10);return isFinite(e)?e:0},bwe=function(){_.useEffect(function(){return document.body.setAttribute(Dp,(nU()+1).toString()),function(){var e=nU()-1;e<=0?document.body.removeAttribute(Dp):document.body.setAttribute(Dp,e.toString())}},[])},wwe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;bwe();var i=_.useMemo(function(){return xwe(a)},[a]);return _.createElement(ywe,{styles:vwe(i,!t,a,r?"":"!important")})},rk=!1;if(typeof window<"u")try{var sw=Object.defineProperty({},"passive",{get:function(){return rk=!0,!0}});window.addEventListener("test",sw,sw),window.removeEventListener("test",sw,sw)}catch{rk=!1}var Im=rk?{passive:!1}:!1,jwe=function(e){return e.tagName==="TEXTAREA"},YG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!jwe(e)&&r[t]==="visible")},Nwe=function(e){return YG(e,"overflowY")},_we=function(e){return YG(e,"overflowX")},sU=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=XG(e,n);if(a){var i=ZG(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Cwe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Swe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},XG=function(e,t){return e==="v"?Nwe(t):_we(t)},ZG=function(e,t){return e==="v"?Cwe(t):Swe(t)},Bwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},kwe=function(e,t,r,n,a){var i=Bwe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,A=0;do{if(!l)break;var m=ZG(e,l),x=m[0],g=m[1],y=m[2],v=g-y-i*x;(x||v)&&XG(e,l)&&(f+=v,A+=x);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(f)<1||!u&&Math.abs(A)<1)&&(d=!0),d},aw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aU=function(e){return[e.deltaX,e.deltaY]},iU=function(e){return e&&"current"in e?e.current:e},Ewe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Pwe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Iwe=0,Tm=[];function Twe(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),a=_.useState(Iwe++)[0],i=_.useState(qG)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=ewe([e.lockRef.current],(e.shards||[]).map(iU),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=aw(g),b=r.current,w="deltaX"in g?g.deltaX:b[0]-v[0],C="deltaY"in g?g.deltaY:b[1]-v[1],N,j=g.target,P=Math.abs(w)>Math.abs(C)?"h":"v";if("touches"in g&&P==="h"&&j.type==="range")return!1;var k=window.getSelection(),T=k&&k.anchorNode,O=T?T===j||T.contains(j):!1;if(O)return!1;var B=sU(P,j);if(!B)return!0;if(B?N=P:(N=P==="v"?"h":"v",B=sU(P,j)),!B)return!1;if(!n.current&&"changedTouches"in g&&(w||C)&&(n.current=N),!N)return!0;var F=n.current||N;return kwe(F,y,g,F==="h"?w:C)},[]),c=_.useCallback(function(g){var y=g;if(!(!Tm.length||Tm[Tm.length-1]!==i)){var v="deltaY"in y?aU(y):aw(y),b=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&Ewe(N.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(iU).filter(Boolean).filter(function(N){return N.contains(y.target)}),C=w.length>0?l(y,w[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),d=_.useCallback(function(g,y,v,b){var w={name:g,delta:y,target:v,should:b,shadowParent:Owe(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(C){return C!==w})},1)},[]),u=_.useCallback(function(g){r.current=aw(g),n.current=void 0},[]),f=_.useCallback(function(g){d(g.type,aU(g),g.target,l(g,e.lockRef.current))},[]),A=_.useCallback(function(g){d(g.type,aw(g),g.target,l(g,e.lockRef.current))},[]);_.useEffect(function(){return Tm.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:A}),document.addEventListener("wheel",c,Im),document.addEventListener("touchmove",c,Im),document.addEventListener("touchstart",u,Im),function(){Tm=Tm.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Im),document.removeEventListener("touchmove",c,Im),document.removeEventListener("touchstart",u,Im)}},[]);var m=e.removeScrollBar,x=e.inert;return _.createElement(_.Fragment,null,x?_.createElement(i,{styles:Pwe(a)}):null,m?_.createElement(wwe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Owe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Lwe=cwe(GG,Twe);var z6=_.forwardRef(function(e,t){return _.createElement(r5,zc({},e,{ref:t,sideCar:Lwe}))});z6.classNames=r5.classNames;var Fwe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Om=new WeakMap,iw=new WeakMap,ow={},KC=0,JG=function(e){return e&&(e.host||JG(e.parentNode))},Rwe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=JG(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Uwe=function(e,t,r,n){var a=Rwe(t,Array.isArray(e)?e:[e]);ow[r]||(ow[r]=new WeakMap);var i=ow[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(A){if(l.has(A))u(A);else try{var m=A.getAttribute(n),x=m!==null&&m!=="false",g=(Om.get(A)||0)+1,y=(i.get(A)||0)+1;Om.set(A,g),i.set(A,y),o.push(A),g===1&&x&&iw.set(A,!0),y===1&&A.setAttribute(r,"true"),x||A.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",A,v)}})};return u(t),l.clear(),KC++,function(){o.forEach(function(f){var A=Om.get(f)-1,m=i.get(f)-1;Om.set(f,A),i.set(f,m),A||(iw.has(f)||f.removeAttribute(n),iw.delete(f)),m||f.removeAttribute(r)}),KC--,KC||(Om=new WeakMap,Om=new WeakMap,iw=new WeakMap,ow={})}},eq=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Fwe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Uwe(n,a,r,"aria-hidden")):function(){return null}},n5="Dialog",[tq]=Mv(n5),[Dwe,bc]=tq(n5),rq=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=_.useRef(null),c=_.useRef(null),[d,u]=C2({prop:n,defaultProp:a??!1,onChange:i,caller:n5});return s.jsx(Dwe,{scope:t,triggerRef:l,contentRef:c,contentId:Up(),titleId:Up(),descriptionId:Up(),open:d,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};rq.displayName=n5;var nq="DialogTrigger",Mwe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bc(nq,r),i=ys(t,a.triggerRef);return s.jsx(en.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":W6(a.open),...n,ref:i,onClick:zr(e.onClick,a.onOpenToggle)})});Mwe.displayName=nq;var V6="DialogPortal",[Qwe,sq]=tq(V6,{forceMount:void 0}),aq=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=bc(V6,t);return s.jsx(Qwe,{scope:t,forceMount:r,children:_.Children.map(n,o=>s.jsx(Qv,{present:r||i.open,children:s.jsx(HN,{asChild:!0,container:a,children:o})}))})};aq.displayName=V6;var M2="DialogOverlay",iq=_.forwardRef((e,t)=>{const r=sq(M2,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=bc(M2,e.__scopeDialog);return i.modal?s.jsx(Qv,{present:n||i.open,children:s.jsx(Hwe,{...a,ref:t})}):null});iq.displayName=M2;var $we=og("DialogOverlay.RemoveScroll"),Hwe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bc(M2,r);return s.jsx(z6,{as:$we,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(en.div,{"data-state":W6(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$A="DialogContent",oq=_.forwardRef((e,t)=>{const r=sq($A,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=bc($A,e.__scopeDialog);return s.jsx(Qv,{present:n||i.open,children:i.modal?s.jsx(zwe,{...a,ref:t}):s.jsx(Vwe,{...a,ref:t})})});oq.displayName=$A;var zwe=_.forwardRef((e,t)=>{const r=bc($A,e.__scopeDialog),n=_.useRef(null),a=ys(t,r.contentRef,n);return _.useEffect(()=>{const i=n.current;if(i)return eq(i)},[]),s.jsx(lq,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:zr(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:zr(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:zr(e.onFocusOutside,i=>i.preventDefault())})}),Vwe=_.forwardRef((e,t)=>{const r=bc($A,e.__scopeDialog),n=_.useRef(!1),a=_.useRef(!1);return s.jsx(lq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),lq=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=bc($A,r),c=_.useRef(null),d=ys(t,c);return VG(),s.jsxs(s.Fragment,{children:[s.jsx(H6,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx($N,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":W6(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Kwe,{titleId:l.titleId}),s.jsx(Gwe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),K6="DialogTitle",cq=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bc(K6,r);return s.jsx(en.h2,{id:a.titleId,...n,ref:t})});cq.displayName=K6;var dq="DialogDescription",uq=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bc(dq,r);return s.jsx(en.p,{id:a.descriptionId,...n,ref:t})});uq.displayName=dq;var hq="DialogClose",fq=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=bc(hq,r);return s.jsx(en.button,{type:"button",...n,ref:t,onClick:zr(e.onClick,()=>a.onOpenChange(!1))})});fq.displayName=hq;function W6(e){return e?"open":"closed"}var Aq="DialogTitleWarning",[Net,mq]=Efe(Aq,{contentName:$A,titleName:K6,docsSlug:"dialog"}),Kwe=({titleId:e})=>{const t=mq(Aq),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Wwe="DialogDescriptionWarning",Gwe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mq(Wwe).contentName}}.`;return _.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},qwe=rq,Ywe=aq,pq=iq,gq=oq,xq=cq,yq=uq,Xwe=fq;const vq=qwe,Zwe=Ywe,bq=_.forwardRef(({className:e,...t},r)=>s.jsx(pq,{ref:r,className:fn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));bq.displayName=pq.displayName;const G6=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Zwe,{children:[s.jsx(bq,{}),s.jsxs(gq,{ref:n,className:fn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Xwe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));G6.displayName=gq.displayName;const q6=({className:e,...t})=>s.jsx("div",{className:fn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});q6.displayName="DialogHeader";const Y6=({className:e,...t})=>s.jsx("div",{className:fn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Y6.displayName="DialogFooter";const X6=_.forwardRef(({className:e,...t},r)=>s.jsx(xq,{ref:r,className:fn("text-lg font-semibold leading-none tracking-tight",e),...t}));X6.displayName=xq.displayName;const Z6=_.forwardRef(({className:e,...t},r)=>s.jsx(yq,{ref:r,className:fn("text-sm text-muted-foreground",e),...t}));Z6.displayName=yq.displayName;const Jwe=()=>{var ft,Ie,Je,ue,Se,Fe,Ee,De,ut,Nt,Pt,ht;const e=hr(),{toast:t}=no(),r=_.useRef(null),n=_.useRef(null),[a,i]=_.useState(null),[o,l]=_.useState(null),[c,d]=_.useState(!1),[u,f]=_.useState(!1),[A,m]=_.useState(null),[x,g]=_.useState(null),[y,v]=_.useState(!1),[b,w]=_.useState(""),[C,N]=_.useState("pending"),[j,P]=_.useState(null),[k,T]=_.useState(null),[O,B]=_.useState(null),[F,M]=_.useState(!1),[R,H]=_.useState(!1),[G,$]=_.useState(null),[V,te]=_.useState("front"),[re,K]=_.useState(null),[z,ee]=_.useState(!1),[W,ne]=_.useState(!1),[se,ce]=_.useState(!1),[ye,Ae]=_.useState(0),[xe,le]=_.useState(!1),Z="aadhar";_.useEffect(()=>{const Xe=JSON.parse(localStorage.getItem("user")||"{}");i(Xe),Le(),_e(),(async()=>{try{if(console.log("Checking camera availability..."),!navigator.mediaDevices){console.error("navigator.mediaDevices is not available");return}const ct=await navigator.mediaDevices.enumerateDevices();console.log("Available devices on mount:",ct);const tt=ct.filter(ze=>ze.kind==="videoinput");if(console.log("Video devices on mount:",tt),tt.length===0?console.warn("No video devices found"):console.log("Camera devices found:",tt.length),navigator.permissions)try{const ze=await navigator.permissions.query({name:"camera"});console.log("Camera permission status:",ze.state)}catch(ze){console.log("Could not check camera permissions:",ze)}}catch(ct){console.error("Error checking camera availability:",ct)}})()},[]);const pe=async()=>{try{if(K(null),ne(!0),ee(!1),console.log("Starting camera..."),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia is not supported in this browser");const Xe=await navigator.mediaDevices.enumerateDevices();console.log("Available devices:",Xe);const Ze=Xe.filter(ze=>ze.kind==="videoinput");if(console.log("Video devices:",Ze),Ze.length===0)throw new Error("No camera devices found");let ct={video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480}}};console.log("Trying camera with constraints:",ct);let tt;try{tt=await navigator.mediaDevices.getUserMedia(ct),console.log("Camera started successfully with back camera")}catch(ze){console.log("Back camera failed, trying front camera:",ze),ct.video.facingMode="user",tt=await navigator.mediaDevices.getUserMedia(ct),console.log("Camera started successfully with front camera")}$(tt),H(!0),setTimeout(()=>{r.current?(console.log("Setting video source..."),r.current.srcObject=tt,r.current.onloadedmetadata=()=>{console.log("Video metadata loaded"),ee(!0),ne(!1),r.current.play().catch(ze=>{console.error("Error playing video:",ze),K("Failed to start video playback")})},r.current.oncanplay=()=>{console.log("Video can play"),ee(!0),ne(!1)},r.current.onerror=ze=>{console.error("Video error:",ze),K("Video playback error"),ne(!1)},r.current.play().catch(ze=>{console.error("Error playing video:",ze)})):(console.error("Video ref is not available"),K("Video element not ready"),ne(!1))},100),console.log("Camera modal opened")}catch(Xe){console.error("Error accessing camera:",Xe),ne(!1);let Ze="Unable to access camera. ";Xe.name==="NotAllowedError"?Ze+="Please allow camera permissions and try again.":Xe.name==="NotFoundError"?Ze+="No camera found on this device.":Xe.name==="NotSupportedError"?Ze+="Camera is not supported in this browser.":Xe.name==="NotReadableError"?Ze+="Camera is being used by another application.":Ze+="Please check your camera settings.",K(Ze),t({title:"Camera Error",description:Ze,variant:"destructive"})}},oe=()=>{G&&(G.getTracks().forEach(Xe=>Xe.stop()),$(null)),H(!1),K(null),ee(!1),ne(!1),r.current&&(r.current.srcObject=null)},X=()=>{if(!r.current||!n.current)return;const Xe=r.current,Ze=n.current,ct=Ze.getContext("2d");Ze.width=Xe.videoWidth,Ze.height=Xe.videoHeight,ct.drawImage(Xe,0,0,Ze.width,Ze.height),Ze.toBlob(tt=>{if(tt){const ze=new File([tt],`captured_${V}_${Date.now()}.jpg`,{type:"image/jpeg"});m(ze),g(URL.createObjectURL(tt)),oe(),t({title:"Photo Captured",description:"Aadhar card photo captured successfully"})}},"image/jpeg",.8)},be=()=>{te("front"),pe()},_e=async()=>{var Xe;try{M(!0);const Ze=await qe.get("/user/aadhar-status");if(Ze.status===200){const ct=Ze.data;console.log("[FRONTEND DEBUG] Aadhar approval status response:",ct),B(ct.aadharStatus),console.log("[FRONTEND DEBUG] Set aadharApprovalStatus to:",ct.aadharStatus),console.log("[FRONTEND DEBUG] isApproved:",(Xe=ct.aadharStatus)==null?void 0:Xe.isApproved)}}catch(Ze){console.error("Error checking Aadhar approval status:",Ze)}finally{M(!1)}},Le=async()=>{try{d(!0);const Xe=JSON.parse(localStorage.getItem("user")||"{}"),Ze=Xe.id||Xe._id;if(!Ze){console.error("User ID not found");return}const ct=await qe.get(`/user/profile/${Ze}`);if(ct.status===200){const tt=ct.data;l(tt.kycStatus||"not_verified"),N(tt.kycStatus||"not_verified")}}catch(Xe){console.error("Error checking KYC status:",Xe)}finally{d(!1)}},ke=(Xe,Ze)=>{if(Xe){if(!Xe.type.startsWith("image/")){t({title:"Invalid file type",description:"Please upload an image file (JPG, PNG, etc.)",variant:"destructive"});return}if(Xe.size>5*1024*1024){t({title:"File too large",description:"Please upload an image smaller than 5MB",variant:"destructive"});return}{m(Xe);const ct=new FileReader;ct.onload=tt=>g(tt.target.result),ct.readAsDataURL(Xe)}}},Qe=(Xe,Ze)=>{if(!Xe||!Ze)return{match:!1,confidence:0,reason:"Missing name data"};const ct=Xe.toUpperCase().trim(),tt=Ze.toUpperCase().trim(),ze=ct.split(/\s+/).filter(Vr=>Vr.length>0),wt=tt.split(/\s+/).filter(Vr=>Vr.length>0);if(ct===tt)return{match:!0,confidence:1,reason:"Exact match"};let Ut=0,$r=Math.max(ze.length,wt.length);for(const Vr of ze)for(const tn of wt){if(Vr===tn){Ut++;break}if(Vr.length>2&&tn.length>2){const Bt=Ye(Vr,tn);if(Bt>.8){Ut+=Bt;break}}}const Or=Ut/$r;return Or>=.8?{match:!0,confidence:Or,reason:"High similarity match"}:Or>=.5?{match:!1,confidence:Or,reason:"Partial match - manual review needed"}:{match:!1,confidence:Or,reason:"No significant match found"}},Ye=(Xe,Ze)=>{const ct=Xe.toUpperCase(),tt=Ze.toUpperCase(),ze=ct.length>tt.length?ct:tt,wt=ct.length>tt.length?tt:ct;if(ze.length===0)return 1;const Ut=it(ze,wt);return(ze.length-Ut)/ze.length},it=(Xe,Ze)=>{const ct=[];for(let tt=0;tt<=Ze.length;tt++)ct[tt]=[tt];for(let tt=0;tt<=Xe.length;tt++)ct[0][tt]=tt;for(let tt=1;tt<=Ze.length;tt++)for(let ze=1;ze<=Xe.length;ze++)Ze.charAt(tt-1)===Xe.charAt(ze-1)?ct[tt][ze]=ct[tt-1][ze-1]:ct[tt][ze]=Math.min(ct[tt-1][ze-1]+1,ct[tt][ze-1]+1,ct[tt-1][ze]+1);return ct[Ze.length][Xe.length]},Oe=async()=>{var Ze,ct;if(!A){t({title:"Front image required",description:"Please upload the front side of your document",variant:"destructive"});return}f(!0),P(null),T(null),ce(!0),Ae(0);const Xe=setInterval(()=>{Ae(tt=>tt>=90?(clearInterval(Xe),90):tt+10)},200);try{const tt=new FormData;tt.append("frontImage",A),tt.append("idType",Z),tt.append("idNumber","");const ze=await qe.post("/user/upload-kyc",tt,{headers:{"Content-Type":"multipart/form-data"}}),wt=ze.data;if(ze.status===200){if(clearInterval(Xe),Ae(100),wt.kycStatus==="rejected"){v(!0),w(wt.verificationFailureReason||"Verification failed"),t({title:"Verification Failed",description:wt.verificationFailureReason||"Please verify again with correct image",variant:"destructive"});return}if(P(wt.ocrResult),(ct=(Ze=wt.ocrResult)==null?void 0:Ze.extractedData)!=null&&ct.name){const Ut=Qe(wt.ocrResult.extractedData.name,(a==null?void 0:a.name)||"");T(Ut)}N(wt.kycStatus),l(wt.kycStatus),t({title:"Document uploaded successfully",description:`KYC status: ${wt.kycStatus}`,variant:wt.kycStatus==="approved"?"default":"destructive"}),Le(),_e()}else throw new Error(wt.error||"Upload failed")}catch(tt){console.error("Error uploading KYC:",tt),clearInterval(Xe),Ae(0),t({title:"Upload failed",description:tt.message||"Failed to upload document",variant:"destructive"})}finally{f(!1)}},Ge=Xe=>{switch(Xe){case"approved":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"rejected":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},mt=Xe=>{switch(Xe){case"approved":return s.jsx(At,{className:"w-5 h-5"});case"pending":return s.jsx($t,{className:"w-5 h-5"});case"rejected":return s.jsx(rr,{className:"w-5 h-5"});default:return s.jsx(er,{className:"w-5 h-5"})}};return c||F?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:F?"Checking verification status...":"Loading KYC status..."})]})}):O&&O.isApproved?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(_n,{variant:"ghost",onClick:()=>e("/seeker-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Ps,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center mr-4",children:s.jsx(Qr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Identity Verification"}),s.jsx("p",{className:"text-gray-600",children:"Your Aadhar verification is complete"})]})]})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-8",children:s.jsxs(Xd,{className:"border-green-200 bg-green-50",children:[s.jsx(xA,{children:s.jsxs(yA,{className:"flex items-center text-green-800",children:[s.jsx(Qr,{className:"w-6 h-6 mr-2"}),"Verification Approved"]})}),s.jsx(Zd,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(er,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Aadhar Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Status: Approved"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center text-green-600 font-semibold",children:[s.jsx(Qr,{className:"w-5 h-5 mr-1"}),"Verified"]}),s.jsx("p",{className:"text-xs text-gray-500",children:(ft=O.details)!=null&&ft.approvalDate?new Date(O.details.approvalDate).toLocaleDateString():"Recently approved"})]})]}),O.details&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 bg-gray-50 p-4 rounded-lg flex justify-center border border-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Verified Document"}),s.jsx("img",{src:O.details.frontImageUrl,alt:"Verified Aadhar",className:"max-h-64 rounded-lg shadow-md border-2 border-green-200 object-contain"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Verification Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Aadhar Number:"}),s.jsx("span",{className:"font-medium",children:O.details.aadharNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Name:"}),s.jsx("span",{className:"font-medium",children:O.details.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Confidence:"}),s.jsxs("span",{className:"font-medium",children:[O.details.overallConfidence,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Method:"}),s.jsx("span",{className:"font-medium capitalize",children:O.details.verificationMethod})]})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"What's Next?"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"You can now book rooms"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"Access all platform features"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"No need to verify again"]})]})]})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx(_n,{onClick:()=>e("/seeker-dashboard"),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Go to Dashboard"}),s.jsx(_n,{onClick:()=>e("/seeker-bookings"),variant:"outline",className:"flex-1",children:"View Bookings"})]})]})})]})})]})})}):s.jsxs(Br,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(_n,{variant:"ghost",onClick:()=>e("/seeker-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Ps,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mr-4",children:s.jsx(er,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aadhar Card Verification"}),s.jsx("p",{className:"text-gray-600",children:"Verify your identity to unlock premium features"})]})]})]})}),se&&s.jsx(J.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"mb-6",children:s.jsx(Xd,{className:"border-green-200 bg-green-50",children:s.jsxs(Zd,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4",children:ye===100?s.jsx(Qr,{className:"w-6 h-6 text-white"}):s.jsx(Js,{className:"w-6 h-6 text-white animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ye===100?"Verification Complete!":"Verifying Your Identity"}),s.jsx("p",{className:"text-sm text-gray-600",children:ye===100?"Your identity has been successfully verified":"Please wait while we process your documents..."})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(J.div,{className:"bg-green-500 h-2 rounded-full",initial:{width:0},animate:{width:`${ye}%`},transition:{duration:.3}})}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[ye,"% Complete"]})]})})}),o&&!se&&s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-6",children:s.jsx(U2,{className:`${Ge(o)} border-0`,children:s.jsxs("div",{className:"flex items-center",children:[mt(o),s.jsxs(D2,{className:"ml-2",children:[s.jsx("strong",{children:"Current Status:"})," ",o.charAt(0).toUpperCase()+o.slice(1)]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:s.jsxs(Xd,{children:[s.jsx(xA,{children:s.jsxs(yA,{className:"flex items-center",children:[s.jsx(er,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upload Document"]})}),s.jsxs(Zd,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(TA,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Aadhar Card Verification"})]}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Aadhar Card Photo"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors",children:x?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:x,alt:"Front preview",className:"mx-auto max-h-48 rounded-lg shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(_n,{variant:"destructive",size:"sm",onClick:()=>{m(null),g(null)},className:"rounded-full w-8 h-8 p-0",children:s.jsx(nr,{className:"w-4 h-4"})})})]}),s.jsx("div",{className:"flex gap-2 justify-center",children:s.jsxs(_n,{variant:"outline",size:"sm",onClick:()=>be(),className:"flex items-center",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Retake"]})})]}):s.jsxs("div",{children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(n6,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"text-gray-600 mb-4 font-medium",children:"Upload a clear photo of your Aadhar card"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:Xe=>ke(Xe.target.files[0]),className:"hidden",id:"front-upload"}),s.jsx("label",{htmlFor:"front-upload",className:"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold",children:"Choose File"}),s.jsxs(_n,{variant:"outline",onClick:()=>be(),className:"flex items-center border-blue-300 text-blue-600 hover:bg-blue-50",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Take Photo"]})]})]})})]}),s.jsx(_n,{onClick:Oe,disabled:!A||u,className:"w-full",size:"lg",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing Document..."]}):s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Verify Document"]})})]})]})}),s.jsx(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:s.jsxs(Xd,{children:[s.jsx(xA,{children:s.jsxs(yA,{className:"flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 mr-2 text-purple-600"}),"Verification Results"]})}),s.jsx(Zd,{className:"p-6",children:j?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Qr,{className:"w-6 h-6 mr-2 text-blue-600"}),"Verification Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${(Ie=j.validation)!=null&&Ie.is_aadhar_card?"text-green-600":"text-red-600"}`,children:(Je=j.validation)!=null&&Je.is_aadhar_card?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Aadhar Card"}),s.jsx("div",{className:"text-xs text-gray-500",children:(ue=j.validation)!=null&&ue.is_aadhar_card?"Valid":"Invalid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${j.confidence>70?"text-green-600":j.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(j.confidence||0),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Overall Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${j.verified?"text-green-600":"text-yellow-600"}`,children:j.verified?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("div",{className:"text-xs text-gray-500",children:j.verified?"Approved":"Pending"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Is,{className:"w-5 h-5 mr-2 text-blue-600"}),"Extracted Information"]}),s.jsxs("div",{className:"space-y-3",children:[((Se=j.extractedData)==null?void 0:Se.name)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Name:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:j.extractedData.name})]}),((Fe=j.extractedData)==null?void 0:Fe.number)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"ID Number:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:j.extractedData.number})]}),((Ee=j.extractedData)==null?void 0:Ee.dob)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:j.extractedData.dob})]}),((De=j.extractedData)==null?void 0:De.gender)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Gender:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:j.extractedData.gender})]}),((ut=j.extractedData)==null?void 0:ut.mobile)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Mobile:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:j.extractedData.mobile})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(jue,{className:"w-5 h-5 mr-2 text-green-600"}),"Verification Status"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Overall Confidence:"}),s.jsxs("span",{className:`font-semibold ${j.confidence>70?"text-green-600":j.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(j.confidence||0),"%"]})]}),j.validation&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Aadhar Card Valid:"}),s.jsx("span",{className:`font-semibold ${j.validation.is_aadhar_card?"text-green-600":"text-red-600"}`,children:j.validation.is_aadhar_card?" Valid Aadhar Card":" Not Valid"})]}),s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Validation Details:"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Aadhar Keywords:"}),s.jsx("span",{className:j.validation.has_aadhar_keywords?"text-green-600":"text-red-600",children:j.validation.has_aadhar_keywords?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Aadhar Number:"}),s.jsx("span",{className:j.validation.has_aadhar_number?"text-green-600":"text-red-600",children:j.validation.has_aadhar_number?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Name:"}),s.jsx("span",{className:j.validation.has_name?"text-green-600":"text-red-600",children:j.validation.has_name?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Date of Birth:"}),s.jsx("span",{className:j.validation.has_dob?"text-green-600":"text-red-600",children:j.validation.has_dob?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Gender:"}),s.jsx("span",{className:j.validation.has_gender?"text-green-600":"text-red-600",children:j.validation.has_gender?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Validation Score:"}),s.jsxs("span",{className:`font-semibold ${j.validation.confidence_score>70?"text-green-600":j.validation.confidence_score>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(j.validation.confidence_score||0),"%"]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Final Status:"}),s.jsx("span",{className:`font-semibold ${j.verified?"text-green-600":"text-yellow-600"}`,children:j.verified?" Verified & Approved":" Under Review"})]})]})]}),k&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Name Verification"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Profile Name:"}),s.jsx("span",{className:"font-semibold",children:(a==null?void 0:a.name)||"Not available"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Document Name:"}),s.jsx("span",{className:"font-semibold",children:((Nt=j.extractedData)==null?void 0:Nt.name)||"Not extracted"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Match Status:"}),s.jsx("span",{className:`font-semibold ${k.match?"text-green-600":"text-red-600"}`,children:k.match?" Match":" No Match"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(k.confidence*100),"%"]})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2 p-2 bg-white rounded-lg",children:k.reason})]})]}),j.rawText&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>le(!xe),children:[s.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[s.jsx(Is,{className:"w-5 h-5 mr-2 text-gray-600"}),"Extracted Text"]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsxs("span",{className:"mr-2",children:[j.rawText.length," characters"]}),s.jsx("span",{className:`transform transition-transform ${xe?"rotate-180":""}`,children:""})]})]}),xe&&s.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 border",children:[s.jsx("div",{className:"text-sm text-gray-700 leading-relaxed max-h-60 overflow-y-auto whitespace-pre-wrap",children:j.rawText}),s.jsxs("div",{className:"mt-3 flex justify-between items-center text-xs text-gray-500",children:[s.jsx("span",{children:"Raw OCR output from Tesseract"}),s.jsx(_n,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(j.rawText),className:"text-blue-600 hover:text-blue-700",children:"Copy Text"})]})]})]}),j.ocrDetails&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 mr-2 text-blue-600"}),"OCR Processing Details"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Text Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(j.ocrDetails.text_confidence||0),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Field Extraction:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(j.ocrDetails.field_extraction_confidence||0),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Validation Score:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(j.ocrDetails.validation_confidence||0),"%"]})]})]})]}),((ht=(Pt=j.verificationDetails)==null?void 0:Pt.missing_fields)==null?void 0:ht.length)>0&&s.jsxs(U2,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(Jh,{className:"w-4 h-4 text-yellow-600"}),s.jsxs(D2,{className:"text-yellow-800",children:[s.jsx("strong",{children:"Missing Information:"})," The following fields could not be extracted: ",j.verificationDetails.missing_fields.join(", ")]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-6",children:s.jsx(er,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Results Yet"}),s.jsx("p",{className:"text-gray-500",children:"Upload a document to see verification results"})]})})]})})]}),R&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-lg w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capture Aadhar Card"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Take a clear photo of your Aadhar card"})]}),s.jsx(_n,{variant:"ghost",size:"sm",onClick:oe,className:"text-gray-500 hover:text-gray-700 rounded-full w-10 h-10 p-0",children:s.jsx(nr,{className:"w-5 h-5"})})]}),re?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx($t,{className:"w-10 h-10 text-red-500"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Camera Error"}),s.jsx("p",{className:"text-red-600 mb-6",children:re}),s.jsx(_n,{onClick:pe,className:"bg-blue-600 hover:bg-blue-700",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden",children:[W&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"w-12 h-12 text-white animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-sm",children:"Starting camera..."})]})}),s.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-80 object-cover ${z?"opacity-100":"opacity-0"} transition-opacity duration-300`,style:{backgroundColor:"#000"}}),s.jsx("canvas",{ref:n,className:"hidden"}),z&&s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-4 border-2 border-white border-dashed rounded-lg opacity-70",children:s.jsx("div",{className:"absolute top-2 left-2 text-white text-xs font-medium bg-black bg-opacity-50 px-2 py-1 rounded",children:"Align document within frame"})}),s.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-t-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-t-2 border-r-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-b-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-b-2 border-r-2 border-white"})]}),!z&&!W&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(ms,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Camera not ready"})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx($t,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tips for better capture:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[s.jsx("li",{children:"Ensure good lighting"}),s.jsx("li",{children:"Keep the document flat and straight"}),s.jsx("li",{children:"Align all four corners within the frame"}),s.jsx("li",{children:"Avoid shadows and reflections"})]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(_n,{onClick:X,disabled:!z||W,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ms,{className:"w-5 h-5 mr-2"}),W?"Starting Camera...":z?"Capture Photo":"Camera Not Ready"]}),s.jsx(_n,{onClick:oe,variant:"outline",className:"px-6 py-3 border-2 border-gray-300 hover:border-gray-400 font-semibold rounded-xl",children:"Cancel"})]})]})]})}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-8 flex justify-center space-x-4",children:[s.jsx(_n,{variant:"outline",onClick:()=>e("/seeker-dashboard"),children:"Back to Dashboard"}),o==="approved"&&s.jsx(_n,{onClick:()=>e("/seeker-dashboard"),className:"bg-green-600 hover:bg-green-700",children:"Continue to Booking"})]})]})}),s.jsx(vq,{open:y,onOpenChange:v,children:s.jsxs(G6,{className:"sm:max-w-md",children:[s.jsxs(q6,{children:[s.jsxs(X6,{className:"flex items-center gap-2 text-red-600",children:[s.jsx($t,{className:"h-5 w-5"}),"Verification Failed"]}),s.jsx(Z6,{children:"Your KYC verification could not be completed."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:b})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Please ensure:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Upload a clear, valid Aadhar card image"}),s.jsx("li",{children:" The name on the document matches your profile name"}),s.jsx("li",{children:" The image is not blurry or rotated"}),s.jsx("li",{children:" All text is clearly visible"})]})]})]}),s.jsxs(Y6,{className:"flex gap-2",children:[s.jsx(_n,{variant:"outline",onClick:()=>v(!1),children:"Close"}),s.jsx(_n,{onClick:()=>{v(!1),m(null),g(null),P(null),T(null),Ae(0)},children:"Try Again"})]})]})})]})},e1e=()=>{var x,g;const{tenantData:e,loading:t}=om(),{toast:r}=no(),[n,a]=_.useState(new Date),i=()=>{var y;(y=e==null?void 0:e.owner)!=null&&y.phone?window.location.href=`tel:${e.owner.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})},o=()=>{var y;(y=e==null?void 0:e.owner)!=null&&y.phone?window.location.href=`sms:${e.owner.phone}`:r({title:"Contact Info Unavailable",description:"The owner's phone number is not available.",variant:"destructive"})};if(_.useEffect(()=>{const y=setInterval(()=>a(new Date),1e3);return()=>clearInterval(y)},[]),t)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-red-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})})});if(!e)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx($t,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy at the moment."})]})})});const{property:l,room:c}=e,d=Math.floor((new Date-new Date(e.actualCheckInDate))/(1e3*60*60*24)),u=new Date(e.actualCheckInDate);u.setMonth(u.getMonth()+1);const f=Math.ceil((u-new Date)/(1e3*60*60*24)),A=y=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(y||0),m=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-rose-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:"Welcome Home! "}),s.jsxs("p",{className:"text-red-100 text-lg",children:["You've been a tenant for ",d," days"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-red-100 text-sm",children:"Current Time"}),s.jsx("p",{className:"text-2xl font-bold",children:n.toLocaleTimeString()}),s.jsx("p",{className:"text-red-100 text-sm",children:n.toLocaleDateString()})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-400",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:A((c==null?void 0:c.perPersonRent)||e.monthlyRent)})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(ra,{className:"w-6 h-6 text-red-500"})})]})}),s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Next Rent Due"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[f," days"]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Fr,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["Room ",(c==null?void 0:c.roomNumber)||e.roomNumber]})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Ai,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Status"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1 capitalize",children:e.status})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(At,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Pr,{className:"w-6 h-6 mr-2"}),"Your Room"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[((c==null?void 0:c.roomImage)||(c==null?void 0:c.image))&&s.jsx("div",{className:"md:w-1/3",children:s.jsx("img",{src:c.roomImage||c.image,alt:"Your Room",className:"w-full h-48 object-cover rounded-xl shadow-md"})}),s.jsx("div",{className:"flex-1 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["Room ",(c==null?void 0:c.roomNumber)||e.roomNumber]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Type"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(c==null?void 0:c.roomType)||(c==null?void 0:c.room_type)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:A((c==null?void 0:c.perPersonRent)||e.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Check-in Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:m(e.actualCheckInDate)})]})]})})]})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Zr,{className:"w-6 h-6 mr-2"}),"Property Details"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Property Name"}),s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:(l==null?void 0:l.propertyName)||(l==null?void 0:l.property_name)||e.propertyName})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 font-medium flex items-center",children:[s.jsx(xr,{className:"w-4 h-4 mr-1"}),"Address"]}),s.jsx("p",{className:"text-base text-gray-700",children:l!=null&&l.address?typeof l.address=="string"?l.address:`${l.address.street||""}, ${l.address.city||""}, ${l.address.state||""} ${l.address.pincode||""}`:"N/A"})]})]})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(ra,{className:"w-6 h-6 mr-2"}),"Payment Information"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:A((c==null?void 0:c.perPersonRent)||e.monthlyRent)})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-red-700 font-medium mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-2xl font-bold text-red-900",children:A((l==null?void 0:l.security_deposit)||e.securityDeposit)})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Next Payment Due"}),s.jsx("p",{className:"text-lg font-bold text-purple-900",children:m(u)}),s.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["In ",f," days"]})]}),s.jsxs("div",{className:"bg-orange-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-orange-700 font-medium mb-1",children:"Total Paid"}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:A(e.amountPaid)})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 p-4",children:s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Property Owner"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[(x=e.owner)!=null&&x.profilePicture?s.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-3 overflow-hidden border-2 border-indigo-100 shadow-sm",children:s.jsx("img",{src:e.owner.profilePicture,alt:e.ownerName,className:"w-full h-full object-cover"})}):s.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(cr,{className:"w-10 h-10 text-indigo-600"})}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.ownerName||((g=e.owner)==null?void 0:g.name)})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:i,className:"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center",children:[s.jsx(bn,{className:"w-4 h-4 mr-2"}),"Call Owner"]}),s.jsxs("button",{onClick:o,className:"w-full bg-red-500 text-white py-3 px-4 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center",children:[s.jsx(dd,{className:"w-4 h-4 mr-2"}),"Send Message"]})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.9},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 p-4",children:s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[s.jsx(iu,{className:"w-5 h-5 mr-2"}),"Quick Actions"]})}),s.jsxs("div",{className:"p-6 space-y-3",children:[s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(Gd,{className:"w-4 h-4 mr-3 text-orange-600"}),s.jsx("span",{className:"font-medium",children:"Request Maintenance"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(Is,{className:"w-4 h-4 mr-3 text-red-500"}),s.jsx("span",{className:"font-medium",children:"View Agreement"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(mu,{className:"w-4 h-4 mr-3 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Payment History"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(er,{className:"w-4 h-4 mr-3 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Property Rules"})]})]})]}),s.jsx(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl shadow-xl p-6 border-2 border-yellow-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx($t,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Reminder"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Your next rent payment of ",A(e.monthlyRent)," is due on ",m(u),"."]})]})]})})]})]})]})})})},t1e=()=>{var v,b,w,C,N;const{tenantData:e,loading:t}=om(),[r,n]=_.useState("all"),[a,i]=_.useState([]),[o,l]=_.useState("idle"),[c,d]=_.useState(null);_.useEffect(()=>{(async()=>{try{const P=await qe.get("/property/user/payments");P.data.success&&i(P.data.payments)}catch(P){console.error("Error fetching payments:",P)}})()},[]);const u=j=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(j||0),f=j=>j?new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",A=a.filter(j=>r==="all"?!0:r==="pending"?j.status==="pending"||j.status==="overdue":j.status===r),m=a.filter(j=>j.status==="paid").reduce((j,P)=>j+P.amount,0),x=j=>{var H,G,$,V,te,re,K,z;console.log("Downloading receipt for payment:",j),console.log("Tenant Data:",e);const P=window.open("","_blank"),k=new Date().toLocaleDateString(),T=((H=j.propertyId)==null?void 0:H.title)||((G=e==null?void 0:e.property)==null?void 0:G.title)||"",O=(($=j.propertyId)==null?void 0:$.address)||((V=e==null?void 0:e.property)==null?void 0:V.address)||"",B=((te=j.ownerId)==null?void 0:te.name)||((re=e==null?void 0:e.owner)==null?void 0:re.name)||"",F=((K=j.ownerId)==null?void 0:K.email)||((z=e==null?void 0:e.owner)==null?void 0:z.email)||"",M=(e==null?void 0:e.userName)||(e==null?void 0:e.name)||"Tenant",R=`
            <html>
                <head>
                    <title>Rent Receipt - ${j.description||"Payment"}</title>
                    <style>
                        body { font-family: 'Helvetica Neue', Arial, sans-serif; padding: 40px; color: #333; }
                        .receipt-container { max-width: 600px; margin: 0 auto; border: 1px solid #ddd; padding: 30px; border-radius: 8px; }
                        .header { text-align: center; border-bottom: 2px solid #eee; padding-bottom: 20px; margin-bottom: 20px; }
                        .title { font-size: 24px; font-weight: bold; color: #2563eb; }
                        .subtitle { font-size: 16px; font-weight: bold; color: #444; margin-top: 10px; }
                        .contact { font-size: 14px; color: #666; }
                        .date { color: #666; font-size: 14px; margin-top: 5px; }
                        .section-title { font-size: 14px; font-weight: bold; color: #888; margin-top: 20px; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
                        .row { display: flex; justify-content: space-between; margin-bottom: 15px; }
                        .label { font-weight: bold; color: #555; }
                        .value { text-align: right; }
                        .total { border-top: 2px solid #eee; padding-top: 15px; margin-top: 15px; font-size: 18px; font-weight: bold; }
                        .footer { text-align: center; margin-top: 40px; font-size: 12px; color: #888; }
                        @media print { body { padding: 0; } .receipt-container { border: none; } }
                    </style>
                </head>
                <body>
                    <div class="receipt-container">
                        <div class="header">
                            <div class="title">PAYMENT RECEIPT</div>
                            <div class="date">Date: ${k}</div>
                            
                            <!-- Owner Details -->
                            <div class="subtitle">${T}</div>
                            <div class="contact">${O}</div>
                            <div class="contact">Owner: ${B} (${F})</div>
                        </div>
                        
                        <div class="section-title">Details</div>

                        <div class="row">
                            <span class="label">Receipt ID:</span>
                            <span class="value">#${j._id.slice(-8).toUpperCase()}</span>
                        </div>
                        <div class="row">
                            <span class="label">Tenant Name:</span>
                            <span class="value">${M}</span>
                        </div>
                        <div class="row">
                            <span class="label">Payment For:</span>
                            <span class="value">${j.description||"Monthly Rent"}</span>
                        </div>
                        <div class="row">
                            <span class="label">Payment Date:</span>
                            <span class="value">${f(j.paidAt||new Date)}</span>
                        </div>
                        <div class="row">
                            <span class="label">Transaction ID:</span>
                            <span class="value">${j.transactionId||"N/A"}</span>
                        </div>
                        
                        <div class="row total">
                            <span class="label">TOTAL PAID</span>
                            <span class="value">${u(j.amount)}</span>
                        </div>

                        <div class="footer">
                            <p>Thank you for your payment!</p>
                            <p>Lyvo Property Management</p>
                        </div>
                    </div>
                    <script>
                        window.print();
                    <\/script>
                </body>
            </html>
        `;P.document.write(R),P.document.close()},g=()=>new Promise(j=>{const P=document.createElement("script");P.src="https://checkout.razorpay.com/v1/checkout.js",P.onload=()=>j(!0),P.onerror=()=>j(!1),document.body.appendChild(P)}),y=async j=>{if(!await g()){alert("Razorpay SDK failed to load. Are you online?");return}try{const k={amount:j.amount,currency:"INR",receipt_id:`rcpt_${j._id}`},{data:T}=await qe.post("/property/payments/create-order",k);if(!T.success)throw new Error(T.message||"Order creation failed");const O={key:"rzp_test_RL5vMta3bKvRd4",amount:T.amount,currency:T.currency,name:"Lyvo Rent",description:j.description,order_id:T.order_id,handler:async function(F){try{const M={razorpay_order_id:F.razorpay_order_id,razorpay_payment_id:F.razorpay_payment_id,razorpay_signature:F.razorpay_signature,paymentId:j._id},{data:R}=await qe.post("/property/user/payments/verify",M);R.success?(d({...j,paidAt:new Date}),l("success")):l("error")}catch(M){console.error("Verification error",M),l("error")}},modal:{ondismiss:function(){l("cancelled")}},prefill:{},theme:{color:"#3399cc"}};new window.Razorpay(O).open()}catch(k){console.error("Payment Error:",k),l("error")}};return t?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading payment history..."})]})})}):s.jsx(Br,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(ra,{className:"w-10 h-10 mr-3"}),"Payment History"]}),s.jsx("p",{className:"text-green-100 text-lg",children:"Track all your rent payments"})]}),s.jsxs("div",{className:"text-right bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Total Paid"}),s.jsx("p",{className:"text-3xl font-bold",children:u(m)})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Payments Made"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:a.filter(j=>j.status==="paid").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(At,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:u((e==null?void 0:e.monthlyRent)||((v=e==null?void 0:e.room)==null?void 0:v.perPersonRent)||Math.ceil((((b=e==null?void 0:e.room)==null?void 0:b.rent)||0)/(((w=e==null?void 0:e.room)==null?void 0:w.occupancy)||1)))})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(mu,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Security Deposit"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:u(((C=e==null?void 0:e.room)==null?void 0:C.security_deposit)||((N=e==null?void 0:e.property)==null?void 0:N.security_deposit)||(e==null?void 0:e.securityDeposit))})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(TA,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-6 flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(BB,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Filter:"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),s.jsx("button",{onClick:()=>n("paid"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="paid"?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Paid"}),s.jsx("button",{onClick:()=>n("pending"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="pending"?"bg-orange-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Pending"})]})]}),s.jsx("div",{className:"space-y-4",children:A.map((j,P)=>s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+P*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${j.status==="paid"?"bg-green-100":j.status==="overdue"?"bg-red-100":"bg-orange-100"}`,children:j.status==="paid"?s.jsx(At,{className:"w-6 h-6 text-green-600"}):j.status==="overdue"?s.jsx($t,{className:"w-6 h-6 text-red-600"}):s.jsx(Hn,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:j.description||(j.type==="rent"?"Monthly Rent":"Payment")}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Due: ",f(j.dueDate)]}),j.paidAt&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Paid: ",f(j.paidAt)]})]})]}),s.jsxs("div",{className:"flex flex-col md:items-end gap-2",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u(j.amount)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j.status==="paid"?"bg-green-100 text-green-800":j.status==="overdue"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:j.status.charAt(0).toUpperCase()+j.status.slice(1)}),j.paymentMethod&&s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:j.paymentMethod})]}),j.transactionId&&s.jsxs("p",{className:"text-xs text-gray-500",children:["TXN: ",j.transactionId]})]})]}),j.status==="paid"?s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:s.jsxs("button",{onClick:()=>x(j),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Jc,{className:"w-4 h-4"}),"Download Receipt"]})}):s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:s.jsxs("button",{onClick:()=>y(j),className:"flex items-center gap-2 px-6 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-transform transform hover:-translate-y-0.5",children:[s.jsx(TA,{className:"w-4 h-4"}),"Pay Now"]})})]})},j._id||P))}),A.length===0&&s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx($t,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No payments found"})]})]}),s.jsxs(Sr,{children:[o==="success"&&s.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(At,{className:"w-10 h-10 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Thank you! Your payment of ",s.jsx("span",{className:"font-bold text-gray-900",children:c?u(c.amount):""})," has been received."]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>x(c),className:"w-full py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Jc,{className:"w-5 h-5"}),"Download Receipt"]}),s.jsx("button",{onClick:()=>{l("idle"),window.location.reload()},className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Close"})]})]})}),(o==="cancelled"||o==="error")&&s.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 text-center",children:[s.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 ${o==="cancelled"?"bg-orange-100":"bg-red-100"}`,children:s.jsx($t,{className:`w-10 h-10 ${o==="cancelled"?"text-orange-600":"text-red-600"}`})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:o==="cancelled"?"Payment Cancelled":"Payment Failed"}),s.jsx("p",{className:"text-gray-600 mb-6",children:o==="cancelled"?"The payment process was cancelled.":"Something went wrong during the transaction."}),s.jsx("button",{onClick:()=>l("idle"),className:"w-full py-3 bg-gray-900 text-white rounded-xl font-semibold hover:bg-gray-800 transition-colors",children:"Try Again"})]})})]})]})})},r1e=()=>{const{tenantData:e,loading:t}=om(),[r,n]=_.useState([]),[a,i]=_.useState(!0),[o,l]=_.useState(!1),[c,d]=_.useState({open:!1,id:null}),[u,f]=_.useState({title:"",category:"",priority:"medium",description:"",images:[]}),A=async()=>{try{const C=await qe.get("/maintenance/tenant");n(C.data)}catch(C){console.error("Error fetching requests:",C)}};_.useEffect(()=>{e?A():t||i(!1)},[e,t]);const m=["Plumbing","Electrical","Carpentry","Painting","Cleaning","Appliances","Other"],x=async C=>{var N,j;C.preventDefault(),i(!0);try{await qe.post("/maintenance",u),await A(),f({title:"",category:"",priority:"medium",description:"",images:[]}),l(!1)}catch(P){console.error("Error creating request:",P),alert("Failed to submit request: "+(((j=(N=P.response)==null?void 0:N.data)==null?void 0:j.message)||P.message))}finally{i(!1)}},g=C=>{d({open:!0,id:C})},y=async()=>{try{await qe.patch(`/maintenance/${c.id}`,{status:"cancelled"}),await A(),d({open:!1,id:null})}catch(C){console.error("Error cancelling request:",C),alert("Failed to cancel request")}},v=C=>{switch(C){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},b=C=>{switch(C){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-orange-100 text-orange-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return t?s.jsx(Br,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Gd,{className:"w-12 h-12 animate-spin text-orange-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading maintenance portal..."})]})})}):e?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(Gd,{className:"w-10 h-10 mr-3"}),"Maintenance Requests"]}),s.jsx("p",{className:"text-orange-100 text-lg",children:"Report and track maintenance issues"})]}),s.jsx("button",{onClick:()=>l(!o),className:"bg-white text-orange-600 px-6 py-3 rounded-lg font-bold hover:bg-orange-50 transition-colors shadow-lg",children:o?"Cancel":"+ New Request"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-yellow-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(C=>C.status==="pending").length})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Hn,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"In Progress"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(C=>C.status==="in-progress").length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Gd,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Completed"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(C=>C.status==="completed").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(At,{className:"w-6 h-6 text-green-600"})})]})})]}),o&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"New Maintenance Request"}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",required:!0,value:u.title,onChange:C=>f({...u,title:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Brief description of the issue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{required:!0,value:u.category,onChange:C=>f({...u,category:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select category"}),m.map(C=>s.jsx("option",{value:C,children:C},C))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),s.jsx("div",{className:"flex gap-4",children:["low","medium","high"].map(C=>s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"radio",name:"priority",value:C,checked:u.priority===C,onChange:N=>f({...u,priority:N.target.value}),className:"mr-2"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium capitalize ${b(C)}`,children:C})]},C))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{required:!0,value:u.description,onChange:C=>f({...u,description:C.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Provide detailed information about the issue..."})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors flex items-center gap-2",children:[s.jsx(OA,{className:"w-4 h-4"}),"Submit Request"]})]})]})]}),s.jsx("div",{className:"space-y-4",children:r.map((C,N)=>s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o?0:.4+N*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${C.status==="completed"?"bg-green-100":C.status==="in-progress"?"bg-blue-100":"bg-yellow-100"}`,children:C.status==="completed"?s.jsx(At,{className:"w-6 h-6 text-green-600"}):C.status==="in-progress"?s.jsx(Gd,{className:"w-6 h-6 text-blue-600"}):s.jsx(Hn,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:C.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.category})]})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:C.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fr,{className:"w-4 h-4"}),"Created: ",w(C.createdAt)]}),C.assignedTo&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sg,{className:"w-4 h-4"}),C.assignedTo]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${v(C.status)}`,children:C.status.replace("-"," ")}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${b(C.priority)}`,children:[C.priority," Priority"]}),C.status==="pending"&&s.jsx("button",{onClick:()=>g(C._id),className:"px-3 py-1 bg-red-50 text-red-600 rounded-full text-xs font-medium hover:bg-red-100 transition-colors border border-red-200",children:"Cancel"})]})]})})},C._id||C.id))}),r.length===0&&s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx($t,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No maintenance requests yet"}),s.jsx("button",{onClick:()=>l(!0),className:"mt-4 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Your First Request"})]}),s.jsx(Sr,{children:c.open&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs(J.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Cancel Request?"}),s.jsx("button",{onClick:()=>d({open:!1,id:null}),className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(nr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to cancel this maintenance request? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>d({open:!1,id:null}),className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Keep Request"}),s.jsx("button",{onClick:y,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Yes, Cancel"})]})]})})})]})})}):s.jsx(Br,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[s.jsx($t,{className:"w-16 h-16 text-gray-300 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600 max-w-md",children:"You need to have an active tenancy to submit maintenance requests."})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nk=function(e,t){return nk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},nk(e,t)};function wc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nk(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sk=function(){return sk=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sk.apply(this,arguments)};function Ni(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,[])).next())})}function si(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],a=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function lw(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var yu=function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s5=function(e,t){return yu.fromClientRect(e,t.getBoundingClientRect())},n1e=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new yu(0,0,n,a)},a5=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},Ms=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=e[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},oU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s1e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cw=0;cw<oU.length;cw++)s1e[oU.charCodeAt(cw)]=cw;var lU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dw=0;dw<lU.length;dw++)xx[lU.charCodeAt(dw)]=dw;var a1e=function(e){var t=e.length*.75,r=e.length,n,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=xx[e.charCodeAt(n)],o=xx[e.charCodeAt(n+1)],l=xx[e.charCodeAt(n+2)],c=xx[e.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},i1e=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},o1e=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},vA=5,J6=11,WC=2,l1e=J6-vA,wq=65536>>vA,c1e=1<<vA,GC=c1e-1,d1e=1024>>vA,u1e=wq+d1e,h1e=u1e,f1e=32,A1e=h1e+f1e,m1e=65536>>J6,p1e=1<<l1e,g1e=p1e-1,cU=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},x1e=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},y1e=function(e,t){var r=a1e(e),n=Array.isArray(r)?o1e(r):new Uint32Array(r),a=Array.isArray(r)?i1e(r):new Uint16Array(r),i=24,o=cU(a,i/2,n[4]/2),l=n[5]===2?cU(a,(i+n[4])/2):x1e(n,Math.ceil((i+n[4])/4));return new v1e(n[0],n[1],n[2],n[3],o,l)},v1e=function(){function e(t,r,n,a,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>vA],r=(r<<WC)+(t&GC),this.data[r];if(t<=65535)return r=this.index[wq+(t-55296>>vA)],r=(r<<WC)+(t&GC),this.data[r];if(t<this.highStart)return r=A1e-m1e+(t>>J6),r=this.index[r],r+=t>>vA&g1e,r=this.index[r],r=(r<<WC)+(t&GC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),dU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b1e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var uw=0;uw<dU.length;uw++)b1e[dU.charCodeAt(uw)]=uw;var w1e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",uU=50,j1e=1,jq=2,Nq=3,N1e=4,_1e=5,hU=7,_q=8,fU=9,Ch=10,ak=11,AU=12,ik=13,C1e=14,yx=15,ok=16,hw=17,z0=18,S1e=19,mU=20,lk=21,V0=22,qC=23,Lm=24,vo=25,vx=26,bx=27,Fm=28,B1e=29,Gf=30,k1e=31,fw=32,Aw=33,ck=34,dk=35,uk=36,Oy=37,hk=38,O1=39,L1=40,YC=41,Cq=42,E1e=43,P1e=[9001,65288],Sq="!",Mr="",mw="",fk=y1e(w1e),Ld=[Gf,uk],Ak=[j1e,jq,Nq,_1e],Bq=[Ch,_q],pU=[bx,vx],I1e=Ak.concat(Bq),gU=[hk,O1,L1,ck,dk],T1e=[yx,ik],O1e=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(i,o){var l=fk.get(i);if(l>uU?(a.push(!0),l-=uU):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(ok);if(l===N1e||l===ak){if(o===0)return n.push(o),r.push(Gf);var c=r[o-1];return I1e.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(Gf))}if(n.push(o),l===k1e)return r.push(t==="strict"?lk:Oy);if(l===Cq||l===B1e)return r.push(Gf);if(l===E1e)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Oy):r.push(Gf);r.push(l)}),[n,r,a]},XC=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===t)return!0;if(o!==Ch)break}if(a===Ch)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===t)return!0;if(o!==Ch)break}if(l!==Ch)break}return!1},xU=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===Ch)r--;else return n}return 0},L1e=function(e,t,r,n,a){if(r[n]===0)return Mr;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return Mr;var o=i-1,l=i+1,c=t[i],d=o>=0?t[o]:0,u=t[l];if(c===jq&&u===Nq)return Mr;if(Ak.indexOf(c)!==-1)return Sq;if(Ak.indexOf(u)!==-1||Bq.indexOf(u)!==-1)return Mr;if(xU(i,t)===_q)return mw;if(fk.get(e[i])===ak||(c===fw||c===Aw)&&fk.get(e[l])===ak||c===hU||u===hU||c===fU||[Ch,ik,yx].indexOf(c)===-1&&u===fU||[hw,z0,S1e,Lm,Fm].indexOf(u)!==-1||xU(i,t)===V0||XC(qC,V0,i,t)||XC([hw,z0],lk,i,t)||XC(AU,AU,i,t))return Mr;if(c===Ch)return mw;if(c===qC||u===qC)return Mr;if(u===ok||c===ok)return mw;if([ik,yx,lk].indexOf(u)!==-1||c===C1e||d===uk&&T1e.indexOf(c)!==-1||c===Fm&&u===uk||u===mU||Ld.indexOf(u)!==-1&&c===vo||Ld.indexOf(c)!==-1&&u===vo||c===bx&&[Oy,fw,Aw].indexOf(u)!==-1||[Oy,fw,Aw].indexOf(c)!==-1&&u===vx||Ld.indexOf(c)!==-1&&pU.indexOf(u)!==-1||pU.indexOf(c)!==-1&&Ld.indexOf(u)!==-1||[bx,vx].indexOf(c)!==-1&&(u===vo||[V0,yx].indexOf(u)!==-1&&t[l+1]===vo)||[V0,yx].indexOf(c)!==-1&&u===vo||c===vo&&[vo,Fm,Lm].indexOf(u)!==-1)return Mr;if([vo,Fm,Lm,hw,z0].indexOf(u)!==-1)for(var f=i;f>=0;){var A=t[f];if(A===vo)return Mr;if([Fm,Lm].indexOf(A)!==-1)f--;else break}if([bx,vx].indexOf(u)!==-1)for(var f=[hw,z0].indexOf(c)!==-1?o:i;f>=0;){var A=t[f];if(A===vo)return Mr;if([Fm,Lm].indexOf(A)!==-1)f--;else break}if(hk===c&&[hk,O1,ck,dk].indexOf(u)!==-1||[O1,ck].indexOf(c)!==-1&&[O1,L1].indexOf(u)!==-1||[L1,dk].indexOf(c)!==-1&&u===L1||gU.indexOf(c)!==-1&&[mU,vx].indexOf(u)!==-1||gU.indexOf(u)!==-1&&c===bx||Ld.indexOf(c)!==-1&&Ld.indexOf(u)!==-1||c===Lm&&Ld.indexOf(u)!==-1||Ld.concat(vo).indexOf(c)!==-1&&u===V0&&P1e.indexOf(e[l])===-1||Ld.concat(vo).indexOf(u)!==-1&&c===z0)return Mr;if(c===YC&&u===YC){for(var m=r[i],x=1;m>0&&(m--,t[m]===YC);)x++;if(x%2!==0)return Mr}return c===fw&&u===Aw?Mr:mw},F1e=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=O1e(e,t.lineBreak),n=r[0],a=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(l){return[vo,Gf,Cq].indexOf(l)!==-1?Oy:l}));var o=t.wordBreak==="keep-all"?i.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,a,o]},R1e=function(){function e(t,r,n,a){this.codePoints=t,this.required=r===Sq,this.start=n,this.end=a}return e.prototype.slice=function(){return Ms.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),U1e=function(e,t){var r=a5(e),n=F1e(r,t),a=n[0],i=n[1],o=n[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=Mr;d<l&&(u=L1e(r,i,a,++d,o))===Mr;);if(u!==Mr||d===l){var f=new R1e(r,u,c,d);return c=d,{value:f,done:!1}}return{done:!0,value:null}}}},D1e=1,M1e=2,eb=4,yU=8,Q2=10,vU=47,Kx=92,Q1e=9,$1e=32,pw=34,K0=61,H1e=35,z1e=36,V1e=37,gw=39,xw=40,W0=41,K1e=95,Wi=45,W1e=33,G1e=60,q1e=62,Y1e=64,X1e=91,Z1e=93,J1e=61,e2e=123,yw=63,t2e=125,bU=124,r2e=126,n2e=128,wU=65533,ZC=42,aA=43,s2e=44,a2e=58,i2e=59,Ly=46,o2e=0,l2e=8,c2e=11,d2e=14,u2e=31,h2e=127,Uc=-1,kq=48,Eq=97,Pq=101,f2e=102,A2e=117,m2e=122,Iq=65,Tq=69,Oq=70,p2e=85,g2e=90,oi=function(e){return e>=kq&&e<=57},x2e=function(e){return e>=55296&&e<=57343},Rm=function(e){return oi(e)||e>=Iq&&e<=Oq||e>=Eq&&e<=f2e},y2e=function(e){return e>=Eq&&e<=m2e},v2e=function(e){return e>=Iq&&e<=g2e},b2e=function(e){return y2e(e)||v2e(e)},w2e=function(e){return e>=n2e},vw=function(e){return e===Q2||e===Q1e||e===$1e},$2=function(e){return b2e(e)||w2e(e)||e===K1e},jU=function(e){return $2(e)||oi(e)||e===Wi},j2e=function(e){return e>=o2e&&e<=l2e||e===c2e||e>=d2e&&e<=u2e||e===h2e},Ah=function(e,t){return e!==Kx?!1:t!==Q2},bw=function(e,t,r){return e===Wi?$2(t)||Ah(t,r):$2(e)?!0:!!(e===Kx&&Ah(e,t))},JC=function(e,t,r){return e===aA||e===Wi?oi(t)?!0:t===Ly&&oi(r):oi(e===Ly?t:e)},N2e=function(e){var t=0,r=1;(e[t]===aA||e[t]===Wi)&&(e[t]===Wi&&(r=-1),t++);for(var n=[];oi(e[t]);)n.push(e[t++]);var a=n.length?parseInt(Ms.apply(void 0,n),10):0;e[t]===Ly&&t++;for(var i=[];oi(e[t]);)i.push(e[t++]);var o=i.length,l=o?parseInt(Ms.apply(void 0,i),10):0;(e[t]===Tq||e[t]===Pq)&&t++;var c=1;(e[t]===aA||e[t]===Wi)&&(e[t]===Wi&&(c=-1),t++);for(var d=[];oi(e[t]);)d.push(e[t++]);var u=d.length?parseInt(Ms.apply(void 0,d),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*u)},_2e={type:2},C2e={type:3},S2e={type:4},B2e={type:13},k2e={type:8},E2e={type:21},P2e={type:9},I2e={type:10},T2e={type:11},O2e={type:12},L2e={type:14},ww={type:23},F2e={type:1},R2e={type:25},U2e={type:24},D2e={type:26},M2e={type:27},Q2e={type:28},$2e={type:29},H2e={type:31},mk={type:32},Lq=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(a5(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==mk;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case pw:return this.consumeStringToken(pw);case H1e:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(jU(r)||Ah(n,a)){var i=bw(r,n,a)?M1e:D1e,o=this.consumeName();return{type:5,value:o,flags:i}}break;case z1e:if(this.peekCodePoint(0)===K0)return this.consumeCodePoint(),B2e;break;case gw:return this.consumeStringToken(gw);case xw:return _2e;case W0:return C2e;case ZC:if(this.peekCodePoint(0)===K0)return this.consumeCodePoint(),L2e;break;case aA:if(JC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case s2e:return S2e;case Wi:var l=t,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(JC(l,c,d))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(bw(l,c,d))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Wi&&d===q1e)return this.consumeCodePoint(),this.consumeCodePoint(),U2e;break;case Ly:if(JC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case vU:if(this.peekCodePoint(0)===ZC)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===ZC&&(u=this.consumeCodePoint(),u===vU))return this.consumeToken();if(u===Uc)return this.consumeToken()}break;case a2e:return D2e;case i2e:return M2e;case G1e:if(this.peekCodePoint(0)===W1e&&this.peekCodePoint(1)===Wi&&this.peekCodePoint(2)===Wi)return this.consumeCodePoint(),this.consumeCodePoint(),R2e;break;case Y1e:var f=this.peekCodePoint(0),A=this.peekCodePoint(1),m=this.peekCodePoint(2);if(bw(f,A,m)){var o=this.consumeName();return{type:7,value:o}}break;case X1e:return Q2e;case Kx:if(Ah(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case Z1e:return $2e;case J1e:if(this.peekCodePoint(0)===K0)return this.consumeCodePoint(),k2e;break;case e2e:return T2e;case t2e:return O2e;case A2e:case p2e:var x=this.peekCodePoint(0),g=this.peekCodePoint(1);return x===aA&&(Rm(g)||g===yw)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case bU:if(this.peekCodePoint(0)===K0)return this.consumeCodePoint(),P2e;if(this.peekCodePoint(0)===bU)return this.consumeCodePoint(),E2e;break;case r2e:if(this.peekCodePoint(0)===K0)return this.consumeCodePoint(),I2e;break;case Uc:return mk}return vw(t)?(this.consumeWhiteSpace(),H2e):oi(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):$2(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ms(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Rm(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===yw&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(Ms.apply(void 0,t.map(function(c){return c===yw?kq:c})),16),i=parseInt(Ms.apply(void 0,t.map(function(c){return c===yw?Oq:c})),16);return{type:30,start:a,end:i}}var o=parseInt(Ms.apply(void 0,t),16);if(this.peekCodePoint(0)===Wi&&Rm(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Rm(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(Ms.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===xw?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===xw?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Uc)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===gw||r===pw){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Uc||this.peekCodePoint(0)===W0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),ww)}for(;;){var a=this.consumeCodePoint();if(a===Uc||a===W0)return{type:22,value:Ms.apply(void 0,t)};if(vw(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Uc||this.peekCodePoint(0)===W0?(this.consumeCodePoint(),{type:22,value:Ms.apply(void 0,t)}):(this.consumeBadUrlRemnants(),ww);if(a===pw||a===gw||a===xw||j2e(a))return this.consumeBadUrlRemnants(),ww;if(a===Kx)if(Ah(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ww;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;vw(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===W0||t===Uc)return;Ah(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=Ms.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===Uc||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===Q2)return this._value.splice(0,n),F2e;if(a===Kx){var i=this._value[n+1];i!==Uc&&i!==void 0&&(i===Q2?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Ah(a,i)&&(r+=this.consumeStringSlice(n),r+=Ms(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=eb,n=this.peekCodePoint(0);for((n===aA||n===Wi)&&t.push(this.consumeCodePoint());oi(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Ly&&oi(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=yU;oi(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Tq||n===Pq)&&((a===aA||a===Wi)&&oi(i)||oi(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=yU;oi(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[N2e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(bw(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===V1e?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Rm(t)){for(var r=Ms(t);Rm(this.peekCodePoint(0))&&r.length<6;)r+=Ms(this.consumeCodePoint());vw(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||x2e(n)||n>1114111?wU:n}return t===Uc?wU:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(jU(r))t+=Ms(r);else if(Ah(r,this.peekCodePoint(0)))t+=Ms(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),Fq=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new Lq;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||V2e(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?mk:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),tb=function(e){return e.type===15},Xg=function(e){return e.type===17},Sn=function(e){return e.type===20},z2e=function(e){return e.type===0},pk=function(e,t){return Sn(e)&&e.value===t},Rq=function(e){return e.type!==31},cg=function(e){return e.type!==31&&e.type!==4},yd=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},V2e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},rf=function(e){return e.type===17||e.type===15},Xs=function(e){return e.type===16||rf(e)},Uq=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Da={type:17,number:0,flags:eb},eI={type:16,number:50,flags:eb},Sh={type:16,number:100,flags:eb},wx=function(e,t,r){var n=e[0],a=e[1];return[Qn(n,t),Qn(typeof a<"u"?a:n,r)]},Qn=function(e,t){if(e.type===16)return e.number/100*t;if(tb(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Dq="deg",Mq="grad",Qq="rad",$q="turn",i5={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Dq:return Math.PI*t.number/180;case Mq:return Math.PI/200*t.number;case Qq:return t.number;case $q:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Hq=function(e){return e.type===15&&(e.unit===Dq||e.unit===Mq||e.unit===Qq||e.unit===$q)},zq=function(e){var t=e.filter(Sn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Da,Da];case"to top":case"bottom":return hl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Da,Sh];case"to right":case"left":return hl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Sh,Sh];case"to bottom":case"top":return hl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Sh,Da];case"to left":case"right":return hl(270)}return 0},hl=function(e){return Math.PI*e/180},zh={name:"color",parse:function(e,t){if(t.type===18){var r=K2e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return Bh(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return Bh(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return Bh(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return Bh(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var l=lu[t.value.toUpperCase()];if(typeof l<"u")return l}return lu.TRANSPARENT}},Vh=function(e){return(255&e)===0},va=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},Bh=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},NU=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},_U=function(e,t){var r=t.filter(cg);if(r.length===3){var n=r.map(NU),a=n[0],i=n[1],o=n[2];return Bh(a,i,o,1)}if(r.length===4){var l=r.map(NU),a=l[0],i=l[1],o=l[2],c=l[3];return Bh(a,i,o,c)}return 0};function eS(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var CU=function(e,t){var r=t.filter(cg),n=r[0],a=r[1],i=r[2],o=r[3],l=(n.type===17?hl(n.number):i5.parse(e,n))/(Math.PI*2),c=Xs(a)?a.number/100:0,d=Xs(i)?i.number/100:0,u=typeof o<"u"&&Xs(o)?Qn(o,1):1;if(c===0)return Bh(d*255,d*255,d*255,1);var f=d<=.5?d*(c+1):d+c-d*c,A=d*2-f,m=eS(A,f,l+1/3),x=eS(A,f,l),g=eS(A,f,l-1/3);return Bh(m*255,x*255,g*255,u)},K2e={hsl:CU,hsla:CU,rgb:_U,rgba:_U},Wx=function(e,t){return zh.parse(e,Fq.create(t).parseComponentValue())},lu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},W2e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Sn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},G2e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},o5=function(e,t){var r=zh.parse(e,t[0]),n=t[1];return n&&Xs(n)?{color:r,stop:n}:{color:r,stop:null}},SU=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Da),n.stop===null&&(n.stop=Sh);for(var a=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var c=Qn(l,t);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var d=null,o=0;o<a.length;o++){var u=a[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var f=o-d,A=a[d-1],m=(u-A)/(f+1),x=1;x<=f;x++)a[d+x-1]=m*x;d=null}}return e.map(function(g,y){var v=g.color;return{color:v,stop:Math.max(Math.min(1,a[y]/t),0)}})},q2e=function(e,t,r){var n=t/2,a=r/2,i=Qn(e[0],t)-n,o=a-Qn(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},Y2e=function(e,t,r){var n=typeof e=="number"?e:q2e(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[a,i-d,i+d,o-c,o+c]},Gl=function(e,t){return Math.sqrt(e*e+t*t)},BU=function(e,t,r,n,a){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,l){var c=l[0],d=l[1],u=Gl(r-c,n-d);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},X2e=function(e,t,r,n,a){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)i=o=Math.min(Gl(t,r),Gl(t,r-a),Gl(t-n,r),Gl(t-n,r-a));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),c=BU(n,a,t,r,!0),d=c[0],u=c[1];i=Gl(d-t,(u-r)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)i=o=Math.max(Gl(t,r),Gl(t,r-a),Gl(t-n,r),Gl(t-n,r-a));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),f=BU(n,a,t,r,!1),d=f[0],u=f[1];i=Gl(d-t,(u-r)/l),o=l*i}break}return Array.isArray(e.size)&&(i=Qn(e.size[0],n),o=e.size.length===2?Qn(e.size[1],a):i),[i,o]},Z2e=function(e,t){var r=hl(180),n=[];return yd(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=zq(a);return}else if(Hq(o)){r=i5.parse(e,o);return}}var l=o5(e,a);n.push(l)}),{angle:r,stops:n,type:1}},jw=function(e,t){var r=hl(180),n=[];return yd(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=zq(a);return}else if(Hq(o)){r=(i5.parse(e,o)+hl(270))%hl(360);return}}var l=o5(e,a);n.push(l)}),{angle:r,stops:n,type:1}},J2e=function(e,t){var r=hl(180),n=[],a=1,i=0,o=3,l=[];return yd(t).forEach(function(c,d){var u=c[0];if(d===0){if(Sn(u)&&u.value==="linear"){a=1;return}else if(Sn(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var f=zh.parse(e,u.values[0]);n.push({stop:Da,color:f})}else if(u.name==="to"){var f=zh.parse(e,u.values[0]);n.push({stop:Sh,color:f})}else if(u.name==="color-stop"){var A=u.values.filter(cg);if(A.length===2){var f=zh.parse(e,A[1]),m=A[0];Xg(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:f})}}}}),a===1?{angle:(r+hl(180))%hl(360),stops:n,type:a}:{size:o,shape:i,stops:n,position:l,type:a}},Vq="closest-side",Kq="farthest-side",Wq="closest-corner",Gq="farthest-corner",qq="circle",Yq="ellipse",Xq="cover",Zq="contain",eje=function(e,t){var r=0,n=3,a=[],i=[];return yd(t).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(f,A){if(d)if(Sn(A))switch(A.value){case"center":return i.push(eI),f;case"top":case"left":return i.push(Da),f;case"right":case"bottom":return i.push(Sh),f}else(Xs(A)||rf(A))&&i.push(A);else if(Sn(A))switch(A.value){case qq:return r=0,!1;case Yq:return r=1,!1;case"at":return d=!0,!1;case Vq:return n=0,!1;case Xq:case Kq:return n=1,!1;case Zq:case Wq:return n=2,!1;case Gq:return n=3,!1}else if(rf(A)||Xs(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return f},c)}if(c){var u=o5(e,o);a.push(u)}}),{size:n,shape:r,stops:a,position:i,type:2}},Nw=function(e,t){var r=0,n=3,a=[],i=[];return yd(t).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,f){if(Sn(f))switch(f.value){case"center":return i.push(eI),!1;case"top":case"left":return i.push(Da),!1;case"right":case"bottom":return i.push(Sh),!1}else if(Xs(f)||rf(f))return i.push(f),!1;return u},c):l===1&&(c=o.reduce(function(u,f){if(Sn(f))switch(f.value){case qq:return r=0,!1;case Yq:return r=1,!1;case Zq:case Vq:return n=0,!1;case Kq:return n=1,!1;case Wq:return n=2,!1;case Xq:case Gq:return n=3,!1}else if(rf(f)||Xs(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return u},c)),c){var d=o5(e,o);a.push(d)}}),{size:n,shape:r,stops:a,position:i,type:2}},tje=function(e){return e.type===1},rje=function(e){return e.type===2},tI={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=Jq[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function nje(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Jq[e.name])}var Jq={"linear-gradient":Z2e,"-moz-linear-gradient":jw,"-ms-linear-gradient":jw,"-o-linear-gradient":jw,"-webkit-linear-gradient":jw,"radial-gradient":eje,"-moz-radial-gradient":Nw,"-ms-radial-gradient":Nw,"-o-radial-gradient":Nw,"-webkit-radial-gradient":Nw,"-webkit-gradient":J2e},sje={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return cg(n)&&nje(n)}).map(function(n){return tI.parse(e,n)})}},aje={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Sn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ije={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return yd(t).map(function(r){return r.filter(Xs)}).map(Uq)}},oje={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return yd(t).map(function(r){return r.filter(Sn).map(function(n){return n.value}).join(" ")}).map(lje)}},lje=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Mp;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Mp||(Mp={}));var cje={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return yd(t).map(function(r){return r.filter(dje)})}},dje=function(e){return Sn(e)||Xs(e)},l5=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},uje=l5("top"),hje=l5("right"),fje=l5("bottom"),Aje=l5("left"),c5=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return Uq(r.filter(Xs))}}},mje=c5("top-left"),pje=c5("top-right"),gje=c5("bottom-right"),xje=c5("bottom-left"),d5=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},yje=d5("top"),vje=d5("right"),bje=d5("bottom"),wje=d5("left"),u5=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return tb(r)?r.number:0}}},jje=u5("top"),Nje=u5("right"),_je=u5("bottom"),Cje=u5("left"),Sje={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Bje={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},kje={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Sn).reduce(function(r,n){return r|Eje(n.value)},0)}},Eje=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Pje={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Ije={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},H2;(function(e){e.NORMAL="normal",e.STRICT="strict"})(H2||(H2={}));var Tje={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return H2.STRICT;case"normal":default:return H2.NORMAL}}},Oje={name:"line-height",initialValue:"normal",prefix:!1,type:4},kU=function(e,t){return Sn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Xs(e)?Qn(e,t):t},Lje={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:tI.parse(e,t)}},Fje={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},gk={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},h5=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Rje=h5("top"),Uje=h5("right"),Dje=h5("bottom"),Mje=h5("left"),Qje={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Sn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},$je={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},f5=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Hje=f5("top"),zje=f5("right"),Vje=f5("bottom"),Kje=f5("left"),Wje={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Gje={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},qje={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&pk(t[0],"none")?[]:yd(t).map(function(r){for(var n={color:lu.TRANSPARENT,offsetX:Da,offsetY:Da,blur:Da},a=0,i=0;i<r.length;i++){var o=r[i];rf(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=zh.parse(e,o)}return n})}},Yje={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Xje={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=eNe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Zje=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},Jje=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,a,i,o,l]:null},eNe={matrix:Zje,matrix3d:Jje},EU={type:16,number:50,flags:eb},tNe=[EU,EU],rNe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Xs);return r.length!==2?tNe:[r[0],r[1]]}},nNe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Gx;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Gx||(Gx={}));var sNe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Gx.BREAK_ALL;case"keep-all":return Gx.KEEP_ALL;case"normal":default:return Gx.NORMAL}}},aNe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Xg(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},eY={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},iNe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Xg(t)?t.number:1}},oNe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lNe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Sn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},cNe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},dNe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},uNe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Xg(t))return t.number;if(Sn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},hNe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Sn).map(function(r){return r.value})}},fNe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ma=function(e,t){return(e&t)!==0},ANe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},mNe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(Rq),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&Xg(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},pNe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(Rq),a=0;a<n.length;a++){var i=n[a],o=n[a+1];if(Sn(i)&&i.value!=="none"){var l=o&&Xg(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},gNe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(tb).map(function(r){return eY.parse(e,r)})}},xNe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(z2e);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;n.push({open:o,close:l})}return n}},PU=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},yNe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&pk(t[0],"none")?[]:yd(t).map(function(r){for(var n={color:255,offsetX:Da,offsetY:Da,blur:Da,spread:Da,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];pk(o,"inset")?n.inset=!0:rf(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=zh.parse(e,o)}return n})}},vNe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Sn).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},bNe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},wNe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return tb(t)?t.number:0}},jNe=function(){function e(t,r){var n,a;this.animationDuration=Rt(t,gNe,r.animationDuration),this.backgroundClip=Rt(t,W2e,r.backgroundClip),this.backgroundColor=Rt(t,G2e,r.backgroundColor),this.backgroundImage=Rt(t,sje,r.backgroundImage),this.backgroundOrigin=Rt(t,aje,r.backgroundOrigin),this.backgroundPosition=Rt(t,ije,r.backgroundPosition),this.backgroundRepeat=Rt(t,oje,r.backgroundRepeat),this.backgroundSize=Rt(t,cje,r.backgroundSize),this.borderTopColor=Rt(t,uje,r.borderTopColor),this.borderRightColor=Rt(t,hje,r.borderRightColor),this.borderBottomColor=Rt(t,fje,r.borderBottomColor),this.borderLeftColor=Rt(t,Aje,r.borderLeftColor),this.borderTopLeftRadius=Rt(t,mje,r.borderTopLeftRadius),this.borderTopRightRadius=Rt(t,pje,r.borderTopRightRadius),this.borderBottomRightRadius=Rt(t,gje,r.borderBottomRightRadius),this.borderBottomLeftRadius=Rt(t,xje,r.borderBottomLeftRadius),this.borderTopStyle=Rt(t,yje,r.borderTopStyle),this.borderRightStyle=Rt(t,vje,r.borderRightStyle),this.borderBottomStyle=Rt(t,bje,r.borderBottomStyle),this.borderLeftStyle=Rt(t,wje,r.borderLeftStyle),this.borderTopWidth=Rt(t,jje,r.borderTopWidth),this.borderRightWidth=Rt(t,Nje,r.borderRightWidth),this.borderBottomWidth=Rt(t,_je,r.borderBottomWidth),this.borderLeftWidth=Rt(t,Cje,r.borderLeftWidth),this.boxShadow=Rt(t,yNe,r.boxShadow),this.color=Rt(t,Sje,r.color),this.direction=Rt(t,Bje,r.direction),this.display=Rt(t,kje,r.display),this.float=Rt(t,Pje,r.cssFloat),this.fontFamily=Rt(t,cNe,r.fontFamily),this.fontSize=Rt(t,dNe,r.fontSize),this.fontStyle=Rt(t,fNe,r.fontStyle),this.fontVariant=Rt(t,hNe,r.fontVariant),this.fontWeight=Rt(t,uNe,r.fontWeight),this.letterSpacing=Rt(t,Ije,r.letterSpacing),this.lineBreak=Rt(t,Tje,r.lineBreak),this.lineHeight=Rt(t,Oje,r.lineHeight),this.listStyleImage=Rt(t,Lje,r.listStyleImage),this.listStylePosition=Rt(t,Fje,r.listStylePosition),this.listStyleType=Rt(t,gk,r.listStyleType),this.marginTop=Rt(t,Rje,r.marginTop),this.marginRight=Rt(t,Uje,r.marginRight),this.marginBottom=Rt(t,Dje,r.marginBottom),this.marginLeft=Rt(t,Mje,r.marginLeft),this.opacity=Rt(t,iNe,r.opacity);var i=Rt(t,Qje,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Rt(t,$je,r.overflowWrap),this.paddingTop=Rt(t,Hje,r.paddingTop),this.paddingRight=Rt(t,zje,r.paddingRight),this.paddingBottom=Rt(t,Vje,r.paddingBottom),this.paddingLeft=Rt(t,Kje,r.paddingLeft),this.paintOrder=Rt(t,vNe,r.paintOrder),this.position=Rt(t,Gje,r.position),this.textAlign=Rt(t,Wje,r.textAlign),this.textDecorationColor=Rt(t,oNe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Rt(t,lNe,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=Rt(t,qje,r.textShadow),this.textTransform=Rt(t,Yje,r.textTransform),this.transform=Rt(t,Xje,r.transform),this.transformOrigin=Rt(t,rNe,r.transformOrigin),this.visibility=Rt(t,nNe,r.visibility),this.webkitTextStrokeColor=Rt(t,bNe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Rt(t,wNe,r.webkitTextStrokeWidth),this.wordBreak=Rt(t,sNe,r.wordBreak),this.zIndex=Rt(t,aNe,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Vh(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return ma(this.display,4)||ma(this.display,33554432)||ma(this.display,268435456)||ma(this.display,536870912)||ma(this.display,67108864)||ma(this.display,134217728)},e}(),NNe=function(){function e(t,r){this.content=Rt(t,ANe,r.content),this.quotes=Rt(t,xNe,r.quotes)}return e}(),IU=function(){function e(t,r){this.counterIncrement=Rt(t,mNe,r.counterIncrement),this.counterReset=Rt(t,pNe,r.counterReset)}return e}(),Rt=function(e,t,r){var n=new Lq,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var i=new Fq(n.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,Sn(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return i5.parse(e,i.parseComponentValue());case"color":return zh.parse(e,i.parseComponentValue());case"image":return tI.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return rf(l)?l:Da;case"length-percentage":var c=i.parseComponentValue();return Xs(c)?c:Da;case"time":return eY.parse(e,i.parseComponentValue())}break}},_Ne="data-html2canvas-debug",CNe=function(e){var t=e.getAttribute(_Ne);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},xk=function(e,t){var r=CNe(e);return r===1||t===r},vd=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,xk(r,3))debugger;this.styles=new jNe(t,window.getComputedStyle(r,null)),bk(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=s5(this.context,r),xk(r,4)&&(this.flags|=16)}return e}(),SNe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",TU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _w=0;_w<TU.length;_w++)jx[TU.charCodeAt(_w)]=_w;var BNe=function(e){var t=e.length*.75,r=e.length,n,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)i=jx[e.charCodeAt(n)],o=jx[e.charCodeAt(n+1)],l=jx[e.charCodeAt(n+2)],c=jx[e.charCodeAt(n+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},kNe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},ENe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},bA=5,rI=11,tS=2,PNe=rI-bA,tY=65536>>bA,INe=1<<bA,rS=INe-1,TNe=1024>>bA,ONe=tY+TNe,LNe=ONe,FNe=32,RNe=LNe+FNe,UNe=65536>>rI,DNe=1<<PNe,MNe=DNe-1,OU=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},QNe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},$Ne=function(e,t){var r=BNe(e),n=Array.isArray(r)?ENe(r):new Uint32Array(r),a=Array.isArray(r)?kNe(r):new Uint16Array(r),i=24,o=OU(a,i/2,n[4]/2),l=n[5]===2?OU(a,(i+n[4])/2):QNe(n,Math.ceil((i+n[4])/4));return new HNe(n[0],n[1],n[2],n[3],o,l)},HNe=function(){function e(t,r,n,a,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>bA],r=(r<<tS)+(t&rS),this.data[r];if(t<=65535)return r=this.index[tY+(t-55296>>bA)],r=(r<<tS)+(t&rS),this.data[r];if(t<this.highStart)return r=RNe-UNe+(t>>rI),r=this.index[r],r+=t>>bA&MNe,r=this.index[r],r=(r<<tS)+(t&rS),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),LU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zNe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Cw=0;Cw<LU.length;Cw++)zNe[LU.charCodeAt(Cw)]=Cw;var VNe=1,nS=2,sS=3,FU=4,RU=5,KNe=7,UU=8,aS=9,iS=10,DU=11,MU=12,QU=13,$U=14,oS=15,WNe=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},GNe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=e[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},qNe=$Ne(SNe),nl="",lS="",YNe=function(e){return qNe.get(e)},XNe=function(e,t,r){var n=r-2,a=t[n],i=t[r-1],o=t[r];if(i===nS&&o===sS)return nl;if(i===nS||i===sS||i===FU||o===nS||o===sS||o===FU)return lS;if(i===UU&&[UU,aS,DU,MU].indexOf(o)!==-1||(i===DU||i===aS)&&(o===aS||o===iS)||(i===MU||i===iS)&&o===iS||o===QU||o===RU||o===KNe||i===VNe)return nl;if(i===QU&&o===$U){for(;a===RU;)a=t[--n];if(a===$U)return nl}if(i===oS&&o===oS){for(var l=0;a===oS;)l++,a=t[--n];if(l%2===0)return nl}return lS},ZNe=function(e){var t=WNe(e),r=t.length,n=0,a=0,i=t.map(YNe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=nl;n<r&&(o=XNe(t,i,++n))===nl;);if(o!==nl||n===r){var l=GNe.apply(null,t.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},JNe=function(e){for(var t=ZNe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},e5e=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(e.body.removeChild(n),i===t)return!0}}return!1},t5e=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=a5(n.data).map(function(c){return Ms(c)}),i=0,o={},l=a.every(function(c,d){r.setStart(n,i),r.setEnd(n,i+c.length);var u=r.getBoundingClientRect();i+=c.length;var f=u.x>o.x||u.y>o.y;return o=u,d===0?!0:f});return e.body.removeChild(t),l},r5e=function(){return typeof new Image().crossOrigin<"u"},n5e=function(){return typeof new XMLHttpRequest().responseType=="string"},s5e=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},HU=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},a5e=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=t.toDataURL();a.src=i;var o=yk(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),zU(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=e.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=r+"px",HU(c)?zU(yk(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),HU(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},yk=function(e,t,r,n,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},zU=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ua={get SUPPORT_RANGE_BOUNDS(){var e=e5e(document);return Object.defineProperty(Ua,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ua.SUPPORT_RANGE_BOUNDS&&t5e(document);return Object.defineProperty(Ua,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=s5e(document);return Object.defineProperty(Ua,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?a5e(document):Promise.resolve(!1);return Object.defineProperty(Ua,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=r5e();return Object.defineProperty(Ua,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=n5e();return Object.defineProperty(Ua,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ua,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ua,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},qx=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),i5e=function(e,t,r,n){var a=c5e(t,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Ua.SUPPORT_RANGE_BOUNDS){var c=VU(n,o,l.length).getClientRects();if(c.length>1){var d=nI(l),u=0;d.forEach(function(A){i.push(new qx(A,yu.fromDOMRectList(e,VU(n,u+o,A.length).getClientRects()))),u+=A.length})}else i.push(new qx(l,yu.fromDOMRectList(e,c)))}else{var f=n.splitText(l.length);i.push(new qx(l,o5e(e,n))),n=f}else Ua.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},o5e=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var i=s5(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return yu.EMPTY},VU=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},nI=function(e){if(Ua.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return JNe(e)},l5e=function(e,t){if(Ua.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return u5e(e,t)},c5e=function(e,t){return t.letterSpacing!==0?nI(e):l5e(e,t)},d5e=[32,160,4961,65792,65793,4153,4241],u5e=function(e,t){for(var r=U1e(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,i=function(){if(a.value){var o=a.value.slice(),l=a5(o),c="";l.forEach(function(d){d5e.indexOf(d)===-1?c+=Ms(d):(c.length&&n.push(c),n.push(Ms(d)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},h5e=function(){function e(t,r,n){this.text=f5e(r.data,n.textTransform),this.textBounds=i5e(t,this.text,n,r)}return e}(),f5e=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(A5e,m5e);case 2:return e.toUpperCase();default:return e}},A5e=/(^|\s|:|-|\(|\))([a-z])/g,m5e=function(e,t,r){return e.length>0?t+r.toUpperCase():e},rY=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(vd),nY=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(vd),sY=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=new XMLSerializer,o=s5(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(vd),aY=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(vd),vk=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(vd),p5e=[{type:15,flags:0,unit:"px",number:3}],g5e=[{type:16,flags:0,number:50}],x5e=function(e){return e.width>e.height?new yu(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new yu(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},y5e=function(e){var t=e.type===v5e?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},z2="checkbox",V2="radio",v5e="password",KU=707406591,sI=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=y5e(n),(a.type===z2||a.type===V2)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=x5e(a.bounds)),a.type){case z2:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=p5e;break;case V2:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=g5e;break}return a}return t}(vd),iY=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return t}(vd),oY=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(vd),lY=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=dY(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Wx(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):lu.TRANSPARENT,o=n.contentWindow.document.body?Wx(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):lu.TRANSPARENT;a.backgroundColor=Vh(i)?Vh(o)?a.styles.backgroundColor:o:i}}catch{}return a}return t}(vd),b5e=["OL","UL","MENU"],F1=function(e,t,r,n){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,uY(a)&&a.data.trim().length>0)r.textNodes.push(new h5e(e,a,r.styles));else if(gp(a))if(mY(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return F1(e,l,r,n)});else{var o=cY(e,a);o.styles.isVisible()&&(w5e(a,o,n)?o.flags|=4:j5e(o.styles)&&(o.flags|=2),b5e.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?F1(e,a.shadowRoot,o,n):!K2(a)&&!hY(a)&&!W2(a)&&F1(e,a,o,n))}},cY=function(e,t){return wk(t)?new rY(e,t):fY(t)?new nY(e,t):hY(t)?new sY(e,t):N5e(t)?new aY(e,t):_5e(t)?new vk(e,t):C5e(t)?new sI(e,t):W2(t)?new iY(e,t):K2(t)?new oY(e,t):AY(t)?new lY(e,t):new vd(e,t)},dY=function(e,t){var r=cY(e,t);return r.flags|=4,F1(e,t,r,r),r},w5e=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||aI(e)&&r.styles.isTransparent()},j5e=function(e){return e.isPositioned()||e.isFloating()},uY=function(e){return e.nodeType===Node.TEXT_NODE},gp=function(e){return e.nodeType===Node.ELEMENT_NODE},bk=function(e){return gp(e)&&typeof e.style<"u"&&!R1(e)},R1=function(e){return typeof e.className=="object"},N5e=function(e){return e.tagName==="LI"},_5e=function(e){return e.tagName==="OL"},C5e=function(e){return e.tagName==="INPUT"},S5e=function(e){return e.tagName==="HTML"},hY=function(e){return e.tagName==="svg"},aI=function(e){return e.tagName==="BODY"},fY=function(e){return e.tagName==="CANVAS"},WU=function(e){return e.tagName==="VIDEO"},wk=function(e){return e.tagName==="IMG"},AY=function(e){return e.tagName==="IFRAME"},GU=function(e){return e.tagName==="STYLE"},B5e=function(e){return e.tagName==="SCRIPT"},K2=function(e){return e.tagName==="TEXTAREA"},W2=function(e){return e.tagName==="SELECT"},mY=function(e){return e.tagName==="SLOT"},qU=function(e){return e.tagName.indexOf("-")>0},k5e=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,i=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},e}(),YU={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},XU={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},E5e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},P5e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Um=function(e,t,r,n,a,i){return e<t||e>r?Fy(e,a,i.length>0):n.integers.reduce(function(o,l,c){for(;e>=l;)e-=l,o+=n.values[c];return o},"")+i},pY=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},Us=function(e,t,r,n,a){var i=r-t+1;return(e<0?"-":"")+(pY(Math.abs(e),i,n,function(o){return Ms(Math.floor(o%i)+t)})+a)},Lf=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return pY(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},Ym=1,ch=2,dh=4,Nx=8,Fd=function(e,t,r,n,a,i){if(e<-9999||e>9999)return Fy(e,4,a.length>0);var o=Math.abs(e),l=a;if(o===0)return t[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&ma(i,Ym)&&l!==""?l=t[d]+l:d>1||d===1&&c===0||d===1&&c===1&&ma(i,ch)||d===1&&c===1&&ma(i,dh)&&e>100||d===1&&c>1&&ma(i,Nx)?l=t[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},ZU="",JU="",eD="",cS="",Fy=function(e,t,r){var n=r?". ":"",a=r?"":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Us(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Lf(e,"",a);case 6:return Um(e,1,3999,YU,3,n).toLowerCase();case 7:return Um(e,1,3999,YU,3,n);case 8:return Us(e,945,969,!1,n);case 9:return Us(e,97,122,!1,n);case 10:return Us(e,65,90,!1,n);case 11:return Us(e,1632,1641,!0,n);case 12:case 49:return Um(e,1,9999,XU,3,n);case 35:return Um(e,1,9999,XU,3,n).toLowerCase();case 13:return Us(e,2534,2543,!0,n);case 14:case 30:return Us(e,6112,6121,!0,n);case 15:return Lf(e,"",a);case 16:return Lf(e,"",a);case 17:case 48:return Fd(e,"",ZU,"",a,ch|dh|Nx);case 47:return Fd(e,"",JU,"",a,Ym|ch|dh|Nx);case 42:return Fd(e,"",ZU,"",a,ch|dh|Nx);case 41:return Fd(e,"",JU,"",a,Ym|ch|dh|Nx);case 26:return Fd(e,"","",eD,a,0);case 25:return Fd(e,"","",eD,a,Ym|ch|dh);case 31:return Fd(e,"","",cS,i,Ym|ch|dh);case 33:return Fd(e,"","",cS,i,0);case 32:return Fd(e,"","",cS,i,Ym|ch|dh);case 18:return Us(e,2406,2415,!0,n);case 20:return Um(e,1,19999,P5e,3,n);case 21:return Us(e,2790,2799,!0,n);case 22:return Us(e,2662,2671,!0,n);case 22:return Um(e,1,10999,E5e,3,n);case 23:return Lf(e,"");case 24:return Lf(e,"");case 27:return Us(e,3302,3311,!0,n);case 28:return Lf(e,"",a);case 29:return Lf(e,"",a);case 34:return Us(e,3792,3801,!0,n);case 37:return Us(e,6160,6169,!0,n);case 38:return Us(e,4160,4169,!0,n);case 39:return Us(e,2918,2927,!0,n);case 40:return Us(e,1776,1785,!0,n);case 43:return Us(e,3046,3055,!0,n);case 44:return Us(e,3174,3183,!0,n);case 45:return Us(e,3664,3673,!0,n);case 46:return Us(e,3872,3881,!0,n);case 3:default:return Us(e,48,57,!0,n)}},gY="data-html2canvas-ignore",tD=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new k5e,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=I5e(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=a.contentWindow,c=l.document,d=L5e(a).then(function(){return Ni(n,void 0,void 0,function(){var u,f;return si(this,function(A){switch(A.label){case 0:return this.scrolledElements.forEach(D5e),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,O5e(c)]:[3,4];case 3:A.sent(),A.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,f)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(R5e(document.doctype)+"<html></html>"),U5e(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},e.prototype.createElementClone=function(t){if(xk(t,2))debugger;if(fY(t))return this.createCanvasClone(t);if(WU(t))return this.createVideoClone(t);if(GU(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return wk(r)&&(wk(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),qU(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return dS(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!gp(r)||!B5e(r)&&!r.hasAttribute(gY)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!gp(r)||!GU(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(gp(i)&&mY(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if(uY(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&gp(t)&&(bk(t)||R1(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&bk(a)&&(this.clonedReferenceElement=a),aI(a)&&$5e(a);var c=this.counters.parse(new IU(this.context,i)),d=this.resolvePseudoContent(t,a,o,Yx.BEFORE);qU(t)&&(r=!0),WU(t)||this.cloneChildNodes(t,a,r),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(t,a,l,Yx.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||R1(t))&&!AY(t)||r)&&dS(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(K2(t)||W2(t))&&(K2(a)||W2(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new IU(this.context,n));var c=new NNe(this.context,n),d=l.createElement("html2canvaspseudoelement");dS(n,d),c.content.forEach(function(f){if(f.type===0)d.appendChild(l.createTextNode(f.value));else if(f.type===22){var A=l.createElement("img");A.src=f.value,A.style.opacity="1",d.appendChild(A)}else if(f.type===18){if(f.name==="attr"){var m=f.values.filter(Sn);m.length&&d.appendChild(l.createTextNode(t.getAttribute(m[0].value)||""))}else if(f.name==="counter"){var x=f.values.filter(cg),g=x[0],y=x[1];if(g&&Sn(g)){var v=i.counters.getCounterValue(g.value),b=y&&Sn(y)?gk.parse(i.context,y.value):3;d.appendChild(l.createTextNode(Fy(v,b,!1)))}}else if(f.name==="counters"){var w=f.values.filter(cg),g=w[0],C=w[1],y=w[2];if(g&&Sn(g)){var N=i.counters.getCounterValues(g.value),j=y&&Sn(y)?gk.parse(i.context,y.value):3,P=C&&C.type===0?C.value:"",k=N.map(function(B){return Fy(B,j,!1)}).join(P);d.appendChild(l.createTextNode(k))}}}else if(f.type===20)switch(f.value){case"open-quote":d.appendChild(l.createTextNode(PU(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(PU(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(f.value))}}),d.className=jk+" "+Nk;var u=a===Yx.BEFORE?" "+jk:" "+Nk;return R1(r)?r.className.baseValue+=u:r.className+=u,d}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Yx;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Yx||(Yx={}));var I5e=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(gY,"true"),e.body.appendChild(r),r},T5e=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},O5e=function(e){return Promise.all([].slice.call(e.images,0).map(T5e))},L5e=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},F5e=["all","d","content"],dS=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);F5e.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},R5e=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},U5e=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},D5e=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},M5e=":before",Q5e=":after",jk="___html2canvas___pseudoelement_before",Nk="___html2canvas___pseudoelement_after",rD=`{
    content: "" !important;
    display: none !important;
}`,$5e=function(e){H5e(e,"."+jk+M5e+rD+`
         .`+Nk+Q5e+rD)},H5e=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},xY=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),z5e=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(hS(t)||G5e(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Ni(this,void 0,void 0,function(){var r,n,a,i,o=this;return si(this,function(l){switch(l.label){case 0:return r=xY.isSameOrigin(t),n=!uS(t)&&this._options.useCORS===!0&&Ua.SUPPORT_CORS_IMAGES&&!r,a=!uS(t)&&!r&&!hS(t)&&typeof this._options.proxy=="string"&&Ua.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!uS(t)&&!hS(t)&&!a&&!n?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(q5e(i)||n)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,o){var l=Ua.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(A){return o(A)},!1),f.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+d+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},e}(),V5e=/^data:image\/svg\+xml/i,K5e=/^data:image\/.*;base64,/i,W5e=/^data:image\/.*/i,G5e=function(e){return Ua.SUPPORT_SVG_DRAWING||!Y5e(e)},uS=function(e){return W5e.test(e)},q5e=function(e){return K5e.test(e)},hS=function(e){return e.substr(0,4)==="blob"},Y5e=function(e){return e.substr(-3).toLowerCase()==="svg"||V5e.test(e)},Lt=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Dm=function(e,t,r){return new Lt(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},Sw=function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=Dm(this.start,this.startControl,t),a=Dm(this.startControl,this.endControl,t),i=Dm(this.endControl,this.end,t),o=Dm(n,a,t),l=Dm(a,i,t),c=Dm(o,l,t);return r?new e(this.start,n,o,c):new e(c,l,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),ll=function(e){return e.type===1},X5e=function(){function e(t){var r=t.styles,n=t.bounds,a=wx(r.borderTopLeftRadius,n.width,n.height),i=a[0],o=a[1],l=wx(r.borderTopRightRadius,n.width,n.height),c=l[0],d=l[1],u=wx(r.borderBottomRightRadius,n.width,n.height),f=u[0],A=u[1],m=wx(r.borderBottomLeftRadius,n.width,n.height),x=m[0],g=m[1],y=[];y.push((i+c)/n.width),y.push((x+f)/n.width),y.push((o+g)/n.height),y.push((d+A)/n.height);var v=Math.max.apply(Math,y);v>1&&(i/=v,o/=v,c/=v,d/=v,f/=v,A/=v,x/=v,g/=v);var b=n.width-c,w=n.height-A,C=n.width-f,N=n.height-g,j=r.borderTopWidth,P=r.borderRightWidth,k=r.borderBottomWidth,T=r.borderLeftWidth,O=Qn(r.paddingTop,t.bounds.width),B=Qn(r.paddingRight,t.bounds.width),F=Qn(r.paddingBottom,t.bounds.width),M=Qn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?ns(n.left+T/3,n.top+j/3,i-T/3,o-j/3,un.TOP_LEFT):new Lt(n.left+T/3,n.top+j/3),this.topRightBorderDoubleOuterBox=i>0||o>0?ns(n.left+b,n.top+j/3,c-P/3,d-j/3,un.TOP_RIGHT):new Lt(n.left+n.width-P/3,n.top+j/3),this.bottomRightBorderDoubleOuterBox=f>0||A>0?ns(n.left+C,n.top+w,f-P/3,A-k/3,un.BOTTOM_RIGHT):new Lt(n.left+n.width-P/3,n.top+n.height-k/3),this.bottomLeftBorderDoubleOuterBox=x>0||g>0?ns(n.left+T/3,n.top+N,x-T/3,g-k/3,un.BOTTOM_LEFT):new Lt(n.left+T/3,n.top+n.height-k/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?ns(n.left+T*2/3,n.top+j*2/3,i-T*2/3,o-j*2/3,un.TOP_LEFT):new Lt(n.left+T*2/3,n.top+j*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?ns(n.left+b,n.top+j*2/3,c-P*2/3,d-j*2/3,un.TOP_RIGHT):new Lt(n.left+n.width-P*2/3,n.top+j*2/3),this.bottomRightBorderDoubleInnerBox=f>0||A>0?ns(n.left+C,n.top+w,f-P*2/3,A-k*2/3,un.BOTTOM_RIGHT):new Lt(n.left+n.width-P*2/3,n.top+n.height-k*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||g>0?ns(n.left+T*2/3,n.top+N,x-T*2/3,g-k*2/3,un.BOTTOM_LEFT):new Lt(n.left+T*2/3,n.top+n.height-k*2/3),this.topLeftBorderStroke=i>0||o>0?ns(n.left+T/2,n.top+j/2,i-T/2,o-j/2,un.TOP_LEFT):new Lt(n.left+T/2,n.top+j/2),this.topRightBorderStroke=i>0||o>0?ns(n.left+b,n.top+j/2,c-P/2,d-j/2,un.TOP_RIGHT):new Lt(n.left+n.width-P/2,n.top+j/2),this.bottomRightBorderStroke=f>0||A>0?ns(n.left+C,n.top+w,f-P/2,A-k/2,un.BOTTOM_RIGHT):new Lt(n.left+n.width-P/2,n.top+n.height-k/2),this.bottomLeftBorderStroke=x>0||g>0?ns(n.left+T/2,n.top+N,x-T/2,g-k/2,un.BOTTOM_LEFT):new Lt(n.left+T/2,n.top+n.height-k/2),this.topLeftBorderBox=i>0||o>0?ns(n.left,n.top,i,o,un.TOP_LEFT):new Lt(n.left,n.top),this.topRightBorderBox=c>0||d>0?ns(n.left+b,n.top,c,d,un.TOP_RIGHT):new Lt(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||A>0?ns(n.left+C,n.top+w,f,A,un.BOTTOM_RIGHT):new Lt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||g>0?ns(n.left,n.top+N,x,g,un.BOTTOM_LEFT):new Lt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?ns(n.left+T,n.top+j,Math.max(0,i-T),Math.max(0,o-j),un.TOP_LEFT):new Lt(n.left+T,n.top+j),this.topRightPaddingBox=c>0||d>0?ns(n.left+Math.min(b,n.width-P),n.top+j,b>n.width+P?0:Math.max(0,c-P),Math.max(0,d-j),un.TOP_RIGHT):new Lt(n.left+n.width-P,n.top+j),this.bottomRightPaddingBox=f>0||A>0?ns(n.left+Math.min(C,n.width-T),n.top+Math.min(w,n.height-k),Math.max(0,f-P),Math.max(0,A-k),un.BOTTOM_RIGHT):new Lt(n.left+n.width-P,n.top+n.height-k),this.bottomLeftPaddingBox=x>0||g>0?ns(n.left+T,n.top+Math.min(N,n.height-k),Math.max(0,x-T),Math.max(0,g-k),un.BOTTOM_LEFT):new Lt(n.left+T,n.top+n.height-k),this.topLeftContentBox=i>0||o>0?ns(n.left+T+M,n.top+j+O,Math.max(0,i-(T+M)),Math.max(0,o-(j+O)),un.TOP_LEFT):new Lt(n.left+T+M,n.top+j+O),this.topRightContentBox=c>0||d>0?ns(n.left+Math.min(b,n.width+T+M),n.top+j+O,b>n.width+T+M?0:c-T+M,d-(j+O),un.TOP_RIGHT):new Lt(n.left+n.width-(P+B),n.top+j+O),this.bottomRightContentBox=f>0||A>0?ns(n.left+Math.min(C,n.width-(T+M)),n.top+Math.min(w,n.height+j+O),Math.max(0,f-(P+B)),A-(k+F),un.BOTTOM_RIGHT):new Lt(n.left+n.width-(P+B),n.top+n.height-(k+F)),this.bottomLeftContentBox=x>0||g>0?ns(n.left+T+M,n.top+N,Math.max(0,x-(T+M)),g-(k+F),un.BOTTOM_LEFT):new Lt(n.left+T+M,n.top+n.height-(k+F))}return e}(),un;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(un||(un={}));var ns=function(e,t,r,n,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,c=e+r,d=t+n;switch(a){case un.TOP_LEFT:return new Sw(new Lt(e,d),new Lt(e,d-l),new Lt(c-o,t),new Lt(c,t));case un.TOP_RIGHT:return new Sw(new Lt(e,t),new Lt(e+o,t),new Lt(c,d-l),new Lt(c,d));case un.BOTTOM_RIGHT:return new Sw(new Lt(c,t),new Lt(c,t+l),new Lt(e+o,d),new Lt(e,d));case un.BOTTOM_LEFT:default:return new Sw(new Lt(c,d),new Lt(c-o,d),new Lt(e,t+l),new Lt(e,t))}},G2=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Z5e=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},q2=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},J5e=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),Bw=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),e_e=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),t_e=function(e){return e.type===0},yY=function(e){return e.type===1},r_e=function(e){return e.type===2},nD=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},n_e=function(e,t,r,n,a){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+a);case 3:return i.add(t,r+a)}return i})},vY=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),bY=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new X5e(this.container),this.container.styles.opacity<1&&this.effects.push(new e_e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new J5e(n,a,i))}if(this.container.styles.overflowX!==0){var o=G2(this.curves),l=q2(this.curves);nD(o,l)?this.effects.push(new Bw(o,6)):(this.effects.push(new Bw(o,2)),this.effects.push(new Bw(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!yY(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=G2(n.curves),l=q2(n.curves);nD(o,l)||a.unshift(new Bw(l,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return ma(c.target,t)})},e}(),_k=function(e,t,r,n){e.container.elements.forEach(function(a){var i=ma(a.flags,4),o=ma(a.flags,2),l=new bY(a,e);ma(a.styles.display,2048)&&n.push(l);var c=ma(a.flags,8)?[]:n;if(i||o){var d=i||a.styles.isPositioned()?r:t,u=new vY(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var A=0;d.negativeZIndex.some(function(x,g){return f>x.element.container.styles.zIndex.order?(A=g,!1):A>0}),d.negativeZIndex.splice(A,0,u)}else if(f>0){var m=0;d.positiveZIndex.some(function(x,g){return f>=x.element.container.styles.zIndex.order?(m=g+1,!1):m>0}),d.positiveZIndex.splice(m,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);_k(l,u,i?u:r,c)}else a.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),_k(l,t,r,c);ma(a.flags,8)&&wY(a,c)})},wY=function(e,t){for(var r=e instanceof vk?e.start:1,n=e instanceof vk?e.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof aY&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Fy(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},s_e=function(e){var t=new bY(e,null),r=new vY(t),n=[];return _k(t,r,r,n),wY(t.container,n),r},sD=function(e,t){switch(t){case 0:return fl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return fl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return fl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return fl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},a_e=function(e,t){switch(t){case 0:return fl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return fl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return fl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return fl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},i_e=function(e,t){switch(t){case 0:return fl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return fl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return fl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return fl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},o_e=function(e,t){switch(t){case 0:return kw(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return kw(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return kw(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return kw(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},kw=function(e,t){var r=[];return ll(e)?r.push(e.subdivide(.5,!1)):r.push(e),ll(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},fl=function(e,t,r,n){var a=[];return ll(e)?a.push(e.subdivide(.5,!1)):a.push(e),ll(r)?a.push(r.subdivide(.5,!0)):a.push(r),ll(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),ll(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},jY=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Y2=function(e){var t=e.styles,r=e.bounds,n=Qn(t.paddingLeft,r.width),a=Qn(t.paddingRight,r.width),i=Qn(t.paddingTop,r.width),o=Qn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+i+o))},l_e=function(e,t){return e===0?t.bounds:e===2?Y2(t):jY(t)},c_e=function(e,t){return e===0?t.bounds:e===2?Y2(t):jY(t)},fS=function(e,t,r){var n=l_e(Xm(e.styles.backgroundOrigin,t),e),a=c_e(Xm(e.styles.backgroundClip,t),e),i=d_e(Xm(e.styles.backgroundSize,t),r,n),o=i[0],l=i[1],c=wx(Xm(e.styles.backgroundPosition,t),n.width-o,n.height-l),d=u_e(Xm(e.styles.backgroundRepeat,t),c,i,n,a),u=Math.round(n.left+c[0]),f=Math.round(n.top+c[1]);return[d,u,f,o,l]},Mm=function(e){return Sn(e)&&e.value===Mp.AUTO},Ew=function(e){return typeof e=="number"},d_e=function(e,t,r){var n=t[0],a=t[1],i=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Xs(o)&&l&&Xs(l))return[Qn(o,r.width),Qn(l,r.height)];var c=Ew(i);if(Sn(o)&&(o.value===Mp.CONTAIN||o.value===Mp.COVER)){if(Ew(i)){var d=r.width/r.height;return d<i!=(o.value===Mp.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=Ew(n),f=Ew(a),A=u||f;if(Mm(o)&&(!l||Mm(l))){if(u&&f)return[n,a];if(!c&&!A)return[r.width,r.height];if(A&&c){var m=u?n:a*i,x=f?a:n/i;return[m,x]}var g=u?n:r.width,y=f?a:r.height;return[g,y]}if(c){var v=0,b=0;return Xs(o)?v=Qn(o,r.width):Xs(l)&&(b=Qn(l,r.height)),Mm(o)?v=b*i:(!l||Mm(l))&&(b=v/i),[v,b]}var w=null,C=null;if(Xs(o)?w=Qn(o,r.width):l&&Xs(l)&&(C=Qn(l,r.height)),w!==null&&(!l||Mm(l))&&(C=u&&f?w/n*a:r.height),C!==null&&Mm(o)&&(w=u&&f?C/a*n:r.width),w!==null&&C!==null)return[w,C];throw new Error("Unable to calculate background-size for element")},Xm=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},u_e=function(e,t,r,n,a){var i=t[0],o=t[1],l=r[0],c=r[1];switch(e){case 2:return[new Lt(Math.round(n.left),Math.round(n.top+o)),new Lt(Math.round(n.left+n.width),Math.round(n.top+o)),new Lt(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Lt(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Lt(Math.round(n.left+i),Math.round(n.top)),new Lt(Math.round(n.left+i+l),Math.round(n.top)),new Lt(Math.round(n.left+i+l),Math.round(n.height+n.top)),new Lt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Lt(Math.round(n.left+i),Math.round(n.top+o)),new Lt(Math.round(n.left+i+l),Math.round(n.top+o)),new Lt(Math.round(n.left+i+l),Math.round(n.top+o+c)),new Lt(Math.round(n.left+i),Math.round(n.top+o+c))];default:return[new Lt(Math.round(a.left),Math.round(a.top)),new Lt(Math.round(a.left+a.width),Math.round(a.top)),new Lt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Lt(Math.round(a.left),Math.round(a.height+a.top))]}},h_e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",aD="Hidden Text",f_e=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=h_e,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(aD)),n.appendChild(i),n.appendChild(a);var l=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(aD)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),NY=function(){function e(t,r){this.context=t,this.options=r}return e}(),A_e=1e4,m_e=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new f_e(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),r_e(r)&&(this.ctx.globalAlpha=r.opacity),t_e(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),yY(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Ni(this,void 0,void 0,function(){var n;return si(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Ni(this,void 0,void 0,function(){return si(this,function(n){switch(n.label){case 0:if(ma(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=nI(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+a),l+i.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=v_e(r.fontFamily).join(", "),i=tb(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(r,n){return Ni(this,void 0,void 0,function(){var a,i,o,l,c,d,u,f,A=this;return si(this,function(m){return a=this.createFontStyle(n),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,f=n.paintOrder,r.textBounds.forEach(function(x){f.forEach(function(g){switch(g){case 0:A.ctx.fillStyle=va(n.color),A.renderTextWithLetterSpacing(x,n.letterSpacing,d);var y=n.textShadow;y.length&&x.text.trim().length&&(y.slice(0).reverse().forEach(function(v){A.ctx.shadowColor=va(v.color),A.ctx.shadowOffsetX=v.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=v.offsetY.number*A.options.scale,A.ctx.shadowBlur=v.blur.number,A.renderTextWithLetterSpacing(x,n.letterSpacing,d)}),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),n.textDecorationLine.length&&(A.ctx.fillStyle=va(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:A.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+d),x.bounds.width,1);break;case 2:A.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:A.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+u),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(A.ctx.strokeStyle=va(n.webkitTextStrokeColor),A.ctx.lineWidth=n.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+d)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Y2(r),o=q2(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Ni(this,void 0,void 0,function(){var n,a,i,o,l,c,b,b,d,u,f,A,C,m,x,N,g,y,v,b,w,C,N;return si(this,function(j){switch(j.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,o=0,l=n.textNodes,j.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:j.sent(),j.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof rY))return[3,8];j.label=5;case 5:return j.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=j.sent(),this.renderReplacedElement(n,a,b),[3,8];case 7:return j.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof nY&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof sY))return[3,12];j.label=9;case 9:return j.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=j.sent(),this.renderReplacedElement(n,a,b),[3,12];case 11:return j.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof lY&&n.tree?(d=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:u=j.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),j.label=14;case 14:if(n instanceof sI&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===z2?n.checked&&(this.ctx.save(),this.path([new Lt(n.bounds.left+f*.39363,n.bounds.top+f*.79),new Lt(n.bounds.left+f*.16,n.bounds.top+f*.5549),new Lt(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new Lt(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new Lt(n.bounds.left+f*.72983,n.bounds.top+f*.23),new Lt(n.bounds.left+f*.84,n.bounds.top+f*.34085),new Lt(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=va(KU),this.ctx.fill(),this.ctx.restore()):n.type===V2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=va(KU),this.ctx.fill(),this.ctx.restore())),p_e(n)&&n.value.length){switch(A=this.createFontStyle(i),C=A[0],m=A[1],x=this.fontMetrics.getMetrics(C,m).baseline,this.ctx.font=C,this.ctx.fillStyle=va(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=x_e(n.styles.textAlign),N=Y2(n),g=0,n.styles.textAlign){case 1:g+=N.width/2;break;case 2:g+=N.width;break}y=N.add(g,0,0,-N.height/2+1),this.ctx.save(),this.path([new Lt(N.left,N.top),new Lt(N.left+N.width,N.top),new Lt(N.left+N.width,N.top+N.height),new Lt(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new qx(n.value,y),i.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ma(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];b=void 0,w=v.url,j.label=15;case 15:return j.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return b=j.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return j.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(C=this.createFontStyle(i)[0],this.ctx.font=C,this.ctx.fillStyle=va(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new yu(n.bounds.left,n.bounds.top+Qn(n.styles.paddingTop,n.bounds.width),n.bounds.width,kU(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new qx(r.listValue,N),i.letterSpacing,kU(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),j.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Ni(this,void 0,void 0,function(){var n,a,v,i,o,v,l,c,v,d,u,v,f,A,v,m,x,v,g,y,v;return si(this,function(b){switch(b.label){case 0:if(ma(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,a=r.negativeZIndex,b.label=2;case 2:return n<a.length?(v=a[n],[4,this.renderStack(v)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),i=0,o=r.nonInlineLevel,b.label=7;case 7:return i<o.length?(v=o[i],[4,this.renderNode(v)]):[3,10];case 8:b.sent(),b.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,b.label=11;case 11:return l<c.length?(v=c[l],[4,this.renderStack(v)]):[3,14];case 12:b.sent(),b.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,b.label=15;case 15:return d<u.length?(v=u[d],[4,this.renderStack(v)]):[3,18];case 16:b.sent(),b.label=17;case 17:return d++,[3,15];case 18:f=0,A=r.inlineLevel,b.label=19;case 19:return f<A.length?(v=A[f],[4,this.renderNode(v)]):[3,22];case 20:b.sent(),b.label=21;case 21:return f++,[3,19];case 22:m=0,x=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return m<x.length?(v=x[m],[4,this.renderStack(v)]):[3,26];case 24:b.sent(),b.label=25;case 25:return m++,[3,23];case 26:g=0,y=r.positiveZIndex,b.label=27;case 27:return g<y.length?(v=y[g],[4,this.renderStack(v)]):[3,30];case 28:b.sent(),b.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var o=ll(a)?a.start:a;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),ll(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},t.prototype.renderBackgroundImage=function(r){return Ni(this,void 0,void 0,function(){var n,a,i,o,l,c;return si(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,a=function(u){var f,A,m,O,G,$,M,R,k,x,O,G,$,M,R,g,y,v,b,w,C,N,j,P,k,T,O,B,F,M,R,H,G,$,V,te,re,K,z,ee,W,ne;return si(this,function(se){switch(se.label){case 0:if(u.type!==0)return[3,5];f=void 0,A=u.url,se.label=1;case 1:return se.trys.push([1,3,,4]),[4,i.context.cache.match(A)];case 2:return f=se.sent(),[3,4];case 3:return se.sent(),i.context.logger.error("Error loading background-image "+A),[3,4];case 4:return f&&(m=fS(r,n,[f.width,f.height,f.width/f.height]),O=m[0],G=m[1],$=m[2],M=m[3],R=m[4],k=i.ctx.createPattern(i.resizeImage(f,M,R),"repeat"),i.renderRepeat(O,k,G,$)),[3,6];case 5:tje(u)?(x=fS(r,n,[null,null,null]),O=x[0],G=x[1],$=x[2],M=x[3],R=x[4],g=Y2e(u.angle,M,R),y=g[0],v=g[1],b=g[2],w=g[3],C=g[4],N=document.createElement("canvas"),N.width=M,N.height=R,j=N.getContext("2d"),P=j.createLinearGradient(v,w,b,C),SU(u.stops,y).forEach(function(ce){return P.addColorStop(ce.stop,va(ce.color))}),j.fillStyle=P,j.fillRect(0,0,M,R),M>0&&R>0&&(k=i.ctx.createPattern(N,"repeat"),i.renderRepeat(O,k,G,$))):rje(u)&&(T=fS(r,n,[null,null,null]),O=T[0],B=T[1],F=T[2],M=T[3],R=T[4],H=u.position.length===0?[eI]:u.position,G=Qn(H[0],M),$=Qn(H[H.length-1],R),V=X2e(u,G,$,M,R),te=V[0],re=V[1],te>0&&re>0&&(K=i.ctx.createRadialGradient(B+G,F+$,0,B+G,F+$,te),SU(u.stops,te*2).forEach(function(ce){return K.addColorStop(ce.stop,va(ce.color))}),i.path(O),i.ctx.fillStyle=K,te!==re?(z=r.bounds.left+.5*r.bounds.width,ee=r.bounds.top+.5*r.bounds.height,W=re/te,ne=1/W,i.ctx.save(),i.ctx.translate(z,ee),i.ctx.transform(1,0,0,W,0,0),i.ctx.translate(-z,-ee),i.ctx.fillRect(B,ne*(F-ee)+ee,M,R*ne),i.ctx.restore()):i.ctx.fill())),se.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return Ni(this,void 0,void 0,function(){return si(this,function(i){return this.path(sD(a,n)),this.ctx.fillStyle=va(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,i){return Ni(this,void 0,void 0,function(){var o,l;return si(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=a_e(i,a),this.path(o),this.ctx.fillStyle=va(r),this.ctx.fill(),l=i_e(i,a),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Ni(this,void 0,void 0,function(){var n,a,i,o,l,c,d,u,f=this;return si(this,function(A){switch(A.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!Vh(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=g_e(Xm(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Vh(n.backgroundColor)||(this.ctx.fillStyle=va(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:A.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){f.ctx.save();var x=G2(r.curves),g=m.inset?0:A_e,y=n_e(x,-g+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(f.path(x),f.ctx.clip(),f.mask(y)):(f.mask(x),f.ctx.clip(),f.path(y)),f.ctx.shadowOffsetX=m.offsetX.number+g,f.ctx.shadowOffsetY=m.offsetY.number,f.ctx.shadowColor=va(m.color),f.ctx.shadowBlur=m.blur.number,f.ctx.fillStyle=m.inset?va(m.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),A.label=2;case 2:l=0,c=0,d=i,A.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!Vh(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return A.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return A.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return A.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:A.sent(),A.label=11;case 11:l++,A.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,i,o){return Ni(this,void 0,void 0,function(){var l,c,d,u,f,A,m,x,g,y,v,b,w,C,N,j,N,j;return si(this,function(P){return this.ctx.save(),l=o_e(i,a),c=sD(i,a),o===2&&(this.path(c),this.ctx.clip()),ll(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),ll(c[1])?(f=c[1].end.x,A=c[1].end.y):(f=c[1].x,A=c[1].y),a===0||a===2?m=Math.abs(d-f):m=Math.abs(u-A),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),x=n<3?n*3:n*2,g=n<3?n*2:n,o===3&&(x=n,g=n),y=!0,m<=x*2?y=!1:m<=x*2+g?(v=m/(2*x+g),x*=v,g*=v):(b=Math.floor((m+g)/(x+g)),w=(m-b*x)/(b-1),C=(m-(b+1)*x)/b,g=C<=0||Math.abs(g-w)<Math.abs(g-C)?w:C),y&&(o===3?this.ctx.setLineDash([0,x+g]):this.ctx.setLineDash([x,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=va(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ll(c[0])&&(N=c[3],j=c[0],this.ctx.beginPath(),this.formatPath([new Lt(N.end.x,N.end.y),new Lt(j.start.x,j.start.y)]),this.ctx.stroke()),ll(c[1])&&(N=c[1],j=c[2],this.ctx.beginPath(),this.formatPath([new Lt(N.end.x,N.end.y),new Lt(j.start.x,j.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Ni(this,void 0,void 0,function(){var n;return si(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=va(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=s_e(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(NY),p_e=function(e){return e instanceof oY||e instanceof iY?!0:e instanceof sI&&e.type!==V2&&e.type!==z2},g_e=function(e,t){switch(e){case 0:return G2(t);case 2:return Z5e(t);case 1:default:return q2(t)}},x_e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},y_e=["-apple-system","system-ui"],v_e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return y_e.indexOf(t)===-1}):e},b_e=function(e){wc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return Ni(this,void 0,void 0,function(){var n,a;return si(this,function(i){switch(i.label){case 0:return n=yk(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,w_e(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=va(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(NY),w_e=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},j_e=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,lw([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,lw([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,lw([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,lw([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),N_e=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new j_e({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new z5e(this,t)}return e.instanceCount=1,e}(),_Y=function(e,t){return t===void 0&&(t={}),__e(e,t)};typeof window<"u"&&xY.setContext(window);var __e=function(e,t){return Ni(void 0,void 0,void 0,function(){var r,n,a,i,o,l,c,d,u,f,A,m,x,g,y,v,b,w,C,N,P,j,P,k,T,O,B,F,M,R,H,G,$,V,te,re,K,z,ee,W;return si(this,function(ne){switch(ne.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(k=t.allowTaint)!==null&&k!==void 0?k:!1,imageTimeout:(T=t.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:t.proxy,useCORS:(O=t.useCORS)!==null&&O!==void 0?O:!1},i=sk({logging:(B=t.logging)!==null&&B!==void 0?B:!0,cache:t.cache},a),o={windowWidth:(F=t.windowWidth)!==null&&F!==void 0?F:n.innerWidth,windowHeight:(M=t.windowHeight)!==null&&M!==void 0?M:n.innerHeight,scrollX:(R=t.scrollX)!==null&&R!==void 0?R:n.pageXOffset,scrollY:(H=t.scrollY)!==null&&H!==void 0?H:n.pageYOffset},l=new yu(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new N_e(i,l),d=(G=t.foreignObjectRendering)!==null&&G!==void 0?G:!1,u={allowTaint:($=t.allowTaint)!==null&&$!==void 0?$:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),f=new tD(c,e,u),A=f.clonedReferenceElement,A?[4,f.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=ne.sent(),x=aI(A)||S5e(A)?n1e(A.ownerDocument):s5(c,A),g=x.width,y=x.height,v=x.left,b=x.top,w=C_e(c,A,t.backgroundColor),C={canvas:t.canvas,backgroundColor:w,scale:(te=(V=t.scale)!==null&&V!==void 0?V:n.devicePixelRatio)!==null&&te!==void 0?te:1,x:((re=t.x)!==null&&re!==void 0?re:0)+v,y:((K=t.y)!==null&&K!==void 0?K:0)+b,width:(z=t.width)!==null&&z!==void 0?z:Math.ceil(g),height:(ee=t.height)!==null&&ee!==void 0?ee:Math.ceil(y)},d?(c.logger.debug("Document cloned, using foreign object rendering"),P=new b_e(c,C),[4,P.render(A)]):[3,3];case 2:return N=ne.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+v+","+b+" with size "+g+"x"+y+" using computed rendering"),c.logger.debug("Starting DOM parsing"),j=dY(c,A),w===j.styles.backgroundColor&&(j.styles.backgroundColor=lu.TRANSPARENT),c.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),P=new m_e(c,C),[4,P.render(j)];case 4:N=ne.sent(),ne.label=5;case 5:return(!((W=t.removeContainer)!==null&&W!==void 0)||W)&&(tD.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},C_e=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?Wx(e,getComputedStyle(n.documentElement).backgroundColor):lu.TRANSPARENT,i=n.body?Wx(e,getComputedStyle(n.body).backgroundColor):lu.TRANSPARENT,o=typeof r=="string"?Wx(e,r):r===null?lu.TRANSPARENT:4294967295;return t===n.documentElement?Vh(a)?Vh(i)?o:i:a:o};const S_e=Object.freeze(Object.defineProperty({__proto__:null,default:_Y},Symbol.toStringTag,{value:"Module"})),B_e="modulepreload",k_e=function(e){return"/"+e},iD={},AS=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=k_e(c),c in iD)return;iD[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":B_e,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((A,m)=>{f.addEventListener("load",A),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function yn(e){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(e)}var pc=Uint8Array,Bo=Uint16Array,iI=Int32Array,oI=new pc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lI=new pc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oD=new pc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CY=function(e,t){for(var r=new Bo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new iI(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},SY=CY(oI,2),E_e=SY.b,Ck=SY.r;E_e[28]=258,Ck[258]=28;var P_e=CY(lI,0),lD=P_e.r,Sk=new Bo(32768);for(var Zn=0;Zn<32768;++Zn){var nh=(Zn&43690)>>1|(Zn&21845)<<1;nh=(nh&52428)>>2|(nh&13107)<<2,nh=(nh&61680)>>4|(nh&3855)<<4,Sk[Zn]=((nh&65280)>>8|(nh&255)<<8)>>1}var Xx=function(e,t,r){for(var n=e.length,a=0,i=new Bo(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new Bo(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Bo(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var d=a<<4|e[a],u=t-e[a],f=o[e[a]-1]++<<u,A=f|(1<<u)-1;f<=A;++f)l[Sk[f]>>c]=d}else for(l=new Bo(n),a=0;a<n;++a)e[a]&&(l[a]=Sk[o[e[a]-1]++]>>15-e[a]);return l},HA=new pc(288);for(var Zn=0;Zn<144;++Zn)HA[Zn]=8;for(var Zn=144;Zn<256;++Zn)HA[Zn]=9;for(var Zn=256;Zn<280;++Zn)HA[Zn]=7;for(var Zn=280;Zn<288;++Zn)HA[Zn]=8;var X2=new pc(32);for(var Zn=0;Zn<32;++Zn)X2[Zn]=5;var I_e=Xx(HA,9,0),T_e=Xx(X2,5,0),BY=function(e){return(e+7)/8|0},O_e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new pc(e.subarray(t,r))},Rd=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},G0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},mS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:EY,l:0};if(a==1){var o=new pc(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,j){return N.f-j.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[f].f?d++:f++],c=r[d!=u&&r[d].f<r[f].f?d++:f++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var A=i[0].s,n=1;n<a;++n)i[n].s>A&&(A=i[n].s);var m=new Bo(A+1),x=Bk(r[u-1],m,0);if(x>t){var n=0,g=0,y=x-t,v=1<<y;for(i.sort(function(j,P){return m[P.s]-m[j.s]||j.f-P.f});n<a;++n){var b=i[n].s;if(m[b]>t)g+=v-(1<<x-m[b]),m[b]=t;else break}for(g>>=y;g>0;){var w=i[n].s;m[w]<t?g-=1<<t-m[w]++-1:++n}for(;n>=0&&g;--n){var C=i[n].s;m[C]==t&&(--m[C],++g)}x=t}return{t:new pc(m),l:x}},Bk=function(e,t,r){return e.s==-1?Math.max(Bk(e.l,t,r+1),Bk(e.r,t,r+1)):t[e.s]=r},cD=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Bo(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},q0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},kY=function(e,t,r){var n=r.length,a=BY(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},dD=function(e,t,r,n,a,i,o,l,c,d,u){Rd(t,u++,r),++a[256];for(var f=mS(a,15),A=f.t,m=f.l,x=mS(i,15),g=x.t,y=x.l,v=cD(A),b=v.c,w=v.n,C=cD(g),N=C.c,j=C.n,P=new Bo(19),k=0;k<b.length;++k)++P[b[k]&31];for(var k=0;k<N.length;++k)++P[N[k]&31];for(var T=mS(P,7),O=T.t,B=T.l,F=19;F>4&&!O[oD[F-1]];--F);var M=d+5<<3,R=q0(a,HA)+q0(i,X2)+o,H=q0(a,A)+q0(i,g)+o+14+3*F+q0(P,O)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&M<=R&&M<=H)return kY(t,u,e.subarray(c,c+d));var G,$,V,te;if(Rd(t,u,1+(H<R)),u+=2,H<R){G=Xx(A,m,0),$=A,V=Xx(g,y,0),te=g;var re=Xx(O,B,0);Rd(t,u,w-257),Rd(t,u+5,j-1),Rd(t,u+10,F-4),u+=14;for(var k=0;k<F;++k)Rd(t,u+3*k,O[oD[k]]);u+=3*F;for(var K=[b,N],z=0;z<2;++z)for(var ee=K[z],k=0;k<ee.length;++k){var W=ee[k]&31;Rd(t,u,re[W]),u+=O[W],W>15&&(Rd(t,u,ee[k]>>5&127),u+=ee[k]>>12)}}else G=I_e,$=HA,V=T_e,te=X2;for(var k=0;k<l;++k){var ne=n[k];if(ne>255){var W=ne>>18&31;G0(t,u,G[W+257]),u+=$[W+257],W>7&&(Rd(t,u,ne>>23&31),u+=oI[W]);var se=ne&31;G0(t,u,V[se]),u+=te[se],se>3&&(G0(t,u,ne>>5&8191),u+=lI[se])}else G0(t,u,G[ne]),u+=$[ne]}return G0(t,u,G[256]),u+$[256]},L_e=new iI([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),EY=new pc(0),F_e=function(e,t,r,n,a,i){var o=i.z||e.length,l=new pc(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var f=L_e[t-1],A=f>>13,m=f&8191,x=(1<<r)-1,g=i.p||new Bo(32768),y=i.h||new Bo(x+1),v=Math.ceil(r/3),b=2*v,w=function(oe){return(e[oe]^e[oe+1]<<v^e[oe+2]<<b)&x},C=new iI(25e3),N=new Bo(288),j=new Bo(32),P=0,k=0,T=i.i||0,O=0,B=i.w||0,F=0;T+2<o;++T){var M=w(T),R=T&32767,H=y[M];if(g[R]=H,y[M]=R,B<=T){var G=o-T;if((P>7e3||O>24576)&&(G>423||!d)){u=dD(e,c,0,C,N,j,k,O,F,T-F,u),O=P=k=0,F=T;for(var $=0;$<286;++$)N[$]=0;for(var $=0;$<30;++$)j[$]=0}var V=2,te=0,re=m,K=R-H&32767;if(G>2&&M==w(T-K))for(var z=Math.min(A,G)-1,ee=Math.min(32767,T),W=Math.min(258,G);K<=ee&&--re&&R!=H;){if(e[T+V]==e[T+V-K]){for(var ne=0;ne<W&&e[T+ne]==e[T+ne-K];++ne);if(ne>V){if(V=ne,te=K,ne>z)break;for(var se=Math.min(K,ne-2),ce=0,$=0;$<se;++$){var ye=T-K+$&32767,Ae=g[ye],xe=ye-Ae&32767;xe>ce&&(ce=xe,H=ye)}}}R=H,H=g[R],K+=R-H&32767}if(te){C[O++]=268435456|Ck[V]<<18|lD[te];var le=Ck[V]&31,Z=lD[te]&31;k+=oI[le]+lI[Z],++N[257+le],++j[Z],B=T+V,++P}else C[O++]=e[T],++N[e[T]]}}for(T=Math.max(T,B);T<o;++T)C[O++]=e[T],++N[e[T]];u=dD(e,c,d,C,N,j,k,O,F,T-F,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=y,i.p=g,i.i=T,i.w=B)}else{for(var T=i.w||0;T<o+d;T+=65535){var pe=T+65535;pe>=o&&(c[u/8|0]=d,pe=o),u=kY(c,u+1,e.subarray(T,pe))}i.i=o}return O_e(l,0,n+BY(u)+a)},PY=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},R_e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new pc(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return F_e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},IY=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},U_e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=PY();a.p(t.dictionary),IY(e,2,a.d())}};function kk(e,t){t||(t={});var r=PY();r.p(e);var n=R_e(e,t,t.dictionary?6:2,4);return U_e(n,t),IY(n,n.length-4,r.d()),n}var D_e=typeof TextDecoder<"u"&&new TextDecoder,M_e=0;try{D_e.decode(EY,{stream:!0}),M_e=1}catch{}function Q_e(e){if(Array.isArray(e))return e}function $_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function uD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function H_e(e,t){if(e){if(typeof e=="string")return uD(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uD(e,t):void 0}}function z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hD(e,t){return Q_e(e)||$_e(e,t)||H_e(e,t)||z_e()}function fD(e,t="utf8"){return new TextDecoder(t).decode(e)}const V_e=new TextEncoder;function K_e(e){return V_e.encode(e)}const W_e=1024*8,G_e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),pS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class cI{constructor(t=W_e,r={}){xn(this,"buffer");xn(this,"byteLength");xn(this,"byteOffset");xn(this,"length");xn(this,"offset");xn(this,"lastWrittenByte");xn(this,"littleEndian");xn(this,"_data");xn(this,"_mark");xn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof cI)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=pS[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===G_e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new pS[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new pS[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return fD(this.readBytes(t))}decodeText(t=1,r="utf8"){return fD(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(K_e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Zg(e){let t=e.length;for(;--t>=0;)e[t]=0}const q_e=3,Y_e=258,TY=29,X_e=256,Z_e=X_e+1+TY,OY=30,J_e=512,eCe=new Array((Z_e+2)*2);Zg(eCe);const tCe=new Array(OY*2);Zg(tCe);const rCe=new Array(J_e);Zg(rCe);const nCe=new Array(Y_e-q_e+1);Zg(nCe);const sCe=new Array(TY);Zg(sCe);const aCe=new Array(OY);Zg(aCe);const iCe=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var Ek=iCe;const oCe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},lCe=new Uint32Array(oCe()),cCe=(e,t,r,n)=>{const a=lCe,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var Dc=cCe,Pk={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},LY={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const dCe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var uCe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)dCe(r,n)&&(e[n]=r[n])}}return e},hCe=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let o=e[n];r.set(o,a),a+=o.length}return r},FY={assign:uCe,flattenChunks:hCe};let RY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{RY=!1}const Ry=new Uint8Array(256);for(let e=0;e<256;e++)Ry[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ry[254]=Ry[254]=1;var fCe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const ACe=(e,t)=>{if(t<65534&&e.subarray&&RY)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var mCe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){i[a++]=o;continue}let l=Ry[o];if(l>4){i[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return ACe(i,a)},pCe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Ry[e[r]]>t?r:t},Ik={string2buf:fCe,buf2string:mCe,utf8border:pCe};function gCe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xCe=gCe;const Pw=16209,yCe=16191;var vCe=function(t,r){let n,a,i,o,l,c,d,u,f,A,m,x,g,y,v,b,w,C,N,j,P,k,T,O;const B=t.state;n=t.next_in,T=t.input,a=n+(t.avail_in-5),i=t.next_out,O=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=B.dmax,d=B.wsize,u=B.whave,f=B.wnext,A=B.window,m=B.hold,x=B.bits,g=B.lencode,y=B.distcode,v=(1<<B.lenbits)-1,b=(1<<B.distbits)-1;e:do{x<15&&(m+=T[n++]<<x,x+=8,m+=T[n++]<<x,x+=8),w=g[m&v];t:for(;;){if(C=w>>>24,m>>>=C,x-=C,C=w>>>16&255,C===0)O[i++]=w&65535;else if(C&16){N=w&65535,C&=15,C&&(x<C&&(m+=T[n++]<<x,x+=8),N+=m&(1<<C)-1,m>>>=C,x-=C),x<15&&(m+=T[n++]<<x,x+=8,m+=T[n++]<<x,x+=8),w=y[m&b];r:for(;;){if(C=w>>>24,m>>>=C,x-=C,C=w>>>16&255,C&16){if(j=w&65535,C&=15,x<C&&(m+=T[n++]<<x,x+=8,x<C&&(m+=T[n++]<<x,x+=8)),j+=m&(1<<C)-1,j>c){t.msg="invalid distance too far back",B.mode=Pw;break e}if(m>>>=C,x-=C,C=i-o,j>C){if(C=j-C,C>u&&B.sane){t.msg="invalid distance too far back",B.mode=Pw;break e}if(P=0,k=A,f===0){if(P+=d-C,C<N){N-=C;do O[i++]=A[P++];while(--C);P=i-j,k=O}}else if(f<C){if(P+=d+f-C,C-=f,C<N){N-=C;do O[i++]=A[P++];while(--C);if(P=0,f<N){C=f,N-=C;do O[i++]=A[P++];while(--C);P=i-j,k=O}}}else if(P+=f-C,C<N){N-=C;do O[i++]=A[P++];while(--C);P=i-j,k=O}for(;N>2;)O[i++]=k[P++],O[i++]=k[P++],O[i++]=k[P++],N-=3;N&&(O[i++]=k[P++],N>1&&(O[i++]=k[P++]))}else{P=i-j;do O[i++]=O[P++],O[i++]=O[P++],O[i++]=O[P++],N-=3;while(N>2);N&&(O[i++]=O[P++],N>1&&(O[i++]=O[P++]))}}else if(C&64){t.msg="invalid distance code",B.mode=Pw;break e}else{w=y[(w&65535)+(m&(1<<C)-1)];continue r}break}}else if(C&64)if(C&32){B.mode=yCe;break e}else{t.msg="invalid literal/length code",B.mode=Pw;break e}else{w=g[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(n<a&&i<l);N=x>>3,n-=N,x-=N<<3,m&=(1<<x)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<l?257+(l-i):257-(i-l),B.hold=m,B.bits=x};const Qm=15,AD=852,mD=592,pD=0,gS=1,gD=2,bCe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wCe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),jCe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),NCe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_Ce=(e,t,r,n,a,i,o,l)=>{const c=l.bits;let d=0,u=0,f=0,A=0,m=0,x=0,g=0,y=0,v=0,b=0,w,C,N,j,P,k=null,T;const O=new Uint16Array(Qm+1),B=new Uint16Array(Qm+1);let F=null,M,R,H;for(d=0;d<=Qm;d++)O[d]=0;for(u=0;u<n;u++)O[t[r+u]]++;for(m=c,A=Qm;A>=1&&O[A]===0;A--);if(m>A&&(m=A),A===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<A&&O[f]===0;f++);for(m<f&&(m=f),y=1,d=1;d<=Qm;d++)if(y<<=1,y-=O[d],y<0)return-1;if(y>0&&(e===pD||A!==1))return-1;for(B[1]=0,d=1;d<Qm;d++)B[d+1]=B[d]+O[d];for(u=0;u<n;u++)t[r+u]!==0&&(o[B[t[r+u]]++]=u);if(e===pD?(k=F=o,T=20):e===gS?(k=bCe,F=wCe,T=257):(k=jCe,F=NCe,T=0),b=0,u=0,d=f,P=i,x=m,g=0,N=-1,v=1<<m,j=v-1,e===gS&&v>AD||e===gD&&v>mD)return 1;for(;;){M=d-g,o[u]+1<T?(R=0,H=o[u]):o[u]>=T?(R=F[o[u]-T],H=k[o[u]-T]):(R=96,H=0),w=1<<d-g,C=1<<x,f=C;do C-=w,a[P+(b>>g)+C]=M<<24|R<<16|H|0;while(C!==0);for(w=1<<d-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,u++,--O[d]===0){if(d===A)break;d=t[r+o[u]]}if(d>m&&(b&j)!==N){for(g===0&&(g=m),P+=f,x=d-g,y=1<<x;x+g<A&&(y-=O[x+g],!(y<=0));)x++,y<<=1;if(v+=1<<x,e===gS&&v>AD||e===gD&&v>mD)return 1;N=b&j,a[N]=m<<24|x<<16|P-i|0}}return b!==0&&(a[P+b]=d-g<<24|64<<16|0),l.bits=m,0};var Zx=_Ce;const CCe=0,UY=1,DY=2,{Z_FINISH:xD,Z_BLOCK:SCe,Z_TREES:Iw,Z_OK:zA,Z_STREAM_END:BCe,Z_NEED_DICT:kCe,Z_STREAM_ERROR:bl,Z_DATA_ERROR:MY,Z_MEM_ERROR:QY,Z_BUF_ERROR:ECe,Z_DEFLATED:yD}=LY,A5=16180,vD=16181,bD=16182,wD=16183,jD=16184,ND=16185,_D=16186,CD=16187,SD=16188,BD=16189,Z2=16190,Ud=16191,xS=16192,kD=16193,yS=16194,ED=16195,PD=16196,ID=16197,TD=16198,Tw=16199,Ow=16200,OD=16201,LD=16202,FD=16203,RD=16204,UD=16205,vS=16206,DD=16207,MD=16208,ss=16209,$Y=16210,HY=16211,PCe=852,ICe=592,TCe=15,OCe=TCe,QD=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function LCe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const dm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<A5||t.mode>HY?1:0},zY=e=>{if(dm(e))return bl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=A5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(PCe),t.distcode=t.distdyn=new Int32Array(ICe),t.sane=1,t.back=-1,zA},VY=e=>{if(dm(e))return bl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,zY(e)},KY=(e,t)=>{let r;if(dm(e))return bl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?bl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,VY(e))},WY=(e,t)=>{if(!e)return bl;const r=new LCe;e.state=r,r.strm=e,r.window=null,r.mode=A5;const n=KY(e,t);return n!==zA&&(e.state=null),n},FCe=e=>WY(e,OCe);let $D=!0,bS,wS;const RCe=e=>{if($D){bS=new Int32Array(512),wS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Zx(UY,e.lens,0,288,bS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Zx(DY,e.lens,0,32,wS,0,e.work,{bits:5}),$D=!1}e.lencode=bS,e.lenbits=9,e.distcode=wS,e.distbits=5},GY=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},UCe=(e,t)=>{let r,n,a,i,o,l,c,d,u,f,A,m,x,g,y=0,v,b,w,C,N,j,P,k;const T=new Uint8Array(4);let O,B;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(dm(e)||!e.output||!e.input&&e.avail_in!==0)return bl;r=e.state,r.mode===Ud&&(r.mode=xS),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,f=l,A=c,k=zA;e:for(;;)switch(r.mode){case A5:if(r.wrap===0){r.mode=xS;break}for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=d&255,T[1]=d>>>8&255,r.check=Dc(r.check,T,2,0),d=0,u=0,r.mode=vD;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=ss;break}if((d&15)!==yD){e.msg="unknown compression method",r.mode=ss;break}if(d>>>=4,u-=4,P=(d&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){e.msg="invalid window size",r.mode=ss;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?BD:Ud,d=0,u=0;break;case vD:for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==yD){e.msg="unknown compression method",r.mode=ss;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ss;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Dc(r.check,T,2,0)),d=0,u=0,r.mode=bD;case bD:for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,T[2]=d>>>16&255,T[3]=d>>>24&255,r.check=Dc(r.check,T,4,0)),d=0,u=0,r.mode=wD;case wD:for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Dc(r.check,T,2,0)),d=0,u=0,r.mode=jD;case jD:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Dc(r.check,T,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=ND;case ND:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+m),P)),r.flags&512&&r.wrap&4&&(r.check=Dc(r.check,n,m,i)),l-=m,i+=m,r.length-=m),r.length))break e;r.length=0,r.mode=_D;case _D:if(r.flags&2048){if(l===0)break e;m=0;do P=n[i+m++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Dc(r.check,n,m,i)),l-=m,i+=m,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=CD;case CD:if(r.flags&4096){if(l===0)break e;m=0;do P=n[i+m++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Dc(r.check,n,m,i)),l-=m,i+=m,P)break e}else r.head&&(r.head.comment=null);r.mode=SD;case SD:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ss;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ud;break;case BD:for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}e.adler=r.check=QD(d),d=0,u=0,r.mode=Z2;case Z2:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,kCe;e.adler=r.check=1,r.mode=Ud;case Ud:if(t===SCe||t===Iw)break e;case xS:if(r.last){d>>>=u&7,u-=u&7,r.mode=vS;break}for(;u<3;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=kD;break;case 1:if(RCe(r),r.mode=Tw,t===Iw){d>>>=2,u-=2;break e}break;case 2:r.mode=PD;break;case 3:e.msg="invalid block type",r.mode=ss}d>>>=2,u-=2;break;case kD:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ss;break}if(r.length=d&65535,d=0,u=0,r.mode=yS,t===Iw)break e;case yS:r.mode=ED;case ED:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;a.set(n.subarray(i,i+m),o),l-=m,i+=m,c-=m,o+=m,r.length-=m;break}r.mode=Ud;break;case PD:for(;u<14;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ss;break}r.have=0,r.mode=ID;case ID:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.lens[F[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,O={bits:r.lenbits},k=Zx(CCe,r.lens,0,19,r.lencode,0,r.work,O),r.lenbits=O.bits,k){e.msg="invalid code lengths set",r.mode=ss;break}r.have=0,r.mode=TD;case TD:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[d&(1<<r.lenbits)-1],v=y>>>24,b=y>>>16&255,w=y&65535,!(v<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(w<16)d>>>=v,u-=v,r.lens[r.have++]=w;else{if(w===16){for(B=v+2;u<B;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(d>>>=v,u-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=ss;break}P=r.lens[r.have-1],m=3+(d&3),d>>>=2,u-=2}else if(w===17){for(B=v+3;u<B;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=v,u-=v,P=0,m=3+(d&7),d>>>=3,u-=3}else{for(B=v+7;u<B;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=v,u-=v,P=0,m=11+(d&127),d>>>=7,u-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ss;break}for(;m--;)r.lens[r.have++]=P}}if(r.mode===ss)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ss;break}if(r.lenbits=9,O={bits:r.lenbits},k=Zx(UY,r.lens,0,r.nlen,r.lencode,0,r.work,O),r.lenbits=O.bits,k){e.msg="invalid literal/lengths set",r.mode=ss;break}if(r.distbits=6,r.distcode=r.distdyn,O={bits:r.distbits},k=Zx(DY,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,O),r.distbits=O.bits,k){e.msg="invalid distances set",r.mode=ss;break}if(r.mode=Tw,t===Iw)break e;case Tw:r.mode=Ow;case Ow:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,vCe(e,A),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,r.mode===Ud&&(r.back=-1);break}for(r.back=0;y=r.lencode[d&(1<<r.lenbits)-1],v=y>>>24,b=y>>>16&255,w=y&65535,!(v<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(b&&!(b&240)){for(C=v,N=b,j=w;y=r.lencode[j+((d&(1<<C+N)-1)>>C)],v=y>>>24,b=y>>>16&255,w=y&65535,!(C+v<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=C,u-=C,r.back+=C}if(d>>>=v,u-=v,r.back+=v,r.length=w,b===0){r.mode=UD;break}if(b&32){r.back=-1,r.mode=Ud;break}if(b&64){e.msg="invalid literal/length code",r.mode=ss;break}r.extra=b&15,r.mode=OD;case OD:if(r.extra){for(B=r.extra;u<B;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=LD;case LD:for(;y=r.distcode[d&(1<<r.distbits)-1],v=y>>>24,b=y>>>16&255,w=y&65535,!(v<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(!(b&240)){for(C=v,N=b,j=w;y=r.distcode[j+((d&(1<<C+N)-1)>>C)],v=y>>>24,b=y>>>16&255,w=y&65535,!(C+v<=u);){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}d>>>=C,u-=C,r.back+=C}if(d>>>=v,u-=v,r.back+=v,b&64){e.msg="invalid distance code",r.mode=ss;break}r.offset=w,r.extra=b&15,r.mode=FD;case FD:if(r.extra){for(B=r.extra;u<B;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ss;break}r.mode=RD;case RD:if(c===0)break e;if(m=A-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ss;break}m>r.wnext?(m-=r.wnext,x=r.wsize-m):x=r.wnext-m,m>r.length&&(m=r.length),g=r.window}else g=a,x=o-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do a[o++]=g[x++];while(--m);r.length===0&&(r.mode=Ow);break;case UD:if(c===0)break e;a[o++]=r.length,c--,r.mode=Ow;break;case vS:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[i++]<<u,u+=8}if(A-=c,e.total_out+=A,r.total+=A,r.wrap&4&&A&&(e.adler=r.check=r.flags?Dc(r.check,a,A,o-A):Ek(r.check,a,A,o-A)),A=c,r.wrap&4&&(r.flags?d:QD(d))!==r.check){e.msg="incorrect data check",r.mode=ss;break}d=0,u=0}r.mode=DD;case DD:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=n[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ss;break}d=0,u=0}r.mode=MD;case MD:k=BCe;break e;case ss:k=MY;break e;case $Y:return QY;case HY:default:return bl}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,(r.wsize||A!==e.avail_out&&r.mode<ss&&(r.mode<vS||t!==xD))&&GY(e,e.output,e.next_out,A-e.avail_out),f-=e.avail_in,A-=e.avail_out,e.total_in+=f,e.total_out+=A,r.total+=A,r.wrap&4&&A&&(e.adler=r.check=r.flags?Dc(r.check,a,A,e.next_out-A):Ek(r.check,a,A,e.next_out-A)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ud?128:0)+(r.mode===Tw||r.mode===yS?256:0),(f===0&&A===0||t===xD)&&k===zA&&(k=ECe),k},DCe=e=>{if(dm(e))return bl;let t=e.state;return t.window&&(t.window=null),e.state=null,zA},MCe=(e,t)=>{if(dm(e))return bl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,zA):bl},QCe=(e,t)=>{const r=t.length;let n,a,i;return dm(e)||(n=e.state,n.wrap!==0&&n.mode!==Z2)?bl:n.mode===Z2&&(a=1,a=Ek(a,t,r,0),a!==n.check)?MY:(i=GY(e,t,r,r),i?(n.mode=$Y,QY):(n.havedict=1,zA))};var $Ce=VY,HCe=KY,zCe=zY,VCe=FCe,KCe=WY,WCe=UCe,GCe=DCe,qCe=MCe,YCe=QCe,XCe="pako inflate (from Nodeca project)",Hd={inflateReset:$Ce,inflateReset2:HCe,inflateResetKeep:zCe,inflateInit:VCe,inflateInit2:KCe,inflate:WCe,inflateEnd:GCe,inflateGetHeader:qCe,inflateSetDictionary:YCe,inflateInfo:XCe};function ZCe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var JCe=ZCe;const qY=Object.prototype.toString,{Z_NO_FLUSH:eSe,Z_FINISH:tSe,Z_OK:Uy,Z_STREAM_END:jS,Z_NEED_DICT:NS,Z_STREAM_ERROR:rSe,Z_DATA_ERROR:HD,Z_MEM_ERROR:nSe}=LY;function rb(e){this.options=FY.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xCe,this.strm.avail_out=0;let r=Hd.inflateInit2(this.strm,t.windowBits);if(r!==Uy)throw new Error(Pk[r]);if(this.header=new JCe,Hd.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ik.string2buf(t.dictionary):qY.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Hd.inflateSetDictionary(this.strm,t.dictionary),r!==Uy)))throw new Error(Pk[r])}rb.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?tSe:eSe,qY.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Hd.inflate(r,o),i===NS&&a&&(i=Hd.inflateSetDictionary(r,a),i===Uy?i=Hd.inflate(r,o):i===HD&&(i=NS));r.avail_in>0&&i===jS&&r.state.wrap>0&&e[r.next_in]!==0;)Hd.inflateReset(r),i=Hd.inflate(r,o);switch(i){case rSe:case HD:case NS:case nSe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===jS))if(this.options.to==="string"){let c=Ik.utf8border(r.output,r.next_out),d=r.next_out-c,u=Ik.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Uy&&l===0)){if(i===jS)return i=Hd.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};rb.prototype.onData=function(e){this.chunks.push(e)};rb.prototype.onEnd=function(e){e===Uy&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=FY.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function sSe(e,t){const r=new rb(t);if(r.push(e),r.err)throw r.msg||Pk[r.err];return r.result}var aSe=rb,iSe=sSe,oSe={Inflate:aSe,inflate:iSe};const{Inflate:lSe,inflate:cSe}=oSe;var zD=lSe,dSe=cSe;const YY=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;YY[e]=t}const VD=4294967295;function uSe(e,t,r){let n=e;for(let a=0;a<r;a++)n=YY[(n^t[a])&255]^n>>>8;return n}function hSe(e,t){return(uSe(VD,e,t)^VD)>>>0}function KD(e,t,r){const n=e.readUint32(),a=hSe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function XY(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function ZY(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function JY(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function eX(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function tX(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+fSe(t[i-a],r[i],r[i-a])&255}}function fSe(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return a<=i&&a<=o?e:i<=o?t:r}function ASe(e,t,r,n,a,i){switch(e){case 0:XY(t,r,a);break;case 1:ZY(t,r,a,i);break;case 2:JY(t,r,n,a);break;case 3:eX(t,r,n,a,i);break;case 4:tX(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const mSe=new Uint16Array([255]),pSe=new Uint8Array(mSe.buffer),gSe=pSe[0]===255;function xSe(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(n*r*l);let d=0;for(let u=0;u<7;u++){const f=o[u],A=Math.ceil((r-f.x)/f.xStep),m=Math.ceil((n-f.y)/f.yStep);if(A<=0||m<=0)continue;const x=A*l,g=new Uint8Array(x);for(let y=0;y<m;y++){const v=t[d++],b=t.subarray(d,d+x);d+=x;const w=new Uint8Array(x);ASe(v,b,w,g,x,l),g.set(w);for(let C=0;C<A;C++){const N=f.x+C*f.xStep,j=f.y+y*f.yStep;if(!(N>=r||j>=n))for(let P=0;P<l;P++)c[(j*r+N)*l+P]=w[C*l+P]}}}if(i===16){const u=new Uint16Array(c.buffer);if(gSe)for(let f=0;f<u.length;f++)u[f]=ySe(u[f]);return u}else return c}function ySe(e){return(e&255)<<8|e>>8&255}const vSe=new Uint16Array([255]),bSe=new Uint8Array(vSe.buffer),wSe=bSe[0]===255,jSe=new Uint8Array(0);function WD(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(n*l);let d=jSe,u=0,f,A;for(let m=0;m<n;m++){switch(f=t.subarray(u+1,u+1+l),A=c.subarray(m*l,(m+1)*l),t[u]){case 0:XY(f,A,l);break;case 1:ZY(f,A,l,o);break;case 2:JY(f,A,d,l);break;case 3:eX(f,A,d,l,o);break;case 4:tX(f,A,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=A,u+=l+1}if(i===16){const m=new Uint16Array(c.buffer);if(wSe)for(let x=0;x<m.length;x++)m[x]=NSe(m[x]);return m}else return c}function NSe(e){return(e&255)<<8|e>>8&255}const U1=Uint8Array.of(137,80,78,71,13,10,26,10);function GD(e){if(!_Se(e.readBytes(U1.length)))throw new Error("wrong PNG signature")}function _Se(e){if(e.length<U1.length)return!1;for(let t=0;t<U1.length;t++)if(e[t]!==U1[t])return!1;return!0}const CSe="tEXt",SSe=0,rX=new TextDecoder("latin1");function BSe(e){if(ESe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const kSe=/^[\u0000-\u00FF]*$/;function ESe(e){if(!kSe.test(e))throw new Error("invalid latin1 text")}function PSe(e,t,r){const n=nX(t);e[n]=ISe(t,r-n.length-1)}function nX(e){for(e.mark();e.readByte()!==SSe;);const t=e.offset;e.reset();const r=rX.decode(e.readBytes(t-e.offset-1));return e.skip(1),BSe(r),r}function ISe(e,t){return rX.decode(e.readBytes(t))}const yo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},_S={UNKNOWN:-1,DEFLATE:0},qD={UNKNOWN:-1,ADAPTIVE:0},CS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lw={NONE:0,BACKGROUND:1,PREVIOUS:2},SS={SOURCE:0,OVER:1};class TSe extends cI{constructor(r,n={}){super(r);xn(this,"_checkCrc");xn(this,"_inflator");xn(this,"_png");xn(this,"_apng");xn(this,"_end");xn(this,"_hasPalette");xn(this,"_palette");xn(this,"_hasTransparency");xn(this,"_transparency");xn(this,"_compressionMethod");xn(this,"_filterMethod");xn(this,"_interlaceMethod");xn(this,"_colorType");xn(this,"_isAnimated");xn(this,"_numberOfFrames");xn(this,"_numberOfPlays");xn(this,"_frames");xn(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new zD,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=_S.UNKNOWN,this._filterMethod=qD.UNKNOWN,this._interlaceMethod=CS.UNKNOWN,this._colorType=yo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(GD(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(GD(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case CSe:PSe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?KD(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?KD(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=OSe(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case yo.GREYSCALE:a=1;break;case yo.TRUECOLOUR:a=3;break;case yo.INDEXED_COLOUR:a=1;break;case yo.GREYSCALE_ALPHA:a=2;break;case yo.TRUECOLOUR_ALPHA:a=4;break;case yo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==_S.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case yo.GREYSCALE:case yo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case yo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case yo.UNKNOWN:case yo.GREYSCALE_ALPHA:case yo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=nX(this),a=this.readUint8();if(a!==_S.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:dSe(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=WD({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Lw.NONE:break;case Lw.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Lw.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case SS.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=n.data[d+u]}break;case SS.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++){const f=n.data[d+this._png.channels-1]/a,A=u%(this._png.channels-1)===0?1:n.data[d+u],m=Math.floor(f*A+(1-f)*r.data[c+u]);r.data[c+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==qD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===CS.NO_INTERLACE)this._png.data=WD({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===CS.ADAM7)this._png.data=xSe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lw.NONE,blendOp:SS.SOURCE,data:r}),this._inflator=new zD,this._writingDataChunks=!1}}function OSe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var YD;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(YD||(YD={}));function LSe(e,t){return new TSe(e,t).decode()}var ur=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function BS(){ur.console&&typeof ur.console.log=="function"&&ur.console.log.apply(ur.console,arguments)}var Tn={log:BS,warn:function(e){ur.console&&(typeof ur.console.warn=="function"?ur.console.warn.apply(ur.console,arguments):BS.call(null,arguments))},error:function(e){ur.console&&(typeof ur.console.error=="function"?ur.console.error.apply(ur.console,arguments):BS(e))}};function kS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){zf(n.response,t,r)},n.onerror=function(){Tn.error("could not download file")},n.send()}function XD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Fw(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var zf=ur.saveAs||((typeof window>"u"?"undefined":yn(window))!=="object"||window!==ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ur.URL||ur.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?XD(a.href)?kS(e,t,r):Fw(a,a.target="_blank"):Fw(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Fw(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(XD(e))kS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Fw(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:yn(i)!=="object"&&(Tn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return kS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(ur.HTMLElement)||ur.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":yn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=ur.URL||ur.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function sX(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var D1=ur.atob.bind(ur),ZD=ur.btoa.bind(ur);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ES(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ei(r,n,a,i,t[0],7,-680876936),i=ei(i,r,n,a,t[1],12,-389564586),a=ei(a,i,r,n,t[2],17,606105819),n=ei(n,a,i,r,t[3],22,-1044525330),r=ei(r,n,a,i,t[4],7,-176418897),i=ei(i,r,n,a,t[5],12,1200080426),a=ei(a,i,r,n,t[6],17,-1473231341),n=ei(n,a,i,r,t[7],22,-45705983),r=ei(r,n,a,i,t[8],7,1770035416),i=ei(i,r,n,a,t[9],12,-1958414417),a=ei(a,i,r,n,t[10],17,-42063),n=ei(n,a,i,r,t[11],22,-1990404162),r=ei(r,n,a,i,t[12],7,1804603682),i=ei(i,r,n,a,t[13],12,-40341101),a=ei(a,i,r,n,t[14],17,-1502002290),r=ti(r,n=ei(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ti(i,r,n,a,t[6],9,-1069501632),a=ti(a,i,r,n,t[11],14,643717713),n=ti(n,a,i,r,t[0],20,-373897302),r=ti(r,n,a,i,t[5],5,-701558691),i=ti(i,r,n,a,t[10],9,38016083),a=ti(a,i,r,n,t[15],14,-660478335),n=ti(n,a,i,r,t[4],20,-405537848),r=ti(r,n,a,i,t[9],5,568446438),i=ti(i,r,n,a,t[14],9,-1019803690),a=ti(a,i,r,n,t[3],14,-187363961),n=ti(n,a,i,r,t[8],20,1163531501),r=ti(r,n,a,i,t[13],5,-1444681467),i=ti(i,r,n,a,t[2],9,-51403784),a=ti(a,i,r,n,t[7],14,1735328473),r=ri(r,n=ti(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=ri(i,r,n,a,t[8],11,-2022574463),a=ri(a,i,r,n,t[11],16,1839030562),n=ri(n,a,i,r,t[14],23,-35309556),r=ri(r,n,a,i,t[1],4,-1530992060),i=ri(i,r,n,a,t[4],11,1272893353),a=ri(a,i,r,n,t[7],16,-155497632),n=ri(n,a,i,r,t[10],23,-1094730640),r=ri(r,n,a,i,t[13],4,681279174),i=ri(i,r,n,a,t[0],11,-358537222),a=ri(a,i,r,n,t[3],16,-722521979),n=ri(n,a,i,r,t[6],23,76029189),r=ri(r,n,a,i,t[9],4,-640364487),i=ri(i,r,n,a,t[12],11,-421815835),a=ri(a,i,r,n,t[15],16,530742520),r=ni(r,n=ri(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ni(i,r,n,a,t[7],10,1126891415),a=ni(a,i,r,n,t[14],15,-1416354905),n=ni(n,a,i,r,t[5],21,-57434055),r=ni(r,n,a,i,t[12],6,1700485571),i=ni(i,r,n,a,t[3],10,-1894986606),a=ni(a,i,r,n,t[10],15,-1051523),n=ni(n,a,i,r,t[1],21,-2054922799),r=ni(r,n,a,i,t[8],6,1873313359),i=ni(i,r,n,a,t[15],10,-30611744),a=ni(a,i,r,n,t[6],15,-1560198380),n=ni(n,a,i,r,t[13],21,1309151649),r=ni(r,n,a,i,t[4],6,-145523070),i=ni(i,r,n,a,t[11],10,-1120210379),a=ni(a,i,r,n,t[2],15,718787259),n=ni(n,a,i,r,t[9],21,-343485551),e[0]=kh(r,e[0]),e[1]=kh(n,e[1]),e[2]=kh(a,e[2]),e[3]=kh(i,e[3])}function m5(e,t,r,n,a,i){return t=kh(kh(t,e),kh(n,i)),kh(t<<a|t>>>32-a,r)}function ei(e,t,r,n,a,i,o){return m5(t&r|~t&n,e,t,a,i,o)}function ti(e,t,r,n,a,i,o){return m5(t&n|r&~n,e,t,a,i,o)}function ri(e,t,r,n,a,i,o){return m5(t^r^n,e,t,a,i,o)}function ni(e,t,r,n,a,i,o){return m5(r^(t|~n),e,t,a,i,o)}function aX(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)ES(n,FSe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(ES(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,ES(n,a),n}function FSe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var JD="0123456789abcdef".split("");function RSe(e){for(var t="",r=0;r<4;r++)t+=JD[e>>8*r+4&15]+JD[e>>8*r&15];return t}function USe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Tk(e){return aX(e).map(USe).join("")}var DSe=function(e){for(var t=0;t<e.length;t++)e[t]=RSe(e[t]);return e.join("")}(aX("hello"))!="5d41402abc4b2a76b9719d911017c592";function kh(e,t){if(DSe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ok(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,n=l}else l=n;var f=t.length,A=0,m=0,x="";for(c=0;c<f;c++)m=(m+(u=l[A=(A+1)%256]))%256,l[A]=l[m],l[m]=u,o=l[(l[A]+l[m])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var eM={print:4,modify:8,copy:16,"annot-forms":32};function Zm(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(eM.perm!==void 0)throw new Error("Invalid permission: "+l);a+=eM[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=Tk(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Ok(this.encryptionKey,this.padding)}function Jm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function tM(e){if(yn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){ur.console&&Tn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function J2(e){if(!(this instanceof J2))return new J2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function iX(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function qf(e,t,r,n,a){if(!(this instanceof qf))return new qf(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,iX.call(this,n,a)}function xp(e,t,r,n,a){if(!(this instanceof xp))return new xp(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,iX.call(this,n,a)}function Xt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;yn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,A={},m={internal:{},__private__:{}};m.__private__.PubSub=tM;var x="1.3",g=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(U){x=U};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return y};var v=m.__private__.getPageFormat=function(U){return y[U]};a=a||"a4";var b="compat",w="advanced",C=b;function N(){this.saveGraphicsState(),X(new Bt(Se,0,0,-Se,0,Sd()*Se).toString()+" cm"),this.setFontSize(this.getFontSize()/Se),d="n",C=w}function j(){this.restoreGraphicsState(),d="S",C=b}var P=m.__private__.combineFontStyleAndFontWeight=function(U,ae){if(U=="bold"&&ae=="normal"||U=="bold"&&ae==400||U=="normal"&&ae=="italic"||U=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(U=ae==400||ae==="normal"?U==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||U!=="normal"?(ae==700?"bold":ae)+""+U:"bold"),U};m.advancedAPI=function(U){var ae=C===b;return ae&&N.call(this),typeof U!="function"||(U(this),ae&&j.call(this)),this},m.compatAPI=function(U){var ae=C===w;return ae&&j.call(this),typeof U!="function"||(U(this),ae&&N.call(this)),this},m.isAdvancedAPI=function(){return C===w};var k,T=function(U){if(C!==w)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=m.roundToPrecision=m.__private__.roundToPrecision=function(U,ae){var we=t||ae;if(isNaN(U)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(we).replace(/0+$/,"")};k=m.hpf=m.__private__.hpf=typeof c=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return O(U,c)}:c==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return O(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return O(U,16)};var B=m.f2=m.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return O(U,2)},F=m.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return O(U,3)},M=m.scale=m.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return C===b?U*Se:C===w?U:void 0},R=function(U){return M(function(ae){return C===b?Sd()-ae:C===w?ae:void 0}(U))};m.__private__.setPrecision=m.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(t=parseInt(U,10))};var H,G="00000000000000000000000000000000",$=m.__private__.getFileId=function(){return G},V=m.__private__.setFileId=function(U){return G=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(rs=new Zm(u.userPermissions,u.userPassword,u.ownerPassword,G)),G};m.setFileId=function(U){return V(U),this},m.getFileId=function(){return $()};var te=m.__private__.convertDateToPDFDate=function(U){var ae=U.getTimezoneOffset(),we=ae<0?"+":"-",Pe=Math.floor(Math.abs(ae/60)),Ue=Math.abs(ae%60),et=[we,W(Pe),"'",W(Ue),"'"].join("");return["D:",U.getFullYear(),W(U.getMonth()+1),W(U.getDate()),W(U.getHours()),W(U.getMinutes()),W(U.getSeconds()),et].join("")},re=m.__private__.convertPDFDateToDate=function(U){var ae=parseInt(U.substr(2,4),10),we=parseInt(U.substr(6,2),10)-1,Pe=parseInt(U.substr(8,2),10),Ue=parseInt(U.substr(10,2),10),et=parseInt(U.substr(12,2),10),pt=parseInt(U.substr(14,2),10);return new Date(ae,we,Pe,Ue,et,pt,0)},K=m.__private__.setCreationDate=function(U){var ae;if(U===void 0&&(U=new Date),U instanceof Date)ae=te(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=U}return H=ae},z=m.__private__.getCreationDate=function(U){var ae=H;return U==="jsDate"&&(ae=re(H)),ae};m.setCreationDate=function(U){return K(U),this},m.getCreationDate=function(U){return z(U)};var ee,W=m.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},ne=m.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},se=0,ce=[],ye=[],Ae=0,xe=[],le=[],Z=!1,pe=ye;m.__private__.setCustomOutputDestination=function(U){Z=!0,pe=U};var oe=function(U){Z||(pe=U)};m.__private__.resetCustomOutputDestination=function(){Z=!1,pe=ye};var X=m.__private__.out=function(U){return U=U.toString(),Ae+=U.length+1,pe.push(U),pe},be=m.__private__.write=function(U){return X(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},_e=m.__private__.getArrayBuffer=function(U){for(var ae=U.length,we=new ArrayBuffer(ae),Pe=new Uint8Array(we);ae--;)Pe[ae]=U.charCodeAt(ae);return we},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Le};var ke=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(U){return ke=C===w?U/Se:U,this};var Qe,Ye=m.__private__.getFontSize=m.getFontSize=function(){return C===b?ke:ke*Se},it=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(U){return it=U,this},m.__private__.getR2L=m.getR2L=function(){return it};var Oe,Ge=m.__private__.setZoomMode=function(U){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))Qe=U;else if(isNaN(U)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');Qe=U}else Qe=parseInt(U,10)};m.__private__.getZoomMode=function(){return Qe};var mt,ft=m.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');Oe=U};m.__private__.getPageMode=function(){return Oe};var Ie=m.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');mt=U};m.__private__.getLayoutMode=function(){return mt},m.__private__.setDisplayMode=m.setDisplayMode=function(U,ae,we){return Ge(U),Ie(ae),ft(we),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(U){if(Object.keys(Je).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[U]},m.__private__.getDocumentProperties=function(){return Je},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(U){for(var ae in Je)Je.hasOwnProperty(ae)&&U[ae]&&(Je[ae]=U[ae]);return this},m.__private__.setDocumentProperty=function(U,ae){if(Object.keys(Je).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[U]=ae};var ue,Se,Fe,Ee,De,ut={},Nt={},Pt=[],ht={},Xe={},Ze={},ct={},tt=null,ze=0,wt=[],Ut=new tM(m),$r=e.hotfixes||[],Or={},Vr={},tn=[],Bt=function U(ae,we,Pe,Ue,et,pt){if(!(this instanceof U))return new U(ae,we,Pe,Ue,et,pt);isNaN(ae)&&(ae=1),isNaN(we)&&(we=0),isNaN(Pe)&&(Pe=0),isNaN(Ue)&&(Ue=1),isNaN(et)&&(et=0),isNaN(pt)&&(pt=0),this._matrix=[ae,we,Pe,Ue,et,pt]};Object.defineProperty(Bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(Bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(Bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(Bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(Bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(Bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(Bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(Bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(Bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(Bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(Bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(Bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(Bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Bt.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(U)},Bt.prototype.multiply=function(U){var ae=U.sx*this.sx+U.shy*this.shx,we=U.sx*this.shy+U.shy*this.sy,Pe=U.shx*this.sx+U.sy*this.shx,Ue=U.shx*this.shy+U.sy*this.sy,et=U.tx*this.sx+U.ty*this.shx+this.tx,pt=U.tx*this.shy+U.ty*this.sy+this.ty;return new Bt(ae,we,Pe,Ue,et,pt)},Bt.prototype.decompose=function(){var U=this.sx,ae=this.shy,we=this.shx,Pe=this.sy,Ue=this.tx,et=this.ty,pt=Math.sqrt(U*U+ae*ae),Mt=(U/=pt)*we+(ae/=pt)*Pe;we-=U*Mt,Pe-=ae*Mt;var Kt=Math.sqrt(we*we+Pe*Pe);return Mt/=Kt,U*(Pe/=Kt)<ae*(we/=Kt)&&(U=-U,ae=-ae,Mt=-Mt,pt=-pt),{scale:new Bt(pt,0,0,Kt,0,0),translate:new Bt(1,0,0,1,Ue,et),rotate:new Bt(U,ae,-ae,U,0,0),skew:new Bt(1,0,Mt,1,0,0)}},Bt.prototype.toString=function(U){return this.join(" ")},Bt.prototype.inversed=function(){var U=this.sx,ae=this.shy,we=this.shx,Pe=this.sy,Ue=this.tx,et=this.ty,pt=1/(U*Pe-ae*we),Mt=Pe*pt,Kt=-ae*pt,lr=-we*pt,mr=U*pt;return new Bt(Mt,Kt,lr,mr,-Mt*Ue-lr*et,-Kt*Ue-mr*et)},Bt.prototype.applyToPoint=function(U){var ae=U.x*this.sx+U.y*this.shx+this.tx,we=U.x*this.shy+U.y*this.sy+this.ty;return new Pl(ae,we)},Bt.prototype.applyToRectangle=function(U){var ae=this.applyToPoint(U),we=this.applyToPoint(new Pl(U.x+U.w,U.y+U.h));return new Qu(ae.x,ae.y,we.x-ae.x,we.y-ae.y)},Bt.prototype.clone=function(){var U=this.sx,ae=this.shy,we=this.shx,Pe=this.sy,Ue=this.tx,et=this.ty;return new Bt(U,ae,we,Pe,Ue,et)},m.Matrix=Bt;var es=m.matrixMult=function(U,ae){return ae.multiply(U)},vs=new Bt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=vs;var Fn=function(U,ae){if(!Xe[U]){var we=(ae instanceof qf?"Sh":"P")+(Object.keys(ht).length+1).toString(10);ae.id=we,Xe[U]=we,ht[we]=ae,Ut.publish("addPattern",ae)}};m.ShadingPattern=qf,m.TilingPattern=xp,m.addShadingPattern=function(U,ae){return T("addShadingPattern()"),Fn(U,ae),this},m.beginTilingPattern=function(U){T("beginTilingPattern()"),jf(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},m.endTilingPattern=function(U,ae){T("endTilingPattern()"),ae.stream=le[ee].join(`
`),Fn(U,ae),Ut.publish("endTilingPattern",ae),tn.pop().restore()};var os,br=m.__private__.newObject=function(){var U=Et();return An(U,!0),U},Et=m.__private__.newObjectDeferred=function(){return se++,ce[se]=function(){return Ae},se},An=function(U,ae){return ae=typeof ae=="boolean"&&ae,ce[U]=Ae,ae&&X(U+" 0 obj"),U},aa=m.__private__.newAdditionalObject=function(){var U={objId:Et(),content:""};return xe.push(U),U},Ks=Et(),ls=Et(),cs=m.__private__.decodeColorString=function(U){var ae=U.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length!==5||ae[4]!=="k"&&ae[4]!=="K"||(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var we=parseFloat(ae[0]);ae=[we,we,we,"r"]}for(var Pe="#",Ue=0;Ue<3;Ue++)Pe+=("0"+Math.floor(255*parseFloat(ae[Ue])).toString(16)).slice(-2);return Pe},ds=m.__private__.encodeColorString=function(U){var ae;typeof U=="string"&&(U={ch1:U});var we=U.ch1,Pe=U.ch2,Ue=U.ch3,et=U.ch4,pt=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var Mt=new sX(we);if(Mt.ok)we=Mt.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var Kt=parseInt(we.substr(1),16);we=Kt>>16&255,Pe=Kt>>8&255,Ue=255&Kt}if(Pe===void 0||et===void 0&&we===Pe&&Pe===Ue)ae=typeof we=="string"?we+" "+pt[0]:U.precision===2?B(we/255)+" "+pt[0]:F(we/255)+" "+pt[0];else if(et===void 0||yn(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return["1.","1.","1.",pt[1]].join(" ");ae=typeof we=="string"?[we,Pe,Ue,pt[1]].join(" "):U.precision===2?[B(we/255),B(Pe/255),B(Ue/255),pt[1]].join(" "):[F(we/255),F(Pe/255),F(Ue/255),pt[1]].join(" ")}else ae=typeof we=="string"?[we,Pe,Ue,et,pt[2]].join(" "):U.precision===2?[B(we),B(Pe),B(Ue),B(et),pt[2]].join(" "):[F(we),F(Pe),F(Ue),F(et),pt[2]].join(" ");return ae},kn=m.__private__.getFilters=function(){return o},ot=m.__private__.putStream=function(U){var ae=(U=U||{}).data||"",we=U.filters||kn(),Pe=U.alreadyAppliedFilters||[],Ue=U.addLength1||!1,et=ae.length,pt=U.objectId,Mt=function(Ts){return Ts};if(u!==null&&pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Mt=rs.encryptor(pt,0));var Kt={};we===!0&&(we=["FlateEncode"]);var lr=U.additionalKeyValues||[],mr=(Kt=Xt.API.processDataByFilters!==void 0?Xt.API.processDataByFilters(ae,we):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(Kt.data.length!==0&&(lr.push({key:"Length",value:Kt.data.length}),Ue===!0&&lr.push({key:"Length1",value:et})),mr.length!=0)if(mr.split("/").length-1==1)lr.push({key:"Filter",value:mr});else{lr.push({key:"Filter",value:"["+mr+"]"});for(var Dr=0;Dr<lr.length;Dr+=1)if(lr[Dr].key==="DecodeParms"){for(var Kn=[],ws=0;ws<Kt.reverseChain.split("/").length-1;ws+=1)Kn.push("null");Kn.push(lr[Dr].value),lr[Dr].value="["+Kn.join(" ")+"]"}}X("<<");for(var ln=0;ln<lr.length;ln++)X("/"+lr[ln].key+" "+lr[ln].value);X(">>"),Kt.data.length!==0&&(X("stream"),X(Mt(Kt.data)),X("endstream"))},St=m.__private__.putPage=function(U){var ae=U.number,we=U.data,Pe=U.objId,Ue=U.contentsObjId;An(Pe,!0),X("<</Type /Page"),X("/Parent "+U.rootDictionaryObjId+" 0 R"),X("/Resources "+U.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(k(U.mediaBox.bottomLeftX))+" "+parseFloat(k(U.mediaBox.bottomLeftY))+" "+k(U.mediaBox.topRightX)+" "+k(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&X("/CropBox ["+k(U.cropBox.bottomLeftX)+" "+k(U.cropBox.bottomLeftY)+" "+k(U.cropBox.topRightX)+" "+k(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&X("/BleedBox ["+k(U.bleedBox.bottomLeftX)+" "+k(U.bleedBox.bottomLeftY)+" "+k(U.bleedBox.topRightX)+" "+k(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&X("/TrimBox ["+k(U.trimBox.bottomLeftX)+" "+k(U.trimBox.bottomLeftY)+" "+k(U.trimBox.topRightX)+" "+k(U.trimBox.topRightY)+"]"),U.artBox!==null&&X("/ArtBox ["+k(U.artBox.bottomLeftX)+" "+k(U.artBox.bottomLeftY)+" "+k(U.artBox.topRightX)+" "+k(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&X("/UserUnit "+U.userUnit),Ut.publish("putPage",{objId:Pe,pageContext:wt[ae],pageNumber:ae,page:we}),X("/Contents "+Ue+" 0 R"),X(">>"),X("endobj");var et=we.join(`
`);return C===w&&(et+=`
Q`),An(Ue,!0),ot({data:et,filters:kn(),objectId:Ue}),X("endobj"),Pe},Tt=m.__private__.putPages=function(){var U,ae,we=[];for(U=1;U<=ze;U++)wt[U].objId=Et(),wt[U].contentsObjId=Et();for(U=1;U<=ze;U++)we.push(St({number:U,data:le[U],objId:wt[U].objId,contentsObjId:wt[U].contentsObjId,mediaBox:wt[U].mediaBox,cropBox:wt[U].cropBox,bleedBox:wt[U].bleedBox,trimBox:wt[U].trimBox,artBox:wt[U].artBox,userUnit:wt[U].userUnit,rootDictionaryObjId:Ks,resourceDictionaryObjId:ls}));An(Ks,!0),X("<</Type /Pages");var Pe="/Kids [";for(ae=0;ae<ze;ae++)Pe+=we[ae]+" 0 R ";X(Pe+"]"),X("/Count "+ze),X(">>"),X("endobj"),Ut.publish("postPutPages")},vt=function(U){Ut.publish("putFont",{font:U,out:X,newObject:br,putStream:ot}),U.isAlreadyPutted!==!0&&(U.objectNumber=br(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Jm(U.postScriptName)),X("/Subtype /Type1"),typeof U.encoding=="string"&&X("/Encoding /"+U.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Dt=function(U){U.objectNumber=br();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[k(U.x),k(U.y),k(U.x+U.width),k(U.y+U.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var we=U.pages[1].join(`
`);ot({data:we,additionalKeyValues:ae,objectId:U.objectNumber}),X("endobj")},Nn=function(U,ae){ae||(ae=21);var we=br(),Pe=function(pt,Mt){var Kt,lr=[],mr=1/(Mt-1);for(Kt=0;Kt<1;Kt+=mr)lr.push(Kt);if(lr.push(1),pt[0].offset!=0){var Dr={offset:0,color:pt[0].color};pt.unshift(Dr)}if(pt[pt.length-1].offset!=1){var Kn={offset:1,color:pt[pt.length-1].color};pt.push(Kn)}for(var ws="",ln=0,Ts=0;Ts<lr.length;Ts++){for(Kt=lr[Ts];Kt>pt[ln+1].offset;)ln++;var us=pt[ln].offset,Ws=(Kt-us)/(pt[ln+1].offset-us),Di=pt[ln].color,oa=pt[ln+1].color;ws+=ne(Math.round((1-Ws)*Di[0]+Ws*oa[0]).toString(16))+ne(Math.round((1-Ws)*Di[1]+Ws*oa[1]).toString(16))+ne(Math.round((1-Ws)*Di[2]+Ws*oa[2]).toString(16))}return ws.trim()}(U.colors,ae),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+ae+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot({data:Pe,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),X("endobj"),U.objectNumber=br(),X("<< /ShadingType "+U.type),X("/ColorSpace /DeviceRGB");var et="/Coords ["+k(parseFloat(U.coords[0]))+" "+k(parseFloat(U.coords[1]))+" ";U.type===2?et+=k(parseFloat(U.coords[2]))+" "+k(parseFloat(U.coords[3])):et+=k(parseFloat(U.coords[2]))+" "+k(parseFloat(U.coords[3]))+" "+k(parseFloat(U.coords[4]))+" "+k(parseFloat(U.coords[5])),X(et+="]"),U.matrix&&X("/Matrix ["+U.matrix.toString()+"]"),X("/Function "+we+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Ur=function(U,ae){var we=Et(),Pe=br();ae.push({resourcesOid:we,objectOid:Pe}),U.objectNumber=Pe;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+U.boundingBox.map(k).join(" ")+"]"}),Ue.push({key:"XStep",value:k(U.xStep)}),Ue.push({key:"YStep",value:k(U.yStep)}),Ue.push({key:"Resources",value:we+" 0 R"}),U.matrix&&Ue.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),ot({data:U.stream,additionalKeyValues:Ue,objectId:U.objectNumber}),X("endobj")},ts=function(U){for(var ae in U.objectNumber=br(),X("<<"),U)switch(ae){case"opacity":X("/ca "+B(U[ae]));break;case"stroke-opacity":X("/CA "+B(U[ae]))}X(">>"),X("endobj")},Tr=function(U){An(U.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ae in X("/Font <<"),ut)ut.hasOwnProperty(ae)&&(f===!1||f===!0&&A.hasOwnProperty(ae))&&X("/"+ae+" "+ut[ae].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(ht).length>0){for(var ae in X("/Shading <<"),ht)ht.hasOwnProperty(ae)&&ht[ae]instanceof qf&&ht[ae].objectNumber>=0&&X("/"+ae+" "+ht[ae].objectNumber+" 0 R");Ut.publish("putShadingPatternDict"),X(">>")}}(),function(ae){if(Object.keys(ht).length>0){for(var we in X("/Pattern <<"),ht)ht.hasOwnProperty(we)&&ht[we]instanceof m.TilingPattern&&ht[we].objectNumber>=0&&ht[we].objectNumber<ae&&X("/"+we+" "+ht[we].objectNumber+" 0 R");Ut.publish("putTilingPatternDict"),X(">>")}}(U.objectOid),function(){if(Object.keys(Ze).length>0){var ae;for(ae in X("/ExtGState <<"),Ze)Ze.hasOwnProperty(ae)&&Ze[ae].objectNumber>=0&&X("/"+ae+" "+Ze[ae].objectNumber+" 0 R");Ut.publish("putGStateDict"),X(">>")}}(),function(){for(var ae in X("/XObject <<"),Or)Or.hasOwnProperty(ae)&&Or[ae].objectNumber>=0&&X("/"+ae+" "+Or[ae].objectNumber+" 0 R");Ut.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},ve=function(U){Nt[U.fontName]=Nt[U.fontName]||{},Nt[U.fontName][U.fontStyle]=U.id},nt=function(U,ae,we,Pe,Ue){var et={id:"F"+(Object.keys(ut).length+1).toString(10),postScriptName:U,fontName:ae,fontStyle:we,encoding:Pe,isStandardFont:Ue||!1,metadata:{}};return Ut.publish("addFont",{font:et,instance:this}),ut[et.id]=et,ve(et),et.id},lt=m.__private__.pdfEscape=m.pdfEscape=function(U,ae){return function(we,Pe){var Ue,et,pt,Mt,Kt,lr,mr,Dr,Kn;if(pt=(Pe=Pe||{}).sourceEncoding||"Unicode",Kt=Pe.outputEncoding,(Pe.autoencode||Kt)&&ut[ue].metadata&&ut[ue].metadata[pt]&&ut[ue].metadata[pt].encoding&&(Mt=ut[ue].metadata[pt].encoding,!Kt&&ut[ue].encoding&&(Kt=ut[ue].encoding),!Kt&&Mt.codePages&&(Kt=Mt.codePages[0]),typeof Kt=="string"&&(Kt=Mt[Kt]),Kt)){for(mr=!1,lr=[],Ue=0,et=we.length;Ue<et;Ue++)(Dr=Kt[we.charCodeAt(Ue)])?lr.push(String.fromCharCode(Dr)):lr.push(we[Ue]),lr[Ue].charCodeAt(0)>>8&&(mr=!0);we=lr.join("")}for(Ue=we.length;mr===void 0&&Ue!==0;)we.charCodeAt(Ue-1)>>8&&(mr=!0),Ue--;if(!mr)return we;for(lr=Pe.noBOM?[]:[254,255],Ue=0,et=we.length;Ue<et;Ue++){if((Kn=(Dr=we.charCodeAt(Ue))>>8)>>8)throw new Error("Character at position "+Ue+" of string '"+we+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");lr.push(Kn),lr.push(Dr-(Kn<<8))}return String.fromCharCode.apply(void 0,lr)}(U,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yt=m.__private__.beginPage=function(U){le[++ze]=[],wt[ze]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},yr(ze),oe(le[ee])},tr=function(U,ae){var we,Pe,Ue;switch(r=ae||r,typeof U=="string"&&(we=v(U.toLowerCase()),Array.isArray(we)&&(Pe=we[0],Ue=we[1])),Array.isArray(U)&&(Pe=U[0]*Se,Ue=U[1]*Se),isNaN(Pe)&&(Pe=a[0],Ue=a[1]),(Pe>14400||Ue>14400)&&(Tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),Ue=Math.min(14400,Ue)),a=[Pe,Ue],r.substr(0,1)){case"l":Ue>Pe&&(a=[Ue,Pe]);break;case"p":Pe>Ue&&(a=[Ue,Pe])}yt(a),kt(Cd),X(kc),wf!==0&&X(wf+" J"),Du!==0&&X(Du+" j"),Ut.publish("addPage",{pageNumber:ze})},Yr=function(U){U>0&&U<=ze&&(le.splice(U,1),wt.splice(U,1),ze--,ee>ze&&(ee=ze),this.setPage(ee))},yr=function(U){U>0&&U<=ze&&(ee=U)},ka=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return le.length-1},io=function(U,ae,we){var Pe,Ue=void 0;return we=we||{},U=U!==void 0?U:ut[ue].fontName,ae=ae!==void 0?ae:ut[ue].fontStyle,Pe=U.toLowerCase(),Nt[Pe]!==void 0&&Nt[Pe][ae]!==void 0?Ue=Nt[Pe][ae]:Nt[U]!==void 0&&Nt[U][ae]!==void 0?Ue=Nt[U][ae]:we.disableWarning===!1&&Tn.warn("Unable to look up font label for font '"+U+"', '"+ae+"'. Refer to getFontList() for available fonts."),Ue||we.noFallback||(Ue=Nt.times[ae])==null&&(Ue=Nt.times.normal),Ue},Ar=m.__private__.putInfo=function(){var U=br(),ae=function(Pe){return Pe};for(var we in u!==null&&(ae=rs.encryptor(U,0)),X("<<"),X("/Producer ("+lt(ae("jsPDF "+Xt.version))+")"),Je)Je.hasOwnProperty(we)&&Je[we]&&X("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+lt(ae(Je[we]))+")");X("/CreationDate ("+lt(ae(H))+")"),X(">>"),X("endobj")},an=m.__private__.putCatalog=function(U){var ae=(U=U||{}).rootDictionaryObjId||Ks;switch(br(),X("<<"),X("/Type /Catalog"),X("/Pages "+ae+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+Qe;we.substr(we.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&X("/OpenAction [3 0 R /XYZ null null "+B(Qe)+"]")}switch(mt||(mt="continuous"),mt){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Oe&&X("/PageMode /"+Oe),Ut.publish("putCatalog"),X(">>"),X("endobj")},Lu=m.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(se+1)),X("/Root "+se+" 0 R"),X("/Info "+(se-1)+" 0 R"),u!==null&&X("/Encrypt "+rs.oid+" 0 R"),X("/ID [ <"+G+"> <"+G+"> ]"),X(">>")},En=m.__private__.putHeader=function(){X("%PDF-"+x),X("%")},_l=m.__private__.putXRef=function(){var U="0000000000";X("xref"),X("0 "+(se+1)),X("0000000000 65535 f ");for(var ae=1;ae<=se;ae++)typeof ce[ae]=="function"?X((U+ce[ae]()).slice(-10)+" 00000 n "):ce[ae]!==void 0?X((U+ce[ae]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Ri=m.__private__.buildDocument=function(){var U;se=0,Ae=0,ye=[],ce=[],xe=[],Ks=Et(),ls=Et(),oe(ye),Ut.publish("buildDocument"),En(),Tt(),function(){Ut.publish("putAdditionalObjects");for(var we=0;we<xe.length;we++){var Pe=xe[we];An(Pe.objId,!0),X(Pe.content),X("endobj")}Ut.publish("postPutAdditionalObjects")}(),U=[],function(){for(var we in ut)ut.hasOwnProperty(we)&&(f===!1||f===!0&&A.hasOwnProperty(we))&&vt(ut[we])}(),function(){var we;for(we in Ze)Ze.hasOwnProperty(we)&&ts(Ze[we])}(),function(){for(var we in Or)Or.hasOwnProperty(we)&&Dt(Or[we])}(),function(we){var Pe;for(Pe in ht)ht.hasOwnProperty(Pe)&&(ht[Pe]instanceof qf?Nn(ht[Pe]):ht[Pe]instanceof xp&&Ur(ht[Pe],we))}(U),Ut.publish("putResources"),U.forEach(Tr),Tr({resourcesOid:ls,objectOid:Number.MAX_SAFE_INTEGER}),Ut.publish("postPutResources"),u!==null&&(rs.oid=br(),X("<<"),X("/Filter /Standard"),X("/V "+rs.v),X("/R "+rs.r),X("/U <"+rs.toHexString(rs.U)+">"),X("/O <"+rs.toHexString(rs.O)+">"),X("/P "+rs.P),X(">>"),X("endobj")),Ar(),an();var ae=Ae;return _l(),Lu(),X("startxref"),X(""+ae),X("%%EOF"),oe(le[ee]),ye.join(`
`)},dr=m.__private__.getBlob=function(U){return new Blob([_e(U)],{type:"application/pdf"})},Rn=m.output=m.__private__.output=(os=function(U,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",U){case void 0:return Ri();case"save":m.save(ae.filename);break;case"arraybuffer":return _e(Ri());case"blob":return dr(Ri());case"bloburi":case"bloburl":if(ur.URL!==void 0&&typeof ur.URL.createObjectURL=="function")return ur.URL&&ur.URL.createObjectURL(dr(Ri()))||void 0;Tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Pe=Ri();try{we=ZD(Pe)}catch{we=ZD(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+ae.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Ue=ae.pdfObjectUrl,et="");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",Mt=ur.open();return Mt!==null&&Mt.document.write(pt),Mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',lr=ur.open();if(lr!==null){lr.document.write(Kt);var mr=this;lr.document.documentElement.querySelector("#pdfViewer").onload=function(){lr.document.title=ae.filename,lr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mr.output("bloburl"))}}return lr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',Kn=ur.open();if(Kn!==null&&(Kn.document.write(Dr),Kn.document.title=ae.filename),Kn||typeof safari>"u")return Kn;break;case"datauri":case"dataurl":return ur.document.location.href=this.output("datauristring",ae);default:return null}},os.foo=function(){try{return os.apply(this,arguments)}catch(we){var U=we.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var ae="Error in function "+U.split(`
`)[0].split("<")[0]+": "+we.message;if(!ur.console)throw new Error(ae);ur.console.error(ae,we),ur.alert&&alert(ae)}},os.foo.bar=os,os.foo),Va=function(U){return Array.isArray($r)===!0&&$r.indexOf(U)>-1};switch(n){case"pt":Se=1;break;case"mm":Se=72/25.4;break;case"cm":Se=72/2.54;break;case"in":Se=72;break;case"px":Se=Va("px_scaling")==1?.75:96/72;break;case"pc":case"em":Se=12;break;case"ex":Se=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Se=n}var rs=null;K(),V();var bs=m.__private__.getPageInfo=m.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:wt[U].objId,pageNumber:U,pageContext:wt[U]}},gm=m.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in wt)if(wt[ae].objId===U)break;return bs(ae)},Fu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:wt[ee].objId,pageNumber:ee,pageContext:wt[ee]}};m.addPage=function(){return tr.apply(this,arguments),this},m.setPage=function(){return yr.apply(this,arguments),oe.call(this,le[ee]),this},m.insertPage=function(U){return this.addPage(),this.movePage(ee,U),this},m.movePage=function(U,ae){var we,Pe;if(U>ae){we=le[U],Pe=wt[U];for(var Ue=U;Ue>ae;Ue--)le[Ue]=le[Ue-1],wt[Ue]=wt[Ue-1];le[ae]=we,wt[ae]=Pe,this.setPage(ae)}else if(U<ae){we=le[U],Pe=wt[U];for(var et=U;et<ae;et++)le[et]=le[et+1],wt[et]=wt[et+1];le[ae]=we,wt[ae]=Pe,this.setPage(ae)}return this},m.deletePage=function(){return Yr.apply(this,arguments),this},m.__private__.text=m.text=function(U,ae,we,Pe,Ue){var et,pt,Mt,Kt,lr,mr,Dr,Kn,ws,ln=(Pe=Pe||{}).scope||this;if(typeof U=="number"&&typeof ae=="number"&&(typeof we=="string"||Array.isArray(we))){var Ts=we;we=ae,ae=U,U=Ts}if(arguments[3]instanceof Bt==0?(Mt=arguments[4],Kt=arguments[5],yn(Dr=arguments[3])==="object"&&Dr!==null||(typeof Mt=="string"&&(Kt=Mt,Mt=null),typeof Dr=="string"&&(Kt=Dr,Dr=null),typeof Dr=="number"&&(Mt=Dr,Dr=null),Pe={flags:Dr,angle:Mt,align:Kt})):(T("The transform parameter of text() with a Matrix value"),ws=Ue),isNaN(ae)||isNaN(we)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return ln;var us,Ws="",Di=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:Bc,oa=ln.internal.scaleFactor;function Ol(Xr){return Xr=Xr.split("	").join(Array(Pe.TabLen||9).join(" ")),lt(Xr,Dr)}function Ll(Xr){for(var cn,fs=Xr.concat(),Ns=[],Ql=fs.length;Ql--;)typeof(cn=fs.shift())=="string"?Ns.push(cn):Array.isArray(Xr)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?Ns.push(cn[0]):Ns.push([cn[0],cn[1],cn[2]]);return Ns}function la(Xr,cn){var fs;if(typeof Xr=="string")fs=cn(Xr)[0];else if(Array.isArray(Xr)){for(var Ns,Ql,Ga=Xr.concat(),$l=[],wm=Ga.length;wm--;)typeof(Ns=Ga.shift())=="string"?$l.push(cn(Ns)[0]):Array.isArray(Ns)&&typeof Ns[0]=="string"&&(Ql=cn(Ns[0],Ns[1],Ns[2]),$l.push([Ql[0],Ql[1],Ql[2]]));fs=$l}return fs}var Fl=!1,Ec=!0;if(typeof U=="string")Fl=!0;else if(Array.isArray(U)){var Bd=U.concat();pt=[];for(var $o,Os=Bd.length;Os--;)(typeof($o=Bd.shift())!="string"||Array.isArray($o)&&typeof $o[0]!="string")&&(Ec=!1);Fl=Ec}if(Fl===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var kd=ke/ln.internal.scaleFactor,Ed=kd*(Di-1);switch(Pe.baseline){case"bottom":we-=Ed;break;case"top":we+=kd-Ed;break;case"hanging":we+=kd-2*Ed;break;case"middle":we+=kd/2-Ed}if((mr=Pe.maxWidth||0)>0&&(typeof U=="string"?U=ln.splitTextToSize(U,mr):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(Xr,cn){return Xr.concat(ln.splitTextToSize(cn,mr))},[]))),et={text:U,x:ae,y:we,options:Pe,mutex:{pdfEscape:lt,activeFontKey:ue,fonts:ut,activeFontSize:ke}},Ut.publish("preProcessText",et),U=et.text,Mt=(Pe=et.options).angle,ws instanceof Bt==0&&Mt&&typeof Mt=="number"){Mt*=Math.PI/180,Pe.rotationDirection===0&&(Mt=-Mt),C===w&&(Mt=-Mt);var $u=Math.cos(Mt),Cf=Math.sin(Mt);ws=new Bt($u,Cf,-Cf,$u,0,0)}else Mt&&Mt instanceof Bt&&(ws=Mt);C!==w||ws||(ws=vs),(lr=Pe.charSpace||Qo)!==void 0&&(Ws+=k(M(lr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Kn=Pe.horizontalScale)!==void 0&&(Ws+=k(100*Kn)+` Tz
`),Pe.lang;var Pn=-1,Ka=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,Hu=ln.internal.getCurrentPageInfo().pageContext;switch(Ka){case 0:case!1:case"fill":Pn=0;break;case 1:case!0:case"stroke":Pn=1;break;case 2:case"fillThenStroke":Pn=2;break;case 3:case"invisible":Pn=3;break;case 4:case"fillAndAddForClipping":Pn=4;break;case 5:case"strokeAndAddPathForClipping":Pn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pn=6;break;case 7:case"addToPathForClipping":Pn=7}var Mi=Hu.usedRenderingMode!==void 0?Hu.usedRenderingMode:-1;Pn!==-1?Ws+=Pn+` Tr
`:Mi!==-1&&(Ws+=`0 Tr
`),Pn!==-1&&(Hu.usedRenderingMode=Pn),Kt=Pe.align||"left";var Qi,$i=ke*Di,Sf=ln.internal.pageSize.getWidth(),Rl=ut[ue];lr=Pe.charSpace||Qo,mr=Pe.maxWidth||0,Dr=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var Ul=[],Ho=function(Xr){return ln.getStringUnitWidth(Xr,{font:Rl,charSpace:lr,fontSize:ke,doKerning:!1})*ke/oa};if(Object.prototype.toString.call(U)==="[object Array]"){var pi;pt=Ll(U),Kt!=="left"&&(Qi=pt.map(Ho));var js,uo=0;if(Kt==="right"){ae-=Qi[0],U=[],Os=pt.length;for(var Dl=0;Dl<Os;Dl++)Dl===0?(js=oo(ae),pi=lo(we)):(js=M(uo-Qi[Dl]),pi=-$i),U.push([pt[Dl],js,pi]),uo=Qi[Dl]}else if(Kt==="center"){ae-=Qi[0]/2,U=[],Os=pt.length;for(var zo=0;zo<Os;zo++)zo===0?(js=oo(ae),pi=lo(we)):(js=M((uo-Qi[zo])/2),pi=-$i),U.push([pt[zo],js,pi]),uo=Qi[zo]}else if(Kt==="left"){U=[],Os=pt.length;for(var Bf=0;Bf<Os;Bf++)U.push(pt[Bf])}else if(Kt==="justify"&&Rl.encoding==="Identity-H"){U=[],Os=pt.length,mr=mr!==0?mr:Sf;for(var Wa=0,hs=0;hs<Os;hs++)if(pi=hs===0?lo(we):-$i,js=hs===0?oo(ae):Wa,hs<Os-1){var Ml=M((mr-Qi[hs])/(pt[hs].split(" ").length-1)),Vo=pt[hs].split(" ");U.push([Vo[0]+" ",js,pi]),Wa=0;for(var Gs=1;Gs<Vo.length;Gs++){var Pc=(Ho(Vo[Gs-1]+" "+Vo[Gs])-Ho(Vo[Gs]))*oa+Ml;Gs==Vo.length-1?U.push([Vo[Gs],Pc,0]):U.push([Vo[Gs]+" ",Pc,0]),Wa-=Pc}}else U.push([pt[hs],js,pi]);U.push(["",Wa,0])}else{if(Kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],Os=pt.length,mr=mr!==0?mr:Sf,hs=0;hs<Os;hs++){pi=hs===0?lo(we):-$i,js=hs===0?oo(ae):0;var zu=pt[hs].split(" ").length-1,Pd=zu>0?(mr-Qi[hs])/zu:0;hs<Os-1?Ul.push(k(M(Pd))):Ul.push(0),U.push([pt[hs],js,pi])}}}(typeof Pe.R2L=="boolean"?Pe.R2L:it)===!0&&(U=la(U,function(Xr,cn,fs){return[Xr.split("").reverse().join(""),cn,fs]})),et={text:U,x:ae,y:we,options:Pe,mutex:{pdfEscape:lt,activeFontKey:ue,fonts:ut,activeFontSize:ke}},Ut.publish("postProcessText",et),U=et.text,us=et.mutex.isHex||!1;var Ic=ut[ue].encoding;Ic!=="WinAnsiEncoding"&&Ic!=="StandardEncoding"||(U=la(U,function(Xr,cn,fs){return[Ol(Xr),cn,fs]})),pt=Ll(U),U=[];for(var Ko,ho,gi,Wo=Array.isArray(pt[0])?1:0,Go="",Tc=function(Xr,cn,fs){var Ns="";return fs instanceof Bt?(fs=typeof Pe.angle=="number"?es(fs,new Bt(1,0,0,1,Xr,cn)):es(new Bt(1,0,0,1,Xr,cn),fs),C===w&&(fs=es(new Bt(1,0,0,-1,0,0),fs)),Ns=fs.join(" ")+` Tm
`):Ns=k(Xr)+" "+k(cn)+` Td
`,Ns},Hi=0;Hi<pt.length;Hi++){switch(Go="",Wo){case 1:gi=(us?"<":"(")+pt[Hi][0]+(us?">":")"),Ko=parseFloat(pt[Hi][1]),ho=parseFloat(pt[Hi][2]);break;case 0:gi=(us?"<":"(")+pt[Hi]+(us?">":")"),Ko=oo(ae),ho=lo(we)}Ul!==void 0&&Ul[Hi]!==void 0&&(Go=Ul[Hi]+` Tw
`),Hi===0?U.push(Go+Tc(Ko,ho,ws)+gi):Wo===0?U.push(Go+gi):Wo===1&&U.push(Go+Tc(Ko,ho,ws)+gi)}U=Wo===0?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var xi=`BT
/`;return xi+=ue+" "+ke+` Tf
`,xi+=k(ke*Di)+` TL
`,xi+=Vn+`
`,xi+=Ws,xi+=U,X(xi+="ET"),A[ue]=!0,ln};var Cl=m.__private__.clip=m.clip=function(U){return X(U==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Cl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return X("n"),this};var rn=m.__private__.isValidStyle=function(U){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(ae=!0),ae};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(U){return rn(U)&&(d=U),this};var Do=m.__private__.getStyle=m.getStyle=function(U){var ae=d;switch(U){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=U}return ae},Cc=m.close=function(){return X("h"),this};m.stroke=function(){return X("S"),this},m.fill=function(U){return Mo("f",U),this},m.fillEvenOdd=function(U){return Mo("f*",U),this},m.fillStroke=function(U){return Mo("B",U),this},m.fillStrokeEvenOdd=function(U){return Mo("B*",U),this};var Mo=function(U,ae){yn(ae)==="object"?yf(ae,U):X(U)},Sl=function(U){U===null||C===w&&U===void 0||(U=Do(U),X(U))};function _d(U,ae,we,Pe,Ue){var et=new xp(ae||this.boundingBox,we||this.xStep,Pe||this.yStep,this.gState,Ue||this.matrix);et.stream=this.stream;var pt=U+"$$"+this.cloneIndex+++"$$";return Fn(pt,et),et}var yf=function(U,ae){var we=Xe[U.key],Pe=ht[we];if(Pe instanceof qf)X("q"),X(vf(ae)),Pe.gState&&m.setGState(Pe.gState),X(U.matrix.toString()+" cm"),X("/"+we+" sh"),X("Q");else if(Pe instanceof xp){var Ue=new Bt(1,0,0,-1,0,Sd());U.matrix&&(Ue=Ue.multiply(U.matrix||vs),we=_d.call(Pe,U.key,U.boundingBox,U.xStep,U.yStep,Ue).id),X("q"),X("/Pattern cs"),X("/"+we+" scn"),Pe.gState&&m.setGState(Pe.gState),X(ae),X("Q")}},vf=function(U){switch(U){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Sc=m.moveTo=function(U,ae){return X(k(M(U))+" "+k(R(ae))+" m"),this},Ru=m.lineTo=function(U,ae){return X(k(M(U))+" "+k(R(ae))+" l"),this},mi=m.curveTo=function(U,ae,we,Pe,Ue,et){return X([k(M(U)),k(R(ae)),k(M(we)),k(R(Pe)),k(M(Ue)),k(R(et)),"c"].join(" ")),this};m.__private__.line=m.line=function(U,ae,we,Pe,Ue){if(isNaN(U)||isNaN(ae)||isNaN(we)||isNaN(Pe)||!rn(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return C===b?this.lines([[we-U,Pe-ae]],U,ae,[1,1],Ue||"S"):this.lines([[we-U,Pe-ae]],U,ae,[1,1]).stroke()},m.__private__.lines=m.lines=function(U,ae,we,Pe,Ue,et){var pt,Mt,Kt,lr,mr,Dr,Kn,ws,ln,Ts,us,Ws;if(typeof U=="number"&&(Ws=we,we=ae,ae=U,U=Ws),Pe=Pe||[1,1],et=et||!1,isNaN(ae)||isNaN(we)||!Array.isArray(U)||!Array.isArray(Pe)||!rn(Ue)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Sc(ae,we),pt=Pe[0],Mt=Pe[1],lr=U.length,Ts=ae,us=we,Kt=0;Kt<lr;Kt++)(mr=U[Kt]).length===2?(Ts=mr[0]*pt+Ts,us=mr[1]*Mt+us,Ru(Ts,us)):(Dr=mr[0]*pt+Ts,Kn=mr[1]*Mt+us,ws=mr[2]*pt+Ts,ln=mr[3]*Mt+us,Ts=mr[4]*pt+Ts,us=mr[5]*Mt+us,mi(Dr,Kn,ws,ln,Ts,us));return et&&Cc(),Sl(Ue),this},m.path=function(U){for(var ae=0;ae<U.length;ae++){var we=U[ae],Pe=we.c;switch(we.op){case"m":Sc(Pe[0],Pe[1]);break;case"l":Ru(Pe[0],Pe[1]);break;case"c":mi.apply(this,Pe);break;case"h":Cc()}}return this},m.__private__.rect=m.rect=function(U,ae,we,Pe,Ue){if(isNaN(U)||isNaN(ae)||isNaN(we)||isNaN(Pe)||!rn(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return C===b&&(Pe=-Pe),X([k(M(U)),k(R(ae)),k(M(we)),k(M(Pe)),"re"].join(" ")),Sl(Ue),this},m.__private__.triangle=m.triangle=function(U,ae,we,Pe,Ue,et,pt){if(isNaN(U)||isNaN(ae)||isNaN(we)||isNaN(Pe)||isNaN(Ue)||isNaN(et)||!rn(pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-U,Pe-ae],[Ue-we,et-Pe],[U-Ue,ae-et]],U,ae,[1,1],pt,!0),this},m.__private__.roundedRect=m.roundedRect=function(U,ae,we,Pe,Ue,et,pt){if(isNaN(U)||isNaN(ae)||isNaN(we)||isNaN(Pe)||isNaN(Ue)||isNaN(et)||!rn(pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*we),et=Math.min(et,.5*Pe),this.lines([[we-2*Ue,0],[Ue*Mt,0,Ue,et-et*Mt,Ue,et],[0,Pe-2*et],[0,et*Mt,-Ue*Mt,et,-Ue,et],[2*Ue-we,0],[-Ue*Mt,0,-Ue,-et*Mt,-Ue,-et],[0,2*et-Pe],[0,-et*Mt,Ue*Mt,-et,Ue,-et]],U+Ue,ae,[1,1],pt,!0),this},m.__private__.ellipse=m.ellipse=function(U,ae,we,Pe,Ue){if(isNaN(U)||isNaN(ae)||isNaN(we)||isNaN(Pe)||!rn(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*we,pt=4/3*(Math.SQRT2-1)*Pe;return Sc(U+we,ae),mi(U+we,ae-pt,U+et,ae-Pe,U,ae-Pe),mi(U-et,ae-Pe,U-we,ae-pt,U-we,ae),mi(U-we,ae+pt,U-et,ae+Pe,U,ae+Pe),mi(U+et,ae+Pe,U+we,ae+pt,U+we,ae),Sl(Ue),this},m.__private__.circle=m.circle=function(U,ae,we,Pe){if(isNaN(U)||isNaN(ae)||isNaN(we)||!rn(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,ae,we,we,Pe)},m.setFont=function(U,ae,we){return we&&(ae=P(ae,we)),ue=io(U,ae,{disableWarning:!1}),this};var Uu=m.__private__.getFont=m.getFont=function(){return ut[io.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var U,ae,we={};for(U in Nt)if(Nt.hasOwnProperty(U))for(ae in we[U]=[],Nt[U])Nt[U].hasOwnProperty(ae)&&we[U].push(ae);return we},m.addFont=function(U,ae,we,Pe,Ue){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(we=P(we,Pe)),nt.call(this,U,ae,we,Ue=Ue||"Identity-H")};var Bc,Cd=e.lineWidth||.200025,m0=m.__private__.getLineWidth=m.getLineWidth=function(){return Cd},kt=m.__private__.setLineWidth=m.setLineWidth=function(U){return Cd=U,X(k(M(U))+" w"),this};m.__private__.setLineDash=Xt.API.setLineDash=Xt.API.setLineDashPattern=function(U,ae){if(U=U||[],ae=ae||0,isNaN(ae)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(we){return k(M(we))}).join(" "),ae=k(M(ae)),X("["+U+"] "+ae+" d"),this};var Ui=m.__private__.getLineHeight=m.getLineHeight=function(){return ke*Bc};m.__private__.getLineHeight=m.getLineHeight=function(){return ke*Bc};var on=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(Bc=U),this},xm=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Bc};on(e.lineHeight);var oo=m.__private__.getHorizontalCoordinate=function(U){return M(U)},lo=m.__private__.getVerticalCoordinate=function(U){return C===w?U:wt[ee].mediaBox.topRightY-wt[ee].mediaBox.bottomLeftY-M(U)},bf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(U){return k(oo(U))},Bl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(U){return k(lo(U))},kc=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return cs(kc)},m.__private__.setStrokeColor=m.setDrawColor=function(U,ae,we,Pe){return kc=ds({ch1:U,ch2:ae,ch3:we,ch4:Pe,pdfColorType:"draw",precision:2}),X(kc),this};var kl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return cs(kl)},m.__private__.setFillColor=m.setFillColor=function(U,ae,we,Pe){return kl=ds({ch1:U,ch2:ae,ch3:we,ch4:Pe,pdfColorType:"fill",precision:2}),X(kl),this};var Vn=e.textColor||"0 g",El=m.__private__.getTextColor=m.getTextColor=function(){return cs(Vn)};m.__private__.setTextColor=m.setTextColor=function(U,ae,we,Pe){return Vn=ds({ch1:U,ch2:ae,ch3:we,ch4:Pe,pdfColorType:"text",precision:3}),this};var Qo=e.charSpace,ym=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Qo||0)};m.__private__.setCharSpace=m.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qo=U,this};var wf=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(U){var ae=m.CapJoinStyles[U];if(ae===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wf=ae,X(ae+" J"),this};var Du=0;m.__private__.setLineJoin=m.setLineJoin=function(U){var ae=m.CapJoinStyles[U];if(ae===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Du=ae,X(ae+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(k(M(U))+" M"),this},m.GState=J2,m.setGState=function(U){(U=typeof U=="string"?Ze[ct[U]]:Mu(null,U)).equals(tt)||(X("/"+U.id+" gs"),tt=U)};var Mu=function(U,ae){if(!U||!ct[U]){var we=!1;for(var Pe in Ze)if(Ze.hasOwnProperty(Pe)&&Ze[Pe].equals(ae)){we=!0;break}if(we)ae=Ze[Pe];else{var Ue="GS"+(Object.keys(Ze).length+1).toString(10);Ze[Ue]=ae,ae.id=Ue}return U&&(ct[U]=ae.id),Ut.publish("addGState",ae),ae}};m.addGState=function(U,ae){return Mu(U,ae),this},m.saveGraphicsState=function(){return X("q"),Pt.push({key:ue,size:ke,color:Vn}),this},m.restoreGraphicsState=function(){X("Q");var U=Pt.pop();return ue=U.key,ke=U.size,Vn=U.color,tt=null,this},m.setCurrentTransformationMatrix=function(U){return X(U.toString()+" cm"),this},m.comment=function(U){return X("#"+U),this};var Pl=function(U,ae){var we=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(et){isNaN(et)||(we=parseFloat(et))}});var Pe=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(et){isNaN(et)||(Pe=parseFloat(et))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(et){Ue=et.toString()}}),this},Qu=function(U,ae,we,Pe){Pl.call(this,U,ae),this.type="rect";var Ue=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(pt){isNaN(pt)||(Ue=parseFloat(pt))}});var et=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(pt){isNaN(pt)||(et=parseFloat(pt))}}),this},jr=function(){this.page=ze,this.currentPage=ee,this.pages=le.slice(0),this.pagesContext=wt.slice(0),this.x=Fe,this.y=Ee,this.matrix=De,this.width=Il(ee),this.height=vm(ee),this.outputDestination=pe,this.id="",this.objectNumber=-1};jr.prototype.restore=function(){ze=this.page,ee=this.currentPage,wt=this.pagesContext,le=this.pages,Fe=this.x,Ee=this.y,De=this.matrix,Nf(ee,this.width),co(ee,this.height),pe=this.outputDestination};var jf=function(U,ae,we,Pe,Ue){tn.push(new jr),ze=ee=0,le=[],Fe=U,Ee=ae,De=Ue,yt([we,Pe])};for(var ia in m.beginFormObject=function(U,ae,we,Pe,Ue){return jf(U,ae,we,Pe,Ue),this},m.endFormObject=function(U){return function(ae){if(Vr[ae])tn.pop().restore();else{var we=new jr,Pe="Xo"+(Object.keys(Or).length+1).toString(10);we.id=Pe,Vr[ae]=Pe,Or[Pe]=we,Ut.publish("addFormObject",we),tn.pop().restore()}}(U),this},m.doFormObject=function(U,ae){var we=Or[Vr[U]];return X("q"),X(ae.toString()+" cm"),X("/"+we.id+" Do"),X("Q"),this},m.getFormObject=function(U){var ae=Or[Vr[U]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},m.save=function(U,ae){return U=U||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(zf(dr(Ri()),U),typeof zf.unload=="function"&&ur.setTimeout&&setTimeout(zf.unload,911),this):new Promise(function(we,Pe){try{var Ue=zf(dr(Ri()),U);typeof zf.unload=="function"&&ur.setTimeout&&setTimeout(zf.unload,911),we(Ue)}catch(et){Pe(et.message)}})},Xt.API)Xt.API.hasOwnProperty(ia)&&(ia==="events"&&Xt.API.events.length?function(U,ae){var we,Pe,Ue;for(Ue=ae.length-1;Ue!==-1;Ue--)we=ae[Ue][0],Pe=ae[Ue][1],U.subscribe.apply(U,[we].concat(typeof Pe=="function"?[Pe]:Pe))}(Ut,Xt.API.events):m[ia]=Xt.API[ia]);function Il(U){return wt[U].mediaBox.topRightX-wt[U].mediaBox.bottomLeftX}function Nf(U,ae){wt[U].mediaBox.topRightX=ae+wt[U].mediaBox.bottomLeftX}function vm(U){return wt[U].mediaBox.topRightY-wt[U].mediaBox.bottomLeftY}function co(U,ae){wt[U].mediaBox.topRightY=ae+wt[U].mediaBox.bottomLeftY}var Tl=m.getPageWidth=function(U){return Il(U=U||ee)/Se},_f=m.setPageWidth=function(U,ae){Nf(U,ae*Se)},Sd=m.getPageHeight=function(U){return vm(U=U||ee)/Se},bm=m.setPageHeight=function(U,ae){co(U,ae*Se)};return m.internal={pdfEscape:lt,getStyle:Do,getFont:Uu,getFontSize:Ye,getCharSpace:ym,getTextColor:El,getLineHeight:Ui,getLineHeightFactor:xm,getLineWidth:m0,write:be,getHorizontalCoordinate:oo,getVerticalCoordinate:lo,getCoordinateString:bf,getVerticalCoordinateString:Bl,collections:{},newObject:br,newAdditionalObject:aa,newObjectDeferred:Et,newObjectDeferredBegin:An,getFilters:kn,putStream:ot,events:Ut,scaleFactor:Se,pageSize:{getWidth:function(){return Tl(ee)},setWidth:function(U){_f(ee,U)},getHeight:function(){return Sd(ee)},setHeight:function(U){bm(ee,U)}},encryptionOptions:u,encryption:rs,getEncryptor:function(U){return u!==null?rs.encryptor(U,0):function(ae){return ae}},output:Rn,getNumberOfPages:ka,get pages(){return le},out:X,f2:B,f3:F,getPageInfo:bs,getPageInfoByObjId:gm,getCurrentPageInfo:Fu,getPDFVersion:g,Point:Pl,Rectangle:Qu,Matrix:Bt,hasHotfix:Va},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Tl(ee)},set:function(U){_f(ee,U)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Sd(ee)},set:function(U){bm(ee,U)},enumerable:!0,configurable:!0}),(function(U){for(var ae=0,we=Le.length;ae<we;ae++){var Pe=nt.call(this,U[ae][0],U[ae][1],U[ae][2],Le[ae][3],!0);f===!1&&(A[Pe]=!0);var Ue=U[ae][0].split("-");ve({id:Pe,fontName:Ue[0],fontStyle:Ue[1]||""})}Ut.publish("addFonts",{fonts:ut,dictionary:Nt})}).call(m,Le),ue="F1",tr(a,r),Ut.publish("initialized"),m}Zm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Zm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Zm.prototype.processOwnerPassword=function(e,t){return Ok(Tk(t).substr(0,5),e)},Zm.prototype.encryptor=function(e,t){var r=Tk(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Ok(r,n)}},J2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||yn(e)!==yn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Xt.API={events:[]},Xt.version="3.0.4";var Ss=Xt.API,dI=1,um=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$m=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gr=function(e){return e.toFixed(2)},sh=function(e){return e.toFixed(5)};Ss.__acroform__={};var so=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},rM=function(e){return e*dI},Mc=function(e){var t=new lX,r=Vt.internal.getHeight(e)||0,n=Vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(gr(n)),Number(gr(r))],t},MSe=Ss.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},QSe=Ss.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},$Se=Ss.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},$s=Ss.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $Se(e,t-1)},Hs=Ss.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return MSe(e,t-1)},zs=Ss.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return QSe(e,t-1)},HSe=Ss.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(gr(c.lowerLeft_X)),Number(gr(c.lowerLeft_Y)),Number(gr(c.upperRight_X)),Number(gr(c.upperRight_Y))]},zSe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Lk(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+gr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Mc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Lk=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(B){return B.split(`
`)}):a.map(function(B){return[B]});var i=r,o=Vt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Vt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(B,F,M){if(B+1<a.length){var R=F+" "+a[B+1][0];return Rw(R,e,M).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,f=Rw("3",e,i).height,A=e.multiline?o-i:(o-f)/2,m=A+=2,x=0,g=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Rw(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var v="",b=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var C=!1;if(a[w].length!==1&&y!==a[w].length-1){if((f+2)*(b+2)+2>o)continue e;v+=a[w][y],C=!0,g=w,w--}else{v=(v+=a[w][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var N=parseInt(w),j=c(N,v,i),P=w>=a.length-1;if(j&&!P){v+=" ",y=0;continue}if(j||P){if(P)g=N;else if(e.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>o)continue e;g=N}}for(var k="",T=x;T<=g;T++){var O=a[T];if(e.multiline){if(T===g){k+=O[y]+" ",y=(y+1)%O.length;continue}if(T===x){k+=O[O.length-1]+" ";continue}}k+=O[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=Rw(k,e,i).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=gr(d)+" "+gr(m)+` Td
`,t+="("+um(k)+`) Tj
`,t+=-gr(d)+` 0 Td
`,m=-(i+2),u=0,x=C?g:g+1,b++,v=""}break}return n.text=t,n.fontSize=i,n},Rw=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},VSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},KSe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},WSe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(jc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(VSe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");dI=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new cX,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&KSe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=HSe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Vt.createDefaultAppearanceStream(l),yn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=zSe(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var f="";for(var A in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(A)){var m=l.appearanceStreamContent[A];if(f+="/"+A+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(a,l)),f+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(a,l)),f+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&function(g,y){for(var v in g)if(g.hasOwnProperty(v)){var b=v,w=g[v];y.internal.newObjectDeferredBegin(w.objId,!0),yn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[b]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},oX=Ss.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),yn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+um(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},PS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+um(n(e))+")"},Vc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vc.prototype.toString=function(){return this.objId+" 0 R"},Vc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Vc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:oX(a,this.objId,this.scope)}):a instanceof Vc?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var lX=function(){Vc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};so(lX,Vc);var cX=function(){Vc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+um(r(e))+")"}},set:function(r){e=r}})};so(cX,Vc);var jc=function e(){Vc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$s(t,3)},set:function(v){v?this.F=Hs(t,3):this.F=zs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof ej)return;i="FieldObject"+e.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+um(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/dI:d},set:function(v){d=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof ej||this instanceof wA))return PS(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Na==0?PS(A,this.objId,this.scope):A},set:function(v){v=v.toString(),A=this instanceof Na==0?v.substr(0,1)==="("?$m(v.substr(1,v.length-2)):$m(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Na==1?$m(A.substr(1,A.length-1)):A},set:function(v){v=v.toString(),A=this instanceof Na==1?"/"+v:v}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Na==0?PS(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof Na==0?v.substr(0,1)==="("?$m(v.substr(1,v.length-2)):$m(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Na==1?$m(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof Na==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(v){x=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,1)},set:function(v){v?this.Ff=Hs(this.Ff,1):this.Ff=zs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,2)},set:function(v){v?this.Ff=Hs(this.Ff,2):this.Ff=zs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,3)},set:function(v){v?this.Ff=Hs(this.Ff,3):this.Ff=zs(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};so(jc,Vc);var Qp=function(){jc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return oX(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,18)},set:function(r){r?this.Ff=Hs(this.Ff,18):this.Ff=zs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Hs(this.Ff,19):this.Ff=zs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,20)},set:function(r){r?(this.Ff=Hs(this.Ff,20),t.sort()):this.Ff=zs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,22)},set:function(r){r?this.Ff=Hs(this.Ff,22):this.Ff=zs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,23)},set:function(r){r?this.Ff=Hs(this.Ff,23):this.Ff=zs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,27)},set:function(r){r?this.Ff=Hs(this.Ff,27):this.Ff=zs(this.Ff,27)}}),this.hasAppearanceStream=!1};so(Qp,jc);var $p=function(){Qp.call(this),this.fontName="helvetica",this.combo=!1};so($p,Qp);var Hp=function(){$p.call(this),this.combo=!0};so(Hp,$p);var M1=function(){Hp.call(this),this.edit=!0};so(M1,Hp);var Na=function(){jc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,15)},set:function(r){r?this.Ff=Hs(this.Ff,15):this.Ff=zs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,16)},set:function(r){r?this.Ff=Hs(this.Ff,16):this.Ff=zs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,17)},set:function(r){r?this.Ff=Hs(this.Ff,17):this.Ff=zs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,26)},set:function(r){r?this.Ff=Hs(this.Ff,26):this.Ff=zs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+um(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){yn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};so(Na,jc);var Q1=function(){Na.call(this),this.pushButton=!0};so(Q1,Na);var zp=function(){Na.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};so(zp,Na);var ej=function(){var e,t;jc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+um(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){yn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};so(ej,jc),zp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},zp.prototype.createOption=function(e){var t=new ej;return t.Parent=this,t.optionName=e,this.Kids.push(t),GSe.call(this.scope,t),t};var $1=function(){Na.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vt.CheckBox.createAppearanceStream()};so($1,Na);var wA=function(){jc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,13)},set:function(t){t?this.Ff=Hs(this.Ff,13):this.Ff=zs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,21)},set:function(t){t?this.Ff=Hs(this.Ff,21):this.Ff=zs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,23)},set:function(t){t?this.Ff=Hs(this.Ff,23):this.Ff=zs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,24)},set:function(t){t?this.Ff=Hs(this.Ff,24):this.Ff=zs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,25)},set:function(t){t?this.Ff=Hs(this.Ff,25):this.Ff=zs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,26)},set:function(t){t?this.Ff=Hs(this.Ff,26):this.Ff=zs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};so(wA,jc);var H1=function(){wA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,14)},set:function(e){e?this.Ff=Hs(this.Ff,14):this.Ff=zs(this.Ff,14)}}),this.password=!0};so(H1,wA);var Vt={CheckBox:{createAppearanceStream:function(){return{N:{On:Vt.CheckBox.YesNormal},D:{On:Vt.CheckBox.YesPushDown,Off:Vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Mc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Lk(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+gr(Vt.internal.getWidth(e))+" "+gr(Vt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+gr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Mc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Vt.internal.getHeight(e),o=Vt.internal.getWidth(e),l=Lk(e,e.caption);return a.push("1 g"),a.push("0 0 "+gr(o)+" "+gr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+gr(o-1)+" "+gr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+gr(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Mc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+gr(Vt.internal.getWidth(e))+" "+gr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Circle.YesNormal,t.D[e]=Vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Mc(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Vt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+sh(Vt.internal.getWidth(e)/2)+" "+sh(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Mc(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Vt.internal.Bezier_C).toFixed(5)),o=Number((n*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+sh(Vt.internal.getWidth(e)/2)+" "+sh(Vt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+sh(Vt.internal.getWidth(e)/2)+" "+sh(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Mc(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+sh(Vt.internal.getWidth(e)/2)+" "+sh(Vt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Cross.YesNormal,t.D[e]=Vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Mc(e);t.scope=e.scope;var r=[],n=Vt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+gr(Vt.internal.getWidth(e)-2)+" "+gr(Vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(gr(n.x1.x)+" "+gr(n.x1.y)+" m"),r.push(gr(n.x2.x)+" "+gr(n.x2.y)+" l"),r.push(gr(n.x4.x)+" "+gr(n.x4.y)+" m"),r.push(gr(n.x3.x)+" "+gr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Mc(e);t.scope=e.scope;var r=Vt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+gr(Vt.internal.getWidth(e))+" "+gr(Vt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+gr(Vt.internal.getWidth(e)-2)+" "+gr(Vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(gr(r.x1.x)+" "+gr(r.x1.y)+" m"),n.push(gr(r.x2.x)+" "+gr(r.x2.y)+" l"),n.push(gr(r.x4.x)+" "+gr(r.x4.y)+" m"),n.push(gr(r.x3.x)+" "+gr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Mc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+gr(Vt.internal.getWidth(e))+" "+gr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Vt.internal.getWidth(e),r=Vt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Vt.internal.getWidth=function(e){var t=0;return yn(e)==="object"&&(t=rM(e.Rect[2])),t},Vt.internal.getHeight=function(e){var t=0;return yn(e)==="object"&&(t=rM(e.Rect[3])),t};var GSe=Ss.addField=function(e){if(WSe(this,e),!(e instanceof jc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ss.AcroFormChoiceField=Qp,Ss.AcroFormListBox=$p,Ss.AcroFormComboBox=Hp,Ss.AcroFormEditBox=M1,Ss.AcroFormButton=Na,Ss.AcroFormPushButton=Q1,Ss.AcroFormRadioButton=zp,Ss.AcroFormCheckBox=$1,Ss.AcroFormTextField=wA,Ss.AcroFormPasswordField=H1,Ss.AcroFormAppearance=Vt,Ss.AcroForm={ChoiceField:Qp,ListBox:$p,ComboBox:Hp,EditBox:M1,Button:Na,PushButton:Q1,RadioButton:zp,CheckBox:$1,TextField:wA,PasswordField:H1,Appearance:Vt},Xt.AcroForm={ChoiceField:Qp,ListBox:$p,ComboBox:Hp,EditBox:M1,Button:Na,PushButton:Q1,RadioButton:zp,CheckBox:$1,TextField:wA,PasswordField:H1,Appearance:Vt};Xt.AcroForm;function dX(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(B,F){var M,R,H,G,$,V=r;if((F=F||r)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(j(B))for($ in n)for(H=n[$],M=0;M<H.length;M+=1){for(G=!0,R=0;R<H[M].length;R+=1)if(H[M][R]!==void 0&&H[M][R]!==B[R]){G=!1;break}if(G===!0){V=$;break}}else for($ in n)for(H=n[$],M=0;M<H.length;M+=1){for(G=!0,R=0;R<H[M].length;R+=1)if(H[M][R]!==void 0&&H[M][R]!==B.charCodeAt(R)){G=!1;break}if(G===!0){V=$;break}}return V===r&&F!==r&&(V=F),V},i=function B(F){for(var M=this.internal.write,R=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:F.width}),G.push({key:"Height",value:F.height}),F.colorSpace===v.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===v.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var $="",V=0,te=F.transparency.length;V<te;V++)$+=F.transparency[V]+" "+F.transparency[V]+" ";G.push({key:"Mask",value:"["+$+"]"})}F.sMask!==void 0&&G.push({key:"SMask",value:F.objectId+1+" 0 R"});var re=F.filter!==void 0?["/"+F.filter]:void 0;if(R({data:F.data,additionalKeyValues:G,alreadyAppliedFilters:re,objectId:F.objectId}),M("endobj"),"sMask"in F&&F.sMask!==void 0){var K,z=(K=F.sMaskBitsPerComponent)!==null&&K!==void 0?K:F.bitsPerComponent,ee={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:F.sMask};"filter"in F&&(ee.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(F.width),ee.filter=F.filter),B.call(this,ee)}if(F.colorSpace===v.INDEXED){var W=this.internal.newObject();R({data:k(new Uint8Array(F.palette)),objectId:W}),M("endobj")}},o=function(){var B=this.internal.collections[t+"images"];for(var F in B)i.call(this,B[F])},l=function(){var B,F=this.internal.collections[t+"images"],M=this.internal.write;for(var R in F)M("/I"+(B=F[R]).index,B.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var B=this.internal.collections[t+"images"];return c.call(this),B},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(B){return typeof e["process"+B.toUpperCase()]=="function"},A=function(B){return yn(B)==="object"&&B.nodeType===1},m=function(B,F){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var M=""+B.getAttribute("src");if(M.indexOf("data:image/")===0)return D1(unescape(M).split("base64,").pop());var R=e.loadFile(M,!0);if(R!==void 0)return R}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var H;switch(F){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return D1(B.toDataURL(H,1).split("base64,").pop())}},x=function(B){var F=this.internal.collections[t+"images"];if(F){for(var M in F)if(B===F[M].alias)return F[M]}},g=function(B,F,M){return B||F||(B=-96,F=-96),B<0&&(B=-1*M.width*72/B/this.internal.scaleFactor),F<0&&(F=-1*M.height*72/F/this.internal.scaleFactor),B===0&&(B=F*M.width/M.height),F===0&&(F=B*M.height/M.width),[B,F]},y=function(B,F,M,R,H,G){var $=g.call(this,M,R,H),V=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,re=d.call(this);if(M=$[0],R=$[1],re[H.index]=H,G){G*=Math.PI/180;var K=Math.cos(G),z=Math.sin(G),ee=function(ne){return ne.toFixed(4)},W=[ee(K),ee(z),ee(-1*z),ee(K),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,V(B),te(F+R),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([V(M),"0","0",V(R),"0","0","cm"].join(" "))):this.internal.write([V(M),"0","0",V(R),V(B),te(F+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(B){var F,M,R=0;if(typeof B=="string")for(M=B.length,F=0;F<M;F++)R=(R<<5)-R+B.charCodeAt(F),R|=0;else if(j(B))for(M=B.byteLength/2,F=0;F<M;F++)R=(R<<5)-R+B[F],R|=0;return R},C=e.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var F=!0;return B.length===0&&(F=!1),B.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(F=!1),F},N=e.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var F=B.indexOf(",");return F<0?null:B.substring(0,F).trim().endsWith("base64")?B.substring(F+1):null};e.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(B){for(var F=B.length,M=new Uint8Array(F),R=0;R<F;R++)M[R]=B.charCodeAt(R);return M},k=e.__addimage__.arrayBufferToBinaryString=function(B){for(var F="",M=j(B)?B:new Uint8Array(B),R=0;R<M.length;R+=8192)F+=String.fromCharCode.apply(null,M.subarray(R,R+8192));return F};e.addImage=function(){var B,F,M,R,H,G,$,V,te;if(typeof arguments[1]=="number"?(F=r,M=arguments[1],R=arguments[2],H=arguments[3],G=arguments[4],$=arguments[5],V=arguments[6],te=arguments[7]):(F=arguments[1],M=arguments[2],R=arguments[3],H=arguments[4],G=arguments[5],$=arguments[6],V=arguments[7],te=arguments[8]),yn(B=arguments[0])==="object"&&!A(B)&&"imageData"in B){var re=B;B=re.imageData,F=re.format||F||r,M=re.x||M||0,R=re.y||R||0,H=re.w||re.width||H,G=re.h||re.height||G,$=re.alias||$,V=re.compression||V,te=re.rotation||re.angle||te}var K=this.internal.getFilters();if(V===void 0&&K.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(M)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var z=T.call(this,B,F,$,V);return y.call(this,M,R,H,G,z,te),this};var T=function(B,F,M,R){var H,G,$;if(typeof B=="string"&&a(B)===r){B=unescape(B);var V=O(B,!1);(V!==""||(V=e.loadFile(B,!0))!==void 0)&&(B=V)}if(A(B)&&(B=m(B,F)),F=a(B,F),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if((($=M)==null||$.length===0)&&(M=function(te){return typeof te=="string"||j(te)?w(te):j(te.data)?w(te.data):null}(B)),(H=x.call(this,M))||(B instanceof Uint8Array||F==="RGBA"||(G=B,B=P(B)),H=this["process"+F.toUpperCase()](B,u.call(this),M,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:b.NONE}(R),G)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},O=e.__addimage__.convertBase64ToBinaryString=function(B,F){F=typeof F!="boolean"||F;var M,R="";if(typeof B=="string"){var H;M=(H=N(B))!==null&&H!==void 0?H:B;try{R=D1(M)}catch(G){if(F)throw C(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};e.getImageProperties=function(B){var F,M,R="";if(A(B)&&(B=m(B)),typeof B=="string"&&a(B)===r&&((R=O(B,!1))===""&&(R=e.loadFile(B)||""),B=R),M=a(B),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(B instanceof Uint8Array||(B=P(B)),!(F=this["process"+M.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=M,F}})(Xt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Xt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((n=d[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var A=0;A<d.length;A++){n=d[A];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(v(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(v(b))+") >>",g.content=i;var w=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(x(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var j=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+a),h:d(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,a,i),a+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-d,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Xt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var y=0,v=r,b="",w=0;for(y=0;y<g.length;y+=1)v[g.charCodeAt(y)]!==void 0?(w++,typeof(v=v[g.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(v),v=r,w=0),y===g.length-1&&(v=r,b+=g.charAt(y-(w-1)),y-=w-1,w=0)):(v=r,b+=g.charAt(y-w),y-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var A=e.__arabicParser__.getCorrectForm=function(g,y,v){return o(g)?i(g)===!1?-1:!d(g)||!o(y)&&!o(v)||!o(v)&&l(y)||l(g)&&!o(y)||l(g)&&c(y)||l(g)&&l(y)?0:u(g)&&o(y)&&!l(y)&&o(v)&&d(v)?3:l(g)||!o(v)?1:2:-1},m=function(g){var y=0,v=0,b=0,w="",C="",N="",j=(g=g||"").split("\\s+"),P=[];for(y=0;y<j.length;y+=1){for(P.push(""),v=0;v<j[y].length;v+=1)w=j[y][v],C=j[y][v-1],N=j[y][v+1],o(w)?(b=A(w,C,N),P[y]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):P[y]+=w;P[y]=f(P[y])}return P.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var b=0;for(v=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?v.push([m(y[b][0]),y[b][1],y[b][2]]):v.push([m(y[b])]);g=v}else g=m(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",x])}(Xt.API),Xt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Xt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),A=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,g=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=d.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,C){return w.concat(y.splitTextToSize(C,v))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)m<(g=this.getStringUnitWidth(c[b],{font:f})*u)&&(m=g);return m!==0&&(x=c.length),{w:m/=A,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/A,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,A=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&A&&(this.printHeaderRow(c.lineNumber,!0),c.y+=A[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,f,A){if(n.call(this),!u)throw new Error("No data for PDF table.");var m,x,g,y,v=[],b=[],w=[],C={},N={},j=[],P=[],k=(A=A||{}).autoSize||!1,T=A.printHeaders!==!1,O=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,B=A.margins||Object.assign({width:this.getPageWidth()},t),F=typeof A.padding=="number"?A.padding:3,M=A.headerBackgroundColor||"#c8c8c8",R=A.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=R,this.setFontSize(O),f==null)b=v=Object.keys(u[0]),w=v.map(function(){return"left"});else if(Array.isArray(f)&&yn(f[0])==="object")for(v=f.map(function(re){return re.name}),b=f.map(function(re){return re.prompt||re.name||""}),w=f.map(function(re){return re.align||"left"}),m=0;m<f.length;m+=1)N[f[m].name]=.7499990551181103*f[m].width;else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,w=v.map(function(){return"left"}));if(k||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<v.length;m+=1){for(C[y=v[m]]=u.map(function(re){return re[y]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=C[y],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)j.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[y]=Math.max.apply(null,j)+F+F,j=[]}if(T){var H={};for(m=0;m<v.length;m+=1)H[v[m]]={},H[v[m]].text=b[m],H[v[m]].align=w[m];var G=l.call(this,H,N);P=v.map(function(re){return new i(c,d,N[re],G,H[re].text,void 0,H[re].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var $=f.reduce(function(re,K){return re[K.name]=K.align,re},{});for(m=0;m<u.length;m+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:m,data:u[m]},this);var V=l.call(this,u[m],N);for(g=0;g<v.length;g+=1){var te=u[m][v[g]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:m,col:g,data:te},this),o.call(this,new i(c,d,N[v[g]],V,te,m+2,$[v[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/A+u+u},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,A.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),r=!1}}(Xt.API);var uX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Fk=dX(hX),fX=[100,200,300,400,500,600,700,800,900],qSe=dX(fX);function IS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return uX[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof Fk[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function nM(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var YSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function iM(e){return e.trimLeft()}function XSe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function ZSe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Uw,oM,lM,Hm,Dw,cM,dM,uM,TS=["times"];function hM(e,t,r,n,a){var i=4,o=AM;switch(a){case Xt.API.image_compression.FAST:i=1,o=fM;break;case Xt.API.image_compression.MEDIUM:i=6,o=mM;break;case Xt.API.image_compression.SLOW:i=9,o=pM}e=function(c,d,u,f){for(var A,m=c.length/d,x=new Uint8Array(c.length+m),g=[JSe,fM,AM,mM,pM],y=0;y<m;y+=1){var v=y*d,b=c.subarray(v,v+d);if(f)x.set(f(b,u,A),v+y);else{for(var w=g.length,C=[],N=0;N<w;N+=1)C[N]=g[N](b,u,A);var j=t4e(C.concat());x.set(C[j],v+y)}A=b}return x}(e,t,Math.ceil(r*n/8),o);var l=kk(e,{level:i});return Xt.API.__addimage__.arrayBufferToBinaryString(l)}function JSe(e){var t=Array.apply([],e);return t.unshift(0),t}function fM(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function AM(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function mM(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function pM(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var o=e4e(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function e4e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function t4e(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function OS(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),o=(1<<r)-1;return AX(e,a)>>i&o}function gM(e,t,r,n){var a=r*n,i=Math.floor(a/8),o=16-(a-8*i+n),l=(1<<n)-1,c=(t&l)<<o;(function(d,u,f){if(u+1<d.byteLength)d.setUint16(u,f,!1);else{var A=f>>8&255;d.setUint8(u,A)}})(e,i,AX(e,i)&~(l<<o)&65535|c)}function AX(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function r4e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,u=[],f=0,A=null,m=0,x=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((B=e[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,A=e[t++],1&g||(A=null),m=g>>2&7,t++;break;case 254:for(;;){if(!((B=e[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,C=e[t++],N=C>>6&1,j=1<<1+(7&C),P=l,k=c,T=!1;C>>7&&(T=!0,P=t,k=j,t+=3*j);var O=t;for(t++;;){var B;if(!((B=e[t++])>=0))throw Error("Invalid block size");if(B===0)break;t+=B}u.push({x:y,y:v,width:b,height:w,has_local_palette:T,palette_offset:P,palette_size:k,data_offset:O,data_length:t-O,transparent_index:A,interlaced:!!N,delay:f,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(F){if(F<0||F>=u.length)throw new Error("Frame index out of range.");return u[F]},this.decodeAndBlitFrameBGRA=function(F,M){var R=this.frameInfo(F),H=R.width*R.height,G=new Uint8Array(H);xM(e,R.data_offset,G,H);var $=R.palette_offset,V=R.transparent_index;V===null&&(V=256);var te=R.width,re=r-te,K=te,z=4*(R.y*r+R.x),ee=4*((R.y+R.height)*r+R.x),W=z,ne=4*re;R.interlaced===!0&&(ne+=4*r*7);for(var se=8,ce=0,ye=G.length;ce<ye;++ce){var Ae=G[ce];if(K===0&&(K=te,(W+=ne)>=ee&&(ne=4*re+4*r*(se-1),W=z+(te+re)*(se<<1),se>>=1)),Ae===V)W+=4;else{var xe=e[$+3*Ae],le=e[$+3*Ae+1],Z=e[$+3*Ae+2];M[W++]=Z,M[W++]=le,M[W++]=xe,M[W++]=255}--K}},this.decodeAndBlitFrameRGBA=function(F,M){var R=this.frameInfo(F),H=R.width*R.height,G=new Uint8Array(H);xM(e,R.data_offset,G,H);var $=R.palette_offset,V=R.transparent_index;V===null&&(V=256);var te=R.width,re=r-te,K=te,z=4*(R.y*r+R.x),ee=4*((R.y+R.height)*r+R.x),W=z,ne=4*re;R.interlaced===!0&&(ne+=4*r*7);for(var se=8,ce=0,ye=G.length;ce<ye;++ce){var Ae=G[ce];if(K===0&&(K=te,(W+=ne)>=ee&&(ne=4*re+4*r*(se-1),W=z+(te+re)*(se<<1),se>>=1)),Ae===V)W+=4;else{var xe=e[$+3*Ae],le=e[$+3*Ae+1],Z=e[$+3*Ae+2];M[W++]=xe,M[W++]=le,M[W++]=Z,M[W++]=255}--K}}}function xM(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,f=0,A=0,m=e[t++],x=new Int32Array(4096),g=null;;){for(;u<16&&m!==0;)f|=e[t++]<<u,u+=8,m===1?m=e[t++]:--m;if(u<c)break;var y=f&d;if(f>>=c,u-=c,y!==i){if(y===o)break;for(var v=y<l?y:g,b=0,w=v;w>i;)w=x[w]>>8,++b;var C=w;if(A+b+(v!==y?1:0)>n)return void Tn.log("Warning, gif stream longer than expected.");r[A++]=C;var N=A+=b;for(v!==y&&(r[A++]=C),w=v;b--;)w=x[w],r[--N]=255&w,w>>=8;g!==null&&l<4096&&(x[l++]=g<<8|C,l>=d+1&&c<12&&(++c,d=d<<1|1)),g=y}else l=o+1,d=(1<<(c=a+1))-1,g=null}return A!==n&&Tn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function LS(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),A=new Array(65535),m=new Array(64),x=new Array(64),g=[],y=0,v=7,b=new Array(64),w=new Array(64),C=new Array(64),N=new Array(256),j=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(z,ee){for(var W=0,ne=0,se=new Array,ce=1;ce<=16;ce++){for(var ye=1;ye<=z[ce];ye++)se[ee[ne]]=[],se[ee[ne]][0]=W,se[ee[ne]][1]=ce,ne++,W++;W*=2}return se}function $(z){for(var ee=z[0],W=z[1]-1;W>=0;)ee&1<<W&&(y|=1<<v),W--,--v<0&&(y==255?(V(255),V(0)):V(y),v=7,y=0)}function V(z){g.push(z)}function te(z){V(z>>8&255),V(255&z)}function re(z,ee,W,ne,se){for(var ce,ye=se[0],Ae=se[240],xe=function(ke,Qe){var Ye,it,Oe,Ge,mt,ft,Ie,Je,ue,Se,Fe=0;for(ue=0;ue<8;++ue){Ye=ke[Fe],it=ke[Fe+1],Oe=ke[Fe+2],Ge=ke[Fe+3],mt=ke[Fe+4],ft=ke[Fe+5],Ie=ke[Fe+6];var Ee=Ye+(Je=ke[Fe+7]),De=Ye-Je,ut=it+Ie,Nt=it-Ie,Pt=Oe+ft,ht=Oe-ft,Xe=Ge+mt,Ze=Ge-mt,ct=Ee+Xe,tt=Ee-Xe,ze=ut+Pt,wt=ut-Pt;ke[Fe]=ct+ze,ke[Fe+4]=ct-ze;var Ut=.707106781*(wt+tt);ke[Fe+2]=tt+Ut,ke[Fe+6]=tt-Ut;var $r=.382683433*((ct=Ze+ht)-(wt=Nt+De)),Or=.5411961*ct+$r,Vr=1.306562965*wt+$r,tn=.707106781*(ze=ht+Nt),Bt=De+tn,es=De-tn;ke[Fe+5]=es+Or,ke[Fe+3]=es-Or,ke[Fe+1]=Bt+Vr,ke[Fe+7]=Bt-Vr,Fe+=8}for(Fe=0,ue=0;ue<8;++ue){Ye=ke[Fe],it=ke[Fe+8],Oe=ke[Fe+16],Ge=ke[Fe+24],mt=ke[Fe+32],ft=ke[Fe+40],Ie=ke[Fe+48];var vs=Ye+(Je=ke[Fe+56]),Fn=Ye-Je,os=it+Ie,br=it-Ie,Et=Oe+ft,An=Oe-ft,aa=Ge+mt,Ks=Ge-mt,ls=vs+aa,cs=vs-aa,ds=os+Et,kn=os-Et;ke[Fe]=ls+ds,ke[Fe+32]=ls-ds;var ot=.707106781*(kn+cs);ke[Fe+16]=cs+ot,ke[Fe+48]=cs-ot;var St=.382683433*((ls=Ks+An)-(kn=br+Fn)),Tt=.5411961*ls+St,vt=1.306562965*kn+St,Dt=.707106781*(ds=An+br),Nn=Fn+Dt,Ur=Fn-Dt;ke[Fe+40]=Ur+Tt,ke[Fe+24]=Ur-Tt,ke[Fe+8]=Nn+vt,ke[Fe+56]=Nn-vt,Fe++}for(ue=0;ue<64;++ue)Se=ke[ue]*Qe[ue],m[ue]=Se>0?Se+.5|0:Se-.5|0;return m}(z,ee),le=0;le<64;++le)x[P[le]]=xe[le];var Z=x[0]-W;W=x[0],Z==0?$(ne[0]):($(ne[A[ce=32767+Z]]),$(f[ce]));for(var pe=63;pe>0&&x[pe]==0;)pe--;if(pe==0)return $(ye),W;for(var oe,X=1;X<=pe;){for(var be=X;x[X]==0&&X<=pe;)++X;var _e=X-be;if(_e>=16){oe=_e>>4;for(var Le=1;Le<=oe;++Le)$(Ae);_e&=15}ce=32767+x[X],$(se[(_e<<4)+A[ce]]),$(f[ce]),X++}return pe!=63&&$(ye),W}function K(z){z=Math.min(Math.max(z,1),100),i!=z&&(function(ee){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var se=o((W[ne]*ee+50)/100);se=Math.min(Math.max(se,1),255),l[P[ne]]=se}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var Ae=o((ce[ye]*ee+50)/100);Ae=Math.min(Math.max(Ae,1),255),c[P[ye]]=Ae}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],le=0,Z=0;Z<8;Z++)for(var pe=0;pe<8;pe++)d[le]=1/(l[P[le]]*xe[Z]*xe[pe]*8),u[le]=1/(c[P[le]]*xe[Z]*xe[pe]*8),le++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),i=z)}this.encode=function(z,ee){ee&&K(ee),g=new Array,y=0,v=7,te(65496),te(65504),te(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),te(1),te(1),V(0),V(0),function(){te(65499),te(132),V(0);for(var it=0;it<64;it++)V(l[it]);V(1);for(var Oe=0;Oe<64;Oe++)V(c[Oe])}(),function(it,Oe){te(65472),te(17),V(8),te(Oe),te(it),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(z.width,z.height),function(){te(65476),te(418),V(0);for(var it=0;it<16;it++)V(k[it+1]);for(var Oe=0;Oe<=11;Oe++)V(T[Oe]);V(16);for(var Ge=0;Ge<16;Ge++)V(O[Ge+1]);for(var mt=0;mt<=161;mt++)V(B[mt]);V(1);for(var ft=0;ft<16;ft++)V(F[ft+1]);for(var Ie=0;Ie<=11;Ie++)V(M[Ie]);V(17);for(var Je=0;Je<16;Je++)V(R[Je+1]);for(var ue=0;ue<=161;ue++)V(H[ue])}(),te(65498),te(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var W=0,ne=0,se=0;y=0,v=7,this.encode.displayName="_encode_";for(var ce,ye,Ae,xe,le,Z,pe,oe,X,be=z.data,_e=z.width,Le=z.height,ke=4*_e,Qe=0;Qe<Le;){for(ce=0;ce<ke;){for(le=ke*Qe+ce,pe=-1,oe=0,X=0;X<64;X++)Z=le+(oe=X>>3)*ke+(pe=4*(7&X)),Qe+oe>=Le&&(Z-=ke*(Qe+1+oe-Le)),ce+pe>=ke&&(Z-=ce+pe-ke+4),ye=be[Z++],Ae=be[Z++],xe=be[Z++],b[X]=(j[ye]+j[Ae+256|0]+j[xe+512|0]>>16)-128,w[X]=(j[ye+768|0]+j[Ae+1024|0]+j[xe+1280|0]>>16)-128,C[X]=(j[ye+1280|0]+j[Ae+1536|0]+j[xe+1792|0]>>16)-128;W=re(b,d,W,t,n),ne=re(w,u,ne,r,a),se=re(C,u,se,r,a),ce+=32}Qe+=8}if(v>=0){var Ye=[];Ye[1]=v+1,Ye[0]=(1<<v+1)-1,$(Ye)}return te(65497),new Uint8Array(g)},e=e||50,function(){for(var z=String.fromCharCode,ee=0;ee<256;ee++)N[ee]=z(ee)}(),t=G(k,T),r=G(F,M),n=G(O,B),a=G(R,H),function(){for(var z=1,ee=2,W=1;W<=15;W++){for(var ne=z;ne<ee;ne++)A[32767+ne]=W,f[32767+ne]=[],f[32767+ne][1]=W,f[32767+ne][0]=ne;for(var se=-(ee-1);se<=-z;se++)A[32767+se]=W,f[32767+se]=[],f[32767+se][1]=W,f[32767+se][0]=ee-1+se;z<<=1,ee<<=1}}(),function(){for(var z=0;z<256;z++)j[z]=19595*z,j[z+256|0]=38470*z,j[z+512|0]=7471*z+32768,j[z+768|0]=-11059*z,j[z+1024|0]=-21709*z,j[z+1280|0]=32768*z+8421375,j[z+1536|0]=-27439*z,j[z+1792|0]=-5329*z}(),K(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Kl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yM(e){function t(T){if(!T)throw Error("assert :P")}function r(T,O,B){for(var F=0;4>F;F++)if(T[O+F]!=B.charCodeAt(F))return!0;return!1}function n(T,O,B,F,M){for(var R=0;R<M;R++)T[O+R]=B[F+R]}function a(T,O,B,F){for(var M=0;M<F;M++)T[O+M]=B}function i(T){return new Int32Array(T)}function o(T,O){for(var B=[],F=0;F<T;F++)B.push(new O);return B}function l(T,O){var B=[];return function F(M,R,H){for(var G=H[R],$=0;$<G&&(M.push(H.length>R+1?[]:new O),!(H.length<R+1));$++)F(M[$],R+1,H)}(B,0,T),B}var c=function(){var T=this;function O(S,I){for(var Q=1<<I-1>>>0;S&Q;)Q>>>=1;return Q?(S&Q-1)+Q:S}function B(S,I,Q,q,ie){t(!(q%Q));do S[I+(q-=Q)]=ie;while(0<q)}function F(S,I,Q,q,ie){if(t(2328>=ie),512>=ie)var de=i(512);else if((de=i(ie))==null)return 0;return function(fe,me,ge,je,Te,Ve){var Ne,Re,Me=me,rt=1<<ge,He=i(16),at=i(16);for(t(Te!=0),t(je!=null),t(fe!=null),t(0<ge),Re=0;Re<Te;++Re){if(15<je[Re])return 0;++He[je[Re]]}if(He[0]==Te)return 0;for(at[1]=0,Ne=1;15>Ne;++Ne){if(He[Ne]>1<<Ne)return 0;at[Ne+1]=at[Ne]+He[Ne]}for(Re=0;Re<Te;++Re)Ne=je[Re],0<je[Re]&&(Ve[at[Ne]++]=Re);if(at[15]==1)return(je=new M).g=0,je.value=Ve[0],B(fe,Me,1,rt,je),rt;var dt,jt=-1,xt=rt-1,Yt=0,zt=1,Nr=1,Wt=1<<ge;for(Re=0,Ne=1,Te=2;Ne<=ge;++Ne,Te<<=1){if(zt+=Nr<<=1,0>(Nr-=He[Ne]))return 0;for(;0<He[Ne];--He[Ne])(je=new M).g=Ne,je.value=Ve[Re++],B(fe,Me+Yt,Te,Wt,je),Yt=O(Yt,Ne)}for(Ne=ge+1,Te=2;15>=Ne;++Ne,Te<<=1){if(zt+=Nr<<=1,0>(Nr-=He[Ne]))return 0;for(;0<He[Ne];--He[Ne]){if(je=new M,(Yt&xt)!=jt){for(Me+=Wt,dt=1<<(jt=Ne)-ge;15>jt&&!(0>=(dt-=He[jt]));)++jt,dt<<=1;rt+=Wt=1<<(dt=jt-ge),fe[me+(jt=Yt&xt)].g=dt+ge,fe[me+jt].value=Me-me-jt}je.g=Ne-ge,je.value=Ve[Re++],B(fe,Me+(Yt>>ge),Te,Wt,je),Yt=O(Yt,Ne)}}return zt!=2*at[15]-1?0:rt}(S,I,Q,q,ie,de)}function M(){this.value=this.g=0}function R(){this.value=this.g=0}function H(){this.G=o(5,M),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ho,R)}function G(S,I,Q,q){t(S!=null),t(I!=null),t(2147483648>q),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=I,S.pa=Q,S.Jd=I,S.Yc=Q+q,S.Zc=4<=q?Q+q-4+1:Q,ye(S)}function $(S,I){for(var Q=0;0<I--;)Q|=xe(S,128)<<I;return Q}function V(S,I){var Q=$(S,I);return Ae(S)?-Q:Q}function te(S,I,Q,q){var ie,de=0;for(t(S!=null),t(I!=null),t(4294967288>q),S.Sb=q,S.Ra=0,S.u=0,S.h=0,4<q&&(q=4),ie=0;ie<q;++ie)de+=I[Q+ie]<<8*ie;S.Ra=de,S.bb=q,S.oa=I,S.pa=Q}function re(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<uo-8>>>0,++S.bb,S.u-=8;ne(S)&&(S.h=1,S.u=0)}function K(S,I){if(t(0<=I),!S.h&&I<=js){var Q=W(S)&pi[I];return S.u+=I,re(S),Q}return S.h=1,S.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ee(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(S){return S.Ra>>>(S.u&uo-1)>>>0}function ne(S){return t(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>uo}function se(S,I){S.u=I,S.h=ne(S)}function ce(S){S.u>=Dl&&(t(S.u>=Dl),re(S))}function ye(S){t(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(t(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function Ae(S){return $(S,1)}function xe(S,I){var Q=S.Ca;0>S.b&&ye(S);var q=S.b,ie=Q*I>>>8,de=(S.I>>>q>ie)+0;for(de?(Q-=ie,S.I-=ie+1<<q>>>0):Q=ie+1,q=Q,ie=0;256<=q;)ie+=8,q>>=8;return q=7^ie+zo[q],S.b-=q,S.Ca=(Q<<q)-1,de}function le(S,I,Q){S[I+0]=Q>>24&255,S[I+1]=Q>>16&255,S[I+2]=Q>>8&255,S[I+3]=255&Q}function Z(S,I){return S[I+0]|S[I+1]<<8}function pe(S,I){return Z(S,I)|S[I+2]<<16}function oe(S,I){return Z(S,I)|Z(S,I+2)<<16}function X(S,I){var Q=1<<I;return t(S!=null),t(0<I),S.X=i(Q),S.X==null?0:(S.Mb=32-I,S.Xa=I,1)}function be(S,I){t(S!=null),t(I!=null),t(S.Xa==I.Xa),n(I.X,0,S.X,0,1<<I.Xa)}function _e(){this.X=[],this.Xa=this.Mb=0}function Le(S,I,Q,q){t(Q!=null),t(q!=null);var ie=Q[0],de=q[0];return ie==0&&(ie=(S*de+I/2)/I),de==0&&(de=(I*ie+S/2)/S),0>=ie||0>=de?0:(Q[0]=ie,q[0]=de,1)}function ke(S,I){return S+(1<<I)-1>>>I}function Qe(S,I){return((4278255360&S)+(4278255360&I)>>>0&4278255360)+((16711935&S)+(16711935&I)>>>0&16711935)>>>0}function Ye(S,I){T[I]=function(Q,q,ie,de,fe,me,ge){var je;for(je=0;je<fe;++je){var Te=T[S](me[ge+je-1],ie,de+je);me[ge+je]=Qe(Q[q+je],Te)}}}function it(){this.ud=this.hd=this.jd=0}function Oe(S,I){return((4278124286&(S^I))>>>1)+(S&I)>>>0}function Ge(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function mt(S,I){return Ge(S+(S-I+.5>>1))}function ft(S,I,Q){return Math.abs(I-Q)-Math.abs(S-Q)}function Ie(S,I,Q,q,ie,de,fe){for(q=de[fe-1],Q=0;Q<ie;++Q)de[fe+Q]=q=Qe(S[I+Q],q)}function Je(S,I,Q,q,ie){var de;for(de=0;de<Q;++de){var fe=S[I+de],me=fe>>8&255,ge=16711935&(ge=(ge=16711935&fe)+((me<<16)+me));q[ie+de]=(4278255360&fe)+ge>>>0}}function ue(S,I){I.jd=255&S,I.hd=S>>8&255,I.ud=S>>16&255}function Se(S,I,Q,q,ie,de){var fe;for(fe=0;fe<q;++fe){var me=I[Q+fe],ge=me>>>8,je=me,Te=255&(Te=(Te=me>>>16)+((S.jd<<24>>24)*(ge<<24>>24)>>>5));je=255&(je=(je+=(S.hd<<24>>24)*(ge<<24>>24)>>>5)+((S.ud<<24>>24)*(Te<<24>>24)>>>5)),ie[de+fe]=(4278255360&me)+(Te<<16)+je}}function Fe(S,I,Q,q,ie){T[I]=function(de,fe,me,ge,je,Te,Ve,Ne,Re){for(ge=Ve;ge<Ne;++ge)for(Ve=0;Ve<Re;++Ve)je[Te++]=ie(me[q(de[fe++])])},T[S]=function(de,fe,me,ge,je,Te,Ve){var Ne=8>>de.b,Re=de.Ea,Me=de.K[0],rt=de.w;if(8>Ne)for(de=(1<<de.b)-1,rt=(1<<Ne)-1;fe<me;++fe){var He,at=0;for(He=0;He<Re;++He)He&de||(at=q(ge[je++])),Te[Ve++]=ie(Me[at&rt]),at>>=Ne}else T["VP8LMapColor"+Q](ge,je,Me,rt,Te,Ve,fe,me,Re)}}function Ee(S,I,Q,q,ie){for(Q=I+Q;I<Q;){var de=S[I++];q[ie++]=de>>16&255,q[ie++]=de>>8&255,q[ie++]=255&de}}function De(S,I,Q,q,ie){for(Q=I+Q;I<Q;){var de=S[I++];q[ie++]=de>>16&255,q[ie++]=de>>8&255,q[ie++]=255&de,q[ie++]=de>>24&255}}function ut(S,I,Q,q,ie){for(Q=I+Q;I<Q;){var de=(fe=S[I++])>>16&240|fe>>12&15,fe=240&fe|fe>>28&15;q[ie++]=de,q[ie++]=fe}}function Nt(S,I,Q,q,ie){for(Q=I+Q;I<Q;){var de=(fe=S[I++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;q[ie++]=de,q[ie++]=fe}}function Pt(S,I,Q,q,ie){for(Q=I+Q;I<Q;){var de=S[I++];q[ie++]=255&de,q[ie++]=de>>8&255,q[ie++]=de>>16&255}}function ht(S,I,Q,q,ie,de){if(de==0)for(Q=I+Q;I<Q;)le(q,((de=S[I++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),ie+=32;else n(q,ie,S,I,Q)}function Xe(S,I){T[I][0]=T[S+"0"],T[I][1]=T[S+"1"],T[I][2]=T[S+"2"],T[I][3]=T[S+"3"],T[I][4]=T[S+"4"],T[I][5]=T[S+"5"],T[I][6]=T[S+"6"],T[I][7]=T[S+"7"],T[I][8]=T[S+"8"],T[I][9]=T[S+"9"],T[I][10]=T[S+"10"],T[I][11]=T[S+"11"],T[I][12]=T[S+"12"],T[I][13]=T[S+"13"],T[I][14]=T[S+"0"],T[I][15]=T[S+"0"]}function Ze(S){return S==_m||S==Cm||S==Sm||S==h}function ct(){this.eb=[],this.size=this.A=this.fb=0}function tt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ze(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ct,this.f.kb=new tt,this.sd=null}function wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $r(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function Or(S,I){var Q=S.T,q=I.ba.f.RGBA,ie=q.eb,de=q.fb+S.ka*q.A,fe=Pa[I.ba.S],me=S.y,ge=S.O,je=S.f,Te=S.N,Ve=S.ea,Ne=S.W,Re=I.cc,Me=I.dc,rt=I.Mc,He=I.Nc,at=S.ka,dt=S.ka+S.T,jt=S.U,xt=jt+1>>1;for(at==0?fe(me,ge,null,null,je,Te,Ve,Ne,je,Te,Ve,Ne,ie,de,null,null,jt):(fe(I.ec,I.fc,me,ge,Re,Me,rt,He,je,Te,Ve,Ne,ie,de-q.A,ie,de,jt),++Q);at+2<dt;at+=2)Re=je,Me=Te,rt=Ve,He=Ne,Te+=S.Rc,Ne+=S.Rc,de+=2*q.A,fe(me,(ge+=2*S.fa)-S.fa,me,ge,Re,Me,rt,He,je,Te,Ve,Ne,ie,de-q.A,ie,de,jt);return ge+=S.fa,S.j+dt<S.o?(n(I.ec,I.fc,me,ge,jt),n(I.cc,I.dc,je,Te,xt),n(I.Mc,I.Nc,Ve,Ne,xt),Q--):1&dt||fe(me,ge,null,null,je,Te,Ve,Ne,je,Te,Ve,Ne,ie,de+q.A,null,null,jt),Q}function Vr(S,I,Q){var q=S.F,ie=[S.J];if(q!=null){var de=S.U,fe=I.ba.S,me=fe==If||fe==Sm;I=I.ba.f.RGBA;var ge=[0],je=S.ka;ge[0]=S.T,S.Kb&&(je==0?--ge[0]:(--je,ie[0]-=S.width),S.j+S.ka+S.T==S.o&&(ge[0]=S.o-S.j-je));var Te=I.eb;je=I.fb+je*I.A,S=x0(q,ie[0],S.width,de,ge,Te,je+(me?0:3),I.A),t(Q==ge),S&&Ze(fe)&&qo(Te,je,me,de,ge,I.A)}return 0}function tn(S){var I=S.ma,Q=I.ba.S,q=11>Q,ie=Q==Ef||Q==Pf||Q==If||Q==Nm||Q==12||Ze(Q);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!Sf(I.Oa,S,ie?11:12))return 0;if(ie&&Ze(Q)&&Ll(),S.da)alert("todo:use_scaling");else{if(q){if(I.Ib=$r,S.Kb){if(Q=S.U+1>>1,I.memory=i(S.U+2*Q),I.memory==null)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+S.U,I.Mc=I.cc,I.Nc=I.dc+Q,I.Ib=Or,Ll()}}else alert("todo:EmitYUV");ie&&(I.Jb=Vr,q&&oa())}if(q&&!kT){for(S=0;256>S;++S)gre[S]=89858*(S-128)+bb>>vb,vre[S]=-22014*(S-128)+bb,yre[S]=-45773*(S-128),xre[S]=113618*(S-128)+bb>>vb;for(S=N0;S<y_;++S)I=76283*(S-16)+bb>>vb,bre[S-N0]=Ar(I,255),wre[S-N0]=Ar(I+8>>4,15);kT=1}return 1}function Bt(S){var I=S.ma,Q=S.U,q=S.T;return t(!(1&S.ka)),0>=Q||0>=q?0:(Q=I.Ib(S,I),I.Jb!=null&&I.Jb(S,I,Q),I.Dc+=Q,1)}function es(S){S.ma.memory=null}function vs(S,I,Q,q){return K(S,8)!=47?0:(I[0]=K(S,14)+1,Q[0]=K(S,14)+1,q[0]=K(S,1),K(S,3)!=0?0:!S.h)}function Fn(S,I){if(4>S)return S+1;var Q=S-2>>1;return(2+(1&S)<<Q)+K(I,Q)+1}function os(S,I){return 120<I?I-120:1<=(Q=((Q=Be[I-1])>>4)*S+(8-(15&Q)))?Q:1;var Q}function br(S,I,Q){var q=W(Q),ie=S[I+=255&q].g-8;return 0<ie&&(se(Q,Q.u+8),q=W(Q),I+=S[I].value,I+=q&(1<<ie)-1),se(Q,Q.u+S[I].g),S[I].value}function Et(S,I,Q){return Q.g+=S.g,Q.value+=S.value<<I>>>0,t(8>=Q.g),S.g}function An(S,I,Q){var q=S.xc;return t((I=q==0?0:S.vc[S.md*(Q>>q)+(I>>q)])<S.Wb),S.Ya[I]}function aa(S,I,Q,q){var ie=S.ab,de=S.c*I,fe=S.C;I=fe+I;var me=Q,ge=q;for(q=S.Ta,Q=S.Ua;0<ie--;){var je=S.gc[ie],Te=fe,Ve=I,Ne=me,Re=ge,Me=(ge=q,me=Q,je.Ea);switch(t(Te<Ve),t(Ve<=je.nc),je.hc){case 2:hs(Ne,Re,(Ve-Te)*Me,ge,me);break;case 0:var rt=Te,He=Ve,at=ge,dt=me,jt=(Wt=je).Ea;rt==0&&(Bf(Ne,Re,null,null,1,at,dt),Ie(Ne,Re+1,0,0,jt-1,at,dt+1),Re+=jt,dt+=jt,++rt);for(var xt=1<<Wt.b,Yt=xt-1,zt=ke(jt,Wt.b),Nr=Wt.K,Wt=Wt.w+(rt>>Wt.b)*zt;rt<He;){var Hr=Nr,ca=Wt,_r=1;for(Wa(Ne,Re,at,dt-jt,1,at,dt);_r<jt;){var Gt=(_r&~Yt)+xt;Gt>jt&&(Gt=jt),(0,zu[Hr[ca++]>>8&15])(Ne,Re+ +_r,at,dt+_r-jt,Gt-_r,at,dt+_r),_r=Gt}Re+=jt,dt+=jt,++rt&Yt||(Wt+=zt)}Ve!=je.nc&&n(ge,me-Me,ge,me+(Ve-Te-1)*Me,Me);break;case 1:for(Me=Ne,He=Re,jt=(Ne=je.Ea)-(dt=Ne&~(at=(Re=1<<je.b)-1)),rt=ke(Ne,je.b),xt=je.K,je=je.w+(Te>>je.b)*rt;Te<Ve;){for(Yt=xt,zt=je,Nr=new it,Wt=He+dt,Hr=He+Ne;He<Wt;)ue(Yt[zt++],Nr),Pd(Nr,Me,He,Re,ge,me),He+=Re,me+=Re;He<Hr&&(ue(Yt[zt++],Nr),Pd(Nr,Me,He,jt,ge,me),He+=jt,me+=jt),++Te&at||(je+=rt)}break;case 3:if(Ne==ge&&Re==me&&0<je.b){for(He=ge,Ne=Me=me+(Ve-Te)*Me-(dt=(Ve-Te)*ke(je.Ea,je.b)),Re=ge,at=me,rt=[],dt=(jt=dt)-1;0<=dt;--dt)rt[dt]=Re[at+dt];for(dt=jt-1;0<=dt;--dt)He[Ne+dt]=rt[dt];Ml(je,Te,Ve,ge,Me,ge,me)}else Ml(je,Te,Ve,Ne,Re,ge,me)}me=q,ge=Q}ge!=Q&&n(q,Q,me,ge,de)}function Ks(S,I){var Q=S.V,q=S.Ba+S.c*S.C,ie=I-S.C;if(t(I<=S.l.o),t(16>=ie),0<ie){var de=S.l,fe=S.Ta,me=S.Ua,ge=de.width;if(aa(S,ie,Q,q),ie=me=[me],t((Q=S.C)<(q=I)),t(de.v<de.va),q>de.o&&(q=de.o),Q<de.j){var je=de.j-Q;Q=de.j,ie[0]+=je*ge}if(Q>=q?Q=0:(ie[0]+=4*de.v,de.ka=Q-de.j,de.U=de.va-de.v,de.T=q-Q,Q=1),Q){if(me=me[0],11>(Q=S.ca).S){var Te=Q.f.RGBA,Ve=(q=Q.S,ie=de.U,de=de.T,je=Te.eb,Te.A),Ne=de;for(Te=Te.fb+S.Ma*Te.A;0<Ne--;){var Re=fe,Me=me,rt=ie,He=je,at=Te;switch(q){case jm:Ic(Re,Me,rt,He,at);break;case Ef:Ko(Re,Me,rt,He,at);break;case _m:Ko(Re,Me,rt,He,at),qo(He,at,0,rt,1,0);break;case b0:Wo(Re,Me,rt,He,at);break;case Pf:ht(Re,Me,rt,He,at,1);break;case Cm:ht(Re,Me,rt,He,at,1),qo(He,at,0,rt,1,0);break;case If:ht(Re,Me,rt,He,at,0);break;case Sm:ht(Re,Me,rt,He,at,0),qo(He,at,1,rt,1,0);break;case Nm:ho(Re,Me,rt,He,at);break;case h:ho(Re,Me,rt,He,at),g0(He,at,rt,1,0);break;case gb:gi(Re,Me,rt,He,at);break;default:t(0)}me+=ge,Te+=Ve}S.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");t(S.Ma<=Q.height)}}S.C=I,t(S.C<=S.i)}function ls(S){var I;if(0<S.ua)return 0;for(I=0;I<S.Wb;++I){var Q=S.Ya[I].G,q=S.Ya[I].H;if(0<Q[1][q[1]+0].g||0<Q[2][q[2]+0].g||0<Q[3][q[3]+0].g)return 0}return 1}function cs(S,I,Q,q,ie,de){if(S.Z!=0){var fe=S.qd,me=S.rd;for(t(mn[S.Z]!=null);I<Q;++I)mn[S.Z](fe,me,q,ie,q,ie,de),fe=q,me=ie,ie+=de;S.qd=fe,S.rd=me}}function ds(S,I){var Q=S.l.ma,q=Q.Z==0||Q.Z==1?S.l.j:S.C;if(q=S.C<q?q:S.C,t(I<=S.l.o),I>q){var ie=S.l.width,de=Q.ca,fe=Q.tb+ie*q,me=S.V,ge=S.Ba+S.c*q,je=S.gc;t(S.ab==1),t(je[0].hc==3),Gs(je[0],q,I,me,ge,de,fe),cs(Q,q,I,de,fe,ie)}S.C=S.Ma=I}function kn(S,I,Q,q,ie,de,fe){var me=S.$/q,ge=S.$%q,je=S.m,Te=S.s,Ve=Q+S.$,Ne=Ve;ie=Q+q*ie;var Re=Q+q*de,Me=280+Te.ua,rt=S.Pb?me:16777216,He=0<Te.ua?Te.Wa:null,at=Te.wc,dt=Ve<Re?An(Te,ge,me):null;t(S.C<de),t(Re<=ie);var jt=!1;e:for(;;){for(;jt||Ve<Re;){var xt=0;if(me>=rt){var Yt=Ve-Q;t((rt=S).Pb),rt.wd=rt.m,rt.xd=Yt,0<rt.s.ua&&be(rt.s.Wa,rt.s.vb),rt=me+Ke}if(ge&at||(dt=An(Te,ge,me)),t(dt!=null),dt.Qb&&(I[Ve]=dt.qb,jt=!0),!jt)if(ce(je),dt.jc){xt=je,Yt=I;var zt=Ve,Nr=dt.pd[W(xt)&Ho-1];t(dt.jc),256>Nr.g?(se(xt,xt.u+Nr.g),Yt[zt]=Nr.value,xt=0):(se(xt,xt.u+Nr.g-256),t(256<=Nr.value),xt=Nr.value),xt==0&&(jt=!0)}else xt=br(dt.G[0],dt.H[0],je);if(je.h)break;if(jt||256>xt){if(!jt)if(dt.nd)I[Ve]=(dt.qb|xt<<8)>>>0;else{if(ce(je),jt=br(dt.G[1],dt.H[1],je),ce(je),Yt=br(dt.G[2],dt.H[2],je),zt=br(dt.G[3],dt.H[3],je),je.h)break;I[Ve]=(zt<<24|jt<<16|xt<<8|Yt)>>>0}if(jt=!1,++Ve,++ge>=q&&(ge=0,++me,fe!=null&&me<=de&&!(me%16)&&fe(S,me),He!=null))for(;Ne<Ve;)xt=I[Ne++],He.X[(506832829*xt&4294967295)>>>He.Mb]=xt}else if(280>xt){if(xt=Fn(xt-256,je),Yt=br(dt.G[4],dt.H[4],je),ce(je),Yt=os(q,Yt=Fn(Yt,je)),je.h)break;if(Ve-Q<Yt||ie-Ve<xt)break e;for(zt=0;zt<xt;++zt)I[Ve+zt]=I[Ve+zt-Yt];for(Ve+=xt,ge+=xt;ge>=q;)ge-=q,++me,fe!=null&&me<=de&&!(me%16)&&fe(S,me);if(t(Ve<=ie),ge&at&&(dt=An(Te,ge,me)),He!=null)for(;Ne<Ve;)xt=I[Ne++],He.X[(506832829*xt&4294967295)>>>He.Mb]=xt}else{if(!(xt<Me))break e;for(jt=xt-280,t(He!=null);Ne<Ve;)xt=I[Ne++],He.X[(506832829*xt&4294967295)>>>He.Mb]=xt;xt=Ve,t(!(jt>>>(Yt=He).Xa)),I[xt]=Yt.X[jt],jt=!0}jt||t(je.h==ne(je))}if(S.Pb&&je.h&&Ve<ie)t(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&be(S.s.vb,S.s.Wa);else{if(je.h)break e;fe!=null&&fe(S,me>de?de:me),S.a=0,S.$=Ve-Q}return 1}return S.a=3,0}function ot(S){t(S!=null),S.vc=null,S.yc=null,S.Ya=null;var I=S.Wa;I!=null&&(I.X=null),S.vb=null,t(S!=null)}function St(){var S=new lr;return S==null?null:(S.a=0,S.xb=w0,Xe("Predictor","VP8LPredictors"),Xe("Predictor","VP8LPredictors_C"),Xe("PredictorAdd","VP8LPredictorsAdd"),Xe("PredictorAdd","VP8LPredictorsAdd_C"),hs=Je,Pd=Se,Ic=Ee,Ko=De,ho=ut,gi=Nt,Wo=Pt,T.VP8LMapColor32b=Vo,T.VP8LMapColor8b=Pc,S)}function Tt(S,I,Q,q,ie){var de=1,fe=[S],me=[I],ge=q.m,je=q.s,Te=null,Ve=0;e:for(;;){if(Q)for(;de&&K(ge,1);){var Ne=fe,Re=me,Me=q,rt=1,He=Me.m,at=Me.gc[Me.ab],dt=K(He,2);if(Me.Oc&1<<dt)de=0;else{switch(Me.Oc|=1<<dt,at.hc=dt,at.Ea=Ne[0],at.nc=Re[0],at.K=[null],++Me.ab,t(4>=Me.ab),dt){case 0:case 1:at.b=K(He,3)+2,rt=Tt(ke(at.Ea,at.b),ke(at.nc,at.b),0,Me,at.K),at.K=at.K[0];break;case 3:var jt,xt=K(He,8)+1,Yt=16<xt?0:4<xt?1:2<xt?2:3;if(Ne[0]=ke(at.Ea,Yt),at.b=Yt,jt=rt=Tt(xt,1,0,Me,at.K)){var zt,Nr=xt,Wt=at,Hr=1<<(8>>Wt.b),ca=i(Hr);if(ca==null)jt=0;else{var _r=Wt.K[0],Gt=Wt.w;for(ca[0]=Wt.K[0][0],zt=1;zt<1*Nr;++zt)ca[zt]=Qe(_r[Gt+zt],ca[zt-1]);for(;zt<4*Hr;++zt)ca[zt]=0;Wt.K[0]=null,Wt.K[0]=ca,jt=1}}rt=jt;break;case 2:break;default:t(0)}de=rt}}if(fe=fe[0],me=me[0],de&&K(ge,1)&&!(de=1<=(Ve=K(ge,4))&&11>=Ve)){q.a=3;break e}var It;if(It=de)t:{var Fs,vr,Kr,Wn=q,Ia=fe,vi=me,_s=Ve,Xa=Q,bi=Wn.m,da=Wn.s,Gr=[null],pn=1,Cs=0,gn=$e[_s];r:for(;;){if(Xa&&K(bi,1)){var Ta=K(bi,3)+2,Hl=ke(Ia,Ta),Rs=ke(vi,Ta),Vi=Hl*Rs;if(!Tt(Hl,Rs,0,Wn,Gr))break r;for(Gr=Gr[0],da.xc=Ta,Fs=0;Fs<Vi;++Fs){var In=Gr[Fs]>>8&65535;Gr[Fs]=In,In>=pn&&(pn=In+1)}}if(bi.h)break r;for(vr=0;5>vr;++vr){var ua=D[vr];!vr&&0<_s&&(ua+=1<<_s),Cs<ua&&(Cs=ua)}var Ao=o(pn*gn,M),wi=pn,mo=o(wi,H);if(mo==null)var po=null;else t(65536>=wi),po=mo;var Ki=i(Cs);if(po==null||Ki==null||Ao==null){Wn.a=1;break r}var go=Ao;for(Fs=Kr=0;Fs<pn;++Fs){var Un=po[Fs],xo=Un.G,zl=Un.H,Tf=0,Id=1,Oa=0;for(vr=0;5>vr;++vr){ua=D[vr],xo[vr]=go,zl[vr]=Kr,!vr&&0<_s&&(ua+=1<<_s);s:{var jb,v_=ua,Nb=Wn,_0=Ki,_re=go,Cre=Kr,b_=0,qu=Nb.m,Sre=K(qu,1);if(a(_0,0,0,v_),Sre){var Bre=K(qu,1)+1,kre=K(qu,1),IT=K(qu,kre==0?1:8);_0[IT]=1,Bre==2&&(_0[IT=K(qu,8)]=1);var _b=1}else{var TT=i(19),OT=K(qu,4)+4;if(19<OT){Nb.a=3;var Cb=0;break s}for(jb=0;jb<OT;++jb)TT[he[jb]]=K(qu,3);var w_=void 0,C0=void 0,LT=Nb,Ere=TT,Sb=v_,FT=_0,j_=0,Yu=LT.m,RT=8,UT=o(128,M);n:for(;F(UT,0,7,Ere,19);){if(K(Yu,1)){var Pre=2+2*K(Yu,3);if((w_=2+K(Yu,Pre))>Sb)break n}else w_=Sb;for(C0=0;C0<Sb&&w_--;){ce(Yu);var DT=UT[0+(127&W(Yu))];se(Yu,Yu.u+DT.g);var km=DT.value;if(16>km)FT[C0++]=km,km!=0&&(RT=km);else{var Ire=km==16,MT=km-16,Tre=E[MT],QT=K(Yu,p[MT])+Tre;if(C0+QT>Sb)break n;for(var Ore=Ire?RT:0;0<QT--;)FT[C0++]=Ore}}j_=1;break n}j_||(LT.a=3),_b=j_}(_b=_b&&!qu.h)&&(b_=F(_re,Cre,8,_0,v_)),_b&&b_!=0?Cb=b_:(Nb.a=3,Cb=0)}if(Cb==0)break r;if(Id&&Y[vr]==1&&(Id=go[Kr].g==0),Tf+=go[Kr].g,Kr+=Cb,3>=vr){var S0,N_=Ki[0];for(S0=1;S0<ua;++S0)Ki[S0]>N_&&(N_=Ki[S0]);Oa+=N_}}if(Un.nd=Id,Un.Qb=0,Id&&(Un.qb=(xo[3][zl[3]+0].value<<24|xo[1][zl[1]+0].value<<16|xo[2][zl[2]+0].value)>>>0,Tf==0&&256>xo[0][zl[0]+0].value&&(Un.Qb=1,Un.qb+=xo[0][zl[0]+0].value<<8)),Un.jc=!Un.Qb&&6>Oa,Un.jc){var Bb,Td=Un;for(Bb=0;Bb<Ho;++Bb){var Xu=Bb,Zu=Td.pd[Xu],kb=Td.G[0][Td.H[0]+Xu];256<=kb.value?(Zu.g=kb.g+256,Zu.value=kb.value):(Zu.g=0,Zu.value=0,Xu>>=Et(kb,8,Zu),Xu>>=Et(Td.G[1][Td.H[1]+Xu],16,Zu),Xu>>=Et(Td.G[2][Td.H[2]+Xu],0,Zu),Et(Td.G[3][Td.H[3]+Xu],24,Zu))}}}da.vc=Gr,da.Wb=pn,da.Ya=po,da.yc=Ao,It=1;break t}It=0}if(!(de=It)){q.a=3;break e}if(0<Ve){if(je.ua=1<<Ve,!X(je.Wa,Ve)){q.a=1,de=0;break e}}else je.ua=0;var __=q,$T=fe,Lre=me,C_=__.s,S_=C_.xc;if(__.c=$T,__.i=Lre,C_.md=ke($T,S_),C_.wc=S_==0?-1:(1<<S_)-1,Q){q.xb=p_;break e}if((Te=i(fe*me))==null){q.a=1,de=0;break e}de=(de=kn(q,Te,0,fe,me,me,null))&&!ge.h;break e}return de?(ie!=null?ie[0]=Te:(t(Te==null),t(Q)),q.$=0,Q||ot(je)):ot(je),de}function vt(S,I){var Q=S.c*S.i,q=Q+I+16*I;return t(S.c<=I),S.V=i(q),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+Q+I,1)}function Dt(S,I){var Q=S.C,q=I-Q,ie=S.V,de=S.Ba+S.c*Q;for(t(I<=S.l.o);0<q;){var fe=16<q?16:q,me=S.l.ma,ge=S.l.width,je=ge*fe,Te=me.ca,Ve=me.tb+ge*Q,Ne=S.Ta,Re=S.Ua;aa(S,fe,ie,de),mb(Ne,Re,Te,Ve,je),cs(me,Q,Q+fe,Te,Ve,ge),q-=fe,ie+=fe*S.c,Q+=fe}t(Q==I),S.C=S.Ma=I}function Nn(){this.ub=this.yd=this.td=this.Rb=0}function Ur(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ts(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Tr(){this.Yb=function(){var S=[];return function I(Q,q,ie){for(var de=ie[q],fe=0;fe<de&&(Q.push(ie.length>q+1?[]:0),!(ie.length<q+1));fe++)I(Q[fe],q+1,ie)}(S,0,[3,11]),S}()}function ve(){this.jb=i(3),this.Wc=l([4,8],Tr),this.Xc=l([4,17],Tr)}function nt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function lt(){this.ld=this.La=this.dd=this.tc=0}function yt(){this.Na=this.la=0}function tr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Yr(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yr(){this.uc=this.M=this.Nb=0,this.wa=Array(new lt),this.Y=0,this.ya=Array(new Yr),this.aa=0,this.l=new an}function ka(){this.y=i(16),this.f=i(8),this.ea=i(8)}function io(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new Nn,this.Kc=new Ur,this.ed=new nt,this.Qa=new ts,this.Ic=this.$c=this.Aa=0,this.D=new yr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,z),this.ia=0,this.pb=o(4,tr),this.Pa=new ve,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ka),this.Hd=0,this.rb=Array(new yt),this.sb=0,this.wa=Array(new lt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Yr),this.L=this.aa=0,this.gd=l([4,2],lt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ar(S,I){return 0>S?0:S>I?I:S}function an(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Lu(){var S=new io;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,Jt||(Jt=dr)),S}function En(S,I,Q){return S.a==0&&(S.a=I,S.sc=Q,S.cb=0),0}function _l(S,I,Q){return 3<=Q&&S[I+0]==157&&S[I+1]==1&&S[I+2]==42}function Ri(S,I){if(S==null)return 0;if(S.a=0,S.sc="OK",I==null)return En(S,2,"null VP8Io passed to VP8GetHeaders()");var Q=I.data,q=I.w,ie=I.ha;if(4>ie)return En(S,7,"Truncated header.");var de=Q[q+0]|Q[q+1]<<8|Q[q+2]<<16,fe=S.Od;if(fe.Rb=!(1&de),fe.td=de>>1&7,fe.yd=de>>4&1,fe.ub=de>>5,3<fe.td)return En(S,3,"Incorrect keyframe parameters.");if(!fe.yd)return En(S,4,"Frame not displayable.");q+=3,ie-=3;var me=S.Kc;if(fe.Rb){if(7>ie)return En(S,7,"cannot parse picture header");if(!_l(Q,q,ie))return En(S,3,"Bad code word");me.c=16383&(Q[q+4]<<8|Q[q+3]),me.Td=Q[q+4]>>6,me.i=16383&(Q[q+6]<<8|Q[q+5]),me.Ud=Q[q+6]>>6,q+=7,ie-=7,S.za=me.c+15>>4,S.Ub=me.i+15>>4,I.width=me.c,I.height=me.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,a((de=S.Pa).jb,0,255,de.jb.length),t((de=S.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,a(de.Zb,0,0,de.Zb.length),a(de.Lb,0,0,de.Lb)}if(fe.ub>ie)return En(S,7,"bad partition length");G(de=S.m,Q,q,fe.ub),q+=fe.ub,ie-=fe.ub,fe.Rb&&(me.Ld=Ae(de),me.Kd=Ae(de)),me=S.Qa;var ge,je=S.Pa;if(t(de!=null),t(me!=null),me.Cb=Ae(de),me.Cb){if(me.Bb=Ae(de),Ae(de)){for(me.Fb=Ae(de),ge=0;4>ge;++ge)me.Zb[ge]=Ae(de)?V(de,7):0;for(ge=0;4>ge;++ge)me.Lb[ge]=Ae(de)?V(de,6):0}if(me.Bb)for(ge=0;3>ge;++ge)je.jb[ge]=Ae(de)?$(de,8):255}else me.Bb=0;if(de.Ka)return En(S,3,"cannot parse segment header");if((me=S.ed).zd=Ae(de),me.Tb=$(de,6),me.wb=$(de,3),me.Pc=Ae(de),me.Pc&&Ae(de)){for(je=0;4>je;++je)Ae(de)&&(me.vd[je]=V(de,6));for(je=0;4>je;++je)Ae(de)&&(me.od[je]=V(de,6))}if(S.L=me.Tb==0?0:me.zd?1:2,de.Ka)return En(S,3,"cannot parse filter header");var Te=ie;if(ie=ge=q,q=ge+Te,me=Te,S.Xb=(1<<$(S.m,2))-1,Te<3*(je=S.Xb))Q=7;else{for(ge+=3*je,me-=3*je,Te=0;Te<je;++Te){var Ve=Q[ie+0]|Q[ie+1]<<8|Q[ie+2]<<16;Ve>me&&(Ve=me),G(S.Jc[+Te],Q,ge,Ve),ge+=Ve,me-=Ve,ie+=3}G(S.Jc[+je],Q,ge,me),Q=ge<q?0:5}if(Q!=0)return En(S,Q,"cannot parse partitions");for(Q=$(ge=S.m,7),ie=Ae(ge)?V(ge,4):0,q=Ae(ge)?V(ge,4):0,me=Ae(ge)?V(ge,4):0,je=Ae(ge)?V(ge,4):0,ge=Ae(ge)?V(ge,4):0,Te=S.Qa,Ve=0;4>Ve;++Ve){if(Te.Cb){var Ne=Te.Zb[Ve];Te.Fb||(Ne+=Q)}else{if(0<Ve){S.pb[Ve]=S.pb[0];continue}Ne=Q}var Re=S.pb[Ve];Re.Sc[0]=gt[Ar(Ne+ie,127)],Re.Sc[1]=Ot[Ar(Ne+0,127)],Re.Eb[0]=2*gt[Ar(Ne+q,127)],Re.Eb[1]=101581*Ot[Ar(Ne+me,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=gt[Ar(Ne+je,117)],Re.Qc[1]=Ot[Ar(Ne+ge,127)],Re.lc=Ne+ge}if(!fe.Rb)return En(S,4,"Not a key frame.");for(Ae(de),fe=S.Pa,Q=0;4>Q;++Q){for(ie=0;8>ie;++ie)for(q=0;3>q;++q)for(me=0;11>me;++me)je=xe(de,Gu[Q][ie][q][me])?$(de,8):zi[Q][ie][q][me],fe.Wc[Q][ie].Yb[q][me]=je;for(ie=0;17>ie;++ie)fe.Xc[Q][ie]=fe.Wc[Q][m_[ie]]}return S.kc=Ae(de),S.kc&&(S.Bd=$(de,8)),S.cb=1}function dr(S,I,Q,q,ie,de,fe){var me=I[ie].Yb[Q];for(Q=0;16>ie;++ie){if(!xe(S,me[Q+0]))return ie;for(;!xe(S,me[Q+1]);)if(me=I[++ie].Yb[0],Q=0,ie==16)return 16;var ge=I[ie+1].Yb;if(xe(S,me[Q+2])){var je=S,Te=0;if(xe(je,(Ne=me)[(Ve=Q)+3]))if(xe(je,Ne[Ve+6])){for(me=0,Ve=2*(Te=xe(je,Ne[Ve+8]))+(Ne=xe(je,Ne[Ve+9+Te])),Te=0,Ne=kr[Ve];Ne[me];++me)Te+=Te+xe(je,Ne[me]);Te+=3+(8<<Ve)}else xe(je,Ne[Ve+7])?(Te=7+2*xe(je,165),Te+=xe(je,145)):Te=5+xe(je,159);else Te=xe(je,Ne[Ve+4])?3+xe(je,Ne[Ve+5]):2;me=ge[2]}else Te=1,me=ge[1];ge=fe+Ea[ie],0>(je=S).b&&ye(je);var Ve,Ne=je.b,Re=(Ve=je.Ca>>1)-(je.I>>Ne)>>31;--je.b,je.Ca+=Re,je.Ca|=1,je.I-=(Ve+1&Re)<<Ne,de[ge]=((Te^Re)-Re)*q[(0<ie)+0]}return 16}function Rn(S){var I=S.rb[S.sb-1];I.la=0,I.Na=0,a(S.zc,0,0,S.zc.length),S.ja=0}function Va(S,I,Q,q,ie){ie=S[I+Q+32*q]+(ie>>3),S[I+Q+32*q]=-256&ie?0>ie?0:255:ie}function rs(S,I,Q,q,ie,de){Va(S,I,0,Q,q+ie),Va(S,I,1,Q,q+de),Va(S,I,2,Q,q-de),Va(S,I,3,Q,q-ie)}function bs(S){return(20091*S>>16)+S}function gm(S,I,Q,q){var ie,de=0,fe=i(16);for(ie=0;4>ie;++ie){var me=S[I+0]+S[I+8],ge=S[I+0]-S[I+8],je=(35468*S[I+4]>>16)-bs(S[I+12]),Te=bs(S[I+4])+(35468*S[I+12]>>16);fe[de+0]=me+Te,fe[de+1]=ge+je,fe[de+2]=ge-je,fe[de+3]=me-Te,de+=4,I++}for(ie=de=0;4>ie;++ie)me=(S=fe[de+0]+4)+fe[de+8],ge=S-fe[de+8],je=(35468*fe[de+4]>>16)-bs(fe[de+12]),Va(Q,q,0,0,me+(Te=bs(fe[de+4])+(35468*fe[de+12]>>16))),Va(Q,q,1,0,ge+je),Va(Q,q,2,0,ge-je),Va(Q,q,3,0,me-Te),de++,q+=32}function Fu(S,I,Q,q){var ie=S[I+0]+4,de=35468*S[I+4]>>16,fe=bs(S[I+4]),me=35468*S[I+1]>>16;rs(Q,q,0,ie+fe,S=bs(S[I+1]),me),rs(Q,q,1,ie+de,S,me),rs(Q,q,2,ie-de,S,me),rs(Q,q,3,ie-fe,S,me)}function Cl(S,I,Q,q,ie){gm(S,I,Q,q),ie&&gm(S,I+16,Q,q+4)}function rn(S,I,Q,q){Tc(S,I+0,Q,q,1),Tc(S,I+32,Q,q+128,1)}function Do(S,I,Q,q){var ie;for(S=S[I+0]+4,ie=0;4>ie;++ie)for(I=0;4>I;++I)Va(Q,q,I,ie,S)}function Cc(S,I,Q,q){S[I+0]&&Xr(S,I+0,Q,q),S[I+16]&&Xr(S,I+16,Q,q+4),S[I+32]&&Xr(S,I+32,Q,q+128),S[I+48]&&Xr(S,I+48,Q,q+128+4)}function Mo(S,I,Q,q){var ie,de=i(16);for(ie=0;4>ie;++ie){var fe=S[I+0+ie]+S[I+12+ie],me=S[I+4+ie]+S[I+8+ie],ge=S[I+4+ie]-S[I+8+ie],je=S[I+0+ie]-S[I+12+ie];de[0+ie]=fe+me,de[8+ie]=fe-me,de[4+ie]=je+ge,de[12+ie]=je-ge}for(ie=0;4>ie;++ie)fe=(S=de[0+4*ie]+3)+de[3+4*ie],me=de[1+4*ie]+de[2+4*ie],ge=de[1+4*ie]-de[2+4*ie],je=S-de[3+4*ie],Q[q+0]=fe+me>>3,Q[q+16]=je+ge>>3,Q[q+32]=fe-me>>3,Q[q+48]=je-ge>>3,q+=64}function Sl(S,I,Q){var q,ie=I-32,de=qa,fe=255-S[ie-1];for(q=0;q<Q;++q){var me,ge=de,je=fe+S[I-1];for(me=0;me<Q;++me)S[I+me]=ge[je+S[ie+me]];I+=32}}function _d(S,I){Sl(S,I,4)}function yf(S,I){Sl(S,I,8)}function vf(S,I){Sl(S,I,16)}function Sc(S,I){var Q;for(Q=0;16>Q;++Q)n(S,I+32*Q,S,I-32,16)}function Ru(S,I){var Q;for(Q=16;0<Q;--Q)a(S,I,S[I-1],16),I+=32}function mi(S,I,Q){var q;for(q=0;16>q;++q)a(I,Q+32*q,S,16)}function Uu(S,I){var Q,q=16;for(Q=0;16>Q;++Q)q+=S[I-1+32*Q]+S[I+Q-32];mi(q>>5,S,I)}function Bc(S,I){var Q,q=8;for(Q=0;16>Q;++Q)q+=S[I-1+32*Q];mi(q>>4,S,I)}function Cd(S,I){var Q,q=8;for(Q=0;16>Q;++Q)q+=S[I+Q-32];mi(q>>4,S,I)}function m0(S,I){mi(128,S,I)}function kt(S,I,Q){return S+2*I+Q+2>>2}function Ui(S,I){var Q,q=I-32;for(q=new Uint8Array([kt(S[q-1],S[q+0],S[q+1]),kt(S[q+0],S[q+1],S[q+2]),kt(S[q+1],S[q+2],S[q+3]),kt(S[q+2],S[q+3],S[q+4])]),Q=0;4>Q;++Q)n(S,I+32*Q,q,0,q.length)}function on(S,I){var Q=S[I-1],q=S[I-1+32],ie=S[I-1+64],de=S[I-1+96];le(S,I+0,16843009*kt(S[I-1-32],Q,q)),le(S,I+32,16843009*kt(Q,q,ie)),le(S,I+64,16843009*kt(q,ie,de)),le(S,I+96,16843009*kt(ie,de,de))}function xm(S,I){var Q,q=4;for(Q=0;4>Q;++Q)q+=S[I+Q-32]+S[I-1+32*Q];for(q>>=3,Q=0;4>Q;++Q)a(S,I+32*Q,q,4)}function oo(S,I){var Q=S[I-1+0],q=S[I-1+32],ie=S[I-1+64],de=S[I-1-32],fe=S[I+0-32],me=S[I+1-32],ge=S[I+2-32],je=S[I+3-32];S[I+0+96]=kt(q,ie,S[I-1+96]),S[I+1+96]=S[I+0+64]=kt(Q,q,ie),S[I+2+96]=S[I+1+64]=S[I+0+32]=kt(de,Q,q),S[I+3+96]=S[I+2+64]=S[I+1+32]=S[I+0+0]=kt(fe,de,Q),S[I+3+64]=S[I+2+32]=S[I+1+0]=kt(me,fe,de),S[I+3+32]=S[I+2+0]=kt(ge,me,fe),S[I+3+0]=kt(je,ge,me)}function lo(S,I){var Q=S[I+1-32],q=S[I+2-32],ie=S[I+3-32],de=S[I+4-32],fe=S[I+5-32],me=S[I+6-32],ge=S[I+7-32];S[I+0+0]=kt(S[I+0-32],Q,q),S[I+1+0]=S[I+0+32]=kt(Q,q,ie),S[I+2+0]=S[I+1+32]=S[I+0+64]=kt(q,ie,de),S[I+3+0]=S[I+2+32]=S[I+1+64]=S[I+0+96]=kt(ie,de,fe),S[I+3+32]=S[I+2+64]=S[I+1+96]=kt(de,fe,me),S[I+3+64]=S[I+2+96]=kt(fe,me,ge),S[I+3+96]=kt(me,ge,ge)}function bf(S,I){var Q=S[I-1+0],q=S[I-1+32],ie=S[I-1+64],de=S[I-1-32],fe=S[I+0-32],me=S[I+1-32],ge=S[I+2-32],je=S[I+3-32];S[I+0+0]=S[I+1+64]=de+fe+1>>1,S[I+1+0]=S[I+2+64]=fe+me+1>>1,S[I+2+0]=S[I+3+64]=me+ge+1>>1,S[I+3+0]=ge+je+1>>1,S[I+0+96]=kt(ie,q,Q),S[I+0+64]=kt(q,Q,de),S[I+0+32]=S[I+1+96]=kt(Q,de,fe),S[I+1+32]=S[I+2+96]=kt(de,fe,me),S[I+2+32]=S[I+3+96]=kt(fe,me,ge),S[I+3+32]=kt(me,ge,je)}function Bl(S,I){var Q=S[I+0-32],q=S[I+1-32],ie=S[I+2-32],de=S[I+3-32],fe=S[I+4-32],me=S[I+5-32],ge=S[I+6-32],je=S[I+7-32];S[I+0+0]=Q+q+1>>1,S[I+1+0]=S[I+0+64]=q+ie+1>>1,S[I+2+0]=S[I+1+64]=ie+de+1>>1,S[I+3+0]=S[I+2+64]=de+fe+1>>1,S[I+0+32]=kt(Q,q,ie),S[I+1+32]=S[I+0+96]=kt(q,ie,de),S[I+2+32]=S[I+1+96]=kt(ie,de,fe),S[I+3+32]=S[I+2+96]=kt(de,fe,me),S[I+3+64]=kt(fe,me,ge),S[I+3+96]=kt(me,ge,je)}function kc(S,I){var Q=S[I-1+0],q=S[I-1+32],ie=S[I-1+64],de=S[I-1+96];S[I+0+0]=Q+q+1>>1,S[I+2+0]=S[I+0+32]=q+ie+1>>1,S[I+2+32]=S[I+0+64]=ie+de+1>>1,S[I+1+0]=kt(Q,q,ie),S[I+3+0]=S[I+1+32]=kt(q,ie,de),S[I+3+32]=S[I+1+64]=kt(ie,de,de),S[I+3+64]=S[I+2+64]=S[I+0+96]=S[I+1+96]=S[I+2+96]=S[I+3+96]=de}function kl(S,I){var Q=S[I-1+0],q=S[I-1+32],ie=S[I-1+64],de=S[I-1+96],fe=S[I-1-32],me=S[I+0-32],ge=S[I+1-32],je=S[I+2-32];S[I+0+0]=S[I+2+32]=Q+fe+1>>1,S[I+0+32]=S[I+2+64]=q+Q+1>>1,S[I+0+64]=S[I+2+96]=ie+q+1>>1,S[I+0+96]=de+ie+1>>1,S[I+3+0]=kt(me,ge,je),S[I+2+0]=kt(fe,me,ge),S[I+1+0]=S[I+3+32]=kt(Q,fe,me),S[I+1+32]=S[I+3+64]=kt(q,Q,fe),S[I+1+64]=S[I+3+96]=kt(ie,q,Q),S[I+1+96]=kt(de,ie,q)}function Vn(S,I){var Q;for(Q=0;8>Q;++Q)n(S,I+32*Q,S,I-32,8)}function El(S,I){var Q;for(Q=0;8>Q;++Q)a(S,I,S[I-1],8),I+=32}function Qo(S,I,Q){var q;for(q=0;8>q;++q)a(I,Q+32*q,S,8)}function ym(S,I){var Q,q=8;for(Q=0;8>Q;++Q)q+=S[I+Q-32]+S[I-1+32*Q];Qo(q>>4,S,I)}function wf(S,I){var Q,q=4;for(Q=0;8>Q;++Q)q+=S[I+Q-32];Qo(q>>3,S,I)}function Du(S,I){var Q,q=4;for(Q=0;8>Q;++Q)q+=S[I-1+32*Q];Qo(q>>3,S,I)}function Mu(S,I){Qo(128,S,I)}function Pl(S,I,Q){var q=S[I-Q],ie=S[I+0],de=3*(ie-q)+Wu[1020+S[I-2*Q]-S[I+Q]],fe=Oc[112+(de+4>>3)];S[I-Q]=qa[255+q+Oc[112+(de+3>>3)]],S[I+0]=qa[255+ie-fe]}function Qu(S,I,Q,q){var ie=S[I+0],de=S[I+Q];return yi[255+S[I-2*Q]-S[I-Q]]>q||yi[255+de-ie]>q}function jr(S,I,Q,q){return 4*yi[255+S[I-Q]-S[I+0]]+yi[255+S[I-2*Q]-S[I+Q]]<=q}function jf(S,I,Q,q,ie){var de=S[I-3*Q],fe=S[I-2*Q],me=S[I-Q],ge=S[I+0],je=S[I+Q],Te=S[I+2*Q],Ve=S[I+3*Q];return 4*yi[255+me-ge]+yi[255+fe-je]>q?0:yi[255+S[I-4*Q]-de]<=ie&&yi[255+de-fe]<=ie&&yi[255+fe-me]<=ie&&yi[255+Ve-Te]<=ie&&yi[255+Te-je]<=ie&&yi[255+je-ge]<=ie}function ia(S,I,Q,q){var ie=2*q+1;for(q=0;16>q;++q)jr(S,I+q,Q,ie)&&Pl(S,I+q,Q)}function Il(S,I,Q,q){var ie=2*q+1;for(q=0;16>q;++q)jr(S,I+q*Q,1,ie)&&Pl(S,I+q*Q,1)}function Nf(S,I,Q,q){var ie;for(ie=3;0<ie;--ie)ia(S,I+=4*Q,Q,q)}function vm(S,I,Q,q){var ie;for(ie=3;0<ie;--ie)Il(S,I+=4,Q,q)}function co(S,I,Q,q,ie,de,fe,me){for(de=2*de+1;0<ie--;){if(jf(S,I,Q,de,fe))if(Qu(S,I,Q,me))Pl(S,I,Q);else{var ge=S,je=I,Te=Q,Ve=ge[je-2*Te],Ne=ge[je-Te],Re=ge[je+0],Me=ge[je+Te],rt=ge[je+2*Te],He=27*(dt=Wu[1020+3*(Re-Ne)+Wu[1020+Ve-Me]])+63>>7,at=18*dt+63>>7,dt=9*dt+63>>7;ge[je-3*Te]=qa[255+ge[je-3*Te]+dt],ge[je-2*Te]=qa[255+Ve+at],ge[je-Te]=qa[255+Ne+He],ge[je+0]=qa[255+Re-He],ge[je+Te]=qa[255+Me-at],ge[je+2*Te]=qa[255+rt-dt]}I+=q}}function Tl(S,I,Q,q,ie,de,fe,me){for(de=2*de+1;0<ie--;){if(jf(S,I,Q,de,fe))if(Qu(S,I,Q,me))Pl(S,I,Q);else{var ge=S,je=I,Te=Q,Ve=ge[je-Te],Ne=ge[je+0],Re=ge[je+Te],Me=Oc[112+(4+(rt=3*(Ne-Ve))>>3)],rt=Oc[112+(rt+3>>3)],He=Me+1>>1;ge[je-2*Te]=qa[255+ge[je-2*Te]+He],ge[je-Te]=qa[255+Ve+rt],ge[je+0]=qa[255+Ne-Me],ge[je+Te]=qa[255+Re-He]}I+=q}}function _f(S,I,Q,q,ie,de){co(S,I,Q,1,16,q,ie,de)}function Sd(S,I,Q,q,ie,de){co(S,I,1,Q,16,q,ie,de)}function bm(S,I,Q,q,ie,de){var fe;for(fe=3;0<fe;--fe)Tl(S,I+=4*Q,Q,1,16,q,ie,de)}function U(S,I,Q,q,ie,de){var fe;for(fe=3;0<fe;--fe)Tl(S,I+=4,1,Q,16,q,ie,de)}function ae(S,I,Q,q,ie,de,fe,me){co(S,I,ie,1,8,de,fe,me),co(Q,q,ie,1,8,de,fe,me)}function we(S,I,Q,q,ie,de,fe,me){co(S,I,1,ie,8,de,fe,me),co(Q,q,1,ie,8,de,fe,me)}function Pe(S,I,Q,q,ie,de,fe,me){Tl(S,I+4*ie,ie,1,8,de,fe,me),Tl(Q,q+4*ie,ie,1,8,de,fe,me)}function Ue(S,I,Q,q,ie,de,fe,me){Tl(S,I+4,1,ie,8,de,fe,me),Tl(Q,q+4,1,ie,8,de,fe,me)}function et(){this.ba=new ze,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Kt(){this.ua=0,this.Wa=new _e,this.vb=new _e,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new M}function lr(){this.xb=this.a=0,this.l=new an,this.ca=new ze,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ee,this.Pb=0,this.wd=new ee,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Kt,this.ab=0,this.gc=o(4,Mt),this.Oc=0}function mr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new an,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Dr(S,I,Q,q,ie,de,fe){for(S=S==null?0:S[I+0],I=0;I<fe;++I)ie[de+I]=S+Q[q+I]&255,S=ie[de+I]}function Kn(S,I,Q,q,ie,de,fe){var me;if(S==null)Dr(null,null,Q,q,ie,de,fe);else for(me=0;me<fe;++me)ie[de+me]=S[I+me]+Q[q+me]&255}function ws(S,I,Q,q,ie,de,fe){if(S==null)Dr(null,null,Q,q,ie,de,fe);else{var me,ge=S[I+0],je=ge,Te=ge;for(me=0;me<fe;++me)je=Te+(ge=S[I+me])-je,Te=Q[q+me]+(-256&je?0>je?0:255:je)&255,je=ge,ie[de+me]=Te}}function ln(S,I,Q,q){var ie=I.width,de=I.o;if(t(S!=null&&I!=null),0>Q||0>=q||Q+q>de)return null;if(!S.Cc){if(S.ga==null){var fe;if(S.ga=new mr,(fe=S.ga==null)||(fe=I.width*I.o,t(S.Gb.length==0),S.Gb=i(fe),S.Uc=0,S.Gb==null?fe=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,fe=1),fe=!fe),!fe){fe=S.ga;var me=S.Fa,ge=S.P,je=S.qc,Te=S.mb,Ve=S.nb,Ne=ge+1,Re=je-1,Me=fe.l;if(t(me!=null&&Te!=null&&I!=null),mn[0]=null,mn[1]=Dr,mn[2]=Kn,mn[3]=ws,fe.ca=Te,fe.tb=Ve,fe.c=I.width,fe.i=I.height,t(0<fe.c&&0<fe.i),1>=je)I=0;else if(fe.$a=3&me[ge+0],fe.Z=me[ge+0]>>2&3,fe.Lc=me[ge+0]>>4&3,ge=me[ge+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||ge)I=0;else if(Me.put=Bt,Me.ac=tn,Me.bc=es,Me.ma=fe,Me.width=I.width,Me.height=I.height,Me.Da=I.Da,Me.v=I.v,Me.va=I.va,Me.j=I.j,Me.o=I.o,fe.$a)e:{t(fe.$a==1),I=St();t:for(;;){if(I==null){I=0;break e}if(t(fe!=null),fe.mc=I,I.c=fe.c,I.i=fe.i,I.l=fe.l,I.l.ma=fe,I.l.width=fe.c,I.l.height=fe.i,I.a=0,te(I.m,me,Ne,Re),!Tt(fe.c,fe.i,1,I,null)||(I.ab==1&&I.gc[0].hc==3&&ls(I.s)?(fe.ic=1,me=I.c*I.i,I.Ta=null,I.Ua=0,I.V=i(me),I.Ba=0,I.V==null?(I.a=1,I=0):I=1):(fe.ic=0,I=vt(I,fe.c)),!I))break t;I=1;break e}fe.mc=null,I=0}else I=Re>=fe.c*fe.i;fe=!I}if(fe)return null;S.ga.Lc!=1?S.Ga=0:q=de-Q}t(S.ga!=null),t(Q+q<=de);e:{if(I=(me=S.ga).c,de=me.l.o,me.$a==0){if(Ne=S.rc,Re=S.Vc,Me=S.Fa,ge=S.P+1+Q*I,je=S.mb,Te=S.nb+Q*I,t(ge<=S.P+S.qc),me.Z!=0)for(t(mn[me.Z]!=null),fe=0;fe<q;++fe)mn[me.Z](Ne,Re,Me,ge,je,Te,I),Ne=je,Re=Te,Te+=I,ge+=I;else for(fe=0;fe<q;++fe)n(je,Te,Me,ge,I),Ne=je,Re=Te,Te+=I,ge+=I;S.rc=Ne,S.Vc=Re}else{if(t(me.mc!=null),I=Q+q,t((fe=me.mc)!=null),t(I<=fe.i),fe.C>=I)I=1;else if(me.ic||oa(),me.ic){me=fe.V,Ne=fe.Ba,Re=fe.c;var rt=fe.i,He=(Me=1,ge=fe.$/Re,je=fe.$%Re,Te=fe.m,Ve=fe.s,fe.$),at=Re*rt,dt=Re*I,jt=Ve.wc,xt=He<dt?An(Ve,je,ge):null;t(He<=at),t(I<=rt),t(ls(Ve));t:for(;;){for(;!Te.h&&He<dt;){if(je&jt||(xt=An(Ve,je,ge)),t(xt!=null),ce(Te),256>(rt=br(xt.G[0],xt.H[0],Te)))me[Ne+He]=rt,++He,++je>=Re&&(je=0,++ge<=I&&!(ge%16)&&ds(fe,ge));else{if(!(280>rt)){Me=0;break t}rt=Fn(rt-256,Te);var Yt,zt=br(xt.G[4],xt.H[4],Te);if(ce(Te),!(He>=(zt=os(Re,zt=Fn(zt,Te)))&&at-He>=rt)){Me=0;break t}for(Yt=0;Yt<rt;++Yt)me[Ne+He+Yt]=me[Ne+He+Yt-zt];for(He+=rt,je+=rt;je>=Re;)je-=Re,++ge<=I&&!(ge%16)&&ds(fe,ge);He<dt&&je&jt&&(xt=An(Ve,je,ge))}t(Te.h==ne(Te))}ds(fe,ge>I?I:ge);break t}!Me||Te.h&&He<at?(Me=0,fe.a=Te.h?5:3):fe.$=He,I=Me}else I=kn(fe,fe.V,fe.Ba,fe.c,fe.i,I,Dt);if(!I){q=0;break e}}Q+q>=de&&(S.Cc=1),q=1}if(!q)return null;if(S.Cc&&((q=S.ga)!=null&&(q.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+Q*ie}function Ts(S,I,Q,q,ie,de){for(;0<ie--;){var fe,me=S,ge=I+(Q?1:0),je=S,Te=I+(Q?0:3);for(fe=0;fe<q;++fe){var Ve=je[Te+4*fe];Ve!=255&&(Ve*=32897,me[ge+4*fe+0]=me[ge+4*fe+0]*Ve>>23,me[ge+4*fe+1]=me[ge+4*fe+1]*Ve>>23,me[ge+4*fe+2]=me[ge+4*fe+2]*Ve>>23)}I+=de}}function us(S,I,Q,q,ie){for(;0<q--;){var de;for(de=0;de<Q;++de){var fe=S[I+2*de+0],me=15&(je=S[I+2*de+1]),ge=4369*me,je=(240&je|je>>4)*ge>>16;S[I+2*de+0]=(240&fe|fe>>4)*ge>>16&240|(15&fe|fe<<4)*ge>>16>>4&15,S[I+2*de+1]=240&je|me}I+=ie}}function Ws(S,I,Q,q,ie,de,fe,me){var ge,je,Te=255;for(je=0;je<ie;++je){for(ge=0;ge<q;++ge){var Ve=S[I+ge];de[fe+4*ge]=Ve,Te&=Ve}I+=Q,fe+=me}return Te!=255}function Di(S,I,Q,q,ie){var de;for(de=0;de<ie;++de)Q[q+de]=S[I+de]>>8}function oa(){qo=Ts,g0=us,x0=Ws,mb=Di}function Ol(S,I,Q){T[S]=function(q,ie,de,fe,me,ge,je,Te,Ve,Ne,Re,Me,rt,He,at,dt,jt){var xt,Yt=jt-1>>1,zt=me[ge+0]|je[Te+0]<<16,Nr=Ve[Ne+0]|Re[Me+0]<<16;t(q!=null);var Wt=3*zt+Nr+131074>>2;for(I(q[ie+0],255&Wt,Wt>>16,rt,He),de!=null&&(Wt=3*Nr+zt+131074>>2,I(de[fe+0],255&Wt,Wt>>16,at,dt)),xt=1;xt<=Yt;++xt){var Hr=me[ge+xt]|je[Te+xt]<<16,ca=Ve[Ne+xt]|Re[Me+xt]<<16,_r=zt+Hr+Nr+ca+524296,Gt=_r+2*(Hr+Nr)>>3;Wt=Gt+zt>>1,zt=(_r=_r+2*(zt+ca)>>3)+Hr>>1,I(q[ie+2*xt-1],255&Wt,Wt>>16,rt,He+(2*xt-1)*Q),I(q[ie+2*xt-0],255&zt,zt>>16,rt,He+(2*xt-0)*Q),de!=null&&(Wt=_r+Nr>>1,zt=Gt+ca>>1,I(de[fe+2*xt-1],255&Wt,Wt>>16,at,dt+(2*xt-1)*Q),I(de[fe+2*xt+0],255&zt,zt>>16,at,dt+(2*xt+0)*Q)),zt=Hr,Nr=ca}1&jt||(Wt=3*zt+Nr+131074>>2,I(q[ie+jt-1],255&Wt,Wt>>16,rt,He+(jt-1)*Q),de!=null&&(Wt=3*Nr+zt+131074>>2,I(de[fe+jt-1],255&Wt,Wt>>16,at,dt+(jt-1)*Q)))}}function Ll(){Pa[jm]=g_,Pa[Ef]=xb,Pa[b0]=x_,Pa[Pf]=Bm,Pa[If]=j0,Pa[Nm]=yb,Pa[gb]=mre,Pa[_m]=xb,Pa[Cm]=Bm,Pa[Sm]=j0,Pa[h]=yb}function la(S){return S&-16384?0>S?0:255:S>>pre}function Fl(S,I){return la((19077*S>>8)+(26149*I>>8)-14234)}function Ec(S,I,Q){return la((19077*S>>8)-(6419*I>>8)-(13320*Q>>8)+8708)}function Bd(S,I){return la((19077*S>>8)+(33050*I>>8)-17685)}function $o(S,I,Q,q,ie){q[ie+0]=Fl(S,Q),q[ie+1]=Ec(S,I,Q),q[ie+2]=Bd(S,I)}function Os(S,I,Q,q,ie){q[ie+0]=Bd(S,I),q[ie+1]=Ec(S,I,Q),q[ie+2]=Fl(S,Q)}function kd(S,I,Q,q,ie){var de=Ec(S,I,Q);I=de<<3&224|Bd(S,I)>>3,q[ie+0]=248&Fl(S,Q)|de>>5,q[ie+1]=I}function Ed(S,I,Q,q,ie){var de=240&Bd(S,I)|15;q[ie+0]=240&Fl(S,Q)|Ec(S,I,Q)>>4,q[ie+1]=de}function $u(S,I,Q,q,ie){q[ie+0]=255,$o(S,I,Q,q,ie+1)}function Cf(S,I,Q,q,ie){Os(S,I,Q,q,ie),q[ie+3]=255}function Pn(S,I,Q,q,ie){$o(S,I,Q,q,ie),q[ie+3]=255}function Ka(S,I,Q){T[S]=function(q,ie,de,fe,me,ge,je,Te,Ve){for(var Ne=Te+(-2&Ve)*Q;Te!=Ne;)I(q[ie+0],de[fe+0],me[ge+0],je,Te),I(q[ie+1],de[fe+0],me[ge+0],je,Te+Q),ie+=2,++fe,++ge,Te+=2*Q;1&Ve&&I(q[ie+0],de[fe+0],me[ge+0],je,Te)}}function Hu(S,I,Q){return Q==0?S==0?I==0?6:5:I==0?4:0:Q}function Mi(S,I,Q,q,ie){switch(S>>>30){case 3:Tc(I,Q,q,ie,0);break;case 2:Hi(I,Q,q,ie);break;case 1:Xr(I,Q,q,ie)}}function Qi(S,I){var Q,q,ie=I.M,de=I.Nb,fe=S.oc,me=S.pc+40,ge=S.oc,je=S.pc+584,Te=S.oc,Ve=S.pc+600;for(Q=0;16>Q;++Q)fe[me+32*Q-1]=129;for(Q=0;8>Q;++Q)ge[je+32*Q-1]=129,Te[Ve+32*Q-1]=129;for(0<ie?fe[me-1-32]=ge[je-1-32]=Te[Ve-1-32]=129:(a(fe,me-32-1,127,21),a(ge,je-32-1,127,9),a(Te,Ve-32-1,127,9)),q=0;q<S.za;++q){var Ne=I.ya[I.aa+q];if(0<q){for(Q=-1;16>Q;++Q)n(fe,me+32*Q-4,fe,me+32*Q+12,4);for(Q=-1;8>Q;++Q)n(ge,je+32*Q-4,ge,je+32*Q+4,4),n(Te,Ve+32*Q-4,Te,Ve+32*Q+4,4)}var Re=S.Gd,Me=S.Hd+q,rt=Ne.ad,He=Ne.Hc;if(0<ie&&(n(fe,me-32,Re[Me].y,0,16),n(ge,je-32,Re[Me].f,0,8),n(Te,Ve-32,Re[Me].ea,0,8)),Ne.Za){var at=fe,dt=me-32+16;for(0<ie&&(q>=S.za-1?a(at,dt,Re[Me].y[15],4):n(at,dt,Re[Me+1].y,0,4)),Q=0;4>Q;Q++)at[dt+128+Q]=at[dt+256+Q]=at[dt+384+Q]=at[dt+0+Q];for(Q=0;16>Q;++Q,He<<=2)at=fe,dt=me+ET[Q],fo[Ne.Ob[Q]](at,dt),Mi(He,rt,16*+Q,at,dt)}else if(at=Hu(q,ie,Ne.Ob[0]),Lc[at](fe,me),He!=0)for(Q=0;16>Q;++Q,He<<=2)Mi(He,rt,16*+Q,fe,me+ET[Q]);for(Q=Ne.Gc,at=Hu(q,ie,Ne.Dd),Xo[at](ge,je),Xo[at](Te,Ve),He=rt,at=ge,dt=je,255&(Ne=0|Q)&&(170&Ne?xi(He,256,at,dt):cn(He,256,at,dt)),Ne=Te,He=Ve,255&(Q>>=8)&&(170&Q?xi(rt,320,Ne,He):cn(rt,320,Ne,He)),ie<S.Ub-1&&(n(Re[Me].y,0,fe,me+480,16),n(Re[Me].f,0,ge,je+224,8),n(Re[Me].ea,0,Te,Ve+224,8)),Q=8*de*S.B,Re=S.sa,Me=S.ta+16*q+16*de*S.R,rt=S.qa,Ne=S.ra+8*q+Q,He=S.Ha,at=S.Ia+8*q+Q,Q=0;16>Q;++Q)n(Re,Me+Q*S.R,fe,me+32*Q,16);for(Q=0;8>Q;++Q)n(rt,Ne+Q*S.B,ge,je+32*Q,8),n(He,at+Q*S.B,Te,Ve+32*Q,8)}}function $i(S,I,Q,q,ie,de,fe,me,ge){var je=[0],Te=[0],Ve=0,Ne=ge!=null?ge.kd:0,Re=ge??new pt;if(S==null||12>Q)return 7;Re.data=S,Re.w=I,Re.ha=Q,I=[I],Q=[Q],Re.gb=[Re.gb];e:{var Me=I,rt=Q,He=Re.gb;if(t(S!=null),t(rt!=null),t(He!=null),He[0]=0,12<=rt[0]&&!r(S,Me[0],"RIFF")){if(r(S,Me[0]+8,"WEBP")){He=3;break e}var at=oe(S,Me[0]+4);if(12>at||4294967286<at){He=3;break e}if(Ne&&at>rt[0]-8){He=7;break e}He[0]=at,Me[0]+=12,rt[0]-=12}He=0}if(He!=0)return He;for(at=0<Re.gb[0],Q=Q[0];;){e:{var dt=S;rt=I,He=Q;var jt=je,xt=Te,Yt=Me=[0];if((Wt=Ve=[Ve])[0]=0,8>He[0])He=7;else{if(!r(dt,rt[0],"VP8X")){if(oe(dt,rt[0]+4)!=10){He=3;break e}if(18>He[0]){He=7;break e}var zt=oe(dt,rt[0]+8),Nr=1+pe(dt,rt[0]+12);if(2147483648<=Nr*(dt=1+pe(dt,rt[0]+15))){He=3;break e}Yt!=null&&(Yt[0]=zt),jt!=null&&(jt[0]=Nr),xt!=null&&(xt[0]=dt),rt[0]+=18,He[0]-=18,Wt[0]=1}He=0}}if(Ve=Ve[0],Me=Me[0],He!=0)return He;if(rt=!!(2&Me),!at&&Ve)return 3;if(de!=null&&(de[0]=!!(16&Me)),fe!=null&&(fe[0]=rt),me!=null&&(me[0]=0),fe=je[0],Me=Te[0],Ve&&rt&&ge==null){He=0;break}if(4>Q){He=7;break}if(at&&Ve||!at&&!Ve&&!r(S,I[0],"ALPH")){Q=[Q],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{zt=S,He=I,at=Q;var Wt=Re.gb;jt=Re.na,xt=Re.P,Yt=Re.Sa,Nr=22,t(zt!=null),t(at!=null),dt=He[0];var Hr=at[0];for(t(jt!=null),t(Yt!=null),jt[0]=null,xt[0]=null,Yt[0]=0;;){if(He[0]=dt,at[0]=Hr,8>Hr){He=7;break e}var ca=oe(zt,dt+4);if(4294967286<ca){He=3;break e}var _r=8+ca+1&-2;if(Nr+=_r,0<Wt&&Nr>Wt){He=3;break e}if(!r(zt,dt,"VP8 ")||!r(zt,dt,"VP8L")){He=0;break e}if(Hr[0]<_r){He=7;break e}r(zt,dt,"ALPH")||(jt[0]=zt,xt[0]=dt+8,Yt[0]=ca),dt+=_r,Hr-=_r}}if(Q=Q[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],He!=0)break}Q=[Q],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(Wt=S,He=I,at=Q,jt=Re.gb[0],xt=Re.Ja,Yt=Re.xa,zt=He[0],dt=!r(Wt,zt,"VP8 "),Nr=!r(Wt,zt,"VP8L"),t(Wt!=null),t(at!=null),t(xt!=null),t(Yt!=null),8>at[0])He=7;else{if(dt||Nr){if(Wt=oe(Wt,zt+4),12<=jt&&Wt>jt-12){He=3;break e}if(Ne&&Wt>at[0]-8){He=7;break e}xt[0]=Wt,He[0]+=8,at[0]-=8,Yt[0]=Nr}else Yt[0]=5<=at[0]&&Wt[zt+0]==47&&!(Wt[zt+4]>>5),xt[0]=at[0];He=0}if(Q=Q[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],I=I[0],He!=0)break;if(4294967286<Re.Ja)return 3;if(me==null||rt||(me[0]=Re.xa?2:1),fe=[fe],Me=[Me],Re.xa){if(5>Q){He=7;break}me=fe,Ne=Me,rt=de,S==null||5>Q?S=0:5<=Q&&S[I+0]==47&&!(S[I+4]>>5)?(at=[0],Wt=[0],jt=[0],te(xt=new ee,S,I,Q),vs(xt,at,Wt,jt)?(me!=null&&(me[0]=at[0]),Ne!=null&&(Ne[0]=Wt[0]),rt!=null&&(rt[0]=jt[0]),S=1):S=0):S=0}else{if(10>Q){He=7;break}me=Me,S==null||10>Q||!_l(S,I+3,Q-3)?S=0:(Ne=S[I+0]|S[I+1]<<8|S[I+2]<<16,rt=16383&(S[I+7]<<8|S[I+6]),S=16383&(S[I+9]<<8|S[I+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Re.Ja||!rt||!S?S=0:(fe&&(fe[0]=rt),me&&(me[0]=S),S=1))}if(!S||(fe=fe[0],Me=Me[0],Ve&&(je[0]!=fe||Te[0]!=Me)))return 3;ge!=null&&(ge[0]=Re,ge.offset=I-ge.w,t(4294967286>I-ge.w),t(ge.offset==ge.ha-Q));break}return He==0||He==7&&Ve&&ge==null?(de!=null&&(de[0]|=Re.na!=null&&0<Re.na.length),q!=null&&(q[0]=fe),ie!=null&&(ie[0]=Me),0):He}function Sf(S,I,Q){var q=I.width,ie=I.height,de=0,fe=0,me=q,ge=ie;if(I.Da=S!=null&&0<S.Da,I.Da&&(me=S.cd,ge=S.bd,de=S.v,fe=S.j,11>Q||(de&=-2,fe&=-2),0>de||0>fe||0>=me||0>=ge||de+me>q||fe+ge>ie))return 0;if(I.v=de,I.j=fe,I.va=de+me,I.o=fe+ge,I.U=me,I.T=ge,I.da=S!=null&&0<S.da,I.da){if(!Le(me,ge,Q=[S.ib],de=[S.hb]))return 0;I.ib=Q[0],I.hb=de[0]}return I.ob=S!=null&&S.ob,I.Kb=S==null||!S.Sd,I.da&&(I.ob=I.ib<3*q/4&&I.hb<3*ie/4,I.Kb=0),1}function Rl(S){if(S==null)return 2;if(11>S.S){var I=S.f.RGBA;I.fb+=(S.height-1)*I.A,I.A=-I.A}else I=S.f.kb,S=S.height,I.O+=(S-1)*I.fa,I.fa=-I.fa,I.N+=(S-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(S-1>>1)*I.Db,I.Db=-I.Db,I.F!=null&&(I.J+=(S-1)*I.lb,I.lb=-I.lb);return 0}function Ul(S,I,Q,q){if(q==null||0>=S||0>=I)return 2;if(Q!=null){if(Q.Da){var ie=Q.cd,de=Q.bd,fe=-2&Q.v,me=-2&Q.j;if(0>fe||0>me||0>=ie||0>=de||fe+ie>S||me+de>I)return 2;S=ie,I=de}if(Q.da){if(!Le(S,I,ie=[Q.ib],de=[Q.hb]))return 2;S=ie[0],I=de[0]}}q.width=S,q.height=I;e:{var ge=q.width,je=q.height;if(S=q.S,0>=ge||0>=je||!(S>=jm&&13>S))S=2;else{if(0>=q.Rd&&q.sd==null){fe=de=ie=I=0;var Te=(me=ge*PT[S])*je;if(11>S||(de=(je+1)/2*(I=(ge+1)/2),S==12&&(fe=(ie=ge)*je)),(je=i(Te+2*de+fe))==null){S=1;break e}q.sd=je,11>S?((ge=q.f.RGBA).eb=je,ge.fb=0,ge.A=me,ge.size=Te):((ge=q.f.kb).y=je,ge.O=0,ge.fa=me,ge.Fd=Te,ge.f=je,ge.N=0+Te,ge.Ab=I,ge.Cd=de,ge.ea=je,ge.W=0+Te+de,ge.Db=I,ge.Ed=de,S==12&&(ge.F=je,ge.J=0+Te+2*de),ge.Tc=fe,ge.lb=ie)}if(I=1,ie=q.S,de=q.width,fe=q.height,ie>=jm&&13>ie)if(11>ie)S=q.f.RGBA,I&=(me=Math.abs(S.A))*(fe-1)+de<=S.size,I&=me>=de*PT[ie],I&=S.eb!=null;else{S=q.f.kb,me=(de+1)/2,Te=(fe+1)/2,ge=Math.abs(S.fa),je=Math.abs(S.Ab);var Ve=Math.abs(S.Db),Ne=Math.abs(S.lb),Re=Ne*(fe-1)+de;I&=ge*(fe-1)+de<=S.Fd,I&=je*(Te-1)+me<=S.Cd,I=(I&=Ve*(Te-1)+me<=S.Ed)&ge>=de&je>=me&Ve>=me,I&=S.y!=null,I&=S.f!=null,I&=S.ea!=null,ie==12&&(I&=Ne>=de,I&=Re<=S.Tc,I&=S.F!=null)}else I=0;S=I?0:2}}return S!=0||Q!=null&&Q.fd&&(S=Rl(q)),S}var Ho=64,pi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],js=24,uo=32,Dl=8,zo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(S){return S},T.Predictor2=function(S,I,Q){return I[Q+0]},T.Predictor3=function(S,I,Q){return I[Q+1]},T.Predictor4=function(S,I,Q){return I[Q-1]},T.Predictor5=function(S,I,Q){return Oe(Oe(S,I[Q+1]),I[Q+0])},T.Predictor6=function(S,I,Q){return Oe(S,I[Q-1])},T.Predictor7=function(S,I,Q){return Oe(S,I[Q+0])},T.Predictor8=function(S,I,Q){return Oe(I[Q-1],I[Q+0])},T.Predictor9=function(S,I,Q){return Oe(I[Q+0],I[Q+1])},T.Predictor10=function(S,I,Q){return Oe(Oe(S,I[Q-1]),Oe(I[Q+0],I[Q+1]))},T.Predictor11=function(S,I,Q){var q=I[Q+0];return 0>=ft(q>>24&255,S>>24&255,(I=I[Q-1])>>24&255)+ft(q>>16&255,S>>16&255,I>>16&255)+ft(q>>8&255,S>>8&255,I>>8&255)+ft(255&q,255&S,255&I)?q:S},T.Predictor12=function(S,I,Q){var q=I[Q+0];return(Ge((S>>24&255)+(q>>24&255)-((I=I[Q-1])>>24&255))<<24|Ge((S>>16&255)+(q>>16&255)-(I>>16&255))<<16|Ge((S>>8&255)+(q>>8&255)-(I>>8&255))<<8|Ge((255&S)+(255&q)-(255&I)))>>>0},T.Predictor13=function(S,I,Q){var q=I[Q-1];return(mt((S=Oe(S,I[Q+0]))>>24&255,q>>24&255)<<24|mt(S>>16&255,q>>16&255)<<16|mt(S>>8&255,q>>8&255)<<8|mt(255&S,255&q))>>>0};var Bf=T.PredictorAdd0;T.PredictorAdd1=Ie,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Wa=T.PredictorAdd2;Fe("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),Fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var hs,Ml=T.ColorIndexInverseTransform,Vo=T.MapARGB,Gs=T.VP8LColorIndexInverseTransformAlpha,Pc=T.MapAlpha,zu=T.VP8LPredictorsAdd=[];zu.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Pd,Ic,Ko,ho,gi,Wo,Go,Tc,Hi,xi,Xr,cn,fs,Ns,Ql,Ga,$l,wm,kf,hb,p0,fb,Vu,Ab,qo,g0,x0,mb,Yo=i(511),y0=i(2041),v0=i(225),Ku=i(767),pb=0,Wu=y0,Oc=v0,qa=Ku,yi=Yo,jm=0,Ef=1,b0=2,Pf=3,If=4,Nm=5,gb=6,_m=7,Cm=8,Sm=9,h=10,p=[2,3,7],E=[3,3,11],D=[280,256,256,256,40],Y=[0,1,1,1,0],he=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Be=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$e=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ke=8,gt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ot=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jt=null,kr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ea=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ls=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ya=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],m_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lc=[],fo=[],Xo=[],p_=1,w0=2,mn=[],Pa=[];Ol("UpsampleRgbLinePair",$o,3),Ol("UpsampleBgrLinePair",Os,3),Ol("UpsampleRgbaLinePair",Pn,4),Ol("UpsampleBgraLinePair",Cf,4),Ol("UpsampleArgbLinePair",$u,4),Ol("UpsampleRgba4444LinePair",Ed,2),Ol("UpsampleRgb565LinePair",kd,2);var g_=T.UpsampleRgbLinePair,x_=T.UpsampleBgrLinePair,xb=T.UpsampleRgbaLinePair,Bm=T.UpsampleBgraLinePair,j0=T.UpsampleArgbLinePair,yb=T.UpsampleRgba4444LinePair,mre=T.UpsampleRgb565LinePair,vb=16,bb=1<<vb-1,N0=-227,y_=482,pre=6,kT=0,gre=i(256),xre=i(256),yre=i(256),vre=i(256),bre=i(y_-N0),wre=i(y_-N0);Ka("YuvToRgbRow",$o,3),Ka("YuvToBgrRow",Os,3),Ka("YuvToRgbaRow",Pn,4),Ka("YuvToBgraRow",Cf,4),Ka("YuvToArgbRow",$u,4),Ka("YuvToRgba4444Row",Ed,2),Ka("YuvToRgb565Row",kd,2);var ET=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wb=[0,2,8],jre=[8,7,6,4,4,2,2,2,1,1,1,1],Nre=1;this.WebPDecodeRGBA=function(S,I,Q,q,ie){var de=Ef,fe=new et,me=new ze;fe.ba=me,me.S=de,me.width=[me.width],me.height=[me.height];var ge=me.width,je=me.height,Te=new wt;if(Te==null||S==null)var Ve=2;else t(Te!=null),Ve=$i(S,I,Q,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Ve!=0?ge=0:(ge!=null&&(ge[0]=Te.width[0]),je!=null&&(je[0]=Te.height[0]),ge=1),ge){me.width=me.width[0],me.height=me.height[0],q!=null&&(q[0]=me.width),ie!=null&&(ie[0]=me.height);e:{if(q=new an,(ie=new pt).data=S,ie.w=I,ie.ha=Q,ie.kd=1,I=[0],t(ie!=null),((S=$i(ie.data,ie.w,ie.ha,null,null,null,I,null,ie))==0||S==7)&&I[0]&&(S=4),(I=S)==0){if(t(fe!=null),q.data=ie.data,q.w=ie.w+ie.offset,q.ha=ie.ha-ie.offset,q.put=Bt,q.ac=tn,q.bc=es,q.ma=fe,ie.xa){if((S=St())==null){fe=1;break e}if(function(Ne,Re){var Me=[0],rt=[0],He=[0];t:for(;;){if(Ne==null)return 0;if(Re==null)return Ne.a=2,0;if(Ne.l=Re,Ne.a=0,te(Ne.m,Re.data,Re.w,Re.ha),!vs(Ne.m,Me,rt,He)){Ne.a=3;break t}if(Ne.xb=w0,Re.width=Me[0],Re.height=rt[0],!Tt(Me[0],rt[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0}(S,q)){if(q=(I=Ul(q.width,q.height,fe.Oa,fe.ba))==0){t:{q=S;r:for(;;){if(q==null){q=0;break t}if(t(q.s.yc!=null),t(q.s.Ya!=null),t(0<q.s.Wb),t((Q=q.l)!=null),t((ie=Q.ma)!=null),q.xb!=0){if(q.ca=ie.ba,q.tb=ie.tb,t(q.ca!=null),!Sf(ie.Oa,Q,Pf)){q.a=2;break r}if(!vt(q,Q.width)||Q.da)break r;if((Q.da||Ze(q.ca.S))&&oa(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&oa()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!X(q.s.vb,q.s.Wa.Xa)){q.a=1;break r}q.xb=0}if(!kn(q,q.V,q.Ba,q.c,q.i,Q.o,Ks))break r;ie.Dc=q.Ma,q=1;break t}t(q.a!=0),q=0}q=!q}q&&(I=S.a)}else I=S.a}else{if((S=new Lu)==null){fe=1;break e}if(S.Fa=ie.na,S.P=ie.P,S.qc=ie.Sa,Ri(S,q)){if((I=Ul(q.width,q.height,fe.Oa,fe.ba))==0){if(S.Aa=0,Q=fe.Oa,t((ie=S)!=null),Q!=null){if(0<(ge=0>(ge=Q.Md)?0:100<ge?255:255*ge/100)){for(je=Te=0;4>je;++je)12>(Ve=ie.pb[je]).lc&&(Ve.ia=ge*jre[0>Ve.lc?0:Ve.lc]>>3),Te|=Ve.ia;Te&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=Q.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(Ne,Re){if(Ne==null)return 0;if(Re==null)return En(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!Ri(Ne,Re))return 0;if(t(Ne.cb),Re.ac==null||Re.ac(Re)){Re.ob&&(Ne.L=0);var Me=wb[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=Re.v-Me>>4,Ne.zb=Re.j-Me>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=Re.o+15+Me>>4,Ne.Hb=Re.va+15+Me>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var rt=Ne.ed;for(Me=0;4>Me;++Me){var He;if(Ne.Qa.Cb){var at=Ne.Qa.Lb[Me];Ne.Qa.Fb||(at+=rt.Tb)}else at=rt.Tb;for(He=0;1>=He;++He){var dt=Ne.gd[Me][He],jt=at;if(rt.Pc&&(jt+=rt.vd[0],He&&(jt+=rt.od[0])),0<(jt=0>jt?0:63<jt?63:jt)){var xt=jt;0<rt.wb&&(xt=4<rt.wb?xt>>2:xt>>1)>9-rt.wb&&(xt=9-rt.wb),1>xt&&(xt=1),dt.dd=xt,dt.tc=2*jt+xt,dt.ld=40<=jt?2:15<=jt?1:0}else dt.tc=0;dt.La=He}}}Me=0}else En(Ne,6,"Frame setup failed"),Me=Ne.a;if(Me=Me==0){if(Me){Ne.$c=0,0<Ne.Aa||(Ne.Ic=Nre);t:{Me=Ne.Ic,rt=4*(xt=Ne.za);var Yt=32*xt,zt=xt+1,Nr=0<Ne.L?xt*(0<Ne.Aa?2:1):0,Wt=(Ne.Aa==2?2:1)*xt;if((dt=rt+832+(He=3*(16*Me+wb[Ne.L])/2*Yt)+(at=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=dt)Me=0;else{if(dt>Ne.Vb){if(Ne.Vb=0,Ne.Ec=i(dt),Ne.Fc=0,Ne.Ec==null){Me=En(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=dt}dt=Ne.Ec,jt=Ne.Fc,Ne.Ac=dt,Ne.Bc=jt,jt+=rt,Ne.Gd=o(Yt,ka),Ne.Hd=0,Ne.rb=o(zt+1,yt),Ne.sb=1,Ne.wa=Nr?o(Nr,lt):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=xt),t(!0),Ne.oc=dt,Ne.pc=jt,jt+=832,Ne.ya=o(Wt,Yr),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=xt),Ne.R=16*xt,Ne.B=8*xt,xt=(Yt=wb[Ne.L])*Ne.R,Yt=Yt/2*Ne.B,Ne.sa=dt,Ne.ta=jt+xt,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*Me*Ne.R+Yt,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*Me*Ne.B+Yt,Ne.$c=0,jt+=He,Ne.mb=at?dt:null,Ne.nb=at?jt:null,t(jt+at<=Ne.Fc+Ne.Vb),Rn(Ne),a(Ne.Ac,Ne.Bc,0,rt),Me=1}}if(Me){if(Re.ka=0,Re.y=Ne.sa,Re.O=Ne.ta,Re.f=Ne.qa,Re.N=Ne.ra,Re.ea=Ne.Ha,Re.Vd=Ne.Ia,Re.fa=Ne.R,Re.Rc=Ne.B,Re.F=null,Re.J=0,!pb){for(Me=-255;255>=Me;++Me)Yo[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)y0[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)v0[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)Ku[255+Me]=0>Me?0:255<Me?255:Me;pb=1}Go=Mo,Tc=Cl,xi=rn,Xr=Do,cn=Cc,Hi=Fu,fs=_f,Ns=Sd,Ql=ae,Ga=we,$l=bm,wm=U,kf=Pe,hb=Ue,p0=ia,fb=Il,Vu=Nf,Ab=vm,fo[0]=xm,fo[1]=_d,fo[2]=Ui,fo[3]=on,fo[4]=oo,fo[5]=bf,fo[6]=lo,fo[7]=Bl,fo[8]=kl,fo[9]=kc,Lc[0]=Uu,Lc[1]=vf,Lc[2]=Sc,Lc[3]=Ru,Lc[4]=Bc,Lc[5]=Cd,Lc[6]=m0,Xo[0]=ym,Xo[1]=yf,Xo[2]=Vn,Xo[3]=El,Xo[4]=Du,Xo[5]=wf,Xo[6]=Mu,Me=1}else Me=0}Me&&(Me=function(Hr,ca){for(Hr.M=0;Hr.M<Hr.Va;++Hr.M){var _r,Gt=Hr.Jc[Hr.M&Hr.Xb],It=Hr.m,Fs=Hr;for(_r=0;_r<Fs.za;++_r){var vr=It,Kr=Fs,Wn=Kr.Ac,Ia=Kr.Bc+4*_r,vi=Kr.zc,_s=Kr.ya[Kr.aa+_r];if(Kr.Qa.Bb?_s.$b=xe(vr,Kr.Pa.jb[0])?2+xe(vr,Kr.Pa.jb[2]):xe(vr,Kr.Pa.jb[1]):_s.$b=0,Kr.kc&&(_s.Ad=xe(vr,Kr.Bd)),_s.Za=!xe(vr,145)+0,_s.Za){var Xa=_s.Ob,bi=0;for(Kr=0;4>Kr;++Kr){var da,Gr=vi[0+Kr];for(da=0;4>da;++da){Gr=Ya[Wn[Ia+da]][Gr];for(var pn=Ls[xe(vr,Gr[0])];0<pn;)pn=Ls[2*pn+xe(vr,Gr[pn])];Gr=-pn,Wn[Ia+da]=Gr}n(Xa,bi,Wn,Ia,4),bi+=4,vi[0+Kr]=Gr}}else Gr=xe(vr,156)?xe(vr,128)?1:3:xe(vr,163)?2:0,_s.Ob[0]=Gr,a(Wn,Ia,Gr,4),a(vi,0,Gr,4);_s.Dd=xe(vr,142)?xe(vr,114)?xe(vr,183)?1:3:2:0}if(Fs.m.Ka)return En(Hr,7,"Premature end-of-partition0 encountered.");for(;Hr.ja<Hr.za;++Hr.ja){if(Fs=Gt,vr=(It=Hr).rb[It.sb-1],Wn=It.rb[It.sb+It.ja],_r=It.ya[It.aa+It.ja],Ia=It.kc?_r.Ad:0)vr.la=Wn.la=0,_r.Za||(vr.Na=Wn.Na=0),_r.Hc=0,_r.Gc=0,_r.ia=0;else{var Cs,gn;if(vr=Wn,Wn=Fs,Ia=It.Pa.Xc,vi=It.ya[It.aa+It.ja],_s=It.pb[vi.$b],Kr=vi.ad,Xa=0,bi=It.rb[It.sb-1],Gr=da=0,a(Kr,Xa,0,384),vi.Za)var Ta=0,Hl=Ia[3];else{pn=i(16);var Rs=vr.Na+bi.Na;if(Rs=Jt(Wn,Ia[1],Rs,_s.Eb,0,pn,0),vr.Na=bi.Na=(0<Rs)+0,1<Rs)Go(pn,0,Kr,Xa);else{var Vi=pn[0]+3>>3;for(pn=0;256>pn;pn+=16)Kr[Xa+pn]=Vi}Ta=1,Hl=Ia[0]}var In=15&vr.la,ua=15&bi.la;for(pn=0;4>pn;++pn){var Ao=1&ua;for(Vi=gn=0;4>Vi;++Vi)In=In>>1|(Ao=(Rs=Jt(Wn,Hl,Rs=Ao+(1&In),_s.Sc,Ta,Kr,Xa))>Ta)<<7,gn=gn<<2|(3<Rs?3:1<Rs?2:Kr[Xa+0]!=0),Xa+=16;In>>=4,ua=ua>>1|Ao<<7,da=(da<<8|gn)>>>0}for(Hl=In,Ta=ua>>4,Cs=0;4>Cs;Cs+=2){for(gn=0,In=vr.la>>4+Cs,ua=bi.la>>4+Cs,pn=0;2>pn;++pn){for(Ao=1&ua,Vi=0;2>Vi;++Vi)Rs=Ao+(1&In),In=In>>1|(Ao=0<(Rs=Jt(Wn,Ia[2],Rs,_s.Qc,0,Kr,Xa)))<<3,gn=gn<<2|(3<Rs?3:1<Rs?2:Kr[Xa+0]!=0),Xa+=16;In>>=2,ua=ua>>1|Ao<<5}Gr|=gn<<4*Cs,Hl|=In<<4<<Cs,Ta|=(240&ua)<<Cs}vr.la=Hl,bi.la=Ta,vi.Hc=da,vi.Gc=Gr,vi.ia=43690&Gr?0:_s.ia,Ia=!(da|Gr)}if(0<It.L&&(It.wa[It.Y+It.ja]=It.gd[_r.$b][_r.Za],It.wa[It.Y+It.ja].La|=!Ia),Fs.Ka)return En(Hr,7,"Premature end-of-file encountered.")}if(Rn(Hr),It=ca,Fs=1,_r=(Gt=Hr).D,vr=0<Gt.L&&Gt.M>=Gt.zb&&Gt.M<=Gt.Va,Gt.Aa==0)t:{if(_r.M=Gt.M,_r.uc=vr,Qi(Gt,_r),Fs=1,_r=(gn=Gt.D).Nb,vr=(Gr=wb[Gt.L])*Gt.R,Wn=Gr/2*Gt.B,pn=16*_r*Gt.R,Vi=8*_r*Gt.B,Ia=Gt.sa,vi=Gt.ta-vr+pn,_s=Gt.qa,Kr=Gt.ra-Wn+Vi,Xa=Gt.Ha,bi=Gt.Ia-Wn+Vi,ua=(In=gn.M)==0,da=In>=Gt.Va-1,Gt.Aa==2&&Qi(Gt,gn),gn.uc)for(Ao=(Rs=Gt).D.M,t(Rs.D.uc),gn=Rs.yb;gn<Rs.Hb;++gn){Ta=gn,Hl=Ao;var wi=(mo=(Oa=Rs).D).Nb;Cs=Oa.R;var mo=mo.wa[mo.Y+Ta],po=Oa.sa,Ki=Oa.ta+16*wi*Cs+16*Ta,go=mo.dd,Un=mo.tc;if(Un!=0)if(t(3<=Un),Oa.L==1)0<Ta&&fb(po,Ki,Cs,Un+4),mo.La&&Ab(po,Ki,Cs,Un),0<Hl&&p0(po,Ki,Cs,Un+4),mo.La&&Vu(po,Ki,Cs,Un);else{var xo=Oa.B,zl=Oa.qa,Tf=Oa.ra+8*wi*xo+8*Ta,Id=Oa.Ha,Oa=Oa.Ia+8*wi*xo+8*Ta;wi=mo.ld,0<Ta&&(Ns(po,Ki,Cs,Un+4,go,wi),Ga(zl,Tf,Id,Oa,xo,Un+4,go,wi)),mo.La&&(wm(po,Ki,Cs,Un,go,wi),hb(zl,Tf,Id,Oa,xo,Un,go,wi)),0<Hl&&(fs(po,Ki,Cs,Un+4,go,wi),Ql(zl,Tf,Id,Oa,xo,Un+4,go,wi)),mo.La&&($l(po,Ki,Cs,Un,go,wi),kf(zl,Tf,Id,Oa,xo,Un,go,wi))}}if(Gt.ia&&alert("todo:DitherRow"),It.put!=null){if(gn=16*In,In=16*(In+1),ua?(It.y=Gt.sa,It.O=Gt.ta+pn,It.f=Gt.qa,It.N=Gt.ra+Vi,It.ea=Gt.Ha,It.W=Gt.Ia+Vi):(gn-=Gr,It.y=Ia,It.O=vi,It.f=_s,It.N=Kr,It.ea=Xa,It.W=bi),da||(In-=Gr),In>It.o&&(In=It.o),It.F=null,It.J=null,Gt.Fa!=null&&0<Gt.Fa.length&&gn<In&&(It.J=ln(Gt,It,gn,In-gn),It.F=Gt.mb,It.F==null&&It.F.length==0)){Fs=En(Gt,3,"Could not decode alpha data.");break t}gn<It.j&&(Gr=It.j-gn,gn=It.j,t(!(1&Gr)),It.O+=Gt.R*Gr,It.N+=Gt.B*(Gr>>1),It.W+=Gt.B*(Gr>>1),It.F!=null&&(It.J+=It.width*Gr)),gn<In&&(It.O+=It.v,It.N+=It.v>>1,It.W+=It.v>>1,It.F!=null&&(It.J+=It.v),It.ka=gn-It.j,It.U=It.va-It.v,It.T=In-gn,Fs=It.put(It))}_r+1!=Gt.Ic||da||(n(Gt.sa,Gt.ta-vr,Ia,vi+16*Gt.R,vr),n(Gt.qa,Gt.ra-Wn,_s,Kr+8*Gt.B,Wn),n(Gt.Ha,Gt.Ia-Wn,Xa,bi+8*Gt.B,Wn))}if(!Fs)return En(Hr,6,"Output aborted.")}return 1}(Ne,Re)),Re.bc!=null&&Re.bc(Re),Me&=1}return Me?(Ne.cb=0,Me):0})(S,q)||(I=S.a)}}else I=S.a}I==0&&fe.Oa!=null&&fe.Oa.fd&&(I=Rl(fe.ba))}fe=I}de=fe!=0?null:11>de?me.f.RGBA.eb:me.f.kb.y}else de=null;return de};var PT=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(T,O){for(var B="",F=0;F<4;F++)B+=String.fromCharCode(T[O++]);return B}function u(T,O){return T[O+0]|T[O+1]<<8}function f(T,O){return(T[O+0]|T[O+1]<<8|T[O+2]<<16)>>>0}function A(T,O){return(T[O+0]|T[O+1]<<8|T[O+2]<<16|T[O+3]<<24)>>>0}new c;var m=[0],x=[0],g=[],y=new c,v=e,b=function(T,O){var B={},F=0,M=!1,R=0,H=0;if(B.frames=[],!function(z,ee){for(var W=0;W<4;W++)if(z[ee+W]!="RIFF".charCodeAt(W))return!0;return!1}(T,O)){for(A(T,O+=4),O+=8;O<T.length;){var G=d(T,O),$=A(T,O+=4);O+=4;var V=$+(1&$);switch(G){case"VP8 ":case"VP8L":B.frames[F]===void 0&&(B.frames[F]={}),(K=B.frames[F]).src_off=M?H:O-8,K.src_size=R+$+8,F++,M&&(M=!1,R=0,H=0);break;case"VP8X":(K=B.header={}).feature_flags=T[O];var te=O+4;K.canvas_width=1+f(T,te),te+=3,K.canvas_height=1+f(T,te),te+=3;break;case"ALPH":M=!0,R=V+8,H=O-8;break;case"ANIM":(K=B.header).bgcolor=A(T,O),te=O+4,K.loop_count=u(T,te),te+=2;break;case"ANMF":var re,K;(K=B.frames[F]={}).offset_x=2*f(T,O),O+=3,K.offset_y=2*f(T,O),O+=3,K.width=1+f(T,O),O+=3,K.height=1+f(T,O),O+=3,K.duration=f(T,O),O+=3,re=T[O++],K.dispose=1&re,K.blend=re>>1&1}G!="ANMF"&&(O+=V)}return B}}(v,0);b.response=v,b.rgbaoutput=!0,b.dataurl=!1;var w=b.header?b.header:null,C=b.frames?b.frames:null;if(w){w.loop_counter=w.loop_count,m=[w.canvas_height],x=[w.canvas_width];for(var N=0;N<C.length&&C[N].blend!=0;N++);}var j=C[0],P=y.WebPDecodeRGBA(v,j.src_off,j.src_size,x,m);j.rgba=P,j.imgwidth=x[0],j.imgheight=m[0];for(var k=0;k<x[0]*m[0]*4;k++)g[k]=P[k];return this.width=x,this.height=m,this.data=g,this}(function(e){var t,r,n,a,i,o,l,c,d,u=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new c,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new o,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new o,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ee=z;Object.defineProperty(this,"pdf",{get:function(){return ee}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(X){W=!!X}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(X){ne=!!X}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(X){isNaN(X)||(se=X)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(X){isNaN(X)||(ce=X)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(X){var be;typeof X=="number"?be=[X,X,X,X]:((be=new Array(4))[0]=X[0],be[1]=X.length>=2?X[1]:be[0],be[2]=X.length>=3?X[2]:be[0],be[3]=X.length>=4?X[3]:be[1]),d.margin=be}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(X){ye=X}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(X){Ae=X}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(X){xe=X}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(X){X instanceof u&&(d=X)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(X){d.path=X}});var le=[];Object.defineProperty(this,"ctxStack",{get:function(){return le},set:function(X){le=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var be;be=A(X),this.ctx.fillStyle=be.style,this.ctx.isFillTransparent=be.a===0,this.ctx.fillOpacity=be.a,this.pdf.setFillColor(be.r,be.g,be.b,{a:be.a}),this.pdf.setTextColor(be.r,be.g,be.b,{a:be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var be=A(X);this.ctx.strokeStyle=be.style,this.ctx.isStrokeTransparent=be.a===0,this.ctx.strokeOpacity=be.a,be.a===0?this.pdf.setDrawColor(255,255,255):(be.a,this.pdf.setDrawColor(be.r,be.g,be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var Z=null,pe=null,oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return oe},set:function(X){Z=null,pe=null,oe=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var be;if(this.ctx.font=X,(be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var _e=be[1];be[2];var Le=be[3],ke=be[4];be[5];var Qe=be[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Ye==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var it=function(Fe){var Ee,De,ut=[],Nt=Fe.trim();if(Nt==="")return TS;if(Nt in sM)return[sM[Nt]];for(;Nt!=="";){switch(De=null,Ee=(Nt=iM(Nt)).charAt(0)){case'"':case"'":De=XSe(Nt.substring(1),Ee);break;default:De=ZSe(Nt)}if(De===null||(ut.push(De[0]),(Nt=iM(De[1]))!==""&&Nt.charAt(0)!==","))return TS;Nt=Nt.replace(/^,/,"")}return ut}(Qe);if(this.fontFaces){var Oe=function(Fe,Ee){var De=Fe.getFontList(),ut=JSON.stringify(De);if(Z===null||pe!==ut){var Nt=function(Pt){var ht=[];return Object.keys(Pt).forEach(function(Xe){Pt[Xe].forEach(function(Ze){var ct=null;switch(Ze){case"bold":ct={family:Xe,weight:"bold"};break;case"italic":ct={family:Xe,style:"italic"};break;case"bolditalic":ct={family:Xe,weight:"bold",style:"italic"};break;case"":case"normal":ct={family:Xe}}ct!==null&&(ct.ref={name:Xe,style:Ze},ht.push(ct))})}),ht}(De);Z=function(Pt){for(var ht={},Xe=0;Xe<Pt.length;++Xe){var Ze=IS(Pt[Xe]),ct=Ze.family,tt=Ze.stretch,ze=Ze.style,wt=Ze.weight;ht[ct]=ht[ct]||{},ht[ct][tt]=ht[ct][tt]||{},ht[ct][tt][ze]=ht[ct][tt][ze]||{},ht[ct][tt][ze][wt]=Ze}return ht}(Nt.concat(Ee)),pe=ut}return Z}(this.pdf,this.fontFaces),Ge=it.map(function(Fe){return{family:Fe,stretch:"normal",weight:Le,style:_e}}),mt=function(Fe,Ee,De){for(var ut=(De=De||{}).defaultFontFamily||"times",Nt=Object.assign({},YSe,De.genericFontFamilies||{}),Pt=null,ht=null,Xe=0;Xe<Ee.length;++Xe)if(Nt[(Pt=IS(Ee[Xe])).family]&&(Pt.family=Nt[Pt.family]),Fe.hasOwnProperty(Pt.family)){ht=Fe[Pt.family];break}if(!(ht=ht||Fe[ut]))throw new Error("Could not find a font-family for the rule '"+aM(Pt)+"' and default family '"+ut+"'.");if(ht=function(Ze,ct){if(ct[Ze])return ct[Ze];var tt=Fk[Ze],ze=tt<=Fk.normal?-1:1,wt=nM(ct,hX,tt,ze);if(!wt)throw new Error("Could not find a matching font-stretch value for "+Ze);return wt}(Pt.stretch,ht),ht=function(Ze,ct){if(ct[Ze])return ct[Ze];for(var tt=uX[Ze],ze=0;ze<tt.length;++ze)if(ct[tt[ze]])return ct[tt[ze]];throw new Error("Could not find a matching font-style for "+Ze)}(Pt.style,ht),!(ht=function(Ze,ct){if(ct[Ze])return ct[Ze];if(Ze===400&&ct[500])return ct[500];if(Ze===500&&ct[400])return ct[400];var tt=qSe[Ze],ze=nM(ct,fX,tt,Ze<400?-1:1);if(!ze)throw new Error("Could not find a matching font-weight for value "+Ze);return ze}(Pt.weight,ht)))throw new Error("Failed to resolve a font for the rule '"+aM(Pt)+"'.");return ht}(Oe,Ge);this.pdf.setFont(mt.ref.name,mt.ref.style)}else{var ft="";(Le==="bold"||parseInt(Le,10)>=700||_e==="bold")&&(ft="bold"),_e==="italic"&&(ft+="italic"),ft.length===0&&(ft="normal");for(var Ie="",Je={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ue=0;ue<it.length;ue++){if(this.pdf.internal.getFont(it[ue],ft,{noFallback:!0,disableWarning:!0})!==void 0){Ie=it[ue];break}if(ft==="bolditalic"&&this.pdf.internal.getFont(it[ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ie=it[ue],ft="bold";else if(this.pdf.internal.getFont(it[ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ie=it[ue],ft="normal";break}}if(Ie===""){for(var Se=0;Se<it.length;Se++)if(Je[it[Se]]){Ie=Je[it[Se]];break}}Ie=Ie===""?"Times":Ie,this.pdf.setFont(Ie,ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};f.prototype.setLineDash=function(z){this.lineDash=z},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(z,ee){if(isNaN(z)||isNaN(ee))throw Tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new o(z,ee));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(z,ee)},f.prototype.closePath=function(){var z=new o(0,0),ee=0;for(ee=this.path.length-1;ee!==-1;ee--)if(this.path[ee].type==="begin"&&yn(this.path[ee+1])==="object"&&typeof this.path[ee+1].x=="number"){z=new o(this.path[ee+1].x,this.path[ee+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(z.x,z.y)},f.prototype.lineTo=function(z,ee){if(isNaN(z)||isNaN(ee))throw Tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new o(z,ee));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(W.x,W.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(z,ee,W,ne){if(isNaN(W)||isNaN(ne)||isNaN(z)||isNaN(ee))throw Tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(W,ne)),ce=this.ctx.transform.applyToPoint(new o(z,ee));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},f.prototype.bezierCurveTo=function(z,ee,W,ne,se,ce){if(isNaN(se)||isNaN(ce)||isNaN(z)||isNaN(ee)||isNaN(W)||isNaN(ne))throw Tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new o(se,ce)),Ae=this.ctx.transform.applyToPoint(new o(z,ee)),xe=this.ctx.transform.applyToPoint(new o(W,ne));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:xe.x,y2:xe.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},f.prototype.arc=function(z,ee,W,ne,se,ce){if(isNaN(z)||isNaN(ee)||isNaN(W)||isNaN(ne)||isNaN(se))throw Tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new o(z,ee));z=ye.x,ee=ye.y;var Ae=this.ctx.transform.applyToPoint(new o(0,W)),xe=this.ctx.transform.applyToPoint(new o(0,0));W=Math.sqrt(Math.pow(Ae.x-xe.x,2)+Math.pow(Ae.y-xe.y,2))}Math.abs(se-ne)>=2*Math.PI&&(ne=0,se=2*Math.PI),this.path.push({type:"arc",x:z,y:ee,radius:W,startAngle:ne,endAngle:se,counterclockwise:ce})},f.prototype.arcTo=function(z,ee,W,ne,se){throw new Error("arcTo not implemented.")},f.prototype.rect=function(z,ee,W,ne){if(isNaN(z)||isNaN(ee)||isNaN(W)||isNaN(ne))throw Tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,ee),this.lineTo(z+W,ee),this.lineTo(z+W,ee+ne),this.lineTo(z,ee+ne),this.lineTo(z,ee),this.lineTo(z+W,ee),this.lineTo(z,ee)},f.prototype.fillRect=function(z,ee,W,ne){if(isNaN(z)||isNaN(ee)||isNaN(W)||isNaN(ne))throw Tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,ee,W,ne),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},f.prototype.strokeRect=function(z,ee,W,ne){if(isNaN(z)||isNaN(ee)||isNaN(W)||isNaN(ne))throw Tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(z,ee,W,ne),this.stroke())},f.prototype.clearRect=function(z,ee,W,ne){if(isNaN(z)||isNaN(ee)||isNaN(W)||isNaN(ne))throw Tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,ee,W,ne))},f.prototype.save=function(z){z=typeof z!="boolean"||z;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(ee),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},f.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(ee),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(z){var ee,W,ne,se;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))ee=0,W=0,ne=0,se=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(ce!==null)ee=parseInt(ce[1]),W=parseInt(ce[2]),ne=parseInt(ce[3]),se=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)ee=parseInt(ce[1]),W=parseInt(ce[2]),ne=parseInt(ce[3]),se=parseFloat(ce[4]);else{if(se=1,typeof z=="string"&&z.charAt(0)!=="#"){var ye=new sX(z);z=ye.ok?ye.toHex():"#000000"}z.length===4?(ee=z.substring(1,2),ee+=ee,W=z.substring(2,3),W+=W,ne=z.substring(3,4),ne+=ne):(ee=z.substring(1,3),W=z.substring(3,5),ne=z.substring(5,7)),ee=parseInt(ee,16),W=parseInt(W,16),ne=parseInt(ne,16)}}return{r:ee,g:W,b:ne,a:se,style:z}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(z,ee,W,ne){if(isNaN(ee)||isNaN(W)||typeof z!="string")throw Tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!m.call(this)){var se=V(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;F.call(this,{text:z,x:ee,y:W,scale:ce,angle:se,align:this.textAlign,maxWidth:ne})}},f.prototype.strokeText=function(z,ee,W,ne){if(isNaN(ee)||isNaN(W)||typeof z!="string")throw Tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ne=isNaN(ne)?void 0:ne;var se=V(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;F.call(this,{text:z,x:ee,y:W,scale:ce,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ne})}},f.prototype.measureText=function(z){if(typeof z!="string")throw Tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ee=this.pdf,W=this.pdf.internal.scaleFactor,ne=ee.internal.getFontSize(),se=ee.getStringUnitWidth(z)*ne/ee.internal.scaleFactor;return new function(ce){var ye=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:se*=Math.round(96*W/72*1e4)/1e4})},f.prototype.scale=function(z,ee){if(isNaN(z)||isNaN(ee))throw Tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(z,0,0,ee,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.rotate=function(z){if(isNaN(z))throw Tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ee=new c(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},f.prototype.translate=function(z,ee){if(isNaN(z)||isNaN(ee))throw Tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,z,ee);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.transform=function(z,ee,W,ne,se,ce){if(isNaN(z)||isNaN(ee)||isNaN(W)||isNaN(ne)||isNaN(se)||isNaN(ce))throw Tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(z,ee,W,ne,se,ce);this.ctx.transform=this.ctx.transform.multiply(ye)},f.prototype.setTransform=function(z,ee,W,ne,se,ce){z=isNaN(z)?1:z,ee=isNaN(ee)?0:ee,W=isNaN(W)?0:W,ne=isNaN(ne)?1:ne,se=isNaN(se)?0:se,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(z,ee,W,ne,se,ce)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(z,ee,W,ne,se,ce,ye,Ae,xe){var le=this.pdf.getImageProperties(z),Z=1,pe=1,oe=1,X=1;ne!==void 0&&Ae!==void 0&&(oe=Ae/ne,X=xe/se,Z=le.width/ne*Ae/ne,pe=le.height/se*xe/se),ce===void 0&&(ce=ee,ye=W,ee=0,W=0),ne!==void 0&&Ae===void 0&&(Ae=ne,xe=se),ne===void 0&&Ae===void 0&&(Ae=le.width,xe=le.height);var be=this.ctx.transform.decompose(),_e=V(be.rotate.shx),Le=new c,ke=(Le=(Le=(Le=Le.multiply(be.translate)).multiply(be.skew)).multiply(be.scale)).applyToRectangle(new l(ce-ee*oe,ye-W*X,ne*Z,se*pe));if(this.autoPaging){for(var Qe,Ye=y.call(this,ke),it=[],Oe=0;Oe<Ye.length;Oe+=1)it.indexOf(Ye[Oe])===-1&&it.push(Ye[Oe]);w(it);for(var Ge=it[0],mt=it[it.length-1],ft=Ge;ft<mt+1;ft++){this.pdf.setPage(ft);var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=ft===1?this.posY+this.margin[0]:this.margin[0],ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=ft===1?0:ue+(ft-2)*Se;if(this.ctx.clip_path.length!==0){var Ee=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Qe,this.posX+this.margin[3],-Fe+Je+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Ee}var De=JSON.parse(JSON.stringify(ke));De=b([De],this.posX+this.margin[3],-Fe+Je+this.ctx.prevPageLastElemOffset)[0];var ut=(ft>Ge||ft<mt)&&g.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Se,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",De.x,De.y,De.w,De.h,null,null,_e),ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(z,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,_e)};var y=function(z,ee,W){var ne=[];ee=ee||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":ne.push(Math.floor((z.y+se)/W)+1);break;case"arc":ne.push(Math.floor((z.y+se-z.radius)/W)+1),ne.push(Math.floor((z.y+se+z.radius)/W)+1);break;case"qct":var ce=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);ne.push(Math.floor((ce.y+se)/W)+1),ne.push(Math.floor((ce.y+ce.h+se)/W)+1);break;case"bct":var ye=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);ne.push(Math.floor((ye.y+se)/W)+1),ne.push(Math.floor((ye.y+ye.h+se)/W)+1);break;case"rect":ne.push(Math.floor((z.y+se)/W)+1),ne.push(Math.floor((z.y+z.h+se)/W)+1)}for(var Ae=0;Ae<ne.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ae];)v.call(this);return ne},v=function(){var z=this.fillStyle,ee=this.strokeStyle,W=this.font,ne=this.lineCap,se=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=ee,this.font=W,this.lineCap=ne,this.lineWidth=se,this.lineJoin=ce},b=function(z,ee,W){for(var ne=0;ne<z.length;ne++)switch(z[ne].type){case"bct":z[ne].x2+=ee,z[ne].y2+=W;case"qct":z[ne].x1+=ee,z[ne].y1+=W;default:z[ne].x+=ee,z[ne].y+=W}return z},w=function(z){return z.sort(function(ee,W){return ee-W})},C=function(z,ee){var W=this.fillStyle,ne=this.strokeStyle,se=this.lineCap,ce=this.lineWidth,ye=Math.abs(ce*this.ctx.transform.scaleX),Ae=this.lineJoin;if(this.autoPaging){for(var xe,le,Z=JSON.parse(JSON.stringify(this.path)),pe=JSON.parse(JSON.stringify(this.path)),oe=[],X=0;X<pe.length;X++)if(pe[X].x!==void 0)for(var be=y.call(this,pe[X]),_e=0;_e<be.length;_e+=1)oe.indexOf(be[_e])===-1&&oe.push(be[_e]);for(var Le=0;Le<oe.length;Le++)for(;this.pdf.internal.getNumberOfPages()<oe[Le];)v.call(this);w(oe);for(var ke=oe[0],Qe=oe[oe.length-1],Ye=ke;Ye<Qe+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=W,this.strokeStyle=ne,this.lineCap=se,this.lineWidth=ye,this.lineJoin=Ae;var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=Ye===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Ye===1?0:Ge+(Ye-2)*mt;if(this.ctx.clip_path.length!==0){var Ie=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(xe,this.posX+this.margin[3],-ft+Oe+this.ctx.prevPageLastElemOffset),N.call(this,z,!0),this.path=Ie}if(le=JSON.parse(JSON.stringify(Z)),this.path=b(le,this.posX+this.margin[3],-ft+Oe+this.ctx.prevPageLastElemOffset),ee===!1||Ye===0){var Je=(Ye>ke||Ye<Qe)&&g.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,mt,null).clip().discardPath()),N.call(this,z,ee),Je&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}this.path=Z}else this.lineWidth=ye,N.call(this,z,ee),this.lineWidth=ce},N=function(z,ee){if((z!=="stroke"||ee||!x.call(this))&&(z==="stroke"||ee||!m.call(this))){for(var W,ne,se=[],ce=this.path,ye=0;ye<ce.length;ye++){var Ae=ce[ye];switch(Ae.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Ae,deltas:[],abs:[]});break;case"lt":var xe=se.length;if(ce[ye-1]&&!isNaN(ce[ye-1].x)&&(W=[Ae.x-ce[ye-1].x,Ae.y-ce[ye-1].y],xe>0)){for(;xe>=0;xe--)if(se[xe-1].close!==!0&&se[xe-1].begin!==!0){se[xe-1].deltas.push(W),se[xe-1].abs.push(Ae);break}}break;case"bct":W=[Ae.x1-ce[ye-1].x,Ae.y1-ce[ye-1].y,Ae.x2-ce[ye-1].x,Ae.y2-ce[ye-1].y,Ae.x-ce[ye-1].x,Ae.y-ce[ye-1].y],se[se.length-1].deltas.push(W);break;case"qct":var le=ce[ye-1].x+2/3*(Ae.x1-ce[ye-1].x),Z=ce[ye-1].y+2/3*(Ae.y1-ce[ye-1].y),pe=Ae.x+2/3*(Ae.x1-Ae.x),oe=Ae.y+2/3*(Ae.y1-Ae.y),X=Ae.x,be=Ae.y;W=[le-ce[ye-1].x,Z-ce[ye-1].y,pe-ce[ye-1].x,oe-ce[ye-1].y,X-ce[ye-1].x,be-ce[ye-1].y],se[se.length-1].deltas.push(W);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Ae)}}ne=ee?null:z==="stroke"?"stroke":"fill";for(var _e=!1,Le=0;Le<se.length;Le++)if(se[Le].arc)for(var ke=se[Le].abs,Qe=0;Qe<ke.length;Qe++){var Ye=ke[Qe];Ye.type==="arc"?k.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,ee,!_e):M.call(this,Ye.x,Ye.y),_e=!0}else if(se[Le].close===!0)this.pdf.internal.out("h"),_e=!1;else if(se[Le].begin!==!0){var it=se[Le].start.x,Oe=se[Le].start.y;R.call(this,se[Le].deltas,it,Oe),_e=!0}ne&&T.call(this,ne),ee&&O.call(this)}},j=function(z){var ee=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=ee*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-W;case"top":return z+ee-W;case"hanging":return z+ee-2*W;case"middle":return z+ee/2-W;default:return z}},P=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(ee,W){this.colorStops.push([ee,W])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(z,ee,W,ne,se,ce,ye,Ae,xe){for(var le=G.call(this,W,ne,se,ce),Z=0;Z<le.length;Z++){var pe=le[Z];Z===0&&(xe?B.call(this,pe.x1+z,pe.y1+ee):M.call(this,pe.x1+z,pe.y1+ee)),H.call(this,z,ee,pe.x2,pe.y2,pe.x3,pe.y3,pe.x4,pe.y4)}Ae?O.call(this):T.call(this,ye)},T=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(z,ee){this.pdf.internal.out(r(z)+" "+n(ee)+" m")},F=function(z){var ee;switch(z.align){case"right":case"end":ee="right";break;case"center":ee="center";break;default:ee="left"}var W,ne,se,ce=this.pdf.getTextDimensions(z.text),ye=j.call(this,z.y),Ae=P.call(this,ye)-ce.h,xe=this.ctx.transform.applyToPoint(new o(z.x,ye));if(this.autoPaging){var le=this.ctx.transform.decompose(),Z=new c;Z=(Z=(Z=Z.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var pe=this.ctx.transform.applyToRectangle(new l(z.x,ye,ce.w,ce.h)),oe=Z.applyToRectangle(new l(z.x,Ae,ce.w,ce.h)),X=y.call(this,oe),be=[],_e=0;_e<X.length;_e+=1)be.indexOf(X[_e])===-1&&be.push(X[_e]);w(be);for(var Le=be[0],ke=be[be.length-1],Qe=Le;Qe<ke+1;Qe++){this.pdf.setPage(Qe);var Ye=Qe===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],Ge=Oe-this.margin[0],mt=this.pdf.internal.pageSize.width-this.margin[1],ft=mt-this.margin[3],Ie=Qe===1?0:it+(Qe-2)*Ge;if(this.ctx.clip_path.length!==0){var Je=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(W,this.posX+this.margin[3],-1*Ie+Ye),N.call(this,"fill",!0),this.path=Je}var ue=b([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-Ie+Ye+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*z.scale),se=this.lineWidth,this.lineWidth=se*z.scale);var Se=this.autoPaging!=="text";if(Se||ue.y+ue.h<=Oe){if(Se||ue.y>=Ye&&ue.x<=mt){var Fe=Se?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||mt-ue.x)[0],Ee=b([JSON.parse(JSON.stringify(pe))],this.posX+this.margin[3],-Ie+Ye+this.ctx.prevPageLastElemOffset)[0],De=Se&&(Qe>Le||Qe<ke)&&g.call(this);De&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Ge,null).clip().discardPath()),this.pdf.text(Fe,Ee.x,Ee.y,{angle:z.angle,align:ee,renderingMode:z.renderingMode}),De&&this.pdf.restoreGraphicsState()}}else ue.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-ue.y);z.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=se)}}else z.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*z.scale),se=this.lineWidth,this.lineWidth=se*z.scale),this.pdf.text(z.text,xe.x+this.posX,xe.y+this.posY,{angle:z.angle,align:ee,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=se)},M=function(z,ee,W,ne){W=W||0,ne=ne||0,this.pdf.internal.out(r(z+W)+" "+n(ee+ne)+" l")},R=function(z,ee,W){return this.pdf.lines(z,ee,W,null,null)},H=function(z,ee,W,ne,se,ce,ye,Ae){this.pdf.internal.out([t(a(W+z)),t(i(ne+ee)),t(a(se+z)),t(i(ce+ee)),t(a(ye+z)),t(i(Ae+ee)),"c"].join(" "))},G=function(z,ee,W,ne){for(var se=2*Math.PI,ce=Math.PI/2;ee>W;)ee-=se;var ye=Math.abs(W-ee);ye<se&&ne&&(ye=se-ye);for(var Ae=[],xe=ne?-1:1,le=ee;ye>1e-5;){var Z=le+xe*Math.min(ye,ce);Ae.push($.call(this,z,le,Z)),ye-=Math.abs(Z-le),le=Z}return Ae},$=function(z,ee,W){var ne=(W-ee)/2,se=z*Math.cos(ne),ce=z*Math.sin(ne),ye=se,Ae=-ce,xe=ye*ye+Ae*Ae,le=xe+ye*se+Ae*ce,Z=4/3*(Math.sqrt(2*xe*le)-le)/(ye*ce-Ae*se),pe=ye-Z*Ae,oe=Ae+Z*ye,X=pe,be=-oe,_e=ne+ee,Le=Math.cos(_e),ke=Math.sin(_e);return{x1:z*Math.cos(ee),y1:z*Math.sin(ee),x2:pe*Le-oe*ke,y2:pe*ke+oe*Le,x3:X*Le-be*ke,y3:X*ke+be*Le,x4:z*Math.cos(W),y4:z*Math.sin(W)}},V=function(z){return 180*z/Math.PI},te=function(z,ee,W,ne,se,ce){var ye=z+.5*(W-z),Ae=ee+.5*(ne-ee),xe=se+.5*(W-se),le=ce+.5*(ne-ce),Z=Math.min(z,se,ye,xe),pe=Math.max(z,se,ye,xe),oe=Math.min(ee,ce,Ae,le),X=Math.max(ee,ce,Ae,le);return new l(Z,oe,pe-Z,X-oe)},re=function(z,ee,W,ne,se,ce,ye,Ae){var xe,le,Z,pe,oe,X,be,_e,Le,ke,Qe,Ye,it,Oe,Ge=W-z,mt=ne-ee,ft=se-W,Ie=ce-ne,Je=ye-se,ue=Ae-ce;for(le=0;le<41;le++)Le=(be=(Z=z+(xe=le/40)*Ge)+xe*((oe=W+xe*ft)-Z))+xe*(oe+xe*(se+xe*Je-oe)-be),ke=(_e=(pe=ee+xe*mt)+xe*((X=ne+xe*Ie)-pe))+xe*(X+xe*(ce+xe*ue-X)-_e),le==0?(Qe=Le,Ye=ke,it=Le,Oe=ke):(Qe=Math.min(Qe,Le),Ye=Math.min(Ye,ke),it=Math.max(it,Le),Oe=Math.max(Oe,ke));return new l(Math.round(Qe),Math.round(Ye),Math.round(it-Qe),Math.round(Oe-Ye))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,ee,W=(z=this.ctx.lineDash,ee=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:ee}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Xt.API),function(e){var t=function(o){var l,c,d,u,f,A,m,x,g,y;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(f=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(A=(f=((f=((f=((f=(f-(y=f%85))/85)-(g=f%85))/85)-(x=f%85))/85)-(m=f%85))/85)%85,c.push(A+33,m+33,x+33,g+33,y+33)):c.push(122);return function(v,b){for(var w=b;w>0;w--)v.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,f,A=String,m="length",x=255,g="charCodeAt",y="slice",v="replace";for(o[y](-2),o=o[y](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),d=[],u=0,f=(o+=l="uuuuu"[y](o[m]%5||5))[m];f>u;u+=5)c=52200625*(o[g](u)-33)+614125*(o[g](u+1)-33)+7225*(o[g](u+2)-33)+85*(o[g](u+3)-33)+(o[g](u+4)-33),d.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(b,w){for(var C=w;C>0;C--)b.pop()}(d,l[m]),A.fromCharCode.apply(A,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=kk(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(Xt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var f=new XMLHttpRequest,A=0,m=function(x){var g=x.length,y=[],v=String.fromCharCode;for(A=0;A<g;A+=1)y.push(v(255&x.charCodeAt(A)));return y.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(m(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return m(f.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Xt.API),function(e){function t(){return(ur.html2canvas?Promise.resolve(ur.html2canvas):AS(()=>Promise.resolve().then(()=>S_e),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(ur.DOMPurify?Promise.resolve(ur.DOMPurify):AS(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=yn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(l(f,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var x=u[m],g=x.src.find(function(y){return y.format==="truetype"});g&&d.addFont(g.url,x.ref.name,x.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,d.context2d.save(!0),c(this.prop.container,A)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||Xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,f){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(A){return d.updateProgress(null,u),A}).then(u,f).then(function(A){return d.updateProgress(1),A})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),A=d.call(f,l,c);return o.convert(A,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Xt.getPageSize=function(l,c,d){if(yn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var f,A=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var x,g=0,y=0;if(m.hasOwnProperty(A))g=m[A][1]/f,y=m[A][0]/f;else try{g=d[1],y=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",y>g&&(x=y,y=g,g=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>y&&(x=y,y=g,g=x)}return{width:y,height:g,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(IS):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(Xt.API),Xt.API.addJS=function(e){return lM=e,this.internal.events.subscribe("postPutResources",function(){Uw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Uw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),oM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Uw!==void 0&&oM!==void 0&&this.internal.out("/Names <</JavaScript "+Uw+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var f=r.internal.newObject();u.push(f);var A=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Xt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(f){for(var A,m=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,g={width:0,height:0,numcomponents:1},y=4;y<x;y+=2){if(y+=m,t.indexOf(f.charCodeAt(y+1))!==-1){A=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),g={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:A,numcomponents:f.charCodeAt(y+9)};break}m=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(Xt.API),Xt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=LSe(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;a=d&&c===1?function(k){for(var T=k.width,O=k.height,B=k.data,F=k.palette,M=k.depth,R=!1,H=[],G=[],$=void 0,V=!1,te=0,re=0;re<F.length;re++){var K=hD(F[re],4),z=K[0],ee=K[1],W=K[2],ne=K[3];H.push(z,ee,W),ne!=null&&(ne===0?(te++,G.length<1&&G.push(re)):ne<255&&(V=!0))}if(V||te>1){R=!0,G=void 0;var se=T*O;$=new Uint8Array(se);for(var ce=new DataView(B.buffer),ye=0;ye<se;ye++){var Ae=OS(ce,ye,M),xe=hD(F[Ae],4)[3];$[ye]=xe}}else te===0&&(G=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:B,alphaBytes:$,needSMask:R,palette:H,mask:G}}(i):c===2||c===4?function(k){for(var T=k.data,O=k.width,B=k.height,F=k.channels,M=k.depth,R=F===2?"DeviceGray":"DeviceRGB",H=F-1,G=O*B,$=H,V=G*$,te=1*G,re=Math.ceil(V*M/8),K=Math.ceil(te*M/8),z=new Uint8Array(re),ee=new Uint8Array(K),W=new DataView(T.buffer),ne=new DataView(z.buffer),se=new DataView(ee.buffer),ce=!1,ye=0;ye<G;ye++){for(var Ae=ye*F,xe=0;xe<$;xe++)gM(ne,OS(W,Ae+xe,M),ye*$+xe,M);var le=OS(W,Ae+$,M);le<(1<<M)-1&&(ce=!0),gM(se,le,1*ye,M)}return{colorSpace:R,colorsPerPixel:H,sMaskBitsPerComponent:ce?M:void 0,colorBytes:z,alphaBytes:ee,needSMask:ce}}(i):function(k){var T=k.data,O=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(B){for(var F=B.length,M=new Uint8Array(2*F),R=new DataView(M.buffer,M.byteOffset,M.byteLength),H=0;H<F;H++)R.setUint16(2*H,B[H],!1);return M}(T):T,needSMask:!1}}(i);var f,A,m,x=a,g=x.colorSpace,y=x.colorsPerPixel,v=x.sMaskBitsPerComponent,b=x.colorBytes,w=x.alphaBytes,C=x.needSMask,N=x.palette,j=x.mask,P=null;return n!==Xt.API.image_compression.NONE&&typeof kk=="function"?(P=function(k){var T;switch(k){case Xt.API.image_compression.FAST:T=11;break;case Xt.API.image_compression.MEDIUM:T=13;break;case Xt.API.image_compression.SLOW:T=14;break;default:T=12}return T}(n),f=this.decode.FLATE_DECODE,A="/Predictor ".concat(P," /Colors ").concat(y," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=hM(b,Math.ceil(o*y*u/8),y,u,n),C&&(m=hM(w,Math.ceil(o*v/8),1,v,n))):(f=void 0,A=void 0,e=b,C&&(m=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:e,index:t,filter:f,decodeParameters:A,transparency:j,palette:N,sMask:m,predictor:P,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,a){var i=new r4e(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new LS(100).encode(d,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(Xt.API),Kl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Kl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Tn.log("bit decode error:"+r)}},Kl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Kl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Kl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Kl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},Kl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Kl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Kl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Kl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Kl(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new LS(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}(Xt.API),yM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new yM(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new LS(100).encode(c,100);return e.processJPEG.call(this,d,r,n,a)}}(Xt.API),Xt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],f=n[d+1],A=n[d+2],m=n[d+3];i[l++]=u,i[l++]=f,i[l++]=A,o[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Xt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Hm=Xt.API,Dw=Hm.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=t.doKerning!==!1,A=0,m=e.length,x=0,g=l[0]||c,y=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(A=f&&yn(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/u:0,y.push((l[n]||g)/c+A)),x=n;return y},cM=Hm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Hm.processArabic&&(e=Hm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Dw.apply(this,arguments).reduce(function(i,o){return i+o},0)},dM=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},uM=function(e,t,r){r||(r={});var n,a,i,o,l,c,d,u=[],f=[u],A=r.textIndent||0,m=0,x=0,g=e.split(" "),y=Dw.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var v=Array(c).join(" "),b=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?b=b.concat(C.map(function(N,j){return(j&&N.length?`
`:"")+N})):b.push(C[0])}),g=b,c=cM.apply(this,[v,r])}for(i=0,o=g.length;i<o;i++){var w=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),w=1),A+m+(x=(a=Dw.apply(this,[n,r])).reduce(function(C,N){return C+N},0))>t||w){if(x>t){for(l=dM.apply(this,[n,a,t-(A+m),t]),u.push(l.shift()),u=[l.pop()];l.length;)f.push([l.shift()]);x=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(C,N){return C+N},0)}else u=[n];f.push(u),A=x+c,m=y}else u.push(n),A+=m+x,m=y}return d=c?function(C,N){return(N?v:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(d)},Hm.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),A="Unicode";return f.metadata[A]?{widths:f.metadata[A].widths||{0:1},kerning:f.metadata[A].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(uM.apply(this,[n[l],o,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var o=function(A){return"0x"+parseInt(A,10).toString(16)},l=e.__fontmetrics__.compress=function(A){var m,x,g,y,v=["{"];for(var b in A){if(m=A[b],isNaN(parseInt(b,10))?x="'"+b+"'":(b=parseInt(b,10),x=(x=o(b).slice(2)).slice(0,-1)+a[x.slice(-1)]),typeof m=="number")m<0?(g=o(m).slice(3),y="-"):(g=o(m).slice(2),y=""),g=y+g.slice(0,-1)+a[g.slice(-1)];else{if(yn(m)!=="object")throw new Error("Don't know what to do with value type "+yn(m)+".");g=l(m)}v.push(x+g)}return v.push("}"),v.join("")},c=e.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,x,g,y,v={},b=1,w=v,C=[],N="",j="",P=A.length-1,k=1;k<P;k+=1)(y=A[k])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(y):y=="{"?(C.push([w,g]),w={},g=void 0):y=="}"?((x=C.pop())[0][x[1]]=w,g=void 0,w=x[0]):y=="-"?b=-1:g===void 0?n.hasOwnProperty(y)?(N+=n[y],g=parseInt(N,16)*b,b=1,N=""):N+=y:n.hasOwnProperty(y)?(j+=n[y],w[g]=parseInt(j,16)*b,b=1,g=void 0,j=""):j+=y;return v},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(A){var m=A.font,x=f.Unicode[m.postScriptName];x&&(m.metadata.Unicode={},m.metadata.Unicode.widths=x.widths,m.metadata.Unicode.kerning=x.kerning);var g=u.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])}(Xt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(D1(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Xt),Xt.API.addSvgAsImage=function(e,t,r,n,a,i,o,l){if(isNaN(t)||isNaN(r))throw Tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(ur.canvg?Promise.resolve(ur.canvg):AS(()=>import("./index.es-DwY37HGb.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(u)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},Xt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Xt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,f=0;function A(x,g){var y,v=!1;for(y=0;y<x.length;y+=1)x[y]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(f=0;f<m;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(yn(e)==="object"){for(a in e)if(i=e[a],A(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&A(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?g.push("/"+x+" /"+r[x].value):g.push("/"+x+" "+r[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Xt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,A=i.length;f<A;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(i){var o,l,c,d,u,f,A;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,A=(l=Object.keys(i).sort(function(m,x){return m-x})).length;f<A;f++)o=l[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,A=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<A.length;x++)m+=String.fromCharCode(A[x]);var g=d();u({data:m,addLength1:!0,objectId:g}),c("endobj");var y=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var v=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Jm(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Jm(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+Jm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,A="",m=0;m<f.length;m++)A+=String.fromCharCode(f[m]);var x=d();u({data:A,addLength1:!0,objectId:x}),c("endobj");var g=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var y=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Jm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Jm(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},f=i.mutex||{},A=f.pdfEscape,m=f.activeFontKey,x=f.fonts,g=m,y="",v=0,b="",w=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:f};for(b=l,g=m,Array.isArray(l)&&(b=l[0]),v=0;v<b.length;v+=1)x[g].metadata.hasOwnProperty("cmap")&&(o=x[g].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),o||b[v].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?y+=b[v]:y+="";var C="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?C=A(y,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(C=r(y,x[g])),f.isHex=!0,{text:C,x:c,y:d,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(Xt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Xt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,d,u,f=t,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var C=function(B){var F=B.charCodeAt(),M=F>>8,R=g[M];return R!==void 0?f[256*R+(255&F)]:M===252||M===253?"AL":v.test(M)?"L":M===8?"R":"N"},N=function(B){for(var F,M=0;M<B.length;M++){if((F=C(B.charAt(M)))==="L")return!1;if(F==="R")return!0}return!1},j=function(B,F,M,R){var H,G,$,V,te=F[R];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(te="AN");break;case"AL":b=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":R<1||R+1>=F.length||(H=M[R-1])!=="EN"&&H!=="AN"||(G=F[R+1])!=="EN"&&G!=="AN"?te="N":b&&(G="AN"),te=G===H?G:"N";break;case"ES":te=(H=R>0?M[R-1]:"B")==="EN"&&R+1<F.length&&F[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&M[R-1]==="EN"){te="EN";break}if(b){te="N";break}for($=R+1,V=F.length;$<V&&F[$]==="ET";)$++;te=$<V&&F[$]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(V=F.length,$=R+1;$<V&&F[$]==="NSM";)$++;if($<V){var re=B[R],K=re>=1425&&re<=2303||re===64286;if(H=F[$],K&&(H==="R"||H==="AL")){te="R";break}}}te=R<1||(H=F[R-1])==="B"?"N":M[R-1];break;case"B":b=!1,a=!0,te=w;break;case"S":i=!0,te="N"}return te},P=function(B,F,M){var R=B.split("");return M&&k(R,M,{hiLevel:w}),R.reverse(),F&&F.reverse(),R.join("")},k=function(B,F,M){var R,H,G,$,V,te=-1,re=B.length,K=0,z=[],ee=w?m:A,W=[];for(b=!1,a=!1,i=!1,H=0;H<re;H++)W[H]=C(B[H]);for(G=0;G<re;G++){if(V=K,z[G]=j(B,W,z,G),R=240&(K=ee[V][x[z[G]]]),K&=15,F[G]=$=ee[K][5],R>0)if(R===16){for(H=te;H<G;H++)F[H]=1;te=-1}else te=-1;if(ee[K][6])te===-1&&(te=G);else if(te>-1){for(H=te;H<G;H++)F[H]=$;te=-1}W[G]==="B"&&(F[G]=0),M.hiLevel|=$}i&&function(ne,se,ce){for(var ye=0;ye<ce;ye++)if(ne[ye]==="S"){se[ye]=w;for(var Ae=ye-1;Ae>=0&&ne[Ae]==="WS";Ae--)se[Ae]=w}}(W,F,re)},T=function(B,F,M,R,H){if(!(H.hiLevel<B)){if(B===1&&w===1&&!a)return F.reverse(),void(M&&M.reverse());for(var G,$,V,te,re=F.length,K=0;K<re;){if(R[K]>=B){for(V=K+1;V<re&&R[V]>=B;)V++;for(te=K,$=V-1;te<$;te++,$--)G=F[te],F[te]=F[$],F[$]=G,M&&(G=M[te],M[te]=M[$],M[$]=G);K=V}K++}}},O=function(B,F,M){var R=B.split(""),H={hiLevel:w};return M||(M=[]),k(R,M,H),function(G,$,V){if(V.hiLevel!==0&&u)for(var te,re=0;re<G.length;re++)$[re]===1&&(te=y.indexOf(G[re]))>=0&&(G[re]=y[te+1])}(R,M,H),T(2,R,F,M,H),T(1,R,F,M,H),R.join("")};return this.__bidiEngine__.doBidiReorder=function(B,F,M){if(function(H,G){if(G)for(var $=0;$<H.length;$++)G[$]=$;l===void 0&&(l=N(H)),d===void 0&&(d=N(H))}(B,F),o||!c||d)if(o&&c&&l^d)w=l?1:0,B=P(B,F,M);else if(!o&&c&&d)w=l?1:0,B=O(B,F,M),B=P(B,F);else if(!o||l||c||d){if(o&&!c&&l^d)B=P(B,F),l?(w=0,B=O(B,F,M)):(w=1,B=O(B,F,M),B=P(B,F));else if(o&&l&&!c&&d)w=1,B=O(B,F,M),B=P(B,F);else if(!o&&!c&&l^d){var R=u;l?(w=1,B=O(B,F,M),w=0,u=!1,B=O(B,F,M),u=R):(w=0,B=O(B,F,M),B=P(B,F),w=1,u=!1,B=O(B,F,M),u=R,B=P(B,F))}}else w=0,B=O(B,F,M);else w=l?1:0,B=O(B,F,M);return B},this.__bidiEngine__.setOptions=function(B){B&&(o=B.isInputVisual,c=B.isOutputVisual,l=B.isInputRtl,d=B.isOutputRtl,u=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Xt),Xt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new nf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new g4e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new n4e(this.contents),this.head=new a4e(this),this.name=new d4e(this),this.cmap=new mX(this),this.toUnicode={},this.hhea=new i4e(this),this.maxp=new u4e(this),this.hmtx=new h4e(this),this.post=new l4e(this),this.os2=new o4e(this),this.loca=new p4e(this),this.glyf=new f4e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Nc,nf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),n4e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,d,u,f,A,m,x,g;for(g in m=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),o=Math.floor(f/c),u=16*m-f,(a=new nf).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(o),a.writeShort(u),i=16*m,d=a.pos+i,l=null,x=[],r)for(A=r[g],a.writeString(g),a.writeInt(e(A)),a.writeInt(d),a.writeInt(A.length),x=x.concat(A),g==="head"&&(l=d),d+=A.length;d%4;)x.push(0),d++;return a.write(x),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=pX.call(r);r.length%4;)r.push(0);for(i=new nf(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),s4e={}.hasOwnProperty,bd=function(e,t){for(var r in t)s4e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Nc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var a4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bd(e,Nc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new nf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),vM=function(){function e(t,r){var n,a,i,o,l,c,d,u,f,A,m,x,g,y,v,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),A=m/2,t.pos+=6,i=function(){var C,N;for(N=[],c=C=0;0<=A?C<A:C>A;c=0<=A?++C:--C)N.push(t.readUInt16());return N}(),t.pos+=2,g=function(){var C,N;for(N=[],c=C=0;0<=A?C<A:C>A;c=0<=A?++C:--C)N.push(t.readUInt16());return N}(),d=function(){var C,N;for(N=[],c=C=0;0<=A?C<A:C>A;c=0<=A?++C:--C)N.push(t.readUInt16());return N}(),u=function(){var C,N;for(N=[],c=C=0;0<=A?C<A:C>A;c=0<=A?++C:--C)N.push(t.readUInt16());return N}(),a=(this.length-t.pos+this.offset)/2,l=function(){var C,N;for(N=[],c=C=0;0<=a?C<a:C>a;c=0<=a?++C:--C)N.push(t.readUInt16());return N}(),c=v=0,w=i.length;v<w;c=++v)for(y=i[c],n=b=x=g[c];x<=y?b<=y:b>=y;n=x<=y?++b:--b)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-x)-(A-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,l,c,d,u,f,A,m,x,g,y,v,b,w,C,N,j,P,k,T,O,B,F,M,R,H,G,$,V,te,re,K,z,ee,W,ne,se,ce,ye,Ae,xe,le,Z;switch(R=new nf,o=Object.keys(t).sort(function(pe,oe){return pe-oe}),r){case"macroman":for(g=0,y=function(){var pe=[];for(x=0;x<256;++x)pe.push(0);return pe}(),b={0:0},i={},H=0,te=o.length;H<te;H++)b[Ae=t[a=o[H]]]==null&&(b[Ae]=++g),i[a]={old:t[a],new:b[t[a]]},y[a]=b[t[a]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(y),{charMap:i,subtable:R.data,maxGlyphID:g+1};case"unicode":for(F=[],f=[],w=0,b={},n={},v=d=null,G=0,re=o.length;G<re;G++)b[N=t[a=o[G]]]==null&&(b[N]=++w),n[a]={old:N,new:b[N]},l=b[N]-a,v!=null&&l===d||(v&&f.push(v),F.push(a),d=l),v=a;for(v&&f.push(v),f.push(65535),F.push(65535),O=2*(T=F.length),k=2*Math.pow(Math.log(T)/Math.LN2,2),A=Math.log(k/2)/Math.LN2,P=2*T-k,c=[],j=[],m=[],x=$=0,K=F.length;$<K;x=++$){if(B=F[x],u=f[x],B===65535){c.push(0),j.push(0);break}if(B-(M=n[B].new)>=32768)for(c.push(0),j.push(2*(m.length+T-x)),a=V=B;B<=u?V<=u:V>=u;a=B<=u?++V:--V)m.push(n[a].new);else c.push(M-B),j.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*T+2*m.length),R.writeUInt16(0),R.writeUInt16(O),R.writeUInt16(k),R.writeUInt16(A),R.writeUInt16(P),ce=0,z=f.length;ce<z;ce++)a=f[ce],R.writeUInt16(a);for(R.writeUInt16(0),ye=0,ee=F.length;ye<ee;ye++)a=F[ye],R.writeUInt16(a);for(xe=0,W=c.length;xe<W;xe++)l=c[xe],R.writeUInt16(l);for(le=0,ne=j.length;le<ne;le++)C=j[le],R.writeUInt16(C);for(Z=0,se=m.length;Z<se;Z++)g=m[Z],R.writeUInt16(g);return{charMap:n,subtable:R.data,maxGlyphID:w+1}}},e}(),mX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bd(e,Nc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new vM(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=vM.encode(t,r),(a=new nf).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),i4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bd(e,Nc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),o4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bd(e,Nc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),l4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bd(e,Nc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),c4e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},d4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bd(e,Nc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,o,l,c,d,u,f,A;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=u=0,f=n.length;u<f;i=++u)a=n[i],t.pos=a.offset,d=t.readString(a.length),o=new c4e(d,a),c[A=a.nameID]==null&&(c[A]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),u4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bd(e,Nc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),h4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bd(e,Nc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)u.push(t.readInt16());return u}(),this.widths=(function(){var d,u,f,A;for(A=[],d=0,u=(f=this.metrics).length;d<u;d++)i=f[d],A.push(i.advance);return A}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),pX=[].slice,f4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bd(e,Nc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,o,l,c,d,u,f;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new nf(r.read(a))).readShort(),d=l.readShort(),f=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new m4e(l,d,f,c,u):new A4e(l,o,d,f,c,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=t[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),A4e=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),m4e=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new nf(pX.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),p4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return bd(e,Nc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<n.length;++o)if(n[o]=a,i<r.length&&r[i]==o){++i,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},e}(),g4e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,d,u,f,A,m,x,g,y,v;for(a in n=mX.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},v=n.charMap)m[(c=v[a]).old]=c.new;for(x in A=n.maxGlyphID,o)x in m||(m[x]=A++);return u=function(b){var w,C;for(w in C={},b)C[b[w]]=w;return C}(m),f=Object.keys(u).sort(function(b,w){return b-w}),g=function(){var b,w,C;for(C=[],b=0,w=f.length;b<w;b++)l=f[b],C.push(u[l]);return C}(),i=this.font.glyf.encode(o,g,m),d=this.font.loca.encode(i.offsets,g),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Xt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const x4e=()=>{var d,u,f,A;const{tenantData:e,loading:t}=om(),r=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(m||0),n=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",a=m=>{if(!m)return"N/A";if(typeof m=="string")return m;const{street:x,city:g,state:y,pincode:v,landmark:b}=m;return[x,b,g,y,v].filter(Boolean).join(", ")},i=async()=>{const m=document.getElementById("rental-agreement-content");if(m)try{const x=await _Y(m,{scale:2,useCORS:!0,logging:!1,windowWidth:m.scrollWidth,windowHeight:m.scrollHeight}),g=x.toDataURL("image/png"),y=new Xt("p","mm","a4"),v=y.internal.pageSize.getWidth(),b=x.height*v/x.width;y.addImage(g,"PNG",0,0,v,b),y.save(`Rental-Agreement-${(e==null?void 0:e.userName)||"Tenant"}.pdf`)}catch(x){console.error("Error generating PDF:",x),alert("Failed to generate agreement PDF. Please try again.")}},o=()=>{window.print()};if(t)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading agreement..."})]})})});if(!e)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx($t,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Agreement Found"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy agreement."})]})})});const{property:l,room:c}=e;return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(Is,{className:"w-10 h-10 mr-3"}),"Tenancy Agreement"]}),s.jsx("p",{className:"text-purple-100 text-lg",children:"Your rental agreement details"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:o,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors shadow-lg flex items-center gap-2",children:[s.jsx(zV,{className:"w-4 h-4"}),"Print"]}),s.jsxs("button",{onClick:i,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors shadow-lg flex items-center gap-2",children:[s.jsx(Jc,{className:"w-4 h-4"}),"Download"]})]})]})})]})}),s.jsxs(J.div,{id:"rental-agreement-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 p-8 border-b-4 border-purple-600",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"RENTAL AGREEMENT"}),s.jsxs("p",{className:"text-gray-600",children:["This agreement is made on ",n(e.actualCheckInDate)]})]})}),s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Parties to the Agreement"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-purple-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-2",children:"LANDLORD (Owner)"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:((d=e.owner)==null?void 0:d.name)||e.ownerName}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((u=e.owner)==null?void 0:u.email)||e.ownerEmail||"Email not available"}),s.jsx("p",{className:"text-sm text-gray-600",children:((f=e.owner)==null?void 0:f.phone)||e.ownerPhone||"Phone not available"})]}),s.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-indigo-700 font-medium mb-2",children:"TENANT"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.userName}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.userEmail}),s.jsx("p",{className:"text-sm text-gray-600",children:e.userPhone})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Pr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Property Details"]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Property Name"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(l==null?void 0:l.propertyName)||e.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",(c==null?void 0:c.roomNumber)||e.roomNumber]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Address"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:a(l==null?void 0:l.address)!=="N/A"?a(l==null?void 0:l.address):((A=e.propertySnapshot)==null?void 0:A.address)||"Address not available"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Type"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(c==null?void 0:c.roomType)||"Standard"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(ra,{className:"w-5 h-5 mr-2 text-purple-600"}),"Financial Terms"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-3xl font-bold text-green-900",children:r(e.monthlyRent)}),s.jsx("p",{className:"text-xs text-green-600 mt-2",children:"Payable on or before 5th of every month"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r(e.security_deposit||e.securityDeposit||(l==null?void 0:l.security_deposit))}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Refundable at end of tenancy"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Fr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Tenure Details"]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Check-in Date"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:n(e.actualCheckInDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Agreement Status"}),s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[s.jsx(At,{className:"w-4 h-4 mr-1"}),"Active"]})]})]})})]}),s.jsx("div",{className:"border-t-2 border-gray-200 pt-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium mb-4",children:"Landlord's Signature"}),s.jsx("div",{className:"border-b-2 border-gray-300 pb-4 mb-2",children:s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl text-indigo-900",style:{fontFamily:'"Great Vibes", cursive'},children:e.ownerName}),s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-green-600 font-semibold border border-green-200 px-2 py-0.5 rounded bg-green-50",children:"Digitally Signed"})]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Date: ",n(e.actualCheckInDate)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium mb-4",children:"Tenant's Signature"}),s.jsx("div",{className:"border-b-2 border-gray-300 pb-4 mb-2",children:s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl text-indigo-900",style:{fontFamily:'"Great Vibes", cursive'},children:e.userName}),s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-green-600 font-semibold border border-green-200 px-2 py-0.5 rounded bg-green-50",children:"Digitally Signed"})]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Date: ",n(e.actualCheckInDate)]})]})]})})]}),s.jsx("div",{className:"bg-gray-100 p-6 text-center border-t",children:s.jsx("p",{className:"text-sm text-gray-600",children:"This is a digitally generated agreement. For any queries, please contact the property owner."})})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-xl overflow-hidden p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(er,{className:"w-8 h-8 text-purple-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Terms & Conditions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(At,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant shall pay the monthly rent on or before the 5th of every month."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(At,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The security deposit will be refunded within 30 days of vacating the premises, subject to deductions for damages."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(At,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant must provide 30 days notice before vacating the property."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(At,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant is responsible for maintaining the property in good condition."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(At,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"Subletting is not permitted without prior written consent from the landlord."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(At,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The landlord reserves the right to inspect the property with 24 hours prior notice."})]})]})]})]})})})},y4e=()=>{var x,g;const{tenantData:e,loading:t}=om(),{toast:r}=no(),[n,a]=_.useState([]),[i,o]=_.useState(!0),l=y=>{y?window.location.href=`tel:${y}`:r({title:"Unavailable",description:"Phone number not available.",variant:"destructive"})},c=y=>{y?window.location.href=`sms:${y}`:r({title:"Unavailable",description:"Contact information not available.",variant:"destructive"})};_.useEffect(()=>{e&&(async()=>{var v;if(e!=null&&e.roomId)try{o(!0);const b=localStorage.getItem("authToken"),w=((v=e.roomId)==null?void 0:v._id)||e.roomId,N=(await qe.get(`/property/public/rooms/${w}/tenants`)).data.tenants||[],j=[],P=new Set,k=B=>B?typeof B=="string"?B:(B._id||B.id||B).toString():"",T=JSON.parse(localStorage.getItem("user")),O=(T==null?void 0:T.id)||(T==null?void 0:T._id)||(T==null?void 0:T.userId);N.forEach(B=>{const F=k(B.userId);F&&!P.has(F)&&F!==k(O)&&(P.add(F),j.push(B))}),a(j)}catch(b){console.error("Error fetching roommates:",b)}finally{o(!1)}})()},[e]);const d=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",u=y=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(y||0);if(t||i)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading roommates..."})]})})});if(!e)return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx($t,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy at the moment."})]})})});const{property:f,room:A}=e,m=(x=JSON.parse(localStorage.getItem("user")))==null?void 0:x.id;return s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(Wr,{className:"w-10 h-10 mr-3"}),"Your Roommates"]}),s.jsxs("p",{className:"text-indigo-100 text-lg",children:["People living in Room ",A==null?void 0:A.roomNumber]})]}),s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-indigo-100 text-sm",children:"Total Tenants"}),s.jsx("p",{className:"text-4xl font-bold",children:n.length})]})]})})]})}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Pr,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Room Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-indigo-700 font-medium mb-1",children:"Property"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(f==null?void 0:f.property_name)||(f==null?void 0:f.propertyName)||e.propertyName||"N/A"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Room Number"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",(A==null?void 0:A.roomNumber)||e.roomNumber||"N/A"]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Room Type"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(A==null?void 0:A.roomType)||(A==null?void 0:A.room_type)||"Standard"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("p",{className:"text-sm text-green-700 font-medium mb-1 flex items-center gap-1",children:[s.jsx(ra,{className:"w-3 h-3"})," Monthly Rent"]}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:u((A==null?void 0:A.rent)||e.monthlyRent)})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 md:col-span-2 lg:col-span-2",children:[s.jsxs("p",{className:"text-sm text-amber-700 font-medium mb-1 flex items-center gap-1",children:[s.jsx(xr,{className:"w-3 h-3"})," Address"]}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:f!=null&&f.address?typeof f.address=="object"?`${f.address.street||""}, ${f.address.city||""}, ${f.address.state||""} - ${f.address.pincode||""}`:f.address:((g=e.propertySnapshot)==null?void 0:g.address)||"Address not available"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((y,v)=>{var w,C;const b=y.userId===m;return s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+v*.1},className:`bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow ${b?"ring-2 ring-indigo-500":""}`,children:s.jsxs("div",{className:`p-6 ${b?"bg-gradient-to-r from-indigo-50 to-purple-50":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.profilePicture||typeof y.userId=="object"&&((w=y.userId)!=null&&w.profilePicture)?s.jsx("img",{src:y.profilePicture||((C=y.userId)==null?void 0:C.profilePicture),alt:y.userName,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-sm"}):s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx(cr,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[b&&s.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-xs font-bold rounded-full shadow-sm",children:"YOU"}),y.status==="active"&&s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full flex items-center gap-1",children:[s.jsx(Vue,{className:"w-3 h-3"}),"Active"]})]})]}),s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2 truncate",children:[y.userName," ",b&&s.jsx("span",{className:"text-indigo-600 text-sm font-semibold",children:"(You)"})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(nn,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:y.userEmail})]}),y.userPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(bn,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),s.jsx("span",{children:y.userPhone})]})]}),!b&&s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs("button",{onClick:()=>l(y.userPhone),className:"flex-1 bg-indigo-50 text-indigo-600 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-indigo-100 transition-colors border border-indigo-100",children:[s.jsx(bn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-semibold",children:"Call"})]}),s.jsxs("button",{onClick:()=>c(y.userPhone),className:"flex-1 bg-purple-50 text-purple-600 py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-purple-100 transition-colors border border-purple-100",children:[s.jsx(sg,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-semibold",children:"Message"})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-50 flex items-center justify-center",children:s.jsx(Fr,{className:"w-4 h-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-bold",children:"Checked in"}),s.jsx("p",{className:"font-semibold text-gray-900",children:d(y.actualCheckInDate)})]})]})})]})},y._id)})}),n.length===0&&s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(Wr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No roommates found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"You might be the only tenant in this room"})]}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(er,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Privacy Notice"}),s.jsx("p",{className:"text-sm text-gray-700",children:"Contact information is shared only with tenants residing in the same room. Please respect each other's privacy and maintain a friendly environment."})]})]})})]})})})},v4e=()=>{const{tenantData:e,loading:t,error:r}=om(),{toast:n}=no(),[a,i]=_.useState([]),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,f]=_.useState([]),[A,m]=_.useState(null),[x,g]=_.useState(localStorage.getItem("userUpiId")||""),[y,v]=_.useState(!1),[b,w]=_.useState(""),C=le=>le?typeof le=="string"?le:(le._id||le.id||le).toString():"",[N,j]=_.useState({description:"",totalAmount:"",paidBy:"",splitWith:[],category:"groceries",date:new Date().toISOString().split("T")[0],targetUpiId:""}),P=["Groceries","Utilities","Food Delivery","Cleaning Supplies","Internet","Maintenance","Other"];_.useEffect(()=>{const le=JSON.parse(localStorage.getItem("user"));le&&(m(le.id||le._id||le.userId),j(Z=>({...Z,paidBy:le.name||""}))),j(Z=>({...Z,targetUpiId:x}))},[x]);const k=()=>{if(!b.trim()){n({variant:"destructive",title:"Invalid ID",description:"UPI ID cannot be empty"});return}localStorage.setItem("userUpiId",b),g(b),v(!1),n({title:"Updated",description:"Your default UPI ID has been updated."})},T=async()=>{var le;if(e!=null&&e.roomId)try{l(!0);const Z=localStorage.getItem("authToken"),pe=((le=e.roomId)==null?void 0:le._id)||e.roomId,X=(await qe.get(`/property/public/rooms/${pe}/tenants`)).data.tenants||[],be=[],_e=new Set;X.forEach(Qe=>{const Ye=C(Qe.userId);Ye&&!_e.has(Ye)&&(_e.add(Ye),be.push(Qe))}),i(be);const ke=(await qe.get("/property/expenses")).data.expenses||[];ke.sort((Qe,Ye)=>new Date(Ye.createdAt)-new Date(Qe.createdAt)),f(ke)}catch(Z){console.error("Error fetching data:",Z)}finally{l(!1)}};_.useEffect(()=>{e&&T()},[e]);const O=async le=>{var be,_e;le.preventDefault();const Z=[...N.splitWith,A],pe=[...new Set(Z)],oe=parseFloat(N.totalAmount)/pe.length,X=pe.map(Le=>({user:Le,amount:oe}));try{const Le=localStorage.getItem("authToken");await qe.post("/property/expenses",{description:N.description,totalAmount:parseFloat(N.totalAmount),category:N.category,date:N.date,targetUpiId:N.targetUpiId,splits:X}),localStorage.setItem("userUpiId",N.targetUpiId),g(N.targetUpiId),n({title:"Success",description:"Expense added and roommates notified!"}),d(!1),j({description:"",totalAmount:"",paidBy:N.paidBy,splitWith:[],category:"groceries",date:new Date().toISOString().split("T")[0],targetUpiId:N.targetUpiId}),T()}catch(Le){console.error("Error adding expense:",Le),n({variant:"destructive",title:"Error",description:((_e=(be=Le.response)==null?void 0:be.data)==null?void 0:_e.message)||"Failed to add expense"})}},[B,F]=_.useState({show:!1,status:"success",title:"",message:""}),M=async(le,Z)=>{var pe;try{const oe=await qe.post("/property/payments/create-order",{amount:Z,receipt_id:`e${le._id.slice(-8)}_${Date.now()}`});if(!oe.data.success)throw new Error("Failed to create payment order");const{order_id:X,currency:be}=oe.data,_e=((pe=le.paidBy)==null?void 0:pe.name)||"Roommate",Le={key:"rzp_test_RL5vMta3bKvRd4",amount:oe.data.amount,currency:be,name:"Lyvo Expense",description:`Paying ${le.targetUpiId}`,order_id:X,prefill:{name:(e==null?void 0:e.tenantName)||"User",contact:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||""},notes:{payment_for:le.description,target_upi:le.targetUpiId},modal:{ondismiss:function(){F({show:!0,status:"error",title:"Payment Cancelled",message:"You cancelled the payment process. No money was deducted."})}},handler:async function(Qe){try{await R(le._id),F({show:!0,status:"success",title:"Payment Successful",message:`Successfully paid ${V(Z).replace("","")} to ${_e}.`})}catch(Ye){console.error("Settlement Error:",Ye),F({show:!0,status:"error",title:"Settlement Failed",message:"Payment was successful, but we failed to update the system. Please support."})}},theme:{color:"#22c55e"}},ke=new window.Razorpay(Le);ke.on("payment.failed",function(Qe){F({show:!0,status:"error",title:"Payment Failed",message:Qe.error.description||"The payment could not be processed."})}),ke.open()}catch(oe){console.error("Payment Error:",oe),n({variant:"destructive",title:"Error",description:"Could not initiate payment. Please try again."})}},R=async le=>{try{const Z=localStorage.getItem("authToken");await qe.post(`/property/expenses/${le}/settle`,{}),n({title:"Success",description:"Payment settled!"}),T()}catch(Z){console.error("Error settling expense:",Z),n({variant:"destructive",title:"Error",description:"Failed to update payment status"})}},H=async(le,Z)=>{try{return await qe.post(`/property/expenses/${le}/remind`,{userId:Z}),!0}catch(pe){return console.error("Error sending reminder:",pe),!1}},G=async le=>{const Z=le.displaySplits||[];if(Z.length===0)return;let pe=0;for(const oe of Z){const X=oe.user._id||oe.user;await H(le._id,X)&&pe++}pe>0?n({title:"Reminders Sent",description:`Sent payment reminders to ${pe} roommate(s).`}):n({variant:"destructive",title:"Error",description:"Failed to send reminders."})},$=le=>{if(!le||!A)return;const Z=C(le),pe=C(A);Z!==pe&&j(oe=>{const X=oe.splitWith.some(be=>be.toString()===Z);return{...oe,splitWith:X?oe.splitWith.filter(be=>be.toString()!==Z):[...oe.splitWith,Z]}})},V=le=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(le||0),te=le=>new Date(le).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),re=[],K=[],z=[],ee=u.reduce((le,Z)=>{const pe=Z.splits.find(oe=>C(oe.user)===C(A)||C(oe.user._id)===C(A));return pe&&Z.paidBy._id!==A&&pe.status==="pending"?le+pe.amount:le},0),W=u.reduce((le,Z)=>{if(Z.paidBy._id===A){const pe=Z.splits.reduce((oe,X)=>C(X.user)!==C(A)&&C(X.user._id)!==C(A)&&X.status==="pending"?oe+X.amount:oe,0);return le+pe}return le},0),ne=u.reduce((le,Z)=>{const pe=Z.splits.find(oe=>C(oe.user)===C(A)||C(oe.user._id)===C(A));return pe&&Z.paidBy._id!==A&&pe.status==="settled"?le+pe.amount:le},0),se=u.reduce((le,Z)=>{if(Z.paidBy._id===A){const pe=Z.splits.reduce((oe,X)=>C(X.user)!==C(A)&&C(X.user._id)!==C(A)&&X.status==="settled"?oe+X.amount:oe,0);return le+pe}return le},0);u.forEach(le=>{if(le.paidBy._id===A){const pe=le.splits.filter(X=>C(X.user)!==C(A)&&C(X.user._id)!==C(A)&&X.status==="pending");pe.length>0&&K.push({...le,displaySplits:pe});const oe=le.splits.filter(X=>C(X.user)!==C(A)&&C(X.user._id)!==C(A)&&X.status==="settled");oe.length>0&&z.push({...le,displaySplits:oe,type:"received"})}else{const pe=le.splits.find(oe=>C(oe.user)===C(A)||C(oe.user._id)===C(A));pe&&(pe.status==="pending"?re.push({...le,mySplit:pe}):z.push({...le,mySplit:pe,type:"paid"}))}});const[ce,ye]=_.useState("all"),Ae=le=>{if(le.mySplit)return new Date(le.mySplit.settledAt||le.updatedAt);if(le.displaySplits){const Z=le.displaySplits.map(pe=>new Date(pe.settledAt||le.updatedAt));return new Date(Math.max(...Z))}return new Date(le.createdAt)},xe=z.filter(le=>{if(ce==="all")return!0;const Z=Ae(le),X=Math.abs(new Date-Z)/(1e3*60*60*24);return ce==="week"?X<=7:ce==="month"?X<=30:ce==="year"?X<=365:!0});return xe.sort((le,Z)=>Ae(Z)-Ae(le)),t?s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-green-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Verifying tenant status..."})]})})}):e?s.jsx(Br,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50",children:[s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(ky,{className:"w-8 h-8 text-green-600"}),"Expense Split"]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Manage shared expenses easily"})]}),s.jsxs("button",{onClick:()=>d(!c),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg flex items-center gap-2 text-sm",children:[c?s.jsx(nr,{className:"w-4 h-4"}):s.jsx(ud,{className:"w-4 h-4"}),c?"Cancel":"Add Expense"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-red-100 flex flex-col justify-between h-auto min-h-[140px] relative overflow-hidden group",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wider mb-2",children:"You Owe Now"}),s.jsx("h3",{className:"text-3xl font-bold text-red-600 mb-4",children:V(ee)}),s.jsxs("div",{className:"border-t border-red-50 pt-2",children:[s.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:"LIFETIME SENT"}),s.jsx("p",{className:"text-sm font-bold text-gray-600",children:V(ne)})]})]}),s.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:s.jsx(kF,{className:"w-16 h-16 text-red-600"})})]}),s.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-green-100 flex flex-col h-auto relative overflow-hidden group",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wider mb-2",children:"Owed to You Now"}),s.jsx("h3",{className:"text-3xl font-bold text-green-600 mb-2",children:V(W)}),s.jsx("div",{className:"mt-2 pt-2 border-t border-green-50 mb-2",children:y?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:b,onChange:le=>w(le.target.value),className:"w-full text-xs px-2 py-1 border border-green-200 rounded focus:outline-none focus:border-green-500",placeholder:"username@upi"}),s.jsx("button",{onClick:k,className:"bg-green-600 text-white p-1 rounded hover:bg-green-700",children:s.jsx(At,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>v(!1),className:"bg-gray-200 text-gray-600 p-1 rounded hover:bg-gray-300",children:s.jsx(nr,{className:"w-3 h-3"})})]}):s.jsxs("div",{className:"flex items-center gap-2 group/upi",children:[s.jsxs("p",{className:"text-xs text-gray-500",children:["Receive at: ",s.jsx("span",{className:"font-mono font-medium text-gray-700 bg-green-50 px-1 rounded",children:x||"Set UPI ID"})]}),s.jsx("button",{onClick:()=>{w(x),v(!0)},className:"text-gray-400 hover:text-green-600 transition-colors opacity-100 sm:opacity-0 sm:group-hover/upi:opacity-100",title:"Edit UPI ID",children:s.jsx(ky,{className:"w-3 h-3"})})]})}),s.jsxs("div",{className:"border-t border-green-50 pt-2",children:[s.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:"LIFETIME RECEIVED"}),s.jsx("p",{className:"text-sm font-bold text-gray-600",children:V(se)})]})]}),s.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity pointer-events-none",children:s.jsx(Xh,{className:"w-16 h-16 text-green-600"})})]})]}),c&&s.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-6 mb-8 border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"New Expense"}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),s.jsx("input",{type:"text",required:!0,value:N.description,onChange:le=>j({...N,description:le.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"What's this for?"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:""}),s.jsx("input",{type:"number",required:!0,min:"1",value:N.totalAmount,onChange:le=>j({...N,totalAmount:le.target.value}),className:"w-full pl-7 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Category"}),s.jsx("select",{required:!0,value:N.category,onChange:le=>j({...N,category:le.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",children:P.map(le=>s.jsx("option",{value:le.toLowerCase(),children:le},le))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Your UPI ID (for receiving payment)"}),s.jsx("input",{type:"text",required:!0,value:N.targetUpiId,onChange:le=>j({...N,targetUpiId:le.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50",placeholder:"username@upi"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Roommates will pay to this ID."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2",children:"Split with"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.filter(le=>C(le.userId)!==C(A)).map(le=>{var oe,X;const Z=C(le.userId),pe=N.splitWith.some(be=>C(be)===Z);return s.jsxs("button",{type:"button",onClick:()=>$(le.userId),className:`flex items-center gap-2 px-3 py-1.5 rounded-full border text-sm transition-all ${pe?"bg-green-50 border-green-500 text-green-700":"bg-white border-gray-200 text-gray-600 hover:border-green-300"}`,children:[le.profilePicture||typeof le.userId=="object"&&((oe=le.userId)!=null&&oe.profilePicture)?s.jsx("img",{src:le.profilePicture||((X=le.userId)==null?void 0:X.profilePicture),alt:le.userName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(cr,{className:"w-3 h-3"}),le.userName]},le._id)})}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["You + ",N.splitWith.length," others. Share: ",s.jsxs("strong",{className:"text-gray-700",children:[V(N.totalAmount&&N.splitWith.length+1?N.totalAmount/(N.splitWith.length+1):0),"/person"]})]})]}),s.jsx("button",{type:"submit",disabled:N.splitWith.length===0,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-medium hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:"Add Expense"})]})]}),re.length>0&&s.jsxs("div",{className:"mb-0",children:[s.jsxs("h2",{className:"text-lg font-bold text-red-600 mb-4 flex items-center gap-2",children:[s.jsx(kF,{className:"w-5 h-5"}),"Money I Owe"]}),s.jsx("div",{className:"space-y-4",children:re.map(le=>s.jsx(J.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-red-50 rounded-xl shadow-sm border border-red-100 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900",children:le.description}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Owed to ",s.jsx("span",{className:"font-semibold text-gray-700",children:le.paidBy.name||"Roommate"})]}),le.targetUpiId&&s.jsxs("p",{className:"text-[10px] text-gray-500 font-mono mt-0.5 bg-gray-100 inline-block px-1 rounded",children:["UPI: ",le.targetUpiId]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:te(le.date)})]}),s.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[s.jsx("span",{className:"text-lg font-bold text-red-600",children:V(le.mySplit.amount)}),s.jsx("button",{onClick:()=>M(le,le.mySplit.amount),className:"px-4 py-1.5 bg-red-600 text-white text-xs font-bold rounded-full hover:bg-red-700 transition-colors shadow-sm",children:"Pay Now"})]})]})},le._id))})]}),s.jsx("div",{className:"my-8 border-b border-gray-100"}),K.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-lg font-bold text-green-600 mb-4 flex items-center gap-2",children:[s.jsx(Xh,{className:"w-5 h-5"}),"Money Owed to Me"]}),s.jsx("div",{className:"space-y-4",children:K.map(le=>s.jsxs(J.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},className:"bg-green-50 rounded-xl shadow-sm border border-green-100 p-4",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900",children:le.description}),le.targetUpiId&&s.jsxs("p",{className:"text-[10px] text-gray-500 font-mono mt-0.5 bg-gray-100 inline-block px-1 rounded",children:["UPI: ",le.targetUpiId]}),s.jsx("p",{className:"text-xs text-gray-400",children:te(le.date)})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsxs("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded font-medium",children:["Total: ",V(le.totalAmount)]}),le.displaySplits.length>0&&s.jsxs("button",{onClick:()=>G(le),className:"text-[10px] text-orange-600 font-medium hover:text-orange-700 underline flex items-center gap-1",children:[s.jsx(EF,{className:"w-3 h-3"}),"Remind All Pending"]})]})]}),s.jsx("div",{className:"space-y-2 mt-3",children:le.displaySplits.map(Z=>{var be;const pe=(be=Z.user)!=null&&be.name?Z.user:a.find(_e=>C(_e.userId)===C(Z.user))||{userName:"Unknown User"},oe=pe.name||pe.userName,X=Z.user._id||Z.user;return s.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded-lg border border-green-100",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-700 flex items-center justify-center text-xs font-bold",children:oe.charAt(0)}),s.jsx("span",{className:"text-sm text-gray-700",children:oe})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:V(Z.amount)}),s.jsx("button",{onClick:async()=>{await H(le._id,X)&&n({title:"Reminder Sent",description:`Reminded ${oe}`})},className:"p-1.5 text-orange-500 hover:bg-orange-50 rounded-full transition-colors",title:`Remind ${oe}`,children:s.jsx(EF,{className:"w-4 h-4"})})]})]},Z._id||pe.userId)})})]},le._id))})]}),z.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-500 flex items-center gap-2",children:[s.jsx(Hn,{className:"w-5 h-5"}),"Payment History"]}),s.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1 gap-1",children:["all","week","month","year"].map(le=>s.jsx("button",{onClick:()=>ye(le),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${ce===le?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:le.charAt(0).toUpperCase()+le.slice(1)},le))})]}),s.jsx("div",{className:"space-y-3",children:xe.length===0?s.jsx("p",{className:"text-center text-sm text-gray-400 py-4",children:"No payments in this period."}):xe.map(le=>{var pe,oe,X;const Z=le.type==="received";return s.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-50 rounded-xl border border-gray-100 p-4 opacity-75 hover:opacity-100 transition-opacity",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Z?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:s.jsx(At,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-700 text-sm line-through decoration-gray-400",children:le.description}),s.jsx("p",{className:"text-xs text-gray-500",children:Z?`Received from ${le.displaySplits.map(be=>{var Le;const _e=(Le=be.user)!=null&&Le.name?be.user:a.find(ke=>C(ke.userId)===C(be.user))||{userName:"Unknown"};return _e.name||_e.userName}).join(", ")}`:`You paid ${((pe=le.paidBy)==null?void 0:pe.name)||((oe=le.paidBy)==null?void 0:oe.userName)||"Roommate"}`}),s.jsxs("div",{className:"flex gap-3 mt-1",children:[s.jsxs("p",{className:"text-[10px] text-gray-400",children:["Added: ",te(le.date)]}),s.jsxs("p",{className:"text-[10px] text-gray-400",children:["Paid: ",te(Z?le.displaySplits.reduce((be,_e)=>{const Le=new Date(_e.settledAt||le.updatedAt);return Le>be?Le:be},new Date(0)):((X=le.mySplit)==null?void 0:X.settledAt)||le.updatedAt)]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`text-sm font-bold ${Z?"text-green-600":"text-gray-600"}`,children:V(Z?le.displaySplits.reduce((be,_e)=>be+_e.amount,0):le.mySplit.amount)}),s.jsx("p",{className:"text-[10px] text-gray-400",children:"Settled"})]})]})},`${le._id}-${le.type}`)})})]}),u.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"No shared expenses yet."})})]}),B.show&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:s.jsxs(J.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-xl max-w-sm w-full overflow-hidden",children:[s.jsxs("div",{className:`p-6 text-center ${B.status==="success"?"bg-green-50":"bg-red-50"}`,children:[s.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${B.status==="success"?"bg-green-100":"bg-red-100"}`,children:B.status==="success"?s.jsx(At,{className:`w-8 h-8 ${B.status==="success"?"text-green-600":"text-red-600"}`}):s.jsx($t,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:`text-xl font-bold mb-2 ${B.status==="success"?"text-green-800":"text-red-800"}`,children:B.title}),s.jsx("p",{className:"text-gray-600 text-sm",children:B.message})]}),s.jsx("div",{className:"p-4 bg-white border-t border-gray-100",children:s.jsx("button",{onClick:()=>{F(le=>({...le,show:!1})),B.status},className:`w-full py-3 rounded-xl font-bold text-white transition-opacity hover:opacity-90 ${B.status==="success"?"bg-green-600":"bg-gray-900"}`,children:B.status==="success"?"Done":"Close"})})]})})]})}):s.jsx(Br,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md bg-white p-8 rounded-2xl shadow-xl",children:[s.jsx($t,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Unable to verify tenant status.",r?s.jsxs("span",{className:"block mt-2 text-red-500 text-sm",children:["Error: ",r]}):s.jsx("span",{className:"block mt-2 text-sm text-gray-500",children:"Please make sure the backend server is running."})]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Retry"})]})})})},b4e=e=>{const t=new Date(e),n=Math.floor((new Date-t)/1e3);if(n<60)return"Just now";const a=Math.floor(n/60);if(a<60)return`${a} minute${a>1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i>1?"s":""} ago`;const o=Math.floor(i/24);if(o<7)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/7);if(l<4)return`${l} week${l>1?"s":""} ago`;const c=Math.floor(o/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(o/365);return`${d} year${d>1?"s":""} ago`},w4e=({onMenuToggle:e})=>{const t=hr(),r=_.useRef(!0),[n,a]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState([]),[d,u]=_.useState(0),[f,A]=_.useState(!1),[m,x]=_.useState(()=>JSON.parse(localStorage.getItem("user")||"{}"));_.useEffect(()=>{const C=()=>{try{x(JSON.parse(localStorage.getItem("user")||"{}"))}catch{}};return window.addEventListener("lyvo-profile-update",C),window.addEventListener("lyvo-login",C),window.addEventListener("lyvo-logout",C),()=>{window.removeEventListener("lyvo-profile-update",C),window.removeEventListener("lyvo-login",C),window.removeEventListener("lyvo-logout",C)}},[]);const g=async(C=!1)=>{try{C||A(!0);const N=JSON.parse(localStorage.getItem("user")||"{}"),j=N._id||N.id||m._id||m.id;if(!j){console.log("Skipping fetch: Not authenticated");return}console.log("Fetching notifications for user:",j);const P=await qe.get("/notifications",{headers:{"x-user-id":j}});if(P.status===200){const k=P.data;k.success&&(c(k.data||[]),u(k.unreadCount||0))}}catch(N){console.error("Error fetching notifications:",N)}finally{C||A(!1)}},y=async C=>{try{const N=JSON.parse(localStorage.getItem("user")||"{}");if(!N._id)return;(await qe.delete(`/notifications/${C}`,{headers:{"x-user-id":N._id}})).status===200&&(c(P=>P.filter(k=>k._id!==C)),u(P=>Math.max(0,P-1)),g(!0))}catch(N){console.error("Error deleting notification:",N)}};_.useEffect(()=>()=>{r.current=!1},[]),_.useEffect(()=>{g();const C=setInterval(()=>{g()},12e4);return()=>{clearInterval(C)}},[]),_.useEffect(()=>{const C=N=>{console.log(" OwnerNavbar: RECEIVED NOTIFICATION via Socket:",N.detail);const j=N.detail;c(P=>P.some(k=>k._id===j._id)?P:[j,...P]),u(P=>P+1),console.log(" Refreshing unread count (fetching for consistency)..."),g(!0)};return window.addEventListener("new-notification",C),()=>window.removeEventListener("new-notification",C)},[]),_.useEffect(()=>{const C=N=>{N.target.closest(".dropdown-container")||(a(!1),o(!1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const v=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),t("/login")},b={hidden:{opacity:0,y:-10,scale:.95,transformOrigin:"top right"},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15,ease:"easeIn"}}},w={hover:{scale:1.05,transition:{duration:.1}},tap:{scale:.95,transition:{duration:.1}}};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 py-3 lg:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx(J.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Toggle menu",variants:w,whileHover:"hover",whileTap:"tap",children:s.jsx(FN,{className:"w-5 h-5"})}),s.jsxs(Ft,{to:"/owner-dashboard",className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(J.div,{className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Owner",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Property Management"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(J.button,{onClick:()=>o(!i),className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 relative","aria-label":"Notifications",variants:w,whileHover:"hover",whileTap:"tap",children:[s.jsx(cd,{className:"w-5 h-5"}),d>0&&s.jsx(J.span,{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white px-1",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:d>9?"9+":d})]}),s.jsx(Sr,{children:i&&s.jsxs(J.div,{className:"absolute right-0 mt-2 w-72 sm:w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:b,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:f?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading notifications..."})]}):l.filter(C=>!C.is_read).length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(cd,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No new notifications"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You're all caught up!"})]}):l.filter(C=>!C.is_read).slice(0,5).map(C=>s.jsxs(J.div,{className:"relative p-4 mb-2 mx-2 rounded-lg border border-gray-200 bg-blue-50 border-blue-200",transition:{duration:.2},children:[s.jsx("div",{className:"pr-8",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.title}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:C.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b4e(C.createdAt)})]}),s.jsx("span",{className:"ml-2 w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]})}),s.jsx("button",{onClick:N=>{N.stopPropagation(),y(C._id)},className:"absolute top-3 right-3 p-1 rounded-full hover:bg-red-100 transition-colors",title:"Delete notification",children:s.jsx(rr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]},C._id))}),l.filter(C=>!C.is_read).length>0&&s.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsx(Ft,{to:"/owner-notifications",className:"text-sm text-red-600 hover:text-red-700 font-medium",onClick:()=>o(!1),children:"View all notifications"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[l.filter(C=>!C.is_read).length," unread"]})]})]})})]}),s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(J.button,{onClick:()=>a(!n),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"User menu",variants:w,whileHover:"hover",whileTap:"tap",children:[s.jsx(J.div,{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full overflow-hidden bg-red-100 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:m!=null&&m.profilePicture?s.jsx("img",{src:m.profilePicture,alt:"avatar",className:"w-full h-full object-cover"}):s.jsx(cr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:m.name||"Owner"})]}),s.jsx(Sr,{children:n&&s.jsx(J.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:b,initial:"hidden",animate:"visible",exit:"exit",children:s.jsxs("div",{className:"py-2",children:[s.jsx(J.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsx(Ft,{to:"/owner-profile",className:"block px-4 py-2 text-sm text-gray-700",children:"Profile Settings"})}),s.jsx(J.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs("button",{onClick:v,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx($a,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})})]})})})]})]})]})})},bM=({onClose:e})=>{const t=ro(),r=hr(),n=JSON.parse(localStorage.getItem("user")||"{}"),a=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login")},i=[{name:"Dashboard",href:"/owner-dashboard",icon:Pr},{name:"Properties",href:"/owner-properties",icon:Zr},{name:"Tenants",href:"/owner-tenants",icon:Wr},{name:"Bookings",href:"/owner-bookings",icon:Fr},{name:"Maintenance",href:"/owner-maintenance",icon:Gd},{name:"Payments",href:"/owner-payments",icon:ra},{name:"Analytics",href:"/owner-analytics",icon:Ep},{name:"Profile Settings",href:"/owner-settings",icon:sc}],o=d=>t.pathname===d,l={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},c={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(J.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-gray-200 flex flex-col shadow-xl",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs(J.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsx(J.div,{className:"w-8 h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Owner",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Property Management"})]})]}),s.jsx(J.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Close sidebar",variants:c,whileHover:"hover",whileTap:"tap",children:s.jsx(nr,{className:"w-5 h-5"})})]}),s.jsx(J.div,{className:"flex-shrink-0 p-4 border-b border-gray-200",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(J.div,{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center overflow-hidden",whileHover:{scale:1.05},transition:{duration:.2},children:n.profilePicture?s.jsx("img",{src:n.profilePicture,alt:n.name,className:"w-full h-full object-cover"}):s.jsx(Wr,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.name||"Property Owner"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email||"owner@lyvo+.com"})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s.jsxs("div",{className:"px-4 space-y-2",children:[s.jsx(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:s.jsxs(Ft,{to:"/owner-add-property",onClick:e,className:"group flex items-center px-3 py-3 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200 mb-4 shadow-sm",children:[s.jsx(ud,{className:"mr-3 h-5 w-5"}),"Add Property"]})}),i.map((d,u)=>{const f=d.icon;return s.jsx(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25+u*.05,duration:.3,ease:"easeOut"},children:s.jsx(J.div,{variants:l,whileHover:"hover",whileTap:"tap",children:s.jsxs(Ft,{to:d.href,onClick:e,className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${o(d.href)?"text-red-700 bg-red-50 border-r-2 border-red-700":"text-gray-700 hover:text-red-700 hover:bg-red-50"}`,children:[s.jsx(f,{className:`mr-3 h-5 w-5 ${o(d.href)?"text-red-700":"text-gray-400 group-hover:text-red-700"}`}),d.name]})})},d.name)})]})}),s.jsx(J.div,{className:"flex-shrink-0 p-4 border-t border-gray-200",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:s.jsxs(J.button,{onClick:a,className:"group flex items-center w-full px-3 py-3 text-sm font-medium text-gray-700 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200",variants:c,whileHover:"hover",whileTap:"tap",children:[s.jsx($a,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-red-700"}),"Logout"]})})]})},j4e=()=>s.jsx("footer",{className:"bg-white border-t border-gray-200 py-6 px-4 lg:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 md:gap-8",children:[s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Property Management Platform"})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-md",children:"Streamline your property management operations with our comprehensive platform designed for property owners and managers."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"Facebook"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"Twitter"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"LinkedIn"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ft,{to:"/owner-dashboard",className:"text-sm text-gray-600 hover:text-gray-900",children:"Dashboard"})}),s.jsx("li",{children:s.jsx(Ft,{to:"/owner-properties",className:"text-sm text-gray-600 hover:text-gray-900",children:"Properties"})}),s.jsx("li",{children:s.jsx(Ft,{to:"/owner-tenants",className:"text-sm text-gray-600 hover:text-gray-900",children:"Tenants"})}),s.jsx("li",{children:s.jsx(Ft,{to:"/owner-settings",className:"text-sm text-gray-600 hover:text-gray-900",children:"Settings"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Help Center"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Contact Support"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Documentation"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"API Reference"})})]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[" 2024 ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"}),". All rights reserved."]}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Privacy Policy"}),s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Terms of Service"}),s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Cookie Policy"})]})]})})]})}),wn=({children:e,hideFooter:t=!1})=>{const[r,n]=_.useState(!1),[a,i]=_.useState(!1),o=()=>{n(!r)},l=()=>{n(!1)},c={hidden:{x:"-100%",opacity:0,transition:{duration:.3,ease:"easeInOut"}},visible:{x:0,opacity:1,transition:{duration:.3,ease:"easeInOut"}},exit:{x:"-100%",opacity:0,transition:{duration:.25,ease:"easeInOut"}}},d={hidden:{opacity:0,transition:{duration:.2}},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},u=f=>{if(!f||f.role!==3)return!1;const A=!!f.govtIdFrontUrl||!!f.govtIdBackUrl,m=f.kycVerified===!0||f.kycStatus==="approved";return!(A||m)};return _.useEffect(()=>{const f=async()=>{try{const m=localStorage.getItem("user");if(!m)return;const x=JSON.parse(m);if((x==null?void 0:x.role)!==3||(i(u(x)),!localStorage.getItem("authToken")||!(x!=null&&x._id)))return;const y=await qe.get(`/user/profile/${x._id}`);if(y.data){const v=y.data;v!=null&&v._id&&(localStorage.setItem("user",JSON.stringify(v)),i(u(v)))}}catch{}};f();const A=()=>f();return window.addEventListener("lyvo-user-updated",A),()=>window.removeEventListener("lyvo-user-updated",A)},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(bM,{onClose:l})}),s.jsxs("div",{className:"lg:ml-64",children:[s.jsx("div",{className:"sticky top-0 z-30 bg-white shadow-sm",children:s.jsx(w4e,{onMenuToggle:o})}),a&&s.jsx("div",{className:"fixed top-20 right-4 z-40 max-w-xs",children:s.jsxs("div",{className:"bg-white border border-yellow-300 rounded-xl shadow-lg p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Add Govt ID"}),s.jsx("div",{className:"text-xs text-gray-600 mb-3",children:"Verify your identity to boost trust. Upload any govt-approved ID."}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("button",{onClick:()=>{window.location.href="/owner-settings#kyc"},className:"px-3 py-1.5 bg-red-600 text-white text-xs rounded-md hover:bg-red-700",children:"Add ID"}),s.jsx("button",{onClick:()=>i(!1),className:"px-2 py-1 text-xs text-gray-500 hover:text-gray-700",children:"Dismiss"})]})]})}),s.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 overflow-auto",children:e}),!t&&s.jsx(j4e,{})]}),s.jsx(Sr,{children:r&&s.jsx(J.div,{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",variants:d,initial:"hidden",animate:"visible",exit:"exit",onClick:l})}),s.jsx(Sr,{children:r&&s.jsx("div",{className:"fixed inset-0 z-50 lg:hidden",children:s.jsx(J.div,{className:"absolute inset-y-0 left-0 w-64 max-w-[80vw]",variants:c,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(bM,{onClose:l})})})}),s.jsx(eW,{}),s.jsx(v6,{})]})},N4e=()=>{const e=hr(),[t,r]=_.useState(null),[n,a]=_.useState(!0),[i,o]=_.useState(0),[l,c]=_.useState(!1),[d,u]=_.useState(null),[f,A]=_.useState([]),[m,x]=_.useState([]),[g,y]=_.useState({totalProperties:0,activeTenants:0,monthlyRevenue:0,averageRating:0,occupancyRate:0,pendingApplications:0}),[v,b]=_.useState(!1),[w,C]=_.useState(null);_.useEffect(()=>{(()=>{const V=localStorage.getItem("authToken"),te=localStorage.getItem("user");if(!V||!te){e("/login");return}try{const re=JSON.parse(te);if(re.role!==3){e("/login");return}r(re)}catch(re){console.error("Error parsing user data:",re),e("/login")}a(!1)})()},[e]);const N=async()=>{try{c(!0),u(null);const $=await qe.get("/property/owner/tenants");if(console.log("Tenant fetch response status:",$.status),$.status===200){const V=$.data;if(console.log("Tenant fetch response data:",V),V.success&&Array.isArray(V.tenants)){const re=V.tenants.filter(K=>["active","extended"].includes(K.status)).length;o(re),console.log(`Successfully fetched ${re} active tenants`),u(null)}else console.warn("API returned success but invalid tenants data",V),u(V.message||"Failed to parse tenant data")}else u(`Failed to fetch tenants (${$.status})`)}catch($){console.error("Network error fetching tenant count:",$),$.response&&$.response.status===404?(o(0),u(null)):u("Failed to fetch tenants")}finally{c(!1)}};_.useEffect(()=>{t&&O()},[t]),_.useEffect(()=>{(f.length>0||m.length>0)&&T()},[f,m,i]);const j=()=>{console.log("Retrying tenant fetch..."),N()},P=async()=>{try{const $=await qe.get("/property/owner/properties");if($.status===200){const V=$.data;V.success&&V.data&&(A(V.data),console.log(`Successfully fetched ${V.data.length} properties`))}}catch($){console.error("Error fetching properties:",$)}},k=async()=>{try{const $=await qe.get("/property/owner/bookings");if($.status===200){const V=$.data;V.success&&V.bookings&&(x(V.bookings),console.log(`Successfully fetched ${V.bookings.length} bookings`))}}catch($){console.error("Error fetching bookings:",$)}},T=()=>{try{const $=f.length,V=i,re=m.filter(ce=>ce.status==="confirmed").reduce((ce,ye)=>ce+(ye.rent||0),0),K=f.filter(ce=>ce.rating&&ce.rating>0),z=K.length>0?K.reduce((ce,ye)=>ce+ye.rating,0)/K.length:0;let ee=0,W=0;f.forEach(ce=>{ce.rooms&&Array.isArray(ce.rooms)&&(ee+=ce.rooms.length,W+=ce.rooms.filter(ye=>!ye.isAvailable).length)});const ne=ee>0?Math.round(W/ee*100):0,se=m.filter(ce=>ce.status==="pending_approval").length;y({totalProperties:$,activeTenants:i,monthlyRevenue:re,averageRating:Math.round(z*10)/10,occupancyRate:ne,pendingApplications:se}),console.log("Dashboard stats calculated:",{totalProperties:$,activeTenants:V,monthlyRevenue:re,averageRating:z,occupancyRate:ne,pendingApplications:se})}catch($){console.error("Error calculating dashboard stats:",$)}},O=async()=>{try{b(!0),C(null),await Promise.all([P(),k(),N()])}catch($){console.error("Error fetching dashboard data:",$),C("Failed to load dashboard data")}finally{b(!1)}},B=f.slice(0,3).map($=>{var ye,Ae,xe;const V=$.rooms||[],te=V.length,re=V.filter(le=>!le.isAvailable).length,K=te>0?Math.round(re/te*100):0,ee=m.filter(le=>String(le.propertyId)===String($._id)&&le.status==="confirmed").reduce((le,Z)=>le+(Z.rent||0),0),W=((ye=$.images)==null?void 0:ye.front)||((Ae=$.images)==null?void 0:Ae.hall)||Array.isArray((xe=$.images)==null?void 0:xe.gallery)&&$.images.gallery[0]||$.frontImage||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center";let ne=`${ee.toLocaleString("en-IN")}`,se="Revenue";if(ee===0&&V.length>0){const le=V.map(Z=>Z.perPersonRent||Math.ceil((Z.rent||0)/(Z.occupancy||1))||0).filter(Z=>Z>0);if(le.length>0){const Z=Math.min(...le),pe=Math.max(...le);ne=Z===pe?`${Z.toLocaleString("en-IN")}/person/mo`:`${Z.toLocaleString("en-IN")} - ${pe.toLocaleString("en-IN")}/person/mo`,se="Per Person Rent"}}let ce="Location not available";if($.address){if(typeof $.address=="string")ce=$.address;else if(typeof $.address=="object"){const le=[];$.address.city&&le.push($.address.city),$.address.state&&le.push($.address.state),ce=le.length>0?le.join(", "):"Location not available"}}return{id:$._id,name:$.propertyName||$.property_name||"Unnamed Property",location:ce,type:$.propertyType||$.property_type||"Property",tenants:re,occupancy:`${K}%`,revenue:ne,revenueLabel:se,status:$.status==="approved"?"Active":$.status||"Pending",image:W}}),F=$=>{if(!$)return"Unknown time";const V=new Date($),re=Math.floor((new Date-V)/1e3);if(re<60)return"Just now";const K=Math.floor(re/60);if(K<60)return`${K} minute${K>1?"s":""} ago`;const z=Math.floor(K/60);if(z<24)return`${z} hour${z>1?"s":""} ago`;const ee=Math.floor(z/24);if(ee<7)return`${ee} day${ee>1?"s":""} ago`;const W=Math.floor(ee/7);if(W<4)return`${W} week${W>1?"s":""} ago`;const ne=Math.floor(ee/30);if(ne<12)return`${ne} month${ne>1?"s":""} ago`;const se=Math.floor(ee/365);return`${se} year${se>1?"s":""} ago`},R=(()=>{const $=[];return m.slice(0,3).forEach(V=>{var ne;const te=f.find(se=>String(se._id)===String(V.propertyId)),re=te?te.propertyName||te.property_name:"Unknown Property",K=((ne=V.userSnapshot)==null?void 0:ne.name)||"Unknown User";let z="",ee="",W="";switch(V.status){case"pending_approval":z=`New booking request from ${K} for ${re}`,ee="pending",W="tenant";break;case"confirmed":z=`Booking confirmed by ${K} for ${re}`,ee="completed",W="payment";break;case"checked_in":z=`${K} successfully checked in to ${re}`,ee="completed",W="tenant";break;case"rejected":z=`Booking rejected for ${re}`,ee="completed",W="tenant";break;case"cancelled":z=`Booking cancelled for ${re}`,ee="completed",W="tenant";break;default:z=`Booking ${V.status} for ${re}`,ee="in-progress",W="tenant"}$.push({id:`booking-${V._id}`,type:W,message:z,time:F(V.createdAt||V.bookedAt),status:ee,createdAt:V.createdAt||V.bookedAt})}),f.slice(0,2).forEach(V=>{const te=V.propertyName||V.property_name||"Unnamed Property";$.push({id:`property-${V._id}`,type:"property",message:`Property "${te}" ${V.status==="approved"?"approved":"pending approval"}`,time:F(V.createdAt),status:V.status==="approved"?"completed":"pending",createdAt:V.createdAt})}),$.sort((V,te)=>new Date(te.createdAt)-new Date(V.createdAt)).slice(0,4)})(),H=$=>{switch($){case"tenant":return s.jsx(Wr,{className:"w-5 h-5 text-blue-600"});case"payment":return s.jsx(ra,{className:"w-5 h-5 text-green-600"});case"maintenance":return s.jsx(Zr,{className:"w-5 h-5 text-orange-600"});case"property":return s.jsx(ud,{className:"w-5 h-5 text-purple-600"});default:return s.jsx(Fr,{className:"w-5 h-5 text-gray-600"})}},G=$=>{switch($){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"in-progress":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}};return n?s.jsx(wn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(wn,{children:s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Welcome back, ",(t==null?void 0:t.name)||"Owner","!"]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Here's what's happening with your properties today."})]}),s.jsx("div",{className:"sm:mt-0 flex space-x-3",children:s.jsxs("button",{onClick:()=>e("/owner-add-property"),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200",children:[s.jsx(ud,{className:"w-4 h-4 mr-2"}),"Add Property"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Properties"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:g.totalProperties})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:s.jsx(Zr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})})]})}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Active Tenants"}),l?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):d?s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-red-600",children:"Error loading tenants"}),s.jsx("button",{onClick:j,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Retry"})]}):s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:g.activeTenants})]}),s.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${d?"bg-red-100":"bg-green-100"}`,children:s.jsx(Wr,{className:`w-5 h-5 sm:w-6 sm:h-6 ${d?"text-red-600":"text-green-600"}`})})]}),d&&s.jsx("div",{className:"mt-3 sm:mt-4",children:s.jsx("p",{className:"text-xs text-gray-500",children:d==="No tenants found for this owner"?"Start by adding properties and getting bookings":"Check your connection and try again"})})]}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["",g.monthlyRevenue.toLocaleString()]})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:s.jsx(ra,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Average Rating"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:g.averageRating})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg",children:s.jsx(Sa,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600"})})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Occupancy Rate"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[g.occupancyRate,"%"]})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-lg",children:s.jsx(mu,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"})})]})}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200 sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pending Applications"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:g.pendingApplications})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-orange-100 rounded-lg",children:s.jsx(Fr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600"})})]}),s.jsx("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-blue-600",children:s.jsx("span",{children:"Requires attention"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Properties"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Your latest property listings and their performance"})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:v?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-red-600 mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading properties..."})]}):B.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Zr,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No properties yet"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Add your first property to get started"}),s.jsx("button",{onClick:()=>e("/owner-add-property"),className:"px-4 py-2 bg-red-600 text-white text-xs font-medium rounded-lg hover:bg-red-700",children:"Add Property"})]}):B.map($=>s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx("img",{src:$.image,alt:$.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-lg object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:$.name}),s.jsx("p",{className:"text-xs text-gray-500",children:$.location}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-600",children:[$.tenants," tenants"]}),s.jsx("span",{className:"text-xs text-gray-600",children:""}),s.jsxs("span",{className:"text-xs text-gray-600",children:[$.occupancy," occupied"]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:$.revenue}),s.jsx("p",{className:"text-[10px] text-gray-500",children:$.revenueLabel}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:$.status})]}),s.jsx("button",{className:"p-1 sm:p-2 text-gray-400 hover:text-gray-600 flex-shrink-0",children:s.jsx(t6,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]},$.id))}),s.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200",children:s.jsx("button",{onClick:()=>e("/owner-properties"),className:"text-xs sm:text-sm text-red-600 hover:text-red-700 font-medium",children:"View all properties "})})]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},className:"bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Activities"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Latest updates and notifications"})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:v?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-red-600 mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading activities..."})]}):R.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Fr,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No recent activities"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Activities will appear here as bookings and properties are created"})]}):R.map($=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:H($.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-900",children:$.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:$.time})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${G($.status)} flex-shrink-0`,children:$.status})]},$.id))})]})]})]})})},_4e=()=>{const e=hr(),[t,r]=_.useState(null),[n,a]=_.useState(!0),[i,o]=_.useState([]),[l,c]=_.useState(""),[d,u]=_.useState("all"),[f,A]=_.useState({}),[m,x]=_.useState({}),[g,y]=_.useState(null),v=async()=>{try{const j=localStorage.getItem("authToken");if(!j){e("/login");return}const P=await qe.get("/property/owner/properties",{headers:{Authorization:`Bearer ${j}`}});P.data.success?(console.log("Properties fetched:",P.data.data),o(P.data.data)):y("Failed to fetch properties")}catch(j){console.error("Error fetching properties:",j),y("Error connecting to server")}finally{a(!1)}},b=async(j,P)=>{try{if(x(O=>({...O,[j]:!0})),!localStorage.getItem("authToken")){e("/login");return}const T=await qe.put(`/property/owner/properties/${j}/status`,{status:P});T.data.success?(o(O=>O.map(B=>B._id===j?{...B,status:P,updated_at:new Date().toISOString()}:B)),console.log("Property status updated successfully")):(console.error("Failed to update property status:",T.data.message||"Unknown error"),y("Failed to update property status"))}catch(k){console.error("Error updating property status:",k)}finally{x(k=>({...k,[j]:!1}))}};window.refreshProperties=v,_.useEffect(()=>{(()=>{const P=localStorage.getItem("authToken"),k=localStorage.getItem("user");if(!P||!k){e("/login");return}try{const T=JSON.parse(k);if(T.role!==3){e("/login");return}r(T),v()}catch(T){console.error("Error parsing user data:",T),e("/login")}a(!1)})()},[e]);const w=i.map(j=>{var T,O,B;let P=[],k=!1;if(console.log("Processing property:",j.property_name),console.log("Property images:",j.images),j.images){const F=[{url:j.images.front,label:"Front"},{url:j.images.hall,label:"Hall"},{url:j.images.room,label:"Room"},{url:j.images.back,label:"Back"},{url:j.images.toilet,label:"Toilet"},{url:j.images.frontImage,label:"Front"},{url:j.images.hallImage,label:"Hall"},{url:j.images.roomImage,label:"Room"},{url:j.images.backImage,label:"Back"},{url:j.images.toiletImage,label:"Toilet"}].filter(M=>M.url);j.images.images&&Array.isArray(j.images.images)&&j.images.images.forEach((M,R)=>{M&&F.push({url:M,label:`Image ${R+1}`})}),P=F,k=F.length>0,console.log("Found images:",P.length)}return k||(P=[{url:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",label:"Default"}]),{id:j._id||j.id,name:j.property_name,location:`${((T=j.address)==null?void 0:T.city)||""}, ${((O=j.address)==null?void 0:O.state)||""}`,type:j.property_type,status:j.status==="active"?"Active":"Inactive",tenants:j.rooms?j.rooms.filter(F=>!F.is_available).length:0,maxTenants:j.rooms?j.rooms.length:0,monthlyRent:((B=j.rooms)==null?void 0:B.reduce((F,M)=>F+(M.rent||0),0))||0,rentRange:(()=>{if(!j.rooms||j.rooms.length===0)return"N/A";const F=j.rooms.map(H=>H.perPersonRent||Math.ceil((H.rent||0)/(H.occupancy||1))||0).filter(H=>H>0);if(F.length===0)return"N/A";const M=Math.min(...F),R=Math.max(...F);return M===R?`${M.toLocaleString("en-IN")}/person`:`${M.toLocaleString("en-IN")} - ${R.toLocaleString("en-IN")}/person`})(),totalRooms:j.rooms?j.rooms.length:0,lastUpdated:j.updated_at?new Date(j.updated_at).toISOString().split("T")[0]:j.created_at?new Date(j.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],images:P,hasUploadedImages:k}}),C=j=>{switch(j){case"Active":return"text-green-600 bg-green-100";case"Under Construction":return"text-yellow-600 bg-yellow-100";case"Maintenance":return"text-orange-600 bg-orange-100";case"Inactive":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},N=w.filter(j=>{const P=j.name.toLowerCase().includes(l.toLowerCase())||j.location.toLowerCase().includes(l.toLowerCase()),k=d==="all"||j.status===d;return P&&k});return n?s.jsx(wn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(wn,{children:s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Properties"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage your property portfolio and listings"})]})}),s.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search properties by name or location...",value:l,onChange:j=>c(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:d,onChange:j=>u(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Under Construction",children:"Under Construction"}),s.jsx("option",{value:"Maintenance",children:"Maintenance"}),s.jsx("option",{value:"Inactive",children:"Inactive"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:N.map((j,P)=>{var k,T,O,B;return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[s.jsxs("div",{className:"relative h-40 sm:h-48 bg-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:(k=j.images[0])==null?void 0:k.url,alt:`${j.name} - ${(T=j.images[0])==null?void 0:T.label}`,className:"w-full h-full object-cover",onLoad:()=>{A(F=>({...F,[j.id]:!1}))},onError:F=>{F.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",A(M=>({...M,[j.id]:!1}))}}),f[j.id]!==!1&&s.jsx(J.div,{className:"absolute inset-0 bg-gray-200 flex items-center justify-center",initial:{opacity:1},animate:{opacity:0},transition:{delay:.5,duration:.3},children:s.jsx(J.div,{className:"w-8 h-8 border-2 border-gray-300 border-t-red-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}),((O=j.images[0])==null?void 0:O.label)!=="Default"&&s.jsx("div",{className:"absolute bottom-1 left-1",children:s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-black bg-opacity-50 text-white",children:(B=j.images[0])==null?void 0:B.label})})]}),s.jsx(J.div,{className:"absolute top-2 sm:top-3 right-2 sm:right-3",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.3},children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C(j.status)}`,children:j.status})})]}),s.jsxs("div",{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:j.name}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 flex-shrink-0",children:s.jsx(t6,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"space-y-2 mb-3 sm:mb-4",children:s.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-600",children:[s.jsx(xr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:j.location})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-900 truncate",title:j.rentRange,children:j.rentRange}),s.jsx("div",{className:"text-xs text-gray-500",children:"Rent"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:j.status}),s.jsx("div",{className:"text-xs text-gray-500",children:"Status"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{console.log("View button clicked for property:",j.id),console.log("Navigating to:",`/owner-property/${j.id}`),e(`/owner-property/${j.id}`)},className:"flex-1 flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx(Ir,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"View"]}),s.jsxs("button",{onClick:()=>e(`/owner-edit-property/${j.id}`),className:"flex-1 flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-gray-700 bg-blue-100 rounded-lg hover:bg-blue-200 transition-colors duration-200",children:[s.jsx(mA,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Edit"]}),s.jsx("button",{onClick:()=>b(j.id,j.status==="Active"?"inactive":"active"),disabled:m[j.id],className:`flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors duration-200 ${j.status==="Active"?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"} ${m[j.id]?"opacity-50 cursor-not-allowed":""}`,children:m[j.id]?s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):j.status==="Active"?s.jsx($V,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(HV,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),s.jsxs("div",{className:"mt-2 sm:mt-3 text-xs text-gray-500 text-center",children:["Last updated: ",new Date(j.lastUpdated).toLocaleDateString()]})]})]},j.id)})}),N.length===0&&s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx(Zr,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No properties found"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:l||d!=="all"?"Try adjusting your search or filters":"No properties available"})]})]})})};delete za.Icon.Default.prototype._getIconUrl;za.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const C4e=()=>{var es,vs,Fn,os,br,Et,An,aa,Ks,ls,cs,ds,kn,ot,St,Tt,vt,Dt,Nn,Ur,ts,Tr;const{id:e}=Su(),t=hr(),[r,n]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(0),[c,d]=_.useState(null),[u,f]=_.useState(null),[A,m]=_.useState(!1),[x,g]=_.useState(null),[y,v]=_.useState(!1),[b,w]=_.useState(!1),[C,N]=_.useState({}),[j,P]=_.useState(!1),[k,T]=_.useState({}),[O,B]=_.useState(!1),[F,M]=_.useState(!1),[R,H]=_.useState({room_number:"",room_type:"Single",rent:"",description:"",occupancy:1,amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},room_image:null,room_image_file:null,toilet_image:null,toilet_image_file:null}),[G,$]=_.useState(!1),[V,te]=_.useState(""),[re,K]=_.useState(!1),[z,ee]=_.useState(!1),[W,ne]=_.useState({}),[se,ce]=_.useState(""),[ye,Ae]=_.useState(!1),[xe,le]=_.useState({}),Z=(ve,nt)=>{const lt=nt.toLowerCase().endsWith(".pdf");console.log("Opening document preview:",{docUrl:ve,fileName:nt,isPdf:lt}),fetch(ve,{method:"HEAD"}).then(yt=>{console.log("Document URL response:",yt.status,yt.statusText),yt.ok||console.error("Document URL not accessible:",yt.status)}).catch(yt=>{console.error("Error checking document URL:",yt)}),f({url:ve,name:nt,type:lt?"pdf":"image"})},pe=ve=>{console.log("Opening room details for room:",ve),console.log("Room ID:",ve._id),g(ve),v(!0)},oe=ve=>{console.log("Opening edit room for:",ve),T({_id:ve._id,room_number:ve.room_number,room_type:ve.room_type,room_size:ve.room_size,bed_type:ve.bed_type,occupancy:ve.occupancy,rent:ve.rent,description:ve.description||"",amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1,...typeof ve.amenities=="string"?JSON.parse(ve.amenities):ve.amenities||{}},room_image:ve.room_image,toilet_image:ve.toilet_image}),w(!0)},X=()=>{let ve="101";if(r&&r.rooms&&r.rooms.length>0){const nt=r.rooms.map(lt=>parseInt(lt.room_number)).filter(lt=>!isNaN(lt));nt.length>0&&(ve=(Math.max(...nt)+1).toString())}H({room_number:ve,room_type:"Single",room_size:"",bed_type:"Single Bed",rent:"",description:"",occupancy:1,amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},room_image:null,room_image_file:null,toilet_image:null,toilet_image_file:null}),le({}),B(!0)},be=(ve,nt)=>{xe[ve]&&le(lt=>{const yt={...lt};return delete yt[ve],yt}),!((ve==="rent"||ve==="room_size")&&nt!==""&&Number(nt)<0)&&H(lt=>{const yt={...lt,[ve]:nt};if(ve==="room_type"){const tr={Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1};yt.occupancy=tr[nt]||1}return yt})},_e=(ve,nt)=>{H(lt=>({...lt,amenities:{...lt.amenities,[ve]:nt}}))},Le=(ve,nt)=>{const lt=ve.target.files[0];lt&&(xe.room_image&&nt==="room_image"&&le(yt=>{const tr={...yt};return delete tr.room_image,tr}),xe.toilet_image&&nt==="toilet_image"&&le(yt=>{const tr={...yt};return delete tr.toilet_image,tr}),H(yt=>({...yt,[nt]:URL.createObjectURL(lt),[`${nt}_file`]:lt})))},ke=ve=>{H(nt=>({...nt,[ve]:null,[`${ve}_file`]:null}))},Qe=()=>{const ve={};return R.room_number||(ve.room_number="Room Number is required"),r&&r.rooms&&r.rooms.some(nt=>nt.room_number.toString()===R.room_number.toString())&&(ve.room_number="Room Number already exists"),R.rent?Number(R.rent)<=0&&(ve.rent="Rent must be greater than 0"):ve.rent="Rent is required",R.room_size?Number(R.room_size)<=0&&(ve.room_size="Size must be greater than 0"):ve.room_size="Room Size is required",!R.room_image_file&&!R.room_image&&(ve.room_image="Room Image is required"),R.amenities.attachedBathroom&&!R.toilet_image_file&&!R.toilet_image&&(ve.toilet_image="Toilet Image is required for attached bathroom"),ve},Ye=async()=>{try{const ve=Qe();if(Object.keys(ve).length>0){le(ve);return}M(!0);const nt=localStorage.getItem("authToken"),lt=new FormData,yt={...R};delete yt.room_image,delete yt.room_image_file,delete yt.toilet_image,delete yt.toilet_image_file,lt.append("roomData",JSON.stringify(yt)),Object.keys(yt).forEach(yr=>{yr==="amenities"||typeof yt[yr]=="object"?lt.append(yr,JSON.stringify(yt[yr])):lt.append(yr,yt[yr])}),R.room_image_file&&lt.append("room_image",R.room_image_file),R.toilet_image_file&&lt.append("toilet_image",R.toilet_image_file);const Yr=(await qe.post(`/property/owner/properties/${e}/rooms`,lt,{headers:{"Content-Type":"multipart/form-data"}})).data;if(Yr.success)await Ee(),B(!1),te("Room added successfully!"),$(!0),setTimeout(()=>$(!1),3e3);else throw new Error(Yr.message||"Failed to add room")}catch(ve){console.error("Error adding room:",ve),te(`Error: ${ve.message}`),$(!0)}finally{M(!1)}},it=(ve,nt)=>{T(lt=>{const yt={...lt,[ve]:nt};if(ve==="room_type"){const tr={Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1};yt.occupancy=tr[nt]||1}return yt})},Oe=(ve,nt)=>{T(lt=>{const yt={...lt,amenities:{...lt.amenities,[ve]:nt}};return ve==="attachedBathroom"&&!nt&&(yt.toilet_image=null,yt.toilet_image_file=null),yt})},Ge=(ve,nt)=>{ne(lt=>({...lt,[ve]:nt}))},mt=(ve,nt)=>{ne(lt=>({...lt,amenities:{...lt.amenities,[ve]:nt}}))},ft=(ve,nt)=>{ne(lt=>({...lt,rules:{...lt.rules,[ve]:nt}}))},Ie=async ve=>{try{if(Ae(!0),!localStorage.getItem("authToken")){t("/login");return}(await qe.put(`/property/owner/properties/${e}/status`,{status:ve})).data.success&&(n(tr=>({...tr,status:ve,updated_at:new Date().toISOString()})),console.log("Property status updated successfully"))}catch(nt){console.error("Error updating property status:",nt)}finally{Ae(!1)}},Je=ve=>{const nt=ve.target.files[0];if(nt){const lt=URL.createObjectURL(nt);T(yt=>({...yt,room_image:lt,room_image_file:nt}))}},ue=ve=>{const nt=ve.target.files[0];if(nt){const lt=URL.createObjectURL(nt);T(yt=>({...yt,toilet_image:lt,toilet_image_file:nt}))}},Se=()=>{T(ve=>({...ve,room_image:null,room_image_file:null}))},Fe=()=>{T(ve=>({...ve,toilet_image:null,toilet_image_file:null}))},Ee=async()=>{try{const nt=(await qe.get(`/property/owner/properties/${e}`)).data;nt.success&&(n(nt.data),console.log("Property data refreshed"))}catch(ve){console.error("Error refreshing property data:",ve)}},De=async()=>{try{const ve=localStorage.getItem("authToken"),nt=(()=>{try{const tr=JSON.parse(localStorage.getItem("user")||"{}");return tr._id||tr.id||""}catch{return""}})();console.log("Fetching owner email for userId:",nt),console.log("User service URL:",`http://localhost:4002/api/users/${nt}`);const lt=await qe.get(`/user/profile/${nt}`);console.log("Owner email response status:",lt.status);const yt=lt.data;console.log("Owner email response data:",yt),yt.success&&yt.data&&(ce(yt.data.email||""),console.log("Owner email fetched and set:",yt.data.email))}catch(ve){console.error("Error fetching owner email:",ve)}},ut=async()=>{try{P(!0);const ve=localStorage.getItem("authToken"),nt=(()=>{try{const yr=JSON.parse(localStorage.getItem("user")||"{}");return yr._id||yr.id||""}catch{return""}})(),lt=new FormData,yt={...k};delete yt.room_image_file,delete yt.toilet_image_file,delete yt.room_image,delete yt.toilet_image,lt.append("roomData",JSON.stringify(yt)),Object.keys(yt).forEach(yr=>{yr==="amenities"||typeof yt[yr]=="object"?lt.append(yr,JSON.stringify(yt[yr])):lt.append(yr,yt[yr])}),k.room_image_file&&lt.append("room_image",k.room_image_file),k.toilet_image_file&&lt.append("toilet_image",k.toilet_image_file),console.log("Updating room:",k._id),console.log("Room data:",yt);const Yr=(await qe.put(`/property/rooms/${k._id}`,lt,{headers:{"Content-Type":"multipart/form-data"}})).data;if(console.log("Update response:",Yr),Yr.success){if(await Ee(),x&&x._id===k._id)try{const ka=(await qe.get(`/property/owner/properties/${e}`)).data;if(ka.success&&ka.data){const io=ka.data.rooms.find(Ar=>Ar._id===k._id);io&&g(io)}}catch(yr){console.error("Error fetching updated room data:",yr)}w(!1),te("Room updated successfully!"),$(!0),setTimeout(()=>{$(!1)},3e3)}}catch(ve){console.error("Error updating room:",ve),te(`Error updating room: ${ve.message}`),$(!0)}finally{P(!1)}},Nt=async()=>{try{ee(!0);const ve=localStorage.getItem("authToken"),nt=(()=>{try{const Yr=JSON.parse(localStorage.getItem("user")||"{}");return Yr._id||Yr.id||""}catch{return""}})(),lt={property_name:W.property_name,description:W.description,amenities:W.amenities,rules:W.rules,contact_number:W.contact_number,security_deposit:W.security_deposit,maintenance_fee:W.maintenance_fee,latitude:W.latitude,longitude:W.longitude,address:{street:W.address,city:W.city,state:W.state,pincode:W.pincode,landmark:W.landmark}};console.log("Updating property:",W._id),console.log("Property data:",lt);const tr=(await qe.put(`/property/owner/properties/${W._id}`,lt)).data;console.log("Update response:",tr),tr.success&&(await Ee(),K(!1),te("Property updated successfully!"),$(!0),setTimeout(()=>{$(!1)},3e3))}catch(ve){console.error("Error updating property:",ve),te(`Error updating property: ${ve.message}`),$(!0)}finally{ee(!1)}},Pt=async(ve,nt)=>{try{console.log("Updating room status:",{roomId:ve,newStatus:nt}),N(yr=>({...yr,[ve]:!0}));const lt=localStorage.getItem("authToken"),yt=(()=>{try{const yr=JSON.parse(localStorage.getItem("user")||"{}");return yr._id||yr.id||""}catch{return""}})();console.log("API call details:",{url:`http://localhost:5000/api/property/api/rooms/${ve}/status`,authToken:lt?"Present":"Missing",userId:yt||"Missing"});const tr=await qe.put(`/property/rooms/${ve}/status`,{is_available:nt==="active"});console.log("Response status:",tr.status);const Yr=tr.data;console.log("Response data:",Yr),Yr.success&&(n(yr=>({...yr,rooms:yr.rooms.map(ka=>ka._id===ve?{...ka,status:nt,is_available:nt==="active"}:ka)})),x&&x._id===ve&&g(yr=>({...yr,status:nt,is_available:nt==="active"})),console.log("Room status updated successfully"),te("Room status updated successfully!"),$(!0),setTimeout(()=>{$(!1)},3e3))}catch(lt){console.error("Error updating room status:",lt),te(`Error updating room status: ${lt.message}`),$(!0)}finally{N(lt=>({...lt,[ve]:!1}))}},ht=ve=>{switch(ve){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Xe=ve=>{switch(ve){case"active":return At;case"inactive":return rr;case"maintenance":return Hn;default:return rr}};_.useEffect(()=>{(()=>{const nt=localStorage.getItem("authToken"),lt=localStorage.getItem("user");if(!nt||!lt){t("/login");return}try{const yt=JSON.parse(lt);if(yt.role!==3){t("/login");return}d(yt)}catch(yt){console.error("Error parsing user data:",yt),t("/login")}})()},[t]),_.useEffect(()=>{e&&(async()=>{try{if(console.log("PropertyDetails - Fetching property with ID:",e),!localStorage.getItem("authToken"))return;console.log("PropertyDetails - Fetching from URL via apiClient");const lt=await qe.get(`/property/owner/properties/${e}`);console.log("Property fetch response status:",lt.status);const yt=lt.data;if(yt.success){const tr={...yt.data};try{typeof tr.amenities=="string"&&(tr.amenities=JSON.parse(tr.amenities))}catch(Yr){console.error("Error parsing property amenities:",Yr),tr.amenities={}}try{typeof tr.rules=="string"&&(tr.rules=JSON.parse(tr.rules))}catch(Yr){console.error("Error parsing property rules:",Yr),tr.rules={}}tr.rooms&&(tr.rooms=tr.rooms.map(Yr=>{const yr={...Yr};try{typeof yr.amenities=="string"&&(yr.amenities=JSON.parse(yr.amenities))}catch(ka){console.error(`Error parsing amenities for room ${Yr.room_number}:`,ka),yr.amenities={}}return yr})),console.log("Property details fetched and processed:",tr),n(tr)}else console.error("Failed to fetch property:",yt.message)}catch(nt){console.error("Error fetching property details:",nt)}finally{i(!1)}})()},[e]),_.useEffect(()=>{e&&De()},[e]),_.useEffect(()=>{se&&re&&ne(ve=>({...ve,contact_email:se}))},[se,re]);const Ze=ve=>{if(!ve)return[];const nt=[];return[{key:"front",label:"Front View"},{key:"back",label:"Back View"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"}].forEach(({key:yt,label:tr})=>{ve[yt]&&ve[yt]!==null&&nt.push({url:ve[yt],label:tr,type:"property"})}),ve.gallery&&Array.isArray(ve.gallery)&&ve.gallery.forEach((yt,tr)=>{yt&&yt!==null&&nt.push({url:yt,label:`Gallery Image ${tr+1}`,type:"gallery"})}),nt},ct=ve=>{if(!ve||!Array.isArray(ve))return[];const nt=[];return ve.forEach((lt,yt)=>{var tr;lt.room_image&&nt.push({url:lt.room_image,label:`Room ${lt.room_number||yt+1} - Room Image`,type:"room",roomNumber:lt.room_number||yt+1}),lt.toilet_image&&((tr=lt.amenities)!=null&&tr.attachedBathroom)&&nt.push({url:lt.toilet_image,label:`Room ${lt.room_number||yt+1} - Toilet Image`,type:"toilet",roomNumber:lt.room_number||yt+1})}),nt},tt=()=>{Bt&&Bt.length>1&&l(ve=>(ve+1)%Bt.length)},ze=()=>{Bt&&Bt.length>1&&l(ve=>(ve-1+Bt.length)%Bt.length)},wt=ve=>({wifi:im,parking:cc,kitchen:Pm,gym:QV,security:er,camera:ms,ac:Pm,waterSupply:Pm,powerBackup:Pm,garden:Pm,swimmingPool:Pm})[ve.toLowerCase()]||Pr,Ut=ve=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(ve),$r=ve=>{switch(ve){case"approved":return s.jsxs("div",{className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[s.jsx(At,{className:"w-4 h-4"}),s.jsx("span",{children:"Approved"})]});case"rejected":return s.jsxs("div",{className:"flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:"Rejected"})]});case"pending":default:return s.jsxs("div",{className:"flex items-center space-x-1 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:[s.jsx(Hn,{className:"w-4 h-4"}),s.jsx("span",{children:"Pending Approval"})]})}};if(a)return s.jsx(wn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property details..."})]})})});if(!r)return s.jsx(wn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The property you're looking for doesn't exist or has been removed."}),s.jsxs("button",{onClick:()=>t("/owner-properties"),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Back to Properties"]})]})})});const Or=Ze(r.images),Vr=ct(r.rooms),tn=r.outside_toilet_image?[{url:r.outside_toilet_image,label:"Outside Toilet",type:"property"}]:[],Bt=[...Or,...Vr,...tn];return s.jsx(wn,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between py-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/owner-properties"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Ps,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.property_name}),s.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(xr,{className:"w-4 h-4"}),s.jsxs("span",{children:[(es=r.address)==null?void 0:es.city,", ",(vs=r.address)==null?void 0:vs.state]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Zr,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:r.property_mode||"Room"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Wr,{className:"w-4 h-4"}),s.jsxs("span",{children:[((Fn=r.rooms)==null?void 0:Fn.length)||0," Rooms"]})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ag,{className:"w-5 h-5 text-gray-600"})}),s.jsx("button",{onClick:()=>t(`/owner-edit-property/${r._id||r.id}`),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(mA,{className:"w-5 h-5 text-gray-600"})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[Bt.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:s.jsx("img",{src:(os=Bt[o])==null?void 0:os.url,alt:(br=Bt[o])==null?void 0:br.label,className:"w-full h-96 object-cover",onError:ve=>{ve.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=800&h=600&fit=crop&crop=center"}})}),Bt.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:ze,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(PF,{className:"w-5 h-5"})}),s.jsx("button",{onClick:tt,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(_h,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[s.jsxs("span",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[o+1," / ",Bt.length]}),s.jsx("span",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:(Et=Bt[o])==null?void 0:Et.label})]}),s.jsx("button",{onClick:()=>m(!0),className:"absolute bottom-4 right-4 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(Rue,{className:"w-5 h-5"})})]}),Bt.length>1&&s.jsx("div",{className:"p-4 bg-gray-50",children:s.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:Bt.map((ve,nt)=>s.jsx("button",{onClick:()=>l(nt),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${nt===o?"border-red-500":"border-gray-200 hover:border-gray-300"}`,children:s.jsx("img",{src:ve.url,alt:ve.label,className:"w-full h-full object-cover"})},nt))})})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[s.jsx(ms,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Images Available"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"This property doesn't have any images uploaded yet."}),s.jsxs("button",{onClick:()=>t(`/owner-edit-property/${r._id||r.id}`),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Add Images"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})]}),r.property_mode==="room"&&r.rooms&&r.rooms.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Room Details"}),s.jsxs("button",{onClick:X,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(ud,{className:"w-5 h-5 mr-2"}),"Add Room"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.rooms.map((ve,nt)=>{const lt=Xe(ve.status||"active");return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all cursor-pointer group",onClick:()=>pe(ve),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-bold text-lg",children:ve.room_number||nt+1})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",ve.room_number||nt+1]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[ve.room_type,"  ",ve.room_size," sq ft"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ut(ve.perPersonRent||Math.ceil(ve.rent/ve.occupancy))}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"per person/month"}),s.jsxs("span",{className:"text-xs text-gray-400",children:["Total Room Rent: ",Ut(ve.rent)]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ${ht(ve.status||"active")}`,children:[s.jsx(lt,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:ve.status||"Active"})]}),$r(ve.approval_status||"pending")]}),s.jsx("div",{className:"text-sm text-gray-500 group-hover:text-gray-700",children:"Click to view details "})]}),s.jsxs("div",{className:`grid gap-4 mb-4 ${ve.room_image&&ve.toilet_image?"grid-cols-2":"grid-cols-1"}`,children:[ve.room_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("img",{src:ve.room_image,alt:`Room ${ve.room_number||nt+1}`,className:"w-full h-32 object-cover rounded-lg border",onError:yt=>{yt.target.src="https://via.placeholder.com/300x200?text=Room+Image"}})]}),ve.toilet_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("img",{src:ve.toilet_image,alt:`Room ${ve.room_number||nt+1} Toilet`,className:"w-full h-32 object-cover rounded-lg border",onError:yt=>{yt.target.src="https://via.placeholder.com/300x200?text=Toilet+Image"}})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Bed Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:ve.bed_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Occupancy:"}),s.jsxs("span",{className:`ml-2 font-medium ${(ve.current_occupants||0)>=ve.occupancy?"text-red-500":"text-green-600"}`,children:[ve.current_occupants||0," / ",ve.occupancy," Occupied"]})]})]}),ve.description&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Description:"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:ve.description})]}),ve.amenities&&Object.keys(ve.amenities).length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Amenities:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(ve.amenities).map(([yt,tr])=>{if(tr){const Yr=wt(yt);return s.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-green-50 text-green-700 rounded-full text-xs",children:[s.jsx(Yr,{className:"w-3 h-3"}),s.jsx("span",{className:"capitalize",children:yt.replace(/([A-Z])/g," $1").trim()})]},yt)}return null})})]})]})]},nt)})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Pricing Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.security_deposit&&s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx(er,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Ut(r.security_deposit)})]}),r.property_mode==="room"&&r.rooms&&r.rooms.length>0&&s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(ra,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Starting from"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ut(Math.min(...r.rooms.map(ve=>ve.perPersonRent||Math.ceil(ve.rent/ve.occupancy)||ve.rent)))}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"per person/month"})]})]})]}),r.amenities&&Object.keys(r.amenities).length>0&&(()=>{const ve=Object.entries(r.amenities).filter(([nt,lt])=>lt===!0);return ve.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ve.map(([nt,lt])=>{const yt=wt(nt);return s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(yt,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800 capitalize",children:nt.replace(/([A-Z])/g," $1").trim()})]},nt)})})]}):null})(),r.toilet_outside&&r.outside_toilet_image&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Outside Toilet"}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Zr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Outside Toilet Available"}),s.jsx("p",{className:"text-xs text-blue-600",children:"Shared toilet facility for all residents"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("img",{src:r.outside_toilet_image,alt:"Outside Toilet",className:"w-full max-w-md h-64 object-cover rounded-lg border",onError:ve=>{ve.target.src="https://via.placeholder.com/400x300?text=Outside+Toilet+Image"}})})]}),r.rules&&Object.keys(r.rules).length>0&&(()=>{const ve=Object.entries(r.rules).filter(([nt,lt])=>lt===!0);return ve.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ve.map(([nt,lt])=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(At,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700 capitalize",children:nt.replace(/([A-Z])/g," $1").trim()})]},nt))})]}):null})(),(r.land_tax_receipt||r.documents&&r.documents.length>0)&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Property Documents"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.land_tax_receipt&&s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Is,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Land Tax Receipt"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>Z(r.land_tax_receipt,"Land Tax Receipt.pdf"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Preview",children:s.jsx(Ir,{className:"w-4 h-4"})}),s.jsx("a",{href:r.land_tax_receipt,download:"Land Tax Receipt.pdf",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:s.jsx(Jc,{className:"w-4 h-4"})})]})]}),r.documents&&r.documents.map((ve,nt)=>{const lt=ve.split("/").pop()||`Document ${nt+1}`,yt=lt.toLowerCase().endsWith(".pdf");return s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Is,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[200px]",children:lt}),s.jsx("p",{className:"text-xs text-gray-500",children:yt?"PDF Document":"Image Document"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>Z(ve,lt),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Preview",children:s.jsx(Ir,{className:"w-4 h-4"})}),s.jsx("a",{href:ve,download:lt,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:s.jsx(Jc,{className:"w-4 h-4"})})]})]},nt)})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Status"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status==="active"?"Active":"Inactive"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>Ie(r.status==="active"?"inactive":"active"),disabled:ye,className:`flex items-center justify-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${r.status==="active"?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"} ${ye?"opacity-50 cursor-not-allowed":""}`,children:ye?s.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):r.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx($V,{className:"w-4 h-4 mr-1"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(HV,{className:"w-4 h-4 mr-1"}),"Activate"]})}),s.jsx("button",{className:"text-sm text-red-600 hover:text-red-700",children:s.jsx(LA,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Admin Approval"}),s.jsxs("div",{className:"flex items-center justify-between",children:[$r(r.approval_status||"pending"),s.jsx("p",{className:"text-xs text-gray-500 italic max-w-[150px]",children:r.approval_status==="approved"?"Listing is visible to seekers.":r.approval_status==="rejected"?"Please contact admin for details.":"Awaiting admin review."})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Zr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Property Mode"}),s.jsx("p",{className:"font-medium capitalize",children:r.property_mode||"Room"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Wr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Number of Rooms"}),s.jsx("p",{className:"font-medium",children:((An=r.rooms)==null?void 0:An.length)||0})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Fr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Listed On"}),s.jsx("p",{className:"font-medium",children:new Date(r.createdAt||r.created_at).toLocaleDateString()})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(xr,{className:"w-5 h-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Street"}),s.jsx("p",{className:"font-medium",children:((aa=r.address)==null?void 0:aa.street)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Zr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"City, State"}),s.jsxs("p",{className:"font-medium",children:[(Ks=r.address)==null?void 0:Ks.city,", ",(ls=r.address)==null?void 0:ls.state]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pincode"}),s.jsx("p",{className:"font-medium",children:((cs=r.address)==null?void 0:cs.pincode)||"Not provided"})]})]}),((ds=r.address)==null?void 0:ds.landmark)&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Sa,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Landmark"}),s.jsx("p",{className:"font-medium",children:r.address.landmark})]})]})]})]}),r.latitude&&r.longitude&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Coordinates"}),s.jsxs("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:[r.latitude,", ",r.longitude]})]}),s.jsx("div",{className:"h-64 w-full rounded-lg overflow-hidden relative",style:{minHeight:"256px",zIndex:1},children:s.jsxs(ef,{center:[parseFloat(r.latitude),parseFloat(r.longitude)],zoom:15,style:{height:"100%",width:"100%",zIndex:1},scrollWheelZoom:!0,children:[s.jsx(ol,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(tf,{position:[parseFloat(r.latitude),parseFloat(r.longitude)],children:s.jsx(Ty,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:(r==null?void 0:r.property_name)||"Property Location"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((kn=r==null?void 0:r.address)==null?void 0:kn.street)&&`${r.address.street}, `,((ot=r==null?void 0:r.address)==null?void 0:ot.city)&&`${r.address.city}, `,((St=r==null?void 0:r.address)==null?void 0:St.state)&&`${r.address.state}`]})]})})})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nn,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:(c==null?void 0:c.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(bn,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("p",{className:"font-medium",children:(c==null?void 0:c.phone)||"Not provided"})]})]})]})]})]})]})}),A&&Bt.length>0&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:s.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[s.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 z-10 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(rr,{className:"w-6 h-6"})}),s.jsx("img",{src:(Tt=Bt[o])==null?void 0:Tt.url,alt:(vt=Bt[o])==null?void 0:vt.label,className:"max-w-full max-h-full object-contain rounded-lg"}),Bt.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:ze,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(PF,{className:"w-6 h-6"})}),s.jsx("button",{onClick:tt,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(_h,{className:"w-6 h-6"})})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["Document Preview - ",u.name]}),s.jsx("button",{type:"button",onClick:()=>f(null),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsx("div",{className:"p-4 max-h-[80vh] overflow-auto",children:u.type==="pdf"?s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:s.jsx("iframe",{title:"PDF Preview",src:`${u.url}#toolbar=1&navpanes=1&scrollbar=1`,className:"w-full h-full border-0",style:{minHeight:"600px"},onLoad:()=>{console.log("PDF iframe loaded successfully")},onError:ve=>{console.error("PDF iframe error:",ve),ve.target.style.display="none";const nt=ve.target.parentElement;nt.innerHTML=`
                          <div class="flex flex-col items-center justify-center h-full bg-gray-50 p-8">
                            <div class="text-center">
                              <FileText class="w-16 h-16 text-gray-400 mx-auto mb-4" />
                              <h3 class="text-lg font-medium text-gray-900 mb-2">PDF Preview Not Available</h3>
                              <p class="text-gray-600 mb-4">This PDF cannot be previewed in the browser.</p>
                              <div class="flex flex-col sm:flex-row gap-3 justify-center">
                                <a href="${u.url}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                                  <ExternalLink class="w-4 h-4 mr-2" />
                                  Open in New Tab
                                </a>
                                <a href="${u.url}" download="${u.name}" class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
                                  <Download class="w-4 h-4 mr-2" />
                                  Download PDF
                                </a>
                              </div>
                            </div>
                          </div>
                        `}})}):s.jsx("img",{src:u.url,alt:u.name,className:"w-full max-h-[70vh] object-contain border border-gray-200 rounded-lg",onError:ve=>{ve.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[s.jsx("div",{className:"text-xs text-gray-500",children:u.type==="pdf"?"PDF Document":"Image Document"}),s.jsxs("div",{className:"flex gap-2",children:[u.type==="pdf"&&s.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(r6,{className:"w-4 h-4 mr-1"}),"Open in New Tab"]}),s.jsxs("a",{href:u.url,download:u.name,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Jc,{className:"w-4 h-4 mr-1"}),"Download"]})]})]})]})}),y&&x&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-bold text-lg",children:x.room_number})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Room ",x.room_number]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[x.room_type,"  ",x.room_size," sq ft"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ${ht(x.status||"active")}`,children:[(()=>{const ve=Xe(x.status||"active");return s.jsx(ve,{className:"w-4 h-4"})})(),s.jsx("span",{className:"capitalize",children:x.status||"Active"})]}),$r(x.approval_status||"pending"),s.jsx("button",{onClick:()=>oe(x),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Room",children:s.jsx(mA,{className:"w-5 h-5 text-blue-600"})}),s.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rr,{className:"w-5 h-5 text-gray-500"})})]})]}),s.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Room Images"}),x.room_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("img",{src:x.room_image,alt:`Room ${x.room_number}`,className:"w-full h-64 object-cover rounded-lg border",onError:ve=>{ve.target.src="https://via.placeholder.com/400x300?text=Room+Image"}})]}),x.toilet_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("img",{src:x.toilet_image,alt:`Room ${x.room_number} Toilet`,className:"w-full h-64 object-cover rounded-lg border",onError:ve=>{ve.target.src="https://via.placeholder.com/400x300?text=Toilet+Image"}})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pricing"}),s.jsx("div",{className:"text-3xl font-bold text-green-600",children:Ut(x.perPersonRent||Math.ceil(x.rent/x.occupancy)||x.rent)}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"per person/month"}),s.jsxs("span",{className:"text-xs text-gray-400",children:["Total Room Rent: ",Ut(x.rent)]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Specifications"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Room Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:x.room_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Room Size:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[x.room_size," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Bed Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:x.bed_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Occupancy:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[x.occupancy," people"]})]})]})]}),x.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:x.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["ac","wifi","tv","fridge","wardrobe","studyTable","balcony","attachedBathroom"].map(ve=>{var yt;const nt=(yt=x.amenities)==null?void 0:yt[ve],lt=wt(ve)||At;return s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm border transition-colors ${nt?"bg-green-50 border-green-200 text-green-800 font-medium":"bg-gray-50 border-gray-100 text-gray-400"}`,children:[s.jsx(lt,{className:`w-4 h-4 ${nt?"text-green-600":"text-gray-400"}`}),s.jsx("span",{className:"capitalize flex-1",children:ve.replace(/([A-Z])/g," $1").trim()}),nt&&s.jsx(At,{className:"w-4 h-4 text-green-600"})]},ve)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Room Status Management"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>Pt(x._id,"active"),disabled:C[x._id]||x.is_available,className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.is_available?"bg-green-100 text-green-800 cursor-not-allowed":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[C[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):s.jsx(At,{className:"w-4 h-4"}),s.jsx("span",{children:"Active"})]}),s.jsxs("button",{onClick:()=>Pt(x._id,"inactive"),disabled:C[x._id]||!x.is_available,className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.is_available?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-gray-100 text-gray-800 cursor-not-allowed"}`,children:[C[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}):s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:"Inactive"})]}),s.jsxs("button",{onClick:()=>Pt(x._id,"maintenance"),disabled:C[x._id]||x.status==="maintenance",className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.status==="maintenance"?"bg-yellow-100 text-yellow-800 cursor-not-allowed":"bg-yellow-50 text-yellow-700 hover:bg-yellow-100"}`,children:[C[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"}):s.jsx(Hn,{className:"w-4 h-4"}),s.jsx("span",{children:"Maintenance"})]})]})]})]})]})})]})}),b&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Room ",k.room_number]}),$r(k.approval_status||"pending")]}),s.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Room Images"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),k.room_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:k.room_image,alt:"Room",className:"w-full h-48 object-cover rounded-lg border"}),s.jsx("button",{onClick:Se,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(rr,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:Je,className:"hidden",id:"room-image-upload"}),s.jsxs("label",{htmlFor:"room-image-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:[s.jsx(ms,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Click to upload room image"})]})]})]}),(((Dt=k.amenities)==null?void 0:Dt.attachedBathroom)||k.toilet_image)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),k.toilet_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:k.toilet_image,alt:"Toilet",className:"w-full h-48 object-cover rounded-lg border"}),s.jsx("button",{onClick:Fe,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(rr,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:ue,className:"hidden",id:"toilet-image-upload"}),s.jsxs("label",{htmlFor:"toilet-image-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:[s.jsx(ms,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Click to upload toilet image"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),s.jsxs("select",{value:k.room_type,onChange:ve=>it("room_type",ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single",children:"Single"}),s.jsx("option",{value:"Double",children:"Double"}),s.jsx("option",{value:"Triple",children:"Triple"}),s.jsx("option",{value:"Quad",children:"Quad"}),s.jsx("option",{value:"Master",children:"Master"}),s.jsx("option",{value:"Studio",children:"Studio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (sq ft)"}),s.jsx("input",{type:"number",value:k.room_size,onChange:ve=>it("room_size",parseInt(ve.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),s.jsxs("select",{value:k.bed_type,onChange:ve=>it("bed_type",ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single Bed",children:"Single Bed"}),s.jsx("option",{value:"Double Bed",children:"Double Bed"}),s.jsx("option",{value:"Queen Bed",children:"Queen Bed"}),s.jsx("option",{value:"King Bed",children:"King Bed"}),s.jsx("option",{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx("option",{value:"No Bed",children:"No Bed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupancy"}),s.jsx("input",{type:"number",value:k.occupancy,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 cursor-not-allowed"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-set based on room type"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Monthly Rent ()"}),s.jsx("input",{type:"number",value:k.rent,onChange:ve=>it("rent",parseInt(ve.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attached Bathroom"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Has attached bathroom?"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`text-sm font-medium ${(Nn=k.amenities)!=null&&Nn.attachedBathroom?"text-gray-500":"text-gray-900"}`,children:"NO"}),s.jsx("button",{type:"button",onClick:()=>{var ve;return Oe("attachedBathroom",!((ve=k.amenities)!=null&&ve.attachedBathroom))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 ${(Ur=k.amenities)!=null&&Ur.attachedBathroom?"bg-red-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${(ts=k.amenities)!=null&&ts.attachedBathroom?"translate-x-6":"translate-x-1"}`})}),s.jsx("span",{className:`text-sm font-medium ${(Tr=k.amenities)!=null&&Tr.attachedBathroom?"text-gray-900":"text-gray-500"}`,children:"YES"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:k.description,onChange:ve=>it("description",ve.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Describe this room's features..."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(k.amenities||{}).map(([ve,nt])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:nt,onChange:lt=>Oe(ve,lt.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("label",{className:"text-sm text-gray-700 capitalize",children:ve.replace(/([A-Z])/g," $1").trim()})]},ve))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ut,disabled:j,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:j?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Updating..."})]}):"Update Room"})]})]})]})})]})}),G&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-md shadow-xl",children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:V.includes("successfully")?s.jsx(At,{className:"w-8 h-8 text-green-600"}):s.jsx(rr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:V.includes("successfully")?"Success!":"Error"}),s.jsx("p",{className:"text-gray-600 mb-6",children:V}),s.jsx("button",{onClick:()=>$(!1),className:`px-6 py-2 rounded-lg font-medium transition-colors ${V.includes("successfully")?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:"OK"})]})})}),re&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Property"}),s.jsx("button",{onClick:()=>K(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(rr,{className:"w-6 h-6 text-gray-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name"}),s.jsx("input",{type:"text",value:W.property_name||"",onChange:ve=>Ge("property_name",ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter property name"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{value:W.address||"",onChange:ve=>Ge("address",ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:"3",placeholder:"Enter full address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),s.jsx("input",{type:"text",value:W.city||"",onChange:ve=>Ge("city",ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter city"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),s.jsx("input",{type:"text",value:W.state||"",onChange:ve=>Ge("state",ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter state"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),s.jsx("input",{type:"text",value:W.pincode||"",onChange:ve=>Ge("pincode",ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter pincode"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:W.landmark||"",onChange:ve=>Ge("landmark",ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter landmark"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),s.jsx("input",{type:"tel",value:W.contact_number||"",onChange:ve=>Ge("contact_number",ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter contact number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Email"}),s.jsx("input",{type:"email",value:W.contact_email||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed",placeholder:"Owner email will be loaded automatically"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This is your registered email address"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit"}),s.jsx("input",{type:"number",value:W.security_deposit||"",onChange:ve=>Ge("security_deposit",parseFloat(ve.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter security deposit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maintenance Fee"}),s.jsx("input",{type:"number",value:W.maintenance_fee||"",onChange:ve=>Ge("maintenance_fee",parseFloat(ve.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter maintenance fee"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:W.description||"",onChange:ve=>Ge("description",ve.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:"4",placeholder:"Enter property description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Rules and Policies"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(W.rules||{}).map(([ve,nt])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:nt,onChange:lt=>ft(ve,lt.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsxs("label",{className:"text-sm text-gray-700 capitalize",children:[ve.replace(/([A-Z])/g," $1").trim()," Allowed"]})]},ve))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(W.amenities||{}).map(([ve,nt])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:nt,onChange:lt=>mt(ve,lt.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("label",{className:"text-sm text-gray-700 capitalize",children:ve.replace(/([A-Z])/g," $1").trim()})]},ve))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Nt,disabled:z,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:z?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Updating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mA,{className:"w-4 h-4"}),s.jsx("span",{children:"Update Property"})]})})]})]})]})})}),O&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Room"}),s.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx(rr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),s.jsx("input",{type:"text",value:R.room_number,onChange:ve=>be("room_number",ve.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500 ${xe.room_number?"border-red-500":"border-gray-300"}`,placeholder:"e.g. 101"}),xe.room_number&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:xe.room_number})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rent ()"}),s.jsx("input",{type:"number",value:R.rent,onChange:ve=>be("rent",ve.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500 ${xe.rent?"border-red-500":"border-gray-300"}`,placeholder:"e.g. 5000"}),xe.rent&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:xe.rent})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),s.jsxs("select",{value:R.room_type,onChange:ve=>be("room_type",ve.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single",children:"Single"}),s.jsx("option",{value:"Double",children:"Double"}),s.jsx("option",{value:"Triple",children:"Triple"}),s.jsx("option",{value:"Quad",children:"Quad"}),s.jsx("option",{value:"Master",children:"Master"}),s.jsx("option",{value:"Studio",children:"Studio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (sq.ft)"}),s.jsx("input",{type:"number",value:R.room_size||"",onChange:ve=>be("room_size",ve.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500 ${xe.room_size?"border-red-500":"border-gray-300"}`,placeholder:"e.g. 150"}),xe.room_size&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:xe.room_size})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),s.jsxs("select",{value:R.bed_type,onChange:ve=>be("bed_type",ve.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single Bed",children:"Single Bed"}),s.jsx("option",{value:"Double Bed",children:"Double Bed"}),s.jsx("option",{value:"Queen Bed",children:"Queen Bed"}),s.jsx("option",{value:"King Bed",children:"King Bed"}),s.jsx("option",{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx("option",{value:"No Bed",children:"No Bed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupancy"}),s.jsx("input",{type:"number",value:R.occupancy,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-100"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:R.description,onChange:ve=>be("description",ve.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"Room description..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(R.amenities).map(([ve,nt])=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:nt,onChange:lt=>_e(ve,lt.target.checked),className:"rounded text-red-600 focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-gray-600 capitalize",children:ve.replace(/([A-Z])/g," $1").trim()})]},ve))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-4 text-center hover:bg-gray-50 transition-colors ${xe.room_image?"border-red-500":"border-gray-300"}`,children:R.room_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:R.room_image,alt:"Room Preview",className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{onClick:()=>ke("room_image"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(rr,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"cursor-pointer block",children:[s.jsx(ms,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ve=>Le(ve,"room_image")})]})}),xe.room_image&&s.jsx("p",{className:"text-red-500 text-xs mt-1 text-center",children:xe.room_image})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-4 text-center hover:bg-gray-50 transition-colors ${xe.toilet_image?"border-red-500":"border-gray-300"}`,children:R.toilet_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:R.toilet_image,alt:"Toilet Preview",className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{onClick:()=>ke("toilet_image"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(rr,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"cursor-pointer block",children:[s.jsx(ms,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:ve=>Le(ve,"toilet_image")})]})}),xe.toilet_image&&s.jsx("p",{className:"text-red-500 text-xs mt-1 text-center",children:xe.toilet_image})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),s.jsxs("button",{onClick:Ye,disabled:F,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50",children:[F?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):null,s.jsx("span",{children:F?"Adding...":"Add Room"})]})]})]})]})})})]})})};function wM(e,[t,r]){return Math.min(r,Math.max(t,e))}var S4e=_.createContext(void 0);function B4e(e){const t=_.useContext(S4e);return e||t||"ltr"}const k4e=["top","right","bottom","left"],sf=Math.min,_o=Math.max,tj=Math.round,Mw=Math.floor,nd=e=>({x:e,y:e}),E4e={left:"right",right:"left",bottom:"top",top:"bottom"},P4e={start:"end",end:"start"};function Rk(e,t,r){return _o(e,sf(t,r))}function vu(e,t){return typeof e=="function"?e(t):e}function bu(e){return e.split("-")[0]}function Jg(e){return e.split("-")[1]}function uI(e){return e==="x"?"y":"x"}function hI(e){return e==="y"?"height":"width"}const I4e=new Set(["top","bottom"]);function Kc(e){return I4e.has(bu(e))?"y":"x"}function fI(e){return uI(Kc(e))}function T4e(e,t,r){r===void 0&&(r=!1);const n=Jg(e),a=fI(e),i=hI(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=rj(o)),[o,rj(o)]}function O4e(e){const t=rj(e);return[Uk(e),t,Uk(t)]}function Uk(e){return e.replace(/start|end/g,t=>P4e[t])}const jM=["left","right"],NM=["right","left"],L4e=["top","bottom"],F4e=["bottom","top"];function R4e(e,t,r){switch(e){case"top":case"bottom":return r?t?NM:jM:t?jM:NM;case"left":case"right":return t?L4e:F4e;default:return[]}}function U4e(e,t,r,n){const a=Jg(e);let i=R4e(bu(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Uk)))),i}function rj(e){return e.replace(/left|right|bottom|top/g,t=>E4e[t])}function D4e(e){return{top:0,right:0,bottom:0,left:0,...e}}function gX(e){return typeof e!="number"?D4e(e):{top:e,right:e,bottom:e,left:e}}function nj(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function _M(e,t,r){let{reference:n,floating:a}=e;const i=Kc(t),o=fI(t),l=hI(o),c=bu(t),d=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,A=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-a.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Jg(t)){case"start":m[o]-=A*(r&&d?-1:1);break;case"end":m[o]+=A*(r&&d?-1:1);break}return m}const M4e=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=_M(d,n,c),A=n,m={},x=0;for(let g=0;g<l.length;g++){const{name:y,fn:v}=l[g],{x:b,y:w,data:C,reset:N}=await v({x:u,y:f,initialPlacement:n,placement:A,strategy:a,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});u=b??u,f=w??f,m={...m,[y]:{...m[y],...C}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(A=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:f}=_M(d,A,c)),g=-1)}return{x:u,y:f,placement:A,strategy:a,middlewareData:m}};async function Dy(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:A=!1,padding:m=0}=vu(t,e),x=gX(m),y=l[A?f==="floating"?"reference":"floating":f],v=nj(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=nj(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(v.top-N.top+x.top)/C.y,bottom:(N.bottom-v.bottom+x.bottom)/C.y,left:(v.left-N.left+x.left)/C.x,right:(N.right-v.right+x.right)/C.x}}const Q4e=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=vu(e,t)||{};if(d==null)return{};const f=gX(u),A={x:r,y:n},m=fI(a),x=hI(m),g=await o.getDimensions(d),y=m==="y",v=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",C=i.reference[x]+i.reference[m]-A[m]-i.floating[x],N=A[m]-i.reference[m],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=j?j[w]:0;(!P||!await(o.isElement==null?void 0:o.isElement(j)))&&(P=l.floating[w]||i.floating[x]);const k=C/2-N/2,T=P/2-g[x]/2-1,O=sf(f[v],T),B=sf(f[b],T),F=O,M=P-g[x]-B,R=P/2-g[x]/2+k,H=Rk(F,R,M),G=!c.arrow&&Jg(a)!=null&&R!==H&&i.reference[x]/2-(R<F?O:B)-g[x]/2<0,$=G?R<F?R-F:R-M:0;return{[m]:A[m]+$,data:{[m]:H,centerOffset:R-H-$,...G&&{alignmentOffset:$}},reset:G}}}),$4e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:A,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...y}=vu(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=bu(a),b=Kc(l),w=bu(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=A||(w||!g?[rj(l)]:O4e(l)),j=x!=="none";!A&&j&&N.push(...U4e(l,g,x,C));const P=[l,...N],k=await Dy(t,y),T=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&T.push(k[v]),f){const R=T4e(a,o,C);T.push(k[R[0]],k[R[1]])}if(O=[...O,{placement:a,overflows:T}],!T.every(R=>R<=0)){var B,F;const R=(((B=i.flip)==null?void 0:B.index)||0)+1,H=P[R];if(H&&(!(f==="alignment"?b!==Kc(H):!1)||O.every(V=>Kc(V.placement)===b?V.overflows[0]>0:!0)))return{data:{index:R,overflows:O},reset:{placement:H}};let G=(F=O.filter($=>$.overflows[0]<=0).sort(($,V)=>$.overflows[1]-V.overflows[1])[0])==null?void 0:F.placement;if(!G)switch(m){case"bestFit":{var M;const $=(M=O.filter(V=>{if(j){const te=Kc(V.placement);return te===b||te==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(te=>te>0).reduce((te,re)=>te+re,0)]).sort((V,te)=>V[1]-te[1])[0])==null?void 0:M[0];$&&(G=$);break}case"initialPlacement":G=l;break}if(a!==G)return{reset:{placement:G}}}return{}}}};function CM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function SM(e){return k4e.some(t=>e[t]>=0)}const H4e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=vu(e,t);switch(n){case"referenceHidden":{const i=await Dy(t,{...a,elementContext:"reference"}),o=CM(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:SM(o)}}}case"escaped":{const i=await Dy(t,{...a,altBoundary:!0}),o=CM(i,r.floating);return{data:{escapedOffsets:o,escaped:SM(o)}}}default:return{}}}}},xX=new Set(["left","top"]);async function z4e(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=bu(r),l=Jg(r),c=Kc(r)==="y",d=xX.has(o)?-1:1,u=i&&c?-1:1,f=vu(t,e);let{mainAxis:A,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*u,y:A*d}:{x:A*d,y:m*u}}const V4e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await z4e(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},K4e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...c}=vu(e,t),d={x:r,y:n},u=await Dy(t,c),f=Kc(bu(a)),A=uI(f);let m=d[A],x=d[f];if(i){const y=A==="y"?"top":"left",v=A==="y"?"bottom":"right",b=m+u[y],w=m-u[v];m=Rk(b,m,w)}if(o){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=x+u[y],w=x-u[v];x=Rk(b,x,w)}const g=l.fn({...t,[A]:m,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[A]:i,[f]:o}}}}}},W4e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=vu(e,t),u={x:r,y:n},f=Kc(a),A=uI(f);let m=u[A],x=u[f];const g=vu(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=A==="y"?"height":"width",C=i.reference[A]-i.floating[w]+y.mainAxis,N=i.reference[A]+i.reference[w]-y.mainAxis;m<C?m=C:m>N&&(m=N)}if(d){var v,b;const w=A==="y"?"width":"height",C=xX.has(bu(a)),N=i.reference[f]-i.floating[w]+(C&&((v=o.offset)==null?void 0:v[f])||0)+(C?0:y.crossAxis),j=i.reference[f]+i.reference[w]+(C?0:((b=o.offset)==null?void 0:b[f])||0)-(C?y.crossAxis:0);x<N?x=N:x>j&&(x=j)}return{[A]:m,[f]:x}}}},G4e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=vu(e,t),u=await Dy(t,d),f=bu(a),A=Jg(a),m=Kc(a)==="y",{width:x,height:g}=i.floating;let y,v;f==="top"||f==="bottom"?(y=f,v=A===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,y=A==="end"?"top":"bottom");const b=g-u.top-u.bottom,w=x-u.left-u.right,C=sf(g-u[y],b),N=sf(x-u[v],w),j=!t.middlewareData.shift;let P=C,k=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=b),j&&!A){const O=_o(u.left,0),B=_o(u.right,0),F=_o(u.top,0),M=_o(u.bottom,0);m?k=x-2*(O!==0||B!==0?O+B:_o(u.left,u.right)):P=g-2*(F!==0||M!==0?F+M:_o(u.top,u.bottom))}await c({...t,availableWidth:k,availableHeight:P});const T=await o.getDimensions(l.floating);return x!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function p5(){return typeof window<"u"}function e0(e){return yX(e)?(e.nodeName||"").toLowerCase():"#document"}function Po(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wd(e){var t;return(t=(yX(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yX(e){return p5()?e instanceof Node||e instanceof Po(e).Node:!1}function gc(e){return p5()?e instanceof Element||e instanceof Po(e).Element:!1}function md(e){return p5()?e instanceof HTMLElement||e instanceof Po(e).HTMLElement:!1}function BM(e){return!p5()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Po(e).ShadowRoot}const q4e=new Set(["inline","contents"]);function nb(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=xc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!q4e.has(a)}const Y4e=new Set(["table","td","th"]);function X4e(e){return Y4e.has(e0(e))}const Z4e=[":popover-open",":modal"];function g5(e){return Z4e.some(t=>{try{return e.matches(t)}catch{return!1}})}const J4e=["transform","translate","scale","rotate","perspective"],eBe=["transform","translate","scale","rotate","perspective","filter"],tBe=["paint","layout","strict","content"];function AI(e){const t=mI(),r=gc(e)?xc(e):e;return J4e.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||eBe.some(n=>(r.willChange||"").includes(n))||tBe.some(n=>(r.contain||"").includes(n))}function rBe(e){let t=af(e);for(;md(t)&&!dg(t);){if(AI(t))return t;if(g5(t))return null;t=af(t)}return null}function mI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nBe=new Set(["html","body","#document"]);function dg(e){return nBe.has(e0(e))}function xc(e){return Po(e).getComputedStyle(e)}function x5(e){return gc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function af(e){if(e0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||BM(e)&&e.host||wd(e);return BM(t)?t.host:t}function vX(e){const t=af(e);return dg(t)?e.ownerDocument?e.ownerDocument.body:e.body:md(t)&&nb(t)?t:vX(t)}function My(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=vX(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Po(a);if(i){const l=Dk(o);return t.concat(o,o.visualViewport||[],nb(a)?a:[],l&&r?My(l):[])}return t.concat(a,My(a,[],r))}function Dk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function bX(e){const t=xc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=md(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=tj(r)!==i||tj(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function pI(e){return gc(e)?e:e.contextElement}function Vp(e){const t=pI(e);if(!md(t))return nd(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=bX(t);let o=(i?tj(r.width):r.width)/n,l=(i?tj(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const sBe=nd(0);function wX(e){const t=Po(e);return!mI()||!t.visualViewport?sBe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aBe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Po(e)?!1:t}function VA(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=pI(e);let o=nd(1);t&&(n?gc(n)&&(o=Vp(n)):o=Vp(e));const l=aBe(i,r,n)?wX(i):nd(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const A=Po(i),m=n&&gc(n)?Po(n):n;let x=A,g=Dk(x);for(;g&&n&&m!==x;){const y=Vp(g),v=g.getBoundingClientRect(),b=xc(g),w=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,C=v.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=w,d+=C,x=Po(g),g=Dk(x)}}return nj({width:u,height:f,x:c,y:d})}function y5(e,t){const r=x5(e).scrollLeft;return t?t.left+r:VA(wd(e)).left+r}function jX(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-y5(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function iBe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=wd(n),l=t?g5(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=nd(1);const u=nd(0),f=md(n);if((f||!f&&!i)&&((e0(n)!=="body"||nb(o))&&(c=x5(n)),md(n))){const m=VA(n);d=Vp(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const A=o&&!f&&!i?jX(o,c):nd(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+A.x,y:r.y*d.y-c.scrollTop*d.y+u.y+A.y}}function oBe(e){return Array.from(e.getClientRects())}function lBe(e){const t=wd(e),r=x5(e),n=e.ownerDocument.body,a=_o(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=_o(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+y5(e);const l=-r.scrollTop;return xc(n).direction==="rtl"&&(o+=_o(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const kM=25;function cBe(e,t){const r=Po(e),n=wd(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=mI();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=y5(n);if(d<=0){const u=n.ownerDocument,f=u.body,A=getComputedStyle(f),m=u.compatMode==="CSS1Compat"&&parseFloat(A.marginLeft)+parseFloat(A.marginRight)||0,x=Math.abs(n.clientWidth-f.clientWidth-m);x<=kM&&(i-=x)}else d<=kM&&(i+=d);return{width:i,height:o,x:l,y:c}}const dBe=new Set(["absolute","fixed"]);function uBe(e,t){const r=VA(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=md(e)?Vp(e):nd(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function EM(e,t,r){let n;if(t==="viewport")n=cBe(e,r);else if(t==="document")n=lBe(wd(e));else if(gc(t))n=uBe(t,r);else{const a=wX(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return nj(n)}function NX(e,t){const r=af(e);return r===t||!gc(r)||dg(r)?!1:xc(r).position==="fixed"||NX(r,t)}function hBe(e,t){const r=t.get(e);if(r)return r;let n=My(e,[],!1).filter(l=>gc(l)&&e0(l)!=="body"),a=null;const i=xc(e).position==="fixed";let o=i?af(e):e;for(;gc(o)&&!dg(o);){const l=xc(o),c=AI(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&dBe.has(a.position)||nb(o)&&!c&&NX(e,o))?n=n.filter(u=>u!==o):a=l,o=af(o)}return t.set(e,n),n}function fBe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?g5(t)?[]:hBe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=EM(t,u,a);return d.top=_o(f.top,d.top),d.right=sf(f.right,d.right),d.bottom=sf(f.bottom,d.bottom),d.left=_o(f.left,d.left),d},EM(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ABe(e){const{width:t,height:r}=bX(e);return{width:t,height:r}}function mBe(e,t,r){const n=md(t),a=wd(t),i=r==="fixed",o=VA(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=nd(0);function d(){c.x=y5(a)}if(n||!n&&!i)if((e0(t)!=="body"||nb(a))&&(l=x5(t)),n){const m=VA(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?jX(a,l):nd(0),f=o.left+l.scrollLeft-c.x-u.x,A=o.top+l.scrollTop-c.y-u.y;return{x:f,y:A,width:o.width,height:o.height}}function FS(e){return xc(e).position==="static"}function PM(e,t){if(!md(e)||xc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return wd(e)===r&&(r=r.ownerDocument.body),r}function _X(e,t){const r=Po(e);if(g5(e))return r;if(!md(e)){let a=af(e);for(;a&&!dg(a);){if(gc(a)&&!FS(a))return a;a=af(a)}return r}let n=PM(e,t);for(;n&&X4e(n)&&FS(n);)n=PM(n,t);return n&&dg(n)&&FS(n)&&!AI(n)?r:n||rBe(e)||r}const pBe=async function(e){const t=this.getOffsetParent||_X,r=this.getDimensions,n=await r(e.floating);return{reference:mBe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gBe(e){return xc(e).direction==="rtl"}const xBe={convertOffsetParentRelativeRectToViewportRelativeRect:iBe,getDocumentElement:wd,getClippingRect:fBe,getOffsetParent:_X,getElementRects:pBe,getClientRects:oBe,getDimensions:ABe,getScale:Vp,isElement:gc,isRTL:gBe};function CX(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yBe(e,t){let r=null,n;const a=wd(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:A,height:m}=d;if(l||t(),!A||!m)return;const x=Mw(f),g=Mw(a.clientWidth-(u+A)),y=Mw(a.clientHeight-(f+m)),v=Mw(u),w={rootMargin:-x+"px "+-g+"px "+-y+"px "+-v+"px",threshold:_o(0,sf(1,c))||1};let C=!0;function N(j){const P=j[0].intersectionRatio;if(P!==c){if(!C)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!CX(d,e.getBoundingClientRect())&&o(),C=!1}try{r=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),i}function vBe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=pI(e),u=a||i?[...d?My(d):[],...My(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=d&&l?yBe(d,r):null;let A=-1,m=null;o&&(m=new ResizeObserver(v=>{let[b]=v;b&&b.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let x,g=c?VA(e):null;c&&y();function y(){const v=VA(e);g&&!CX(g,v)&&r(),g=v,x=requestAnimationFrame(y)}return r(),()=>{var v;u.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const bBe=V4e,wBe=K4e,jBe=$4e,NBe=G4e,_Be=H4e,IM=Q4e,CBe=W4e,SBe=(e,t,r)=>{const n=new Map,a={platform:xBe,...r},i={...a.platform,_c:n};return M4e(e,t,{...a,platform:i})};var BBe=typeof document<"u",kBe=function(){},z1=BBe?_.useLayoutEffect:kBe;function sj(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!sj(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!sj(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function SX(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function TM(e,t){const r=SX(e);return Math.round(t*r)/r}function RS(e){const t=_.useRef(e);return z1(()=>{t.current=e}),t}function EBe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[A,m]=_.useState(n);sj(A,n)||m(n);const[x,g]=_.useState(null),[y,v]=_.useState(null),b=_.useCallback(V=>{V!==j.current&&(j.current=V,g(V))},[]),w=_.useCallback(V=>{V!==P.current&&(P.current=V,v(V))},[]),C=i||x,N=o||y,j=_.useRef(null),P=_.useRef(null),k=_.useRef(u),T=c!=null,O=RS(c),B=RS(a),F=RS(d),M=_.useCallback(()=>{if(!j.current||!P.current)return;const V={placement:t,strategy:r,middleware:A};B.current&&(V.platform=B.current),SBe(j.current,P.current,V).then(te=>{const re={...te,isPositioned:F.current!==!1};R.current&&!sj(k.current,re)&&(k.current=re,lc.flushSync(()=>{f(re)}))})},[A,t,r,B,F]);z1(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[d]);const R=_.useRef(!1);z1(()=>(R.current=!0,()=>{R.current=!1}),[]),z1(()=>{if(C&&(j.current=C),N&&(P.current=N),C&&N){if(O.current)return O.current(C,N,M);M()}},[C,N,M,O,T]);const H=_.useMemo(()=>({reference:j,floating:P,setReference:b,setFloating:w}),[b,w]),G=_.useMemo(()=>({reference:C,floating:N}),[C,N]),$=_.useMemo(()=>{const V={position:r,left:0,top:0};if(!G.floating)return V;const te=TM(G.floating,u.x),re=TM(G.floating,u.y);return l?{...V,transform:"translate("+te+"px, "+re+"px)",...SX(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:te,top:re}},[r,l,G.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:M,refs:H,elements:G,floatingStyles:$}),[u,M,H,G,$])}const PBe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?IM({element:n.current,padding:a}).fn(r):{}:n?IM({element:n,padding:a}).fn(r):{}}}},IBe=(e,t)=>({...bBe(e),options:[e,t]}),TBe=(e,t)=>({...wBe(e),options:[e,t]}),OBe=(e,t)=>({...CBe(e),options:[e,t]}),LBe=(e,t)=>({...jBe(e),options:[e,t]}),FBe=(e,t)=>({...NBe(e),options:[e,t]}),RBe=(e,t)=>({..._Be(e),options:[e,t]}),UBe=(e,t)=>({...PBe(e),options:[e,t]});var DBe="Arrow",BX=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(en.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});BX.displayName=DBe;var MBe=BX;function QBe(e){const[t,r]=_.useState(void 0);return Ha(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var gI="Popper",[kX,EX]=Mv(gI),[$Be,PX]=kX(gI),IX=e=>{const{__scopePopper:t,children:r}=e,[n,a]=_.useState(null);return s.jsx($Be,{scope:t,anchor:n,onAnchorChange:a,children:r})};IX.displayName=gI;var TX="PopperAnchor",OX=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=PX(TX,r),o=_.useRef(null),l=ys(t,o),c=_.useRef(null);return _.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(en.div,{...a,ref:l})});OX.displayName=TX;var xI="PopperContent",[HBe,zBe]=kX(xI),LX=_.forwardRef((e,t)=>{var ce,ye,Ae,xe,le,Z;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:A=!1,updatePositionStrategy:m="optimized",onPlaced:x,...g}=e,y=PX(xI,r),[v,b]=_.useState(null),w=ys(t,pe=>b(pe)),[C,N]=_.useState(null),j=QBe(C),P=(j==null?void 0:j.width)??0,k=(j==null?void 0:j.height)??0,T=n+(i!=="center"?"-"+i:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},B=Array.isArray(d)?d:[d],F=B.length>0,M={padding:O,boundary:B.filter(KBe),altBoundary:F},{refs:R,floatingStyles:H,placement:G,isPositioned:$,middlewareData:V}=EBe({strategy:"fixed",placement:T,whileElementsMounted:(...pe)=>vBe(...pe,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[IBe({mainAxis:a+k,alignmentAxis:o}),c&&TBe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?OBe():void 0,...M}),c&&LBe({...M}),FBe({...M,apply:({elements:pe,rects:oe,availableWidth:X,availableHeight:be})=>{const{width:_e,height:Le}=oe.reference,ke=pe.floating.style;ke.setProperty("--radix-popper-available-width",`${X}px`),ke.setProperty("--radix-popper-available-height",`${be}px`),ke.setProperty("--radix-popper-anchor-width",`${_e}px`),ke.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),C&&UBe({element:C,padding:l}),WBe({arrowWidth:P,arrowHeight:k}),A&&RBe({strategy:"referenceHidden",...M})]}),[te,re]=UX(G),K=mc(x);Ha(()=>{$&&(K==null||K())},[$,K]);const z=(ce=V.arrow)==null?void 0:ce.x,ee=(ye=V.arrow)==null?void 0:ye.y,W=((Ae=V.arrow)==null?void 0:Ae.centerOffset)!==0,[ne,se]=_.useState();return Ha(()=>{v&&se(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:$?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(xe=V.transformOrigin)==null?void 0:xe.x,(le=V.transformOrigin)==null?void 0:le.y].join(" "),...((Z=V.hide)==null?void 0:Z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(HBe,{scope:r,placedSide:te,onArrowChange:N,arrowX:z,arrowY:ee,shouldHideArrow:W,children:s.jsx(en.div,{"data-side":te,"data-align":re,...g,ref:w,style:{...g.style,animation:$?void 0:"none"}})})})});LX.displayName=xI;var FX="PopperArrow",VBe={top:"bottom",right:"left",bottom:"top",left:"right"},RX=_.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=zBe(FX,n),o=VBe[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(MBe,{...a,ref:r,style:{...a.style,display:"block"}})})});RX.displayName=FX;function KBe(e){return e!==null}var WBe=e=>({name:"transformOrigin",options:e,fn(t){var y,v,b;const{placement:r,rects:n,middlewareData:a}=t,o=((y=a.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=UX(r),f={start:"0%",center:"50%",end:"100%"}[u],A=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?f:`${A}px`,g=`${-c}px`):d==="top"?(x=o?f:`${A}px`,g=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?f:`${m}px`):d==="left"&&(x=`${n.floating.width+c}px`,g=o?f:`${m}px`),{data:{x,y:g}}}});function UX(e){const[t,r="center"]=e.split("-");return[t,r]}var GBe=IX,qBe=OX,YBe=LX,XBe=RX;function ZBe(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var JBe=[" ","Enter","ArrowUp","ArrowDown"],eke=[" ","Enter"],KA="Select",[v5,b5,tke]=xK(KA),[t0]=Mv(KA,[tke,EX]),w5=EX(),[rke,hf]=t0(KA),[nke,ske]=t0(KA),DX=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:A,required:m,form:x}=e,g=w5(t),[y,v]=_.useState(null),[b,w]=_.useState(null),[C,N]=_.useState(!1),j=B4e(d),[P,k]=C2({prop:n,defaultProp:a??!1,onChange:i,caller:KA}),[T,O]=C2({prop:o,defaultProp:l,onChange:c,caller:KA}),B=_.useRef(null),F=y?x||!!y.closest("form"):!0,[M,R]=_.useState(new Set),H=Array.from(M).map(G=>G.props.value).join(";");return s.jsx(GBe,{...g,children:s.jsxs(rke,{required:m,scope:t,trigger:y,onTriggerChange:v,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:C,onValueNodeHasChildrenChange:N,contentId:Up(),value:T,onValueChange:O,open:P,onOpenChange:k,dir:j,triggerPointerDownPosRef:B,disabled:A,children:[s.jsx(v5.Provider,{scope:t,children:s.jsx(nke,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(G=>{R($=>new Set($).add(G))},[]),onNativeOptionRemove:_.useCallback(G=>{R($=>{const V=new Set($);return V.delete(G),V})},[]),children:r})}),F?s.jsxs(cZ,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:T,onChange:G=>O(G.target.value),disabled:A,form:x,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},H):null]})})};DX.displayName=KA;var MX="SelectTrigger",QX=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=w5(r),o=hf(MX,r),l=o.disabled||n,c=ys(t,o.onTriggerChange),d=b5(r),u=_.useRef("touch"),[f,A,m]=uZ(g=>{const y=d().filter(w=>!w.disabled),v=y.find(w=>w.value===o.value),b=hZ(y,g,v);b!==void 0&&o.onValueChange(b.value)}),x=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(qBe,{asChild:!0,...i,children:s.jsx(en.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dZ(o.value)?"":void 0,...a,ref:c,onClick:zr(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:zr(a.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:zr(a.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&A(g.key),!(y&&g.key===" ")&&JBe.includes(g.key)&&(x(),g.preventDefault())})})})});QX.displayName=MX;var $X="SelectValue",HX=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=hf($X,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=ys(t,c.onValueNodeChange);return Ha(()=>{d(u)},[d,u]),s.jsx(en.span,{...l,ref:f,style:{pointerEvents:"none"},children:dZ(c.value)?s.jsx(s.Fragment,{children:o}):i})});HX.displayName=$X;var ake="SelectIcon",zX=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(en.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});zX.displayName=ake;var ike="SelectPortal",VX=e=>s.jsx(HN,{asChild:!0,...e});VX.displayName=ike;var WA="SelectContent",KX=_.forwardRef((e,t)=>{const r=hf(WA,e.__scopeSelect),[n,a]=_.useState();if(Ha(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?lc.createPortal(s.jsx(WX,{scope:e.__scopeSelect,children:s.jsx(v5.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(GX,{...e,ref:t})});KX.displayName=WA;var Yl=10,[WX,ff]=t0(WA),oke="SelectContentImpl",lke=og("SelectContent.RemoveScroll"),GX=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:A,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:y,...v}=e,b=hf(WA,r),[w,C]=_.useState(null),[N,j]=_.useState(null),P=ys(t,ce=>C(ce)),[k,T]=_.useState(null),[O,B]=_.useState(null),F=b5(r),[M,R]=_.useState(!1),H=_.useRef(!1);_.useEffect(()=>{if(w)return eq(w)},[w]),VG();const G=_.useCallback(ce=>{const[ye,...Ae]=F().map(Z=>Z.ref.current),[xe]=Ae.slice(-1),le=document.activeElement;for(const Z of ce)if(Z===le||(Z==null||Z.scrollIntoView({block:"nearest"}),Z===ye&&N&&(N.scrollTop=0),Z===xe&&N&&(N.scrollTop=N.scrollHeight),Z==null||Z.focus(),document.activeElement!==le))return},[F,N]),$=_.useCallback(()=>G([k,w]),[G,k,w]);_.useEffect(()=>{M&&$()},[M,$]);const{onOpenChange:V,triggerPointerDownPosRef:te}=b;_.useEffect(()=>{if(w){let ce={x:0,y:0};const ye=xe=>{var le,Z;ce={x:Math.abs(Math.round(xe.pageX)-(((le=te.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((Z=te.current)==null?void 0:Z.y)??0))}},Ae=xe=>{ce.x<=10&&ce.y<=10?xe.preventDefault():w.contains(xe.target)||V(!1),document.removeEventListener("pointermove",ye),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[w,V,te]),_.useEffect(()=>{const ce=()=>V(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[V]);const[re,K]=uZ(ce=>{const ye=F().filter(le=>!le.disabled),Ae=ye.find(le=>le.ref.current===document.activeElement),xe=hZ(ye,ce,Ae);xe&&setTimeout(()=>xe.ref.current.focus())}),z=_.useCallback((ce,ye,Ae)=>{const xe=!H.current&&!Ae;(b.value!==void 0&&b.value===ye||xe)&&(T(ce),xe&&(H.current=!0))},[b.value]),ee=_.useCallback(()=>w==null?void 0:w.focus(),[w]),W=_.useCallback((ce,ye,Ae)=>{const xe=!H.current&&!Ae;(b.value!==void 0&&b.value===ye||xe)&&B(ce)},[b.value]),ne=n==="popper"?Mk:qX,se=ne===Mk?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:A,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:y}:{};return s.jsx(WX,{scope:r,content:w,viewport:N,onViewportChange:j,itemRefCallback:z,selectedItem:k,onItemLeave:ee,itemTextRefCallback:W,focusSelectedItem:$,selectedItemText:O,position:n,isPositioned:M,searchRef:re,children:s.jsx(z6,{as:lke,allowPinchZoom:!0,children:s.jsx(H6,{asChild:!0,trapped:b.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:zr(a,ce=>{var ye;(ye=b.trigger)==null||ye.focus({preventScroll:!0}),ce.preventDefault()}),children:s.jsx($N,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ne,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ce=>ce.preventDefault(),...v,...se,onPlaced:()=>R(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:zr(v.onKeyDown,ce=>{const ye=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!ye&&ce.key.length===1&&K(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let xe=F().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const le=ce.target,Z=xe.indexOf(le);xe=xe.slice(Z+1)}setTimeout(()=>G(xe)),ce.preventDefault()}})})})})})})});GX.displayName=oke;var cke="SelectItemAlignedPosition",qX=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=hf(WA,r),o=ff(WA,r),[l,c]=_.useState(null),[d,u]=_.useState(null),f=ys(t,P=>u(P)),A=b5(r),m=_.useRef(!1),x=_.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:b}=o,w=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&y&&v){const P=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(i.dir!=="rtl"){const le=O.left-k.left,Z=T.left-le,pe=P.left-Z,oe=P.width+pe,X=Math.max(oe,k.width),be=window.innerWidth-Yl,_e=wM(Z,[Yl,Math.max(Yl,be-X)]);l.style.minWidth=oe+"px",l.style.left=_e+"px"}else{const le=k.right-O.right,Z=window.innerWidth-T.right-le,pe=window.innerWidth-P.right-Z,oe=P.width+pe,X=Math.max(oe,k.width),be=window.innerWidth-Yl,_e=wM(Z,[Yl,Math.max(Yl,be-X)]);l.style.minWidth=oe+"px",l.style.right=_e+"px"}const B=A(),F=window.innerHeight-Yl*2,M=g.scrollHeight,R=window.getComputedStyle(d),H=parseInt(R.borderTopWidth,10),G=parseInt(R.paddingTop,10),$=parseInt(R.borderBottomWidth,10),V=parseInt(R.paddingBottom,10),te=H+G+M+V+$,re=Math.min(y.offsetHeight*5,te),K=window.getComputedStyle(g),z=parseInt(K.paddingTop,10),ee=parseInt(K.paddingBottom,10),W=P.top+P.height/2-Yl,ne=F-W,se=y.offsetHeight/2,ce=y.offsetTop+se,ye=H+G+ce,Ae=te-ye;if(ye<=W){const le=B.length>0&&y===B[B.length-1].ref.current;l.style.bottom="0px";const Z=d.clientHeight-g.offsetTop-g.offsetHeight,pe=Math.max(ne,se+(le?ee:0)+Z+$),oe=ye+pe;l.style.height=oe+"px"}else{const le=B.length>0&&y===B[0].ref.current;l.style.top="0px";const pe=Math.max(W,H+g.offsetTop+(le?z:0)+se)+Ae;l.style.height=pe+"px",g.scrollTop=ye-W+g.offsetTop}l.style.margin=`${Yl}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[A,i.trigger,i.valueNode,l,d,g,y,v,i.dir,n]);Ha(()=>w(),[w]);const[C,N]=_.useState();Ha(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const j=_.useCallback(P=>{P&&x.current===!0&&(w(),b==null||b(),x.current=!1)},[w,b]);return s.jsx(uke,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:s.jsx(en.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});qX.displayName=cke;var dke="SelectPopperPosition",Mk=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Yl,...i}=e,o=w5(r);return s.jsx(YBe,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mk.displayName=dke;var[uke,yI]=t0(WA,{}),Qk="SelectViewport",YX=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=ff(Qk,r),o=yI(Qk,r),l=ys(t,i.onViewportChange),c=_.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(v5.Slot,{scope:r,children:s.jsx(en.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:zr(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:A}=o;if(A!=null&&A.current&&f){const m=Math.abs(c.current-u.scrollTop);if(m>0){const x=window.innerHeight-Yl*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),v=Math.max(g,y);if(v<x){const b=v+m,w=Math.min(x,b),C=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});YX.displayName=Qk;var XX="SelectGroup",[hke,fke]=t0(XX),Ake=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Up();return s.jsx(hke,{scope:r,id:a,children:s.jsx(en.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Ake.displayName=XX;var ZX="SelectLabel",JX=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=fke(ZX,r);return s.jsx(en.div,{id:a.id,...n,ref:t})});JX.displayName=ZX;var aj="SelectItem",[mke,eZ]=t0(aj),tZ=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=hf(aj,r),c=ff(aj,r),d=l.value===n,[u,f]=_.useState(i??""),[A,m]=_.useState(!1),x=ys(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,a)}),g=Up(),y=_.useRef("touch"),v=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(mke,{scope:r,value:n,disabled:a,textId:g,isSelected:d,onItemTextChange:_.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(v5.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(en.div,{role:"option","aria-labelledby":g,"data-highlighted":A?"":void 0,"aria-selected":d&&A,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:zr(o.onFocus,()=>m(!0)),onBlur:zr(o.onBlur,()=>m(!1)),onClick:zr(o.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:zr(o.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:zr(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:zr(o.onPointerMove,b=>{var w;y.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:zr(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:zr(o.onKeyDown,b=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&b.key===" "||(eke.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});tZ.displayName=aj;var _x="SelectItemText",rZ=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=hf(_x,r),l=ff(_x,r),c=eZ(_x,r),d=ske(_x,r),[u,f]=_.useState(null),A=ys(t,v=>f(v),c.onItemTextChange,v=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,v,c.value,c.disabled)}),m=u==null?void 0:u.textContent,x=_.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return Ha(()=>(g(x),()=>y(x)),[g,y,x]),s.jsxs(s.Fragment,{children:[s.jsx(en.span,{id:c.textId,...i,ref:A}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?lc.createPortal(i.children,o.valueNode):null]})});rZ.displayName=_x;var nZ="SelectItemIndicator",sZ=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return eZ(nZ,r).isSelected?s.jsx(en.span,{"aria-hidden":!0,...n,ref:t}):null});sZ.displayName=nZ;var $k="SelectScrollUpButton",aZ=_.forwardRef((e,t)=>{const r=ff($k,e.__scopeSelect),n=yI($k,e.__scopeSelect),[a,i]=_.useState(!1),o=ys(t,n.onScrollButtonChange);return Ha(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(oZ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});aZ.displayName=$k;var Hk="SelectScrollDownButton",iZ=_.forwardRef((e,t)=>{const r=ff(Hk,e.__scopeSelect),n=yI(Hk,e.__scopeSelect),[a,i]=_.useState(!1),o=ys(t,n.onScrollButtonChange);return Ha(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(oZ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});iZ.displayName=Hk;var oZ=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=ff("SelectScrollButton",r),o=_.useRef(null),l=b5(r),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Ha(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(en.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:zr(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:zr(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:zr(a.onPointerLeave,()=>{c()})})}),pke="SelectSeparator",lZ=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(en.div,{"aria-hidden":!0,...n,ref:t})});lZ.displayName=pke;var zk="SelectArrow",gke=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=w5(r),i=hf(zk,r),o=ff(zk,r);return i.open&&o.position==="popper"?s.jsx(XBe,{...a,...n,ref:t}):null});gke.displayName=zk;var xke="SelectBubbleInput",cZ=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=_.useRef(null),i=ys(n,a),o=ZBe(t);return _.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(en.select,{...r,style:{...jK,...r.style},ref:i,defaultValue:t})});cZ.displayName=xke;function dZ(e){return e===""||e===void 0}function uZ(e){const t=mc(e),r=_.useRef(""),n=_.useRef(0),a=_.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function hZ(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=yke(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function yke(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var vke=DX,fZ=QX,bke=HX,wke=zX,jke=VX,AZ=KX,Nke=YX,mZ=JX,pZ=tZ,_ke=rZ,Cke=sZ,gZ=aZ,xZ=iZ,yZ=lZ;const ij=vke,oj=bke,Qy=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(fZ,{ref:n,className:fn("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(wke,{asChild:!0,children:s.jsx(tA,{className:"h-4 w-4 opacity-50"})})]}));Qy.displayName=fZ.displayName;const vZ=_.forwardRef(({className:e,...t},r)=>s.jsx(gZ,{ref:r,className:fn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Cue,{className:"h-4 w-4"})}));vZ.displayName=gZ.displayName;const bZ=_.forwardRef(({className:e,...t},r)=>s.jsx(xZ,{ref:r,className:fn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(tA,{className:"h-4 w-4"})}));bZ.displayName=xZ.displayName;const $y=_.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(jke,{children:s.jsxs(AZ,{ref:a,className:fn("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(vZ,{}),s.jsx(Nke,{className:fn("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(bZ,{})]})}));$y.displayName=AZ.displayName;const Ske=_.forwardRef(({className:e,...t},r)=>s.jsx(mZ,{ref:r,className:fn("px-2 py-1.5 text-sm font-semibold",e),...t}));Ske.displayName=mZ.displayName;const ji=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(pZ,{ref:n,className:fn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Cke,{children:s.jsx(Gm,{className:"h-4 w-4"})})}),s.jsx(_ke,{children:t})]}));ji.displayName=pZ.displayName;const Bke=_.forwardRef(({className:e,...t},r)=>s.jsx(yZ,{ref:r,className:fn("-mx-1 my-1 h-px bg-muted",e),...t}));Bke.displayName=yZ.displayName;delete za.Icon.Default.prototype._getIconUrl;za.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const kke=({onLocationSelect:e})=>(t5({click:t=>{const{lat:r,lng:n}=t.latlng;e(r,n)}}),null),Eke=({center:e})=>{const t=t5({});return Ce.useEffect(()=>{e&&e[0]&&e[1]&&t.setView(e,t.getZoom())},[e,t]),null},Pke=()=>{const e=hr(),[t,r]=_.useState(null),[n,a]=_.useState(!0),[i,o]=_.useState(!1),[l,c]=_.useState(!1),[d,u]=_.useState(""),[f,A]=_.useState({propertyName:"",description:"",numberOfRooms:"",propertyMode:"room",address:{street:"",city:"",state:"",pincode:"",landmark:"",latitude:"",longitude:""},monthlyRent:"",securityDeposit:"",amenities:{parking4w:!1,parking2w:!1,kitchen:!1,powerBackup:!1},rules:{petsAllowed:!1,smokingAllowed:!1,visitorsAllowed:!0,cookingAllowed:!0},images:[],requiredImages:{front:null,back:null,hall:null,kitchen:null},toiletOutside:!1,outsideToiletImage:null,landTaxReceipt:null,documents:[],rooms:[]}),[m,x]=_.useState({}),[g,y]=_.useState(!1),[v,b]=_.useState(!1),w=ue=>{const Se=[];for(let Fe=1;Fe<=ue;Fe++)Se.push({roomNumber:Fe,roomType:"",roomSize:"",bedType:"",occupancy:1,rent:"",predictedRent:null,rentRange:null,amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},description:"",roomImage:null,toiletImage:null});return Se},[C,N]=_.useState({}),j=ue=>{const Se=parseInt(ue),Fe=isNaN(Se)?0:Math.min(Se,6);A(Ee=>({...Ee,numberOfRooms:String(Fe),rooms:Fe>0?w(Fe):[]})),b(Fe>0),!isNaN(Se)&&Se>6?x(Ee=>({...Ee,numberOfRooms:"Maximum 6 rooms allowed"})):m.numberOfRooms==="Maximum 6 rooms allowed"&&x(Ee=>({...Ee,numberOfRooms:""}))},P=ue=>({Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1})[ue]||1,k=(ue,Se,Fe)=>{A(Ee=>({...Ee,rooms:Ee.rooms.map((De,ut)=>{if(ut===ue){const Nt={...De,[Se]:Fe};return Se==="roomType"&&Fe&&(Nt.occupancy=P(Fe)),Nt}return De})}))},T=(ue,Se,Fe)=>{A(Ee=>({...Ee,rooms:Ee.rooms.map((De,ut)=>ut===ue?{...De,amenities:{...De.amenities,[Se]:Fe}}:De)}))},O=(ue,Se,Fe)=>{var Nt;const Ee=(Nt=Fe.target.files)==null?void 0:Nt[0];if(!Ee)return;const De={file:Ee,preview:URL.createObjectURL(Ee),name:Ee.name};A(Pt=>({...Pt,rooms:Pt.rooms.map((ht,Xe)=>Xe===ue?{...ht,[Se]:De}:ht)}));const ut=Se==="roomImage"?`room_${ue}_roomImage`:`room_${ue}_toiletImage`;m[ut]&&x(Pt=>({...Pt,[ut]:""}))},B=(ue,Se)=>{A(Fe=>({...Fe,rooms:Fe.rooms.map((Ee,De)=>De===ue?{...Ee,[Se]:null}:Ee)}))};_.useRef(null),_.useRef(null);const[F,M]=_.useState(!1),[R,H]=_.useState(!1),[G,$]=_.useState(""),[V,te]=_.useState([]),[re,K]=_.useState(-1),[z,ee]=_.useState(!1),W=_.useRef(null),ne=_.useRef(null),se=_.useRef(!1),[ce,ye]=_.useState([12.9716,77.5946]);_.useEffect(()=>{(()=>{const Se=localStorage.getItem("authToken"),Fe=localStorage.getItem("user");if(!Se||!Fe){e("/login");return}try{const Ee=JSON.parse(Fe);if(Ee.role!==3){e("/login");return}r(Ee);const De=!Ee.kycVerified&&!(Ee.govtIdFrontUrl&&Ee.govtIdBackUrl);o(De)}catch(Ee){console.error("Error parsing user data:",Ee),e("/login")}a(!1)})()},[e]),_.useEffect(()=>{if(f.address.latitude&&f.address.longitude){const ue=parseFloat(f.address.latitude),Se=parseFloat(f.address.longitude);!isNaN(ue)&&!isNaN(Se)&&ye([ue,Se])}},[f.address.latitude,f.address.longitude]);const Ae=(ue,Se)=>{ye([ue,Se]),A(Fe=>({...Fe,address:{...Fe.address,latitude:String(ue),longitude:String(Se)}}))},xe=ue=>{const{lat:Se,lng:Fe}=ue.target.getLatLng();Ae(Se,Fe)},le=()=>{M(!F)},Z=()=>{var Ee;const ue=f.address.latitude,Se=f.address.longitude;if(!ue||!Se){alert("Set a location first (drag marker or select a place).");return}const Fe=`${ue}, ${Se}`;(Ee=navigator.clipboard)!=null&&Ee.writeText?navigator.clipboard.writeText(Fe).then(()=>{alert("Coordinates copied to clipboard")}).catch(()=>{window.prompt("Copy coordinates:",Fe)}):window.prompt("Copy coordinates:",Fe)};_.useEffect(()=>{if(!G||G.trim().length<2){te([]),ee(!1),K(-1);return}if(!se.current)return W.current&&clearTimeout(W.current),W.current=setTimeout(async()=>{try{const ue=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(G)}&format=json&addressdetails=1&limit=5&countrycodes=in`,{headers:{Accept:"application/json","User-Agent":"LyvoPropertyApp/1.0"}});if(ue.ok){const Se=await ue.json();te(Se),ee(Se.length>0),K(-1)}else te([]),ee(!1),K(-1)}catch(ue){console.error("Error fetching place suggestions:",ue),te([]),ee(!1),K(-1)}},250),()=>{W.current&&clearTimeout(W.current)}},[G]),_.useEffect(()=>{if(!ne.current)return;const ue=ne.current.querySelector(`[data-idx="${re}"]`);ue&&ue.scrollIntoView({block:"nearest"})},[re]);const pe=ue=>{if(!ue)return;se.current=!0,W.current&&clearTimeout(W.current),ee(!1),te([]);const Se=ue.address||{},Fe=[Se.road,Se.suburb,Se.neighbourhood].filter(Boolean).join(", "),Ee=Se.city||Se.town||Se.village||Se.municipality||"",De=Se.state||"",ut=Se.postcode||"",Nt=ue.name||Se.amenity||"",Pt=parseFloat(ue.lat),ht=parseFloat(ue.lon);!isNaN(Pt)&&!isNaN(ht)&&ye([Pt,ht]),A(Xe=>({...Xe,address:{...Xe.address,street:Fe||Xe.address.street,city:Ee||Xe.address.city,state:De||Xe.address.state,pincode:ut||Xe.address.pincode,landmark:Nt||Xe.address.landmark,latitude:isNaN(Pt)?Xe.address.latitude:String(Pt),longitude:isNaN(ht)?Xe.address.longitude:String(ht)}})),$(ue.display_name||""),ee(!1),K(-1),setTimeout(()=>{se.current=!1},0)},oe=ue=>{!z||V.length===0||(ue.key==="ArrowDown"?(ue.preventDefault(),K(Se=>(Se+1)%V.length)):ue.key==="ArrowUp"?(ue.preventDefault(),K(Se=>(Se-1+V.length)%V.length)):ue.key==="Enter"?re>=0&&(ue.preventDefault(),pe(V[re])):ue.key==="Escape"&&(ee(!1),K(-1)))},X=(ue,Se)=>{if(ue.includes(".")){const[Fe,Ee]=ue.split(".");A(De=>({...De,[Fe]:{...De[Fe],[Ee]:Se}}))}else A(Fe=>({...Fe,[ue]:Se}));m[ue]&&x(Fe=>({...Fe,[ue]:""}))},be=ue=>{A(Se=>({...Se,amenities:{...Se.amenities,[ue]:!Se.amenities[ue]}}))},_e=ue=>{A(Se=>({...Se,rules:{...Se.rules,[ue]:!Se.rules[ue]}}))},Le=ue=>{const Fe=Array.from(ue.target.files).map(Ee=>({file:Ee,preview:URL.createObjectURL(Ee),name:Ee.name}));A(Ee=>({...Ee,images:[...Ee.images,...Fe]}))},ke=(ue,Se)=>{var De;const Fe=(De=Se.target.files)==null?void 0:De[0];if(!Fe)return;const Ee={file:Fe,preview:URL.createObjectURL(Fe),name:Fe.name};A(ut=>({...ut,requiredImages:{...ut.requiredImages,[ue]:Ee}})),m[`requiredImages.${ue}`]&&x(ut=>({...ut,[`requiredImages.${ue}`]:""}))},Qe=ue=>{var Ee;const Se=(Ee=ue.target.files)==null?void 0:Ee[0];if(!Se)return;const Fe={file:Se,preview:URL.createObjectURL(Se),name:Se.name};A(De=>({...De,outsideToiletImage:Fe})),m.outsideToiletImage&&x(De=>({...De,outsideToiletImage:""}))},Ye=ue=>{A(Se=>({...Se,requiredImages:{...Se.requiredImages,[ue]:null}}))},it=ue=>{A(Se=>({...Se,images:Se.images.filter((Fe,Ee)=>Ee!==ue)}))},Oe=ue=>{},Ge=async ue=>{const Se=f.rooms[ue];if(!Se.roomSize||!f.address.city){u("Please enter Location (City) and Room Size first to get an accurate suggestion."),c(!0);return}try{N(De=>({...De,[ue]:!0}));const Ee=(await qe.post("/property/predict-rent",{location:f.address.city,roomType:Se.roomType,roomSize:Se.roomSize,amenities:Se.amenities,propertyAmenities:f.amenities})).data;Ee.success?A(De=>({...De,rooms:De.rooms.map((ut,Nt)=>Nt===ue?{...ut,predictedRent:Ee.predicted_rent,rentRange:Ee.range}:ut)})):(u("Could not predict rent: "+(Ee.message||"Unknown error")),c(!0))}catch(Fe){console.error("Prediction Error:",Fe),u("Failed to get rent suggestion. Ensure backend is running."),c(!0)}finally{N(Fe=>({...Fe,[ue]:!1}))}},mt=()=>{A(ue=>({...ue,landTaxReceipt:null}))},ft=()=>{const ue={};if(f.propertyName.trim()||(ue.propertyName="Property name is required"),f.description.trim()||(ue.description="Description is required"),f.propertyMode==="room"){const Fe=parseInt(f.numberOfRooms);!Fe||Fe<=0?ue.numberOfRooms="Number of rooms is required":Fe>6&&(ue.numberOfRooms="Maximum 6 rooms allowed")}else f.dormitory.numDorms||(ue["dormitory.numDorms"]="Number of dorms is required"),parseInt(f.dormitory.numDorms||"0")>0&&(f.dormitory.bedsPerDorms||[]).findIndex(De=>!De||parseInt(De)<=0)!==-1&&(ue["dormitory.bedsPerDorms"]="Enter beds for each dorm"),f.dormitory.pricePerBed||(ue["dormitory.pricePerBed"]="Price per bed is required");f.propertyMode==="room"&&f.rooms.length>0&&f.rooms.forEach((Fe,Ee)=>{var De;Fe.roomType||(ue[`room_${Ee}_type`]=`Room ${Ee+1} type is required`),(!Fe.roomSize||parseInt(Fe.roomSize)<=0)&&(ue[`room_${Ee}_size`]=`Room ${Ee+1} size is required`),Fe.bedType||(ue[`room_${Ee}_bed`]=`Room ${Ee+1} bed type is required`),(!Fe.rent||parseInt(Fe.rent)<=0)&&(ue[`room_${Ee}_rent`]=`Room ${Ee+1} rent is required`),Fe.roomImage||(ue[`room_${Ee}_roomImage`]=`Room ${Ee+1} image is required`),(De=Fe.amenities)!=null&&De.attachedBathroom&&!Fe.toiletImage&&(ue[`room_${Ee}_toiletImage`]=`Room ${Ee+1} toilet image is required`)}),f.address.street.trim()||(ue["address.street"]="Street address is required"),f.address.city.trim()||(ue["address.city"]="City is required"),f.address.state.trim()||(ue["address.state"]="State is required"),f.address.pincode.trim()||(ue["address.pincode"]="Pincode is required"),f.securityDeposit||(ue.securityDeposit="Security deposit is required");const Se=["front","back","hall"];return f.amenities.kitchen&&Se.push("kitchen"),Se.forEach(Fe=>{f.requiredImages[Fe]||(ue[`requiredImages.${Fe}`]="Required")}),f.toiletOutside&&!f.outsideToiletImage&&(ue.outsideToiletImage="Outside toilet image is required"),f.landTaxReceipt||(ue.landTaxReceipt="Latest Land Tax Receipt (PDF) is required"),x(ue),Object.keys(ue).length===0},Ie=async ue=>{var Se,Fe,Ee,De,ut,Nt,Pt;if(ue.preventDefault(),!!ft()){y(!0);try{const ht=localStorage.getItem("authToken");if(!ht)throw new Error("Authentication token not found");const Xe=new FormData,Ze={...f};f.propertyMode==="room"?Ze.rooms=(Ze.rooms||[]).map(ze=>{const{roomImage:wt,toiletImage:Ut,...$r}=ze;return $r}):Ze.rooms=[],Xe.append("propertyData",JSON.stringify(Ze)),(Se=f.requiredImages.front)!=null&&Se.file&&Xe.append("frontImage",f.requiredImages.front.file),(Fe=f.requiredImages.back)!=null&&Fe.file&&Xe.append("backImage",f.requiredImages.back.file),(Ee=f.requiredImages.hall)!=null&&Ee.file&&Xe.append("hallImage",f.requiredImages.hall.file),(De=f.requiredImages.kitchen)!=null&&De.file&&Xe.append("kitchenImage",f.requiredImages.kitchen.file),f.propertyMode==="room"?(f.rooms||[]).forEach((ze,wt)=>{var Ut,$r;(Ut=ze.roomImage)!=null&&Ut.file&&Xe.append(`rooms[${wt}][roomImage]`,ze.roomImage.file),($r=ze.toiletImage)!=null&&$r.file&&Xe.append(`rooms[${wt}][toiletImage]`,ze.toiletImage.file)}):((f.dormitory.images||[]).forEach((ze,wt)=>{ze.file&&Xe.append("dormitoryImages",ze.file)}),(ut=f.dormitory.toiletImage)!=null&&ut.file&&Xe.append("dormitoryToiletImage",f.dormitory.toiletImage.file)),Xe.append("toiletOutside",String(!!f.toiletOutside)),f.toiletOutside&&((Nt=f.outsideToiletImage)!=null&&Nt.file)&&Xe.append("outsideToiletImage",f.outsideToiletImage.file),console.log("Documents:",f.documents),(Pt=f.landTaxReceipt)!=null&&Pt.file&&Xe.append("landTaxReceipt",f.landTaxReceipt.file),f.documents&&Array.isArray(f.documents)&&f.documents.forEach((ze,wt)=>{ze.file&&(console.log("Adding document: documents",ze.file.name),Xe.append("documents",ze.file))}),console.log("FormData entries:");for(let[ze,wt]of Xe.entries())console.log(ze,wt);const ct=await fetch("http://localhost:5000/api/property/add",{method:"POST",headers:{Authorization:`Bearer ${ht}`},body:Xe}),tt=await ct.json();if(!ct.ok)throw new Error(tt.message||"Failed to create property");if(tt.success)window.refreshProperties&&window.refreshProperties(),e("/owner-properties");else throw new Error(tt.message||"Failed to create property")}catch(ht){console.error("Error adding property:",ht),alert(`Error: ${ht.message}`)}finally{y(!1)}}};if(n)return s.jsx(wn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})});const Je=!n&&t&&i;return s.jsxs(wn,{children:[s.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-0 space-y-4 sm:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("button",{onClick:()=>e("/owner-dashboard"),className:"p-1.5 sm:p-2 text-gray-600 hover:text-gray-800 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:s.jsx(Ps,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg sm:text-xl sm:text-2xl font-bold text-gray-900",children:"Add New Property"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Fill in the details to list your property"})]})]})}),Je&&s.jsxs("div",{className:"p-3 sm:p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("div",{className:"text-xs sm:text-sm text-yellow-900",children:"To add a property, please upload and verify your Government ID."}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:()=>e("/owner-settings#kyc"),className:"px-3 py-2 bg-red-600 text-white rounded-md text-xs sm:text-sm hover:bg-red-700",children:"Go to Upload Documents"})})]}),s.jsxs("form",{onSubmit:Ie,className:`space-y-6 sm:space-y-8 ${Je?"pointer-events-none opacity-50 select-none":""}`,children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(Zr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Basic Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name *"}),s.jsx("input",{type:"text",value:f.propertyName,onChange:ue=>X("propertyName",ue.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m.propertyName?"border-red-500":"border-gray-300"}`,placeholder:"Enter property name"}),m.propertyName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.propertyName})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search PG/Property via Google Maps"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:G,onChange:ue=>$(ue.target.value),onFocus:()=>V.length>0&&ee(!0),onKeyDown:oe,placeholder:"Start typing address, area, landmark...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),z&&s.jsxs("div",{ref:ne,className:"absolute z-40 left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-xl max-h-80 overflow-auto",children:[V.length===0&&s.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No results"}),V.map((ue,Se)=>s.jsxs("button",{type:"button","data-idx":Se,onMouseEnter:()=>K(Se),onMouseLeave:()=>K(-1),onClick:()=>pe(ue),className:`w-full text-left px-4 py-3 text-sm transition-colors ${Se===re?"bg-red-50":"hover:bg-gray-50"}`,children:[s.jsx("div",{className:"text-gray-700 leading-snug line-clamp-2",children:ue.display_name||ue.name||""}),ue.type&&s.jsx("div",{className:"text-xs text-gray-500 mt-0.5 capitalize",children:ue.type})]},`${ue.place_id}-${Se}`)),s.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-[11px] text-gray-500",children:"Powered by OpenStreetMap"})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Pin Property Location"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:le,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 text-xs",children:[F?"Satellite":"Street"," view"]}),s.jsx("button",{type:"button",onClick:Z,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 text-xs",children:"Copy Coords"})]})]}),s.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden h-[350px] relative z-0",children:[s.jsxs(ef,{center:ce,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[s.jsx(ol,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:F?"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},F?"satellite":"street"),ce&&ce[0]&&ce[1]&&s.jsx(tf,{position:ce,draggable:!0,eventHandlers:{dragend:xe}}),s.jsx(Eke,{center:ce}),s.jsx(kke,{onLocationSelect:Ae})]}),s.jsxs("div",{className:"absolute bottom-2 left-2 bg-white/90 px-3 py-1.5 rounded-md shadow-md text-xs font-medium z-[1000] border border-gray-200",children:["Lat: ",f.address.latitude||""," | Lng: ",f.address.longitude||""]})]}),s.jsxs("p",{className:"mt-1.5 text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(xr,{className:"w-3 h-3"})," Drag the marker or click on the map to set the exact property location."]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit () *"}),s.jsx("input",{type:"number",value:f.securityDeposit,onChange:ue=>{const Se=ue.target.value;(Se===""||/^\d+$/.test(Se)&&parseInt(Se)>=0)&&X("securityDeposit",Se)},onKeyDown:ue=>{["-","+","e","E","."].includes(ue.key)&&ue.preventDefault()},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m.securityDeposit?"border-red-500":"border-gray-300"}`,placeholder:"Security deposit amount",min:"0"}),m.securityDeposit&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.securityDeposit})]}),f.propertyMode==="room"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Rooms *"}),s.jsx("input",{type:"number",min:"1",max:"6",value:f.numberOfRooms,onChange:ue=>{const Se=ue.target.value;(Se===""||/^\d+$/.test(Se)&&parseInt(Se)>0)&&j(Se)},onKeyDown:ue=>{["-","+","e","E","."].includes(ue.key)&&ue.preventDefault()},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m.numberOfRooms?"border-red-500":"border-gray-300"}`,placeholder:"Enter number of rooms (max 6)"}),m.numberOfRooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.numberOfRooms})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{value:f.description,onChange:ue=>X("description",ue.target.value),rows:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe your property, its features, and what makes it special..."}),m.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.description})]})]})]}),v&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(Pr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Room Details"})]}),s.jsx("div",{className:"space-y-4",children:f.rooms.map((ue,Se)=>{var Fe,Ee;return s.jsxs("div",{className:"border border-red-200 rounded-md p-3 sm:p-4 shadow-sm hover:shadow-md transition-all bg-red-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 rounded-md px-3 py-2 border border-red-200 bg-red-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-700 flex items-center justify-center font-bold",children:ue.roomNumber}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 tracking-wide",children:["Room ",ue.roomNumber]}),s.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-1.5",children:[ue.roomType&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:ue.roomType}),ue.roomSize&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:[ue.roomSize," sq ft"]}),ue.occupancy&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:[ue.occupancy," pax"]}),ue.rent&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-green-50 text-green-700 border border-green-200",children:["",ue.rent]})]})]})]}),s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-[11px] font-medium bg-red-50 text-red-700 border border-red-200",children:"Room Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 items-start",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type *"}),s.jsxs(ij,{value:ue.roomType,onValueChange:De=>k(Se,"roomType",De),children:[s.jsx(Qy,{className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m[`room_${Se}_type`]?"border-red-500":"border-gray-300"}`,children:s.jsx(oj,{placeholder:"Select room type"})}),s.jsxs($y,{position:"popper",children:[s.jsx(ji,{value:"Single",children:"Single"}),s.jsx(ji,{value:"Double",children:"Double"}),s.jsx(ji,{value:"Triple",children:"Triple"}),s.jsx(ji,{value:"Quad",children:"Quad"}),s.jsx(ji,{value:"Master",children:"Master"}),s.jsx(ji,{value:"Studio",children:"Studio"})]})]}),m[`room_${Se}_type`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m[`room_${Se}_type`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Size (sq ft) *"}),s.jsx("input",{type:"number",min:"50",value:ue.roomSize,onChange:De=>{const ut=De.target.value;(ut===""||/^\d+$/.test(ut)&&parseInt(ut)>=0)&&k(Se,"roomSize",ut)},onKeyDown:De=>{["-","+","e","E","."].includes(De.key)&&De.preventDefault()},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m[`room_${Se}_size`]?"border-red-500":"border-gray-300"}`,placeholder:"Enter room size"}),m[`room_${Se}_size`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m[`room_${Se}_size`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bed Type *"}),s.jsxs(ij,{value:ue.bedType,onValueChange:De=>k(Se,"bedType",De),children:[s.jsx(Qy,{className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m[`room_${Se}_bed`]?"border-red-500":"border-gray-300"}`,children:s.jsx(oj,{placeholder:"Select bed type"})}),s.jsxs($y,{position:"popper",children:[s.jsx(ji,{value:"Single Bed",children:"Single Bed"}),s.jsx(ji,{value:"Double Bed",children:"Double Bed"}),s.jsx(ji,{value:"Queen Bed",children:"Queen Bed"}),s.jsx(ji,{value:"King Bed",children:"King Bed"}),s.jsx(ji,{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx(ji,{value:"No Bed",children:"No Bed"})]})]}),m[`room_${Se}_bed`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m[`room_${Se}_bed`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Occupancy *"}),s.jsx("input",{type:"number",min:"1",max:"10",value:ue.occupancy,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-50 text-gray-700 cursor-not-allowed border-gray-300",placeholder:"Auto-set based on room type"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Automatically set based on room type"})]}),s.jsxs("div",{className:"md:mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attached Bathroom"}),s.jsxs("div",{className:"flex items-center h-10 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>T(Se,"attachedBathroom",!ue.amenities.attachedBathroom),className:`relative inline-flex items-center h-9 w-16 rounded-full transition-colors border ${ue.amenities.attachedBathroom?"bg-green-500 border-green-500":"bg-gray-200 border-gray-300"}`,title:"Toggle attached bathroom","aria-pressed":ue.amenities.attachedBathroom,children:[s.jsx("span",{className:`absolute left-1 top-1 h-7 w-7 rounded-full bg-white shadow transition-transform ${ue.amenities.attachedBathroom?"translate-x-7":"translate-x-0"}`}),s.jsx("span",{className:"sr-only",children:"Attached bathroom toggle"})]}),s.jsx("span",{className:`text-xs font-semibold ${ue.amenities.attachedBathroom?"text-green-700":"text-gray-600"}`,children:ue.amenities.attachedBathroom?"YES":"NO"})]})]}),s.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Description"}),s.jsx("textarea",{value:ue.description,onChange:De=>k(Se,"description",De.target.value),rows:5,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent border-gray-300 h-36",placeholder:"Describe this room's features..."})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image *"}),ue.roomImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:ue.roomImage.preview,alt:ue.roomImage.name,className:"w-full max-w-[220px] h-36 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>B(Se,"roomImage"),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(nr,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-36 border-2 border-dashed rounded-lg cursor-pointer ${m[`room_${Se}_roomImage`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Upload Room Image"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:De=>O(Se,"roomImage",De)})]}),m[`room_${Se}_roomImage`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:m[`room_${Se}_roomImage`]})]}),s.jsx("div",{className:"flex flex-col",children:ue.amenities.attachedBathroom&&s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image (for attached bathroom) *"}),ue.toiletImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:ue.toiletImage.preview,alt:ue.toiletImage.name,className:"w-full max-w-[220px] h-36 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>B(Se,"toiletImage"),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(nr,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-36 border-2 border-dashed rounded-lg cursor-pointer ${m[`room_${Se}_toiletImage`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Upload Toilet Image"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:De=>O(Se,"toiletImage",De)})]}),m[`room_${Se}_toiletImage`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:m[`room_${Se}_toiletImage`]})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-3 items-center",children:Object.entries(ue.amenities).filter(([De])=>De!=="attachedBathroom").map(([De,ut])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:ut,onChange:Nt=>T(Se,De,Nt.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-gray-700 capitalize",children:De.replace(/([A-Z])/g," $1").trim()})]},De))})]}),s.jsxs("div",{className:"space-y-2 md:col-span-3",children:[" ",s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Monthly Rent () *"}),s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{type:"number",min:"0",value:ue.rent,onChange:De=>{const ut=De.target.value;(ut===""||/^\d+$/.test(ut)&&parseInt(ut)>=0)&&k(Se,"rent",ut)},onKeyDown:De=>{["-","+","e","E","."].includes(De.key)&&De.preventDefault()},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m[`room_${Se}_rent`]?"border-red-500":"border-gray-300"}`,placeholder:"Enter monthly rent"}),m[`room_${Se}_rent`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m[`room_${Se}_rent`]})]}),s.jsx("button",{type:"button",onClick:()=>Ge(Se),disabled:C[Se],className:`px-3 py-2 rounded-lg border flex items-center gap-1.5 transition-all whitespace-nowrap h-[42px] ${C[Se]?"bg-indigo-50 border-indigo-200 text-indigo-400 cursor-wait":"bg-indigo-50 text-indigo-600 border-indigo-200 hover:bg-indigo-100"}`,title:"Get AI Rent Suggestion",children:C[Se]?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-indigo-400 border-t-transparent"}),s.jsx("span",{className:"text-sm font-medium",children:"Analyzing..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Qx,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Suggest"})]})})]}),ue.predictedRent&&s.jsxs(J.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-100 rounded-lg p-3 text-sm mt-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("span",{className:"text-indigo-700 font-semibold flex items-center gap-1",children:[s.jsx(Qx,{className:"w-3 h-3 text-indigo-500"})," Lyvo Estimate"]}),s.jsxs("span",{className:"font-bold text-gray-800",children:["",ue.predictedRent.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["Range: ",(Fe=ue.rentRange)==null?void 0:Fe.min.toLocaleString()," - ",(Ee=ue.rentRange)==null?void 0:Ee.max.toLocaleString()]}),s.jsx("button",{type:"button",onClick:()=>k(Se,"rent",ue.predictedRent),className:"text-indigo-600 hover:underline font-medium",children:"Apply"})]})]})]})]})]},Se)})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(xr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Address Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",value:f.address.street,onChange:ue=>X("address.street",ue.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m["address.street"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter street address"}),m["address.street"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m["address.street"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:f.address.city,onChange:ue=>X("address.city",ue.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m["address.city"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter city"}),m["address.city"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m["address.city"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",value:f.address.state,onChange:ue=>X("address.state",ue.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m["address.state"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter state"}),m["address.state"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m["address.state"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),s.jsx("input",{type:"text",value:f.address.pincode,onChange:ue=>X("address.pincode",ue.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${m["address.pincode"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter pincode"}),m["address.pincode"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m["address.pincode"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:f.address.landmark,onChange:ue=>X("address.landmark",ue.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Near landmark (optional)"})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(im,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Amenities"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[["parking4w","Parking (4 wheeler)"],["parking2w","Parking (2 wheeler)"],["kitchen","Kitchen"],["powerBackup","Power Backup"]].map(([ue,Se])=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:!!f.amenities[ue],onChange:()=>be(ue),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:Se})]},ue))})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(er,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Rules and Policies"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:Object.entries(f.rules).map(([ue,Se])=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Se,onChange:()=>_e(ue),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[ue.replace(/([A-Z])/g," $1").trim()," Allowed"]})]},ue))})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(ms,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Property Images"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{key:"front",label:"Front"},{key:"back",label:"Back"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"}].filter(({key:ue})=>ue!=="kitchen"||f.amenities.kitchen).map(({key:ue,label:Se})=>s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:[Se," ",ue!=="kitchen"||f.amenities.kitchen?"*":""]}),f.requiredImages[ue]?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:f.requiredImages[ue].preview,alt:f.requiredImages[ue].name,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>Ye(ue),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(nr,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${m[`requiredImages.${ue}`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsxs("div",{className:"text-xs text-gray-500 text-center px-2",children:["Upload ",Se]}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Fe=>ke(ue,Fe)})]}),m[`requiredImages.${ue}`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:m[`requiredImages.${ue}`]})]},ue))}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(ud,{className:"w-8 h-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Le,className:"hidden"})]})}),s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Toilet Outside the Room"}),s.jsxs("button",{type:"button",onClick:()=>A(ue=>({...ue,toiletOutside:!ue.toiletOutside})),className:`relative inline-flex items-center h-7 w-14 rounded-full transition-colors border ${f.toiletOutside?"bg-blue-500 border-blue-500":"bg-gray-200 border-gray-300"}`,"aria-pressed":f.toiletOutside,children:[s.jsx("span",{className:`absolute left-1 top-1 h-5 w-5 rounded-full bg-white shadow transition-transform ${f.toiletOutside?"translate-x-7":"translate-x-0"}`}),s.jsx("span",{className:"sr-only",children:"Toilet outside toggle"})]}),s.jsx("span",{className:`text-xs font-semibold ${f.toiletOutside?"text-blue-700":"text-gray-600"}`,children:f.toiletOutside?"YES":"NO"})]})}),f.toiletOutside&&s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outside Toilet Image *"}),f.outsideToiletImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:f.outsideToiletImage.preview,alt:f.outsideToiletImage.name,className:"w-44 h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>A(ue=>({...ue,outsideToiletImage:null})),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(nr,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex flex-col items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${m.outsideToiletImage?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx(ud,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload or drag and drop"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Qe})]}),m.outsideToiletImage&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:m.outsideToiletImage})]}),f.images.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:f.images.map((ue,Se)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:ue.preview,alt:ue.name,className:"w-full h-24 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>it(Se),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(nr,{className:"w-3 h-3"})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 truncate",children:ue.name})]},Se))})]})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.65},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(Is,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Property Documents"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Upload the latest Land Tax Receipt (PDF). No other property documents are accepted."}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Latest Land Tax Receipt (PDF) *"}),f.landTaxReceipt&&s.jsx("button",{type:"button",onClick:mt,className:"text-xs text-red-600 hover:underline",children:"Remove"})]}),f.landTaxReceipt?s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded bg-red-100",children:s.jsx(Is,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.landTaxReceipt.name}),s.jsx("div",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsx("button",{type:"button",onClick:mt,className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"Change"})]}):s.jsxs("label",{className:`flex flex-col items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${m.landTaxReceipt?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx(Is,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload latest Land Tax Receipt (PDF only)"}),s.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:Oe})]}),m.landTaxReceipt&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:m.landTaxReceipt})]})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/owner-dashboard"),className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:g,className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center space-x-2",children:g?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Adding Property..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Lv,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Property"})]})})]})]})]}),l&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 transition-opacity",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl transform transition-all scale-100 p-6 relative",children:[s.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:s.jsx(nr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center mb-4",children:s.jsx(Qx,{className:"w-6 h-6"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Missing Information"}),s.jsx("p",{className:"text-gray-600 mb-6 text-sm leading-relaxed",children:d}),s.jsx("button",{onClick:()=>c(!1),className:"w-full bg-orange-600 text-white py-2.5 rounded-lg font-medium hover:bg-orange-700 transition-colors",autoFocus:!0,children:"Got it"})]})]})})]})},Ike=()=>{const e=hr();return s.jsx(wn,{children:s.jsx("div",{className:"max-w-3xl mx-auto p-4",children:s.jsxs("div",{className:"bg-white border border-yellow-200 rounded-xl p-6",children:[s.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Government ID verification required"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"To add a property, please upload and verify your Government ID."}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{type:"button",onClick:()=>e("/owner-settings#kyc"),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",children:"Go to Upload Documents"})})]})})})};var Tke=Array.isArray,ao=Tke,Oke=typeof ix=="object"&&ix&&ix.Object===Object&&ix,wZ=Oke,Lke=wZ,Fke=typeof self=="object"&&self&&self.Object===Object&&self,Rke=Lke||Fke||Function("return this")(),jd=Rke,Uke=jd,Dke=Uke.Symbol,sb=Dke,OM=sb,jZ=Object.prototype,Mke=jZ.hasOwnProperty,Qke=jZ.toString,Y0=OM?OM.toStringTag:void 0;function $ke(e){var t=Mke.call(e,Y0),r=e[Y0];try{e[Y0]=void 0;var n=!0}catch{}var a=Qke.call(e);return n&&(t?e[Y0]=r:delete e[Y0]),a}var Hke=$ke,zke=Object.prototype,Vke=zke.toString;function Kke(e){return Vke.call(e)}var Wke=Kke,LM=sb,Gke=Hke,qke=Wke,Yke="[object Null]",Xke="[object Undefined]",FM=LM?LM.toStringTag:void 0;function Zke(e){return e==null?e===void 0?Xke:Yke:FM&&FM in Object(e)?Gke(e):qke(e)}var Eu=Zke;function Jke(e){return e!=null&&typeof e=="object"}var Pu=Jke,eEe=Eu,tEe=Pu,rEe="[object Symbol]";function nEe(e){return typeof e=="symbol"||tEe(e)&&eEe(e)==rEe}var r0=nEe,sEe=ao,aEe=r0,iEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oEe=/^\w*$/;function lEe(e,t){if(sEe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||aEe(e)?!0:oEe.test(e)||!iEe.test(e)||t!=null&&e in Object(t)}var vI=lEe;function cEe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Af=cEe;const n0=sn(Af);var dEe=Eu,uEe=Af,hEe="[object AsyncFunction]",fEe="[object Function]",AEe="[object GeneratorFunction]",mEe="[object Proxy]";function pEe(e){if(!uEe(e))return!1;var t=dEe(e);return t==fEe||t==AEe||t==hEe||t==mEe}var bI=pEe;const ir=sn(bI);var gEe=jd,xEe=gEe["__core-js_shared__"],yEe=xEe,US=yEe,RM=function(){var e=/[^.]+$/.exec(US&&US.keys&&US.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vEe(e){return!!RM&&RM in e}var bEe=vEe,wEe=Function.prototype,jEe=wEe.toString;function NEe(e){if(e!=null){try{return jEe.call(e)}catch{}try{return e+""}catch{}}return""}var NZ=NEe,_Ee=bI,CEe=bEe,SEe=Af,BEe=NZ,kEe=/[\\^$.*+?()[\]{}|]/g,EEe=/^\[object .+?Constructor\]$/,PEe=Function.prototype,IEe=Object.prototype,TEe=PEe.toString,OEe=IEe.hasOwnProperty,LEe=RegExp("^"+TEe.call(OEe).replace(kEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FEe(e){if(!SEe(e)||CEe(e))return!1;var t=_Ee(e)?LEe:EEe;return t.test(BEe(e))}var REe=FEe;function UEe(e,t){return e==null?void 0:e[t]}var DEe=UEe,MEe=REe,QEe=DEe;function $Ee(e,t){var r=QEe(e,t);return MEe(r)?r:void 0}var hm=$Ee,HEe=hm,zEe=HEe(Object,"create"),j5=zEe,UM=j5;function VEe(){this.__data__=UM?UM(null):{},this.size=0}var KEe=VEe;function WEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var GEe=WEe,qEe=j5,YEe="__lodash_hash_undefined__",XEe=Object.prototype,ZEe=XEe.hasOwnProperty;function JEe(e){var t=this.__data__;if(qEe){var r=t[e];return r===YEe?void 0:r}return ZEe.call(t,e)?t[e]:void 0}var e3e=JEe,t3e=j5,r3e=Object.prototype,n3e=r3e.hasOwnProperty;function s3e(e){var t=this.__data__;return t3e?t[e]!==void 0:n3e.call(t,e)}var a3e=s3e,i3e=j5,o3e="__lodash_hash_undefined__";function l3e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i3e&&t===void 0?o3e:t,this}var c3e=l3e,d3e=KEe,u3e=GEe,h3e=e3e,f3e=a3e,A3e=c3e;function s0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s0.prototype.clear=d3e;s0.prototype.delete=u3e;s0.prototype.get=h3e;s0.prototype.has=f3e;s0.prototype.set=A3e;var m3e=s0;function p3e(){this.__data__=[],this.size=0}var g3e=p3e;function x3e(e,t){return e===t||e!==e&&t!==t}var wI=x3e,y3e=wI;function v3e(e,t){for(var r=e.length;r--;)if(y3e(e[r][0],t))return r;return-1}var N5=v3e,b3e=N5,w3e=Array.prototype,j3e=w3e.splice;function N3e(e){var t=this.__data__,r=b3e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():j3e.call(t,r,1),--this.size,!0}var _3e=N3e,C3e=N5;function S3e(e){var t=this.__data__,r=C3e(t,e);return r<0?void 0:t[r][1]}var B3e=S3e,k3e=N5;function E3e(e){return k3e(this.__data__,e)>-1}var P3e=E3e,I3e=N5;function T3e(e,t){var r=this.__data__,n=I3e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var O3e=T3e,L3e=g3e,F3e=_3e,R3e=B3e,U3e=P3e,D3e=O3e;function a0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}a0.prototype.clear=L3e;a0.prototype.delete=F3e;a0.prototype.get=R3e;a0.prototype.has=U3e;a0.prototype.set=D3e;var _5=a0,M3e=hm,Q3e=jd,$3e=M3e(Q3e,"Map"),jI=$3e,DM=m3e,H3e=_5,z3e=jI;function V3e(){this.size=0,this.__data__={hash:new DM,map:new(z3e||H3e),string:new DM}}var K3e=V3e;function W3e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var G3e=W3e,q3e=G3e;function Y3e(e,t){var r=e.__data__;return q3e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var C5=Y3e,X3e=C5;function Z3e(e){var t=X3e(this,e).delete(e);return this.size-=t?1:0,t}var J3e=Z3e,ePe=C5;function tPe(e){return ePe(this,e).get(e)}var rPe=tPe,nPe=C5;function sPe(e){return nPe(this,e).has(e)}var aPe=sPe,iPe=C5;function oPe(e,t){var r=iPe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var lPe=oPe,cPe=K3e,dPe=J3e,uPe=rPe,hPe=aPe,fPe=lPe;function i0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}i0.prototype.clear=cPe;i0.prototype.delete=dPe;i0.prototype.get=uPe;i0.prototype.has=hPe;i0.prototype.set=fPe;var NI=i0,_Z=NI,APe="Expected a function";function _I(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(APe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(_I.Cache||_Z),r}_I.Cache=_Z;var CZ=_I;const mPe=sn(CZ);var pPe=CZ,gPe=500;function xPe(e){var t=pPe(e,function(n){return r.size===gPe&&r.clear(),n}),r=t.cache;return t}var yPe=xPe,vPe=yPe,bPe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wPe=/\\(\\)?/g,jPe=vPe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bPe,function(r,n,a,i){t.push(a?i.replace(wPe,"$1"):n||r)}),t}),NPe=jPe;function _Pe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var CI=_Pe,MM=sb,CPe=CI,SPe=ao,BPe=r0,QM=MM?MM.prototype:void 0,$M=QM?QM.toString:void 0;function SZ(e){if(typeof e=="string")return e;if(SPe(e))return CPe(e,SZ)+"";if(BPe(e))return $M?$M.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var kPe=SZ,EPe=kPe;function PPe(e){return e==null?"":EPe(e)}var BZ=PPe,IPe=ao,TPe=vI,OPe=NPe,LPe=BZ;function FPe(e,t){return IPe(e)?e:TPe(e,t)?[e]:OPe(LPe(e))}var kZ=FPe,RPe=r0;function UPe(e){if(typeof e=="string"||RPe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var S5=UPe,DPe=kZ,MPe=S5;function QPe(e,t){t=DPe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[MPe(t[r++])];return r&&r==n?e:void 0}var SI=QPe,$Pe=SI;function HPe(e,t,r){var n=e==null?void 0:$Pe(e,t);return n===void 0?r:n}var EZ=HPe;const Io=sn(EZ);function zPe(e){return e==null}var VPe=zPe;const fr=sn(VPe);var KPe=Eu,WPe=ao,GPe=Pu,qPe="[object String]";function YPe(e){return typeof e=="string"||!WPe(e)&&GPe(e)&&KPe(e)==qPe}var XPe=YPe;const GA=sn(XPe);var PZ={exports:{}},jn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI=Symbol.for("react.element"),kI=Symbol.for("react.portal"),B5=Symbol.for("react.fragment"),k5=Symbol.for("react.strict_mode"),E5=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),I5=Symbol.for("react.context"),ZPe=Symbol.for("react.server_context"),T5=Symbol.for("react.forward_ref"),O5=Symbol.for("react.suspense"),L5=Symbol.for("react.suspense_list"),F5=Symbol.for("react.memo"),R5=Symbol.for("react.lazy"),JPe=Symbol.for("react.offscreen"),IZ;IZ=Symbol.for("react.module.reference");function jl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case BI:switch(e=e.type,e){case B5:case E5:case k5:case O5:case L5:return e;default:switch(e=e&&e.$$typeof,e){case ZPe:case I5:case T5:case R5:case F5:case P5:return e;default:return t}}case kI:return t}}}jn.ContextConsumer=I5;jn.ContextProvider=P5;jn.Element=BI;jn.ForwardRef=T5;jn.Fragment=B5;jn.Lazy=R5;jn.Memo=F5;jn.Portal=kI;jn.Profiler=E5;jn.StrictMode=k5;jn.Suspense=O5;jn.SuspenseList=L5;jn.isAsyncMode=function(){return!1};jn.isConcurrentMode=function(){return!1};jn.isContextConsumer=function(e){return jl(e)===I5};jn.isContextProvider=function(e){return jl(e)===P5};jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===BI};jn.isForwardRef=function(e){return jl(e)===T5};jn.isFragment=function(e){return jl(e)===B5};jn.isLazy=function(e){return jl(e)===R5};jn.isMemo=function(e){return jl(e)===F5};jn.isPortal=function(e){return jl(e)===kI};jn.isProfiler=function(e){return jl(e)===E5};jn.isStrictMode=function(e){return jl(e)===k5};jn.isSuspense=function(e){return jl(e)===O5};jn.isSuspenseList=function(e){return jl(e)===L5};jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===B5||e===E5||e===k5||e===O5||e===L5||e===JPe||typeof e=="object"&&e!==null&&(e.$$typeof===R5||e.$$typeof===F5||e.$$typeof===P5||e.$$typeof===I5||e.$$typeof===T5||e.$$typeof===IZ||e.getModuleId!==void 0)};jn.typeOf=jl;PZ.exports=jn;var e6e=PZ.exports,t6e=Eu,r6e=Pu,n6e="[object Number]";function s6e(e){return typeof e=="number"||r6e(e)&&t6e(e)==n6e}var TZ=s6e;const a6e=sn(TZ);var i6e=TZ;function o6e(e){return i6e(e)&&e!=+e}var l6e=o6e;const o0=sn(l6e);var Si=function(t){return t===0?0:t>0?1:-1},iA=function(t){return GA(t)&&t.indexOf("%")===t.length-1},_t=function(t){return a6e(t)&&!o0(t)},c6e=function(t){return fr(t)},xa=function(t){return _t(t)||GA(t)},d6e=0,fm=function(t){var r=++d6e;return"".concat(t||"").concat(r)},Bi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_t(t)&&!GA(t))return n;var i;if(iA(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return o0(i)&&(i=n),a&&i>r&&(i=r),i},bh=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},u6e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},pa=function(t,r){return _t(t)&&_t(r)?function(n){return t+n*(r-t)}:function(){return r}};function lj(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Io(n,t))===r})}var h6e=function(t,r){return _t(t)&&_t(r)?t-r:GA(t)&&GA(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Kp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Vk(e){"@babel/helpers - typeof";return Vk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vk(e)}var f6e=["viewBox","children"],A6e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HM=["points","pathLength"],DS={svg:f6e,polygon:HM,polyline:HM},EI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cj=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!n0(n))return null;var a={};return Object.keys(n).forEach(function(i){EI.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},m6e=function(t,r,n){return function(a){return t(r,n,a),null}},qA=function(t,r,n){if(!n0(t)||Vk(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];EI.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=m6e(o,r,n))}),a},p6e=["children"],g6e=["children"];function zM(e,t){if(e==null)return{};var r=x6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kk(e){"@babel/helpers - typeof";return Kk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kk(e)}var VM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},cu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},KM=null,MS=null,PI=function e(t){if(t===KM&&Array.isArray(MS))return MS;var r=[];return _.Children.forEach(t,function(n){fr(n)||(e6e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),MS=r,KM=t,r};function To(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return cu(a)}):n=[cu(t)],PI(e).forEach(function(a){var i=Io(a,"type.displayName")||Io(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function No(e,t){var r=To(e,t);return r&&r[0]}var WM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!_t(n)||n<=0||!_t(a)||a<=0)},y6e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],v6e=function(t){return t&&t.type&&GA(t.type)&&y6e.indexOf(t.type)>=0},OZ=function(t){return t&&Kk(t)==="object"&&"clipDot"in t},b6e=function(t,r,n,a){var i,o=(i=DS==null?void 0:DS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ir(t)&&(a&&o.includes(r)||A6e.includes(r))||n&&EI.includes(r)},Zt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(_.isValidElement(t)&&(a=t.props),!n0(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;b6e((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},Wk=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return GM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!GM(i,o))return!1}return!0},GM=function(t,r){if(fr(t)&&fr(r))return!0;if(!fr(t)&&!fr(r)){var n=t.props||{},a=n.children,i=zM(n,p6e),o=r.props||{},l=o.children,c=zM(o,g6e);return a&&l?Kp(i,c)&&Wk(a,l):!a&&!l?Kp(i,c):!1}return!1},qM=function(t,r){var n=[],a={};return PI(t).forEach(function(i,o){if(v6e(i))n.push(i);else if(i){var l=cu(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var f=d(i,l,o);n.push(f),a[l]=!0}}}),n},w6e=function(t){var r=t&&t.type;return r&&VM[r]?VM[r]:null},j6e=function(t,r){return PI(r).indexOf(t)},N6e=["children","width","height","viewBox","className","style","title","desc"];function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gk.apply(this,arguments)}function _6e(e,t){if(e==null)return{};var r=C6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qk(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=_6e(e,N6e),u=a||{width:r,height:n,x:0,y:0},f=pr("recharts-surface",i);return Ce.createElement("svg",Gk({},Zt(d,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ce.createElement("title",null,l),Ce.createElement("desc",null,c),t)}var S6e=["children","className"];function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yk.apply(this,arguments)}function B6e(e,t){if(e==null)return{};var r=k6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lr=Ce.forwardRef(function(e,t){var r=e.children,n=e.className,a=B6e(e,S6e),i=pr("recharts-layer",n);return Ce.createElement("g",Yk({className:i},Zt(a,!0),{ref:t}),r)}),uc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function E6e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var P6e=E6e,I6e=P6e;function T6e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:I6e(e,t,r)}var O6e=T6e,L6e="\\ud800-\\udfff",F6e="\\u0300-\\u036f",R6e="\\ufe20-\\ufe2f",U6e="\\u20d0-\\u20ff",D6e=F6e+R6e+U6e,M6e="\\ufe0e\\ufe0f",Q6e="\\u200d",$6e=RegExp("["+Q6e+L6e+D6e+M6e+"]");function H6e(e){return $6e.test(e)}var LZ=H6e;function z6e(e){return e.split("")}var V6e=z6e,FZ="\\ud800-\\udfff",K6e="\\u0300-\\u036f",W6e="\\ufe20-\\ufe2f",G6e="\\u20d0-\\u20ff",q6e=K6e+W6e+G6e,Y6e="\\ufe0e\\ufe0f",X6e="["+FZ+"]",Xk="["+q6e+"]",Zk="\\ud83c[\\udffb-\\udfff]",Z6e="(?:"+Xk+"|"+Zk+")",RZ="[^"+FZ+"]",UZ="(?:\\ud83c[\\udde6-\\uddff]){2}",DZ="[\\ud800-\\udbff][\\udc00-\\udfff]",J6e="\\u200d",MZ=Z6e+"?",QZ="["+Y6e+"]?",eIe="(?:"+J6e+"(?:"+[RZ,UZ,DZ].join("|")+")"+QZ+MZ+")*",tIe=QZ+MZ+eIe,rIe="(?:"+[RZ+Xk+"?",Xk,UZ,DZ,X6e].join("|")+")",nIe=RegExp(Zk+"(?="+Zk+")|"+rIe+tIe,"g");function sIe(e){return e.match(nIe)||[]}var aIe=sIe,iIe=V6e,oIe=LZ,lIe=aIe;function cIe(e){return oIe(e)?lIe(e):iIe(e)}var dIe=cIe,uIe=O6e,hIe=LZ,fIe=dIe,AIe=BZ;function mIe(e){return function(t){t=AIe(t);var r=hIe(t)?fIe(t):void 0,n=r?r[0]:t.charAt(0),a=r?uIe(r,1).join(""):t.slice(1);return n[e]()+a}}var pIe=mIe,gIe=pIe,xIe=gIe("toUpperCase"),yIe=xIe;const U5=sn(yIe);function Mn(e){return function(){return e}}const $Z=Math.cos,dj=Math.sin,_c=Math.sqrt,uj=Math.PI,D5=2*uj,Jk=Math.PI,eE=2*Jk,Vf=1e-6,vIe=eE-Vf;function HZ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bIe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HZ;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class wIe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?HZ:bIe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=a-r,u=o-t,f=l-r,A=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(A>Vf)if(!(Math.abs(f*c-d*u)>Vf)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=a-l,g=c*c+d*d,y=m*m+x*x,v=Math.sqrt(g),b=Math.sqrt(A),w=i*Math.tan((Jk-Math.acos((g+A-y)/(2*v*b)))/2),C=w/b,N=w/v;Math.abs(C-1)>Vf&&this._append`L${t+C*u},${r+C*f}`,this._append`A${i},${i},0,0,${+(f*m>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=t+l,u=r+c,f=1^o,A=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Vf||Math.abs(this._y1-u)>Vf)&&this._append`L${d},${u}`,n&&(A<0&&(A=A%eE+eE),A>vIe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:A>Vf&&this._append`A${n},${n},0,${+(A>=Jk)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function II(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new wIe(t)}function TI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zZ(e){this._context=e}zZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function M5(e){return new zZ(e)}function VZ(e){return e[0]}function KZ(e){return e[1]}function WZ(e,t){var r=Mn(!0),n=null,a=M5,i=null,o=II(l);e=typeof e=="function"?e:e===void 0?VZ:Mn(e),t=typeof t=="function"?t:t===void 0?KZ:Mn(t);function l(c){var d,u=(c=TI(c)).length,f,A=!1,m;for(n==null&&(i=a(m=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===A&&((A=!A)?i.lineStart():i.lineEnd()),A&&i.point(+e(f,d,c),+t(f,d,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Mn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Mn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Mn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Qw(e,t,r){var n=null,a=Mn(!0),i=null,o=M5,l=null,c=II(d);e=typeof e=="function"?e:e===void 0?VZ:Mn(+e),t=typeof t=="function"?t:Mn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?KZ:Mn(+r);function d(f){var A,m,x,g=(f=TI(f)).length,y,v=!1,b,w=new Array(g),C=new Array(g);for(i==null&&(l=o(b=c())),A=0;A<=g;++A){if(!(A<g&&a(y=f[A],A,f))===v)if(v=!v)m=A,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=A-1;x>=m;--x)l.point(w[x],C[x]);l.lineEnd(),l.areaEnd()}v&&(w[A]=+e(y,A,f),C[A]=+t(y,A,f),l.point(n?+n(y,A,f):w[A],r?+r(y,A,f):C[A]))}if(b)return l=null,b+""||null}function u(){return WZ().defined(a).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Mn(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Mn(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Mn(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Mn(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Mn(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Mn(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Mn(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class GZ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jIe(e){return new GZ(e,!0)}function NIe(e){return new GZ(e,!1)}const OI={draw(e,t){const r=_c(t/uj);e.moveTo(r,0),e.arc(0,0,r,0,D5)}},_Ie={draw(e,t){const r=_c(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},qZ=_c(1/3),CIe=qZ*2,SIe={draw(e,t){const r=_c(t/CIe),n=r*qZ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},BIe={draw(e,t){const r=_c(t),n=-r/2;e.rect(n,n,r,r)}},kIe=.8908130915292852,YZ=dj(uj/10)/dj(7*uj/10),EIe=dj(D5/10)*YZ,PIe=-$Z(D5/10)*YZ,IIe={draw(e,t){const r=_c(t*kIe),n=EIe*r,a=PIe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=D5*i/5,l=$Z(o),c=dj(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},QS=_c(3),TIe={draw(e,t){const r=-_c(t/(QS*3));e.moveTo(0,r*2),e.lineTo(-QS*r,-r),e.lineTo(QS*r,-r),e.closePath()}},Jo=-.5,el=_c(3)/2,tE=1/_c(12),OIe=(tE/2+1)*3,LIe={draw(e,t){const r=_c(t/OIe),n=r/2,a=r*tE,i=n,o=r*tE+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Jo*n-el*a,el*n+Jo*a),e.lineTo(Jo*i-el*o,el*i+Jo*o),e.lineTo(Jo*l-el*c,el*l+Jo*c),e.lineTo(Jo*n+el*a,Jo*a-el*n),e.lineTo(Jo*i+el*o,Jo*o-el*i),e.lineTo(Jo*l+el*c,Jo*c-el*l),e.closePath()}};function FIe(e,t){let r=null,n=II(a);e=typeof e=="function"?e:Mn(e||OI),t=typeof t=="function"?t:Mn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Mn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Mn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function hj(){}function fj(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function XZ(e){this._context=e}XZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RIe(e){return new XZ(e)}function ZZ(e){this._context=e}ZZ.prototype={areaStart:hj,areaEnd:hj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UIe(e){return new ZZ(e)}function JZ(e){this._context=e}JZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DIe(e){return new JZ(e)}function eJ(e){this._context=e}eJ.prototype={areaStart:hj,areaEnd:hj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function MIe(e){return new eJ(e)}function YM(e){return e<0?-1:1}function XM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(YM(i)+YM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ZM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $S(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Aj(e){this._context=e}Aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$S(this,this._t0,ZM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$S(this,ZM(this,r=XM(this,e,t)),r);break;default:$S(this,this._t0,r=XM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function tJ(e){this._context=new rJ(e)}(tJ.prototype=Object.create(Aj.prototype)).point=function(e,t){Aj.prototype.point.call(this,t,e)};function rJ(e){this._context=e}rJ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function QIe(e){return new Aj(e)}function $Ie(e){return new tJ(e)}function nJ(e){this._context=e}nJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=JM(e),a=JM(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function JM(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function HIe(e){return new nJ(e)}function Q5(e,t){this._context=e,this._t=t}Q5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function zIe(e){return new Q5(e,.5)}function VIe(e){return new Q5(e,0)}function KIe(e){return new Q5(e,1)}function ug(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function rE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function WIe(e,t){return e[t]}function GIe(e){const t=[];return t.key=e,t}function qIe(){var e=Mn([]),t=rE,r=ug,n=WIe;function a(i){var o=Array.from(e.apply(this,arguments),GIe),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(f,o[l].key,d,i)]).data=f;for(l=0,u=TI(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Mn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Mn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?rE:typeof i=="function"?i:Mn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ug,a):r},a}function YIe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}ug(e,t)}}function XIe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ug(e,t)}}function ZIe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[n][1]||0,A=u[n-1][1]||0,m=(f-A)/2,x=0;x<l;++x){var g=e[t[x]],y=g[n][1]||0,v=g[n-1][1]||0;m+=y-v}c+=f,d+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,ug(e,t)}}function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}var JIe=["type","size","sizeType"];function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nE.apply(this,arguments)}function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(n){eTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eTe(e,t,r){return t=tTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tTe(e){var t=rTe(e,"string");return Hy(t)=="symbol"?t:t+""}function rTe(e,t){if(Hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nTe(e,t){if(e==null)return{};var r=sTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sJ={symbolCircle:OI,symbolCross:_Ie,symbolDiamond:SIe,symbolSquare:BIe,symbolStar:IIe,symbolTriangle:TIe,symbolWye:LIe},aTe=Math.PI/180,iTe=function(t){var r="symbol".concat(U5(t));return sJ[r]||OI},oTe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*aTe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lTe=function(t,r){sJ["symbol".concat(U5(t))]=r},LI=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=nTe(t,JIe),d=t8(t8({},c),{},{type:n,size:i,sizeType:l}),u=function(){var y=iTe(n),v=FIe().type(y).size(oTe(i,l,n));return v()},f=d.className,A=d.cx,m=d.cy,x=Zt(d,!0);return A===+A&&m===+m&&i===+i?Ce.createElement("path",nE({},x,{className:pr("recharts-symbols",f),transform:"translate(".concat(A,", ").concat(m,")"),d:u()})):null};LI.registerSymbol=lTe;function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function sE(){return sE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sE.apply(this,arguments)}function r8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(r),!0).forEach(function(n){zy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iJ(n.key),n)}}function hTe(e,t,r){return t&&uTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fTe(e,t,r){return t=mj(t),ATe(e,aJ()?Reflect.construct(t,r||[],mj(e).constructor):t.apply(e,r))}function ATe(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mTe(e)}function mTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aJ=function(){return!!e})()}function mj(e){return mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mj(e)}function pTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aE(e,t)}function aE(e,t){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aE(e,t)}function zy(e,t,r){return t=iJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iJ(e){var t=gTe(e,"string");return hg(t)=="symbol"?t:t+""}function gTe(e,t){if(hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tl=32,FI=function(e){function t(){return dTe(this,t),fTe(this,t,arguments)}return pTe(t,e),hTe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=tl/2,o=tl/6,l=tl/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Ce.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:tl,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ce.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(tl,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ce.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(tl/8,"h").concat(tl,"v").concat(tl*3/4,"h").concat(-tl,"z"),className:"recharts-legend-icon"});if(Ce.isValidElement(n.legendIcon)){var d=cTe({},n);return delete d.legendIcon,Ce.cloneElement(n.legendIcon,d)}return Ce.createElement(LI,{fill:c,cx:i,cy:i,size:tl,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:tl,height:tl},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var g=m.formatter||c,y=pr(zy(zy({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=ir(m.value)?null:m.value;uc(!ir(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?d:m.color;return Ce.createElement("li",sE({className:y,style:f,key:"legend-item-".concat(x)},qA(n.props,m,x)),Ce.createElement(qk,{width:o,height:o,viewBox:u,style:A},n.renderIcon(m)),Ce.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(v,m,x):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ce.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(_.PureComponent);zy(FI,"displayName","Legend");zy(FI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xTe=_5;function yTe(){this.__data__=new xTe,this.size=0}var vTe=yTe;function bTe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var wTe=bTe;function jTe(e){return this.__data__.get(e)}var NTe=jTe;function _Te(e){return this.__data__.has(e)}var CTe=_Te,STe=_5,BTe=jI,kTe=NI,ETe=200;function PTe(e,t){var r=this.__data__;if(r instanceof STe){var n=r.__data__;if(!BTe||n.length<ETe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new kTe(n)}return r.set(e,t),this.size=r.size,this}var ITe=PTe,TTe=_5,OTe=vTe,LTe=wTe,FTe=NTe,RTe=CTe,UTe=ITe;function l0(e){var t=this.__data__=new TTe(e);this.size=t.size}l0.prototype.clear=OTe;l0.prototype.delete=LTe;l0.prototype.get=FTe;l0.prototype.has=RTe;l0.prototype.set=UTe;var oJ=l0,DTe="__lodash_hash_undefined__";function MTe(e){return this.__data__.set(e,DTe),this}var QTe=MTe;function $Te(e){return this.__data__.has(e)}var HTe=$Te,zTe=NI,VTe=QTe,KTe=HTe;function pj(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new zTe;++t<r;)this.add(e[t])}pj.prototype.add=pj.prototype.push=VTe;pj.prototype.has=KTe;var lJ=pj;function WTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var cJ=WTe;function GTe(e,t){return e.has(t)}var dJ=GTe,qTe=lJ,YTe=cJ,XTe=dJ,ZTe=1,JTe=2;function eOe(e,t,r,n,a,i){var o=r&ZTe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,A=!0,m=r&JTe?new qTe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],g=t[f];if(n)var y=o?n(g,x,f,t,e,i):n(x,g,f,e,t,i);if(y!==void 0){if(y)continue;A=!1;break}if(m){if(!YTe(t,function(v,b){if(!XTe(m,b)&&(x===v||a(x,v,r,n,i)))return m.push(b)})){A=!1;break}}else if(!(x===g||a(x,g,r,n,i))){A=!1;break}}return i.delete(e),i.delete(t),A}var uJ=eOe,tOe=jd,rOe=tOe.Uint8Array,nOe=rOe;function sOe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var aOe=sOe;function iOe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var RI=iOe,n8=sb,s8=nOe,oOe=wI,lOe=uJ,cOe=aOe,dOe=RI,uOe=1,hOe=2,fOe="[object Boolean]",AOe="[object Date]",mOe="[object Error]",pOe="[object Map]",gOe="[object Number]",xOe="[object RegExp]",yOe="[object Set]",vOe="[object String]",bOe="[object Symbol]",wOe="[object ArrayBuffer]",jOe="[object DataView]",a8=n8?n8.prototype:void 0,HS=a8?a8.valueOf:void 0;function NOe(e,t,r,n,a,i,o){switch(r){case jOe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case wOe:return!(e.byteLength!=t.byteLength||!i(new s8(e),new s8(t)));case fOe:case AOe:case gOe:return oOe(+e,+t);case mOe:return e.name==t.name&&e.message==t.message;case xOe:case vOe:return e==t+"";case pOe:var l=cOe;case yOe:var c=n&uOe;if(l||(l=dOe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=hOe,o.set(e,t);var u=lOe(l(e),l(t),n,a,i,o);return o.delete(e),u;case bOe:if(HS)return HS.call(e)==HS.call(t)}return!1}var _Oe=NOe;function COe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var hJ=COe,SOe=hJ,BOe=ao;function kOe(e,t,r){var n=t(e);return BOe(e)?n:SOe(n,r(e))}var EOe=kOe;function POe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var IOe=POe;function TOe(){return[]}var OOe=TOe,LOe=IOe,FOe=OOe,ROe=Object.prototype,UOe=ROe.propertyIsEnumerable,i8=Object.getOwnPropertySymbols,DOe=i8?function(e){return e==null?[]:(e=Object(e),LOe(i8(e),function(t){return UOe.call(e,t)}))}:FOe,MOe=DOe;function QOe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var $Oe=QOe,HOe=Eu,zOe=Pu,VOe="[object Arguments]";function KOe(e){return zOe(e)&&HOe(e)==VOe}var WOe=KOe,o8=WOe,GOe=Pu,fJ=Object.prototype,qOe=fJ.hasOwnProperty,YOe=fJ.propertyIsEnumerable,XOe=o8(function(){return arguments}())?o8:function(e){return GOe(e)&&qOe.call(e,"callee")&&!YOe.call(e,"callee")},UI=XOe,gj={exports:{}};function ZOe(){return!1}var JOe=ZOe;gj.exports;(function(e,t){var r=jd,n=JOe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(gj,gj.exports);var AJ=gj.exports,eLe=9007199254740991,tLe=/^(?:0|[1-9]\d*)$/;function rLe(e,t){var r=typeof e;return t=t??eLe,!!t&&(r=="number"||r!="symbol"&&tLe.test(e))&&e>-1&&e%1==0&&e<t}var DI=rLe,nLe=9007199254740991;function sLe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nLe}var MI=sLe,aLe=Eu,iLe=MI,oLe=Pu,lLe="[object Arguments]",cLe="[object Array]",dLe="[object Boolean]",uLe="[object Date]",hLe="[object Error]",fLe="[object Function]",ALe="[object Map]",mLe="[object Number]",pLe="[object Object]",gLe="[object RegExp]",xLe="[object Set]",yLe="[object String]",vLe="[object WeakMap]",bLe="[object ArrayBuffer]",wLe="[object DataView]",jLe="[object Float32Array]",NLe="[object Float64Array]",_Le="[object Int8Array]",CLe="[object Int16Array]",SLe="[object Int32Array]",BLe="[object Uint8Array]",kLe="[object Uint8ClampedArray]",ELe="[object Uint16Array]",PLe="[object Uint32Array]",Yn={};Yn[jLe]=Yn[NLe]=Yn[_Le]=Yn[CLe]=Yn[SLe]=Yn[BLe]=Yn[kLe]=Yn[ELe]=Yn[PLe]=!0;Yn[lLe]=Yn[cLe]=Yn[bLe]=Yn[dLe]=Yn[wLe]=Yn[uLe]=Yn[hLe]=Yn[fLe]=Yn[ALe]=Yn[mLe]=Yn[pLe]=Yn[gLe]=Yn[xLe]=Yn[yLe]=Yn[vLe]=!1;function ILe(e){return oLe(e)&&iLe(e.length)&&!!Yn[aLe(e)]}var TLe=ILe;function OLe(e){return function(t){return e(t)}}var mJ=OLe,xj={exports:{}};xj.exports;(function(e,t){var r=wZ,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(xj,xj.exports);var LLe=xj.exports,FLe=TLe,RLe=mJ,l8=LLe,c8=l8&&l8.isTypedArray,ULe=c8?RLe(c8):FLe,pJ=ULe,DLe=$Oe,MLe=UI,QLe=ao,$Le=AJ,HLe=DI,zLe=pJ,VLe=Object.prototype,KLe=VLe.hasOwnProperty;function WLe(e,t){var r=QLe(e),n=!r&&MLe(e),a=!r&&!n&&$Le(e),i=!r&&!n&&!a&&zLe(e),o=r||n||a||i,l=o?DLe(e.length,String):[],c=l.length;for(var d in e)(t||KLe.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||HLe(d,c)))&&l.push(d);return l}var GLe=WLe,qLe=Object.prototype;function YLe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||qLe;return e===r}var XLe=YLe;function ZLe(e,t){return function(r){return e(t(r))}}var gJ=ZLe,JLe=gJ,eFe=JLe(Object.keys,Object),tFe=eFe,rFe=XLe,nFe=tFe,sFe=Object.prototype,aFe=sFe.hasOwnProperty;function iFe(e){if(!rFe(e))return nFe(e);var t=[];for(var r in Object(e))aFe.call(e,r)&&r!="constructor"&&t.push(r);return t}var oFe=iFe,lFe=bI,cFe=MI;function dFe(e){return e!=null&&cFe(e.length)&&!lFe(e)}var ab=dFe,uFe=GLe,hFe=oFe,fFe=ab;function AFe(e){return fFe(e)?uFe(e):hFe(e)}var $5=AFe,mFe=EOe,pFe=MOe,gFe=$5;function xFe(e){return mFe(e,gFe,pFe)}var yFe=xFe,d8=yFe,vFe=1,bFe=Object.prototype,wFe=bFe.hasOwnProperty;function jFe(e,t,r,n,a,i){var o=r&vFe,l=d8(e),c=l.length,d=d8(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var A=l[f];if(!(o?A in t:wFe.call(t,A)))return!1}var m=i.get(e),x=i.get(t);if(m&&x)return m==t&&x==e;var g=!0;i.set(e,t),i.set(t,e);for(var y=o;++f<c;){A=l[f];var v=e[A],b=t[A];if(n)var w=o?n(b,v,A,t,e,i):n(v,b,A,e,t,i);if(!(w===void 0?v===b||a(v,b,r,n,i):w)){g=!1;break}y||(y=A=="constructor")}if(g&&!y){var C=e.constructor,N=t.constructor;C!=N&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof N=="function"&&N instanceof N)&&(g=!1)}return i.delete(e),i.delete(t),g}var NFe=jFe,_Fe=hm,CFe=jd,SFe=_Fe(CFe,"DataView"),BFe=SFe,kFe=hm,EFe=jd,PFe=kFe(EFe,"Promise"),IFe=PFe,TFe=hm,OFe=jd,LFe=TFe(OFe,"Set"),xJ=LFe,FFe=hm,RFe=jd,UFe=FFe(RFe,"WeakMap"),DFe=UFe,iE=BFe,oE=jI,lE=IFe,cE=xJ,dE=DFe,yJ=Eu,c0=NZ,u8="[object Map]",MFe="[object Object]",h8="[object Promise]",f8="[object Set]",A8="[object WeakMap]",m8="[object DataView]",QFe=c0(iE),$Fe=c0(oE),HFe=c0(lE),zFe=c0(cE),VFe=c0(dE),Kf=yJ;(iE&&Kf(new iE(new ArrayBuffer(1)))!=m8||oE&&Kf(new oE)!=u8||lE&&Kf(lE.resolve())!=h8||cE&&Kf(new cE)!=f8||dE&&Kf(new dE)!=A8)&&(Kf=function(e){var t=yJ(e),r=t==MFe?e.constructor:void 0,n=r?c0(r):"";if(n)switch(n){case QFe:return m8;case $Fe:return u8;case HFe:return h8;case zFe:return f8;case VFe:return A8}return t});var KFe=Kf,zS=oJ,WFe=uJ,GFe=_Oe,qFe=NFe,p8=KFe,g8=ao,x8=AJ,YFe=pJ,XFe=1,y8="[object Arguments]",v8="[object Array]",$w="[object Object]",ZFe=Object.prototype,b8=ZFe.hasOwnProperty;function JFe(e,t,r,n,a,i){var o=g8(e),l=g8(t),c=o?v8:p8(e),d=l?v8:p8(t);c=c==y8?$w:c,d=d==y8?$w:d;var u=c==$w,f=d==$w,A=c==d;if(A&&x8(e)){if(!x8(t))return!1;o=!0,u=!1}if(A&&!u)return i||(i=new zS),o||YFe(e)?WFe(e,t,r,n,a,i):GFe(e,t,c,r,n,a,i);if(!(r&XFe)){var m=u&&b8.call(e,"__wrapped__"),x=f&&b8.call(t,"__wrapped__");if(m||x){var g=m?e.value():e,y=x?t.value():t;return i||(i=new zS),a(g,y,r,n,i)}}return A?(i||(i=new zS),qFe(e,t,r,n,a,i)):!1}var eRe=JFe,tRe=eRe,w8=Pu;function vJ(e,t,r,n,a){return e===t?!0:e==null||t==null||!w8(e)&&!w8(t)?e!==e&&t!==t:tRe(e,t,r,n,vJ,a)}var QI=vJ,rRe=oJ,nRe=QI,sRe=1,aRe=2;function iRe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new rRe;if(n)var A=n(d,u,c,e,t,f);if(!(A===void 0?nRe(u,d,sRe|aRe,n,f):A))return!1}}return!0}var oRe=iRe,lRe=Af;function cRe(e){return e===e&&!lRe(e)}var bJ=cRe,dRe=bJ,uRe=$5;function hRe(e){for(var t=uRe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,dRe(a)]}return t}var fRe=hRe;function ARe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var wJ=ARe,mRe=oRe,pRe=fRe,gRe=wJ;function xRe(e){var t=pRe(e);return t.length==1&&t[0][2]?gRe(t[0][0],t[0][1]):function(r){return r===e||mRe(r,e,t)}}var yRe=xRe;function vRe(e,t){return e!=null&&t in Object(e)}var bRe=vRe,wRe=kZ,jRe=UI,NRe=ao,_Re=DI,CRe=MI,SRe=S5;function BRe(e,t,r){t=wRe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=SRe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&CRe(a)&&_Re(o,a)&&(NRe(e)||jRe(e)))}var kRe=BRe,ERe=bRe,PRe=kRe;function IRe(e,t){return e!=null&&PRe(e,t,ERe)}var TRe=IRe,ORe=QI,LRe=EZ,FRe=TRe,RRe=vI,URe=bJ,DRe=wJ,MRe=S5,QRe=1,$Re=2;function HRe(e,t){return RRe(e)&&URe(t)?DRe(MRe(e),t):function(r){var n=LRe(r,e);return n===void 0&&n===t?FRe(r,e):ORe(t,n,QRe|$Re)}}var zRe=HRe;function VRe(e){return e}var d0=VRe;function KRe(e){return function(t){return t==null?void 0:t[e]}}var WRe=KRe,GRe=SI;function qRe(e){return function(t){return GRe(t,e)}}var YRe=qRe,XRe=WRe,ZRe=YRe,JRe=vI,eUe=S5;function tUe(e){return JRe(e)?XRe(eUe(e)):ZRe(e)}var rUe=tUe,nUe=yRe,sUe=zRe,aUe=d0,iUe=ao,oUe=rUe;function lUe(e){return typeof e=="function"?e:e==null?aUe:typeof e=="object"?iUe(e)?sUe(e[0],e[1]):nUe(e):oUe(e)}var Nd=lUe;function cUe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var jJ=cUe;function dUe(e){return e!==e}var uUe=dUe;function hUe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var fUe=hUe,AUe=jJ,mUe=uUe,pUe=fUe;function gUe(e,t,r){return t===t?pUe(e,t,r):AUe(e,mUe,r)}var xUe=gUe,yUe=xUe;function vUe(e,t){var r=e==null?0:e.length;return!!r&&yUe(e,t,0)>-1}var bUe=vUe;function wUe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var jUe=wUe;function NUe(){}var _Ue=NUe,VS=xJ,CUe=_Ue,SUe=RI,BUe=1/0,kUe=VS&&1/SUe(new VS([,-0]))[1]==BUe?function(e){return new VS(e)}:CUe,EUe=kUe,PUe=lJ,IUe=bUe,TUe=jUe,OUe=dJ,LUe=EUe,FUe=RI,RUe=200;function UUe(e,t,r){var n=-1,a=IUe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=TUe;else if(i>=RUe){var d=t?null:LUe(e);if(d)return FUe(d);o=!1,a=OUe,c=new PUe}else c=t?[]:l;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var A=c.length;A--;)if(c[A]===f)continue e;t&&c.push(f),l.push(u)}else a(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var DUe=UUe,MUe=Nd,QUe=DUe;function $Ue(e,t){return e&&e.length?QUe(e,MUe(t)):[]}var HUe=$Ue;const j8=sn(HUe);function NJ(e,t,r){return t===!0?j8(e,r):ir(t)?j8(e,t):e}function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}var zUe=["ref"];function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){H5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CJ(n.key),n)}}function KUe(e,t,r){return t&&_8(e.prototype,t),r&&_8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WUe(e,t,r){return t=yj(t),GUe(e,_J()?Reflect.construct(t,r||[],yj(e).constructor):t.apply(e,r))}function GUe(e,t){if(t&&(fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qUe(e)}function qUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_J=function(){return!!e})()}function yj(e){return yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yj(e)}function YUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uE(e,t)}function uE(e,t){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uE(e,t)}function H5(e,t,r){return t=CJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CJ(e){var t=XUe(e,"string");return fg(t)=="symbol"?t:t+""}function XUe(e,t){if(fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ZUe(e,t){if(e==null)return{};var r=JUe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eDe(e){return e.value}function tDe(e,t){if(Ce.isValidElement(e))return Ce.cloneElement(e,t);if(typeof e=="function")return Ce.createElement(e,t);t.ref;var r=ZUe(t,zUe);return Ce.createElement(FI,r)}var C8=1,Kh=function(e){function t(){var r;VUe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=WUe(this,t,[].concat(a)),H5(r,"lastBoundingBox",{width:-1,height:-1}),r}return YUe(t,e),KUe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>C8||Math.abs(a.height-this.lastBoundingBox.height)>C8)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Dd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,f,A;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((d||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();A={top:((u||0)-x.height)/2}}else A=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Dd(Dd({},f),A)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,f=Dd(Dd({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},tDe(i,Dd(Dd({},this.props),{},{payload:NJ(u,d,eDe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Dd(Dd({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&_t(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(_.PureComponent);H5(Kh,"displayName","Legend");H5(Kh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var S8=sb,rDe=UI,nDe=ao,B8=S8?S8.isConcatSpreadable:void 0;function sDe(e){return nDe(e)||rDe(e)||!!(B8&&e&&e[B8])}var aDe=sDe,iDe=hJ,oDe=aDe;function SJ(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=oDe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?SJ(l,t-1,r,n,a):iDe(a,l):n||(a[a.length]=l)}return a}var BJ=SJ;function lDe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var cDe=lDe,dDe=cDe,uDe=dDe(),hDe=uDe,fDe=hDe,ADe=$5;function mDe(e,t){return e&&fDe(e,t,ADe)}var kJ=mDe,pDe=ab;function gDe(e,t){return function(r,n){if(r==null)return r;if(!pDe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var xDe=gDe,yDe=kJ,vDe=xDe,bDe=vDe(yDe),$I=bDe,wDe=$I,jDe=ab;function NDe(e,t){var r=-1,n=jDe(e)?Array(e.length):[];return wDe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var EJ=NDe;function _De(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var CDe=_De,k8=r0;function SDe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=k8(e),o=t!==void 0,l=t===null,c=t===t,d=k8(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!d&&e<t||d&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var BDe=SDe,kDe=BDe;function EDe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=kDe(a[n],i[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return e.index-t.index}var PDe=EDe,KS=CI,IDe=SI,TDe=Nd,ODe=EJ,LDe=CDe,FDe=mJ,RDe=PDe,UDe=d0,DDe=ao;function MDe(e,t,r){t.length?t=KS(t,function(i){return DDe(i)?function(o){return IDe(o,i.length===1?i[0]:i)}:i}):t=[UDe];var n=-1;t=KS(t,FDe(TDe));var a=ODe(e,function(i,o,l){var c=KS(t,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return LDe(a,function(i,o){return RDe(i,o,r)})}var QDe=MDe;function $De(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var HDe=$De,zDe=HDe,E8=Math.max;function VDe(e,t,r){return t=E8(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=E8(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),zDe(e,this,l)}}var KDe=VDe;function WDe(e){return function(){return e}}var GDe=WDe,qDe=hm,YDe=function(){try{var e=qDe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),PJ=YDe,XDe=GDe,P8=PJ,ZDe=d0,JDe=P8?function(e,t){return P8(e,"toString",{configurable:!0,enumerable:!1,value:XDe(t),writable:!0})}:ZDe,eMe=JDe,tMe=800,rMe=16,nMe=Date.now;function sMe(e){var t=0,r=0;return function(){var n=nMe(),a=rMe-(n-r);if(r=n,a>0){if(++t>=tMe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var aMe=sMe,iMe=eMe,oMe=aMe,lMe=oMe(iMe),cMe=lMe,dMe=d0,uMe=KDe,hMe=cMe;function fMe(e,t){return hMe(uMe(e,t,dMe),e+"")}var AMe=fMe,mMe=wI,pMe=ab,gMe=DI,xMe=Af;function yMe(e,t,r){if(!xMe(r))return!1;var n=typeof t;return(n=="number"?pMe(r)&&gMe(t,r.length):n=="string"&&t in r)?mMe(r[t],e):!1}var z5=yMe,vMe=BJ,bMe=QDe,wMe=AMe,I8=z5,jMe=wMe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&I8(e,t[0],t[1])?t=[]:r>2&&I8(t[0],t[1],t[2])&&(t=[t[0]]),bMe(e,vMe(t,1),[])}),NMe=jMe;const HI=sn(NMe);function Vy(e){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vy(e)}function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hE.apply(this,arguments)}function _Me(e,t){return kMe(e)||BMe(e,t)||SMe(e,t)||CMe()}function CMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SMe(e,t){if(e){if(typeof e=="string")return T8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T8(e,t)}}function T8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function kMe(e){if(Array.isArray(e))return e}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){EMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EMe(e,t,r){return t=PMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PMe(e){var t=IMe(e,"string");return Vy(t)=="symbol"?t:t+""}function IMe(e,t){if(Vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TMe(e){return Array.isArray(e)&&xa(e[0])&&xa(e[1])?e.join(" ~ "):e}var OMe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,A=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,g=t.label,y=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(u&&u.length){var F={padding:0,margin:0},M=(A?HI(u,A):u).map(function(R,H){if(R.type==="none")return null;var G=WS({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},l),$=R.formatter||f||TMe,V=R.value,te=R.name,re=V,K=te;if($&&re!=null&&K!=null){var z=$(V,te,R,H,u);if(Array.isArray(z)){var ee=_Me(z,2);re=ee[0],K=ee[1]}else re=z}return Ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:G},xa(K)?Ce.createElement("span",{className:"recharts-tooltip-item-name"},K):null,xa(K)?Ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ce.createElement("span",{className:"recharts-tooltip-item-value"},re),Ce.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return Ce.createElement("ul",{className:"recharts-tooltip-item-list",style:F},M)}return null},C=WS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=WS({margin:0},d),j=!fr(g),P=j?g:"",k=pr("recharts-default-tooltip",m),T=pr("recharts-tooltip-label",x);j&&y&&u!==void 0&&u!==null&&(P=y(g,u));var O=b?{role:"status","aria-live":"assertive"}:{};return Ce.createElement("div",hE({className:k,style:C},O),Ce.createElement("p",{className:T,style:N},Ce.isValidElement(P)?P:"".concat(P)),w())};function Ky(e){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(e)}function Hw(e,t,r){return t=LMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LMe(e){var t=FMe(e,"string");return Ky(t)=="symbol"?t:t+""}function FMe(e,t){if(Ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X0="recharts-tooltip-wrapper",RMe={visibility:"hidden"};function UMe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return pr(X0,Hw(Hw(Hw(Hw({},"".concat(X0,"-right"),_t(r)&&t&&_t(t.x)&&r>=t.x),"".concat(X0,"-left"),_t(r)&&t&&_t(t.x)&&r<t.x),"".concat(X0,"-bottom"),_t(n)&&t&&_t(t.y)&&n>=t.y),"".concat(X0,"-top"),_t(n)&&t&&_t(t.y)&&n<t.y))}function L8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&_t(i[n]))return i[n];var u=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?u:f;if(o[n]){var A=u,m=c[n];return A<m?Math.max(f,c[n]):Math.max(u,c[n])}var x=f+l,g=c[n]+d;return x>g?Math.max(u,c[n]):Math.max(f,c[n])}function DMe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function MMe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=L8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=L8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=DMe({translateX:u,translateY:f,useTranslate3d:l})):d=RMe,{cssProperties:d,cssClasses:UMe({translateX:u,translateY:f,coordinate:r})}}function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function R8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){AE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TJ(n.key),n)}}function HMe(e,t,r){return t&&$Me(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zMe(e,t,r){return t=vj(t),VMe(e,IJ()?Reflect.construct(t,r||[],vj(e).constructor):t.apply(e,r))}function VMe(e,t){if(t&&(Ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KMe(e)}function KMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IJ=function(){return!!e})()}function vj(e){return vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vj(e)}function WMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fE(e,t)}function fE(e,t){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fE(e,t)}function AE(e,t,r){return t=TJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=GMe(e,"string");return Ag(t)=="symbol"?t:t+""}function GMe(e,t){if(Ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U8=1,qMe=function(e){function t(){var r;QMe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=zMe(this,t,[].concat(a)),AE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),AE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return WMe(t,e),HMe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>U8||Math.abs(n.height-this.state.lastBoundingBox.height)>U8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,f=a.hasPayload,A=a.isAnimationActive,m=a.offset,x=a.position,g=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,w=MMe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),C=w.cssClasses,N=w.cssProperties,j=R8(R8({transition:A&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return Ce.createElement("div",{tabIndex:-1,className:C,style:j,ref:function(k){n.wrapperNode=k}},d)}}])}(_.PureComponent),YMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mf={isSsr:YMe()};function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}function D8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(r),!0).forEach(function(n){zI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LJ(n.key),n)}}function JMe(e,t,r){return t&&ZMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e8e(e,t,r){return t=bj(t),t8e(e,OJ()?Reflect.construct(t,r||[],bj(e).constructor):t.apply(e,r))}function t8e(e,t){if(t&&(mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r8e(e)}function r8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OJ=function(){return!!e})()}function bj(e){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bj(e)}function n8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mE(e,t)}function mE(e,t){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mE(e,t)}function zI(e,t,r){return t=LJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LJ(e){var t=s8e(e,"string");return mg(t)=="symbol"?t:t+""}function s8e(e,t){if(mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function a8e(e){return e.dataKey}function i8e(e,t){return Ce.isValidElement(e)?Ce.cloneElement(e,t):typeof e=="function"?Ce.createElement(e,t):Ce.createElement(OMe,t)}var li=function(e){function t(){return XMe(this,t),e8e(this,t,arguments)}return n8e(t,e),JMe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,f=a.filterNull,A=a.isAnimationActive,m=a.offset,x=a.payload,g=a.payloadUniqBy,y=a.position,v=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,C=a.wrapperStyle,N=x??[];f&&N.length&&(N=NJ(x.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),g,a8e));var j=N.length>0;return Ce.createElement(qMe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:A,active:i,coordinate:u,hasPayload:j,offset:m,position:y,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:C},i8e(d,M8(M8({},this.props),{},{payload:N})))}}])}(_.PureComponent);zI(li,"displayName","Tooltip");zI(li,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var o8e=jd,l8e=function(){return o8e.Date.now()},c8e=l8e,d8e=/\s/;function u8e(e){for(var t=e.length;t--&&d8e.test(e.charAt(t)););return t}var h8e=u8e,f8e=h8e,A8e=/^\s+/;function m8e(e){return e&&e.slice(0,f8e(e)+1).replace(A8e,"")}var p8e=m8e,g8e=p8e,Q8=Af,x8e=r0,$8=NaN,y8e=/^[-+]0x[0-9a-f]+$/i,v8e=/^0b[01]+$/i,b8e=/^0o[0-7]+$/i,w8e=parseInt;function j8e(e){if(typeof e=="number")return e;if(x8e(e))return $8;if(Q8(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Q8(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=g8e(e);var r=v8e.test(e);return r||b8e.test(e)?w8e(e.slice(2),r?2:8):y8e.test(e)?$8:+e}var FJ=j8e,N8e=Af,GS=c8e,H8=FJ,_8e="Expected a function",C8e=Math.max,S8e=Math.min;function B8e(e,t,r){var n,a,i,o,l,c,d=0,u=!1,f=!1,A=!0;if(typeof e!="function")throw new TypeError(_8e);t=H8(t)||0,N8e(r)&&(u=!!r.leading,f="maxWait"in r,i=f?C8e(H8(r.maxWait)||0,t):i,A="trailing"in r?!!r.trailing:A);function m(j){var P=n,k=a;return n=a=void 0,d=j,o=e.apply(k,P),o}function x(j){return d=j,l=setTimeout(v,t),u?m(j):o}function g(j){var P=j-c,k=j-d,T=t-P;return f?S8e(T,i-k):T}function y(j){var P=j-c,k=j-d;return c===void 0||P>=t||P<0||f&&k>=i}function v(){var j=GS();if(y(j))return b(j);l=setTimeout(v,g(j))}function b(j){return l=void 0,A&&n?m(j):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,n=c=a=l=void 0}function C(){return l===void 0?o:b(GS())}function N(){var j=GS(),P=y(j);if(n=arguments,a=this,c=j,P){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(v,t),m(c)}return l===void 0&&(l=setTimeout(v,t)),o}return N.cancel=w,N.flush=C,N}var k8e=B8e,E8e=k8e,P8e=Af,I8e="Expected a function";function T8e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(I8e);return P8e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),E8e(e,t,{leading:n,maxWait:t,trailing:a})}var O8e=T8e;const RJ=sn(O8e);function Wy(e){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wy(e)}function z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z8(Object(r),!0).forEach(function(n){L8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L8e(e,t,r){return t=F8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F8e(e){var t=R8e(e,"string");return Wy(t)=="symbol"?t:t+""}function R8e(e,t){if(Wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U8e(e,t){return $8e(e)||Q8e(e,t)||M8e(e,t)||D8e()}function D8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M8e(e,t){if(e){if(typeof e=="string")return V8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V8(e,t)}}function V8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $8e(e){if(Array.isArray(e))return e}var oA=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,A=e.maxHeight,m=e.children,x=e.debounce,g=x===void 0?0:x,y=e.id,v=e.className,b=e.onResize,w=e.style,C=w===void 0?{}:w,N=_.useRef(null),j=_.useRef();j.current=b,_.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var P=_.useState({containerWidth:a.width,containerHeight:a.height}),k=U8e(P,2),T=k[0],O=k[1],B=_.useCallback(function(M,R){O(function(H){var G=Math.round(M),$=Math.round(R);return H.containerWidth===G&&H.containerHeight===$?H:{containerWidth:G,containerHeight:$}})},[]);_.useEffect(function(){var M=function(te){var re,K=te[0].contentRect,z=K.width,ee=K.height;B(z,ee),(re=j.current)===null||re===void 0||re.call(j,z,ee)};g>0&&(M=RJ(M,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(M),H=N.current.getBoundingClientRect(),G=H.width,$=H.height;return B(G,$),R.observe(N.current),function(){R.disconnect()}},[B,g]);var F=_.useMemo(function(){var M=T.containerWidth,R=T.containerHeight;if(M<0||R<0)return null;uc(iA(o)||iA(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),uc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=iA(o)?M:o,G=iA(c)?R:c;r&&r>0&&(H?G=H/r:G&&(H=G*r),A&&G>A&&(G=A)),uc(H>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,G,o,c,u,f,r);var $=!Array.isArray(m)&&cu(m.type).endsWith("Chart");return Ce.Children.map(m,function(V){return Ce.isValidElement(V)?_.cloneElement(V,zw({width:H,height:G},$?{style:zw({height:"100%",width:"100%",maxHeight:G,maxWidth:H},V.props.style)}:{})):V})},[r,m,c,A,f,u,T,o]);return Ce.createElement("div",{id:y?"".concat(y):void 0,className:pr("recharts-responsive-container",v),style:zw(zw({},C),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:A}),ref:N},F)}),V5=function(t){return null};V5.displayName="Cell";function Gy(e){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gy(e)}function K8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(r),!0).forEach(function(n){H8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H8e(e,t,r){return t=z8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z8e(e){var t=V8e(e,"string");return Gy(t)=="symbol"?t:t+""}function V8e(e,t){if(Gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zm={widthCache:{},cacheCount:0},K8e=2e3,W8e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},W8="recharts_measurement_span";function G8e(e){var t=pE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Jx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||mf.isSsr)return{width:0,height:0};var n=G8e(r),a=JSON.stringify({text:t,copyStyle:n});if(zm.widthCache[a])return zm.widthCache[a];try{var i=document.getElementById(W8);i||(i=document.createElement("span"),i.setAttribute("id",W8),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=pE(pE({},W8e),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return zm.widthCache[a]=c,++zm.cacheCount>K8e&&(zm.cacheCount=0,zm.widthCache={}),c}catch{return{width:0,height:0}}},q8e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}function wj(e,t){return J8e(e)||Z8e(e,t)||X8e(e,t)||Y8e()}function Y8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8e(e,t){if(e){if(typeof e=="string")return G8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G8(e,t)}}function G8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function J8e(e){if(Array.isArray(e))return e}function e7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r7e(n.key),n)}}function t7e(e,t,r){return t&&q8(e.prototype,t),r&&q8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r7e(e){var t=n7e(e,"string");return qy(t)=="symbol"?t:t+""}function n7e(e,t){if(qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Y8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s7e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,a7e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},i7e=Object.keys(UJ),yp="NaN";function o7e(e,t){return e*UJ[t]}var Vw=function(){function e(t,r){e7e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!s7e.test(r)&&(this.num=NaN,this.unit=""),i7e.includes(r)&&(this.num=o7e(t,r),this.unit="px")}return t7e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=a7e.exec(r))!==null&&n!==void 0?n:[],i=wj(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function DJ(e){if(e.includes(yp))return yp;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Y8.exec(t))!==null&&r!==void 0?r:[],a=wj(n,4),i=a[1],o=a[2],l=a[3],c=Vw.parse(i??""),d=Vw.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return yp;t=t.replace(Y8,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,A=(f=X8.exec(t))!==null&&f!==void 0?f:[],m=wj(A,4),x=m[1],g=m[2],y=m[3],v=Vw.parse(x??""),b=Vw.parse(y??""),w=g==="+"?v.add(b):v.subtract(b);if(w.isNaN())return yp;t=t.replace(X8,w.toString())}return t}var Z8=/\(([^()]*)\)/;function l7e(e){for(var t=e;t.includes("(");){var r=Z8.exec(t),n=wj(r,2),a=n[1];t=t.replace(Z8,DJ(a))}return t}function c7e(e){var t=e.replace(/\s+/g,"");return t=l7e(t),t=DJ(t),t}function d7e(e){try{return c7e(e)}catch{return yp}}function qS(e){var t=d7e(e.slice(5,-1));return t===yp?"":t}var u7e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],h7e=["dx","dy","angle","className","breakAll"];function gE(){return gE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gE.apply(this,arguments)}function J8(e,t){if(e==null)return{};var r=f7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e7(e,t){return g7e(e)||p7e(e,t)||m7e(e,t)||A7e()}function A7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m7e(e,t){if(e){if(typeof e=="string")return t7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t7(e,t)}}function t7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function g7e(e){if(Array.isArray(e))return e}var MJ=/[ \f\n\r\t\v\u2028\u2029]+/,QJ=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];fr(r)||(n?i=r.toString().split(""):i=r.toString().split(MJ));var o=i.map(function(c){return{word:c,width:Jx(c,a).width}}),l=n?0:Jx("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},x7e=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=_t(o),f=l,A=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(G,$){var V=$.word,te=$.width,re=G[G.length-1];if(re&&(a==null||i||re.width+te+n<Number(a)))re.words.push(V),re.width+=te+n;else{var K={words:[V],width:te};G.push(K)}return G},[])},m=A(r),x=function(H){return H.reduce(function(G,$){return G.width>$.width?G:$})};if(!u)return m;for(var g="",y=function(H){var G=f.slice(0,H),$=QJ({breakAll:d,style:c,children:G+g}).wordsWithComputedWidth,V=A($),te=V.length>o||x(V).width>Number(a);return[te,V]},v=0,b=f.length-1,w=0,C;v<=b&&w<=f.length-1;){var N=Math.floor((v+b)/2),j=N-1,P=y(j),k=e7(P,2),T=k[0],O=k[1],B=y(N),F=e7(B,1),M=F[0];if(!T&&!M&&(v=N+1),T&&M&&(b=N-1),!T&&M){C=O;break}w++}return C||m},r7=function(t){var r=fr(t)?[]:t.toString().split(MJ);return[{words:r}]},y7e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!mf.isSsr){var c,d,u=QJ({breakAll:o,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,A=u.spaceWidth;c=f,d=A}else return r7(a);return x7e({breakAll:o,children:a,maxLines:l,style:i},c,d,r,n)}return r7(a)},n7="#808080",YA=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,A=t.textAnchor,m=A===void 0?"start":A,x=t.verticalAnchor,g=x===void 0?"end":x,y=t.fill,v=y===void 0?n7:y,b=J8(t,u7e),w=_.useMemo(function(){return y7e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),C=b.dx,N=b.dy,j=b.angle,P=b.className,k=b.breakAll,T=J8(b,h7e);if(!xa(n)||!xa(i))return null;var O=n+(_t(C)?C:0),B=i+(_t(N)?N:0),F;switch(g){case"start":F=qS("calc(".concat(d,")"));break;case"middle":F=qS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:F=qS("calc(".concat(w.length-1," * -").concat(l,")"));break}var M=[];if(f){var R=w[0].width,H=b.width;M.push("scale(".concat((_t(H)?H/R:1)/R,")"))}return j&&M.push("rotate(".concat(j,", ").concat(O,", ").concat(B,")")),M.length&&(T.transform=M.join(" ")),Ce.createElement("text",gE({},Zt(T,!0),{x:O,y:B,className:pr("recharts-text",P),textAnchor:m,fill:v.includes("url")?n7:v}),w.map(function(G,$){var V=G.words.join(k?"":" ");return Ce.createElement("tspan",{x:O,dy:$===0?F:l,key:"".concat(V,"-").concat($)},V)}))};function Wh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function v7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VI(e){let t,r,n;e.length!==2?(t=Wh,r=(l,c)=>Wh(e(l),c),n=(l,c)=>e(l)-c):(t=e===Wh||e===v7e?e:b7e,r=e,n=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function b7e(){return 0}function $J(e){return e===null?NaN:+e}function*w7e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const j7e=VI(Wh),ib=j7e.right;VI($J).center;class s7 extends Map{constructor(t,r=C7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(a7(this,t))}has(t){return super.has(a7(this,t))}set(t,r){return super.set(N7e(this,t),r)}delete(t){return super.delete(_7e(this,t))}}function a7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function N7e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function _7e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function C7e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function S7e(e=Wh){if(e===Wh)return HJ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function HJ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const B7e=Math.sqrt(50),k7e=Math.sqrt(10),E7e=Math.sqrt(2);function jj(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=B7e?10:i>=k7e?5:i>=E7e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?jj(e,t,r*2):[l,c,d]}function xE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?jj(t,e,r):jj(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function yE(e,t,r){return t=+t,e=+e,r=+r,jj(e,t,r)[2]}function vE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?yE(t,e,r):yE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function i7(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function o7(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zJ(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?HJ:S7e(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),A=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*f/c+A)),x=Math.min(n,Math.floor(t+(c-d)*f/c+A));zJ(e,t,m,x,a)}const i=e[t];let o=r,l=n;for(Z0(e,r,t),a(e[n],i)>0&&Z0(e,r,n);o<l;){for(Z0(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Z0(e,r,l):(++l,Z0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Z0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function P7e(e,t,r){if(e=Float64Array.from(w7e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return o7(e);if(t>=1)return i7(e);var n,a=(n-1)*t,i=Math.floor(a),o=i7(zJ(e,i).subarray(0,i+1)),l=o7(e.subarray(i+1));return o+(l-o)*(a-i)}}function I7e(e,t,r=$J){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function T7e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Nl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Iu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bE=Symbol("implicit");function KI(){var e=new s7,t=[],r=[],n=bE;function a(i){let o=e.get(i);if(o===void 0){if(n!==bE)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new s7;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return KI(t,r).unknown(n)},Nl.apply(a,arguments),a}function Yy(){var e=KI().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var A=t().length,m=a<n,x=m?a:n,g=m?n:a;i=(g-x)/Math.max(1,A-c+d*2),l&&(i=Math.floor(i)),x+=(g-x-i*(A-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=T7e(A).map(function(v){return x+i*v});return r(m?y.reverse():y)}return e.domain=function(A){return arguments.length?(t(A),f()):t()},e.range=function(A){return arguments.length?([n,a]=A,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(A){return[n,a]=A,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(A){return arguments.length?(l=!!A,f()):l},e.padding=function(A){return arguments.length?(c=Math.min(1,d=+A),f()):c},e.paddingInner=function(A){return arguments.length?(c=Math.min(1,A),f()):c},e.paddingOuter=function(A){return arguments.length?(d=+A,f()):d},e.align=function(A){return arguments.length?(u=Math.max(0,Math.min(1,A)),f()):u},e.copy=function(){return Yy(t(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Nl.apply(f(),arguments)}function VJ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VJ(t())},e}function ey(){return VJ(Yy.apply(null,arguments).paddingInner(1))}function WI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function KJ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ob(){}var Xy=.7,Nj=1/Xy,Wp="\\s*([+-]?\\d+)\\s*",Zy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O7e=/^#([0-9a-f]{3,8})$/,L7e=new RegExp(`^rgb\\(${Wp},${Wp},${Wp}\\)$`),F7e=new RegExp(`^rgb\\(${sd},${sd},${sd}\\)$`),R7e=new RegExp(`^rgba\\(${Wp},${Wp},${Wp},${Zy}\\)$`),U7e=new RegExp(`^rgba\\(${sd},${sd},${sd},${Zy}\\)$`),D7e=new RegExp(`^hsl\\(${Zy},${sd},${sd}\\)$`),M7e=new RegExp(`^hsla\\(${Zy},${sd},${sd},${Zy}\\)$`),l7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};WI(ob,Jy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c7,formatHex:c7,formatHex8:Q7e,formatHsl:$7e,formatRgb:d7,toString:d7});function c7(){return this.rgb().formatHex()}function Q7e(){return this.rgb().formatHex8()}function $7e(){return WJ(this).formatHsl()}function d7(){return this.rgb().formatRgb()}function Jy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=O7e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?u7(t):r===3?new Yi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Kw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Kw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=L7e.exec(e))?new Yi(t[1],t[2],t[3],1):(t=F7e.exec(e))?new Yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=R7e.exec(e))?Kw(t[1],t[2],t[3],t[4]):(t=U7e.exec(e))?Kw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=D7e.exec(e))?A7(t[1],t[2]/100,t[3]/100,1):(t=M7e.exec(e))?A7(t[1],t[2]/100,t[3]/100,t[4]):l7.hasOwnProperty(e)?u7(l7[e]):e==="transparent"?new Yi(NaN,NaN,NaN,0):null}function u7(e){return new Yi(e>>16&255,e>>8&255,e&255,1)}function Kw(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yi(e,t,r,n)}function H7e(e){return e instanceof ob||(e=Jy(e)),e?(e=e.rgb(),new Yi(e.r,e.g,e.b,e.opacity)):new Yi}function wE(e,t,r,n){return arguments.length===1?H7e(e):new Yi(e,t,r,n??1)}function Yi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}WI(Yi,wE,KJ(ob,{brighter(e){return e=e==null?Nj:Math.pow(Nj,e),new Yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xy:Math.pow(Xy,e),new Yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yi(jA(this.r),jA(this.g),jA(this.b),_j(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h7,formatHex:h7,formatHex8:z7e,formatRgb:f7,toString:f7}));function h7(){return`#${lA(this.r)}${lA(this.g)}${lA(this.b)}`}function z7e(){return`#${lA(this.r)}${lA(this.g)}${lA(this.b)}${lA((isNaN(this.opacity)?1:this.opacity)*255)}`}function f7(){const e=_j(this.opacity);return`${e===1?"rgb(":"rgba("}${jA(this.r)}, ${jA(this.g)}, ${jA(this.b)}${e===1?")":`, ${e})`}`}function _j(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jA(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lA(e){return e=jA(e),(e<16?"0":"")+e.toString(16)}function A7(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new nc(e,t,r,n)}function WJ(e){if(e instanceof nc)return new nc(e.h,e.s,e.l,e.opacity);if(e instanceof ob||(e=Jy(e)),!e)return new nc;if(e instanceof nc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new nc(o,l,c,e.opacity)}function V7e(e,t,r,n){return arguments.length===1?WJ(e):new nc(e,t,r,n??1)}function nc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}WI(nc,V7e,KJ(ob,{brighter(e){return e=e==null?Nj:Math.pow(Nj,e),new nc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xy:Math.pow(Xy,e),new nc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Yi(YS(e>=240?e-240:e+120,a,n),YS(e,a,n),YS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new nc(m7(this.h),Ww(this.s),Ww(this.l),_j(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_j(this.opacity);return`${e===1?"hsl(":"hsla("}${m7(this.h)}, ${Ww(this.s)*100}%, ${Ww(this.l)*100}%${e===1?")":`, ${e})`}`}}));function m7(e){return e=(e||0)%360,e<0?e+360:e}function Ww(e){return Math.max(0,Math.min(1,e||0))}function YS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const GI=e=>()=>e;function K7e(e,t){return function(r){return e+r*t}}function W7e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function G7e(e){return(e=+e)==1?GJ:function(t,r){return r-t?W7e(t,r,e):GI(isNaN(t)?r:t)}}function GJ(e,t){var r=t-e;return r?K7e(e,r):GI(isNaN(e)?t:e)}const p7=function e(t){var r=G7e(t);function n(a,i){var o=r((a=wE(a)).r,(i=wE(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=GJ(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function q7e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Y7e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function X7e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=u0(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Z7e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Cj(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function J7e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=u0(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var jE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,XS=new RegExp(jE.source,"g");function eQe(e){return function(){return e}}function tQe(e){return function(t){return e(t)+""}}function rQe(e,t){var r=jE.lastIndex=XS.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=jE.exec(e))&&(a=XS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Cj(n,a)})),r=XS.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?tQe(c[0].x):eQe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function u0(e,t){var r=typeof t,n;return t==null||r==="boolean"?GI(t):(r==="number"?Cj:r==="string"?(n=Jy(t))?(t=n,p7):rQe:t instanceof Jy?p7:t instanceof Date?Z7e:Y7e(t)?q7e:Array.isArray(t)?X7e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?J7e:Cj)(e,t)}function qI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nQe(e,t){t===void 0&&(t=e,e=u0);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function sQe(e){return function(){return e}}function Sj(e){return+e}var g7=[0,1];function ki(e){return e}function NE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sQe(isNaN(t)?NaN:.5)}function aQe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iQe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=NE(a,n),i=r(o,i)):(n=NE(n,a),i=r(i,o)),function(l){return i(n(l))}}function oQe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=NE(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=ib(e,l,1,n)-1;return i[c](a[c](l))}}function lb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function K5(){var e=g7,t=g7,r=u0,n,a,i,o=ki,l,c,d;function u(){var A=Math.min(e.length,t.length);return o!==ki&&(o=aQe(e[0],e[A-1])),l=A>2?oQe:iQe,c=d=null,f}function f(A){return A==null||isNaN(A=+A)?i:(c||(c=l(e.map(n),t,r)))(n(o(A)))}return f.invert=function(A){return o(a((d||(d=l(t,e.map(n),Cj)))(A)))},f.domain=function(A){return arguments.length?(e=Array.from(A,Sj),u()):e.slice()},f.range=function(A){return arguments.length?(t=Array.from(A),u()):t.slice()},f.rangeRound=function(A){return t=Array.from(A),r=qI,u()},f.clamp=function(A){return arguments.length?(o=A?!0:ki,u()):o!==ki},f.interpolate=function(A){return arguments.length?(r=A,u()):r},f.unknown=function(A){return arguments.length?(i=A,f):i},function(A,m){return n=A,a=m,u()}}function YI(){return K5()(ki,ki)}function lQe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bj(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function pg(e){return e=Bj(Math.abs(e)),e?e[1]:NaN}function cQe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function dQe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ev(e){if(!(t=uQe.exec(e)))throw new Error("invalid format: "+e);var t;return new XI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ev.prototype=XI.prototype;function XI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}XI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hQe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var qJ;function fQe(e,t){var r=Bj(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(qJ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Bj(e,Math.max(0,t+i-1))[0]}function x7(e,t){var r=Bj(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const y7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lQe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>x7(e*100,t),r:x7,s:fQe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function v7(e){return e}var b7=Array.prototype.map,w7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AQe(e){var t=e.grouping===void 0||e.thousands===void 0?v7:cQe(b7.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?v7:dQe(b7.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=ev(f);var A=f.fill,m=f.align,x=f.sign,g=f.symbol,y=f.zero,v=f.width,b=f.comma,w=f.precision,C=f.trim,N=f.type;N==="n"?(b=!0,N="g"):y7[N]||(w===void 0&&(w=12),C=!0,N="g"),(y||A==="0"&&m==="=")&&(y=!0,A="0",m="=");var j=g==="$"?r:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=g==="$"?n:/[%p]/.test(N)?o:"",k=y7[N],T=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(B){var F=j,M=P,R,H,G;if(N==="c")M=k(B)+M,B="";else{B=+B;var $=B<0||1/B<0;if(B=isNaN(B)?c:k(Math.abs(B),w),C&&(B=hQe(B)),$&&+B==0&&x!=="+"&&($=!1),F=($?x==="("?x:l:x==="-"||x==="("?"":x)+F,M=(N==="s"?w7[8+qJ/3]:"")+M+($&&x==="("?")":""),T){for(R=-1,H=B.length;++R<H;)if(G=B.charCodeAt(R),48>G||G>57){M=(G===46?a+B.slice(R+1):B.slice(R))+M,B=B.slice(0,R);break}}}b&&!y&&(B=t(B,1/0));var V=F.length+B.length+M.length,te=V<v?new Array(v-V+1).join(A):"";switch(b&&y&&(B=t(te+B,te.length?v-M.length:1/0),te=""),m){case"<":B=F+B+M+te;break;case"=":B=F+te+B+M;break;case"^":B=te.slice(0,V=te.length>>1)+F+B+M+te.slice(V);break;default:B=te+F+B+M;break}return i(B)}return O.toString=function(){return f+""},O}function u(f,A){var m=d((f=ev(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(pg(A)/3)))*3,g=Math.pow(10,-x),y=w7[8+x/3];return function(v){return m(g*v)+y}}return{format:d,formatPrefix:u}}var Gw,ZI,YJ;mQe({thousands:",",grouping:[3],currency:["$",""]});function mQe(e){return Gw=AQe(e),ZI=Gw.format,YJ=Gw.formatPrefix,Gw}function pQe(e){return Math.max(0,-pg(Math.abs(e)))}function gQe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pg(t)/3)))*3-pg(Math.abs(e)))}function xQe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pg(t)-pg(e))+1}function XJ(e,t,r,n){var a=vE(e,t,r),i;switch(n=ev(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=gQe(a,o))&&(n.precision=i),YJ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=xQe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pQe(a))&&(n.precision=i-(n.type==="%")*2);break}}return ZI(n)}function pf(e){var t=e.domain;return e.ticks=function(r){var n=t();return xE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return XJ(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=yE(o,l,r),d===c)return n[a]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function kj(){var e=YI();return e.copy=function(){return lb(e,kj())},Nl.apply(e,arguments),pf(e)}function ZJ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Sj),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ZJ(e).unknown(t)},e=arguments.length?Array.from(e,Sj):[0,1],pf(r)}function JJ(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function j7(e){return Math.log(e)}function N7(e){return Math.exp(e)}function yQe(e){return-Math.log(-e)}function vQe(e){return-Math.exp(-e)}function bQe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wQe(e){return e===10?bQe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jQe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _7(e){return(t,r)=>-e(-t,r)}function JI(e){const t=e(j7,N7),r=t.domain;let n=10,a,i;function o(){return a=jQe(n),i=wQe(n),r()[0]<0?(a=_7(a),i=_7(i),e(yQe,vQe)):e(j7,N7),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let A=a(d),m=a(u),x,g;const y=l==null?10:+l;let v=[];if(!(n%1)&&m-A<y){if(A=Math.floor(A),m=Math.ceil(m),d>0){for(;A<=m;++A)for(x=1;x<n;++x)if(g=A<0?x/i(-A):x*i(A),!(g<d)){if(g>u)break;v.push(g)}}else for(;A<=m;++A)for(x=n-1;x>=1;--x)if(g=A>0?x/i(-A):x*i(A),!(g<d)){if(g>u)break;v.push(g)}v.length*2<y&&(v=xE(d,u,y))}else v=xE(A,m,Math.min(m-A,y)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ev(c)).precision==null&&(c.trim=!0),c=ZI(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(JJ(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function eee(){const e=JI(K5()).domain([1,10]);return e.copy=()=>lb(e,eee()).base(e.base()),Nl.apply(e,arguments),e}function C7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eT(e){var t=1,r=e(C7(t),S7(t));return r.constant=function(n){return arguments.length?e(C7(t=+n),S7(t)):t},pf(r)}function tee(){var e=eT(K5());return e.copy=function(){return lb(e,tee()).constant(e.constant())},Nl.apply(e,arguments)}function B7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function NQe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _Qe(e){return e<0?-e*e:e*e}function tT(e){var t=e(ki,ki),r=1;function n(){return r===1?e(ki,ki):r===.5?e(NQe,_Qe):e(B7(r),B7(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},pf(t)}function rT(){var e=tT(K5());return e.copy=function(){return lb(e,rT()).exponent(e.exponent())},Nl.apply(e,arguments),e}function CQe(){return rT.apply(null,arguments).exponent(.5)}function k7(e){return Math.sign(e)*e*e}function SQe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ree(){var e=YI(),t=[0,1],r=!1,n;function a(i){var o=SQe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(k7(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Sj)).map(k7)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ree(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Nl.apply(a,arguments),pf(a)}function nee(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=I7e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[ib(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Wh),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return nee().domain(e).range(t).unknown(n)},Nl.apply(i,arguments)}function see(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[ib(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return see().domain([e,t]).range(a).unknown(i)},Nl.apply(pf(o),arguments)}function aee(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ib(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return aee().domain(e).range(t).unknown(r)},Nl.apply(a,arguments)}const ZS=new Date,JS=new Date;function ya(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>ya(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(ZS.setTime(+i),JS.setTime(+o),e(ZS),e(JS),Math.floor(r(ZS,JS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Ej=ya(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ej.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ya(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ej);Ej.range;const Jd=1e3,Al=Jd*60,eu=Al*60,wu=eu*24,nT=wu*7,E7=wu*30,e4=wu*365,cA=ya(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jd)},(e,t)=>(t-e)/Jd,e=>e.getUTCSeconds());cA.range;const sT=ya(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jd)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getMinutes());sT.range;const aT=ya(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getUTCMinutes());aT.range;const iT=ya(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jd-e.getMinutes()*Al)},(e,t)=>{e.setTime(+e+t*eu)},(e,t)=>(t-e)/eu,e=>e.getHours());iT.range;const oT=ya(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*eu)},(e,t)=>(t-e)/eu,e=>e.getUTCHours());oT.range;const cb=ya(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Al)/wu,e=>e.getDate()-1);cb.range;const W5=ya(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wu,e=>e.getUTCDate()-1);W5.range;const iee=ya(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wu,e=>Math.floor(e/wu));iee.range;function Am(e){return ya(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Al)/nT)}const G5=Am(0),Pj=Am(1),BQe=Am(2),kQe=Am(3),gg=Am(4),EQe=Am(5),PQe=Am(6);G5.range;Pj.range;BQe.range;kQe.range;gg.range;EQe.range;PQe.range;function mm(e){return ya(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/nT)}const q5=mm(0),Ij=mm(1),IQe=mm(2),TQe=mm(3),xg=mm(4),OQe=mm(5),LQe=mm(6);q5.range;Ij.range;IQe.range;TQe.range;xg.range;OQe.range;LQe.range;const lT=ya(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lT.range;const cT=ya(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cT.range;const ju=ya(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ju.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ya(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ju.range;const Nu=ya(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ya(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Nu.range;function oee(e,t,r,n,a,i){const o=[[cA,1,Jd],[cA,5,5*Jd],[cA,15,15*Jd],[cA,30,30*Jd],[i,1,Al],[i,5,5*Al],[i,15,15*Al],[i,30,30*Al],[a,1,eu],[a,3,3*eu],[a,6,6*eu],[a,12,12*eu],[n,1,wu],[n,2,2*wu],[r,1,nT],[t,1,E7],[t,3,3*E7],[e,1,e4]];function l(d,u,f){const A=u<d;A&&([d,u]=[u,d]);const m=f&&typeof f.range=="function"?f:c(d,u,f),x=m?m.range(d,+u+1):[];return A?x.reverse():x}function c(d,u,f){const A=Math.abs(u-d)/f,m=VI(([,,y])=>y).right(o,A);if(m===o.length)return e.every(vE(d/e4,u/e4,f));if(m===0)return Ej.every(Math.max(vE(d,u,f),1));const[x,g]=o[A/o[m-1][2]<o[m][2]/A?m-1:m];return x.every(g)}return[l,c]}const[FQe,RQe]=oee(Nu,cT,q5,iee,oT,aT),[UQe,DQe]=oee(ju,lT,G5,cb,iT,sT);function t4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function J0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function MQe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=ex(a),u=tx(a),f=ex(i),A=tx(i),m=ex(o),x=tx(o),g=ex(l),y=tx(l),v=ex(c),b=tx(c),w={a:$,A:V,b:te,B:re,c:null,d:F7,e:F7,f:c$e,g:y$e,G:b$e,H:i$e,I:o$e,j:l$e,L:lee,m:d$e,M:u$e,p:K,q:z,Q:D7,s:M7,S:h$e,u:f$e,U:A$e,V:m$e,w:p$e,W:g$e,x:null,X:null,y:x$e,Y:v$e,Z:w$e,"%":U7},C={a:ee,A:W,b:ne,B:se,c:null,d:R7,e:R7,f:C$e,g:F$e,G:U$e,H:j$e,I:N$e,j:_$e,L:dee,m:S$e,M:B$e,p:ce,q:ye,Q:D7,s:M7,S:k$e,u:E$e,U:P$e,V:I$e,w:T$e,W:O$e,x:null,X:null,y:L$e,Y:R$e,Z:D$e,"%":U7},N={a:O,A:B,b:F,B:M,c:R,d:O7,e:O7,f:r$e,g:T7,G:I7,H:L7,I:L7,j:ZQe,L:t$e,m:XQe,M:JQe,p:T,q:YQe,Q:s$e,s:a$e,S:e$e,u:VQe,U:KQe,V:WQe,w:zQe,W:GQe,x:H,X:G,y:T7,Y:I7,Z:qQe,"%":n$e};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),C.x=j(r,C),C.X=j(n,C),C.c=j(t,C);function j(Ae,xe){return function(le){var Z=[],pe=-1,oe=0,X=Ae.length,be,_e,Le;for(le instanceof Date||(le=new Date(+le));++pe<X;)Ae.charCodeAt(pe)===37&&(Z.push(Ae.slice(oe,pe)),(_e=P7[be=Ae.charAt(++pe)])!=null?be=Ae.charAt(++pe):_e=be==="e"?" ":"0",(Le=xe[be])&&(be=Le(le,_e)),Z.push(be),oe=pe+1);return Z.push(Ae.slice(oe,pe)),Z.join("")}}function P(Ae,xe){return function(le){var Z=J0(1900,void 0,1),pe=k(Z,Ae,le+="",0),oe,X;if(pe!=le.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(xe&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(oe=r4(J0(Z.y,0,1)),X=oe.getUTCDay(),oe=X>4||X===0?Ij.ceil(oe):Ij(oe),oe=W5.offset(oe,(Z.V-1)*7),Z.y=oe.getUTCFullYear(),Z.m=oe.getUTCMonth(),Z.d=oe.getUTCDate()+(Z.w+6)%7):(oe=t4(J0(Z.y,0,1)),X=oe.getDay(),oe=X>4||X===0?Pj.ceil(oe):Pj(oe),oe=cb.offset(oe,(Z.V-1)*7),Z.y=oe.getFullYear(),Z.m=oe.getMonth(),Z.d=oe.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),X="Z"in Z?r4(J0(Z.y,0,1)).getUTCDay():t4(J0(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(X+5)%7:Z.w+Z.U*7-(X+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,r4(Z)):t4(Z)}}function k(Ae,xe,le,Z){for(var pe=0,oe=xe.length,X=le.length,be,_e;pe<oe;){if(Z>=X)return-1;if(be=xe.charCodeAt(pe++),be===37){if(be=xe.charAt(pe++),_e=N[be in P7?xe.charAt(pe++):be],!_e||(Z=_e(Ae,le,Z))<0)return-1}else if(be!=le.charCodeAt(Z++))return-1}return Z}function T(Ae,xe,le){var Z=d.exec(xe.slice(le));return Z?(Ae.p=u.get(Z[0].toLowerCase()),le+Z[0].length):-1}function O(Ae,xe,le){var Z=m.exec(xe.slice(le));return Z?(Ae.w=x.get(Z[0].toLowerCase()),le+Z[0].length):-1}function B(Ae,xe,le){var Z=f.exec(xe.slice(le));return Z?(Ae.w=A.get(Z[0].toLowerCase()),le+Z[0].length):-1}function F(Ae,xe,le){var Z=v.exec(xe.slice(le));return Z?(Ae.m=b.get(Z[0].toLowerCase()),le+Z[0].length):-1}function M(Ae,xe,le){var Z=g.exec(xe.slice(le));return Z?(Ae.m=y.get(Z[0].toLowerCase()),le+Z[0].length):-1}function R(Ae,xe,le){return k(Ae,t,xe,le)}function H(Ae,xe,le){return k(Ae,r,xe,le)}function G(Ae,xe,le){return k(Ae,n,xe,le)}function $(Ae){return o[Ae.getDay()]}function V(Ae){return i[Ae.getDay()]}function te(Ae){return c[Ae.getMonth()]}function re(Ae){return l[Ae.getMonth()]}function K(Ae){return a[+(Ae.getHours()>=12)]}function z(Ae){return 1+~~(Ae.getMonth()/3)}function ee(Ae){return o[Ae.getUTCDay()]}function W(Ae){return i[Ae.getUTCDay()]}function ne(Ae){return c[Ae.getUTCMonth()]}function se(Ae){return l[Ae.getUTCMonth()]}function ce(Ae){return a[+(Ae.getUTCHours()>=12)]}function ye(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var xe=j(Ae+="",w);return xe.toString=function(){return Ae},xe},parse:function(Ae){var xe=P(Ae+="",!1);return xe.toString=function(){return Ae},xe},utcFormat:function(Ae){var xe=j(Ae+="",C);return xe.toString=function(){return Ae},xe},utcParse:function(Ae){var xe=P(Ae+="",!0);return xe.toString=function(){return Ae},xe}}}var P7={"-":"",_:" ",0:"0"},Ba=/^\s*\d+/,QQe=/^%/,$Qe=/[\\^$*+?|[\]().{}]/g;function Jr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function HQe(e){return e.replace($Qe,"\\$&")}function ex(e){return new RegExp("^(?:"+e.map(HQe).join("|")+")","i")}function tx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function zQe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function VQe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function KQe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function WQe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function GQe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function I7(e,t,r){var n=Ba.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function T7(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qQe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YQe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function XQe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function O7(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ZQe(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function L7(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function JQe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function e$e(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function t$e(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function r$e(e,t,r){var n=Ba.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function n$e(e,t,r){var n=QQe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function s$e(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function a$e(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function F7(e,t){return Jr(e.getDate(),t,2)}function i$e(e,t){return Jr(e.getHours(),t,2)}function o$e(e,t){return Jr(e.getHours()%12||12,t,2)}function l$e(e,t){return Jr(1+cb.count(ju(e),e),t,3)}function lee(e,t){return Jr(e.getMilliseconds(),t,3)}function c$e(e,t){return lee(e,t)+"000"}function d$e(e,t){return Jr(e.getMonth()+1,t,2)}function u$e(e,t){return Jr(e.getMinutes(),t,2)}function h$e(e,t){return Jr(e.getSeconds(),t,2)}function f$e(e){var t=e.getDay();return t===0?7:t}function A$e(e,t){return Jr(G5.count(ju(e)-1,e),t,2)}function cee(e){var t=e.getDay();return t>=4||t===0?gg(e):gg.ceil(e)}function m$e(e,t){return e=cee(e),Jr(gg.count(ju(e),e)+(ju(e).getDay()===4),t,2)}function p$e(e){return e.getDay()}function g$e(e,t){return Jr(Pj.count(ju(e)-1,e),t,2)}function x$e(e,t){return Jr(e.getFullYear()%100,t,2)}function y$e(e,t){return e=cee(e),Jr(e.getFullYear()%100,t,2)}function v$e(e,t){return Jr(e.getFullYear()%1e4,t,4)}function b$e(e,t){var r=e.getDay();return e=r>=4||r===0?gg(e):gg.ceil(e),Jr(e.getFullYear()%1e4,t,4)}function w$e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Jr(t/60|0,"0",2)+Jr(t%60,"0",2)}function R7(e,t){return Jr(e.getUTCDate(),t,2)}function j$e(e,t){return Jr(e.getUTCHours(),t,2)}function N$e(e,t){return Jr(e.getUTCHours()%12||12,t,2)}function _$e(e,t){return Jr(1+W5.count(Nu(e),e),t,3)}function dee(e,t){return Jr(e.getUTCMilliseconds(),t,3)}function C$e(e,t){return dee(e,t)+"000"}function S$e(e,t){return Jr(e.getUTCMonth()+1,t,2)}function B$e(e,t){return Jr(e.getUTCMinutes(),t,2)}function k$e(e,t){return Jr(e.getUTCSeconds(),t,2)}function E$e(e){var t=e.getUTCDay();return t===0?7:t}function P$e(e,t){return Jr(q5.count(Nu(e)-1,e),t,2)}function uee(e){var t=e.getUTCDay();return t>=4||t===0?xg(e):xg.ceil(e)}function I$e(e,t){return e=uee(e),Jr(xg.count(Nu(e),e)+(Nu(e).getUTCDay()===4),t,2)}function T$e(e){return e.getUTCDay()}function O$e(e,t){return Jr(Ij.count(Nu(e)-1,e),t,2)}function L$e(e,t){return Jr(e.getUTCFullYear()%100,t,2)}function F$e(e,t){return e=uee(e),Jr(e.getUTCFullYear()%100,t,2)}function R$e(e,t){return Jr(e.getUTCFullYear()%1e4,t,4)}function U$e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xg(e):xg.ceil(e),Jr(e.getUTCFullYear()%1e4,t,4)}function D$e(){return"+0000"}function U7(){return"%"}function D7(e){return+e}function M7(e){return Math.floor(+e/1e3)}var Vm,hee,fee;M$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function M$e(e){return Vm=MQe(e),hee=Vm.format,Vm.parse,fee=Vm.utcFormat,Vm.utcParse,Vm}function Q$e(e){return new Date(e)}function $$e(e){return e instanceof Date?+e:+new Date(+e)}function dT(e,t,r,n,a,i,o,l,c,d){var u=YI(),f=u.invert,A=u.domain,m=d(".%L"),x=d(":%S"),g=d("%I:%M"),y=d("%I %p"),v=d("%a %d"),b=d("%b %d"),w=d("%B"),C=d("%Y");function N(j){return(c(j)<j?m:l(j)<j?x:o(j)<j?g:i(j)<j?y:n(j)<j?a(j)<j?v:b:r(j)<j?w:C)(j)}return u.invert=function(j){return new Date(f(j))},u.domain=function(j){return arguments.length?A(Array.from(j,$$e)):A().map(Q$e)},u.ticks=function(j){var P=A();return e(P[0],P[P.length-1],j??10)},u.tickFormat=function(j,P){return P==null?N:d(P)},u.nice=function(j){var P=A();return(!j||typeof j.range!="function")&&(j=t(P[0],P[P.length-1],j??10)),j?A(JJ(P,j)):u},u.copy=function(){return lb(u,dT(e,t,r,n,a,i,o,l,c,d))},u}function H$e(){return Nl.apply(dT(UQe,DQe,ju,lT,G5,cb,iT,sT,cA,hee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z$e(){return Nl.apply(dT(FQe,RQe,Nu,cT,q5,W5,oT,aT,cA,fee).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y5(){var e=0,t=1,r,n,a,i,o=ki,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(A){var m,x;return arguments.length?([m,x]=A,o=f(m,x),d):[o(0),o(1)]}}return d.range=u(u0),d.rangeRound=u(qI),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),d}}function gf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Aee(){var e=pf(Y5()(ki));return e.copy=function(){return gf(e,Aee())},Iu.apply(e,arguments)}function mee(){var e=JI(Y5()).domain([1,10]);return e.copy=function(){return gf(e,mee()).base(e.base())},Iu.apply(e,arguments)}function pee(){var e=eT(Y5());return e.copy=function(){return gf(e,pee()).constant(e.constant())},Iu.apply(e,arguments)}function uT(){var e=tT(Y5());return e.copy=function(){return gf(e,uT()).exponent(e.exponent())},Iu.apply(e,arguments)}function V$e(){return uT.apply(null,arguments).exponent(.5)}function gee(){var e=[],t=ki;function r(n){if(n!=null&&!isNaN(n=+n))return t((ib(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wh),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>P7e(e,i/n))},r.copy=function(){return gee(t).domain(e)},Iu.apply(r,arguments)}function X5(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,d=ki,u,f=!1,A;function m(g){return isNaN(g=+g)?A:(g=.5+((g=+u(g))-i)*(n*g<n*i?l:c),d(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(d=g,m):d};function x(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,d=nQe(g,[v,b,w]),m):[d(0),d(.5),d(1)]}}return m.range=x(u0),m.rangeRound=x(qI),m.unknown=function(g){return arguments.length?(A=g,m):A},function(g){return u=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function xee(){var e=pf(X5()(ki));return e.copy=function(){return gf(e,xee())},Iu.apply(e,arguments)}function yee(){var e=JI(X5()).domain([.1,1,10]);return e.copy=function(){return gf(e,yee()).base(e.base())},Iu.apply(e,arguments)}function vee(){var e=eT(X5());return e.copy=function(){return gf(e,vee()).constant(e.constant())},Iu.apply(e,arguments)}function hT(){var e=tT(X5());return e.copy=function(){return gf(e,hT()).exponent(e.exponent())},Iu.apply(e,arguments)}function K$e(){return hT.apply(null,arguments).exponent(.5)}const Q7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yy,scaleDiverging:xee,scaleDivergingLog:yee,scaleDivergingPow:hT,scaleDivergingSqrt:K$e,scaleDivergingSymlog:vee,scaleIdentity:ZJ,scaleImplicit:bE,scaleLinear:kj,scaleLog:eee,scaleOrdinal:KI,scalePoint:ey,scalePow:rT,scaleQuantile:nee,scaleQuantize:see,scaleRadial:ree,scaleSequential:Aee,scaleSequentialLog:mee,scaleSequentialPow:uT,scaleSequentialQuantile:gee,scaleSequentialSqrt:V$e,scaleSequentialSymlog:pee,scaleSqrt:CQe,scaleSymlog:tee,scaleThreshold:aee,scaleTime:H$e,scaleUtc:z$e,tickFormat:XJ},Symbol.toStringTag,{value:"Module"}));var W$e=r0;function G$e(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!W$e(o):r(o,l)))var l=o,c=i}return c}var Z5=G$e;function q$e(e,t){return e>t}var bee=q$e,Y$e=Z5,X$e=bee,Z$e=d0;function J$e(e){return e&&e.length?Y$e(e,Z$e,X$e):void 0}var eHe=J$e;const Eh=sn(eHe);function tHe(e,t){return e<t}var wee=tHe,rHe=Z5,nHe=wee,sHe=d0;function aHe(e){return e&&e.length?rHe(e,sHe,nHe):void 0}var iHe=aHe;const J5=sn(iHe);var oHe=CI,lHe=Nd,cHe=EJ,dHe=ao;function uHe(e,t){var r=dHe(e)?oHe:cHe;return r(e,lHe(t))}var hHe=uHe,fHe=BJ,AHe=hHe;function mHe(e,t){return fHe(AHe(e,t),1)}var pHe=mHe;const gHe=sn(pHe);var xHe=QI;function yHe(e,t){return xHe(e,t)}var vHe=yHe;const XA=sn(vHe);var h0=1e9,bHe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AT,is=!0,wl="[DecimalError] ",NA=wl+"Invalid argument: ",fT=wl+"Exponent out of range: ",f0=Math.floor,Wf=Math.pow,wHe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Co,wa=1e7,Xn=7,jee=9007199254740991,Tj=f0(jee/Xn),Ht={};Ht.absoluteValue=Ht.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ht.comparedTo=Ht.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ht.decimalPlaces=Ht.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ht.dividedBy=Ht.div=function(e){return du(this,new this.constructor(e))};Ht.dividedToIntegerBy=Ht.idiv=function(e){var t=this,r=t.constructor;return Ln(du(t,new r(e),0,1),r.precision)};Ht.equals=Ht.eq=function(e){return!this.cmp(e)};Ht.exponent=function(){return sa(this)};Ht.greaterThan=Ht.gt=function(e){return this.cmp(e)>0};Ht.greaterThanOrEqualTo=Ht.gte=function(e){return this.cmp(e)>=0};Ht.isInteger=Ht.isint=function(){return this.e>this.d.length-2};Ht.isNegative=Ht.isneg=function(){return this.s<0};Ht.isPositive=Ht.ispos=function(){return this.s>0};Ht.isZero=function(){return this.s===0};Ht.lessThan=Ht.lt=function(e){return this.cmp(e)<0};Ht.lessThanOrEqualTo=Ht.lte=function(e){return this.cmp(e)<1};Ht.logarithm=Ht.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Co))throw Error(wl+"NaN");if(r.s<1)throw Error(wl+(r.s?"NaN":"-Infinity"));return r.eq(Co)?new n(0):(is=!1,t=du(tv(r,i),tv(e,i),i),is=!0,Ln(t,a))};Ht.minus=Ht.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Cee(t,e):Nee(t,(e.s=-e.s,e))};Ht.modulo=Ht.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(wl+"NaN");return r.s?(is=!1,t=du(r,e,0,1).times(e),is=!0,r.minus(t)):Ln(new n(r),a)};Ht.naturalExponential=Ht.exp=function(){return _ee(this)};Ht.naturalLogarithm=Ht.ln=function(){return tv(this)};Ht.negated=Ht.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ht.plus=Ht.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Nee(t,e):Cee(t,(e.s=-e.s,e))};Ht.precision=Ht.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(NA+e);if(t=sa(a)+1,n=a.d.length-1,r=n*Xn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ht.squareRoot=Ht.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(wl+"NaN")}for(e=sa(l),is=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Wc(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=f0((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(du(l,i,o+2)).times(.5),Wc(i.d).slice(0,o)===(t=Wc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ln(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return is=!0,Ln(n,r)};Ht.times=Ht.mul=function(e){var t,r,n,a,i,o,l,c,d,u=this,f=u.constructor,A=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=A.length,d=m.length,c<d&&(i=A,A=m,m=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*A[a-n-1]+t,i[a--]=l%wa|0,t=l/wa|0;i[a]=(i[a]+t)%wa|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,is?Ln(e,f.precision):e};Ht.toDecimalPlaces=Ht.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(pd(e,0,h0),t===void 0?t=n.rounding:pd(t,0,8),Ln(r,e+sa(r)+1,t))};Ht.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ZA(n,!0):(pd(e,0,h0),t===void 0?t=a.rounding:pd(t,0,8),n=Ln(new a(n),e+1,t),r=ZA(n,!0,e+1)),r};Ht.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ZA(a):(pd(e,0,h0),t===void 0?t=i.rounding:pd(t,0,8),n=Ln(new i(a),e+sa(a)+1,t),r=ZA(n.abs(),!1,e+sa(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ht.toInteger=Ht.toint=function(){var e=this,t=e.constructor;return Ln(new t(e),sa(e)+1,t.rounding)};Ht.toNumber=function(){return+this};Ht.toPower=Ht.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Co);if(l=new c(l),!l.s){if(e.s<1)throw Error(wl+"Infinity");return l}if(l.eq(Co))return l;if(n=c.precision,e.eq(Co))return Ln(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=jee){for(a=new c(Co),t=Math.ceil(n/Xn+4),is=!1;r%2&&(a=a.times(l),H7(a.d,t)),r=f0(r/2),r!==0;)l=l.times(l),H7(l.d,t);return is=!0,e.s<0?new c(Co).div(a):Ln(a,n)}}else if(i<0)throw Error(wl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,is=!1,a=e.times(tv(l,n+d)),is=!0,a=_ee(a),a.s=i,a};Ht.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=sa(a),n=ZA(a,r<=i.toExpNeg||r>=i.toExpPos)):(pd(e,1,h0),t===void 0?t=i.rounding:pd(t,0,8),a=Ln(new i(a),e,t),r=sa(a),n=ZA(a,e<=r||r<=i.toExpNeg,e)),n};Ht.toSignificantDigits=Ht.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(pd(e,1,h0),t===void 0?t=n.rounding:pd(t,0,8)),Ln(new n(r),e,t)};Ht.toString=Ht.valueOf=Ht.val=Ht.toJSON=Ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=sa(e),r=e.constructor;return ZA(e,t<=r.toExpNeg||t>=r.toExpPos)};function Nee(e,t){var r,n,a,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),is?Ln(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(f/Xn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/wa|0,c[i]%=wa;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,is?Ln(t,f):t}function pd(e,t,r){if(e!==~~e||e<t||e>r)throw Error(NA+e)}function Wc(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Xn-n.length,r&&(i+=mh(r)),i+=n;o=e[t],n=o+"",r=Xn-n.length,r&&(i+=mh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var du=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%wa|0,o=i/wa|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*wa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,f,A,m,x,g,y,v,b,w,C,N,j,P,k,T=n.constructor,O=n.s==a.s?1:-1,B=n.d,F=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(wl+"Division by zero");for(c=n.e-a.e,P=F.length,N=B.length,m=new T(O),x=m.d=[],d=0;F[d]==(B[d]||0);)++d;if(F[d]>(B[d]||0)&&--c,i==null?b=i=T.precision:o?b=i+(sa(n)-sa(a))+1:b=i,b<0)return new T(0);if(b=b/Xn+2|0,d=0,P==1)for(u=0,F=F[0],b++;(d<N||u)&&b--;d++)w=u*wa+(B[d]||0),x[d]=w/F|0,u=w%F|0;else{for(u=wa/(F[0]+1)|0,u>1&&(F=e(F,u),B=e(B,u),P=F.length,N=B.length),C=P,g=B.slice(0,P),y=g.length;y<P;)g[y++]=0;k=F.slice(),k.unshift(0),j=F[0],F[1]>=wa/2&&++j;do u=0,l=t(F,g,P,y),l<0?(v=g[0],P!=y&&(v=v*wa+(g[1]||0)),u=v/j|0,u>1?(u>=wa&&(u=wa-1),f=e(F,u),A=f.length,y=g.length,l=t(f,g,A,y),l==1&&(u--,r(f,P<A?k:F,A))):(u==0&&(l=u=1),f=F.slice()),A=f.length,A<y&&f.unshift(0),r(g,f,y),l==-1&&(y=g.length,l=t(F,g,P,y),l<1&&(u++,r(g,P<y?k:F,y))),y=g.length):l===0&&(u++,g=[0]),x[d++]=u,l&&g[0]?g[y++]=B[C]||0:(g=[B[C]],y=1);while((C++<N||g[0]!==void 0)&&b--)}return x[0]||x.shift(),m.e=c,Ln(m,o?i+sa(m)+1:i)}}();function _ee(e,t){var r,n,a,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(sa(e)>16)throw Error(fT+sa(e));if(!e.s)return new u(Co);for(is=!1,l=f,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Wf(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u(Co),u.precision=l;;){if(a=Ln(a.times(e),l),r=r.times(++c),o=i.plus(du(a,r,l)),Wc(o.d).slice(0,l)===Wc(i.d).slice(0,l)){for(;d--;)i=Ln(i.times(i),l);return u.precision=f,t==null?(is=!0,Ln(i,f)):i}i=o}}function sa(e){for(var t=e.e*Xn,r=e.d[0];r>=10;r/=10)t++;return t}function n4(e,t,r){if(t>e.LN10.sd())throw is=!0,r&&(e.precision=r),Error(wl+"LN10 precision limit exceeded");return Ln(new e(e.LN10),t)}function mh(e){for(var t="";e--;)t+="0";return t}function tv(e,t){var r,n,a,i,o,l,c,d,u,f=1,A=10,m=e,x=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(wl+(m.s?"NaN":"-Infinity"));if(m.eq(Co))return new g(0);if(t==null?(is=!1,d=y):d=t,m.eq(10))return t==null&&(is=!0),n4(g,d);if(d+=A,g.precision=d,r=Wc(x),n=r.charAt(0),i=sa(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Wc(m.d),n=r.charAt(0),f++;i=sa(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=n4(g,d+2,y).times(i+""),m=tv(new g(n+"."+r.slice(1)),d-A).plus(c),g.precision=y,t==null?(is=!0,Ln(m,y)):m;for(l=o=m=du(m.minus(Co),m.plus(Co),d),u=Ln(m.times(m),d),a=3;;){if(o=Ln(o.times(u),d),c=l.plus(du(o,new g(a),d)),Wc(c.d).slice(0,d)===Wc(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(n4(g,d+2,y).times(i+""))),l=du(l,new g(f),d),g.precision=y,t==null?(is=!0,Ln(l,y)):l;l=c,a+=2}}function $7(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=f0(r/Xn),e.d=[],n=(r+1)%Xn,r<0&&(n+=Xn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xn;n<a;)e.d.push(+t.slice(n,n+=Xn));t=t.slice(n),n=Xn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),is&&(e.e>Tj||e.e<-Tj))throw Error(fT+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ln(e,t,r){var n,a,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xn,a=t,d=f[u=0];else{if(u=Math.ceil((n+1)/Xn),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;n%=Xn,a=n-Xn+o}if(r!==void 0&&(i=Wf(10,o-a-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/Wf(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=sa(e),f.length=1,t=t-i-1,f[0]=Wf(10,(Xn-t%Xn)%Xn),e.e=f0(-t/Xn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=Wf(10,Xn-n),f[u]=a>0?(d/Wf(10,o-a)%Wf(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==wa&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=wa)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(is&&(e.e>Tj||e.e<-Tj))throw Error(fT+sa(e));return e}function Cee(e,t){var r,n,a,i,o,l,c,d,u,f,A=e.constructor,m=A.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new A(e),is?Ln(t,m):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,n=d,l=c.length),a=Math.max(Math.ceil(m/Xn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=wa-1;--c[i],c[a]+=wa}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,is?Ln(t,m):t):new A(0)}function ZA(e,t,r){var n,a=sa(e),i=Wc(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+mh(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+mh(-a-1)+i,r&&(n=r-o)>0&&(i+=mh(n))):a>=o?(i+=mh(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+mh(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=mh(n))),e.s<0?"-"+i:i}function H7(e,t){if(e.length>t)return e.length=t,!0}function See(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(NA+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return $7(o,i.toString())}else if(typeof i!="string")throw Error(NA+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,wHe.test(i))$7(o,i);else throw Error(NA+i)}if(a.prototype=Ht,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=See,a.config=a.set=jHe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function jHe(e){if(!e||typeof e!="object")throw Error(wl+"Object expected");var t,r,n,a=["precision",1,h0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(f0(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(NA+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(NA+r+": "+n);return this}var AT=See(bHe);Co=new AT(1);const Cn=AT;function NHe(e){return BHe(e)||SHe(e)||CHe(e)||_He()}function _He(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CHe(e,t){if(e){if(typeof e=="string")return _E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(e,t)}}function SHe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function BHe(e){if(Array.isArray(e))return _E(e)}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kHe=function(t){return t},Bee={},kee=function(t){return t===Bee},z7=function(t){return function r(){return arguments.length===0||arguments.length===1&&kee(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},EHe=function e(t,r){return t===1?r:z7(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Bee}).length;return o>=t?r.apply(void 0,a):e(t-o,z7(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(f){return kee(f)?c.shift():f});return r.apply(void 0,NHe(u).concat(c))}))})},e_=function(t){return EHe(t.length,t)},CE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},PHe=e_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),IHe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return kHe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},SE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Eee=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function THe(e){var t;return e===0?t=1:t=Math.floor(new Cn(e).abs().log(10).toNumber())+1,t}function OHe(e,t,r){for(var n=new Cn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var LHe=e_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),FHe=e_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),RHe=e_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const t_={rangeStep:OHe,getDigitCount:THe,interpolateNumber:LHe,uninterpolateNumber:FHe,uninterpolateTruncation:RHe};function BE(e){return MHe(e)||DHe(e)||Pee(e)||UHe()}function UHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DHe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function MHe(e){if(Array.isArray(e))return kE(e)}function rv(e,t){return HHe(e)||$He(e,t)||Pee(e,t)||QHe()}function QHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(e,t){if(e){if(typeof e=="string")return kE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kE(e,t)}}function kE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $He(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function HHe(e){if(Array.isArray(e))return e}function Iee(e){var t=rv(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Tee(e,t,r){if(e.lte(0))return new Cn(0);var n=t_.getDigitCount(e.toNumber()),a=new Cn(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Cn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Cn(Math.ceil(c))}function zHe(e,t,r){var n=1,a=new Cn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Cn(10).pow(t_.getDigitCount(e)-1),a=new Cn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Cn(Math.floor(e)))}else e===0?a=new Cn(Math.floor((t-1)/2)):r||(a=new Cn(Math.floor(e)));var o=Math.floor((t-1)/2),l=IHe(PHe(function(c){return a.add(new Cn(c-o).mul(n)).toNumber()}),CE);return l(0,t)}function Oee(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var i=Tee(new Cn(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Cn(0):(o=new Cn(e).add(t).div(2),o=o.sub(new Cn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Cn(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?Oee(e,t,r,n,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Cn(l).mul(i)),tickMax:o.add(new Cn(c).mul(i))})}function VHe(e){var t=rv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Iee([r,n]),c=rv(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(BE(CE(0,a-1).map(function(){return 1/0}))):[].concat(BE(CE(0,a-1).map(function(){return-1/0})),[u]);return r>n?SE(f):f}if(d===u)return zHe(d,a,i);var A=Oee(d,u,o,i),m=A.step,x=A.tickMin,g=A.tickMax,y=t_.rangeStep(x,g.add(new Cn(.1).mul(m)),m);return r>n?SE(y):y}function KHe(e,t){var r=rv(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Iee([n,a]),l=rv(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var u=Math.max(t,2),f=Tee(new Cn(d).sub(c).div(u-1),i,0),A=[].concat(BE(t_.rangeStep(new Cn(c),new Cn(d).sub(new Cn(.99).mul(f)),f)),[d]);return n>a?SE(A):A}var WHe=Eee(VHe),GHe=Eee(KHe),qHe="Invariant failed";function JA(e,t){throw new Error(qHe)}var YHe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function Oj(){return Oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oj.apply(this,arguments)}function XHe(e,t){return t9e(e)||e9e(e,t)||JHe(e,t)||ZHe()}function ZHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JHe(e,t){if(e){if(typeof e=="string")return V7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V7(e,t)}}function V7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function t9e(e){if(Array.isArray(e))return e}function r9e(e,t){if(e==null)return{};var r=n9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function s9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ree(n.key),n)}}function i9e(e,t,r){return t&&a9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o9e(e,t,r){return t=Lj(t),l9e(e,Lee()?Reflect.construct(t,r||[],Lj(e).constructor):t.apply(e,r))}function l9e(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c9e(e)}function c9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lee=function(){return!!e})()}function Lj(e){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lj(e)}function d9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EE(e,t)}function EE(e,t){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EE(e,t)}function Fee(e,t,r){return t=Ree(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ree(e){var t=u9e(e,"string");return yg(t)=="symbol"?t:t+""}function u9e(e,t){if(yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var db=function(e){function t(){return s9e(this,t),o9e(this,t,arguments)}return d9e(t,e),i9e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,A=r9e(n,YHe),m=Zt(A,!1);this.props.direction==="x"&&u.type!=="number"&&JA();var x=c.map(function(g){var y=d(g,l),v=y.x,b=y.y,w=y.value,C=y.errorVal;if(!C)return null;var N=[],j,P;if(Array.isArray(C)){var k=XHe(C,2);j=k[0],P=k[1]}else j=P=C;if(i==="vertical"){var T=u.scale,O=b+a,B=O+o,F=O-o,M=T(w-j),R=T(w+P);N.push({x1:R,y1:B,x2:R,y2:F}),N.push({x1:M,y1:O,x2:R,y2:O}),N.push({x1:M,y1:B,x2:M,y2:F})}else if(i==="horizontal"){var H=f.scale,G=v+a,$=G-o,V=G+o,te=H(w-j),re=H(w+P);N.push({x1:$,y1:re,x2:V,y2:re}),N.push({x1:G,y1:te,x2:G,y2:re}),N.push({x1:$,y1:te,x2:V,y2:te})}return Ce.createElement(Lr,Oj({className:"recharts-errorBar",key:"bar-".concat(N.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},m),N.map(function(K){return Ce.createElement("line",Oj({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return Ce.createElement(Lr,{className:"recharts-errorBars"},x)}}])}(Ce.Component);Fee(db,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Fee(db,"displayName","ErrorBar");function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function K7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K7(Object(r),!0).forEach(function(n){h9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h9e(e,t,r){return t=f9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9e(e){var t=A9e(e,"string");return nv(t)=="symbol"?t:t+""}function A9e(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uee=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=No(r,Kh);if(!o)return null;var l=Kh.defaultProps,c=l!==void 0?Ff(Ff({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(u,f){var A=f.item,m=f.props,x=m.sectors||m.data||[];return u.concat(x.map(function(g){return{type:o.props.iconType||A.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(n||[]).map(function(u){var f=u.item,A=f.type.defaultProps,m=A!==void 0?Ff(Ff({},A),f.props):{},x=m.dataKey,g=m.name,y=m.legendType,v=m.hide;return{inactive:v,dataKey:x,type:c.iconType||y||"square",color:mT(f),value:g||x,payload:m}}),Ff(Ff(Ff({},c),Kh.getWithHeight(o,a)),{},{payload:d,item:o})};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function W7(e){return x9e(e)||g9e(e)||p9e(e)||m9e()}function m9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9e(e,t){if(e){if(typeof e=="string")return PE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(e,t)}}function g9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x9e(e){if(Array.isArray(e))return PE(e)}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G7(Object(r),!0).forEach(function(n){Gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gp(e,t,r){return t=y9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y9e(e){var t=v9e(e,"string");return sv(t)=="symbol"?t:t+""}function v9e(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vs(e,t,r){return fr(e)||fr(t)?r:xa(t)?Io(e,t,r):ir(t)?t(e):r}function ty(e,t,r,n){var a=gHe(e,function(l){return Vs(l,t)});if(r==="number"){var i=a.filter(function(l){return _t(l)||parseFloat(l)});return i.length?[J5(i),Eh(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!fr(l)}):a;return o.map(function(l){return xa(l)||l instanceof Date?l:""})}var b9e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,f=a[d].coordinate,A=d>=l-1?a[0].coordinate:a[d+1].coordinate,m=void 0;if(Si(f-u)!==Si(A-f)){var x=[];if(Si(A-f)===Si(c[1]-c[0])){m=A;var g=f+c[1]-c[0];x[0]=Math.min(g,(g+u)/2),x[1]=Math.max(g,(g+u)/2)}else{m=u;var y=A+c[1]-c[0];x[0]=Math.min(f,(y+f)/2),x[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>v[0]&&t<=v[1]||t>=x[0]&&t<=x[1]){o=a[d].index;break}}else{var b=Math.min(u,A),w=Math.max(u,A);if(t>(b+f)/2&&t<=(w+f)/2){o=a[d].index;break}}}else for(var C=0;C<l;C++)if(C===0&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&t>(n[C].coordinate+n[C-1].coordinate)/2&&t<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&t>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},mT=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},w9e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,f=Object.keys(u),A=0,m=f.length;A<m;A++){var x=u[f[A]],g=x.items,y=x.cateAxisId,v=g.filter(function(P){return cu(P.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?Es(Es({},b),v[0].props):v[0].props,C=w.barSize,N=w[y];o[N]||(o[N]=[]);var j=fr(C)?r:C;o[N].push({item:v[0],stackList:v.slice(1),barSize:fr(j)?void 0:Bi(j,n,0)})}}return o},j9e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=Bi(r,a,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var A=!1,m=a/c,x=o.reduce(function(C,N){return C+N.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&m>0&&(A=!0,m*=.9,x=c*m);var g=(a-x)/2>>0,y={offset:g-d,size:0};u=o.reduce(function(C,N){var j={item:N.item,position:{offset:y.offset+y.size+d,size:A?m:N.barSize}},P=[].concat(W7(C),[j]);return y=P[P.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){P.push({item:k,position:y})}),P},f)}else{var v=Bi(n,a,0,!0);a-2*v-(c-1)*d<=0&&(d=0);var b=(a-2*v-(c-1)*d)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;u=o.reduce(function(C,N,j){var P=[].concat(W7(C),[{item:N.item,position:{offset:v+(b+d)*j+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){P.push({item:k,position:P[P.length-1].position})}),P},f)}return u},N9e=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=Uee({children:i,legendWidth:c});if(d){var u=a||{},f=u.width,A=u.height,m=d.align,x=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&m!=="center"&&_t(t[m]))return Es(Es({},t),{},Gp({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&x!=="middle"&&_t(t[x]))return Es(Es({},t),{},Gp({},x,t[x]+(A||0)))}return t},_9e=function(t,r,n){return fr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Dee=function(t,r,n,a,i){var o=r.props.children,l=To(o,db).filter(function(d){return _9e(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Vs(u,n);if(fr(f))return d;var A=Array.isArray(f)?[J5(f),Eh(f)]:[f,f],m=c.reduce(function(x,g){var y=Vs(u,g,0),v=A[0]-Math.abs(Array.isArray(y)?y[0]:y),b=A[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},C9e=function(t,r,n,a,i){var o=r.map(function(l){return Dee(t,l,n,i,a)}).filter(function(l){return!fr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Mee=function(t,r,n,a,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&Dee(t,c,d,a)||ty(t,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},Qee=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},$ee=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},tu=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Si(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var A=i?i.indexOf(f):f;return{coordinate:a(A)+d,value:f,offset:d}});return u.filter(function(f){return!o0(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,A){return{coordinate:a(f)+d,value:f,index:A,offset:d}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+d,value:f,offset:d}}):a.domain().map(function(f,A){return{coordinate:a(f)+d,value:i?i[f]:f,index:A,offset:d}})},s4=new WeakMap,qw=function(t,r){if(typeof r!="function")return t;s4.has(t)||s4.set(t,new WeakMap);var n=s4.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Hee=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Yy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:kj(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ey(),realScaleType:"point"}:i==="category"?{scale:Yy(),realScaleType:"band"}:{scale:kj(),realScaleType:"linear"};if(GA(a)){var c="scale".concat(U5(a));return{scale:(Q7[c]||ey)(),realScaleType:Q7[c]?c:"point"}}return ir(a)?{scale:a}:{scale:ey(),realScaleType:"point"}},q7=1e-4,zee=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-q7,o=Math.max(a[0],a[1])+q7,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},S9e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},B9e=function(t,r){if(!r||r.length!==2||!_t(r[0])||!_t(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!_t(t[0])||t[0]<n)&&(i[0]=n),(!_t(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},k9e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=o0(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},E9e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=o0(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},P9e={sign:k9e,expand:YIe,none:ug,silhouette:XIe,wiggle:ZIe,positive:E9e},I9e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=P9e[n],o=qIe().keys(a).value(function(l,c){return+Vs(l,c,0)}).order(rE).offset(i);return o(t)},T9e=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,A){var m,x=(m=A.type)!==null&&m!==void 0&&m.defaultProps?Es(Es({},A.type.defaultProps),A.props):A.props,g=x.stackId,y=x.hide;if(y)return f;var v=x[n],b=f[v]||{hasStack:!1,stackGroups:{}};if(xa(g)){var w=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(A),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[fm("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[A]};return Es(Es({},f),{},Gp({},v,b))},c),u={};return Object.keys(d).reduce(function(f,A){var m=d[A];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,y){var v=m.stackGroups[y];return Es(Es({},g),{},Gp({},y,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:I9e(t,v.items,i)}))},x)}return Es(Es({},f),{},Gp({},A,m))},u)},Vee=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=WHe(d,i,l);return t.domain([J5(u),Eh(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),A=GHe(f,i,l);return{niceTicks:A}}return null};function Fj(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fr(a[t.dataKey])){var l=lj(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Vs(a,fr(o)?t.dataKey:o);return fr(c)?null:t.scale(c)}var Y7=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Vs(o,r.dataKey,r.domain[l]);return fr(c)?null:r.scale(c)-i/2+a},O9e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},L9e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(xa(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},F9e=function(t){return t.reduce(function(r,n){return[J5(n.concat([r[0]]).filter(_t)),Eh(n.concat([r[1]]).filter(_t))]},[1/0,-1/0])},Kee=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var f=F9e(u.slice(r,n+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},X7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IE=function(t,r,n){if(ir(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(_t(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(X7.test(t[0])){var i=+X7.exec(t[0])[1];a[0]=r[0]-i}else ir(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(_t(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(Z7.test(t[1])){var o=+Z7.exec(t[1])[1];a[1]=r[1]+o}else ir(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Rj=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=HI(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},J7=function(t,r,n){return!t||!t.length||XA(t,Io(n,"type.defaultProps.domain"))?r:t},Wee=function(t,r){var n=t.type.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return Es(Es({},Zt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:mT(t),value:Vs(r,a),type:c,payload:r,chartType:d,hide:u})};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function eQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eQ(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return t=R9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9e(e){var t=U9e(e,"string");return av(t)=="symbol"?t:t+""}function U9e(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D9e(e,t){return H9e(e)||$9e(e,t)||Q9e(e,t)||M9e()}function M9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q9e(e,t){if(e){if(typeof e=="string")return tQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tQ(e,t)}}function tQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function H9e(e){if(Array.isArray(e))return e}var Uj=Math.PI/180,z9e=function(t){return t*180/Math.PI},zn=function(t,r,n,a){return{x:t+Math.cos(-Uj*a)*n,y:r+Math.sin(-Uj*a)*n}},qee=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},V9e=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=Bi(t.cx,o,o/2),f=Bi(t.cy,l,l/2),A=qee(o,l,n),m=Bi(t.innerRadius,A,0),x=Bi(t.outerRadius,A,A*.8),g=Object.keys(r);return g.reduce(function(y,v){var b=r[v],w=b.domain,C=b.reversed,N;if(fr(b.range))a==="angleAxis"?N=[c,d]:a==="radiusAxis"&&(N=[m,x]),C&&(N=[N[1],N[0]]);else{N=b.range;var j=N,P=D9e(j,2);c=P[0],d=P[1]}var k=Hee(b,i),T=k.realScaleType,O=k.scale;O.domain(w).range(N),zee(O);var B=Vee(O,Qd(Qd({},b),{},{realScaleType:T})),F=Qd(Qd(Qd({},b),B),{},{range:N,radius:x,realScaleType:T,scale:O,cx:u,cy:f,innerRadius:m,outerRadius:x,startAngle:c,endAngle:d});return Qd(Qd({},y),{},Gee({},v,F))},{})},K9e=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},W9e=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=K9e({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:z9e(d),angleInRadian:d}},G9e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},q9e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},rQ=function(t,r){var n=t.x,a=t.y,i=W9e({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=G9e(r),f=u.startAngle,A=u.endAngle,m=l,x;if(f<=A){for(;m>A;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=A}else{for(;m>f;)m-=360;for(;m<A;)m+=360;x=m>=A&&m<=f}return x?Qd(Qd({},r),{},{radius:o,angle:q9e(m,r)}):null},Yee=function(t){return!_.isValidElement(t)&&!ir(t)&&typeof t!="boolean"?t.className:""};function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}var Y9e=["offset"];function X9e(e){return tze(e)||eze(e)||J9e(e)||Z9e()}function Z9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9e(e,t){if(e){if(typeof e=="string")return TE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TE(e,t)}}function eze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tze(e){if(Array.isArray(e))return TE(e)}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rze(e,t){if(e==null)return{};var r=nze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nQ(Object(r),!0).forEach(function(n){sze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sze(e,t,r){return t=aze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aze(e){var t=ize(e,"string");return iv(t)=="symbol"?t:t+""}function ize(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}var oze=function(t){var r=t.value,n=t.formatter,a=fr(t.children)?r:t.children;return ir(n)?n(a):a},lze=function(t,r){var n=Si(r-t),a=Math.min(Math.abs(r-t),360);return n*a},cze=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,A=c.outerRadius,m=c.startAngle,x=c.endAngle,g=c.clockWise,y=(f+A)/2,v=lze(m,x),b=v>=0?1:-1,w,C;a==="insideStart"?(w=m+b*o,C=g):a==="insideEnd"?(w=x-b*o,C=!g):a==="end"&&(w=x+b*o,C=g),C=v<=0?C:!C;var N=zn(d,u,y,w),j=zn(d,u,y,w+(C?1:-1)*359),P="M".concat(N.x,",").concat(N.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(j.x,",").concat(j.y),k=fr(t.id)?fm("recharts-radial-line-"):t.id;return Ce.createElement("text",ov({},n,{dominantBaseline:"central",className:pr("recharts-radial-bar-label",l)}),Ce.createElement("defs",null,Ce.createElement("path",{id:k,d:P})),Ce.createElement("textPath",{xlinkHref:"#".concat(k)},r))},dze=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,A=(u+f)/2;if(a==="outside"){var m=zn(o,l,d+n,A),x=m.x,g=m.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,v=zn(o,l,y,A),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},uze=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,A=f*a,m=f>0?"end":"start",x=f>0?"start":"end",g=d>=0?1:-1,y=g*a,v=g>0?"end":"start",b=g>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return fa(fa({},w),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var C={x:l+d/2,y:c+u+A,textAnchor:"middle",verticalAnchor:x};return fa(fa({},C),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return fa(fa({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(i==="right"){var j={x:l+d+y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return fa(fa({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:u}:{})}var P=n?{width:d,height:u}:{};return i==="insideLeft"?fa({x:l+y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},P):i==="insideRight"?fa({x:l+d-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},P):i==="insideTop"?fa({x:l+d/2,y:c+A,textAnchor:"middle",verticalAnchor:x},P):i==="insideBottom"?fa({x:l+d/2,y:c+u-A,textAnchor:"middle",verticalAnchor:m},P):i==="insideTopLeft"?fa({x:l+y,y:c+A,textAnchor:b,verticalAnchor:x},P):i==="insideTopRight"?fa({x:l+d-y,y:c+A,textAnchor:v,verticalAnchor:x},P):i==="insideBottomLeft"?fa({x:l+y,y:c+u-A,textAnchor:b,verticalAnchor:m},P):i==="insideBottomRight"?fa({x:l+d-y,y:c+u-A,textAnchor:v,verticalAnchor:m},P):n0(i)&&(_t(i.x)||iA(i.x))&&(_t(i.y)||iA(i.y))?fa({x:l+Bi(i.x,d),y:c+Bi(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):fa({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},hze=function(t){return"cx"in t&&_t(t.cx)};function _a(e){var t=e.offset,r=t===void 0?5:t,n=rze(e,Y9e),a=fa({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,f=u===void 0?"":u,A=a.textBreakAll;if(!i||fr(l)&&fr(c)&&!_.isValidElement(d)&&!ir(d))return null;if(_.isValidElement(d))return _.cloneElement(d,a);var m;if(ir(d)){if(m=_.createElement(d,a),_.isValidElement(m))return m}else m=oze(a);var x=hze(i),g=Zt(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cze(a,m,g);var y=x?dze(a):uze(a);return Ce.createElement(YA,ov({className:pr("recharts-label",f)},g,y,{breakAll:A}),m)}_a.displayName="Label";var Xee=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,A=t.y,m=t.top,x=t.left,g=t.width,y=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(_t(g)&&_t(y)){if(_t(f)&&_t(A))return{x:f,y:A,width:g,height:y};if(_t(m)&&_t(x))return{x:m,y:x,width:g,height:y}}return _t(f)&&_t(A)?{x:f,y:A,width:0,height:0}:_t(r)&&_t(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},fze=function(t,r){return t?t===!0?Ce.createElement(_a,{key:"label-implicit",viewBox:r}):xa(t)?Ce.createElement(_a,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===_a?_.cloneElement(t,{key:"label-implicit",viewBox:r}):Ce.createElement(_a,{key:"label-implicit",content:t,viewBox:r}):ir(t)?Ce.createElement(_a,{key:"label-implicit",content:t,viewBox:r}):n0(t)?Ce.createElement(_a,ov({viewBox:r},t,{key:"label-implicit"})):null:null},Aze=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Xee(t),o=To(a,_a).map(function(c,d){return _.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=fze(t.label,r||i);return[l].concat(X9e(o))};_a.parseViewBox=Xee;_a.renderCallByParent=Aze;function mze(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pze=mze;const gze=sn(pze);function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}var xze=["valueAccessor"],yze=["data","dataKey","clockWise","id","textBreakAll"];function vze(e){return Nze(e)||jze(e)||wze(e)||bze()}function bze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wze(e,t){if(e){if(typeof e=="string")return OE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(e,t)}}function jze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nze(e){if(Array.isArray(e))return OE(e)}function OE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dj(){return Dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dj.apply(this,arguments)}function sQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sQ(Object(r),!0).forEach(function(n){_ze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ze(e,t,r){return t=Cze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cze(e){var t=Sze(e,"string");return lv(t)=="symbol"?t:t+""}function Sze(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iQ(e,t){if(e==null)return{};var r=Bze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kze=function(t){return Array.isArray(t.value)?gze(t.value):t.value};function ad(e){var t=e.valueAccessor,r=t===void 0?kze:t,n=iQ(e,xze),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=iQ(n,yze);return!a||!a.length?null:Ce.createElement(Lr,{className:"recharts-label-list"},a.map(function(u,f){var A=fr(i)?r(u,f):Vs(u&&u.payload,i),m=fr(l)?{}:{id:"".concat(l,"-").concat(f)};return Ce.createElement(_a,Dj({},Zt(u,!0),d,m,{parentViewBox:u.parentViewBox,value:A,textBreakAll:c,viewBox:_a.parseViewBox(fr(o)?u:aQ(aQ({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ad.displayName="LabelList";function Eze(e,t){return e?e===!0?Ce.createElement(ad,{key:"labelList-implicit",data:t}):Ce.isValidElement(e)||ir(e)?Ce.createElement(ad,{key:"labelList-implicit",data:t,content:e}):n0(e)?Ce.createElement(ad,Dj({data:t},e,{key:"labelList-implicit"})):null:null}function Pze(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=To(n,ad).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Eze(e.label,t);return[i].concat(vze(a))}ad.renderCallByParent=Pze;function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LE.apply(this,arguments)}function oQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oQ(Object(r),!0).forEach(function(n){Ize(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ize(e,t,r){return t=Tze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tze(e){var t=Oze(e,"string");return cv(t)=="symbol"?t:t+""}function Oze(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lze=function(t,r){var n=Si(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Yw=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,f=Math.asin(c/u)/Uj,A=d?i:i+o*f,m=zn(r,n,u,A),x=zn(r,n,a,A),g=d?i-o*f:i,y=zn(r,n,u*Math.cos(f*Uj),g);return{center:m,circleTangency:x,lineTangency:y,theta:f}},Zee=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Lze(o,l),d=o+c,u=zn(r,n,i,o),f=zn(r,n,i,d),A="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=zn(r,n,a,o),x=zn(r,n,a,d);A+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else A+="L ".concat(r,",").concat(n," Z");return A},Fze=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=Si(u-d),A=Yw({cx:r,cy:n,radius:i,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),m=A.circleTangency,x=A.lineTangency,g=A.theta,y=Yw({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,b=y.lineTangency,w=y.theta,C=c?Math.abs(d-u):Math.abs(d-u)-g-w;if(C<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Zee({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var j=Yw({cx:r,cy:n,radius:a,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=j.circleTangency,k=j.lineTangency,T=j.theta,O=Yw({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),B=O.circleTangency,F=O.lineTangency,M=O.theta,R=c?Math.abs(d-u):Math.abs(d-u)-T-M;if(R<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},Rze={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jee=function(t){var r=lQ(lQ({},Rze),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,A=r.className;if(o<i||u===f)return null;var m=pr("recharts-sector",A),x=o-i,g=Bi(l,x,0,!0),y;return g>0&&Math.abs(u-f)<360?y=Fze({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):y=Zee({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),Ce.createElement("path",LE({},Zt(r,!0),{className:m,d:y,role:"img"}))};function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function FE(){return FE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FE.apply(this,arguments)}function cQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cQ(Object(r),!0).forEach(function(n){Uze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uze(e,t,r){return t=Dze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dze(e){var t=Mze(e,"string");return dv(t)=="symbol"?t:t+""}function Mze(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uQ={curveBasisClosed:UIe,curveBasisOpen:DIe,curveBasis:RIe,curveBumpX:jIe,curveBumpY:NIe,curveLinearClosed:MIe,curveLinear:M5,curveMonotoneX:QIe,curveMonotoneY:$Ie,curveNatural:HIe,curveStep:zIe,curveStepAfter:KIe,curveStepBefore:VIe},Xw=function(t){return t.x===+t.x&&t.y===+t.y},rx=function(t){return t.x},nx=function(t){return t.y},Qze=function(t,r){if(ir(t))return t;var n="curve".concat(U5(t));return(n==="curveMonotone"||n==="curveBump")&&r?uQ["".concat(n).concat(r==="vertical"?"Y":"X")]:uQ[n]||M5},$ze=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=Qze(n,l),f=d?i.filter(function(g){return Xw(g)}):i,A;if(Array.isArray(o)){var m=d?o.filter(function(g){return Xw(g)}):o,x=f.map(function(g,y){return dQ(dQ({},g),{},{base:m[y]})});return l==="vertical"?A=Qw().y(nx).x1(rx).x0(function(g){return g.base.x}):A=Qw().x(rx).y1(nx).y0(function(g){return g.base.y}),A.defined(Xw).curve(u),A(x)}return l==="vertical"&&_t(o)?A=Qw().y(nx).x1(rx).x0(o):_t(o)?A=Qw().x(rx).y1(nx).y0(o):A=WZ().x(rx).y(nx),A.defined(Xw).curve(u),A(f)},_A=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?$ze(t):a;return _.createElement("path",FE({},Zt(t,!1),cj(t),{className:pr("recharts-curve",r),d:o,ref:i}))},ete={exports:{}},Hze="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zze=Hze,Vze=zze;function tte(){}function rte(){}rte.resetWarningCache=tte;var Kze=function(){function e(n,a,i,o,l,c){if(c!==Vze){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:rte,resetWarningCache:tte};return r.PropTypes=r,r};ete.exports=Kze();var Wze=ete.exports;const dn=sn(Wze),{getOwnPropertyNames:Gze,getOwnPropertySymbols:qze}=Object,{hasOwnProperty:Yze}=Object.prototype;function a4(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Zw(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function Xze(e){return e!=null?e[Symbol.toStringTag]:void 0}function hQ(e){return Gze(e).concat(qze(e))}const Zze=Object.hasOwn||((e,t)=>Yze.call(e,t));function pm(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Jze="__v",eVe="__o",tVe="_owner",{getOwnPropertyDescriptor:fQ,keys:AQ}=Object;function rVe(e,t){return e.byteLength===t.byteLength&&Mj(new Uint8Array(e),new Uint8Array(t))}function nVe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function sVe(e,t){return e.byteLength===t.byteLength&&Mj(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function aVe(e,t){return pm(e.getTime(),t.getTime())}function iVe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function oVe(e,t){return e===t}function mQ(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const d=t.entries();let u=!1,f=0;for(;(l=d.next())&&!l.done;){if(a[f]){f++;continue}const A=o.value,m=l.value;if(r.equals(A[0],m[0],c,f,e,t,r)&&r.equals(A[1],m[1],A[0],m[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;c++}return!0}const lVe=pm;function cVe(e,t,r){const n=AQ(e);let a=n.length;if(AQ(t).length!==a)return!1;for(;a-- >0;)if(!nte(e,t,r,n[a]))return!1;return!0}function sx(e,t,r){const n=hQ(e);let a=n.length;if(hQ(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!nte(e,t,r,i)||(o=fQ(e,i),l=fQ(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function dVe(e,t){return pm(e.valueOf(),t.valueOf())}function uVe(e,t){return e.source===t.source&&e.flags===t.flags}function pQ(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let d=!1,u=0;for(;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function Mj(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function hVe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function nte(e,t,r,n){return(n===tVe||n===eVe||n===Jze)&&(e.$$typeof||t.$$typeof)?!0:Zze(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const fVe="[object ArrayBuffer]",AVe="[object Arguments]",mVe="[object Boolean]",pVe="[object DataView]",gVe="[object Date]",xVe="[object Error]",yVe="[object Map]",vVe="[object Number]",bVe="[object Object]",wVe="[object RegExp]",jVe="[object Set]",NVe="[object String]",_Ve={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},CVe="[object URL]",SVe=Object.prototype.toString;function BVe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:u,areSetsEqual:f,areTypedArraysEqual:A,areUrlsEqual:m,unknownTagComparators:x}){return function(y,v,b){if(y===v)return!0;if(y==null||v==null)return!1;const w=typeof y;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?l(y,v,b):w==="function"?i(y,v,b):!1;const C=y.constructor;if(C!==v.constructor)return!1;if(C===Object)return c(y,v,b);if(Array.isArray(y))return t(y,v,b);if(C===Date)return n(y,v,b);if(C===RegExp)return u(y,v,b);if(C===Map)return o(y,v,b);if(C===Set)return f(y,v,b);const N=SVe.call(y);if(N===gVe)return n(y,v,b);if(N===wVe)return u(y,v,b);if(N===yVe)return o(y,v,b);if(N===jVe)return f(y,v,b);if(N===bVe)return typeof y.then!="function"&&typeof v.then!="function"&&c(y,v,b);if(N===CVe)return m(y,v,b);if(N===xVe)return a(y,v,b);if(N===AVe)return c(y,v,b);if(_Ve[N])return A(y,v,b);if(N===fVe)return e(y,v,b);if(N===pVe)return r(y,v,b);if(N===mVe||N===vVe||N===NVe)return d(y,v,b);if(x){let j=x[N];if(!j){const P=Xze(y);P&&(j=x[P])}if(j)return j(y,v,b)}return!1}}function kVe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:rVe,areArraysEqual:r?sx:nVe,areDataViewsEqual:sVe,areDatesEqual:aVe,areErrorsEqual:iVe,areFunctionsEqual:oVe,areMapsEqual:r?a4(mQ,sx):mQ,areNumbersEqual:lVe,areObjectsEqual:r?sx:cVe,arePrimitiveWrappersEqual:dVe,areRegExpsEqual:uVe,areSetsEqual:r?a4(pQ,sx):pQ,areTypedArraysEqual:r?a4(Mj,sx):Mj,areUrlsEqual:hVe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Zw(n.areArraysEqual),i=Zw(n.areMapsEqual),o=Zw(n.areObjectsEqual),l=Zw(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function EVe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function PVe({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:d=e?new WeakMap:void 0,meta:u}=r();return t(l,c,{cache:d,equals:n,meta:u,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const IVe=xf();xf({strict:!0});xf({circular:!0});xf({circular:!0,strict:!0});xf({createInternalComparator:()=>pm});xf({strict:!0,createInternalComparator:()=>pm});xf({circular:!0,createInternalComparator:()=>pm});xf({circular:!0,createInternalComparator:()=>pm,strict:!0});function xf(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=kVe(e),o=BVe(i),l=r?r(o):EVe(o);return PVe({circular:t,comparator:o,createState:n,equals:l,strict:a})}function TVe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function gQ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):TVe(a)};requestAnimationFrame(n)}function RE(e){"@babel/helpers - typeof";return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RE(e)}function OVe(e){return UVe(e)||RVe(e)||FVe(e)||LVe()}function LVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FVe(e,t){if(e){if(typeof e=="string")return xQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xQ(e,t)}}function xQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UVe(e){if(Array.isArray(e))return e}function DVe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=OVe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){gQ(a.bind(null,d),c);return}a(c),gQ(a.bind(null,d));return}RE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function yQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yQ(Object(r),!0).forEach(function(n){ste(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ste(e,t,r){return t=MVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MVe(e){var t=QVe(e,"string");return uv(t)==="symbol"?t:String(t)}function QVe(e,t){if(uv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Ve=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},HVe=function(t){return t},zVe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ry=function(t,r){return Object.keys(r).reduce(function(n,a){return vQ(vQ({},n),{},ste({},a,t(a,r[a])))},{})},bQ=function(t,r,n){return t.map(function(a){return"".concat(zVe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function VVe(e,t){return GVe(e)||WVe(e,t)||ate(e,t)||KVe()}function KVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function GVe(e){if(Array.isArray(e))return e}function qVe(e){return ZVe(e)||XVe(e)||ate(e)||YVe()}function YVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ate(e,t){if(e){if(typeof e=="string")return UE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UE(e,t)}}function XVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZVe(e){if(Array.isArray(e))return UE(e)}function UE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qj=1e-4,ite=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ote=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},wQ=function(t,r){return function(n){var a=ite(t,r);return ote(a,n)}},JVe=function(t,r){return function(n){var a=ite(t,r),i=[].concat(qVe(a.map(function(o,l){return o*l}).slice(1)),[0]);return ote(i,n)}},jQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=VVe(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var f=wQ(a,o),A=wQ(i,l),m=JVe(a,o),x=function(v){return v>1?1:v<0?0:v},g=function(v){for(var b=v>1?1:v,w=b,C=0;C<8;++C){var N=f(w)-b,j=m(w);if(Math.abs(N-b)<Qj||j<Qj)return A(w);w=x(w-N/j)}return A(w)};return g.isStepper=!1,g},eKe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,f,A){var m=-(u-f)*n,x=A*i,g=A+(m-x)*l/1e3,y=A*l/1e3+u;return Math.abs(y-f)<Qj&&Math.abs(g)<Qj?[f,0]:[y,g]};return c.isStepper=!0,c.dt=l,c},tKe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jQ(a);case"spring":return eKe();default:if(a.split("(")[0]==="cubic-bezier")return jQ(a)}return typeof a=="function"?a:null};function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function NQ(e){return sKe(e)||nKe(e)||lte(e)||rKe()}function rKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sKe(e){if(Array.isArray(e))return ME(e)}function _Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_Q(Object(r),!0).forEach(function(n){DE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_Q(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DE(e,t,r){return t=aKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aKe(e){var t=iKe(e,"string");return hv(t)==="symbol"?t:String(t)}function iKe(e,t){if(hv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oKe(e,t){return dKe(e)||cKe(e,t)||lte(e,t)||lKe()}function lKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lte(e,t){if(e){if(typeof e=="string")return ME(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ME(e,t)}}function ME(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function dKe(e){if(Array.isArray(e))return e}var $j=function(t,r,n){return t+(r-t)*n},QE=function(t){var r=t.from,n=t.to;return r!==n},uKe=function e(t,r,n){var a=ry(function(i,o){if(QE(o)){var l=t(o.from,o.to,o.velocity),c=oKe(l,2),d=c[0],u=c[1];return Fa(Fa({},o),{},{from:d,velocity:u})}return o},r);return n<1?ry(function(i,o){return QE(o)?Fa(Fa({},o),{},{velocity:$j(o.velocity,a[i].velocity,n),from:$j(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const hKe=function(e,t,r,n,a){var i=$Ve(e,t),o=i.reduce(function(y,v){return Fa(Fa({},y),{},DE({},v,[e[v],t[v]]))},{}),l=i.reduce(function(y,v){return Fa(Fa({},y),{},DE({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,d,u,f=function(){return null},A=function(){return ry(function(v,b){return b.from},l)},m=function(){return!Object.values(l).filter(QE).length},x=function(v){d||(d=v);var b=v-d,w=b/r.dt;l=uKe(r,l,w),a(Fa(Fa(Fa({},e),t),A())),d=v,m()||(c=requestAnimationFrame(f))},g=function(v){u||(u=v);var b=(v-u)/n,w=ry(function(N,j){return $j.apply(void 0,NQ(j).concat([r(b)]))},o);if(a(Fa(Fa(Fa({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var C=ry(function(N,j){return $j.apply(void 0,NQ(j).concat([r(1)]))},o);a(Fa(Fa(Fa({},e),t),C))}};return f=r.isStepper?x:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}var fKe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function AKe(e,t){if(e==null)return{};var r=mKe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mKe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function i4(e){return yKe(e)||xKe(e)||gKe(e)||pKe()}function pKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gKe(e,t){if(e){if(typeof e=="string")return $E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $E(e,t)}}function xKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yKe(e){if(Array.isArray(e))return $E(e)}function $E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CQ(Object(r),!0).forEach(function(n){Cx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cx(e,t,r){return t=cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cte(n.key),n)}}function wKe(e,t,r){return t&&bKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cte(e){var t=jKe(e,"string");return vg(t)==="symbol"?t:String(t)}function jKe(e,t){if(vg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HE(e,t)}function HE(e,t){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HE(e,t)}function _Ke(e){var t=CKe();return function(){var n=Hj(e),a;if(t){var i=Hj(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return zE(this,a)}}function zE(e,t){if(t&&(vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VE(e)}function VE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hj(e){return Hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hj(e)}var yc=function(e){NKe(r,e);var t=_Ke(r);function r(n,a){var i;vKe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,A=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(VE(i)),i.changeStyle=i.changeStyle.bind(VE(i)),!l||m<=0)return i.state={style:{}},typeof A=="function"&&(i.state={style:u}),zE(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof A=="function")return i.state={style:d},zE(i);i.state={style:c?Cx({},c,d):d}}else i.state={style:{}};return i}return wKe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,A=this.state.style;if(l){if(!o){var m={style:c?Cx({},c,u):u};this.state&&A&&(c&&A[c]!==u||!c&&A!==u)&&this.setState(m);return}if(!(IVe(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||d?f:a.to;if(this.state&&A){var y={style:c?Cx({},c,g):g};(c&&A[c]!==g||!c&&A!==g)&&this.setState(y)}this.runAnimation(Wl(Wl({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,f=a.onAnimationEnd,A=a.onAnimationStart,m=hKe(o,l,tKe(d),c,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([A,u,x,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,f=d.duration,A=f===void 0?0:f,m=function(g,y,v){if(v===0)return g;var b=y.duration,w=y.easing,C=w===void 0?"ease":w,N=y.style,j=y.properties,P=y.onAnimationEnd,k=v>0?o[v-1]:y,T=j||Object.keys(N);if(typeof C=="function"||C==="spring")return[].concat(i4(g),[i.runJSAnimation.bind(i,{from:k.style,to:N,duration:b,easing:C}),b]);var O=bQ(T,b,C),B=Wl(Wl(Wl({},k.style),N),{},{transition:O});return[].concat(i4(g),[B,b,P]).filter(HVe)};return this.manager.start([c].concat(i4(o.reduce(m,[u,Math.max(A,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=DVe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,A=a.steps,m=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(a);return}if(A.length>1){this.runStepAnimation(a);return}var g=l?Cx({},l,c):c,y=bQ(Object.keys(g),o,d);x.start([u,i,Wl(Wl({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=AKe(a,fKe),d=_.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var f=function(m){var x=m.props,g=x.style,y=g===void 0?{}:g,v=x.className,b=_.cloneElement(m,Wl(Wl({},c),{},{style:Wl(Wl({},y),u),className:v}));return b};return d===1?f(_.Children.only(i)):Ce.createElement("div",null,_.Children.map(i,function(A){return f(A)}))}}]),r}(_.PureComponent);yc.displayName="Animate";yc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yc.propTypes={from:dn.oneOfType([dn.object,dn.string]),to:dn.oneOfType([dn.object,dn.string]),attributeName:dn.string,duration:dn.number,begin:dn.number,easing:dn.oneOfType([dn.string,dn.func]),steps:dn.arrayOf(dn.shape({duration:dn.number.isRequired,style:dn.object.isRequired,easing:dn.oneOfType([dn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dn.func]),properties:dn.arrayOf("string"),onAnimationEnd:dn.func})),children:dn.oneOfType([dn.node,dn.func]),isActive:dn.bool,canBegin:dn.bool,onAnimationEnd:dn.func,shouldReAnimate:dn.bool,onAnimationStart:dn.func,onAnimationReStart:dn.func};function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zj.apply(this,arguments)}function SKe(e,t){return PKe(e)||EKe(e,t)||kKe(e,t)||BKe()}function BKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kKe(e,t){if(e){if(typeof e=="string")return SQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SQ(e,t)}}function SQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function PKe(e){if(Array.isArray(e))return e}function BQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BQ(Object(r),!0).forEach(function(n){IKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IKe(e,t,r){return t=TKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TKe(e){var t=OKe(e,"string");return fv(t)=="symbol"?t:t+""}function OKe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EQ=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],A=0,m=4;A<m;A++)f[A]=i[A]>o?o:i[A];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*f[1])),u+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),u+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},LKe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),f=Math.min(o,o+c),A=Math.max(o,o+c);return n>=d&&n<=u&&a>=f&&a<=A}return!1},FKe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pT=function(t){var r=kQ(kQ({},FKe),t),n=_.useRef(),a=_.useState(-1),i=SKe(a,2),o=i[0],l=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,A=r.radius,m=r.className,x=r.animationEasing,g=r.animationDuration,y=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var w=pr("recharts-rectangle",m);return b?Ce.createElement(yc,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:g,animationEasing:x,isActive:b},function(C){var N=C.width,j=C.height,P=C.x,k=C.y;return Ce.createElement(yc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:v,easing:x},Ce.createElement("path",zj({},Zt(r,!0),{className:w,d:EQ(P,k,N,j,A),ref:n})))}):Ce.createElement("path",zj({},Zt(r,!0),{className:w,d:EQ(c,d,u,f,A)}))},RKe=["points","className","baseLinePoints","connectNulls"];function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(this,arguments)}function UKe(e,t){if(e==null)return{};var r=DKe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PQ(e){return HKe(e)||$Ke(e)||QKe(e)||MKe()}function MKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QKe(e,t){if(e){if(typeof e=="string")return KE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(e,t)}}function $Ke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HKe(e){if(Array.isArray(e))return KE(e)}function KE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IQ=function(t){return t&&t.x===+t.x&&t.y===+t.y},zKe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){IQ(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),IQ(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ny=function(t,r){var n=zKe(t);r&&(n=[n.reduce(function(i,o){return[].concat(PQ(i),PQ(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},VKe=function(t,r,n){var a=ny(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ny(r.reverse(),n).slice(1))},KKe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=UKe(t,RKe);if(!r||!r.length)return null;var l=pr("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=VKe(r,a,i);return Ce.createElement("g",{className:l},Ce.createElement("path",vp({},Zt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?Ce.createElement("path",vp({},Zt(o,!0),{fill:"none",d:ny(r,i)})):null,c?Ce.createElement("path",vp({},Zt(o,!0),{fill:"none",d:ny(a,i)})):null)}var u=ny(r,i);return Ce.createElement("path",vp({},Zt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WE.apply(this,arguments)}var ub=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=pr("recharts-dot",i);return r===+r&&n===+n&&a===+a?_.createElement("circle",WE({},Zt(t,!1),cj(t),{className:o,cx:r,cy:n,r:a})):null};function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}var WKe=["x","y","top","left","width","height","className"];function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(this,arguments)}function TQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GKe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TQ(Object(r),!0).forEach(function(n){qKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qKe(e,t,r){return t=YKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YKe(e){var t=XKe(e,"string");return Av(t)=="symbol"?t:t+""}function XKe(e,t){if(Av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZKe(e,t){if(e==null)return{};var r=JKe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eWe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},tWe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,A=t.height,m=A===void 0?0:A,x=t.className,g=ZKe(t,WKe),y=GKe({x:n,y:i,top:l,left:d,width:f,height:m},g);return!_t(n)||!_t(i)||!_t(f)||!_t(m)||!_t(l)||!_t(d)?null:Ce.createElement("path",GE({},Zt(y,!0),{className:pr("recharts-cross",x),d:eWe(n,i,f,m,l,d)}))},rWe=Z5,nWe=bee,sWe=Nd;function aWe(e,t){return e&&e.length?rWe(e,sWe(t),nWe):void 0}var iWe=aWe;const oWe=sn(iWe);var lWe=Z5,cWe=Nd,dWe=wee;function uWe(e,t){return e&&e.length?lWe(e,cWe(t),dWe):void 0}var hWe=uWe;const fWe=sn(hWe);var AWe=["cx","cy","angle","ticks","axisLine"],mWe=["ticks","tick","angle","tickFormatter","stroke"];function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(this,arguments)}function OQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OQ(Object(r),!0).forEach(function(n){r_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LQ(e,t){if(e==null)return{};var r=pWe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ute(n.key),n)}}function xWe(e,t,r){return t&&FQ(e.prototype,t),r&&FQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yWe(e,t,r){return t=Vj(t),vWe(e,dte()?Reflect.construct(t,r||[],Vj(e).constructor):t.apply(e,r))}function vWe(e,t){if(t&&(bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bWe(e)}function bWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dte=function(){return!!e})()}function Vj(e){return Vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vj(e)}function wWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qE(e,t)}function r_(e,t,r){return t=ute(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=jWe(e,"string");return bg(t)=="symbol"?t:t+""}function jWe(e,t){if(bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n_=function(e){function t(){return gWe(this,t),yWe(this,t,arguments)}return wWe(t,e),xWe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return zn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=oWe(l,function(u){return u.coordinate||0}),d=fWe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=LQ(n,AWe),u=l.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),f=zn(a,i,u[0],o),A=zn(a,i,u[1],o),m=Rf(Rf(Rf({},Zt(d,!1)),{},{fill:"none"},Zt(c,!1)),{},{x1:f.x,y1:f.y,x2:A.x,y2:A.y});return Ce.createElement("line",sy({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=LQ(a,mWe),f=this.getTickTextAnchor(),A=Zt(u,!1),m=Zt(o,!1),x=i.map(function(g,y){var v=n.getTickValueCoord(g),b=Rf(Rf(Rf(Rf({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},A),{},{stroke:"none",fill:d},m),{},{index:y},v),{},{payload:g});return Ce.createElement(Lr,sy({className:pr("recharts-polar-radius-axis-tick",Yee(o)),key:"tick-".concat(g.coordinate)},qA(n.props,g,y)),t.renderTickItem(o,b,c?c(g.value,y):g.value))});return Ce.createElement(Lr,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:Ce.createElement(Lr,{className:pr("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),_a.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ce.isValidElement(n)?o=Ce.cloneElement(n,a):ir(n)?o=n(a):o=Ce.createElement(YA,sy({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(_.PureComponent);r_(n_,"displayName","PolarRadiusAxis");r_(n_,"axisType","radiusAxis");r_(n_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(this,arguments)}function RQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RQ(Object(r),!0).forEach(function(n){s_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fte(n.key),n)}}function _We(e,t,r){return t&&UQ(e.prototype,t),r&&UQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CWe(e,t,r){return t=Kj(t),SWe(e,hte()?Reflect.construct(t,r||[],Kj(e).constructor):t.apply(e,r))}function SWe(e,t){if(t&&(wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BWe(e)}function BWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hte=function(){return!!e})()}function Kj(e){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kj(e)}function kWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YE(e,t)}function s_(e,t,r){return t=fte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fte(e){var t=EWe(e,"string");return wg(t)=="symbol"?t:t+""}function EWe(e,t){if(wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PWe=Math.PI/180,DQ=1e-5,a_=function(e){function t(){return NWe(this,t),CWe(this,t,arguments)}return kWe(t,e),_We(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,f=zn(i,o,l,n.coordinate),A=zn(i,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:A.x,y2:A.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*PWe),o;return i>DQ?o=a==="outer"?"start":"end":i<-DQ?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=Uf(Uf({},Zt(this.props,!1)),{},{fill:"none"},Zt(l,!1));if(c==="circle")return Ce.createElement(ub,Yf({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,f=u.map(function(A){return zn(a,i,o,A.coordinate)});return Ce.createElement(KKe,Yf({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Zt(this.props,!1),f=Zt(o,!1),A=Uf(Uf({},u),{},{fill:"none"},Zt(l,!1)),m=i.map(function(x,g){var y=n.getTickLineCoord(x),v=n.getTickTextAnchor(x),b=Uf(Uf(Uf({textAnchor:v},u),{},{stroke:"none",fill:d},f),{},{index:g,payload:x,x:y.x2,y:y.y2});return Ce.createElement(Lr,Yf({className:pr("recharts-polar-angle-axis-tick",Yee(o)),key:"tick-".concat(x.coordinate)},qA(n.props,x,g)),l&&Ce.createElement("line",Yf({className:"recharts-polar-angle-axis-tick-line"},A,y)),o&&t.renderTickItem(o,b,c?c(x.value,g):x.value))});return Ce.createElement(Lr,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:Ce.createElement(Lr,{className:pr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ce.isValidElement(n)?o=Ce.cloneElement(n,a):ir(n)?o=n(a):o=Ce.createElement(YA,Yf({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(_.PureComponent);s_(a_,"displayName","PolarAngleAxis");s_(a_,"axisType","angleAxis");s_(a_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var IWe=gJ,TWe=IWe(Object.getPrototypeOf,Object),OWe=TWe,LWe=Eu,FWe=OWe,RWe=Pu,UWe="[object Object]",DWe=Function.prototype,MWe=Object.prototype,Ate=DWe.toString,QWe=MWe.hasOwnProperty,$We=Ate.call(Object);function HWe(e){if(!RWe(e)||LWe(e)!=UWe)return!1;var t=FWe(e);if(t===null)return!0;var r=QWe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Ate.call(r)==$We}var zWe=HWe;const VWe=sn(zWe);var KWe=Eu,WWe=Pu,GWe="[object Boolean]";function qWe(e){return e===!0||e===!1||WWe(e)&&KWe(e)==GWe}var YWe=qWe;const XWe=sn(YWe);function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wj.apply(this,arguments)}function ZWe(e,t){return rGe(e)||tGe(e,t)||eGe(e,t)||JWe()}function JWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eGe(e,t){if(e){if(typeof e=="string")return MQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MQ(e,t)}}function MQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tGe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function rGe(e){if(Array.isArray(e))return e}function QQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $Q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QQ(Object(r),!0).forEach(function(n){nGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nGe(e,t,r){return t=sGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sGe(e){var t=aGe(e,"string");return mv(t)=="symbol"?t:t+""}function aGe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HQ=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},iGe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oGe=function(t){var r=$Q($Q({},iGe),t),n=_.useRef(),a=_.useState(-1),i=ZWe(a,2),o=i[0],l=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,A=r.height,m=r.className,x=r.animationEasing,g=r.animationDuration,y=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||A!==+A||u===0&&f===0||A===0)return null;var b=pr("recharts-trapezoid",m);return v?Ce.createElement(yc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:A,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:A,x:c,y:d},duration:g,animationEasing:x,isActive:v},function(w){var C=w.upperWidth,N=w.lowerWidth,j=w.height,P=w.x,k=w.y;return Ce.createElement(yc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:x},Ce.createElement("path",Wj({},Zt(r,!0),{className:b,d:HQ(P,k,C,N,j),ref:n})))}):Ce.createElement("g",null,Ce.createElement("path",Wj({},Zt(r,!0),{className:b,d:HQ(c,d,u,f,A)})))},lGe=["option","shapeType","propTransformer","activeClassName","isActive"];function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function cGe(e,t){if(e==null)return{};var r=dGe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zQ(Object(r),!0).forEach(function(n){uGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uGe(e,t,r){return t=hGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hGe(e){var t=fGe(e,"string");return pv(t)=="symbol"?t:t+""}function fGe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AGe(e,t){return Gj(Gj({},t),e)}function mGe(e,t){return e==="symbols"}function VQ(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ce.createElement(pT,r);case"trapezoid":return Ce.createElement(oGe,r);case"sector":return Ce.createElement(Jee,r);case"symbols":if(mGe(t))return Ce.createElement(LI,r);break;default:return null}}function pGe(e){return _.isValidElement(e)?e.props:e}function mte(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?AGe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=cGe(e,lGe),d;if(_.isValidElement(t))d=_.cloneElement(t,Gj(Gj({},c),pGe(t)));else if(ir(t))d=t(c);else if(VWe(t)&&!XWe(t)){var u=a(t,c);d=Ce.createElement(VQ,{shapeType:r,elementProps:u})}else{var f=c;d=Ce.createElement(VQ,{shapeType:r,elementProps:f})}return l?Ce.createElement(Lr,{className:o},d):d}function i_(e,t){return t!=null&&"trapezoids"in e.props}function o_(e,t){return t!=null&&"sectors"in e.props}function gv(e,t){return t!=null&&"points"in e.props}function gGe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function xGe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function yGe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function vGe(e,t){var r;return i_(e,t)?r=gGe:o_(e,t)?r=xGe:gv(e,t)&&(r=yGe),r}function bGe(e,t){var r;return i_(e,t)?r="trapezoids":o_(e,t)?r="sectors":gv(e,t)&&(r="points"),r}function wGe(e,t){if(i_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(o_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return gv(e,t)?t.payload:{}}function jGe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=bGe(r,t),i=wGe(r,t),o=n.filter(function(c,d){var u=XA(i,c),f=r.props[a].filter(function(x){var g=vGe(r,t);return g(x,t)}),A=r.props[a].indexOf(f[f.length-1]),m=d===A;return u&&m}),l=n.indexOf(o[o.length-1]);return l}var V1;function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(this,arguments)}function KQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KQ(Object(r),!0).forEach(function(n){dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gte(n.key),n)}}function _Ge(e,t,r){return t&&WQ(e.prototype,t),r&&WQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CGe(e,t,r){return t=qj(t),SGe(e,pte()?Reflect.construct(t,r||[],qj(e).constructor):t.apply(e,r))}function SGe(e,t){if(t&&(jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BGe(e)}function BGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pte=function(){return!!e})()}function qj(e){return qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qj(e)}function kGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XE(e,t)}function dl(e,t,r){return t=gte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gte(e){var t=EGe(e,"string");return jg(t)=="symbol"?t:t+""}function EGe(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tu=function(e){function t(r){var n;return NGe(this,t),n=CGe(this,t,[r]),dl(n,"pieRef",null),dl(n,"sectorRefs",[]),dl(n,"id",fm("recharts-pie-")),dl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ir(a)&&a()}),dl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ir(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return kGe(t,e),_Ge(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Zt(this.props,!1),f=Zt(o,!1),A=Zt(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(g,y){var v=(g.startAngle+g.endAngle)/2,b=zn(g.cx,g.cy,g.outerRadius+m,v),w=Dn(Dn(Dn(Dn({},u),g),{},{stroke:"none"},f),{},{index:y,textAnchor:t.getTextAnchor(b.x,g.cx)},b),C=Dn(Dn(Dn(Dn({},u),g),{},{fill:"none",stroke:g.fill},A),{},{index:y,points:[zn(g.cx,g.cy,g.outerRadius,v),b]}),N=c;return fr(c)&&fr(d)?N="value":fr(c)&&(N=d),Ce.createElement(Lr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,C,"line"),t.renderLabelItem(o,w,Vs(g,N)))});return Ce.createElement(Lr,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(u),A=c&&a.hasActiveIndex()?c:null,m=f?o:A,x=Dn(Dn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return Ce.createElement(Lr,bp({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},qA(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),Ce.createElement(mte,bp({option:m,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,f=this.state,A=f.prevSectors,m=f.prevIsAnimationActive;return Ce.createElement(yc,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var g=x.t,y=[],v=i&&i[0],b=v.startAngle;return i.forEach(function(w,C){var N=A&&A[C],j=C>0?Io(w,"paddingAngle",0):0;if(N){var P=pa(N.endAngle-N.startAngle,w.endAngle-w.startAngle),k=Dn(Dn({},w),{},{startAngle:b+j,endAngle:b+P(g)+j});y.push(k),b=k.endAngle}else{var T=w.endAngle,O=w.startAngle,B=pa(0,T-O),F=B(g),M=Dn(Dn({},w),{},{startAngle:b+j,endAngle:b+F+j});y.push(M),b=M.endAngle}}),Ce.createElement(Lr,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!XA(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,f=a.innerRadius,A=a.outerRadius,m=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!_t(d)||!_t(u)||!_t(f)||!_t(A))return null;var g=pr("recharts-pie",l);return Ce.createElement(Lr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),_a.renderCallByParent(this.props,null,!1),(!m||x)&&ad.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(Ce.isValidElement(n))return Ce.cloneElement(n,a);if(ir(n))return n(a);var o=pr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Ce.createElement(_A,bp({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(Ce.isValidElement(n))return Ce.cloneElement(n,a);var o=i;if(ir(n)&&(o=n(a),Ce.isValidElement(o)))return o;var l=pr("recharts-pie-label-text",typeof n!="boolean"&&!ir(n)?n.className:"");return Ce.createElement(YA,bp({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(_.PureComponent);V1=Tu;dl(Tu,"displayName","Pie");dl(Tu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dl(Tu,"parseDeltaAngle",function(e,t){var r=Si(t-e),n=Math.min(Math.abs(t-e),360);return r*n});dl(Tu,"getRealPieData",function(e){var t=e.data,r=e.children,n=Zt(e,!1),a=To(r,V5);return t&&t.length?t.map(function(i,o){return Dn(Dn(Dn({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Dn(Dn({},n),i.props)}):[]});dl(Tu,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=qee(a,i),l=n+Bi(e.cx,a,a/2),c=r+Bi(e.cy,i,i/2),d=Bi(e.innerRadius,o,0),u=Bi(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});dl(Tu,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Dn(Dn({},t.type.defaultProps),t.props):t.props,a=V1.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,f=n.valueKey,A=n.tooltipType,m=Math.abs(n.minAngle),x=V1.parseCoordinateOfPie(n,r),g=V1.parseDeltaAngle(o,l),y=Math.abs(g),v=d;fr(d)&&fr(f)?(uc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):fr(d)&&(uc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var b=a.filter(function(k){return Vs(k,v,0)!==0}).length,w=(y>=360?b:b-1)*c,C=y-b*m-w,N=a.reduce(function(k,T){var O=Vs(T,v,0);return k+(_t(O)?O:0)},0),j;if(N>0){var P;j=a.map(function(k,T){var O=Vs(k,v,0),B=Vs(k,u,T),F=(_t(O)?O:0)/N,M;T?M=P.endAngle+Si(g)*c*(O!==0?1:0):M=o;var R=M+Si(g)*((O!==0?m:0)+F*C),H=(M+R)/2,G=(x.innerRadius+x.outerRadius)/2,$=[{name:B,value:O,payload:k,dataKey:v,type:A}],V=zn(x.cx,x.cy,G,H);return P=Dn(Dn(Dn({percent:F,cornerRadius:i,name:B,tooltipPayload:$,midAngle:H,middleRadius:G,tooltipPosition:V},k),x),{},{value:Vs(k,v),startAngle:M,endAngle:R,payload:k,paddingAngle:Si(g)*c}),P})}return Dn(Dn({},x),{},{sectors:j,data:a})});var PGe=Math.ceil,IGe=Math.max;function TGe(e,t,r,n){for(var a=-1,i=IGe(PGe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var OGe=TGe,LGe=FJ,GQ=1/0,FGe=17976931348623157e292;function RGe(e){if(!e)return e===0?e:0;if(e=LGe(e),e===GQ||e===-GQ){var t=e<0?-1:1;return t*FGe}return e===e?e:0}var xte=RGe,UGe=OGe,DGe=z5,o4=xte;function MGe(e){return function(t,r,n){return n&&typeof n!="number"&&DGe(t,r,n)&&(r=n=void 0),t=o4(t),r===void 0?(r=t,t=0):r=o4(r),n=n===void 0?t<r?1:-1:o4(n),UGe(t,r,n,e)}}var QGe=MGe,$Ge=QGe,HGe=$Ge(),zGe=HGe;const Yj=sn(zGe);function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}function qQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qQ(Object(r),!0).forEach(function(n){yte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yte(e,t,r){return t=VGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VGe(e){var t=KGe(e,"string");return xv(t)=="symbol"?t:t+""}function KGe(e,t){if(xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WGe=["Webkit","Moz","O","ms"],GGe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=WGe.reduce(function(i,o){return YQ(YQ({},i),{},yte({},o+n,r))},{});return a[t]=r,a};function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function Xj(){return Xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xj.apply(this,arguments)}function XQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XQ(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bte(n.key),n)}}function YGe(e,t,r){return t&&ZQ(e.prototype,t),r&&ZQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XGe(e,t,r){return t=Zj(t),ZGe(e,vte()?Reflect.construct(t,r||[],Zj(e).constructor):t.apply(e,r))}function ZGe(e,t){if(t&&(Ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JGe(e)}function JGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vte=function(){return!!e})()}function Zj(e){return Zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zj(e)}function eqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}function ZE(e,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZE(e,t)}function wo(e,t,r){return t=bte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bte(e){var t=tqe(e,"string");return Ng(t)=="symbol"?t:t+""}function tqe(e,t){if(Ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rqe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=ey().domain(Yj(0,c)).range([i,i+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:u}},JQ=function(t){return t.changedTouches&&!!t.changedTouches.length},_g=function(e){function t(r){var n;return qGe(this,t),n=XGe(this,t,[r]),wo(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),wo(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),wo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),wo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),wo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),wo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),wo(n,"handleSlideDragStart",function(a){var i=JQ(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return eqe(t,e),YGe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(a,i),A=Math.max(a,i),m=t.getIndexInRange(o,f),x=t.getIndexInRange(o,A);return{startIndex:m-m%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Vs(i[n],l,n);return ir(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,A=c.startIndex,m=c.endIndex,x=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,d+u-f-l,d+u-f-o):g<0&&(g=Math.max(g,d-o,d-l));var y=this.getIndex({startX:o+g,endX:l+g});(y.startIndex!==A||y.endIndex!==m)&&x&&x(y),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=JQ(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,f=u.x,A=u.width,m=u.travellerWidth,x=u.onChange,g=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+A-m-d):b<0&&(b=Math.max(b,f-d)),v[o]=d+b;var w=this.getIndex(v),C=w.startIndex,N=w.endIndex,j=function(){var k=y.length-1;return o==="startX"&&(l>c?C%g===0:N%g===0)||l<c&&N===k||o==="endX"&&(l>c?N%g===0:C%g===0)||l>c&&N===k};this.setState(wo(wo({},o,d+b),"brushMoveStartX",n.pageX),function(){x&&j()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],f=l.indexOf(u);if(f!==-1){var A=f+n;if(!(A===-1||A>=l.length)){var m=l[A];a==="startX"&&m>=d||a==="endX"&&m<=c||this.setState(wo({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return Ce.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,f=_.Children.only(d);return f?Ce.cloneElement(f,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,A=c.traveller,m=c.ariaLabel,x=c.data,g=c.startIndex,y=c.endIndex,v=Math.max(n,this.props.x),b=l4(l4({},Zt(this.props,!1)),{},{x:v,y:d,width:u,height:f}),w=m||"Min value: ".concat((i=x[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return Ce.createElement(Lr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(A,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,a)+d,f=Math.max(Math.abs(a-n)-d,0);return Ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,f=u.startX,A=u.endX,m=5,x={pointerEvents:"none",fill:d};return Ce.createElement(Lr,{className:"recharts-brush-texts"},Ce.createElement(YA,Xj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,A)-m,y:o+l/2},x),this.getTextOfTick(a)),Ce.createElement(YA,Xj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,A)+c+m,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,f=n.alwaysShowText,A=this.state,m=A.startX,x=A.endX,g=A.isTextActive,y=A.isSlideMoving,v=A.isTravellerMoving,b=A.isTravellerFocused;if(!a||!a.length||!_t(l)||!_t(c)||!_t(d)||!_t(u)||d<=0||u<=0)return null;var w=pr("recharts-brush",i),C=Ce.Children.count(o)===1,N=GGe("userSelect","none");return Ce.createElement(Lr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(g||y||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return Ce.createElement(Ce.Fragment,null,Ce.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Ce.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),Ce.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ce.isValidElement(n)?i=Ce.cloneElement(n,a):ir(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return l4({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?rqe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var A=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(_.PureComponent);wo(_g,"displayName","Brush");wo(_g,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nqe=$I;function sqe(e,t){var r;return nqe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var aqe=sqe,iqe=cJ,oqe=Nd,lqe=aqe,cqe=ao,dqe=z5;function uqe(e,t,r){var n=cqe(e)?iqe:lqe;return r&&dqe(e,t,r)&&(t=void 0),n(e,oqe(t))}var hqe=uqe;const fqe=sn(hqe);var id=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},e$=PJ;function Aqe(e,t,r){t=="__proto__"&&e$?e$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var mqe=Aqe,pqe=mqe,gqe=kJ,xqe=Nd;function yqe(e,t){var r={};return t=xqe(t),gqe(e,function(n,a,i){pqe(r,a,t(n,a,i))}),r}var vqe=yqe;const bqe=sn(vqe);function wqe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var jqe=wqe,Nqe=$I;function _qe(e,t){var r=!0;return Nqe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Cqe=_qe,Sqe=jqe,Bqe=Cqe,kqe=Nd,Eqe=ao,Pqe=z5;function Iqe(e,t,r){var n=Eqe(e)?Sqe:Bqe;return r&&Pqe(e,t,r)&&(t=void 0),n(e,kqe(t))}var Tqe=Iqe;const wte=sn(Tqe);var Oqe=["x","y"];function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JE.apply(this,arguments)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(n){Lqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lqe(e,t,r){return t=Fqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fqe(e){var t=Rqe(e,"string");return yv(t)=="symbol"?t:t+""}function Rqe(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uqe(e,t){if(e==null)return{};var r=Dqe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mqe(e,t){var r=e.x,n=e.y,a=Uqe(e,Oqe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),A=parseInt(f,10);return ax(ax(ax(ax(ax({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:A,name:t.name,radius:t.radius})}function r$(e){return Ce.createElement(mte,JE({shapeType:"rectangle",propTransformer:Mqe,activeClassName:"recharts-active-bar"},e))}var Qqe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=_t(n)||c6e(n);return i?t(n,a):(i||JA(),r)}},$qe=["value","background"],jte;function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function Hqe(e,t){if(e==null)return{};var r=zqe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jj.apply(this,arguments)}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(n){Ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_te(n.key),n)}}function Kqe(e,t,r){return t&&s$(e.prototype,t),r&&s$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wqe(e,t,r){return t=eN(t),Gqe(e,Nte()?Reflect.construct(t,r||[],eN(e).constructor):t.apply(e,r))}function Gqe(e,t){if(t&&(Cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qqe(e)}function qqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nte=function(){return!!e})()}function eN(e){return eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eN(e)}function Yqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}function e3(e,t){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e3(e,t)}function Ph(e,t,r){return t=_te(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Xqe(e,"string");return Cg(t)=="symbol"?t:t+""}function Xqe(e,t){if(Cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _u=function(e){function t(){var r;Vqe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Wqe(this,t,[].concat(a)),Ph(r,"state",{isAnimationFinished:!1}),Ph(r,"id",fm("recharts-bar-")),Ph(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ph(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Yqe(t,e),Kqe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Zt(this.props,!1);return n&&n.map(function(f,A){var m=A===c,x=m?d:o,g=Ys(Ys(Ys({},u),f),{},{isActive:m,option:x,index:A,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ce.createElement(Lr,Jj({className:"recharts-bar-rectangle"},qA(a.props,f,A),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(A)}),Ce.createElement(r$,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,f=a.animationId,A=this.state.prevData;return Ce.createElement(yc,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,g=i.map(function(y,v){var b=A&&A[v];if(b){var w=pa(b.x,y.x),C=pa(b.y,y.y),N=pa(b.width,y.width),j=pa(b.height,y.height);return Ys(Ys({},y),{},{x:w(x),y:C(x),width:N(x),height:j(x)})}if(o==="horizontal"){var P=pa(0,y.height),k=P(x);return Ys(Ys({},y),{},{y:y.y+y.height-k,height:k})}var T=pa(0,y.width),O=T(x);return Ys(Ys({},y),{},{width:O})});return Ce.createElement(Lr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!XA(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Zt(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,A=Hqe(d,$qe);if(!f)return null;var m=Ys(Ys(Ys(Ys(Ys({},A),{},{fill:"#eee"},f),c),qA(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return Ce.createElement(r$,Jj({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=To(u,db);if(!f)return null;var A=d==="vertical"?o[0].height/2:o[0].width/2,m=function(y,v){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:Vs(y,v)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ce.createElement(Lr,x,f.map(function(g){return Ce.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:A,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,f=n.width,A=n.height,m=n.isAnimationActive,x=n.background,g=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,v=pr("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,C=b||w,N=fr(g)?this.id:g;return Ce.createElement(Lr,{className:v},b||w?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(N)},Ce.createElement("rect",{x:b?d:d-f/2,y:w?u:u-A/2,width:b?f:f*2,height:w?A:A*2}))):null,Ce.createElement(Lr,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,N),(!m||y)&&ad.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(_.PureComponent);jte=_u;Ph(_u,"displayName","Bar");Ph(_u,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ph(_u,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,A=e.offset,m=S9e(n,r);if(!m)return null;var x=t.layout,g=r.type.defaultProps,y=g!==void 0?Ys(Ys({},g),r.props):r.props,v=y.dataKey,b=y.children,w=y.minPointSize,C=x==="horizontal"?o:i,N=d?C.scale.domain():null,j=O9e({numericAxis:C}),P=To(b,V5),k=f.map(function(T,O){var B,F,M,R,H,G;d?B=B9e(d[u+O],N):(B=Vs(T,v),Array.isArray(B)||(B=[j,B]));var $=Qqe(w,jte.defaultProps.minPointSize)(B[1],O);if(x==="horizontal"){var V,te=[o.scale(B[0]),o.scale(B[1])],re=te[0],K=te[1];F=Y7({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:T,index:O}),M=(V=K??re)!==null&&V!==void 0?V:void 0,R=m.size;var z=re-K;if(H=Number.isNaN(z)?0:z,G={x:F,y:o.y,width:R,height:o.height},Math.abs($)>0&&Math.abs(H)<Math.abs($)){var ee=Si(H||$)*(Math.abs($)-Math.abs(H));M-=ee,H+=ee}}else{var W=[i.scale(B[0]),i.scale(B[1])],ne=W[0],se=W[1];if(F=ne,M=Y7({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:T,index:O}),R=se-ne,H=m.size,G={x:i.x,y:M,width:i.width,height:H},Math.abs($)>0&&Math.abs(R)<Math.abs($)){var ce=Si(R||$)*(Math.abs($)-Math.abs(R));R+=ce}}return Ys(Ys(Ys({},T),{},{x:F,y:M,width:R,height:H,value:d?B:B[1],payload:T,background:G},P&&P[O]&&P[O].props),{},{tooltipPayload:[Wee(r,T)],tooltipPosition:{x:F+R/2,y:M+H/2}})});return Ys({data:k,layout:x},A)});function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function Zqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cte(n.key),n)}}function Jqe(e,t,r){return t&&a$(e.prototype,t),r&&a$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(r),!0).forEach(function(n){l_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l_(e,t,r){return t=Cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cte(e){var t=eYe(e,"string");return vv(t)=="symbol"?t:t+""}function eYe(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gT=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},A=!!No(d,_u);return u.reduce(function(m,x){var g=r[x],y=g.orientation,v=g.domain,b=g.padding,w=b===void 0?{}:b,C=g.mirror,N=g.reversed,j="".concat(y).concat(C?"Mirror":""),P,k,T,O,B;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var F=v[1]-v[0],M=1/0,R=g.categoricalDomain.sort(h6e);if(R.forEach(function(W,ne){ne>0&&(M=Math.min((W||0)-(R[ne-1]||0),M))}),Number.isFinite(M)){var H=M/F,G=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(P=H*G/2),g.padding==="no-gap"){var $=Bi(t.barCategoryGap,H*G),V=H*G/2;P=V-$-(V-$)/G*$}}}a==="xAxis"?k=[n.left+(w.left||0)+(P||0),n.left+n.width-(w.right||0)-(P||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(P||0),n.top+n.height-(w.bottom||0)-(P||0)]:k=g.range,N&&(k=[k[1],k[0]]);var te=Hee(g,i,A),re=te.scale,K=te.realScaleType;re.domain(v).range(k),zee(re);var z=Vee(re,ec(ec({},g),{},{realScaleType:K}));a==="xAxis"?(B=y==="top"&&!C||y==="bottom"&&C,T=n.left,O=f[j]-B*g.height):a==="yAxis"&&(B=y==="left"&&!C||y==="right"&&C,T=f[j]-B*g.width,O=n.top);var ee=ec(ec(ec({},g),z),{},{realScaleType:K,x:T,y:O,scale:re,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return ee.bandSize=Rj(ee,z),!g.hide&&a==="xAxis"?f[j]+=(B?-1:1)*ee.height:g.hide||(f[j]+=(B?-1:1)*ee.width),ec(ec({},m),{},l_({},x,ee))},{})},Ste=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},tYe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Ste({x:r,y:n},{x:a,y:i})},Bte=function(){function e(t){Zqe(this,e),this.scale=t}return Jqe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();l_(Bte,"EPS",1e-4);var xT=function(t){var r=Object.keys(t).reduce(function(n,a){return ec(ec({},n),{},l_({},a,Bte.create(t[a])))},{});return ec(ec({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return bqe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return wte(a,function(i,o){return r[o].isInRange(i)})}})};function rYe(e){return(e%180+180)%180}var nYe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=rYe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},sYe=Nd,aYe=ab,iYe=$5;function oYe(e){return function(t,r,n){var a=Object(t);if(!aYe(t)){var i=sYe(r);t=iYe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var lYe=oYe,cYe=xte;function dYe(e){var t=cYe(e),r=t%1;return t===t?r?t-r:t:0}var uYe=dYe,hYe=jJ,fYe=Nd,AYe=uYe,mYe=Math.max;function pYe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:AYe(r);return a<0&&(a=mYe(n+a,0)),hYe(e,fYe(t),a)}var gYe=pYe,xYe=lYe,yYe=gYe,vYe=xYe(yYe),bYe=vYe;const wYe=sn(bYe);var jYe=mPe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),yT=_.createContext(void 0),vT=_.createContext(void 0),kte=_.createContext(void 0),Ete=_.createContext({}),Pte=_.createContext(void 0),Ite=_.createContext(0),Tte=_.createContext(0),o$=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=jYe(i);return Ce.createElement(yT.Provider,{value:n},Ce.createElement(vT.Provider,{value:a},Ce.createElement(Ete.Provider,{value:i},Ce.createElement(kte.Provider,{value:u},Ce.createElement(Pte.Provider,{value:o},Ce.createElement(Ite.Provider,{value:d},Ce.createElement(Tte.Provider,{value:c},l)))))))},NYe=function(){return _.useContext(Pte)},Ote=function(t){var r=_.useContext(yT);r==null&&JA();var n=r[t];return n==null&&JA(),n},_Ye=function(){var t=_.useContext(yT);return bh(t)},CYe=function(){var t=_.useContext(vT),r=wYe(t,function(n){return wte(n.domain,Number.isFinite)});return r||bh(t)},Lte=function(t){var r=_.useContext(vT);r==null&&JA();var n=r[t];return n==null&&JA(),n},SYe=function(){var t=_.useContext(kte);return t},BYe=function(){return _.useContext(Ete)},bT=function(){return _.useContext(Tte)},wT=function(){return _.useContext(Ite)};function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function kYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rte(n.key),n)}}function PYe(e,t,r){return t&&EYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IYe(e,t,r){return t=tN(t),TYe(e,Fte()?Reflect.construct(t,r||[],tN(e).constructor):t.apply(e,r))}function TYe(e,t){if(t&&(Sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OYe(e)}function OYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fte=function(){return!!e})()}function tN(e){return tN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tN(e)}function LYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t3(e,t)}function l$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l$(Object(r),!0).forEach(function(n){jT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jT(e,t,r){return t=Rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=FYe(e,"string");return Sg(t)=="symbol"?t:t+""}function FYe(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function RYe(e,t){return QYe(e)||MYe(e,t)||DYe(e,t)||UYe()}function UYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DYe(e,t){if(e){if(typeof e=="string")return d$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d$(e,t)}}function d$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MYe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function QYe(e){if(Array.isArray(e))return e}function r3(){return r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r3.apply(this,arguments)}var $Ye=function(t,r){var n;return Ce.isValidElement(t)?n=Ce.cloneElement(t,r):ir(t)?n=t(r):n=Ce.createElement("line",r3({},r,{className:"recharts-reference-line-line"})),n},HYe=function(t,r,n,a,i,o,l,c,d){var u=i.x,f=i.y,A=i.width,m=i.height;if(n){var x=d.y,g=t.y.apply(x,{position:o});if(id(d,"discard")&&!t.y.isInRange(g))return null;var y=[{x:u+A,y:g},{x:u,y:g}];return c==="left"?y.reverse():y}if(r){var v=d.x,b=t.x.apply(v,{position:o});if(id(d,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var C=d.segment,N=C.map(function(j){return t.apply(j,{position:o})});return id(d,"discard")&&fqe(N,function(j){return!t.isInRange(j)})?null:N}return null};function zYe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=NYe(),u=Ote(a),f=Lte(i),A=SYe();if(!d||!A)return null;uc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=xT({x:u.scale,y:f.scale}),x=xa(t),g=xa(r),y=n&&n.length===2,v=HYe(m,x,g,y,A,e.position,u.orientation,f.orientation,e);if(!v)return null;var b=RYe(v,2),w=b[0],C=w.x,N=w.y,j=b[1],P=j.x,k=j.y,T=id(e,"hidden")?"url(#".concat(d,")"):void 0,O=c$(c$({clipPath:T},Zt(e,!0)),{},{x1:C,y1:N,x2:P,y2:k});return Ce.createElement(Lr,{className:pr("recharts-reference-line",l)},$Ye(o,O),_a.renderCallByParent(e,tYe({x1:C,y1:N,x2:P,y2:k})))}var NT=function(e){function t(){return kYe(this,t),IYe(this,t,arguments)}return LYe(t,e),PYe(t,[{key:"render",value:function(){return Ce.createElement(zYe,this.props)}}])}(Ce.Component);jT(NT,"displayName","ReferenceLine");jT(NT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function n3(){return n3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n3.apply(this,arguments)}function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function u$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u$(Object(r),!0).forEach(function(n){c_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dte(n.key),n)}}function WYe(e,t,r){return t&&KYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GYe(e,t,r){return t=rN(t),qYe(e,Ute()?Reflect.construct(t,r||[],rN(e).constructor):t.apply(e,r))}function qYe(e,t){if(t&&(Bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YYe(e)}function YYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ute(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ute=function(){return!!e})()}function rN(e){return rN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rN(e)}function XYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s3(e,t)}function c_(e,t,r){return t=Dte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dte(e){var t=ZYe(e,"string");return Bg(t)=="symbol"?t:t+""}function ZYe(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JYe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=xT({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return id(t,"discard")&&!o.isInRange(l)?null:l},d_=function(e){function t(){return VYe(this,t),GYe(this,t,arguments)}return XYe(t,e),WYe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=xa(a),u=xa(i);if(uc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=JYe(this.props);if(!f)return null;var A=f.x,m=f.y,x=this.props,g=x.shape,y=x.className,v=id(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=h$(h$({clipPath:v},Zt(this.props,!0)),{},{cx:A,cy:m});return Ce.createElement(Lr,{className:pr("recharts-reference-dot",y)},t.renderDot(g,b),_a.renderCallByParent(this.props,{x:A-o,y:m-o,width:2*o,height:2*o}))}}])}(Ce.Component);c_(d_,"displayName","ReferenceDot");c_(d_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});c_(d_,"renderDot",function(e,t){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,t):ir(e)?r=e(t):r=Ce.createElement(ub,n3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function a3(){return a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a3.apply(this,arguments)}function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(n){u_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tXe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qte(n.key),n)}}function rXe(e,t,r){return t&&tXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nXe(e,t,r){return t=nN(t),sXe(e,Mte()?Reflect.construct(t,r||[],nN(e).constructor):t.apply(e,r))}function sXe(e,t){if(t&&(kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aXe(e)}function aXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mte=function(){return!!e})()}function nN(e){return nN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nN(e)}function iXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i3(e,t)}function u_(e,t,r){return t=Qte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=oXe(e,"string");return kg(t)=="symbol"?t:t+""}function oXe(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lXe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var A=xT({x:u.scale,y:f.scale}),m={x:t?A.x.apply(o,{position:"start"}):A.x.rangeMin,y:n?A.y.apply(c,{position:"start"}):A.y.rangeMin},x={x:r?A.x.apply(l,{position:"end"}):A.x.rangeMax,y:a?A.y.apply(d,{position:"end"}):A.y.rangeMax};return id(i,"discard")&&(!A.isInRange(m)||!A.isInRange(x))?null:Ste(m,x)},h_=function(e){function t(){return eXe(this,t),nXe(this,t,arguments)}return iXe(t,e),rXe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;uc(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xa(a),A=xa(i),m=xa(o),x=xa(l),g=this.props.shape;if(!f&&!A&&!m&&!x&&!g)return null;var y=lXe(f,A,m,x,this.props);if(!y&&!g)return null;var v=id(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ce.createElement(Lr,{className:pr("recharts-reference-area",c)},t.renderRect(g,A$(A$({clipPath:v},Zt(this.props,!0)),y)),_a.renderCallByParent(this.props,y))}}])}(Ce.Component);u_(h_,"displayName","ReferenceArea");u_(h_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});u_(h_,"renderRect",function(e,t){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,t):ir(e)?r=e(t):r=Ce.createElement(pT,a3({},t,{className:"recharts-reference-area-rect"})),r});function $te(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function cXe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return nYe(n,r)}function dXe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function sN(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function uXe(e,t){return $te(e,t+1)}function hXe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:$te(n,d)};var g=c,y,v=function(){return y===void 0&&(y=r(x,g)),y},b=x.coordinate,w=c===0||sN(e,b,v,u,l);w||(c=0,u=o,d+=1),w&&(u=b+e*(v()/2+a),c+=d)},A;d<=i.length;)if(A=f(),A)return A.v;return[]}function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function m$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(r),!0).forEach(function(n){fXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fXe(e,t,r){return t=AXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AXe(e){var t=mXe(e,"string");return bv(t)=="symbol"?t:t+""}function mXe(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pXe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(A){var m=i[A],x,g=function(){return x===void 0&&(x=r(m,A)),x};if(A===o-1){var y=e*(m.coordinate+e*g()/2-c);i[A]=m=ii(ii({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[A]=m=ii(ii({},m),{},{tickCoord:m.coordinate});var v=sN(e,m.tickCoord,g,l,c);v&&(c=m.tickCoord-e*(g()/2+a),i[A]=ii(ii({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function gXe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=n[l-1],f=r(u,l-1),A=e*(u.coordinate+e*f/2-d);o[l-1]=u=ii(ii({},u),{},{tickCoord:A>0?u.coordinate-A*e:u.coordinate});var m=sN(e,u.tickCoord,function(){return f},c,d);m&&(d=u.tickCoord-e*(f/2+a),o[l-1]=ii(ii({},u),{},{isShow:!0}))}for(var x=i?l-1:l,g=function(b){var w=o[b],C,N=function(){return C===void 0&&(C=r(w,b)),C};if(b===0){var j=e*(w.coordinate-e*N()/2-c);o[b]=w=ii(ii({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else o[b]=w=ii(ii({},w),{},{tickCoord:w.coordinate});var P=sN(e,w.tickCoord,N,c,d);P&&(c=w.tickCoord+e*(N()/2+a),o[b]=ii(ii({},w),{},{isShow:!0}))},y=0;y<x;y++)g(y);return o}function _T(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(_t(c)||mf.isSsr)return uXe(a,typeof c=="number"&&_t(c)?c:0);var A=[],m=l==="top"||l==="bottom"?"width":"height",x=u&&m==="width"?Jx(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(w,C){var N=ir(d)?d(w.value,C):w.value;return m==="width"?cXe(Jx(N,{fontSize:t,letterSpacing:r}),x,f):Jx(N,{fontSize:t,letterSpacing:r})[m]},y=a.length>=2?Si(a[1].coordinate-a[0].coordinate):1,v=dXe(i,y,m);return c==="equidistantPreserveStart"?hXe(y,v,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?A=gXe(y,v,g,a,o,c==="preserveStartEnd"):A=pXe(y,v,g,a,o),A.filter(function(b){return b.isShow}))}var xXe=["viewBox"],yXe=["viewBox"],vXe=["ticks"];function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(this,arguments)}function p$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(r),!0).forEach(function(n){CT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c4(e,t){if(e==null)return{};var r=bXe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zte(n.key),n)}}function jXe(e,t,r){return t&&g$(e.prototype,t),r&&g$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NXe(e,t,r){return t=aN(t),_Xe(e,Hte()?Reflect.construct(t,r||[],aN(e).constructor):t.apply(e,r))}function _Xe(e,t){if(t&&(Eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CXe(e)}function CXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hte=function(){return!!e})()}function aN(e){return aN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aN(e)}function SXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o3(e,t)}function o3(e,t){return o3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},o3(e,t)}function CT(e,t,r){return t=zte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zte(e){var t=BXe(e,"string");return Eg(t)=="symbol"?t:t+""}function BXe(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var A0=function(e){function t(r){var n;return wXe(this,t),n=NXe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return SXe(t,e),jXe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=c4(n,xXe),l=this.props,c=l.viewBox,d=c4(l,yXe);return!Kp(i,c)||!Kp(o,d)||!Kp(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,f=a.mirror,A=a.tickMargin,m,x,g,y,v,b,w=f?-1:1,C=n.tickSize||u,N=_t(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":m=x=n.coordinate,y=o+ +!f*c,g=y-w*C,b=g-w*A,v=N;break;case"left":g=y=n.coordinate,x=i+ +!f*l,m=x-w*C,v=m-w*A,b=N;break;case"right":g=y=n.coordinate,x=i+ +f*l,m=x+w*C,v=m+w*A,b=N;break;default:m=x=n.coordinate,y=o+ +f*c,g=y+w*C,b=g+w*A,v=N;break}return{line:{x1:m,y1:g,x2:x,y2:y},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,f=ha(ha(ha({},Zt(this.props,!1)),Zt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var A=+(c==="top"&&!d||c==="bottom"&&d);f=ha(ha({},f),{},{x1:a,y1:i+A*l,x2:a+o,y2:i+A*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);f=ha(ha({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return Ce.createElement("line",wp({},f,{className:pr("recharts-cartesian-axis-line",Io(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,A=l.unit,m=_T(ha(ha({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Zt(this.props,!1),v=Zt(u,!1),b=ha(ha({},y),{},{fill:"none"},Zt(c,!1)),w=m.map(function(C,N){var j=o.getTickLineCoord(C),P=j.line,k=j.tick,T=ha(ha(ha(ha({textAnchor:x,verticalAnchor:g},y),{},{stroke:"none",fill:d},v),k),{},{index:N,payload:C,visibleTicksCount:m.length,tickFormatter:f});return Ce.createElement(Lr,wp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},qA(o.props,C,N)),c&&Ce.createElement("line",wp({},b,P,{className:pr("recharts-cartesian-axis-tick-line",Io(c,"className"))})),u&&t.renderTickItem(u,T,"".concat(ir(f)?f(C.value,N):C.value).concat(A||"")))});return Ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var f=this.props,A=f.ticks,m=c4(f,vXe),x=A;return ir(c)&&(x=A&&A.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:Ce.createElement(Lr,{className:pr("recharts-cartesian-axis",d),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),_a.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=pr(a.className,"recharts-cartesian-axis-tick-value");return Ce.isValidElement(n)?o=Ce.cloneElement(n,ha(ha({},a),{},{className:l})):ir(n)?o=n(ha(ha({},a),{},{className:l})):o=Ce.createElement(YA,wp({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(_.Component);CT(A0,"displayName","CartesianAxis");CT(A0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kXe=["x1","y1","x2","y2","key"],EXe=["offset"];function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function x$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(r),!0).forEach(function(n){PXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PXe(e,t,r){return t=IXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IXe(e){var t=TXe(e,"string");return em(t)=="symbol"?t:t+""}function TXe(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dA(){return dA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dA.apply(this,arguments)}function y$(e,t){if(e==null)return{};var r=OXe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LXe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return Ce.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Vte(e,t){var r;if(Ce.isValidElement(e))r=Ce.cloneElement(e,t);else if(ir(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=y$(t,kXe),d=Zt(c,!1);d.offset;var u=y$(d,EXe);r=Ce.createElement("line",dA({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function FXe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=di(di({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Vte(a,d)});return Ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function RXe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=di(di({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Vte(a,d)});return Ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function UXe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(A){return Math.round(A+a-a)}).sort(function(A,m){return A-m});a!==u[0]&&u.unshift(0);var f=u.map(function(A,m){var x=!u[m+1],g=x?a+o-A:u[m+1]-A;if(g<=0)return null;var y=m%t.length;return Ce.createElement("rect",{key:"react-".concat(m),y:A,x:n,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function DXe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(A){return Math.round(A+i-i)}).sort(function(A,m){return A-m});i!==u[0]&&u.unshift(0);var f=u.map(function(A,m){var x=!u[m+1],g=x?i+l-A:u[m+1]-A;if(g<=0)return null;var y=m%n.length;return Ce.createElement("rect",{key:"react-".concat(m),x:A,y:o,width:g,height:c,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var MXe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return $ee(_T(di(di(di({},A0.defaultProps),n),{},{ticks:tu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},QXe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return $ee(_T(di(di(di({},A0.defaultProps),n),{},{ticks:tu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Km={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CA(e){var t,r,n,a,i,o,l=bT(),c=wT(),d=BYe(),u=di(di({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Km.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Km.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Km.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Km.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Km.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Km.verticalFill,x:_t(e.x)?e.x:d.left,y:_t(e.y)?e.y:d.top,width:_t(e.width)?e.width:d.width,height:_t(e.height)?e.height:d.height}),f=u.x,A=u.y,m=u.width,x=u.height,g=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,b=_Ye(),w=CYe();if(!_t(m)||m<=0||!_t(x)||x<=0||!_t(f)||f!==+f||!_t(A)||A!==+A)return null;var C=u.verticalCoordinatesGenerator||MXe,N=u.horizontalCoordinatesGenerator||QXe,j=u.horizontalPoints,P=u.verticalPoints;if((!j||!j.length)&&ir(N)){var k=y&&y.length,T=N({yAxis:w?di(di({},w),{},{ticks:k?y:w.ticks}):void 0,width:l,height:c,offset:d},k?!0:g);uc(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(em(T),"]")),Array.isArray(T)&&(j=T)}if((!P||!P.length)&&ir(C)){var O=v&&v.length,B=C({xAxis:b?di(di({},b),{},{ticks:O?v:b.ticks}):void 0,width:l,height:c,offset:d},O?!0:g);uc(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(em(B),"]")),Array.isArray(B)&&(P=B)}return Ce.createElement("g",{className:"recharts-cartesian-grid"},Ce.createElement(LXe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ce.createElement(FXe,dA({},u,{offset:d,horizontalPoints:j,xAxis:b,yAxis:w})),Ce.createElement(RXe,dA({},u,{offset:d,verticalPoints:P,xAxis:b,yAxis:w})),Ce.createElement(UXe,dA({},u,{horizontalPoints:j})),Ce.createElement(DXe,dA({},u,{verticalPoints:P})))}CA.displayName="CartesianGrid";var $Xe=["type","layout","connectNulls","ref"],HXe=["key"];function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function v$(e,t){if(e==null)return{};var r=zXe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ay.apply(this,arguments)}function b$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b$(Object(r),!0).forEach(function(n){tc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wm(e){return GXe(e)||WXe(e)||KXe(e)||VXe()}function VXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KXe(e,t){if(e){if(typeof e=="string")return l3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l3(e,t)}}function WXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GXe(e){if(Array.isArray(e))return l3(e)}function l3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wte(n.key),n)}}function YXe(e,t,r){return t&&w$(e.prototype,t),r&&w$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XXe(e,t,r){return t=iN(t),ZXe(e,Kte()?Reflect.construct(t,r||[],iN(e).constructor):t.apply(e,r))}function ZXe(e,t){if(t&&(Pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JXe(e)}function JXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kte=function(){return!!e})()}function iN(e){return iN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iN(e)}function eZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c3(e,t)}function c3(e,t){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c3(e,t)}function tc(e,t,r){return t=Wte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wte(e){var t=tZe(e,"string");return Pg(t)=="symbol"?t:t+""}function tZe(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tm=function(e){function t(){var r;qXe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=XXe(this,t,[].concat(a)),tc(r,"state",{isAnimationFinished:!0,totalLength:0}),tc(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),tc(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(v,b){return v+b});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,A=l-o,m=[],x=0,g=0;x<c.length;g+=c[x],++x)if(g+c[x]>f){m=[].concat(Wm(c.slice(0,x)),[f-g]);break}var y=m.length%2===0?[0,A]:[A];return[].concat(Wm(t.repeat(c,u)),Wm(m),y).map(function(v){return"".concat(v,"px")}).join(", ")}),tc(r,"id",fm("recharts-line-")),tc(r,"pathRef",function(o){r.mainCurve=o}),tc(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),tc(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return eZe(t,e),YXe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=To(u,db);if(!f)return null;var A=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Vs(g.payload,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ce.createElement(Lr,m,f.map(function(x){return Ce.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:A})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=Zt(this.props,!1),A=Zt(c,!0),m=d.map(function(g,y){var v=bo(bo(bo({key:"dot-".concat(y),r:3},f),A),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:d});return t.renderDotItem(c,v)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ce.createElement(Lr,ay({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=v$(l,$Xe),A=bo(bo(bo({},Zt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return Ce.createElement(_A,ay({},A,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,A=o.animationEasing,m=o.animationId,x=o.animateNewValues,g=o.width,y=o.height,v=this.state,b=v.prevPoints,w=v.totalLength;return Ce.createElement(yc,{begin:u,duration:f,isActive:d,easing:A,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var N=C.t;if(b){var j=b.length/l.length,P=l.map(function(F,M){var R=Math.floor(M*j);if(b[R]){var H=b[R],G=pa(H.x,F.x),$=pa(H.y,F.y);return bo(bo({},F),{},{x:G(N),y:$(N)})}if(x){var V=pa(g*2,F.x),te=pa(y/2,F.y);return bo(bo({},F),{},{x:V(N),y:te(N)})}return bo(bo({},F),{},{x:F.x,y:F.y})});return i.renderCurveStatically(P,n,a)}var k=pa(0,w),T=k(N),O;if(c){var B="".concat(c).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});O=i.getStrokeDasharray(T,w,B)}else O=i.generateSimpleStrokeDasharray(w,T);return i.renderCurveStatically(l,n,a,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!XA(d,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,f=a.top,A=a.left,m=a.width,x=a.height,g=a.isAnimationActive,y=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,b=l.length===1,w=pr("recharts-line",c),C=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,j=C||N,P=fr(y)?this.id:y,k=(n=Zt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=k.r,O=T===void 0?3:T,B=k.strokeWidth,F=B===void 0?2:B,M=OZ(o)?o:{},R=M.clipDot,H=R===void 0?!0:R,G=O*2+F;return Ce.createElement(Lr,{className:w},C||N?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(P)},Ce.createElement("rect",{x:C?A:A-m/2,y:N?f:f-x/2,width:C?m:m*2,height:N?x:x*2})),!H&&Ce.createElement("clipPath",{id:"clipPath-dots-".concat(P)},Ce.createElement("rect",{x:A-G/2,y:f-G/2,width:m+G,height:x+G}))):null,!b&&this.renderCurve(j,P),this.renderErrorBar(j,P),(b||o)&&this.renderDots(j,H,P),(!g||v)&&ad.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Wm(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Wm(o),Wm(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Ce.isValidElement(n))i=Ce.cloneElement(n,a);else if(ir(n))i=n(a);else{var o=a.key,l=v$(a,HXe),c=pr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ce.createElement(ub,ay({key:o},l,{className:c}))}return i}}])}(_.PureComponent);tc(tm,"displayName","Line");tc(tm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mf.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});tc(tm,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(A,m){var x=Vs(A,o);return u==="horizontal"?{x:Fj({axis:r,ticks:a,bandSize:l,entry:A,index:m}),y:fr(x)?null:n.scale(x),value:x,payload:A}:{x:fr(x)?null:r.scale(x),y:Fj({axis:n,ticks:i,bandSize:l,entry:A,index:m}),value:x,payload:A}});return bo({points:f,layout:u},d)});var rZe=["layout","type","stroke","connectNulls","isRange","ref"],nZe=["key"],Gte;function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function qte(e,t){if(e==null)return{};var r=sZe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uA(){return uA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uA.apply(this,arguments)}function j$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(r),!0).forEach(function(n){Gc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xte(n.key),n)}}function iZe(e,t,r){return t&&N$(e.prototype,t),r&&N$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oZe(e,t,r){return t=oN(t),lZe(e,Yte()?Reflect.construct(t,r||[],oN(e).constructor):t.apply(e,r))}function lZe(e,t){if(t&&(Ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cZe(e)}function cZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yte=function(){return!!e})()}function oN(e){return oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oN(e)}function dZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d3(e,t)}function d3(e,t){return d3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d3(e,t)}function Gc(e,t,r){return t=Xte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xte(e){var t=uZe(e,"string");return Ig(t)=="symbol"?t:t+""}function uZe(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ou=function(e){function t(){var r;aZe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=oZe(this,t,[].concat(a)),Gc(r,"state",{isAnimationFinished:!0}),Gc(r,"id",fm("recharts-area-")),Gc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ir(o)&&o()}),Gc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ir(o)&&o()}),r}return dZe(t,e),iZe(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,f=c.dataKey,A=Zt(this.props,!1),m=Zt(d,!0),x=u.map(function(y,v){var b=uh(uh(uh({key:"dot-".concat(v),r:3},A),m),{},{index:v,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:u});return t.renderDotItem(d,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ce.createElement(Lr,uA({className:"recharts-area-dots"},g),x)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=n*Math.abs(c-d),f=Eh(o.map(function(A){return A.y||0}));return _t(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Eh(i.map(function(A){return A.y||0})),f)),_t(f)?Ce.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=n*Math.abs(c-d),f=Eh(o.map(function(A){return A.x||0}));return _t(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Eh(i.map(function(A){return A.x||0})),f)),_t(f)?Ce.createElement("rect",{x:0,y:c<d?c:c-u,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,f=l.connectNulls,A=l.isRange;l.ref;var m=qte(l,rZe);return Ce.createElement(Lr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Ce.createElement(_A,uA({},Zt(m,!0),{points:n,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Ce.createElement(_A,uA({},Zt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:n})),u!=="none"&&A&&Ce.createElement(_A,uA({},Zt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,A=o.animationEasing,m=o.animationId,x=this.state,g=x.prevPoints,y=x.prevBaseLine;return Ce.createElement(yc,{begin:u,duration:f,isActive:d,easing:A,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(g){var w=g.length/l.length,C=l.map(function(k,T){var O=Math.floor(T*w);if(g[O]){var B=g[O],F=pa(B.x,k.x),M=pa(B.y,k.y);return uh(uh({},k),{},{x:F(b),y:M(b)})}return k}),N;if(_t(c)&&typeof c=="number"){var j=pa(y,c);N=j(b)}else if(fr(c)||o0(c)){var P=pa(y,0);N=P(b)}else N=c.map(function(k,T){var O=Math.floor(T*w);if(y[O]){var B=y[O],F=pa(B.x,k.x),M=pa(B.y,k.y);return uh(uh({},k),{},{x:F(b),y:M(b)})}return k});return i.renderAreaStatically(C,N,n,a)}return Ce.createElement(Lr,null,Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(b))),Ce.createElement(Lr,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,f=d.prevBaseLine,A=d.totalLength;return c&&o&&o.length&&(!u&&A>0||!XA(u,o)||!XA(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,f=a.xAxis,A=a.yAxis,m=a.width,x=a.height,g=a.isAnimationActive,y=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,b=l.length===1,w=pr("recharts-area",c),C=f&&f.allowDataOverflow,N=A&&A.allowDataOverflow,j=C||N,P=fr(y)?this.id:y,k=(n=Zt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=k.r,O=T===void 0?3:T,B=k.strokeWidth,F=B===void 0?2:B,M=OZ(o)?o:{},R=M.clipDot,H=R===void 0?!0:R,G=O*2+F;return Ce.createElement(Lr,{className:w},C||N?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(P)},Ce.createElement("rect",{x:C?u:u-m/2,y:N?d:d-x/2,width:C?m:m*2,height:N?x:x*2})),!H&&Ce.createElement("clipPath",{id:"clipPath-dots-".concat(P)},Ce.createElement("rect",{x:u-G/2,y:d-G/2,width:m+G,height:x+G}))):null,b?null:this.renderArea(j,P),(o||b)&&this.renderDots(j,H,P),(!g||v)&&ad.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(_.PureComponent);Gte=Ou;Gc(Ou,"displayName","Area");Gc(Ou,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!mf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Gc(Ou,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(_t(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Gc(Ou,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,A=e.offset,m=t.layout,x=d&&d.length,g=Gte.getBaseValue(t,r,n,a),y=m==="horizontal",v=!1,b=f.map(function(C,N){var j;x?j=d[u+N]:(j=Vs(C,c),Array.isArray(j)?v=!0:j=[g,j]);var P=j[1]==null||x&&Vs(C,c)==null;return y?{x:Fj({axis:n,ticks:i,bandSize:l,entry:C,index:N}),y:P?null:a.scale(j[1]),value:j,payload:C}:{x:P?null:n.scale(j[1]),y:Fj({axis:a,ticks:o,bandSize:l,entry:C,index:N}),value:j,payload:C}}),w;return x||v?w=b.map(function(C){var N=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:N!=null&&C.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:C.y}}):w=y?a.scale(g):n.scale(g),uh({points:b,baseLine:w,layout:m,isRange:v},A)});Gc(Ou,"renderDotItem",function(e,t){var r;if(Ce.isValidElement(e))r=Ce.cloneElement(e,t);else if(ir(e))r=e(t);else{var n=pr("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=qte(t,nZe);r=Ce.createElement(ub,uA({},i,{key:a,className:n}))}return r});function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function hZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fZe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ere(n.key),n)}}function AZe(e,t,r){return t&&fZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mZe(e,t,r){return t=lN(t),pZe(e,Zte()?Reflect.construct(t,r||[],lN(e).constructor):t.apply(e,r))}function pZe(e,t){if(t&&(Tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gZe(e)}function gZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zte=function(){return!!e})()}function lN(e){return lN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lN(e)}function xZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u3(e,t)}function u3(e,t){return u3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u3(e,t)}function Jte(e,t,r){return t=ere(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ere(e){var t=yZe(e,"string");return Tg(t)=="symbol"?t:t+""}function yZe(e,t){if(Tg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function h3(){return h3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h3.apply(this,arguments)}function vZe(e){var t=e.xAxisId,r=bT(),n=wT(),a=Ote(t);return a==null?null:_.createElement(A0,h3({},a,{className:pr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return tu(o,!0)}}))}var hc=function(e){function t(){return hZe(this,t),mZe(this,t,arguments)}return xZe(t,e),AZe(t,[{key:"render",value:function(){return _.createElement(vZe,this.props)}}])}(_.Component);Jte(hc,"displayName","XAxis");Jte(hc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function bZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wZe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nre(n.key),n)}}function jZe(e,t,r){return t&&wZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NZe(e,t,r){return t=cN(t),_Ze(e,tre()?Reflect.construct(t,r||[],cN(e).constructor):t.apply(e,r))}function _Ze(e,t){if(t&&(Og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CZe(e)}function CZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tre=function(){return!!e})()}function cN(e){return cN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cN(e)}function SZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f3(e,t)}function f3(e,t){return f3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f3(e,t)}function rre(e,t,r){return t=nre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nre(e){var t=BZe(e,"string");return Og(t)=="symbol"?t:t+""}function BZe(e,t){if(Og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function A3(){return A3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A3.apply(this,arguments)}var kZe=function(t){var r=t.yAxisId,n=bT(),a=wT(),i=Lte(r);return i==null?null:_.createElement(A0,A3({},i,{className:pr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return tu(l,!0)}}))},ml=function(e){function t(){return bZe(this,t),NZe(this,t,arguments)}return SZe(t,e),jZe(t,[{key:"render",value:function(){return _.createElement(kZe,this.props)}}])}(_.Component);rre(ml,"displayName","YAxis");rre(ml,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _$(e){return TZe(e)||IZe(e)||PZe(e)||EZe()}function EZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PZe(e,t){if(e){if(typeof e=="string")return m3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(e,t)}}function IZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TZe(e){if(Array.isArray(e))return m3(e)}function m3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p3=function(t,r,n,a,i){var o=To(t,NT),l=To(t,d_),c=[].concat(_$(o),_$(l)),d=To(t,h_),u="".concat(a,"Id"),f=a[0],A=r;if(c.length&&(A=c.reduce(function(g,y){if(y.props[u]===n&&id(y.props,"extendDomain")&&_t(y.props[f])){var v=y.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},A)),d.length){var m="".concat(f,"1"),x="".concat(f,"2");A=d.reduce(function(g,y){if(y.props[u]===n&&id(y.props,"extendDomain")&&_t(y.props[m])&&_t(y.props[x])){var v=y.props[m],b=y.props[x];return[Math.min(g[0],v,b),Math.max(g[1],v,b)]}return g},A)}return i&&i.length&&(A=i.reduce(function(g,y){return _t(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},A)),A},sre={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,A){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,f||c,A),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var A=0,m=f.length,x=new Array(m);A<m;A++)x[A]=f[A].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,A,m,x){var g=r?r+d:d;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,A),!0;case 5:return y.fn.call(y.context,u,f,A,m),!0;case 6:return y.fn.call(y.context,u,f,A,m,x),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var C=y.length,N;for(w=0;w<C;w++)switch(y[w].once&&this.removeListener(d,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,f);break;case 4:y[w].fn.call(y[w].context,u,f,A);break;default:if(!b)for(N=1,b=new Array(v-1);N<v;N++)b[N-1]=arguments[N];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,A){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===u&&(!A||x.once)&&(!f||x.context===f)&&o(this,m);else{for(var g=0,y=[],v=x.length;g<v;g++)(x[g].fn!==u||A&&!x[g].once||f&&x[g].context!==f)&&y.push(x[g]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(sre);var OZe=sre.exports;const LZe=sn(OZe);var d4=new LZe,u4="recharts.syncMouseEvents";function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function FZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RZe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,are(n.key),n)}}function UZe(e,t,r){return t&&RZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h4(e,t,r){return t=are(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function are(e){var t=DZe(e,"string");return wv(t)=="symbol"?t:t+""}function DZe(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MZe=function(){function e(){FZe(this,e),h4(this,"activeIndex",0),h4(this,"coordinateList",[]),h4(this,"layout","horizontal")}return UZe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,A=r.mouseHandlerCallback,m=A===void 0?null:A;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+d,A=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:A})}}}])}();function QZe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&_t(n)&&_t(a))return!0}return!1}function $Ze(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ire(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=zn(t,r,n,a),l=zn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function HZe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,A=zn(l,c,d,f),m=zn(l,c,u,f);n=A.x,a=A.y,i=m.x,o=m.y}else return ire(t);return[{x:n,y:a},{x:i,y:o}]}function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function C$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C$(Object(r),!0).forEach(function(n){zZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zZe(e,t,r){return t=VZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZe(e){var t=KZe(e,"string");return jv(t)=="symbol"?t:t+""}function KZe(e,t){if(jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WZe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,A=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||A!=="ScatterChart"&&a!=="axis")return null;var x,g=_A;if(A==="ScatterChart")x=o,g=tWe;else if(A==="BarChart")x=$Ze(f,o,c,u),g=pT;else if(f==="radial"){var y=ire(o),v=y.cx,b=y.cy,w=y.radius,C=y.startAngle,N=y.endAngle;x={cx:v,cy:b,startAngle:C,endAngle:N,innerRadius:w,outerRadius:w},g=Jee}else x={points:HZe(f,o,c)},g=_A;var j=Jw(Jw(Jw(Jw({stroke:"#ccc",pointerEvents:"none"},c),x),Zt(m,!1)),{},{payload:l,payloadIndex:d,className:pr("recharts-tooltip-cursor",m.className)});return _.isValidElement(m)?_.cloneElement(m,j):_.createElement(g,j)}var GZe=["item"],qZe=["children","className","width","height","style","compact","title","desc"];function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}function S$(e,t){return ZZe(e)||XZe(e,t)||lre(e,t)||YZe()}function YZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XZe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ZZe(e){if(Array.isArray(e))return e}function B$(e,t){if(e==null)return{};var r=JZe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cre(n.key),n)}}function rJe(e,t,r){return t&&tJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nJe(e,t,r){return t=dN(t),sJe(e,ore()?Reflect.construct(t,r||[],dN(e).constructor):t.apply(e,r))}function sJe(e,t){if(t&&(Lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aJe(e)}function aJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ore(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ore=function(){return!!e})()}function dN(e){return dN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dN(e)}function iJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g3(e,t)}function g3(e,t){return g3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g3(e,t)}function Fg(e){return cJe(e)||lJe(e)||lre(e)||oJe()}function oJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lre(e,t){if(e){if(typeof e=="string")return x3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x3(e,t)}}function lJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cJe(e){if(Array.isArray(e))return x3(e)}function x3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k$(Object(r),!0).forEach(function(n){sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sr(e,t,r){return t=cre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cre(e){var t=dJe(e,"string");return Lg(t)=="symbol"?t:t+""}function dJe(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uJe={xAxis:["bottom","top"],yAxis:["left","right"]},hJe={width:"100%",height:"100%"},dre={x:0,y:0};function e1(e){return e}var fJe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},AJe=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return st(st(st({},a),zn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return st(st(st({},a),zn(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return dre},f_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Fg(l),Fg(d)):l},[]);return o.length>0?o:t&&t.length&&_t(a)&&_t(i)?t.slice(a,i+1):[]};function ure(e){return e==="number"?[0,"auto"]:void 0}var y3=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=f_(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var A;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;A=lj(m,o.dataKey,a)}else A=f&&f[n]||l[n];return A?[].concat(Fg(c),[Wee(d,A)]):c},[])},E$=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=fJe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=b9e(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,A=y3(t,r,u,f),m=AJe(n,l,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:A,activeCoordinate:m}}return null},mJe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,A=t.stackOffset,m=Qee(u,i);return n.reduce(function(x,g){var y,v=g.type.defaultProps!==void 0?st(st({},g.type.defaultProps),g.props):g.props,b=v.type,w=v.dataKey,C=v.allowDataOverflow,N=v.allowDuplicatedCategory,j=v.scale,P=v.ticks,k=v.includeHidden,T=v[o];if(x[T])return x;var O=f_(t.data,{graphicalItems:a.filter(function(z){var ee,W=o in z.props?z.props[o]:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee[o];return W===T}),dataStartIndex:c,dataEndIndex:d}),B=O.length,F,M,R;QZe(v.domain,C,b)&&(F=IE(v.domain,null,C),m&&(b==="number"||j!=="auto")&&(R=ty(O,w,"category")));var H=ure(b);if(!F||F.length===0){var G,$=(G=v.domain)!==null&&G!==void 0?G:H;if(w){if(F=ty(O,w,b),b==="category"&&m){var V=u6e(F);N&&V?(M=F,F=Yj(0,B)):N||(F=J7($,F,g).reduce(function(z,ee){return z.indexOf(ee)>=0?z:[].concat(Fg(z),[ee])},[]))}else if(b==="category")N?F=F.filter(function(z){return z!==""&&!fr(z)}):F=J7($,F,g).reduce(function(z,ee){return z.indexOf(ee)>=0||ee===""||fr(ee)?z:[].concat(Fg(z),[ee])},[]);else if(b==="number"){var te=C9e(O,a.filter(function(z){var ee,W,ne=o in z.props?z.props[o]:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee[o],se="hide"in z.props?z.props.hide:(W=z.type.defaultProps)===null||W===void 0?void 0:W.hide;return ne===T&&(k||!se)}),w,i,u);te&&(F=te)}m&&(b==="number"||j!=="auto")&&(R=ty(O,w,"category"))}else m?F=Yj(0,B):l&&l[T]&&l[T].hasStack&&b==="number"?F=A==="expand"?[0,1]:Kee(l[T].stackGroups,c,d):F=Mee(O,a.filter(function(z){var ee=o in z.props?z.props[o]:z.type.defaultProps[o],W="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return ee===T&&(k||!W)}),b,u,!0);if(b==="number")F=p3(f,F,T,i,P),$&&(F=IE($,F,C));else if(b==="category"&&$){var re=$,K=F.every(function(z){return re.indexOf(z)>=0});K&&(F=re)}}return st(st({},x),{},sr({},T,st(st({},v),{},{axisType:i,domain:F,categoricalDomain:R,duplicateDomain:M,originalDomain:(y=v.domain)!==null&&y!==void 0?y:H,isCategorical:m,layout:u})))},{})},pJe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,A=f_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),m=A.length,x=Qee(u,i),g=-1;return n.reduce(function(y,v){var b=v.type.defaultProps!==void 0?st(st({},v.type.defaultProps),v.props):v.props,w=b[o],C=ure("number");if(!y[w]){g++;var N;return x?N=Yj(0,m):l&&l[w]&&l[w].hasStack?(N=Kee(l[w].stackGroups,c,d),N=p3(f,N,w,i)):(N=IE(C,Mee(A,n.filter(function(j){var P,k,T=o in j.props?j.props[o]:(P=j.type.defaultProps)===null||P===void 0?void 0:P[o],O="hide"in j.props?j.props.hide:(k=j.type.defaultProps)===null||k===void 0?void 0:k.hide;return T===w&&!O}),"number",u),a.defaultProps.allowDataOverflow),N=p3(f,N,w,i)),st(st({},y),{},sr({},w,st(st({axisType:i},a.defaultProps),{},{hide:!0,orientation:Io(uJe,"".concat(i,".").concat(g%2),null),domain:N,originalDomain:C,isCategorical:x,layout:u})))}return y},{})},gJe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),A=To(u,i),m={};return A&&A.length?m=mJe(t,{axes:A,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(m=pJe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},xJe=function(t){var r=bh(t),n=tu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:HI(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Rj(r,n)}},P$=function(t){var r=t.children,n=t.defaultShowTooltip,a=No(r,_g),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},yJe=function(t){return!t||!t.length?!1:t.some(function(r){var n=cu(r&&r.type);return n&&n.indexOf("Bar")>=0})},I$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vJe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,f=n.children,A=n.margin||{},m=No(f,_g),x=No(f,Kh),g=Object.keys(c).reduce(function(N,j){var P=c[j],k=P.orientation;return!P.mirror&&!P.hide?st(st({},N),{},sr({},k,N[k]+P.width)):N},{left:A.left||0,right:A.right||0}),y=Object.keys(o).reduce(function(N,j){var P=o[j],k=P.orientation;return!P.mirror&&!P.hide?st(st({},N),{},sr({},k,Io(N,"".concat(k))+P.height)):N},{top:A.top||0,bottom:A.bottom||0}),v=st(st({},y),g),b=v.bottom;m&&(v.bottom+=m.props.height||_g.defaultProps.height),x&&r&&(v=N9e(v,a,n,r));var w=d-v.left-v.right,C=u-v.top-v.bottom;return st(st({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(C,0)})},bJe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},A_=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,A=function(v,b){var w=b.graphicalItems,C=b.stackGroups,N=b.offset,j=b.updateId,P=b.dataStartIndex,k=b.dataEndIndex,T=v.barSize,O=v.layout,B=v.barGap,F=v.barCategoryGap,M=v.maxBarSize,R=I$(O),H=R.numericAxisName,G=R.cateAxisName,$=yJe(w),V=[];return w.forEach(function(te,re){var K=f_(v.data,{graphicalItems:[te],dataStartIndex:P,dataEndIndex:k}),z=te.type.defaultProps!==void 0?st(st({},te.type.defaultProps),te.props):te.props,ee=z.dataKey,W=z.maxBarSize,ne=z["".concat(H,"Id")],se=z["".concat(G,"Id")],ce={},ye=c.reduce(function(Ye,it){var Oe=b["".concat(it.axisType,"Map")],Ge=z["".concat(it.axisType,"Id")];Oe&&Oe[Ge]||it.axisType==="zAxis"||JA();var mt=Oe[Ge];return st(st({},Ye),{},sr(sr({},it.axisType,mt),"".concat(it.axisType,"Ticks"),tu(mt)))},ce),Ae=ye[G],xe=ye["".concat(G,"Ticks")],le=C&&C[ne]&&C[ne].hasStack&&L9e(te,C[ne].stackGroups),Z=cu(te.type).indexOf("Bar")>=0,pe=Rj(Ae,xe),oe=[],X=$&&w9e({barSize:T,stackGroups:C,totalSize:bJe(ye,G)});if(Z){var be,_e,Le=fr(W)?M:W,ke=(be=(_e=Rj(Ae,xe,!0))!==null&&_e!==void 0?_e:Le)!==null&&be!==void 0?be:0;oe=j9e({barGap:B,barCategoryGap:F,bandSize:ke!==pe?ke:pe,sizeList:X[se],maxBarSize:Le}),ke!==pe&&(oe=oe.map(function(Ye){return st(st({},Ye),{},{position:st(st({},Ye.position),{},{offset:Ye.position.offset-ke/2})})}))}var Qe=te&&te.type&&te.type.getComposedData;Qe&&V.push({props:st(st({},Qe(st(st({},ye),{},{displayedData:K,props:v,dataKey:ee,item:te,bandSize:pe,barPosition:oe,offset:N,stackedData:le,layout:O,dataStartIndex:P,dataEndIndex:k}))),{},sr(sr(sr({key:te.key||"item-".concat(re)},H,ye[H]),G,ye[G]),"animationId",j)),childIndex:j6e(te,v.children),item:te})}),V},m=function(v,b){var w=v.props,C=v.dataStartIndex,N=v.dataEndIndex,j=v.updateId;if(!WM({props:w}))return null;var P=w.children,k=w.layout,T=w.stackOffset,O=w.data,B=w.reverseStackOrder,F=I$(k),M=F.numericAxisName,R=F.cateAxisName,H=To(P,n),G=T9e(O,H,"".concat(M,"Id"),"".concat(R,"Id"),T,B),$=c.reduce(function(z,ee){var W="".concat(ee.axisType,"Map");return st(st({},z),{},sr({},W,gJe(w,st(st({},ee),{},{graphicalItems:H,stackGroups:ee.axisType===M&&G,dataStartIndex:C,dataEndIndex:N}))))},{}),V=vJe(st(st({},$),{},{props:w,graphicalItems:H}),b==null?void 0:b.legendBBox);Object.keys($).forEach(function(z){$[z]=u(w,$[z],V,z.replace("Map",""),r)});var te=$["".concat(R,"Map")],re=xJe(te),K=A(w,st(st({},$),{},{dataStartIndex:C,dataEndIndex:N,updateId:j,graphicalItems:H,stackGroups:G,offset:V}));return st(st({formattedGraphicalItems:K,graphicalItems:H,offset:V,stackGroups:G},re),$)},x=function(y){function v(b){var w,C,N;return eJe(this,v),N=nJe(this,v,[b]),sr(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),sr(N,"accessibilityManager",new MZe),sr(N,"handleLegendBBoxUpdate",function(j){if(j){var P=N.state,k=P.dataStartIndex,T=P.dataEndIndex,O=P.updateId;N.setState(st({legendBBox:j},m({props:N.props,dataStartIndex:k,dataEndIndex:T,updateId:O},st(st({},N.state),{},{legendBBox:j}))))}}),sr(N,"handleReceiveSyncEvent",function(j,P,k){if(N.props.syncId===j){if(k===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(P)}}),sr(N,"handleBrushChange",function(j){var P=j.startIndex,k=j.endIndex;if(P!==N.state.dataStartIndex||k!==N.state.dataEndIndex){var T=N.state.updateId;N.setState(function(){return st({dataStartIndex:P,dataEndIndex:k},m({props:N.props,dataStartIndex:P,dataEndIndex:k,updateId:T},N.state))}),N.triggerSyncEvent({dataStartIndex:P,dataEndIndex:k})}}),sr(N,"handleMouseEnter",function(j){var P=N.getMouseInfo(j);if(P){var k=st(st({},P),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var T=N.props.onMouseEnter;ir(T)&&T(k,j)}}),sr(N,"triggeredAfterMouseMove",function(j){var P=N.getMouseInfo(j),k=P?st(st({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var T=N.props.onMouseMove;ir(T)&&T(k,j)}),sr(N,"handleItemMouseEnter",function(j){N.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),sr(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),sr(N,"handleMouseMove",function(j){j.persist(),N.throttleTriggeredAfterMouseMove(j)}),sr(N,"handleMouseLeave",function(j){N.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var k=N.props.onMouseLeave;ir(k)&&k(P,j)}),sr(N,"handleOuterEvent",function(j){var P=w6e(j),k=Io(N.props,"".concat(P));if(P&&ir(k)){var T,O;/.*touch.*/i.test(P)?O=N.getMouseInfo(j.changedTouches[0]):O=N.getMouseInfo(j),k((T=O)!==null&&T!==void 0?T:{},j)}}),sr(N,"handleClick",function(j){var P=N.getMouseInfo(j);if(P){var k=st(st({},P),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var T=N.props.onClick;ir(T)&&T(k,j)}}),sr(N,"handleMouseDown",function(j){var P=N.props.onMouseDown;if(ir(P)){var k=N.getMouseInfo(j);P(k,j)}}),sr(N,"handleMouseUp",function(j){var P=N.props.onMouseUp;if(ir(P)){var k=N.getMouseInfo(j);P(k,j)}}),sr(N,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),sr(N,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseDown(j.changedTouches[0])}),sr(N,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseUp(j.changedTouches[0])}),sr(N,"handleDoubleClick",function(j){var P=N.props.onDoubleClick;if(ir(P)){var k=N.getMouseInfo(j);P(k,j)}}),sr(N,"handleContextMenu",function(j){var P=N.props.onContextMenu;if(ir(P)){var k=N.getMouseInfo(j);P(k,j)}}),sr(N,"triggerSyncEvent",function(j){N.props.syncId!==void 0&&d4.emit(u4,N.props.syncId,j,N.eventEmitterSymbol)}),sr(N,"applySyncEvent",function(j){var P=N.props,k=P.layout,T=P.syncMethod,O=N.state.updateId,B=j.dataStartIndex,F=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)N.setState(st({dataStartIndex:B,dataEndIndex:F},m({props:N.props,dataStartIndex:B,dataEndIndex:F,updateId:O},N.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,R=j.chartY,H=j.activeTooltipIndex,G=N.state,$=G.offset,V=G.tooltipTicks;if(!$)return;if(typeof T=="function")H=T(V,j);else if(T==="value"){H=-1;for(var te=0;te<V.length;te++)if(V[te].value===j.activeLabel){H=te;break}}var re=st(st({},$),{},{x:$.left,y:$.top}),K=Math.min(M,re.x+re.width),z=Math.min(R,re.y+re.height),ee=V[H]&&V[H].value,W=y3(N.state,N.props.data,H),ne=V[H]?{x:k==="horizontal"?V[H].coordinate:K,y:k==="horizontal"?z:V[H].coordinate}:dre;N.setState(st(st({},j),{},{activeLabel:ee,activeCoordinate:ne,activePayload:W,activeTooltipIndex:H}))}else N.setState(j)}),sr(N,"renderCursor",function(j){var P,k=N.state,T=k.isTooltipActive,O=k.activeCoordinate,B=k.activePayload,F=k.offset,M=k.activeTooltipIndex,R=k.tooltipAxisBandSize,H=N.getTooltipEventType(),G=(P=j.props.active)!==null&&P!==void 0?P:T,$=N.props.layout,V=j.key||"_recharts-cursor";return Ce.createElement(WZe,{key:V,activeCoordinate:O,activePayload:B,activeTooltipIndex:M,chartName:r,element:j,isActive:G,layout:$,offset:F,tooltipAxisBandSize:R,tooltipEventType:H})}),sr(N,"renderPolarAxis",function(j,P,k){var T=Io(j,"type.axisType"),O=Io(N.state,"".concat(T,"Map")),B=j.type.defaultProps,F=B!==void 0?st(st({},B),j.props):j.props,M=O&&O[F["".concat(T,"Id")]];return _.cloneElement(j,st(st({},M),{},{className:pr(T,M.className),key:j.key||"".concat(P,"-").concat(k),ticks:tu(M,!0)}))}),sr(N,"renderPolarGrid",function(j){var P=j.props,k=P.radialLines,T=P.polarAngles,O=P.polarRadius,B=N.state,F=B.radiusAxisMap,M=B.angleAxisMap,R=bh(F),H=bh(M),G=H.cx,$=H.cy,V=H.innerRadius,te=H.outerRadius;return _.cloneElement(j,{polarAngles:Array.isArray(T)?T:tu(H,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(O)?O:tu(R,!0).map(function(re){return re.coordinate}),cx:G,cy:$,innerRadius:V,outerRadius:te,key:j.key||"polar-grid",radialLines:k})}),sr(N,"renderLegend",function(){var j=N.state.formattedGraphicalItems,P=N.props,k=P.children,T=P.width,O=P.height,B=N.props.margin||{},F=T-(B.left||0)-(B.right||0),M=Uee({children:k,formattedGraphicalItems:j,legendWidth:F,legendContent:d});if(!M)return null;var R=M.item,H=B$(M,GZe);return _.cloneElement(R,st(st({},H),{},{chartWidth:T,chartHeight:O,margin:B,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),sr(N,"renderTooltip",function(){var j,P=N.props,k=P.children,T=P.accessibilityLayer,O=No(k,li);if(!O)return null;var B=N.state,F=B.isTooltipActive,M=B.activeCoordinate,R=B.activePayload,H=B.activeLabel,G=B.offset,$=(j=O.props.active)!==null&&j!==void 0?j:F;return _.cloneElement(O,{viewBox:st(st({},G),{},{x:G.left,y:G.top}),active:$,label:H,payload:$?R:[],coordinate:M,accessibilityLayer:T})}),sr(N,"renderBrush",function(j){var P=N.props,k=P.margin,T=P.data,O=N.state,B=O.offset,F=O.dataStartIndex,M=O.dataEndIndex,R=O.updateId;return _.cloneElement(j,{key:j.key||"_recharts-brush",onChange:qw(N.handleBrushChange,j.props.onChange),data:T,x:_t(j.props.x)?j.props.x:B.left,y:_t(j.props.y)?j.props.y:B.top+B.height+B.brushBottom-(k.bottom||0),width:_t(j.props.width)?j.props.width:B.width,startIndex:F,endIndex:M,updateId:"brush-".concat(R)})}),sr(N,"renderReferenceElement",function(j,P,k){if(!j)return null;var T=N,O=T.clipPathId,B=N.state,F=B.xAxisMap,M=B.yAxisMap,R=B.offset,H=j.type.defaultProps||{},G=j.props,$=G.xAxisId,V=$===void 0?H.xAxisId:$,te=G.yAxisId,re=te===void 0?H.yAxisId:te;return _.cloneElement(j,{key:j.key||"".concat(P,"-").concat(k),xAxis:F[V],yAxis:M[re],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:O})}),sr(N,"renderActivePoints",function(j){var P=j.item,k=j.activePoint,T=j.basePoint,O=j.childIndex,B=j.isRange,F=[],M=P.props.key,R=P.item.type.defaultProps!==void 0?st(st({},P.item.type.defaultProps),P.item.props):P.item.props,H=R.activeDot,G=R.dataKey,$=st(st({index:O,dataKey:G,cx:k.x,cy:k.y,r:4,fill:mT(P.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Zt(H,!1)),cj(H));return F.push(v.renderActiveDot(H,$,"".concat(M,"-activePoint-").concat(O))),T?F.push(v.renderActiveDot(H,st(st({},$),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(O))):B&&F.push(null),F}),sr(N,"renderGraphicChild",function(j,P,k){var T=N.filterFormatItem(j,P,k);if(!T)return null;var O=N.getTooltipEventType(),B=N.state,F=B.isTooltipActive,M=B.tooltipAxis,R=B.activeTooltipIndex,H=B.activeLabel,G=N.props.children,$=No(G,li),V=T.props,te=V.points,re=V.isRange,K=V.baseLine,z=T.item.type.defaultProps!==void 0?st(st({},T.item.type.defaultProps),T.item.props):T.item.props,ee=z.activeDot,W=z.hide,ne=z.activeBar,se=z.activeShape,ce=!!(!W&&F&&$&&(ee||ne||se)),ye={};O!=="axis"&&$&&$.props.trigger==="click"?ye={onClick:qw(N.handleItemMouseEnter,j.props.onClick)}:O!=="axis"&&(ye={onMouseLeave:qw(N.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:qw(N.handleItemMouseEnter,j.props.onMouseEnter)});var Ae=_.cloneElement(j,st(st({},T.props),ye));function xe(it){return typeof M.dataKey=="function"?M.dataKey(it.payload):null}if(ce)if(R>=0){var le,Z;if(M.dataKey&&!M.allowDuplicatedCategory){var pe=typeof M.dataKey=="function"?xe:"payload.".concat(M.dataKey.toString());le=lj(te,pe,H),Z=re&&K&&lj(K,pe,H)}else le=te==null?void 0:te[R],Z=re&&K&&K[R];if(se||ne){var oe=j.props.activeIndex!==void 0?j.props.activeIndex:R;return[_.cloneElement(j,st(st(st({},T.props),ye),{},{activeIndex:oe})),null,null]}if(!fr(le))return[Ae].concat(Fg(N.renderActivePoints({item:T,activePoint:le,basePoint:Z,childIndex:R,isRange:re})))}else{var X,be=(X=N.getItemByXY(N.state.activeCoordinate))!==null&&X!==void 0?X:{graphicalItem:Ae},_e=be.graphicalItem,Le=_e.item,ke=Le===void 0?j:Le,Qe=_e.childIndex,Ye=st(st(st({},T.props),ye),{},{activeIndex:Qe});return[_.cloneElement(ke,Ye),null,null]}return re?[Ae,null,null]:[Ae,null]}),sr(N,"renderCustomized",function(j,P,k){return _.cloneElement(j,st(st({key:"recharts-customized-".concat(k)},N.props),N.state))}),sr(N,"renderMap",{CartesianGrid:{handler:e1,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:e1},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:e1},YAxis:{handler:e1},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:fm("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=RJ(N.triggeredAfterMouseMove,(C=b.throttleDelay)!==null&&C!==void 0?C:1e3/60),N.state={},N}return iJe(v,y),rJe(v,[{key:"componentDidMount",value:function(){var w,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,C=w.children,N=w.data,j=w.height,P=w.layout,k=No(C,li);if(k){var T=k.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,B=y3(this.state,N,T,O),F=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+j)/2,R=P==="horizontal",H=R?{x:F,y:M}:{y:F,x:M},G=this.state.formattedGraphicalItems.find(function(V){var te=V.item;return te.type.name==="Scatter"});G&&(H=st(st({},H),G.props.points[T].tooltipPosition),B=G.props.points[T].tooltipPayload);var $={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:O,activePayload:B,activeCoordinate:H};this.setState($),this.renderCursor(k),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,j;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){Wk([No(w.children,li)],[No(this.props.children,li)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=No(this.props.children,li);if(w&&typeof w.props.shared=="boolean"){var C=w.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var C=this.container,N=C.getBoundingClientRect(),j=q8e(N),P={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},k=N.width/C.offsetWidth||1,T=this.inRange(P.chartX,P.chartY,k);if(!T)return null;var O=this.state,B=O.xAxisMap,F=O.yAxisMap,M=this.getTooltipEventType(),R=E$(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&B&&F){var H=bh(B).scale,G=bh(F).scale,$=H&&H.invert?H.invert(P.chartX):null,V=G&&G.invert?G.invert(P.chartY):null;return st(st({},P),{},{xValue:$,yValue:V},R)}return R?st(st({},P),R):null}},{key:"inRange",value:function(w,C){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,P=w/N,k=C/N;if(j==="horizontal"||j==="vertical"){var T=this.state.offset,O=P>=T.left&&P<=T.left+T.width&&k>=T.top&&k<=T.top+T.height;return O?{x:P,y:k}:null}var B=this.state,F=B.angleAxisMap,M=B.radiusAxisMap;if(F&&M){var R=bh(F);return rQ({x:P,y:k},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,C=this.getTooltipEventType(),N=No(w,li),j={};N&&C==="axis"&&(N.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=cj(this.props,this.handleOuterEvent);return st(st({},P),j)}},{key:"addListener",value:function(){d4.on(u4,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){d4.removeListener(u4,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,C,N){for(var j=this.state.formattedGraphicalItems,P=0,k=j.length;P<k;P++){var T=j[P];if(T.item===w||T.props.key===w.key||C===cu(T.item.type)&&N===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,C=this.state.offset,N=C.left,j=C.top,P=C.height,k=C.width;return Ce.createElement("defs",null,Ce.createElement("clipPath",{id:w},Ce.createElement("rect",{x:N,y:j,height:P,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(C,N){var j=S$(N,2),P=j[0],k=j[1];return st(st({},C),{},sr({},P,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(C,N){var j=S$(N,2),P=j[0],k=j[1];return st(st({},C),{},sr({},P,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[w])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(w){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[w])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(w){var C=this.state,N=C.formattedGraphicalItems,j=C.activeItem;if(N&&N.length)for(var P=0,k=N.length;P<k;P++){var T=N[P],O=T.props,B=T.item,F=B.type.defaultProps!==void 0?st(st({},B.type.defaultProps),B.props):B.props,M=cu(B.type);if(M==="Bar"){var R=(O.data||[]).find(function(V){return LKe(w,V)});if(R)return{graphicalItem:T,payload:R}}else if(M==="RadialBar"){var H=(O.data||[]).find(function(V){return rQ(w,V)});if(H)return{graphicalItem:T,payload:H}}else if(i_(T,j)||o_(T,j)||gv(T,j)){var G=jGe({graphicalItem:T,activeTooltipItem:j,itemData:F.data}),$=F.activeIndex===void 0?G:F.activeIndex;return{graphicalItem:st(st({},T),{},{childIndex:$}),payload:gv(T,j)?F.data[G]:T.props.data[G]}}}return null}},{key:"render",value:function(){var w=this;if(!WM(this))return null;var C=this.props,N=C.children,j=C.className,P=C.width,k=C.height,T=C.style,O=C.compact,B=C.title,F=C.desc,M=B$(C,qZe),R=Zt(M,!1);if(O)return Ce.createElement(o$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement(qk,jp({},R,{width:P,height:k,title:B,desc:F}),this.renderClipPath(),qM(N,this.renderMap)));if(this.props.accessibilityLayer){var H,G;R.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,R.role=(G=this.props.role)!==null&&G!==void 0?G:"application",R.onKeyDown=function(V){w.accessibilityManager.keyboardEvent(V)},R.onFocus=function(){w.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return Ce.createElement(o$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement("div",jp({className:pr("recharts-wrapper",j),style:st({position:"relative",cursor:"default",width:P,height:k},T)},$,{ref:function(te){w.container=te}}),Ce.createElement(qk,jp({},R,{width:P,height:k,title:B,desc:F,style:hJe}),this.renderClipPath(),qM(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);sr(x,"displayName",r),sr(x,"defaultProps",st({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),sr(x,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,w=y.data,C=y.children,N=y.width,j=y.height,P=y.layout,k=y.stackOffset,T=y.margin,O=v.dataStartIndex,B=v.dataEndIndex;if(v.updateId===void 0){var F=P$(y);return st(st(st({},F),{},{updateId:0},m(st(st({props:y},F),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:j,prevLayout:P,prevStackOffset:k,prevMargin:T,prevChildren:C})}if(b!==v.prevDataKey||w!==v.prevData||N!==v.prevWidth||j!==v.prevHeight||P!==v.prevLayout||k!==v.prevStackOffset||!Kp(T,v.prevMargin)){var M=P$(y),R={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},H=st(st({},E$(v,w,P)),{},{updateId:v.updateId+1}),G=st(st(st({},M),R),H);return st(st(st({},G),m(st({props:y},G),v)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:j,prevLayout:P,prevStackOffset:k,prevMargin:T,prevChildren:C})}if(!Wk(C,v.prevChildren)){var $,V,te,re,K=No(C,_g),z=K&&($=(V=K.props)===null||V===void 0?void 0:V.startIndex)!==null&&$!==void 0?$:O,ee=K&&(te=(re=K.props)===null||re===void 0?void 0:re.endIndex)!==null&&te!==void 0?te:B,W=z!==O||ee!==B,ne=!fr(w),se=ne&&!W?v.updateId:v.updateId+1;return st(st({updateId:se},m(st(st({props:y},v),{},{updateId:se,dataStartIndex:z,dataEndIndex:ee}),v)),{},{prevChildren:C,dataStartIndex:z,dataEndIndex:ee})}return null}),sr(x,"renderActiveDot",function(y,v,b){var w;return _.isValidElement(y)?w=_.cloneElement(y,v):ir(y)?w=y(v):w=Ce.createElement(ub,v),Ce.createElement(Lr,{className:"recharts-active-dot",key:b},w)});var g=_.forwardRef(function(v,b){return Ce.createElement(x,jp({},v,{ref:b}))});return g.displayName=x.displayName,g},hre=A_({chartName:"LineChart",GraphicalChild:tm,axisComponents:[{axisType:"xAxis",AxisComp:hc},{axisType:"yAxis",AxisComp:ml}],formatAxisMap:gT}),fre=A_({chartName:"BarChart",GraphicalChild:_u,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hc},{axisType:"yAxis",AxisComp:ml}],formatAxisMap:gT}),wJe=A_({chartName:"PieChart",GraphicalChild:Tu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:a_},{axisType:"radiusAxis",AxisComp:n_}],formatAxisMap:V9e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Are=A_({chartName:"AreaChart",GraphicalChild:Ou,axisComponents:[{axisType:"xAxis",AxisComp:hc},{axisType:"yAxis",AxisComp:ml}],formatAxisMap:gT});const jJe=({onClose:e})=>{const t=ro(),r=hr(),a=(()=>{try{const f=localStorage.getItem("user");return f?JSON.parse(f):null}catch(f){return console.error("Error parsing user data:",f),null}})(),i=[{name:"Dashboard",href:"/admin-dashboard",icon:Pr},{name:"All Users",href:"/admin-users",icon:Wr},{name:"Add Admin",href:"/admin-add-admin",icon:er},{name:"Room Owners",href:"/admin-owners",icon:cr},{name:"Seekers",href:"/admin-seekers",icon:cr},{name:"Properties",href:"/admin-properties",icon:Zr},{name:"Settings",href:"/admin-settings",icon:sc}],o=()=>{e&&e()},l=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login"),e&&e()},c=f=>t.pathname===f,d={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},u={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(J.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-gray-200 flex flex-col shadow-xl",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs(J.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsx(J.div,{className:"w-8 h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Admin",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"})," Admin"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Co-Living Platform"})]})]}),s.jsx(J.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Close sidebar",variants:u,whileHover:"hover",whileTap:"tap",children:s.jsx(nr,{className:"w-5 h-5"})})]}),s.jsx(J.div,{className:"flex-shrink-0 p-4 border-b border-gray-200",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(J.div,{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx(er,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(a==null?void 0:a.name)||"Admin User"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:(a==null?void 0:a.email)||"admin@lyvo.com"})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s.jsx("div",{className:"px-4 space-y-2",children:i.map((f,A)=>{const m=f.icon;return s.jsx(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25+A*.05,duration:.3,ease:"easeOut"},children:s.jsx(J.div,{variants:d,whileHover:"hover",whileTap:"tap",children:s.jsxs(Ft,{to:f.href,onClick:o,className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${c(f.href)?"text-red-700 bg-red-50 border-r-2 border-red-700":"text-gray-700 hover:text-red-700 hover:bg-red-50"}`,children:[s.jsx(m,{className:`mr-3 h-5 w-5 ${c(f.href)?"text-red-700":"text-gray-400 group-hover:text-red-700"}`}),f.name]})})},f.name)})})}),s.jsx(J.div,{className:"flex-shrink-0 p-4 border-t border-gray-200",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:s.jsxs(J.button,{onClick:l,className:"group flex items-center w-full px-3 py-3 text-sm font-medium text-gray-700 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200",variants:u,whileHover:"hover",whileTap:"tap",children:[s.jsx($a,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-red-700"}),"Logout"]})})]})},NJe=({onMenuClick:e})=>{const[t,r]=_.useState(!1),[n,a]=_.useState(!1),[i,o]=_.useState([]),[l,c]=_.useState(!1),[d,u]=_.useState(0),f=hr(),m=(()=>{try{const O=localStorage.getItem("user");return O?JSON.parse(O):null}catch(O){return console.error("Error parsing user data:",O),null}})();_.useEffect(()=>{const O=B=>{B.target.closest(".dropdown-container")||(r(!1),a(!1))};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const x=()=>{r(!t),a(!1)},g=()=>{a(!n),r(!1)},y=async()=>{c(!0);try{const O=localStorage.getItem("authToken"),B=JSON.parse(localStorage.getItem("user")||"{}");if(!O||!B._id)return;const F={"Content-Type":"application/json",Authorization:`Bearer ${O}`,"x-user-id":B._id},[M,R,H]=await Promise.all([qe.get("/notifications",{headers:{"x-user-id":B._id}}),qe.get("/user/all",{headers:{"x-user-id":B._id}}),qe.get("/property/admin/properties?limit=100",{headers:{"x-user-id":B._id}})]),G=M.data,$=R.data,V=H.data,te=$.data||[],re=V.data||V.properties||[],K=[];G.success&&G.data&&G.data.filter(se=>!se.is_read).forEach(se=>{var ce,ye;K.push({_id:se._id,id:se._id,type:se.type||"general",icon:(ce=se.type)!=null&&ce.includes("property")?N2:(ye=se.type)!=null&&ye.includes("user")?Ey:$t,title:se.title,message:se.message,time:N(se.createdAt),actionUrl:se.action_url,isRead:se.is_read,createdAt:se.createdAt})});const z=v();re.filter(se=>se.approval_status==="pending").slice(0,3).forEach(se=>{const ce=`pending-prop-${se._id}`;if(z.includes(ce))return;K.find(Ae=>Ae.message&&Ae.message.includes(se.property_name)&&Ae.type.includes("property"))||K.push({id:ce,type:"property_approval",icon:N2,title:"Property Approval Required",message:`${se.property_name} is waiting for approval`,time:N(se.createdAt),actionUrl:`/admin-property-details/${se._id}`,isRead:!1,createdAt:se.createdAt,isSystemGenerated:!0})});const W=new Date(Date.now()-24*60*60*1e3);te.filter(se=>se.role!==2&&new Date(se.createdAt)>W).sort((se,ce)=>new Date(ce.createdAt)-new Date(se.createdAt)).slice(0,3).forEach(se=>{const ce=`new-user-${se._id}`;if(z.includes(ce))return;const ye=se.role===1?"Seeker":se.role===3?"Owner":"User";K.find(xe=>xe.message&&xe.message.includes(se.name)&&xe.type.includes("user"))||K.push({id:ce,type:"user_registration",icon:Ey,title:`New ${ye} Registered`,message:`${se.name} just joined the platform`,time:N(se.createdAt),actionUrl:se.role===3?"/admin-owners":"/admin-seekers",isRead:!1,createdAt:se.createdAt,isSystemGenerated:!0})}),K.sort((se,ce)=>{const ye=se.type==="property_approval"?0:1,Ae=ce.type==="property_approval"?0:1;return ye!==Ae?ye-Ae:new Date(ce.createdAt)-new Date(se.createdAt)}),o(K),u(K.length),w()}catch(O){console.error("Error fetching admin notifications:",O)}finally{c(!1)}},v=()=>{try{const O=localStorage.getItem("admin_dismissed_notifications");return O?JSON.parse(O):[]}catch{return[]}},b=O=>{try{const B=v();B.includes(O)||(B.push(O),localStorage.setItem("admin_dismissed_notifications",JSON.stringify(B)))}catch(B){console.error("Error saving dismissed notification:",B)}},w=O=>{try{const F=v().filter(H=>H.startsWith("pending-prop-")||H.startsWith("new-user-")),M=Date.now()-7*24*60*60*1e3,R=F.slice(-50);localStorage.setItem("admin_dismissed_notifications",JSON.stringify(R))}catch(B){console.error("Error cleaning up dismissed notifications:",B)}},C=async(O,B)=>{try{if(B){b(O),o(H=>H.filter(G=>G.id!==O)),u(H=>Math.max(0,H-1));return}const F=localStorage.getItem("authToken"),M=JSON.parse(localStorage.getItem("user")||"{}");if(!F||!M._id)return;(await qe.delete(`/notifications/${O}`,{headers:{"x-user-id":M._id}})).status===200&&(o(H=>H.filter(G=>G._id!==O)),u(H=>Math.max(0,H-1)),y())}catch(F){console.error("Error deleting notification:",F)}},N=O=>{const B=new Date(O),M=Math.floor((new Date-B)/1e3);return M<60?`${M}s ago`:M<3600?`${Math.floor(M/60)}m ago`:M<86400?`${Math.floor(M/3600)}h ago`:M<2592e3?`${Math.floor(M/86400)}d ago`:`${Math.floor(M/2592e3)}mo ago`};_.useEffect(()=>{y();const O=setInterval(y,3e4);return()=>clearInterval(O)},[]);const j=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),f("/login")},P=O=>{O.actionUrl&&(f(O.actionUrl),a(!1))};_.useEffect(()=>{const O=B=>{console.log(" AdminNavbar received new-notification event:",B.detail),y()};return window.addEventListener("new-notification",O),()=>window.removeEventListener("new-notification",O)},[]);const k={hidden:{opacity:0,y:-10,scale:.95,transformOrigin:"top right"},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15,ease:"easeIn"}}},T={hover:{scale:1.05,transition:{duration:.1}},tap:{scale:.95,transition:{duration:.1}}};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 py-3 lg:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx(J.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Toggle menu",variants:T,whileHover:"hover",whileTap:"tap",children:s.jsx(FN,{className:"w-5 h-5"})}),s.jsxs(Ft,{to:"/admin-dashboard",className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(J.div,{className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Admin",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Lyvo Admin"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Co-Living Platform"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(J.button,{onClick:g,className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 relative","aria-label":"Notifications",variants:T,whileHover:"hover",whileTap:"tap",children:[s.jsx(cd,{className:"w-5 h-5"}),d>0&&s.jsx(J.span,{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white px-1",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:15},children:d>9?"9+":d})]}),s.jsx(Sr,{children:n&&s.jsxs(J.div,{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:k,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),d>0&&s.jsxs("span",{className:"px-2 py-1 text-xs font-semibold bg-red-100 text-red-700 rounded-full",children:[d," new"]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:l?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Loading notifications..."})]}):i.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(cd,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-sm font-medium",children:"No notifications"}),s.jsx("p",{className:"text-xs mt-1",children:"You're all caught up!"})]}):i.map((O,B)=>{const F=O.icon;return s.jsxs(J.div,{className:`relative p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors group ${O.type==="property_approval"?"bg-orange-50 hover:bg-orange-100":""}`,whileHover:{backgroundColor:O.type==="property_approval"?"#fed7aa":"#f9fafb"},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:B*.05,duration:.2},children:[s.jsxs("div",{className:"flex items-start space-x-3 pr-8",onClick:()=>P(O),children:[s.jsx("div",{className:`p-2 rounded-lg ${O.type==="property_approval"?"bg-orange-200 text-orange-700":"bg-blue-100 text-blue-600"}`,children:s.jsx(F,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:O.title}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:O.message}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-1.5"}),O.time]})]}),O.type==="property_approval"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx($t,{className:"w-4 h-4 text-orange-600"})})]}),s.jsx("button",{onClick:M=>{M.stopPropagation(),C(O._id||O.id,O.isSystemGenerated)},className:"absolute top-3 right-3 p-1 rounded-full hover:bg-red-100 transition-colors opacity-0 group-hover:opacity-100",title:"Dismiss notification",children:s.jsx(rr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]},O.id)})}),i.length>0&&s.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:()=>{a(!1),f("/admin-properties")},className:"w-full text-sm text-red-600 hover:text-red-700 font-medium py-2 hover:bg-red-50 rounded-md transition-colors",children:"View all pending approvals "})})]})})]}),s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(J.button,{onClick:x,className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"User menu",variants:T,whileHover:"hover",whileTap:"tap",children:[s.jsx(J.div,{className:"w-7 h-7 sm:w-8 sm:h-8 bg-red-100 rounded-full flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx(cr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:(m==null?void 0:m.name)||"Admin"})]}),s.jsx(Sr,{children:t&&s.jsx(J.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:k,initial:"hidden",animate:"visible",exit:"exit",children:s.jsxs("div",{className:"py-2",children:[s.jsx(J.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs(Ft,{to:"/admin-settings",className:"block px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx(sc,{className:"w-4 h-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(J.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs("button",{onClick:j,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx($a,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})})]})})})]})]})]})})},_Je=()=>s.jsx("footer",{className:"bg-white border-t border-gray-200 px-6 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lyvo"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Co-Living Platform"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Quick Links"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Support"})}),s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Privacy"})}),s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Terms"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Contact"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("div",{children:"admin@lyvo.com"}),s.jsx("div",{children:"+44 20 7998 7571"})]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center text-sm text-gray-600",children:[" ",new Date().getFullYear()," Lyvo. All rights reserved."]})})]})}),gl=({children:e,showSidebar:t=!0})=>{const[r,n]=_.useState(!1),a=()=>{n(!r)},i=()=>{n(!1)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:i}),t&&s.jsx("div",{className:`
          fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out
          ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:s.jsx(jJe,{onClose:i})}),s.jsxs("div",{className:`flex flex-col min-h-screen ${t?"lg:pl-64":""}`,children:[s.jsx("div",{className:"sticky top-0 z-30 bg-white",children:s.jsx(NJe,{onMenuClick:a})}),s.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-x-hidden",children:e}),s.jsx(_Je,{})]})]})},CJe=()=>{const[e,t]=_.useState("overview"),[r,n]=_.useState(!0),[a,i]=_.useState([]),[o,l]=_.useState([]),[c,d]=_.useState([]),[u,f]=_.useState({totalUsers:0,activeProperties:0,monthlyRevenue:0,pendingApprovals:0}),A=C=>{const N=new Date(C),P=Math.floor((new Date-N)/1e3);return P<60?`${P} seconds ago`:P<3600?`${Math.floor(P/60)} minutes ago`:P<86400?`${Math.floor(P/3600)} hours ago`:P<2592e3?`${Math.floor(P/86400)} days ago`:`${Math.floor(P/2592e3)} months ago`},m=C=>C>=1e7?`${(C/1e7).toFixed(1)}Cr`:C>=1e5?`${(C/1e5).toFixed(1)}L`:C>=1e3?`${(C/1e3).toFixed(1)}K`:`${C}`;_.useEffect(()=>{(async()=>{n(!0);try{const N=localStorage.getItem("authToken"),j={"Content-Type":"application/json",Authorization:N?`Bearer ${N}`:""},[P,k,T]=await Promise.all([qe.get("/user/all"),qe.get("/property/admin/properties?limit=1000"),qe.get("/property/debug/bookings")]),O=P.data,B=k.data,F=T.data;i(O.data||[]),l(B.data||B.properties||[]),d(F.bookings||[])}catch(N){console.error("Error fetching dashboard data:",N)}finally{n(!1)}})()},[]);const x=_.useMemo(()=>{const C=a.filter(F=>F.role!==2).length,N=o.length,j=o.filter(F=>(F.approval_status==="approved"||F.status==="active")&&F.status!=="inactive").length,P=o.filter(F=>F.approval_status==="pending").length;console.log("Dashboard Stats:",{totalProperties:o.length,activeProperties:j,pendingApprovals:P,propertiesBreakdown:o.map(F=>({name:F.property_name,approval_status:F.approval_status,status:F.status,isActive:(F.approval_status==="approved"||F.status==="active")&&F.status!=="inactive"}))});const k=new Date().getMonth(),T=new Date().getFullYear(),B=c.filter(F=>{var R;const M=new Date(F.createdAt);return M.getMonth()===k&&M.getFullYear()===T&&F.status==="confirmed"&&((R=F.payment)==null?void 0:R.paymentStatus)==="completed"}).reduce((F,M)=>{var R;return F+(((R=M.payment)==null?void 0:R.amount)||0)},0);return{totalUsers:C,totalProperties:N,activeProperties:j,monthlyRevenue:B,pendingApprovals:P}},[a,o,c]),g=_.useMemo(()=>{const C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=[],j=new Date;for(let k=5;k>=0;k--){const T=new Date(j.getFullYear(),j.getMonth()-k,1),O=T.getMonth(),B=T.getFullYear(),F=a.filter(M=>{if(M.role===2)return!1;const R=new Date(M.createdAt);return R.getMonth()===O&&R.getFullYear()===B}).length;N.push({month:C[O],users:F,growth:F})}let P=0;return N.map(k=>(P+=k.users,{...k,users:P}))},[a]),y=_.useMemo(()=>{const C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=[],j=new Date;for(let P=5;P>=0;P--){const k=new Date(j.getFullYear(),j.getMonth()-P,1),T=k.getMonth(),O=k.getFullYear(),B=c.filter(M=>{var H;const R=new Date(M.createdAt);return R.getMonth()===T&&R.getFullYear()===O&&M.status==="confirmed"&&((H=M.payment)==null?void 0:H.paymentStatus)==="completed"}),F=B.reduce((M,R)=>{var H;return M+(((H=R.payment)==null?void 0:H.amount)||0)},0);N.push({month:C[T],revenue:F,bookings:B.length})}return N},[c]),v=[{title:"Total Users",value:x.totalUsers.toLocaleString(),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{title:"Total Properties",value:x.totalProperties.toString(),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{title:"Monthly Revenue",value:m(x.monthlyRevenue),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{title:"Pending Approvals",value:x.pendingApprovals.toString(),change:"0%",changeType:x.pendingApprovals>0?"negative":"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}],b=_.useMemo(()=>{const C=[];return a.filter(k=>k.role!==2).sort((k,T)=>new Date(T.createdAt)-new Date(k.createdAt)).slice(0,3).forEach(k=>{C.push({id:`user-${k._id}`,type:"user_registration",message:`New user registered: ${k.name}`,time:A(k.createdAt),status:"success"})}),o.sort((k,T)=>new Date(T.createdAt)-new Date(k.createdAt)).slice(0,2).forEach(k=>{k.approval_status==="approved"&&C.push({id:`prop-${k._id}`,type:"property_approval",message:`Property approved: ${k.property_name}`,time:A(k.updatedAt||k.createdAt),status:"success"})}),c.filter(k=>{var T;return k.status==="confirmed"&&((T=k.payment)==null?void 0:T.paymentStatus)==="completed"}).sort((k,T)=>new Date(T.createdAt)-new Date(k.createdAt)).slice(0,2).forEach(k=>{var T;C.push({id:`booking-${k._id}`,type:"payment_received",message:`Payment received: ${m(((T=k.payment)==null?void 0:T.amount)||0)}`,time:A(k.createdAt),status:"success"})}),C.sort((k,T)=>0).slice(0,5)},[a,o,c]),w=[{id:"overview",label:"Overview",icon:""},{id:"analytics",label:"Analytics",icon:""},{id:"reports",label:"Reports",icon:""}];return r?s.jsx(gl,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"w-12 h-12 text-red-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading dashboard data..."})]})})}):s.jsx(gl,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsx("p",{className:"mt-1 lg:mt-2 text-sm lg:text-base text-gray-600",children:"Welcome back! Here's what's happening with your platform today."})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2 lg:space-x-3",children:[s.jsx("button",{className:"px-3 lg:px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-sm",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("button",{className:"px-3 lg:px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 text-sm",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:v.map((C,N)=>s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:N*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6 hover:shadow-md transition-shadow duration-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:C.title}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900 mt-1",children:C.value}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("span",{className:`text-xs lg:text-sm font-medium ${C.changeType==="positive"?"text-green-600":"text-red-600"}`,children:C.change}),s.jsx("span",{className:"text-xs lg:text-sm text-gray-500 ml-1 hidden sm:inline",children:"from last month"})]})]}),s.jsx("div",{className:"p-2 lg:p-3 bg-red-50 rounded-lg text-red-600",children:C.icon})]})},C.title))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-4 lg:space-x-8 px-4 lg:px-6 overflow-x-auto",children:w.map(C=>s.jsxs("button",{onClick:()=>t(C.id),className:`py-3 lg:py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors duration-200 ${e===C.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx("span",{className:"mr-2",children:C.icon}),C.label]},C.id))})}),s.jsxs("div",{className:"p-4 lg:p-6",children:[e==="overview"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"User Growth"}),s.jsx(oA,{width:"100%",height:250,className:"lg:h-[300px]",children:s.jsxs(Are,{data:g,children:[s.jsx(CA,{strokeDasharray:"3 3"}),s.jsx(hc,{dataKey:"month"}),s.jsx(ml,{}),s.jsx(li,{}),s.jsx(Ou,{type:"monotone",dataKey:"users",stroke:"#ef4444",fill:"#fef2f2",strokeWidth:2})]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Revenue & Bookings"}),s.jsx(oA,{width:"100%",height:250,className:"lg:h-[300px]",children:s.jsxs(fre,{data:y,children:[s.jsx(CA,{strokeDasharray:"3 3"}),s.jsx(hc,{dataKey:"month"}),s.jsx(ml,{yAxisId:"left"}),s.jsx(ml,{yAxisId:"right",orientation:"right"}),s.jsx(li,{}),s.jsx(Kh,{}),s.jsx(_u,{yAxisId:"left",dataKey:"revenue",fill:"#ef4444"}),s.jsx(_u,{yAxisId:"right",dataKey:"bookings",fill:"#3b82f6"})]})})]})]})}),e==="analytics"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Detailed Analytics"}),s.jsx(oA,{width:"100%",height:300,className:"lg:h-[400px]",children:s.jsxs(hre,{data:g,children:[s.jsx(CA,{strokeDasharray:"3 3"}),s.jsx(hc,{dataKey:"month"}),s.jsx(ml,{}),s.jsx(li,{}),s.jsx(Kh,{}),s.jsx(tm,{type:"monotone",dataKey:"users",stroke:"#ef4444",strokeWidth:3,dot:{fill:"#ef4444",strokeWidth:2,r:6}}),s.jsx(tm,{type:"monotone",dataKey:"growth",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:6}})]})})]})}),e==="reports"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Recent Activities"}),s.jsx("div",{className:"space-y-3 lg:space-y-4",children:b.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[s.jsx("div",{className:`w-2 h-2 lg:w-3 lg:h-3 rounded-full mr-3 flex-shrink-0 ${C.status==="success"?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-gray-700 text-sm lg:text-base truncate",children:C.message})]}),s.jsx("span",{className:"text-xs lg:text-sm text-gray-500 ml-2 flex-shrink-0",children:C.time})]},C.id))})]})})]})]})]})})},ST=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,confirmText:i="Confirm",cancelText:o="Cancel",type:l="warning",isLoading:c=!1})=>{if(!e)return null;const d={warning:s.jsx(Jh,{className:"w-6 h-6 text-yellow-500"}),danger:s.jsx($t,{className:"w-6 h-6 text-red-500"}),info:s.jsx(LN,{className:"w-6 h-6 text-blue-500"}),success:s.jsx(At,{className:"w-6 h-6 text-green-500"})},u={warning:"bg-yellow-600 hover:bg-yellow-700",danger:"bg-red-600 hover:bg-red-700",info:"bg-blue-600 hover:bg-blue-700",success:"bg-green-600 hover:bg-green-700"};return s.jsx(Sr,{children:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsx(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${l==="danger"?"bg-red-50":l==="warning"?"bg-yellow-50":"bg-blue-50"}`,children:d[l]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(nr,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-gray-600 mb-8",children:a}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,disabled:c,className:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors disabled:opacity-50",children:o}),s.jsxs("button",{onClick:r,disabled:c,className:`flex-1 px-4 py-2.5 text-white font-semibold rounded-xl transition-colors shadow-lg shadow-black/5 flex items-center justify-center gap-2 disabled:opacity-50 ${u[l]}`,children:[c&&s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),i]})]})]})})})})},SJe=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[a,i]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,f]=_.useState(null),[A,m]=_.useState(!1),[x,g]=_.useState(!1),[y,v]=_.useState({isOpen:!1,userId:null,userName:"",currentStatus:null});_.useEffect(()=>{(async()=>{try{n(!0),i("");const P=localStorage.getItem("authToken"),k=await qe.get("/user/users"),T=k.data;if(k.status!==200)throw new Error((T==null?void 0:T.message)||"Failed to fetch users");const O=((T==null?void 0:T.data)||[]).filter(B=>B.role===3).map(B=>({_id:B._id,name:B.name,email:B.email,kycStatus:B.kycStatus||"not_submitted",govtIdFrontUrl:B.govtIdFrontUrl||null,govtIdBackUrl:B.govtIdBackUrl||null,isVerified:!!B.isVerified,isActive:B.isActive!==!1,createdAt:B.createdAt,updatedAt:B.updatedAt}));l(O)}catch(P){i(P.message),l([])}finally{n(!1)}})()},[]);const b=_.useMemo(()=>o.filter(j=>j.name.toLowerCase().includes(e.toLowerCase())||j.email.toLowerCase().includes(e.toLowerCase())),[o,e]),w=async(j,P)=>{try{m(!0);const k=localStorage.getItem("authToken"),T=await qe.post("/admin/kyc/review",{userId:j,action:P}),O=T.data;if(T.status!==200)throw new Error((O==null?void 0:O.message)||"Failed to update KYC status");l(B=>B.map(F=>F._id===j?{...F,kycStatus:P==="approve"?"approved":"rejected"}:F)),u&&u._id===j&&f(B=>({...B,kycStatus:P==="approve"?"approved":"rejected"})),alert(`KYC ${P==="approve"?"approved":"rejected"} successfully!`)}catch(k){console.error("KYC review error:",k),alert(`Error: ${k.message}`)}finally{m(!1)}},C=(j,P,k)=>{v({isOpen:!0,userId:j,userName:P,currentStatus:k})},N=async()=>{const{userId:j,currentStatus:P}=y;try{g(!0),v(O=>({...O,isOpen:!1}));const k=await qe.patch(`/admin/user/${j}/toggle-status`),T=k.data;if(k.status!==200)throw new Error((T==null?void 0:T.message)||"Failed to toggle user status");l(O=>O.map(B=>B._id===j?{...B,isActive:!P}:B)),u&&u._id===j&&f(O=>({...O,isActive:!P}))}catch(k){console.error("Toggle status error:",k),alert(`Error: ${k.message}`)}finally{g(!1)}};return s.jsx(gl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Room Owners"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all property owners"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-gray-600",children:[s.jsx(Wr,{className:"w-4 h-4"}),s.jsxs("span",{children:[b.length," owners"]})]})]}),s.jsxs(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"flex gap-3",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ti,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{value:e,onChange:j=>t(j.target.value),placeholder:"Search owners...",className:"w-full pl-9 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})}),r&&s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Loading owners"}),a&&!r&&s.jsx("div",{className:"mt-3 text-sm text-red-600",children:a})]}),s.jsxs(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full table-fixed",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Owner"}),s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"KYC"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left w-24",children:"Email Verified"}),s.jsx("th",{className:"px-6 py-3 text-left w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:b.map(j=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 truncate",children:j.name}),s.jsxs("td",{className:"px-6 py-3 truncate flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-gray-400"}),j.email]}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.kycStatus==="approved"?"bg-green-100 text-green-800":j.kycStatus==="rejected"?"bg-red-100 text-red-800":j.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(j.kycStatus).toUpperCase()})}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isActive?"ACTIVE":"INACTIVE"})}),s.jsx("td",{className:"px-6 py-3",children:j.isVerified?"Yes":"No"}),s.jsx("td",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>{f(j),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md hover:bg-gray-50",children:[s.jsx(Ir,{className:"w-4 h-4 mr-1"}),"Details"]}),s.jsx("button",{onClick:()=>C(j._id,j.name,j.isActive),disabled:x,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${j.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,title:j.isActive?"Deactivate User":"Activate User",children:j.isActive?"Deactivate":"Activate"}),j.kycStatus==="pending"&&(j.govtIdFrontUrl||j.govtIdBackUrl)&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>w(j._id,"approve"),disabled:A,className:"inline-flex items-center px-2 py-1 text-xs bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",title:"Approve KYC",children:s.jsx(At,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>w(j._id,"reject"),disabled:A,className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",title:"Reject KYC",children:s.jsx(rr,{className:"w-3 h-3"})})]})]})})]},j._id))})]})}),s.jsx("div",{className:"lg:hidden p-4 space-y-3",children:b.map(j=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("div",{className:"font-semibold",children:j.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"}),j.email]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.kycStatus==="approved"?"bg-green-100 text-green-800":j.kycStatus==="rejected"?"bg-red-100 text-red-800":j.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(j.kycStatus).toUpperCase()}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isActive?"ACTIVE":"INACTIVE"})]}),s.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>{f(j),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md",children:"View"}),s.jsx("button",{onClick:()=>C(j._id,j.name,j.isActive),disabled:x,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${j.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:j.isActive?"Deactivate":"Activate"}),j.kycStatus==="pending"&&(j.govtIdFrontUrl||j.govtIdBackUrl)&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>w(j._id,"approve"),disabled:A,className:"inline-flex items-center px-2 py-1 text-xs bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[s.jsx(At,{className:"w-3 h-3 mr-1"}),"Approve"]}),s.jsxs("button",{onClick:()=>w(j._id,"reject"),disabled:A,className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:[s.jsx(rr,{className:"w-3 h-3 mr-1"}),"Reject"]})]})]})]},j._id))})]}),c&&u&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Owner Details"}),s.jsx("button",{onClick:()=>d(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsxs("div",{className:"p-4 space-y-4 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:u.name}),s.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"})," ",u.email]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"KYC Status:"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.kycStatus==="approved"?"bg-green-100 text-green-800":u.kycStatus==="rejected"?"bg-red-100 text-red-800":u.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(u.kycStatus).toUpperCase()})]}),(u.govtIdFrontUrl||u.govtIdBackUrl)&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Government ID Documents:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.govtIdFrontUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Front Image"}),s.jsx("img",{src:u.govtIdFrontUrl,alt:"Front",className:"w-full h-40 object-cover rounded border"})]}),u.govtIdBackUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Back Image"}),s.jsx("img",{src:u.govtIdBackUrl,alt:"Back",className:"w-full h-40 object-cover rounded border"})]})]})]}),u.kycStatus==="pending"&&(u.govtIdFrontUrl||u.govtIdBackUrl)&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"font-medium text-gray-900 mb-3",children:"Review KYC Documents:"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>w(u._id,"approve"),disabled:A,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(At,{className:"w-4 h-4"}),A?"Processing...":"Approve KYC"]}),s.jsxs("button",{onClick:()=>w(u._id,"reject"),disabled:A,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(rr,{className:"w-4 h-4"}),A?"Processing...":"Reject KYC"]})]})]}),u.kycStatus==="pending"&&!u.govtIdFrontUrl&&!u.govtIdBackUrl&&s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[s.jsx(Hn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"No KYC documents uploaded yet"})]})})]})]})}),s.jsx(ST,{isOpen:y.isOpen,onClose:()=>v(j=>({...j,isOpen:!1})),onConfirm:N,title:y.currentStatus?"Deactivate User":"Activate User",message:`Are you sure you want to ${y.currentStatus?"deactivate":"activate"} ${y.userName}? ${y.currentStatus?"They will no longer be able to log in or use the platform.":"They will regain access to the platform."}`,confirmText:y.currentStatus?"Deactivate":"Activate",type:y.currentStatus?"danger":"success",isLoading:x})]})})},BJe=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[a,i]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,f]=_.useState(null),[A,m]=_.useState(!1),[x,g]=_.useState({isOpen:!1,userId:null,userName:"",currentStatus:null});_.useEffect(()=>{(async()=>{try{n(!0),i("");const C=localStorage.getItem("authToken"),N=await qe.get("/user/users"),j=N.data;if(N.status!==200)throw new Error((j==null?void 0:j.message)||"Failed to fetch users");const P=((j==null?void 0:j.data)||[]).filter(k=>k.role===1).map(k=>({_id:k._id,name:k.name,email:k.email,isVerified:!!k.isVerified,isActive:k.isActive!==!1,createdAt:k.createdAt,updatedAt:k.updatedAt}));l(P)}catch(C){i(C.message),l([])}finally{n(!1)}})()},[]);const y=_.useMemo(()=>o.filter(w=>w.name.toLowerCase().includes(e.toLowerCase())||w.email.toLowerCase().includes(e.toLowerCase())),[o,e]),v=(w,C,N)=>{g({isOpen:!0,userId:w,userName:C,currentStatus:N})},b=async()=>{const{userId:w,currentStatus:C}=x;try{m(!0),g(P=>({...P,isOpen:!1}));const N=await qe.patch(`/admin/user/${w}/toggle-status`),j=N.data;if(N.status!==200)throw new Error((j==null?void 0:j.message)||"Failed to toggle user status");l(P=>P.map(k=>k._id===w?{...k,isActive:!C}:k)),u&&u._id===w&&f(P=>({...P,isActive:!C}))}catch(N){console.error("Toggle status error:",N),alert(`Error: ${N.message}`)}finally{m(!1)}};return s.jsx(gl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Seekers"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all room seekers"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-gray-600",children:[s.jsx(Wr,{className:"w-4 h-4"}),s.jsxs("span",{children:[y.length," seekers"]})]})]}),s.jsxs(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"flex gap-3",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ti,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{value:e,onChange:w=>t(w.target.value),placeholder:"Search seekers...",className:"w-full pl-9 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})}),r&&s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Loading seekers"}),a&&!r&&s.jsx("div",{className:"mt-3 text-sm text-red-600",children:a})]}),s.jsxs(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full table-fixed",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Seeker"}),s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left w-24",children:"Email Verified"}),s.jsx("th",{className:"px-6 py-3 text-left w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:y.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 truncate",children:w.name}),s.jsxs("td",{className:"px-6 py-3 truncate flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-gray-400"}),w.email]}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isActive?"ACTIVE":"INACTIVE"})}),s.jsx("td",{className:"px-6 py-3",children:w.isVerified?"Yes":"No"}),s.jsx("td",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>{f(w),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md hover:bg-gray-50",children:[s.jsx(Ir,{className:"w-4 h-4 mr-1"}),"Details"]}),s.jsx("button",{onClick:()=>v(w._id,w.name,w.isActive),disabled:A,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${w.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,title:w.isActive?"Deactivate User":"Activate User",children:w.isActive?"Deactivate":"Activate"})]})})]},w._id))})]})}),s.jsx("div",{className:"lg:hidden p-4 space-y-3",children:y.map(w=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("div",{className:"font-semibold",children:w.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"}),w.email]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isActive?"ACTIVE":"INACTIVE"})}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{onClick:()=>{f(w),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md",children:"View"}),s.jsx("button",{onClick:()=>v(w._id,w.name,w.isActive),disabled:A,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${w.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:w.isActive?"Deactivate":"Activate"})]})]},w._id))})]}),c&&u&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Seeker Details"}),s.jsx("button",{onClick:()=>d(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:u.name}),s.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"})," ",u.email]}),s.jsxs("div",{children:["Email Verified: ",s.jsx("span",{className:"font-medium",children:u.isVerified?"Yes":"No"})]})]})]})}),s.jsx(ST,{isOpen:x.isOpen,onClose:()=>g(w=>({...w,isOpen:!1})),onConfirm:b,title:x.currentStatus?"Deactivate User":"Activate User",message:`Are you sure you want to ${x.currentStatus?"deactivate":"activate"} ${x.userName}? ${x.currentStatus?"They will no longer be able to log in or use the platform.":"They will regain access to the platform."}`,confirmText:x.currentStatus?"Deactivate":"Activate",type:x.currentStatus?"danger":"success",isLoading:A})]})})},kJe=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(""),[o,l]=_.useState(""),[c,d]=_.useState("all"),[u,f]=_.useState("all"),[A,m]=_.useState(null),[x,g]=_.useState(""),[y,v]=_.useState({isOpen:!1,userId:null,userName:"",currentStatus:null}),b=O=>({1:"Seeker",2:"Admin",3:"Owner"})[O]||"Unknown",w=O=>({1:{color:"bg-blue-100 text-blue-800",icon:cr},2:{color:"bg-purple-100 text-purple-800",icon:er},3:{color:"bg-green-100 text-green-800",icon:Pr}})[O]||{color:"bg-gray-100 text-gray-800",icon:cr},C=async()=>{try{n(!0),i("");const O=localStorage.getItem("authToken"),B=await qe.get("/user/all");if(B.status!==200)throw new Error("Failed to fetch users");const F=B.data;console.log("Fetched users:",F);const M=F.users||F.data||F||[];t(Array.isArray(M)?M:[])}catch(O){console.error("Error fetching users:",O),i(O.message||"Failed to load users")}finally{n(!1)}};_.useEffect(()=>{C()},[]);const N=async(O,B,F)=>{v({isOpen:!0,userId:O,userName:B,currentStatus:F})},j=async()=>{const{userId:O,currentStatus:B}=y;try{if(m(O),v(M=>({...M,isOpen:!1})),(await qe.patch(`/user/${O}/status`,{isActive:!B})).status!==200)throw new Error("Failed to update user status");t(M=>M.map(R=>R._id===O?{...R,isActive:!B}:R)),g(`User ${B?"deactivated":"activated"} successfully!`),setTimeout(()=>g(""),3e3)}catch(F){console.error("Error updating user status:",F),i(F.message||"Failed to update user status"),setTimeout(()=>i(""),3e3)}finally{m(null)}},P=e.filter(O=>{var R,H,G;if(O.role===2)return!1;const B=o===""||((R=O.name)==null?void 0:R.toLowerCase().includes(o.toLowerCase()))||((H=O.email)==null?void 0:H.toLowerCase().includes(o.toLowerCase()))||((G=O.phone)==null?void 0:G.includes(o)),F=c==="all"||O.role===parseInt(c),M=u==="all"||u==="active"&&O.isActive!==!1||u==="inactive"&&O.isActive===!1;return B&&F&&M}),k=e.filter(O=>O.role!==2),T={total:k.length,active:k.filter(O=>O.isActive!==!1).length,inactive:k.filter(O=>O.isActive===!1).length,seekers:k.filter(O=>O.role===1).length,owners:k.filter(O=>O.role===3).length};return s.jsx(gl,{children:s.jsxs("div",{className:"bg-gray-50 flex flex-col",children:[s.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Wr,{className:"w-8 h-8 text-red-600"}),"All Users"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all users across the platform"})]})}),x&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[s.jsx(At,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-green-800 font-medium",children:x})]}),a&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[s.jsx($t,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"text-red-800 font-medium",children:a})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.total})]}),s.jsx(Wr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.active})]}),s.jsx(At,{className:"w-8 h-8 text-green-500"})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:T.inactive})]}),s.jsx(rr,{className:"w-8 h-8 text-red-500"})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Seekers"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T.seekers})]}),s.jsx(cr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Owners"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.owners})]}),s.jsx(Pr,{className:"w-8 h-8 text-green-500"})]})})]}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:o,onChange:O=>l(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(BB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:c,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"1",children:"Seekers"}),s.jsx("option",{value:"3",children:"Owners"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(BB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:u,onChange:O=>f(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}):P.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Wr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No users found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your filters"})]}):s.jsxs("div",{className:"overflow-x-hidden",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto -mx-0",children:s.jsx("div",{className:"inline-block min-w-full align-middle",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((O,B)=>{var H;const F=w(O.role),M=F.icon,R=O.isActive!==!1;return s.jsxs(J.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.05},className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center text-white font-semibold",children:((H=O.name)==null?void 0:H.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name||"Unknown User"}),s.jsx("div",{className:"text-sm text-gray-500",children:O.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.color}`,children:[s.jsx(M,{className:"w-3 h-3 mr-1"}),b(O.role)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(bn,{className:"w-3 h-3 text-gray-400"}),O.phone||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(Fr,{className:"w-3 h-3 text-gray-400"}),O.createdAt?new Date(O.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R?s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"w-3 h-3 mr-1"}),"Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-3 h-3 mr-1"}),"Inactive"]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("button",{onClick:()=>N(O._id,O.name,R),disabled:A===O._id,className:`inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${R?"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[A===O._id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current mr-1"}):R?s.jsx(rr,{className:"w-3 h-3 mr-1"}):s.jsx(At,{className:"w-3 h-3 mr-1"}),A===O._id?"Updating...":R?"Deactivate":"Activate"]})})]},O._id)})})]})})}),s.jsx("div",{className:"lg:hidden p-4 space-y-4 bg-gray-50",children:P.map((O,B)=>{var H;const F=w(O.role),M=F.icon,R=O.isActive!==!1;return s.jsxs(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:B*.05},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-50 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center text-white font-semibold flex-shrink-0",children:((H=O.name)==null?void 0:H.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{className:"ml-3 overflow-hidden",children:[s.jsx("div",{className:"text-sm font-bold text-gray-900 truncate",children:O.name||"Unknown User"}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:O.email})]})]}),s.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${F.color}`,children:[s.jsx(M,{className:"w-3 h-3 mr-1"}),b(O.role)]})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[s.jsx(bn,{className:"w-3.5 h-3.5 mr-2 text-gray-400"}),O.phone||"N/A"]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[s.jsx(Fr,{className:"w-3.5 h-3.5 mr-2 text-gray-400"}),"Joined ",O.createdAt?new Date(O.createdAt).toLocaleDateString():"N/A"]})]}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 flex items-center justify-between",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-bold ${R?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:R?"ACTIVE":"INACTIVE"}),s.jsxs("button",{onClick:()=>N(O._id,O.name,R),disabled:A===O._id,className:`inline-flex items-center px-4 py-1.5 rounded-lg text-xs font-bold transition-all shadow-sm ${R?"bg-white text-red-600 border border-red-200 hover:bg-red-50":"bg-green-600 text-white hover:bg-green-700"} disabled:opacity-50`,children:[A===O._id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current mr-2"}):null,A===O._id?"...":R?"Deactivate":"Activate"]})]})]},O._id)})})]})}),!r&&P.length>0&&s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-4 text-center text-sm text-gray-600",children:["Showing ",P.length," of ",e.length," users"]}),s.jsx(ST,{isOpen:y.isOpen,onClose:()=>v(O=>({...O,isOpen:!1})),onConfirm:j,title:y.currentStatus?"Deactivate User":"Activate User",message:`Are you sure you want to ${y.currentStatus?"deactivate":"activate"} ${y.userName}? ${y.currentStatus?"They will no longer be able to log in or use the platform.":"They will regain access to the platform."}`,confirmText:y.currentStatus?"Deactivate":"Activate",type:y.currentStatus?"danger":"success",isLoading:A===y.userId})]})})},EJe=()=>{const e=hr(),[t,r]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[n,a]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(!1),[d,u]=_.useState(""),[f,A]=_.useState(""),[m,x]=_.useState({}),[g,y]=_.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[v,b]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[w,C]=_.useState(!1),[N,j]=_.useState(null),P=async R=>{if(!R||!R.includes("@")){j(null);return}C(!0);try{const H=await qe.get(`/user/check-email?email=${encodeURIComponent(R.toLowerCase().trim())}`),G=H.data;H.status===200?j(G.exists?G:null):j(null)}catch(H){console.error("Error checking email:",H),j(null)}finally{C(!1)}};_.useEffect(()=>{if(t.email&&v.email){const R=setTimeout(()=>{P(t.email)},500);return()=>clearTimeout(R)}else j(null)},[t.email,v.email]);const k=()=>{const R={};t.name.trim()?t.name.trim().length<2?R.name="Name must be at least 2 characters":t.name.trim().length>50&&(R.name="Name must not exceed 50 characters"):R.name="Name is required";const H=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!t.email.trim())R.email="Email is required";else if(!H.test(t.email))R.email="Please enter a valid email address";else if(N&&N.exists){const G=N.role===1?"Seeker":N.role===3?"Owner":"Admin";R.email=`This email is already registered as a ${G}`}else t.email.trim().length>100&&(R.email="Email must not exceed 100 characters");if(!t.password)R.password="Password is required";else{const G=[];t.password.length<8&&G.push("at least 8 characters"),/[A-Z]/.test(t.password)||G.push("one uppercase letter"),/[a-z]/.test(t.password)||G.push("one lowercase letter"),/[0-9]/.test(t.password)||G.push("one number"),/[!@#$%^&*(),.?":{}|<>]/.test(t.password)||G.push("one special character (!@#$%^&*...)"),G.length>0&&(R.password=`Password must contain ${G.join(", ")}`)}return t.confirmPassword?t.password!==t.confirmPassword&&(R.confirmPassword="Passwords do not match"):R.confirmPassword="Please confirm password",x(R),Object.keys(R).length===0},T=R=>{y({length:R.length>=8,uppercase:/[A-Z]/.test(R),lowercase:/[a-z]/.test(R),number:/[0-9]/.test(R),special:/[!@#$%^&*(),.?":{}|<>]/.test(R)})},O=R=>{const{name:H,value:G}=R.target;r($=>({...$,[H]:G})),H==="password"&&T(G),v[H]&&F(H,G)},B=R=>{const{name:H}=R.target;b(G=>({...G,[H]:!0})),F(H,t[H])},F=(R,H)=>{const G={...m};switch(R){case"name":H.trim()?H.trim().length<2?G.name="Name must be at least 2 characters":H.trim().length>50?G.name="Name must not exceed 50 characters":delete G.name:G.name="Name is required";break;case"email":const $=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;H.trim()?$.test(H)?H.trim().length>100?G.email="Email must not exceed 100 characters":delete G.email:G.email="Please enter a valid email address":G.email="Email is required";break;case"password":H?!g.length||!g.uppercase||!g.lowercase||!g.number||!g.special?G.password="":delete G.password:G.password="Password is required";break;case"confirmPassword":H?H!==t.password?G.confirmPassword="Passwords do not match":delete G.confirmPassword:G.confirmPassword="Please confirm password";break}x(G)},M=async R=>{if(R.preventDefault(),!!k()){c(!0),u(""),A("");try{const H=await qe.post("/admin/create-admin",{name:t.name.trim(),email:t.email.trim().toLowerCase(),password:t.password,role:2}),G=H.data;if(H.status!==200)throw new Error(G.message||"Failed to create admin");A(`Admin account created successfully! Login credentials have been sent to ${t.email}`),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{e("/admin-dashboard")},3e3)}catch(H){console.error("Error creating admin:",H),u(H.message||"Failed to create admin account")}finally{c(!1)}}};return s.jsx(gl,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsxs("button",{onClick:()=>e("/admin-dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(Ps,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(er,{className:"w-8 h-8 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Admin"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new administrator account"})]})]})]}),f&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[s.jsx(At,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-green-800 font-medium",children:f}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:" Email notification sent with login credentials."}),s.jsx("p",{className:"text-green-700 text-sm",children:"Redirecting to dashboard..."})]})]}),d&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[s.jsx($t,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-red-800 font-medium",children:d})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-2xl mx-auto",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(er,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-purple-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Administrator Privileges"}),s.jsx("p",{children:"This account will have full access to the admin panel including user management, property approvals, and system settings."})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:O,onBlur:B,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.name?"border-red-500":v.name&&!m.name&&t.name?"border-green-500":"border-gray-200"}`,placeholder:"Enter admin's full name",disabled:l}),m.name&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"}),m.name]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(nn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:O,onBlur:B,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${N&&N.exists||m.email?"border-red-500":v.email&&!m.email&&t.email&&!w&&!N?"border-green-500":"border-gray-200"}`,placeholder:"admin@example.com",disabled:l}),w&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(Js,{className:"w-5 h-5 text-gray-400 animate-spin"})}),!w&&v.email&&t.email&&!m.email&&!N&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(At,{className:"w-5 h-5 text-green-500"})}),!w&&N&&N.exists&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx($t,{className:"w-5 h-5 text-red-500"})})]}),N&&N.exists&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"}),`This email is already registered as a ${N.role===1?"Seeker":N.role===3?"Owner":"Admin"}`]}),m.email&&!N&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"}),m.email]}),!w&&v.email&&t.email&&!m.email&&!N&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"}),"Email is available!"]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:n?"text":"password",id:"password",name:"password",value:t.password,onChange:O,onBlur:B,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.password?"border-red-500":"border-gray-200"}`,placeholder:"Enter secure password",disabled:l}),s.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]}),m.password&&m.password!==""&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"}),m.password]}),t.password&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1.5",children:"Password requirements:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${g.length?"text-green-600":"text-gray-500"}`,children:[g.length?s.jsx(At,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${g.uppercase?"text-green-600":"text-gray-500"}`,children:[g.uppercase?s.jsx(At,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One uppercase letter (A-Z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${g.lowercase?"text-green-600":"text-gray-500"}`,children:[g.lowercase?s.jsx(At,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One lowercase letter (a-z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${g.number?"text-green-600":"text-gray-500"}`,children:[g.number?s.jsx(At,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One number (0-9)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${g.special?"text-green-600":"text-gray-500"}`,children:[g.special?s.jsx(At,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One special character (!@#$%^&*...)"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:i?"text":"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:O,onBlur:B,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.confirmPassword?"border-red-500":v.confirmPassword&&!m.confirmPassword&&t.confirmPassword?"border-green-500":"border-gray-200"}`,placeholder:"Re-enter password",disabled:l}),s.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]}),m.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"}),m.confirmPassword]}),v.confirmPassword&&!m.confirmPassword&&t.confirmPassword&&t.password===t.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"}),"Passwords match!"]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/admin-dashboard"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l||w||N&&N.exists,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-purple-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ey,{className:"w-5 h-5"}),"Create Admin Account"]})})]})]})}),s.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($t,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Security Reminder"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-yellow-700",children:[s.jsx("li",{children:"Share admin credentials securely"}),s.jsx("li",{children:"Use strong, unique passwords"}),s.jsx("li",{children:"Only create admin accounts for trusted personnel"}),s.jsx("li",{children:"Admin accounts have unrestricted system access"})]})]})]})})]})]})})},PJe=()=>{const e=hr(),[t,r]=_.useState(""),[n,a]=_.useState("all"),[i,o]=_.useState("all"),[l,c]=_.useState([]),[d,u]=_.useState(!1),[f,A]=_.useState(""),[m,x]=_.useState([]),[g,y]=_.useState(!1),[v,b]=_.useState("");_.useEffect(()=>{(async()=>{try{u(!0),A("");const k=localStorage.getItem("authToken"),T=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),O=T._id||T.id||"",B="/property/admin/properties?page=1&limit=200";console.log("Fetching Admin Properties from:",B),console.log("Using Auth Token:",k?"Yes":"No"),console.log("User ID:",O);const F=await qe.get(B,{headers:{"x-user-id":O}});console.log("Response Status:",F.status);const M=F.data;if(console.log("Response Data:",M),F.status!==200||M.success!==!0)throw new Error(M.message||"Failed to fetch properties");const R=Array.isArray(M.data)?M.data:[];console.log("Set Properties:",R.length),x(R)}catch(k){console.error("Fetch Error:",k),A(k.message)}finally{u(!1)}})()},[]);const w=_.useMemo(()=>{const P=t.trim().toLowerCase();return(m||[]).filter(k=>{var H,G,$,V,te;const T=(k.property_name||"").toLowerCase(),O=`${((H=k.address)==null?void 0:H.street)||""} ${((G=k.address)==null?void 0:G.city)||""} ${(($=k.address)==null?void 0:$.state)||""}`.toLowerCase(),B=(((V=k.owner)==null?void 0:V.name)||"").toLowerCase(),F=!P||T.includes(P)||O.includes(P)||B.includes(P);let M=!0;if(n==="pending"){const re=(k.rooms||[]).some(K=>(K.approval_status||"pending")==="pending");M=(k.approval_status||"pending")==="pending"||re}else n==="approved"&&(M=(k.approval_status||"pending")==="approved");const R=i==="all"||(((te=k.owner)==null?void 0:te.name)||k.owner_id)===i;return F&&M&&R})},[m,t,n,i]),C=_.useMemo(()=>{const P={};return w.forEach(k=>{var O,B;const T=((O=k.owner)==null?void 0:O.name)||((B=k.owner)==null?void 0:B.email)||k.owner_id||"Unknown Owner";P[T]||(P[T]=[]),P[T].push(k)}),P},[w]),N=_.useMemo(()=>{const P=m.length,k=m.filter(F=>(F.approval_status==="approved"||F.status==="active")&&F.status!=="inactive").length,T=m.filter(F=>F.approval_status==="pending"||(F.rooms||[]).some(M=>(M.approval_status||"pending")==="pending")).length;let O=0;return m.forEach(F=>{F.rooms&&Array.isArray(F.rooms)&&F.rooms.forEach(M=>{M.rent&&typeof M.rent=="number"&&(O+=M.rent)})}),{totalProperties:P,activeListings:k,pendingApproval:T,totalRevenue:(F=>F>=1e7?`${(F/1e7).toFixed(1)}Cr`:F>=1e5?`${(F/1e5).toFixed(1)}L`:F>=1e3?`${(F/1e3).toFixed(1)}K`:`${F}`)(O)}},[m]),j=P=>{const k={active:{text:"Active",color:"bg-green-100 text-green-800"},pending:{text:"Pending",color:"bg-yellow-100 text-yellow-800"},approved:{text:"Approved",color:"bg-green-100 text-green-800"},rejected:{text:"Rejected",color:"bg-red-100 text-red-800"},inactive:{text:"Inactive",color:"bg-gray-100 text-gray-800"},suspended:{text:"Suspended",color:"bg-red-100 text-red-800"}};return k[P]||k.inactive};return s.jsx(gl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Property Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all owner properties, view details, and approve or reject rooms"})]}),f&&s.jsx("div",{className:"p-3 rounded-md bg-red-50 text-red-700 border border-red-200",children:f}),d&&s.jsx("div",{className:"p-3 rounded-md bg-gray-50 text-gray-700 border border-gray-200",children:"Loading properties"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Properties"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.totalProperties})]}),s.jsx("div",{className:"p-3 rounded-lg bg-blue-50",children:s.jsx(Pr,{className:"w-6 h-6 text-blue-500"})})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Listings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.activeListings})]}),s.jsx("div",{className:"p-3 rounded-lg bg-green-50",children:s.jsx(Sa,{className:"w-6 h-6 text-green-500"})})]})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.pendingApproval})]}),s.jsx("div",{className:"p-3 rounded-lg bg-yellow-50",children:s.jsx(Fr,{className:"w-6 h-6 text-yellow-500"})})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl w-fit",children:[{id:"all",label:"All Properties",count:N.totalProperties},{id:"pending",label:"Pending Approval",count:N.pendingApproval,color:"text-yellow-600"},{id:"approved",label:"Approved",count:N.activeListings,color:"text-green-600"}].map(P=>s.jsxs("button",{onClick:()=>a(P.id),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center gap-2 ${n===P.id?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx("span",{className:n===P.id?P.color:"",children:P.label}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${n===P.id?"bg-gray-100 text-gray-900":"bg-gray-200 text-gray-600"}`,children:P.count})]},P.id))}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"flex items-center space-x-2 bg-white border border-gray-200 rounded-lg px-3 py-2 shadow-sm",children:[s.jsx(Wr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("select",{value:i,onChange:P=>o(P.target.value),className:"text-sm font-medium focus:outline-none bg-transparent min-w-[150px]",children:[s.jsx("option",{value:"all",children:"All Owners"}),Object.keys(C).sort().map(P=>s.jsx("option",{value:P,children:P},P))]})]})})]}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ti,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search by property name, location, or owner...",value:t,onChange:P=>r(P.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-transparent rounded-xl focus:bg-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200"})]}),s.jsx(Sr,{children:l.length>0&&s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-600 whitespace-nowrap",children:[l.length," selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white text-sm font-semibold rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:"Approve"}),s.jsx("button",{className:"px-4 py-2 bg-red-600 text-white text-sm font-semibold rounded-lg hover:bg-red-700 transition-colors shadow-sm",children:"Reject"})]})]})})]})})]}),s.jsx("div",{className:"space-y-8",children:Object.entries(C).map(([P,k])=>{var T,O;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-50 flex items-center justify-center",children:s.jsx(cr,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:P}),s.jsxs("p",{className:"text-gray-500 text-sm font-medium",children:[((O=(T=k[0])==null?void 0:T.owner)==null?void 0:O.email)||"","  ",k.length," Properties"]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["",k.reduce((B,F)=>{var M;return B+(((M=F.rooms)==null?void 0:M.reduce((R,H)=>R+(H.rent||0),0))||0)},0).toLocaleString()]}),s.jsx("span",{className:"text-xs text-gray-500",children:"Total Potential Rent"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.map((B,F)=>{var V,te,re,K;const M=j(B.approval_status||"pending"),R=B.rooms||[],H=((V=B.images)==null?void 0:V.front)||((te=R.find(z=>z.room_image))==null?void 0:te.room_image),G=R.filter(z=>(z.approval_status||"pending")==="pending").length,$=R.filter(z=>(z.approval_status||"pending")==="approved").length;return s.jsxs(J.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:F*.05},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>{console.log("Property clicked:",B._id,B.property_name),console.log("Navigating to:",`/admin-property-details/${B._id}`),e(`/admin-property-details/${B._id}`)},children:[s.jsxs("div",{className:"relative h-48 bg-gray-200",children:[H?s.jsx("img",{src:H,alt:B.property_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:s.jsx(Zr,{className:"w-12 h-12 text-gray-400"})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${M.color}`,children:M.text})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(Ir,{className:"w-8 h-8 text-white"})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:B.property_name})}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[s.jsx(xr,{className:"w-4 h-4 mr-1 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:`${((re=B.address)==null?void 0:re.city)||""}, ${((K=B.address)==null?void 0:K.state)||""}`})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Room Status"}),s.jsxs("span",{className:"text-xs font-bold text-gray-700",children:[$,"/",R.length," Approved"]})]}),s.jsxs("div",{className:"flex w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:[s.jsx("div",{className:"bg-green-500 h-full transition-all duration-500",style:{width:`${$/(R.length||1)*100}%`}}),s.jsx("div",{className:"bg-yellow-400 h-full transition-all duration-500",style:{width:`${G/(R.length||1)*100}%`}})]}),G>0&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-yellow-600 bg-yellow-50 px-2 py-1 rounded-md w-fit",children:[s.jsx($t,{className:"w-3.5 h-3.5"}),G," ",G===1?"Room Needs":"Rooms Need"," Review"]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("button",{onClick:z=>{z.stopPropagation(),console.log("View Details clicked:",B._id,B.property_name),console.log("Navigating to:",`/admin-property-details/${B._id}`),e(`/admin-property-details/${B._id}`)},className:"flex items-center px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[s.jsx(Ir,{className:"w-3 h-3 mr-1"}),"View Details"]})}),s.jsx(x1,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600 transition-colors"})]})]})]},B._id)})})]},P)})}),s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-500",children:["Showing ",s.jsx("span",{className:"text-gray-900 font-bold",children:Object.keys(C).length})," owner groups  ",s.jsx("span",{className:"text-gray-900 font-bold",children:w.length})," properties"]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("button",{className:"p-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors disabled:opacity-50",children:s.jsx(x1,{className:"w-4 h-4 rotate-180"})}),[1,2,3].map(P=>s.jsx("button",{className:`w-9 h-9 flex items-center justify-center rounded-lg text-sm font-bold transition-all duration-200 ${P===1?"bg-red-600 text-white shadow-lg shadow-red-200":"text-gray-600 hover:bg-gray-50"}`,children:P},P)),s.jsx("button",{className:"p-2 border border-gray-200 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors",children:s.jsx(x1,{className:"w-4 h-4"})})]})]})}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:s.jsx(Qr,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Success!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:v}),s.jsx("button",{onClick:()=>y(!1),className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"OK"})]})})})]})})},IJe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",BT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let TJe=za.icon({iconUrl:IJe,shadowUrl:BT,iconSize:[25,41],iconAnchor:[12,41]});za.Marker.prototype.options.icon=TJe;const T$=za.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:BT,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),O$=za.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:BT,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),OJe=()=>{var ee,W,ne,se,ce,ye,Ae,xe,le,Z,pe,oe,X,be,_e,Le,ke,Qe,Ye,it,Oe,Ge,mt,ft;const{propertyId:e}=Su(),t=hr();console.log("AdminPropertyDetails component loaded"),console.log("propertyId from useParams:",e),console.log("Current URL:",window.location.href),console.log("Component mounted successfully");const[r,n]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(""),[c,d]=_.useState(null),[u,f]=_.useState(!1),[A,m]=_.useState(!1),[x,g]=_.useState(!1),[y,v]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[b,w]=_.useState(""),[C,N]=_.useState(!1),[j,P]=_.useState(""),[k,T]=_.useState(""),[O,B]=_.useState(!1),[F,M]=_.useState([]),R=r&&typeof r.latitude=="number"&&typeof r.longitude=="number"&&!Number.isNaN(r.latitude)&&!Number.isNaN(r.longitude);_.useEffect(()=>{e&&(async()=>{try{i(!0),l("");const Je=localStorage.getItem("authToken"),ue=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),Se=ue._id||ue.id||"";console.log("Fetching property details for ID:",e),console.log("Current URL:",window.location.href);const Fe=await qe.get(`/property/admin/properties/${e}`,{headers:{"x-user-id":Se}}),Ee=Fe.data;if(console.log("Admin property response:",Ee),Fe.status!==200||Ee.success!==!0)throw new Error(Ee.message||"Failed to fetch property");console.log("Found property:",Ee.data),n(Ee.data)}catch(Je){l(Je.message)}finally{i(!1)}})()},[e]),_.useEffect(()=>{(async()=>{try{const Je=localStorage.getItem("authToken"),ue=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),Se=ue._id||ue.id||"",Fe=await qe.get("/property/admin/properties",{headers:{"x-user-id":Se}});if(Fe.status===200&&Fe.data.success){const Ee=Fe.data.data.filter(De=>typeof De.latitude=="number"&&typeof De.longitude=="number"&&!Number.isNaN(De.latitude)&&!Number.isNaN(De.longitude));M(Ee),console.log(`Loaded ${Ee.length} properties with coordinates for map`)}}catch(Je){console.error("Failed to fetch all properties:",Je)}})()},[]);const H=async(Ie,Je)=>{try{console.log(`Attempting to ${Je} room:`,Ie);const ue=localStorage.getItem("authToken"),Se=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),Fe=Se._id||Se.id||"";console.log("Auth token:",ue?"Present":"Missing"),console.log("User ID:",Fe);const Ee=await qe.put(`/property/admin/rooms/${Ie}/approve`,{status:Je==="approve"?"approved":"rejected"},{headers:{"x-user-id":Fe}});console.log("Response status:",Ee.status);const De=Ee.data;if(console.log("Response data:",De),Ee.status!==200||De.success!==!0)throw new Error(De.message||"Failed to update room");n(ut=>({...ut,rooms:(ut.rooms||[]).map(Nt=>Nt._id===Ie?{...Nt,...De.data}:Nt)})),f(!1),w(`Room ${Je==="approve"?"approved":"rejected"} successfully!`),g(!0),setTimeout(()=>{g(!1)},3e3),console.log(`Room ${Ie} ${Je}ed successfully`)}catch(ue){console.error(`Error ${Je}ing room:`,ue),P(`Failed to ${Je} room: ${ue.message}`),N(!0),setTimeout(()=>{N(!1)},5e3)}},G=async()=>{try{const Ie=localStorage.getItem("authToken"),Je=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),ue=Je._id||Je.id||"",Se=await qe.delete(`/property/admin/properties/${e}`,{headers:{"x-user-id":ue}}),Fe=Se.data;if(Se.status!==200||Fe.success!==!0)throw new Error(Fe.message||"Failed to delete property");w("Property deleted successfully!"),g(!0),setTimeout(()=>{g(!1),t("/admin-properties")},1500)}catch(Ie){P(Ie.message),N(!0),setTimeout(()=>N(!1),5e3)}},$=async Ie=>{try{const Je=localStorage.getItem("authToken"),ue=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),Se=ue._id||ue.id||"",Fe=await qe.delete(`/property/admin/rooms/${Ie}`,{headers:{"x-user-id":Se}}),Ee=Fe.data;if(Fe.status!==200||Ee.success!==!0)throw new Error(Ee.message||"Failed to delete room");n(De=>({...De,rooms:(De.rooms||[]).filter(ut=>ut._id!==Ie)})),w("Room deleted successfully!"),g(!0),setTimeout(()=>g(!1),3e3)}catch(Je){P(Je.message),N(!0),setTimeout(()=>N(!1),5e3)}},V=async Ie=>{try{const Je=localStorage.getItem("authToken"),ue=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),Se=ue._id||ue.id||"",Fe=await qe.put(`/property/admin/properties/${e}/approve`,{status:Ie==="approve"?"approved":"rejected"},{headers:{"x-user-id":Se}}),Ee=Fe.data;if(Fe.status!==200||Ee.success!==!0)throw new Error(Ee.message||"Failed to update property");n(De=>({...De,...Ee.data})),w(`Property ${Ie==="approve"?"approved":"rejected"} successfully!`),g(!0),setTimeout(()=>g(!1),3e3)}catch(Je){P(Je.message),N(!0),setTimeout(()=>N(!1),5e3)}},te=async()=>{if(!k.trim()){P("Please enter a message"),N(!0),setTimeout(()=>N(!1),3e3);return}try{B(!0);const Ie=localStorage.getItem("authToken"),Je=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),ue=Je._id||Je.id||"",Se=await qe.post("/property/admin/message",{propertyId:e,message:k.trim()},{headers:{"x-user-id":ue}}),Fe=Se.data;if(Se.status!==200||Fe.success!==!0)throw new Error(Fe.message||"Failed to send message");w("Message sent to owner successfully!"),g(!0),setTimeout(()=>g(!1),3e3),T("")}catch(Ie){P(Ie.message||"Failed to send message"),N(!0),setTimeout(()=>N(!1),5e3)}finally{B(!1)}},re=Ie=>({ac:"",wifi:"",tv:"",fridge:"",wardrobe:"",studyTable:"",balcony:"",attachedBathroom:"",parking4w:"",parking2w:"",kitchen:"",powerBackup:""})[Ie]||"",K=Ie=>{const Je={active:{text:"Active",color:"bg-green-100 text-green-800"},pending:{text:"Pending",color:"bg-yellow-100 text-yellow-800"},approved:{text:"Approved",color:"bg-green-100 text-green-800"},rejected:{text:"Rejected",color:"bg-red-100 text-red-800"},inactive:{text:"Inactive",color:"bg-gray-100 text-gray-800"}};return Je[Ie]||Je.pending},z=Ie=>{d(Ie),f(!0)};return a?s.jsx(gl,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property details..."})]})})}):o||!r?s.jsx(gl,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-600 mb-4",children:o||"Property not found"}),s.jsx("button",{onClick:()=>t("/admin-properties"),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Back to Properties"})]})})}):s.jsx(gl,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between min-h-[4rem] py-4 md:py-0 space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/admin-properties"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(Ps,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 line-clamp-1",children:r.property_name}),s.jsx("p",{className:"text-sm md:text-base text-gray-600 line-clamp-1",children:((ee=r.owner)==null?void 0:ee.name)||"Unknown Owner"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:space-x-3",children:[s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${K(r.approval_status||"pending").color}`,children:K(r.approval_status||"pending").text}),s.jsxs("div",{className:"flex flex-1 md:flex-none gap-2 overflow-x-auto pb-1 md:pb-0",children:[["pending","rejected"].includes(r.approval_status||"pending")&&s.jsx("button",{onClick:()=>v({isOpen:!0,title:"Approve Property?",message:"Are you sure you want to approve this property? This will make it visible to potential tenants.",onConfirm:()=>V("approve")}),className:"flex-shrink-0 bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 whitespace-nowrap",children:"Approve"}),["pending","approved"].includes(r.approval_status||"pending")&&s.jsx("button",{onClick:()=>v({isOpen:!0,title:"Reject Property?",message:"Are you sure you want to reject this property?",onConfirm:()=>V("reject")}),className:"flex-shrink-0 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 whitespace-nowrap",children:"Reject"}),s.jsxs("button",{onClick:()=>v({isOpen:!0,title:"Delete Property?",message:`Are you sure you want to permanently delete "${r.property_name}"? This will delete all associated rooms and cannot be undone.`,onConfirm:()=>G()}),className:"flex-shrink-0 bg-red-700 text-white px-3 py-2 rounded text-sm hover:bg-red-800 flex items-center whitespace-nowrap",children:[s.jsx(LA,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(kue,{className:"w-5 h-5 mr-2"}),"Property Images"]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[((W=r.images)==null?void 0:W.front)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Front View"}),s.jsx("img",{src:r.images.front,alt:"Front View",className:"w-full h-48 object-cover rounded-lg"})]}),((ne=r.images)==null?void 0:ne.back)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Back View"}),s.jsx("img",{src:r.images.back,alt:"Back View",className:"w-full h-48 object-cover rounded-lg"})]}),((se=r.images)==null?void 0:se.hall)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Hall"}),s.jsx("img",{src:r.images.hall,alt:"Hall",className:"w-full h-48 object-cover rounded-lg"})]}),((ce=r.images)==null?void 0:ce.kitchen)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Kitchen"}),s.jsx("img",{src:r.images.kitchen,alt:"Kitchen",className:"w-full h-48 object-cover rounded-lg"})]}),r.outside_toilet_image&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Outside Toilet"}),s.jsx("img",{src:r.outside_toilet_image,alt:"Outside Toilet",className:"w-full h-48 object-cover rounded-lg"})]})]}),((ye=r.images)==null?void 0:ye.gallery)&&r.images.gallery.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:r.images.gallery.map((Ie,Je)=>s.jsx("img",{src:Ie,alt:`Gallery ${Je+1}`,className:"w-full h-32 object-cover rounded-lg"},Je))})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Pr,{className:"w-5 h-5 mr-2"}),"Property Details"]})}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:r.description||"No description provided"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(xr,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:((Ae=r.address)==null?void 0:Ae.street)||"N/A"}),s.jsxs("p",{className:"text-gray-600",children:[((xe=r.address)==null?void 0:xe.city)||"N/A",", ",((le=r.address)==null?void 0:le.state)||"N/A"]}),s.jsxs("p",{className:"text-gray-600",children:["Pincode: ",((Z=r.address)==null?void 0:Z.pincode)||"N/A"]}),((pe=r.address)==null?void 0:pe.landmark)&&s.jsxs("p",{className:"text-gray-600",children:["Landmark: ",r.address.landmark]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Security Deposit"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",((oe=r.security_deposit)==null?void 0:oe.toLocaleString())||"0"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.rooms&&r.rooms.length>0?`${Math.min(...r.rooms.map(Ie=>Ie.perPersonRent||Math.ceil((Ie.rent||0)/(Ie.occupancy||1))||0)).toLocaleString()} - ${Math.max(...r.rooms.map(Ie=>Ie.perPersonRent||Math.ceil((Ie.rent||0)/(Ie.occupancy||1))||0)).toLocaleString()}`:r.monthly_rent?`${r.monthly_rent.toLocaleString()}`:"0"}),r.rooms&&r.rooms.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Range from ",r.rooms.length," room(s)"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Coordinates"}),s.jsx("p",{className:"text-sm text-gray-600",children:R?`${r.latitude}, ${r.longitude}`:"Not provided"})]})]}),r.amenities&&Object.keys(r.amenities).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(r.amenities).map(([Ie,Je])=>Je?s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-green-50 rounded-lg",children:[s.jsx("span",{className:"text-lg",children:re(Ie)}),s.jsx("span",{className:"text-sm font-medium text-green-800 capitalize",children:Ie.replace(/([A-Z])/g," $1").trim()})]},Ie):null)})]}),r.rules&&Object.keys(r.rules).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(r.rules).map(([Ie,Je])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${Je?"bg-green-500":"bg-red-500"}`}),s.jsxs("span",{className:"text-sm text-gray-700 capitalize",children:[Ie.replace(/([A-Z])/g," $1").trim(),": ",Je?"Allowed":"Not Allowed"]})]},Ie))})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Zr,{className:"w-5 h-5 mr-2"}),"Rooms (",(r.rooms||[]).length,")"]}),(r.rooms||[]).some(Ie=>Ie.approval_status==="pending")&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[s.jsxs("button",{onClick:()=>{const Ie=(r.rooms||[]).filter(Je=>Je.approval_status==="pending");v({isOpen:!0,title:"Approve All Pending Rooms?",message:`Are you sure you want to approve all ${Ie.length} pending rooms? This action cannot be undone.`,onConfirm:()=>Ie.forEach(Je=>H(Je._id,"approve"))})},className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 transition-colors flex items-center justify-center whitespace-nowrap",children:[s.jsx(Qr,{className:"w-4 h-4 mr-1"}),"Approve All"]}),s.jsxs("button",{onClick:()=>{const Ie=(r.rooms||[]).filter(Je=>Je.approval_status==="pending");v({isOpen:!0,title:"Reject All Pending Rooms?",message:`Are you sure you want to reject all ${Ie.length} pending rooms? This action cannot be undone.`,onConfirm:()=>Ie.forEach(Je=>H(Je._id,"reject"))})},className:"bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors flex items-center justify-center whitespace-nowrap",children:[s.jsx(rr,{className:"w-4 h-4 mr-1"}),"Reject All"]})]})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b overflow-x-auto",children:s.jsxs("div",{className:"flex items-center space-x-6 min-w-max",children:[(r.rooms||[]).filter(Ie=>Ie.approval_status==="pending").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ie=>Ie.approval_status==="pending").length," Pending"]})]}),(r.rooms||[]).filter(Ie=>Ie.approval_status==="approved").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ie=>Ie.approval_status==="approved").length," Approved"]})]}),(r.rooms||[]).filter(Ie=>Ie.approval_status==="rejected").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ie=>Ie.approval_status==="rejected").length," Rejected"]})]})]})}),s.jsx("div",{className:"p-4 sm:p-6",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 lg:gap-6",children:(r.rooms||[]).map(Ie=>{var ue,Se,Fe;const Je=K(Ie.approval_status||"pending");return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",Ie.room_number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[Ie.room_type,"  ",Ie.room_size," sq ft"]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Je.color}`,children:Je.text})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Per Person Rent"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",((ue=Ie.perPersonRent||Math.ceil((Ie.rent||0)/(Ie.occupancy||1)))==null?void 0:ue.toLocaleString())||"0"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Total Rent"}),s.jsxs("span",{className:"text-xs text-gray-500",children:["",((Se=Ie.rent)==null?void 0:Se.toLocaleString())||"0"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Occupancy"}),s.jsxs("span",{className:`font-semibold ${(Ie.current_occupants||0)>=Ie.occupancy?"text-red-600":"text-green-600"}`,children:[Ie.current_occupants||0," / ",Ie.occupancy]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Bed Type"}),s.jsx("span",{className:"font-semibold text-gray-900",children:Ie.bed_type||"N/A"})]})]}),Ie.description&&s.jsxs("div",{className:"mt-3",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:Ie.description})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[Ie.room_image&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Room Image"}),s.jsx("img",{src:Ie.room_image,alt:"Room",className:"w-full h-32 object-cover rounded"})]}),Ie.toilet_image&&((Fe=Ie.amenities)==null?void 0:Fe.attachedBathroom)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Toilet Image"}),s.jsx("img",{src:Ie.toilet_image,alt:"Toilet",className:"w-full h-32 object-cover rounded"})]})]}),Ie.amenities&&Object.keys(Ie.amenities).length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(Ie.amenities).map(([Ee,De])=>De?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[re(Ee)," ",Ee.replace(/([A-Z])/g," $1").trim()]},Ee):null)})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-2",children:[s.jsxs("button",{onClick:()=>z(Ie),className:"flex-1 min-w-[80px] bg-blue-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors flex items-center justify-center shadow-sm",children:[s.jsx(Ir,{className:"w-4 h-4 mr-1.5"}),"View"]}),Ie.approval_status==="pending"&&s.jsxs("div",{className:"flex flex-1 gap-2",children:[s.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),v({isOpen:!0,title:"Approve Room?",message:`Are you sure you want to approve Room ${Ie.room_number}?`,onConfirm:()=>H(Ie._id,"approve")})},className:"flex-1 bg-green-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-green-700 transition-colors flex items-center justify-center shadow-sm",children:[s.jsx(Qr,{className:"w-4 h-4 mr-1.5"}),"Approve"]}),s.jsxs("button",{onClick:Ee=>{Ee.stopPropagation(),v({isOpen:!0,title:"Reject Room?",message:`Are you sure you want to reject Room ${Ie.room_number}?`,onConfirm:()=>H(Ie._id,"reject")})},className:"flex-1 bg-red-600 text-white px-3 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors flex items-center justify-center shadow-sm",children:[s.jsx(rr,{className:"w-4 h-4 mr-1.5"}),"Reject"]})]}),Ie.approval_status==="approved"&&s.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[s.jsxs("div",{className:"flex-1 bg-green-100 text-green-800 px-3 py-2 rounded-lg text-sm text-center font-medium flex items-center justify-center border border-green-200",children:[s.jsx(Qr,{className:"w-4 h-4 mr-1.5"}),"Approved"]}),s.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),v({isOpen:!0,title:"Reject Approved Room?",message:`Are you sure you want to reject this already approved Room ${Ie.room_number}? It will be hidden from seekers.`,onConfirm:()=>H(Ie._id,"reject")})},className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors border border-red-200 flex items-center justify-center",title:"Reject this room",children:s.jsx(rr,{className:"w-5 h-5"})})]}),Ie.approval_status==="rejected"&&s.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[s.jsxs("div",{className:"flex-1 bg-red-100 text-red-800 px-3 py-2 rounded-lg text-sm text-center font-medium flex items-center justify-center border border-red-200",children:[s.jsx(rr,{className:"w-4 h-4 mr-1.5"}),"Rejected"]}),s.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),v({isOpen:!0,title:"Re-Approve Room?",message:`Are you sure you want to approve this previously rejected Room ${Ie.room_number}? It will become visible to seekers.`,onConfirm:()=>H(Ie._id,"approve")})},className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors border border-green-200 flex items-center justify-center",title:"Re-approve this room",children:s.jsx(Qr,{className:"w-5 h-5"})})]}),s.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),v({isOpen:!0,title:"Delete Room?",message:`Are you sure you want to permanently delete Room ${Ie.room_number}? This action cannot be undone.`,onConfirm:()=>$(Ie._id)})},className:"p-2 bg-gray-50 text-gray-500 rounded-lg hover:bg-red-50 hover:text-red-600 transition-colors border border-gray-200 hover:border-red-200 flex items-center justify-center",title:"Delete this room",children:s.jsx(LA,{className:"w-5 h-5"})})]})]},Ie._id)})})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Owner Information"]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[(X=r.owner)!=null&&X.profilePicture?s.jsx("img",{src:r.owner.profilePicture,alt:r.owner.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200",children:s.jsx("span",{className:"text-xl font-semibold text-gray-500",children:(((be=r.owner)==null?void 0:be.name)||"?").charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:((_e=r.owner)==null?void 0:_e.name)||"Unknown"}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-0.5",children:[(Le=r.owner)!=null&&Le.isVerified?s.jsxs("span",{className:"flex items-center text-green-600 bg-green-50 px-1.5 py-0.5 rounded",children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"})," Verified"]}):s.jsx("span",{className:"flex items-center text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:"Unverified"}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["Joined ",(ke=r.owner)!=null&&ke.createdAt?new Date(r.owner.createdAt).toLocaleDateString():"N/A"]})]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-3",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(nn,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-900 break-all",children:((Qe=r.owner)==null?void 0:Qe.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(bn,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Phone"}),s.jsx("p",{className:"text-sm text-gray-900",children:((Ye=r.owner)==null?void 0:Ye.phone)||"Not provided"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[s.jsxs("a",{href:`tel:${(it=r.owner)==null?void 0:it.phone}`,className:`flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${(Oe=r.owner)!=null&&Oe.phone?"":"opacity-50 cursor-not-allowed pointer-events-none"}`,children:[s.jsx(bn,{className:"w-4 h-4 mr-2"}),"Call"]}),s.jsxs("a",{href:`sms:${(Ge=r.owner)==null?void 0:Ge.phone}`,className:`flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${(mt=r.owner)!=null&&mt.phone?"":"opacity-50 cursor-not-allowed pointer-events-none"}`,children:[s.jsx(sg,{className:"w-4 h-4 mr-2"}),"Message"]})]}),s.jsxs("button",{onClick:()=>{var Ie,Je;T(`Hi ${((Ie=r.owner)==null?void 0:Ie.name)||"Owner"}, regarding your property "${r.property_name}"...`),(Je=document.querySelector("textarea"))==null||Je.focus(),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},className:"w-full mt-3 bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors flex items-center justify-center",children:[s.jsx(OA,{className:"w-4 h-4 mr-2"}),"Send Admin Notification"]})]})]}),R&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(xr,{className:"w-5 h-5 mr-2"}),"Location"]}),s.jsx("button",{onClick:()=>m(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Full Map"})]})}),s.jsx("div",{className:"h-64 relative",children:s.jsx("div",{className:"h-64 relative z-0",children:s.jsxs(ef,{center:[r.latitude,r.longitude],zoom:13,scrollWheelZoom:!1,className:"w-full h-full",style:{height:"100%",width:"100%"},children:[s.jsxs($c,{position:"topright",children:[s.jsx($c.BaseLayer,{checked:!0,name:"Street Map",children:s.jsx(ol,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})}),s.jsx($c.BaseLayer,{name:"Satellite",children:s.jsx(ol,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:' <a href="https://www.esri.com/">Esri</a>'})}),s.jsx($c.BaseLayer,{name:"Terrain",children:s.jsx(ol,{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:' <a href="https://opentopomap.org">OpenTopoMap</a> contributors'})})]}),F.map(Ie=>{var ue,Se;const Je=Ie._id===e;return s.jsx(tf,{position:[Ie.latitude,Ie.longitude],icon:Je?T$:O$,children:s.jsx(Ty,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("strong",{children:Ie.property_name}),Je&&s.jsx("div",{className:"text-xs text-red-600 font-semibold mt-1",children:"(Current Property)"}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[(ue=Ie.address)==null?void 0:ue.city,", ",(Se=Ie.address)==null?void 0:Se.state]})]})})},Ie._id)})]})})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Is,{className:"w-5 h-5 mr-2"}),"Documents"]})}),s.jsx("div",{className:"p-4",children:r.land_tax_receipt?s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Is,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Land Tax Receipt"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsx("a",{href:r.land_tax_receipt,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:s.jsx(Jc,{className:"w-4 h-4"})})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded"})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(sg,{className:"w-5 h-5 mr-2"}),"Send Message to Owner"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Send a notification message to the property owner"})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:k,onChange:Ie=>T(Ie.target.value),placeholder:"Type your message here... (e.g., Property details incorrect, Already listed elsewhere, etc.)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all",rows:"4",maxLength:"500",disabled:O}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsxs("span",{className:"text-xs text-gray-500 order-2 sm:order-1",children:[k.length,"/500 characters"]}),s.jsx("button",{onClick:te,disabled:O||!k.trim(),className:`flex items-center justify-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all w-full sm:w-auto order-1 sm:order-2 ${O||!k.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md"}`,children:O?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(OA,{className:"w-4 h-4"}),s.jsx("span",{children:"Send Message"})]})})]}),s.jsx("p",{className:"text-xs text-gray-400 italic",children:" Tip: Use this to notify the owner about issues like duplicate listings, incorrect information, or required updates."})]})})]})]})]})}),u&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Room ",c.room_number," Details"]}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:""})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Room Type"}),s.jsx("p",{className:"text-gray-900",children:c.room_type})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Room Size"}),s.jsxs("p",{className:"text-gray-900",children:[c.room_size," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Bed Type"}),s.jsx("p",{className:"text-gray-900",children:c.bed_type})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Occupancy"}),s.jsx("p",{className:"text-gray-900",children:c.occupancy})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Rent"}),s.jsxs("p",{className:"text-gray-900",children:["",(ft=c.rent)==null?void 0:ft.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Status"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${K(c.approval_status||"pending").color}`,children:K(c.approval_status||"pending").text})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.room_image&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("img",{src:c.room_image,alt:"Room",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-100"})]}),c.toilet_image&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("img",{src:c.toilet_image,alt:"Toilet",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-100"})]})]}),c.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg text-sm",children:c.description})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Amenities Checklist"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["ac","wifi","tv","fridge","wardrobe","studyTable","balcony","attachedBathroom"].map(Ie=>{var ue;const Je=(ue=c.amenities)==null?void 0:ue[Ie];return s.jsxs("div",{className:`flex items-center justify-between px-3 py-2 rounded-lg text-sm border transition-colors ${Je?"bg-green-50 border-green-200 text-green-800":"bg-gray-50 border-gray-100 text-gray-400"}`,children:[s.jsx("span",{className:"capitalize font-medium",children:Ie.replace(/([A-Z])/g," $1").trim()}),Je?s.jsx(Qr,{className:"w-4 h-4 text-green-600"}):s.jsx("span",{className:"w-4 h-4"})]},Ie)})})]}),s.jsx("div",{className:"flex items-center space-x-3 pt-4 border-t"})]})]})}),y.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:y.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:y.message}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>v({...y,isOpen:!1}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{y.onConfirm&&y.onConfirm(),v({...y,isOpen:!1})},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Confirm"})]})]})})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:s.jsx(Qr,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Success!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b}),s.jsx("button",{onClick:()=>g(!1),className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"OK"})]})})}),C&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:s.jsx(rr,{className:"h-6 w-6 text-red-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:j}),s.jsx("button",{onClick:()=>N(!1),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"OK"})]})})}),A&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"All Properties Location"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-4 mr-4 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Current Property"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Other Properties"})]})]}),s.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]})]}),s.jsx("div",{style:{width:"100%",height:"500px"},children:s.jsxs(ef,{center:[r.latitude,r.longitude],zoom:13,scrollWheelZoom:!0,className:"w-full h-full",style:{height:"100%",width:"100%"},children:[s.jsxs($c,{position:"topright",children:[s.jsx($c.BaseLayer,{checked:!0,name:"Street Map",children:s.jsx(ol,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})}),s.jsx($c.BaseLayer,{name:"Satellite",children:s.jsx(ol,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:' <a href="https://www.esri.com/">Esri</a>'})}),s.jsx($c.BaseLayer,{name:"Terrain",children:s.jsx(ol,{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:' <a href="https://opentopomap.org">OpenTopoMap</a> contributors'})})]}),F.map(Ie=>{var ue,Se;const Je=Ie._id===e;return s.jsx(tf,{position:[Ie.latitude,Ie.longitude],icon:Je?T$:O$,children:s.jsx(Ty,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("strong",{children:Ie.property_name}),Je&&s.jsx("div",{className:"text-xs text-red-600 font-semibold mt-1",children:"(Current Property)"}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[(ue=Ie.address)==null?void 0:ue.city,", ",(Se=Ie.address)==null?void 0:Se.state]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Lat: ",Ie.latitude.toFixed(4),", Lng: ",Ie.longitude.toFixed(4)]})]})})},Ie._id)})]})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 text-sm text-gray-600 flex items-center justify-between",children:[s.jsxs("div",{children:["Showing ",F.length," properties with location data"]}),s.jsx("div",{className:"text-xs text-gray-500",children:(r==null?void 0:r.property_name)||"Property Location"})]})]})})]})})},LJe=()=>{const[e,t]=_.useState("security"),[r,n]=_.useState({enableTwoFactor:!1}),[a,i]=_.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[o,l]=_.useState({old:!1,new:!1,confirm:!1}),[c,d]=_.useState({}),[u,f]=_.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[A,m]=_.useState({oldPassword:!1,newPassword:!1,confirmPassword:!1}),[x,g]=_.useState(!1),[y,v]=_.useState(!1),[b,w]=_.useState(""),C=O=>{const B={length:O.length>=8,uppercase:/[A-Z]/.test(O),lowercase:/[a-z]/.test(O),number:/[0-9]/.test(O),special:/[!@#$%^&*(),.?":{}|<>]/.test(O)};return f(B),Object.values(B).every(Boolean)},N=(O,B)=>{const F={...c};return O==="oldPassword"&&(B?delete F.oldPassword:F.oldPassword="Current password is required"),O==="newPassword"&&(B?C(B)?B===a.oldPassword?F.newPassword="New password must be different from current password":delete F.newPassword:F.newPassword="Password does not meet all requirements":F.newPassword="New password is required"),O==="confirmPassword"&&(B?B!==a.newPassword?F.confirmPassword="Passwords do not match":delete F.confirmPassword:F.confirmPassword="Please confirm your new password"),d(F),Object.keys(F).length===0},j=(O,B)=>{i(F=>({...F,[O]:B})),O==="newPassword"&&C(B),A[O]&&N(O,B),O==="newPassword"&&A.confirmPassword&&N("confirmPassword",a.confirmPassword)},P=O=>{m(B=>({...B,[O]:!0})),N(O,a[O])},k=async O=>{O.preventDefault(),v(!1),w(""),m({oldPassword:!0,newPassword:!0,confirmPassword:!0});const B=N("oldPassword",a.oldPassword),F=N("newPassword",a.newPassword),M=N("confirmPassword",a.confirmPassword);if(!(!B||!F||!M)){g(!0);try{const R=await qe.post("/user/change-password",{currentPassword:a.oldPassword,newPassword:a.newPassword}),H=R.data;if(R.status!==200||!H.success)throw new Error(H.message||"Failed to change password");v(!0),i({oldPassword:"",newPassword:"",confirmPassword:""}),m({oldPassword:!1,newPassword:!1,confirmPassword:!1}),d({}),setTimeout(()=>v(!1),5e3)}catch(R){console.error("Password change error:",R),w(R.message||"Failed to change password")}finally{g(!1)}}},T=[{id:"security",name:"Security",icon:er},{id:"system",name:"System",icon:Sue}];return s.jsx(gl,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"System Settings"}),s.jsx("p",{className:"text-sm lg:text-base text-gray-600 mt-1",children:"Configure platform settings and preferences"})]})}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsx("div",{className:"lg:hidden p-4",children:s.jsx("select",{value:e,onChange:O=>t(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm",children:T.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))})}),s.jsx("nav",{className:"hidden lg:flex space-x-8 px-6",children:T.map(O=>{const B=O.icon;return s.jsxs("button",{onClick:()=>t(O.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${e===O.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(B,{className:"w-4 h-4"}),s.jsx("span",{children:O.name})]},O.id)})})]}),s.jsxs("div",{className:"p-4 lg:p-6",children:[e==="security"&&s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),y&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[s.jsx(At,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-green-800 font-medium",children:"Password changed successfully!"}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Your password has been updated."})]})]}),b&&s.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[s.jsx($t,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("span",{className:"text-red-800 font-medium",children:b})]}),s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"oldPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Current Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.old?"text":"password",id:"oldPassword",value:a.oldPassword,onChange:O=>j("oldPassword",O.target.value),onBlur:()=>P("oldPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.oldPassword&&A.oldPassword?"border-red-500":"border-gray-300"}`,placeholder:"Enter your current password"}),s.jsx("button",{type:"button",onClick:()=>l(O=>({...O,old:!O.old})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.old?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]}),c.oldPassword&&A.oldPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"}),c.oldPassword]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.new?"text":"password",id:"newPassword",value:a.newPassword,onChange:O=>j("newPassword",O.target.value),onBlur:()=>P("newPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.newPassword&&A.newPassword?"border-red-500":"border-gray-300"}`,placeholder:"Enter your new password"}),s.jsx("button",{type:"button",onClick:()=>l(O=>({...O,new:!O.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.new?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]}),c.newPassword&&A.newPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"}),c.newPassword]}),a.newPassword&&s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1.5",children:"Password must contain:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.length?"text-green-600":"text-gray-500"}`,children:[u.length?s.jsx(At,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.uppercase?"text-green-600":"text-gray-500"}`,children:[u.uppercase?s.jsx(At,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One uppercase letter (A-Z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.lowercase?"text-green-600":"text-gray-500"}`,children:[u.lowercase?s.jsx(At,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One lowercase letter (a-z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.number?"text-green-600":"text-gray-500"}`,children:[u.number?s.jsx(At,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One number (0-9)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.special?"text-green-600":"text-gray-500"}`,children:[u.special?s.jsx(At,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One special character (!@#$%^&*...)"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.confirm?"text":"password",id:"confirmPassword",value:a.confirmPassword,onChange:O=>j("confirmPassword",O.target.value),onBlur:()=>P("confirmPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.confirmPassword&&A.confirmPassword?"border-red-500":A.confirmPassword&&!c.confirmPassword&&a.confirmPassword?"border-green-500":"border-gray-300"}`,placeholder:"Re-enter your new password"}),s.jsx("button",{type:"button",onClick:()=>l(O=>({...O,confirm:!O.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.confirm?s.jsx(na,{className:"w-5 h-5"}):s.jsx(Ir,{className:"w-5 h-5"})})]}),c.confirmPassword&&A.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx($t,{className:"w-3 h-3"}),c.confirmPassword]}),A.confirmPassword&&!c.confirmPassword&&a.confirmPassword&&a.newPassword===a.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"}),"Passwords match!"]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(J.button,{type:"submit",disabled:x||Object.keys(c).length>0,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:x?s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"w-5 h-5 animate-spin"}),"Changing Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"w-5 h-5"}),"Change Password"]})})})]})]}),e==="system"&&s.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"System Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-600",children:"All systems operational"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Database"}),s.jsx("span",{className:"text-sm text-gray-600",children:"MongoDB v5.0"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Version"}),s.jsx("span",{className:"text-sm text-gray-600",children:"v2.1.0"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Last Updated"}),s.jsx("span",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString()})]})]})]})]})]})]})})},FJe=()=>s.jsx(gl,{showSidebar:!1,children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"mx-auto w-24 h-24 bg-red-100 rounded-full flex items-center justify-center",children:s.jsxs("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),s.jsx("circle",{cx:"12",cy:"8",r:"2",stroke:"currentColor",strokeWidth:2,fill:"none"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6"})]})})}),s.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Admin Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"The admin page you're looking for doesn't exist or has been moved."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ft,{to:"/admin-dashboard",className:"inline-flex items-center px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors duration-200",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]}),"Go to Admin Dashboard"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(Ft,{to:"/admin-users",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Users"]}),s.jsxs(Ft,{to:"/admin-properties",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Properties"]}),s.jsxs(Ft,{to:"/admin-settings",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsx(Ft,{to:"/",className:"text-red-600 hover:text-red-700 font-medium transition-colors duration-200",children:" Back to Main Site"})})]})})}),L$=()=>{var os,br,Et,An,aa,Ks,ls,cs,ds,kn;const e=hr(),{toast:t}=no(),r=_.useRef(null),n=_.useRef(null),[a,i]=_.useState(null),[o,l]=_.useState(!0),[c,d]=_.useState("profile"),[u,f]=_.useState(!1),[A,m]=_.useState(!1),[x,g]=_.useState(!1),[y,v]=_.useState(!1),[b,w]=_.useState(!1),[C,N]=_.useState({}),[j,P]=_.useState(0),[k,T]=_.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[O,B]=_.useState(null),[F,M]=_.useState(!1),[R,H]=_.useState(null),[G,$]=_.useState(null),[V,te]=_.useState(!1),[re,K]=_.useState(""),[z,ee]=_.useState("pending"),[W,ne]=_.useState(null),[se,ce]=_.useState(null),[ye,Ae]=_.useState(null),[xe,le]=_.useState(!1),[Z,pe]=_.useState(!1),[oe,X]=_.useState(null),[be,_e]=_.useState("front"),[Le,ke]=_.useState(null),[Qe,Ye]=_.useState(!1),[it,Oe]=_.useState(!1),[Ge,mt]=_.useState(!1),[ft,Ie]=_.useState(0),[Je,ue]=_.useState(!1),Se="aadhar",Fe=async()=>{try{const ot=localStorage.getItem("authToken"),St=JSON.parse(localStorage.getItem("user")||"null");if(!ot||!(St!=null&&St._id))return;const vt=(await qe.get(`/user/profile/${St._id}`)).data;vt!=null&&vt._id&&(localStorage.setItem("user",JSON.stringify(vt)),i(vt))}catch(ot){console.error("refreshUserFromApi error:",ot)}},Ee=async()=>{try{if(ke(null),Oe(!0),Ye(!1),console.log("Starting camera..."),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia is not supported in this browser");const ot=await navigator.mediaDevices.enumerateDevices();console.log("Available devices:",ot);const St=ot.filter(Dt=>Dt.kind==="videoinput");if(console.log("Video devices:",St),St.length===0)throw new Error("No camera devices found");let Tt={video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480}}};console.log("Trying camera with constraints:",Tt);let vt;try{vt=await navigator.mediaDevices.getUserMedia(Tt),console.log("Camera started successfully with back camera")}catch(Dt){console.log("Back camera failed, trying front camera:",Dt),Tt.video.facingMode="user",vt=await navigator.mediaDevices.getUserMedia(Tt),console.log("Camera started successfully with front camera")}X(vt),pe(!0),setTimeout(()=>{r.current?(console.log("Setting video source..."),r.current.srcObject=vt,r.current.onloadedmetadata=()=>{console.log("Video metadata loaded"),Ye(!0),Oe(!1),r.current.play().catch(Dt=>{console.error("Error playing video:",Dt),ke("Failed to start video playback")})},r.current.oncanplay=()=>{console.log("Video can play"),Ye(!0),Oe(!1)},r.current.onerror=Dt=>{console.error("Video error:",Dt),ke("Video playback error"),Oe(!1)},r.current.play().catch(Dt=>{console.error("Error playing video:",Dt)})):(console.error("Video ref is not available"),ke("Video element not ready"),Oe(!1))},100),console.log("Camera modal opened")}catch(ot){console.error("Error accessing camera:",ot),Oe(!1);let St="Unable to access camera. ";ot.name==="NotAllowedError"?St+="Please allow camera permissions and try again.":ot.name==="NotFoundError"?St+="No camera found on this device.":ot.name==="NotSupportedError"?St+="Camera is not supported in this browser.":ot.name==="NotReadableError"?St+="Camera is being used by another application.":St+="Please check your camera settings.",ke(St),t({title:"Camera Error",description:St,variant:"destructive"})}},De=()=>{oe&&(oe.getTracks().forEach(ot=>ot.stop()),X(null)),pe(!1),ke(null),Ye(!1),Oe(!1),r.current&&(r.current.srcObject=null)},ut=()=>{if(!r.current||!n.current)return;const ot=r.current,St=n.current,Tt=St.getContext("2d");St.width=ot.videoWidth,St.height=ot.videoHeight,Tt.drawImage(ot,0,0,St.width,St.height),St.toBlob(vt=>{if(vt){const Dt=new File([vt],`captured_${be}_${Date.now()}.jpg`,{type:"image/jpeg"});H(Dt),$(URL.createObjectURL(vt)),De(),t({title:"Photo Captured",description:"Aadhar card photo captured successfully"})}},"image/jpeg",.8)},Nt=()=>{_e("front"),Ee()},Pt=async()=>{try{if(le(!0),!localStorage.getItem("authToken")){console.error("No auth token found");return}const St=await qe.get("/user/aadhar-status");if(St.status===200){const Tt=St.data;Ae(Tt.aadharStatus),console.log("Aadhar approval status:",Tt.aadharStatus)}}catch(ot){console.error("Error checking Aadhar approval status:",ot)}finally{le(!1)}},ht=async()=>{try{l(!0);const ot=localStorage.getItem("authToken"),St=JSON.parse(localStorage.getItem("user")||"{}"),Tt=St.id||St._id;if(!Tt){console.error("User ID not found");return}const vt=await qe.get(`/user/profile/${Tt}`);if(vt.status===200){const Dt=vt.data;B(Dt.kycStatus||"not_verified"),ee(Dt.kycStatus||"not_verified")}}catch(ot){console.error("Error checking KYC status:",ot)}finally{l(!1)}},Xe=(ot,St)=>{if(ot){if(!ot.type.startsWith("image/")){t({title:"Invalid file type",description:"Please upload an image file (JPG, PNG, etc.)",variant:"destructive"});return}if(ot.size>5*1024*1024){t({title:"File too large",description:"Please upload an image smaller than 5MB",variant:"destructive"});return}{H(ot);const Tt=new FileReader;Tt.onload=vt=>$(vt.target.result),Tt.readAsDataURL(ot)}}},Ze=(ot,St)=>{if(!ot||!St)return{match:!1,confidence:0,reason:"Missing name data"};const Tt=ot.toUpperCase().trim(),vt=St.toUpperCase().trim(),Dt=Tt.split(/\s+/).filter(ve=>ve.length>0),Nn=vt.split(/\s+/).filter(ve=>ve.length>0);if(Tt===vt)return{match:!0,confidence:1,reason:"Exact match"};let Ur=0,ts=Math.max(Dt.length,Nn.length);for(const ve of Dt)for(const nt of Nn){if(ve===nt){Ur++;break}if(ve.length>2&&nt.length>2){const lt=ct(ve,nt);if(lt>.8){Ur+=lt;break}}}const Tr=Ur/ts;return Tr>=.8?{match:!0,confidence:Tr,reason:"High similarity match"}:Tr>=.5?{match:!1,confidence:Tr,reason:"Partial match - manual review needed"}:{match:!1,confidence:Tr,reason:"No significant match found"}},ct=(ot,St)=>{const Tt=ot.toUpperCase(),vt=St.toUpperCase(),Dt=Tt.length>vt.length?Tt:vt,Nn=Tt.length>vt.length?vt:Tt;if(Dt.length===0)return 1;const Ur=tt(Dt,Nn);return(Dt.length-Ur)/Dt.length},tt=(ot,St)=>{const Tt=[];for(let vt=0;vt<=St.length;vt++)Tt[vt]=[vt];for(let vt=0;vt<=ot.length;vt++)Tt[0][vt]=vt;for(let vt=1;vt<=St.length;vt++)for(let Dt=1;Dt<=ot.length;Dt++)St.charAt(vt-1)===ot.charAt(Dt-1)?Tt[vt][Dt]=Tt[vt-1][Dt-1]:Tt[vt][Dt]=Math.min(Tt[vt-1][Dt-1]+1,Tt[vt][Dt-1]+1,Tt[vt-1][Dt]+1);return Tt[St.length][ot.length]},ze=async()=>{var St,Tt;if(!R){t({title:"Front image required",description:"Please upload the front side of your document",variant:"destructive"});return}M(!0),ne(null),ce(null),mt(!0),Ie(0);const ot=setInterval(()=>{Ie(vt=>vt>=90?(clearInterval(ot),90):vt+10)},200);try{const vt=localStorage.getItem("authToken"),Dt=new FormData;Dt.append("frontImage",R),Dt.append("idType",Se),Dt.append("idNumber","");const Nn=await qe.post("/user/upload-kyc",Dt,{headers:{"Content-Type":"multipart/form-data"}}),Ur=Nn.data;if(Nn.status===200){if(clearInterval(ot),Ie(100),Ur.kycStatus==="rejected"){te(!0),K(Ur.verificationFailureReason||"Verification failed"),t({title:"Verification Failed",description:Ur.verificationFailureReason||"Please verify again with correct image",variant:"destructive"});return}if(ne(Ur.ocrResult),(Tt=(St=Ur.ocrResult)==null?void 0:St.extractedData)!=null&&Tt.name){const ts=Ze(Ur.ocrResult.extractedData.name,(a==null?void 0:a.name)||"");ce(ts)}ee(Ur.kycStatus),B(Ur.kycStatus),t({title:"Document uploaded successfully",description:`KYC status: ${Ur.kycStatus}`,variant:Ur.kycStatus==="approved"?"default":"destructive"}),ht(),Pt()}else throw new Error(Ur.error||"Upload failed")}catch(vt){console.error("Error uploading KYC:",vt),clearInterval(ot),Ie(0),t({title:"Upload failed",description:vt.message||"Failed to upload document",variant:"destructive"})}finally{M(!1)}},wt=ot=>{switch(ot){case"approved":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"rejected":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},Ut=ot=>{switch(ot){case"approved":return s.jsx(At,{className:"w-5 h-5"});case"pending":return s.jsx($t,{className:"w-5 h-5"});case"rejected":return s.jsx(rr,{className:"w-5 h-5"});default:return s.jsx(er,{className:"w-5 h-5"})}};_.useEffect(()=>{(()=>{const St=localStorage.getItem("authToken"),Tt=localStorage.getItem("user");if(!St||!Tt){e("/login");return}try{const vt=JSON.parse(Tt);if(vt.role!==3){e("/login");return}i(vt),ht(),Pt()}catch(vt){console.error("Error parsing user data:",vt),e("/login")}l(!1)})()},[e]);const $r=async()=>{if(a!=null&&a._id)try{v(!0);const ot=localStorage.getItem("authToken");await qe.put(`/user/profile/${a._id}`,{profilePicture:null});const St={...a,profilePicture:null};localStorage.setItem("user",JSON.stringify(St)),i(St),t({title:"Success",description:"Profile picture removed successfully"})}catch(ot){console.error("Remove profile picture error:",ot),t({title:"Error",description:"Failed to remove picture. Please try again.",variant:"destructive"})}finally{v(!1)}},Or=async ot=>{var St,Tt;if(ot.preventDefault(),!!(a!=null&&a._id))try{v(!0);const vt=localStorage.getItem("authToken"),Dt=document.getElementById("profile-name").value.trim(),Nn=document.getElementById("profile-phone").value.trim(),Ur={name:Dt,phone:Nn||void 0},{data:ts}=await qe.put(`/user/profile/${a._id}`,Ur);ts!=null&&ts.user&&(localStorage.setItem("user",JSON.stringify(ts.user)),i(ts.user),window.dispatchEvent(new Event("lyvo-user-updated")),t({title:"Success",description:"Profile updated successfully!"}))}catch(vt){console.error("Profile update error:",vt),t({title:"Error",description:((Tt=(St=vt==null?void 0:vt.response)==null?void 0:St.data)==null?void 0:Tt.message)||"Failed to update profile. Please try again.",variant:"destructive"})}finally{v(!1)}},Vr=ot=>{const St={length:ot.length>=8,uppercase:/[A-Z]/.test(ot),lowercase:/[a-z]/.test(ot),number:/\d/.test(ot),special:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(ot)};T(St);const Tt=Object.values(St).filter(Boolean).length*20;return P(Tt),St},tn=(ot,St,Tt)=>{const vt={};if(ot.trim()||(vt.currentPassword="Current password is required"),!St.trim())vt.newPassword="New password is required";else{const Dt=Vr(St);Dt.length?Dt.uppercase?Dt.lowercase?Dt.number?Dt.special||(vt.newPassword="Password must contain at least one special character"):vt.newPassword="Password must contain at least one number":vt.newPassword="Password must contain at least one lowercase letter":vt.newPassword="Password must contain at least one uppercase letter":vt.newPassword="Password must be at least 8 characters long"}return Tt.trim()?St!==Tt&&(vt.confirmPassword="Passwords do not match"):vt.confirmPassword="Please confirm your new password",ot&&St&&ot===St&&(vt.newPassword="New password must be different from current password"),N(vt),Object.keys(vt).length===0},Bt=ot=>ot<40?"bg-red-500":ot<60?"bg-orange-500":ot<80?"bg-yellow-500":"bg-green-500",es=ot=>ot<40?"Weak":ot<60?"Fair":ot<80?"Good":"Strong",vs=async ot=>{var St,Tt;if(ot.preventDefault(),!!(a!=null&&a._id))try{w(!0);const vt=localStorage.getItem("authToken"),Dt=document.getElementById("current-password").value,Nn=document.getElementById("new-password").value,Ur=document.getElementById("confirm-password").value;if(!tn(Dt,Nn,Ur)){t({title:"Validation Error",description:"Please fix the errors below before proceeding",variant:"destructive"});return}await qe.post("/user/change-password",{currentPassword:Dt,newPassword:Nn}),document.getElementById("current-password").value="",document.getElementById("new-password").value="",document.getElementById("confirm-password").value="",N({}),P(0),T({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),t({title:"Success",description:"Password updated successfully!"})}catch(vt){console.error("Password change error:",vt),t({title:"Error",description:((Tt=(St=vt==null?void 0:vt.response)==null?void 0:St.data)==null?void 0:Tt.message)||"Failed to update password. Please try again.",variant:"destructive"})}finally{w(!1)}},Fn=[{id:"profile",name:"Profile",icon:cr},{id:"security",name:"Security",icon:er},{id:"kyc",name:"Govt ID (KYC)",icon:er}];return _.useEffect(()=>{window.location.hash==="#kyc"&&d("kyc")},[]),_.useEffect(()=>{c==="kyc"&&(Fe(),Pt())},[c]),o?s.jsx(wn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(wn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account and property preferences"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"lg:hidden p-4 border-b border-gray-200",children:s.jsxs(ij,{value:c,onValueChange:ot=>d(ot),children:[s.jsx(Qy,{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:s.jsx(oj,{placeholder:"Select section"})}),s.jsx($y,{position:"popper",children:Fn.map(ot=>s.jsx(ji,{value:ot.id,children:ot.name},ot.id))})]})}),s.jsx("div",{className:"hidden lg:flex border-b border-gray-200",children:Fn.map(ot=>{const St=ot.icon;return s.jsxs("button",{onClick:()=>d(ot.id),className:`flex items-center space-x-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors duration-200 ${c===ot.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(St,{className:"w-5 h-5"}),s.jsx("span",{children:ot.name})]},ot.id)})}),s.jsxs("div",{className:"p-6",children:[c==="kyc"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aadhar Card Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."}),xe?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx(Js,{className:"w-8 h-8 animate-spin text-red-600"})}):ye&&ye.isApproved?s.jsxs(Xd,{className:"border-green-200 bg-green-50",children:[s.jsx(xA,{children:s.jsxs(yA,{className:"flex items-center text-green-800",children:[s.jsx(Qr,{className:"w-6 h-6 mr-2"}),"Verification Approved"]})}),s.jsx(Zd,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(er,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Aadhar Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Status: Approved"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center text-green-600 font-semibold",children:[s.jsx(Qr,{className:"w-5 h-5 mr-1"}),"Verified"]}),s.jsx("p",{className:"text-xs text-gray-500",children:(os=ye.details)!=null&&os.approvalDate?new Date(ye.details.approvalDate).toLocaleDateString():"Recently approved"})]})]}),ye.details&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 bg-gray-50 p-4 rounded-lg flex justify-center border border-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Verified Document"}),s.jsx("img",{src:ye.details.frontImageUrl,alt:"Verified Aadhar",className:"max-h-64 rounded-lg shadow-md border-2 border-green-200 object-contain"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Verification Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Aadhar Number:"}),s.jsx("span",{className:"font-medium",children:ye.details.aadharNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Name:"}),s.jsx("span",{className:"font-medium",children:ye.details.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Confidence:"}),s.jsxs("span",{className:"font-medium",children:[ye.details.overallConfidence,"%"]})]})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"What's Next?"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"You can now list properties"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"Access all platform features"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"No need to verify again"]})]})]})]})]})]})})]}):s.jsxs(s.Fragment,{children:[Ge&&s.jsx(Xd,{className:"border-green-200 bg-green-50",children:s.jsxs(Zd,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4",children:ft===100?s.jsx(Qr,{className:"w-6 h-6 text-white"}):s.jsx(Js,{className:"w-6 h-6 text-white animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ft===100?"Verification Complete!":"Verifying Your Identity"}),s.jsx("p",{className:"text-sm text-gray-600",children:ft===100?"Your identity has been successfully verified":"Please wait while we process your documents..."})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(J.div,{className:"bg-green-500 h-2 rounded-full",initial:{width:0},animate:{width:`${ft}%`},transition:{duration:.3}})}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[ft,"% Complete"]})]})}),O&&!Ge&&s.jsx(U2,{className:`${wt(O)} border-0`,children:s.jsxs("div",{className:"flex items-center",children:[Ut(O),s.jsxs(D2,{className:"ml-2",children:[s.jsx("strong",{children:"Current Status:"})," ",O.charAt(0).toUpperCase()+O.slice(1)]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Xd,{children:[s.jsx(xA,{children:s.jsxs(yA,{className:"flex items-center",children:[s.jsx(er,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upload Document"]})}),s.jsxs(Zd,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(er,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Aadhar Card Verification"})]}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Aadhar Card Photo"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors",children:G?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:G,alt:"Front preview",className:"mx-auto max-h-48 rounded-lg shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(_n,{variant:"destructive",size:"sm",onClick:()=>{H(null),$(null)},className:"rounded-full w-8 h-8 p-0",children:s.jsx(nr,{className:"w-4 h-4"})})})]}),s.jsx("div",{className:"flex gap-2 justify-center",children:s.jsxs(_n,{variant:"outline",size:"sm",onClick:()=>Nt(),className:"flex items-center",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Retake"]})})]}):s.jsxs("div",{children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(n6,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"text-gray-600 mb-4 font-medium",children:"Upload a clear photo of your Aadhar card"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:ot=>Xe(ot.target.files[0]),className:"hidden",id:"front-upload"}),s.jsx("label",{htmlFor:"front-upload",className:"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold",children:"Choose File"}),s.jsxs(_n,{variant:"outline",onClick:()=>Nt(),className:"flex items-center border-blue-300 text-blue-600 hover:bg-blue-50",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Take Photo"]})]})]})})]}),s.jsx(_n,{onClick:ze,disabled:!R||F,className:"w-full",size:"lg",children:F?s.jsxs(s.Fragment,{children:[s.jsx(Js,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing Document..."]}):s.jsxs(s.Fragment,{children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Verify Document"]})})]})]}),s.jsxs(Xd,{children:[s.jsx(xA,{children:s.jsxs(yA,{className:"flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 mr-2 text-purple-600"}),"Verification Results"]})}),s.jsx(Zd,{className:"p-6",children:W?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Qr,{className:"w-6 h-6 mr-2 text-blue-600"}),"Verification Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${(br=W.validation)!=null&&br.is_aadhar_card?"text-green-600":"text-red-600"}`,children:(Et=W.validation)!=null&&Et.is_aadhar_card?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Aadhar Card"}),s.jsx("div",{className:"text-xs text-gray-500",children:(An=W.validation)!=null&&An.is_aadhar_card?"Valid":"Invalid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${W.confidence>70?"text-green-600":W.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(W.confidence||0),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Overall Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${W.verified?"text-green-600":"text-yellow-600"}`,children:W.verified?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("div",{className:"text-xs text-gray-500",children:W.verified?"Approved":"Pending"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Is,{className:"w-5 h-5 mr-2 text-blue-600"}),"Extracted Information"]}),s.jsxs("div",{className:"space-y-3",children:[((aa=W.extractedData)==null?void 0:aa.name)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Name:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:W.extractedData.name})]}),((Ks=W.extractedData)==null?void 0:Ks.number)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"ID Number:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:W.extractedData.number})]}),((ls=W.extractedData)==null?void 0:ls.dob)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:W.extractedData.dob})]}),((cs=W.extractedData)==null?void 0:cs.gender)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Gender:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:W.extractedData.gender})]})]})]}),se&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Name Verification"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Profile Name:"}),s.jsx("span",{className:"font-semibold",children:(a==null?void 0:a.name)||"Not available"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Document Name:"}),s.jsx("span",{className:"font-semibold",children:((ds=W.extractedData)==null?void 0:ds.name)||"Not extracted"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Match Status:"}),s.jsx("span",{className:`font-semibold ${se.match?"text-green-600":"text-red-600"}`,children:se.match?" Match":" No Match"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(se.confidence*100),"%"]})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2 p-2 bg-white rounded-lg",children:se.reason})]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-6",children:s.jsx(er,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Results Yet"}),s.jsx("p",{className:"text-gray-500",children:"Upload a document to see verification results"})]})})]})]})]})]}),c==="profile"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Profile Picture"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(A6,{currentImage:(a==null?void 0:a.profilePicture)||null,onImageUpdate:ot=>{const St={...a,profilePicture:ot};localStorage.setItem("user",JSON.stringify(St)),i(St)}}),(a==null?void 0:a.profilePicture)&&s.jsx("button",{type:"button",onClick:$r,disabled:y,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:y?"Removing":"Remove"})]})]}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),s.jsxs("form",{onSubmit:Or,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",id:"profile-name",defaultValue:(a==null?void 0:a.name)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:(a==null?void 0:a.email)||"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed",disabled:!0,readOnly:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"profile-phone",defaultValue:(a==null?void 0:a.phone)||(a==null?void 0:a.phoneNumber)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"+91 98765 43210"})]})]}),s.jsxs("button",{type:"submit",disabled:y,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Lv,{className:"w-4 h-4 mr-2"}),y?"Saving...":"Save Changes"]})]})]}),c==="security"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"}),a!=null&&a.googleId?s.jsx("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(er,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-1",children:"Google Account"}),s.jsx("p",{className:"text-sm text-blue-700",children:"You signed in using Google. Your password is managed by Google and cannot be changed here."}),s.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["To change your password, please visit your"," ",s.jsx("a",{href:"https://myaccount.google.com/security",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium hover:text-blue-800",children:"Google Account Security Settings"})]})]})]})}):s.jsxs("form",{onSubmit:vs,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",id:"current-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${C.currentPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),s.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?s.jsx(na,{className:"h-5 w-5 text-gray-400"}):s.jsx(Ir,{className:"h-5 w-5 text-gray-400"})})]}),C.currentPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.currentPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:A?"text":"password",id:"new-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${C.newPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0,onChange:ot=>{Vr(ot.target.value),C.newPassword&&N(St=>{const Tt={...St};return delete Tt.newPassword,Tt})}}),s.jsx("button",{type:"button",onClick:()=>m(!A),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:A?s.jsx(na,{className:"h-5 w-5 text-gray-400"}):s.jsx(Ir,{className:"h-5 w-5 text-gray-400"})})]}),((kn=document.getElementById("new-password"))==null?void 0:kn.value)&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Password Strength:"}),s.jsx("span",{className:`text-xs font-medium ${j<40?"text-red-600":j<60?"text-orange-600":j<80?"text-yellow-600":"text-green-600"}`,children:es(j)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Bt(j)}`,style:{width:`${j}%`}})})]}),!Object.values(k).every(Boolean)&&s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("div",{className:`flex items-center text-xs ${k.length?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${k.length?"bg-green-500":"bg-gray-300"}`,children:k.length&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"At least 8 characters"]}),s.jsxs("div",{className:`flex items-center text-xs ${k.uppercase?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${k.uppercase?"bg-green-500":"bg-gray-300"}`,children:k.uppercase&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One uppercase letter"]}),s.jsxs("div",{className:`flex items-center text-xs ${k.lowercase?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${k.lowercase?"bg-green-500":"bg-gray-300"}`,children:k.lowercase&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One lowercase letter"]}),s.jsxs("div",{className:`flex items-center text-xs ${k.number?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${k.number?"bg-green-500":"bg-gray-300"}`,children:k.number&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One number"]}),s.jsxs("div",{className:`flex items-center text-xs ${k.special?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${k.special?"bg-green-500":"bg-gray-300"}`,children:k.special&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One special character"]})]}),C.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.newPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:x?"text":"password",id:"confirm-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${C.confirmPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0,onChange:ot=>{const St=ot.target.value,Tt=document.getElementById("new-password").value;St&&Tt&&St!==Tt?N(vt=>({...vt,confirmPassword:"Passwords do not match"})):C.confirmPassword&&N(vt=>{const Dt={...vt};return delete Dt.confirmPassword,Dt})}}),s.jsx("button",{type:"button",onClick:()=>g(!x),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:x?s.jsx(na,{className:"h-5 w-5 text-gray-400"}):s.jsx(Ir,{className:"h-5 w-5 text-gray-400"})})]}),C.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:C.confirmPassword})]}),s.jsxs("button",{type:"submit",disabled:b||Object.values(C).some(ot=>ot&&ot.trim())||!Object.values(k).every(Boolean),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),b?"Updating...":"Update Password"]}),!b&&(Object.values(C).some(ot=>ot&&ot.trim())||!Object.values(k).every(Boolean))&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Complete all password requirements above to enable the update button"})]})]})]})]}),Z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-lg w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capture Aadhar Card"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Take a clear photo of your Aadhar card"})]}),s.jsx(_n,{variant:"ghost",size:"sm",onClick:De,className:"text-gray-500 hover:text-gray-700 rounded-full w-10 h-10 p-0",children:s.jsx(nr,{className:"w-5 h-5"})})]}),Le?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx($t,{className:"w-10 h-10 text-red-500"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Camera Error"}),s.jsx("p",{className:"text-red-600 mb-6",children:Le}),s.jsx(_n,{onClick:Ee,className:"bg-blue-600 hover:bg-blue-700",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden",children:[it&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"w-12 h-12 text-white animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-sm",children:"Starting camera..."})]})}),s.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-80 object-cover ${Qe?"opacity-100":"opacity-0"} transition-opacity duration-300`,style:{backgroundColor:"#000"}}),s.jsx("canvas",{ref:n,className:"hidden"}),Qe&&s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-4 border-2 border-white border-dashed rounded-lg opacity-70",children:s.jsx("div",{className:"absolute top-2 left-2 text-white text-xs font-medium bg-black bg-opacity-50 px-2 py-1 rounded",children:"Align document within frame"})}),s.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-t-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-t-2 border-r-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-b-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-b-2 border-r-2 border-white"})]}),!Qe&&!it&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(ms,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Camera not ready"})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx($t,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tips for better capture:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[s.jsx("li",{children:"Ensure good lighting"}),s.jsx("li",{children:"Keep the document flat and straight"}),s.jsx("li",{children:"Align all four corners within the frame"}),s.jsx("li",{children:"Avoid shadows and reflections"})]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(_n,{onClick:ut,disabled:!Qe||it,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ms,{className:"w-5 h-5 mr-2"}),it?"Starting Camera...":Qe?"Capture Photo":"Camera Not Ready"]}),s.jsx(_n,{onClick:De,variant:"outline",className:"px-6 py-3 border-2 border-gray-300 hover:border-gray-400 font-semibold rounded-xl",children:"Cancel"})]})]})]})}),s.jsx(vq,{open:V,onOpenChange:te,children:s.jsxs(G6,{className:"sm:max-w-md",children:[s.jsxs(q6,{children:[s.jsxs(X6,{className:"flex items-center gap-2 text-red-600",children:[s.jsx($t,{className:"h-5 w-5"}),"Verification Failed"]}),s.jsx(Z6,{children:"Your KYC verification could not be completed."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:re})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Please ensure:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Upload a clear, valid Aadhar card image"}),s.jsx("li",{children:" The name on the document matches your profile name"}),s.jsx("li",{children:" The image is not blurry or rotated"}),s.jsx("li",{children:" All text is clearly visible"})]})]})]}),s.jsxs(Y6,{className:"flex gap-2",children:[s.jsx(_n,{variant:"outline",onClick:()=>te(!1),children:"Close"}),s.jsx(_n,{onClick:()=>{te(!1),H(null),$(null),ne(null),ce(null),Ie(0)},children:"Try Again"})]})]})})]})})},RJe=()=>{const e=hr(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[i,o]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState("all"),[f,A]=_.useState(!1),[m,x]=_.useState("table"),[g,y]=_.useState(new Set);_.useEffect(()=>{v();const B=setInterval(()=>{console.log("[AUTO-REFRESH] Polling for new bookings..."),v(!0)},3e4);return()=>clearInterval(B)},[]);const v=async(B=!1)=>{try{B||a(!0),B&&A(!0),o("");const M=(await qe.get("/property/owner/bookings")).data;r(Array.isArray(M.bookings)?M.bookings:[])}catch(F){B||o(F.message||"Failed to load bookings")}finally{B||a(!1),B&&A(!1)}},b=_.useMemo(()=>{const B=l.trim().toLowerCase();return t.filter(F=>d==="all"?F.status!=="checked_in"&&F.status!=="checked_out":d==="pending"?["pending_approval","payment_pending","pending"].includes(F.status):d==="confirmed"?["confirmed","checked_in"].includes(F.status):d==="checked_out"?F.status==="checked_out":F.status===d).filter(F=>{var G,$,V,te,re;if(!B)return!0;const M=`${((G=F.userSnapshot)==null?void 0:G.name)||""} ${(($=F.userSnapshot)==null?void 0:$.email)||""}`.toLowerCase(),R=`${((V=F.propertySnapshot)==null?void 0:V.name)||""}`.toLowerCase(),H=`${((te=F.roomSnapshot)==null?void 0:te.roomNumber)||""} ${((re=F.roomSnapshot)==null?void 0:re.roomType)||""}`.toLowerCase();return M.includes(B)||R.includes(B)||H.includes(B)}).sort((F,M)=>new Date(M.createdAt||M.bookedAt)-new Date(F.createdAt||F.bookedAt))},[t,l,d]),w=_.useMemo(()=>{const B=t.filter($=>$.status!=="checked_in"&&$.status!=="checked_out").length,F=t.filter($=>["confirmed","checked_in"].includes($.status)).length,M=t.filter($=>["pending_approval","payment_pending","pending"].includes($.status)).length,R=t.filter($=>$.status==="checked_out").length,H=t.filter($=>$.status==="cancelled").length,G=t.filter($=>$.status==="rejected").length;return{total:B,confirmed:F,pending:M,checkedOut:R,cancelled:H,rejected:G}},[t]),C=async()=>{A(!0),await v(),A(!1)},N=B=>B?`${Number(B).toLocaleString()}`:"-",j=B=>{const F=new Date(B);return{date:F.toLocaleDateString(),time:F.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},P=B=>{const F=new Set(g);F.has(B)?F.delete(B):F.add(B),y(F)},k=(B,F=null)=>{switch(B){case"confirmed":case"approved":return"bg-green-100 text-green-800 border-green-200";case"checked_in":return"bg-blue-100 text-blue-800 border-blue-200";case"checked_out":return"bg-slate-100 text-slate-800 border-slate-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";case"pending_approval":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}},T=(B,F=null)=>{switch(B){case"confirmed":case"approved":return s.jsx(At,{className:"w-4 h-4"});case"checked_in":return s.jsx(xr,{className:"w-4 h-4"});case"checked_out":return s.jsx($a,{className:"w-4 h-4"});case"rejected":return s.jsx(rr,{className:"w-4 h-4"});case"cancelled":return s.jsx(rr,{className:"w-4 h-4"});case"pending_approval":return s.jsx(Hn,{className:"w-4 h-4"});default:return s.jsx(Hn,{className:"w-4 h-4"})}},O=(B,F=null)=>{switch(B){case"confirmed":case"approved":return"Approved";case"checked_in":return"Checked In";case"checked_out":return"Checked Out";case"rejected":return"Rejected";case"cancelled":return F==="user"?"Cancelled by User":"Cancelled";case"pending_approval":return"Pending Approval";default:return B.replace("_"," ").replace(/\b\w/g,M=>M.toUpperCase())}};return s.jsx(wn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bookings Management"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-gray-600",children:"Manage and review all property bookings"}),s.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-50 text-green-700 text-[10px] font-bold uppercase tracking-wider rounded border border-green-100 animate-pulse",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Live Updates"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>x("table"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Table"}),s.jsx("button",{onClick:()=>x("cards"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="cards"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Cards"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:C,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[f?s.jsx(Ci,{className:"w-4 h-4 animate-spin"}):s.jsx(Ci,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[s.jsx(Xh,{className:"w-4 h-4"}),"Dashboard"]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>u("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Active Bookings"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:w.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(Fr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="confirmed"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>u("confirmed"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Confirmed"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:w.confirmed})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(At,{className:"w-6 h-6 text-green-600"})})]})}),s.jsxs("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow relative cursor-pointer ${d==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>u("pending"),children:[w.pending>0&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg animate-pulse",children:w.pending}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:w.pending}),w.pending>0&&s.jsx("div",{className:"text-xs text-yellow-700 mt-1",children:"Awaiting your approval"})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(Hn,{className:"w-6 h-6 text-yellow-600"})})]})]}),s.jsx("div",{className:`bg-gradient-to-br from-slate-50 to-slate-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="checked_out"?"border-slate-400 ring-2 ring-slate-200":"border-slate-200"}`,onClick:()=>u("checked_out"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-slate-600 mb-1",children:"Checked Out"}),s.jsx("div",{className:"text-3xl font-bold text-slate-900",children:w.checkedOut})]}),s.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-lg flex items-center justify-center",children:s.jsx($a,{className:"w-6 h-6 text-slate-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-gray-50 to-gray-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="cancelled"?"border-gray-400 ring-2 ring-gray-200":"border-gray-200"}`,onClick:()=>u("cancelled"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Cancelled"}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:w.cancelled})]}),s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx(rr,{className:"w-6 h-6 text-gray-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-red-50 to-red-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="rejected"?"border-red-400 ring-2 ring-red-200":"border-red-200"}`,onClick:()=>u("rejected"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-red-600 mb-1",children:"Rejected"}),s.jsx("div",{className:"text-3xl font-bold text-red-900",children:w.rejected})]}),s.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-lg flex items-center justify-center",children:s.jsx(rr,{className:"w-6 h-6 text-red-600"})})]})})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ti,{className:"w-5 h-5 text-gray-400 absolute left-3 top-3"}),s.jsx("input",{value:l,onChange:B=>c(B.target.value),placeholder:"Search by seeker name, property, or room...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm"})]}),d!=="all"&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-lg",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Showing: ",d.charAt(0).toUpperCase()+d.slice(1)," bookings"]}),s.jsx("button",{onClick:()=>u("all"),className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(rr,{className:"w-4 h-4"})})]})]})}),n?s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Loading Bookings"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your bookings..."})]}):i?s.jsxs("div",{className:"bg-white rounded-xl border border-red-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Bookings"}),s.jsx("p",{className:"text-gray-600 mb-4",children:i}),s.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(Ci,{className:"w-4 h-4"}),"Try Again"]})]}):t.length===0?s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Fr,{className:"w-8 h-8 text-gray-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Bookings Yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"New bookings will appear here when tenants make reservations."}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Xh,{className:"w-4 h-4"}),"Go to Dashboard"]})]}):m==="table"?s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-32",children:"Date"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Status"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-40",children:"Seeker"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-48",children:"Property"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-20",children:"Room"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Rent"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(B=>{var M,R,H,G,$,V,te,re,K,z,ee;const F=j(B.createdAt||B.bookedAt);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900",children:F.date}),s.jsx("div",{className:"text-xs text-gray-500",children:F.time})]}),s.jsx("td",{className:"px-3 py-3",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${k(B.status,B.cancelledBy)}`,children:[T(B.status,B.cancelledBy),s.jsx("span",{className:"hidden sm:inline",children:O(B.status,B.cancelledBy)})]})}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:((M=B.userSnapshot)==null?void 0:M.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:((R=B.userSnapshot)==null?void 0:R.email)||"-"})]}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:((H=B.propertySnapshot)==null?void 0:H.name)||((G=B.property)==null?void 0:G.propertyName)||"-"}),s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[((V=($=B.propertySnapshot)==null?void 0:$.address)==null?void 0:V.city)||"",(re=(te=B.propertySnapshot)==null?void 0:te.address)!=null&&re.state?`, ${B.propertySnapshot.address.state}`:""]})]}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["R",((K=B.roomSnapshot)==null?void 0:K.roomNumber)||"-"]}),s.jsx("div",{className:"text-xs text-gray-500",children:((z=B.roomSnapshot)==null?void 0:z.roomType)||""})]}),s.jsx("td",{className:"px-3 py-3",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:N((ee=B.roomSnapshot)==null?void 0:ee.rent)})}),s.jsx("td",{className:"px-3 py-3 text-right",children:s.jsxs("button",{onClick:()=>e(`/owner-bookings/${B._id}`,{state:{userId:B.userId,ownerId:B.ownerId,propertyId:B.propertyId,roomId:B.roomId}}),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-xs font-medium",children:[s.jsx(Ir,{className:"w-3 h-3"}),s.jsx("span",{className:"hidden sm:inline",children:"View"})]})})]},B._id)})})]})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(B=>{var R,H,G,$,V,te,re,K,z,ee,W,ne,se,ce,ye;const F=j(B.createdAt||B.bookedAt),M=g.has(B._id);return s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Fr,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.date}),s.jsx("div",{className:"text-xs text-gray-500",children:F.time})]})]}),s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${k(B.status,B.cancelledBy)}`,children:[T(B.status,B.cancelledBy),O(B.status,B.cancelledBy)]})]}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center mr-3",children:s.jsx(cr,{className:"w-4 h-4 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((R=B.userSnapshot)==null?void 0:R.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500",children:((H=B.userSnapshot)==null?void 0:H.email)||"-"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(xr,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((G=B.propertySnapshot)==null?void 0:G.name)||(($=B.property)==null?void 0:$.propertyName)||"-"})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-6",children:[((te=(V=B.propertySnapshot)==null?void 0:V.address)==null?void 0:te.street)||"",(K=(re=B.propertySnapshot)==null?void 0:re.address)!=null&&K.city?`, ${B.propertySnapshot.address.city}`:"",(ee=(z=B.propertySnapshot)==null?void 0:z.address)!=null&&ee.state?`, ${B.propertySnapshot.address.state}`:""]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ai,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["Room ",((W=B.roomSnapshot)==null?void 0:W.roomNumber)||"-"]}),s.jsx("div",{className:"text-xs text-gray-500",children:((ne=B.roomSnapshot)==null?void 0:ne.roomType)||""})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:N((se=B.roomSnapshot)==null?void 0:se.rent)}),s.jsx("div",{className:"text-xs text-gray-500",children:"per month"})]})]}),M&&s.jsx("div",{className:"border-t border-gray-200 pt-4 mb-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(bn,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:((ce=B.userSnapshot)==null?void 0:ce.phone)||"Not provided"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(nn,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:((ye=B.userSnapshot)==null?void 0:ye.email)||"Not provided"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>P(B._id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:M?"Show Less":"Show More"}),s.jsxs("button",{onClick:()=>e(`/owner-bookings/${B._id}`,{state:{userId:B.userId,ownerId:B.ownerId,propertyId:B.propertyId,roomId:B.roomId}}),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[s.jsx(Ir,{className:"w-4 h-4"}),"View Details"]})]})]})},B._id)})})]})})},UJe=()=>{var F,M,R,H,G,$,V,te,re,K,z,ee,W,ne,se,ce,ye,Ae,xe,le,Z,pe,oe,X,be,_e,Le,ke,Qe,Ye,it,Oe,Ge,mt,ft,Ie,Je,ue,Se,Fe,Ee,De,ut;const{bookingId:e}=Su(),t=hr(),r=ro(),[n,a]=_.useState(null),[i,o]=_.useState(!0),[l,c]=_.useState(""),[d,u]=_.useState(""),[f,A]=_.useState(!1),[m,x]=_.useState(!1),[g,y]=_.useState(!1),[v,b]=_.useState(!1),[w,C]=_.useState(!1),[N,j]=_.useState(!1),[P,k]=_.useState(null);_.useEffect(()=>{(async()=>{try{o(!0),c("");const Pt="http://localhost:5000/api/property",ht=localStorage.getItem("authToken");let Xe=ht&&e?`${Pt}/bookings/${e}`:null,Ze;Xe&&(Ze=await fetch(Xe,{headers:{"Content-Type":"application/json",...ht?{Authorization:`Bearer ${ht}`}:{}}}));let ct;if(Ze&&Ze.ok)ct=await Ze.json(),a({...ct.booking,seekerProfile:ct.seekerProfile,kycAddress:ct.kycAddress,isKycVerified:ct.isKycVerified,aadharImages:ct.aadharImages}),console.log("Booking Data with Extended Info:",ct),u(ct.source||"booking");else{const tt=r.state||{},ze=new URLSearchParams(r.search),wt=tt.userId||ze.get("userId"),Ut=tt.ownerId||ze.get("ownerId"),$r=tt.propertyId||ze.get("propertyId"),Or=tt.roomId||ze.get("roomId");if(wt&&Ut&&$r&&Or){const Vr=`${Pt}/bookings/lookup/payment?userId=${encodeURIComponent(wt)}&ownerId=${encodeURIComponent(Ut)}&propertyId=${encodeURIComponent($r)}&roomId=${encodeURIComponent(Or)}`,tn=await fetch(Vr);if(!tn.ok){const es=await tn.text();throw new Error(es||`HTTP ${tn.status}`)}const Bt=await tn.json();a(Bt.booking),u(Bt.source||"composed")}else if(Ze){const Vr=await Ze.text();throw new Error(Vr||`HTTP ${Ze.status}`)}else throw new Error("No booking ID or lookup parameters found")}}catch(Pt){c(Pt.message||"Failed to load booking")}finally{o(!1)}})()},[e,r.search,r.state]);const T=async Nt=>{try{if(!(n!=null&&n._id))return;A(!0);const Pt="http://localhost:5000/api",ht=localStorage.getItem("authToken"),Xe=Nt==="approve"?"approved":"rejected",Ze=await fetch(`${Pt}/property/bookings/${n._id}/status`,{method:"POST",headers:{"Content-Type":"application/json",...ht?{Authorization:`Bearer ${ht}`}:{}},body:JSON.stringify({status:Xe})});if(!Ze.ok){const tt=await Ze.text();throw new Error(tt||`HTTP ${Ze.status}`)}const ct=await Ze.json();a(ct.booking),k(Nt),Nt==="approve"?x(!0):y(!0)}catch(Pt){c(Pt.message||"Failed to update booking")}finally{A(!1)}},O=async()=>{try{if(!(n!=null&&n._id))return;A(!0);const Nt="http://localhost:5000/api",Pt=localStorage.getItem("authToken"),ht=await fetch(`${Nt}/property/bookings/${n._id}/finalize-check-in`,{method:"POST",headers:{"Content-Type":"application/json",...Pt?{Authorization:`Bearer ${Pt}`}:{}}});if(!ht.ok){const Ze=await ht.text();throw new Error(Ze||`HTTP ${ht.status}`)}const Xe=await ht.json();a(Ze=>({...Ze,status:"checked_in"})),b(!0)}catch(Nt){c(Nt.message||"Failed to finalize check-in")}finally{A(!1)}},B=Nt=>{const Pt={pending_approval:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Hn,label:"Pending Approval"},confirmed:{bg:"bg-green-100",text:"text-green-800",icon:At,label:"Approved"},approved:{bg:"bg-green-100",text:"text-green-800",icon:At,label:"Approved"},checked_in:{bg:"bg-blue-100",text:"text-blue-800",icon:xr,label:"Checked In"},rejected:{bg:"bg-red-100",text:"text-red-800",icon:rr,label:"Rejected"},cancelled:{bg:"bg-gray-100",text:"text-gray-800",icon:rr,label:"Cancelled"}},ht=Pt[Nt]||Pt.pending_approval,Xe=ht.icon;return s.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${ht.bg} ${ht.text} font-medium`,children:[s.jsx(Xe,{className:"w-4 h-4"}),ht.label]})};return s.jsxs(wn,{children:[s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/owner-bookings"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(Ps,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Back to Bookings"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Booking Details"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and review booking information"})]}),n&&s.jsx("div",{children:B(n.status)})]})]}),i?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading booking details..."})]}):l?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx($t,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-lg",children:l})]}):n?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Zr,{className:"w-6 h-6"}),"Property Details"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Pr,{className:"w-4 h-4"}),"Property Name"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((F=n.propertySnapshot)==null?void 0:F.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ra,{className:"w-4 h-4"}),"Security Deposit"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((M=n.propertySnapshot)==null?void 0:M.security_deposit)!=null?`${Number(n.propertySnapshot.security_deposit).toLocaleString()}`:"N/A"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(xr,{className:"w-4 h-4"}),"Address"]}),s.jsxs("p",{className:"mt-1 text-gray-900",children:[((H=(R=n.propertySnapshot)==null?void 0:R.address)==null?void 0:H.street)&&`${n.propertySnapshot.address.street}, `,(($=(G=n.propertySnapshot)==null?void 0:G.address)==null?void 0:$.city)&&`${n.propertySnapshot.address.city}, `,((te=(V=n.propertySnapshot)==null?void 0:V.address)==null?void 0:te.state)&&`${n.propertySnapshot.address.state} `,((K=(re=n.propertySnapshot)==null?void 0:re.address)==null?void 0:K.pincode)&&`- ${n.propertySnapshot.address.pincode}`,!((z=n.propertySnapshot)!=null&&z.address)&&"N/A"]})]})]})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Ai,{className:"w-6 h-6"}),"Room Details"]})}),s.jsxs("div",{className:"p-6",children:[(((W=(ee=n.roomSnapshot)==null?void 0:ee.images)==null?void 0:W.room)||((se=(ne=n.roomSnapshot)==null?void 0:ne.images)==null?void 0:se.toilet))&&s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[((ye=(ce=n.roomSnapshot)==null?void 0:ce.images)==null?void 0:ye.room)&&s.jsxs("div",{className:"relative group overflow-hidden rounded-xl",children:[s.jsx("img",{src:n.roomSnapshot.images.room,alt:"Room",className:"w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:s.jsx("p",{className:"text-white font-medium",children:"Room View"})})]}),((xe=(Ae=n.roomSnapshot)==null?void 0:Ae.images)==null?void 0:xe.toilet)&&s.jsxs("div",{className:"relative group overflow-hidden rounded-xl",children:[s.jsx("img",{src:n.roomSnapshot.images.toilet,alt:"Bathroom",className:"w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:s.jsx("p",{className:"text-white font-medium",children:"Bathroom View"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Que,{className:"w-4 h-4"}),"Room Number"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((le=n.roomSnapshot)==null?void 0:le.roomNumber)??"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Ai,{className:"w-4 h-4"}),"Room Type"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((Z=n.roomSnapshot)==null?void 0:Z.roomType)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Uue,{className:"w-4 h-4"}),"Room Size"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((pe=n.roomSnapshot)==null?void 0:pe.roomSize)!=null?`${n.roomSnapshot.roomSize} sq ft`:"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Bed Type"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((oe=n.roomSnapshot)==null?void 0:oe.bedType)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),"Occupancy"]}),s.jsxs("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:[((X=n.roomSnapshot)==null?void 0:X.occupancy)??"N/A"," ",((be=n.roomSnapshot)==null?void 0:be.occupancy)>1?"Persons":"Person"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ra,{className:"w-4 h-4"}),"Monthly Rent"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-green-600",children:((_e=n.roomSnapshot)==null?void 0:_e.rent)!=null?`${Number(n.roomSnapshot.rent).toLocaleString()}`:"N/A"})]}),s.jsxs("div",{className:n.status==="pending_approval"?"bg-purple-50 p-3 rounded-xl border border-purple-100":"",children:[s.jsxs("label",{className:"text-sm font-medium text-purple-600 flex items-center gap-2",children:[s.jsx(Fr,{className:"w-4 h-4"}),"Requested Check-in"]}),s.jsx("p",{className:`mt-1 text-lg font-bold ${n.checkInDate?"text-purple-700":"text-gray-400 italic"}`,children:n.checkInDate?new Date(n.checkInDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"Not set by seeker yet"})]})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Fr,{className:"w-6 h-6"}),"Booking Timeline"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:new Date(n.createdAt||n.bookedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.createdAt||n.bookedAt).toLocaleTimeString("en-IN")})]}),n.checkInDate&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Requested Check-in Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-purple-600",children:new Date(n.checkInDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Expected arrival"})]}),n.approvedAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Approved Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:new Date(n.approvedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.approvedAt).toLocaleTimeString("en-IN")})]})]})})]}),n.status==="pending_approval"&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Actions"}),!n.checkInDate&&n.status==="pending_approval"&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 p-4 rounded-xl mb-4 flex items-start gap-3",children:[s.jsx(Jh,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Awaiting Seeker's Check-in Date"}),s.jsx("p",{className:"text-xs mt-1",children:"The seeker needs to set their preferred check-in date from their dashboard before you can approve this booking."})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("button",{disabled:f||!n.checkInDate,onClick:()=>C(!0),className:"flex-1 min-w-[200px] bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-4 rounded-xl font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"w-5 h-5"}),n.checkInDate?"Approve Booking":"Awaiting Date"]})}),s.jsx("button",{disabled:f,onClick:()=>T("reject"),className:"flex-1 min-w-[200px] bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-4 rounded-xl font-semibold hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-5 h-5"}),"Reject Booking"]})})]})]}),(n.status==="approved"||n.status==="confirmed")&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg p-6 border-l-4 border-blue-600",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(xr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Final Check-in Confirmation"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Confirm that the seeker has arrived at the property and successfully checked in."})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(er,{className:"w-4 h-4"}),"What happens next?"]}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Seeker will be officially added as a Tenant in this room"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Room occupancy will be updated"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Tenancy records will be visible in your Tenant Management area"]})]})]}),s.jsx("button",{disabled:f,onClick:()=>j(!0),className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-xl font-bold hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center gap-3",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Check-in..."]}):s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"w-6 h-6"}),"Confirm Final Check-in"]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5"}),"Seeker Information"]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"relative",children:[(Le=n.seekerProfile)!=null&&Le.profilePicture||(ke=n.userId)!=null&&ke.profilePicture||(Qe=n.userId)!=null&&Qe.picture?s.jsx("img",{src:((Ye=n.seekerProfile)==null?void 0:Ye.profilePicture)||((it=n.userId)==null?void 0:it.profilePicture)||((Oe=n.userId)==null?void 0:Oe.picture),alt:"Seeker Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-indigo-50 shadow-md"}):s.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-300 border-4 border-indigo-50 shadow-md",children:s.jsx(cr,{className:"w-12 h-12"})}),n.isKycVerified&&s.jsx("div",{className:"absolute bottom-0 right-0 bg-green-500 border-2 border-white rounded-full p-1 shadow-sm",children:s.jsx(At,{className:"w-4 h-4 text-white"})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((Ge=n.userSnapshot)==null?void 0:Ge.name)||"N/A"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Gender"}),s.jsx("p",{className:"mt-1 text-gray-900 capitalize",children:((mt=n.seekerProfile)==null?void 0:mt.gender)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Occupation"}),s.jsx("p",{className:"mt-1 text-gray-900 capitalize",children:((ft=n.seekerProfile)==null?void 0:ft.occupation)||"N/A"})]})]}),((Ie=n.aadharImages)==null?void 0:Ie.front)&&s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2 mb-2",children:[s.jsx(er,{className:"w-4 h-4"}),"Aadhar Card",n.isKycVerified&&s.jsx("span",{className:"bg-green-100 text-green-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold uppercase tracking-wider",children:"Verified"})]}),s.jsx("img",{src:n.aadharImages.front,alt:"Aadhar Card Front",className:"w-full h-auto rounded-xl border border-gray-200 shadow-sm object-cover",onClick:()=>window.open(n.aadharImages.front,"_blank")})]}),!((Je=n.aadharImages)!=null&&Je.front)&&s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2 mb-2",children:[s.jsx(er,{className:"w-4 h-4"}),"Review"]}),s.jsx("p",{className:"text-sm text-gray-400 italic",children:"No ID proof uploaded yet."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"}),"Email"]}),s.jsx("p",{className:"mt-1 text-gray-900 break-words",children:((ue=n.userSnapshot)==null?void 0:ue.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(bn,{className:"w-4 h-4"}),"Phone"]}),s.jsx("p",{className:"mt-1 text-gray-900",children:((Se=n.userSnapshot)==null?void 0:Se.phone)||"N/A"})]}),((Fe=n.userSnapshot)==null?void 0:Fe.phone)&&s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsxs("a",{href:`tel:${n.userSnapshot.phone}`,className:"flex-1 bg-white border border-gray-300 text-gray-700 py-2 rounded-xl flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors font-medium text-sm",children:[s.jsx(bn,{className:"w-4 h-4"}),"Call"]}),s.jsxs("a",{href:`https://wa.me/${n.userSnapshot.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-50 border border-green-200 text-green-700 py-2 rounded-xl flex items-center justify-center gap-2 hover:bg-green-100 transition-colors font-medium text-sm",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",className:"w-4 h-4"}),"Message"]})]})]})]}),n.userId&&(n.userId.govtIdFrontUrl||n.userId.govtIdBackUrl)&&s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.25},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(er,{className:"w-5 h-5"}),"Identity Verification"]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.userId.kycVerified?s.jsxs("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full flex items-center gap-1 font-medium",children:[s.jsx(At,{className:"w-3 h-3"})," Verified"]}):s.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full flex items-center gap-1 font-medium",children:[s.jsx(Hn,{className:"w-3 h-3"})," Pending"]})}),s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:"Government ID"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.userId.govtIdFrontUrl&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Front Side"}),s.jsx("img",{src:n.userId.govtIdFrontUrl,alt:"ID Front",className:"w-full h-40 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(n.userId.govtIdFrontUrl,"_blank")})]}),n.userId.govtIdBackUrl&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Back Side"}),s.jsx("img",{src:n.userId.govtIdBackUrl,alt:"ID Back",className:"w-full h-40 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(n.userId.govtIdBackUrl,"_blank")})]})]})]})]}),s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5"}),"Owner Information"]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((Ee=n.ownerSnapshot)==null?void 0:Ee.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"}),"Email"]}),s.jsx("p",{className:"mt-1 text-gray-900 break-words",children:((De=n.ownerSnapshot)==null?void 0:De.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(bn,{className:"w-4 h-4"}),"Phone"]}),s.jsx("p",{className:"mt-1 text-gray-900",children:((ut=n.ownerSnapshot)==null?void 0:ut.phone)||"N/A"})]})]})]})]})]}):null]})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx($t,{className:"w-10 h-10 text-yellow-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Approve Booking?"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to approve this booking? The seeker will be notified immediately."}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>C(!1),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-200",children:"Cancel"}),s.jsx("button",{onClick:()=>{C(!1),T("approve")},className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-200",children:"Confirm Approval"})]})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(xr,{className:"w-10 h-10 text-blue-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Confirm Check-in?"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to check in this seeker? This will add them as an active tenant and update room occupancy."}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>j(!1),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-200",children:"Cancel"}),s.jsx("button",{onClick:()=>{j(!1),O()},className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-200",children:"Confirm Check-in"})]})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(At,{className:"w-10 h-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Approved!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The booking has been successfully approved. The seeker will be notified via email."}),s.jsx("button",{onClick:()=>{x(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-200",children:"Back to Bookings"})]})}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rr,{className:"w-10 h-10 text-red-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Rejected"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The booking has been rejected. The seeker will be notified via email."}),s.jsx("button",{onClick:()=>{y(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-red-700 hover:to-red-800 transition-all duration-200",children:"Back to Bookings"})]})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(At,{className:"w-10 h-10 text-blue-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check-in Successful!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The seeker has been successfully checked in."}),s.jsx("button",{onClick:()=>{b(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-200",children:"Back to Bookings"})]})})]})},DJe=()=>{const e=hr(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[i,o]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState("all"),[f,A]=_.useState(!1),[m,x]=_.useState(!1),[g,y]=_.useState(null),[v,b]=_.useState(!1),w=async()=>{try{a(!0),o("");const H=await qe.get("/property/owner/tenants");if(H.status===200){const G=H.data,$=Array.isArray(G.tenants)?G.tenants:[],V=new Map;$.forEach(re=>{const K=`${re.userEmail||re.userName}-${re.propertyName}-${re.roomNumber}`;V.has(K)||V.set(K,re)});const te=Array.from(V.values());r(te)}else throw new Error(`HTTP ${H.status}`)}catch(H){o(H.message||"Failed to load tenants")}finally{a(!1)}};_.useEffect(()=>{w()},[]);const C=_.useMemo(()=>{const H=l.trim().toLowerCase();return t.filter(G=>d==="all"?!0:G.status===d).filter(G=>{if(!H)return!0;const $=`${G.userName||""} ${G.userEmail||""}`.toLowerCase(),V=`${G.propertyName||""}`.toLowerCase(),te=`${G.roomNumber||""} ${G.roomType||""}`.toLowerCase();return $.includes(H)||V.includes(H)||te.includes(H)}).sort((G,$)=>new Date($.actualCheckInDate)-new Date(G.actualCheckInDate))},[t,l,d]),N=_.useMemo(()=>{const H=t.length,G=t.filter(te=>te.status==="active").length,$=new Date().toDateString(),V=t.filter(te=>new Date(te.actualCheckInDate).toDateString()===$).length;return{total:H,active:G,checkedInToday:V}},[t]),j=async()=>{A(!0),await w(),A(!1)},P=H=>H?`${Number(H).toLocaleString()}`:"-",k=H=>H?new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",T=H=>{switch(H){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"checked_out":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},O=H=>{y(H),x(!0)},B=async()=>{if(g)try{if(b(!0),b(!0),(await qe.post(`/property/tenants/${g._id}/check-out`)).status!==200)throw new Error("Failed to check out tenant");r(G=>G.map($=>$._id===g._id?{...$,status:"completed"}:$)),x(!1),y(null)}catch(H){o(H.message||"Failed to check out tenant")}finally{b(!1)}},F=H=>{H&&(window.location.href=`tel:${H}`)},M=H=>{if(H){const G=H.replace(/\D/g,"");window.open(`https://wa.me/${G}`,"_blank")}},R=H=>{H&&(window.location.href=`mailto:${H}`)};return n?s.jsx(wn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ci,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading tenants..."})]})})}):s.jsx(wn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Checked-In Tenants"}),s.jsx("p",{className:"text-gray-600",children:"Manage and view all active tenants"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[f?s.jsx(Ci,{className:"w-4 h-4 animate-spin"}):s.jsx(Ci,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[s.jsx(Xh,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>u("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Total Tenants"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:N.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(Wr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="active"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>u("active"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Active"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:N.active})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(At,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-purple-600 mb-1",children:"Checked-In Today"}),s.jsx("div",{className:"text-3xl font-bold text-purple-900",children:N.checkedInToday})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-200 rounded-lg flex items-center justify-center",children:s.jsx(Fr,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant name, email, property, or room...",value:l,onChange:H=>c(H.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-800",children:i})}),C.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(Wr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tenants Found"}),s.jsx("p",{className:"text-gray-600",children:l?"Try adjusting your search criteria":"No checked-in tenants yet"})]}):s.jsx("div",{className:"space-y-4",children:C.map((H,G)=>s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:G*.05},className:`bg-white border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${H.status==="checked_out"?"border-red-300 bg-red-50":"border-gray-200"}`,children:s.jsxs("div",{className:"p-4 sm:p-6 text-left",children:[s.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-12 gap-4 lg:gap-6 items-center",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 w-full lg:col-span-4",children:[s.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full flex-shrink-0 flex items-center justify-center overflow-hidden ${!H.profilePicture&&(H.status==="checked_out"?"bg-red-100":"bg-blue-100")}`,children:H.profilePicture?s.jsx("img",{src:H.profilePicture,alt:H.userName,className:"w-full h-full object-cover"}):s.jsx(cr,{className:`w-6 h-6 sm:w-7 sm:h-7 ${H.status==="checked_out"?"text-red-600":"text-blue-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 truncate",title:H.userName,children:H.userName}),s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${T(H.status)}`,children:H.status==="active"?"Active":"Checked Out"})]}),s.jsxs("div",{className:"flex flex-col gap-0.5 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[s.jsx(nn,{className:"w-3.5 h-3.5 flex-shrink-0"}),s.jsx("span",{className:"truncate",title:H.userEmail,children:H.userEmail})]}),H.userPhone&&s.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[s.jsx(bn,{className:"w-3.5 h-3.5 flex-shrink-0"}),s.jsx("span",{children:H.userPhone})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("button",{onClick:$=>{$.stopPropagation(),F(H.userPhone)},className:"p-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors",title:"Call Tenant",children:s.jsx(bn,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:$=>{$.stopPropagation(),M(H.userPhone)},className:"p-1.5 bg-green-50 text-green-600 rounded-md hover:bg-green-100 transition-colors",title:"WhatsApp Tenant",children:s.jsx(dd,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:$=>{$.stopPropagation(),R(H.userEmail)},className:"p-1.5 bg-indigo-50 text-indigo-600 rounded-md hover:bg-indigo-100 transition-colors",title:"Email Tenant",children:s.jsx(nn,{className:"w-3.5 h-3.5"})})]})]})]})]}),s.jsxs("div",{className:"hidden lg:grid grid-cols-2 gap-4 lg:col-span-4 w-full",children:[s.jsxs("div",{className:"text-center overflow-hidden px-1",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wider",children:"Property"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",title:H.propertyName,children:H.propertyName})]}),s.jsxs("div",{className:"text-center px-1",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wider",children:"Room"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Room ",H.roomNumber]})]}),s.jsxs("div",{className:"text-center px-1",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wider",children:"Rent"}),s.jsx("p",{className:"text-sm font-semibold text-green-600",children:P(H.monthlyRent)})]})]}),s.jsx("div",{className:"flex items-center gap-2 w-full lg:w-auto lg:justify-end lg:col-span-4",children:H.status==="active"?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>e(`/owner/tenants/${H._id}`),title:"View Details",className:"p-2 sm:px-4 sm:py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx(Ir,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Details"})]}),s.jsxs("button",{onClick:()=>O(H),title:"Checkout Tenant",className:"flex-1 lg:flex-none px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[s.jsx($a,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"Checkout"}),s.jsx("span",{className:"lg:hidden",children:"Checkout"})]})]}):s.jsx("div",{className:"w-full lg:w-auto px-3 py-1.5 bg-red-50 text-red-600 rounded-lg text-sm font-medium text-center border border-red-100",children:"Checked Out"})})]}),s.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Property"}),s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:H.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Room"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["Room ",H.roomNumber]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Monthly Rent (Per Person)"}),s.jsx("p",{className:"font-semibold text-green-600",children:P(H.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Check-in Date"}),s.jsx("p",{className:"font-semibold text-gray-900",children:k(H.actualCheckInDate)})]})]})]})},H._id))}),m&&g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-6 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Confirm Checkout"}),s.jsx("p",{className:"text-red-100",children:"Are you sure you want to check out this tenant?"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Tenant Name"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.userName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:g.userEmail})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Property"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:g.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Room"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Room ",g.roomNumber]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Monthly Rent (Per Person)"}),s.jsx("p",{className:"text-sm font-semibold text-green-600",children:P(g.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Security Deposit"}),s.jsx("p",{className:"text-sm font-semibold text-blue-600",children:P(g.securityDeposit)})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Check-in Date"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:k(g.actualCheckInDate)})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," This action will mark the tenant as checked out. The security deposit will need to be processed separately."]})})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>{x(!1),y(null)},disabled:v,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:B,disabled:v,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:v?s.jsxs(s.Fragment,{children:[s.jsx(Ci,{className:"w-4 h-4 animate-spin"}),"Checking Out..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-5 h-5"}),"Confirm Checkout"]})})]})]})})]})})};delete za.Icon.Default.prototype._getIconUrl;za.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const MJe=({onLocationSelect:e})=>(t5({click:t=>{const{lat:r,lng:n}=t.latlng;e(r,n)}}),null),QJe=({center:e})=>{const t=t5({});return Ce.useEffect(()=>{e&&e[0]&&e[1]&&t.setView(e,t.getZoom())},[e,t]),null},$Je=()=>{const e=hr(),{id:t}=Su(),[r,n]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(!1),[c,d]=_.useState(null),[u,f]=_.useState(null),[A,m]=_.useState(null),[x,g]=_.useState("basic"),[y,v]=_.useState([12.9716,77.5946]),[b,w]=_.useState(13),[C,N]=_.useState({}),[j,P]=_.useState({}),[k,T]=_.useState(null),O=_.useRef({}),[B,F]=_.useState({property_name:"",description:"",property_mode:"room",address:{street:"",city:"",state:"",pincode:"",landmark:""},latitude:"",longitude:"",security_deposit:"",amenities:{parking4w:!1,parking2w:!1,kitchen:!1,powerBackup:!1},rules:{petsAllowed:!1,smokingAllowed:!1,visitorsAllowed:!0,cookingAllowed:!0},images:{front:"",back:"",hall:"",kitchen:"",gallery:[]},requiredImages:{front:null,back:null,hall:null,kitchen:null,outside_toilet:null},toilet_outside:!1,outside_toilet_image:"",land_tax_receipt:"",status:"active"});_.useEffect(()=>{(async()=>{var ne,se,ce,ye,Ae,xe,le,Z,pe,oe,X,be,_e,Le,ke,Qe,Ye,it,Oe,Ge,mt,ft;try{if(i(!0),!localStorage.getItem("authToken")){e("/login");return}const Je=await qe.get(`/property/owner/properties/${t}`);if(Je.data.success){const ue=Je.data.data;d(ue),F({property_name:ue.property_name||"",description:ue.description||"",property_mode:ue.property_mode||"room",address:{street:((ne=ue.address)==null?void 0:ne.street)||"",city:((se=ue.address)==null?void 0:se.city)||"",state:((ce=ue.address)==null?void 0:ce.state)||"",pincode:((ye=ue.address)==null?void 0:ye.pincode)||"",landmark:((Ae=ue.address)==null?void 0:Ae.landmark)||""},latitude:ue.latitude||"",longitude:ue.longitude||"",security_deposit:ue.security_deposit||"",amenities:{parking4w:((xe=ue.amenities)==null?void 0:xe.parking4w)||!1,parking2w:((le=ue.amenities)==null?void 0:le.parking2w)||!1,kitchen:((Z=ue.amenities)==null?void 0:Z.kitchen)||!1,powerBackup:((pe=ue.amenities)==null?void 0:pe.powerBackup)||!1},rules:{petsAllowed:((oe=ue.rules)==null?void 0:oe.petsAllowed)||!1,smokingAllowed:((X=ue.rules)==null?void 0:X.smokingAllowed)||!1,visitorsAllowed:((be=ue.rules)==null?void 0:be.visitorsAllowed)!==!1,cookingAllowed:((_e=ue.rules)==null?void 0:_e.cookingAllowed)!==!1},images:{front:((Le=ue.images)==null?void 0:Le.front)||"",back:((ke=ue.images)==null?void 0:ke.back)||"",hall:((Qe=ue.images)==null?void 0:Qe.hall)||"",kitchen:((Ye=ue.images)==null?void 0:Ye.kitchen)||"",gallery:((it=ue.images)==null?void 0:it.gallery)||[]},requiredImages:{front:(Oe=ue.images)!=null&&Oe.front?{file:null,preview:ue.images.front,name:"Front View"}:null,back:(Ge=ue.images)!=null&&Ge.back?{file:null,preview:ue.images.back,name:"Back View"}:null,hall:(mt=ue.images)!=null&&mt.hall?{file:null,preview:ue.images.hall,name:"Hall View"}:null,kitchen:(ft=ue.images)!=null&&ft.kitchen?{file:null,preview:ue.images.kitchen,name:"Kitchen View"}:null,outside_toilet:ue.outside_toilet_image?{file:null,preview:ue.outside_toilet_image,name:"Outside Toilet"}:null},toilet_outside:ue.toilet_outside||!1,outside_toilet_image:ue.outside_toilet_image||"",land_tax_receipt:ue.land_tax_receipt||"",status:ue.status||"active"}),ue.latitude&&ue.longitude&&v([ue.latitude,ue.longitude])}else f("Property not found")}catch(Ie){console.error("Error fetching property:",Ie),f("Error loading property details")}finally{i(!1)}})()},[t,e]),_.useEffect(()=>{const W=JSON.parse(localStorage.getItem("user")||"{}");n(W)},[]);const M=(W,ne)=>{if(W.includes(".")){const[se,ce]=W.split(".");F(ye=>({...ye,[se]:{...ye[se],[ce]:ne}}))}else F(se=>({...se,[W]:ne}))},R=W=>{F(ne=>({...ne,amenities:{...ne.amenities,[W]:!ne.amenities[W]}}))},H=W=>{F(ne=>({...ne,rules:{...ne.rules,[W]:!ne.rules[W]}}))},G=(W,ne)=>{F(se=>({...se,latitude:W,longitude:ne})),v([W,ne])},$=(W,ne)=>{const se=ne.toLowerCase().endsWith(".pdf");console.log("Opening document preview:",{docUrl:W,fileName:ne,isPdf:se}),fetch(W,{method:"HEAD"}).then(ce=>{console.log("Document URL response:",ce.status,ce.statusText),ce.ok||console.error("Document URL not accessible:",ce.status)}).catch(ce=>{console.error("Error checking document URL:",ce)}),T({url:W,name:ne,type:se?"pdf":"image"})},V=(W,ne)=>{var ye;const se=(ye=ne.target.files)==null?void 0:ye[0];if(!se)return;const ce={file:se,preview:URL.createObjectURL(se),name:se.name};F(Ae=>({...Ae,requiredImages:{...Ae.requiredImages,[W]:ce}}))},te=W=>{F(ne=>({...ne,requiredImages:{...ne.requiredImages,[W]:null}}))},re=(W,ne)=>{if(ne)if(W==="gallery"){const se={file:ne,preview:URL.createObjectURL(ne),name:ne.name};F(ce=>({...ce,images:{...ce.images,gallery:[...ce.images.gallery,se]}}))}else{const se={file:ne,preview:URL.createObjectURL(ne),name:ne.name};F(ce=>({...ce,images:{...ce.images,[W]:se}}))}},K=(W,ne=null)=>{F(ne!==null?se=>({...se,images:{...se.images,gallery:se.images.gallery.filter((ce,ye)=>ye!==ne)}}):se=>({...se,images:{...se.images,[W]:null}}))},z=async W=>{var ne,se,ce,ye,Ae,xe,le,Z;W.preventDefault(),l(!0),f(null),m(null);try{if(!localStorage.getItem("authToken")){e("/login");return}const oe="http://localhost:5000/api/property",X=new FormData,be={...B};if(B.amenities.kitchen&&!(B.images.kitchen||((ne=B.requiredImages.kitchen)==null?void 0:ne.file)||((se=B.requiredImages.kitchen)==null?void 0:se.preview))){f("Kitchen image is required when Kitchen amenity is selected"),l(!1);return}const _e={...be};X.append("propertyData",JSON.stringify(_e)),(ce=B.requiredImages.front)!=null&&ce.file&&X.append("frontImage",B.requiredImages.front.file),(ye=B.requiredImages.back)!=null&&ye.file&&X.append("backImage",B.requiredImages.back.file),(Ae=B.requiredImages.hall)!=null&&Ae.file&&X.append("hallImage",B.requiredImages.hall.file),(xe=B.requiredImages.kitchen)!=null&&xe.file&&X.append("kitchenImage",B.requiredImages.kitchen.file),B.images.gallery&&Array.isArray(B.images.gallery)&&B.images.gallery.forEach((ke,Qe)=>{ke.file&&X.append("galleryImages",ke.file)}),(le=B.requiredImages.outside_toilet)!=null&&le.file&&X.append("outsideToiletImage",B.requiredImages.outside_toilet.file),(Z=B.land_tax_receipt)!=null&&Z.file&&X.append("landTaxReceipt",B.land_tax_receipt.file),B.documents&&Array.isArray(B.documents)&&B.documents.forEach((ke,Qe)=>{ke.file&&X.append("documents",ke.file)}),console.log("FormData entries for update:"),console.log("FormData entries for update:");for(let[ke,Qe]of X.entries())console.log(ke,Qe);const Le=await qe.put(`/property/owner/properties/${t}`,X);Le.data.success?(m("Property updated successfully!"),setTimeout(()=>{e("/owner-properties")},2e3)):f(Le.data.message||"Failed to update property")}catch(pe){console.error("Error updating property:",pe),f("Error updating property")}finally{l(!1)}},ee=[{id:"basic",label:"Basic Info",icon:Zr},{id:"location",label:"Location & Map",icon:xr},{id:"amenities",label:"Amenities & Rules",icon:Pr},{id:"media",label:"Images & Documents",icon:ms}];return a?s.jsx(wn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"w-8 h-8 animate-spin text-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading property details..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Property ID: ",t]})]})})}):u&&!c?s.jsx(wn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx($t,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Property"}),s.jsx("p",{className:"text-gray-600 mb-4",children:u}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Property ID: ",t]}),s.jsx("button",{onClick:()=>e("/owner-properties"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Back to Properties"})]})})}):s.jsxs(wn,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx("button",{onClick:()=>e("/owner-properties"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Ps,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"Edit Property"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Update your property information"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:z,disabled:o,className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?s.jsx(Js,{className:"w-4 h-4 animate-spin"}):s.jsx(Lv,{className:"w-4 h-4"}),s.jsx("span",{children:o?"Saving...":"Save Changes"})]})})]})}),A&&s.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center space-x-2",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsx("span",{children:A})]}),u&&s.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center space-x-2",children:[s.jsx($t,{className:"w-5 h-5"}),s.jsx("span",{children:u})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-6 lg:space-x-8 overflow-x-auto scrollbar-hide",children:ee.map(W=>{const ne=W.icon;return s.jsxs("button",{onClick:()=>g(W.id),className:`flex items-center space-x-2 sm:space-x-3 py-3 px-3 sm:px-4 border-b-2 font-medium text-sm whitespace-nowrap min-w-0 ${x===W.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(ne,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{children:W.label})]},W.id)})})})}),s.jsxs("form",{onSubmit:z,className:"space-y-6 sm:space-y-8",children:[x==="basic"&&s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Basic Information & Pricing"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name *"}),s.jsx("input",{type:"text",value:B.property_name,onChange:W=>M("property_name",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter property name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Mode"}),s.jsxs(ij,{value:B.property_mode,onValueChange:W=>M("property_mode",W),children:[s.jsx(Qy,{children:s.jsx(oj,{placeholder:"Select property mode"})}),s.jsx($y,{children:s.jsx(ji,{value:"room",children:"Room"})})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{value:B.description,onChange:W=>M("description",W.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Describe your property...",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Pricing Information"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit () *"}),s.jsx("input",{type:"number",value:B.security_deposit,onChange:W=>M("security_deposit",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter security deposit amount",required:!0})]})})]})]}),x==="location"&&s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Location & Map"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",value:B.address.street,onChange:W=>M("address.street",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter street address",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:B.address.city,onChange:W=>M("address.city",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"City",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",value:B.address.state,onChange:W=>M("address.state",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"State",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),s.jsx("input",{type:"text",value:B.address.pincode,onChange:W=>M("address.pincode",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Pincode",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:B.address.landmark,onChange:W=>M("address.landmark",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Nearby landmark"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),s.jsx("input",{type:"number",step:"any",value:B.latitude,onChange:W=>M("latitude",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Latitude"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),s.jsx("input",{type:"number",step:"any",value:B.longitude,onChange:W=>M("longitude",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Longitude"})]})]})]}),s.jsx("div",{className:"h-64 sm:h-80 lg:h-96 rounded-lg overflow-hidden border border-gray-300",children:s.jsxs(ef,{center:y,zoom:b,style:{height:"100%",width:"100%"},children:[s.jsx(ol,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(MJe,{onLocationSelect:G}),s.jsx(QJe,{center:y}),B.latitude&&B.longitude&&s.jsx(tf,{position:[B.latitude,B.longitude]})]})})]})]}),x==="amenities"&&s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Amenities & Rules"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"parking4w",label:"4-Wheeler Parking",icon:cc},{key:"parking2w",label:"2-Wheeler Parking",icon:cc},{key:"kitchen",label:"Kitchen",icon:Hg},{key:"powerBackup",label:"Power Backup",icon:VV}].map(W=>{const ne=W.icon;return s.jsxs("label",{className:`flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${B.amenities[W.key]?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{type:"checkbox",checked:B.amenities[W.key],onChange:()=>R(W.key),className:"sr-only"}),s.jsx(ne,{className:"w-6 h-6 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-center",children:W.label})]},W.key)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Rules & Policies"}),s.jsx("div",{className:"space-y-3 sm:space-y-4",children:[{key:"petsAllowed",label:"Pets Allowed",description:"Allow tenants to keep pets"},{key:"smokingAllowed",label:"Smoking Allowed",description:"Allow smoking on the property"},{key:"visitorsAllowed",label:"Visitors Allowed",description:"Allow tenants to have visitors"},{key:"cookingAllowed",label:"Cooking Allowed",description:"Allow cooking in the property"}].map(W=>s.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:B.rules[W.key],onChange:()=>H(W.key),className:"mt-1 h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.label}),s.jsx("div",{className:"text-sm text-gray-500",children:W.description})]})]},W.key))})]})]}),x==="media"&&s.jsxs(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Images & Documents"}),s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(ms,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h4",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:"Property Images"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-8 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Kitchen Available"}),s.jsx("button",{type:"button",onClick:()=>R("kitchen"),className:`relative inline-flex items-center h-6 w-11 rounded-full transition-colors border ${B.amenities.kitchen?"bg-red-600 border-red-600":"bg-gray-200 border-gray-300"}`,"aria-pressed":B.amenities.kitchen,children:s.jsx("span",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transition-transform ${B.amenities.kitchen?"translate-x-5":"translate-x-0"}`})}),s.jsx("span",{className:`text-xs font-semibold ${B.amenities.kitchen?"text-red-700":"text-gray-500"}`,children:B.amenities.kitchen?"YES":"NO"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Outside Toilet Available"}),s.jsx("button",{type:"button",onClick:()=>M("toilet_outside",!B.toilet_outside),className:`relative inline-flex items-center h-6 w-11 rounded-full transition-colors border ${B.toilet_outside?"bg-red-600 border-red-600":"bg-gray-200 border-gray-300"}`,"aria-pressed":B.toilet_outside,children:s.jsx("span",{className:`absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transition-transform ${B.toilet_outside?"translate-x-5":"translate-x-0"}`})}),s.jsx("span",{className:`text-xs font-semibold ${B.toilet_outside?"text-red-700":"text-gray-500"}`,children:B.toilet_outside?"YES":"NO"})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{key:"front",label:"Front"},{key:"back",label:"Back"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"},{key:"outside_toilet",label:"Outside Toilet"}].filter(({key:W})=>W==="kitchen"?B.amenities.kitchen:W==="outside_toilet"?B.toilet_outside:!0).map(({key:W,label:ne})=>{var ye;const se=B.requiredImages[W]||B.images[W],ce=((ye=B.requiredImages[W])==null?void 0:ye.preview)||B.images[W];return s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:[ne," ",W!=="kitchen"&&W!=="outside_toilet"||W==="kitchen"&&B.amenities.kitchen||W==="outside_toilet"&&B.toilet_outside?"*":""]}),se?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:ce,alt:`${ne} View`,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>te(W),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(nr,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${C[W]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:C[W]?"Uploading...":`Upload ${ne}`}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ae=>V(W,Ae)})]})]},W)})}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(ud,{className:"w-8 h-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:W=>{Array.from(W.target.files).forEach(se=>{se&&re("gallery",se)})},className:"hidden"})]})}),B.images.gallery&&B.images.gallery.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:B.images.gallery.map((W,ne)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:typeof W=="string"?W:W.preview,alt:`Gallery ${ne+1}`,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>K("gallery",ne),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(nr,{className:"w-3 h-3"})})]},ne))})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Documents"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Land Tax Receipt"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-20 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center",children:B.land_tax_receipt?s.jsx("img",{src:typeof B.land_tax_receipt=="string"?B.land_tax_receipt:B.land_tax_receipt.preview,alt:"Land Tax Receipt",className:"w-full h-full object-cover rounded-lg"}):s.jsxs(s.Fragment,{children:[s.jsx(Is,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Land Tax Receipt"})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{ref:W=>O.current.land_tax_receipt=W,type:"file",accept:"image/*,.pdf",onChange:W=>re("land_tax_receipt",W.target.files[0]),className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>{var W;return(W=O.current.land_tax_receipt)==null?void 0:W.click()},disabled:C.land_tax_receipt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Upload Document"}),B.land_tax_receipt&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>$(B.land_tax_receipt,"Land Tax Receipt.pdf"),className:"w-10 h-10 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",title:"Preview Document",children:s.jsx(Ir,{className:"w-4 h-4"})}),s.jsx("a",{href:typeof B.land_tax_receipt=="string"?B.land_tax_receipt:B.land_tax_receipt.preview,download:"Land Tax Receipt.pdf",className:"w-10 h-10 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",title:"Download Document",children:s.jsx(Jc,{className:"w-4 h-4"})})]})]})]})]})})]})]})]})]})]})}),k&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["Document Preview - ",k.name]}),s.jsx("button",{type:"button",onClick:()=>T(null),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:""})]}),s.jsx("div",{className:"p-4",children:k.type==="pdf"?s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:s.jsx("iframe",{title:"PDF Preview",src:`${k.url}#toolbar=1&navpanes=1&scrollbar=1`,className:"w-full h-full border-0",style:{minHeight:"600px"},onLoad:()=>{console.log("PDF iframe loaded successfully")},onError:()=>{console.error("PDF iframe failed to load")}})}):s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50 flex items-center justify-center",children:s.jsx("img",{src:k.url,alt:k.name,className:"w-full max-h-[70vh] object-contain border border-gray-200 rounded-lg",onError:W=>{W.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})})}),s.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-600",children:k.type==="pdf"?"PDF Document":"Image Document"}),s.jsxs("div",{className:"flex gap-2",children:[k.type==="pdf"&&s.jsxs("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(r6,{className:"w-4 h-4 mr-1"}),"Open in New Tab"]}),s.jsxs("a",{href:k.url,download:k.name,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Jc,{className:"w-4 h-4 mr-1"}),"Download"]})]})]})]})})]})},HJe=()=>{const e=hr(),[t,r]=_.useState(!0),[n,a]=_.useState("6months"),[i,o]=_.useState([]),[l,c]=_.useState([]),[d,u]=_.useState([]);_.useEffect(()=>{(async()=>{r(!0);try{const w=localStorage.getItem("authToken"),C=JSON.parse(localStorage.getItem("user")||"{}");if(!w||!C._id){e("/login");return}const[N,j]=await Promise.all([qe.get("/property/owner/properties?page=1&limit=500"),qe.get("/property/owner/bookings")]),P=N.data,k=j.data,T=P.properties||P.data||[];o(T),c(k.bookings||k.data||[]);const O=T.reduce((B,F)=>{const R=(F.rooms&&Array.isArray(F.rooms)?F.rooms:[]).map(H=>({...H,rent:H.rent??H.price??0,roomType:H.roomType??H.room_type??"Unknown",is_available:typeof H.is_available=="boolean"?H.is_available:H.status==="active",property:F}));return[...B,...R]},[]);u(O)}catch(w){console.error("Error fetching analytics data:",w)}finally{r(!1)}})()},[e]);const f=_.useMemo(()=>{const b=i.length,w=d.length,C=d.filter(V=>V.status==="active"||V.is_available).length,N=d.filter(V=>V.is_available===!1).length,j=l.filter(V=>{var K;const te=((K=V.payment)==null?void 0:K.paymentStatus)||V.paymentStatus;return(V.status||V.bookingStatus)==="confirmed"&&te==="completed"}),P=j.reduce((V,te)=>{var re;return V+(((re=te.payment)==null?void 0:re.amount)||0)},0),k=new Date().getMonth(),T=new Date().getFullYear(),O=j.filter(V=>{const te=new Date(V.createdAt);return te.getMonth()===k&&te.getFullYear()===T}).reduce((V,te)=>{var re;return V+(((re=te.payment)==null?void 0:re.amount)||0)},0),B=k===0?11:k-1,F=k===0?T-1:T,M=j.filter(V=>{const te=new Date(V.createdAt);return te.getMonth()===B&&te.getFullYear()===F}).reduce((V,te)=>{var re;return V+(((re=te.payment)==null?void 0:re.amount)||0)},0),R=M>0?((O-M)/M*100).toFixed(1):0,H=w>0?(N/w*100).toFixed(1):0,G=d.length>0?Math.round(d.reduce((V,te)=>V+(te.rent||0),0)/d.length):0,$=l.filter(V=>V.status==="pending").length;return{totalProperties:b,totalRooms:w,activeRooms:C,occupiedRooms:N,totalRevenue:P,monthlyRevenue:O,revenueChange:R,occupancyRate:H,avgRent:G,pendingBookings:$,totalBookings:l.length}},[i,d,l]),A=_.useMemo(()=>{const b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w=n==="1month"?1:n==="3months"?3:n==="6months"?6:12,C=[],N=new Date;for(let j=w-1;j>=0;j--){const P=new Date(N.getFullYear(),N.getMonth()-j,1),k=P.getMonth(),T=P.getFullYear(),O=l.filter(B=>{var H;const F=B.status||B.bookingStatus,M=((H=B.payment)==null?void 0:H.paymentStatus)||B.paymentStatus;if(F!=="confirmed"||M!=="completed")return!1;const R=new Date(B.createdAt||B.updatedAt||B.date||Date.now());return R.getMonth()===k&&R.getFullYear()===T}).reduce((B,F)=>{var M;return B+(((M=F.payment)==null?void 0:M.amount)||F.amount||F.totalAmount||0)},0);C.push({month:b[k],revenue:O,bookings:l.filter(B=>{const F=new Date(B.createdAt||B.updatedAt||B.date||Date.now());return F.getMonth()===k&&F.getFullYear()===T}).length})}return C},[l,n]),m=_.useMemo(()=>i.map(b=>{const w=b.propertyName||b.property_name||"Property",C=Array.isArray(b.rooms)?b.rooms:[],N=new Set(C.map(k=>(k._id||k.id||"").toString())),j=l.filter(k=>{const T=(k.roomId||k.room_id||"").toString();return T&&N.has(T)}),P=j.filter(k=>{var T;return(k.status||k.bookingStatus)==="confirmed"&&(((T=k.payment)==null?void 0:T.paymentStatus)||k.paymentStatus)==="completed"}).reduce((k,T)=>{var O;return k+(((O=T.payment)==null?void 0:O.amount)||T.amount||T.totalAmount||0)},0);return{name:w.length>15?w.substring(0,15)+"...":w,fullName:w,revenue:P,bookings:j.length,rooms:C.length,occupiedRooms:C.filter(k=>k.is_available===!1).length}}).sort((b,w)=>w.revenue-b.revenue),[i,l]),x=_.useMemo(()=>{const b=l.filter(j=>j.status==="confirmed").length,w=l.filter(j=>j.status==="pending").length,C=l.filter(j=>j.status==="rejected").length,N=l.filter(j=>j.status==="cancelled").length;return[{name:"Confirmed",value:b,color:"#10b981"},{name:"Pending",value:w,color:"#f59e0b"},{name:"Rejected",value:C,color:"#ef4444"},{name:"Cancelled",value:N,color:"#6b7280"}].filter(j=>j.value>0)},[l]),g=_.useMemo(()=>{const b={};return d.forEach(w=>{const C=w.roomType||w.room_type||"Unknown";b[C]=(b[C]||0)+1}),Object.entries(b).map(([w,C])=>({name:w,value:C,color:w==="Single"?"#3b82f6":w==="Double"?"#8b5cf6":w==="Triple"?"#ec4899":"#6b7280"}))},[d]),y=b=>b>=1e7?`${(b/1e7).toFixed(1)}Cr`:b>=1e5?`${(b/1e5).toFixed(1)}L`:b>=1e3?`${(b/1e3).toFixed(1)}K`:`${b}`;if(t)return s.jsx(wn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Js,{className:"w-12 h-12 animate-spin text-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})})});const v=[{title:"Total Revenue",value:y(f.totalRevenue),change:`${f.revenueChange}%`,changeType:f.revenueChange>=0?"positive":"negative",icon:ra,color:"bg-green-500",description:"All-time earnings"},{title:"Monthly Revenue",value:y(f.monthlyRevenue),change:`${f.revenueChange}%`,changeType:f.revenueChange>=0?"positive":"negative",icon:mu,color:"bg-blue-500",description:"This month"},{title:"Occupancy Rate",value:`${f.occupancyRate}%`,change:`${f.occupiedRooms}/${f.totalRooms} rooms`,icon:Zr,color:"bg-purple-500",description:"Current occupancy"},{title:"Total Bookings",value:f.totalBookings.toString(),change:`${f.pendingBookings} pending`,icon:Fr,color:"bg-orange-500",description:"All bookings"},{title:"Average Rent",value:y(f.avgRent),change:`${f.totalRooms} rooms`,icon:BF,color:"bg-pink-500",description:"Per room"},{title:"Active Rooms",value:f.activeRooms.toString(),change:`${f.totalRooms} total`,icon:At,color:"bg-teal-500",description:"Available for booking"}];return s.jsx(wn,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-6",children:[s.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[s.jsx(Ep,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"}),"Analytics Dashboard"]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Track your property performance and revenue"})]}),s.jsx("div",{className:"flex items-center gap-1 sm:gap-2 bg-white rounded-lg border border-gray-200 p-1",children:[{label:"1M",value:"1month"},{label:"3M",value:"3months"},{label:"6M",value:"6months"},{label:"1Y",value:"1year"}].map(b=>s.jsx("button",{onClick:()=>a(b.value),className:`px-2 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ${n===b.value?"bg-red-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:b.label},b.value))})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:v.map((b,w)=>{const C=b.icon;return s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`${b.color} p-2 sm:p-3 rounded-lg`,children:s.jsx(C,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),b.changeType&&s.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${b.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[b.changeType==="positive"?s.jsx(Xh,{className:"w-4 h-4"}):s.jsx(wue,{className:"w-4 h-4"}),b.change]})]}),s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:b.value}),s.jsx("p",{className:"text-sm text-gray-600",children:b.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:b.description})]},b.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(mu,{className:"w-5 h-5 text-green-600"}),"Revenue Trend"]}),s.jsx(oA,{width:"100%",height:250,children:s.jsxs(Are,{data:A,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(CA,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(hc,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(ml,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(li,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:b=>[`${b.toLocaleString()}`,"Revenue"]}),s.jsx(Ou,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:2})]})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Fr,{className:"w-5 h-5 text-blue-600"}),"Bookings Trend"]}),s.jsx(oA,{width:"100%",height:250,children:s.jsxs(hre,{data:A,children:[s.jsx(CA,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(hc,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(ml,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(li,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:b=>[b,"Bookings"]}),s.jsx(tm,{type:"monotone",dataKey:"bookings",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 lg:col-span-2",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Zr,{className:"w-5 h-5 text-purple-600"}),"Property Performance"]}),s.jsx(oA,{width:"100%",height:250,children:s.jsxs(fre,{data:m,children:[s.jsx(CA,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(hc,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"11px"}}),s.jsx(ml,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(li,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(b,w)=>[w==="revenue"?`${b.toLocaleString()}`:b,w==="revenue"?"Revenue":"Bookings"],content:({active:b,payload:w})=>{if(b&&w&&w.length){const C=w[0].payload;return s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:C.fullName}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Revenue: ",s.jsxs("span",{className:"font-medium text-purple-600",children:["",C.revenue.toLocaleString()]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Bookings: ",s.jsx("span",{className:"font-medium text-blue-600",children:C.bookings})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Occupancy: ",s.jsxs("span",{className:"font-medium",children:[C.occupiedRooms,"/",C.rooms," rooms"]})]})]})}return null}}),s.jsx(_u,{dataKey:"revenue",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]}),s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(BF,{className:"w-5 h-5 text-orange-600"}),"Booking Status"]}),x.length>0?s.jsxs(s.Fragment,{children:[s.jsx(oA,{width:"100%",height:200,children:s.jsxs(wJe,{children:[s.jsx(Tu,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:x.map((b,w)=>s.jsx(V5,{fill:b.color},`cell-${w}`))}),s.jsx(li,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:x.map(b=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:b.color}}),s.jsx("span",{className:"text-gray-600",children:b.name})]}),s.jsx("span",{className:"font-semibold text-gray-900",children:b.value})]},b.name))})]}):s.jsx("div",{className:"flex items-center justify-center h-[250px] text-gray-400",children:s.jsxs("div",{className:"text-center",children:[s.jsx($t,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"No bookings yet"})]})})]})]}),g.length>0&&s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Ir,{className:"w-5 h-5 text-pink-600"}),"Room Type Distribution"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:g.map(b=>s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:b.color}}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:b.name})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.value}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(b.value/d.length*100).toFixed(1),"% of total"]})]},b.name))})]})]})})},zJe=()=>{const e=hr(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[i,o]=_.useState(""),[l,c]=_.useState("all"),[d,u]=_.useState(!1),[f,A]=_.useState({open:!1,requestId:null,newStatus:null,title:"",message:""}),m=async()=>{try{const P=(await qe.get("/maintenance/owner")).data.map(k=>{var T,O,B,F,M;return{id:k._id,tenantName:((T=k.tenantId)==null?void 0:T.name)||"Unknown",tenantEmail:(O=k.tenantId)==null?void 0:O.email,tenantPhone:(B=k.tenantId)==null?void 0:B.phone,propertyName:((F=k.propertyId)==null?void 0:F.property_name)||"N/A",roomNumber:((M=k.roomId)==null?void 0:M.room_number)||"N/A",title:k.title,description:k.description,category:k.category,priority:k.priority,status:k.status,dateSubmitted:k.createdAt,assignedTo:k.assignedTo}});r(P)}catch(j){console.error("Error fetching maintenance requests:",j)}finally{a(!1),u(!1)}};_.useEffect(()=>{m()},[]);const x=_.useMemo(()=>{const j=i.trim().toLowerCase();return t.filter(P=>l==="all"?P.status!=="completed":P.status===l).filter(P=>{if(!j)return!0;const k=`${P.tenantName} ${P.tenantEmail}`.toLowerCase(),T=P.propertyName.toLowerCase(),O=(P.roomNumber||"").toLowerCase(),B=P.title.toLowerCase();return k.includes(j)||T.includes(j)||O.includes(j)||B.includes(j)}).sort((P,k)=>new Date(k.dateSubmitted)-new Date(P.dateSubmitted))},[t,i,l]),g=_.useMemo(()=>{const j=t.length,P=t.filter(B=>B.status==="pending").length,k=t.filter(B=>B.status==="in-progress").length,T=t.filter(B=>B.status==="completed").length,O=t.filter(B=>B.status!=="completed").length;return{total:j,pending:P,inProgress:k,completed:T,active:O}},[t]),y=()=>{u(!0),m()},v=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),b=j=>{switch(j){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=j=>{switch(j){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-orange-100 text-orange-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=(j,P)=>{const k=P==="in-progress";A({open:!0,requestId:j.id,newStatus:P,title:k?"Start Maintenance?":"Complete Request?",message:k?`Are you sure you want to start working on "${j.title}"? This will notify the tenant.`:`Are you sure you want to mark "${j.title}" as completed? This will notify the tenant.`})},N=async()=>{var j,P;try{await qe.patch(`/maintenance/${f.requestId}`,{status:f.newStatus}),m(),A({open:!1,requestId:null,newStatus:null,title:"",message:""})}catch(k){console.error("Error updating status:",k),alert("Failed to update status: "+(((P=(j=k.response)==null?void 0:j.data)==null?void 0:P.message)||k.message))}};return n?s.jsx(wn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ci,{className:"w-12 h-12 animate-spin text-orange-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading maintenance requests..."})]})})}):s.jsxs(wn,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Maintenance Requests"}),s.jsx("p",{className:"text-gray-600",children:"Manage tenant maintenance requests"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[d?s.jsx(Ci,{className:"w-4 h-4 animate-spin"}):s.jsx(Ci,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg text-sm font-medium hover:bg-orange-700 transition-colors",children:[s.jsx(Xh,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-orange-50 to-orange-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="all"?"border-orange-400 ring-2 ring-orange-200":"border-orange-200"}`,onClick:()=>c("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-orange-600 mb-1",children:"Active Requests"}),s.jsx("div",{className:"text-3xl font-bold text-orange-900",children:g.active})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-200 rounded-lg flex items-center justify-center",children:s.jsx(Gd,{className:"w-6 h-6 text-orange-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>c("pending"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:g.pending})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx($t,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="in-progress"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>c("in-progress"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"In Progress"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:g.inProgress})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(Hn,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="completed"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>c("completed"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Completed"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:g.completed})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(At,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant, property, room, or request title...",value:i,onChange:j=>o(j.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),x.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(Gd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Requests Found"}),s.jsx("p",{className:"text-gray-600",children:i?"Try adjusting your search criteria":"No maintenance requests yet"})]}):s.jsx("div",{className:"space-y-4",children:x.map((j,P)=>s.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P*.05},className:"bg-white border-2 border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:j.title}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${b(j.status)}`,children:j.status.replace("-"," ")}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${w(j.priority)}`,children:j.priority})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:j.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(cr,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:j.tenantName})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Zr,{className:"w-4 h-4"}),s.jsx("span",{children:j.propertyName})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Ai,{className:"w-4 h-4"}),s.jsxs("span",{children:["Room ",j.roomNumber]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Fr,{className:"w-4 h-4"}),s.jsx("span",{children:v(j.dateSubmitted)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full font-medium",children:j.category}),j.assignedTo&&s.jsxs("span",{className:"text-gray-600",children:["Assigned to: ",s.jsx("span",{className:"font-medium",children:j.assignedTo})]})]})]}),s.jsxs("div",{className:"flex lg:flex-col gap-2 lg:items-end",children:[j.status==="pending"&&s.jsx("button",{onClick:()=>C(j,"in-progress"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Start Work"}),j.status==="in-progress"&&s.jsx("button",{onClick:()=>C(j,"completed"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Mark Complete"})]})]})})},j.id))})]}),s.jsx(Sr,{children:f.open&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs(J.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:f.title}),s.jsx("button",{onClick:()=>A({...f,open:!1}),className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(nr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:f.message}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>A({...f,open:!1}),className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:N,className:`px-4 py-2 text-white font-medium rounded-lg transition-colors ${f.newStatus==="completed"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,children:"Confirm"})]})]})})})]})},VJe=()=>{var te,re;const e=hr(),[t,r]=_.useState([]),[n,a]=_.useState(!0),[i,o]=_.useState(""),[l,c]=_.useState("all"),[d,u]=_.useState(!1),[f,A]=_.useState(!1),[m,x]=_.useState([]),[g,y]=_.useState({tenantId:"",amount:"",reason:"",dueDate:""}),[v,b]=_.useState({show:!1,paymentId:null,paymentDetails:null}),[w,C]=_.useState(!1);_.useEffect(()=>{N()},[]);const N=async()=>{try{a(!0),await Promise.all([j(),P()])}catch(K){console.error("Error fetching initial data:",K)}finally{a(!1)}},j=async()=>{try{const K=await qe.get("/property/owner/payments");K.data.success&&r(K.data.payments)}catch(K){console.error("Error fetching payments:",K)}},P=async()=>{try{const K=await qe.get("/property/owner/tenants?status=active");K.data.success&&x(K.data.tenants)}catch(K){console.error(K)}},k=_.useMemo(()=>m.find(K=>K._id===g.tenantId),[g.tenantId,m]),{rentPayments:T,otherPayments:O}=_.useMemo(()=>{const K=i.trim().toLowerCase(),z=t.filter(ne=>l==="all"?ne.status==="pending"||ne.status==="overdue":ne.status===l).filter(ne=>{if(!K)return!0;const se=ne.tenantId?`${ne.tenantId.userName} ${ne.tenantId.userEmail}`.toLowerCase():"Unknown",ce=ne.tenantId?(ne.tenantId.propertyName||"").toLowerCase():"",ye=ne.tenantId?(ne.tenantId.roomNumber||"").toLowerCase():"",Ae=(ne.description||"").toLowerCase();return se.includes(K)||ce.includes(K)||ye.includes(K)||Ae.includes(K)}).sort((ne,se)=>new Date(se.dueDate)-new Date(ne.dueDate)),ee=[],W=[];return z.forEach(ne=>{ne.type==="rent"?ee.push(ne):W.push(ne)}),{rentPayments:ee,otherPayments:W}},[t,i,l]),B=({payment:K,index:z})=>{var ee,W,ne,se,ce,ye;return s.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:z*.05},className:`bg-white border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${K.status==="overdue"?"border-red-300 bg-red-50":K.type==="rent"?"border-blue-100":"border-purple-100"}`,children:[s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[s.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center overflow-hidden ${K.status==="overdue"?"bg-red-100":K.type==="rent"?"bg-blue-100":"bg-purple-100"}`,children:(ee=K.tenantId)!=null&&ee.profilePicture?s.jsx("img",{src:K.tenantId.profilePicture,alt:K.tenantId.userName||"Tenant",className:"w-full h-full object-cover"}):s.jsx(cr,{className:`w-6 h-6 sm:w-7 sm:h-7 ${K.status==="overdue"?"text-red-600":"text-gray-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:K.tenantId?K.tenantId.userName:"Unknown Tenant"}),((W=K.tenantId)==null?void 0:W.userEmail)&&s.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["(",K.tenantId.userEmail,")"]}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${G(K.status)}`,children:K.status}),K.daysOverdue>0&&s.jsxs("span",{className:"px-2.5 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:[K.daysOverdue," days overdue"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs sm:text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium text-gray-800",children:K.description}),s.jsx("span",{className:"text-gray-400",children:"|"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsx("span",{children:(ne=K.tenantId)==null?void 0:ne.propertyName})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ai,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsxs("span",{children:["Room ",(se=K.tenantId)==null?void 0:se.roomNumber]})]})]})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-6 xl:gap-8 min-w-max",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:K.type==="rent"?"Rent Amount (Per Person)":"Amount"}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("p",{className:"text-base font-bold text-green-600",children:R(K.amount)}),K.type==="rent"&&K.roomId&&s.jsxs("p",{className:"text-[10px] text-gray-400",children:["Total: ",R(K.roomId.rent),K.roomId.occupancy>1&&` (${K.roomId.occupancy} ppl)`]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Due Date"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:H(K.dueDate)})]}),K.paidAt&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Paid On"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:H(K.paidAt)})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:K.status!=="paid"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{var Ae;return window.location.href=`tel:${((Ae=K.tenantId)==null?void 0:Ae.userPhone)||""}`},className:"px-3 sm:px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm font-medium flex items-center gap-1.5",disabled:!((ce=K.tenantId)!=null&&ce.userPhone),children:[s.jsx(bn,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Call"})]}),s.jsxs("button",{onClick:()=>{var Ae;return window.location.href=`sms:${((Ae=K.tenantId)==null?void 0:Ae.userPhone)||""}`},className:"px-3 sm:px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors text-sm font-medium flex items-center gap-1.5",disabled:!((ye=K.tenantId)!=null&&ye.userPhone),children:[s.jsx(sg,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Message"})]}),s.jsxs("button",{onClick:()=>b({show:!0,paymentId:K._id,paymentDetails:K}),className:"px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium flex items-center gap-1.5",children:[s.jsx(At,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Mark Paid"}),s.jsx("span",{className:"sm:hidden",children:"Paid"})]})]})})]}),s.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:K.type==="rent"?"Rent Amount (Per Person)":"Amount"}),s.jsx("p",{className:"font-bold text-green-600",children:R(K.amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Due Date"}),s.jsx("p",{className:"font-semibold text-gray-900",children:H(K.dueDate)})]})]})]}),K.status==="paid"&&s.jsxs("div",{className:"mt-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(At,{className:"w-4 h-4 text-green-600"}),s.jsx("h4",{className:"text-sm font-semibold text-green-900",children:"Payment Details"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Payment Method"}),s.jsx("p",{className:"font-semibold text-green-900 capitalize",children:K.paymentMethod||"Cash"})]}),K.transactionId&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Transaction ID"}),s.jsx("p",{className:"font-semibold text-green-900 text-xs truncate",children:K.transactionId})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Paid On"}),s.jsx("p",{className:"font-semibold text-green-900",children:H(K.paidAt)})]})]})]})]},K._id||z)},F=_.useMemo(()=>{const K=t.filter(se=>se.status==="pending").length,z=t.filter(se=>se.status==="overdue").length,ee=t.filter(se=>se.status==="paid").length,W=K+z,ne=t.filter(se=>se.status==="paid").reduce((se,ce)=>se+ce.amount,0);return{total:W,pending:K,overdue:z,paid:ee,collectedThisMonth:ne}},[t]),M=async()=>{u(!0),await j(),setTimeout(()=>u(!1),500)},R=K=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(K||0),H=K=>K?new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",G=K=>{switch(K){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},$=async K=>{try{(await qe.put(`/property/owner/payments/${K}/paid`)).data.success&&(r(ee=>ee.map(W=>W._id===K?{...W,status:"paid",daysOverdue:0,paidAt:new Date().toISOString()}:W)),b({show:!1,paymentId:null,paymentDetails:null}))}catch(z){console.error("Error marking as paid:",z),alert("Failed to mark as paid")}},V=async()=>{if(!g.tenantId||!g.amount||!g.reason){alert("Please fill in all required fields");return}try{(await qe.post("/property/owner/payments/create",g)).data.success&&(A(!1),y({tenantId:"",amount:"",reason:"",dueDate:""}),C(!0),j())}catch(K){console.error("Error creating payment:",K),alert("Failed to create payment request")}};return n?s.jsx(wn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ci,{className:"w-12 h-12 animate-spin text-green-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading payment ledger..."})]})})}):s.jsx(wn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Management"}),s.jsx("p",{className:"text-gray-600",children:"Track and manage tenant payments"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:M,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[d?s.jsx(Ci,{className:"w-4 h-4 animate-spin"}):s.jsx(Ci,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>A(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:[s.jsx(ud,{className:"w-4 h-4"}),"Custom Request"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors",children:[s.jsx(Xh,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>c("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Total Unpaid"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:F.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(cr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>c("pending"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:F.pending})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(Hn,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-red-50 to-red-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="overdue"?"border-red-400 ring-2 ring-red-200":"border-red-200"}`,onClick:()=>c("overdue"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-red-600 mb-1",children:"Overdue"}),s.jsx("div",{className:"text-3xl font-bold text-red-900",children:F.overdue})]}),s.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-lg flex items-center justify-center",children:s.jsx($t,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-emerald-50 to-emerald-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="paid"?"border-emerald-400 ring-2 ring-emerald-200":"border-emerald-200"}`,onClick:()=>c("paid"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-emerald-600 mb-1",children:"Paid"}),s.jsx("div",{className:"text-3xl font-bold text-emerald-900",children:F.paid})]}),s.jsx("div",{className:"w-12 h-12 bg-emerald-200 rounded-lg flex items-center justify-center",children:s.jsx(At,{className:"w-6 h-6 text-emerald-600"})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Collected"}),s.jsx("div",{className:"text-2xl font-bold text-green-900",children:R(F.collectedThisMonth)})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(ra,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant, property, or room...",value:i,onChange:K=>o(K.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2 px-1",children:[s.jsx(Zr,{className:"w-5 h-5 text-blue-600"}),"Monthly Rent & Dues"]}),T.length===0?s.jsx("p",{className:"text-gray-500 italic px-1",children:"No rent records found."}):s.jsx("div",{className:"space-y-4",children:T.map((K,z)=>s.jsx(B,{payment:K,index:z},K._id))})]}),O.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-4 px-1",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(ra,{className:"w-5 h-5 text-purple-600"}),"Other Payments & Requests"]})}),s.jsx("div",{className:"space-y-4",children:O.map((K,z)=>s.jsx(B,{payment:K,index:z},K._id))})]}),T.length===0&&O.length===0&&s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(ra,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Payments Found"}),s.jsx("p",{className:"text-gray-600",children:i?"Try adjusting your search criteria":"No payment records found"})]})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Create Custom Payment Request"}),s.jsx("button",{onClick:()=>A(!1),className:"p-1 hover:bg-purple-800 rounded-lg transition-colors",children:s.jsx(nr,{className:"w-6 h-6"})})]}),s.jsx("p",{className:"text-purple-100 mt-2",children:"Request payment from a tenant for any reason"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Tenant ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:g.tenantId,onChange:K=>y({...g,tenantId:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose a tenant..."}),m.map(K=>s.jsxs("option",{value:K._id,children:[K.userName," (",K.userPhone||"No Phone",")  ",K.propertyName," (",K.roomNumber,")"]},K._id))]})]}),s.jsx(Sr,{children:k&&s.jsx(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-purple-50 rounded-lg p-4 border border-purple-100 text-sm overflow-hidden",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-200 flex items-center justify-center flex-shrink-0",children:s.jsx(cr,{className:"w-5 h-5 text-purple-700"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:k.userName}),s.jsxs("p",{className:"text-gray-600 font-medium",children:[k.propertyName," ",s.jsx("span",{className:"mx-1",children:""})," Room ",k.roomNumber]}),s.jsxs("div",{className:"mt-2 text-xs text-gray-500 space-y-1",children:[k.userEmail&&s.jsxs("p",{className:"flex items-center gap-1",children:[" ",k.userEmail]}),k.userPhone&&s.jsxs("p",{className:"flex items-center gap-1",children:[" ",k.userPhone]}),s.jsxs("p",{className:"flex items-center gap-1 font-medium text-green-700",children:[" Rent: ",R(((te=k.roomId)==null?void 0:te.perPersonRent)||k.monthlyRent),"/mo (Per Person)"]})]})]})]})})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:g.amount,onChange:K=>y({...g,amount:K.target.value}),placeholder:"Enter amount",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:g.reason,onChange:K=>y({...g,reason:K.target.value}),placeholder:"e.g., Electricity bill, Maintenance charges, Damage repair, etc.",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date (Optional)"}),s.jsx("input",{type:"date",value:g.dueDate,onChange:K=>y({...g,dueDate:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:V,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(OA,{className:"w-5 h-5"}),"Send Request"]})]})]})}),s.jsx(Sr,{children:v.show&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:s.jsxs(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(At,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Confirm Payment"})]}),s.jsx("button",{onClick:()=>b({show:!1,paymentId:null,paymentDetails:null}),className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-1 transition-colors",children:s.jsx(nr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to mark this payment as ",s.jsx("span",{className:"font-bold text-green-600",children:"PAID"}),"?"]}),v.paymentDetails&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tenant:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:((re=v.paymentDetails.tenantId)==null?void 0:re.userName)||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Amount:"}),s.jsx("span",{className:"text-sm font-bold text-green-600",children:R(v.paymentDetails.amount)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Description:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.paymentDetails.description})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"This action will update the payment status and notify the tenant."})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>b({show:!1,paymentId:null,paymentDetails:null}),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:()=>$(v.paymentId),className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(At,{className:"w-5 h-5"}),"Confirm Payment"]})]})]})})}),s.jsx(Sr,{children:w&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:s.jsxs(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(OA,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Request Sent!"})]})}),s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(At,{className:"w-10 h-10 text-purple-600"})}),s.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:"Payment Request Created Successfully!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The tenant has been notified about the payment request."})]}),s.jsx("div",{className:"bg-gray-50 px-6 py-4",children:s.jsx("button",{onClick:()=>C(!1),className:"w-full px-4 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Close"})})]})})})]})})},KJe=()=>{var C,N,j,P,k,T,O,B,F,M,R,H,G;const{tenantId:e}=Su(),t=hr(),[r,n]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(""),[c,d]=_.useState(!1),[u,f]=_.useState(!1);_.useEffect(()=>{e&&(async()=>{var V,te;try{const re=await qe.get(`/property/tenants/${e}`);re.data.success&&n(re.data.tenant)}catch(re){console.error("Error fetching tenant details:",re),l(((te=(V=re.response)==null?void 0:V.data)==null?void 0:te.message)||"Failed to load tenant details")}finally{i(!1)}})()},[e]);const A=$=>$?`${Number($).toLocaleString()}`:"-",m=$=>$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-",x=async()=>{try{if(f(!0),(await qe.post(`/property/tenants/${e}/check-out`)).status!==200)throw new Error("Failed to check out tenant");t("/owner-tenants",{state:{message:"Tenant checked out successfully"}})}catch($){console.error("Checkout error:",$),alert($.message||"Failed to check out tenant")}finally{f(!1),d(!1)}},g=()=>{r!=null&&r.userPhone&&(window.location.href=`tel:${r.userPhone}`)},y=()=>{if(r!=null&&r.userPhone){const $=r.userPhone.replace(/\D/g,"");window.open(`https://wa.me/${$}`,"_blank")}},v=()=>{r!=null&&r.userEmail&&(window.location.href=`mailto:${r.userEmail}`)};if(a)return s.jsx(wn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(o||!r)return s.jsx(wn,{children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[s.jsx(Jh,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-red-900 mb-2",children:"Error Loading Tenant"}),s.jsx("p",{className:"text-red-600 mb-6",children:o||"Tenant not found"}),s.jsx("button",{onClick:()=>t("/owner-tenants"),className:"px-4 py-2 bg-white border border-red-300 rounded-lg text-red-700 font-medium hover:bg-red-50",children:"Back to Tenants"})]})})});const{kyc:b}=r,w=(C=b==null?void 0:b.aadhar)==null?void 0:C.extractedData;return s.jsxs(wn,{children:[s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/owner-tenants"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[s.jsx(Ps,{className:"w-4 h-4 mr-1"}),"Back to Tenants List"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tenant Profile"}),s.jsx("p",{className:"text-gray-600",children:"Detailed information and documents"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-medium border ${r.status==="active"?"bg-green-100 text-green-800 border-green-200":r.status==="checked_out"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:["Status: ",r.status.charAt(0).toUpperCase()+r.status.slice(1)]}),r.status==="active"&&s.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center gap-2",children:[s.jsx($a,{className:"w-4 h-4"}),"Checkout Tenant"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4 overflow-hidden border-4 border-white shadow-md",children:r.profilePicture?s.jsx("img",{src:r.profilePicture,alt:r.userName,className:"w-full h-full object-cover"}):s.jsx(cr,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:r.userName}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Tenant since ",m(r.actualCheckInDate)]}),s.jsxs("div",{className:"w-full space-y-3 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(nn,{className:"w-4 h-4 mr-3 text-gray-400"}),s.jsx("span",{className:"truncate",children:r.userEmail})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(bn,{className:"w-4 h-4 mr-3 text-gray-400"}),s.jsx("span",{children:r.userPhone||"No phone provided"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2",children:[s.jsx("button",{onClick:g,className:"flex items-center justify-center p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",title:"Call",children:s.jsx(bn,{className:"w-5 h-5"})}),s.jsx("button",{onClick:y,className:"flex items-center justify-center p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",title:"WhatsApp",children:s.jsx(dd,{className:"w-5 h-5"})}),s.jsx("button",{onClick:v,className:"flex items-center justify-center p-2 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100 transition-colors",title:"Email",children:s.jsx(nn,{className:"w-5 h-5"})})]}),((N=b==null?void 0:b.aadhar)==null?void 0:N.frontImageUrl)&&s.jsxs("div",{className:"pt-2",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1 text-left",children:"KYC Document:"}),s.jsx("div",{className:"h-24 w-full bg-gray-50 rounded border border-gray-100 overflow-hidden cursor-pointer",onClick:()=>window.open(b.aadhar.frontImageUrl,"_blank"),children:s.jsx("img",{src:b.aadhar.frontImageUrl,alt:"KYC Front",className:"w-full h-full object-contain"})})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Is,{className:"w-5 h-5 mr-2 text-blue-600"}),"Lease Details"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Property"}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(xr,{className:"w-4 h-4 mr-2 text-gray-400 mt-0.5"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:((j=r.propertyId)==null?void 0:j.property_name)||((P=r.propertyId)==null?void 0:P.propertyName)||r.propertyName})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Room"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900 ml-6",children:["Room ",((k=r.roomId)==null?void 0:k.roomNumber)||r.roomNumber]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Rent per Person"}),s.jsxs("div",{className:"ml-6",children:[s.jsxs("p",{className:"text-sm font-bold text-green-600",children:[A(r.monthlyRent||((T=r.roomId)==null?void 0:T.perPersonRent)||Math.ceil((((O=r.roomId)==null?void 0:O.rent)||0)/(((B=r.roomId)==null?void 0:B.occupancy)||1))),s.jsx("span",{className:"text-xs font-normal text-gray-500",children:"/month"})]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["Total Room: ",A((F=r.roomId)==null?void 0:F.rent)]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Deposit"}),s.jsx("p",{className:"text-sm font-bold text-blue-600 ml-6",children:A(r.security_deposit||r.securityDeposit||((M=r.propertyId)==null?void 0:M.security_deposit))})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Check-in Date"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fr,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:m(r.actualCheckInDate)})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:`rounded-xl p-6 border ${(b==null?void 0:b.status)==="approved"?"bg-green-50 border-green-200":(b==null?void 0:b.status)==="rejected"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${(b==null?void 0:b.status)==="approved"?"bg-green-100 text-green-600":(b==null?void 0:b.status)==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:s.jsx(er,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:`text-lg font-bold ${(b==null?void 0:b.status)==="approved"?"text-green-900":(b==null?void 0:b.status)==="rejected"?"text-red-900":"text-yellow-900"}`,children:["KYC Status: ",b!=null&&b.status?b.status.charAt(0).toUpperCase()+b.status.slice(1):"Not Submitted"]}),s.jsx("p",{className:`text-sm ${(b==null?void 0:b.status)==="approved"?"text-green-700":(b==null?void 0:b.status)==="rejected"?"text-red-700":"text-yellow-700"}`,children:(b==null?void 0:b.status)==="approved"?"Identity verified successfully.":(b==null?void 0:b.status)==="rejected"?"Identity verification failed.":"Verification is pending or incomplete."})]})]})})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:[s.jsx(TA,{className:"w-5 h-5 mr-2 text-blue-600"}),"Identity Verification"]})}),s.jsx("div",{className:"p-6",children:w?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Extracted Details"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Full Name"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:w.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Date of Birth"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:w.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Gender"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:w.gender})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Aadhar Number"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 blur-sm hover:blur-none transition-all cursor-pointer",title:"Click to reveal",children:w.aadharNumber})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Document Images"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[((R=b==null?void 0:b.aadhar)==null?void 0:R.frontImageUrl)&&s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Front Side"}),s.jsxs("div",{className:"aspect-[1.6] bg-gray-100 rounded overflow-hidden relative group",children:[s.jsx("img",{src:b.aadhar.frontImageUrl,alt:"ID Front",className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("a",{href:b.aadhar.frontImageUrl,target:"_blank",rel:"noreferrer",className:"px-3 py-1.5 bg-white text-gray-900 text-xs font-medium rounded-full",children:"View Full Size"})})]})]}),((H=b==null?void 0:b.aadhar)==null?void 0:H.backImageUrl)&&s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Back Side"}),s.jsxs("div",{className:"aspect-[1.6] bg-gray-100 rounded overflow-hidden relative group",children:[s.jsx("img",{src:b.aadhar.backImageUrl,alt:"ID Back",className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("a",{href:b.aadhar.backImageUrl,target:"_blank",rel:"noreferrer",className:"px-3 py-1.5 bg-white text-gray-900 text-xs font-medium rounded-full",children:"View Full Size"})})]})]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Is,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No identity documents have been processed for this tenant."})]})})]})]})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-6 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Confirm Checkout"}),s.jsx("p",{className:"text-red-100",children:"Are you sure you want to check out this tenant?"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Tenant Name"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:r.userName})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Rent per Person"}),s.jsx("p",{className:"text-sm font-semibold text-green-600",children:A(r.monthlyRent||((G=r.roomId)==null?void 0:G.perPersonRent))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Deposit"}),s.jsx("p",{className:"text-sm font-semibold text-blue-600",children:A(r.securityDeposit)})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Check-in Date"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:m(r.actualCheckInDate)})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," This action will mark the tenant as checked out. The security deposit will need to be processed separately."]})})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>d(!1),disabled:u,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:x,disabled:u,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Ci,{className:"w-4 h-4 animate-spin"}),"Checking Out..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-5 h-5"}),"Confirm Checkout"]})})]})]})})]})},WJe=e=>{const t=new Date(e),n=Math.floor((new Date-t)/1e3);if(n<60)return"Just now";const a=Math.floor(n/60);if(a<60)return`${a}m ago`;const i=Math.floor(a/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`},GJe=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState("all"),o=async()=>{try{n(!0);const A=JSON.parse(localStorage.getItem("user")||"{}"),m=A._id||A.id;if(!m)return;const x=await qe.get("/notifications",{headers:{"x-user-id":m}});x.data.success&&t(x.data.data)}catch(A){console.error("Error fetching notifications:",A)}finally{n(!1)}};_.useEffect(()=>{o()},[]);const l=async A=>{try{(await qe.put(`/notifications/${A}/read`)).data.success&&t(x=>x.map(g=>g._id===A?{...g,is_read:!0}:g))}catch(m){console.error("Error marking as read:",m)}},c=async()=>{try{(await qe.put("/notifications/mark-all-read")).data.success&&t(m=>m.map(x=>({...x,is_read:!0})))}catch(A){console.error("Error marking all as read:",A)}},d=async A=>{try{(await qe.delete(`/notifications/${A}`)).data.success&&t(x=>x.filter(g=>g._id!==A))}catch(m){console.error("Error deleting notification:",m)}},u=A=>{switch(A){case"property_approved":return s.jsx(Qr,{className:"w-5 h-5 text-green-500"});case"property_rejected":return s.jsx($t,{className:"w-5 h-5 text-red-500"});case"booking_request":return s.jsx(Hn,{className:"w-5 h-5 text-blue-500"});case"general":return s.jsx(sg,{className:"w-5 h-5 text-purple-500"});default:return s.jsx(cd,{className:"w-5 h-5 text-gray-400"})}},f=a==="unread"?e.filter(A=>!A.is_read):e;return s.jsx(wn,{children:s.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Stay updated with your property management activities"})]}),e.some(A=>!A.is_read)&&s.jsx("button",{onClick:c,className:"text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:"Mark all as read"})]}),s.jsxs("div",{className:"flex space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a==="all"?"bg-red-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,children:"All"}),s.jsxs("button",{onClick:()=>i("unread"),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${a==="unread"?"bg-red-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,children:["Unread ",e.filter(A=>!A.is_read).length>0&&`(${e.filter(A=>!A.is_read).length})`]})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:r?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-500",children:"Loading notifications..."})]}):f.length===0?s.jsxs("div",{className:"p-16 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(cd,{className:"w-10 h-10 text-gray-300"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No notifications found"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"We'll notify you when something important happens."})]}):s.jsx("div",{className:"divide-y divide-gray-50",children:s.jsx(Sr,{initial:!1,children:f.map(A=>s.jsxs(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:`p-5 flex items-start space-x-4 hover:bg-gray-50 transition-colors group relative ${A.is_read?"":"bg-blue-50/30"}`,children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:u(A.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:`text-sm font-medium ${A.is_read?"text-gray-700":"text-gray-900"}`,children:A.title}),s.jsx("span",{className:"text-xs text-gray-400",children:WJe(A.createdAt)})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:A.message}),s.jsxs("div",{className:"flex items-center mt-3 space-x-4",children:[!A.is_read&&s.jsxs("button",{onClick:()=>l(A._id),className:"text-xs font-medium text-red-600 hover:text-red-700 flex items-center",children:[s.jsx(At,{className:"w-3 h-3 mr-1"}),"Mark as read"]}),A.action_url&&s.jsxs("a",{href:A.action_url,className:"text-xs font-medium text-blue-600 hover:text-blue-700 flex items-center",children:[s.jsx(Pr,{className:"w-3 h-3 mr-1"}),"View details"]})]})]}),s.jsx("button",{onClick:()=>d(A._id),className:"opacity-0 group-hover:opacity-100 p-2 text-gray-400 hover:text-red-600 transition-all rounded-full hover:bg-red-50",title:"Delete notification",children:s.jsx(LA,{className:"w-4 h-4"})})]},A._id))})})})]})})},ah=({children:e})=>{const[t,r]=_.useState(!0),[n,a]=_.useState(!1);return _.useEffect(()=>{const i=()=>{console.log("Global Logout Triggered"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login"};return window.addEventListener("lyvo-logout",i),()=>window.removeEventListener("lyvo-logout",i)},[]),_.useEffect(()=>{(()=>{const o=localStorage.getItem("authToken"),l=localStorage.getItem("user");if(o&&l)try{const c=JSON.parse(l);if(console.log("ProtectedAdminRoute: User role check:",c.role),c.role===2)a(!0);else{console.log("ProtectedAdminRoute: User is not admin, redirecting to login"),window.location.href="/login";return}}catch(c){console.error("Error parsing user data:",c),window.location.href="/login";return}else{console.log("ProtectedAdminRoute: No token or user data, redirecting to login"),window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},La=({children:e})=>{const[t,r]=_.useState(!0),[n,a]=_.useState(!1);return _.useEffect(()=>{(()=>{const o=Vv(),l=zv();if(o&&l)if(Hv(l)===3)a(!0);else{const d=Ip(l);window.location.href=d;return}else{window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},qs=({children:e})=>{const[t,r]=_.useState(!0),[n,a]=_.useState(!1);return _.useEffect(()=>{(()=>{const o=Vv(),l=zv();if(o&&l)if(Hv(l)===1)a(!0);else{const d=Ip(l);window.location.href=d;return}else{window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},qJe=({children:e})=>{const[t,r]=_.useState(!0),[n,a]=_.useState(!1);return _.useEffect(()=>{(()=>{const o=localStorage.getItem("authToken"),l=localStorage.getItem("user");if(o&&l)try{const c=JSON.parse(l);if(console.log("ProtectedUserRoute: User role check:",c.role),c.role===1)a(!0);else if(c.role===2){console.log("ProtectedUserRoute: Redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(c.role===3){console.log("ProtectedUserRoute: Redirecting owner to owner dashboard"),window.location.href="/owner-dashboard";return}else{console.log("ProtectedUserRoute: Invalid role, redirecting to login"),window.location.href="/login";return}}catch(c){console.error("Error parsing user data:",c),window.location.href="/login";return}else{console.log("ProtectedUserRoute: No token or user data, redirecting to login"),window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},YJe=({children:e})=>{const[t,r]=_.useState(!0);return _.useEffect(()=>{(()=>{const a=localStorage.getItem("authToken"),i=localStorage.getItem("user");if(a&&i)try{const o=JSON.parse(i),l=window.location.pathname;if(console.log("RootAuthCheck: User logged in with role:",o.role,"on path:",l),l==="/"){if(o.role===2){console.log("RootAuthCheck: Root path - redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(o.role===3){console.log("RootAuthCheck: Root path - redirecting owner to owner dashboard"),window.location.href="/owner-dashboard";return}else if(o.role===1){if(console.log("RootAuthCheck: Root path - redirecting seeker to appropriate page"),o.isTenant){console.log("RootAuthCheck: User is tenant - redirecting to tenant dashboard"),window.location.href="/tenant-dashboard";return}o.isNewUser&&!o.hasCompletedBehaviorQuestions?window.location.href="/seeker-onboarding":window.location.href="/seeker-dashboard";return}}}catch(o){console.error("Error parsing user data in root auth check:",o)}else console.log("RootAuthCheck: No user logged in");r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Checking authentication..."})]})}):e};function XJe(){const e=ro(),[t,r]=_.useState(!1);return _.useEffect(()=>{r(!0);const n=setTimeout(()=>r(!1),1e3);return()=>clearTimeout(n)},[e.pathname]),e.pathname.startsWith("/admin"),e.pathname.startsWith("/owner"),s.jsxs(s.Fragment,{children:[t&&s.jsx(Zve,{}),s.jsx(Sr,{mode:"wait",children:s.jsxs(rie,{location:e,children:[s.jsx(qt,{path:"/",element:s.jsx(tme,{})}),s.jsx(qt,{path:"/dashboard",element:s.jsx(qs,{children:s.jsx(RC,{})})}),s.jsx(qt,{path:"/seeker",element:s.jsx(qs,{children:s.jsx(RC,{})})}),s.jsx(qt,{path:"/seeker-dashboard",element:s.jsx(qs,{children:s.jsx(RC,{})})}),s.jsx(qt,{path:"/seeker-favorites",element:s.jsx(qs,{children:s.jsx(_be,{})})}),s.jsx(qt,{path:"/seeker-bookings",element:s.jsx(qs,{children:s.jsx(Cbe,{})})}),s.jsx(qt,{path:"/seeker-onboarding",element:s.jsx(qs,{children:s.jsx(Ibe,{})})}),s.jsx(qt,{path:"/seeker-profile",element:s.jsx(ebe,{children:s.jsx(qs,{children:s.jsx(Obe,{})})})}),s.jsx(qt,{path:"/seeker/property/:id",element:s.jsx(qs,{children:s.jsx(Lbe,{})})}),s.jsx(qt,{path:"/seeker-dashboard/:propertyId",element:s.jsx(qs,{children:s.jsx(Fbe,{})})}),s.jsx(qt,{path:"/my-room",element:s.jsx(qs,{children:s.jsx(Ube,{})})}),s.jsx(qt,{path:"/booking-dashboard/:bookingId",element:s.jsx(qs,{children:s.jsx(Rbe,{})})}),s.jsx(qt,{path:"/seeker/room/:roomId",element:s.jsx(qs,{children:s.jsx(Dbe,{})})}),s.jsx(qt,{path:"/seeker-kyc",element:s.jsx(qs,{children:s.jsx(Jwe,{})})}),s.jsx(qt,{path:"/tenant-dashboard",element:s.jsx(qs,{children:s.jsx(e1e,{})})}),s.jsx(qt,{path:"/tenant-payments",element:s.jsx(qs,{children:s.jsx(t1e,{})})}),s.jsx(qt,{path:"/tenant-maintenance",element:s.jsx(qs,{children:s.jsx(r1e,{})})}),s.jsx(qt,{path:"/tenant-agreement",element:s.jsx(qs,{children:s.jsx(x4e,{})})}),s.jsx(qt,{path:"/tenant-roommates",element:s.jsx(qs,{children:s.jsx(y4e,{})})}),s.jsx(qt,{path:"/tenant-expenses",element:s.jsx(qs,{children:s.jsx(v4e,{})})}),s.jsx(qt,{path:"/debug/rooms",element:s.jsx(qs,{children:s.jsx(Mbe,{})})}),s.jsx(qt,{path:"/profile",element:s.jsx(qJe,{children:s.jsx(hpe,{})})}),s.jsx(qt,{path:"/login",element:s.jsx(Qve,{})}),s.jsx(qt,{path:"/signup",element:s.jsx($ve,{})}),s.jsx(qt,{path:"/room-owner-signup",element:s.jsx(zve,{})}),s.jsx(qt,{path:"/forgot-password",element:s.jsx(Vve,{})}),s.jsx(qt,{path:"/reset-password",element:s.jsx(Wve,{})}),s.jsx(qt,{path:"/verify-email",element:s.jsx(Gve,{})}),s.jsx(qt,{path:"/resend-verification",element:s.jsx(qve,{})}),s.jsx(qt,{path:"/debug-logout",element:s.jsx(Yve,{})}),s.jsx(qt,{path:"/onboarding",element:s.jsx(Xve,{})}),s.jsx(qt,{path:"/room-owner-dashboard",element:s.jsx(La,{children:s.jsx(tbe,{})})}),s.jsx(qt,{path:"/about",element:s.jsx(fpe,{})}),s.jsx(qt,{path:"/contact",element:s.jsx(Ape,{})}),s.jsx(qt,{path:"/owner-dashboard",element:s.jsx(La,{children:s.jsx(N4e,{})})}),s.jsx(qt,{path:"/owner-properties",element:s.jsx(La,{children:s.jsx(_4e,{})})}),s.jsx(qt,{path:"/owner-property/:id",element:s.jsx(La,{children:s.jsx(C4e,{})})}),s.jsx(qt,{path:"/owner-add-property",element:s.jsx(La,{children:s.jsx(Pke,{})})}),s.jsx(qt,{path:"/owner-edit-property/:id",element:s.jsx(La,{children:s.jsx($Je,{})})}),s.jsx(qt,{path:"/owner-kyc-required",element:s.jsx(La,{children:s.jsx(Ike,{})})}),s.jsx(qt,{path:"/owner-bookings",element:s.jsx(La,{children:s.jsx(RJe,{})})}),s.jsx(qt,{path:"/owner-bookings/:bookingId",element:s.jsx(La,{children:s.jsx(UJe,{})})}),s.jsx(qt,{path:"/owner-profile",element:s.jsx(La,{children:s.jsx(L$,{})})}),s.jsx(qt,{path:"/owner-settings",element:s.jsx(La,{children:s.jsx(L$,{})})}),s.jsx(qt,{path:"/owner-tenants",element:s.jsx(La,{children:s.jsx(DJe,{})})}),s.jsx(qt,{path:"/owner/tenants/:tenantId",element:s.jsx(La,{children:s.jsx(KJe,{})})}),s.jsx(qt,{path:"/owner-analytics",element:s.jsx(La,{children:s.jsx(HJe,{})})}),s.jsx(qt,{path:"/owner-maintenance",element:s.jsx(La,{children:s.jsx(zJe,{})})}),s.jsx(qt,{path:"/owner-payments",element:s.jsx(La,{children:s.jsx(VJe,{})})}),s.jsx(qt,{path:"/owner-notifications",element:s.jsx(La,{children:s.jsx(GJe,{})})}),s.jsx(qt,{path:"/admin-dashboard",element:s.jsx(ah,{children:s.jsx(CJe,{})})}),s.jsx(qt,{path:"/admin-users",element:s.jsx(ah,{children:s.jsx(kJe,{})})}),s.jsx(qt,{path:"/admin-add-admin",element:s.jsx(ah,{children:s.jsx(EJe,{})})}),s.jsx(qt,{path:"/admin-owners",element:s.jsx(ah,{children:s.jsx(SJe,{})})}),s.jsx(qt,{path:"/admin-seekers",element:s.jsx(ah,{children:s.jsx(BJe,{})})}),s.jsx(qt,{path:"/admin-properties",element:s.jsx(ah,{children:s.jsx(PJe,{})})}),s.jsx(qt,{path:"/admin-property-details/:propertyId",element:s.jsx(ah,{children:s.jsx(OJe,{})})}),s.jsx(qt,{path:"/admin-settings",element:s.jsx(ah,{children:s.jsx(LJe,{})})}),s.jsx(qt,{path:"/admin/*",element:s.jsx(FJe,{})}),s.jsx(qt,{path:"*",element:s.jsx(mpe,{})})]},e.pathname)})]})}function ZJe(){const e=ro(),t=e.pathname.startsWith("/admin"),r=e.pathname.startsWith("/owner"),n=e.pathname.startsWith("/seeker")||e.pathname==="/dashboard"||e.pathname.startsWith("/seeker/room/")||e.pathname.startsWith("/booking-dashboard/")||e.pathname.startsWith("/seeker-dashboard")||e.pathname==="/my-room"||e.pathname==="/tenant-dashboard"||e.pathname==="/tenant-payments"||e.pathname==="/tenant-maintenance"||e.pathname==="/tenant-agreement"||e.pathname==="/tenant-roommates"||e.pathname==="/tenant-expenses";return _.useEffect(()=>{(()=>{const i=Vv(),o=zv();if(i&&o){const l=e.pathname;if(Hv(o)===1&&(l.startsWith("/admin")||l.startsWith("/owner"))){window.location.href="/dashboard";return}}})()},[e.pathname]),s.jsxs("div",{className:"App min-h-screen bg-gradient-to-br from-slate-50 to-stone-100",children:[!t&&!r&&!n&&s.jsx(Wue,{}),s.jsx(XJe,{}),!t&&!r&&!n&&s.jsx(Gue,{}),!t&&!r&&!n&&s.jsx(pK,{}),s.jsx(eW,{})]})}function JJe(){return _.useEffect(()=>{dme()},[]),s.jsx(die,{children:s.jsxs(Jve,{children:[s.jsx(v6,{}),s.jsx(YJe,{children:s.jsx(ZJe,{})})]})})}const eet=f4.createRoot(document.getElementById("root"));eet.render(s.jsx(Ce.StrictMode,{children:s.jsx(JJe,{})}));export{yn as _,ix as c,sn as g};
