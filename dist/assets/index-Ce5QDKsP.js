var Cre=Object.defineProperty;var Bre=(e,t,r)=>t in e?Cre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var mn=(e,t,r)=>Bre(e,typeof t!="symbol"?t+"":t,r);function Sre(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var j$={exports:{}},tN={},N$={exports:{}},Or={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=Symbol.for("react.element"),Ere=Symbol.for("react.portal"),kre=Symbol.for("react.fragment"),Pre=Symbol.for("react.strict_mode"),Ire=Symbol.for("react.profiler"),Tre=Symbol.for("react.provider"),Ore=Symbol.for("react.context"),Lre=Symbol.for("react.forward_ref"),Fre=Symbol.for("react.suspense"),Ure=Symbol.for("react.memo"),Rre=Symbol.for("react.lazy"),PT=Symbol.iterator;function Dre(e){return e===null||typeof e!="object"?null:(e=PT&&e[PT]||e["@@iterator"],typeof e=="function"?e:null)}var _$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$=Object.assign,B$={};function Og(e,t,r){this.props=e,this.context=t,this.refs=B$,this.updater=r||_$}Og.prototype.isReactComponent={};Og.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Og.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function S$(){}S$.prototype=Og.prototype;function A3(e,t,r){this.props=e,this.context=t,this.refs=B$,this.updater=r||_$}var f3=A3.prototype=new S$;f3.constructor=A3;C$(f3,Og.prototype);f3.isPureReactComponent=!0;var IT=Array.isArray,E$=Object.prototype.hasOwnProperty,m3={current:null},k$={key:!0,ref:!0,__self:!0,__source:!0};function P$(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)E$.call(t,n)&&!k$.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:pv,type:e,key:a,ref:o,props:i,_owner:m3.current}}function Mre(e,t){return{$$typeof:pv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function p3(e){return typeof e=="object"&&e!==null&&e.$$typeof===pv}function Qre(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var TT=/\/+/g;function v_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qre(""+e.key):t.toString(36)}function Vw(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pv:case Ere:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+v_(o,0):n,IT(i)?(r="",e!=null&&(r=e.replace(TT,"$&/")+"/"),Vw(i,t,r,"",function(d){return d})):i!=null&&(p3(i)&&(i=Mre(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(TT,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",IT(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+v_(a,l);o+=Vw(a,t,r,c,i)}else if(c=Dre(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+v_(a,l++),o+=Vw(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yb(e,t,r){if(e==null)return e;var n=[],i=0;return Vw(e,n,"","",function(a){return t.call(r,a,i++)}),n}function $re(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ea={current:null},Kw={transition:null},Hre={ReactCurrentDispatcher:Ea,ReactCurrentBatchConfig:Kw,ReactCurrentOwner:m3};function I$(){throw Error("act(...) is not supported in production builds of React.")}Or.Children={map:yb,forEach:function(e,t,r){yb(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yb(e,function(){t++}),t},toArray:function(e){return yb(e,function(t){return t})||[]},only:function(e){if(!p3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Or.Component=Og;Or.Fragment=kre;Or.Profiler=Ire;Or.PureComponent=A3;Or.StrictMode=Pre;Or.Suspense=Fre;Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hre;Or.act=I$;Or.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=C$({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=m3.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E$.call(t,c)&&!k$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:pv,type:e.type,key:i,ref:a,props:n,_owner:o}};Or.createContext=function(e){return e={$$typeof:Ore,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tre,_context:e},e.Consumer=e};Or.createElement=P$;Or.createFactory=function(e){var t=P$.bind(null,e);return t.type=e,t};Or.createRef=function(){return{current:null}};Or.forwardRef=function(e){return{$$typeof:Lre,render:e}};Or.isValidElement=p3;Or.lazy=function(e){return{$$typeof:Rre,_payload:{_status:-1,_result:e},_init:$re}};Or.memo=function(e,t){return{$$typeof:Ure,type:e,compare:t===void 0?null:t}};Or.startTransition=function(e){var t=Kw.transition;Kw.transition={};try{e()}finally{Kw.transition=t}};Or.unstable_act=I$;Or.useCallback=function(e,t){return Ea.current.useCallback(e,t)};Or.useContext=function(e){return Ea.current.useContext(e)};Or.useDebugValue=function(){};Or.useDeferredValue=function(e){return Ea.current.useDeferredValue(e)};Or.useEffect=function(e,t){return Ea.current.useEffect(e,t)};Or.useId=function(){return Ea.current.useId()};Or.useImperativeHandle=function(e,t,r){return Ea.current.useImperativeHandle(e,t,r)};Or.useInsertionEffect=function(e,t){return Ea.current.useInsertionEffect(e,t)};Or.useLayoutEffect=function(e,t){return Ea.current.useLayoutEffect(e,t)};Or.useMemo=function(e,t){return Ea.current.useMemo(e,t)};Or.useReducer=function(e,t,r){return Ea.current.useReducer(e,t,r)};Or.useRef=function(e){return Ea.current.useRef(e)};Or.useState=function(e){return Ea.current.useState(e)};Or.useSyncExternalStore=function(e,t,r){return Ea.current.useSyncExternalStore(e,t,r)};Or.useTransition=function(){return Ea.current.useTransition()};Or.version="18.3.1";N$.exports=Or;var _=N$.exports;const _e=Zr(_),g3=Sre({__proto__:null,default:_e},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zre=_,Vre=Symbol.for("react.element"),Kre=Symbol.for("react.fragment"),Wre=Object.prototype.hasOwnProperty,Gre=zre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qre={key:!0,ref:!0,__self:!0,__source:!0};function T$(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Wre.call(t,n)&&!qre.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Vre,type:e,key:a,ref:o,props:i,_owner:Gre.current}}tN.Fragment=Kre;tN.jsx=T$;tN.jsxs=T$;j$.exports=tN;var s=j$.exports,iS={},O$={exports:{}},Oo={},L$={exports:{}},F$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,te){var re=z.length;z.push(te);e:for(;0<re;){var J=re-1>>>1,H=z[J];if(0<i(H,te))z[J]=te,z[re]=H,re=J;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var te=z[0],re=z.pop();if(re!==te){z[0]=re;e:for(var J=0,H=z.length,Z=H>>>1;J<Z;){var K=2*(J+1)-1,ie=z[K],oe=K+1,he=z[oe];if(0>i(ie,re))oe<H&&0>i(he,ie)?(z[J]=he,z[oe]=re,J=oe):(z[J]=ie,z[K]=re,J=K);else if(oe<H&&0>i(he,re))z[J]=he,z[oe]=re,J=oe;else break e}}return te}function i(z,te){var re=z.sortIndex-te.sortIndex;return re!==0?re:z.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,A=null,f=3,m=!1,x=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var te=r(d);te!==null;){if(te.callback===null)n(d);else if(te.startTime<=z)n(d),te.sortIndex=te.expirationTime,t(c,te);else break;te=r(d)}}function j(z){if(p=!1,w(z),!x)if(r(c)!==null)x=!0,Y(N);else{var te=r(d);te!==null&&Q(j,te.startTime-z)}}function N(z,te){x=!1,p&&(p=!1,y(P),P=-1),m=!0;var re=f;try{for(w(te),A=r(c);A!==null&&(!(A.expirationTime>te)||z&&!E());){var J=A.callback;if(typeof J=="function"){A.callback=null,f=A.priorityLevel;var H=J(A.expirationTime<=te);te=e.unstable_now(),typeof H=="function"?A.callback=H:A===r(c)&&n(c),w(te)}else n(c);A=r(c)}if(A!==null)var Z=!0;else{var K=r(d);K!==null&&Q(j,K.startTime-te),Z=!1}return Z}finally{A=null,f=re,m=!1}}var B=!1,I=null,P=-1,T=5,F=-1;function E(){return!(e.unstable_now()-F<T)}function k(){if(I!==null){var z=e.unstable_now();F=z;var te=!0;try{te=I(!0,z)}finally{te?M():(B=!1,I=null)}}else B=!1}var M;if(typeof b=="function")M=function(){b(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=k,M=function(){W.postMessage(null)}}else M=function(){v(k,0)};function Y(z){I=z,B||(B=!0,M())}function Q(z,te){P=v(function(){z(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,Y(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(f){case 1:case 2:case 3:var te=3;break;default:te=f}var re=f;f=te;try{return z()}finally{f=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=f;f=z;try{return te()}finally{f=re}},e.unstable_scheduleCallback=function(z,te,re){var J=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?J+re:J):re=J,z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=re+H,z={id:u++,callback:te,priorityLevel:z,startTime:re,expirationTime:H,sortIndex:-1},re>J?(z.sortIndex=re,t(d,z),r(c)===null&&z===r(d)&&(p?(y(P),P=-1):p=!0,Q(j,re-J))):(z.sortIndex=H,t(c,z),x||m||(x=!0,Y(N))),z},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(z){var te=f;return function(){var re=f;f=te;try{return z.apply(this,arguments)}finally{f=re}}}})(F$);L$.exports=F$;var Yre=L$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xre=_,Io=Yre;function bt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U$=new Set,Jx={};function Zf(e,t){Hp(e,t),Hp(e+"Capture",t)}function Hp(e,t){for(Jx[e]=t,e=0;e<t.length;e++)U$.add(t[e])}var au=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aS=Object.prototype.hasOwnProperty,Zre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OT={},LT={};function Jre(e){return aS.call(LT,e)?!0:aS.call(OT,e)?!1:Zre.test(e)?LT[e]=!0:(OT[e]=!0,!1)}function ene(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tne(e,t,r,n){if(t===null||typeof t>"u"||ene(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ka(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ui[e]=new ka(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ui[t]=new ka(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ui[e]=new ka(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ui[e]=new ka(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ui[e]=new ka(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ui[e]=new ka(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ui[e]=new ka(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ui[e]=new ka(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ui[e]=new ka(e,5,!1,e.toLowerCase(),null,!1,!1)});var x3=/[\-:]([a-z])/g;function y3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x3,y3);Ui[t]=new ka(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x3,y3);Ui[t]=new ka(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x3,y3);Ui[t]=new ka(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ui[e]=new ka(e,1,!1,e.toLowerCase(),null,!1,!1)});Ui.xlinkHref=new ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ui[e]=new ka(e,1,!1,e.toLowerCase(),null,!0,!0)});function v3(e,t,r,n){var i=Ui.hasOwnProperty(t)?Ui[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tne(t,r,i,n)&&(r=null),n||i===null?Jre(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var bu=Xre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vb=Symbol.for("react.element"),Gm=Symbol.for("react.portal"),qm=Symbol.for("react.fragment"),b3=Symbol.for("react.strict_mode"),oS=Symbol.for("react.profiler"),R$=Symbol.for("react.provider"),D$=Symbol.for("react.context"),w3=Symbol.for("react.forward_ref"),lS=Symbol.for("react.suspense"),cS=Symbol.for("react.suspense_list"),j3=Symbol.for("react.memo"),oh=Symbol.for("react.lazy"),M$=Symbol.for("react.offscreen"),FT=Symbol.iterator;function N0(e){return e===null||typeof e!="object"?null:(e=FT&&e[FT]||e["@@iterator"],typeof e=="function"?e:null)}var fs=Object.assign,b_;function rx(e){if(b_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);b_=t&&t[1]||""}return`
`+b_+e}var w_=!1;function j_(e,t){if(!e||w_)return"";w_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{w_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rx(e):""}function rne(e){switch(e.tag){case 5:return rx(e.type);case 16:return rx("Lazy");case 13:return rx("Suspense");case 19:return rx("SuspenseList");case 0:case 2:case 15:return e=j_(e.type,!1),e;case 11:return e=j_(e.type.render,!1),e;case 1:return e=j_(e.type,!0),e;default:return""}}function dS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qm:return"Fragment";case Gm:return"Portal";case oS:return"Profiler";case b3:return"StrictMode";case lS:return"Suspense";case cS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D$:return(e.displayName||"Context")+".Consumer";case R$:return(e._context.displayName||"Context")+".Provider";case w3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j3:return t=e.displayName||null,t!==null?t:dS(e.type)||"Memo";case oh:t=e._payload,e=e._init;try{return dS(e(t))}catch{}}return null}function nne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dS(t);case 8:return t===b3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $h(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Q$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sne(e){var t=Q$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bb(e){e._valueTracker||(e._valueTracker=sne(e))}function $$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Q$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function L1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uS(e,t){var r=t.checked;return fs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function UT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$h(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function H$(e,t){t=t.checked,t!=null&&v3(e,"checked",t,!1)}function hS(e,t){H$(e,t);var r=$h(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?AS(e,t.type,r):t.hasOwnProperty("defaultValue")&&AS(e,t.type,$h(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function RT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function AS(e,t,r){(t!=="number"||L1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nx=Array.isArray;function xp(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$h(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(bt(91));return fs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function DT(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(bt(92));if(nx(r)){if(1<r.length)throw Error(bt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$h(r)}}function z$(e,t){var r=$h(t.value),n=$h(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function MT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function V$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?V$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wb,K$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wb=wb||document.createElement("div"),wb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ey(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ine=["Webkit","ms","Moz","O"];Object.keys(wx).forEach(function(e){ine.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wx[t]=wx[e]})});function W$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wx.hasOwnProperty(e)&&wx[e]?(""+t).trim():t+"px"}function G$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=W$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var ane=fs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pS(e,t){if(t){if(ane[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(bt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(bt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(bt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(bt(62))}}function gS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xS=null;function N3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yS=null,yp=null,vp=null;function QT(e){if(e=yv(e)){if(typeof yS!="function")throw Error(bt(280));var t=e.stateNode;t&&(t=aN(t),yS(e.stateNode,e.type,t))}}function q$(e){yp?vp?vp.push(e):vp=[e]:yp=e}function Y$(){if(yp){var e=yp,t=vp;if(vp=yp=null,QT(e),t)for(e=0;e<t.length;e++)QT(t[e])}}function X$(e,t){return e(t)}function Z$(){}var N_=!1;function J$(e,t,r){if(N_)return e(t,r);N_=!0;try{return X$(e,t,r)}finally{N_=!1,(yp!==null||vp!==null)&&(Z$(),Y$())}}function ty(e,t){var r=e.stateNode;if(r===null)return null;var n=aN(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(bt(231,t,typeof r));return r}var vS=!1;if(au)try{var _0={};Object.defineProperty(_0,"passive",{get:function(){vS=!0}}),window.addEventListener("test",_0,_0),window.removeEventListener("test",_0,_0)}catch{vS=!1}function one(e,t,r,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var jx=!1,F1=null,U1=!1,bS=null,lne={onError:function(e){jx=!0,F1=e}};function cne(e,t,r,n,i,a,o,l,c){jx=!1,F1=null,one.apply(lne,arguments)}function dne(e,t,r,n,i,a,o,l,c){if(cne.apply(this,arguments),jx){if(jx){var d=F1;jx=!1,F1=null}else throw Error(bt(198));U1||(U1=!0,bS=d)}}function Jf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eH(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $T(e){if(Jf(e)!==e)throw Error(bt(188))}function une(e){var t=e.alternate;if(!t){if(t=Jf(e),t===null)throw Error(bt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return $T(i),e;if(a===n)return $T(i),t;a=a.sibling}throw Error(bt(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(bt(189))}}if(r.alternate!==n)throw Error(bt(190))}if(r.tag!==3)throw Error(bt(188));return r.stateNode.current===r?e:t}function tH(e){return e=une(e),e!==null?rH(e):null}function rH(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rH(e);if(t!==null)return t;e=e.sibling}return null}var nH=Io.unstable_scheduleCallback,HT=Io.unstable_cancelCallback,hne=Io.unstable_shouldYield,Ane=Io.unstable_requestPaint,Rs=Io.unstable_now,fne=Io.unstable_getCurrentPriorityLevel,_3=Io.unstable_ImmediatePriority,sH=Io.unstable_UserBlockingPriority,R1=Io.unstable_NormalPriority,mne=Io.unstable_LowPriority,iH=Io.unstable_IdlePriority,rN=null,Wc=null;function pne(e){if(Wc&&typeof Wc.onCommitFiberRoot=="function")try{Wc.onCommitFiberRoot(rN,e,void 0,(e.current.flags&128)===128)}catch{}}var sc=Math.clz32?Math.clz32:yne,gne=Math.log,xne=Math.LN2;function yne(e){return e>>>=0,e===0?32:31-(gne(e)/xne|0)|0}var jb=64,Nb=4194304;function sx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function D1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=sx(l):(a&=o,a!==0&&(n=sx(a)))}else o=r&~i,o!==0?n=sx(o):a!==0&&(n=sx(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-sc(t),i=1<<r,n|=e[r],t&=~i;return n}function vne(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bne(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-sc(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=vne(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function wS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aH(){var e=jb;return jb<<=1,!(jb&4194240)&&(jb=64),e}function __(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sc(t),e[t]=r}function wne(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-sc(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function C3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-sc(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var xn=0;function oH(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lH,B3,cH,dH,uH,jS=!1,_b=[],Ch=null,Bh=null,Sh=null,ry=new Map,ny=new Map,uh=[],jne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zT(e,t){switch(e){case"focusin":case"focusout":Ch=null;break;case"dragenter":case"dragleave":Bh=null;break;case"mouseover":case"mouseout":Sh=null;break;case"pointerover":case"pointerout":ry.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ny.delete(t.pointerId)}}function C0(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=yv(t),t!==null&&B3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Nne(e,t,r,n,i){switch(t){case"focusin":return Ch=C0(Ch,e,t,r,n,i),!0;case"dragenter":return Bh=C0(Bh,e,t,r,n,i),!0;case"mouseover":return Sh=C0(Sh,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ry.set(a,C0(ry.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ny.set(a,C0(ny.get(a)||null,e,t,r,n,i)),!0}return!1}function hH(e){var t=KA(e.target);if(t!==null){var r=Jf(t);if(r!==null){if(t=r.tag,t===13){if(t=eH(r),t!==null){e.blockedOn=t,uH(e.priority,function(){cH(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ww(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=NS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xS=n,r.target.dispatchEvent(n),xS=null}else return t=yv(r),t!==null&&B3(t),e.blockedOn=r,!1;t.shift()}return!0}function VT(e,t,r){Ww(e)&&r.delete(t)}function _ne(){jS=!1,Ch!==null&&Ww(Ch)&&(Ch=null),Bh!==null&&Ww(Bh)&&(Bh=null),Sh!==null&&Ww(Sh)&&(Sh=null),ry.forEach(VT),ny.forEach(VT)}function B0(e,t){e.blockedOn===t&&(e.blockedOn=null,jS||(jS=!0,Io.unstable_scheduleCallback(Io.unstable_NormalPriority,_ne)))}function sy(e){function t(i){return B0(i,e)}if(0<_b.length){B0(_b[0],e);for(var r=1;r<_b.length;r++){var n=_b[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ch!==null&&B0(Ch,e),Bh!==null&&B0(Bh,e),Sh!==null&&B0(Sh,e),ry.forEach(t),ny.forEach(t),r=0;r<uh.length;r++)n=uh[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<uh.length&&(r=uh[0],r.blockedOn===null);)hH(r),r.blockedOn===null&&uh.shift()}var bp=bu.ReactCurrentBatchConfig,M1=!0;function Cne(e,t,r,n){var i=xn,a=bp.transition;bp.transition=null;try{xn=1,S3(e,t,r,n)}finally{xn=i,bp.transition=a}}function Bne(e,t,r,n){var i=xn,a=bp.transition;bp.transition=null;try{xn=4,S3(e,t,r,n)}finally{xn=i,bp.transition=a}}function S3(e,t,r,n){if(M1){var i=NS(e,t,r,n);if(i===null)L_(e,t,n,Q1,r),zT(e,n);else if(Nne(i,e,t,r,n))n.stopPropagation();else if(zT(e,n),t&4&&-1<jne.indexOf(e)){for(;i!==null;){var a=yv(i);if(a!==null&&lH(a),a=NS(e,t,r,n),a===null&&L_(e,t,n,Q1,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else L_(e,t,n,null,r)}}var Q1=null;function NS(e,t,r,n){if(Q1=null,e=N3(n),e=KA(e),e!==null)if(t=Jf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=eH(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Q1=e,null}function AH(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fne()){case _3:return 1;case sH:return 4;case R1:case mne:return 16;case iH:return 536870912;default:return 16}default:return 16}}var gh=null,E3=null,Gw=null;function fH(){if(Gw)return Gw;var e,t=E3,r=t.length,n,i="value"in gh?gh.value:gh.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Gw=i.slice(e,1<n?1-n:void 0)}function qw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cb(){return!0}function KT(){return!1}function Lo(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cb:KT,this.isPropagationStopped=KT,this}return fs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cb)},persist:function(){},isPersistent:Cb}),t}var Lg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k3=Lo(Lg),xv=fs({},Lg,{view:0,detail:0}),Sne=Lo(xv),C_,B_,S0,nN=fs({},xv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==S0&&(S0&&e.type==="mousemove"?(C_=e.screenX-S0.screenX,B_=e.screenY-S0.screenY):B_=C_=0,S0=e),C_)},movementY:function(e){return"movementY"in e?e.movementY:B_}}),WT=Lo(nN),Ene=fs({},nN,{dataTransfer:0}),kne=Lo(Ene),Pne=fs({},xv,{relatedTarget:0}),S_=Lo(Pne),Ine=fs({},Lg,{animationName:0,elapsedTime:0,pseudoElement:0}),Tne=Lo(Ine),One=fs({},Lg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lne=Lo(One),Fne=fs({},Lg,{data:0}),GT=Lo(Fne),Une={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mne(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dne[e])?!!t[e]:!1}function P3(){return Mne}var Qne=fs({},xv,{key:function(e){if(e.key){var t=Une[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rne[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P3,charCode:function(e){return e.type==="keypress"?qw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$ne=Lo(Qne),Hne=fs({},nN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qT=Lo(Hne),zne=fs({},xv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P3}),Vne=Lo(zne),Kne=fs({},Lg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wne=Lo(Kne),Gne=fs({},nN,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qne=Lo(Gne),Yne=[9,13,27,32],I3=au&&"CompositionEvent"in window,Nx=null;au&&"documentMode"in document&&(Nx=document.documentMode);var Xne=au&&"TextEvent"in window&&!Nx,mH=au&&(!I3||Nx&&8<Nx&&11>=Nx),YT=" ",XT=!1;function pH(e,t){switch(e){case"keyup":return Yne.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gH(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ym=!1;function Zne(e,t){switch(e){case"compositionend":return gH(t);case"keypress":return t.which!==32?null:(XT=!0,YT);case"textInput":return e=t.data,e===YT&&XT?null:e;default:return null}}function Jne(e,t){if(Ym)return e==="compositionend"||!I3&&pH(e,t)?(e=fH(),Gw=E3=gh=null,Ym=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mH&&t.locale!=="ko"?null:t.data;default:return null}}var ese={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ese[e.type]:t==="textarea"}function xH(e,t,r,n){q$(n),t=$1(t,"onChange"),0<t.length&&(r=new k3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _x=null,iy=null;function tse(e){EH(e,0)}function sN(e){var t=Jm(e);if($$(t))return e}function rse(e,t){if(e==="change")return t}var yH=!1;if(au){var E_;if(au){var k_="oninput"in document;if(!k_){var JT=document.createElement("div");JT.setAttribute("oninput","return;"),k_=typeof JT.oninput=="function"}E_=k_}else E_=!1;yH=E_&&(!document.documentMode||9<document.documentMode)}function eO(){_x&&(_x.detachEvent("onpropertychange",vH),iy=_x=null)}function vH(e){if(e.propertyName==="value"&&sN(iy)){var t=[];xH(t,iy,e,N3(e)),J$(tse,t)}}function nse(e,t,r){e==="focusin"?(eO(),_x=t,iy=r,_x.attachEvent("onpropertychange",vH)):e==="focusout"&&eO()}function sse(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sN(iy)}function ise(e,t){if(e==="click")return sN(t)}function ase(e,t){if(e==="input"||e==="change")return sN(t)}function ose(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cc=typeof Object.is=="function"?Object.is:ose;function ay(e,t){if(cc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!aS.call(t,i)||!cc(e[i],t[i]))return!1}return!0}function tO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rO(e,t){var r=tO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tO(r)}}function bH(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bH(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wH(){for(var e=window,t=L1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=L1(e.document)}return t}function T3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lse(e){var t=wH(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bH(r.ownerDocument.documentElement,r)){if(n!==null&&T3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=rO(r,a);var o=rO(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cse=au&&"documentMode"in document&&11>=document.documentMode,Xm=null,_S=null,Cx=null,CS=!1;function nO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;CS||Xm==null||Xm!==L1(n)||(n=Xm,"selectionStart"in n&&T3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cx&&ay(Cx,n)||(Cx=n,n=$1(_S,"onSelect"),0<n.length&&(t=new k3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xm)))}function Bb(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zm={animationend:Bb("Animation","AnimationEnd"),animationiteration:Bb("Animation","AnimationIteration"),animationstart:Bb("Animation","AnimationStart"),transitionend:Bb("Transition","TransitionEnd")},P_={},jH={};au&&(jH=document.createElement("div").style,"AnimationEvent"in window||(delete Zm.animationend.animation,delete Zm.animationiteration.animation,delete Zm.animationstart.animation),"TransitionEvent"in window||delete Zm.transitionend.transition);function iN(e){if(P_[e])return P_[e];if(!Zm[e])return e;var t=Zm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jH)return P_[e]=t[r];return e}var NH=iN("animationend"),_H=iN("animationiteration"),CH=iN("animationstart"),BH=iN("transitionend"),SH=new Map,sO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tA(e,t){SH.set(e,t),Zf(t,[e])}for(var I_=0;I_<sO.length;I_++){var T_=sO[I_],dse=T_.toLowerCase(),use=T_[0].toUpperCase()+T_.slice(1);tA(dse,"on"+use)}tA(NH,"onAnimationEnd");tA(_H,"onAnimationIteration");tA(CH,"onAnimationStart");tA("dblclick","onDoubleClick");tA("focusin","onFocus");tA("focusout","onBlur");tA(BH,"onTransitionEnd");Hp("onMouseEnter",["mouseout","mouseover"]);Hp("onMouseLeave",["mouseout","mouseover"]);Hp("onPointerEnter",["pointerout","pointerover"]);Hp("onPointerLeave",["pointerout","pointerover"]);Zf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ix="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hse=new Set("cancel close invalid load scroll toggle".split(" ").concat(ix));function iO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,dne(n,t,void 0,e),e.currentTarget=null}function EH(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;iO(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;iO(i,l,d),a=c}}}if(U1)throw e=bS,U1=!1,bS=null,e}function Kn(e,t){var r=t[PS];r===void 0&&(r=t[PS]=new Set);var n=e+"__bubble";r.has(n)||(kH(t,e,2,!1),r.add(n))}function O_(e,t,r){var n=0;t&&(n|=4),kH(r,e,n,t)}var Sb="_reactListening"+Math.random().toString(36).slice(2);function oy(e){if(!e[Sb]){e[Sb]=!0,U$.forEach(function(r){r!=="selectionchange"&&(hse.has(r)||O_(r,!1,e),O_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sb]||(t[Sb]=!0,O_("selectionchange",!1,t))}}function kH(e,t,r,n){switch(AH(t)){case 1:var i=Cne;break;case 4:i=Bne;break;default:i=S3}r=i.bind(null,t,r,e),i=void 0,!vS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function L_(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=KA(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}J$(function(){var d=a,u=N3(r),A=[];e:{var f=SH.get(e);if(f!==void 0){var m=k3,x=e;switch(e){case"keypress":if(qw(r)===0)break e;case"keydown":case"keyup":m=$ne;break;case"focusin":x="focus",m=S_;break;case"focusout":x="blur",m=S_;break;case"beforeblur":case"afterblur":m=S_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=WT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Vne;break;case NH:case _H:case CH:m=Tne;break;case BH:m=Wne;break;case"scroll":m=Sne;break;case"wheel":m=qne;break;case"copy":case"cut":case"paste":m=Lne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qT}var p=(t&4)!==0,v=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var b=d,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=ty(b,y),j!=null&&p.push(ly(b,j,w)))),v)break;b=b.return}0<p.length&&(f=new m(f,x,null,r,u),A.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==xS&&(x=r.relatedTarget||r.fromElement)&&(KA(x)||x[ou]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=d,x=x?KA(x):null,x!==null&&(v=Jf(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(p=WT,j="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=qT,j="onPointerLeave",y="onPointerEnter",b="pointer"),v=m==null?f:Jm(m),w=x==null?f:Jm(x),f=new p(j,b+"leave",m,r,u),f.target=v,f.relatedTarget=w,j=null,KA(u)===d&&(p=new p(y,b+"enter",x,r,u),p.target=w,p.relatedTarget=v,j=p),v=j,m&&x)t:{for(p=m,y=x,b=0,w=p;w;w=_m(w))b++;for(w=0,j=y;j;j=_m(j))w++;for(;0<b-w;)p=_m(p),b--;for(;0<w-b;)y=_m(y),w--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=_m(p),y=_m(y)}p=null}else p=null;m!==null&&aO(A,f,m,p,!1),x!==null&&v!==null&&aO(A,v,x,p,!0)}}e:{if(f=d?Jm(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=rse;else if(ZT(f))if(yH)N=ase;else{N=sse;var B=nse}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=ise);if(N&&(N=N(e,d))){xH(A,N,r,u);break e}B&&B(e,f,d),e==="focusout"&&(B=f._wrapperState)&&B.controlled&&f.type==="number"&&AS(f,"number",f.value)}switch(B=d?Jm(d):window,e){case"focusin":(ZT(B)||B.contentEditable==="true")&&(Xm=B,_S=d,Cx=null);break;case"focusout":Cx=_S=Xm=null;break;case"mousedown":CS=!0;break;case"contextmenu":case"mouseup":case"dragend":CS=!1,nO(A,r,u);break;case"selectionchange":if(cse)break;case"keydown":case"keyup":nO(A,r,u)}var I;if(I3)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ym?pH(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(mH&&r.locale!=="ko"&&(Ym||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ym&&(I=fH()):(gh=u,E3="value"in gh?gh.value:gh.textContent,Ym=!0)),B=$1(d,P),0<B.length&&(P=new GT(P,e,null,r,u),A.push({event:P,listeners:B}),I?P.data=I:(I=gH(r),I!==null&&(P.data=I)))),(I=Xne?Zne(e,r):Jne(e,r))&&(d=$1(d,"onBeforeInput"),0<d.length&&(u=new GT("onBeforeInput","beforeinput",null,r,u),A.push({event:u,listeners:d}),u.data=I))}EH(A,t)})}function ly(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $1(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ty(e,r),a!=null&&n.unshift(ly(e,a,i)),a=ty(e,t),a!=null&&n.push(ly(e,a,i))),e=e.return}return n}function _m(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function aO(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=ty(r,a),c!=null&&o.unshift(ly(r,c,l))):i||(c=ty(r,a),c!=null&&o.push(ly(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Ase=/\r\n?/g,fse=/\u0000|\uFFFD/g;function oO(e){return(typeof e=="string"?e:""+e).replace(Ase,`
`).replace(fse,"")}function Eb(e,t,r){if(t=oO(t),oO(e)!==t&&r)throw Error(bt(425))}function H1(){}var BS=null,SS=null;function ES(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kS=typeof setTimeout=="function"?setTimeout:void 0,mse=typeof clearTimeout=="function"?clearTimeout:void 0,lO=typeof Promise=="function"?Promise:void 0,pse=typeof queueMicrotask=="function"?queueMicrotask:typeof lO<"u"?function(e){return lO.resolve(null).then(e).catch(gse)}:kS;function gse(e){setTimeout(function(){throw e})}function F_(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),sy(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);sy(t)}function Eh(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fg=Math.random().toString(36).slice(2),Qc="__reactFiber$"+Fg,cy="__reactProps$"+Fg,ou="__reactContainer$"+Fg,PS="__reactEvents$"+Fg,xse="__reactListeners$"+Fg,yse="__reactHandles$"+Fg;function KA(e){var t=e[Qc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ou]||r[Qc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cO(e);e!==null;){if(r=e[Qc])return r;e=cO(e)}return t}e=r,r=e.parentNode}return null}function yv(e){return e=e[Qc]||e[ou],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(bt(33))}function aN(e){return e[cy]||null}var IS=[],ep=-1;function rA(e){return{current:e}}function Yn(e){0>ep||(e.current=IS[ep],IS[ep]=null,ep--)}function Dn(e,t){ep++,IS[ep]=e.current,e.current=t}var Hh={},la=rA(Hh),Ga=rA(!1),Nf=Hh;function zp(e,t){var r=e.type.contextTypes;if(!r)return Hh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qa(e){return e=e.childContextTypes,e!=null}function z1(){Yn(Ga),Yn(la)}function dO(e,t,r){if(la.current!==Hh)throw Error(bt(168));Dn(la,t),Dn(Ga,r)}function PH(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(bt(108,nne(e)||"Unknown",i));return fs({},r,n)}function V1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hh,Nf=la.current,Dn(la,e),Dn(Ga,Ga.current),!0}function uO(e,t,r){var n=e.stateNode;if(!n)throw Error(bt(169));r?(e=PH(e,t,Nf),n.__reactInternalMemoizedMergedChildContext=e,Yn(Ga),Yn(la),Dn(la,e)):Yn(Ga),Dn(Ga,r)}var Fd=null,oN=!1,U_=!1;function IH(e){Fd===null?Fd=[e]:Fd.push(e)}function vse(e){oN=!0,IH(e)}function nA(){if(!U_&&Fd!==null){U_=!0;var e=0,t=xn;try{var r=Fd;for(xn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fd=null,oN=!1}catch(i){throw Fd!==null&&(Fd=Fd.slice(e+1)),nH(_3,nA),i}finally{xn=t,U_=!1}}return null}var tp=[],rp=0,K1=null,W1=0,rl=[],nl=0,_f=null,Dd=1,Md="";function OA(e,t){tp[rp++]=W1,tp[rp++]=K1,K1=e,W1=t}function TH(e,t,r){rl[nl++]=Dd,rl[nl++]=Md,rl[nl++]=_f,_f=e;var n=Dd;e=Md;var i=32-sc(n)-1;n&=~(1<<i),r+=1;var a=32-sc(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Dd=1<<32-sc(t)+i|r<<i|n,Md=a+e}else Dd=1<<a|r<<i|n,Md=e}function O3(e){e.return!==null&&(OA(e,1),TH(e,1,0))}function L3(e){for(;e===K1;)K1=tp[--rp],tp[rp]=null,W1=tp[--rp],tp[rp]=null;for(;e===_f;)_f=rl[--nl],rl[nl]=null,Md=rl[--nl],rl[nl]=null,Dd=rl[--nl],rl[nl]=null}var Bo=null,_o=null,ts=!1,ec=null;function OH(e,t){var r=ll(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bo=e,_o=Eh(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bo=e,_o=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_f!==null?{id:Dd,overflow:Md}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ll(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Bo=e,_o=null,!0):!1;default:return!1}}function TS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function OS(e){if(ts){var t=_o;if(t){var r=t;if(!hO(e,t)){if(TS(e))throw Error(bt(418));t=Eh(r.nextSibling);var n=Bo;t&&hO(e,t)?OH(n,r):(e.flags=e.flags&-4097|2,ts=!1,Bo=e)}}else{if(TS(e))throw Error(bt(418));e.flags=e.flags&-4097|2,ts=!1,Bo=e}}}function AO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bo=e}function kb(e){if(e!==Bo)return!1;if(!ts)return AO(e),ts=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ES(e.type,e.memoizedProps)),t&&(t=_o)){if(TS(e))throw LH(),Error(bt(418));for(;t;)OH(e,t),t=Eh(t.nextSibling)}if(AO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(bt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_o=Eh(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_o=null}}else _o=Bo?Eh(e.stateNode.nextSibling):null;return!0}function LH(){for(var e=_o;e;)e=Eh(e.nextSibling)}function Vp(){_o=Bo=null,ts=!1}function F3(e){ec===null?ec=[e]:ec.push(e)}var bse=bu.ReactCurrentBatchConfig;function E0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(bt(309));var n=r.stateNode}if(!n)throw Error(bt(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(bt(284));if(!r._owner)throw Error(bt(290,e))}return e}function Pb(e,t){throw e=Object.prototype.toString.call(t),Error(bt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fO(e){var t=e._init;return t(e._payload)}function FH(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Th(y,b),y.index=0,y.sibling=null,y}function a(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,j){return b===null||b.tag!==6?(b=z_(w,y.mode,j),b.return=y,b):(b=i(b,w),b.return=y,b)}function c(y,b,w,j){var N=w.type;return N===qm?u(y,b,w.props.children,j,w.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===oh&&fO(N)===b.type)?(j=i(b,w.props),j.ref=E0(y,b,w),j.return=y,j):(j=r1(w.type,w.key,w.props,null,y.mode,j),j.ref=E0(y,b,w),j.return=y,j)}function d(y,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=V_(w,y.mode,j),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function u(y,b,w,j,N){return b===null||b.tag!==7?(b=df(w,y.mode,j,N),b.return=y,b):(b=i(b,w),b.return=y,b)}function A(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=z_(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vb:return w=r1(b.type,b.key,b.props,null,y.mode,w),w.ref=E0(y,null,b),w.return=y,w;case Gm:return b=V_(b,y.mode,w),b.return=y,b;case oh:var j=b._init;return A(y,j(b._payload),w)}if(nx(b)||N0(b))return b=df(b,y.mode,w,null),b.return=y,b;Pb(y,b)}return null}function f(y,b,w,j){var N=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vb:return w.key===N?c(y,b,w,j):null;case Gm:return w.key===N?d(y,b,w,j):null;case oh:return N=w._init,f(y,b,N(w._payload),j)}if(nx(w)||N0(w))return N!==null?null:u(y,b,w,j,null);Pb(y,w)}return null}function m(y,b,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(b,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case vb:return y=y.get(j.key===null?w:j.key)||null,c(b,y,j,N);case Gm:return y=y.get(j.key===null?w:j.key)||null,d(b,y,j,N);case oh:var B=j._init;return m(y,b,w,B(j._payload),N)}if(nx(j)||N0(j))return y=y.get(w)||null,u(b,y,j,N,null);Pb(b,j)}return null}function x(y,b,w,j){for(var N=null,B=null,I=b,P=b=0,T=null;I!==null&&P<w.length;P++){I.index>P?(T=I,I=null):T=I.sibling;var F=f(y,I,w[P],j);if(F===null){I===null&&(I=T);break}e&&I&&F.alternate===null&&t(y,I),b=a(F,b,P),B===null?N=F:B.sibling=F,B=F,I=T}if(P===w.length)return r(y,I),ts&&OA(y,P),N;if(I===null){for(;P<w.length;P++)I=A(y,w[P],j),I!==null&&(b=a(I,b,P),B===null?N=I:B.sibling=I,B=I);return ts&&OA(y,P),N}for(I=n(y,I);P<w.length;P++)T=m(I,y,P,w[P],j),T!==null&&(e&&T.alternate!==null&&I.delete(T.key===null?P:T.key),b=a(T,b,P),B===null?N=T:B.sibling=T,B=T);return e&&I.forEach(function(E){return t(y,E)}),ts&&OA(y,P),N}function p(y,b,w,j){var N=N0(w);if(typeof N!="function")throw Error(bt(150));if(w=N.call(w),w==null)throw Error(bt(151));for(var B=N=null,I=b,P=b=0,T=null,F=w.next();I!==null&&!F.done;P++,F=w.next()){I.index>P?(T=I,I=null):T=I.sibling;var E=f(y,I,F.value,j);if(E===null){I===null&&(I=T);break}e&&I&&E.alternate===null&&t(y,I),b=a(E,b,P),B===null?N=E:B.sibling=E,B=E,I=T}if(F.done)return r(y,I),ts&&OA(y,P),N;if(I===null){for(;!F.done;P++,F=w.next())F=A(y,F.value,j),F!==null&&(b=a(F,b,P),B===null?N=F:B.sibling=F,B=F);return ts&&OA(y,P),N}for(I=n(y,I);!F.done;P++,F=w.next())F=m(I,y,P,F.value,j),F!==null&&(e&&F.alternate!==null&&I.delete(F.key===null?P:F.key),b=a(F,b,P),B===null?N=F:B.sibling=F,B=F);return e&&I.forEach(function(k){return t(y,k)}),ts&&OA(y,P),N}function v(y,b,w,j){if(typeof w=="object"&&w!==null&&w.type===qm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case vb:e:{for(var N=w.key,B=b;B!==null;){if(B.key===N){if(N=w.type,N===qm){if(B.tag===7){r(y,B.sibling),b=i(B,w.props.children),b.return=y,y=b;break e}}else if(B.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===oh&&fO(N)===B.type){r(y,B.sibling),b=i(B,w.props),b.ref=E0(y,B,w),b.return=y,y=b;break e}r(y,B);break}else t(y,B);B=B.sibling}w.type===qm?(b=df(w.props.children,y.mode,j,w.key),b.return=y,y=b):(j=r1(w.type,w.key,w.props,null,y.mode,j),j.ref=E0(y,b,w),j.return=y,y=j)}return o(y);case Gm:e:{for(B=w.key;b!==null;){if(b.key===B)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=i(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=V_(w,y.mode,j),b.return=y,y=b}return o(y);case oh:return B=w._init,v(y,b,B(w._payload),j)}if(nx(w))return x(y,b,w,j);if(N0(w))return p(y,b,w,j);Pb(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,w),b.return=y,y=b):(r(y,b),b=z_(w,y.mode,j),b.return=y,y=b),o(y)):r(y,b)}return v}var Kp=FH(!0),UH=FH(!1),G1=rA(null),q1=null,np=null,U3=null;function R3(){U3=np=q1=null}function D3(e){var t=G1.current;Yn(G1),e._currentValue=t}function LS(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wp(e,t){q1=e,U3=np=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Va=!0),e.firstContext=null)}function pl(e){var t=e._currentValue;if(U3!==e)if(e={context:e,memoizedValue:t,next:null},np===null){if(q1===null)throw Error(bt(308));np=e,q1.dependencies={lanes:0,firstContext:e}}else np=np.next=e;return t}var WA=null;function M3(e){WA===null?WA=[e]:WA.push(e)}function RH(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,M3(t)):(r.next=i.next,i.next=r),t.interleaved=r,lu(e,n)}function lu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var lh=!1;function Q3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DH(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kh(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Hr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,lu(e,r)}return i=n.interleaved,i===null?(t.next=t,M3(n)):(t.next=i.next,i.next=t),n.interleaved=t,lu(e,r)}function Yw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,C3(e,r)}}function mO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Y1(e,t,r,n){var i=e.updateQueue;lh=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var A=i.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(f=t,m=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){A=x.call(m,A,f);break e}A=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,f=typeof x=="function"?x.call(m,A,f):x,f==null)break e;A=fs({},A,f);break e;case 2:lh=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=A):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=A),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Bf|=o,e.lanes=o,e.memoizedState=A}}function pO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(bt(191,i));i.call(n)}}}var vv={},Gc=rA(vv),dy=rA(vv),uy=rA(vv);function GA(e){if(e===vv)throw Error(bt(174));return e}function $3(e,t){switch(Dn(uy,t),Dn(dy,e),Dn(Gc,vv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mS(t,e)}Yn(Gc),Dn(Gc,t)}function Wp(){Yn(Gc),Yn(dy),Yn(uy)}function MH(e){GA(uy.current);var t=GA(Gc.current),r=mS(t,e.type);t!==r&&(Dn(dy,e),Dn(Gc,r))}function H3(e){dy.current===e&&(Yn(Gc),Yn(dy))}var us=rA(0);function X1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var R_=[];function z3(){for(var e=0;e<R_.length;e++)R_[e]._workInProgressVersionPrimary=null;R_.length=0}var Xw=bu.ReactCurrentDispatcher,D_=bu.ReactCurrentBatchConfig,Cf=0,As=null,ui=null,bi=null,Z1=!1,Bx=!1,hy=0,wse=0;function Ki(){throw Error(bt(321))}function V3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cc(e[r],t[r]))return!1;return!0}function K3(e,t,r,n,i,a){if(Cf=a,As=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xw.current=e===null||e.memoizedState===null?Cse:Bse,e=r(n,i),Bx){a=0;do{if(Bx=!1,hy=0,25<=a)throw Error(bt(301));a+=1,bi=ui=null,t.updateQueue=null,Xw.current=Sse,e=r(n,i)}while(Bx)}if(Xw.current=J1,t=ui!==null&&ui.next!==null,Cf=0,bi=ui=As=null,Z1=!1,t)throw Error(bt(300));return e}function W3(){var e=hy!==0;return hy=0,e}function Mc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?As.memoizedState=bi=e:bi=bi.next=e,bi}function gl(){if(ui===null){var e=As.alternate;e=e!==null?e.memoizedState:null}else e=ui.next;var t=bi===null?As.memoizedState:bi.next;if(t!==null)bi=t,ui=e;else{if(e===null)throw Error(bt(310));ui=e,e={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},bi===null?As.memoizedState=bi=e:bi=bi.next=e}return bi}function Ay(e,t){return typeof t=="function"?t(e):t}function M_(e){var t=gl(),r=t.queue;if(r===null)throw Error(bt(311));r.lastRenderedReducer=e;var n=ui,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Cf&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var A={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=A,o=n):c=c.next=A,As.lanes|=u,Bf|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,cc(n,t.memoizedState)||(Va=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,As.lanes|=a,Bf|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Q_(e){var t=gl(),r=t.queue;if(r===null)throw Error(bt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);cc(a,t.memoizedState)||(Va=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function QH(){}function $H(e,t){var r=As,n=gl(),i=t(),a=!cc(n.memoizedState,i);if(a&&(n.memoizedState=i,Va=!0),n=n.queue,G3(VH.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||bi!==null&&bi.memoizedState.tag&1){if(r.flags|=2048,fy(9,zH.bind(null,r,n,i,t),void 0,null),_i===null)throw Error(bt(349));Cf&30||HH(r,t,i)}return i}function HH(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=As.updateQueue,t===null?(t={lastEffect:null,stores:null},As.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zH(e,t,r,n){t.value=r,t.getSnapshot=n,KH(t)&&WH(e)}function VH(e,t,r){return r(function(){KH(t)&&WH(e)})}function KH(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cc(e,r)}catch{return!0}}function WH(e){var t=lu(e,1);t!==null&&ic(t,e,1,-1)}function gO(e){var t=Mc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:e},t.queue=e,e=e.dispatch=_se.bind(null,As,e),[t.memoizedState,e]}function fy(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=As.updateQueue,t===null?(t={lastEffect:null,stores:null},As.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function GH(){return gl().memoizedState}function Zw(e,t,r,n){var i=Mc();As.flags|=e,i.memoizedState=fy(1|t,r,void 0,n===void 0?null:n)}function lN(e,t,r,n){var i=gl();n=n===void 0?null:n;var a=void 0;if(ui!==null){var o=ui.memoizedState;if(a=o.destroy,n!==null&&V3(n,o.deps)){i.memoizedState=fy(t,r,a,n);return}}As.flags|=e,i.memoizedState=fy(1|t,r,a,n)}function xO(e,t){return Zw(8390656,8,e,t)}function G3(e,t){return lN(2048,8,e,t)}function qH(e,t){return lN(4,2,e,t)}function YH(e,t){return lN(4,4,e,t)}function XH(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZH(e,t,r){return r=r!=null?r.concat([e]):null,lN(4,4,XH.bind(null,t,e),r)}function q3(){}function JH(e,t){var r=gl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&V3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function e9(e,t){var r=gl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&V3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function t9(e,t,r){return Cf&21?(cc(r,t)||(r=aH(),As.lanes|=r,Bf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Va=!0),e.memoizedState=r)}function jse(e,t){var r=xn;xn=r!==0&&4>r?r:4,e(!0);var n=D_.transition;D_.transition={};try{e(!1),t()}finally{xn=r,D_.transition=n}}function r9(){return gl().memoizedState}function Nse(e,t,r){var n=Ih(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},n9(e))s9(t,r);else if(r=RH(e,t,r,n),r!==null){var i=Na();ic(r,e,n,i),i9(r,t,n)}}function _se(e,t,r){var n=Ih(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(n9(e))s9(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,cc(l,o)){var c=t.interleaved;c===null?(i.next=i,M3(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=RH(e,t,i,n),r!==null&&(i=Na(),ic(r,e,n,i),i9(r,t,n))}}function n9(e){var t=e.alternate;return e===As||t!==null&&t===As}function s9(e,t){Bx=Z1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function i9(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,C3(e,r)}}var J1={readContext:pl,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useInsertionEffect:Ki,useLayoutEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki,useDeferredValue:Ki,useTransition:Ki,useMutableSource:Ki,useSyncExternalStore:Ki,useId:Ki,unstable_isNewReconciler:!1},Cse={readContext:pl,useCallback:function(e,t){return Mc().memoizedState=[e,t===void 0?null:t],e},useContext:pl,useEffect:xO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zw(4194308,4,XH.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zw(4,2,e,t)},useMemo:function(e,t){var r=Mc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Mc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Nse.bind(null,As,e),[n.memoizedState,e]},useRef:function(e){var t=Mc();return e={current:e},t.memoizedState=e},useState:gO,useDebugValue:q3,useDeferredValue:function(e){return Mc().memoizedState=e},useTransition:function(){var e=gO(!1),t=e[0];return e=jse.bind(null,e[1]),Mc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=As,i=Mc();if(ts){if(r===void 0)throw Error(bt(407));r=r()}else{if(r=t(),_i===null)throw Error(bt(349));Cf&30||HH(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,xO(VH.bind(null,n,a,e),[e]),n.flags|=2048,fy(9,zH.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Mc(),t=_i.identifierPrefix;if(ts){var r=Md,n=Dd;r=(n&~(1<<32-sc(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hy++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wse++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bse={readContext:pl,useCallback:JH,useContext:pl,useEffect:G3,useImperativeHandle:ZH,useInsertionEffect:qH,useLayoutEffect:YH,useMemo:e9,useReducer:M_,useRef:GH,useState:function(){return M_(Ay)},useDebugValue:q3,useDeferredValue:function(e){var t=gl();return t9(t,ui.memoizedState,e)},useTransition:function(){var e=M_(Ay)[0],t=gl().memoizedState;return[e,t]},useMutableSource:QH,useSyncExternalStore:$H,useId:r9,unstable_isNewReconciler:!1},Sse={readContext:pl,useCallback:JH,useContext:pl,useEffect:G3,useImperativeHandle:ZH,useInsertionEffect:qH,useLayoutEffect:YH,useMemo:e9,useReducer:Q_,useRef:GH,useState:function(){return Q_(Ay)},useDebugValue:q3,useDeferredValue:function(e){var t=gl();return ui===null?t.memoizedState=e:t9(t,ui.memoizedState,e)},useTransition:function(){var e=Q_(Ay)[0],t=gl().memoizedState;return[e,t]},useMutableSource:QH,useSyncExternalStore:$H,useId:r9,unstable_isNewReconciler:!1};function ql(e,t){if(e&&e.defaultProps){t=fs({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function FS(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fs({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cN={isMounted:function(e){return(e=e._reactInternals)?Jf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Na(),i=Ih(e),a=Yd(n,i);a.payload=t,r!=null&&(a.callback=r),t=kh(e,a,i),t!==null&&(ic(t,e,i,n),Yw(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Na(),i=Ih(e),a=Yd(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=kh(e,a,i),t!==null&&(ic(t,e,i,n),Yw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Na(),n=Ih(e),i=Yd(r,n);i.tag=2,t!=null&&(i.callback=t),t=kh(e,i,n),t!==null&&(ic(t,e,n,r),Yw(t,e,n))}};function yO(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!ay(r,n)||!ay(i,a):!0}function a9(e,t,r){var n=!1,i=Hh,a=t.contextType;return typeof a=="object"&&a!==null?a=pl(a):(i=qa(t)?Nf:la.current,n=t.contextTypes,a=(n=n!=null)?zp(e,i):Hh),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cN,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function vO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cN.enqueueReplaceState(t,t.state,null)}function US(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Q3(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=pl(a):(a=qa(t)?Nf:la.current,i.context=zp(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(FS(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cN.enqueueReplaceState(i,i.state,null),Y1(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Gp(e,t){try{var r="",n=t;do r+=rne(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function $_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function RS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ese=typeof WeakMap=="function"?WeakMap:Map;function o9(e,t,r){r=Yd(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){t2||(t2=!0,GS=n),RS(e,t)},r}function l9(e,t,r){r=Yd(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){RS(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){RS(e,t),typeof n!="function"&&(Ph===null?Ph=new Set([this]):Ph.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function bO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ese;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Hse.bind(null,e,t,r),t.then(e,e))}function wO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jO(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yd(-1,1),t.tag=2,kh(r,t,1))),r.lanes|=1),e)}var kse=bu.ReactCurrentOwner,Va=!1;function va(e,t,r,n){t.child=e===null?UH(t,null,r,n):Kp(t,e.child,r,n)}function NO(e,t,r,n,i){r=r.render;var a=t.ref;return wp(t,i),n=K3(e,t,r,n,a,i),r=W3(),e!==null&&!Va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cu(e,t,i)):(ts&&r&&O3(t),t.flags|=1,va(e,t,n,i),t.child)}function _O(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!nP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,c9(e,t,a,n,i)):(e=r1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:ay,r(o,n)&&e.ref===t.ref)return cu(e,t,i)}return t.flags|=1,e=Th(a,n),e.ref=t.ref,e.return=t,t.child=e}function c9(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ay(a,n)&&e.ref===t.ref)if(Va=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Va=!0);else return t.lanes=e.lanes,cu(e,t,i)}return DS(e,t,r,n,i)}function d9(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dn(ip,vo),vo|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Dn(ip,vo),vo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Dn(ip,vo),vo|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Dn(ip,vo),vo|=n;return va(e,t,i,r),t.child}function u9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function DS(e,t,r,n,i){var a=qa(r)?Nf:la.current;return a=zp(t,a),wp(t,i),r=K3(e,t,r,n,a,i),n=W3(),e!==null&&!Va?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cu(e,t,i)):(ts&&n&&O3(t),t.flags|=1,va(e,t,r,i),t.child)}function CO(e,t,r,n,i){if(qa(r)){var a=!0;V1(t)}else a=!1;if(wp(t,i),t.stateNode===null)Jw(e,t),a9(t,r,n),US(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=pl(d):(d=qa(r)?Nf:la.current,d=zp(t,d));var u=r.getDerivedStateFromProps,A=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&vO(t,o,n,d),lh=!1;var f=t.memoizedState;o.state=f,Y1(t,n,o,i),c=t.memoizedState,l!==n||f!==c||Ga.current||lh?(typeof u=="function"&&(FS(t,r,u,n),c=t.memoizedState),(l=lh||yO(t,r,l,n,f,c,d))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,DH(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:ql(t.type,l),o.props=d,A=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=pl(c):(c=qa(r)?Nf:la.current,c=zp(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==A||f!==c)&&vO(t,o,n,c),lh=!1,f=t.memoizedState,o.state=f,Y1(t,n,o,i);var x=t.memoizedState;l!==A||f!==x||Ga.current||lh?(typeof m=="function"&&(FS(t,r,m,n),x=t.memoizedState),(d=lh||yO(t,r,d,n,f,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return MS(e,t,r,n,a,i)}function MS(e,t,r,n,i,a){u9(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&uO(t,r,!1),cu(e,t,a);n=t.stateNode,kse.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Kp(t,e.child,null,a),t.child=Kp(t,null,l,a)):va(e,t,l,a),t.memoizedState=n.state,i&&uO(t,r,!0),t.child}function h9(e){var t=e.stateNode;t.pendingContext?dO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dO(e,t.context,!1),$3(e,t.containerInfo)}function BO(e,t,r,n,i){return Vp(),F3(i),t.flags|=256,va(e,t,r,n),t.child}var QS={dehydrated:null,treeContext:null,retryLane:0};function $S(e){return{baseLanes:e,cachePool:null,transitions:null}}function A9(e,t,r){var n=t.pendingProps,i=us.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Dn(us,i&1),e===null)return OS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=hN(o,n,0,null),e=df(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=$S(r),t.memoizedState=QS,e):Y3(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Pse(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Th(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Th(l,a):(a=df(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?$S(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=QS,n}return a=e.child,e=a.sibling,n=Th(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Y3(e,t){return t=hN({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ib(e,t,r,n){return n!==null&&F3(n),Kp(t,e.child,null,r),e=Y3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pse(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=$_(Error(bt(422))),Ib(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=hN({mode:"visible",children:n.children},i,0,null),a=df(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Kp(t,e.child,null,o),t.child.memoizedState=$S(o),t.memoizedState=QS,a);if(!(t.mode&1))return Ib(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(bt(419)),n=$_(a,n,void 0),Ib(e,t,o,n)}if(l=(o&e.childLanes)!==0,Va||l){if(n=_i,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,lu(e,i),ic(n,e,i,-1))}return rP(),n=$_(Error(bt(421))),Ib(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zse.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,_o=Eh(i.nextSibling),Bo=t,ts=!0,ec=null,e!==null&&(rl[nl++]=Dd,rl[nl++]=Md,rl[nl++]=_f,Dd=e.id,Md=e.overflow,_f=t),t=Y3(t,n.children),t.flags|=4096,t)}function SO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),LS(e.return,t,r)}function H_(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function f9(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(va(e,t,n.children,r),n=us.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&SO(e,r,t);else if(e.tag===19)SO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Dn(us,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&X1(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),H_(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&X1(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}H_(t,!0,r,null,a);break;case"together":H_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(bt(153));if(t.child!==null){for(e=t.child,r=Th(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Th(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ise(e,t,r){switch(t.tag){case 3:h9(t),Vp();break;case 5:MH(t);break;case 1:qa(t.type)&&V1(t);break;case 4:$3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Dn(G1,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Dn(us,us.current&1),t.flags|=128,null):r&t.child.childLanes?A9(e,t,r):(Dn(us,us.current&1),e=cu(e,t,r),e!==null?e.sibling:null);Dn(us,us.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return f9(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dn(us,us.current),n)break;return null;case 22:case 23:return t.lanes=0,d9(e,t,r)}return cu(e,t,r)}var m9,HS,p9,g9;m9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};HS=function(){};p9=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,GA(Gc.current);var a=null;switch(r){case"input":i=uS(e,i),n=uS(e,n),a=[];break;case"select":i=fs({},i,{value:void 0}),n=fs({},n,{value:void 0}),a=[];break;case"textarea":i=fS(e,i),n=fS(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=H1)}pS(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Jx.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Jx.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Kn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};g9=function(e,t,r,n){r!==n&&(t.flags|=4)};function k0(e,t){if(!ts)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Tse(e,t,r){var n=t.pendingProps;switch(L3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(t),null;case 1:return qa(t.type)&&z1(),Wi(t),null;case 3:return n=t.stateNode,Wp(),Yn(Ga),Yn(la),z3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(kb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ec!==null&&(XS(ec),ec=null))),HS(e,t),Wi(t),null;case 5:H3(t);var i=GA(uy.current);if(r=t.type,e!==null&&t.stateNode!=null)p9(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(bt(166));return Wi(t),null}if(e=GA(Gc.current),kb(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Qc]=t,n[cy]=a,e=(t.mode&1)!==0,r){case"dialog":Kn("cancel",n),Kn("close",n);break;case"iframe":case"object":case"embed":Kn("load",n);break;case"video":case"audio":for(i=0;i<ix.length;i++)Kn(ix[i],n);break;case"source":Kn("error",n);break;case"img":case"image":case"link":Kn("error",n),Kn("load",n);break;case"details":Kn("toggle",n);break;case"input":UT(n,a),Kn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Kn("invalid",n);break;case"textarea":DT(n,a),Kn("invalid",n)}pS(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Eb(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Eb(n.textContent,l,e),i=["children",""+l]):Jx.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kn("scroll",n)}switch(r){case"input":bb(n),RT(n,a,!0);break;case"textarea":bb(n),MT(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=H1)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=V$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Qc]=t,e[cy]=n,m9(e,t,!1,!1),t.stateNode=e;e:{switch(o=gS(r,n),r){case"dialog":Kn("cancel",e),Kn("close",e),i=n;break;case"iframe":case"object":case"embed":Kn("load",e),i=n;break;case"video":case"audio":for(i=0;i<ix.length;i++)Kn(ix[i],e);i=n;break;case"source":Kn("error",e),i=n;break;case"img":case"image":case"link":Kn("error",e),Kn("load",e),i=n;break;case"details":Kn("toggle",e),i=n;break;case"input":UT(e,n),i=uS(e,n),Kn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=fs({},n,{value:void 0}),Kn("invalid",e);break;case"textarea":DT(e,n),i=fS(e,n),Kn("invalid",e);break;default:i=n}pS(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?G$(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&K$(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ey(e,c):typeof c=="number"&&ey(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jx.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Kn("scroll",e):c!=null&&v3(e,a,c,o))}switch(r){case"input":bb(e),RT(e,n,!1);break;case"textarea":bb(e),MT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$h(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?xp(e,!!n.multiple,a,!1):n.defaultValue!=null&&xp(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=H1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wi(t),null;case 6:if(e&&t.stateNode!=null)g9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(bt(166));if(r=GA(uy.current),GA(Gc.current),kb(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qc]=t,(a=n.nodeValue!==r)&&(e=Bo,e!==null))switch(e.tag){case 3:Eb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Eb(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qc]=t,t.stateNode=n}return Wi(t),null;case 13:if(Yn(us),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ts&&_o!==null&&t.mode&1&&!(t.flags&128))LH(),Vp(),t.flags|=98560,a=!1;else if(a=kb(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(bt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(bt(317));a[Qc]=t}else Vp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wi(t),a=!1}else ec!==null&&(XS(ec),ec=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||us.current&1?fi===0&&(fi=3):rP())),t.updateQueue!==null&&(t.flags|=4),Wi(t),null);case 4:return Wp(),HS(e,t),e===null&&oy(t.stateNode.containerInfo),Wi(t),null;case 10:return D3(t.type._context),Wi(t),null;case 17:return qa(t.type)&&z1(),Wi(t),null;case 19:if(Yn(us),a=t.memoizedState,a===null)return Wi(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)k0(a,!1);else{if(fi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=X1(e),o!==null){for(t.flags|=128,k0(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Dn(us,us.current&1|2),t.child}e=e.sibling}a.tail!==null&&Rs()>qp&&(t.flags|=128,n=!0,k0(a,!1),t.lanes=4194304)}else{if(!n)if(e=X1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),k0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ts)return Wi(t),null}else 2*Rs()-a.renderingStartTime>qp&&r!==1073741824&&(t.flags|=128,n=!0,k0(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Rs(),t.sibling=null,r=us.current,Dn(us,n?r&1|2:r&1),t):(Wi(t),null);case 22:case 23:return tP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vo&1073741824&&(Wi(t),t.subtreeFlags&6&&(t.flags|=8192)):Wi(t),null;case 24:return null;case 25:return null}throw Error(bt(156,t.tag))}function Ose(e,t){switch(L3(t),t.tag){case 1:return qa(t.type)&&z1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wp(),Yn(Ga),Yn(la),z3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return H3(t),null;case 13:if(Yn(us),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(bt(340));Vp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yn(us),null;case 4:return Wp(),null;case 10:return D3(t.type._context),null;case 22:case 23:return tP(),null;case 24:return null;default:return null}}var Tb=!1,sa=!1,Lse=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function sp(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Cs(e,t,n)}else r.current=null}function zS(e,t,r){try{r()}catch(n){Cs(e,t,n)}}var EO=!1;function Fse(e,t){if(BS=M1,e=wH(),T3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,A=e,f=null;t:for(;;){for(var m;A!==r||i!==0&&A.nodeType!==3||(l=o+i),A!==a||n!==0&&A.nodeType!==3||(c=o+n),A.nodeType===3&&(o+=A.nodeValue.length),(m=A.firstChild)!==null;)f=A,A=m;for(;;){if(A===e)break t;if(f===r&&++d===i&&(l=o),f===a&&++u===n&&(c=o),(m=A.nextSibling)!==null)break;A=f,f=A.parentNode}A=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(SS={focusedElem:e,selectionRange:r},M1=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){t=Dt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,v=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:ql(t.type,p),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(bt(163))}}catch(j){Cs(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}return x=EO,EO=!1,x}function Sx(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&zS(t,r,a)}i=i.next}while(i!==n)}}function dN(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function VS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function x9(e){var t=e.alternate;t!==null&&(e.alternate=null,x9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qc],delete t[cy],delete t[PS],delete t[xse],delete t[yse])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function y9(e){return e.tag===5||e.tag===3||e.tag===4}function kO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||y9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function KS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=H1));else if(n!==4&&(e=e.child,e!==null))for(KS(e,t,r),e=e.sibling;e!==null;)KS(e,t,r),e=e.sibling}function WS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(WS(e,t,r),e=e.sibling;e!==null;)WS(e,t,r),e=e.sibling}var Ti=null,Yl=!1;function Gu(e,t,r){for(r=r.child;r!==null;)v9(e,t,r),r=r.sibling}function v9(e,t,r){if(Wc&&typeof Wc.onCommitFiberUnmount=="function")try{Wc.onCommitFiberUnmount(rN,r)}catch{}switch(r.tag){case 5:sa||sp(r,t);case 6:var n=Ti,i=Yl;Ti=null,Gu(e,t,r),Ti=n,Yl=i,Ti!==null&&(Yl?(e=Ti,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ti.removeChild(r.stateNode));break;case 18:Ti!==null&&(Yl?(e=Ti,r=r.stateNode,e.nodeType===8?F_(e.parentNode,r):e.nodeType===1&&F_(e,r),sy(e)):F_(Ti,r.stateNode));break;case 4:n=Ti,i=Yl,Ti=r.stateNode.containerInfo,Yl=!0,Gu(e,t,r),Ti=n,Yl=i;break;case 0:case 11:case 14:case 15:if(!sa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&zS(r,t,o),i=i.next}while(i!==n)}Gu(e,t,r);break;case 1:if(!sa&&(sp(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Cs(r,t,l)}Gu(e,t,r);break;case 21:Gu(e,t,r);break;case 22:r.mode&1?(sa=(n=sa)||r.memoizedState!==null,Gu(e,t,r),sa=n):Gu(e,t,r);break;default:Gu(e,t,r)}}function PO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Lse),t.forEach(function(n){var i=Vse.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Hl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ti=l.stateNode,Yl=!1;break e;case 3:Ti=l.stateNode.containerInfo,Yl=!0;break e;case 4:Ti=l.stateNode.containerInfo,Yl=!0;break e}l=l.return}if(Ti===null)throw Error(bt(160));v9(a,o,i),Ti=null,Yl=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Cs(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)b9(t,e),t=t.sibling}function b9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hl(t,e),Lc(e),n&4){try{Sx(3,e,e.return),dN(3,e)}catch(p){Cs(e,e.return,p)}try{Sx(5,e,e.return)}catch(p){Cs(e,e.return,p)}}break;case 1:Hl(t,e),Lc(e),n&512&&r!==null&&sp(r,r.return);break;case 5:if(Hl(t,e),Lc(e),n&512&&r!==null&&sp(r,r.return),e.flags&32){var i=e.stateNode;try{ey(i,"")}catch(p){Cs(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&H$(i,a),gS(l,o);var d=gS(l,a);for(o=0;o<c.length;o+=2){var u=c[o],A=c[o+1];u==="style"?G$(i,A):u==="dangerouslySetInnerHTML"?K$(i,A):u==="children"?ey(i,A):v3(i,u,A,d)}switch(l){case"input":hS(i,a);break;case"textarea":z$(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?xp(i,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?xp(i,!!a.multiple,a.defaultValue,!0):xp(i,!!a.multiple,a.multiple?[]:"",!1))}i[cy]=a}catch(p){Cs(e,e.return,p)}}break;case 6:if(Hl(t,e),Lc(e),n&4){if(e.stateNode===null)throw Error(bt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){Cs(e,e.return,p)}}break;case 3:if(Hl(t,e),Lc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sy(t.containerInfo)}catch(p){Cs(e,e.return,p)}break;case 4:Hl(t,e),Lc(e);break;case 13:Hl(t,e),Lc(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(J3=Rs())),n&4&&PO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(sa=(d=sa)||u,Hl(t,e),sa=d):Hl(t,e),Lc(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Dt=e,u=e.child;u!==null;){for(A=Dt=u;Dt!==null;){switch(f=Dt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Sx(4,f,f.return);break;case 1:sp(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){Cs(n,r,p)}}break;case 5:sp(f,f.return);break;case 22:if(f.memoizedState!==null){TO(A);continue}}m!==null?(m.return=f,Dt=m):TO(A)}u=u.sibling}e:for(u=null,A=e;;){if(A.tag===5){if(u===null){u=A;try{i=A.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=A.stateNode,c=A.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=W$("display",o))}catch(p){Cs(e,e.return,p)}}}else if(A.tag===6){if(u===null)try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(p){Cs(e,e.return,p)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;u===A&&(u=null),A=A.return}u===A&&(u=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Hl(t,e),Lc(e),n&4&&PO(e);break;case 21:break;default:Hl(t,e),Lc(e)}}function Lc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(y9(r)){var n=r;break e}r=r.return}throw Error(bt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ey(i,""),n.flags&=-33);var a=kO(e);WS(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=kO(e);KS(e,l,o);break;default:throw Error(bt(161))}}catch(c){Cs(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Use(e,t,r){Dt=e,w9(e)}function w9(e,t,r){for(var n=(e.mode&1)!==0;Dt!==null;){var i=Dt,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Tb;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||sa;l=Tb;var d=sa;if(Tb=o,(sa=c)&&!d)for(Dt=i;Dt!==null;)o=Dt,c=o.child,o.tag===22&&o.memoizedState!==null?OO(i):c!==null?(c.return=o,Dt=c):OO(i);for(;a!==null;)Dt=a,w9(a),a=a.sibling;Dt=i,Tb=l,sa=d}IO(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Dt=a):IO(e)}}function IO(e){for(;Dt!==null;){var t=Dt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sa||dN(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!sa)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ql(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&pO(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pO(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var A=u.dehydrated;A!==null&&sy(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(bt(163))}sa||t.flags&512&&VS(t)}catch(f){Cs(t,t.return,f)}}if(t===e){Dt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Dt=r;break}Dt=t.return}}function TO(e){for(;Dt!==null;){var t=Dt;if(t===e){Dt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Dt=r;break}Dt=t.return}}function OO(e){for(;Dt!==null;){var t=Dt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dN(4,t)}catch(c){Cs(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Cs(t,i,c)}}var a=t.return;try{VS(t)}catch(c){Cs(t,a,c)}break;case 5:var o=t.return;try{VS(t)}catch(c){Cs(t,o,c)}}}catch(c){Cs(t,t.return,c)}if(t===e){Dt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Dt=l;break}Dt=t.return}}var Rse=Math.ceil,e2=bu.ReactCurrentDispatcher,X3=bu.ReactCurrentOwner,Al=bu.ReactCurrentBatchConfig,Hr=0,_i=null,qs=null,Fi=0,vo=0,ip=rA(0),fi=0,my=null,Bf=0,uN=0,Z3=0,Ex=null,za=null,J3=0,qp=1/0,Od=null,t2=!1,GS=null,Ph=null,Ob=!1,xh=null,r2=0,kx=0,qS=null,e1=-1,t1=0;function Na(){return Hr&6?Rs():e1!==-1?e1:e1=Rs()}function Ih(e){return e.mode&1?Hr&2&&Fi!==0?Fi&-Fi:bse.transition!==null?(t1===0&&(t1=aH()),t1):(e=xn,e!==0||(e=window.event,e=e===void 0?16:AH(e.type)),e):1}function ic(e,t,r,n){if(50<kx)throw kx=0,qS=null,Error(bt(185));gv(e,r,n),(!(Hr&2)||e!==_i)&&(e===_i&&(!(Hr&2)&&(uN|=r),fi===4&&hh(e,Fi)),Ya(e,n),r===1&&Hr===0&&!(t.mode&1)&&(qp=Rs()+500,oN&&nA()))}function Ya(e,t){var r=e.callbackNode;bne(e,t);var n=D1(e,e===_i?Fi:0);if(n===0)r!==null&&HT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&HT(r),t===1)e.tag===0?vse(LO.bind(null,e)):IH(LO.bind(null,e)),pse(function(){!(Hr&6)&&nA()}),r=null;else{switch(oH(n)){case 1:r=_3;break;case 4:r=sH;break;case 16:r=R1;break;case 536870912:r=iH;break;default:r=R1}r=k9(r,j9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function j9(e,t){if(e1=-1,t1=0,Hr&6)throw Error(bt(327));var r=e.callbackNode;if(jp()&&e.callbackNode!==r)return null;var n=D1(e,e===_i?Fi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=n2(e,n);else{t=n;var i=Hr;Hr|=2;var a=_9();(_i!==e||Fi!==t)&&(Od=null,qp=Rs()+500,cf(e,t));do try{Qse();break}catch(l){N9(e,l)}while(!0);R3(),e2.current=a,Hr=i,qs!==null?t=0:(_i=null,Fi=0,t=fi)}if(t!==0){if(t===2&&(i=wS(e),i!==0&&(n=i,t=YS(e,i))),t===1)throw r=my,cf(e,0),hh(e,n),Ya(e,Rs()),r;if(t===6)hh(e,n);else{if(i=e.current.alternate,!(n&30)&&!Dse(i)&&(t=n2(e,n),t===2&&(a=wS(e),a!==0&&(n=a,t=YS(e,a))),t===1))throw r=my,cf(e,0),hh(e,n),Ya(e,Rs()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(bt(345));case 2:LA(e,za,Od);break;case 3:if(hh(e,n),(n&130023424)===n&&(t=J3+500-Rs(),10<t)){if(D1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Na(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=kS(LA.bind(null,e,za,Od),t);break}LA(e,za,Od);break;case 4:if(hh(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-sc(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Rs()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rse(n/1960))-n,10<n){e.timeoutHandle=kS(LA.bind(null,e,za,Od),n);break}LA(e,za,Od);break;case 5:LA(e,za,Od);break;default:throw Error(bt(329))}}}return Ya(e,Rs()),e.callbackNode===r?j9.bind(null,e):null}function YS(e,t){var r=Ex;return e.current.memoizedState.isDehydrated&&(cf(e,t).flags|=256),e=n2(e,t),e!==2&&(t=za,za=r,t!==null&&XS(t)),e}function XS(e){za===null?za=e:za.push.apply(za,e)}function Dse(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!cc(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hh(e,t){for(t&=~Z3,t&=~uN,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sc(t),n=1<<r;e[r]=-1,t&=~n}}function LO(e){if(Hr&6)throw Error(bt(327));jp();var t=D1(e,0);if(!(t&1))return Ya(e,Rs()),null;var r=n2(e,t);if(e.tag!==0&&r===2){var n=wS(e);n!==0&&(t=n,r=YS(e,n))}if(r===1)throw r=my,cf(e,0),hh(e,t),Ya(e,Rs()),r;if(r===6)throw Error(bt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,LA(e,za,Od),Ya(e,Rs()),null}function eP(e,t){var r=Hr;Hr|=1;try{return e(t)}finally{Hr=r,Hr===0&&(qp=Rs()+500,oN&&nA())}}function Sf(e){xh!==null&&xh.tag===0&&!(Hr&6)&&jp();var t=Hr;Hr|=1;var r=Al.transition,n=xn;try{if(Al.transition=null,xn=1,e)return e()}finally{xn=n,Al.transition=r,Hr=t,!(Hr&6)&&nA()}}function tP(){vo=ip.current,Yn(ip)}function cf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mse(r)),qs!==null)for(r=qs.return;r!==null;){var n=r;switch(L3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&z1();break;case 3:Wp(),Yn(Ga),Yn(la),z3();break;case 5:H3(n);break;case 4:Wp();break;case 13:Yn(us);break;case 19:Yn(us);break;case 10:D3(n.type._context);break;case 22:case 23:tP()}r=r.return}if(_i=e,qs=e=Th(e.current,null),Fi=vo=t,fi=0,my=null,Z3=uN=Bf=0,za=Ex=null,WA!==null){for(t=0;t<WA.length;t++)if(r=WA[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}WA=null}return e}function N9(e,t){do{var r=qs;try{if(R3(),Xw.current=J1,Z1){for(var n=As.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Z1=!1}if(Cf=0,bi=ui=As=null,Bx=!1,hy=0,X3.current=null,r===null||r.return===null){fi=1,my=t,qs=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Fi,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,A=u.tag;if(!(u.mode&1)&&(A===0||A===11||A===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=wO(o);if(m!==null){m.flags&=-257,jO(m,o,l,a,t),m.mode&1&&bO(a,d,t),t=m,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){bO(a,d,t),rP();break e}c=Error(bt(426))}}else if(ts&&l.mode&1){var v=wO(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),jO(v,o,l,a,t),F3(Gp(c,l));break e}}a=c=Gp(c,l),fi!==4&&(fi=2),Ex===null?Ex=[a]:Ex.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=o9(a,c,t);mO(a,y);break e;case 1:l=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ph===null||!Ph.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=l9(a,l,t);mO(a,j);break e}}a=a.return}while(a!==null)}B9(r)}catch(N){t=N,qs===r&&r!==null&&(qs=r=r.return);continue}break}while(!0)}function _9(){var e=e2.current;return e2.current=J1,e===null?J1:e}function rP(){(fi===0||fi===3||fi===2)&&(fi=4),_i===null||!(Bf&268435455)&&!(uN&268435455)||hh(_i,Fi)}function n2(e,t){var r=Hr;Hr|=2;var n=_9();(_i!==e||Fi!==t)&&(Od=null,cf(e,t));do try{Mse();break}catch(i){N9(e,i)}while(!0);if(R3(),Hr=r,e2.current=n,qs!==null)throw Error(bt(261));return _i=null,Fi=0,fi}function Mse(){for(;qs!==null;)C9(qs)}function Qse(){for(;qs!==null&&!hne();)C9(qs)}function C9(e){var t=E9(e.alternate,e,vo);e.memoizedProps=e.pendingProps,t===null?B9(e):qs=t,X3.current=null}function B9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ose(r,t),r!==null){r.flags&=32767,qs=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fi=6,qs=null;return}}else if(r=Tse(r,t,vo),r!==null){qs=r;return}if(t=t.sibling,t!==null){qs=t;return}qs=t=e}while(t!==null);fi===0&&(fi=5)}function LA(e,t,r){var n=xn,i=Al.transition;try{Al.transition=null,xn=1,$se(e,t,r,n)}finally{Al.transition=i,xn=n}return null}function $se(e,t,r,n){do jp();while(xh!==null);if(Hr&6)throw Error(bt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(bt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(wne(e,a),e===_i&&(qs=_i=null,Fi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ob||(Ob=!0,k9(R1,function(){return jp(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Al.transition,Al.transition=null;var o=xn;xn=1;var l=Hr;Hr|=4,X3.current=null,Fse(e,r),b9(r,e),lse(SS),M1=!!BS,SS=BS=null,e.current=r,Use(r),Ane(),Hr=l,xn=o,Al.transition=a}else e.current=r;if(Ob&&(Ob=!1,xh=e,r2=i),a=e.pendingLanes,a===0&&(Ph=null),pne(r.stateNode),Ya(e,Rs()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(t2)throw t2=!1,e=GS,GS=null,e;return r2&1&&e.tag!==0&&jp(),a=e.pendingLanes,a&1?e===qS?kx++:(kx=0,qS=e):kx=0,nA(),null}function jp(){if(xh!==null){var e=oH(r2),t=Al.transition,r=xn;try{if(Al.transition=null,xn=16>e?16:e,xh===null)var n=!1;else{if(e=xh,xh=null,r2=0,Hr&6)throw Error(bt(331));var i=Hr;for(Hr|=4,Dt=e.current;Dt!==null;){var a=Dt,o=a.child;if(Dt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Dt=d;Dt!==null;){var u=Dt;switch(u.tag){case 0:case 11:case 15:Sx(8,u,a)}var A=u.child;if(A!==null)A.return=u,Dt=A;else for(;Dt!==null;){u=Dt;var f=u.sibling,m=u.return;if(x9(u),u===d){Dt=null;break}if(f!==null){f.return=m,Dt=f;break}Dt=m}}}var x=a.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Dt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Dt=o;else e:for(;Dt!==null;){if(a=Dt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Sx(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Dt=y;break e}Dt=a.return}}var b=e.current;for(Dt=b;Dt!==null;){o=Dt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Dt=w;else e:for(o=b;Dt!==null;){if(l=Dt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dN(9,l)}}catch(N){Cs(l,l.return,N)}if(l===o){Dt=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Dt=j;break e}Dt=l.return}}if(Hr=i,nA(),Wc&&typeof Wc.onPostCommitFiberRoot=="function")try{Wc.onPostCommitFiberRoot(rN,e)}catch{}n=!0}return n}finally{xn=r,Al.transition=t}}return!1}function FO(e,t,r){t=Gp(r,t),t=o9(e,t,1),e=kh(e,t,1),t=Na(),e!==null&&(gv(e,1,t),Ya(e,t))}function Cs(e,t,r){if(e.tag===3)FO(e,e,r);else for(;t!==null;){if(t.tag===3){FO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ph===null||!Ph.has(n))){e=Gp(r,e),e=l9(t,e,1),t=kh(t,e,1),e=Na(),t!==null&&(gv(t,1,e),Ya(t,e));break}}t=t.return}}function Hse(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Na(),e.pingedLanes|=e.suspendedLanes&r,_i===e&&(Fi&r)===r&&(fi===4||fi===3&&(Fi&130023424)===Fi&&500>Rs()-J3?cf(e,0):Z3|=r),Ya(e,t)}function S9(e,t){t===0&&(e.mode&1?(t=Nb,Nb<<=1,!(Nb&130023424)&&(Nb=4194304)):t=1);var r=Na();e=lu(e,t),e!==null&&(gv(e,t,r),Ya(e,r))}function zse(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),S9(e,r)}function Vse(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(bt(314))}n!==null&&n.delete(t),S9(e,r)}var E9;E9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ga.current)Va=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Va=!1,Ise(e,t,r);Va=!!(e.flags&131072)}else Va=!1,ts&&t.flags&1048576&&TH(t,W1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jw(e,t),e=t.pendingProps;var i=zp(t,la.current);wp(t,r),i=K3(null,t,n,e,i,r);var a=W3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qa(n)?(a=!0,V1(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Q3(t),i.updater=cN,t.stateNode=i,i._reactInternals=t,US(t,n,e,r),t=MS(null,t,n,!0,a,r)):(t.tag=0,ts&&a&&O3(t),va(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jw(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Wse(n),e=ql(n,e),i){case 0:t=DS(null,t,n,e,r);break e;case 1:t=CO(null,t,n,e,r);break e;case 11:t=NO(null,t,n,e,r);break e;case 14:t=_O(null,t,n,ql(n.type,e),r);break e}throw Error(bt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ql(n,i),DS(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ql(n,i),CO(e,t,n,i,r);case 3:e:{if(h9(t),e===null)throw Error(bt(387));n=t.pendingProps,a=t.memoizedState,i=a.element,DH(e,t),Y1(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Gp(Error(bt(423)),t),t=BO(e,t,n,r,i);break e}else if(n!==i){i=Gp(Error(bt(424)),t),t=BO(e,t,n,r,i);break e}else for(_o=Eh(t.stateNode.containerInfo.firstChild),Bo=t,ts=!0,ec=null,r=UH(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vp(),n===i){t=cu(e,t,r);break e}va(e,t,n,r)}t=t.child}return t;case 5:return MH(t),e===null&&OS(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,ES(n,i)?o=null:a!==null&&ES(n,a)&&(t.flags|=32),u9(e,t),va(e,t,o,r),t.child;case 6:return e===null&&OS(t),null;case 13:return A9(e,t,r);case 4:return $3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Kp(t,null,n,r):va(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ql(n,i),NO(e,t,n,i,r);case 7:return va(e,t,t.pendingProps,r),t.child;case 8:return va(e,t,t.pendingProps.children,r),t.child;case 12:return va(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Dn(G1,n._currentValue),n._currentValue=o,a!==null)if(cc(a.value,o)){if(a.children===i.children&&!Ga.current){t=cu(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Yd(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),LS(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(bt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),LS(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}va(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,wp(t,r),i=pl(i),n=n(i),t.flags|=1,va(e,t,n,r),t.child;case 14:return n=t.type,i=ql(n,t.pendingProps),i=ql(n.type,i),_O(e,t,n,i,r);case 15:return c9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ql(n,i),Jw(e,t),t.tag=1,qa(n)?(e=!0,V1(t)):e=!1,wp(t,r),a9(t,n,i),US(t,n,i,r),MS(null,t,n,!0,e,r);case 19:return f9(e,t,r);case 22:return d9(e,t,r)}throw Error(bt(156,t.tag))};function k9(e,t){return nH(e,t)}function Kse(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ll(e,t,r,n){return new Kse(e,t,r,n)}function nP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wse(e){if(typeof e=="function")return nP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===w3)return 11;if(e===j3)return 14}return 2}function Th(e,t){var r=e.alternate;return r===null?(r=ll(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function r1(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")nP(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qm:return df(r.children,i,a,t);case b3:o=8,i|=8;break;case oS:return e=ll(12,r,t,i|2),e.elementType=oS,e.lanes=a,e;case lS:return e=ll(13,r,t,i),e.elementType=lS,e.lanes=a,e;case cS:return e=ll(19,r,t,i),e.elementType=cS,e.lanes=a,e;case M$:return hN(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R$:o=10;break e;case D$:o=9;break e;case w3:o=11;break e;case j3:o=14;break e;case oh:o=16,n=null;break e}throw Error(bt(130,e==null?e:typeof e,""))}return t=ll(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function df(e,t,r,n){return e=ll(7,e,n,t),e.lanes=r,e}function hN(e,t,r,n){return e=ll(22,e,n,t),e.elementType=M$,e.lanes=r,e.stateNode={isHidden:!1},e}function z_(e,t,r){return e=ll(6,e,null,t),e.lanes=r,e}function V_(e,t,r){return t=ll(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gse(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=__(0),this.expirationTimes=__(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=__(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sP(e,t,r,n,i,a,o,l,c){return e=new Gse(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ll(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q3(a),e}function qse(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gm,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function P9(e){if(!e)return Hh;e=e._reactInternals;e:{if(Jf(e)!==e||e.tag!==1)throw Error(bt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(bt(171))}if(e.tag===1){var r=e.type;if(qa(r))return PH(e,r,t)}return t}function I9(e,t,r,n,i,a,o,l,c){return e=sP(r,n,!0,e,i,a,o,l,c),e.context=P9(null),r=e.current,n=Na(),i=Ih(r),a=Yd(n,i),a.callback=t??null,kh(r,a,i),e.current.lanes=i,gv(e,i,n),Ya(e,n),e}function AN(e,t,r,n){var i=t.current,a=Na(),o=Ih(i);return r=P9(r),t.context===null?t.context=r:t.pendingContext=r,t=Yd(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=kh(i,t,o),e!==null&&(ic(e,i,o,a),Yw(e,i,o)),o}function s2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function UO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function iP(e,t){UO(e,t),(e=e.alternate)&&UO(e,t)}function Yse(){return null}var T9=typeof reportError=="function"?reportError:function(e){console.error(e)};function aP(e){this._internalRoot=e}fN.prototype.render=aP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(bt(409));AN(e,t,null,null)};fN.prototype.unmount=aP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sf(function(){AN(null,e,null,null)}),t[ou]=null}};function fN(e){this._internalRoot=e}fN.prototype.unstable_scheduleHydration=function(e){if(e){var t=dH();e={blockedOn:null,target:e,priority:t};for(var r=0;r<uh.length&&t!==0&&t<uh[r].priority;r++);uh.splice(r,0,e),r===0&&hH(e)}};function oP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function RO(){}function Xse(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=s2(o);a.call(d)}}var o=I9(t,n,e,0,null,!1,!1,"",RO);return e._reactRootContainer=o,e[ou]=o.current,oy(e.nodeType===8?e.parentNode:e),Sf(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=s2(c);l.call(d)}}var c=sP(e,0,!1,null,null,!1,!1,"",RO);return e._reactRootContainer=c,e[ou]=c.current,oy(e.nodeType===8?e.parentNode:e),Sf(function(){AN(t,c,r,n)}),c}function pN(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=s2(o);l.call(c)}}AN(t,o,e,i)}else o=Xse(r,t,e,i,n);return s2(o)}lH=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sx(t.pendingLanes);r!==0&&(C3(t,r|1),Ya(t,Rs()),!(Hr&6)&&(qp=Rs()+500,nA()))}break;case 13:Sf(function(){var n=lu(e,1);if(n!==null){var i=Na();ic(n,e,1,i)}}),iP(e,1)}};B3=function(e){if(e.tag===13){var t=lu(e,134217728);if(t!==null){var r=Na();ic(t,e,134217728,r)}iP(e,134217728)}};cH=function(e){if(e.tag===13){var t=Ih(e),r=lu(e,t);if(r!==null){var n=Na();ic(r,e,t,n)}iP(e,t)}};dH=function(){return xn};uH=function(e,t){var r=xn;try{return xn=e,t()}finally{xn=r}};yS=function(e,t,r){switch(t){case"input":if(hS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=aN(n);if(!i)throw Error(bt(90));$$(n),hS(n,i)}}}break;case"textarea":z$(e,r);break;case"select":t=r.value,t!=null&&xp(e,!!r.multiple,t,!1)}};X$=eP;Z$=Sf;var Zse={usingClientEntryPoint:!1,Events:[yv,Jm,aN,q$,Y$,eP]},P0={findFiberByHostInstance:KA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jse={bundleType:P0.bundleType,version:P0.version,rendererPackageName:P0.rendererPackageName,rendererConfig:P0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tH(e),e===null?null:e.stateNode},findFiberByHostInstance:P0.findFiberByHostInstance||Yse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lb.isDisabled&&Lb.supportsFiber)try{rN=Lb.inject(Jse),Wc=Lb}catch{}}Oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zse;Oo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oP(t))throw Error(bt(200));return qse(e,t,null,r)};Oo.createRoot=function(e,t){if(!oP(e))throw Error(bt(299));var r=!1,n="",i=T9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sP(e,1,!1,null,null,r,!1,n,i),e[ou]=t.current,oy(e.nodeType===8?e.parentNode:e),new aP(t)};Oo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(bt(188)):(e=Object.keys(e).join(","),Error(bt(268,e)));return e=tH(t),e=e===null?null:e.stateNode,e};Oo.flushSync=function(e){return Sf(e)};Oo.hydrate=function(e,t,r){if(!mN(t))throw Error(bt(200));return pN(null,e,t,!0,r)};Oo.hydrateRoot=function(e,t,r){if(!oP(e))throw Error(bt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=T9;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=I9(t,null,e,1,r??null,i,!1,a,o),e[ou]=t.current,oy(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new fN(t)};Oo.render=function(e,t,r){if(!mN(t))throw Error(bt(200));return pN(null,e,t,!1,r)};Oo.unmountComponentAtNode=function(e){if(!mN(e))throw Error(bt(40));return e._reactRootContainer?(Sf(function(){pN(null,null,e,!1,function(){e._reactRootContainer=null,e[ou]=null})}),!0):!1};Oo.unstable_batchedUpdates=eP;Oo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!mN(r))throw Error(bt(200));if(e==null||e._reactInternals===void 0)throw Error(bt(38));return pN(e,t,r,!1,n)};Oo.version="18.3.1-next-f1338f8080-20240426";function O9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O9)}catch(e){console.error(e)}}O9(),O$.exports=Oo;var sA=O$.exports;const eie=Zr(sA);var DO=sA;iS.createRoot=DO.createRoot,iS.hydrateRoot=DO.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}var yh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yh||(yh={}));const MO="popstate";function tie(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return ZS("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:i2(i)}return nie(t,r,null,e)}function Xs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rie(){return Math.random().toString(36).substr(2,8)}function QO(e,t){return{usr:e.state,key:e.key,idx:t}}function ZS(e,t,r,n){return r===void 0&&(r=null),py({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ug(t):t,{state:r,key:t&&t.key||n||rie()})}function i2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ug(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function nie(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=yh.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(py({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function A(){l=yh.Pop;let v=u(),y=v==null?null:v-d;d=v,c&&c({action:l,location:p.location,delta:y})}function f(v,y){l=yh.Push;let b=ZS(p.location,v,y);d=u()+1;let w=QO(b,d),j=p.createHref(b);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(j)}a&&c&&c({action:l,location:p.location,delta:1})}function m(v,y){l=yh.Replace;let b=ZS(p.location,v,y);d=u();let w=QO(b,d),j=p.createHref(b);o.replaceState(w,"",j),a&&c&&c({action:l,location:p.location,delta:0})}function x(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:i2(v);return b=b.replace(/ $/,"%20"),Xs(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return l},get location(){return e(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(MO,A),c=v,()=>{i.removeEventListener(MO,A),c=null}},createHref(v){return t(i,v)},createURL:x,encodeLocation(v){let y=x(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(v){return o.go(v)}};return p}var $O;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($O||($O={}));function sie(e,t,r){return r===void 0&&(r="/"),iie(e,t,r)}function iie(e,t,r,n){let i=typeof t=="string"?Ug(t):t,a=cP(i.pathname||"/",r);if(a==null)return null;let o=L9(e);aie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=xie(a);l=mie(o[c],d)}return l}function L9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Xs(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Oh([n,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(Xs(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),L9(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:Aie(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of F9(a.path))i(a,o,c)}),t}function F9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=F9(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function aie(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fie(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const oie=/^:[\w-]+$/,lie=3,cie=2,die=1,uie=10,hie=-2,HO=e=>e==="*";function Aie(e,t){let r=e.split("/"),n=r.length;return r.some(HO)&&(n+=hie),t&&(n+=cie),r.filter(i=>!HO(i)).reduce((i,a)=>i+(oie.test(a)?lie:a===""?die:uie),n)}function fie(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function mie(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",A=pie({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!A)return null;Object.assign(i,A.params),o.push({params:i,pathname:Oh([a,A.pathname]),pathnameBase:jie(Oh([a,A.pathnameBase])),route:f}),A.pathnameBase!=="/"&&(a=Oh([a,A.pathnameBase]))}return o}function pie(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=gie(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,A)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let p=l[A]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[A];return m&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function gie(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function xie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const yie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vie=e=>yie.test(e);function bie(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ug(e):e,a;if(r)if(vie(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),lP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=zO(r.substring(1),"/"):a=zO(r,t)}else a=t;return{pathname:a,search:Nie(n),hash:_ie(i)}}function zO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function K_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wie(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function U9(e,t){let r=wie(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function R9(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Ug(e):(i=py({},e),Xs(!i.pathname||!i.pathname.includes("?"),K_("?","pathname","search",i)),Xs(!i.pathname||!i.pathname.includes("#"),K_("#","pathname","hash",i)),Xs(!i.search||!i.search.includes("#"),K_("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let A=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),A-=1;i.pathname=f.join("/")}l=A>=0?t[A]:"/"}let c=bie(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Oh=e=>e.join("/").replace(/\/\/+/g,"/"),jie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Nie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_ie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cie(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const D9=["post","put","patch","delete"];new Set(D9);const Bie=["get",...D9];new Set(Bie);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}const dP=_.createContext(null),Sie=_.createContext(null),em=_.createContext(null),gN=_.createContext(null),iA=_.createContext({outlet:null,matches:[],isDataRoute:!1}),M9=_.createContext(null);function Eie(e,t){let{relative:r}=t===void 0?{}:t;bv()||Xs(!1);let{basename:n,navigator:i}=_.useContext(em),{hash:a,pathname:o,search:l}=$9(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Oh([n,o])),i.createHref({pathname:c,search:l,hash:a})}function bv(){return _.useContext(gN)!=null}function Ja(){return bv()||Xs(!1),_.useContext(gN).location}function Q9(e){_.useContext(em).static||_.useLayoutEffect(e)}function Ar(){let{isDataRoute:e}=_.useContext(iA);return e?Hie():kie()}function kie(){bv()||Xs(!1);let e=_.useContext(dP),{basename:t,future:r,navigator:n}=_.useContext(em),{matches:i}=_.useContext(iA),{pathname:a}=Ja(),o=JSON.stringify(U9(i,r.v7_relativeSplatPath)),l=_.useRef(!1);return Q9(()=>{l.current=!0}),_.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let A=R9(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Oh([t,A.pathname])),(u.replace?n.replace:n.push)(A,u.state,u)},[t,n,o,a,e])}function wu(){let{matches:e}=_.useContext(iA),t=e[e.length-1];return t?t.params:{}}function $9(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(em),{matches:i}=_.useContext(iA),{pathname:a}=Ja(),o=JSON.stringify(U9(i,n.v7_relativeSplatPath));return _.useMemo(()=>R9(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Iie(e,t){return Tie(e,t)}function Tie(e,t,r,n){bv()||Xs(!1);let{navigator:i}=_.useContext(em),{matches:a}=_.useContext(iA),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ja(),u;if(t){var A;let v=typeof t=="string"?Ug(t):t;c==="/"||(A=v.pathname)!=null&&A.startsWith(c)||Xs(!1),u=v}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=sie(e,{pathname:m}),p=Rie(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Oh([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Oh([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&p?_.createElement(gN.Provider,{value:{location:gy({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yh.Pop}},p):p}function Oie(){let e=$ie(),t=Cie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:i},r):null,null)}const Lie=_.createElement(Oie,null);class Fie extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(iA.Provider,{value:this.props.routeContext},_.createElement(M9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uie(e){let{routeContext:t,match:r,children:n}=e,i=_.useContext(dP);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(iA.Provider,{value:t},n)}function Rie(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(A=>A.route.id&&(l==null?void 0:l[A.route.id])!==void 0);u>=0||Xs(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let A=o[u];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(d=u),A.route.id){let{loaderData:f,errors:m}=r,x=A.route.loader&&f[A.route.id]===void 0&&(!m||m[A.route.id]===void 0);if(A.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,A,f)=>{let m,x=!1,p=null,v=null;r&&(m=l&&A.route.id?l[A.route.id]:void 0,p=A.route.errorElement||Lie,c&&(d<0&&f===0?(zie("route-fallback"),x=!0,v=null):d===f&&(x=!0,v=A.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),b=()=>{let w;return m?w=p:x?w=v:A.route.Component?w=_.createElement(A.route.Component,null):A.route.element?w=A.route.element:w=u,_.createElement(Uie,{match:A,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(A.route.ErrorBoundary||A.route.errorElement||f===0)?_.createElement(Fie,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var H9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(H9||{}),z9=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(z9||{});function Die(e){let t=_.useContext(dP);return t||Xs(!1),t}function Mie(e){let t=_.useContext(Sie);return t||Xs(!1),t}function Qie(e){let t=_.useContext(iA);return t||Xs(!1),t}function V9(e){let t=Qie(),r=t.matches[t.matches.length-1];return r.route.id||Xs(!1),r.route.id}function $ie(){var e;let t=_.useContext(M9),r=Mie(),n=V9();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Hie(){let{router:e}=Die(H9.UseNavigateStable),t=V9(z9.UseNavigateStable),r=_.useRef(!1);return Q9(()=>{r.current=!0}),_.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,gy({fromRouteId:t},a)))},[e,t])}const VO={};function zie(e,t,r){VO[e]||(VO[e]=!0)}function Vie(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Gt(e){Xs(!1)}function Kie(e){let{basename:t="/",children:r=null,location:n,navigationType:i=yh.Pop,navigator:a,static:o=!1,future:l}=e;bv()&&Xs(!1);let c=t.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:a,static:o,future:gy({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Ug(n));let{pathname:u="/",search:A="",hash:f="",state:m=null,key:x="default"}=n,p=_.useMemo(()=>{let v=cP(u,c);return v==null?null:{location:{pathname:v,search:A,hash:f,state:m,key:x},navigationType:i}},[c,u,A,f,m,x,i]);return p==null?null:_.createElement(em.Provider,{value:d},_.createElement(gN.Provider,{children:r,value:p}))}function Wie(e){let{children:t,location:r}=e;return Iie(JS(t),r)}new Promise(()=>{});function JS(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,i)=>{if(!_.isValidElement(n))return;let a=[...t,i];if(n.type===_.Fragment){r.push.apply(r,JS(n.props.children,a));return}n.type!==Gt&&Xs(!1),!n.props.index||!n.props.children||Xs(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=JS(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e4(){return e4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e4.apply(this,arguments)}function Gie(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function qie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Yie(e,t){return e.button===0&&(!t||t==="_self")&&!qie(e)}function t4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Xie(e,t){let r=t4(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const Zie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jie="6";try{window.__reactRouterVersion=Jie}catch{}const eae="startTransition",KO=g3[eae];function tae(e){let{basename:t,children:r,future:n,window:i}=e,a=_.useRef();a.current==null&&(a.current=tie({window:i,v5Compat:!0}));let o=a.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=_.useCallback(A=>{d&&KO?KO(()=>c(A)):c(A)},[c,d]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.useEffect(()=>Vie(n),[n]),_.createElement(Kie,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const rae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=_.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:A}=t,f=Gie(t,Zie),{basename:m}=_.useContext(em),x,p=!1;if(typeof d=="string"&&nae.test(d)&&(x=d,rae))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=cP(j.pathname,m);j.origin===w.origin&&N!=null?d=N+j.search+j.hash:p=!0}catch{}let v=Eie(d,{relative:i}),y=sae(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:A});function b(w){n&&n(w),w.defaultPrevented||y(w)}return _.createElement("a",e4({},f,{href:x||v,onClick:p||a?n:b,ref:r,target:c}))});var WO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(WO||(WO={}));var GO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(GO||(GO={}));function sae(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ar(),d=Ja(),u=$9(e,{relative:o});return _.useCallback(A=>{if(Yie(A,r)){A.preventDefault();let f=n!==void 0?n:i2(d)===i2(u);c(e,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,n,i,r,e,a,o,l])}function K9(e){let t=_.useRef(t4(e)),r=_.useRef(!1),n=Ja(),i=_.useMemo(()=>Xie(n.search,r.current?null:t.current),[n.search]),a=Ar(),o=_.useCallback((l,c)=>{const d=t4(typeof l=="function"?l(i):l);r.current=!0,a("?"+d,c)},[a,i]);return[i,o]}const uP=_.createContext({});function wv(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const xN=_.createContext(null),hP=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class iae extends _.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aae({children:e,isPresent:t}){const r=_.useId(),n=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=_.useContext(hP);return _.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=i.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),s.jsx(iae,{isPresent:t,childRef:n,sizeRef:i,children:_.cloneElement(e,{ref:n})})}const oae=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=wv(lae),c=_.useId(),d=_.useCallback(A=>{l.set(A,!0);for(const f of l.values())if(!f)return;n&&n()},[l,n]),u=_.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:d,register:A=>(l.set(A,!1),()=>l.delete(A))}),a?[Math.random(),d]:[r,d]);return _.useMemo(()=>{l.forEach((A,f)=>l.set(f,!1))},[r]),_.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(aae,{isPresent:r,children:e})),s.jsx(xN.Provider,{value:u,children:e})};function lae(){return new Map}function W9(e=!0){const t=_.useContext(xN);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=_.useId();_.useEffect(()=>{e&&i(a)},[e]);const o=_.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,o]:[!0]}const Fb=e=>e.key||"";function qO(e){const t=[];return _.Children.forEach(e,r=>{_.isValidElement(r)&&t.push(r)}),t}const AP=typeof window<"u",yN=AP?_.useLayoutEffect:_.useEffect,gn=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=W9(o),d=_.useMemo(()=>qO(e),[e]),u=o&&!l?[]:d.map(Fb),A=_.useRef(!0),f=_.useRef(d),m=wv(()=>new Map),[x,p]=_.useState(d),[v,y]=_.useState(d);yN(()=>{A.current=!1,f.current=d;for(let j=0;j<v.length;j++){const N=Fb(v[j]);u.includes(N)?m.delete(N):m.get(N)!==!0&&m.set(N,!1)}},[v,u.length,u.join("-")]);const b=[];if(d!==x){let j=[...d];for(let N=0;N<v.length;N++){const B=v[N],I=Fb(B);u.includes(I)||(j.splice(N,0,B),b.push(B))}a==="wait"&&b.length&&(j=b),y(qO(j)),p(d);return}const{forceRender:w}=_.useContext(uP);return s.jsx(s.Fragment,{children:v.map(j=>{const N=Fb(j),B=o&&!l?!1:d===v||u.includes(N),I=()=>{if(m.has(N))m.set(N,!0);else return;let P=!0;m.forEach(T=>{T||(P=!1)}),P&&(w==null||w(),y(f.current),o&&(c==null||c()),n&&n())};return s.jsx(oae,{isPresent:B,initial:!A.current||r?void 0:!1,custom:B?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:B?void 0:I,children:j},N)})})},_a=e=>e;let cae=_a,G9=_a;function fP(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ef=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Xd=e=>e*1e3,Zd=e=>e/1e3,dae={useManualTiming:!1};function uae(e){let t=new Set,r=new Set,n=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,A=!1)=>{const m=A&&n?t:r;return u&&a.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,i&&(i=!1,c.process(d))}};return c}const Ub=["read","resolveKeyframes","update","preRender","render","postRender"],hae=40;function q9(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=Ub.reduce((y,b)=>(y[b]=uae(a),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:A,postRender:f}=o,m=()=>{const y=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(y-i.timestamp,hae),1),i.timestamp=y,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),A.process(i),f.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(m))},x=()=>{r=!0,n=!0,i.isProcessing||e(m)};return{schedule:Ub.reduce((y,b)=>{const w=o[b];return y[b]=(j,N=!1,B=!1)=>(r||x(),w.schedule(j,N,B)),y},{}),cancel:y=>{for(let b=0;b<Ub.length;b++)o[Ub[b]].cancel(y)},state:i,steps:o}}const{schedule:on,cancel:sd,state:yi,steps:W_}=q9(typeof requestAnimationFrame<"u"?requestAnimationFrame:_a,!0),Y9=_.createContext({strict:!1}),YO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yp={};for(const e in YO)Yp[e]={isEnabled:t=>YO[e].some(r=>!!t[r])};function Aae(e){for(const t in e)Yp[t]={...Yp[t],...e[t]}}const fae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function a2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fae.has(e)}let X9=e=>!a2(e);function mae(e){e&&(X9=t=>t.startsWith("on")?!a2(t):e(t))}try{mae(require("@emotion/is-prop-valid").default)}catch{}function pae(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(X9(i)||r===!0&&a2(i)||!t&&!a2(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function gae(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const vN=_.createContext({});function xy(e){return typeof e=="string"||Array.isArray(e)}function bN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const mP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pP=["initial",...mP];function wN(e){return bN(e.animate)||pP.some(t=>xy(e[t]))}function Z9(e){return!!(wN(e)||e.variants)}function xae(e,t){if(wN(e)){const{initial:r,animate:n}=e;return{initial:r===!1||xy(r)?r:void 0,animate:xy(n)?n:void 0}}return e.inherit!==!1?t:{}}function yae(e){const{initial:t,animate:r}=xae(e,_.useContext(vN));return _.useMemo(()=>({initial:t,animate:r}),[XO(t),XO(r)])}function XO(e){return Array.isArray(e)?e.join(" "):e}const vae=Symbol.for("motionComponentSymbol");function ap(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bae(e,t,r){return _.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ap(r)&&(r.current=n))},[t])}const gP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wae="framerAppearId",J9="data-"+gP(wae),{schedule:xP}=q9(queueMicrotask,!1),ez=_.createContext({});function jae(e,t,r,n,i){var a,o;const{visualElement:l}=_.useContext(vN),c=_.useContext(Y9),d=_.useContext(xN),u=_.useContext(hP).reducedMotion,A=_.useRef(null);n=n||c.renderer,!A.current&&n&&(A.current=n(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=A.current,m=_.useContext(ez);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Nae(A.current,r,i,m);const x=_.useRef(!1);_.useInsertionEffect(()=>{f&&x.current&&f.update(r,d)});const p=r[J9],v=_.useRef(!!p&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return yN(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),xP.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,p)}),v.current=!1))}),f}function Nae(e,t,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:tz(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&ap(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function tz(e){if(e)return e.options.allowProjection!==!1?e.projection:tz(e.parent)}function _ae({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var a,o;e&&Aae(e);function l(d,u){let A;const f={..._.useContext(hP),...d,layoutId:Cae(d)},{isStatic:m}=f,x=yae(d),p=n(d,m);if(!m&&AP){Bae();const v=Sae(f);A=v.MeasureLayout,x.visualElement=jae(i,p,f,t,v.ProjectionNode)}return s.jsxs(vN.Provider,{value:x,children:[A&&x.visualElement?s.jsx(A,{visualElement:x.visualElement,...f}):null,r(i,d,bae(p,x.visualElement,u),p,m,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=_.forwardRef(l);return c[vae]=i,c}function Cae({layoutId:e}){const t=_.useContext(uP).id;return t&&e!==void 0?t+"-"+e:e}function Bae(e,t){_.useContext(Y9).strict}function Sae(e){const{drag:t,layout:r}=Yp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Eae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yP(e){return typeof e!="string"||e.includes("-")?!1:!!(Eae.indexOf(e)>-1||/[A-Z]/u.test(e))}function ZO(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function vP(e,t,r,n){if(typeof t=="function"){const[i,a]=ZO(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=ZO(n);t=t(r!==void 0?r:e.custom,i,a)}return t}const r4=e=>Array.isArray(e),kae=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Pae=e=>r4(e)?e[e.length-1]||0:e,oa=e=>!!(e&&e.getVelocity);function n1(e){const t=oa(e)?e.get():e;return kae(t)?t.toValue():t}function Iae({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,a){const o={latestValues:Tae(n,i,a,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const rz=e=>(t,r)=>{const n=_.useContext(vN),i=_.useContext(xN),a=()=>Iae(e,t,n,i);return r?a():wv(a)};function Tae(e,t,r,n){const i={},a=n(e,{});for(const f in a)i[f]=n1(a[f]);let{initial:o,animate:l}=e;const c=wN(e),d=Z9(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const A=u?l:o;if(A&&typeof A!="boolean"&&!bN(A)){const f=Array.isArray(A)?A:[A];for(let m=0;m<f.length;m++){const x=vP(e,f[m]);if(x){const{transitionEnd:p,transition:v,...y}=x;for(const b in y){let w=y[b];if(Array.isArray(w)){const j=u?w.length-1:0;w=w[j]}w!==null&&(i[b]=w)}for(const b in p)i[b]=p[b]}}}return i}const Rg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tm=new Set(Rg),nz=e=>t=>typeof t=="string"&&t.startsWith(e),sz=nz("--"),Oae=nz("var(--"),bP=e=>Oae(e)?Lae.test(e.split("/*")[0].trim()):!1,Lae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iz=(e,t)=>t&&typeof e=="number"?t.transform(e):e,id=(e,t,r)=>r>t?t:r<e?e:r,Dg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yy={...Dg,transform:e=>id(0,1,e)},Rb={...Dg,default:1},jv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),th=jv("deg"),qc=jv("%"),sr=jv("px"),Fae=jv("vh"),Uae=jv("vw"),JO={...qc,parse:e=>qc.parse(e)/100,transform:e=>qc.transform(e*100)},Rae={borderWidth:sr,borderTopWidth:sr,borderRightWidth:sr,borderBottomWidth:sr,borderLeftWidth:sr,borderRadius:sr,radius:sr,borderTopLeftRadius:sr,borderTopRightRadius:sr,borderBottomRightRadius:sr,borderBottomLeftRadius:sr,width:sr,maxWidth:sr,height:sr,maxHeight:sr,top:sr,right:sr,bottom:sr,left:sr,padding:sr,paddingTop:sr,paddingRight:sr,paddingBottom:sr,paddingLeft:sr,margin:sr,marginTop:sr,marginRight:sr,marginBottom:sr,marginLeft:sr,backgroundPositionX:sr,backgroundPositionY:sr},Dae={rotate:th,rotateX:th,rotateY:th,rotateZ:th,scale:Rb,scaleX:Rb,scaleY:Rb,scaleZ:Rb,skew:th,skewX:th,skewY:th,distance:sr,translateX:sr,translateY:sr,translateZ:sr,x:sr,y:sr,z:sr,perspective:sr,transformPerspective:sr,opacity:yy,originX:JO,originY:JO,originZ:sr},eL={...Dg,transform:Math.round},wP={...Rae,...Dae,zIndex:eL,size:sr,fillOpacity:yy,strokeOpacity:yy,numOctaves:eL},Mae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qae=Rg.length;function $ae(e,t,r){let n="",i=!0;for(let a=0;a<Qae;a++){const o=Rg[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=iz(l,wP[o]);if(!c){i=!1;const u=Mae[o]||o;n+=`${u}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function jP(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(tm.has(c)){o=!0;continue}else if(sz(c)){i[c]=d;continue}else{const u=iz(d,wP[c]);c.startsWith("origin")?(l=!0,a[c]=u):n[c]=u}}if(t.transform||(o||r?n.transform=$ae(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}const Hae={offset:"stroke-dashoffset",array:"stroke-dasharray"},zae={offset:"strokeDashoffset",array:"strokeDasharray"};function Vae(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?Hae:zae;e[a.offset]=sr.transform(-n);const o=sr.transform(t),l=sr.transform(r);e[a.array]=`${o} ${l}`}function tL(e,t,r){return typeof e=="string"?e:sr.transform(t+r*e)}function Kae(e,t,r){const n=tL(t,e.x,e.width),i=tL(r,e.y,e.height);return`${n} ${i}`}function NP(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,A){if(jP(e,d,A),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:x}=e;f.transform&&(x&&(m.transform=f.transform),delete f.transform),x&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=Kae(x,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&Vae(f,o,l,c,!1)}const _P=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),az=()=>({..._P(),attrs:{}}),CP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function oz(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const lz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cz(e,t,r,n){oz(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(lz.has(i)?i:gP(i),t.attrs[i])}const o2={};function Wae(e){Object.assign(o2,e)}function dz(e,{layout:t,layoutId:r}){return tm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!o2[e]||e==="opacity")}function BP(e,t,r){var n;const{style:i}=e,a={};for(const o in i)(oa(i[o])||t.style&&oa(t.style[o])||dz(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function uz(e,t,r){const n=BP(e,t,r);for(const i in e)if(oa(e[i])||oa(t[i])){const a=Rg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}function Gae(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const rL=["x","y","width","height","cx","cy","r"],qae={useVisualState:rz({scrapeMotionValuesFromProps:uz,createRenderState:az,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let a=!!e.drag;if(!a){for(const l in i)if(tm.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<rL.length;l++){const c=rL[l];e[c]!==t[c]&&(o=!0)}o&&on.read(()=>{Gae(r,n),on.render(()=>{NP(n,i,CP(r.tagName),e.transformTemplate),cz(r,n)})})}})},Yae={useVisualState:rz({scrapeMotionValuesFromProps:BP,createRenderState:_P})};function hz(e,t,r){for(const n in t)!oa(t[n])&&!dz(n,r)&&(e[n]=t[n])}function Xae({transformTemplate:e},t){return _.useMemo(()=>{const r=_P();return jP(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Zae(e,t){const r=e.style||{},n={};return hz(n,r,e),Object.assign(n,Xae(e,t)),n}function Jae(e,t){const r={},n=Zae(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function eoe(e,t,r,n){const i=_.useMemo(()=>{const a=az();return NP(a,t,CP(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};hz(a,e.style,e),i.style={...a,...i.style}}return i}function toe(e=!1){return(r,n,i,{latestValues:a},o)=>{const c=(yP(r)?eoe:Jae)(n,a,o,r),d=pae(n,typeof r=="string",e),u=r!==_.Fragment?{...d,...c,ref:i}:{},{children:A}=n,f=_.useMemo(()=>oa(A)?A.get():A,[A]);return _.createElement(r,{...u,children:f})}}function roe(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...yP(n)?qae:Yae,preloadedFeatures:e,useRender:toe(i),createVisualElement:t,Component:n};return _ae(o)}}function Az(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function jN(e,t,r){const n=e.getProps();return vP(n,t,r!==void 0?r:n.custom,e)}const fz=fP(()=>window.ScrollTimeline!==void 0);class noe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>{if(fz()&&i.attachTimeline)return i.attachTimeline(t);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class soe extends noe{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function SP(e,t){return e?e[t]||e.default||e:void 0}const n4=2e4;function mz(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<n4;)t+=r,n=e.next(t);return t>=n4?1/0:t}function EP(e){return typeof e=="function"}function nL(e,t){e.timeline=t,e.onfinish=null}const kP=e=>Array.isArray(e)&&typeof e[0]=="number",ioe={linearEasing:void 0};function aoe(e,t){const r=fP(e);return()=>{var n;return(n=ioe[t])!==null&&n!==void 0?n:r()}}const l2=aoe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pz=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=e(Ef(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function gz(e){return!!(typeof e=="function"&&l2()||!e||typeof e=="string"&&(e in s4||l2())||kP(e)||Array.isArray(e)&&e.every(gz))}const ax=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,s4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ax([0,.65,.55,1]),circOut:ax([.55,0,1,.45]),backIn:ax([.31,.01,.66,-.59]),backOut:ax([.33,1.53,.69,.99])};function xz(e,t){if(e)return typeof e=="function"&&l2()?pz(e,t):kP(e)?ax(e):Array.isArray(e)?e.map(r=>xz(r,t)||s4.easeOut):s4[e]}const Wl={x:!1,y:!1};function yz(){return Wl.x||Wl.y}function PP(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function vz(e,t){const r=PP(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function sL(e){return t=>{t.pointerType==="touch"||yz()||e(t)}}function ooe(e,t,r={}){const[n,i,a]=vz(e,r),o=sL(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=sL(A=>{d(A),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const bz=(e,t)=>t?e===t?!0:bz(e,t.parentElement):!1,IP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,loe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function coe(e){return loe.has(e.tagName)||e.tabIndex!==-1}const ox=new WeakSet;function iL(e){return t=>{t.key==="Enter"&&e(t)}}function G_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const doe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=iL(()=>{if(ox.has(r))return;G_(r,"down");const i=iL(()=>{G_(r,"up")}),a=()=>G_(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function aL(e){return IP(e)&&!yz()}function uoe(e,t,r={}){const[n,i,a]=vz(e,r),o=l=>{const c=l.currentTarget;if(!aL(l)||ox.has(c))return;ox.add(c);const d=t(l),u=(m,x)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",f),!(!aL(m)||!ox.has(c))&&(ox.delete(c),typeof d=="function"&&d(m,{success:x}))},A=m=>{u(m,r.useGlobalTarget||bz(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",A,i),window.addEventListener("pointercancel",f,i)};return n.forEach(l=>{!coe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",d=>doe(d,i),i)}),a}function hoe(e){return e==="x"||e==="y"?Wl[e]?null:(Wl[e]=!0,()=>{Wl[e]=!1}):Wl.x||Wl.y?null:(Wl.x=Wl.y=!0,()=>{Wl.x=Wl.y=!1})}const wz=new Set(["width","height","top","left","right","bottom",...Rg]);let s1;function Aoe(){s1=void 0}const Yc={now:()=>(s1===void 0&&Yc.set(yi.isProcessing||dae.useManualTiming?yi.timestamp:performance.now()),s1),set:e=>{s1=e,queueMicrotask(Aoe)}};function TP(e,t){e.indexOf(t)===-1&&e.push(t)}function OP(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class LP{constructor(){this.subscriptions=[]}add(t){return TP(this.subscriptions,t),()=>OP(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function FP(e,t){return t?e*(1e3/t):0}const oL=30,foe=e=>!isNaN(parseFloat(e));class moe{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=Yc.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Yc.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=foe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new LP);const n=this.events[t].add(r);return t==="change"?()=>{n(),on.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Yc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oL)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,oL);return FP(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qd(e,t){return new moe(e,t)}function poe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Qd(r))}function UP(e,t){const r=jN(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const l=Pae(a[o]);poe(e,o,l)}}function goe(e){return!!(oa(e)&&e.add)}function i4(e,t){const r=e.getValue("willChange");if(goe(r))return r.add(t)}function jz(e){return e.props[J9]}const Nz=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,xoe=1e-7,yoe=12;function voe(e,t,r,n,i){let a,o,l=0;do o=t+(r-t)/2,a=Nz(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>xoe&&++l<yoe);return o}function Nv(e,t,r,n){if(e===t&&r===n)return _a;const i=a=>voe(a,0,1,e,r);return a=>a===0||a===1?a:Nz(i(a),t,n)}const _z=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Cz=e=>t=>1-e(1-t),Bz=Nv(.33,1.53,.69,.99),RP=Cz(Bz),Sz=_z(RP),Ez=e=>(e*=2)<1?.5*RP(e):.5*(2-Math.pow(2,-10*(e-1))),DP=e=>1-Math.sin(Math.acos(e)),kz=Cz(DP),Pz=_z(DP),Iz=e=>/^0[^.\s]+$/u.test(e);function boe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Iz(e):!0}const Px=e=>Math.round(e*1e5)/1e5,MP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function woe(e){return e==null}const joe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,QP=(e,t)=>r=>!!(typeof r=="string"&&joe.test(r)&&r.startsWith(e)||t&&!woe(r)&&Object.prototype.hasOwnProperty.call(r,t)),Tz=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(MP);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Noe=e=>id(0,255,e),q_={...Dg,transform:e=>Math.round(Noe(e))},qA={test:QP("rgb","red"),parse:Tz("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+q_.transform(e)+", "+q_.transform(t)+", "+q_.transform(r)+", "+Px(yy.transform(n))+")"};function _oe(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const a4={test:QP("#"),parse:_oe,transform:qA.transform},op={test:QP("hsl","hue"),parse:Tz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+qc.transform(Px(t))+", "+qc.transform(Px(r))+", "+Px(yy.transform(n))+")"},ea={test:e=>qA.test(e)||a4.test(e)||op.test(e),parse:e=>qA.test(e)?qA.parse(e):op.test(e)?op.parse(e):a4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qA.transform(e):op.transform(e)},Coe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Boe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(MP))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Coe))===null||r===void 0?void 0:r.length)||0)>0}const Oz="number",Lz="color",Soe="var",Eoe="var(",lL="${}",koe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vy(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(koe,c=>(ea.test(c)?(n.color.push(a),i.push(Lz),r.push(ea.parse(c))):c.startsWith(Eoe)?(n.var.push(a),i.push(Soe),r.push(c)):(n.number.push(a),i.push(Oz),r.push(parseFloat(c))),++a,lL)).split(lL);return{values:r,split:l,indexes:n,types:i}}function Fz(e){return vy(e).values}function Uz(e){const{split:t,types:r}=vy(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=r[o];l===Oz?a+=Px(i[o]):l===Lz?a+=ea.transform(i[o]):a+=i[o]}return a}}const Poe=e=>typeof e=="number"?0:e;function Ioe(e){const t=Fz(e);return Uz(e)(t.map(Poe))}const zh={test:Boe,parse:Fz,createTransformer:Uz,getAnimatableNone:Ioe},Toe=new Set(["brightness","contrast","saturate","opacity"]);function Ooe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(MP)||[];if(!n)return e;const i=r.replace(n,"");let a=Toe.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const Loe=/\b([a-z-]*)\(.*?\)/gu,o4={...zh,getAnimatableNone:e=>{const t=e.match(Loe);return t?t.map(Ooe).join(" "):e}},Foe={...wP,color:ea,backgroundColor:ea,outlineColor:ea,fill:ea,stroke:ea,borderColor:ea,borderTopColor:ea,borderRightColor:ea,borderBottomColor:ea,borderLeftColor:ea,filter:o4,WebkitFilter:o4},$P=e=>Foe[e];function Rz(e,t){let r=$P(e);return r!==o4&&(r=zh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Uoe=new Set(["auto","none","0"]);function Roe(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!Uoe.has(a)&&vy(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=Rz(r,i)}const cL=e=>e===Dg||e===sr,dL=(e,t)=>parseFloat(e.split(", ")[t]),uL=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return dL(i[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?dL(a[1],e):0}},Doe=new Set(["x","y","z"]),Moe=Rg.filter(e=>!Doe.has(e));function Qoe(e){const t=[];return Moe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Xp={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:uL(4,13),y:uL(5,14)};Xp.translateX=Xp.x;Xp.translateY=Xp.y;const uf=new Set;let l4=!1,c4=!1;function Dz(){if(c4){const e=Array.from(uf).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=Qoe(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}c4=!1,l4=!1,uf.forEach(e=>e.complete()),uf.clear()}function Mz(){uf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(c4=!0)})}function $oe(){Mz(),Dz()}class HP{constructor(t,r,n,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(uf.add(this),l4||(l4=!0,on.read(Mz),on.resolveKeyframes(Dz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),uf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,uf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Qz=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Hoe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zoe(e){const t=Hoe.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function $z(e,t,r=1){const[n,i]=zoe(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return Qz(o)?parseFloat(o):o}return bP(i)?$z(i,t,r+1):i}const Hz=e=>t=>t.test(e),Voe={test:e=>e==="auto",parse:e=>e},zz=[Dg,sr,qc,th,Uae,Fae,Voe],hL=e=>zz.find(Hz(e));class Vz extends HP{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),bP(d))){const u=$z(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!wz.has(n)||t.length!==2)return;const[i,a]=t,o=hL(i),l=hL(a);if(o!==l)if(cL(o)&&cL(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)boe(t[i])&&n.push(i);n.length&&Roe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xp[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Xp[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const AL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zh.test(e)||e==="0")&&!e.startsWith("url("));function Koe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Woe(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=AL(i,t),l=AL(a,t);return!o||!l?!1:Koe(e)||(r==="spring"||EP(r))&&n}const Goe=e=>e!==null;function NN(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(Goe),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const qoe=40;class Kz{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yc.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qoe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$oe(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Yc.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!Woe(t,n,i,a))if(o)this.options.duration=0;else{c&&c(NN(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const hs=(e,t,r)=>e+(t-e)*r;function Y_(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Yoe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,o=0;if(!t)i=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Y_(c,l,e+1/3),a=Y_(c,l,e),o=Y_(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function c2(e,t){return r=>r>0?t:e}const X_=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},Xoe=[a4,qA,op],Zoe=e=>Xoe.find(t=>t.test(e));function fL(e){const t=Zoe(e);if(!t)return!1;let r=t.parse(e);return t===op&&(r=Yoe(r)),r}const mL=(e,t)=>{const r=fL(e),n=fL(t);if(!r||!n)return c2(e,t);const i={...r};return a=>(i.red=X_(r.red,n.red,a),i.green=X_(r.green,n.green,a),i.blue=X_(r.blue,n.blue,a),i.alpha=hs(r.alpha,n.alpha,a),qA.transform(i))},Joe=(e,t)=>r=>t(e(r)),_v=(...e)=>e.reduce(Joe),d4=new Set(["none","hidden"]);function ele(e,t){return d4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function tle(e,t){return r=>hs(e,t,r)}function zP(e){return typeof e=="number"?tle:typeof e=="string"?bP(e)?c2:ea.test(e)?mL:sle:Array.isArray(e)?Wz:typeof e=="object"?ea.test(e)?mL:rle:c2}function Wz(e,t){const r=[...e],n=r.length,i=e.map((a,o)=>zP(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function rle(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=zP(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function nle(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][i[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[a]=c,i[o]++}return n}const sle=(e,t)=>{const r=zh.createTransformer(t),n=vy(e),i=vy(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?d4.has(e)&&!i.values.length||d4.has(t)&&!n.values.length?ele(e,t):_v(Wz(nle(n,i),i.values),r):c2(e,t)};function Gz(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?hs(e,t,r):zP(e)(e,t)}const ile=5;function qz(e,t,r){const n=Math.max(t-ile,0);return FP(r-e(n),t-n)}const _s={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Z_=.001;function ale({duration:e=_s.duration,bounce:t=_s.bounce,velocity:r=_s.velocity,mass:n=_s.mass}){let i,a,o=1-t;o=id(_s.minDamping,_s.maxDamping,o),e=id(_s.minDuration,_s.maxDuration,Zd(e)),o<1?(i=d=>{const u=d*o,A=u*e,f=u-r,m=u4(d,o),x=Math.exp(-A);return Z_-f/m*x},a=d=>{const A=d*o*e,f=A*r+r,m=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-A),p=u4(Math.pow(d,2),o);return(-i(d)+Z_>0?-1:1)*((f-m)*x)/p}):(i=d=>{const u=Math.exp(-d*e),A=(d-r)*e+1;return-Z_+u*A},a=d=>{const u=Math.exp(-d*e),A=(r-d)*(e*e);return u*A});const l=5/e,c=lle(i,a,l);if(e=Xd(e),isNaN(c))return{stiffness:_s.stiffness,damping:_s.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const ole=12;function lle(e,t,r){let n=r;for(let i=1;i<ole;i++)n=n-e(n)/t(n);return n}function u4(e,t){return e*Math.sqrt(1-t*t)}const cle=["duration","bounce"],dle=["stiffness","damping","mass"];function pL(e,t){return t.some(r=>e[r]!==void 0)}function ule(e){let t={velocity:_s.velocity,stiffness:_s.stiffness,damping:_s.damping,mass:_s.mass,isResolvedFromDuration:!1,...e};if(!pL(e,dle)&&pL(e,cle))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*id(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:_s.mass,stiffness:i,damping:a}}else{const r=ale(e);t={...t,...r,mass:_s.mass},t.isResolvedFromDuration=!0}return t}function Yz(e=_s.visualDuration,t=_s.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:A,velocity:f,isResolvedFromDuration:m}=ule({...r,velocity:-Zd(r.velocity||0)}),x=f||0,p=d/(2*Math.sqrt(c*u)),v=o-a,y=Zd(Math.sqrt(c/u)),b=Math.abs(v)<5;n||(n=b?_s.restSpeed.granular:_s.restSpeed.default),i||(i=b?_s.restDelta.granular:_s.restDelta.default);let w;if(p<1){const N=u4(y,p);w=B=>{const I=Math.exp(-p*y*B);return o-I*((x+p*y*v)/N*Math.sin(N*B)+v*Math.cos(N*B))}}else if(p===1)w=N=>o-Math.exp(-y*N)*(v+(x+y*v)*N);else{const N=y*Math.sqrt(p*p-1);w=B=>{const I=Math.exp(-p*y*B),P=Math.min(N*B,300);return o-I*((x+p*y*v)*Math.sinh(P)+N*v*Math.cosh(P))/N}}const j={calculatedDuration:m&&A||null,next:N=>{const B=w(N);if(m)l.done=N>=A;else{let I=0;p<1&&(I=N===0?Xd(x):qz(w,N,B));const P=Math.abs(I)<=n,T=Math.abs(o-B)<=i;l.done=P&&T}return l.value=l.done?o:B,l},toString:()=>{const N=Math.min(mz(j),n4),B=pz(I=>j.next(N*I).value,N,30);return N+"ms "+B}};return j}function gL({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const A=e[0],f={done:!1,value:A},m=P=>l!==void 0&&P<l||c!==void 0&&P>c,x=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let p=r*t;const v=A+p,y=o===void 0?v:o(v);y!==v&&(p=y-A);const b=P=>-p*Math.exp(-P/n),w=P=>y+b(P),j=P=>{const T=b(P),F=w(P);f.done=Math.abs(T)<=d,f.value=f.done?y:F};let N,B;const I=P=>{m(f.value)&&(N=P,B=Yz({keyframes:[f.value,x(f.value)],velocity:qz(w,P,f.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return I(0),{calculatedDuration:null,next:P=>{let T=!1;return!B&&N===void 0&&(T=!0,j(P),I(P)),N!==void 0&&P>=N?B.next(P-N):(!T&&j(P),f)}}}const hle=Nv(.42,0,1,1),Ale=Nv(0,0,.58,1),Xz=Nv(.42,0,.58,1),fle=e=>Array.isArray(e)&&typeof e[0]!="number",mle={linear:_a,easeIn:hle,easeInOut:Xz,easeOut:Ale,circIn:DP,circInOut:Pz,circOut:kz,backIn:RP,backInOut:Sz,backOut:Bz,anticipate:Ez},xL=e=>{if(kP(e)){G9(e.length===4);const[t,r,n,i]=e;return Nv(t,r,n,i)}else if(typeof e=="string")return mle[e];return e};function ple(e,t,r){const n=[],i=r||Gz,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||_a:t;l=_v(c,l)}n.push(l)}return n}function Zz(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(G9(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=ple(t,n,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let A=0;if(c>1)for(;A<e.length-2&&!(u<e[A+1]);A++);const f=Ef(e[A],e[A+1],u);return l[A](f)};return r?u=>d(id(e[0],e[a-1],u)):d}function gle(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Ef(0,t,n);e.push(hs(r,1,i))}}function Jz(e){const t=[0];return gle(t,e.length-1),t}function xle(e,t){return e.map(r=>r*t)}function yle(e,t){return e.map(()=>t||Xz).splice(0,e.length-1)}function d2({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=fle(n)?n.map(xL):xL(n),a={done:!1,value:t[0]},o=xle(r&&r.length===t.length?r:Jz(t),e),l=Zz(o,t,{ease:Array.isArray(i)?i:yle(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const vle=e=>{const t=({timestamp:r})=>e(r);return{start:()=>on.update(t,!0),stop:()=>sd(t),now:()=>yi.isProcessing?yi.timestamp:Yc.now()}},ble={decay:gL,inertia:gL,tween:d2,keyframes:d2,spring:Yz},wle=e=>e/100;class VP extends Kz{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||HP,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=EP(r)?r:ble[r]||d2;let c,d;l!==d2&&typeof t[0]!="number"&&(c=_v(wle,Gz(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});a==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=mz(u));const{calculatedDuration:A}=u,f=A+i,m=f*(n+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:A,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:A}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:x,repeatDelay:p,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,j=a;if(m){const P=Math.min(this.currentTime,u)/A;let T=Math.floor(P),F=P%1;!F&&P>=1&&(F=1),F===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(x==="reverse"?(F=1-F,p&&(F-=p/A)):x==="mirror"&&(j=o)),w=id(0,1,F)*A}const N=b?{done:!1,value:c[0]}:j.next(w);l&&(N.value=l(N.value));let{done:B}=N;!b&&d!==null&&(B=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return I&&i!==void 0&&(N.value=NN(c,this.options,i)),v&&v(N.value),I&&this.finish(),N}get duration(){const{resolved:t}=this;return t?Zd(t.calculatedDuration):0}get time(){return Zd(this.currentTime)}set time(t){t=Xd(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Zd(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=vle,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const jle=new Set(["opacity","clipPath","filter","transform"]);function Nle(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=xz(l,i);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const _le=fP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),u2=10,Cle=2e4;function Ble(e){return EP(e.type)||e.type==="spring"||!gz(e.ease)}function Sle(e,t){const r=new VP({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let a=0;for(;!n.done&&a<Cle;)n=r.sample(a),i.push(n.value),a+=u2;return{times:void 0,keyframes:i,duration:a-u2,ease:"linear"}}const eV={anticipate:Ez,backInOut:Sz,circInOut:Pz};function Ele(e){return e in eV}class yL extends Kz{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new Vz(a,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&l2()&&Ele(a)&&(a=eV[a]),Ble(this.options)){const{onComplete:A,onUpdate:f,motionValue:m,element:x,...p}=this.options,v=Sle(t,p);t=v.keyframes,t.length===1&&(t[1]=t[0]),n=v.duration,i=v.times,a=v.ease,o="keyframes"}const u=Nle(l.owner.current,c,t,{...this.options,duration:n,times:i,ease:a});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(nL(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:A}=this.options;l.set(NN(t,this.options,r)),A&&A(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:i,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Zd(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Zd(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Xd(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return _a;const{animation:n}=r;nL(n,t)}return _a}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:a,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:A,element:f,...m}=this.options,x=new VP({...m,keyframes:n,duration:i,type:a,ease:o,times:l,isGenerator:!0}),p=Xd(this.time);d.setWithVelocity(x.sample(p-u2).value,x.sample(p).value,u2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:a,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=r.owner.getProps();return _le()&&n&&jle.has(n)&&!c&&!d&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const kle={type:"spring",stiffness:500,damping:25,restSpeed:10},Ple=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ile={type:"keyframes",duration:.8},Tle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ole=(e,{keyframes:t})=>t.length>2?Ile:tm.has(e)?e.startsWith("scale")?Ple(t[1]):kle:Tle;function Lle({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const KP=(e,t,r,n={},i,a)=>o=>{const l=SP(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Xd(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};Lle(l)||(u={...u,...Ole(e,u)}),u.duration&&(u.duration=Xd(u.duration)),u.repeatDelay&&(u.repeatDelay=Xd(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let A=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(A=!0)),A&&!a&&t.get()!==void 0){const f=NN(u.keyframes,l);if(f!==void 0)return on.update(()=>{u.onUpdate(f),u.onComplete()}),new soe([])}return!a&&yL.supports(u)?new yL(u):new VP(u)};function Fle({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function tV(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const A in c){const f=e.getValue(A,(a=e.latestValues[A])!==null&&a!==void 0?a:null),m=c[A];if(m===void 0||u&&Fle(u,A))continue;const x={delay:r,...SP(o||{},A)};let p=!1;if(window.MotionHandoffAnimation){const y=jz(e);if(y){const b=window.MotionHandoffAnimation(y,A,on);b!==null&&(x.startTime=b,p=!0)}}i4(e,A),f.start(KP(A,f,m,e.shouldReduceMotion&&wz.has(A)?{type:!1}:x,e,p));const v=f.animation;v&&d.push(v)}return l&&Promise.all(d).then(()=>{on.update(()=>{l&&UP(e,l)})}),d}function h4(e,t,r={}){var n;const i=jN(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const o=i?()=>Promise.all(tV(e,i,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:A,staggerDirection:f}=a;return Ule(e,t,u+d,A,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function Ule(e,t,r=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(Rle).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(h4(d,t,{...a,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function Rle(e,t){return e.sortNodePosition(t)}function rV(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>h4(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=h4(e,t,r);else{const i=typeof t=="function"?jN(e,t,r.custom):t;n=Promise.all(tV(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Dle=pP.length;function nV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?nV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Dle;r++){const n=pP[r],i=e.props[n];(xy(i)||i===!1)&&(t[n]=i)}return t}const Mle=[...mP].reverse(),Qle=mP.length;function $le(e){return t=>Promise.all(t.map(({animation:r,options:n})=>rV(e,r,n)))}function Hle(e){let t=$le(e),r=vL(),n=!0;const i=c=>(d,u)=>{var A;const f=jN(e,u,c==="exit"?(A=e.presenceContext)===null||A===void 0?void 0:A.custom:void 0);if(f){const{transition:m,transitionEnd:x,...p}=f;d={...d,...p,...x}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=nV(e.parent)||{},A=[],f=new Set;let m={},x=1/0;for(let v=0;v<Qle;v++){const y=Mle[v],b=r[y],w=d[y]!==void 0?d[y]:u[y],j=xy(w),N=y===c?b.isActive:null;N===!1&&(x=v);let B=w===u[y]&&w!==d[y]&&j;if(B&&n&&e.manuallyAnimateOnMount&&(B=!1),b.protectedKeys={...m},!b.isActive&&N===null||!w&&!b.prevProp||bN(w)||typeof w=="boolean")continue;const I=zle(b.prevProp,w);let P=I||y===c&&b.isActive&&!B&&j||v>x&&j,T=!1;const F=Array.isArray(w)?w:[w];let E=F.reduce(i(y),{});N===!1&&(E={});const{prevResolvedValues:k={}}=b,M={...k,...E},U=Q=>{P=!0,f.has(Q)&&(T=!0,f.delete(Q)),b.needsAnimating[Q]=!0;const z=e.getValue(Q);z&&(z.liveStyle=!1)};for(const Q in M){const z=E[Q],te=k[Q];if(m.hasOwnProperty(Q))continue;let re=!1;r4(z)&&r4(te)?re=!Az(z,te):re=z!==te,re?z!=null?U(Q):f.add(Q):z!==void 0&&f.has(Q)?U(Q):b.protectedKeys[Q]=!0}b.prevProp=w,b.prevResolvedValues=E,b.isActive&&(m={...m,...E}),n&&e.blockInitialAnimation&&(P=!1),P&&(!(B&&I)||T)&&A.push(...F.map(Q=>({animation:Q,options:{type:y}})))}if(f.size){const v={};f.forEach(y=>{const b=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=b??null}),A.push({animation:v})}let p=!!A.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(A):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,d)}),r[c].isActive=d;const A=o(c);for(const f in r)r[f].protectedKeys={};return A}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=vL(),n=!0}}}function zle(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Az(t,e):!1}function EA(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vL(){return{animate:EA(!0),whileInView:EA(),whileHover:EA(),whileTap:EA(),whileDrag:EA(),whileFocus:EA(),exit:EA()}}class aA{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Vle extends aA{constructor(t){super(t),t.animationState||(t.animationState=Hle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Kle=0;class Wle extends aA{constructor(){super(...arguments),this.id=Kle++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Gle={animation:{Feature:Vle},exit:{Feature:Wle}};function by(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Cv(e){return{point:{x:e.pageX,y:e.pageY}}}const qle=e=>t=>IP(t)&&e(t,Cv(t));function Ix(e,t,r,n){return by(e,t,qle(r),n)}const bL=(e,t)=>Math.abs(e-t);function Yle(e,t){const r=bL(e.x,t.x),n=bL(e.y,t.y);return Math.sqrt(r**2+n**2)}class sV{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=eC(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Yle(A.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=A,{timestamp:p}=yi;this.history.push({...x,timestamp:p});const{onStart:v,onMove:y}=this.handlers;f||(v&&v(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,A)},this.handlePointerMove=(A,f)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=J_(f,this.transformPagePoint),on.update(this.updatePoint,!0)},this.handlePointerUp=(A,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=eC(A.type==="pointercancel"?this.lastMoveEventInfo:J_(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(A,v),x&&x(A,v)},!IP(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=Cv(t),l=J_(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=yi;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,eC(l,this.history)),this.removeListeners=_v(Ix(this.contextWindow,"pointermove",this.handlePointerMove),Ix(this.contextWindow,"pointerup",this.handlePointerUp),Ix(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),sd(this.updatePoint)}}function J_(e,t){return t?{point:t(e.point)}:e}function wL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function eC({point:e},t){return{point:e,delta:wL(e,iV(t)),offset:wL(e,Xle(t)),velocity:Zle(t,.1)}}function Xle(e){return e[0]}function iV(e){return e[e.length-1]}function Zle(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=iV(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Xd(t)));)r--;if(!n)return{x:0,y:0};const a=Zd(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const aV=1e-4,Jle=1-aV,ece=1+aV,oV=.01,tce=0-oV,rce=0+oV;function To(e){return e.max-e.min}function nce(e,t,r){return Math.abs(e-t)<=r}function jL(e,t,r,n=.5){e.origin=n,e.originPoint=hs(t.min,t.max,e.origin),e.scale=To(r)/To(t),e.translate=hs(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Jle&&e.scale<=ece||isNaN(e.scale))&&(e.scale=1),(e.translate>=tce&&e.translate<=rce||isNaN(e.translate))&&(e.translate=0)}function Tx(e,t,r,n){jL(e.x,t.x,r.x,n?n.originX:void 0),jL(e.y,t.y,r.y,n?n.originY:void 0)}function NL(e,t,r){e.min=r.min+t.min,e.max=e.min+To(t)}function sce(e,t,r){NL(e.x,t.x,r.x),NL(e.y,t.y,r.y)}function _L(e,t,r){e.min=t.min-r.min,e.max=e.min+To(t)}function Ox(e,t,r){_L(e.x,t.x,r.x),_L(e.y,t.y,r.y)}function ice(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?hs(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?hs(r,e,n.max):Math.min(e,r)),e}function CL(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function ace(e,{top:t,left:r,bottom:n,right:i}){return{x:CL(e.x,r,i),y:CL(e.y,t,n)}}function BL(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function oce(e,t){return{x:BL(e.x,t.x),y:BL(e.y,t.y)}}function lce(e,t){let r=.5;const n=To(e),i=To(t);return i>n?r=Ef(t.min,t.max-n,e.min):n>i&&(r=Ef(e.min,e.max-i,t.min)),id(0,1,r)}function cce(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const A4=.35;function dce(e=A4){return e===!1?e=0:e===!0&&(e=A4),{x:SL(e,"left","right"),y:SL(e,"top","bottom")}}function SL(e,t,r){return{min:EL(e,t),max:EL(e,r)}}function EL(e,t){return typeof e=="number"?e:e[t]||0}const kL=()=>({translate:0,scale:1,origin:0,originPoint:0}),lp=()=>({x:kL(),y:kL()}),PL=()=>({min:0,max:0}),Fs=()=>({x:PL(),y:PL()});function el(e){return[e("x"),e("y")]}function lV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function uce({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hce(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function tC(e){return e===void 0||e===1}function f4({scale:e,scaleX:t,scaleY:r}){return!tC(e)||!tC(t)||!tC(r)}function FA(e){return f4(e)||cV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cV(e){return IL(e.x)||IL(e.y)}function IL(e){return e&&e!=="0%"}function h2(e,t,r){const n=e-r,i=t*n;return r+i}function TL(e,t,r,n,i){return i!==void 0&&(e=h2(e,i,n)),h2(e,r,n)+t}function m4(e,t=0,r=1,n,i){e.min=TL(e.min,t,r,n,i),e.max=TL(e.max,t,r,n,i)}function dV(e,{x:t,y:r}){m4(e.x,t.translate,t.scale,t.originPoint),m4(e.y,r.translate,r.scale,r.originPoint)}const OL=.999999999999,LL=1.0000000000001;function Ace(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&dp(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,dV(e,o)),n&&FA(a.latestValues)&&dp(e,a.latestValues))}t.x<LL&&t.x>OL&&(t.x=1),t.y<LL&&t.y>OL&&(t.y=1)}function cp(e,t){e.min=e.min+t,e.max=e.max+t}function FL(e,t,r,n,i=.5){const a=hs(e.min,e.max,i);m4(e,t,r,a,n)}function dp(e,t){FL(e.x,t.x,t.scaleX,t.scale,t.originX),FL(e.y,t.y,t.scaleY,t.scale,t.originY)}function uV(e,t){return lV(hce(e.getBoundingClientRect(),t))}function fce(e,t,r){const n=uV(e,r),{scroll:i}=t;return i&&(cp(n.x,i.offset.x),cp(n.y,i.offset.y)),n}const hV=({current:e})=>e?e.ownerDocument.defaultView:null,mce=new WeakMap;class pce{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fs(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Cv(u).point)},a=(u,A)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hoe(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),el(v=>{let y=this.getAxisMotionValue(v).get()||0;if(qc.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(y=To(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),x&&on.postRender(()=>x(u,A)),i4(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,A)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=A;if(m&&this.currentDirection===null){this.currentDirection=gce(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",A.point,v),this.updateAxis("y",A.point,v),this.visualElement.render(),p&&p(u,A)},l=(u,A)=>this.stop(u,A),c=()=>el(u=>{var A;return this.getAnimationState(u)==="paused"&&((A=this.getAxisMotionValue(u).animation)===null||A===void 0?void 0:A.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new sV(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:hV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&on.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Db(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=ice(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&ap(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=ace(i.layoutBox,r):this.constraints=!1,this.elastic=dce(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&el(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=cce(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ap(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=fce(n,i.root,this.visualElement.getTransformPagePoint());let o=oce(i.layout.layoutBox,a);if(r){const l=r(uce(o));this.hasMutatedConstraints=!!l,l&&(o=lV(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=el(u=>{if(!Db(u,r,this.currentDirection))return;let A=c&&c[u]||{};o&&(A={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...A};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return i4(this.visualElement,t),n.start(KP(t,n,0,r,this.visualElement,!1))}stopAnimation(){el(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){el(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){el(r=>{const{drag:n}=this.getProps();if(!Db(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(t[r]-hs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ap(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};el(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=lce({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),el(o=>{if(!Db(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(hs(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;mce.set(this.visualElement,this);const t=this.visualElement.current,r=Ix(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ap(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),on.read(n);const o=by(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(el(u=>{const A=this.getAxisMotionValue(u);A&&(this.originPoint[u]+=c[u].translate,A.set(A.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=A4,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Db(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function gce(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class xce extends aA{constructor(t){super(t),this.removeGroupControls=_a,this.removeListeners=_a,this.controls=new pce(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_a}unmount(){this.removeGroupControls(),this.removeListeners()}}const UL=e=>(t,r)=>{e&&on.postRender(()=>e(t,r))};class yce extends aA{constructor(){super(...arguments),this.removePointerDownListener=_a}onPointerDown(t){this.session=new sV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:UL(t),onStart:UL(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&on.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Ix(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const i1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const I0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(sr.test(e))e=parseFloat(e);else return e;const r=RL(e,t.target.x),n=RL(e,t.target.y);return`${r}% ${n}%`}},vce={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=zh.parse(e);if(i.length>5)return n;const a=zh.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=hs(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class bce extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;Wae(wce),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),i1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||on.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function AV(e){const[t,r]=W9(),n=_.useContext(uP);return s.jsx(bce,{...e,layoutGroup:n,switchLayoutGroup:_.useContext(ez),isPresent:t,safeToRemove:r})}const wce={borderRadius:{...I0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:I0,borderTopRightRadius:I0,borderBottomLeftRadius:I0,borderBottomRightRadius:I0,boxShadow:vce};function jce(e,t,r){const n=oa(e)?e:Qd(e);return n.start(KP("",n,t,r)),n.animation}function Nce(e){return e instanceof SVGElement&&e.tagName!=="svg"}const _ce=(e,t)=>e.depth-t.depth;class Cce{constructor(){this.children=[],this.isDirty=!1}add(t){TP(this.children,t),this.isDirty=!0}remove(t){OP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_ce),this.isDirty=!1,this.children.forEach(t)}}function Bce(e,t){const r=Yc.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(sd(n),e(a-t))};return on.read(n,!0),()=>sd(n)}const fV=["TopLeft","TopRight","BottomLeft","BottomRight"],Sce=fV.length,DL=e=>typeof e=="string"?parseFloat(e):e,ML=e=>typeof e=="number"||sr.test(e);function Ece(e,t,r,n,i,a){i?(e.opacity=hs(0,r.opacity!==void 0?r.opacity:1,kce(n)),e.opacityExit=hs(t.opacity!==void 0?t.opacity:1,0,Pce(n))):a&&(e.opacity=hs(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Sce;o++){const l=`border${fV[o]}Radius`;let c=QL(t,l),d=QL(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||ML(c)===ML(d)?(e[l]=Math.max(hs(DL(c),DL(d),n),0),(qc.test(d)||qc.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=hs(t.rotate||0,r.rotate||0,n))}function QL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kce=mV(0,.5,kz),Pce=mV(.5,.95,_a);function mV(e,t,r){return n=>n<e?0:n>t?1:r(Ef(e,t,n))}function $L(e,t){e.min=t.min,e.max=t.max}function Yo(e,t){$L(e.x,t.x),$L(e.y,t.y)}function HL(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function zL(e,t,r,n,i){return e-=t,e=h2(e,1/r,n),i!==void 0&&(e=h2(e,1/i,n)),e}function Ice(e,t=0,r=1,n=.5,i,a=e,o=e){if(qc.test(t)&&(t=parseFloat(t),t=hs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=hs(a.min,a.max,n);e===a&&(l-=t),e.min=zL(e.min,t,r,l,i),e.max=zL(e.max,t,r,l,i)}function VL(e,t,[r,n,i],a,o){Ice(e,t[r],t[n],t[i],t.scale,a,o)}const Tce=["x","scaleX","originX"],Oce=["y","scaleY","originY"];function KL(e,t,r,n){VL(e.x,t,Tce,r?r.x:void 0,n?n.x:void 0),VL(e.y,t,Oce,r?r.y:void 0,n?n.y:void 0)}function WL(e){return e.translate===0&&e.scale===1}function pV(e){return WL(e.x)&&WL(e.y)}function GL(e,t){return e.min===t.min&&e.max===t.max}function Lce(e,t){return GL(e.x,t.x)&&GL(e.y,t.y)}function qL(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function gV(e,t){return qL(e.x,t.x)&&qL(e.y,t.y)}function YL(e){return To(e.x)/To(e.y)}function XL(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Fce{constructor(){this.members=[]}add(t){TP(this.members,t),t.scheduleRender()}remove(t){if(OP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Uce(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:A,rotateY:f,skewX:m,skewY:x}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),A&&(n+=`rotateX(${A}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const UA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lx=typeof window<"u"&&window.MotionDebug!==void 0,rC=["","X","Y","Z"],Rce={visibility:"hidden"},ZL=1e3;let Dce=0;function nC(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function xV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=jz(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",on,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&xV(n)}function yV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Dce++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lx&&(UA.totalNodes=UA.resolvedTargetDeltas=UA.recalculatedProjection=0),this.nodes.forEach($ce),this.nodes.forEach(Wce),this.nodes.forEach(Gce),this.nodes.forEach(Hce),lx&&window.MotionDebug.record(UA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cce)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new LP),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Nce(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let A;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=Bce(f,250),i1.hasAnimatedSinceResize&&(i1.hasAnimatedSinceResize=!1,this.nodes.forEach(eF))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Jce,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),b=!this.targetLayout||!gV(this.targetLayout,x)||m,w=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,w);const j={...SP(p,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||eF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qce),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const A=this.path[u];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JL);return}this.isUpdating||this.nodes.forEach(Vce),this.isUpdating=!1,this.nodes.forEach(Kce),this.nodes.forEach(Mce),this.nodes.forEach(Qce),this.clearAllSnapshots();const l=Yc.now();yi.delta=id(0,1e3/60,l-yi.timestamp),yi.timestamp=l,yi.isProcessing=!0,W_.update.process(yi),W_.preRender.process(yi),W_.render.process(yi),yi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zce),this.sharedNodes.forEach(Yce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,on.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){on.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!pV(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||FA(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ede(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Fs();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(tde))){const{scroll:u}=this.root;u&&(cp(c.x,u.offset.x),cp(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=Fs();if(Yo(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:A,options:f}=u;u!==this.root&&A&&f.layoutScroll&&(A.wasRoot&&Yo(c,o),cp(c.x,A.offset.x),cp(c.y,A.offset.y))}return c}applyTransform(o,l=!1){const c=Fs();Yo(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&dp(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),FA(u.latestValues)&&dp(c,u.latestValues)}return FA(this.latestValues)&&dp(c,this.latestValues),c}removeTransform(o){const l=Fs();Yo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!FA(d.latestValues))continue;f4(d.latestValues)&&d.updateSnapshot();const u=Fs(),A=d.measurePageBox();Yo(u,A),KL(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return FA(this.latestValues)&&KL(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:f}=this.options;if(!(!this.layout||!(A||f))){if(this.resolvedRelativeTargetAt=yi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fs(),this.relativeTargetOrigin=Fs(),Ox(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fs(),this.targetWithTransforms=Fs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yo(this.target,this.layout.layoutBox),dV(this.target,this.targetDelta)):Yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fs(),this.relativeTargetOrigin=Fs(),Ox(this.relativeTargetOrigin,this.target,m.target),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lx&&UA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||f4(this.parent.latestValues)||cV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===yi.timestamp&&(d=!1),d)return;const{layout:u,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||A))return;Yo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Ace(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Fs());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HL(this.prevProjectionDelta.x,this.projectionDelta.x),HL(this.prevProjectionDelta.y,this.projectionDelta.y)),Tx(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!XL(this.projectionDelta.x,this.prevProjectionDelta.x)||!XL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),lx&&UA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lp(),this.projectionDelta=lp(),this.projectionDeltaWithTransform=lp()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},A=lp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Fs(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=m!==x,v=this.getStack(),y=!v||v.members.length<=1,b=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(Zce));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;tF(A.x,o.x,N),tF(A.y,o.y,N),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ox(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Xce(this.relativeTarget,this.relativeTargetOrigin,f,N),w&&Lce(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Fs()),Yo(w,this.relativeTarget)),p&&(this.animationValues=u,Ece(u,d,this.latestValues,N,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=on.update(()=>{i1.hasAnimatedSinceResize=!0,this.currentAnimation=jce(0,ZL,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&vV(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Fs();const A=To(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+A;const f=To(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Yo(l,c),dp(l,u),Tx(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Fce),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&nC("z",o,d,this.animationValues);for(let u=0;u<rC.length;u++)nC(`rotate${rC[u]}`,o,d,this.animationValues),nC(`skew${rC[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Rce;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=n1(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=n1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!FA(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const f=A.animationValues||A.latestValues;this.applyTransformsToTarget(),d.transform=Uce(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:m,y:x}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,A.animationValues?d.opacity=A===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=A===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const p in o2){if(f[p]===void 0)continue;const{correct:v,applyTo:y}=o2[p],b=d.transform==="none"?f[p]:v(f[p],A);if(y){const w=y.length;for(let j=0;j<w;j++)d[y[j]]=b}else d[p]=b}return this.options.layoutId&&(d.pointerEvents=A===this?n1(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(JL),this.root.sharedNodes.clear()}}}function Mce(e){e.updateLayout()}function Qce(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?el(A=>{const f=o?r.measuredBox[A]:r.layoutBox[A],m=To(f);f.min=n[A].min,f.max=f.min+m}):vV(a,r.layoutBox,n)&&el(A=>{const f=o?r.measuredBox[A]:r.layoutBox[A],m=To(n[A]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[A].max=e.relativeTarget[A].min+m)});const l=lp();Tx(l,n,r.layoutBox);const c=lp();o?Tx(c,e.applyTransform(i,!0),r.measuredBox):Tx(c,n,r.layoutBox);const d=!pV(l);let u=!1;if(!e.resumeFrom){const A=e.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:f,layout:m}=A;if(f&&m){const x=Fs();Ox(x,r.layoutBox,f.layoutBox);const p=Fs();Ox(p,n,m.layoutBox),gV(x,p)||(u=!0),A.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=x,e.relativeParent=A)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function $ce(e){lx&&UA.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Hce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zce(e){e.clearSnapshot()}function JL(e){e.clearMeasurements()}function Vce(e){e.isLayoutDirty=!1}function Kce(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function eF(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Wce(e){e.resolveTargetDelta()}function Gce(e){e.calcProjection()}function qce(e){e.resetSkewAndRotation()}function Yce(e){e.removeLeadSnapshot()}function tF(e,t,r){e.translate=hs(t.translate,0,r),e.scale=hs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function rF(e,t,r,n){e.min=hs(t.min,r.min,n),e.max=hs(t.max,r.max,n)}function Xce(e,t,r,n){rF(e.x,t.x,r.x,n),rF(e.y,t.y,r.y,n)}function Zce(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Jce={duration:.45,ease:[.4,0,.1,1]},nF=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),sF=nF("applewebkit/")&&!nF("chrome/")?Math.round:_a;function iF(e){e.min=sF(e.min),e.max=sF(e.max)}function ede(e){iF(e.x),iF(e.y)}function vV(e,t,r){return e==="position"||e==="preserve-aspect"&&!nce(YL(t),YL(r),.2)}function tde(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const rde=yV({attachResizeListener:(e,t)=>by(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sC={current:void 0},bV=yV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sC.current){const e=new rde({});e.mount(window),e.setOptions({layoutScroll:!0}),sC.current=e}return sC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nde={pan:{Feature:yce},drag:{Feature:xce,ProjectionNode:bV,MeasureLayout:AV}};function aF(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&on.postRender(()=>a(t,Cv(t)))}class sde extends aA{mount(){const{current:t}=this.node;t&&(this.unmount=ooe(t,r=>(aF(this.node,r,"Start"),n=>aF(this.node,n,"End"))))}unmount(){}}class ide extends aA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_v(by(this.node.current,"focus",()=>this.onFocus()),by(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oF(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&on.postRender(()=>a(t,Cv(t)))}class ade extends aA{mount(){const{current:t}=this.node;t&&(this.unmount=uoe(t,r=>(oF(this.node,r,"Start"),(n,{success:i})=>oF(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const p4=new WeakMap,iC=new WeakMap,ode=e=>{const t=p4.get(e.target);t&&t(e)},lde=e=>{e.forEach(ode)};function cde({root:e,...t}){const r=e||document;iC.has(r)||iC.set(r,{});const n=iC.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(lde,{root:e,...t})),n[i]}function dde(e,t,r){const n=cde(t);return p4.set(e,r),n.observe(e),()=>{p4.delete(e),n.unobserve(e)}}const ude={some:0,all:1};class hde extends aA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:ude[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:A}=this.node.getProps(),f=d?u:A;f&&f(c)};return dde(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Ade(t,r))&&this.startObserver()}unmount(){}}function Ade({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const fde={inView:{Feature:hde},tap:{Feature:ade},focus:{Feature:ide},hover:{Feature:sde}},mde={layout:{ProjectionNode:bV,MeasureLayout:AV}},g4={current:null},wV={current:!1};function pde(){if(wV.current=!0,!!AP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>g4.current=e.matches;e.addListener(t),t()}else g4.current=!1}const gde=[...zz,ea,zh],xde=e=>gde.find(Hz(e)),lF=new WeakMap;function yde(e,t,r){for(const n in t){const i=t[n],a=r[n];if(oa(i))e.addValue(n,i);else if(oa(a))e.addValue(n,Qd(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,Qd(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const cF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vde{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=HP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Yc.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,on.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=wN(r),this.isVariantNode=Z9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:A,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const x=f[m];c[m]!==void 0&&oa(x)&&x.set(c[m],!1)}}mount(t){this.current=t,lF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),wV.current||pde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:g4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lF.delete(this.current),this.projection&&this.projection.unmount(),sd(this.notifyUpdate),sd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=tm.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&on.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Yp){const r=Yp[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fs()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<cF.length;n++){const i=cF[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=yde(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Qd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Qz(i)||Iz(i))?i=parseFloat(i):!xde(i)&&zh.test(r)&&(i=Rz(t,r)),this.setBaseTarget(t,oa(i)?i.get():i)),oa(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=vP(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!oa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new LP),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class jV extends vde{constructor(){super(...arguments),this.KeyframeResolver=Vz}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;oa(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function bde(e){return window.getComputedStyle(e)}class wde extends jV{constructor(){super(...arguments),this.type="html",this.renderInstance=oz}readValueFromInstance(t,r){if(tm.has(r)){const n=$P(r);return n&&n.default||0}else{const n=bde(t),i=(sz(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return uV(t,r)}build(t,r,n){jP(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return BP(t,r,n)}}class jde extends jV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fs}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(tm.has(r)){const n=$P(r);return n&&n.default||0}return r=lz.has(r)?r:gP(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return uz(t,r,n)}build(t,r,n){NP(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){cz(t,r,n,i)}mount(t){this.isSVGTag=CP(t.tagName),super.mount(t)}}const Nde=(e,t)=>yP(e)?new jde(t):new wde(t,{allowProjection:e!==_.Fragment}),_de=roe({...Gle,...fde,...nde,...mde},Nde),X=gae(_de);function Cde(e,t,r){_.useInsertionEffect(()=>e.on(t,r),[e,t,r])}function NV(e,t){let r;const n=()=>{const{currentTime:i}=t,o=(i===null?0:i.value)/100;r!==o&&e(o),r=o};return on.update(n,!0),()=>sd(n)}const a1=new WeakMap;let rh;function Bde(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Sde({target:e,contentRect:t,borderBoxSize:r}){var n;(n=a1.get(e))===null||n===void 0||n.forEach(i=>{i({target:e,contentSize:t,get size(){return Bde(e,r)}})})}function Ede(e){e.forEach(Sde)}function kde(){typeof ResizeObserver>"u"||(rh=new ResizeObserver(Ede))}function Pde(e,t){rh||kde();const r=PP(e);return r.forEach(n=>{let i=a1.get(n);i||(i=new Set,a1.set(n,i)),i.add(t),rh==null||rh.observe(n)}),()=>{r.forEach(n=>{const i=a1.get(n);i==null||i.delete(t),i!=null&&i.size||rh==null||rh.unobserve(n)})}}const o1=new Set;let Lx;function Ide(){Lx=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};o1.forEach(r=>r(t))},window.addEventListener("resize",Lx)}function Tde(e){return o1.add(e),Lx||Ide(),()=>{o1.delete(e),!o1.size&&Lx&&(Lx=void 0)}}function Ode(e,t){return typeof e=="function"?Tde(e):Pde(e,t)}const Lde=50,dF=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Fde=()=>({time:0,x:dF(),y:dF()}),Ude={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function uF(e,t,r,n){const i=r[t],{length:a,position:o}=Ude[t],l=i.current,c=r.time;i.current=e[`scroll${o}`],i.scrollLength=e[`scroll${a}`]-e[`client${a}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Ef(0,i.scrollLength,i.current);const d=n-c;i.velocity=d>Lde?0:FP(i.current-l,d)}function Rde(e,t,r){uF(e,"x",t,r),uF(e,"y",t,r),t.time=r}function Dde(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const a=n.getBoundingClientRect();r.x+=i.left-a.left,r.y+=i.top-a.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:a}=n.getBBox();r.x+=i,r.y+=a;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return r}const x4={start:0,center:.5,end:1};function hF(e,t,r=0){let n=0;if(e in x4&&(e=x4[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const Mde=[0,0];function Qde(e,t,r,n){let i=Array.isArray(e)?e:Mde,a=0,o=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,x4[e]?e:"0"]),a=hF(i[0],r,n),o=hF(i[1],t),a-o}const $de={All:[[0,0],[1,1]]},Hde={x:0,y:0};function zde(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Vde(e,t,r){const{offset:n=$de.All}=r,{target:i=e,axis:a="y"}=r,o=a==="y"?"height":"width",l=i!==e?Dde(i,e):Hde,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:zde(i),d={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let u=!t[a].interpolate;const A=n.length;for(let f=0;f<A;f++){const m=Qde(n[f],d[o],c[o],l[a]);!u&&m!==t[a].interpolatorOffsets[f]&&(u=!0),t[a].offset[f]=m}u&&(t[a].interpolate=Zz(t[a].offset,Jz(n),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=id(0,1,t[a].interpolate(t[a].current))}function Kde(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function Wde(e,t,r,n={}){return{measure:()=>Kde(e,n.target,r),update:i=>{Rde(e,r,i),(n.offset||n.target)&&Vde(e,r,n)},notify:()=>t(r)}}const T0=new WeakMap,AF=new WeakMap,aC=new WeakMap,fF=e=>e===document.documentElement?window:e;function WP(e,{container:t=document.documentElement,...r}={}){let n=aC.get(t);n||(n=new Set,aC.set(t,n));const i=Fde(),a=Wde(t,e,i,r);if(n.add(a),!T0.has(t)){const l=()=>{for(const f of n)f.measure()},c=()=>{for(const f of n)f.update(yi.timestamp)},d=()=>{for(const f of n)f.notify()},u=()=>{on.read(l,!1,!0),on.read(c,!1,!0),on.update(d,!1,!0)};T0.set(t,u);const A=fF(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&AF.set(t,Ode(t,u)),A.addEventListener("scroll",u,{passive:!0})}const o=T0.get(t);return on.read(o,!1,!0),()=>{var l;sd(o);const c=aC.get(t);if(!c||(c.delete(a),c.size))return;const d=T0.get(t);T0.delete(t),d&&(fF(t).removeEventListener("scroll",d),(l=AF.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function Gde({source:e,container:t,axis:r="y"}){e&&(t=e);const n={value:0},i=WP(a=>{n.value=a[r].progress*100},{container:t,axis:r});return{currentTime:n,cancel:i}}const oC=new Map;function _V({source:e,container:t=document.documentElement,axis:r="y"}={}){e&&(t=e),oC.has(t)||oC.set(t,{});const n=oC.get(t);return n[r]||(n[r]=fz()?new ScrollTimeline({source:t,axis:r}):Gde({source:t,axis:r})),n[r]}function qde(e){return e.length===2}function CV(e){return e&&(e.target||e.offset)}function Yde(e,t){return qde(e)||CV(t)?WP(r=>{e(r[t.axis].progress,r)},t):NV(e,_V(t))}function Xde(e,t){if(e.flatten(),CV(t))return e.pause(),WP(r=>{e.time=e.duration*r[t.axis].progress},t);{const r=_V(t);return e.attachTimeline?e.attachTimeline(r,n=>(n.pause(),NV(i=>{n.time=n.duration*i},r))):_a}}function Zde(e,{axis:t="y",...r}={}){const n={axis:t,...r};return typeof e=="function"?Yde(e,n):Xde(e,n)}function mF(e,t){cae(!!(!t||t.current))}const Jde=()=>({scrollX:Qd(0),scrollY:Qd(0),scrollXProgress:Qd(0),scrollYProgress:Qd(0)});function eue({container:e,target:t,layoutEffect:r=!0,...n}={}){const i=wv(Jde);return(r?yN:_.useEffect)(()=>(mF("target",t),mF("container",e),Zde((o,{x:l,y:c})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),i}function tue(e){e.values.forEach(t=>t.stop())}function y4(e,t){[...t].reverse().forEach(n=>{const i=e.getVariant(n);i&&UP(e,i),e.variantChildren&&e.variantChildren.forEach(a=>{y4(a,t)})})}function rue(e,t){if(Array.isArray(t))return y4(e,t);if(typeof t=="string")return y4(e,[t]);UP(e,t)}function nue(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const i=[];return e.forEach(a=>{i.push(rV(a,r,{transitionOverride:n}))}),Promise.all(i)},set(r){return e.forEach(n=>{rue(n,r)})},stop(){e.forEach(r=>{tue(r)})},mount(){return()=>{t.stop()}}};return t}function sue(){const e=wv(nue);return yN(e.mount,[]),e}const iue=sue,aue={some:0,all:1};function oue(e,t,{root:r,margin:n,amount:i="some"}={}){const a=PP(e),o=new WeakMap,l=d=>{d.forEach(u=>{const A=o.get(u.target);if(u.isIntersecting!==!!A)if(u.isIntersecting){const f=t(u);typeof f=="function"?o.set(u.target,f):c.unobserve(u.target)}else typeof A=="function"&&(A(u),o.delete(u.target))})},c=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof i=="number"?i:aue[i]});return a.forEach(d=>c.observe(d)),()=>c.disconnect()}function lue(e,{root:t,margin:r,amount:n,once:i=!1}={}){const[a,o]=_.useState(!1);return _.useEffect(()=>{if(!e.current||i&&a)return;const l=()=>(o(!0),i?void 0:()=>o(!1)),c={root:t&&t.current||void 0,margin:r,amount:n};return oue(e.current,l,c)},[t,e,r,i,n]),a}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BV=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var due={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...due,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:BV("lucide",i),...l},[...o.map(([d,u])=>_.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,t)=>{const r=_.forwardRef(({className:n,...i},a)=>_.createElement(uue,{ref:a,iconNode:t,className:BV(`lucide-${cue(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=mt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=mt("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=mt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=mt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=mt("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=mt("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=mt("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=mt("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=mt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=mt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=mt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=mt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=mt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=mt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=mt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=mt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=mt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=mt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=mt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=mt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=mt("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=mt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=mt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=mt("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=mt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=mt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=mt("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=mt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=mt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=mt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=mt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=mt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=mt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=mt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=mt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=mt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=mt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=mt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=mt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=mt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=mt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=mt("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=mt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=mt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=mt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=mt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=mt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=mt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=mt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=mt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=mt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=mt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=mt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=mt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=mt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=mt("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=mt("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=mt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=mt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=mt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=mt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=mt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=mt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=mt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=mt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=mt("Snowflake",[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=mt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=mt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=mt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=mt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=mt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=mt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=mt("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=mt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=mt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=mt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=mt("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=mt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=mt("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=mt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=mt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Due=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(null),c="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",[d,u]=_.useState(!1),A=Ja(),f=Ar(),{scrollY:m}=eue(),x=[{name:"Home",href:"/",icon:Pr},{name:"About",href:"/about",icon:v4},{name:"Contact",href:"/contact",icon:Es},...i?[{name:"Dashboard",href:"/dashboard",icon:Np}]:[]];Cde(m,"change",y=>{n(y>10)}),_.useEffect(()=>{const y=()=>{const B=localStorage.getItem("authToken"),I=localStorage.getItem("user");if(a(!!B),I)try{const T=JSON.parse(I);l(T)}catch{localStorage.removeItem("user"),l(null)}else l(null)};y();const b=()=>{y()},w=()=>{a(!1),l(null)},j=()=>{y()},N=()=>{y()};return window.addEventListener("storage",b),window.addEventListener("lyvo-logout",w),window.addEventListener("lyvo-login",j),window.addEventListener("lyvo-profile-update",N),()=>{window.removeEventListener("storage",b),window.removeEventListener("lyvo-logout",w),window.removeEventListener("lyvo-login",j),window.removeEventListener("lyvo-profile-update",N)}},[]),_.useEffect(()=>{const y=b=>{d&&!b.target.closest(".user-dropdown")&&u(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[d]),_.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const p=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),a(!1),l(null),u(!1),t(!1),window.dispatchEvent(new Event("lyvo-logout")),f("/")},v=()=>{t(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-white/95 backdrop-blur-md shadow-lg border-b border-gray-100":"bg-white/90 backdrop-blur-sm"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[s.jsx(Ot,{to:"/",children:s.jsxs(X.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"flex items-center space-x-3 group cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx(X.div,{whileHover:{rotate:5,boxShadow:"0 10px 30px rgba(239, 68, 68, 0.3)"},transition:{duration:.3},className:`w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 overflow-hidden ${A.pathname==="/"?"shadow-[0_0_20px_rgba(239,68,68,0.4)]":""}`,children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx(X.div,{animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs(X.span,{whileHover:{color:"rgb(239, 68, 68)"},transition:{duration:.2},className:`text-xl lg:text-2xl font-bold transition-colors duration-300 ${A.pathname==="/"?"text-gray-900":"text-gray-900 group-hover:text-red-600"}`,children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium hidden sm:block",children:"Co-Living Platform"})]})]})}),s.jsx("div",{className:"hidden md:flex items-center space-x-1",children:x.map(y=>{const b=y.icon,w=A.pathname===y.href;return s.jsx(Ot,{to:y.href,children:s.jsxs(X.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${w?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(X.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(b,{className:`w-4 h-4 ${w?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:y.name})]}),!w&&s.jsx(X.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})},y.href)})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"hidden md:flex items-center space-x-3",children:i?s.jsxs("div",{className:"relative user-dropdown",children:[s.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!d),className:"flex items-center space-x-3 px-4 py-2 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl hover:from-red-50 hover:to-red-100 transition-all duration-300 border border-gray-200 hover:border-red-200",title:`Hi, ${(o==null?void 0:o.name)||"User"}!`,children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border-2 border-white shadow-md",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src=c}})}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:(o==null?void 0:o.name)||"User"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Welcome back!"})]}),s.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d?"bg-red-500":"bg-gray-400"}`})]}),d&&s.jsxs(X.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-100 py-2 z-[100]",children:[s.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-gray-200",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src=c}})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Hi, ",(o==null?void 0:o.name)||"User","!"]}),s.jsx("p",{className:"text-xs text-gray-500",children:o==null?void 0:o.email})]})]})}),s.jsxs(Ot,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(cr,{className:"w-4 h-4 mr-3"}),"Profile"]}),s.jsxs(Ot,{to:"/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(Np,{className:"w-4 h-4 mr-3"}),"Dashboard"]}),s.jsxs("button",{onClick:p,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(uc,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ot,{to:"/login",children:s.jsxs(X.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${A.pathname==="/login"?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(X.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(eu,{className:`w-4 h-4 ${A.pathname==="/login"?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:"Sign In"})]}),A.pathname!=="/login"&&s.jsx(X.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ot,{to:"/signup",children:s.jsxs(X.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${A.pathname==="/signup"?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(X.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(wy,{className:`w-4 h-4 ${A.pathname==="/signup"?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:"Get Started"})]}),A.pathname!=="/signup"&&s.jsx(X.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})}),s.jsx(Ot,{to:"/room-owner-signup",children:s.jsxs(X.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${A.pathname==="/room-owner-signup"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(X.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(A2,{className:`w-4 h-4 ${A.pathname==="/room-owner-signup"?"text-blue-600":"text-gray-500 group-hover:text-blue-600"}`})}),s.jsx("span",{children:"List Property"})]}),A.pathname!=="/room-owner-signup"&&s.jsx(X.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-blue-50"})]})})]})]})}),s.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 text-gray-700 hover:text-red-600 transition-all duration-300 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Toggle mobile menu","aria-expanded":e,"aria-controls":"mobile-menu",children:s.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:s.jsx("div",{className:`transition-all duration-300 ${e?"rotate-180":"rotate-0"}`,children:e?s.jsx(or,{className:"w-6 h-6"}):s.jsx(_N,{className:"w-6 h-6"})})})})]})]})})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden transition-opacity duration-200",onClick:v,"aria-hidden":"true"}),s.jsxs("div",{id:"mobile-menu",className:`fixed top-0 right-0 h-full w-80 max-w-[90vw] sm:max-w-[85vw] bg-white shadow-2xl z-50 md:hidden transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,"aria-label":"Mobile navigation menu",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden shadow-md",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]}),s.jsx("button",{onClick:v,className:"p-2 text-gray-500 hover:text-red-600 transition-colors duration-200 rounded-lg hover:bg-red-50","aria-label":"Close mobile menu",children:s.jsx(or,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"p-6 space-y-3",children:x.map(y=>{const b=y.icon,w=A.pathname===y.href;return s.jsxs(Ot,{to:y.href,onClick:v,className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium ${w?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(b,{className:`h-5 w-5 ${w?"text-red-600":"text-gray-500"}`}),s.jsx("span",{className:"text-base",children:y.name})]},y.href)})}),s.jsx("div",{className:"p-6 border-t border-gray-100 mt-auto",children:i?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"px-4 py-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white shadow-md",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src=c}})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(o==null?void 0:o.name)||"User"}),s.jsx("div",{className:"text-xs text-gray-500",children:o==null?void 0:o.email})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Ot,{to:"/dashboard",onClick:v,className:"flex items-center space-x-3 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg",children:[s.jsx(Np,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Dashboard"})]}),s.jsxs(Ot,{to:"/profile",onClick:v,className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all duration-200 font-medium",children:[s.jsx(cr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Profile"})]})]}),s.jsxs("button",{onClick:()=>{v(),p()},className:"flex items-center space-x-3 px-4 py-3 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all duration-200 font-medium w-full text-left",children:[s.jsx(uc,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Logout"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ot,{to:"/login",onClick:v,className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium ${A.pathname==="/login"?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(eu,{className:"h-5 w-5"}),s.jsx("span",{className:"text-base",children:"Sign In"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(Ot,{to:"/signup",onClick:v,className:`flex items-center justify-center w-full px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 space-x-2 ${A.pathname==="/signup"?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(wy,{className:"h-4 w-4"}),s.jsx("span",{children:"Get Started"})]}),s.jsxs(Ot,{to:"/room-owner-signup",onClick:v,className:`flex items-center justify-center w-full px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 space-x-2 ${A.pathname==="/room-owner-signup"?"bg-blue-50 text-blue-600":"text-gray-700 hover:text-blue-600 hover:bg-blue-50"}`,children:[s.jsx(A2,{className:"h-4 w-4"}),s.jsx("span",{children:"List Property"})]})]})]})})]})]})},Mue=()=>{const e=[{name:"Facebook",icon:vue,href:"#"},{name:"Twitter",icon:Uue,href:"#"},{name:"Instagram",icon:jue,href:"#"},{name:"LinkedIn",icon:Bue,href:"#"}],t=[{name:"Home",href:"/"},{name:"About Us",href:"/about"},{name:"Services",href:"/services"},{name:"Contact",href:"/contact"},{name:"Sign In",href:"/login"}],r=[{name:"Co-Living Spaces",href:"#"},{name:"Community Building",href:"#"},{name:"Events & Activities",href:"#"},{name:"24/7 Support",href:"#"},{name:"Premium Amenities",href:"#"}],n=[{name:"Privacy Policy",href:"#"},{name:"Terms of Service",href:"#"},{name:"Cookie Policy",href:"#"}];return s.jsx("footer",{className:"bg-gray-900 text-white mt-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shadow-lg overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xl font-bold",children:"Lyvo+"}),s.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Co-Living Platform"})]})]}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Empowering communities through innovative co-living solutions. Join us in creating meaningful connections and sustainable living spaces."}),s.jsx("div",{className:"flex space-x-4",children:e.map(i=>s.jsxs(Ot,{to:i.href,className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-gray-700 transition-all duration-200 group",children:[s.jsx(i.icon,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-200"}),s.jsx("span",{className:"sr-only",children:i.name})]},i.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quick Links"}),s.jsx("ul",{className:"space-y-2",children:t.map(i=>s.jsx("li",{children:s.jsx(Ot,{to:i.href,className:"text-gray-300 hover:text-red-500 transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform duration-200",children:i.name})},i.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Services"}),s.jsx("ul",{className:"space-y-2",children:r.map(i=>s.jsx("li",{children:s.jsx(Ot,{to:i.href,className:"text-gray-300 hover:text-red-500 transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform duration-200",children:i.name})},i.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Contact Us"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200",children:s.jsx(ln,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:"hello@lyvoplus.com"})]}),s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200",children:s.jsx(Es,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:"+1 (555) 123-4567"})]}),s.jsxs("div",{className:"flex items-start space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200 mt-0.5",children:s.jsx(wr,{className:"w-4 h-4 text-white"})}),s.jsxs("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:["123 Innovation Street",s.jsx("br",{}),"Tech City, TC 12345"]})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsx("div",{className:"text-gray-400 text-sm",children:" 2024 Lyvo+. All rights reserved."}),s.jsx("div",{className:"flex flex-wrap justify-center md:justify-end gap-6 text-sm",children:n.map(i=>s.jsx(Ot,{to:i.href,className:"text-gray-400 hover:text-red-500 transition-colors duration-200 hover:underline",children:i.name},i.name))})]})})]})})};function OV(e,t){return function(){return e.apply(t,arguments)}}const{toString:Que}=Object.prototype,{getPrototypeOf:XP}=Object,{iterator:BN,toStringTag:LV}=Symbol,SN=(e=>t=>{const r=Que.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gc=e=>(e=e.toLowerCase(),t=>SN(t)===e),EN=e=>t=>typeof t===e,{isArray:Mg}=Array,ng=EN("undefined");function Sv(e){return e!==null&&!ng(e)&&e.constructor!==null&&!ng(e.constructor)&&Xa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const FV=gc("ArrayBuffer");function $ue(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&FV(e.buffer),t}const Hue=EN("string"),Xa=EN("function"),UV=EN("number"),Ev=e=>e!==null&&typeof e=="object",zue=e=>e===!0||e===!1,l1=e=>{if(SN(e)!=="object")return!1;const t=XP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(LV in e)&&!(BN in e)},Vue=e=>{if(!Ev(e)||Sv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Kue=gc("Date"),Wue=gc("File"),Gue=gc("Blob"),que=gc("FileList"),Yue=e=>Ev(e)&&Xa(e.pipe),Xue=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xa(e.append)&&((t=SN(e))==="formdata"||t==="object"&&Xa(e.toString)&&e.toString()==="[object FormData]"))},Zue=gc("URLSearchParams"),[Jue,ehe,the,rhe]=["ReadableStream","Request","Response","Headers"].map(gc),nhe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Mg(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Sv(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function RV(e,t){if(Sv(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const ZA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DV=e=>!ng(e)&&e!==ZA;function j4(){const{caseless:e,skipUndefined:t}=DV(this)&&this||{},r={},n=(i,a)=>{const o=e&&RV(r,a)||a;l1(r[o])&&l1(i)?r[o]=j4(r[o],i):l1(i)?r[o]=j4({},i):Mg(i)?r[o]=i.slice():(!t||!ng(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&kv(arguments[i],n);return r}const she=(e,t,r,{allOwnKeys:n}={})=>(kv(t,(i,a)=>{r&&Xa(i)?e[a]=OV(i,r):e[a]=i},{allOwnKeys:n}),e),ihe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ahe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ohe=(e,t,r,n)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&XP(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},lhe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},che=e=>{if(!e)return null;if(Mg(e))return e;let t=e.length;if(!UV(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},dhe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&XP(Uint8Array)),uhe=(e,t)=>{const n=(e&&e[BN]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},hhe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Ahe=gc("HTMLFormElement"),fhe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),bF=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),mhe=gc("RegExp"),MV=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};kv(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},phe=e=>{MV(e,(t,r)=>{if(Xa(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Xa(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ghe=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Mg(e)?n(e):n(String(e).split(t)),r},xhe=()=>{},yhe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vhe(e){return!!(e&&Xa(e.append)&&e[LV]==="FormData"&&e[BN])}const bhe=e=>{const t=new Array(10),r=(n,i)=>{if(Ev(n)){if(t.indexOf(n)>=0)return;if(Sv(n))return n;if(!("toJSON"in n)){t[i]=n;const a=Mg(n)?[]:{};return kv(n,(o,l)=>{const c=r(o,i+1);!ng(c)&&(a[l]=c)}),t[i]=void 0,a}}return n};return r(e,0)},whe=gc("AsyncFunction"),jhe=e=>e&&(Ev(e)||Xa(e))&&Xa(e.then)&&Xa(e.catch),QV=((e,t)=>e?setImmediate:t?((r,n)=>(ZA.addEventListener("message",({source:i,data:a})=>{i===ZA&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),ZA.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xa(ZA.postMessage)),Nhe=typeof queueMicrotask<"u"?queueMicrotask.bind(ZA):typeof process<"u"&&process.nextTick||QV,_he=e=>e!=null&&Xa(e[BN]),He={isArray:Mg,isArrayBuffer:FV,isBuffer:Sv,isFormData:Xue,isArrayBufferView:$ue,isString:Hue,isNumber:UV,isBoolean:zue,isObject:Ev,isPlainObject:l1,isEmptyObject:Vue,isReadableStream:Jue,isRequest:ehe,isResponse:the,isHeaders:rhe,isUndefined:ng,isDate:Kue,isFile:Wue,isBlob:Gue,isRegExp:mhe,isFunction:Xa,isStream:Yue,isURLSearchParams:Zue,isTypedArray:dhe,isFileList:que,forEach:kv,merge:j4,extend:she,trim:nhe,stripBOM:ihe,inherits:ahe,toFlatObject:ohe,kindOf:SN,kindOfTest:gc,endsWith:lhe,toArray:che,forEachEntry:uhe,matchAll:hhe,isHTMLForm:Ahe,hasOwnProperty:bF,hasOwnProp:bF,reduceDescriptors:MV,freezeMethods:phe,toObjectSet:ghe,toCamelCase:fhe,noop:xhe,toFiniteNumber:yhe,findKey:RV,global:ZA,isContextDefined:DV,isSpecCompliantForm:vhe,toJSONObject:bhe,isAsyncFn:whe,isThenable:jhe,setImmediate:QV,asap:Nhe,isIterable:_he};function br(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}He.inherits(br,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:He.toJSONObject(this.config),code:this.code,status:this.status}}});const $V=br.prototype,HV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{HV[e]={value:e}});Object.defineProperties(br,HV);Object.defineProperty($V,"isAxiosError",{value:!0});br.from=(e,t,r,n,i,a)=>{const o=Object.create($V);He.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return br.call(o,l,c,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const Che=null;function N4(e){return He.isPlainObject(e)||He.isArray(e)}function zV(e){return He.endsWith(e,"[]")?e.slice(0,-2):e}function wF(e,t,r){return e?e.concat(t).map(function(i,a){return i=zV(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function Bhe(e){return He.isArray(e)&&!e.some(N4)}const She=He.toFlatObject(He,{},null,function(t){return/^is[A-Z]/.test(t)});function kN(e,t,r){if(!He.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=He.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!He.isUndefined(v[p])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&He.isSpecCompliantForm(t);if(!He.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(He.isDate(x))return x.toISOString();if(He.isBoolean(x))return x.toString();if(!c&&He.isBlob(x))throw new br("Blob is not supported. Use a Buffer instead.");return He.isArrayBuffer(x)||He.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,v){let y=x;if(x&&!v&&typeof x=="object"){if(He.endsWith(p,"{}"))p=n?p:p.slice(0,-2),x=JSON.stringify(x);else if(He.isArray(x)&&Bhe(x)||(He.isFileList(x)||He.endsWith(p,"[]"))&&(y=He.toArray(x)))return p=zV(p),y.forEach(function(w,j){!(He.isUndefined(w)||w===null)&&t.append(o===!0?wF([p],j,a):o===null?p:p+"[]",d(w))}),!1}return N4(x)?!0:(t.append(wF(v,p,a),d(x)),!1)}const A=[],f=Object.assign(She,{defaultVisitor:u,convertValue:d,isVisitable:N4});function m(x,p){if(!He.isUndefined(x)){if(A.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));A.push(x),He.forEach(x,function(y,b){(!(He.isUndefined(y)||y===null)&&i.call(t,y,He.isString(b)?b.trim():b,p,f))===!0&&m(y,p?p.concat(b):[b])}),A.pop()}}if(!He.isObject(e))throw new TypeError("data must be an object");return m(e),t}function jF(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ZP(e,t){this._pairs=[],e&&kN(e,this,t)}const VV=ZP.prototype;VV.append=function(t,r){this._pairs.push([t,r])};VV.toString=function(t){const r=t?function(n){return t.call(this,n,jF)}:jF;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Ehe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function KV(e,t,r){if(!t)return e;const n=r&&r.encode||Ehe;He.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=He.isURLSearchParams(t)?t.toString():new ZP(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class NF{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){He.forEach(this.handlers,function(n){n!==null&&t(n)})}}const WV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},khe=typeof URLSearchParams<"u"?URLSearchParams:ZP,Phe=typeof FormData<"u"?FormData:null,Ihe=typeof Blob<"u"?Blob:null,The={isBrowser:!0,classes:{URLSearchParams:khe,FormData:Phe,Blob:Ihe},protocols:["http","https","file","blob","url","data"]},JP=typeof window<"u"&&typeof document<"u",_4=typeof navigator=="object"&&navigator||void 0,Ohe=JP&&(!_4||["ReactNative","NativeScript","NS"].indexOf(_4.product)<0),Lhe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fhe=JP&&window.location.href||"http://localhost",Uhe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:JP,hasStandardBrowserEnv:Ohe,hasStandardBrowserWebWorkerEnv:Lhe,navigator:_4,origin:Fhe},Symbol.toStringTag,{value:"Module"})),aa={...Uhe,...The};function Rhe(e,t){return kN(e,new aa.classes.URLSearchParams,{visitor:function(r,n,i,a){return aa.isNode&&He.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Dhe(e){return He.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Mhe(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function GV(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&He.isArray(i)?i.length:o,c?(He.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!He.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&He.isArray(i[o])&&(i[o]=Mhe(i[o])),!l)}if(He.isFormData(e)&&He.isFunction(e.entries)){const r={};return He.forEachEntry(e,(n,i)=>{t(Dhe(n),i,r,0)}),r}return null}function Qhe(e,t,r){if(He.isString(e))try{return(t||JSON.parse)(e),He.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Pv={transitional:WV,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=He.isObject(t);if(a&&He.isHTMLForm(t)&&(t=new FormData(t)),He.isFormData(t))return i?JSON.stringify(GV(t)):t;if(He.isArrayBuffer(t)||He.isBuffer(t)||He.isStream(t)||He.isFile(t)||He.isBlob(t)||He.isReadableStream(t))return t;if(He.isArrayBufferView(t))return t.buffer;if(He.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Rhe(t,this.formSerializer).toString();if((l=He.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return kN(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Qhe(t)):t}],transformResponse:[function(t){const r=this.transitional||Pv.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(He.isResponse(t)||He.isReadableStream(t))return t;if(t&&He.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?br.from(l,br.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:aa.classes.FormData,Blob:aa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};He.forEach(["delete","get","head","post","put","patch"],e=>{Pv.headers[e]={}});const $he=He.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hhe=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&$he[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},_F=Symbol("internals");function O0(e){return e&&String(e).trim().toLowerCase()}function c1(e){return e===!1||e==null?e:He.isArray(e)?e.map(c1):String(e)}function zhe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Vhe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lC(e,t,r,n,i){if(He.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!He.isString(t)){if(He.isString(n))return t.indexOf(n)!==-1;if(He.isRegExp(n))return n.test(t)}}function Khe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Whe(e,t){const r=He.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let Za=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(l,c,d){const u=O0(c);if(!u)throw new Error("header name must be a non-empty string");const A=He.findKey(i,u);(!A||i[A]===void 0||d===!0||d===void 0&&i[A]!==!1)&&(i[A||c]=c1(l))}const o=(l,c)=>He.forEach(l,(d,u)=>a(d,u,c));if(He.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(He.isString(t)&&(t=t.trim())&&!Vhe(t))o(Hhe(t),r);else if(He.isObject(t)&&He.isIterable(t)){let l={},c,d;for(const u of t){if(!He.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?He.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=O0(t),t){const n=He.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return zhe(i);if(He.isFunction(r))return r.call(this,i,n);if(He.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=O0(t),t){const n=He.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||lC(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=O0(o),o){const l=He.findKey(n,o);l&&(!r||lC(n,n[l],l,r))&&(delete n[l],i=!0)}}return He.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||lC(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return He.forEach(this,(i,a)=>{const o=He.findKey(n,a);if(o){r[o]=c1(i),delete r[a];return}const l=t?Khe(a):String(a).trim();l!==a&&delete r[a],r[l]=c1(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return He.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&He.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[_F]=this[_F]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=O0(o);n[l]||(Whe(i,o),n[l]=!0)}return He.isArray(t)?t.forEach(a):a(t),this}};Za.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);He.reduceDescriptors(Za.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});He.freezeMethods(Za);function cC(e,t){const r=this||Pv,n=t||r,i=Za.from(n.headers);let a=n.data;return He.forEach(e,function(l){a=l.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function qV(e){return!!(e&&e.__CANCEL__)}function Qg(e,t,r){br.call(this,e??"canceled",br.ERR_CANCELED,t,r),this.name="CanceledError"}He.inherits(Qg,br,{__CANCEL__:!0});function YV(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new br("Request failed with status code "+r.status,[br.ERR_BAD_REQUEST,br.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ghe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qhe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];o||(o=d),r[i]=c,n[i]=d;let A=a,f=0;for(;A!==i;)f+=r[A++],A=A%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-o<t)return;const m=u&&d-u;return m?Math.round(f*1e3/m):void 0}}function Yhe(e,t){let r=0,n=1e3/t,i,a;const o=(d,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),A=u-r;A>=n?o(d,u):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},n-A)))},()=>i&&o(i)]}const m2=(e,t,r=3)=>{let n=0;const i=qhe(50,250);return Yhe(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,d=i(c),u=o<=l;n=o;const A={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(A)},r)},CF=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},BF=e=>(...t)=>He.asap(()=>e(...t)),Xhe=aa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,aa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(aa.origin),aa.navigator&&/(msie|trident)/i.test(aa.navigator.userAgent)):()=>!0,Zhe=aa.hasStandardBrowserEnv?{write(e,t,r,n,i,a,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];He.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),He.isString(n)&&l.push(`path=${n}`),He.isString(i)&&l.push(`domain=${i}`),a===!0&&l.push("secure"),He.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Jhe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function eAe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function XV(e,t,r){let n=!Jhe(t);return e&&(n||r==!1)?eAe(e,t):t}const SF=e=>e instanceof Za?{...e}:e;function Pf(e,t){t=t||{};const r={};function n(d,u,A,f){return He.isPlainObject(d)&&He.isPlainObject(u)?He.merge.call({caseless:f},d,u):He.isPlainObject(u)?He.merge({},u):He.isArray(u)?u.slice():u}function i(d,u,A,f){if(He.isUndefined(u)){if(!He.isUndefined(d))return n(void 0,d,A,f)}else return n(d,u,A,f)}function a(d,u){if(!He.isUndefined(u))return n(void 0,u)}function o(d,u){if(He.isUndefined(u)){if(!He.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,A){if(A in t)return n(d,u);if(A in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,A)=>i(SF(d),SF(u),A,!0)};return He.forEach(Object.keys({...e,...t}),function(u){const A=c[u]||i,f=A(e[u],t[u],u);He.isUndefined(f)&&A!==l||(r[u]=f)}),r}const ZV=e=>{const t=Pf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Za.from(o),t.url=KV(XV(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),He.isFormData(r)){if(aa.hasStandardBrowserEnv||aa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(He.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,A])=>{d.includes(u.toLowerCase())&&o.set(u,A)})}}if(aa.hasStandardBrowserEnv&&(n&&He.isFunction(n)&&(n=n(t)),n||n!==!1&&Xhe(t.url))){const c=i&&a&&Zhe.read(a);c&&o.set(i,c)}return t},tAe=typeof XMLHttpRequest<"u",rAe=tAe&&function(e){return new Promise(function(r,n){const i=ZV(e);let a=i.data;const o=Za.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,A,f,m,x;function p(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function y(){if(!v)return;const w=Za.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};YV(function(I){r(I),p()},function(I){n(I),p()},N),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new br("Request aborted",br.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const N=j&&j.message?j.message:"Network Error",B=new br(N,br.ERR_NETWORK,e,v);B.event=j||null,n(B),v=null},v.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||WV;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),n(new br(j,N.clarifyTimeoutError?br.ETIMEDOUT:br.ECONNABORTED,e,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&He.forEach(o.toJSON(),function(j,N){v.setRequestHeader(N,j)}),He.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),l&&l!=="json"&&(v.responseType=i.responseType),d&&([f,x]=m2(d,!0),v.addEventListener("progress",f)),c&&v.upload&&([A,m]=m2(c),v.upload.addEventListener("progress",A),v.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(u=w=>{v&&(n(!w||w.type?new Qg(null,e,v):w),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=Ghe(i.url);if(b&&aa.protocols.indexOf(b)===-1){n(new br("Unsupported protocol "+b+":",br.ERR_BAD_REQUEST,e));return}v.send(a||null)})},nAe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof br?u:new Qg(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new br(`timeout ${t} of ms exceeded`,br.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>He.asap(l),c}},sAe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},iAe=async function*(e,t){for await(const r of aAe(e))yield*sAe(r,t)},aAe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},EF=(e,t,r,n)=>{const i=iAe(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let A=u.byteLength;if(r){let f=a+=A;r(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},kF=64*1024,{isFunction:Mb}=He,oAe=(({Request:e,Response:t})=>({Request:e,Response:t}))(He.global),{ReadableStream:PF,TextEncoder:IF}=He.global,TF=(e,...t)=>{try{return!!e(...t)}catch{return!1}},lAe=e=>{e=He.merge.call({skipUndefined:!0},oAe,e);const{fetch:t,Request:r,Response:n}=e,i=t?Mb(t):typeof fetch=="function",a=Mb(r),o=Mb(n);if(!i)return!1;const l=i&&Mb(PF),c=i&&(typeof IF=="function"?(x=>p=>x.encode(p))(new IF):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=a&&l&&TF(()=>{let x=!1;const p=new r(aa.origin,{body:new PF,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!p}),u=o&&l&&TF(()=>He.isReadableStream(new n("").body)),A={stream:u&&(x=>x.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!A[x]&&(A[x]=(p,v)=>{let y=p&&p[x];if(y)return y.call(p);throw new br(`Response type '${x}' is not supported`,br.ERR_NOT_SUPPORT,v)})});const f=async x=>{if(x==null)return 0;if(He.isBlob(x))return x.size;if(He.isSpecCompliantForm(x))return(await new r(aa.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(He.isArrayBufferView(x)||He.isArrayBuffer(x))return x.byteLength;if(He.isURLSearchParams(x)&&(x=x+""),He.isString(x))return(await c(x)).byteLength},m=async(x,p)=>{const v=He.toFiniteNumber(x.getContentLength());return v??f(p)};return async x=>{let{url:p,method:v,data:y,signal:b,cancelToken:w,timeout:j,onDownloadProgress:N,onUploadProgress:B,responseType:I,headers:P,withCredentials:T="same-origin",fetchOptions:F}=ZV(x),E=t||fetch;I=I?(I+"").toLowerCase():"text";let k=nAe([b,w&&w.toAbortSignal()],j),M=null;const U=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let W;try{if(B&&d&&v!=="get"&&v!=="head"&&(W=await m(P,y))!==0){let J=new r(p,{method:"POST",body:y,duplex:"half"}),H;if(He.isFormData(y)&&(H=J.headers.get("content-type"))&&P.setContentType(H),J.body){const[Z,K]=CF(W,m2(BF(B)));y=EF(J.body,kF,Z,K)}}He.isString(T)||(T=T?"include":"omit");const Y=a&&"credentials"in r.prototype,Q={...F,signal:k,method:v.toUpperCase(),headers:P.normalize().toJSON(),body:y,duplex:"half",credentials:Y?T:void 0};M=a&&new r(p,Q);let z=await(a?E(M,F):E(p,Q));const te=u&&(I==="stream"||I==="response");if(u&&(N||te&&U)){const J={};["status","statusText","headers"].forEach(ie=>{J[ie]=z[ie]});const H=He.toFiniteNumber(z.headers.get("content-length")),[Z,K]=N&&CF(H,m2(BF(N),!0))||[];z=new n(EF(z.body,kF,Z,()=>{K&&K(),U&&U()}),J)}I=I||"text";let re=await A[He.findKey(A,I)||"text"](z,x);return!te&&U&&U(),await new Promise((J,H)=>{YV(J,H,{data:re,headers:Za.from(z.headers),status:z.status,statusText:z.statusText,config:x,request:M})})}catch(Y){throw U&&U(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new br("Network Error",br.ERR_NETWORK,x,M),{cause:Y.cause||Y}):br.from(Y,Y&&Y.code,x,M)}}},cAe=new Map,JV=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,l=o,c,d,u=cAe;for(;l--;)c=a[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:lAe(t)),u=d;return d};JV();const e6={http:Che,xhr:rAe,fetch:{get:JV}};He.forEach(e6,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const OF=e=>`- ${e}`,dAe=e=>He.isFunction(e)||e===null||e===!1;function uAe(e,t){e=He.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let l;if(i=n,!dAe(n)&&(i=e6[(l=String(n)).toLowerCase()],i===void 0))throw new br(`Unknown adapter '${l}'`);if(i&&(He.isFunction(i)||(i=i.get(t))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(OF).join(`
`):" "+OF(o[0]):"as no adapter specified";throw new br("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const eK={getAdapter:uAe,adapters:e6};function dC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qg(null,e)}function LF(e){return dC(e),e.headers=Za.from(e.headers),e.data=cC.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),eK.getAdapter(e.adapter||Pv.adapter,e)(e).then(function(n){return dC(e),n.data=cC.call(e,e.transformResponse,n),n.headers=Za.from(n.headers),n},function(n){return qV(n)||(dC(e),n&&n.response&&(n.response.data=cC.call(e,e.transformResponse,n.response),n.response.headers=Za.from(n.response.headers))),Promise.reject(n)})}const tK="1.13.2",PN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{PN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const FF={};PN.transitional=function(t,r,n){function i(a,o){return"[Axios v"+tK+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new br(i(o," has been removed"+(r?" in "+r:"")),br.ERR_DEPRECATED);return r&&!FF[o]&&(FF[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};PN.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function hAe(e,t,r){if(typeof e!="object")throw new br("options must be an object",br.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new br("option "+a+" must be "+c,br.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new br("Unknown option "+a,br.ERR_BAD_OPTION)}}const d1={assertOptions:hAe,validators:PN},Fc=d1.validators;let Af=class{constructor(t){this.defaults=t||{},this.interceptors={request:new NF,response:new NF}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Pf(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&d1.assertOptions(n,{silentJSONParsing:Fc.transitional(Fc.boolean),forcedJSONParsing:Fc.transitional(Fc.boolean),clarifyTimeoutError:Fc.transitional(Fc.boolean)},!1),i!=null&&(He.isFunction(i)?r.paramsSerializer={serialize:i}:d1.assertOptions(i,{encode:Fc.function,serialize:Fc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),d1.assertOptions(r,{baseUrl:Fc.spelling("baseURL"),withXsrfToken:Fc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&He.merge(a.common,a[r.method]);a&&He.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),r.headers=Za.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,A=0,f;if(!c){const x=[LF.bind(this),void 0];for(x.unshift(...l),x.push(...d),f=x.length,u=Promise.resolve(r);A<f;)u=u.then(x[A++],x[A++]);return u}f=l.length;let m=r;for(;A<f;){const x=l[A++],p=l[A++];try{m=x(m)}catch(v){p.call(this,v);break}}try{u=LF.call(this,m)}catch(x){return Promise.reject(x)}for(A=0,f=d.length;A<f;)u=u.then(d[A++],d[A++]);return u}getUri(t){t=Pf(this.defaults,t);const r=XV(t.baseURL,t.url,t.allowAbsoluteUrls);return KV(r,t.params,t.paramsSerializer)}};He.forEach(["delete","get","head","options"],function(t){Af.prototype[t]=function(r,n){return this.request(Pf(n||{},{method:t,url:r,data:(n||{}).data}))}});He.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(Pf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Af.prototype[t]=r(),Af.prototype[t+"Form"]=r(!0)});let AAe=class rK{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new Qg(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new rK(function(i){t=i}),cancel:t}}};function fAe(e){return function(r){return e.apply(null,r)}}function mAe(e){return He.isObject(e)&&e.isAxiosError===!0}const C4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(C4).forEach(([e,t])=>{C4[t]=e});function nK(e){const t=new Af(e),r=OV(Af.prototype.request,t);return He.extend(r,Af.prototype,t,{allOwnKeys:!0}),He.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return nK(Pf(e,i))},r}const cn=nK(Pv);cn.Axios=Af;cn.CanceledError=Qg;cn.CancelToken=AAe;cn.isCancel=qV;cn.VERSION=tK;cn.toFormData=kN;cn.AxiosError=br;cn.Cancel=cn.CanceledError;cn.all=function(t){return Promise.all(t)};cn.spread=fAe;cn.isAxiosError=mAe;cn.mergeConfig=Pf;cn.AxiosHeaders=Za;cn.formToJSON=e=>GV(He.isHTMLForm(e)?new FormData(e):e);cn.getAdapter=eK.getAdapter;cn.HttpStatusCode=C4;cn.default=cn;const{Axios:QJe,AxiosError:$Je,CanceledError:HJe,isCancel:zJe,CancelToken:VJe,VERSION:KJe,all:WJe,Cancel:GJe,isAxiosError:qJe,spread:YJe,toFormData:XJe,AxiosHeaders:ZJe,HttpStatusCode:JJe,formToJSON:eet,getAdapter:tet,mergeConfig:ret}=cn;let ff="http://localhost:5000/api";ff.endsWith("/")&&(ff=ff.slice(0,-1));ff.endsWith("/api")||(ff=`${ff}/api`);const kt=cn.create({baseURL:ff,withCredentials:!0,timeout:1e4});kt.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));class pAe{constructor(){this.isInitialized=!1,this.apiKey=null,this.apiUrl="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",this.fallbackResponses=this.buildFallbackResponses()}buildFallbackResponses(){return{pricing:["Our rooms start from 8,000/month for shared spaces and 15,000/month for single rooms. All prices include WiFi, utilities, and basic amenities!","Pricing depends on location and room type. Single rooms range from 12,000-25,000/month, while shared spaces start at 8,000/month. We offer great value for money!","We have flexible pricing options! Single rooms: 12,000-25,000/month, Shared rooms: 8,000-15,000/month. All inclusive of utilities and amenities."],locations:["We have properties in prime locations across multiple cities. Our properties are strategically positioned in the best neighborhoods with easy access to business districts and residential areas!","Our properties are located in prime areas across different cities. We have multiple locations including city centers, business districts, and residential neighborhoods.","We operate in multiple cities with properties in prime locations. Each property is carefully selected for its accessibility and neighborhood quality."],amenities:["All our properties include: High-speed WiFi, 24/7 security, housekeeping, laundry facilities, common kitchen, and co-working spaces. Some locations also have gyms and cafeterias!","Standard amenities: WiFi, security, cleaning, kitchen access, and common areas. Premium locations include gyms, cafeterias, gaming rooms, and rooftop spaces.","We provide WiFi, security, housekeeping, shared kitchens, study areas, and common lounges. Premium properties also feature gyms, cafeterias, and recreational facilities."],booking:["To book a room: 1) Browse our listings, 2) Schedule a virtual or in-person tour, 3) Complete the application form, 4) Sign the digital agreement. The process takes 2-3 days!","Booking is simple! Visit any room listing, click 'Book Now', fill the application, and we'll get back within 24 hours. You can also schedule a tour first.","Our booking process: Select a room  Schedule tour  Submit application  Digital agreement  Move in! We typically process applications within 48 hours."],roommate:["We use AI-powered compatibility matching based on lifestyle, work schedule, cleanliness preferences, and interests. You can also specify gender preferences and age range.","Our roommate matching considers work schedules, lifestyle habits, cleanliness standards, and personal interests. We ensure compatible living arrangements for everyone.","We match roommates using advanced algorithms that consider lifestyle compatibility, work schedules, and personal preferences. You can also choose your own roommates if you prefer."],security:["All properties have 24/7 security, CCTV cameras, secure entry systems, and verified property owners. We also conduct background checks on all residents.","Security features include: 24/7 guards, CCTV surveillance, secure access cards, and emergency response systems. All property owners are background-verified.","Your safety is our priority! We provide 24/7 security, surveillance systems, secure access, and verified property owners. All residents undergo background verification."],payment:["We accept online payments via UPI, cards, and net banking. Rent is typically paid monthly, and we offer flexible payment plans. No hidden charges!","Payment options: UPI, credit/debit cards, net banking, and digital wallets. Rent is due monthly, and we provide transparent billing for all utilities.","Payments can be made online through our secure portal. We accept UPI, cards, and net banking. Monthly rent includes utilities with no hidden costs."],support:["Our support team is available 24/7 via chat, phone (+91 98765 43210), or email (support@lyvoplus.com). We typically respond within 2 hours!","You can reach us anytime at support@lyvoplus.com or call +91 98765 43210. Our team responds within 2 hours and is available 24/7.","24/7 support available! Contact us at support@lyvoplus.com or +91 98765 43210. We also have in-app chat support for immediate assistance."],greeting:["Hello! Welcome to Lyvo+. I'm here to help you find your perfect co-living space!","Hi there! Ready to discover amazing co-living opportunities?","Welcome to Lyvo+! Let's find you the ideal living space with great roommates."],default:["I'm here to help with co-living questions! You can ask about pricing, locations, amenities, booking process, roommate matching, security, payments, or support.","I can assist with finding rooms, understanding our services, booking process, roommate matching, and general inquiries. What would you like to know?","Feel free to ask about our co-living spaces, pricing, locations, amenities, booking process, or any other questions about Lyvo+!"]}}async initialize(){try{if(console.log("Initializing Google Gemini Pro AI Service..."),this.apiKey="AIzaSyBctLbHMKEWiFsmnrTPJUVaLe3OMkHLtaM",!this.apiKey)throw new Error("Google Gemini API key not found");await this.testConnectionWithRetry(),this.isInitialized=!0,console.log("Google Gemini Pro AI Service initialized successfully")}catch(t){console.error("Failed to initialize Gemini AI Service:",t),console.log(" AI Service will use fallback responses due to initialization failure"),this.isInitialized=!1}}async testConnectionWithRetry(){for(let n=1;n<=2;n++)try{console.log(` Testing Gemini API connection (attempt ${n}/2)`);const i=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"test"}]}]})});if(i.ok){console.log(" Gemini API connection test successful");return}else if(i.status===429&&(console.warn(` Rate limit hit (429). Attempt ${n}/2`),n<2)){const a=5e3*n;console.log(` Waiting ${a}ms before retry...`),await new Promise(o=>setTimeout(o,a));continue}throw new Error(`API test failed: ${i.status}`)}catch(i){if(console.error(` Gemini API connection test failed (attempt ${n}):`,i),n===2)throw console.warn(" All retry attempts failed. AI service will use fallback responses."),i;if(i.message.includes("429")){const a=5e3*n;console.log(` Rate limit detected. Waiting ${a}ms before retry...`),await new Promise(o=>setTimeout(o,a))}}}async testConnection(){try{const t=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Hello, respond with 'Connection successful'"}]}]})});if(!t.ok)throw new Error(`API test failed: ${t.status}`);console.log("Gemini API connection test successful")}catch(t){throw console.error("Gemini API connection test failed:",t),t}}async getChatResponse(t,r="gemini-2.5-flash"){var n,i;if(!this.isInitialized){console.log(" Initializing AI service...");try{await this.initialize()}catch{console.log(" AI service initialization failed, using fallback responses")}}if(!this.isInitialized){console.log(" Using fallback responses due to AI service unavailability");const a=((n=t[t.length-1])==null?void 0:n.content)||"",o=this.getFallbackResponse(a);return console.log(" Fallback response:",o),o}try{console.log(" Processing message with Google Gemini 2.5 Flash:",{model:r,messageCount:t.length});const a=await this.callGeminiAPI(t);return console.log(" Gemini 2.5 Flash Response generated"),a}catch(a){console.error(" Error getting Gemini response:",a),console.log(" Falling back to local responses");const o=((i=t[t.length-1])==null?void 0:i.content)||"",l=this.getFallbackResponse(o);return console.log(" Fallback response:",l),l}}async fetchProjectData(){try{console.log(" Fetching project data from database...");const r=(await kt.get("/property/public/properties")).data;return console.log(" Project data fetched:",r),this.transformPropertyData(r)}catch(t){return console.warn(" Error fetching project data:",t),this.getFallbackProjectData()}}transformPropertyData(t){try{const r=t.properties||[],n=[...new Set(r.map(l=>{var c;return(c=l.address)==null?void 0:c.city}).filter(Boolean))],a=r.map(l=>{const c=l.rooms||[];if(c.length===0)return null;const d=c.map(u=>u.rent).filter(Boolean);return d.length===0?null:{min:Math.min(...d),max:Math.max(...d)}}).filter(Boolean).flatMap(l=>[l.min,l.max]),o=a.length>0?`${Math.min(...a).toLocaleString()}-${Math.max(...a).toLocaleString()}`:"Flexible pricing";return{properties:r.slice(0,5).map(l=>{var c;return{id:l._id,name:l.property_name,location:((c=l.address)==null?void 0:c.city)||"Multiple cities",price:this.getPriceRange(l.rooms),type:this.getRoomTypes(l.rooms),amenities:this.getAmenities(l.rooms)}}),cities:n.length>0?n:["Multiple cities"],totalProperties:r.length,averagePrice:o}}catch(r){return console.error("Error transforming property data:",r),this.getFallbackProjectData()}}getPriceRange(t){if(!t||t.length===0)return"Contact for pricing";const r=t.map(a=>a.rent).filter(Boolean);if(r.length===0)return"Contact for pricing";const n=Math.min(...r),i=Math.max(...r);return n===i?`${n.toLocaleString()}`:`${n.toLocaleString()}-${i.toLocaleString()}`}getRoomTypes(t){return!t||t.length===0?"Various types":[...new Set(t.map(n=>n.room_type))].join(", ")}getAmenities(t){if(!t||t.length===0)return["WiFi","Security"];const r=new Set;return t.forEach(n=>{n.amenities&&Object.keys(n.amenities).forEach(i=>{n.amenities[i]&&r.add(i.charAt(0).toUpperCase()+i.slice(1))})}),Array.from(r).slice(0,5)}getFallbackProjectData(){return{properties:[{id:1,name:"Lyvo+ Premium",location:"Prime Location",price:"15,000-25,000",type:"Single Room",amenities:["WiFi","Security","Kitchen","Laundry"]},{id:2,name:"Lyvo+ Shared",location:"Downtown Area",price:"8,000-12,000",type:"Shared Room",amenities:["WiFi","Security","Common Area"]},{id:3,name:"Lyvo+ Studio",location:"City Center",price:"20,000-30,000",type:"Studio",amenities:["WiFi","Security","AC","Private Bathroom"]}],cities:["Multiple Cities"],totalProperties:"50+",averagePrice:"10,000-25,000"}}async callGeminiAPI(t){var r,n,i;try{console.log(" Calling Gemini API...");const a=await this.fetchProjectData(),o=`You are Lyvo+ Assistant, a helpful AI assistant for a co-living platform called Lyvo+. 

About Lyvo+:
- We provide co-living spaces (PG accommodations) across multiple cities
- We offer various room types with flexible pricing options
- All prices include WiFi, utilities, and basic amenities
- We have properties in prime locations across different cities
- We provide 24/7 security, housekeeping, common kitchens, co-working spaces
- Some premium locations have gyms, cafeterias, gaming rooms
- We use AI-powered roommate matching based on lifestyle compatibility
- Booking process: Browse  Tour  Apply  Digital Agreement  Move in
- Support available 24/7 at support@lyvoplus.com

Current Project Data:
- Total Properties: ${a.totalProperties||"Multiple"}
- Price Range: ${a.averagePrice||"Flexible pricing"}
- Available Cities: ${((r=a.cities)==null?void 0:r.join(", "))||"Multiple cities"}
- Property Types: Single rooms, Shared rooms, Premium suites

Sample Properties:
${((n=a.properties)==null?void 0:n.slice(0,3).map(f=>`- ${f.name} (${f.type}): ${f.price} in ${f.location}`).join(`
`))||"- Various properties available"}

Guidelines:
- Be friendly, helpful, and professional
- Focus on co-living, room rentals, and PG accommodations
- Provide accurate information about our services using the project data above
- If asked about topics outside co-living, politely redirect to our services
- Keep responses concise but informative (max 200 words)
- Always be encouraging about our co-living community
- Use the provided project data to give accurate pricing and location information`,l=((i=t[t.length-1])==null?void 0:i.content)||"",c=`${o}

User Question: ${l}`;console.log(" Sending request to Gemini API...");const d=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:200}})});if(console.log(" Gemini API response status:",d.status),!d.ok){const f=await d.text();throw console.error(" Gemini API error response:",f),new Error(`Gemini API error: ${d.status} ${d.statusText}`)}const u=await d.json();if(console.log(" Gemini API response data:",u),!u.candidates||!u.candidates[0]||!u.candidates[0].content)throw new Error("Invalid response format from Gemini API");const A=u.candidates[0].content.parts[0].text;return console.log(" Final AI response:",A),A}catch(a){throw console.error(" Gemini API call failed:",a),a}}getFallbackResponse(t){const r=t.toLowerCase();return r.includes("price")||r.includes("cost")||r.includes("rent")||r.includes("fee")||r.includes("expensive")||r.includes("cheap")?this.getRandomResponse("pricing"):r.includes("location")||r.includes("area")||r.includes("where")||r.includes("place")||r.includes("bangalore")||r.includes("koramangala")||r.includes("hsr")?this.getRandomResponse("locations"):r.includes("amenity")||r.includes("facility")||r.includes("wifi")||r.includes("gym")||r.includes("kitchen")||r.includes("security")||r.includes("laundry")?this.getRandomResponse("amenities"):r.includes("book")||r.includes("apply")||r.includes("reserve")||r.includes("process")||r.includes("how to")||r.includes("procedure")?this.getRandomResponse("booking"):r.includes("roommate")||r.includes("flatmate")||r.includes("match")||r.includes("compatibility")||r.includes("sharing")?this.getRandomResponse("roommate"):r.includes("security")||r.includes("safe")||r.includes("guard")||r.includes("cctv")||r.includes("safety")?this.getRandomResponse("security"):r.includes("payment")||r.includes("pay")||r.includes("upi")||r.includes("card")||r.includes("money")||r.includes("billing")?this.getRandomResponse("payment"):r.includes("support")||r.includes("help")||r.includes("contact")||r.includes("call")||r.includes("assistance")?this.getRandomResponse("support"):r.includes("hello")||r.includes("hi")||r.includes("hey")||r.includes("good morning")||r.includes("good afternoon")||r.includes("good evening")?this.getRandomResponse("greeting"):this.getRandomResponse("default")}getRandomResponse(t){const r=this.fallbackResponses[t]||this.fallbackResponses.default;return r[Math.floor(Math.random()*r.length)]}async getLyvoAssistantResponse(t){try{console.log(" Getting AI response for:",t);const r=await this.getChatResponse([{role:"user",content:t}]);return console.log(" AI Response received:",r),r}catch(r){return console.error(" Error getting Lyvo assistant response:",r),console.log(" Falling back to demo response"),"I'm sorry, I'm having trouble right now. Please try again later or contact our support team at support@lyvoplus.com for immediate assistance."}}}const UF=new pAe,sK=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState([{id:1,type:"bot",content:"Hi! I'm Lyvo+ Assistant. I can help you find the perfect co-living space, answer questions about our services, or assist with bookings. How can I help you today?",timestamp:new Date}]),[c,d]=_.useState(""),[u,A]=_.useState(!1),[f,m]=_.useState("idle"),[x,p]=_.useState(""),v=_.useRef(null),y=()=>{var T;(T=v.current)==null||T.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{y()},[o]),_.useEffect(()=>{e&&f==="idle"&&(async()=>{m("initializing");try{await UF.initialize(),m("ready")}catch(F){console.error("Failed to initialize AI service:",F),m("error"),p("AI service unavailable. Using fallback responses.")}})()},[e,f]),_.useEffect(()=>{const T=F=>{r&&!F.target.closest(".chatbot-menu")&&P()};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[r]);const b={greeting:["Hello! Welcome to Lyvo+. I'm here to help you find your perfect co-living space!","Hi there! Ready to discover amazing co-living opportunities?","Welcome to Lyvo+! Let's find you the ideal living space with great roommates."],pricing:["Our rooms start from 8,000/month for shared spaces and 15,000/month for single rooms. Prices vary by location and amenities. Would you like to see our current listings?","Pricing depends on location, room type, and amenities. Single rooms range from 12,000-25,000/month, while shared spaces start at 8,000/month. All prices include utilities!","We offer flexible pricing options! Single rooms: 12,000-25,000/month, Shared rooms: 8,000-15,000/month. All inclusive of WiFi, utilities, and basic amenities."],locations:["We have properties in prime locations across Bangalore: Koramangala, Indiranagar, HSR Layout, Whitefield, and Electronic City. Which area interests you?","Our properties are strategically located in Bangalore's best neighborhoods. We have 50+ locations including Koramangala, Indiranagar, HSR Layout, and more!","Currently, we operate in Bangalore with plans to expand to Mumbai, Delhi, and Hyderabad. Our Bangalore locations include all major tech hubs and residential areas."],amenities:["All our properties include: High-speed WiFi, 24/7 security, housekeeping, laundry facilities, common kitchen, and co-working spaces. Some locations also have gyms and cafeterias!","Standard amenities: WiFi, security, cleaning, kitchen access, and common areas. Premium locations include gyms, cafeterias, gaming rooms, and rooftop spaces.","We provide WiFi, security, housekeeping, shared kitchens, study areas, and common lounges. Premium properties also feature gyms, cafeterias, and recreational facilities."],booking:["To book a room, you can: 1) Browse our listings, 2) Schedule a virtual or in-person tour, 3) Complete the application form, 4) Sign the digital agreement. The process takes 2-3 days!","Booking is simple! Visit any room listing, click 'Book Now', fill the application, and we'll get back within 24 hours. You can also schedule a tour first.","Our booking process: Select a room  Schedule tour  Submit application  Digital agreement  Move in! We typically process applications within 48 hours."],roommate:["We use AI-powered compatibility matching based on lifestyle, work schedule, cleanliness preferences, and interests. You can also specify gender preferences and age range.","Our roommate matching considers work schedules, lifestyle habits, cleanliness standards, and personal interests. We ensure compatible living arrangements for everyone.","We match roommates using advanced algorithms that consider lifestyle compatibility, work schedules, and personal preferences. You can also choose your own roommates if you prefer."],security:["All properties have 24/7 security, CCTV cameras, secure entry systems, and verified property owners. We also conduct background checks on all residents.","Security features include: 24/7 guards, CCTV surveillance, secure access cards, and emergency response systems. All property owners are background-verified.","Your safety is our priority! We provide 24/7 security, surveillance systems, secure access, and verified property owners. All residents undergo background verification."],payment:["We accept online payments via UPI, cards, and net banking. Rent is typically paid monthly, and we offer flexible payment plans. No hidden charges!","Payment options: UPI, credit/debit cards, net banking, and digital wallets. Rent is due monthly, and we provide transparent billing for all utilities.","Payments can be made online through our secure portal. We accept UPI, cards, and net banking. Monthly rent includes utilities with no hidden costs."],support:["Our support team is available 24/7 via chat, phone (+91 98765 43210), or email (support@lyvoplus.com). We typically respond within 2 hours!","You can reach us anytime at support@lyvoplus.com or call +91 98765 43210. Our team responds within 2 hours and is available 24/7.","24/7 support available! Contact us at support@lyvoplus.com or +91 98765 43210. We also have in-app chat support for immediate assistance."],default:["I'm here to help with co-living questions! You can ask about pricing, locations, amenities, booking process, roommate matching, security, payments, or support.","I can assist with finding rooms, understanding our services, booking process, roommate matching, and general inquiries. What would you like to know?","Feel free to ask about our co-living spaces, pricing, locations, amenities, booking process, or any other questions about Lyvo+!"]},w=[{text:"What are your room prices?",category:"pricing"},{text:"Where are your properties located?",category:"locations"},{text:"What amenities do you provide?",category:"amenities"},{text:"How do I book a room?",category:"booking"},{text:"How do you match roommates?",category:"roommate"},{text:"What security measures do you have?",category:"security"},{text:"What payment methods do you accept?",category:"payment"},{text:"How can I contact support?",category:"support"}],j=T=>{const F=T.toLowerCase();return F.includes("are you ai")||F.includes("are you a bot")||F.includes("are you real")||F.includes("ai or human")||F.includes("bot or human")?"Yes, I'm an AI-powered chatbot assistant designed to help you with co-living questions. Currently using fallback responses due to high traffic, but I can still help you with pricing, locations, booking, and more!":F.includes("mock")||F.includes("fake")||F.includes("real message")?"I'm using pre-programmed fallback responses right now since our main AI service is temporarily busy. But I'm still here to help with all your co-living questions! What would you like to know?":F.includes("what i asked")||F.includes("my question")||F.includes("tell me about")?"I apologize for not directly answering your previous question. I'm currently in fallback mode. Could you please rephrase your question? I can help with: pricing, locations, amenities, booking process, roommate matching, security, payments, or support contact info.":F.includes("price")||F.includes("cost")||F.includes("rent")||F.includes("fee")?b.pricing[Math.floor(Math.random()*b.pricing.length)]:F.includes("location")||F.includes("area")||F.includes("where")||F.includes("place")?b.locations[Math.floor(Math.random()*b.locations.length)]:F.includes("amenity")||F.includes("facility")||F.includes("wifi")||F.includes("gym")?b.amenities[Math.floor(Math.random()*b.amenities.length)]:F.includes("book")||F.includes("apply")||F.includes("reserve")||F.includes("process")?b.booking[Math.floor(Math.random()*b.booking.length)]:F.includes("roommate")||F.includes("flatmate")||F.includes("match")||F.includes("compatibility")?b.roommate[Math.floor(Math.random()*b.roommate.length)]:F.includes("security")||F.includes("safe")||F.includes("guard")||F.includes("cctv")?b.security[Math.floor(Math.random()*b.security.length)]:F.includes("payment")||F.includes("pay")||F.includes("upi")||F.includes("card")?b.payment[Math.floor(Math.random()*b.payment.length)]:F.includes("support")||F.includes("help")||F.includes("contact")||F.includes("call")?b.support[Math.floor(Math.random()*b.support.length)]:F.includes("hello")||F.includes("hi")||F.includes("hey")?b.greeting[Math.floor(Math.random()*b.greeting.length)]:b.default[Math.floor(Math.random()*b.default.length)]},N=async T=>{if(!T.trim())return;const F={id:Date.now(),type:"user",content:T,timestamp:new Date};l(E=>[...E,F]),d(""),A(!0);try{let E;if(f==="ready")try{E=await UF.getLyvoAssistantResponse(T)}catch(k){console.error("AI service error:",k),E=j(T)}else E=j(T);setTimeout(()=>{const k={id:Date.now()+1,type:"bot",content:E,timestamp:new Date};l(M=>[...M,k]),A(!1)},1e3+Math.random()*1e3)}catch(E){console.error("Error handling message:",E),setTimeout(()=>{const k={id:Date.now()+1,type:"bot",content:"I'm sorry, I'm having trouble right now. Please try again or contact our support team at support@lyvoplus.com.",timestamp:new Date};l(M=>[...M,k]),A(!1)},1e3)}},B=T=>{N(T)},I=()=>{l([{id:Date.now(),type:"bot",content:"Hi! I'm Lyvo+ Assistant. I can help you find the perfect co-living space, answer questions about our services, or assist with bookings. How can I help you today?",timestamp:new Date}]),a(!1),n(!1)},P=()=>{n(!1),a(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(X.div,{className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-[80]",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:2},children:s.jsxs(X.button,{onClick:()=>t(!e),className:"relative w-16 h-16 sm:w-16 sm:h-16 bg-gradient-to-br from-red-500 via-red-600 to-red-700 rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 flex items-center justify-center text-white border-2 border-white/20",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9,rotate:-5},children:[s.jsx(gn,{mode:"wait",children:e?s.jsx(X.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.3},children:s.jsx(or,{className:"w-7 h-7 sm:w-7 sm:h-7"})},"close"):s.jsx(X.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.3},children:s.jsx(Wh,{className:"w-7 h-7 sm:w-7 sm:h-7"})},"chat")}),s.jsx(X.div,{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-red-500 via-red-600 to-red-700 opacity-30",animate:{scale:[1,1.3,1]},transition:{duration:2,repeat:1/0,delay:3}}),s.jsx(X.div,{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-400 rounded-full border-2 border-white shadow-lg",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}})]})}),s.jsx(gn,{children:e&&s.jsxs(X.div,{initial:{opacity:0,scale:.8,y:20,rotateX:-15},animate:{opacity:1,scale:1,y:0,rotateX:0},exit:{opacity:0,scale:.8,y:20,rotateX:-15},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-24 right-4 z-[75] w-[320px] h-[500px] sm:bottom-32 sm:right-20 bg-gradient-to-br from-white to-gray-50 rounded-[2rem] shadow-2xl border border-gray-200/50 backdrop-blur-sm flex flex-col",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[s.jsxs("div",{className:"relative bg-gradient-to-br from-red-500 via-red-600 to-red-700 text-white p-3 rounded-t-[2rem]",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white rounded-full -mr-10 -mt-10"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 bg-white rounded-full -ml-6 -mb-6"})]}),s.jsxs("div",{className:"relative flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-9 h-9 sm:w-8 sm:h-8 bg-white rounded-xl flex items-center justify-center shadow-sm border border-white/30 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-5 h-5 sm:w-4 sm:h-4 object-contain"})}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-2.5 sm:h-2.5 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-bold text-base sm:text-sm",children:[s.jsx("span",{className:"text-black",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Assistant"]}),s.jsxs("div",{className:"text-sm sm:text-xs text-red-100 flex items-center space-x-1",children:[s.jsx("div",{className:`w-2 h-2 sm:w-1.5 sm:h-1.5 rounded-full ${f==="ready"?"bg-green-400 animate-pulse":f==="error"?"bg-yellow-400":f==="initializing"?"bg-blue-400 animate-pulse":"bg-gray-400"}`}),s.jsx("span",{children:f==="ready"?"AI Online  Ready to help":f==="error"?"Fallback Mode  Still helping":f==="initializing"?"Initializing AI...":"Ready to chat"})]})]}),s.jsxs("div",{className:"relative chatbot-menu",children:[s.jsx(X.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(!r),className:"w-7 h-7 sm:w-6 sm:h-6 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors duration-200 backdrop-blur-sm",children:s.jsx(GP,{className:"w-4 h-4 sm:w-3 sm:h-3"})}),s.jsx(gn,{children:r&&s.jsx(X.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden z-30",children:s.jsx("div",{className:"p-1",children:s.jsxs(X.button,{whileHover:{backgroundColor:"#fef2f2"},onClick:()=>a(!0),className:"w-full flex items-center space-x-3 px-3 py-2.5 text-sm text-gray-700 hover:text-red-600 rounded-lg transition-colors duration-200",children:[s.jsx(tg,{className:"w-4 h-4"}),s.jsx("span",{children:"Clear Chat"})]})})})})]}),s.jsx(X.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:()=>t(!1),className:"w-7 h-7 sm:w-6 sm:h-6 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors duration-200 backdrop-blur-sm",children:s.jsx(or,{className:"w-4 h-4 sm:w-3 sm:h-3"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 bg-gradient-to-b from-gray-50/50 to-white/50",children:[o.map(T=>s.jsx(X.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:300,damping:30},className:`flex ${T.type==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[88%] p-3 sm:p-2.5 rounded-xl shadow-sm ${T.type==="user"?"bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg":"bg-white text-gray-800 border border-gray-100 shadow-md"}`,style:{boxShadow:T.type==="user"?"0 10px 25px -5px rgba(239, 68, 68, 0.3)":"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[s.jsx("p",{className:"text-sm sm:text-xs leading-relaxed",children:T.content}),s.jsxs("p",{className:`text-xs mt-1.5 flex items-center space-x-1 ${T.type==="user"?"text-red-100":"text-gray-400"}`,children:[s.jsx("span",{children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),T.type==="user"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Sent"})]})]})]})},T.id)),u&&s.jsx(X.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex justify-start",children:s.jsx("div",{className:"bg-white border border-gray-100 p-3 sm:p-2.5 rounded-xl shadow-md",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-6 h-6 sm:w-5 sm:h-5 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Pr,{className:"w-3 h-3 sm:w-2.5 sm:h-2.5 text-red-500"})}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(X.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:0}}),s.jsx(X.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:.2}}),s.jsx(X.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:.4}})]}),s.jsxs("span",{className:"text-sm sm:text-xs text-gray-500 ml-1",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," is typing..."]})]})})}),s.jsx("div",{ref:v})]}),o.length===1&&s.jsxs("div",{className:"px-3 pb-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Quick questions:"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:w.slice(0,4).map((T,F)=>s.jsx(X.button,{onClick:()=>B(T.text),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-2 sm:px-2.5 sm:py-1.5 bg-white border border-gray-200 hover:border-red-300 hover:bg-red-50 text-gray-700 text-sm sm:text-xs rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:T.text},F))})]}),s.jsxs("div",{className:"flex-shrink-0 px-3 pt-4 pb-5 border-t border-gray-200 bg-white shadow-sm rounded-b-[2rem]",children:[s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:c,onChange:T=>d(T.target.value),onKeyPress:T=>T.key==="Enter"&&N(c),placeholder:"Ask about rooms, pricing, amenities...",className:"w-full px-4 py-2.5 sm:px-3 sm:py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm sm:text-xs bg-white shadow-sm hover:shadow-md transition-all duration-200"}),s.jsx("div",{className:"absolute right-3 sm:right-2.5 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx(Wh,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"})})]}),s.jsx(X.button,{onClick:()=>N(c),disabled:!c.trim(),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2.5 sm:px-3 sm:py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center",children:s.jsx(Jp,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"})})]}),s.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send  Available 24/7"})]})]})}),s.jsx(gn,{children:i&&s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-60 flex items-center justify-center p-4",onClick:P,children:s.jsx(X.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:T=>T.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(tg,{className:"w-6 h-6 text-red-500"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Clear Chat History?"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"This will delete all messages and start a new conversation. This action cannot be undone."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:P,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),s.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:I,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-red-500 rounded-xl hover:bg-red-600 transition-colors duration-200",children:"Clear Chat"})]})]})})})})]})},gAe=1,xAe=1e6;let uC=0;function yAe(){return uC=(uC+1)%Number.MAX_SAFE_INTEGER,uC.toString()}const hC=new Map,RF=e=>{if(hC.has(e))return;const t=setTimeout(()=>{hC.delete(e),Fx({type:"REMOVE_TOAST",toastId:e})},xAe);hC.set(e,t)},vAe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,gAe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?RF(r):e.toasts.forEach(n=>{RF(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},u1=[];let h1={toasts:[]};function Fx(e){h1=vAe(h1,e),u1.forEach(t=>{t(h1)})}function bAe({...e}){const t=yAe(),r=i=>Fx({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Fx({type:"DISMISS_TOAST",toastId:t});return Fx({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function xc(){const[e,t]=_.useState(h1);return _.useEffect(()=>(u1.push(t),()=>{const r=u1.indexOf(t);r>-1&&u1.splice(r,1)}),[e]),{...e,toast:bAe,dismiss:r=>Fx({type:"DISMISS_TOAST",toastId:r})}}function Dr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function DF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iK(...e){return t=>{let r=!1;const n=e.map(i=>{const a=DF(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():DF(e[i],null)}}}}function ms(...e){return _.useCallback(iK(...e),e)}function wAe(e,t){const r=_.createContext(t),n=a=>{const{children:o,...l}=a,c=_.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=_.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function Iv(e,t=[]){let r=[];function n(a,o){const l=_.createContext(o),c=r.length;r=[...r,o];const d=A=>{var y;const{scope:f,children:m,...x}=A,p=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,v=_.useMemo(()=>x,Object.values(x));return s.jsx(p.Provider,{value:v,children:m})};d.displayName=a+"Provider";function u(A,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,x=_.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${A}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,jAe(i,...t)]}function jAe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const A=c(a)[`__scope${d}`];return{...l,...A}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function sg(e){const t=_Ae(e),r=_.forwardRef((n,i)=>{const{children:a,...o}=n,l=_.Children.toArray(a),c=l.find(BAe);if(c){const d=c.props.children,u=l.map(A=>A===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:A);return s.jsx(t,{...o,ref:i,children:_.isValidElement(d)?_.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var NAe=sg("Slot");function _Ae(e){const t=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const o=EAe(i),l=SAe(a,i.props);return i.type!==_.Fragment&&(l.ref=n?iK(n,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CAe=Symbol("radix.slottable");function BAe(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CAe}function SAe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function EAe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function aK(e){const t=e+"CollectionProvider",[r,n]=Iv(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:y}=p,b=_e.useRef(null),w=_e.useRef(new Map).current;return s.jsx(i,{scope:v,itemMap:w,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=sg(l),d=_e.forwardRef((p,v)=>{const{scope:y,children:b}=p,w=a(l,y),j=ms(v,w.collectionRef);return s.jsx(c,{ref:j,children:b})});d.displayName=l;const u=e+"CollectionItemSlot",A="data-radix-collection-item",f=sg(u),m=_e.forwardRef((p,v)=>{const{scope:y,children:b,...w}=p,j=_e.useRef(null),N=ms(v,j),B=a(u,y);return _e.useEffect(()=>(B.itemMap.set(j,{ref:j,...w}),()=>void B.itemMap.delete(j))),s.jsx(f,{[A]:"",ref:N,children:b})});m.displayName=u;function x(p){const v=a(e+"CollectionConsumer",p);return _e.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${A}]`));return Array.from(v.itemMap.values()).sort((B,I)=>w.indexOf(B.ref.current)-w.indexOf(I.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},x,n]}var kAe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gr=kAe.reduce((e,t)=>{const r=sg(`Primitive.${t}`),n=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function oK(e,t){e&&sA.flushSync(()=>e.dispatchEvent(t))}function hc(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function PAe(e,t=globalThis==null?void 0:globalThis.document){const r=hc(e);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var IAe="DismissableLayer",B4="dismissableLayer.update",TAe="dismissableLayer.pointerDownOutside",OAe="dismissableLayer.focusOutside",MF,lK=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),IN=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=_.useContext(lK),[u,A]=_.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=_.useState({}),x=ms(t,I=>A(I)),p=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),b=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,N=FAe(I=>{const P=I.target,T=[...d.branches].some(F=>F.contains(P));!j||T||(i==null||i(I),o==null||o(I),I.defaultPrevented||l==null||l())},f),B=UAe(I=>{const P=I.target;[...d.branches].some(F=>F.contains(P))||(a==null||a(I),o==null||o(I),I.defaultPrevented||l==null||l())},f);return PAe(I=>{b===d.layers.size-1&&(n==null||n(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},f),_.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(MF=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),QF(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=MF)}},[u,f,r,d]),_.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),QF())},[u,d]),_.useEffect(()=>{const I=()=>m({});return document.addEventListener(B4,I),()=>document.removeEventListener(B4,I)},[]),s.jsx(Gr.div,{...c,ref:x,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:Dr(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Dr(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Dr(e.onPointerDownCapture,N.onPointerDownCapture)})});IN.displayName=IAe;var LAe="DismissableLayerBranch",cK=_.forwardRef((e,t)=>{const r=_.useContext(lK),n=_.useRef(null),i=ms(t,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Gr.div,{...e,ref:i})});cK.displayName=LAe;function FAe(e,t=globalThis==null?void 0:globalThis.document){const r=hc(e),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){dK(TAe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function UAe(e,t=globalThis==null?void 0:globalThis.document){const r=hc(e),n=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!n.current&&dK(OAe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function QF(){const e=new CustomEvent(B4);document.dispatchEvent(e)}function dK(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?oK(i,a):i.dispatchEvent(a)}var RAe=IN,DAe=cK,Ri=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},MAe="Portal",TN=_.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,a]=_.useState(!1);Ri(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?eie.createPortal(s.jsx(Gr.div,{...n,ref:t}),o):null});TN.displayName=MAe;function QAe(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var Tv=e=>{const{present:t,children:r}=e,n=$Ae(t),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=ms(n.ref,HAe(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:a}):null};Tv.displayName="Presence";function $Ae(e){const[t,r]=_.useState(),n=_.useRef(null),i=_.useRef(e),a=_.useRef("none"),o=e?"mounted":"unmounted",[l,c]=QAe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=Qb(n.current);a.current=l==="mounted"?d:"none"},[l]),Ri(()=>{const d=n.current,u=i.current;if(u!==e){const f=a.current,m=Qb(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Ri(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,A=m=>{const p=Qb(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=m=>{m.target===t&&(a.current=Qb(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",A),t.addEventListener("animationend",A),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",A),t.removeEventListener("animationend",A)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Qb(e){return(e==null?void 0:e.animationName)||"none"}function HAe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zAe=g3[" useInsertionEffect ".trim().toString()]||Ri;function p2({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=VAe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const u=_.useRef(e!==void 0);_.useEffect(()=>{const A=u.current;A!==l&&console.warn(`${n} is changing from ${A?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=_.useCallback(u=>{var A;if(l){const f=KAe(u)?u(e):u;f!==e&&((A=o.current)==null||A.call(o,f))}else a(u)},[l,e,a,o]);return[c,d]}function VAe({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),i=_.useRef(r),a=_.useRef(t);return zAe(()=>{a.current=t},[t]),_.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function KAe(e){return typeof e=="function"}var uK=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WAe="VisuallyHidden",t6=_.forwardRef((e,t)=>s.jsx(Gr.span,{...e,ref:t,style:{...uK,...e.style}}));t6.displayName=WAe;var r6="ToastProvider",[n6,GAe,qAe]=aK("Toast"),[hK]=Iv("Toast",[qAe]),[YAe,ON]=hK(r6),AK=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=_.useState(null),[d,u]=_.useState(0),A=_.useRef(!1),f=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${r6}\`. Expected non-empty \`string\`.`),s.jsx(n6.Provider,{scope:t,children:s.jsx(YAe,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:_.useCallback(()=>u(m=>m+1),[]),onToastRemove:_.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:f,children:o})})};AK.displayName=r6;var fK="ToastViewport",XAe=["F8"],S4="toast.viewportPause",E4="toast.viewportResume",mK=_.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=XAe,label:i="Notifications ({hotkey})",...a}=e,o=ON(fK,r),l=GAe(r),c=_.useRef(null),d=_.useRef(null),u=_.useRef(null),A=_.useRef(null),f=ms(t,A,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;_.useEffect(()=>{const v=y=>{var w;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((w=A.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),_.useEffect(()=>{const v=c.current,y=A.current;if(x&&v&&y){const b=()=>{if(!o.isClosePausedRef.current){const B=new CustomEvent(S4);y.dispatchEvent(B),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const B=new CustomEvent(E4);y.dispatchEvent(B),o.isClosePausedRef.current=!1}},j=B=>{!v.contains(B.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",j),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const p=_.useCallback(({tabbingDirection:v})=>{const b=l().map(w=>{const j=w.ref.current,N=[j,...dfe(j)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return _.useEffect(()=>{const v=A.current;if(v){const y=b=>{var N,B,I;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const P=document.activeElement,T=b.shiftKey;if(b.target===v&&T){(N=d.current)==null||N.focus();return}const k=p({tabbingDirection:T?"backwards":"forwards"}),M=k.findIndex(U=>U===P);AC(k.slice(M+1))?b.preventDefault():T?(B=d.current)==null||B.focus():(I=u.current)==null||I.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[l,p]),s.jsxs(DAe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(k4,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});AC(v)}}),s.jsx(n6.Slot,{scope:r,children:s.jsx(Gr.ol,{tabIndex:-1,...a,ref:f})}),x&&s.jsx(k4,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});AC(v)}})]})});mK.displayName=fK;var pK="ToastFocusProxy",k4=_.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=ON(pK,r);return s.jsx(t6,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});k4.displayName=pK;var Ov="Toast",ZAe="toast.swipeStart",JAe="toast.swipeMove",efe="toast.swipeCancel",tfe="toast.swipeEnd",gK=_.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=p2({prop:n,defaultProp:i??!0,onChange:a,caller:Ov});return s.jsx(Tv,{present:r||l,children:s.jsx(sfe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:hc(e.onPause),onResume:hc(e.onResume),onSwipeStart:Dr(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Dr(e.onSwipeMove,d=>{const{x:u,y:A}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:Dr(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Dr(e.onSwipeEnd,d=>{const{x:u,y:A}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),c(!1)})})})});gK.displayName=Ov;var[rfe,nfe]=hK(Ov,{onClose(){}}),sfe=_.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:A,onSwipeCancel:f,onSwipeEnd:m,...x}=e,p=ON(Ov,r),[v,y]=_.useState(null),b=ms(t,U=>y(U)),w=_.useRef(null),j=_.useRef(null),N=i||p.duration,B=_.useRef(0),I=_.useRef(N),P=_.useRef(0),{onToastAdd:T,onToastRemove:F}=p,E=hc(()=>{var W;(v==null?void 0:v.contains(document.activeElement))&&((W=p.viewport)==null||W.focus()),o()}),k=_.useCallback(U=>{!U||U===1/0||(window.clearTimeout(P.current),B.current=new Date().getTime(),P.current=window.setTimeout(E,U))},[E]);_.useEffect(()=>{const U=p.viewport;if(U){const W=()=>{k(I.current),d==null||d()},Y=()=>{const Q=new Date().getTime()-B.current;I.current=I.current-Q,window.clearTimeout(P.current),c==null||c()};return U.addEventListener(S4,Y),U.addEventListener(E4,W),()=>{U.removeEventListener(S4,Y),U.removeEventListener(E4,W)}}},[p.viewport,N,c,d,k]),_.useEffect(()=>{a&&!p.isClosePausedRef.current&&k(N)},[a,N,p.isClosePausedRef,k]),_.useEffect(()=>(T(),()=>F()),[T,F]);const M=_.useMemo(()=>v?NK(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[M&&s.jsx(ife,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:M}),s.jsx(rfe,{scope:r,onClose:E,children:sA.createPortal(s.jsx(n6.ItemSlot,{scope:r,children:s.jsx(RAe,{asChild:!0,onEscapeKeyDown:Dr(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||E(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Gr.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Dr(e.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Dr(e.onPointerDown,U=>{U.button===0&&(w.current={x:U.clientX,y:U.clientY})}),onPointerMove:Dr(e.onPointerMove,U=>{if(!w.current)return;const W=U.clientX-w.current.x,Y=U.clientY-w.current.y,Q=!!j.current,z=["left","right"].includes(p.swipeDirection),te=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,re=z?te(0,W):0,J=z?0:te(0,Y),H=U.pointerType==="touch"?10:2,Z={x:re,y:J},K={originalEvent:U,delta:Z};Q?(j.current=Z,$b(JAe,A,K,{discrete:!1})):$F(Z,p.swipeDirection,H)?(j.current=Z,$b(ZAe,u,K,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(W)>H||Math.abs(Y)>H)&&(w.current=null)}),onPointerUp:Dr(e.onPointerUp,U=>{const W=j.current,Y=U.target;if(Y.hasPointerCapture(U.pointerId)&&Y.releasePointerCapture(U.pointerId),j.current=null,w.current=null,W){const Q=U.currentTarget,z={originalEvent:U,delta:W};$F(W,p.swipeDirection,p.swipeThreshold)?$b(tfe,m,z,{discrete:!0}):$b(efe,f,z,{discrete:!0}),Q.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),ife=e=>{const{__scopeToast:t,children:r,...n}=e,i=ON(Ov,t),[a,o]=_.useState(!1),[l,c]=_.useState(!1);return lfe(()=>o(!0)),_.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(TN,{asChild:!0,children:s.jsx(t6,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},afe="ToastTitle",xK=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Gr.div,{...n,ref:t})});xK.displayName=afe;var ofe="ToastDescription",yK=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Gr.div,{...n,ref:t})});yK.displayName=ofe;var vK="ToastAction",bK=_.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(jK,{altText:r,asChild:!0,children:s.jsx(s6,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${vK}\`. Expected non-empty \`string\`.`),null)});bK.displayName=vK;var wK="ToastClose",s6=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=nfe(wK,r);return s.jsx(jK,{asChild:!0,children:s.jsx(Gr.button,{type:"button",...n,ref:t,onClick:Dr(e.onClick,i.onClose)})})});s6.displayName=wK;var jK=_.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return s.jsx(Gr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function NK(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),cfe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...NK(n))}}),t}function $b(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?oK(i,a):i.dispatchEvent(a)}var $F=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function lfe(e=()=>{}){const t=hc(e);Ri(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function cfe(e){return e.nodeType===e.ELEMENT_NODE}function dfe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function AC(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var ufe=AK,_K=mK,CK=gK,BK=xK,SK=yK,EK=bK,kK=s6;function PK(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=PK(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function gr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=PK(e))&&(n&&(n+=" "),n+=t);return n}const HF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zF=gr,i6=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return zF(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const u=r==null?void 0:r[d],A=a==null?void 0:a[d];if(u===null)return null;const f=HF(u)||HF(A);return i[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[A,f]=u;return f===void 0||(d[A]=f),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:A,className:f,...m}=u;return Object.entries(m).every(x=>{let[p,v]=x;return Array.isArray(v)?v.includes({...a,...l}[p]):{...a,...l}[p]===v})?[...d,A,f]:d},[]);return zF(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},a6="-",hfe=e=>{const t=ffe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(a6);return l[0]===""&&l.length!==1&&l.shift(),IK(l,t)||Afe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},IK=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?IK(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(a6);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},VF=/^\[(.+)\]$/,Afe=e=>{if(VF.test(e)){const t=VF.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ffe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return pfe(Object.entries(e.classGroups),r).forEach(([a,o])=>{P4(o,n,a,t)}),n},P4=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:KF(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(mfe(i)){P4(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{P4(o,KF(t,a),r,n)})})},KF=(e,t)=>{let r=e;return t.split(a6).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},mfe=e=>e.isThemeGetter,pfe=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,i]}):e,gfe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},TK="!",xfe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,A;for(let v=0;v<l.length;v++){let y=l[v];if(d===0){if(y===i&&(n||l.slice(v,v+a)===t)){c.push(l.slice(u,v)),u=v+a;continue}if(y==="/"){A=v;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(TK),x=m?f.substring(1):f,p=A&&A>u?A-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},yfe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},vfe=e=>({cache:gfe(e.cacheSize),parseClassName:xfe(e),...hfe(e)}),bfe=/\s+/,wfe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(bfe);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:A,baseClassName:f,maybePostfixModifierPosition:m}=r(d);let x=!!m,p=n(x?f.substring(0,m):f);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=n(f),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const v=yfe(u).join(":"),y=A?v+TK:v,b=y+p;if(a.includes(b))continue;a.push(b);const w=i(p,x);for(let j=0;j<w.length;++j){const N=w[j];a.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function jfe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=OK(t))&&(n&&(n+=" "),n+=r);return n}const OK=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=OK(e[n]))&&(r&&(r+=" "),r+=t);return r};function Nfe(e,...t){let r,n,i,a=o;function o(c){const d=t.reduce((u,A)=>A(u),e());return r=vfe(d),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=wfe(c,r);return i(c,u),u}return function(){return a(jfe.apply(null,arguments))}}const Vn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},LK=/^\[(?:([a-z-]+):)?(.+)\]$/i,_fe=/^\d+\/\d+$/,Cfe=new Set(["px","full","screen"]),Bfe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sfe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Efe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kfe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pfe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sd=e=>_p(e)||Cfe.has(e)||_fe.test(e),qu=e=>$g(e,"length",Dfe),_p=e=>!!e&&!Number.isNaN(Number(e)),fC=e=>$g(e,"number",_p),L0=e=>!!e&&Number.isInteger(Number(e)),Ife=e=>e.endsWith("%")&&_p(e.slice(0,-1)),Cr=e=>LK.test(e),Yu=e=>Bfe.test(e),Tfe=new Set(["length","size","percentage"]),Ofe=e=>$g(e,Tfe,FK),Lfe=e=>$g(e,"position",FK),Ffe=new Set(["image","url"]),Ufe=e=>$g(e,Ffe,Qfe),Rfe=e=>$g(e,"",Mfe),F0=()=>!0,$g=(e,t,r)=>{const n=LK.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Dfe=e=>Sfe.test(e)&&!Efe.test(e),FK=()=>!1,Mfe=e=>kfe.test(e),Qfe=e=>Pfe.test(e),$fe=()=>{const e=Vn("colors"),t=Vn("spacing"),r=Vn("blur"),n=Vn("brightness"),i=Vn("borderColor"),a=Vn("borderRadius"),o=Vn("borderSpacing"),l=Vn("borderWidth"),c=Vn("contrast"),d=Vn("grayscale"),u=Vn("hueRotate"),A=Vn("invert"),f=Vn("gap"),m=Vn("gradientColorStops"),x=Vn("gradientColorStopPositions"),p=Vn("inset"),v=Vn("margin"),y=Vn("opacity"),b=Vn("padding"),w=Vn("saturate"),j=Vn("scale"),N=Vn("sepia"),B=Vn("skew"),I=Vn("space"),P=Vn("translate"),T=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",Cr,t],k=()=>[Cr,t],M=()=>["",Sd,qu],U=()=>["auto",_p,Cr],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Cr],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[_p,Cr];return{cacheSize:500,separator:":",theme:{colors:[F0],spacing:[Sd,qu],blur:["none","",Yu,Cr],brightness:J(),borderColor:[e],borderRadius:["none","","full",Yu,Cr],borderSpacing:k(),borderWidth:M(),contrast:J(),grayscale:te(),hueRotate:J(),invert:te(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[Ife,qu],inset:E(),margin:E(),opacity:J(),padding:k(),saturate:J(),scale:J(),sepia:te(),skew:J(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Cr]}],container:["container"],columns:[{columns:[Yu]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Cr]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",L0,Cr]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Cr]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",L0,Cr]}],"grid-cols":[{"grid-cols":[F0]}],"col-start-end":[{col:["auto",{span:["full",L0,Cr]},Cr]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[F0]}],"row-start-end":[{row:["auto",{span:[L0,Cr]},Cr]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Cr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Cr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Cr,t]}],"min-w":[{"min-w":[Cr,t,"min","max","fit"]}],"max-w":[{"max-w":[Cr,t,"none","full","min","max","fit","prose",{screen:[Yu]},Yu]}],h:[{h:[Cr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Cr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Cr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Cr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yu,qu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fC]}],"font-family":[{font:[F0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Cr]}],"line-clamp":[{"line-clamp":["none",_p,fC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sd,Cr]}],"list-image":[{"list-image":["none",Cr]}],"list-style-type":[{list:["none","disc","decimal",Cr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sd,qu]}],"underline-offset":[{"underline-offset":["auto",Sd,Cr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Cr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Cr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Lfe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ofe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ufe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Sd,Cr]}],"outline-w":[{outline:[Sd,qu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Sd,qu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yu,Rfe]}],"shadow-color":[{shadow:[F0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yu,Cr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[A]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Cr]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Cr]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Cr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[L0,Cr]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Cr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Cr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Cr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sd,qu,fC]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Hfe=Nfe($fe);function dn(...e){return Hfe(gr(e))}const zfe=ufe,UK=_.forwardRef(({className:e,...t},r)=>s.jsx(_K,{ref:r,className:dn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));UK.displayName=_K.displayName;const Vfe=i6("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RK=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(CK,{ref:n,className:dn(Vfe({variant:t}),e),...r}));RK.displayName=CK.displayName;const Kfe=_.forwardRef(({className:e,...t},r)=>s.jsx(EK,{ref:r,className:dn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Kfe.displayName=EK.displayName;const DK=_.forwardRef(({className:e,...t},r)=>s.jsx(kK,{ref:r,className:dn("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(or,{className:"h-4 w-4"})}));DK.displayName=kK.displayName;const MK=_.forwardRef(({className:e,...t},r)=>s.jsx(BK,{ref:r,className:dn("text-sm font-semibold [&+div]:text-xs",e),...t}));MK.displayName=BK.displayName;const QK=_.forwardRef(({className:e,...t},r)=>s.jsx(SK,{ref:r,className:dn("text-sm opacity-90",e),...t}));QK.displayName=SK.displayName;function $K(){const{toasts:e}=xc();return s.jsxs(zfe,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return s.jsxs(RK,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(MK,{children:r}),n&&s.jsx(QK,{children:n})]}),i,s.jsx(DK,{})]},t)}),s.jsx(UK,{})]})}const U0=({children:e,direction:t="up",delay:r=0,duration:n=.8,distance:i=50,className:a="",once:o=!0})=>{const l=_.useRef(null),c=lue(l,{once:o,margin:"0px"}),d=iue(),u={up:{hidden:{opacity:0,y:i},visible:{opacity:1,y:0}},down:{hidden:{opacity:0,y:-i},visible:{opacity:1,y:0}},left:{hidden:{opacity:0,x:i},visible:{opacity:1,x:0}},right:{hidden:{opacity:0,x:-i},visible:{opacity:1,x:0}},scale:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}},fade:{hidden:{opacity:0},visible:{opacity:1}}};return _.useEffect(()=>{c?d.start("visible"):o||d.start("hidden")},[c,d,o]),s.jsx(X.div,{ref:l,animate:d,initial:"hidden",variants:u[t],transition:{duration:n,delay:r,ease:[.4,0,.2,1]},className:a,children:e})},Wfe=()=>{_.useEffect(()=>{(()=>{const r=localStorage.getItem("authToken"),n=localStorage.getItem("user");if(r&&n)try{const i=JSON.parse(n);console.log("Home: User logged in with role:",i.role),i.role===2?window.location.href="/admin-dashboard":i.role===3?window.location.href="/owner-dashboard":i.role}catch(i){console.error("Home: Error parsing user data:",i)}})()},[]);const e=[{icon:wr,title:"Smart PG Location Finder",description:"Find verified PGs and hostels within 1km radius using GPS technology and live location tracking."},{icon:zr,title:"AI Roommate Matching",description:"Advanced algorithms match you with compatible roommates based on lifestyle and preferences."},{icon:rr,title:"Verified Properties",description:"Background-verified PG owners and secure rental agreements like OYO's verified hotels."},{icon:pue,title:"Transparent Pricing",description:"Clear monthly rent, food charges, and utility costs with no hidden fees."},{icon:Wh,title:"Instant Booking",description:"Book PGs instantly with secure payments, just like booking hotels on OYO."},{icon:tu,title:"Safety & Security",description:"24/7 security, CCTV cameras, and verified PG accommodations for your safety."},{icon:Ss,title:"Digital Agreements",description:"Paperless PG rental agreements with e-signatures and secure document storage."},{icon:wr,title:"Nearby Amenities",description:"Interactive maps showing nearby colleges, offices, transport links, and neighborhood insights."}];return s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-16 overflow-x-hidden",children:s.jsxs("div",{className:"bg-white overflow-x-hidden relative",children:[s.jsxs("div",{className:"fixed inset-0 pointer-events-none z-10",children:[[...Array(20)].map((t,r)=>s.jsx(X.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-gray-200 rounded-full opacity-40",animate:{x:[0,30,-20,40,10,-30,0],y:[0,-40,30,-60,20,-50,0],scale:[.5,1.5,.8,1.2,.6,1.4,.5],opacity:[.2,.6,.3,.7,.2,.5,.2]},transition:{duration:8+r*.5,repeat:1/0,delay:r*.3,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`bg-particle-${r}`)),[...Array(15)].map((t,r)=>s.jsx(X.div,{className:`absolute w-1 h-1 sm:w-2 sm:h-2 rounded-full ${r%4===0?"bg-red-300":r%4===1?"bg-blue-300":r%4===2?"bg-yellow-300":"bg-purple-300"} opacity-60`,animate:{x:[0,-50,30,-40,20,-30,0],y:[0,30,-40,20,-30,40,0],scale:[.8,1.6,.5,1.3,.7,1.1,.8],opacity:[.3,.8,.2,.6,.4,.7,.3]},transition:{duration:10+r*.8,repeat:1/0,delay:r*.4,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`color-particle-${r}`)),[...Array(12)].map((t,r)=>s.jsx(X.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-yellow-300 rounded-full opacity-70",animate:{x:[0,25,-15,30,-10,20,0],y:[0,-30,20,-25,15,-20,0],scale:[.4,2,.3,1.8,.5,1.5,.4],opacity:[.2,1,.1,.9,.3,.8,.2]},transition:{duration:6+r*.6,repeat:1/0,delay:r*.5,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`sparkle-${r}`))]}),s.jsx("div",{className:"relative pt-20 pb-4 px-2 sm:px-6 lg:px-8 sm:pt-28 lg:pt-32 overflow-hidden",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsx(X.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.3},children:s.jsxs("div",{className:"flex flex-col items-center justify-center mb-12",children:[s.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"text-center mb-8 overflow-hidden",children:[s.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-8xl font-black mb-8 relative",children:[s.jsx(X.div,{animate:{scale:[1.05,1.1,1.05],opacity:[.6,.8,.6],rotate:[-12,-10,-12]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-r from-red-100 via-yellow-100 to-red-100 rounded-2xl transform -skew-x-12 opacity-60 -z-10"}),s.jsxs(X.span,{whileHover:{scale:1.05,textShadow:"0 0 30px rgba(239, 68, 68, 0.8)"},animate:{textShadow:["0 0 20px rgba(239, 68, 68, 0.3)","0 0 30px rgba(239, 68, 68, 0.6)","0 0 20px rgba(239, 68, 68, 0.3)"]},transition:{duration:.3,textShadow:{duration:3,repeat:1/0,ease:"easeInOut"}},className:"relative",children:[s.jsxs(X.span,{animate:{y:[0,-2,0],scale:[1,1.02,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"text-red-500 drop-shadow-lg relative",children:["Lyvo",s.jsx(X.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 w-2 h-2 sm:w-3 sm:h-3 bg-yellow-300 rounded-full opacity-80"}),s.jsx(X.div,{animate:{rotate:[360,0],scale:[1,1.3,1]},transition:{duration:6,repeat:1/0,ease:"linear"},className:"absolute -bottom-1 -left-1 w-1 h-1 sm:w-2 sm:h-2 bg-blue-300 rounded-full opacity-70"})]}),s.jsxs(X.span,{whileHover:{scale:1.1,rotate:8,textShadow:"0 0 25px rgba(0, 0, 0, 0.6)"},animate:{y:[0,1,0],rotate:[0,1,-1,0]},transition:{duration:.3,y:{duration:4,repeat:1/0,ease:"easeInOut"},rotate:{duration:6,repeat:1/0,ease:"easeInOut"}},className:"text-gray-900 drop-shadow-lg relative",children:["+",s.jsx(X.div,{animate:{scale:[1,1.4,.8,1.2,1],opacity:[.7,1,.5,.9,.7],y:[0,-2,0,-1,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 w-2 h-2 sm:w-3 sm:h-3 bg-yellow-400 rounded-full shadow-sm"}),s.jsx(X.div,{animate:{rotate:[0,180,360],scale:[.8,1.2,.8]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute -top-3 -right-3 w-1 h-1 sm:w-2 sm:h-2 bg-orange-300 rounded-full opacity-60"})]})]}),s.jsx(X.div,{animate:{scale:[1,1.5,.8,1.3,1],opacity:[.6,1,.3,.9,.6],rotate:[0,45,90,135,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 sm:-top-4 sm:-right-4 w-2 h-2 sm:w-4 sm:h-4 bg-gradient-to-br from-red-400 to-orange-400 rounded-full shadow-lg"}),s.jsx(X.div,{animate:{scale:[1,1.3,.7,1.2,1],opacity:[.6,1,.4,.8,.6],rotate:[0,-45,-90,-135,0]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut"},className:"absolute -bottom-1 -left-1 sm:-bottom-4 sm:-left-4 w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-br from-blue-400 to-purple-400 rounded-full shadow-lg"}),s.jsx(X.div,{animate:{x:[0,5,-3,4,0],y:[0,-3,2,-4,0],scale:[1,1.2,.8,1.1,1]},transition:{duration:7,repeat:1/0,ease:"easeInOut"},className:"absolute top-2 right-2 sm:top-6 sm:right-6 w-1 h-1 sm:w-2 sm:h-2 bg-green-400 rounded-full shadow-md"}),s.jsx(X.div,{animate:{x:[0,-4,3,-2,0],y:[0,2,-3,1,0],scale:[1,1.1,.9,1.2,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-2 left-2 sm:bottom-6 sm:left-6 w-1 h-1 sm:w-2 sm:h-2 bg-pink-400 rounded-full shadow-md"})]}),s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.4},className:"mt-8",children:s.jsxs("p",{className:"text-base sm:text-lg text-gray-600 font-medium tracking-wide px-2",children:[s.jsx("span",{className:"text-red-500",children:"["}),s.jsx("span",{className:"mx-1 sm:mx-2",children:"INDIA'S #1 PG & CO-LIVING PLATFORM"}),s.jsx("span",{className:"text-red-500",children:"]"})]})})]}),s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},className:"relative mt-8",children:[s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[[...Array(12)].map((t,r)=>{const n=r*30*(Math.PI/180),i=80+r%3*20;return s.jsx(X.div,{className:"absolute w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-r from-red-400 via-orange-400 to-yellow-400 rounded-full shadow-lg",animate:{x:[Math.cos(n)*i,Math.cos(n+Math.PI/6)*(i+10),Math.cos(n+Math.PI/3)*(i-5),Math.cos(n+Math.PI/2)*(i+15),Math.cos(n+2*Math.PI/3)*(i-10),Math.cos(n+5*Math.PI/6)*(i+5),Math.cos(n+Math.PI)*i],y:[Math.sin(n)*i,Math.sin(n+Math.PI/6)*(i+10),Math.sin(n+Math.PI/3)*(i-5),Math.sin(n+Math.PI/2)*(i+15),Math.sin(n+2*Math.PI/3)*(i-10),Math.sin(n+5*Math.PI/6)*(i+5),Math.sin(n+Math.PI)*i],scale:[1,1.5,.8,1.3,.9,1.2,1],opacity:[.6,1,.3,.9,.4,.8,.6]},transition:{duration:6+r*.3,repeat:1/0,delay:r*.2,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r)}),[...Array(8)].map((t,r)=>{const n=r*45*(Math.PI/180),i=40+r%2*15;return s.jsx(X.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-yellow-300 rounded-full shadow-sm",animate:{x:[Math.cos(n)*i,Math.cos(n+Math.PI/4)*(i+8),Math.cos(n+Math.PI/2)*(i-3),Math.cos(n+3*Math.PI/4)*(i+12),Math.cos(n+Math.PI)*i],y:[Math.sin(n)*i,Math.sin(n+Math.PI/4)*(i+8),Math.sin(n+Math.PI/2)*(i-3),Math.sin(n+3*Math.PI/4)*(i+12),Math.sin(n+Math.PI)*i],scale:[.5,1.8,.4,1.5,.5],opacity:[.3,1,.2,.8,.3]},transition:{duration:4+r*.4,repeat:1/0,delay:r*.3,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},`sparkle-${r}`)}),[...Array(6)].map((t,r)=>{const n=r*60*(Math.PI/180),i=120+r%2*30;return s.jsx(X.div,{className:`absolute ${r%2===0?"w-2 h-2 sm:w-3 sm:h-3 bg-blue-400 rounded-full":"w-3 h-3 sm:w-4 sm:h-4 bg-purple-400 transform rotate-45"} shadow-md`,animate:{x:[Math.cos(n)*i,Math.cos(n+Math.PI/3)*(i+20),Math.cos(n+2*Math.PI/3)*(i-15),Math.cos(n+Math.PI)*i],y:[Math.sin(n)*i,Math.sin(n+Math.PI/3)*(i+20),Math.sin(n+2*Math.PI/3)*(i-15),Math.sin(n+Math.PI)*i],scale:[1,1.6,.7,1],opacity:[.4,.9,.2,.4],rotate:r%2===0?[0,180,360]:[0,-180,-360]},transition:{duration:8+r*.6,repeat:1/0,delay:r*.4,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},`accent-${r}`)})]}),s.jsx(X.div,{initial:{width:0},animate:{width:"auto"},transition:{delay:.4,duration:.8,ease:"easeOut"},className:"overflow-hidden whitespace-normal break-words sm:whitespace-nowrap mx-auto text-center px-2",children:s.jsx(X.span,{className:"text-xl sm:text-xl font-semibold text-red-600",children:"Find Your Perfect PG, Hostel & Co-Living Space"})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.3},className:"mt-12",children:s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-red-200 max-w-md mx-auto mx-2",children:[s.jsxs("p",{className:"text-sm sm:text-sm text-gray-700 mb-3",children:[s.jsx("span",{className:"text-red-600 font-semibold",children:" Quick Start:"})," Sign up in 30 seconds and find your perfect PG!"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsx(Ot,{to:"/signup",children:s.jsx("button",{className:"w-full sm:w-auto bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-700 transition-colors",children:"Sign Up Free"})}),s.jsx(Ot,{to:"/login",children:s.jsx("button",{className:"w-full sm:w-auto text-red-600 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-50 transition-colors",children:"Login"})})]})]})})]})]})})})}),s.jsxs("div",{className:"py-8 sm:py-12 px-2 sm:px-6 lg:px-8 relative",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((t,r)=>s.jsx(X.div,{className:`absolute w-1 h-1 sm:w-2 sm:h-2 rounded-full ${r%3===0?"bg-red-200":r%3===1?"bg-blue-200":"bg-yellow-200"} opacity-50`,animate:{x:[0,20,-15,25,-10,15,0],y:[0,-25,15,-20,10,-15,0],scale:[.6,1.4,.5,1.2,.7,1.1,.6],opacity:[.3,.7,.2,.6,.4,.5,.3]},transition:{duration:7+r*.7,repeat:1/0,delay:r*.6,ease:"easeInOut"},style:{left:`${20+r*10}%`,top:`${30+r%4*15}%`}},`section-particle-${r}`))}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[s.jsxs("h2",{className:"text-3xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-6 px-2",children:["Why Choose"," ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"}),"?"]}),s.jsx("p",{className:"text-lg sm:text-lg text-gray-600 max-w-3xl mx-auto px-2 leading-relaxed",children:"Like OYO for hotels and Airbnb for homes, Lyvo+ is your go-to platform for finding verified PGs, hostels, and co-living spaces. Book instantly with secure payments and verified properties."})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mt-8",children:e.map((t,r)=>s.jsxs(X.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg border border-gray-200 p-5 sm:p-6 hover:shadow-xl transition-all duration-200 relative",children:[r===0&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-bold animate-pulse",children:"POPULAR"}),s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mb-4 sm:mb-5",children:s.jsx(t.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),s.jsx("h3",{className:"text-lg sm:text-lg font-semibold text-gray-900 mb-3",children:t.title}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-sm leading-relaxed",children:t.description}),r===0&&s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:s.jsx(Ot,{to:"/signup",children:s.jsx("button",{className:"w-full bg-red-50 text-red-600 py-2 rounded-lg text-sm font-semibold hover:bg-red-100 transition-colors",children:" Try Now - Free"})})})]},r))})]})]}),s.jsx("div",{className:"py-20 sm:py-28 lg:py-32 relative overflow-hidden bg-gray-50",children:s.jsx("div",{className:"max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 text-center relative z-10",children:s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[s.jsxs("h2",{className:"text-4xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-8 sm:mb-10 font-display px-2",children:["Ready to Book Your ",s.jsx("span",{className:"text-red-600",children:"Perfect PG"}),"?"]}),s.jsx("p",{className:"text-xl sm:text-xl lg:text-2xl text-gray-600 mb-10 sm:mb-14 font-medium max-w-3xl mx-auto px-2 leading-relaxed",children:"Join thousands of students and professionals who have found their ideal PG, hostel, and co-living space with Lyvo+."}),s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-3 sm:p-4 mb-6 sm:mb-8 max-w-2xl mx-auto mx-2",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2 text-red-700 font-semibold text-base sm:text-base",children:[s.jsx("span",{className:"animate-pulse",children:""}),s.jsx("span",{children:"Limited Time: Get 500 OFF on your first month!"}),s.jsx("span",{className:"animate-pulse",children:""})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-6 sm:mb-8 text-sm sm:text-sm text-gray-600 px-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex -space-x-2",children:[s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-red-200 rounded-full border-2 border-white"}),s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-200 rounded-full border-2 border-white"}),s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-yellow-200 rounded-full border-2 border-white"})]}),s.jsx("span",{children:"500+ PGs booked this week"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-yellow-500",children:""}),s.jsx("span",{children:"4.8/5 from 10K+ reviews"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mb-6 sm:mb-8 px-2",children:[s.jsx(Ot,{to:"/signup",children:s.jsxs(X.button,{whileHover:{scale:1.05,boxShadow:"0 30px 60px rgba(0, 0, 0, 0.3)"},whileTap:{scale:.95},className:"w-full sm:w-auto bg-red-600 text-white px-8 sm:px-12 py-4 sm:py-6 rounded-2xl font-bold text-xl sm:text-2xl flex items-center justify-center space-x-2 sm:space-x-4 shadow-2xl hover:bg-red-700 transition-all duration-300",children:[s.jsx("span",{className:"relative z-10",children:"Sign Up - Get 500 OFF"}),s.jsx(SV,{className:"w-5 h-5 sm:w-7 sm:h-7 relative z-10 group-hover:translate-x-2 transition-transform duration-300"})]})}),s.jsx(Ot,{to:"/login",children:s.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto border-2 border-red-600 text-red-600 px-8 sm:px-12 py-4 sm:py-6 rounded-2xl font-bold text-xl sm:text-2xl hover:bg-red-50 transition-all duration-300",children:"Login"})})]}),s.jsx("div",{className:"text-center text-sm sm:text-sm text-gray-500 px-2",children:s.jsx("p",{children:" Secure & Verified   No Hidden Charges   Instant Booking"})})]})})})]})})},Gfe=async e=>{if(!e||!e._id)return console.error("Invalid user object for role repair"),e;try{console.log(" Attempting to repair user role for:",e.email);const t=await fetch(`http://localhost:4002/api/user/public/user/${e._id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const r=await t.json();if(console.log(" Retrieved user data from backend:",r),r.role!==void 0&&r.role!==null){const n={...e,role:r.role};return localStorage.setItem("user",JSON.stringify(n)),console.log(" User role repaired and saved to localStorage"),n}else return console.warn(" Backend also has undefined role, attempting manual fix"),await mC(e)}else return console.error(" Failed to fetch user data from backend:",t.status),await mC(e)}catch(t){return console.error(" Error repairing user role:",t),await mC(e)}},mC=async e=>{console.log(" Attempting manual role fix for:",e.email);let t=1;if(e.email){const n=e.email.toLowerCase();n.includes("admin")||n.includes("lyvo")?t=2:(n.includes("owner")||n.includes("property")||n.includes("anandupg2022"))&&(t=3)}e.name&&(e.name.includes("Owner")||e.name.includes("Property"))&&(t=3);const r={...e,role:t};return localStorage.setItem("user",JSON.stringify(r)),console.log(` Manual role fix applied: estimated role ${t} for ${e.email}`),r},qfe=e=>!e||e.role===void 0||e.role===null,Yfe=async e=>qfe(e)?(console.log(" User role needs repair, attempting auto-repair..."),await Gfe(e)):e,Lv=e=>{if(!e)return null;const t=e.role;return t==null?(console.warn("User role is undefined/null, attempting to determine from email or other data"),e.email&&e.email.includes("admin")?2:e.email&&(e.email.includes("owner")||e.email.includes("property"))?3:(console.warn("Could not determine user role, defaulting to seeker (1)"),1)):typeof t=="string"?parseInt(t,10):t},Fv=()=>{try{const e=localStorage.getItem("user");if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(console.error("Invalid user data in localStorage"),null):t}catch(e){return console.error("Error parsing user data from localStorage:",e),null}},Xfe=async()=>{try{const e=localStorage.getItem("user");if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(console.error("Invalid user data in localStorage"),null):await Yfe(t)}catch(e){return console.error("Error parsing user data from localStorage:",e),null}},If=()=>localStorage.getItem("authToken"),Cp=e=>{const t=Lv(e);switch(console.log("getRedirectUrl: Processing user:",{userRole:t,userRoleType:typeof t,isNewUser:e==null?void 0:e.isNewUser,hasCompletedBehaviorQuestions:e==null?void 0:e.hasCompletedBehaviorQuestions,userEmail:e==null?void 0:e.email,rawUser:e}),t){case 2:return console.log("getRedirectUrl: Redirecting admin to /admin-dashboard"),"/admin-dashboard";case 3:return console.log("getRedirectUrl: Redirecting owner to /owner-dashboard"),"/owner-dashboard";case 1:return e.isNewUser&&!e.hasCompletedBehaviorQuestions?(console.log("getRedirectUrl: Redirecting new seeker to /seeker-onboarding"),"/seeker-onboarding"):e.isTenant?(console.log("getRedirectUrl: User is an active tenant, redirecting to /tenant-dashboard"),"/tenant-dashboard"):(console.log("getRedirectUrl: Redirecting seeker to /seeker-dashboard"),"/seeker-dashboard");default:return console.log("getRedirectUrl: Unknown role, redirecting to /login"),"/login"}},Zfe=()=>{const e=console.error;console.error=(...r)=>{const n=r.join(" ");n.includes("Refused to get unsafe header")||n.includes("x-rtb-fingerprint-id")||e.apply(console,r)};const t=console.warn;console.warn=(...r)=>{const n=r.join(" ");n.includes("Expected length")&&n.includes("auto")||t.apply(console,r)},window.addEventListener("error",r=>{if(r.message.includes("MutationObserver")&&r.message.includes("parameter 1 is not of type"))return r.preventDefault(),!1})},o6=({currentImage:e,onImageUpdate:t,className:r=""})=>{const[n,i]=_.useState(!1),[a,o]=_.useState(null),l=_.useRef(null),c=f=>{const m=f.target.files[0];if(m){if(!m.type.startsWith("image/")){alert("Please select an image file");return}if(m.size>5*1024*1024){alert("File size must be less than 5MB");return}const x=new FileReader;x.onload=p=>{o(p.target.result)},x.readAsDataURL(m)}},d=async()=>{var f;if(a){i(!0);try{const m=localStorage.getItem("authToken");if(!m)throw new Error("No authentication token found. Please log in again.");const p=await(await fetch(a)).blob(),v=new FormData;v.append("profilePicture",p,"profile-picture.jpg");const y=await cn.post("http://localhost:5000/api/user/upload-profile-picture",v,{headers:{Authorization:`Bearer ${m}`,"Content-Type":"multipart/form-data"}});if(y.data.user){const w={...JSON.parse(localStorage.getItem("user")),profilePicture:y.data.user.profilePicture};localStorage.setItem("user",JSON.stringify(w)),t(y.data.user.profilePicture),window.dispatchEvent(new Event("lyvo-profile-update")),o(null)}}catch(m){console.error("Upload error:",m);let x="Failed to upload image. Please try again.";m.response?(x=((f=m.response.data)==null?void 0:f.message)||x,console.error("Server error:",m.response.data),m.response.status===401&&(x="Your session has expired. Please log in again.",localStorage.removeItem("authToken"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},2e3))):m.request?(x="Network error. Please check your connection.",console.error("Network error:",m.request)):console.error("Error:",m.message),alert(x)}finally{i(!1)}}},u=()=>{o(null),l.current&&(l.current.value="")},A=()=>a||e||null;return s.jsxs("div",{className:`relative ${r}`,children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl border-4 border-white shadow-lg overflow-hidden bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center",children:A()?s.jsx("img",{src:A(),alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(cr,{className:"w-12 h-12 text-white"})}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-2xl flex items-center justify-center",children:s.jsx("button",{onClick:()=>{var f;return(f=l.current)==null?void 0:f.click()},className:"text-white hover:text-gray-200 transition-colors",disabled:n,children:s.jsx(es,{className:"w-6 h-6"})})})]}),s.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:c,className:"hidden"}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Preview Profile Picture"}),s.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600",children:s.jsx(or,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("img",{src:a,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:u,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:d,disabled:n,className:"flex-1 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg font-medium hover:shadow-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center space-x-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(YP,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload"})]})})]})]})})]})},Jfe=e=>{const t=new Date(e),n=Math.floor((new Date-t)/1e3);if(n<60)return"Just now";const i=Math.floor(n/60);if(i<60)return`${i} minute${i>1?"s":""} ago`;const a=Math.floor(i/60);if(a<24)return`${a} hour${a>1?"s":""} ago`;const o=Math.floor(a/24);if(o<7)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/7);if(l<4)return`${l} week${l>1?"s":""} ago`;const c=Math.floor(o/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(o/365);return`${d} year${d>1?"s":""} ago`},HK=({onMenuToggle:e})=>{const[t,r]=_.useState(!1),[n,i]=_.useState(!1),[a,o]=_.useState([]),[l,c]=_.useState(0),[d,u]=_.useState(!1),[A,f]=_.useState({}),m="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face";Ja();const x=Ar();_.useEffect(()=>{try{const w=localStorage.getItem("user");w&&f(JSON.parse(w))}catch(w){console.error("Error parsing user data:",w),f({})}},[]);const p=async()=>{try{if(u(!0),!A._id)return;const w=await kt.get("/notifications",{headers:{"x-user-id":A._id}});if(w.status===200){const j=w.data;j.success&&(o(j.data||[]),c(j.unread_count||0))}}catch(w){console.error("Error fetching notifications:",w)}finally{u(!1)}},v=async()=>{try{const w=JSON.parse(localStorage.getItem("user")||"{}");if(!w._id&&!A._id)return;(await kt.patch("/notifications/mark-all-read",{},{headers:{"x-user-id":w._id||A._id}})).status===200&&p()}catch(w){console.error("Error marking all notifications as read:",w)}},y=async w=>{try{const j=JSON.parse(localStorage.getItem("user")||"{}");if(!j._id&&!A._id)return;(await kt.delete(`/notifications/${w}`,{headers:{"x-user-id":j._id||A._id}})).status===200&&p()}catch(j){console.error("Error deleting notification:",j)}};_.useEffect(()=>{p();const w=setInterval(p,3e4);return window.lyvoIntervals||(window.lyvoIntervals=[]),window.lyvoIntervals.push(w),()=>{if(clearInterval(w),window.lyvoIntervals){const j=window.lyvoIntervals.indexOf(w);j>-1&&window.lyvoIntervals.splice(j,1)}}},[]),_.useEffect(()=>{const w=j=>{console.log(" SeekerNavbar received new-notification event:",j.detail),p()};return window.addEventListener("new-notification",w),()=>window.removeEventListener("new-notification",w)},[]),_.useEffect(()=>{const w=j=>{j.target.closest("[data-logout-button]")||j.target.closest("[data-profile-button]")||j.target.closest(".dropdown-container")||(i(!1),r(!1))};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const b=()=>{console.log(" Navbar handleLogout called"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),console.log(" Dispatching logout event..."),window.dispatchEvent(new Event("lyvo-logout")),console.log(" Navigating to login..."),x("/login"),console.log(" Navbar logout completed")};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(_N,{className:"w-5 h-5 text-gray-600"})}),s.jsxs(Ot,{to:"/seeker-dashboard",className:"flex items-center space-x-2",children:[s.jsx(X.div,{className:"w-8 h-8 rounded-lg flex items-center justify-center overflow-hidden",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:flex items-center",children:[s.jsx("span",{className:"text-xl font-bold text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-xl font-bold text-black",children:"+"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(X.button,{onClick:()=>r(!t),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(Vh,{className:"w-5 h-5 text-gray-600"}),l>0&&s.jsx(X.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:l>9?"9+":l})]}),s.jsx(gn,{children:t&&s.jsxs(s.Fragment,{children:[s.jsx(X.div,{className:"fixed inset-0 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1)}),s.jsxs(X.div,{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),l>0&&s.jsx("button",{onClick:v,className:"text-sm text-red-600 hover:text-red-700 transition-colors",children:"Mark all as read"})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:d?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-2",children:"Loading notifications..."})]}):a.length>0?a.map(w=>s.jsx("div",{className:`p-4 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition-colors ${w.is_read?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${w.type==="booking_approved"?"bg-green-500":w.type==="booking_rejected"?"bg-red-500":w.type==="booking_request"?"bg-blue-500":"bg-yellow-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Jfe(w.created_at)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!w.is_read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("button",{onClick:()=>y(w._id),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",title:"Close notification",children:s.jsx(or,{className:"w-4 h-4 text-gray-500 hover:text-gray-700"})})]})]})},w._id)):s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(Vh,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No notifications yet"})]})})]})]})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs(X.button,{onClick:()=>i(!n),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-red-50 transition-colors group",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(X.div,{className:"relative w-8 h-8 rounded-full overflow-hidden shadow-md",whileHover:{scale:1.08},transition:{duration:.2},children:s.jsx("img",{src:(A==null?void 0:A.profilePicture)||m,alt:"Profile",className:"w-full h-full object-cover",onError:w=>{w.currentTarget.src=m}})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 group-hover:text-red-700 transition-colors",children:A.name||"User"})]}),s.jsx(gn,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(X.div,{className:"fixed inset-0 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1)}),s.jsx(X.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-50",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:s.jsxs("div",{className:"py-2",children:[s.jsxs(Ot,{to:"/seeker-profile","data-profile-button":!0,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>{console.log(" Profile button clicked"),i(!1)},children:[s.jsx(cr,{className:"w-4 h-4 mr-3"}),"Profile"]}),s.jsx("hr",{className:"my-2"}),s.jsxs("button",{"data-logout-button":!0,onClick:w=>{w.preventDefault(),w.stopPropagation(),console.log(" Navbar logout button clicked"),i(!1),b()},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(uc,{className:"w-4 h-4 mr-3"}),"Logout"]})]})})]})})]})]})]})})},eme=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!0),[i,a]=_.useState(null),o=_.useRef(!1),l=_.useCallback(async()=>{if(o.current&&r){console.log("Booking status check already in progress, skipping...");return}o.current=!0;try{n(!0),a(null);const d=JSON.parse(localStorage.getItem("user")||"{}");if(!(d.id||d._id||d.userId)){console.log("No user ID found"),t(!1),n(!1);return}const A="http://localhost:5000/api/property",f=new AbortController,m=setTimeout(()=>f.abort(),5e3),x=localStorage.getItem("authToken");try{const p=await fetch(`${A}/user/bookings`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},signal:f.signal});if(clearTimeout(m),!p.ok)throw new Error(`Failed to fetch bookings: ${p.status}`);const y=(await p.json()).bookings||[],b=y.filter(w=>{var j;return w.status==="confirmed"&&((j=w.payment)==null?void 0:j.paymentStatus)==="completed"});t(b.length>0),y.length>0&&console.log("Booking status check:",{totalBookings:y.length,confirmedBookings:b.length,hasConfirmedBooking:b.length>0})}catch(p){if(clearTimeout(m),p.name==="AbortError")console.warn("Booking status check timed out - continuing without booking data");else throw p}}catch(d){console.error("Error checking booking status:",d),a(d.message),t(!1)}finally{n(!1),o.current=!1}},[]);_.useEffect(()=>{l()},[l]);const c=_.useCallback(()=>{o.current=!1,l()},[l]);return{hasConfirmedBooking:e,loading:r,error:i,refreshBookingStatus:c}},nm=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(null),[i,a]=_.useState(!0),[o,l]=_.useState(null),c=_.useCallback(async()=>{try{a(!0),l(null);const u=await kt.get("/property/user/tenant-status");t(u.data.isTenant),n(u.data.tenantData)}catch(u){console.error("Error fetching tenant status:",u),l(u.message),t(!1),n(null)}finally{a(!1)}},[]);_.useEffect(()=>{c()},[c]);const d=_.useCallback(()=>{c()},[c]);return{isTenant:e,tenantData:r,loading:i,error:o,refreshTenantStatus:d}},WF=({onClose:e})=>{const t=Ja(),r=Ar(),[n,i]=_.useState({}),[a,o]=_.useState(!1),l="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face";_.useEffect(()=>{try{const I=localStorage.getItem("user");if(I){const P=JSON.parse(I);if(i(P),(P==null?void 0:P.role)===2){const T=[!P.phone,!P.location,P.age===void 0||P.age===null||P.age==="",!P.occupation,!P.gender].some(Boolean);o(T)}}}catch(I){console.error("Error parsing user data:",I),i({})}},[]);const{hasConfirmedBooking:c,loading:d,refreshBookingStatus:u}=eme(),{isTenant:A,loading:f}=nm(),m=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login")};_.useEffect(()=>{const I=()=>{u()};return window.addEventListener("booking-status-changed",I),window.addEventListener("booking-approved",I),window.addEventListener("booking-cancelled",I),()=>{window.removeEventListener("booking-status-changed",I),window.removeEventListener("booking-approved",I),window.removeEventListener("booking-cancelled",I)}},[u]);const x=[{name:"Profile",href:"/seeker-profile",icon:cr}],w=a?[{name:"Profile",href:"/seeker-profile",icon:cr},{name:"Identity Verification",href:"/seeker-kyc",icon:rr}]:A?[...[{name:"Dashboard",href:"/tenant-dashboard",icon:Pr},{name:"Payment History",href:"/tenant-payments",icon:ei},{name:"Split Expenses",href:"/tenant-expenses",icon:CN},{name:"Request Maintenance",href:"/tenant-maintenance",icon:$d},{name:"View Agreement",href:"/tenant-agreement",icon:Ss},{name:"Roommates",href:"/tenant-roommates",icon:cr}],...x]:c?[...[{name:"My Room",href:"/my-room",icon:Pr}],...x]:[...[{name:"Dashboard",href:"/seeker-dashboard",icon:Pr},{name:"Identity Verification",href:"/seeker-kyc",icon:rr},{name:"My Booking",href:"/seeker-bookings",icon:Tr},{name:"Favorites",href:"/seeker-favorites",icon:Kh}],...x],j=I=>t.pathname===I,N={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},B={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(X.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-red-200/50 flex flex-col shadow-2xl h-screen",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"absolute inset-0 opacity-5",children:[s.jsx("div",{className:"absolute top-10 left-4 w-32 h-32 bg-red-400 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-4 w-24 h-24 bg-red-300 rounded-full blur-2xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-red-500 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),s.jsxs("div",{className:"relative flex-shrink-0 flex items-center justify-between p-4 border-b border-red-200/50 bg-red-50/30",children:[s.jsxs(X.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsxs(X.div,{className:"relative w-10 h-10 flex items-center justify-center overflow-hidden bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg",whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.3}},whileTap:{scale:.95},transition:{duration:.2},children:[s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-6 h-6 object-contain filter brightness-0 invert"}),s.jsx("div",{className:"absolute inset-0 bg-red-400 rounded-xl blur-md opacity-0 group-hover:opacity-50 transition-opacity duration-300"})]}),s.jsxs("div",{children:[s.jsxs(X.div,{className:"flex items-center",whileHover:{scale:1.05},transition:{duration:.2},children:[s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent",children:"Lyvo"}),s.jsx(X.span,{className:"text-xl font-bold text-gray-800 ml-1",animate:{scale:[1,1.1,1],opacity:[1,.7,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"+"})]}),s.jsx(X.p,{className:"text-xs text-gray-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:A?"Tenant Portal":"Seeker Portal"})]})]}),s.jsx("button",{onClick:e,className:"lg:hidden p-1 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"relative flex-shrink-0 p-4 border-b border-red-200/50 bg-red-50/20",children:s.jsxs(X.div,{className:"relative flex items-center space-x-3 p-3 rounded-xl bg-white border border-red-100/50 shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},whileHover:{scale:1.02,transition:{duration:.2}},children:[s.jsx(X.div,{className:"relative w-12 h-12 rounded-full overflow-hidden shadow-lg",whileHover:{scale:1.05,transition:{duration:.2}},children:s.jsx("img",{src:(n==null?void 0:n.profilePicture)||l,alt:"Profile",className:"w-full h-full object-cover",onError:I=>{I.currentTarget.src=l}})}),s.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[s.jsx(X.p,{className:"text-sm font-semibold text-gray-900 truncate",whileHover:{scale:1.02},transition:{duration:.2},children:n.name||"User"}),s.jsx(X.p,{className:"text-xs text-gray-600 break-words",whileHover:{scale:1.01},transition:{duration:.2},children:n.email||"user@example.com"}),!d&&!f&&s.jsxs(X.div,{className:"mt-1 flex items-center space-x-1",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${A?"bg-green-500":c?"bg-blue-400":"bg-yellow-400"}`}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:A?"Active Tenant":c?"Booking Confirmed":"Looking for Room"})]})]}),s.jsx(X.div,{className:"w-3 h-3 bg-green-400 rounded-full shadow-sm",animate:{scale:[1,1.2,1],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]})}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:f||d?Array(5).fill(0).map((I,P)=>s.jsxs("div",{className:"flex items-center px-4 py-3 rounded-xl space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-lg animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-24"})]},P)):w.map((I,P)=>s.jsx(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+P*.05,duration:.3},variants:N,whileHover:"hover",whileTap:"tap",children:s.jsxs(Ot,{to:I.href,className:`group relative flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-300 ${j(I.href)?"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border-r-4 border-red-500 shadow-lg":"text-gray-700 hover:bg-gradient-to-r hover:from-red-50/50 hover:to-red-100/50 hover:text-red-700 hover:shadow-md"}`,children:[s.jsx(X.div,{className:"absolute inset-0 bg-gradient-to-r from-red-400/20 to-red-600/20 rounded-xl opacity-0 group-hover:opacity-100",transition:{duration:.3}}),s.jsxs(X.div,{className:"relative z-10 flex items-center w-full",whileHover:{x:2},transition:{duration:.2},children:[s.jsx(X.div,{className:`mr-4 h-6 w-6 flex items-center justify-center rounded-lg transition-all duration-300 ${j(I.href)?"bg-red-100 text-red-600":"text-gray-400 group-hover:bg-red-100 group-hover:text-red-600"}`,whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.3}},children:s.jsx(I.icon,{className:"h-4 w-4"})}),s.jsx("span",{className:"flex-1 font-semibold",children:I.name}),j(I.href)&&s.jsxs(X.div,{className:"flex items-center space-x-2",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1,duration:.3},children:[s.jsx(X.div,{className:"w-2 h-2 bg-red-500 rounded-full",animate:{scale:[1,1.3,1],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),s.jsx(X.div,{className:"w-1 h-1 bg-red-400 rounded-full",animate:{scale:[1,1.2,1],opacity:[.8,.4,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.3}})]})]})]})},I.name))}),s.jsx("div",{className:"flex-shrink-0 p-4 border-t border-red-200/50",children:s.jsxs(X.button,{onClick:m,className:"group relative w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-gradient-to-r from-red-500 to-red-600 rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-lg hover:shadow-xl overflow-hidden",variants:B,whileHover:"hover",whileTap:"tap",children:[s.jsx(X.div,{className:"absolute inset-0 bg-gradient-to-r from-red-400 to-red-500 opacity-0 group-hover:opacity-100",transition:{duration:.3}}),s.jsx(X.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s.jsxs(X.div,{className:"relative z-10 flex items-center",whileHover:{x:2},transition:{duration:.2},children:[s.jsx(X.div,{className:"mr-3 p-1 rounded-lg bg-white/20",whileHover:{rotate:[0,-10,10,0],transition:{duration:.3}},children:s.jsx(uc,{className:"h-4 w-4"})}),s.jsx("span",{children:"Logout"})]})]})})]})},tme=()=>{new Date().getFullYear();const e={"Quick Links":[{name:"Dashboard",href:"/seeker-dashboard",icon:Pr},{name:"Favorites",href:"/seeker-favorites",icon:Kh},{name:"Bookings",href:"/seeker-bookings",icon:Tr}],Account:[{name:"Profile",href:"/seeker-profile",icon:cr},{name:"Settings",href:"/seeker-settings",icon:rc}],Support:[{name:"Help Center",href:"/help",icon:null},{name:"Contact Us",href:"/contact",icon:null},{name:"Privacy Policy",href:"/privacy",icon:null},{name:"Terms of Service",href:"/terms",icon:null}]},t=[{name:"Facebook",href:"#",icon:""},{name:"Twitter",href:"#",icon:""},{name:"Instagram",href:"#",icon:""},{name:"LinkedIn",href:"#",icon:""}];return s.jsxs("footer",{className:"bg-white border-t border-gray-200 text-gray-800",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(X.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-xl font-bold text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-xl font-bold text-gray-800",children:"+"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Seeker Portal"})]})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Find your perfect PG, hostel, and co-living space with India's #1 platform. Verified properties, secure payments, and instant booking."}),s.jsx("div",{className:"flex space-x-4",children:t.map((r,n)=>s.jsx(X.a,{href:r.href,className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-red-100 transition-colors duration-200",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{delay:n*.1,duration:.3},viewport:{once:!0},children:s.jsx("span",{className:"text-sm",children:r.icon})},r.name))})]})}),Object.entries(e).map(([r,n],i)=>s.jsxs("div",{className:"space-y-4",children:[s.jsx(X.h4,{className:"text-lg font-semibold text-gray-800",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:i*.1,duration:.6},viewport:{once:!0},children:r}),s.jsx("ul",{className:"space-y-2",children:n.map((a,o)=>s.jsx(X.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:i*.1+o*.05,duration:.6},viewport:{once:!0},children:s.jsxs(Ot,{to:a.href,className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors duration-200 group",children:[a.icon&&s.jsx(a.icon,{className:"w-4 h-4 text-gray-500 group-hover:text-red-500 transition-colors duration-200"}),s.jsx("span",{className:"text-sm",children:a.name})]})},a.name))})]},r))]})}),s.jsx("div",{className:"lg:hidden bg-gray-50 border-t border-gray-200",children:s.jsx("div",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex justify-around",children:[s.jsxs(Ot,{to:"/seeker-dashboard",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Pr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Home"})]}),s.jsxs(Ot,{to:"/seeker-favorites",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Kh,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Favorites"})]}),s.jsxs(Ot,{to:"/seeker-bookings",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Tr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Bookings"})]}),s.jsxs(Ot,{to:"/seeker-profile",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(cr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Profile"})]})]})})})]})},od=Object.create(null);od.open="0";od.close="1";od.ping="2";od.pong="3";od.message="4";od.upgrade="5";od.noop="6";const A1=Object.create(null);Object.keys(od).forEach(e=>{A1[od[e]]=e});const I4={type:"error",data:"parser error"},zK=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",VK=typeof ArrayBuffer=="function",KK=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,l6=({type:e,data:t},r,n)=>zK&&t instanceof Blob?r?n(t):GF(t,n):VK&&(t instanceof ArrayBuffer||KK(t))?r?n(t):GF(new Blob([t]),n):n(od[e]+(t||"")),GF=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function qF(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let pC;function rme(e,t){if(zK&&e.data instanceof Blob)return e.data.arrayBuffer().then(qF).then(t);if(VK&&(e.data instanceof ArrayBuffer||KK(e.data)))return t(qF(e.data));l6(e,!1,r=>{pC||(pC=new TextEncoder),t(pC.encode(r))})}const YF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<YF.length;e++)dx[YF.charCodeAt(e)]=e;const nme=e=>{let t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(n=0;n<r;n+=4)a=dx[e.charCodeAt(n)],o=dx[e.charCodeAt(n+1)],l=dx[e.charCodeAt(n+2)],c=dx[e.charCodeAt(n+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},sme=typeof ArrayBuffer=="function",c6=(e,t)=>{if(typeof e!="string")return{type:"message",data:WK(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:ime(e.substring(1),t)}:A1[r]?e.length>1?{type:A1[r],data:e.substring(1)}:{type:A1[r]}:I4},ime=(e,t)=>{if(sme){const r=nme(e);return WK(r,t)}else return{base64:!0,data:e}},WK=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},GK="",ame=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,o)=>{l6(a,!1,l=>{n[o]=l,++i===r&&t(n.join(GK))})})},ome=(e,t)=>{const r=e.split(GK),n=[];for(let i=0;i<r.length;i++){const a=c6(r[i],t);if(n.push(a),a.type==="error")break}return n};function lme(){return new TransformStream({transform(e,t){rme(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let gC;function Hb(e){return e.reduce((t,r)=>t+r.length,0)}function zb(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function cme(e,t){gC||(gC=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(Hb(r)<1)break;const c=zb(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Hb(r)<2)break;const c=zb(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Hb(r)<8)break;const c=zb(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(I4);break}i=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if(Hb(r)<i)break;const c=zb(r,i);l.enqueue(c6(a?c:gC.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(I4);break}}}})}const qK=4;function Ys(e){if(e)return dme(e)}function dme(e){for(var t in Ys.prototype)e[t]=Ys.prototype[t];return e}Ys.prototype.on=Ys.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ys.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Ys.prototype.off=Ys.prototype.removeListener=Ys.prototype.removeAllListeners=Ys.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Ys.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Ys.prototype.emitReserved=Ys.prototype.emit;Ys.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ys.prototype.hasListeners=function(e){return!!this.listeners(e).length};const LN=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),sl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ume="arraybuffer";function YK(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const hme=sl.setTimeout,Ame=sl.clearTimeout;function FN(e,t){t.useNativeTimers?(e.setTimeoutFn=hme.bind(sl),e.clearTimeoutFn=Ame.bind(sl)):(e.setTimeoutFn=sl.setTimeout.bind(sl),e.clearTimeoutFn=sl.clearTimeout.bind(sl))}const fme=1.33;function mme(e){return typeof e=="string"?pme(e):Math.ceil((e.byteLength||e.size)*fme)}function pme(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function XK(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function gme(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function xme(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class yme extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class d6 extends Ys{constructor(t){super(),this.writable=!1,FN(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new yme(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=c6(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=gme(t);return r.length?"?"+r:""}}class vme extends d6{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};ome(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ame(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=XK()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let ZK=!1;try{ZK=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const bme=ZK;function wme(){}class jme extends vme{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Xc extends Ys{constructor(t,r,n){super(),this.createRequest=t,FN(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=YK(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Xc.requestsCount++,Xc.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=wme,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Xc.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Xc.requestsCount=0;Xc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",XF);else if(typeof addEventListener=="function"){const e="onpagehide"in sl?"pagehide":"unload";addEventListener(e,XF,!1)}}function XF(){for(let e in Xc.requests)Xc.requests.hasOwnProperty(e)&&Xc.requests[e].abort()}const Nme=function(){const e=JK({xdomain:!1});return e&&e.responseType!==null}();class _me extends jme{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Nme&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Xc(JK,this.uri(),t)}}function JK(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||bme))return new XMLHttpRequest}catch{}if(!t)try{return new sl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const eW=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Cme extends d6{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=eW?{}:YK(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;l6(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&LN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=XK()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const xC=sl.WebSocket||sl.MozWebSocket;class Bme extends Cme{createSocket(t,r,n){return eW?new xC(t,r,n):r?new xC(t,r):new xC(t)}doWrite(t,r){this.ws.send(r)}}class Sme extends d6{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=cme(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=lme();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&LN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Eme={websocket:Bme,webtransport:Sme,polling:_me},kme=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Pme=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function T4(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=kme.exec(e||""),a={},o=14;for(;o--;)a[Pme[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Ime(a,a.path),a.queryKey=Tme(a,a.query),a}function Ime(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Tme(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const O4=typeof addEventListener=="function"&&typeof removeEventListener=="function",f1=[];O4&&addEventListener("offline",()=>{f1.forEach(e=>e())},!1);class Lh extends Ys{constructor(t,r){if(super(),this.binaryType=ume,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=T4(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=T4(r.host).host);FN(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=xme(this.opts.query)),O4&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},f1.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=qK,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Lh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Lh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=mme(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,LN(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Lh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),O4&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=f1.indexOf(this._offlineEventListener);n!==-1&&f1.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Lh.protocol=qK;class Ome extends Lh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Lh.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",A=>{if(!n)if(A.type==="pong"&&A.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Lh.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function a(){n||(n=!0,u(),r.close(),r=null)}const o=A=>{const f=new Error("probe error: "+A);f.transport=r.name,a(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function d(A){r&&A.name!==r.name&&a()}const u=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Lme=class extends Ome{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>Eme[i]).filter(i=>!!i)),super(t,n)}};function Fme(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=T4(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const Ume=typeof ArrayBuffer=="function",Rme=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,tW=Object.prototype.toString,Dme=typeof Blob=="function"||typeof Blob<"u"&&tW.call(Blob)==="[object BlobConstructor]",Mme=typeof File=="function"||typeof File<"u"&&tW.call(File)==="[object FileConstructor]";function u6(e){return Ume&&(e instanceof ArrayBuffer||Rme(e))||Dme&&e instanceof Blob||Mme&&e instanceof File}function m1(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(m1(e[r]))return!0;return!1}if(u6(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return m1(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&m1(e[r]))return!0;return!1}function Qme(e){const t=[],r=e.data,n=e;return n.data=L4(r,t),n.attachments=t.length,{packet:n,buffers:t}}function L4(e,t){if(!e)return e;if(u6(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=L4(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=L4(e[n],t));return r}return e}function $me(e,t){return e.data=F4(e.data,t),delete e.attachments,e}function F4(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=F4(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=F4(e[r],t));return e}const rW=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Hme=5;var Sr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Sr||(Sr={}));class zme{constructor(t){this.replacer=t}encode(t){return(t.type===Sr.EVENT||t.type===Sr.ACK)&&m1(t)?this.encodeAsBinary({type:t.type===Sr.EVENT?Sr.BINARY_EVENT:Sr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Sr.BINARY_EVENT||t.type===Sr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Qme(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class h6 extends Ys{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Sr.BINARY_EVENT;n||r.type===Sr.BINARY_ACK?(r.type=n?Sr.EVENT:Sr.ACK,this.reconstructor=new Vme(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(u6(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Sr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Sr.BINARY_EVENT||n.type===Sr.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(a,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(h6.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Sr.CONNECT:return g2(r);case Sr.DISCONNECT:return r===void 0;case Sr.CONNECT_ERROR:return typeof r=="string"||g2(r);case Sr.EVENT:case Sr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&rW.indexOf(r[0])===-1);case Sr.ACK:case Sr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vme{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=$me(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Kme(e){return typeof e=="string"}const Wme=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function Gme(e){return e===void 0||Wme(e)}function g2(e){return Object.prototype.toString.call(e)==="[object Object]"}function qme(e,t){switch(e){case Sr.CONNECT:return t===void 0||g2(t);case Sr.DISCONNECT:return t===void 0;case Sr.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&rW.indexOf(t[0])===-1);case Sr.ACK:return Array.isArray(t);case Sr.CONNECT_ERROR:return typeof t=="string"||g2(t);default:return!1}}function Yme(e){return Kme(e.nsp)&&Gme(e.id)&&qme(e.type,e.data)}const Xme=Object.freeze(Object.defineProperty({__proto__:null,Decoder:h6,Encoder:zme,get PacketType(){return Sr},isPacketValid:Yme,protocol:Hme},Symbol.toStringTag,{value:"Module"}));function Xl(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Zme=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class nW extends Ys{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Xl(t,"open",this.onopen.bind(this)),Xl(t,"packet",this.onpacket.bind(this)),Xl(t,"error",this.onerror.bind(this)),Xl(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(Zme.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Sr.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,A=r.pop();this._registerAckCallback(u,A),o.id=u}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(o,l)=>o?i(o):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>(this._queue[0],i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Sr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Sr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Sr.EVENT:case Sr.BINARY_EVENT:this.onevent(t);break;case Sr.ACK:case Sr.BINARY_ACK:this.onack(t);break;case Sr.DISCONNECT:this.ondisconnect();break;case Sr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Sr.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Sr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Hg(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Hg.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Hg.prototype.reset=function(){this.attempts=0};Hg.prototype.setMin=function(e){this.ms=e};Hg.prototype.setMax=function(e){this.max=e};Hg.prototype.setJitter=function(e){this.jitter=e};class U4 extends Ys{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,FN(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Hg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||Xme;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Lme(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Xl(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Xl(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Xl(t,"ping",this.onping.bind(this)),Xl(t,"data",this.ondata.bind(this)),Xl(t,"error",this.onerror.bind(this)),Xl(t,"close",this.onclose.bind(this)),Xl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){LN(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new nW(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const R0={};function p1(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Fme(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=R0[i]&&a in R0[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new U4(n,t):(R0[i]||(R0[i]=new U4(n,t)),c=R0[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(p1,{Manager:U4,Socket:nW,io:p1,connect:p1});class Jme{constructor(){this.socket=null,this.isConnected=!1,this.currentChatId=null,this.eventListeners=new Map,this.apiBaseUrl="http://localhost:5000"}connect(t){return this.socket&&this.disconnect(),console.log(" Connecting to chat service..."),this.socket=p1(this.apiBaseUrl,{auth:{token:t},transports:["websocket","polling"],timeout:1e4,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log(" Connected to chat service"),this.isConnected=!0,this.emit("connected")}),this.socket.on("disconnect",r=>{console.log(" Disconnected from chat service:",r),this.isConnected=!1,this.emit("disconnected",r)}),this.socket.on("connect_error",r=>{console.error(" Chat service connection error:",r),this.emit("error",r)}),this.socket.on("error",r=>{console.error(" Chat service error:",r),this.emit("error",r)}),this.socket}disconnect(){this.socket&&(console.log(" Disconnecting from chat service..."),this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.currentChatId=null)}joinChat(t){this.socket&&this.isConnected?(console.log(" Joining chat:",t),this.socket.emit("join_chat",{chatId:t}),this.currentChatId=t):console.warn(" Cannot join chat: not connected to chat service")}leaveChat(){this.socket&&this.currentChatId&&(console.log(" Leaving chat:",this.currentChatId),this.socket.emit("leave_chat",{chatId:this.currentChatId}),this.currentChatId=null)}sendNotification(t){this.socket&&this.isConnected?(console.log(" Sending notification:",t),this.socket.emit("send_notification",t)):console.warn(" Cannot send notification: not connected")}sendMessage(t,r="text",n={}){this.socket&&this.isConnected&&this.currentChatId?(console.log(" Sending message:",t),this.socket.emit("send_message",{chatId:this.currentChatId,content:t,contentType:r,metadata:n})):console.warn(" Cannot send message: not connected or no active chat")}markAsRead(t=[]){this.socket&&this.isConnected&&this.currentChatId&&this.socket.emit("mark_read",{chatId:this.currentChatId,messageIds:t})}setTyping(t){this.socket&&this.isConnected&&this.currentChatId&&this.socket.emit("typing",{chatId:this.currentChatId,isTyping:t})}on(t,r){this.socket&&this.socket.on(t,r),this.eventListeners.has(t)||this.eventListeners.set(t,[]),this.eventListeners.get(t).push(r)}off(t,r){if(this.socket&&this.socket.off(t,r),this.eventListeners.has(t)){const n=this.eventListeners.get(t),i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(t,r){this.eventListeners.has(t)&&this.eventListeners.get(t).forEach(n=>{try{n(r)}catch(i){console.error("Error in event listener:",i)}})}async getUserChats(t){try{const r=localStorage.getItem("authToken"),n=await fetch(`${this.apiBaseUrl}/api/chat/user/${t}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();return i.success?i.data.chats:[]}catch(r){return console.error("Error fetching user chats:",r),[]}}async getChatMessages(t,r=1,n=50){try{const i=localStorage.getItem("authToken"),a=await fetch(`${this.apiBaseUrl}/api/chat/${t}/messages?page=${r}&limit=${n}`,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const o=await a.json();return o.success?o.data.messages:[]}catch(i){return console.error("Error fetching chat messages:",i),[]}}async getChatDetails(t){try{const r=localStorage.getItem("authToken"),n=await fetch(`${this.apiBaseUrl}/api/chat/${t}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();return i.success?i.data:null}catch(r){return console.error("Error fetching chat details:",r),null}}async sendMessageAPI(t,r,n="text",i={}){try{const a=localStorage.getItem("authToken"),o=await fetch(`${this.apiBaseUrl}/api/chat/${t}/message`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({content:r,contentType:n,metadata:i})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const l=await o.json();return l.success?l.data:null}catch(a){return console.error("Error sending message via API:",a),null}}async markAsReadAPI(t,r=[]){try{const n=localStorage.getItem("authToken"),i=await fetch(`${this.apiBaseUrl}/api/chat/${t}/read`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({messageIds:r})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return(await i.json()).success}catch(n){return console.error("Error marking messages as read via API:",n),!1}}getConnectionStatus(){var t;return{isConnected:this.isConnected,currentChatId:this.currentChatId,socketId:(t=this.socket)==null?void 0:t.id}}}const Vb=new Jme,sW=()=>(_.useEffect(()=>{const e=If();if(e){Vb.isConnected||Vb.connect(e);const t=r=>{console.log(" New notification received via socket:",r),window.dispatchEvent(new CustomEvent("new-notification",{detail:r}))};return Vb.on("new_notification",t),()=>{Vb.off("new_notification",t)}}},[]),null),Er=({children:e,hideFooter:t=!1,hideNavbar:r=!1})=>{const[n,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState(!1),d=()=>{i(!n)},u=()=>{i(!1)},A={hidden:{x:"-100%",opacity:0,transition:{duration:.3,ease:"easeInOut"}},visible:{x:0,opacity:1,transition:{duration:.3,ease:"easeInOut"}},exit:{x:"-100%",opacity:0,transition:{duration:.25,ease:"easeInOut"}}},f={hidden:{opacity:0,transition:{duration:.2}},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},m=()=>{try{const x=localStorage.getItem("user");if(!x)return;const p=JSON.parse(x);if((p==null?void 0:p.role)===2){const v=[!p.phone,p.age===null||p.age===void 0||p.age==="",!p.occupation,!p.gender].some(Boolean);o(v),c(v)}}catch{}};return _.useEffect(()=>{m()},[]),_.useEffect(()=>{const x=v=>{v.key==="user"&&m()},p=()=>m();return window.addEventListener("storage",x),window.addEventListener("lyvo-profile-update",p),()=>{window.removeEventListener("storage",x),window.removeEventListener("lyvo-profile-update",p)}},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(WF,{onClose:u})}),s.jsxs("div",{className:"lg:ml-64",children:[!r&&s.jsx("div",{className:"sticky top-0 z-30 bg-white shadow-sm",children:s.jsx(HK,{onMenuToggle:d})}),a&&s.jsx("div",{className:"fixed top-20 right-4 z-40 max-w-xs",children:s.jsx("div",{className:"bg-white border border-blue-300 rounded-xl shadow-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Complete Your Profile"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add your preferences to find better PG matches"}),s.jsxs("div",{className:"mt-3 flex space-x-2",children:[s.jsx("button",{onClick:()=>o(!1),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors",children:"Complete Now"}),s.jsx("button",{onClick:()=>o(!1),className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:"Later"})]})]}),s.jsx("button",{onClick:()=>o(!1),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),s.jsx(gn,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(X.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",variants:f,initial:"hidden",animate:"visible",exit:"hidden",onClick:u}),s.jsx(X.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] lg:hidden",variants:A,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(WF,{onClose:u})})]})}),s.jsx("main",{className:"min-h-screen",children:l?s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-blue-200 rounded-xl p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please fill in phone, age, occupation, and gender to continue."}),s.jsx("a",{href:"/seeker-profile",className:"inline-flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Go to Profile"})]})}):s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e})}),!t&&s.jsx(tme,{}),s.jsx(sW,{})]})]})},epe=()=>{const e=Ar(),[t,r]=_.useState(!1),[n,i]=_.useState(null),[a,o]=_.useState(!0),[l,c]=_.useState(!1),[d,u]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[A,f]=_.useState({current:!1,new:!1,confirm:!1}),[m,x]=_.useState({type:"",message:""}),[p,v]=_.useState({name:"",email:"",phone:"",location:"",joinDate:"",bio:"",isVerified:!1,trustScore:0,profilePicture:""});_.useEffect(()=>{(async()=>{try{const P=localStorage.getItem("authToken"),T=localStorage.getItem("user");if(!P||!T){i(null),o(!1),e("/login");return}const F=JSON.parse(T);if(console.log("Profile: User role check:",F.role),F.role===2){console.log("Profile: Redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(F.role===3){console.log("Profile: Redirecting owner to owner profile"),window.location.href="/owner-profile";return}else if(F.role===1)console.log("Profile: Regular user, staying on profile page"),i(F);else{console.error("Profile: Invalid user role:",F.role),e("/login");return}v(E=>({...E,name:F.name||"",email:F.email||"",profilePicture:F.profilePicture||"",phone:F.phone||"",location:F.location||"",bio:F.bio||"",isVerified:F.isVerified||!1,trustScore:95,joinDate:F.createdAt?new Date(F.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}))}catch(P){console.error("Error fetching user data:",P),i(null),e("/login")}finally{o(!1)}})()},[e]);const y=(I,P)=>{v(T=>({...T,[I]:P}))},b=(I,P)=>{u(T=>({...T,[I]:P}))},w=I=>{f(P=>({...P,[I]:!P[I]}))},j=async()=>{try{x({type:"loading",message:"Saving changes..."});const I=localStorage.getItem("authToken");if(!I)throw new Error("No authentication token found");const P={name:p.name,phone:p.phone,location:p.location,bio:p.bio},T=await fetch(`http://localhost:5000/api/user/profile/${n._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify(P)});if(!T.ok){const M=await T.json();throw new Error(M.message||"Failed to update profile")}const F=await T.json(),k={...JSON.parse(localStorage.getItem("user")),...F.user};localStorage.setItem("user",JSON.stringify(k)),i(k),r(!1),x({type:"success",message:"Profile updated successfully!"}),window.dispatchEvent(new Event("lyvo-profile-update")),setTimeout(()=>{x({type:"",message:""})},3e3)}catch(I){console.error("Profile update error:",I),x({type:"error",message:I.message||"Failed to update profile"}),setTimeout(()=>{x({type:"",message:""})},3e3)}},N=I=>{v(P=>({...P,profilePicture:I})),x({type:"success",message:"Profile picture updated successfully!"}),setTimeout(()=>{x({type:"",message:""})},3e3)},B=async()=>{try{if(d.newPassword!==d.confirmPassword){x({type:"error",message:"New passwords do not match"});return}if(d.newPassword.length<6){x({type:"error",message:"Password must be at least 6 characters long"});return}x({type:"loading",message:"Updating password..."});const I=localStorage.getItem("authToken");if(!I)throw new Error("No authentication token found");const P=await fetch("http://localhost:5000/api/user/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({currentPassword:d.currentPassword,newPassword:d.newPassword})});if(!P.ok){const T=await P.json();throw new Error(T.message||"Failed to update password")}x({type:"success",message:"Password updated successfully!"}),c(!1),u({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{x({type:"",message:""})},3e3)}catch(I){console.error("Password update error:",I),x({type:"error",message:I.message||"Failed to update password"}),setTimeout(()=>{x({type:"",message:""})},3e3)}};return a?s.jsx("div",{className:"pt-16 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):n?s.jsx(Er,{children:s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(U0,{children:s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:s.jsxs("div",{className:"relative h-48 bg-gradient-to-r from-red-500/10 via-red-600/10 to-red-700/10",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-transparent"}),s.jsxs("div",{className:"absolute bottom-6 left-8 flex items-end space-x-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(o6,{currentImage:p.profilePicture,onImageUpdate:N,className:"w-24 h-24"}),p.isVerified&&s.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:s.jsx(rr,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"text-gray-900 pb-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-1",children:p.name||"User"}),s.jsxs("p",{className:"text-gray-600 flex items-center space-x-2",children:[s.jsx(Tr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Joined ",p.joinDate||"Recently"]})]})]})]}),s.jsx("div",{className:"absolute top-6 right-8",children:s.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!t),className:"bg-white/90 backdrop-blur-sm text-gray-700 px-4 py-2 rounded-xl font-medium flex items-center space-x-2 shadow-lg hover:bg-white transition-all duration-300",children:[t?s.jsx(or,{className:"w-4 h-4"}):s.jsx(hf,{className:"w-4 h-4"}),s.jsx("span",{children:t?"Cancel":"Edit"})]})})]})})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx(U0,{delay:.1,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:[s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:"Verified"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),t?s.jsx("input",{type:"text",value:p.name,onChange:I=>y("name",I.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:p.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(ln,{className:"w-4 h-4 mr-2 text-gray-400"}),p.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),t?s.jsx("input",{type:"tel",value:p.phone,onChange:I=>y("phone",I.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(Es,{className:"w-4 h-4 mr-2 text-gray-400"}),p.phone||"Not provided"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),t?s.jsx("input",{type:"text",value:p.location,onChange:I=>y("location",I.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter your location"}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2 text-gray-400"}),p.location||"Not provided"]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),t?s.jsx("textarea",{value:p.bio,onChange:I=>y("bio",I.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300 resize-none",placeholder:"Tell us about yourself..."}):s.jsx("p",{className:"text-gray-600 leading-relaxed",children:p.bio||"No bio provided"})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(U0,{delay:.1,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Trust Score"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:p.trustScore})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Excellent Profile"})]})]})}),s.jsx(U0,{delay:.2,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>c(!0),className:"w-full px-4 py-3 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-300 flex items-center justify-center space-x-2",children:[s.jsx(dc,{className:"w-4 h-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]}),t&&s.jsx(U0,{delay:.4,children:s.jsx("div",{className:"text-center mt-8",children:s.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:m.type==="loading",className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Bv,{className:"w-5 h-5"}),s.jsx("span",{children:m.type==="loading"?"Saving...":"Save Changes"})]})})}),m.message&&s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`fixed top-20 right-4 z-50 px-6 py-3 rounded-xl shadow-lg ${m.type==="success"?"bg-green-100 border border-green-300 text-green-800":m.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-100 border border-blue-300 text-blue-800"}`,children:m.message}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-8 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Change Password"}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(or,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:A.current?"text":"password",value:d.currentPassword,onChange:I=>b("currentPassword",I.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>w("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A.current?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:A.new?"text":"password",value:d.newPassword,onChange:I=>b("newPassword",I.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>w("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A.new?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:A.confirm?"text":"password",value:d.confirmPassword,onChange:I=>b("confirmPassword",I.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>w("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A.confirm?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300",children:"Cancel"}),s.jsx("button",{onClick:B,disabled:m.type==="loading",className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-300 disabled:opacity-50",children:m.type==="loading"?"Updating...":"Update Password"})]})]})]})})]})})}):s.jsx("div",{className:"pt-16 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(cr,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access your profile."}),s.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-lg font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200",children:"Go to Login"})]})})},tpe=()=>{const e=[{icon:Kh,title:"Community First",description:"We believe in building strong, supportive communities where everyone feels at home."},{icon:rr,title:"Trust & Security",description:"Your safety and privacy are our top priorities with verified listings and secure transactions."},{icon:tu,title:"Innovation",description:"Leveraging cutting-edge technology to make co-living seamless and enjoyable."},{icon:Lue,title:"Transparency",description:"Clear pricing, honest reviews, and open communication at every step."}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-red-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs(X.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["About ",s.jsx("span",{className:"text-red-600",children:"Lyvo+"})]}),s.jsx(X.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Revolutionizing the co-living experience through technology, community, and trust."})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Our ",s.jsx("span",{className:"text-red-600",children:"Mission"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"To create a world where finding the perfect co-living space is effortless, where communities thrive, and where technology enhances human connections rather than replacing them."})]})}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Why Co-Living Matters"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"In today's fast-paced world, traditional housing models often leave people feeling isolated. Co-living offers a solution that combines affordability, community, and flexibility."}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We believe everyone deserves a place they can call home, surrounded by like-minded individuals who share their values and aspirations."}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(du,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Growing Trend"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Co-living is the future of urban living"})]})]})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-2xl p-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Smart Matching"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Community Building"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Secure Transactions"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"24/7 Support"})]})]})})})]})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Our ",s.jsx("span",{className:"text-red-600",children:"Values"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The principles that guide everything we do"})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>s.jsxs(X.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all duration-200 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(t.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:t.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},r))})]})})]})},rpe=()=>{const[e,t]=_.useState({name:"",email:"",subject:"",message:""}),[r,n]=_.useState(!1),[i,a]=_.useState(!1),o=d=>{t({...e,[d.target.name]:d.target.value})},l=async d=>{d.preventDefault(),a(!0),await new Promise(u=>setTimeout(u,1500)),n(!0),a(!1)},c=[{question:"How quickly do you respond to inquiries?",answer:"We typically respond to all inquiries within 24 hours during business days."},{question:"Can I schedule a demo of your platform?",answer:"Absolutely! We'd love to show you around. Contact us to schedule a personalized demo."},{question:"Do you offer support for property owners?",answer:"Yes, we provide comprehensive support for both property owners and tenants."},{question:"What cities do you currently operate in?",answer:"We're currently active in 15+ major cities across India with plans to expand further."}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-red-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs(X.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Get in ",s.jsx("span",{className:"text-red-600",children:"Touch"})]}),s.jsx(X.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Send us a Message"}),s.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),r?s.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(wt,{className:"h-10 w-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Message Sent!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for reaching out! We'll get back to you within 24 hours."}),s.jsx("button",{onClick:()=>n(!1),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-all duration-200",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",name:"name",id:"name",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"John Doe",value:e.name,onChange:o})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",id:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"john@example.com",value:e.email,onChange:o})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),s.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"How can we help you?",value:e.subject,onChange:o})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{name:"message",id:"message",rows:6,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 resize-none",placeholder:"Tell us more about your inquiry...",value:e.message,onChange:o})]}),s.jsx(X.button,{type:"submit",disabled:i,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-red-600 text-white py-4 px-6 rounded-lg font-semibold shadow-sm hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Jp,{className:"h-5 w-5"}),s.jsx("span",{children:"Send Message"})]})})]})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Why Choose Lyvo+?"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Ca,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Expert Support Team"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Our dedicated team is here to help 24/7"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Ca,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Quick Response Time"}),s.jsx("p",{className:"text-sm text-gray-600",children:"We respond to all inquiries within 24 hours"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(Ca,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Personalized Solutions"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tailored assistance for your specific needs"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),s.jsx("div",{className:"space-y-4",children:c.map((d,u)=>s.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:d.question}),s.jsx("p",{className:"text-sm text-gray-600",children:d.answer})]},u))})]})]})})]})})})]})},npe=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-between items-center py-4",children:s.jsxs(Ot,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Pr,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]})})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl w-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(X.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:100},className:"mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-8xl md:text-9xl font-bold text-red-500 mb-4 tracking-tight",children:"404"}),s.jsx(X.div,{animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-4 -right-4 w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(eo,{className:"w-8 h-8 text-white"})})]})}),s.jsxs(X.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"mb-12",children:[s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Page Not Found"}),s.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Oops! The page you're looking for doesn't exist or has been moved. Don't worry, there are plenty of amazing co-living opportunities waiting for you!"})]}),s.jsxs(X.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 mb-8",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(X.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-red-50 to-red-100 rounded-xl border border-red-200",children:[s.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(Pr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Go Home"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Return to the main page and explore our co-living community"}),s.jsx(Ot,{to:"/",children:s.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Home"})})]}),s.jsxs(X.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(wr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Find Accommodations"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Discover available co-living spaces in your area"}),s.jsx(Ot,{to:"/dashboard",children:s.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Browse"})})]}),s.jsxs(X.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(zr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Join Community"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect with other co-living enthusiasts"}),s.jsx(Ot,{to:"/login",children:s.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-green-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-600 transition-colors",children:"Sign In"})})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[s.jsx(Ot,{to:"/",children:s.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2",children:[s.jsx(Pr,{className:"w-5 h-5"}),"Go Home"]})}),s.jsx(Ot,{to:"/login",children:s.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border-2 border-gray-300 text-gray-700 hover:border-red-500 hover:text-red-500 px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2",children:[s.jsx(pi,{className:"w-5 h-5"}),"Back to Login"]})})]})]})]}),s.jsxs(X.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Need Help?"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"If you're having trouble finding what you're looking for, our support team is here to help."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx("a",{href:"mailto:support@lyvo.com",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"Contact Support"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("a",{href:"/help",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"Help Center"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("a",{href:"/faq",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"FAQ"})]})]})]})})}),s.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[s.jsx(X.div,{animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-red-500/10 to-red-600/10 rounded-full blur-3xl"}),s.jsx(X.div,{animate:{scale:[1.2,1,1.2],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-blue-600/10 rounded-full blur-3xl"}),s.jsx(X.div,{animate:{scale:[1,1.1,1],rotate:[0,90,180,270,360]},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-gradient-to-r from-green-500/10 to-green-600/10 rounded-full blur-2xl"})]})]}),spe=()=>{};var ZF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},ipe=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],l=e[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},aW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,l=o?e[i+1]:0,c=i+2<e.length,d=c?e[i+2]:0,u=a>>2,A=(a&3)<<4|l>>4;let f=(l&15)<<2|d>>6,m=d&63;c||(m=64,o||(f=64)),n.push(r[u],r[A],r[f],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(iW(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ipe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],l=i<e.length?r[e.charAt(i)]:0;++i;const d=i<e.length?r[e.charAt(i)]:64;++i;const A=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||l==null||d==null||A==null)throw new ape;const f=a<<2|l>>4;if(n.push(f),d!==64){const m=l<<4&240|d>>2;if(n.push(m),A!==64){const x=d<<6&192|A;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ape extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ope=function(e){const t=iW(e);return aW.encodeByteArray(t,!0)},oW=function(e){return ope(e).replace(/\./g,"")},lW=function(e){try{return aW.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lpe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cpe=()=>lpe().__FIREBASE_DEFAULTS__,dpe=()=>{if(typeof process>"u"||typeof ZF>"u")return;const e=ZF.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},upe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&lW(e[1]);return t&&JSON.parse(t)},A6=()=>{try{return spe()||cpe()||dpe()||upe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},hpe=e=>{var t,r;return(r=(t=A6())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},cW=()=>{var e;return(e=A6())==null?void 0:e.config},dW=e=>{var t;return(t=A6())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ape{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fpe(e){return(await fetch(e,{credentials:"include"})).ok}const Ux={};function mpe(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ux))Ux[t]?e.emulator.push(t):e.prod.push(t);return e}function ppe(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let JF=!1;function gpe(e,t){if(typeof window>"u"||typeof document>"u"||!UN(window.location.host)||Ux[e]===t||Ux[e]||JF)return;Ux[e]=t;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",a=mpe().prod.length>0;function o(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{JF=!0,o()},f}function u(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function A(){const f=ppe(n),m=r("text"),x=document.getElementById(m)||document.createElement("span"),p=r("learnmore"),v=document.getElementById(p)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;l(w),u(v,p);const j=d();c(b,y),w.append(b,x,v,j),document.body.appendChild(w)}a?(x.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xpe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sa())}function ype(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uW(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function vpe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bpe(){const e=Sa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function hW(){try{return typeof indexedDB=="object"}catch{return!1}}function AW(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}function wpe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jpe="FirebaseError";class ud extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=jpe,Object.setPrototypeOf(this,ud.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sm.prototype.create)}}class sm{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?Npe(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ud(i,l,n)}}function Npe(e,t){return e.replace(_pe,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const _pe=/\{\$([^}]+)}/g;function Cpe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Tf(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(eU(a)&&eU(o)){if(!Tf(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function eU(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ux(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function hx(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function Bpe(e,t){const r=new Spe(e,t);return r.subscribe.bind(r)}class Spe{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Epe(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=yC),i.error===void 0&&(i.error=yC),i.complete===void 0&&(i.complete=yC);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Epe(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function yC(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kpe=1e3,Ppe=2,Ipe=4*60*60*1e3,Tpe=.5;function tU(e,t=kpe,r=Ppe){const n=t*Math.pow(r,e),i=Math.round(Tpe*n*(Math.random()-.5)*2);return Math.min(Ipe,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(e){return e&&e._delegate?e._delegate:e}class ld{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ope{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new Ape;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Fpe(t))try{this.getOrInitializeService({instanceIdentifier:RA})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=RA){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=RA){return this.instances.has(t)}getOptions(t=RA){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Lpe(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=RA){return this.component?this.component.multipleInstances?t:RA:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lpe(e){return e===RA?void 0:e}function Fpe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Upe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Ope(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pn||(Pn={}));const Rpe={debug:Pn.DEBUG,verbose:Pn.VERBOSE,info:Pn.INFO,warn:Pn.WARN,error:Pn.ERROR,silent:Pn.SILENT},Dpe=Pn.INFO,Mpe={[Pn.DEBUG]:"log",[Pn.VERBOSE]:"log",[Pn.INFO]:"info",[Pn.WARN]:"warn",[Pn.ERROR]:"error"},Qpe=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=Mpe[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let f6=class{constructor(t){this.name=t,this._logLevel=Dpe,this._logHandler=Qpe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Rpe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pn.DEBUG,...t),this._logHandler(this,Pn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pn.VERBOSE,...t),this._logHandler(this,Pn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pn.INFO,...t),this._logHandler(this,Pn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pn.WARN,...t),this._logHandler(this,Pn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pn.ERROR,...t),this._logHandler(this,Pn.ERROR,...t)}};const $pe=(e,t)=>t.some(r=>e instanceof r);let rU,nU;function Hpe(){return rU||(rU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zpe(){return nU||(nU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fW=new WeakMap,R4=new WeakMap,mW=new WeakMap,vC=new WeakMap,m6=new WeakMap;function Vpe(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(Fh(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&fW.set(r,e)}).catch(()=>{}),m6.set(t,e),t}function Kpe(e){if(R4.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});R4.set(e,t)}let D4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return R4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||mW.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fh(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Wpe(e){D4=e(D4)}function Gpe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(bC(this),t,...r);return mW.set(n,t.sort?t.sort():[t]),Fh(n)}:zpe().includes(e)?function(...t){return e.apply(bC(this),t),Fh(fW.get(this))}:function(...t){return Fh(e.apply(bC(this),t))}}function qpe(e){return typeof e=="function"?Gpe(e):(e instanceof IDBTransaction&&Kpe(e),$pe(e,Hpe())?new Proxy(e,D4):e)}function Fh(e){if(e instanceof IDBRequest)return Vpe(e);if(vC.has(e))return vC.get(e);const t=qpe(e);return t!==e&&(vC.set(e,t),m6.set(t,e)),t}const bC=e=>m6.get(e);function pW(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),l=Fh(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Fh(o.result),c.oldVersion,c.newVersion,Fh(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Ype=["get","getKey","getAll","getAllKeys","count"],Xpe=["put","add","delete","clear"],wC=new Map;function sU(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wC.get(t))return wC.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=Xpe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Ype.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return wC.set(t,a),a}Wpe(e=>({...e,get:(t,r,n)=>sU(t,r)||e.get(t,r,n),has:(t,r)=>!!sU(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zpe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Jpe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Jpe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const M4="@firebase/app",iU="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new f6("@firebase/app"),ege="@firebase/app-compat",tge="@firebase/analytics-compat",rge="@firebase/analytics",nge="@firebase/app-check-compat",sge="@firebase/app-check",ige="@firebase/auth",age="@firebase/auth-compat",oge="@firebase/database",lge="@firebase/data-connect",cge="@firebase/database-compat",dge="@firebase/functions",uge="@firebase/functions-compat",hge="@firebase/installations",Age="@firebase/installations-compat",fge="@firebase/messaging",mge="@firebase/messaging-compat",pge="@firebase/performance",gge="@firebase/performance-compat",xge="@firebase/remote-config",yge="@firebase/remote-config-compat",vge="@firebase/storage",bge="@firebase/storage-compat",wge="@firebase/firestore",jge="@firebase/ai",Nge="@firebase/firestore-compat",_ge="firebase",Cge="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="[DEFAULT]",Bge={[M4]:"fire-core",[ege]:"fire-core-compat",[rge]:"fire-analytics",[tge]:"fire-analytics-compat",[sge]:"fire-app-check",[nge]:"fire-app-check-compat",[ige]:"fire-auth",[age]:"fire-auth-compat",[oge]:"fire-rtdb",[lge]:"fire-data-connect",[cge]:"fire-rtdb-compat",[dge]:"fire-fn",[uge]:"fire-fn-compat",[hge]:"fire-iid",[Age]:"fire-iid-compat",[fge]:"fire-fcm",[mge]:"fire-fcm-compat",[pge]:"fire-perf",[gge]:"fire-perf-compat",[xge]:"fire-rc",[yge]:"fire-rc-compat",[vge]:"fire-gcs",[bge]:"fire-gcs-compat",[wge]:"fire-fst",[Nge]:"fire-fst-compat",[jge]:"fire-vertex","fire-js":"fire-js",[_ge]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new Map,Sge=new Map,$4=new Map;function aU(e,t){try{e.container.addComponent(t)}catch(r){uu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function hu(e){const t=e.name;if($4.has(t))return uu.debug(`There were multiple attempts to register component ${t}.`),!1;$4.set(t,e);for(const r of x2.values())aU(r,e);for(const r of Sge.values())aU(r,e);return!0}function zg(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function al(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ege={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uh=new sm("app","Firebase",Ege);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kge{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ld("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Uh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=Cge;function gW(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:Q4,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw Uh.create("bad-app-name",{appName:String(i)});if(r||(r=cW()),!r)throw Uh.create("no-options");const a=x2.get(i);if(a){if(Tf(r,a.options)&&Tf(n,a.config))return a;throw Uh.create("duplicate-app",{appName:i})}const o=new Upe(i);for(const c of $4.values())o.addComponent(c);const l=new kge(r,n,o);return x2.set(i,l),l}function xW(e=Q4){const t=x2.get(e);if(!t&&e===Q4&&cW())return gW();if(!t)throw Uh.create("no-app",{appName:e});return t}function Zc(e,t,r){let n=Bge[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${t}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),uu.warn(o.join(" "));return}hu(new ld(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pge="firebase-heartbeat-database",Ige=1,jy="firebase-heartbeat-store";let jC=null;function yW(){return jC||(jC=pW(Pge,Ige,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(jy)}catch(r){console.warn(r)}}}}).catch(e=>{throw Uh.create("idb-open",{originalErrorMessage:e.message})})),jC}async function Tge(e){try{const r=(await yW()).transaction(jy),n=await r.objectStore(jy).get(vW(e));return await r.done,n}catch(t){if(t instanceof ud)uu.warn(t.message);else{const r=Uh.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});uu.warn(r.message)}}}async function oU(e,t){try{const n=(await yW()).transaction(jy,"readwrite");await n.objectStore(jy).put(t,vW(e)),await n.done}catch(r){if(r instanceof ud)uu.warn(r.message);else{const n=Uh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});uu.warn(n.message)}}}function vW(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oge=1024,Lge=30;class Fge{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Rge(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=lU();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Lge){const o=Dge(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){uu.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=lU(),{heartbeatsToSend:n,unsentEntries:i}=Uge(this._heartbeatsCache.heartbeats),a=oW(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return uu.warn(r),""}}}function lU(){return new Date().toISOString().substring(0,10)}function Uge(e,t=Oge){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),cU(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),cU(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Rge{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hW()?AW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Tge(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return oU(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return oU(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function cU(e){return oW(JSON.stringify({version:2,heartbeats:e})).length}function Dge(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mge(e){hu(new ld("platform-logger",t=>new Zpe(t),"PRIVATE")),hu(new ld("heartbeat",t=>new Fge(t),"PRIVATE")),Zc(M4,iU,e),Zc(M4,iU,"esm2020"),Zc("fire-js","")}Mge("");function bW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qge=bW,wW=new sm("auth","Firebase",bW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new f6("@firebase/auth");function $ge(e,...t){y2.logLevel<=Pn.WARN&&y2.warn(`Auth (${Rv}): ${e}`,...t)}function g1(e,...t){y2.logLevel<=Pn.ERROR&&y2.error(`Auth (${Rv}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(e,...t){throw g6(e,...t)}function ac(e,...t){return g6(e,...t)}function p6(e,t,r){const n={...Qge(),[t]:r};return new sm("auth","Firebase",n).create(t,{appName:e.name})}function ru(e){return p6(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hge(e,t,r){const n=r;if(!(t instanceof n))throw n.name!==t.constructor.name&&xl(e,"argument-error"),p6(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function g6(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return wW.create(e,...t)}function lr(e,t,...r){if(!e)throw g6(t,...r)}function Hd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw g1(t),new Error(t)}function Au(e,t){e||Hd(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function zge(){return dU()==="http:"||dU()==="https:"}function dU(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vge(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zge()||uW()||"connection"in navigator)?navigator.onLine:!0}function Kge(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,r){this.shortDelay=t,this.longDelay=r,Au(r>t,"Short delay should be less than long delay!"),this.isMobile=xpe()||vpe()}get(){return Vge()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(e,t){Au(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gge=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qge=new Dv(3e4,6e4);function ju(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function hd(e,t,r,n,i={}){return NW(e,i,async()=>{let a={},o={};n&&(t==="GET"?o=n:a={body:JSON.stringify(n)});const l=Uv({key:e.config.apiKey,...o}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:c,...a};return ype()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&UN(e.emulatorConfig.host)&&(d.credentials="include"),jW.fetch()(await _W(e,e.config.apiHost,r,l),d)})}async function NW(e,t,r){e._canInitEmulator=!1;const n={...Wge,...t};try{const i=new Xge(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Kb(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kb(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Kb(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw Kb(e,"user-disabled",o);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw p6(e,u,d);xl(e,u)}}catch(i){if(i instanceof ud)throw i;xl(e,"network-request-failed",{message:String(i)})}}async function Mv(e,t,r,n,i={}){const a=await hd(e,t,r,n,i);return"mfaPendingCredential"in a&&xl(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function _W(e,t,r,n){const i=`${t}${r}?${n}`,a=e,o=a.config.emulator?x6(e.config,i):`${e.config.apiScheme}://${i}`;return Gge.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Yge(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xge{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ac(this.auth,"network-request-failed")),qge.get())})}}function Kb(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ac(e,t,n);return i.customData._tokenResponse=r,i}function uU(e){return e!==void 0&&e.enterprise!==void 0}class Zge{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return Yge(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jge(e,t){return hd(e,"GET","/v2/recaptchaConfig",ju(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e0e(e,t){return hd(e,"POST","/v1/accounts:delete",t)}async function v2(e,t){return hd(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function t0e(e,t=!1){const r=Fo(e),n=await r.getIdToken(t),i=y6(n);lr(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Rx(NC(i.auth_time)),issuedAtTime:Rx(NC(i.iat)),expirationTime:Rx(NC(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function NC(e){return Number(e)*1e3}function y6(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return g1("JWT malformed, contained fewer than 3 sections"),null;try{const i=lW(r);return i?JSON.parse(i):(g1("Failed to decode base64 JWT payload"),null)}catch(i){return g1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hU(e){const t=y6(e);return lr(t,"internal-error"),lr(typeof t.exp<"u","internal-error"),lr(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof ud&&r0e(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function r0e({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0e{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rx(this.lastLoginAt),this.creationTime=Rx(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(e){var A;const t=e.auth,r=await e.getIdToken(),n=await ig(e,v2(t,{idToken:r}));lr(n==null?void 0:n.users.length,t,"internal-error");const i=n.users[0];e._notifyReloadListener(i);const a=(A=i.providerUserInfo)!=null&&A.length?CW(i.providerUserInfo):[],o=i0e(e.providerData,a),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new z4(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,u)}async function s0e(e){const t=Fo(e);await b2(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function i0e(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function CW(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0e(e,t){const r=await NW(e,{},async()=>{const n=Uv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=await _W(e,i,"/v1/token",`key=${a}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return e.emulatorConfig&&UN(e.emulatorConfig.host)&&(c.credentials="include"),jW.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function o0e(e,t){return hd(e,"POST","/v2/accounts:revokeToken",ju(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){lr(t.idToken,"internal-error"),lr(typeof t.idToken<"u","internal-error"),lr(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hU(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){lr(t.length!==0,"internal-error");const r=hU(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(lr(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await a0e(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Bp;return n&&(lr(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),i&&(lr(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),a&&(lr(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bp,this.toJSON())}_performRefresh(){return Hd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(e,t){lr(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class nc{constructor({uid:t,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new n0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new z4(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const r=await ig(this,this.stsTokenManager.getToken(this.auth,t));return lr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return t0e(this,t)}reload(){return s0e(this)}_assign(t){this!==t&&(lr(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new nc({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){lr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await b2(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(al(this.auth.app))return Promise.reject(ru(this.auth));const t=await this.getIdToken();return await ig(this,e0e(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,d=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:A,emailVerified:f,isAnonymous:m,providerData:x,stsTokenManager:p}=r;lr(A&&p,t,"internal-error");const v=Bp.fromJSON(this.name,p);lr(typeof A=="string",t,"internal-error"),Xu(n,t.name),Xu(i,t.name),lr(typeof f=="boolean",t,"internal-error"),lr(typeof m=="boolean",t,"internal-error"),Xu(a,t.name),Xu(o,t.name),Xu(l,t.name),Xu(c,t.name),Xu(d,t.name),Xu(u,t.name);const y=new nc({uid:A,auth:t,email:i,emailVerified:f,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:v,createdAt:d,lastLoginAt:u});return x&&Array.isArray(x)&&(y.providerData=x.map(b=>({...b}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(t,r,n=!1){const i=new Bp;i.updateFromServerResponse(r);const a=new nc({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await b2(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];lr(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?CW(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Bp;l.updateFromIdToken(n);const c=new nc({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new z4(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new Map;function zd(e){Au(e instanceof Function,"Expected a class definition");let t=AU.get(e);return t?(Au(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,AU.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}BW.type="NONE";const fU=BW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(e,t,r){return`firebase:${e}:${t}:${r}`}class Sp{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=x1(this.userKey,i.apiKey,a),this.fullPersistenceKey=x1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await v2(this.auth,{idToken:t}).catch(()=>{});return r?nc._fromGetAccountInfoResponse(this.auth,r,t):null}return nc._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Sp(zd(fU),t,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||zd(fU);const o=x1(n,t.config.apiKey,t.name);let l=null;for(const d of r)try{const u=await d._get(o);if(u){let A;if(typeof u=="string"){const f=await v2(t,{idToken:u}).catch(()=>{});if(!f)break;A=await nc._fromGetAccountInfoResponse(t,f,u)}else A=nc._fromJSON(t,u);d!==a&&(l=A),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Sp(a,t,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Sp(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(PW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TW(t))return"Blackberry";if(OW(t))return"Webos";if(EW(t))return"Safari";if((t.includes("chrome/")||kW(t))&&!t.includes("edge/"))return"Chrome";if(IW(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function SW(e=Sa()){return/firefox\//i.test(e)}function EW(e=Sa()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kW(e=Sa()){return/crios\//i.test(e)}function PW(e=Sa()){return/iemobile/i.test(e)}function IW(e=Sa()){return/android/i.test(e)}function TW(e=Sa()){return/blackberry/i.test(e)}function OW(e=Sa()){return/webos/i.test(e)}function v6(e=Sa()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function l0e(e=Sa()){var t;return v6(e)&&!!((t=window.navigator)!=null&&t.standalone)}function c0e(){return bpe()&&document.documentMode===10}function LW(e=Sa()){return v6(e)||IW(e)||OW(e)||TW(e)||/windows phone/i.test(e)||PW(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(e,t=[]){let r;switch(e){case"Browser":r=mU(Sa());break;case"Worker":r=`${mU(Sa())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Rv}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0e{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((o,l)=>{try{const c=t(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0e(e,t={}){return hd(e,"GET","/v2/passwordPolicy",ju(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0e=6;class A0e{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??h0e,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0e{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pU(this),this.idTokenSubscription=new pU(this),this.beforeStateQueue=new d0e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=zd(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Sp.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await v2(this,{idToken:t}),n=await nc._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(al(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return lr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await b2(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Kge()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(al(this.app))return Promise.reject(ru(this));const r=t?Fo(t):null;return r&&lr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&lr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return al(this.app)?Promise.reject(ru(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return al(this.app)?Promise.reject(ru(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zd(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await u0e(this),r=new A0e(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new sm("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await o0e(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&zd(t)||this._popupRedirectResolver;lr(r,this,"argument-error"),this.redirectPersistenceManager=await Sp.create(this,[zd(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(lr(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=t.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return lr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=FW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(al(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&$ge(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Nu(e){return Fo(e)}class pU{constructor(t){this.auth=t,this.observer=null,this.addObserver=Bpe(r=>this.observer=r)}get next(){return lr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m0e(e){RN=e}function UW(e){return RN.loadJS(e)}function p0e(){return RN.recaptchaEnterpriseScript}function g0e(){return RN.gapiScript}function x0e(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class y0e{constructor(){this.enterprise=new v0e}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class v0e{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const b0e="recaptcha-enterprise",RW="NO_RECAPTCHA";class w0e{constructor(t){this.type=b0e,this.auth=Nu(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{Jge(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Zge(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;uU(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:t}).then(d=>{o(d)}).catch(()=>{o(RW)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y0e().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&uU(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=p0e();c.length!==0&&(c+=l),UW(c).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function gU(e,t,r,n=!1,i=!1){const a=new w0e(e);let o;if(i)o=RW;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function w2(e,t,r,n,i){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await gU(e,t,r,r==="getOobCode");return n(e,o)}else return n(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await gU(e,t,r,r==="getOobCode");return n(e,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0e(e,t){const r=zg(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Tf(a,t??{}))return i;xl(i,"already-initialized")}return r.initialize({options:t})}function N0e(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(zd);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function _0e(e,t,r){const n=Nu(e);lr(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=DW(t),{host:o,port:l}=C0e(t),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){lr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),lr(Tf(d,n.config.emulator)&&Tf(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,UN(o)?(fpe(`${a}//${o}${c}`),gpe("Auth",!0)):B0e()}function DW(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function C0e(e){const t=DW(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:xU(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:xU(o)}}}function xU(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function B0e(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Hd("not implemented")}_getIdTokenResponse(t){return Hd("not implemented")}_linkToIdToken(t,r){return Hd("not implemented")}_getReauthenticationResolver(t){return Hd("not implemented")}}async function S0e(e,t){return hd(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E0e(e,t){return Mv(e,"POST","/v1/accounts:signInWithPassword",ju(e,t))}async function MW(e,t){return hd(e,"POST","/v1/accounts:sendOobCode",ju(e,t))}async function k0e(e,t){return MW(e,t)}async function P0e(e,t){return MW(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0e(e,t){return Mv(e,"POST","/v1/accounts:signInWithEmailLink",ju(e,t))}async function T0e(e,t){return Mv(e,"POST","/v1/accounts:signInWithEmailLink",ju(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends b6{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new Ny(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Ny(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return w2(t,r,"signInWithPassword",E0e);case"emailLink":return I0e(t,{email:this._email,oobCode:this._password});default:xl(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return w2(t,n,"signUpPassword",S0e);case"emailLink":return T0e(t,{idToken:r,email:this._email,oobCode:this._password});default:xl(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(e,t){return Mv(e,"POST","/v1/accounts:signInWithIdp",ju(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0e="http://localhost";class Of extends b6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Of(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):xl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new Of(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return Ep(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Ep(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Ep(t,r)}buildRequest(){const t={requestUri:O0e,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Uv(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0e(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F0e(e){const t=ux(hx(e)).link,r=t?ux(hx(t)).deep_link_id:null,n=ux(hx(e)).deep_link_id;return(n?ux(hx(n)).link:null)||n||r||t||e}class w6{constructor(t){const r=ux(hx(t)),n=r.apiKey??null,i=r.oobCode??null,a=L0e(r.mode??null);lr(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=F0e(t);try{return new w6(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.providerId=Vg.PROVIDER_ID}static credential(t,r){return Ny._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=w6.parseLink(r);return lr(n,"argument-error"),Ny._fromEmailAndCode(t,n.code,n.tenantId)}}Vg.PROVIDER_ID="password";Vg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends j6{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Qv{constructor(){super("facebook.com")}static credential(t){return Of._fromParams({providerId:Ah.PROVIDER_ID,signInMethod:Ah.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ah.credentialFromTaggedObject(t)}static credentialFromError(t){return Ah.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ah.credential(t.oauthAccessToken)}catch{return null}}}Ah.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ah.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends Qv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Of._fromParams({providerId:Rd.PROVIDER_ID,signInMethod:Rd.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Rd.credentialFromTaggedObject(t)}static credentialFromError(t){return Rd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Rd.credential(r,n)}catch{return null}}}Rd.GOOGLE_SIGN_IN_METHOD="google.com";Rd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Qv{constructor(){super("github.com")}static credential(t){return Of._fromParams({providerId:fh.PROVIDER_ID,signInMethod:fh.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fh.credentialFromTaggedObject(t)}static credentialFromError(t){return fh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fh.credential(t.oauthAccessToken)}catch{return null}}}fh.GITHUB_SIGN_IN_METHOD="github.com";fh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Qv{constructor(){super("twitter.com")}static credential(t,r){return Of._fromParams({providerId:mh.PROVIDER_ID,signInMethod:mh.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return mh.credentialFromTaggedObject(t)}static credentialFromError(t){return mh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return mh.credential(r,n)}catch{return null}}}mh.TWITTER_SIGN_IN_METHOD="twitter.com";mh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0e(e,t){return Mv(e,"POST","/v1/accounts:signUp",ju(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await nc._fromIdTokenResponse(t,n,i),o=yU(n);return new Lf({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=yU(n);return new Lf({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function yU(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2 extends ud{constructor(t,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,j2.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new j2(t,r,n,i)}}function QW(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?j2._fromErrorAndOperation(e,a,t,n):a})}async function R0e(e,t,r=!1){const n=await ig(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Lf._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0e(e,t,r=!1){const{auth:n}=e;if(al(n.app))return Promise.reject(ru(n));const i="reauthenticate";try{const a=await ig(e,QW(n,i,t,e),r);lr(a.idToken,n,"internal-error");const o=y6(a.idToken);lr(o,n,"internal-error");const{sub:l}=o;return lr(e.uid===l,n,"user-mismatch"),Lf._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&xl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $W(e,t,r=!1){if(al(e.app))return Promise.reject(ru(e));const n="signIn",i=await QW(e,n,t),a=await Lf._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}async function M0e(e,t){return $W(Nu(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(e){const t=Nu(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Q0e(e,t,r){const n=Nu(e);await w2(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",P0e)}async function zW(e,t,r){if(al(e.app))return Promise.reject(ru(e));const n=Nu(e),o=await w2(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U0e).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&HW(e),c}),l=await Lf._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function $0e(e,t,r){return al(e.app)?Promise.reject(ru(e)):M0e(Fo(e),Vg.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&HW(e),n})}async function VW(e,t){const r=Fo(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:a}=await k0e(r.auth,i);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0e(e,t){return hd(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KW(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=Fo(e),a={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},o=await ig(n,H0e(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function z0e(e,t,r,n){return Fo(e).onIdTokenChanged(t,r,n)}function V0e(e,t,r){return Fo(e).beforeAuthStateChanged(t,r)}function K0e(e){return Fo(e).signOut()}const N2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(N2,"1"),this.storage.removeItem(N2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0e=1e3,G0e=10;class GW extends WW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);c0e()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,G0e):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},W0e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}GW.type="LOCAL";const q0e=GW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW extends WW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}qW.type="SESSION";const YW=qW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0e(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new DN(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async d=>d(r.origin,a)),c=await Y0e(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}DN.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0e{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=N6("",20);i.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(A){const f=A;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(u),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(){return window}function Z0e(e){Jc().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(){return typeof Jc().WorkerGlobalScope<"u"&&typeof Jc().importScripts=="function"}async function J0e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function exe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function txe(){return XW()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW="firebaseLocalStorageDb",rxe=1,_2="firebaseLocalStorage",JW="fbase_key";class $v{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function MN(e,t){return e.transaction([_2],t?"readwrite":"readonly").objectStore(_2)}function nxe(){const e=indexedDB.deleteDatabase(ZW);return new $v(e).toPromise()}function V4(){const e=indexedDB.open(ZW,rxe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(_2,{keyPath:JW})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(_2)?t(n):(n.close(),await nxe(),t(await V4()))})})}async function vU(e,t,r){const n=MN(e,!0).put({[JW]:t,value:r});return new $v(n).toPromise()}async function sxe(e,t){const r=MN(e,!1).get(t),n=await new $v(r).toPromise();return n===void 0?null:n.value}function bU(e,t){const r=MN(e,!0).delete(t);return new $v(r).toPromise()}const ixe=800,axe=3;class eG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V4(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>axe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XW()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=DN._getInstance(txe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await J0e(),!this.activeServiceWorker)return;this.sender=new X0e(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||exe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await V4();return await vU(t,N2,"1"),await bU(t,N2),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>vU(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>sxe(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bU(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=MN(i,!1).getAll();return new $v(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ixe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eG.type="LOCAL";const oxe=eG;new Dv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(e,t){return t?zd(t):(lr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6 extends b6{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ep(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Ep(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Ep(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function lxe(e){return $W(e.auth,new _6(e),e.bypassAuthState)}function cxe(e){const{auth:t,user:r}=e;return lr(r,t,"internal-error"),D0e(r,new _6(e),e.bypassAuthState)}async function dxe(e){const{auth:t,user:r}=e;return lr(r,t,"internal-error"),R0e(r,new _6(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lxe;case"linkViaPopup":case"linkViaRedirect":return dxe;case"reauthViaPopup":case"reauthViaRedirect":return cxe;default:xl(this.auth,"internal-error")}}resolve(t){Au(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Au(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uxe=new Dv(2e3,1e4);async function hxe(e,t,r){if(al(e.app))return Promise.reject(ac(e,"operation-not-supported-in-this-environment"));const n=Nu(e);Hge(e,t,j6);const i=tG(n,r);return new JA(n,"signInViaPopup",t,i).executeNotNull()}class JA extends rG{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,JA.currentPopupAction&&JA.currentPopupAction.cancel(),JA.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return lr(t,this.auth,"internal-error"),t}async onExecution(){Au(this.filter.length===1,"Popup operations only handle one event");const t=N6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ac(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ac(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,JA.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ac(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uxe.get())};t()}}JA.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Axe="pendingRedirect",y1=new Map;class fxe extends rG{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=y1.get(this.auth._key());if(!t){try{const n=await mxe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}y1.set(this.auth._key(),t)}return this.bypassAuthState||y1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mxe(e,t){const r=xxe(t),n=gxe(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function pxe(e,t){y1.set(e._key(),t)}function gxe(e){return zd(e._redirectPersistence)}function xxe(e){return x1(Axe,e.config.apiKey,e.name)}async function yxe(e,t,r=!1){if(al(e.app))return Promise.reject(ru(e));const n=Nu(e),i=tG(n,t),o=await new fxe(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vxe=10*60*1e3;class bxe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!wxe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!nG(t)){const i=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(ac(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vxe&&this.cachedEventUids.clear(),this.cachedEventUids.has(wU(t))}saveEventToCache(t){this.cachedEventUids.add(wU(t)),this.lastProcessedEventTime=Date.now()}}function wU(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function nG({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function wxe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nG(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jxe(e,t={}){return hd(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nxe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_xe=/^https?/;async function Cxe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await jxe(e);for(const r of t)try{if(Bxe(r))return}catch{}xl(e,"unauthorized-domain")}function Bxe(e){const t=H4(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!_xe.test(r))return!1;if(Nxe.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sxe=new Dv(3e4,6e4);function jU(){const e=Jc().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function Exe(e){return new Promise((t,r)=>{var i,a,o;function n(){jU(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jU(),r(ac(e,"network-request-failed"))},timeout:Sxe.get()})}if((a=(i=Jc().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((o=Jc().gapi)!=null&&o.load)n();else{const l=x0e("iframefcb");return Jc()[l]=()=>{gapi.load?n():r(ac(e,"network-request-failed"))},UW(`${g0e()}?onload=${l}`).catch(c=>r(c))}}).catch(t=>{throw v1=null,t})}let v1=null;function kxe(e){return v1=v1||Exe(e),v1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pxe=new Dv(5e3,15e3),Ixe="__/auth/iframe",Txe="emulator/auth/iframe",Oxe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lxe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fxe(e){const t=e.config;lr(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?x6(t,Txe):`https://${e.config.authDomain}/${Ixe}`,n={apiKey:t.apiKey,appName:e.name,v:Rv},i=Lxe.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Uv(n).slice(1)}`}async function Uxe(e){const t=await kxe(e),r=Jc().gapi;return lr(r,e,"internal-error"),t.open({where:document.body,url:Fxe(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oxe,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=ac(e,"network-request-failed"),l=Jc().setTimeout(()=>{a(o)},Pxe.get());function c(){Jc().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rxe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dxe=500,Mxe=600,Qxe="_blank",$xe="http://localhost";class NU{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hxe(e,t,r,n=Dxe,i=Mxe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...Rxe,width:n.toString(),height:i.toString(),top:a,left:o},d=Sa().toLowerCase();r&&(l=kW(d)?Qxe:r),SW(d)&&(t=t||$xe,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[m,x])=>`${f}${m}=${x},`,"");if(l0e(d)&&l!=="_self")return zxe(t||"",l),new NU(null);const A=window.open(t||"",l,u);lr(A,e,"popup-blocked");try{A.focus()}catch{}return new NU(A)}function zxe(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vxe="__/auth/handler",Kxe="emulator/auth/handler",Wxe=encodeURIComponent("fac");async function _U(e,t,r,n,i,a){lr(e.config.authDomain,e,"auth-domain-config-required"),lr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Rv,eventId:i};if(t instanceof j6){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Cpe(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,A]of Object.entries({}))o[u]=A}if(t instanceof Qv){const u=t.getScopes().filter(A=>A!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await e._getAppCheckToken(),d=c?`#${Wxe}=${encodeURIComponent(c)}`:"";return`${Gxe(e)}?${Uv(l).slice(1)}${d}`}function Gxe({config:e}){return e.emulator?x6(e,Kxe):`https://${e.authDomain}/${Vxe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="webStorageSupport";class qxe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YW,this._completeRedirectFn=yxe,this._overrideRedirectResult=pxe}async _openPopup(t,r,n,i){var o;Au((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await _U(t,r,n,H4(),i);return Hxe(t,a,N6())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await _U(t,r,n,H4(),i);return Z0e(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Au(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await Uxe(t),n=new bxe(t);return r.register("authEvent",i=>(lr(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(_C,{type:_C},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[_C];a!==void 0&&r(!!a),xl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Cxe(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return LW()||EW()||v6()}}const Yxe=qxe;var CU="@firebase/auth",BU="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xxe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){lr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zxe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jxe(e){hu(new ld("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;lr(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FW(e)},d=new f0e(n,i,a,c);return N0e(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),hu(new ld("auth-internal",t=>{const r=Nu(t.getProvider("auth").getImmediate());return(n=>new Xxe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zc(CU,BU,Zxe(e)),Zc(CU,BU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eye=5*60,tye=dW("authIdTokenMaxAge")||eye;let SU=null;const rye=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>tye)return;const i=r==null?void 0:r.token;SU!==i&&(SU=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nye(e=xW()){const t=zg(e,"auth");if(t.isInitialized())return t.getImmediate();const r=j0e(e,{popupRedirectResolver:Yxe,persistence:[oxe,q0e,YW]}),n=dW("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=rye(a.toString());V0e(r,o,()=>o(r.currentUser)),z0e(r,l=>o(l))}}const i=hpe("auth");return i&&_0e(r,`http://${i}`),r}function sye(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}m0e({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=ac("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",sye().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jxe("Browser");var iye="firebase",aye="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zc(iye,aye,"app");const sG="@firebase/installations",C6="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=1e4,aG=`w:${C6}`,oG="FIS_v2",oye="https://firebaseinstallations.googleapis.com/v1",lye=60*60*1e3,cye="installations",dye="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uye={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ff=new sm(cye,dye,uye);function lG(e){return e instanceof ud&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG({projectId:e}){return`${oye}/projects/${e}/installations`}function dG(e){return{token:e.token,requestStatus:2,expiresIn:Aye(e.expiresIn),creationTime:Date.now()}}async function uG(e,t){const n=(await t.json()).error;return Ff.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function hG({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function hye(e,{refreshToken:t}){const r=hG(e);return r.append("Authorization",fye(t)),r}async function AG(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Aye(e){return Number(e.replace("s","000"))}function fye(e){return`${oG} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mye({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=cG(e),i=hG(e),a=t.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={fid:r,authVersion:oG,appId:e.appId,sdkVersion:aG},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await AG(()=>fetch(n,l));if(c.ok){const d=await c.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:dG(d.authToken)}}else throw await uG("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pye(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gye=/^[cdef][\w-]{21}$/,K4="";function xye(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=yye(e);return gye.test(r)?r:K4}catch{return K4}}function yye(e){return pye(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mG=new Map;function pG(e,t){const r=QN(e);gG(r,t),vye(r,t)}function gG(e,t){const r=mG.get(e);if(r)for(const n of r)n(t)}function vye(e,t){const r=bye();r&&r.postMessage({key:e,fid:t}),wye()}let ef=null;function bye(){return!ef&&"BroadcastChannel"in self&&(ef=new BroadcastChannel("[Firebase] FID Change"),ef.onmessage=e=>{gG(e.data.key,e.data.fid)}),ef}function wye(){mG.size===0&&ef&&(ef.close(),ef=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jye="firebase-installations-database",Nye=1,Uf="firebase-installations-store";let CC=null;function B6(){return CC||(CC=pW(jye,Nye,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Uf)}}})),CC}async function C2(e,t){const r=QN(e),i=(await B6()).transaction(Uf,"readwrite"),a=i.objectStore(Uf),o=await a.get(r);return await a.put(t,r),await i.done,(!o||o.fid!==t.fid)&&pG(e,t.fid),t}async function xG(e){const t=QN(e),n=(await B6()).transaction(Uf,"readwrite");await n.objectStore(Uf).delete(t),await n.done}async function $N(e,t){const r=QN(e),i=(await B6()).transaction(Uf,"readwrite"),a=i.objectStore(Uf),o=await a.get(r),l=t(o);return l===void 0?await a.delete(r):await a.put(l,r),await i.done,l&&(!o||o.fid!==l.fid)&&pG(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(e){let t;const r=await $N(e.appConfig,n=>{const i=_ye(n),a=Cye(e,i);return t=a.registrationPromise,a.installationEntry});return r.fid===K4?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function _ye(e){const t=e||{fid:xye(),registrationStatus:0};return yG(t)}function Cye(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ff.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=Bye(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Sye(e)}:{installationEntry:t}}async function Bye(e,t){try{const r=await mye(e,t);return C2(e.appConfig,r)}catch(r){throw lG(r)&&r.customData.serverCode===409?await xG(e.appConfig):await C2(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function Sye(e){let t=await EU(e.appConfig);for(;t.registrationStatus===1;)await fG(100),t=await EU(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await S6(e);return n||r}return t}function EU(e){return $N(e,t=>{if(!t)throw Ff.create("installation-not-found");return yG(t)})}function yG(e){return Eye(e)?{fid:e.fid,registrationStatus:0}:e}function Eye(e){return e.registrationStatus===1&&e.registrationTime+iG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kye({appConfig:e,heartbeatServiceProvider:t},r){const n=Pye(e,r),i=hye(e,r),a=t.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={installation:{sdkVersion:aG,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await AG(()=>fetch(n,l));if(c.ok){const d=await c.json();return dG(d)}else throw await uG("Generate Auth Token",c)}function Pye(e,{fid:t}){return`${cG(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(e,t=!1){let r;const n=await $N(e.appConfig,a=>{if(!vG(a))throw Ff.create("not-registered");const o=a.authToken;if(!t&&Oye(o))return a;if(o.requestStatus===1)return r=Iye(e,t),a;{if(!navigator.onLine)throw Ff.create("app-offline");const l=Fye(a);return r=Tye(e,l),l}});return r?await r:n.authToken}async function Iye(e,t){let r=await kU(e.appConfig);for(;r.authToken.requestStatus===1;)await fG(100),r=await kU(e.appConfig);const n=r.authToken;return n.requestStatus===0?E6(e,t):n}function kU(e){return $N(e,t=>{if(!vG(t))throw Ff.create("not-registered");const r=t.authToken;return Uye(r)?{...t,authToken:{requestStatus:0}}:t})}async function Tye(e,t){try{const r=await kye(e,t),n={...t,authToken:r};return await C2(e.appConfig,n),r}catch(r){if(lG(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await xG(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await C2(e.appConfig,n)}throw r}}function vG(e){return e!==void 0&&e.registrationStatus===2}function Oye(e){return e.requestStatus===2&&!Lye(e)}function Lye(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+lye}function Fye(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function Uye(e){return e.requestStatus===1&&e.requestTime+iG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rye(e){const t=e,{installationEntry:r,registrationPromise:n}=await S6(t);return n?n.catch(console.error):E6(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dye(e,t=!1){const r=e;return await Mye(r),(await E6(r,t)).token}async function Mye(e){const{registrationPromise:t}=await S6(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qye(e){if(!e||!e.options)throw BC("App Configuration");if(!e.name)throw BC("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw BC(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function BC(e){return Ff.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG="installations",$ye="installations-internal",Hye=e=>{const t=e.getProvider("app").getImmediate(),r=Qye(t),n=zg(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},zye=e=>{const t=e.getProvider("app").getImmediate(),r=zg(t,bG).getImmediate();return{getId:()=>Rye(r),getToken:i=>Dye(r,i)}};function Vye(){hu(new ld(bG,Hye,"PUBLIC")),hu(new ld($ye,zye,"PRIVATE"))}Vye();Zc(sG,C6);Zc(sG,C6,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="analytics",Kye="firebase_id",Wye="origin",Gye=60*1e3,qye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",k6="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new f6("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yye={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},So=new sm("analytics","Analytics",Yye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xye(e){if(!e.startsWith(k6)){const t=So.create("invalid-gtag-resource",{gtagURL:e});return Ba.warn(t.message),""}return e}function wG(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function Zye(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function Jye(e,t){const r=Zye("firebase-js-sdk-policy",{createScriptURL:Xye}),n=document.createElement("script"),i=`${k6}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function eve(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function tve(e,t,r,n,i,a){const o=n[i];try{if(o)await t[o];else{const c=(await wG(r)).find(d=>d.measurementId===i);c&&await t[c.appId]}}catch(l){Ba.error(l)}e("config",i,a)}async function rve(e,t,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await wG(r);for(const c of o){const d=l.find(A=>A.measurementId===c),u=d&&t[d.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",n,i||{})}catch(a){Ba.error(a)}}function nve(e,t,r,n){async function i(a,...o){try{if(a==="event"){const[l,c]=o;await rve(e,t,r,l,c)}else if(a==="config"){const[l,c]=o;await tve(e,t,r,n,l,c)}else if(a==="consent"){const[l,c]=o;e("consent",l,c)}else if(a==="get"){const[l,c,d]=o;e("get",l,c,d)}else if(a==="set"){const[l]=o;e("set",l)}else e(a,...o)}catch(l){Ba.error(l)}}return i}function sve(e,t,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=nve(a,e,t,r),{gtagCore:a,wrappedGtag:window[i]}}function ive(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(k6)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ave=30,ove=1e3;class lve{constructor(t={},r=ove){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const jG=new lve;function cve(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function dve(e){var o;const{appId:t,apiKey:r}=e,n={method:"GET",headers:cve(r)},i=qye.replace("{app-id}",t),a=await fetch(i,n);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();(o=c.error)!=null&&o.message&&(l=c.error.message)}catch{}throw So.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function uve(e,t=jG,r){const{appId:n,apiKey:i,measurementId:a}=e.options;if(!n)throw So.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw So.create("no-api-key")}const o=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new fve;return setTimeout(async()=>{l.abort()},Gye),NG({appId:n,apiKey:i,measurementId:a},o,l,t)}async function NG(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=jG){var l;const{appId:a,measurementId:o}=e;try{await hve(n,t)}catch(c){if(o)return Ba.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw c}try{const c=await dve(e);return i.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!Ave(d)){if(i.deleteThrottleMetadata(a),o)return Ba.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:o};throw c}const u=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?tU(r,i.intervalMillis,ave):tU(r,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(a,A),Ba.debug(`Calling attemptFetch again in ${u} millis`),NG(e,A,n,i)}}function hve(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(a),n(So.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Ave(e){if(!(e instanceof ud)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class fve{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function mve(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}else{const a=await t,o={...n,send_to:a};e("event",r,o)}}async function pve(e,t,r,n){if(n&&n.global){const i={};for(const a of Object.keys(r))i[`user_properties.${a}`]=r[a];return e("set",i),Promise.resolve()}else{const i=await t;e("config",i,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gve(){if(hW())try{await AW()}catch(e){return Ba.warn(So.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ba.warn(So.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xve(e,t,r,n,i,a,o){const l=uve(e);l.then(f=>{r[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&Ba.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ba.error(f)),t.push(l);const c=gve().then(f=>{if(f)return n.getId()}),[d,u]=await Promise.all([l,c]);ive(a)||Jye(a,d.measurementId),i("js",new Date);const A=(o==null?void 0:o.config)??{};return A[Wye]="firebase",A.update=!0,u!=null&&(A[Kye]=u),i("config",d.measurementId,A),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yve{constructor(t){this.app=t}_delete(){return delete kp[this.app.options.appId],Promise.resolve()}}let kp={},PU=[];const IU={};let SC="dataLayer",vve="gtag",TU,P6,OU=!1;function bve(){const e=[];if(uW()&&e.push("This is a browser extension environment."),wpe()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=So.create("invalid-analytics-context",{errorInfo:t});Ba.warn(r.message)}}function wve(e,t,r){bve();const n=e.options.appId;if(!n)throw So.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ba.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw So.create("no-api-key");if(kp[n]!=null)throw So.create("already-exists",{id:n});if(!OU){eve(SC);const{wrappedGtag:a,gtagCore:o}=sve(kp,PU,IU,SC,vve);P6=a,TU=o,OU=!0}return kp[n]=xve(e,PU,IU,t,TU,SC,r),new yve(e)}function jve(e=xW()){e=Fo(e);const t=zg(e,B2);return t.isInitialized()?t.getImmediate():Nve(e)}function Nve(e,t={}){const r=zg(e,B2);if(r.isInitialized()){const i=r.getImmediate();if(Tf(t,r.getOptions()))return i;throw So.create("already-initialized")}return r.initialize({options:t})}function _ve(e,t,r){e=Fo(e),pve(P6,kp[e.app.options.appId],t,r).catch(n=>Ba.error(n))}function Cve(e,t,r,n){e=Fo(e),mve(P6,kp[e.app.options.appId],t,r,n).catch(i=>Ba.error(i))}const LU="@firebase/analytics",FU="0.10.19";function Bve(){hu(new ld(B2,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return wve(n,i,r)},"PUBLIC")),hu(new ld("analytics-internal",e,"PRIVATE")),Zc(LU,FU),Zc(LU,FU,"esm2020");function e(t){try{const r=t.getProvider(B2).getImmediate();return{logEvent:(n,i,a)=>Cve(r,n,i,a),setUserProperties:(n,i)=>_ve(r,n,i)}}catch(r){throw So.create("interop-component-reg-failed",{reason:r})}}}Bve();const Sve={apiKey:"AIzaSyDzhAKzSVS-Y-s8s4yIufbGufzIWGg-hK0",authDomain:"lyvo-ce4ce.firebaseapp.com",projectId:"lyvo-ce4ce",storageBucket:"lyvo-ce4ce.firebasestorage.app",messagingSenderId:"369723896940",appId:"1:369723896940:web:110502102b415be5f59449",measurementId:"G-RW4WQDGN7R"},_G=gW(Sve);jve(_G);const Pp=nye(_G),Eve=()=>{const[e,t]=_.useState({email:"",password:""}),[r,n]=_.useState(null),[i,a]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(!1),u=Ar();_.useEffect(()=>{(()=>{const p="864948749872-dh9vc6atlj2psgd53oiqg99kqgdbusfe.apps.googleusercontent.com",v=document.createElement("script");v.src="https://accounts.google.com/gsi/client",v.async=!0,v.defer=!0,document.head.appendChild(v);const y=()=>{var b;if(window.google&&document.getElementById("google-signin-button")){const w=((b=document.getElementById("google-btn-container"))==null?void 0:b.offsetWidth)||380,j=Math.min(w,380);try{window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",text:"signin_with",shape:"rectangular",width:j.toString()})}catch(N){console.error("Google button render error:",N)}}};return v.onload=()=>{if(window.google)try{window.google.accounts.id.initialize({client_id:p,callback:A,auto_select:!1,cancel_on_tap_outside:!0}),y(),window.addEventListener("resize",y)}catch(b){console.error("Error initializing Google Sign-In:",b);const w=document.getElementById("google-signin-button");w&&(w.style.display="none"),toast.error("Google Sign-in is temporarily unavailable.")}},v.onerror=()=>{console.error("Failed to load Google Sign-In script");const b=document.getElementById("google-signin-button");b&&(b.style.display="none"),toast.error("Google Sign-in is temporarily unavailable. Please use email/password login.")},()=>{window.removeEventListener("resize",y)}})()},[]),_.useEffect(()=>{const x=If(),p=Fv();if(x&&p){Lv(p);const v=Cp(p);u(v,{replace:!0})}},[u]);const A=async x=>{var p,v,y,b;try{if(d(!0),n(null),!x||!x.credential)throw new Error("No credential received from Google");const w=await kt.post("/user/google-signin",{credential:x.credential});localStorage.setItem("authToken",w.data.token),localStorage.setItem("user",JSON.stringify(w.data.user)),console.log("Login: Google sign-in successful, stored data:",{token:w.data.token?"present":"missing",user:w.data.user}),window.dispatchEvent(new Event("lyvo-login"));const j=w.data.user||{};if(console.log("Login: User data after Google sign-in:",{role:j.role,roleType:typeof j.role,isNewUser:j.isNewUser,hasCompletedBehaviorQuestions:j.hasCompletedBehaviorQuestions,email:j.email,name:j.name}),j.role===1&&j.isNewUser&&!j.hasCompletedBehaviorQuestions){console.log("Login: Redirecting seeker to onboarding for behavioral questions"),u("/onboarding");return}const N=j&&j.role===1&&(!j.phone||!j.location||j.age===void 0||j.age===null||j.age===""||!j.occupation||!j.gender);if(j&&j.role===1&&console.log("Login (Google): Profile Completion Check:",{needsCompletion:N,currentUser:j,checks:{phone:!j.phone,location:!j.location,age:j.age===void 0||j.age===null||j.age==="",occupation:!j.occupation,gender:!j.gender}}),N){console.log("Login (Google): Redirecting to /seeker-profile due to incomplete profile"),u("/seeker-profile");return}const B=Cp(j);console.log("Login: Final redirect URL for Google sign-in user:",{role:j.role,redirectUrl:B,userData:j}),u(B)}catch(w){console.error("Google Sign-in Error:",w),((p=w.response)==null?void 0:p.status)===403?n("Google Sign-in is not configured for this domain. Please use email/password login."):((v=w.response)==null?void 0:v.status)===400?n("Invalid Google credentials. Please try again."):w.message==="No credential received from Google"?n("Google Sign-in failed. Please try again."):n(((b=(y=w.response)==null?void 0:y.data)==null?void 0:b.message)||"Google sign-in failed. Please try again.");const j=document.getElementById("google-signin-button");j&&(j.style.display="none")}finally{d(!1)}},f=x=>{t({...e,[x.target.id]:x.target.value})},m=async x=>{var p,v;x.preventDefault(),a(!0),n(null);try{const b=(await $0e(Pp,e.email,e.password)).user;await b.reload().catch(P=>console.log("Reload user failed",P)),b.emailVerified||console.warn("User email verified status is FALSE. Proceeding to backend to update status if changed.");const w=await b.getIdToken(),j=await kt.post("/user/auth/firebase",{},{headers:{Authorization:`Bearer ${w}`}});localStorage.setItem("authToken",j.data.token),localStorage.setItem("user",JSON.stringify(j.data.user)),console.log("Login: Firebase login successful, stored data:",{token:j.data.token?"present":"missing",user:j.data.user}),window.dispatchEvent(new Event("lyvo-login"));const N=j.data.user||{};if(N.role===1&&N.isNewUser&&!N.hasCompletedBehaviorQuestions){u("/onboarding");return}const B=N&&N.role===1&&(!N.phone||!N.location||N.age===void 0||N.age===null||N.age===""||!N.occupation||!N.gender);if(N&&N.role===1&&console.log("Login (Email): Profile Completion Check:",{needsCompletion:B,currentUser:N,checks:{phone:!N.phone,location:!N.location,age:N.age===void 0||N.age===null||N.age==="",occupation:!N.occupation,gender:!N.gender}}),B){console.log("Login (Email): Redirecting to /seeker-profile due to incomplete profile"),u("/seeker-profile");return}const I=Cp(N);u(I)}catch(y){console.error("Login Error:",y),y.code==="auth/invalid-credential"?n("Invalid email or password."):y.code==="auth/user-not-found"?n("No user found with this email."):n(((v=(p=y.response)==null?void 0:p.data)==null?void 0:v.message)||y.message||"An unexpected error occurred.")}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome back"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Sign in to your account"})]}),s.jsx(gn,{children:r&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(er,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]})}),s.jsxs("div",{className:"mb-6 flex justify-center w-full",id:"google-btn-container",children:[c?s.jsxs("div",{className:"w-full h-[40px] flex items-center justify-center gap-2 bg-white border border-gray-300 rounded-sm shadow-sm transition-all duration-200",children:[s.jsx(Ni,{className:"w-5 h-5 text-red-500 animate-spin"}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Signing in..."})]}):s.jsx("div",{id:"google-signin-button",className:"w-full flex justify-center"}),!1]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your email",value:e.email,onChange:f})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:o?"text":"password",required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your password",value:e.password,onChange:f}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ot,{to:"/forgot-password",className:"text-sm text-red-600 hover:text-red-700 hover:underline",children:"Forgot your password?"}),s.jsx(Ot,{to:"/resend-verification",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Resend verification email"})]}),s.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:i,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:bg-red-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Ni,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Signing in..."})]}):"Sign in"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(Ot,{to:"/signup",className:"font-semibold text-red-600 hover:text-red-700 underline",children:"Sign up"})]})})]})})})},UU={score:0,label:"",color:"",barColor:""},kve=()=>{const[e,t]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,A]=_.useState(!1),[f,m]=_.useState(!1),[x,p]=_.useState(UU),[v,y]=_.useState(""),[b,w]=_.useState(!1),[j,N]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[B,I]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[P,T]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[F,E]=_.useState(!1),[k,M]=_.useState(!1),[U,W]=_.useState(null),Y=Ar();_.useEffect(()=>{(()=>{const V="864948749872-dh9vc6atlj2psgd53oiqg99kqgdbusfe.apps.googleusercontent.com",ve=document.createElement("script");ve.src="https://accounts.google.com/gsi/client",ve.async=!0,ve.defer=!0,document.head.appendChild(ve);const Se=()=>{var ne;if(window.google&&document.getElementById("google-signin-button")){const xe=((ne=document.getElementById("google-btn-container"))==null?void 0:ne.offsetWidth)||380,Le=Math.min(xe,380);try{window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",text:"signup_with",shape:"rectangular",width:Le.toString()})}catch(ze){console.error("Error rendering Google button:",ze)}}};return ve.onload=()=>{if(window.google)try{window.google.accounts.id.initialize({client_id:V,callback:Q,auto_select:!1,cancel_on_tap_outside:!0}),Se(),window.addEventListener("resize",Se)}catch(ne){console.error("Error initializing Google Sign-In:",ne)}},ve.onerror=()=>{console.error("Failed to load Google Sign-In script")},()=>{window.removeEventListener("resize",Se)}})()},[]);const Q=async ue=>{var V,ve,Se,ne;try{m(!0),n(null),a(null);const xe=await kt.post("/user/google-signin",{credential:ue.credential,role:1});localStorage.setItem("authToken",xe.data.token),localStorage.setItem("user",JSON.stringify(xe.data.user)),window.dispatchEvent(new Event("lyvo-login"));const Le=xe.data.user;Le.isNewUser&&!Le.hasCompletedBehaviorQuestions?Y("/seeker-onboarding"):Y("/seeker-dashboard")}catch(xe){((ve=(V=xe.response)==null?void 0:V.data)==null?void 0:ve.errorCode)==="ROLE_CONFLICT"?n(xe.response.data.message):n(((ne=(Se=xe.response)==null?void 0:Se.data)==null?void 0:ne.message)||"Google sign-in failed. Please try again.")}finally{m(!1)}},z={length:e.password.length>=8,uppercase:/[A-Z]/.test(e.password),lowercase:/[a-z]/.test(e.password),number:/\d/.test(e.password),special:/[@$!%*?&]/.test(e.password)},te=ue=>{if(!ue)return{score:0,label:"",color:"text-gray-400",barColor:"bg-gray-200"};let V=0,ve="";ue.length>=8&&(V+=20),ue.length>=12&&(V+=10),/[a-z]/.test(ue)&&(V+=20),/[A-Z]/.test(ue)&&(V+=20),/\d/.test(ue)&&(V+=20),/[@$!%*?&]/.test(ue)&&(V+=20),ue.length>8&&/[a-z]/.test(ue)&&/[A-Z]/.test(ue)&&(V+=10),ue.length>8&&/\d/.test(ue)&&/[@$!%*?&]/.test(ue)&&(V+=10),V=Math.min(V,100);let Se="",ne="",xe="";return V<20||V<40?(Se="weak",ne="text-orange-500",xe="bg-orange-500"):V<60?(Se="medium",ne="text-yellow-500",xe="bg-gradient-to-r from-orange-500 to-yellow-500"):V<80?(Se="good",ne="text-yellow-500",xe="bg-gradient-to-r from-orange-500 to-yellow-500"):(Se="strong",ne="text-green-500",xe="bg-gradient-to-r from-red-500 via-orange-500 via-yellow-500 to-green-500"),V<20?ve="This password is not acceptable. Add another word or two.":V<40?ve="Weak password. Try adding numbers and special characters.":V<60?ve="Fair password. Add more variety to make it stronger.":V<80?ve="Good password. Almost there!":ve="Excellent! Your password is strong.",y(ve),{score:V,label:Se,color:ne,barColor:xe}},re=Object.values(z).every(Boolean);_.useEffect(()=>{const ue=te(e.password);p(ue)},[e.password]),_.useEffect(()=>{if(re&&b){const ue=setTimeout(()=>{w(!1)},1e3);return()=>clearTimeout(ue)}},[re,b]);const J=ue=>{if(!ue.trim())return"Full name is required";if(ue.trim().length<2)return"Full name must be at least 2 characters long";if(ue.trim().length>50)return"Full name must be less than 50 characters"},H=ue=>{if(!ue.trim())return"Email is required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ue.trim()))return"Please enter a valid email address"},Z=ue=>{if(!ue)return"Password is required";if(ue.length<8)return"Password must be at least 8 characters long";if(!/[A-Z]/.test(ue))return"Password must contain at least one uppercase letter";if(!/[a-z]/.test(ue))return"Password must contain at least one lowercase letter";if(!/\d/.test(ue))return"Password must contain at least one number";if(!/[@$!%*?&]/.test(ue))return"Password must contain at least one special character (@$!%*?&)"},K=(ue,V)=>{if(!ue)return"Please confirm your password";if(ue!==V)return"Passwords do not match"},ie=ue=>{const V=["name","email","password","confirmPassword"],ve=V.indexOf(ue);if(ve===0)return!0;const Se=V[ve-1],ne=P[Se];if(ue==="password"){const xe=P.email,Le=k&&U&&U.isVerified;return xe&&!Le}return ne},oe=()=>P.name&&P.email&&P.password&&P.confirmPassword,he=async ue=>{if(!ue||!ue.includes("@")){M(!1),W(null);return}try{E(!0),console.log("Checking email:",ue);const V=await kt.get("/user/check-email",{params:{email:ue}}),ve=V.data;if(console.log("Email check response:",ve),V.status===200)if(ve.exists===!0)M(!0),W({isVerified:!0,note:"This email is already registered. Please use a different email or try logging in."}),I(Se=>({...Se,email:"Email already registered. Please use a different email."})),T(Se=>({...Se,email:!1}));else if(ve.isUnverified===!0)M(!0),W({isUnverified:!0,note:"This email was previously registered but not verified. You can register again."}),I(Se=>({...Se,email:""})),T(Se=>({...Se,email:!0}));else{M(!1),W(null),I(ne=>({...ne,email:""}));const Se=H(ue);T(ne=>({...ne,email:!Se}))}else console.error("Email check failed:",ve),M(!1),W(null)}catch(V){console.error("Error checking email:",V),M(!1),W(null)}finally{E(!1)}};_.useEffect(()=>{const ue=setTimeout(()=>{e.email&&e.email.includes("@")&&e.email.includes(".")?he(e.email):e.email&&!e.email.includes("@")&&(M(!1),I(V=>({...V,email:""})),T(V=>({...V,email:!1})))},500);return()=>clearTimeout(ue)},[e.email]);const pe=ue=>{N(ve=>({...ve,[ue]:!0}));let V;switch(ue){case"name":V=J(e.name);break;case"email":V=H(e.email);break;case"password":V=Z(e.password);break;case"confirmPassword":V=K(e.confirmPassword,e.password);break}I(ve=>({...ve,[ue]:V})),T(ve=>({...ve,[ue]:!V}))},ee=ue=>{const{id:V,value:ve}=ue.target;t({...e,[V]:ve}),B[V]&&I(ne=>({...ne,[V]:""})),V==="password"&&ve&&!b&&w(!0);let Se="";switch(V){case"name":Se=J(ve);break;case"email":Se=H(ve);break;case"password":Se=Z(ve);break;case"confirmPassword":Se=K(ve,e.password);break}if(I(ne=>({...ne,[V]:Se||""})),T(ne=>({...ne,[V]:!Se})),V==="password"&&j.confirmPassword){const ne=K(e.confirmPassword,ve);I(xe=>({...xe,confirmPassword:ne||""})),T(xe=>({...xe,confirmPassword:!ne}))}},fe=async ue=>{ue.preventDefault();const V=J(e.name),ve=H(e.email),Se=Z(e.password),ne=K(e.confirmPassword,e.password);if(I({name:V||"",email:ve||"",password:Se||"",confirmPassword:ne||""}),N({name:!0,email:!0,password:!0,confirmPassword:!0}),V||ve||Se||ne){n("Please fix the errors above before submitting.");return}l(!0),n(null),a(null);try{const Le=(await zW(Pp,e.email,e.password)).user;await KW(Le,{displayName:e.name}),await VW(Le);const ze=await Le.getIdToken(!0);await kt.post("/user/auth/firebase",{name:e.name},{headers:{Authorization:`Bearer ${ze}`}}),a("Account created successfully! Please check your email to verify your account."),t({name:"",email:"",password:"",confirmPassword:""}),p(UU),y(""),w(!1),I({name:"",email:"",password:"",confirmPassword:""}),N({name:!1,email:!1,password:!1,confirmPassword:!1}),T({name:!1,email:!1,password:!1,confirmPassword:!1}),E(!1),M(!1)}catch(xe){console.error("Signup Error:",xe),xe.code==="auth/email-already-in-use"?n("This email is already registered. Please login instead."):xe.code==="auth/weak-password"?n("Password should be at least 6 characters."):n(xe.message||"An unexpected error occurred.")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Join ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," as a Room Seeker"]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Find your perfect co-living space and connect with roommates"})]}),s.jsxs(gn,{children:[r&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(er,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]}),i&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(wt,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:i}),s.jsx("div",{className:"text-xs mt-1",children:"Please check your email and click the verification link to complete your registration."})]})]})]}),s.jsxs("div",{className:"mb-6 flex justify-center w-full",id:"google-btn-container",children:[f?s.jsxs("div",{className:"w-full h-[40px] flex items-center justify-center gap-2 bg-white border border-gray-300 rounded-sm shadow-sm transition-all duration-200",children:[s.jsx(Ni,{className:"w-5 h-5 text-red-500 animate-spin"}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Signing up..."})]}):s.jsx("div",{id:"google-signin-button",className:"w-full flex justify-center"}),!1]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",P.name&&s.jsx(wt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"name",type:"text",required:!0,disabled:!ie("name"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ie("name")?j.name&&B.name?"border-red-300 bg-red-50":P.name?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your full name",value:e.name,onChange:ee,onBlur:()=>pe("name")})]}),j.name&&B.name&&s.jsxs(X.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(or,{className:"w-4 h-4"}),B.name]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",P.email&&!k&&s.jsx(wt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,disabled:!ie("email"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ie("email")?e.email&&(B.email||k)?"border-red-300 bg-red-50":e.email&&P.email&&!k?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your email",value:e.email,onChange:ee,onBlur:()=>pe("email")}),F&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})})]}),e.email&&(B.email||k&&U&&U.isVerified)&&s.jsxs(X.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(or,{className:"w-4 h-4"}),k&&U&&U.isVerified?"Email already registered. Please use a different email.":B.email]}),e.email&&!B.email&&!k&&P.email&&s.jsxs(X.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(wt,{className:"w-4 h-4"}),"Email is available"]}),e.email&&!B.email&&U&&U.isUnverified&&s.jsxs(X.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-blue-600 flex items-center gap-1",children:[s.jsx(wt,{className:"w-4 h-4"}),U.note||"This email was previously registered but not verified. You can register again."]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",P.password&&s.jsx(wt,{className:"inline w-4 h-4 text-green-500 ml-1"}),!ie("password")&&k&&U&&U.isVerified&&s.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(Email already registered - use different email)"}),!ie("password")&&k&&U&&U.isUnverified&&s.jsx("span",{className:"text-xs text-blue-500 ml-2",children:"(Complete email validation first)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:c?"text":"password",required:!0,disabled:!ie("password"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ie("password")?j.password&&B.password?"border-red-300 bg-red-50":P.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your password",value:e.password,onChange:ee,onBlur:()=>pe("password")}),s.jsx("button",{type:"button",onClick:()=>d(!c),disabled:!ie("password"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:c?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]}),e.password&&s.jsxs(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Password strength"}),s.jsx("span",{className:`text-xs font-medium ${x.color}`,children:x.label})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(X.div,{className:`h-2 rounded-full ${x.barColor}`,initial:{width:0},animate:{width:`${x.score}%`},transition:{duration:.3,ease:"easeOut"}})})]}),v&&s.jsx(X.p,{initial:{opacity:0},animate:{opacity:1},className:`text-xs ${x.color}`,children:v}),s.jsx(gn,{children:b&&!re&&s.jsxs(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Password requirements"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs ${z.length?"text-green-600":"text-gray-500"}`,children:[z.length?s.jsx(Hm,{className:"w-3 h-3"}):s.jsx(or,{className:"w-3 h-3"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${z.uppercase?"text-green-600":"text-gray-500"}`,children:[z.uppercase?s.jsx(Hm,{className:"w-3 h-3"}):s.jsx(or,{className:"w-3 h-3"}),s.jsx("span",{children:"One uppercase letter"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${z.lowercase?"text-green-600":"text-gray-500"}`,children:[z.lowercase?s.jsx(Hm,{className:"w-3 h-3"}):s.jsx(or,{className:"w-3 h-3"}),s.jsx("span",{children:"One lowercase letter"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${z.number?"text-green-600":"text-gray-500"}`,children:[z.number?s.jsx(Hm,{className:"w-3 h-3"}):s.jsx(or,{className:"w-3 h-3"}),s.jsx("span",{children:"One number"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${z.special?"text-green-600":"text-gray-500"}`,children:[z.special?s.jsx(Hm,{className:"w-3 h-3"}):s.jsx(or,{className:"w-3 h-3"}),s.jsx("span",{children:"One special character (@$!%*?&)"})]})]})]})})]}),j.password&&B.password&&s.jsxs(X.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(or,{className:"w-4 h-4"}),B.password]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password ",P.confirmPassword&&s.jsx(wt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirmPassword",type:u?"text":"password",required:!0,disabled:!ie("confirmPassword"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ie("confirmPassword")?j.confirmPassword&&B.confirmPassword?"border-red-300 bg-red-50":j.confirmPassword&&e.confirmPassword&&e.confirmPassword===e.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Confirm your password",value:e.confirmPassword,onChange:ee,onBlur:()=>pe("confirmPassword")}),s.jsx("button",{type:"button",onClick:()=>A(!u),disabled:!ie("confirmPassword"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:u?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]}),j.confirmPassword&&B.confirmPassword&&s.jsxs(X.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(or,{className:"w-4 h-4"}),B.confirmPassword]}),j.confirmPassword&&e.confirmPassword&&e.confirmPassword===e.password&&!B.confirmPassword&&s.jsxs(X.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(wt,{className:"w-4 h-4"}),"Passwords match"]})]}),s.jsx(X.button,{whileHover:oe()?{scale:1.02}:{},whileTap:oe()?{scale:.98}:{},type:"submit",disabled:o||!oe(),className:`w-full py-3 px-4 rounded-lg font-semibold shadow-sm transition-all duration-200 ${oe()?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"} disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2`,children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ni,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Creating account..."})]}):oe()?"Create account":"Complete all fields to continue"})]}),s.jsxs("div",{className:"mt-6 text-center space-y-3",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Ot,{to:"/login",className:"font-semibold text-red-600 hover:text-red-700 underline",children:"Sign in"})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Are you a property owner?"}),s.jsxs(Ot,{to:"/room-owner-signup",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 underline",children:[s.jsx(rr,{className:"w-4 h-4 mr-1"}),"Sign up as Property Owner"]})]})]})]})})})},Pve={score:0,label:"",color:"",barColor:""},Ive=()=>{const[e,t]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,A]=_.useState(!1),[f,m]=_.useState(Pve),[x,p]=_.useState(""),[v,y]=_.useState(!1),[b,w]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[j,N]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[B,I]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[P,T]=_.useState(!1),[F,E]=_.useState(!1),[k,M]=_.useState(null),U=Ar(),W=async()=>{try{A(!0),n(null),a(null);const ee=new Rd,V=await(await hxe(Pp,ee)).user.getIdToken(),ve=await kt.post("/user/auth/firebase",{role:3},{headers:{Authorization:`Bearer ${V}`}});localStorage.setItem("authToken",ve.data.token),localStorage.setItem("user",JSON.stringify(ve.data.user)),window.dispatchEvent(new Event("lyvo-login")),U("/owner-dashboard")}catch(ee){console.error("Google Sign-in error:",ee),ee.code==="auth/popup-closed-by-user"?n("Sign-in cancelled"):n(ee.message||"Google sign-in failed")}finally{A(!1)}},Y={length:e.password.length>=8,uppercase:/[A-Z]/.test(e.password),lowercase:/[a-z]/.test(e.password),number:/\d/.test(e.password),special:/[@$!%*?&]/.test(e.password)},Q=ee=>{if(!ee)return{score:0,label:"",color:"text-gray-400",barColor:"bg-gray-200"};let fe=0;ee.length>=8&&(fe+=20),ee.length>=12&&(fe+=10),/[a-z]/.test(ee)&&(fe+=20),/[A-Z]/.test(ee)&&(fe+=20),/\d/.test(ee)&&(fe+=20),/[@$!%*?&]/.test(ee)&&(fe+=20),ee.length>8&&/[a-z]/.test(ee)&&/[A-Z]/.test(ee)&&(fe+=10),ee.length>8&&/\d/.test(ee)&&/[@$!%*?&]/.test(ee)&&(fe+=10),fe=Math.min(fe,100);let ue="",V="",ve="";fe<40?(ue="weak",V="text-orange-500",ve="bg-orange-500"):fe<80?(ue="good",V="text-yellow-500",ve="bg-yellow-500"):(ue="strong",V="text-green-500",ve="bg-green-500");let Se="";return fe<40?Se="Weak password.":fe<80?Se="Good password.":Se="Strong password!",p(Se),{score:fe,label:ue,color:V,barColor:ve}},z=ee=>ee.trim()?ee.length<2?"Too short":void 0:"Name required",te=ee=>ee.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ee)?void 0:"Invalid email":"Email required",re=ee=>{if(!ee)return"Password is required";if(ee.length<8)return"Password must be at least 8 characters long";if(!/[A-Z]/.test(ee))return"Password must contain at least one uppercase letter";if(!/[a-z]/.test(ee))return"Password must contain at least one lowercase letter";if(!/\d/.test(ee))return"Password must contain at least one number";if(!/[@$!%*?&]/.test(ee))return"Password must contain at least one special character (@$!%*?&)"},J=(ee,fe)=>ee!==fe?"Passwords do not match":void 0,H=ee=>{const fe=["name","email","password","confirmPassword"],ue=fe.indexOf(ee);if(ue===0)return!0;const V=fe[ue-1],ve=B[V];if(ee==="password"){const Se=B.email,ne=F&&k&&k.isVerified;return Se&&!ne}return ve},Z=Object.values(Y).every(Boolean);_.useEffect(()=>{m(Q(e.password))},[e.password]),_.useEffect(()=>{if(Z&&v){const ee=setTimeout(()=>y(!1),1e3);return()=>clearTimeout(ee)}},[Z,v]);const K=async ee=>{if(!ee||!ee.includes("@")){E(!1),M(null);return}try{T(!0);const ue=(await kt.get(`/user/check-email?email=${encodeURIComponent(ee)}`)).data;if(console.log("Email check response:",ue),ue.exists===!0)E(!0),M({isVerified:!0,note:"This email is already registered. Please use a different email or try logging in."}),N(V=>({...V,email:"Email already registered. Please use a different email."})),I(V=>({...V,email:!1}));else if(ue.isUnverified===!0)E(!0),M({isUnverified:!0,note:"This email was previously registered but not verified. You can register again."}),N(V=>({...V,email:""})),I(V=>({...V,email:!0}));else{E(!1),M(null),N(ve=>({...ve,email:""}));const V=te(ee);I(ve=>({...ve,email:!V}))}}catch(fe){console.error("Error checking email:",fe),E(!1),M(null)}finally{T(!1)}};_.useEffect(()=>{const ee=setTimeout(()=>{e.email&&e.email.includes("@")&&e.email.includes(".")?K(e.email):e.email&&!e.email.includes("@")&&(E(!1),N(fe=>({...fe,email:""})),I(fe=>({...fe,email:!1})))},500);return()=>clearTimeout(ee)},[e.email]);const ie=ee=>{w(ue=>({...ue,[ee]:!0}));let fe;switch(ee){case"name":fe=z(e.name);break;case"email":fe=te(e.email);break;case"password":fe=re(e.password);break;case"confirmPassword":fe=J(e.confirmPassword,e.password);break}N(ue=>({...ue,[ee]:fe})),I(ue=>({...ue,[ee]:!fe}))},oe=ee=>{const{id:fe,value:ue}=ee.target;t(ve=>({...ve,[fe]:ue})),fe==="password"&&ue.length>0&&y(!0),j[fe]&&N(ve=>({...ve,[fe]:""}));let V="";switch(fe){case"name":V=z(ue);break;case"email":V=te(ue);break;case"password":V=re(ue);break;case"confirmPassword":V=J(ue,e.password);break}if(N(ve=>({...ve,[fe]:V||""})),I(ve=>({...ve,[fe]:!V})),fe==="password"&&b.confirmPassword){const ve=J(e.confirmPassword,ue);N(Se=>({...Se,confirmPassword:ve||""}))}},he=()=>B.name&&B.email&&B.password&&B.confirmPassword&&!j.name&&!j.email&&!j.password&&!j.confirmPassword&&!P&&(!F||k&&k.isUnverified),pe=async ee=>{ee.preventDefault(),w({name:!0,email:!0,password:!0,confirmPassword:!0});const fe=z(e.name),ue=te(e.email),V=re(e.password),ve=J(e.confirmPassword,e.password);if(N({name:fe||"",email:ue||"",password:V||"",confirmPassword:ve||""}),fe||ue||V||ve||F&&(k!=null&&k.isVerified)){n("Please fix the highlighted errors before submitting.");return}if(P){n("Please wait, checking email availability...");return}l(!0),n(null),a(null);try{const ne=(await zW(Pp,e.email,e.password)).user;await KW(ne,{displayName:e.name}),await VW(ne);const xe=await ne.getIdToken();await kt.post("/user/auth/firebase",{role:3},{headers:{Authorization:`Bearer ${xe}`}}),await K0e(Pp),a("Account created successfully!"),t({name:"",email:"",password:"",confirmPassword:""}),E(!1),M(null),I({name:!1,email:!1,password:!1,confirmPassword:!1}),w({name:!1,email:!1,password:!1,confirmPassword:!1})}catch(Se){console.error(Se),Se.code==="auth/email-already-in-use"?n("Email is already registered. Please log in."):Se.code==="auth/weak-password"?n("Password is too weak."):n(Se.message||"Signup failed.")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"flex items-center space-x-3 group",children:s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})})}),s.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-3 relative",children:[s.jsxs("span",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Join ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," as a"]}),s.jsx("br",{}),s.jsx("span",{className:"text-4xl font-extrabold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent drop-shadow-sm",children:"PROPERTY OWNER"}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"List your properties and connect with room seekers"})]}),s.jsxs(gn,{children:[r&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(er,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]}),i&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(wt,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:i}),s.jsx("div",{className:"text-xs mt-1",children:"Please check your email and click the verification link."})]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("button",{type:"button",onClick:W,disabled:u,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all font-medium",children:[u?s.jsx("div",{className:"w-5 h-5 border-2 border-gray-500 border-t-transparent rounded-full animate-spin"}):s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),s.jsx("span",{children:"Sign up with Google"})]})}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:pe,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",B.name&&s.jsx(wt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"name",type:"text",required:!0,disabled:!H("name"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${H("name")?b.name&&j.name?"border-red-300 bg-red-50":B.name?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your full name",value:e.name,onChange:oe,onBlur:()=>ie("name")})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",B.email&&!F&&s.jsx(wt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,disabled:!H("email"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${H("email")?e.email&&(j.email||F)?"border-red-300 bg-red-50":e.email&&B.email&&!F?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your email",value:e.email,onChange:oe,onBlur:()=>ie("email")}),P&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})})]}),e.email&&(j.email||F&&k&&k.isVerified)&&s.jsxs(X.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(or,{className:"w-4 h-4"}),F&&k&&k.isVerified?"Email already registered. Please use a different email.":j.email]}),e.email&&!j.email&&!F&&B.email&&s.jsxs(X.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(wt,{className:"w-4 h-4"}),"Email is available"]}),e.email&&!j.email&&k&&k.isUnverified&&s.jsxs(X.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-blue-600 flex items-center gap-1",children:[s.jsx(wt,{className:"w-4 h-4"}),k.note||"This email was previously registered but not verified. You can register again."]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password",F&&k&&k.isVerified&&s.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(Email already registered - use different email)"}),F&&k&&k.isUnverified&&s.jsx("span",{className:"text-xs text-blue-500 ml-2",children:"(Complete email validation first)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:c?"text":"password",required:!0,disabled:!H("password"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${H("password")?b.password&&j.password?"border-red-300 bg-red-50":B.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your password",value:e.password,onChange:oe,onBlur:()=>ie("password")}),s.jsx("button",{type:"button",onClick:()=>d(!c),disabled:!H("password"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:c?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]}),v&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"flex h-2 overflow-hidden rounded-full bg-gray-200",children:s.jsx("div",{className:`h-full transition-all duration-300 ${f.barColor}`,style:{width:`${f.score}%`}})}),s.jsx("div",{className:"mt-2 flex justify-between text-xs",children:s.jsx("span",{className:`${f.color} font-medium`,children:x})}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-1 text-xs text-gray-500",children:[s.jsx("div",{className:Y.length?"text-green-600":"",children:" 8+ characters"}),s.jsx("div",{className:Y.uppercase?"text-green-600":"",children:" Uppercase"}),s.jsx("div",{className:Y.lowercase?"text-green-600":"",children:" Lowercase"}),s.jsx("div",{className:Y.number?"text-green-600":"",children:" Number"}),s.jsx("div",{className:Y.special?"text-green-600":"",children:" Special char"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirmPassword",type:c?"text":"password",required:!0,disabled:!H("confirmPassword"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${H("confirmPassword")?b.confirmPassword&&j.confirmPassword?"border-red-300 bg-red-50":B.confirmPassword?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Confirm your password",value:e.confirmPassword,onChange:oe,onBlur:()=>ie("confirmPassword")})]})]}),s.jsx("button",{type:"submit",disabled:o,className:`w-full flex justify-center py-4 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white transition-all transform hover:scale-[1.02] ${o?"opacity-70 cursor-not-allowed":""} ${he()?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500":"bg-gray-400 cursor-pointer hover:bg-gray-500"}`,children:o?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Create Owner Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Ot,{to:"/login",className:"font-medium text-red-600 hover:text-red-500 transition-colors",children:"Sign in here"})]})})]})})})},Tve=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(null),[i,a]=_.useState(!1),[o,l]=_.useState(!1),c=async d=>{d.preventDefault(),l(!0),n(null),a(!1);try{await Q0e(Pp,e),a(!0)}catch(u){console.error("Password reset error:",u),u.code==="auth/user-not-found"?n("No account found with this email in Firebase."):u.code==="auth/invalid-email"?n("Invalid email address format."):n("Failed to send reset email. Please try again later.")}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs(Ot,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Pr,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsx(Ot,{to:"/login",className:"text-sm text-gray-600 hover:text-red-500 transition-colors",children:"Back to Login"})]})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(X.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rr,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Enter your email to receive a secure reset link"})]}),s.jsxs("div",{className:"px-8 py-8",children:[s.jsxs(gn,{children:[r&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(er,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r})]})]}),i&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(wt,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Success!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Password reset link sent to your email"})]})]})]}),i?s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-6",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(wt,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Check Your Email"}),s.jsx("p",{className:"text-gray-600",children:"We've sent a secure password reset link to:"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:e})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-left",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"What's next?"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" Check your email inbox (and spam folder)"}),s.jsx("li",{children:" Click the reset link in the email"}),s.jsx("li",{children:" Create a new secure password"})]})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(Ot,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(pi,{className:"w-4 h-4"}),"Back to Login"]})})]}):s.jsxs(X.form,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",onSubmit:c,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ln,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",value:e,onChange:d=>t(d.target.value)})]})]}),s.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending Reset Link..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ln,{className:"w-5 h-5"}),"Send Reset Link"]})})]}),!i&&s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Remember your password?"}),s.jsxs(Ot,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(pi,{className:"w-4 h-4"}),"Sign in to your account"]})]})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Need help? Contact our support team"})})]})})]})},Ove="http://localhost:4002/api/user",Lve=()=>{const[e]=K9(),t=e.get("token"),[r,n]=_.useState(""),[i,a]=_.useState(""),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,A]=_.useState(null),[f,m]=_.useState(!1),[x,p]=_.useState(!1);Ar();const y=(w=>{if(!w)return{score:0,label:"",color:""};let j=0,N=[];return w.length>=8?(j+=1,N.push("8+ characters")):w.length>=6&&(j+=.5,N.push("6+ characters")),/[a-z]/.test(w)&&(j+=1,N.push("lowercase")),/[A-Z]/.test(w)&&(j+=1,N.push("uppercase")),/[0-9]/.test(w)&&(j+=1,N.push("number")),/[^A-Za-z0-9]/.test(w)&&(j+=1,N.push("symbol")),j>=4?{score:4,label:"Strong",color:"bg-green-500",feedback:N}:j>=3?{score:3,label:"Good",color:"bg-blue-500",feedback:N}:j>=2?{score:2,label:"Fair",color:"bg-yellow-500",feedback:N}:j>=1?{score:1,label:"Weak",color:"bg-red-500",feedback:N}:{score:0,label:"Very Weak",color:"bg-gray-300",feedback:N}})(r);if(!t)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-between items-center py-4",children:s.jsxs(Ot,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Pr,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]})})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(X.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(er,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-red-100 text-sm",children:"This password reset link is invalid or has expired"})]}),s.jsx("div",{className:"px-8 py-8 text-center",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"The password reset link you're trying to use is no longer valid. This could be because:"}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-left",children:s.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[s.jsx("li",{children:" The link has expired (links expire after 1 hour)"}),s.jsx("li",{children:" The link has already been used"}),s.jsx("li",{children:" The link was copied incorrectly"})]})}),s.jsx("div",{className:"pt-4",children:s.jsxs(Ot,{to:"/forgot-password",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(pi,{className:"w-4 h-4"}),"Request a new reset link"]})})]})})]})})})]});const b=async w=>{var j,N;if(w.preventDefault(),A(null),r.length<6){A("Password must be at least 6 characters.");return}if(r!==i){A("Passwords do not match.");return}p(!0);try{await cn.post(`${Ove}/reset-password`,{token:t,password:r}),m(!0)}catch(B){A(((N=(j=B.response)==null?void 0:j.data)==null?void 0:N.message)||"An unexpected error occurred.")}finally{p(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs(Ot,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Pr,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsx(Ot,{to:"/login",className:"text-sm text-gray-600 hover:text-red-500 transition-colors",children:"Back to Login"})]})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(X.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(rr,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Create New Password"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Choose a strong password for your account"})]}),s.jsxs("div",{className:"px-8 py-8",children:[s.jsxs(gn,{children:[u&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(er,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:u})]})]}),f&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(wt,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Success!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your password has been reset successfully"})]})]})]}),f?s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-6",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(wt,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Password Updated!"}),s.jsx("p",{className:"text-gray-600",children:"Your password has been successfully reset. You can now sign in with your new password."})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:"Security Tip"}),s.jsx("p",{className:"text-sm text-green-700",children:"For your security, we recommend using a unique password that you don't use on other websites."})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(Ot,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(pi,{className:"w-4 h-4"}),"Sign in to your account"]})})]}):s.jsxs(X.form,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",onSubmit:b,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(dc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:o?"text":"password",required:!0,minLength:6,className:"w-full pl-12 pr-12 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your new password",value:r,onChange:w=>n(w.target.value)}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:o?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]}),r&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 space-y-2",children:[s.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(w=>s.jsx("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${y.score>=w?y.color:"bg-gray-200"}`},w))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-xs font-medium ${y.score>=4?"text-green-600":y.score>=3?"text-blue-600":y.score>=2?"text-yellow-600":y.score>=1?"text-red-600":"text-gray-500"}`,children:y.label}),s.jsxs("span",{className:"text-xs text-gray-500",children:[r.length,"/8+ characters"]})]}),y.feedback.length>0&&s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Includes: "}),y.feedback.join(", ")]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(dc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirm",type:c?"text":"password",required:!0,minLength:6,className:"w-full pl-12 pr-12 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Confirm your new password",value:i,onChange:w=>a(w.target.value)}),s.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:c?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]}),i&&s.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2",children:s.jsxs("div",{className:`flex items-center gap-2 text-xs ${r===i?"text-green-600":"text-red-600"}`,children:[r===i?s.jsx(wt,{className:"w-4 h-4"}):s.jsx(er,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:r===i?"Passwords match":"Passwords do not match"})]})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Password Requirements"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" At least 6 characters long"}),s.jsx("li",{children:" Use a mix of letters, numbers, and symbols"}),s.jsx("li",{children:" Avoid common passwords"})]})]}),s.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Updating Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-5 h-5"}),"Update Password"]})})]}),!f&&s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Remember your password?"}),s.jsxs(Ot,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(pi,{className:"w-4 h-4"}),"Sign in to your account"]})]})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Need help? Contact our support team"})})]})})]})},Fve=()=>{const[e]=K9(),t=Ar(),[r,n]=_.useState("verifying"),[i,a]=_.useState(""),[o,l]=_.useState(!1),[c,d]=_.useState("");_.useEffect(()=>{(async()=>{var m,x,p;const f=e.get("token");if(!f){n("error"),d("No verification token provided. Please check your email link."),l(!0);return}try{console.log("Verifying email with token:",f);const v=await kt.get(`/user/verify-email/${f}`,{timeout:1e4});console.log("Verification response:",v),console.log("Response status:",v.status),console.log("Response data:",v.data),v.data&&v.data.message&&v.data.message.includes("verified successfully")?(n("success"),a(v.data.message),l(!0)):(n("error"),d(((m=v.data)==null?void 0:m.message)||"Email verification failed. The link may be invalid or expired."),l(!0))}catch(v){console.error("Verification error:",v),n("error"),d(((p=(x=v.response)==null?void 0:x.data)==null?void 0:p.message)||"Email verification failed. Please try again."),l(!0)}})()},[e,t]);const u=()=>{l(!1),t("/login")};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-stone-100 py-12 px-4 sm:px-6 lg:px-8",children:[r==="verifying"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(X.div,{initial:{scale:.8},animate:{scale:1},className:"mx-auto w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-2xl flex items-center justify-center shadow-lg mb-6",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 font-display",children:"Verifying Email..."}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Please wait while we verify your email address"})]}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-xl p-8 border border-blue-200",children:s.jsxs("div",{className:"text-center",children:[s.jsx(X.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx("div",{className:"w-12 h-12 animate-spin text-red-500 mx-auto border-4 border-red-200 border-t-red-500 rounded-full"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 font-display",children:"Processing Verification"}),s.jsx("p",{className:"text-sm text-blue-700 mb-6",children:"We're verifying your email address..."}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600",children:[s.jsx("div",{className:"w-4 h-4 animate-spin border-2 border-blue-200 border-t-blue-600 rounded-full"}),s.jsx("span",{children:"Please wait..."})]})]})})]}),s.jsx(gn,{children:o&&s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:u,children:s.jsxs(X.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative",onClick:A=>A.stopPropagation(),children:[s.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(or,{className:"w-6 h-6"})}),s.jsx("div",{className:"text-center",children:r==="success"?s.jsxs(s.Fragment,{children:[s.jsx(X.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx(wt,{className:"w-16 h-16 text-green-500 mx-auto"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 font-display",children:" Email Verified Successfully!"}),s.jsx("p",{className:"text-gray-700 mb-6",children:i}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-green-700 font-medium",children:" Your email has been verified! You can now log in to your account."})}),s.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:from-green-600 hover:to-emerald-600 transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(eu,{className:"w-5 h-5"}),"Go to Login"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(X.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx(er,{className:"w-16 h-16 text-blue-500 mx-auto"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 font-display",children:" Login Using Your Account"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Your account may already be verified or the verification link has expired."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" Try logging in with your email and password. If you don't have an account, you can sign up."})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(eu,{className:"w-5 h-5"}),"Go to Login"]}),s.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/signup"),className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-semibold hover:bg-gray-200 transition-all duration-200",children:"Try Signing Up Again"})]})]})})]})})})]})},RU="http://localhost:4002/api/user",Uve=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[i,a]=_.useState(""),[o,l]=_.useState(""),[c,d]=_.useState(null),[u,A]=_.useState(!1);Ar(),_.useEffect(()=>{if(!e.trim()){d(null),a(""),l("");return}const b=setTimeout(async()=>{await f(e.trim())},500);return()=>clearTimeout(b)},[e]);const f=async b=>{try{A(!0),d("checking");const w=await cn.get(`${RU}/check-email?email=${encodeURIComponent(b)}`);w.data.exists&&w.data.isVerified?(d("verified"),a("This email is already verified. Please log in to your account."),l("info")):w.data.isUnverified?(d("unverified"),a("This email is registered but not verified. You can request a new verification email."),l("info")):(d("not_found"),a("This email is not registered. Please check your email address or sign up for a new account."),l("error"))}catch(w){console.error("Email check error:",w),d("error"),a("Unable to check email status. Please try again."),l("error")}finally{A(!1)}},m=async b=>{var w;if(b.preventDefault(),!(!e||c==="verified"||c==="not_found")){n(!0),a(""),l("");try{(await cn.post(`${RU}/resend-verification`,{email:e.trim()})).status===200&&(a("Verification email sent! Please check your inbox and spam folder."),l("success"),t(""),d(null))}catch(j){if(console.error("Resend verification error:",j),j.response){const N=((w=j.response.data)==null?void 0:w.message)||"Failed to send verification email.";a(N),j.response.status===404?l("error"):j.response.status===400?l("info"):l("error")}else a("Network error. Please check your internet connection and try again."),l("error")}finally{n(!1)}}},x=()=>{switch(o){case"success":return s.jsx(wt,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(ir,{className:"w-5 h-5 text-red-500"});case"info":return s.jsx(ln,{className:"w-5 h-5 text-blue-500"});default:return null}},p=()=>{switch(o){case"success":return"bg-green-50 border-green-200 text-green-700";case"error":return"bg-red-50 border-red-200 text-red-700";case"info":return"bg-blue-50 border-blue-200 text-blue-700";default:return"bg-gray-50 border-gray-200 text-gray-700"}},v=()=>r||!e.trim()||c==="verified"||c==="not_found"||c==="checking"||u,y=()=>r?"Sending...":u||c==="checking"?"Checking...":c==="verified"?"Email Already Verified":c==="not_found"?"Email Not Found":"Send Verification Email";return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Resend Verification Email"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your email address to receive a new verification link"})]}),s.jsx(gn,{children:i&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`mb-6 border rounded-lg px-4 py-3 flex items-center gap-3 ${p()}`,children:[x(),s.jsx("span",{className:"text-sm font-medium",children:i})]})}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your email address",value:e,onChange:b=>t(b.target.value)}),u&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(Sue,{className:"w-5 h-5 text-gray-400 animate-spin"})})]})]}),s.jsx(X.button,{whileHover:{scale:c==="unverified"?1.02:1},whileTap:{scale:c==="unverified"?.98:1},type:"submit",disabled:v(),className:`w-full py-3 px-4 rounded-lg font-semibold shadow-sm transition-all duration-200 ${c==="unverified"?"bg-red-600 text-white hover:bg-red-700":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,children:y()})]}),s.jsxs("div",{className:"mt-6 text-center space-y-3",children:[s.jsxs(Ot,{to:"/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-700 hover:underline",children:[s.jsx(pi,{className:"w-4 h-4 mr-1"}),"Back to Login"]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Don't have an account?"}),s.jsx(Ot,{to:"/signup",className:"inline-flex items-center text-sm font-medium text-red-600 hover:text-red-700 underline",children:"Sign up for Lyvo+"})]})]})]})})})},Rve=()=>{const[e,t]=_.useState({}),[r,n]=_.useState(!1),i=()=>{const l=localStorage.getItem("authToken"),c=localStorage.getItem("user"),d=c?JSON.parse(c):null;t({authToken:l?"Present":"Not found",user:c?"Present":"Not found",parsedUser:d?d.name:"N/A"}),n(!!l)},a=()=>{console.log("=== MANUAL LOGOUT TEST ==="),console.log("Before logout:"),console.log("authToken:",localStorage.getItem("authToken")),console.log("user:",localStorage.getItem("user")),localStorage.removeItem("authToken"),localStorage.removeItem("user"),console.log("After logout:"),console.log("authToken:",localStorage.getItem("authToken")),console.log("user:",localStorage.getItem("user")),window.dispatchEvent(new Event("moodbites-logout")),i()},o=()=>{localStorage.setItem("authToken","test-token"),localStorage.setItem("user",JSON.stringify({name:"Test User",email:"test@example.com"})),window.dispatchEvent(new Event("moodbites-login")),i()};return _.useEffect(()=>{i();const l=()=>{i()},c=()=>{console.log("Custom logout event received"),i()};return window.addEventListener("storage",l),window.addEventListener("moodbites-logout",c),()=>{window.removeEventListener("storage",l),window.removeEventListener("moodbites-logout",c)}},[]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-stone-100 pt-20 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-professional p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Debug Logout"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Current State"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:["Login Status: ",s.jsx("span",{className:r?"text-green-600":"text-red-600",children:r?"Logged In":"Not Logged In"})]}),s.jsxs("div",{children:["Auth Token: ",s.jsx("span",{className:"font-mono",children:e.authToken})]}),s.jsxs("div",{children:["User Data: ",s.jsx("span",{className:"font-mono",children:e.user})]}),s.jsxs("div",{children:["User Name: ",s.jsx("span",{className:"font-mono",children:e.parsedUser})]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:o,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-colors",children:"Simulate Login"}),s.jsx("button",{onClick:a,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors",children:"Test Logout"}),s.jsx("button",{onClick:i,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Refresh State"})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Instructions"}),s.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:'1. Click "Simulate Login" to set test data'}),s.jsx("li",{children:"2. Check the navbar - it should show user icon"}),s.jsx("li",{children:'3. Click "Test Logout" to clear data'}),s.jsx("li",{children:"4. Check the navbar - it should show login/signup buttons"}),s.jsx("li",{children:"5. Open browser console to see debug logs"})]})]})]})]})})})},Dve=()=>{var E;const e=Ar(),[t,r]=_.useState(!0),[n,i]=_.useState([]),[a,o]=_.useState({budget:8e3}),[l,c]=_.useState(null),[d,u]=_.useState(0),[A,f]=_.useState(!1),[m,x]=_.useState(!1),p=localStorage.getItem("authToken"),v=localStorage.getItem("user");_.useEffect(()=>{if(!p||!v){e("/login",{replace:!0});return}(async()=>{try{const M=await kt.get("/behaviour/questions",{headers:{Authorization:`Bearer ${p}`}});i(M.data.questions||[])}catch(M){console.error("Error fetching questions:",M),n.length===0&&i([{id:"budget",text:"Monthly Budget",type:"range",min:5e3,max:5e4},{id:"occupation",text:"Occupation",options:["Student","Professional","Other"]}])}finally{r(!1)}})()},[e,p,v]);const y=(k,M)=>{o(U=>({...U,[k]:M}))},b=()=>{d<n.length-1&&u(d+1)},w=()=>{d>0&&u(d-1)},j=()=>{d<n.length-1&&u(d+1)},N=async()=>{var k,M;try{c(null),f(!0),await kt.post("/behaviour/answers",{answers:a},{headers:{Authorization:`Bearer ${p}`}});const U=JSON.parse(localStorage.getItem("user"));localStorage.setItem("user",JSON.stringify({...U,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),x(!0),setTimeout(()=>{U.role===1?e("/seeker-profile",{replace:!0}):e(U.role===3?"/owner-dashboard":"/admin-dashboard",{replace:!0})},1500)}catch(U){const W=((M=(k=U==null?void 0:U.response)==null?void 0:k.data)==null?void 0:M.message)||(U==null?void 0:U.message)||"Failed to submit.";c(W),f(!1)}},B=k=>{const M=k.toLowerCase();return M.includes("budget")||M.includes("price")?s.jsx(ei,{className:"w-6 h-6 text-gray-700"}):M.includes("occupation")||M.includes("work")?s.jsx(mue,{className:"w-6 h-6 text-gray-700"}):s.jsx(rc,{className:"w-6 h-6 text-gray-700"})},I=(d+1)/n.length*100;if(t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading preferences..."})]})});if(m)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs(X.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(wt,{className:"w-10 h-10 text-green-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Preferences Saved"}),s.jsx("p",{className:"text-gray-600",children:"Setting up your dashboard..."})]})});const P=n[d],T=d===n.length-1,F=a[P==null?void 0:P.id]!==void 0;return s.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-12 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Setup Your Preferences"}),s.jsx("p",{className:"text-gray-600",children:"Help us customize your living experience."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-500 mb-2",children:[s.jsxs("span",{children:["Step ",d+1," of ",n.length]}),s.jsxs("span",{children:[Math.round(I),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(X.div,{className:"h-2 bg-red-600 rounded-full",initial:{width:0},animate:{width:`${I}%`},transition:{duration:.3}})})]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 min-h-[400px] flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:B((P==null?void 0:P.text)||"")}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:P==null?void 0:P.text})]}),s.jsxs("div",{className:"flex-grow",children:[!(P!=null&&P.type)&&s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(E=P==null?void 0:P.options)==null?void 0:E.map(k=>s.jsx("button",{onClick:()=>y(P.id,k),className:`w-full text-left px-5 py-4 rounded-lg border transition-all ${a[P.id]===k?"border-red-600 bg-red-50 text-red-700 ring-1 ring-red-600":"border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700"}`,children:s.jsx("span",{className:"font-medium",children:k})},k))}),(P==null?void 0:P.type)==="range"&&s.jsxs("div",{className:"px-4 py-8",children:[s.jsx("input",{type:"range",min:P.min,max:P.max,step:P.step||100,value:a[P.id]??P.min,onChange:k=>y(P.id,Number(k.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-600"}),s.jsxs("div",{className:"mt-6 flex justify-between items-center text-gray-900",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["",a[P.id]??P.min]}),s.jsx("span",{className:"text-gray-500 font-medium badge px-3 py-1 bg-gray-100 rounded-md",children:"Monthly Budget"})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-between items-center",children:[s.jsx("button",{onClick:w,disabled:d===0,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${d===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:"Back"}),s.jsxs("div",{className:"flex gap-3",children:[!T&&s.jsx("button",{onClick:j,className:"px-4 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"Skip"}),s.jsx("button",{onClick:T?N:b,disabled:!F&&T,className:"px-6 py-2.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:T?A?"Saving...":"Finish":"Continue"})]})]})]},d)]})})},Mve=()=>s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-60",children:[s.jsxs("div",{className:"relative flex items-center justify-center w-24 h-24",children:[s.jsx("span",{className:"absolute text-4xl font-extrabold text-red-600 select-none z-10",style:{letterSpacing:"0.05em"},children:"L"}),s.jsx("span",{className:"absolute w-4 h-4 rounded-full bg-gradient-to-br from-red-500 via-orange-400 to-red-600 shadow-lg animate-lyvo-orbit",style:{top:0,left:"50%",transform:"translate(-50%, -50%)"}}),s.jsx("span",{className:"absolute w-3 h-3 rounded-full bg-gradient-to-br from-orange-400 via-red-500 to-red-600 shadow-md animate-lyvo-orbit2",style:{right:0,top:"50%",transform:"translate(50%, -50%)"}}),s.jsx("span",{className:"absolute w-2.5 h-2.5 rounded-full bg-gradient-to-br from-red-600 via-orange-400 to-red-500 shadow animate-lyvo-orbit3",style:{bottom:0,left:"50%",transform:"translate(-50%, 50%)"}})]}),s.jsx("style",{children:`
      @keyframes lyvo-orbit {
        0% { transform: rotate(0deg) translateY(-44px) rotate(0deg); }
        100% { transform: rotate(360deg) translateY(-44px) rotate(-360deg); }
      }
      @keyframes lyvo-orbit2 {
        0% { transform: rotate(120deg) translateY(-36px) rotate(-120deg); }
        100% { transform: rotate(480deg) translateY(-36px) rotate(-480deg); }
      }
      @keyframes lyvo-orbit3 {
        0% { transform: rotate(240deg) translateY(-28px) rotate(-240deg); }
        100% { transform: rotate(600deg) translateY(-28px) rotate(-600deg); }
      }
      .animate-lyvo-orbit {
        animation: lyvo-orbit 1.2s linear infinite;
      }
      .animate-lyvo-orbit2 {
        animation: lyvo-orbit2 1.2s linear infinite;
      }
      .animate-lyvo-orbit3 {
        animation: lyvo-orbit3 1.2s linear infinite;
      }
    `})]}),Qve=({children:e})=>{const[t,r]=_.useState(!1),[n,i]=_.useState(!1);return _.useEffect(()=>{(async()=>{try{r(!0),console.log(" RoleRepairProvider: Starting role repair...");const o=Fv();o&&(o.role===void 0||o.role===null)?(console.log(" RoleRepairProvider: User role is undefined, attempting repair..."),await Xfe(),console.log(" RoleRepairProvider: Role repair completed")):console.log(" RoleRepairProvider: User role is already defined"),i(!0)}catch(o){console.error(" RoleRepairProvider: Error during role repair:",o),i(!0)}finally{r(!1)}})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Repairing user role..."})]})}):e};class $ve extends _e.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(er,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600",children:"The page encountered an error while loading"})]})]}),this.state.error&&s.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"Error Details:"}),s.jsx("p",{className:"text-sm text-red-700 font-mono",children:this.state.error.toString()})]}),this.state.errorInfo&&s.jsxs("details",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx("summary",{className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Stack Trace (Click to expand)"}),s.jsx("pre",{className:"mt-2 text-xs text-gray-700 overflow-x-auto whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]}),s.jsxs("div",{className:"mt-6 flex space-x-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Reload Page"}),s.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Go Home"})]})]})}):this.props.children}}const Hve=()=>{var y;const e=Ar(),[t,r]=_.useState(null),[n,i]=_.useState(!0),[a,o]=_.useState("overview");_.useEffect(()=>{(()=>{const w=localStorage.getItem("authToken"),j=localStorage.getItem("user");if(!w||!j){e("/login");return}try{const N=JSON.parse(j);if(N.role!==3){e("/login");return}r(N)}catch(N){console.error("Error parsing user data:",N),e("/login");return}i(!1)})()},[e]);const l={totalProperties:4,activeListings:3,totalTenants:8,monthlyRevenue:85e3,occupancyRate:92},c=[{id:1,title:"Modern 2BHK Apartment",location:"Koramangala, Bangalore",price:"25,000",type:"Apartment",bedrooms:2,bathrooms:2,area:"1200 sq ft",status:"Occupied",rating:4.8,tenants:3,image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",nextPayment:"2024-04-15",amenities:["WiFi","Parking","Gym","Security"]},{id:2,title:"Cozy Studio Room",location:"Indiranagar, Bangalore",price:"15,000",type:"Studio",bedrooms:1,bathrooms:1,area:"600 sq ft",status:"Available",rating:4.6,tenants:0,image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",nextPayment:null,amenities:["WiFi","Kitchen","Laundry"]},{id:3,title:"Premium 3BHK Villa",location:"Whitefield, Bangalore",price:"45,000",type:"Villa",bedrooms:3,bathrooms:3,area:"2000 sq ft",status:"Occupied",rating:4.9,tenants:4,image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",nextPayment:"2024-04-20",amenities:["WiFi","Parking","Garden","Security","Pool"]}],d=[{id:1,property:"Modern 2BHK Apartment",tenant:"Sarah Johnson",amount:"25,000",type:"Rent",status:"Completed",date:"2024-04-01"},{id:2,property:"Premium 3BHK Villa",tenant:"Mike Chen",amount:"45,000",type:"Rent",status:"Pending",date:"2024-04-05"},{id:3,property:"Cozy Studio Room",tenant:"Alex Kumar",amount:"15,000",type:"Deposit",status:"Completed",date:"2024-03-28"}],u=[{id:1,property:"Modern 2BHK Apartment",tenant:"Sarah Johnson",issue:"AC not working",priority:"High",status:"In Progress",date:"2024-04-02"},{id:2,property:"Premium 3BHK Villa",tenant:"Mike Chen",issue:"Water leakage",priority:"Medium",status:"Completed",date:"2024-03-30"}],A=[{month:"Jan",revenue:75e3},{month:"Feb",revenue:82e3},{month:"Mar",revenue:78e3},{month:"Apr",revenue:85e3},{month:"May",revenue:9e4},{month:"Jun",revenue:95e3}],f=[{name:"Occupied",value:92,color:"#10b981"},{name:"Vacant",value:8,color:"#ef4444"}],m=[{name:"Apartments",value:2,color:"#3b82f6"},{name:"Studios",value:1,color:"#f59e0b"},{name:"Villas",value:1,color:"#10b981"}],x=[{name:"Overview",icon:Np,tab:"overview"},{name:"Properties",icon:Pr,tab:"properties"},{name:"Tenants",icon:zr,tab:"tenants"},{name:"Payments",icon:Zp,tab:"payments"},{name:"Maintenance",icon:rr,tab:"maintenance"},{name:"Analytics",icon:du,tab:"analytics"},{name:"Settings",icon:rc,tab:"settings"},{name:"Logout",icon:uc,tab:"logout"}],p=b=>{switch(b){case"Occupied":return"text-green-600 bg-green-100";case"Available":return"text-blue-600 bg-blue-100";case"Maintenance":return"text-orange-600 bg-orange-100";case"Rented":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},v=b=>{switch(b){case"High":return"text-red-600 bg-red-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"Low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-stone-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-slate-50 to-stone-100",children:[s.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 flex flex-col py-8 px-4 shadow-lg",children:[s.jsxs("div",{className:"flex items-center mb-10",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 via-orange-400 to-red-700 rounded-xl flex items-center justify-center shadow-lg mr-3",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"L"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]})]}),s.jsx("nav",{className:"flex-1",children:s.jsx("ul",{className:"space-y-2",children:x.map(b=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>o(b.tab),className:`w-full flex items-center px-3 py-2 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-600 transition-all ${a===b.tab?"bg-red-50 text-red-600":""}`,children:[s.jsx(b.icon,{className:"w-5 h-5 mr-3"}),s.jsx("span",{className:"font-medium",children:b.name})]})},b.name))})}),s.jsxs("div",{className:"mt-10 text-xs text-gray-400 text-center",children:[" ",new Date().getFullYear()," ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[s.jsxs("header",{className:"flex items-center justify-between px-8 py-6 bg-white border-b border-gray-200 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Room Owner Dashboard"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back, ",(t==null?void 0:t.name)||"Owner","! Manage your properties here."]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900",children:[s.jsx(Vh,{className:"w-6 h-6"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),s.jsx("span",{className:"text-gray-700 font-medium",children:(t==null?void 0:t.name)||"Owner"}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 via-orange-400 to-red-700 flex items-center justify-center text-white font-bold text-lg shadow",children:((y=t==null?void 0:t.name)==null?void 0:y.charAt(0))||"O"})]})]}),s.jsxs("div",{className:"flex-1 p-8",children:[a==="overview"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Total Properties"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalProperties})]}),s.jsx(Xr,{className:"w-8 h-8 text-red-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Active Listings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.activeListings})]}),s.jsx(Pr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Total Tenants"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalTenants})]}),s.jsx(zr,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",l.monthlyRevenue.toLocaleString()]})]}),s.jsx(ei,{className:"w-8 h-8 text-purple-500"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Revenue Trend"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(LineChart,{data:A,children:[s.jsx(CartesianGrid,{strokeDasharray:"3 3"}),s.jsx(XAxis,{dataKey:"month"}),s.jsx(YAxis,{}),s.jsx(Tooltip,{}),s.jsx(Line,{type:"monotone",dataKey:"revenue",stroke:"#ef4444",strokeWidth:3,dot:{r:5}})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Occupancy Rate"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(PieChart,{children:[s.jsx(Pie,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:f.map((b,w)=>s.jsx(Cell,{fill:b.color},`cell-${w}`))}),s.jsx(Tooltip,{})]})}),s.jsxs("div",{className:"text-center mt-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.occupancyRate,"%"]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Occupancy Rate"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Properties"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.slice(0,3).map(b=>s.jsxs(X.div,{whileHover:{y:-5},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:b.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(b.status)}`,children:b.status})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),b.location]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ei,{className:"w-4 h-4 mr-2"}),b.price,"/month"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(zr,{className:"w-4 h-4 mr-2"}),b.tenants," tenants"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ca,{className:"w-4 h-4 mr-2 text-yellow-500"}),b.rating," rating"]})]})]},b.id))})})]})]}),a==="properties"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Properties"}),s.jsxs("button",{className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[s.jsx(ad,{className:"w-5 h-5"}),"Add Property"]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map(b=>s.jsxs(X.div,{whileHover:{y:-5},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[s.jsx("img",{src:b.image,alt:b.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p(b.status)}`,children:b.status})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b.title}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),b.location]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ca,{className:"w-4 h-4 mr-1"}),b.bedrooms]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(fue,{className:"w-4 h-4 mr-1"}),b.bathrooms]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(cx,{className:"w-4 h-4 mr-1"}),b.area]})]}),s.jsx("div",{className:"text-lg font-bold text-gray-900",children:b.price})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ca,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-sm text-gray-600",children:b.rating})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(zr,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[b.tenants," tenants"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[s.jsxs("button",{className:"text-red-500 hover:text-red-700 text-sm font-medium flex items-center",children:[s.jsx(hf,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs("button",{className:"text-gray-500 hover:text-gray-700 text-sm font-medium flex items-center",children:[s.jsx(kr,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})]})]},b.id))})]}),a==="payments"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment History"}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Transactions"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:d.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(CN,{className:"w-5 h-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.property}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tenant: ",b.tenant]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:b.amount}),s.jsx("p",{className:"text-sm text-gray-600",children:b.date})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.status==="Completed"?"text-green-600 bg-green-100":"text-yellow-600 bg-yellow-100"}`,children:b.status})})]},b.id))})})]})]}),a==="maintenance"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Requests"}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Active Requests"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:u.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(er,{className:"w-5 h-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.property}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Issue: ",b.issue]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tenant: ",b.tenant]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:b.date}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(b.priority)}`,children:b.priority})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.status==="Completed"?"text-green-600 bg-green-100":b.status==="In Progress"?"text-blue-600 bg-blue-100":"text-gray-600 bg-gray-100"}`,children:b.status})})]},b.id))})})]})]}),a==="analytics"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Property Types"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(PieChart,{children:[s.jsx(Pie,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:m.map((b,w)=>s.jsx(Cell,{fill:b.color},`cell-${w}`))}),s.jsx(Tooltip,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monthly Revenue"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(BarChart,{data:A,children:[s.jsx(CartesianGrid,{strokeDasharray:"3 3"}),s.jsx(XAxis,{dataKey:"month"}),s.jsx(YAxis,{}),s.jsx(Tooltip,{}),s.jsx(Bar,{dataKey:"revenue",fill:"#ef4444",radius:[4,4,0,0]})]})})]})]})]}),a==="settings"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("p",{className:"text-gray-600",children:"Settings page coming soon..."})})]}),a==="logout"&&s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[s.jsx(uc,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Logout"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to logout?"}),s.jsx("button",{onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),e("/login")},className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Logout"})]})}),a!=="overview"&&a!=="properties"&&a!=="logout"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.charAt(0).toUpperCase()+a.slice(1)}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("p",{className:"text-gray-600",children:"This section is coming soon..."})})]})]})]})]})};function CG(e,t){const r=_.useRef(t);_.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}function zve(e,t,r){t.center!==r.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==r.radius&&e.setRadius(t.radius)}const Vve=1;function Kve(e){return Object.freeze({__version:Vve,map:e})}function BG(e,t){return Object.freeze({...e,...t})}const SG=_.createContext(null),EG=SG.Provider;function HN(){const e=_.useContext(SG);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function kG(e){function t(r,n){const{instance:i,context:a}=e(r).current;return _.useImperativeHandle(n,()=>i),r.children==null?null:_e.createElement(EG,{value:a},r.children)}return _.forwardRef(t)}function Wve(e){function t(r,n){const[i,a]=_.useState(!1),{instance:o}=e(r,a).current;_.useImperativeHandle(n,()=>o),_.useEffect(function(){i&&o.update()},[o,i,r.children]);const l=o._contentNode;return l?sA.createPortal(r.children,l):null}return _.forwardRef(t)}function Gve(e){function t(r,n){const{instance:i}=e(r).current;return _.useImperativeHandle(n,()=>i),null}return _.forwardRef(t)}function I6(e,t){const r=_.useRef();_.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function zN(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function qve(e,t){return function(n,i){const a=HN(),o=e(zN(n,a),a);return CG(a.map,n.attribution),I6(o.current,n.eventHandlers),t(o.current,a,n,i),o}}var W4={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,n){n(t)})(tx,function(r){var n="1.9.4";function i(h){var g,S,D,q;for(S=1,D=arguments.length;S<D;S++){q=arguments[S];for(g in q)h[g]=q[g]}return h}var a=Object.create||function(){function h(){}return function(g){return h.prototype=g,new h}}();function o(h,g){var S=Array.prototype.slice;if(h.bind)return h.bind.apply(h,S.call(arguments,1));var D=S.call(arguments,2);return function(){return h.apply(g,D.length?D.concat(S.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function d(h,g,S){var D,q,ce,Ce;return Ce=function(){D=!1,q&&(ce.apply(S,q),q=!1)},ce=function(){D?q=arguments:(h.apply(S,arguments),setTimeout(Ce,g),D=!0)},ce}function u(h,g,S){var D=g[1],q=g[0],ce=D-q;return h===D&&S?h:((h-q)%ce+ce)%ce+q}function A(){return!1}function f(h,g){if(g===!1)return h;var S=Math.pow(10,g===void 0?6:g);return Math.round(h*S)/S}function m(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function x(h){return m(h).split(/\s+/)}function p(h,g){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var S in g)h.options[S]=g[S];return h.options}function v(h,g,S){var D=[];for(var q in h)D.push(encodeURIComponent(S?q.toUpperCase():q)+"="+encodeURIComponent(h[q]));return(!g||g.indexOf("?")===-1?"?":"&")+D.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function b(h,g){return h.replace(y,function(S,D){var q=g[D];if(q===void 0)throw new Error("No value provided for variable "+S);return typeof q=="function"&&(q=q(g)),q})}var w=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function j(h,g){for(var S=0;S<h.length;S++)if(h[S]===g)return S;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var I=0;function P(h){var g=+new Date,S=Math.max(0,16-(g-I));return I=g+S,window.setTimeout(h,S)}var T=window.requestAnimationFrame||B("RequestAnimationFrame")||P,F=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function E(h,g,S){if(S&&T===P)h.call(g);else return T.call(window,o(h,g))}function k(h){h&&F.call(window,h)}var M={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:c,throttle:d,wrapNum:u,falseFn:A,formatNum:f,trim:m,splitWords:x,setOptions:p,getParamString:v,template:b,isArray:w,indexOf:j,emptyImageUrl:N,requestFn:T,cancelFn:F,requestAnimFrame:E,cancelAnimFrame:k};function U(){}U.extend=function(h){var g=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=g.__super__=this.prototype,D=a(S);D.constructor=g,g.prototype=D;for(var q in this)Object.prototype.hasOwnProperty.call(this,q)&&q!=="prototype"&&q!=="__super__"&&(g[q]=this[q]);return h.statics&&i(g,h.statics),h.includes&&(W(h.includes),i.apply(null,[D].concat(h.includes))),i(D,h),delete D.statics,delete D.includes,D.options&&(D.options=S.options?a(S.options):{},i(D.options,h.options)),D._initHooks=[],D.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var ce=0,Ce=D._initHooks.length;ce<Ce;ce++)D._initHooks[ce].call(this)}},g},U.include=function(h){var g=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=g,this.mergeOptions(h.options)),this},U.mergeOptions=function(h){return i(this.prototype.options,h),this},U.addInitHook=function(h){var g=Array.prototype.slice.call(arguments,1),S=typeof h=="function"?h:function(){this[h].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function W(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=w(h)?h:[h];for(var g=0;g<h.length;g++)h[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(h,g,S){if(typeof h=="object")for(var D in h)this._on(D,h[D],g);else{h=x(h);for(var q=0,ce=h.length;q<ce;q++)this._on(h[q],g,S)}return this},off:function(h,g,S){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var D in h)this._off(D,h[D],g);else{h=x(h);for(var q=arguments.length===1,ce=0,Ce=h.length;ce<Ce;ce++)q?this._off(h[ce]):this._off(h[ce],g,S)}return this},_on:function(h,g,S,D){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(h,g,S)===!1){S===this&&(S=void 0);var q={fn:g,ctx:S};D&&(q.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(q)}},_off:function(h,g,S){var D,q,ce;if(this._events&&(D=this._events[h],!!D)){if(arguments.length===1){if(this._firingCount)for(q=0,ce=D.length;q<ce;q++)D[q].fn=A;delete this._events[h];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var Ce=this._listens(h,g,S);if(Ce!==!1){var Ue=D[Ce];this._firingCount&&(Ue.fn=A,this._events[h]=D=D.slice()),D.splice(Ce,1)}}},fire:function(h,g,S){if(!this.listens(h,S))return this;var D=i({},g,{type:h,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var q=this._events[h];if(q){this._firingCount=this._firingCount+1||1;for(var ce=0,Ce=q.length;ce<Ce;ce++){var Ue=q[ce],$e=Ue.fn;Ue.once&&this.off(h,$e,Ue.ctx),$e.call(Ue.ctx||this,D)}this._firingCount--}}return S&&this._propagateEvent(D),this},listens:function(h,g,S,D){typeof h!="string"&&console.warn('"string" type argument expected');var q=g;typeof g!="function"&&(D=!!g,q=void 0,S=void 0);var ce=this._events&&this._events[h];if(ce&&ce.length&&this._listens(h,q,S)!==!1)return!0;if(D){for(var Ce in this._eventParents)if(this._eventParents[Ce].listens(h,g,S,D))return!0}return!1},_listens:function(h,g,S){if(!this._events)return!1;var D=this._events[h]||[];if(!g)return!!D.length;S===this&&(S=void 0);for(var q=0,ce=D.length;q<ce;q++)if(D[q].fn===g&&D[q].ctx===S)return q;return!1},once:function(h,g,S){if(typeof h=="object")for(var D in h)this._on(D,h[D],g,!0);else{h=x(h);for(var q=0,ce=h.length;q<ce;q++)this._on(h[q],g,S,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var g in this._eventParents)this._eventParents[g].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var Q=U.extend(Y);function z(h,g,S){this.x=S?Math.round(h):h,this.y=S?Math.round(g):g}var te=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(h){return this.clone()._add(re(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(re(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new z(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new z(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(h){h=re(h);var g=h.x-this.x,S=h.y-this.y;return Math.sqrt(g*g+S*S)},equals:function(h){return h=re(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=re(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function re(h,g,S){return h instanceof z?h:w(h)?new z(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new z(h.x,h.y):new z(h,g,S)}function J(h,g){if(h)for(var S=g?[h,g]:h,D=0,q=S.length;D<q;D++)this.extend(S[D])}J.prototype={extend:function(h){var g,S;if(!h)return this;if(h instanceof z||typeof h[0]=="number"||"x"in h)g=S=re(h);else if(h=H(h),g=h.min,S=h.max,!g||!S)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=S.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(h){return re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return re(this.min.x,this.max.y)},getTopRight:function(){return re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var g,S;return typeof h[0]=="number"||h instanceof z?h=re(h):h=H(h),h instanceof J?(g=h.min,S=h.max):g=S=h,g.x>=this.min.x&&S.x<=this.max.x&&g.y>=this.min.y&&S.y<=this.max.y},intersects:function(h){h=H(h);var g=this.min,S=this.max,D=h.min,q=h.max,ce=q.x>=g.x&&D.x<=S.x,Ce=q.y>=g.y&&D.y<=S.y;return ce&&Ce},overlaps:function(h){h=H(h);var g=this.min,S=this.max,D=h.min,q=h.max,ce=q.x>g.x&&D.x<S.x,Ce=q.y>g.y&&D.y<S.y;return ce&&Ce},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var g=this.min,S=this.max,D=Math.abs(g.x-S.x)*h,q=Math.abs(g.y-S.y)*h;return H(re(g.x-D,g.y-q),re(S.x+D,S.y+q))},equals:function(h){return h?(h=H(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function H(h,g){return!h||h instanceof J?h:new J(h,g)}function Z(h,g){if(h)for(var S=g?[h,g]:h,D=0,q=S.length;D<q;D++)this.extend(S[D])}Z.prototype={extend:function(h){var g=this._southWest,S=this._northEast,D,q;if(h instanceof ie)D=h,q=h;else if(h instanceof Z){if(D=h._southWest,q=h._northEast,!D||!q)return this}else return h?this.extend(oe(h)||K(h)):this;return!g&&!S?(this._southWest=new ie(D.lat,D.lng),this._northEast=new ie(q.lat,q.lng)):(g.lat=Math.min(D.lat,g.lat),g.lng=Math.min(D.lng,g.lng),S.lat=Math.max(q.lat,S.lat),S.lng=Math.max(q.lng,S.lng)),this},pad:function(h){var g=this._southWest,S=this._northEast,D=Math.abs(g.lat-S.lat)*h,q=Math.abs(g.lng-S.lng)*h;return new Z(new ie(g.lat-D,g.lng-q),new ie(S.lat+D,S.lng+q))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ie||"lat"in h?h=oe(h):h=K(h);var g=this._southWest,S=this._northEast,D,q;return h instanceof Z?(D=h.getSouthWest(),q=h.getNorthEast()):D=q=h,D.lat>=g.lat&&q.lat<=S.lat&&D.lng>=g.lng&&q.lng<=S.lng},intersects:function(h){h=K(h);var g=this._southWest,S=this._northEast,D=h.getSouthWest(),q=h.getNorthEast(),ce=q.lat>=g.lat&&D.lat<=S.lat,Ce=q.lng>=g.lng&&D.lng<=S.lng;return ce&&Ce},overlaps:function(h){h=K(h);var g=this._southWest,S=this._northEast,D=h.getSouthWest(),q=h.getNorthEast(),ce=q.lat>g.lat&&D.lat<S.lat,Ce=q.lng>g.lng&&D.lng<S.lng;return ce&&Ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,g){return h?(h=K(h),this._southWest.equals(h.getSouthWest(),g)&&this._northEast.equals(h.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function K(h,g){return h instanceof Z?h:new Z(h,g)}function ie(h,g,S){if(isNaN(h)||isNaN(g))throw new Error("Invalid LatLng object: ("+h+", "+g+")");this.lat=+h,this.lng=+g,S!==void 0&&(this.alt=+S)}ie.prototype={equals:function(h,g){if(!h)return!1;h=oe(h);var S=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return S<=(g===void 0?1e-9:g)},toString:function(h){return"LatLng("+f(this.lat,h)+", "+f(this.lng,h)+")"},distanceTo:function(h){return pe.distance(this,oe(h))},wrap:function(){return pe.wrapLatLng(this)},toBounds:function(h){var g=180*h/40075017,S=g/Math.cos(Math.PI/180*this.lat);return K([this.lat-g,this.lng-S],[this.lat+g,this.lng+S])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function oe(h,g,S){return h instanceof ie?h:w(h)&&typeof h[0]!="object"?h.length===3?new ie(h[0],h[1],h[2]):h.length===2?new ie(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ie(h.lat,"lng"in h?h.lng:h.lon,h.alt):g===void 0?null:new ie(h,g,S)}var he={latLngToPoint:function(h,g){var S=this.projection.project(h),D=this.scale(g);return this.transformation._transform(S,D)},pointToLatLng:function(h,g){var S=this.scale(g),D=this.transformation.untransform(h,S);return this.projection.unproject(D)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var g=this.projection.bounds,S=this.scale(h),D=this.transformation.transform(g.min,S),q=this.transformation.transform(g.max,S);return new J(D,q)},infinite:!1,wrapLatLng:function(h){var g=this.wrapLng?u(h.lng,this.wrapLng,!0):h.lng,S=this.wrapLat?u(h.lat,this.wrapLat,!0):h.lat,D=h.alt;return new ie(S,g,D)},wrapLatLngBounds:function(h){var g=h.getCenter(),S=this.wrapLatLng(g),D=g.lat-S.lat,q=g.lng-S.lng;if(D===0&&q===0)return h;var ce=h.getSouthWest(),Ce=h.getNorthEast(),Ue=new ie(ce.lat-D,ce.lng-q),$e=new ie(Ce.lat-D,Ce.lng-q);return new Z(Ue,$e)}},pe=i({},he,{wrapLng:[-180,180],R:6371e3,distance:function(h,g){var S=Math.PI/180,D=h.lat*S,q=g.lat*S,ce=Math.sin((g.lat-h.lat)*S/2),Ce=Math.sin((g.lng-h.lng)*S/2),Ue=ce*ce+Math.cos(D)*Math.cos(q)*Ce*Ce,$e=2*Math.atan2(Math.sqrt(Ue),Math.sqrt(1-Ue));return this.R*$e}}),ee=6378137,fe={R:ee,MAX_LATITUDE:85.0511287798,project:function(h){var g=Math.PI/180,S=this.MAX_LATITUDE,D=Math.max(Math.min(S,h.lat),-S),q=Math.sin(D*g);return new z(this.R*h.lng*g,this.R*Math.log((1+q)/(1-q))/2)},unproject:function(h){var g=180/Math.PI;return new ie((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*g,h.x*g/this.R)},bounds:function(){var h=ee*Math.PI;return new J([-h,-h],[h,h])}()};function ue(h,g,S,D){if(w(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=g,this._c=S,this._d=D}ue.prototype={transform:function(h,g){return this._transform(h.clone(),g)},_transform:function(h,g){return g=g||1,h.x=g*(this._a*h.x+this._b),h.y=g*(this._c*h.y+this._d),h},untransform:function(h,g){return g=g||1,new z((h.x/g-this._b)/this._a,(h.y/g-this._d)/this._c)}};function V(h,g,S,D){return new ue(h,g,S,D)}var ve=i({},pe,{code:"EPSG:3857",projection:fe,transformation:function(){var h=.5/(Math.PI*fe.R);return V(h,.5,-h,.5)}()}),Se=i({},ve,{code:"EPSG:900913"});function ne(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function xe(h,g){var S="",D,q,ce,Ce,Ue,$e;for(D=0,ce=h.length;D<ce;D++){for(Ue=h[D],q=0,Ce=Ue.length;q<Ce;q++)$e=Ue[q],S+=(q?"L":"M")+$e.x+" "+$e.y;S+=g?St.svg?"z":"x":""}return S||"M0 0"}var Le=document.documentElement.style,ze="ActiveXObject"in window,Te=ze&&!document.addEventListener,lt="msLaunchUri"in navigator&&!("documentMode"in document),tt=vr("webkit"),ge=vr("android"),Be=vr("android 2")||vr("android 3"),Ne=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ke=ge&&vr("Google")&&Ne<537&&!("AudioNode"in window),Me=!!window.opera,ot=!lt&&vr("chrome"),nt=vr("gecko")&&!tt&&!Me&&!ze,rt=!ot&&vr("safari"),Ke=vr("phantom"),st="OTransition"in Le,at=navigator.platform.indexOf("Win")===0,gt=ze&&"transition"in Le,Bt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Be,_t="MozPerspective"in Le,Vt=!window.L_DISABLE_3D&&(gt||Bt||_t)&&!st&&!Ke,yt=typeof orientation<"u"||vr("mobile"),At=yt&&tt,it=yt&&Bt,dt=!window.PointerEvent&&window.MSPointerEvent,et=!!(window.PointerEvent||dt),Ve="ontouchstart"in window||!!window.TouchEvent,Ct=!window.L_NO_TOUCH&&(Ve||et),Zt=yt&&Me,Qn=yt&&nt,tr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qr=function(){var h=!1;try{var g=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",A,g),window.removeEventListener("testPassiveEventSupport",A,g)}catch{}return h}(),_n=function(){return!!document.createElement("canvas").getContext}(),Ft=!!(document.createElementNS&&ne("svg").createSVGRect),ps=!!Ft&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gs=!Ft&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var g=h.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),Tn=navigator.platform.indexOf("Mac")===0,ss=navigator.platform.indexOf("Linux")===0;function vr(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var St={ie:ze,ielt9:Te,edge:lt,webkit:tt,android:ge,android23:Be,androidStock:ke,opera:Me,chrome:ot,gecko:nt,safari:rt,phantom:Ke,opera12:st,win:at,ie3d:gt,webkit3d:Bt,gecko3d:_t,any3d:Vt,mobile:yt,mobileWebkit:At,mobileWebkit3d:it,msPointer:dt,pointer:et,touch:Ct,touchNative:Ve,mobileOpera:Zt,mobileGecko:Qn,retina:tr,passiveEvents:qr,canvas:_n,svg:Ft,vml:gs,inlineSvg:ps,mac:Tn,linux:ss},un=St.msPointer?"MSPointerDown":"pointerdown",ti=St.msPointer?"MSPointerMove":"pointermove",Hs=St.msPointer?"MSPointerUp":"pointerup",is=St.msPointer?"MSPointerCancel":"pointercancel",as={touchstart:un,touchmove:ti,touchend:Hs,touchcancel:is},os={touchstart:Qe,touchmove:je,touchend:je,touchcancel:je},Cn={},Ze=!1;function jt(h,g,S){return g==="touchstart"&&Lr(),os[g]?(S=os[g].bind(this,S),h.addEventListener(as[g],S,!1),S):(console.warn("wrong event specified:",g),A)}function Pt(h,g,S){if(!as[g]){console.warn("wrong event specified:",g);return}h.removeEventListener(as[g],S,!1)}function ft(h){Cn[h.pointerId]=h}function Ut(h){Cn[h.pointerId]&&(Cn[h.pointerId]=h)}function vn(h){delete Cn[h.pointerId]}function Lr(){Ze||(document.addEventListener(un,ft,!0),document.addEventListener(ti,Ut,!0),document.addEventListener(Hs,vn,!0),document.addEventListener(is,vn,!0),Ze=!0)}function je(h,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var S in Cn)g.touches.push(Cn[S]);g.changedTouches=[g],h(g)}}function Qe(h,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&$n(g),je(h,g)}function Ge(h){var g={},S,D;for(D in h)S=h[D],g[D]=S&&S.bind?S.bind(h):S;return h=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var xt=200;function $t(h,g){h.addEventListener("dblclick",g);var S=0,D;function q(ce){if(ce.detail!==1){D=ce.detail;return}if(!(ce.pointerType==="mouse"||ce.sourceCapabilities&&!ce.sourceCapabilities.firesTouchEvents)){var Ce=Do(ce);if(!(Ce.some(function($e){return $e instanceof HTMLLabelElement&&$e.attributes.for})&&!Ce.some(function($e){return $e instanceof HTMLInputElement||$e instanceof HTMLSelectElement}))){var Ue=Date.now();Ue-S<=xt?(D++,D===2&&g(Ge(ce))):D=1,S=Ue}}}return h.addEventListener("click",q),{dblclick:g,simDblclick:q}}function Vr(h,g){h.removeEventListener("dblclick",g.dblclick),h.removeEventListener("click",g.simDblclick)}var Jr=Pu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ri=Pu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Nc=ri==="webkitTransition"||ri==="OTransition"?ri+"End":"transitionend";function Ia(h){return typeof h=="string"?document.getElementById(h):h}function no(h,g){var S=h.style[g]||h.currentStyle&&h.currentStyle[g];if((!S||S==="auto")&&document.defaultView){var D=document.defaultView.getComputedStyle(h,null);S=D?D[g]:null}return S==="auto"?null:S}function mr(h,g,S){var D=document.createElement(h);return D.className=g||"",S&&S.appendChild(D),D}function en(h){var g=h.parentNode;g&&g.removeChild(h)}function ku(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Bn(h){var g=h.parentNode;g&&g.lastChild!==h&&g.appendChild(h)}function jl(h){var g=h.parentNode;g&&g.firstChild!==h&&g.insertBefore(h,g.firstChild)}function Ta(h,g){if(h.classList!==void 0)return h.classList.contains(g);var S=Xn(h);return S.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(S)}function ur(h,g){if(h.classList!==void 0)for(var S=x(g),D=0,q=S.length;D<q;D++)h.classList.add(S[D]);else if(!Ta(h,g)){var ce=Xn(h);Di(h,(ce?ce+" ":"")+g)}}function On(h,g){h.classList!==void 0?h.classList.remove(g):Di(h,m((" "+Xn(h)+" ").replace(" "+g+" "," ")))}function Di(h,g){h.className.baseVal===void 0?h.className=g:h.className.baseVal=g}function Xn(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function xs(h,g){"opacity"in h.style?h.style.opacity=g:"filter"in h.style&&hm(h,g)}function hm(h,g){var S=!1,D="DXImageTransform.Microsoft.Alpha";try{S=h.filters.item(D)}catch{if(g===1)return}g=Math.round(g*100),S?(S.Enabled=g!==100,S.Opacity=g):h.style.filter+=" progid:"+D+"(opacity="+g+")"}function Pu(h){for(var g=document.documentElement.style,S=0;S<h.length;S++)if(h[S]in g)return h[S];return!1}function Nl(h,g,S){var D=g||new z(0,0);h.style[Jr]=(St.ie3d?"translate("+D.x+"px,"+D.y+"px)":"translate3d("+D.x+"px,"+D.y+"px,0)")+(S?" scale("+S+")":"")}function Yr(h,g){h._leaflet_pos=g,St.any3d?Nl(h,g):(h.style.left=g.x+"px",h.style.top=g.y+"px")}function Uo(h){return h._leaflet_pos||new z(0,0)}var _c,Ro,_l;if("onselectstart"in document)_c=function(){Nt(window,"selectstart",$n)},Ro=function(){tn(window,"selectstart",$n)};else{var yd=Pu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);_c=function(){if(yd){var h=document.documentElement.style;_l=h[yd],h[yd]="none"}},Ro=function(){yd&&(document.documentElement.style[yd]=_l,_l=void 0)}}function fA(){Nt(window,"dragstart",$n)}function mA(){tn(window,"dragstart",$n)}var Cc,Iu;function da(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(Tu(),Cc=h,Iu=h.style.outlineStyle,h.style.outlineStyle="none",Nt(window,"keydown",Tu))}function Tu(){Cc&&(Cc.style.outlineStyle=Iu,Cc=void 0,Iu=void 0,tn(window,"keydown",Tu))}function Bc(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function vd(h){var g=h.getBoundingClientRect();return{x:g.width/h.offsetWidth||1,y:g.height/h.offsetHeight||1,boundingClientRect:g}}var u0={__proto__:null,TRANSFORM:Jr,TRANSITION:ri,TRANSITION_END:Nc,get:Ia,getStyle:no,create:mr,remove:en,empty:ku,toFront:Bn,toBack:jl,hasClass:Ta,addClass:ur,removeClass:On,setClass:Di,getClass:Xn,setOpacity:xs,testProp:Pu,setTransform:Nl,setPosition:Yr,getPosition:Uo,get disableTextSelection(){return _c},get enableTextSelection(){return Ro},disableImageDrag:fA,enableImageDrag:mA,preventOutline:da,restoreOutline:Tu,getSizedParentNode:Bc,getScale:vd};function Nt(h,g,S,D){if(g&&typeof g=="object")for(var q in g)io(h,q,g[q],S);else{g=x(g);for(var ce=0,Ce=g.length;ce<Ce;ce++)io(h,g[ce],S,D)}return this}var Oa="_leaflet_events";function tn(h,g,S,D){if(arguments.length===1)Am(h),delete h[Oa];else if(g&&typeof g=="object")for(var q in g)pA(h,q,g[q],S);else if(g=x(g),arguments.length===2)Am(h,function(Ue){return j(g,Ue)!==-1});else for(var ce=0,Ce=g.length;ce<Ce;ce++)pA(h,g[ce],S,D);return this}function Am(h,g){for(var S in h[Oa]){var D=S.split(/\d/)[0];(!g||g(D))&&pA(h,D,null,null,S)}}var so={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function io(h,g,S,D){var q=g+c(S)+(D?"_"+c(D):"");if(h[Oa]&&h[Oa][q])return this;var ce=function(Ue){return S.call(D||h,Ue||window.event)},Ce=ce;!St.touchNative&&St.pointer&&g.indexOf("touch")===0?ce=jt(h,g,ce):St.touch&&g==="dblclick"?ce=$t(h,ce):"addEventListener"in h?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?h.addEventListener(so[g]||g,ce,St.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(ce=function(Ue){Ue=Ue||window.event,Lu(h,Ue)&&Ce(Ue)},h.addEventListener(so[g],ce,!1)):h.addEventListener(g,Ce,!1):h.attachEvent("on"+g,ce),h[Oa]=h[Oa]||{},h[Oa][q]=ce}function pA(h,g,S,D,q){q=q||g+c(S)+(D?"_"+c(D):"");var ce=h[Oa]&&h[Oa][q];if(!ce)return this;!St.touchNative&&St.pointer&&g.indexOf("touch")===0?Pt(h,g,ce):St.touch&&g==="dblclick"?Vr(h,ce):"removeEventListener"in h?h.removeEventListener(so[g]||g,ce,!1):h.detachEvent("on"+g,ce),h[Oa][q]=null}function Cl(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function Sc(h){return io(h,"wheel",Cl),this}function Bl(h){return Nt(h,"mousedown touchstart dblclick contextmenu",Cl),h._leaflet_disable_click=!0,this}function $n(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function Sl(h){return $n(h),Cl(h),this}function Do(h){if(h.composedPath)return h.composedPath();for(var g=[],S=h.target;S;)g.push(S),S=S.parentNode;return g}function fm(h,g){if(!g)return new z(h.clientX,h.clientY);var S=vd(g),D=S.boundingClientRect;return new z((h.clientX-D.left)/S.x-g.clientLeft,(h.clientY-D.top)/S.y-g.clientTop)}var gA=St.linux&&St.chrome?window.devicePixelRatio:St.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ou(h){return St.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/gA:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Lu(h,g){var S=g.relatedTarget;if(!S)return!0;try{for(;S&&S!==h;)S=S.parentNode}catch{return!1}return S!==h}var El={__proto__:null,on:Nt,off:tn,stopPropagation:Cl,disableScrollPropagation:Sc,disableClickPropagation:Bl,preventDefault:$n,stop:Sl,getPropagationPath:Do,getMousePosition:fm,getWheelDelta:Ou,isExternalTarget:Lu,addListener:Nt,removeListener:tn},Fu=Q.extend({run:function(h,g,S,D){this.stop(),this._el=h,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(D||.5,.2),this._startPos=Uo(h),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(h){var g=+new Date-this._startTime,S=this._duration*1e3;g<S?this._runFrame(this._easeOut(g/S),h):(this._runFrame(1),this._complete())},_runFrame:function(h,g){var S=this._startPos.add(this._offset.multiplyBy(h));g&&S._round(),Yr(this._el,S),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),jr=Q.extend({options:{crs:ve,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,g){g=p(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(oe(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ri&&St.any3d&&!St.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Nt(this._proxy,Nc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,g,S){if(g=g===void 0?this._zoom:this._limitZoom(g),h=this._limitCenter(oe(h),g,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=i({animate:S.animate},S.zoom),S.pan=i({animate:S.animate,duration:S.duration},S.pan));var D=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,g,S.zoom):this._tryAnimatedPan(h,S.pan);if(D)return clearTimeout(this._sizeTimer),this}return this._resetView(h,g,S.pan&&S.pan.noMoveStart),this},setZoom:function(h,g){return this._loaded?this.setView(this.getCenter(),h,{zoom:g}):(this._zoom=h,this)},zoomIn:function(h,g){return h=h||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,g)},zoomOut:function(h,g){return h=h||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,g)},setZoomAround:function(h,g,S){var D=this.getZoomScale(g),q=this.getSize().divideBy(2),ce=h instanceof z?h:this.latLngToContainerPoint(h),Ce=ce.subtract(q).multiplyBy(1-1/D),Ue=this.containerPointToLatLng(q.add(Ce));return this.setView(Ue,g,{zoom:S})},_getBoundsCenterZoom:function(h,g){g=g||{},h=h.getBounds?h.getBounds():K(h);var S=re(g.paddingTopLeft||g.padding||[0,0]),D=re(g.paddingBottomRight||g.padding||[0,0]),q=this.getBoundsZoom(h,!1,S.add(D));if(q=typeof g.maxZoom=="number"?Math.min(g.maxZoom,q):q,q===1/0)return{center:h.getCenter(),zoom:q};var ce=D.subtract(S).divideBy(2),Ce=this.project(h.getSouthWest(),q),Ue=this.project(h.getNorthEast(),q),$e=this.unproject(Ce.add(Ue).divideBy(2).add(ce),q);return{center:$e,zoom:q}},fitBounds:function(h,g){if(h=K(h),!h.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(h,g);return this.setView(S.center,S.zoom,g)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,g){return this.setView(h,this._zoom,{pan:g})},panBy:function(h,g){if(h=re(h).round(),g=g||{},!h.x&&!h.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){ur(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,S,g.duration||.25,g.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,g,S){if(S=S||{},S.animate===!1||!St.any3d)return this.setView(h,g,S);this._stop();var D=this.project(this.getCenter()),q=this.project(h),ce=this.getSize(),Ce=this._zoom;h=oe(h),g=g===void 0?Ce:g;var Ue=Math.max(ce.x,ce.y),$e=Ue*this.getZoomScale(Ce,g),ut=q.distanceTo(D)||1,It=1.42,Jt=It*It;function Br(hn){var Si=hn?-1:1,c_=hn?$e:Ue,d_=$e*$e-Ue*Ue+Si*Jt*Jt*ut*ut,ob=2*c_*Jt*ut,jm=d_/ob,y0=Math.sqrt(jm*jm+1)-jm,lb=y0<1e-9?-18:Math.log(y0);return lb}function Bi(hn){return(Math.exp(hn)-Math.exp(-hn))/2}function Is(hn){return(Math.exp(hn)+Math.exp(-hn))/2}function Ma(hn){return Bi(hn)/Is(hn)}var zi=Br(0);function Hu(hn){return Ue*(Is(zi)/Is(zi+It*hn))}function o_(hn){return Ue*(Is(zi)*Ma(zi+It*hn)-Bi(zi))/Jt}function Oc(hn){return 1-Math.pow(1-hn,1.5)}var co=Date.now(),qo=(Br(1)-zi)/It,l_=S.duration?1e3*S.duration:1e3*qo*.8;function x0(){var hn=(Date.now()-co)/l_,Si=Oc(hn)*qo;hn<=1?(this._flyToFrame=E(x0,this),this._move(this.unproject(D.add(q.subtract(D).multiplyBy(o_(Si)/ut)),Ce),this.getScaleZoom(Ue/Hu(Si),Ce),{flyTo:!0})):this._move(h,g)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),x0.call(this),this},flyToBounds:function(h,g){var S=this._getBoundsCenterZoom(h,g);return this.flyTo(S.center,S.zoom,g)},setMaxBounds:function(h){return h=K(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var g=this.options.minZoom;return this.options.minZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var g=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,g){this._enforcingBounds=!0;var S=this.getCenter(),D=this._limitCenter(S,this._zoom,K(h));return S.equals(D)||this.panTo(D,g),this._enforcingBounds=!1,this},panInside:function(h,g){g=g||{};var S=re(g.paddingTopLeft||g.padding||[0,0]),D=re(g.paddingBottomRight||g.padding||[0,0]),q=this.project(this.getCenter()),ce=this.project(h),Ce=this.getPixelBounds(),Ue=H([Ce.min.add(S),Ce.max.subtract(D)]),$e=Ue.getSize();if(!Ue.contains(ce)){this._enforcingBounds=!0;var ut=ce.subtract(Ue.getCenter()),It=Ue.extend(ce).getSize().subtract($e);q.x+=ut.x<0?-It.x:It.x,q.y+=ut.y<0?-It.y:It.y,this.panTo(this.unproject(q),g),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),D=g.divideBy(2).round(),q=S.divideBy(2).round(),ce=D.subtract(q);return!ce.x&&!ce.y?this:(h.animate&&h.pan?this.panBy(ce):(h.pan&&this._rawPanBy(ce),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),S=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,S,h):navigator.geolocation.getCurrentPosition(g,S,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var g=h.code,S=h.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var g=h.coords.latitude,S=h.coords.longitude,D=new ie(g,S),q=D.toBounds(h.coords.accuracy*2),ce=this._locateOptions;if(ce.setView){var Ce=this.getBoundsZoom(q);this.setView(D,ce.maxZoom?Math.min(Ce,ce.maxZoom):Ce)}var Ue={latlng:D,bounds:q,timestamp:h.timestamp};for(var $e in h.coords)typeof h.coords[$e]=="number"&&(Ue[$e]=h.coords[$e]);this.fire("locationfound",Ue)}},addHandler:function(h,g){if(!g)return this;var S=this[h]=new g(this);return this._handlers.push(S),this.options[h]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),en(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)en(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,g){var S="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),D=mr("div",S,g||this._mapPane);return h&&(this._panes[h]=D),D},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),g=this.unproject(h.getBottomLeft()),S=this.unproject(h.getTopRight());return new Z(g,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,g,S){h=K(h),S=re(S||[0,0]);var D=this.getZoom()||0,q=this.getMinZoom(),ce=this.getMaxZoom(),Ce=h.getNorthWest(),Ue=h.getSouthEast(),$e=this.getSize().subtract(S),ut=H(this.project(Ue,D),this.project(Ce,D)).getSize(),It=St.any3d?this.options.zoomSnap:1,Jt=$e.x/ut.x,Br=$e.y/ut.y,Bi=g?Math.max(Jt,Br):Math.min(Jt,Br);return D=this.getScaleZoom(Bi,D),It&&(D=Math.round(D/(It/100))*(It/100),D=g?Math.ceil(D/It)*It:Math.floor(D/It)*It),Math.max(q,Math.min(ce,D))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,g){var S=this._getTopLeftPoint(h,g);return new J(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,g){var S=this.options.crs;return g=g===void 0?this._zoom:g,S.scale(h)/S.scale(g)},getScaleZoom:function(h,g){var S=this.options.crs;g=g===void 0?this._zoom:g;var D=S.zoom(h*S.scale(g));return isNaN(D)?1/0:D},project:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(oe(h),g)},unproject:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(re(h),g)},layerPointToLatLng:function(h){var g=re(h).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(h){var g=this.project(oe(h))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(oe(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(K(h))},distance:function(h,g){return this.options.crs.distance(oe(h),oe(g))},containerPointToLayerPoint:function(h){return re(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return re(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var g=this.containerPointToLayerPoint(re(h));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(h)))},mouseEventToContainerPoint:function(h){return fm(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var g=this._container=Ia(h);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Nt(g,"scroll",this._onScroll,this),this._containerId=c(g)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&St.any3d,ur(h,"leaflet-container"+(St.touch?" leaflet-touch":"")+(St.retina?" leaflet-retina":"")+(St.ielt9?" leaflet-oldie":"")+(St.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=no(h,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Yr(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ur(h.markerPane,"leaflet-zoom-hide"),ur(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,g,S){Yr(this._mapPane,new z(0,0));var D=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var q=this._zoom!==g;this._moveStart(q,S)._move(h,g)._moveEnd(q),this.fire("viewreset"),D&&this.fire("load")},_moveStart:function(h,g){return h&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(h,g,S,D){g===void 0&&(g=this._zoom);var q=this._zoom!==g;return this._zoom=g,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),D?S&&S.pinch&&this.fire("zoom",S):((q||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Yr(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var g=h?tn:Nt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),St.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=E(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,g){for(var S=[],D,q=g==="mouseout"||g==="mouseover",ce=h.target||h.srcElement,Ce=!1;ce;){if(D=this._targets[c(ce)],D&&(g==="click"||g==="preclick")&&this._draggableMoved(D)){Ce=!0;break}if(D&&D.listens(g,!0)&&(q&&!Lu(ce,h)||(S.push(D),q))||ce===this._container)break;ce=ce.parentNode}return!S.length&&!Ce&&!q&&this.listens(g,!0)&&(S=[this]),S},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var g=h.target||h.srcElement;if(!(!this._loaded||g._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(g))){var S=h.type;S==="mousedown"&&da(g),this._fireDOMEvent(h,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,g,S){if(h.type==="click"){var D=i({},h);D.type="preclick",this._fireDOMEvent(D,D.type,S)}var q=this._findEventTargets(h,g);if(S){for(var ce=[],Ce=0;Ce<S.length;Ce++)S[Ce].listens(g,!0)&&ce.push(S[Ce]);q=ce.concat(q)}if(q.length){g==="contextmenu"&&$n(h);var Ue=q[0],$e={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var ut=Ue.getLatLng&&(!Ue._radius||Ue._radius<=10);$e.containerPoint=ut?this.latLngToContainerPoint(Ue.getLatLng()):this.mouseEventToContainerPoint(h),$e.layerPoint=this.containerPointToLayerPoint($e.containerPoint),$e.latlng=ut?Ue.getLatLng():this.layerPointToLatLng($e.layerPoint)}for(Ce=0;Ce<q.length;Ce++)if(q[Ce].fire(g,$e,!0),$e.originalEvent._stopped||q[Ce].options.bubblingMouseEvents===!1&&j(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,g=this._handlers.length;h<g;h++)this._handlers[h].disable()},whenReady:function(h,g){return this._loaded?h.call(g||this,{target:this}):this.on("load",h,g),this},_getMapPanePos:function(){return Uo(this._mapPane)||new z(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,g){var S=h&&g!==void 0?this._getNewPixelOrigin(h,g):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,g){var S=this.getSize()._divideBy(2);return this.project(h,g)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,g,S){var D=this._getNewPixelOrigin(S,g);return this.project(h,g)._subtract(D)},_latLngBoundsToNewLayerBounds:function(h,g,S){var D=this._getNewPixelOrigin(S,g);return H([this.project(h.getSouthWest(),g)._subtract(D),this.project(h.getNorthWest(),g)._subtract(D),this.project(h.getSouthEast(),g)._subtract(D),this.project(h.getNorthEast(),g)._subtract(D)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,g,S){if(!S)return h;var D=this.project(h,g),q=this.getSize().divideBy(2),ce=new J(D.subtract(q),D.add(q)),Ce=this._getBoundsOffset(ce,S,g);return Math.abs(Ce.x)<=1&&Math.abs(Ce.y)<=1?h:this.unproject(D.add(Ce),g)},_limitOffset:function(h,g){if(!g)return h;var S=this.getPixelBounds(),D=new J(S.min.add(h),S.max.add(h));return h.add(this._getBoundsOffset(D,g))},_getBoundsOffset:function(h,g,S){var D=H(this.project(g.getNorthEast(),S),this.project(g.getSouthWest(),S)),q=D.min.subtract(h.min),ce=D.max.subtract(h.max),Ce=this._rebound(q.x,-ce.x),Ue=this._rebound(q.y,-ce.y);return new z(Ce,Ue)},_rebound:function(h,g){return h+g>0?Math.round(h-g)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(g))},_limitZoom:function(h){var g=this.getMinZoom(),S=this.getMaxZoom(),D=St.any3d?this.options.zoomSnap:1;return D&&(h=Math.round(h/D)*D),Math.max(g,Math.min(S,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){On(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,g){var S=this._getCenterOffset(h)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,g),!0)},_createAnimProxy:function(){var h=this._proxy=mr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(g){var S=Jr,D=this._proxy.style[S];Nl(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),D===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){en(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),g=this.getZoom();Nl(this._proxy,this.project(h,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,g,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var D=this.getZoomScale(g),q=this._getCenterOffset(h)._divideBy(1-1/D);return S.animate!==!0&&!this.getSize().contains(q)?!1:(E(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(h,g,!0)},this),!0)},_animateZoom:function(h,g,S,D){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=g,ur(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:g,noUpdate:D}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&On(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function xA(h,g){return new jr(h,g)}var ni=U.extend({options:{position:"topright"},initialize:function(h){p(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var g=this._map;return g&&g.removeControl(this),this.options.position=h,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var g=this._container=this.onAdd(h),S=this.getPosition(),D=h._controlCorners[S];return ur(g,"leaflet-control"),S.indexOf("bottom")!==-1?D.insertBefore(g,D.firstChild):D.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(en(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),kl=function(h){return new ni(h)};jr.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},g="leaflet-",S=this._controlContainer=mr("div",g+"control-container",this._container);function D(q,ce){var Ce=g+q+" "+g+ce;h[q+ce]=mr("div",Ce,S)}D("top","left"),D("top","right"),D("bottom","left"),D("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)en(this._controlCorners[h]);en(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yA=ni.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,g,S,D){return S<D?-1:D<S?1:0}},initialize:function(h,g,S){p(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var D in h)this._addLayer(h[D],D);for(D in g)this._addLayer(g[D],D,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return ni.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,g){return this._addLayer(h,g),this._map?this._update():this},addOverlay:function(h,g){return this._addLayer(h,g,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var g=this._getLayer(c(h));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){ur(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(ur(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):On(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return On(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",g=this._container=mr("div",h),S=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Bl(g),Sc(g);var D=this._section=mr("section",h+"-list");S&&(this._map.on("click",this.collapse,this),Nt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var q=this._layersLink=mr("a",h+"-toggle",g);q.href="#",q.title="Layers",q.setAttribute("role","button"),Nt(q,{keydown:function(ce){ce.keyCode===13&&this._expandSafely()},click:function(ce){$n(ce),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=mr("div",h+"-base",D),this._separator=mr("div",h+"-separator",D),this._overlaysList=mr("div",h+"-overlays",D),g.appendChild(D)},_getLayer:function(h){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&c(this._layers[g].layer)===h)return this._layers[g]},_addLayer:function(h,g,S){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:g,overlay:S}),this.options.sortLayers&&this._layers.sort(o(function(D,q){return this.options.sortFunction(D.layer,q.layer,D.name,q.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ku(this._baseLayersList),ku(this._overlaysList),this._layerControlInputs=[];var h,g,S,D,q=0;for(S=0;S<this._layers.length;S++)D=this._layers[S],this._addItem(D),g=g||D.overlay,h=h||!D.overlay,q+=D.overlay?0:1;return this.options.hideSingleBase&&(h=h&&q>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=g&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var g=this._getLayer(c(h.target)),S=g.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;S&&this._map.fire(S,g)},_createRadioElement:function(h,g){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(g?' checked="checked"':"")+"/>",D=document.createElement("div");return D.innerHTML=S,D.firstChild},_addItem:function(h){var g=document.createElement("label"),S=this._map.hasLayer(h.layer),D;h.overlay?(D=document.createElement("input"),D.type="checkbox",D.className="leaflet-control-layers-selector",D.defaultChecked=S):D=this._createRadioElement("leaflet-base-layers_"+c(this),S),this._layerControlInputs.push(D),D.layerId=c(h.layer),Nt(D,"click",this._onInputClick,this);var q=document.createElement("span");q.innerHTML=" "+h.name;var ce=document.createElement("span");g.appendChild(ce),ce.appendChild(D),ce.appendChild(q);var Ce=h.overlay?this._overlaysList:this._baseLayersList;return Ce.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,g,S,D=[],q=[];this._handlingClick=!0;for(var ce=h.length-1;ce>=0;ce--)g=h[ce],S=this._getLayer(g.layerId).layer,g.checked?D.push(S):g.checked||q.push(S);for(ce=0;ce<q.length;ce++)this._map.hasLayer(q[ce])&&this._map.removeLayer(q[ce]);for(ce=0;ce<D.length;ce++)this._map.hasLayer(D[ce])||this._map.addLayer(D[ce]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,g,S,D=this._map.getZoom(),q=h.length-1;q>=0;q--)g=h[q],S=this._getLayer(g.layerId).layer,g.disabled=S.options.minZoom!==void 0&&D<S.options.minZoom||S.options.maxZoom!==void 0&&D>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Nt(h,"click",$n),this.expand();var g=this;setTimeout(function(){tn(h,"click",$n),g._preventClick=!1})}}),mm=function(h,g,S){return new yA(h,g,S)},ao=ni.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var g="leaflet-control-zoom",S=mr("div",g+" leaflet-bar"),D=this.options;return this._zoomInButton=this._createButton(D.zoomInText,D.zoomInTitle,g+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(D.zoomOutText,D.zoomOutTitle,g+"-out",S,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,g,S,D,q){var ce=mr("a",S,D);return ce.innerHTML=h,ce.href="#",ce.title=g,ce.setAttribute("role","button"),ce.setAttribute("aria-label",g),Bl(ce),Nt(ce,"click",Sl),Nt(ce,"click",q,this),Nt(ce,"click",this._refocusOnMap,this),ce},_updateDisabled:function(){var h=this._map,g="leaflet-disabled";On(this._zoomInButton,g),On(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(ur(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(ur(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});jr.mergeOptions({zoomControl:!0}),jr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ao,this.addControl(this.zoomControl))});var Pl=function(h){return new ao(h)},vA=ni.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var g="leaflet-control-scale",S=mr("div",g),D=this.options;return this._addScales(D,g+"-line",S),h.on(D.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),S},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,g,S){h.metric&&(this._mScale=mr("div",g,S)),h.imperial&&(this._iScale=mr("div",g,S))},_update:function(){var h=this._map,g=h.getSize().y/2,S=h.distance(h.containerPointToLatLng([0,g]),h.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(S)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var g=this._getRoundNum(h),S=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,S,g/h)},_updateImperial:function(h){var g=h*3.2808399,S,D,q;g>5280?(S=g/5280,D=this._getRoundNum(S),this._updateScale(this._iScale,D+" mi",D/S)):(q=this._getRoundNum(g),this._updateScale(this._iScale,q+" ft",q/g))},_updateScale:function(h,g,S){h.style.width=Math.round(this.options.maxWidth*S)+"px",h.innerHTML=g},_getRoundNum:function(h){var g=Math.pow(10,(Math.floor(h)+"").length-1),S=h/g;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,g*S}}),bd=function(h){return new vA(h)},pm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',R=ni.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(St.inlineSvg?pm+" ":"")+"Leaflet</a>"},initialize:function(h){p(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=mr("div","leaflet-control-attribution"),Bl(this._container);for(var g in h._layers)h._layers[g].getAttribution&&this.addAttribution(h._layers[g].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var g in this._attributions)this._attributions[g]&&h.push(g);var S=[];this.options.prefix&&S.push(this.options.prefix),h.length&&S.push(h.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});jr.mergeOptions({attributionControl:!0}),jr.addInitHook(function(){this.options.attributionControl&&new R().addTo(this)});var se=function(h){return new R(h)};ni.Layers=yA,ni.Zoom=ao,ni.Scale=vA,ni.Attribution=R,kl.layers=mm,kl.zoom=Pl,kl.scale=bd,kl.attribution=se;var ye=U.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ye.addTo=function(h,g){return h.addHandler(g,this),this};var Ee={Events:Y},Oe=St.touch?"touchstart mousedown":"mousedown",We=Q.extend({options:{clickTolerance:3},initialize:function(h,g,S,D){p(this,D),this._element=h,this._dragStartTarget=g||h,this._preventOutline=S},enable:function(){this._enabled||(Nt(this._dragStartTarget,Oe,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(We._dragging===this&&this.finishDrag(!0),tn(this._dragStartTarget,Oe,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Ta(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){We._dragging===this&&this.finishDrag();return}if(!(We._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(We._dragging=this,this._preventOutline&&da(this._element),fA(),_c(),!this._moving)){this.fire("down");var g=h.touches?h.touches[0]:h,S=Bc(this._element);this._startPoint=new z(g.clientX,g.clientY),this._startPos=Uo(this._element),this._parentScale=vd(S);var D=h.type==="mousedown";Nt(document,D?"mousemove":"touchmove",this._onMove,this),Nt(document,D?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var g=h.touches&&h.touches.length===1?h.touches[0]:h,S=new z(g.clientX,g.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,$n(h),this._moved||(this.fire("dragstart"),this._moved=!0,ur(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ur(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Yr(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){On(document.body,"leaflet-dragging"),this._lastTarget&&(On(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tn(document,"mousemove touchmove",this._onMove,this),tn(document,"mouseup touchend touchcancel",this._onUp,this),mA(),Ro();var g=this._moved&&this._moving;this._moving=!1,We._dragging=!1,g&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function ct(h,g,S){var D,q=[1,4,2,8],ce,Ce,Ue,$e,ut,It,Jt,Br;for(ce=0,It=h.length;ce<It;ce++)h[ce]._code=si(h[ce],g);for(Ue=0;Ue<4;Ue++){for(Jt=q[Ue],D=[],ce=0,It=h.length,Ce=It-1;ce<It;Ce=ce++)$e=h[ce],ut=h[Ce],$e._code&Jt?ut._code&Jt||(Br=La(ut,$e,Jt,g,S),Br._code=si(Br,g),D.push(Br)):(ut._code&Jt&&(Br=La(ut,$e,Jt,g,S),Br._code=si(Br,g),D.push(Br)),D.push($e));h=D}return h}function Rt(h,g){var S,D,q,ce,Ce,Ue,$e,ut,It;if(!h||h.length===0)throw new Error("latlngs not passed");ii(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Jt=oe([0,0]),Br=K(h),Bi=Br.getNorthWest().distanceTo(Br.getSouthWest())*Br.getNorthEast().distanceTo(Br.getNorthWest());Bi<1700&&(Jt=zt(h));var Is=h.length,Ma=[];for(S=0;S<Is;S++){var zi=oe(h[S]);Ma.push(g.project(oe([zi.lat-Jt.lat,zi.lng-Jt.lng])))}for(Ue=$e=ut=0,S=0,D=Is-1;S<Is;D=S++)q=Ma[S],ce=Ma[D],Ce=q.y*ce.x-ce.y*q.x,$e+=(q.x+ce.x)*Ce,ut+=(q.y+ce.y)*Ce,Ue+=Ce*3;Ue===0?It=Ma[0]:It=[$e/Ue,ut/Ue];var Hu=g.unproject(re(It));return oe([Hu.lat+Jt.lat,Hu.lng+Jt.lng])}function zt(h){for(var g=0,S=0,D=0,q=0;q<h.length;q++){var ce=oe(h[q]);g+=ce.lat,S+=ce.lng,D++}return oe([g/D,S/D])}var dr={__proto__:null,clipPolygon:ct,polygonCenter:Rt,centroid:zt};function pr(h,g){if(!g||!h.length)return h.slice();var S=g*g;return h=ks(h,S),h=ys(h,S),h}function Fr(h,g,S){return Math.sqrt(Tl(h,g,S,!0))}function Hn(h,g,S){return Tl(h,g,S)}function ys(h,g){var S=h.length,D=typeof Uint8Array<"u"?Uint8Array:Array,q=new D(S);q[0]=q[S-1]=1,rn(h,q,g,0,S-1);var ce,Ce=[];for(ce=0;ce<S;ce++)q[ce]&&Ce.push(h[ce]);return Ce}function rn(h,g,S,D,q){var ce=0,Ce,Ue,$e;for(Ue=D+1;Ue<=q-1;Ue++)$e=Tl(h[Ue],h[D],h[q],!0),$e>ce&&(Ce=Ue,ce=$e);ce>S&&(g[Ce]=1,rn(h,g,S,D,Ce),rn(h,g,S,Ce,q))}function ks(h,g){for(var S=[h[0]],D=1,q=0,ce=h.length;D<ce;D++)Il(h[D],h[q])>g&&(S.push(h[D]),q=D);return q<ce-1&&S.push(h[ce-1]),S}var ls;function zs(h,g,S,D,q){var ce=D?ls:si(h,S),Ce=si(g,S),Ue,$e,ut;for(ls=Ce;;){if(!(ce|Ce))return[h,g];if(ce&Ce)return!1;Ue=ce||Ce,$e=La(h,g,Ue,S,q),ut=si($e,S),Ue===ce?(h=$e,ce=ut):(g=$e,Ce=ut)}}function La(h,g,S,D,q){var ce=g.x-h.x,Ce=g.y-h.y,Ue=D.min,$e=D.max,ut,It;return S&8?(ut=h.x+ce*($e.y-h.y)/Ce,It=$e.y):S&4?(ut=h.x+ce*(Ue.y-h.y)/Ce,It=Ue.y):S&2?(ut=$e.x,It=h.y+Ce*($e.x-h.x)/ce):S&1&&(ut=Ue.x,It=h.y+Ce*(Ue.x-h.x)/ce),new z(ut,It,q)}function si(h,g){var S=0;return h.x<g.min.x?S|=1:h.x>g.max.x&&(S|=2),h.y<g.min.y?S|=4:h.y>g.max.y&&(S|=8),S}function Il(h,g){var S=g.x-h.x,D=g.y-h.y;return S*S+D*D}function Tl(h,g,S,D){var q=g.x,ce=g.y,Ce=S.x-q,Ue=S.y-ce,$e=Ce*Ce+Ue*Ue,ut;return $e>0&&(ut=((h.x-q)*Ce+(h.y-ce)*Ue)/$e,ut>1?(q=S.x,ce=S.y):ut>0&&(q+=Ce*ut,ce+=Ue*ut)),Ce=h.x-q,Ue=h.y-ce,D?Ce*Ce+Ue*Ue:new z(q,ce)}function ii(h){return!w(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Ol(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ii(h)}function Ec(h,g){var S,D,q,ce,Ce,Ue,$e,ut;if(!h||h.length===0)throw new Error("latlngs not passed");ii(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var It=oe([0,0]),Jt=K(h),Br=Jt.getNorthWest().distanceTo(Jt.getSouthWest())*Jt.getNorthEast().distanceTo(Jt.getNorthWest());Br<1700&&(It=zt(h));var Bi=h.length,Is=[];for(S=0;S<Bi;S++){var Ma=oe(h[S]);Is.push(g.project(oe([Ma.lat-It.lat,Ma.lng-It.lng])))}for(S=0,D=0;S<Bi-1;S++)D+=Is[S].distanceTo(Is[S+1])/2;if(D===0)ut=Is[0];else for(S=0,ce=0;S<Bi-1;S++)if(Ce=Is[S],Ue=Is[S+1],q=Ce.distanceTo(Ue),ce+=q,ce>D){$e=(ce-D)/q,ut=[Ue.x-$e*(Ue.x-Ce.x),Ue.y-$e*(Ue.y-Ce.y)];break}var zi=g.unproject(re(ut));return oe([zi.lat+It.lat,zi.lng+It.lng])}var wd={__proto__:null,simplify:pr,pointToSegmentDistance:Fr,closestPointOnSegment:Hn,clipSegment:zs,_getEdgeIntersection:La,_getBitCode:si,_sqClosestPointOnSegment:Tl,isFlat:ii,_flat:Ol,polylineCenter:Ec},Mo={project:function(h){return new z(h.lng,h.lat)},unproject:function(h){return new ie(h.y,h.x)},bounds:new J([-180,-90],[180,90])},Ps={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var g=Math.PI/180,S=this.R,D=h.lat*g,q=this.R_MINOR/S,ce=Math.sqrt(1-q*q),Ce=ce*Math.sin(D),Ue=Math.tan(Math.PI/4-D/2)/Math.pow((1-Ce)/(1+Ce),ce/2);return D=-S*Math.log(Math.max(Ue,1e-10)),new z(h.lng*g*S,D)},unproject:function(h){for(var g=180/Math.PI,S=this.R,D=this.R_MINOR/S,q=Math.sqrt(1-D*D),ce=Math.exp(-h.y/S),Ce=Math.PI/2-2*Math.atan(ce),Ue=0,$e=.1,ut;Ue<15&&Math.abs($e)>1e-7;Ue++)ut=q*Math.sin(Ce),ut=Math.pow((1-ut)/(1+ut),q/2),$e=Math.PI/2-2*Math.atan(ce*ut)-Ce,Ce+=$e;return new ie(Ce*g,h.x*g/S)}},jd={__proto__:null,LonLat:Mo,Mercator:Ps,SphericalMercator:fe},Nd=i({},pe,{code:"EPSG:3395",projection:Ps,transformation:function(){var h=.5/(Math.PI*Ps.R);return V(h,.5,-h,.5)}()}),Uu=i({},pe,{code:"EPSG:4326",projection:Mo,transformation:V(1/180,1,-1/180,.5)}),bA=i({},he,{projection:Mo,transformation:V(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,g){var S=g.lng-h.lng,D=g.lat-h.lat;return Math.sqrt(S*S+D*D)},infinite:!0});he.Earth=pe,he.EPSG3395=Nd,he.EPSG3857=ve,he.EPSG900913=Se,he.EPSG4326=Uu,he.Simple=bA;var Sn=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var g=h.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var S=this.getEvents();g.on(S,this),this.once("remove",function(){g.off(S,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});jr.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var g=c(h);return this._layers[g]?this:(this._layers[g]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var g=c(h);return this._layers[g]?(this._loaded&&h.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,g){for(var S in this._layers)h.call(g,this._layers[S]);return this},_addLayers:function(h){h=h?w(h)?h:[h]:[];for(var g=0,S=h.length;g<S;g++)this.addLayer(h[g])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var g=c(h);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,g=-1/0,S=this._getZoomSpan();for(var D in this._zoomBoundLayers){var q=this._zoomBoundLayers[D].options;h=q.minZoom===void 0?h:Math.min(h,q.minZoom),g=q.maxZoom===void 0?g:Math.max(g,q.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=h===1/0?void 0:h,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Mi=Sn.extend({initialize:function(h,g){p(this,g),this._layers={};var S,D;if(h)for(S=0,D=h.length;S<D;S++)this.addLayer(h[S])},addLayer:function(h){var g=this.getLayerId(h);return this._layers[g]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var g=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(h){var g=typeof h=="number"?h:this.getLayerId(h);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var g=Array.prototype.slice.call(arguments,1),S,D;for(S in this._layers)D=this._layers[S],D[h]&&D[h].apply(D,g);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,g){for(var S in this._layers)h.call(g,this._layers[S]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),Ru=function(h,g){return new Mi(h,g)},Fa=Mi.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Mi.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Mi.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new Z;for(var g in this._layers){var S=this._layers[g];h.extend(S.getBounds?S.getBounds():S.getLatLng())}return h}}),Ua=function(h,g){return new Fa(h,g)},Ra=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){p(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,g){var S=this._getIconUrl(h);if(!S){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var D=this._createImg(S,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(D,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(D.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),D},_setIconStyles:function(h,g){var S=this.options,D=S[g+"Size"];typeof D=="number"&&(D=[D,D]);var q=re(D),ce=re(g==="shadow"&&S.shadowAnchor||S.iconAnchor||q&&q.divideBy(2,!0));h.className="leaflet-marker-"+g+" "+(S.className||""),ce&&(h.style.marginLeft=-ce.x+"px",h.style.marginTop=-ce.y+"px"),q&&(h.style.width=q.x+"px",h.style.height=q.y+"px")},_createImg:function(h,g){return g=g||document.createElement("img"),g.src=h,g},_getIconUrl:function(h){return St.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function wA(h){return new Ra(h)}var Ll=Ra.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Ll.imagePath!="string"&&(Ll.imagePath=this._detectIconPath()),(this.options.imagePath||Ll.imagePath)+Ra.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var g=function(S,D,q){var ce=D.exec(S);return ce&&ce[q]};return h=g(h,/^url\((['"])?(.+)\1\)$/,2),h&&g(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=mr("div","leaflet-default-icon-path",document.body),g=no(h,"background-image")||no(h,"backgroundImage");if(document.body.removeChild(h),g=this._stripUrl(g),g)return g;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),Fl=ye.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new We(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ur(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&On(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var g=this._marker,S=g._map,D=this._marker.options.autoPanSpeed,q=this._marker.options.autoPanPadding,ce=Uo(g._icon),Ce=S.getPixelBounds(),Ue=S.getPixelOrigin(),$e=H(Ce.min._subtract(Ue).add(q),Ce.max._subtract(Ue).subtract(q));if(!$e.contains(ce)){var ut=re((Math.max($e.max.x,ce.x)-$e.max.x)/(Ce.max.x-$e.max.x)-(Math.min($e.min.x,ce.x)-$e.min.x)/(Ce.min.x-$e.min.x),(Math.max($e.max.y,ce.y)-$e.max.y)/(Ce.max.y-$e.max.y)-(Math.min($e.min.y,ce.y)-$e.min.y)/(Ce.min.y-$e.min.y)).multiplyBy(D);S.panBy(ut,{animate:!1}),this._draggable._newPos._add(ut),this._draggable._startPos._add(ut),Yr(g._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=E(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,h)))},_onDrag:function(h){var g=this._marker,S=g._shadow,D=Uo(g._icon),q=g._map.layerPointToLatLng(D);S&&Yr(S,D),g._latlng=q,h.latlng=q,h.oldLatLng=this._oldLatLng,g.fire("move",h).fire("drag",h)},_onDragEnd:function(h){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),Qo=Sn.extend({options:{icon:new Ll,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,g){p(this,g),this._latlng=oe(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var g=this._latlng;return this._latlng=oe(h),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=h.icon.createIcon(this._icon),D=!1;S!==this._icon&&(this._icon&&this._removeIcon(),D=!0,h.title&&(S.title=h.title),S.tagName==="IMG"&&(S.alt=h.alt||"")),ur(S,g),h.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(S,"focus",this._panOnFocus,this);var q=h.icon.createShadow(this._shadow),ce=!1;q!==this._shadow&&(this._removeShadow(),ce=!0),q&&(ur(q,g),q.alt=""),this._shadow=q,h.opacity<1&&this._updateOpacity(),D&&this.getPane().appendChild(this._icon),this._initInteraction(),q&&ce&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tn(this._icon,"focus",this._panOnFocus,this),en(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&en(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Yr(this._icon,h),this._shadow&&Yr(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(ur(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fl)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fl(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&xs(this._icon,h),this._shadow&&xs(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var g=this.options.icon.options,S=g.iconSize?re(g.iconSize):re(0,0),D=g.iconAnchor?re(g.iconAnchor):re(0,0);h.panInside(this._latlng,{paddingTopLeft:D,paddingBottomRight:S.subtract(D)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ua(h,g){return new Qo(h,g)}var vs=Sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return p(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),oo=vs.extend({options:{fill:!0,radius:10},initialize:function(h,g){p(this,g),this._latlng=oe(h),this._radius=this.options.radius},setLatLng:function(h){var g=this._latlng;return this._latlng=oe(h),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var g=h&&h.radius||this._radius;return vs.prototype.setStyle.call(this,h),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,g=this._radiusY||h,S=this._clickTolerance(),D=[h+S,g+S];this._pxBounds=new J(this._point.subtract(D),this._point.add(D))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ul(h,g){return new oo(h,g)}var $o=oo.extend({initialize:function(h,g,S){if(typeof g=="number"&&(g=i({},S,{radius:g})),p(this,g),this._latlng=oe(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:vs.prototype.setStyle,_project:function(){var h=this._latlng.lng,g=this._latlng.lat,S=this._map,D=S.options.crs;if(D.distance===pe.distance){var q=Math.PI/180,ce=this._mRadius/pe.R/q,Ce=S.project([g+ce,h]),Ue=S.project([g-ce,h]),$e=Ce.add(Ue).divideBy(2),ut=S.unproject($e).lat,It=Math.acos((Math.cos(ce*q)-Math.sin(g*q)*Math.sin(ut*q))/(Math.cos(g*q)*Math.cos(ut*q)))/q;(isNaN(It)||It===0)&&(It=ce/Math.cos(Math.PI/180*g)),this._point=$e.subtract(S.getPixelOrigin()),this._radius=isNaN(It)?0:$e.x-S.project([ut,h-It]).x,this._radiusY=$e.y-Ce.y}else{var Jt=D.unproject(D.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Jt).x}this._updateBounds()}});function jA(h,g,S){return new $o(h,g,S)}var Qi=vs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,g){p(this,g),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var g=1/0,S=null,D=Tl,q,ce,Ce=0,Ue=this._parts.length;Ce<Ue;Ce++)for(var $e=this._parts[Ce],ut=1,It=$e.length;ut<It;ut++){q=$e[ut-1],ce=$e[ut];var Jt=D(h,q,ce,!0);Jt<g&&(g=Jt,S=D(h,q,ce))}return S&&(S.distance=Math.sqrt(g)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ec(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,g){return g=g||this._defaultShape(),h=oe(h),g.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new Z,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return ii(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var g=[],S=ii(h),D=0,q=h.length;D<q;D++)S?(g[D]=oe(h[D]),this._bounds.extend(g[D])):g[D]=this._convertLatLngs(h[D]);return g},_project:function(){var h=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),g=new z(h,h);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(h,g,S){var D=h[0]instanceof ie,q=h.length,ce,Ce;if(D){for(Ce=[],ce=0;ce<q;ce++)Ce[ce]=this._map.latLngToLayerPoint(h[ce]),S.extend(Ce[ce]);g.push(Ce)}else for(ce=0;ce<q;ce++)this._projectLatlngs(h[ce],g,S)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,S,D,q,ce,Ce,Ue,$e;for(S=0,q=0,ce=this._rings.length;S<ce;S++)for($e=this._rings[S],D=0,Ce=$e.length;D<Ce-1;D++)Ue=zs($e[D],$e[D+1],h,D,!0),Ue&&(g[q]=g[q]||[],g[q].push(Ue[0]),(Ue[1]!==$e[D+1]||D===Ce-2)&&(g[q].push(Ue[1]),q++))}},_simplifyPoints:function(){for(var h=this._parts,g=this.options.smoothFactor,S=0,D=h.length;S<D;S++)h[S]=pr(h[S],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,g){var S,D,q,ce,Ce,Ue,$e=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(S=0,ce=this._parts.length;S<ce;S++)for(Ue=this._parts[S],D=0,Ce=Ue.length,q=Ce-1;D<Ce;q=D++)if(!(!g&&D===0)&&Fr(h,Ue[q],Ue[D])<=$e)return!0;return!1}});function cs(h,g){return new Qi(h,g)}Qi._flat=Ol;var Rl=Qi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var g=Qi.prototype._convertLatLngs.call(this,h),S=g.length;return S>=2&&g[0]instanceof ie&&g[0].equals(g[S-1])&&g.pop(),g},_setLatLngs:function(h){Qi.prototype._setLatLngs.call(this,h),ii(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ii(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,g=this.options.weight,S=new z(g,g);if(h=new J(h.min.subtract(S),h.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var D=0,q=this._rings.length,ce;D<q;D++)ce=ct(this._rings[D],h,!0),ce.length&&this._parts.push(ce)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var g=!1,S,D,q,ce,Ce,Ue,$e,ut;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(ce=0,$e=this._parts.length;ce<$e;ce++)for(S=this._parts[ce],Ce=0,ut=S.length,Ue=ut-1;Ce<ut;Ue=Ce++)D=S[Ce],q=S[Ue],D.y>h.y!=q.y>h.y&&h.x<(q.x-D.x)*(h.y-D.y)/(q.y-D.y)+D.x&&(g=!g);return g||Qi.prototype._containsPoint.call(this,h,!0)}});function Ho(h,g){return new Rl(h,g)}var Vs=Fa.extend({initialize:function(h,g){p(this,g),this._layers={},h&&this.addData(h)},addData:function(h){var g=w(h)?h:h.features,S,D,q;if(g){for(S=0,D=g.length;S<D;S++)q=g[S],(q.geometries||q.geometry||q.features||q.coordinates)&&this.addData(q);return this}var ce=this.options;if(ce.filter&&!ce.filter(h))return this;var Ce=kc(h,ce);return Ce?(Ce.feature=Vo(h),Ce.defaultOptions=Ce.options,this.resetStyle(Ce),ce.onEachFeature&&ce.onEachFeature(h,Ce),this.addLayer(Ce)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(g){this._setLayerStyle(g,h)},this)},_setLayerStyle:function(h,g){h.setStyle&&(typeof g=="function"&&(g=g(h.feature)),h.setStyle(g))}});function kc(h,g){var S=h.type==="Feature"?h.geometry:h,D=S?S.coordinates:null,q=[],ce=g&&g.pointToLayer,Ce=g&&g.coordsToLatLng||_d,Ue,$e,ut,It;if(!D&&!S)return null;switch(S.type){case"Point":return Ue=Ce(D),Du(ce,h,Ue,g);case"MultiPoint":for(ut=0,It=D.length;ut<It;ut++)Ue=Ce(D[ut]),q.push(Du(ce,h,Ue,g));return new Fa(q);case"LineString":case"MultiLineString":return $e=Pc(D,S.type==="LineString"?0:1,Ce),new Qi($e,g);case"Polygon":case"MultiPolygon":return $e=Pc(D,S.type==="Polygon"?1:2,Ce),new Rl($e,g);case"GeometryCollection":for(ut=0,It=S.geometries.length;ut<It;ut++){var Jt=kc({geometry:S.geometries[ut],type:"Feature",properties:h.properties},g);Jt&&q.push(Jt)}return new Fa(q);case"FeatureCollection":for(ut=0,It=S.features.length;ut<It;ut++){var Br=kc(S.features[ut],g);Br&&q.push(Br)}return new Fa(q);default:throw new Error("Invalid GeoJSON object.")}}function Du(h,g,S,D){return h?h(g,S):new Qo(S,D&&D.markersInheritOptions&&D)}function _d(h){return new ie(h[1],h[0],h[2])}function Pc(h,g,S){for(var D=[],q=0,ce=h.length,Ce;q<ce;q++)Ce=g?Pc(h[q],g-1,S):(S||_d)(h[q]),D.push(Ce);return D}function zo(h,g){return h=oe(h),h.alt!==void 0?[f(h.lng,g),f(h.lat,g),f(h.alt,g)]:[f(h.lng,g),f(h.lat,g)]}function lo(h,g,S,D){for(var q=[],ce=0,Ce=h.length;ce<Ce;ce++)q.push(g?lo(h[ce],ii(h[ce])?0:g-1,S,D):zo(h[ce],D));return!g&&S&&q.length>0&&q.push(q[0].slice()),q}function ha(h,g){return h.feature?i({},h.feature,{geometry:g}):Vo(g)}function Vo(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Ko={toGeoJSON:function(h){return ha(this,{type:"Point",coordinates:zo(this.getLatLng(),h)})}};Qo.include(Ko),$o.include(Ko),oo.include(Ko),Qi.include({toGeoJSON:function(h){var g=!ii(this._latlngs),S=lo(this._latlngs,g?1:0,!1,h);return ha(this,{type:(g?"Multi":"")+"LineString",coordinates:S})}}),Rl.include({toGeoJSON:function(h){var g=!ii(this._latlngs),S=g&&!ii(this._latlngs[0]),D=lo(this._latlngs,S?2:g?1:0,!0,h);return g||(D=[D]),ha(this,{type:(S?"Multi":"")+"Polygon",coordinates:D})}}),Mi.include({toMultiPoint:function(h){var g=[];return this.eachLayer(function(S){g.push(S.toGeoJSON(h).geometry.coordinates)}),ha(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(h){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(h);var S=g==="GeometryCollection",D=[];return this.eachLayer(function(q){if(q.toGeoJSON){var ce=q.toGeoJSON(h);if(S)D.push(ce.geometry);else{var Ce=Vo(ce);Ce.type==="FeatureCollection"?D.push.apply(D,Ce.features):D.push(Ce)}}}),S?ha(this,{geometries:D,type:"GeometryCollection"}):{type:"FeatureCollection",features:D}}});function Ic(h,g){return new Vs(h,g)}var Da=Ic,Aa=Sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,g,S){this._url=h,this._bounds=K(g),p(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ur(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){en(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Bn(this._image),this},bringToBack:function(){return this._map&&jl(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=K(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",g=this._image=h?this._url:mr("img");if(ur(g,"leaflet-image-layer"),this._zoomAnimated&&ur(g,"leaflet-zoom-animated"),this.options.className&&ur(g,this.options.className),g.onselectstart=A,g.onmousemove=A,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(h){var g=this._map.getZoomScale(h.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;Nl(this._image,S,g)},_reset:function(){var h=this._image,g=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=g.getSize();Yr(h,g.min),h.style.width=S.x+"px",h.style.height=S.y+"px"},_updateOpacity:function(){xs(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Kr=function(h,g,S){return new Aa(h,g,S)},nn=Aa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",g=this._image=h?this._url:mr("video");if(ur(g,"leaflet-image-layer"),this._zoomAnimated&&ur(g,"leaflet-zoom-animated"),this.options.className&&ur(g,this.options.className),g.onselectstart=A,g.onmousemove=A,g.onloadeddata=o(this.fire,this,"load"),h){for(var S=g.getElementsByTagName("source"),D=[],q=0;q<S.length;q++)D.push(S[q].src);this._url=S.length>0?D:[g.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var ce=0;ce<this._url.length;ce++){var Ce=mr("source");Ce.src=this._url[ce],g.appendChild(Ce)}}});function ds(h,g,S){return new nn(h,g,S)}var bs=Aa.extend({_initImage:function(){var h=this._image=this._url;ur(h,"leaflet-image-layer"),this._zoomAnimated&&ur(h,"leaflet-zoom-animated"),this.options.className&&ur(h,this.options.className),h.onselectstart=A,h.onmousemove=A}});function Dl(h,g,S){return new bs(h,g,S)}var $i=Sn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,g){h&&(h instanceof ie||w(h))?(this._latlng=oe(h),p(this,g)):(p(this,h),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&xs(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&xs(this._container,1),this.bringToFront(),this.options.interactive&&(ur(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(xs(this._container,0),this._removeTimeout=setTimeout(o(en,void 0,this._container),200)):en(this._container),this.options.interactive&&(On(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=oe(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bn(this._container),this},bringToBack:function(){return this._map&&jl(this._container),this},_prepareOpen:function(h){var g=this._source;if(!g._map)return!1;if(g instanceof Fa){g=null;var S=this._source._layers;for(var D in S)if(S[D]._map){g=S[D];break}if(!g)return!1;this._source=g}if(!h)if(g.getCenter)h=g.getCenter();else if(g.getLatLng)h=g.getLatLng();else if(g.getBounds)h=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")h.innerHTML=g;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),g=re(this.options.offset),S=this._getAnchor();this._zoomAnimated?Yr(this._container,h.add(S)):g=g.add(h).add(S);var D=this._containerBottom=-g.y,q=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=D+"px",this._container.style.left=q+"px"}},_getAnchor:function(){return[0,0]}});jr.include({_initOverlay:function(h,g,S,D){var q=g;return q instanceof h||(q=new h(D).setContent(g)),S&&q.setLatLng(S),q}}),Sn.include({_initOverlay:function(h,g,S,D){var q=S;return q instanceof h?(p(q,D),q._source=this):(q=g&&!D?g:new h(D,this),q.setContent(S)),q}});var Ml=$i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,$i.prototype.openOn.call(this,h)},onAdd:function(h){$i.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vs||this._source.on("preclick",Cl))},onRemove:function(h){$i.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vs||this._source.off("preclick",Cl))},getEvents:function(){var h=$i.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",g=this._container=mr("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=mr("div",h+"-content-wrapper",g);if(this._contentNode=mr("div",h+"-content",S),Bl(g),Sc(this._contentNode),Nt(g,"contextmenu",Cl),this._tipContainer=mr("div",h+"-tip-container",g),this._tip=mr("div",h+"-tip",this._tipContainer),this.options.closeButton){var D=this._closeButton=mr("a",h+"-close-button",g);D.setAttribute("role","button"),D.setAttribute("aria-label","Close popup"),D.href="#close",D.innerHTML='<span aria-hidden="true">&#215;</span>',Nt(D,"click",function(q){$n(q),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,g=h.style;g.width="",g.whiteSpace="nowrap";var S=h.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),g.width=S+1+"px",g.whiteSpace="",g.height="";var D=h.offsetHeight,q=this.options.maxHeight,ce="leaflet-popup-scrolled";q&&D>q?(g.height=q+"px",ur(h,ce)):On(h,ce),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),S=this._getAnchor();Yr(this._container,g.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,g=parseInt(no(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+g,D=this._containerWidth,q=new z(this._containerLeft,-S-this._containerBottom);q._add(Uo(this._container));var ce=h.layerPointToContainerPoint(q),Ce=re(this.options.autoPanPadding),Ue=re(this.options.autoPanPaddingTopLeft||Ce),$e=re(this.options.autoPanPaddingBottomRight||Ce),ut=h.getSize(),It=0,Jt=0;ce.x+D+$e.x>ut.x&&(It=ce.x+D-ut.x+$e.x),ce.x-It-Ue.x<0&&(It=ce.x-Ue.x),ce.y+S+$e.y>ut.y&&(Jt=ce.y+S-ut.y+$e.y),ce.y-Jt-Ue.y<0&&(Jt=ce.y-Ue.y),(It||Jt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([It,Jt]))}},_getAnchor:function(){return re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gm=function(h,g){return new Ml(h,g)};jr.mergeOptions({closePopupOnClick:!0}),jr.include({openPopup:function(h,g,S){return this._initOverlay(Ml,h,g,S).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Sn.include({bindPopup:function(h,g){return this._popup=this._initOverlay(Ml,this._popup,h,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Fa||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){Sl(h);var g=h.layer||h.target;if(this._popup._source===g&&!(g instanceof vs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=g,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var NA=$i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){$i.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){$i.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=$i.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",g=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=mr("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var g,S,D=this._map,q=this._container,ce=D.latLngToContainerPoint(D.getCenter()),Ce=D.layerPointToContainerPoint(h),Ue=this.options.direction,$e=q.offsetWidth,ut=q.offsetHeight,It=re(this.options.offset),Jt=this._getAnchor();Ue==="top"?(g=$e/2,S=ut):Ue==="bottom"?(g=$e/2,S=0):Ue==="center"?(g=$e/2,S=ut/2):Ue==="right"?(g=0,S=ut/2):Ue==="left"?(g=$e,S=ut/2):Ce.x<ce.x?(Ue="right",g=0,S=ut/2):(Ue="left",g=$e+(It.x+Jt.x)*2,S=ut/2),h=h.subtract(re(g,S,!0)).add(It).add(Jt),On(q,"leaflet-tooltip-right"),On(q,"leaflet-tooltip-left"),On(q,"leaflet-tooltip-top"),On(q,"leaflet-tooltip-bottom"),ur(q,"leaflet-tooltip-"+Ue),Yr(q,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&xs(this._container,h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(g)},_getAnchor:function(){return re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tb=function(h,g){return new NA(h,g)};jr.include({openTooltip:function(h,g,S){return this._initOverlay(NA,h,g,S).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Sn.include({bindTooltip:function(h,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(NA,this._tooltip,h,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var g=h?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[g](S),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Fa||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var g=typeof h.getElement=="function"&&h.getElement();g&&(Nt(g,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Nt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var g=typeof h.getElement=="function"&&h.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var g=h.latlng,S,D;this._tooltip.options.sticky&&h.originalEvent&&(S=this._map.mouseEventToContainerPoint(h.originalEvent),D=this._map.containerPointToLayerPoint(S),g=this._map.layerPointToLatLng(D)),this._tooltip.setLatLng(g)}});var h0=Ra.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var g=h&&h.tagName==="DIV"?h:document.createElement("div"),S=this.options;if(S.html instanceof Element?(ku(g),g.appendChild(S.html)):g.innerHTML=S.html!==!1?S.html:"",S.bgPos){var D=re(S.bgPos);g.style.backgroundPosition=-D.x+"px "+-D.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function rb(h){return new h0(h)}Ra.Default=Ll;var Mu=Sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:St.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){p(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),en(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(jl(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof z?h:new z(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var g=this.getPane().children,S=-h(-1/0,1/0),D=0,q=g.length,ce;D<q;D++)ce=g[D].style.zIndex,g[D]!==this._container&&ce&&(S=h(S,+ce));isFinite(S)&&(this.options.zIndex=S+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!St.ielt9){xs(this._container,this.options.opacity);var h=+new Date,g=!1,S=!1;for(var D in this._tiles){var q=this._tiles[D];if(!(!q.current||!q.loaded)){var ce=Math.min(1,(h-q.loaded)/200);xs(q.el,ce),ce<1?g=!0:(q.active?S=!0:this._onOpaqueTile(q),q.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),g&&(k(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=mr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,g=this.options.maxZoom;if(h!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===h?(this._levels[S].el.style.zIndex=g-Math.abs(h-S),this._onUpdateLevel(S)):(en(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var D=this._levels[h],q=this._map;return D||(D=this._levels[h]={},D.el=mr("div","leaflet-tile-container leaflet-zoom-animated",this._container),D.el.style.zIndex=g,D.origin=q.project(q.unproject(q.getPixelOrigin()),h).round(),D.zoom=h,this._setZoomTransform(D,q.getCenter(),q.getZoom()),A(D.el.offsetWidth),this._onCreateLevel(D)),this._level=D,D}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var h,g,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)g=this._tiles[h],g.retain=g.current;for(h in this._tiles)if(g=this._tiles[h],g.current&&!g.active){var D=g.coords;this._retainParent(D.x,D.y,D.z,D.z-5)||this._retainChildren(D.x,D.y,D.z,D.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var g in this._tiles)this._tiles[g].coords.z===h&&this._removeTile(g)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)en(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,g,S,D){var q=Math.floor(h/2),ce=Math.floor(g/2),Ce=S-1,Ue=new z(+q,+ce);Ue.z=+Ce;var $e=this._tileCoordsToKey(Ue),ut=this._tiles[$e];return ut&&ut.active?(ut.retain=!0,!0):(ut&&ut.loaded&&(ut.retain=!0),Ce>D?this._retainParent(q,ce,Ce,D):!1)},_retainChildren:function(h,g,S,D){for(var q=2*h;q<2*h+2;q++)for(var ce=2*g;ce<2*g+2;ce++){var Ce=new z(q,ce);Ce.z=S+1;var Ue=this._tileCoordsToKey(Ce),$e=this._tiles[Ue];if($e&&$e.active){$e.retain=!0;continue}else $e&&$e.loaded&&($e.retain=!0);S+1<D&&this._retainChildren(q,ce,S+1,D)}},_resetView:function(h){var g=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var g=this.options;return g.minNativeZoom!==void 0&&h<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<h?g.maxNativeZoom:h},_setView:function(h,g,S,D){var q=Math.round(g);this.options.maxZoom!==void 0&&q>this.options.maxZoom||this.options.minZoom!==void 0&&q<this.options.minZoom?q=void 0:q=this._clampZoom(q);var ce=this.options.updateWhenZooming&&q!==this._tileZoom;(!D||ce)&&(this._tileZoom=q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),q!==void 0&&this._update(h),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(h,g)},_setZoomTransforms:function(h,g){for(var S in this._levels)this._setZoomTransform(this._levels[S],h,g)},_setZoomTransform:function(h,g,S){var D=this._map.getZoomScale(S,h.zoom),q=h.origin.multiplyBy(D).subtract(this._map._getNewPixelOrigin(g,S)).round();St.any3d?Nl(h.el,q,D):Yr(h.el,q)},_resetGrid:function(){var h=this._map,g=h.options.crs,S=this._tileSize=this.getTileSize(),D=this._tileZoom,q=this._map.getPixelWorldBounds(this._tileZoom);q&&(this._globalTileRange=this._pxBoundsToTileRange(q)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,g.wrapLng[0]],D).x/S.x),Math.ceil(h.project([0,g.wrapLng[1]],D).x/S.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([g.wrapLat[0],0],D).y/S.x),Math.ceil(h.project([g.wrapLat[1],0],D).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var g=this._map,S=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),D=g.getZoomScale(S,this._tileZoom),q=g.project(h,this._tileZoom).floor(),ce=g.getSize().divideBy(D*2);return new J(q.subtract(ce),q.add(ce))},_update:function(h){var g=this._map;if(g){var S=this._clampZoom(g.getZoom());if(h===void 0&&(h=g.getCenter()),this._tileZoom!==void 0){var D=this._getTiledPixelBounds(h),q=this._pxBoundsToTileRange(D),ce=q.getCenter(),Ce=[],Ue=this.options.keepBuffer,$e=new J(q.getBottomLeft().subtract([Ue,-Ue]),q.getTopRight().add([Ue,-Ue]));if(!(isFinite(q.min.x)&&isFinite(q.min.y)&&isFinite(q.max.x)&&isFinite(q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ut in this._tiles){var It=this._tiles[ut].coords;(It.z!==this._tileZoom||!$e.contains(new z(It.x,It.y)))&&(this._tiles[ut].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(h,S);return}for(var Jt=q.min.y;Jt<=q.max.y;Jt++)for(var Br=q.min.x;Br<=q.max.x;Br++){var Bi=new z(Br,Jt);if(Bi.z=this._tileZoom,!!this._isValidTile(Bi)){var Is=this._tiles[this._tileCoordsToKey(Bi)];Is?Is.current=!0:Ce.push(Bi)}}if(Ce.sort(function(zi,Hu){return zi.distanceTo(ce)-Hu.distanceTo(ce)}),Ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ma=document.createDocumentFragment();for(Br=0;Br<Ce.length;Br++)this._addTile(Ce[Br],Ma);this._level.el.appendChild(Ma)}}}},_isValidTile:function(h){var g=this._map.options.crs;if(!g.infinite){var S=this._globalTileRange;if(!g.wrapLng&&(h.x<S.min.x||h.x>S.max.x)||!g.wrapLat&&(h.y<S.min.y||h.y>S.max.y))return!1}if(!this.options.bounds)return!0;var D=this._tileCoordsToBounds(h);return K(this.options.bounds).overlaps(D)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var g=this._map,S=this.getTileSize(),D=h.scaleBy(S),q=D.add(S),ce=g.unproject(D,h.z),Ce=g.unproject(q,h.z);return[ce,Ce]},_tileCoordsToBounds:function(h){var g=this._tileCoordsToNwSe(h),S=new Z(g[0],g[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var g=h.split(":"),S=new z(+g[0],+g[1]);return S.z=+g[2],S},_removeTile:function(h){var g=this._tiles[h];g&&(en(g.el),delete this._tiles[h],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){ur(h,"leaflet-tile");var g=this.getTileSize();h.style.width=g.x+"px",h.style.height=g.y+"px",h.onselectstart=A,h.onmousemove=A,St.ielt9&&this.options.opacity<1&&xs(h,this.options.opacity)},_addTile:function(h,g){var S=this._getTilePos(h),D=this._tileCoordsToKey(h),q=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(q),this.createTile.length<2&&E(o(this._tileReady,this,h,null,q)),Yr(q,S),this._tiles[D]={el:q,coords:h,current:!0},g.appendChild(q),this.fire("tileloadstart",{tile:q,coords:h})},_tileReady:function(h,g,S){g&&this.fire("tileerror",{error:g,tile:S,coords:h});var D=this._tileCoordsToKey(h);S=this._tiles[D],S&&(S.loaded=+new Date,this._map._fadeAnimated?(xs(S.el,0),k(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),g||(ur(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),St.ielt9||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var g=new z(this._wrapX?u(h.x,this._wrapX):h.x,this._wrapY?u(h.y,this._wrapY):h.y);return g.z=h.z,g},_pxBoundsToTileRange:function(h){var g=this.getTileSize();return new J(h.min.unscaleBy(g).floor(),h.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function nb(h){return new Mu(h)}var Wo=Mu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,g){this._url=h,g=p(this,g),g.detectRetina&&St.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,g){return this._url===h&&g===void 0&&(g=!0),this._url=h,g||this.redraw(),this},createTile:function(h,g){var S=document.createElement("img");return Nt(S,"load",o(this._tileOnLoad,this,g,S)),Nt(S,"error",o(this._tileOnError,this,g,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(h),S},getTileUrl:function(h){var g={r:St.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-h.y;this.options.tms&&(g.y=S),g["-y"]=S}return b(this._url,i(g,this.options))},_tileOnLoad:function(h,g){St.ielt9?setTimeout(o(h,this,null,g),0):h(null,g)},_tileOnError:function(h,g,S){var D=this.options.errorTileUrl;D&&g.getAttribute("src")!==D&&(g.src=D),h(S,g)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,g=this.options.maxZoom,S=this.options.zoomReverse,D=this.options.zoomOffset;return S&&(h=g-h),h+D},_getSubdomain:function(h){var g=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var h,g;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(g=this._tiles[h].el,g.onload=A,g.onerror=A,!g.complete)){g.src=N;var S=this._tiles[h].coords;en(g),delete this._tiles[h],this.fire("tileabort",{tile:g,coords:S})}},_removeTile:function(h){var g=this._tiles[h];if(g)return g.el.setAttribute("src",N),Mu.prototype._removeTile.call(this,h)},_tileReady:function(h,g,S){if(!(!this._map||S&&S.getAttribute("src")===N))return Mu.prototype._tileReady.call(this,h,g,S)}});function A0(h,g){return new Wo(h,g)}var f0=Wo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,g){this._url=h;var S=i({},this.defaultWmsParams);for(var D in g)D in this.options||(S[D]=g[D]);g=p(this,g);var q=g.detectRetina&&St.retina?2:1,ce=this.getTileSize();S.width=ce.x*q,S.height=ce.y*q,this.wmsParams=S},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,Wo.prototype.onAdd.call(this,h)},getTileUrl:function(h){var g=this._tileCoordsToNwSe(h),S=this._crs,D=H(S.project(g[0]),S.project(g[1])),q=D.min,ce=D.max,Ce=(this._wmsVersion>=1.3&&this._crs===Uu?[q.y,q.x,ce.y,ce.x]:[q.x,q.y,ce.x,ce.y]).join(","),Ue=Wo.prototype.getTileUrl.call(this,h);return Ue+v(this.wmsParams,Ue,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ce},setParams:function(h,g){return i(this.wmsParams,h),g||this.redraw(),this}});function sb(h,g){return new f0(h,g)}Wo.WMS=f0,A0.wms=sb;var Go=Sn.extend({options:{padding:.1},initialize:function(h){p(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ur(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,g){var S=this._map.getZoomScale(g,this._zoom),D=this._map.getSize().multiplyBy(.5+this.options.padding),q=this._map.project(this._center,g),ce=D.multiplyBy(-S).add(q).subtract(this._map._getNewPixelOrigin(h,g));St.any3d?Nl(this._container,ce,S):Yr(this._container,ce)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,g=this._map.getSize(),S=this._map.containerPointToLayerPoint(g.multiplyBy(-h)).round();this._bounds=new J(S,S.add(g.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),m0=Go.extend({options:{tolerance:0},getEvents:function(){var h=Go.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Go.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Nt(h,"mousemove",this._onMouseMove,this),Nt(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Nt(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,en(this._container),tn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var g in this._layers)h=this._layers[g],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Go.prototype._update.call(this);var h=this._bounds,g=this._container,S=h.getSize(),D=St.retina?2:1;Yr(g,h.min),g.width=D*S.x,g.height=D*S.y,g.style.width=S.x+"px",g.style.height=S.y+"px",St.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Go.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var g=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var g=h._order,S=g.next,D=g.prev;S?S.prev=D:this._drawLast=D,D?D.next=S:this._drawFirst=S,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var g=h.options.dashArray.split(/[, ]+/),S=[],D,q;for(q=0;q<g.length;q++){if(D=Number(g[q]),isNaN(D))return;S.push(D)}h.options._dashArray=S}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var g=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(h._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(h._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var g=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,g=this._redrawBounds;if(this._ctx.save(),g){var S=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var D=this._drawFirst;D;D=D.next)h=D.layer,(!g||h._pxBounds&&h._pxBounds.intersects(g))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,g){if(this._drawing){var S,D,q,ce,Ce=h._parts,Ue=Ce.length,$e=this._ctx;if(Ue){for($e.beginPath(),S=0;S<Ue;S++){for(D=0,q=Ce[S].length;D<q;D++)ce=Ce[S][D],$e[D?"lineTo":"moveTo"](ce.x,ce.y);g&&$e.closePath()}this._fillStroke($e,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var g=h._point,S=this._ctx,D=Math.max(Math.round(h._radius),1),q=(Math.max(Math.round(h._radiusY),1)||D)/D;q!==1&&(S.save(),S.scale(1,q)),S.beginPath(),S.arc(g.x,g.y/q,D,0,Math.PI*2,!1),q!==1&&S.restore(),this._fillStroke(S,h)}},_fillStroke:function(h,g){var S=g.options;S.fill&&(h.globalAlpha=S.fillOpacity,h.fillStyle=S.fillColor||S.color,h.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(h.setLineDash&&h.setLineDash(g.options&&g.options._dashArray||[]),h.globalAlpha=S.opacity,h.lineWidth=S.weight,h.strokeStyle=S.color,h.lineCap=S.lineCap,h.lineJoin=S.lineJoin,h.stroke())},_onClick:function(h){for(var g=this._map.mouseEventToLayerPoint(h),S,D,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(g)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(S))&&(D=S);this._fireEvent(D?[D]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,g)}},_handleMouseOut:function(h){var g=this._hoveredLayer;g&&(On(this._container,"leaflet-interactive"),this._fireEvent([g],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,g){if(!this._mouseHoverThrottled){for(var S,D,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(g)&&(D=S);D!==this._hoveredLayer&&(this._handleMouseOut(h),D&&(ur(this._container,"leaflet-interactive"),this._fireEvent([D],h,"mouseover"),this._hoveredLayer=D)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,g,S){this._map._fireDOMEvent(g,S||g.type,h)},_bringToFront:function(h){var g=h._order;if(g){var S=g.next,D=g.prev;if(S)S.prev=D;else return;D?D.next=S:S&&(this._drawFirst=S),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(h)}},_bringToBack:function(h){var g=h._order;if(g){var S=g.next,D=g.prev;if(D)D.next=S;else return;S?S.prev=D:D&&(this._drawLast=D),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(h)}}});function p0(h){return St.canvas?new m0(h):null}var Qu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ib={_initContainer:function(){this._container=mr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Go.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var g=h._container=Qu("shape");ur(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",h._path=Qu("path"),g.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var g=h._container;this._container.appendChild(g),h.options.interactive&&h.addInteractiveTarget(g)},_removePath:function(h){var g=h._container;en(g),h.removeInteractiveTarget(g),delete this._layers[c(h)]},_updateStyle:function(h){var g=h._stroke,S=h._fill,D=h.options,q=h._container;q.stroked=!!D.stroke,q.filled=!!D.fill,D.stroke?(g||(g=h._stroke=Qu("stroke")),q.appendChild(g),g.weight=D.weight+"px",g.color=D.color,g.opacity=D.opacity,D.dashArray?g.dashStyle=w(D.dashArray)?D.dashArray.join(" "):D.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=D.lineCap.replace("butt","flat"),g.joinstyle=D.lineJoin):g&&(q.removeChild(g),h._stroke=null),D.fill?(S||(S=h._fill=Qu("fill")),q.appendChild(S),S.color=D.fillColor||D.color,S.opacity=D.fillOpacity):S&&(q.removeChild(S),h._fill=null)},_updateCircle:function(h){var g=h._point.round(),S=Math.round(h._radius),D=Math.round(h._radiusY||S);this._setPath(h,h._empty()?"M0 0":"AL "+g.x+","+g.y+" "+S+","+D+" 0,"+65535*360)},_setPath:function(h,g){h._path.v=g},_bringToFront:function(h){Bn(h._container)},_bringToBack:function(h){jl(h._container)}},$u=St.vml?Qu:ne,Tc=Go.extend({_initContainer:function(){this._container=$u("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$u("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){en(this._container),tn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Go.prototype._update.call(this);var h=this._bounds,g=h.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,S.setAttribute("width",g.x),S.setAttribute("height",g.y)),Yr(S,h.min),S.setAttribute("viewBox",[h.min.x,h.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(h){var g=h._path=$u("path");h.options.className&&ur(g,h.options.className),h.options.interactive&&ur(g,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){en(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var g=h._path,S=h.options;g&&(S.stroke?(g.setAttribute("stroke",S.color),g.setAttribute("stroke-opacity",S.opacity),g.setAttribute("stroke-width",S.weight),g.setAttribute("stroke-linecap",S.lineCap),g.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?g.setAttribute("stroke-dasharray",S.dashArray):g.removeAttribute("stroke-dasharray"),S.dashOffset?g.setAttribute("stroke-dashoffset",S.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),S.fill?(g.setAttribute("fill",S.fillColor||S.color),g.setAttribute("fill-opacity",S.fillOpacity),g.setAttribute("fill-rule",S.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(h,g){this._setPath(h,xe(h._parts,g))},_updateCircle:function(h){var g=h._point,S=Math.max(Math.round(h._radius),1),D=Math.max(Math.round(h._radiusY),1)||S,q="a"+S+","+D+" 0 1,0 ",ce=h._empty()?"M0 0":"M"+(g.x-S)+","+g.y+q+S*2+",0 "+q+-S*2+",0 ";this._setPath(h,ce)},_setPath:function(h,g){h._path.setAttribute("d",g)},_bringToFront:function(h){Bn(h._path)},_bringToBack:function(h){jl(h._path)}});St.vml&&Tc.include(ib);function Hi(h){return St.svg||St.vml?new Tc(h):null}jr.include({getRenderer:function(h){var g=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var g=this._paneRenderers[h];return g===void 0&&(g=this._createRenderer({pane:h}),this._paneRenderers[h]=g),g},_createRenderer:function(h){return this.options.preferCanvas&&p0(h)||Hi(h)}});var fa=Rl.extend({initialize:function(h,g){Rl.prototype.initialize.call(this,this._boundsToLatLngs(h),g)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=K(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function xm(h,g){return new fa(h,g)}Tc.create=$u,Tc.pointsToPath=xe,Vs.geometryToLayer=kc,Vs.coordsToLatLng=_d,Vs.coordsToLatLngs=Pc,Vs.latLngToCoords=zo,Vs.latLngsToCoords=lo,Vs.getFeature=ha,Vs.asFeature=Vo,jr.mergeOptions({boxZoom:!0});var _A=ye.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){en(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_c(),fA(),this._startPoint=this._map.mouseEventToContainerPoint(h),Nt(document,{contextmenu:Sl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=mr("div","leaflet-zoom-box",this._container),ur(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var g=new J(this._point,this._startPoint),S=g.getSize();Yr(this._box,g.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(en(this._box),On(this._container,"leaflet-crosshair")),Ro(),mA(),tn(document,{contextmenu:Sl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});jr.addInitHook("addHandler","boxZoom",_A),jr.mergeOptions({doubleClickZoom:!0});var g0=ye.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var g=this._map,S=g.getZoom(),D=g.options.zoomDelta,q=h.originalEvent.shiftKey?S-D:S+D;g.options.doubleClickZoom==="center"?g.setZoom(q):g.setZoomAround(h.containerPoint,q)}});jr.addInitHook("addHandler","doubleClickZoom",g0),jr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var CA=ye.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new We(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}ur(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){On(this._map._container,"leaflet-grab"),On(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=K(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var g=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(g),this._prunePositions(g)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,g){return h-(h-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;h.x<g.min.x&&(h.x=this._viscousLimit(h.x,g.min.x)),h.y<g.min.y&&(h.y=this._viscousLimit(h.y,g.min.y)),h.x>g.max.x&&(h.x=this._viscousLimit(h.x,g.max.x)),h.y>g.max.y&&(h.y=this._viscousLimit(h.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,g=Math.round(h/2),S=this._initialWorldOffset,D=this._draggable._newPos.x,q=(D-g+S)%h+g-S,ce=(D+g+S)%h-g-S,Ce=Math.abs(q+S)<Math.abs(ce+S)?q:ce;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ce},_onDragEnd:function(h){var g=this._map,S=g.options,D=!S.inertia||h.noInertia||this._times.length<2;if(g.fire("dragend",h),D)g.fire("moveend");else{this._prunePositions(+new Date);var q=this._lastPos.subtract(this._positions[0]),ce=(this._lastTime-this._times[0])/1e3,Ce=S.easeLinearity,Ue=q.multiplyBy(Ce/ce),$e=Ue.distanceTo([0,0]),ut=Math.min(S.inertiaMaxSpeed,$e),It=Ue.multiplyBy(ut/$e),Jt=ut/(S.inertiaDeceleration*Ce),Br=It.multiplyBy(-Jt/2).round();!Br.x&&!Br.y?g.fire("moveend"):(Br=g._limitOffset(Br,g.options.maxBounds),E(function(){g.panBy(Br,{duration:Jt,easeLinearity:Ce,noMoveStart:!0,animate:!0})}))}}});jr.addInitHook("addHandler","dragging",CA),jr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var BA=ye.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Nt(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,g=document.documentElement,S=h.scrollTop||g.scrollTop,D=h.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(D,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var g=this._panKeys={},S=this.keyCodes,D,q;for(D=0,q=S.left.length;D<q;D++)g[S.left[D]]=[-1*h,0];for(D=0,q=S.right.length;D<q;D++)g[S.right[D]]=[h,0];for(D=0,q=S.down.length;D<q;D++)g[S.down[D]]=[0,h];for(D=0,q=S.up.length;D<q;D++)g[S.up[D]]=[0,-1*h]},_setZoomDelta:function(h){var g=this._zoomKeys={},S=this.keyCodes,D,q;for(D=0,q=S.zoomIn.length;D<q;D++)g[S.zoomIn[D]]=h;for(D=0,q=S.zoomOut.length;D<q;D++)g[S.zoomOut[D]]=-h},_addHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var g=h.keyCode,S=this._map,D;if(g in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(D=this._panKeys[g],h.shiftKey&&(D=re(D).multiplyBy(3)),S.options.maxBounds&&(D=S._limitOffset(re(D),S.options.maxBounds)),S.options.worldCopyJump){var q=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(D)));S.panTo(q)}else S.panBy(D)}else if(g in this._zoomKeys)S.setZoom(S.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;Sl(h)}}});jr.addInitHook("addHandler","keyboard",BA),jr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ym=ye.extend({addHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var g=Ou(h),S=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var D=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),D),Sl(h)},_performZoom:function(){var h=this._map,g=h.getZoom(),S=this._map.options.zoomSnap||0;h._stop();var D=this._delta/(this._map.options.wheelPxPerZoomLevel*4),q=4*Math.log(2/(1+Math.exp(-Math.abs(D))))/Math.LN2,ce=S?Math.ceil(q/S)*S:q,Ce=h._limitZoom(g+(this._delta>0?ce:-ce))-g;this._delta=0,this._startTime=null,Ce&&(h.options.scrollWheelZoom==="center"?h.setZoom(g+Ce):h.setZoomAround(this._lastMousePos,g+Ce))}});jr.addInitHook("addHandler","scrollWheelZoom",ym);var ab=600;jr.mergeOptions({tapHold:St.touchNative&&St.safari&&St.mobile,tapTolerance:15});var vm=ye.extend({addHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var g=h.touches[0];this._startPos=this._newPos=new z(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Nt(document,"touchend",$n),Nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),ab),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){tn(document,"touchend",$n),tn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),tn(document,"touchend touchcancel contextmenu",this._cancel,this),tn(document,"touchmove",this._onMove,this)},_onMove:function(h){var g=h.touches[0];this._newPos=new z(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,g){var S=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});S._simulated=!0,g.target.dispatchEvent(S)}});jr.addInitHook("addHandler","tapHold",vm),jr.mergeOptions({touchZoom:St.touch,bounceAtZoomLimits:!0});var bm=ye.extend({addHooks:function(){ur(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){On(this._map._container,"leaflet-touch-zoom"),tn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var g=this._map;if(!(!h.touches||h.touches.length!==2||g._animatingZoom||this._zooming)){var S=g.mouseEventToContainerPoint(h.touches[0]),D=g.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(S.add(D)._divideBy(2))),this._startDist=S.distanceTo(D),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),$n(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var g=this._map,S=g.mouseEventToContainerPoint(h.touches[0]),D=g.mouseEventToContainerPoint(h.touches[1]),q=S.distanceTo(D)/this._startDist;if(this._zoom=g.getScaleZoom(q,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&q<1||this._zoom>g.getMaxZoom()&&q>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,q===1)return}else{var ce=S._add(D)._divideBy(2)._subtract(this._centerPoint);if(q===1&&ce.x===0&&ce.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(ce),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var Ce=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=E(Ce,this,!0),$n(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,k(this._animRequest),tn(document,"touchmove",this._onTouchMove,this),tn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});jr.addInitHook("addHandler","touchZoom",bm),jr.BoxZoom=_A,jr.DoubleClickZoom=g0,jr.Drag=CA,jr.Keyboard=BA,jr.ScrollWheelZoom=ym,jr.TapHold=vm,jr.TouchZoom=bm,r.Bounds=J,r.Browser=St,r.CRS=he,r.Canvas=m0,r.Circle=$o,r.CircleMarker=oo,r.Class=U,r.Control=ni,r.DivIcon=h0,r.DivOverlay=$i,r.DomEvent=El,r.DomUtil=u0,r.Draggable=We,r.Evented=Q,r.FeatureGroup=Fa,r.GeoJSON=Vs,r.GridLayer=Mu,r.Handler=ye,r.Icon=Ra,r.ImageOverlay=Aa,r.LatLng=ie,r.LatLngBounds=Z,r.Layer=Sn,r.LayerGroup=Mi,r.LineUtil=wd,r.Map=jr,r.Marker=Qo,r.Mixin=Ee,r.Path=vs,r.Point=z,r.PolyUtil=dr,r.Polygon=Rl,r.Polyline=Qi,r.Popup=Ml,r.PosAnimation=Fu,r.Projection=jd,r.Rectangle=fa,r.Renderer=Go,r.SVG=Tc,r.SVGOverlay=bs,r.TileLayer=Wo,r.Tooltip=NA,r.Transformation=ue,r.Util=M,r.VideoOverlay=nn,r.bind=o,r.bounds=H,r.canvas=p0,r.circle=jA,r.circleMarker=Ul,r.control=kl,r.divIcon=rb,r.extend=i,r.featureGroup=Ua,r.geoJSON=Ic,r.geoJson=Da,r.gridLayer=nb,r.icon=wA,r.imageOverlay=Kr,r.latLng=oe,r.latLngBounds=K,r.layerGroup=Ru,r.map=xA,r.marker=ua,r.point=re,r.polygon=Ho,r.polyline=cs,r.popup=gm,r.rectangle=xm,r.setOptions=p,r.stamp=c,r.svg=Hi,r.svgOverlay=Dl,r.tileLayer=A0,r.tooltip=tb,r.transformation=V,r.version=n,r.videoOverlay=ds;var wm=window.L;r.noConflict=function(){return window.L=wm,this},window.L=r})})(W4,W4.exports);var Kg=W4.exports;const Pa=Zr(Kg);function VN(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function KN(e,t){return t==null?function(n,i){const a=_.useRef();return a.current||(a.current=e(n,i)),a}:function(n,i){const a=_.useRef();a.current||(a.current=e(n,i));const o=_.useRef(n),{instance:l}=a.current;return _.useEffect(function(){o.current!==n&&(t(l,n,o.current),o.current=n)},[l,n,i]),a}}function PG(e,t){_.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function IG(e){return function(r){const n=HN(),i=e(zN(r,n),n);return CG(n.map,r.attribution),I6(i.current,r.eventHandlers),PG(i.current,n),i}}function Yve(e,t){const r=_.useRef();_.useEffect(function(){if(t.pathOptions!==r.current){const i=t.pathOptions??{};e.instance.setStyle(i),r.current=i}},[e,t])}function Xve(e){return function(r){const n=HN(),i=e(zN(r,n),n);return I6(i.current,r.eventHandlers),PG(i.current,n),Yve(i.current,r),i}}function Zve(e,t){const r=KN(e,t),n=IG(r);return kG(n)}function Jve(e,t){const r=KN(e),n=qve(r,t);return Wve(n)}function ebe(e,t){const r=KN(e,t),n=Xve(r);return kG(n)}function tbe(e,t){const r=KN(e,t),n=IG(r);return Gve(n)}function rbe(e,t,r){const{opacity:n,zIndex:i}=t;n!=null&&n!==r.opacity&&e.setOpacity(n),i!=null&&i!==r.zIndex&&e.setZIndex(i)}function nbe(){return HN().map}function WN(e){const t=nbe();return _.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const sbe=ebe(function({center:t,children:r,...n},i){const a=new Kg.Circle(t,n);return VN(a,BG(i,{overlayContainer:a}))},zve);function G4(){return G4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G4.apply(this,arguments)}function ibe({bounds:e,boundsOptions:t,center:r,children:n,className:i,id:a,placeholder:o,style:l,whenReady:c,zoom:d,...u},A){const[f]=_.useState({className:i,id:a,style:l}),[m,x]=_.useState(null);_.useImperativeHandle(A,()=>(m==null?void 0:m.map)??null,[m]);const p=_.useCallback(y=>{if(y!==null&&m===null){const b=new Kg.Map(y,u);r!=null&&d!=null?b.setView(r,d):e!=null&&b.fitBounds(e,t),c!=null&&b.whenReady(c),x(Kve(b))}},[]);_.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const v=m?_e.createElement(EG,{value:m},n):o??null;return _e.createElement("div",G4({},f,{ref:p}),v)}const Gh=_.forwardRef(ibe),qh=Zve(function({position:t,...r},n){const i=new Kg.Marker(t,r);return VN(i,BG(n,{overlayContainer:i}))},function(t,r,n){r.position!==n.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),_y=Jve(function(t,r){const n=new Kg.Popup(t,r.overlayContainer);return VN(n,r)},function(t,r,{position:n},i){_.useEffect(function(){const{instance:o}=t;function l(d){d.popup===o&&(o.update(),i(!0))}function c(d){d.popup===o&&i(!1)}return r.map.on({popupopen:l,popupclose:c}),r.overlayContainer==null?(n!=null&&o.setLatLng(n),o.openOn(r.map)):r.overlayContainer.bindPopup(o),function(){var u;r.map.off({popupopen:l,popupclose:c}),(u=r.overlayContainer)==null||u.unbindPopup(),r.map.removeLayer(o)}},[t,r,i,n])}),Yh=tbe(function({url:t,...r},n){const i=new Kg.TileLayer(t,zN(r,n));return VN(i,n)},function(t,r,n){rbe(t,r,n);const{url:i}=r;i!=null&&i!==n.url&&t.setUrl(i)});delete Pa.Icon.Default.prototype._getIconUrl;Pa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const abe=(e,t)=>{var r;return Pa.divIcon({className:"custom-div-icon",html:`
      <div style="
        background-color: ${t};
        width: 30px;
        height: 30px;
        border-radius: 50%;
        border: 3px solid white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 12px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      ">
        ${((r=e==null?void 0:e.charAt(0))==null?void 0:r.toUpperCase())||"P"}
      </div>
    `,iconSize:[30,30],iconAnchor:[15,15]})},obe=({properties:e=[],selectedLocation:t=null,radius:r=5,onPropertyClick:n=()=>{},height:i="320px",showRadius:a=!0})=>{const[o,l]=_.useState([12.9716,77.5946]),[c,d]=_.useState(12);_.useEffect(()=>{if(t&&t.lat&&t.lng){const f=parseFloat(t.lat),m=parseFloat(t.lng);!isNaN(f)&&!isNaN(m)&&(l([f,m]),d(15))}},[t]);const u=f=>{switch(f==null?void 0:f.toLowerCase()){case"pg":return"#ef4444";case"co-living":return"#3b82f6";case"apartment":return"#10b981";case"house":return"#f59e0b";default:return"#ef4444"}},A=f=>!f||typeof f!="object"?[]:Object.entries(f).filter(([m,x])=>x===!0).map(([m])=>m);return s.jsx("div",{className:"w-full rounded-lg border border-gray-200 overflow-hidden relative z-10",style:{height:i},children:s.jsxs(Gh,{center:o,zoom:c,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,zoomControl:!0,children:[s.jsx(Yh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map(f=>{const m=parseFloat(f.lat),x=parseFloat(f.lng);if(isNaN(m)||isNaN(x))return null;const p=u(f.propertyType),v=abe(f.propertyType,p),y=A(f.amenities);return s.jsx(qh,{position:[m,x],icon:v,eventHandlers:{click:()=>n(f.id)},children:s.jsx(_y,{maxWidth:300,minWidth:250,children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight",children:f.name}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 ml-2",children:f.propertyType||"PG"})]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-600 mb-2",children:[s.jsx(wr,{className:"w-3 h-3 mr-1"}),s.jsx("span",{className:"truncate",children:f.address})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-lg font-bold text-red-600",children:f.price}),f.distance&&f.distance!=="0 km"&&s.jsxs("p",{className:"text-xs text-gray-500",children:[f.distance," away"]})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[f.maxOccupancy&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(zr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Max Occupancy: ",f.maxOccupancy," people"]})]}),f.ownerName&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Owner: ",f.ownerName]})]}),f.rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ca,{className:"w-3 h-3 mr-1 text-yellow-400 fill-current"}),s.jsxs("span",{children:["Rating: ",f.rating]})]})]}),y.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"font-medium mb-1 text-xs",children:"Amenities:"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.slice(0,3).map((b,w)=>s.jsx("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:b},w)),y.length>3&&s.jsxs("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:["+",y.length-3," more"]})]})]}),f.images&&f.images.length>0&&s.jsx("div",{className:"mt-3",children:s.jsx("img",{src:f.images[0],alt:f.name,className:"w-full h-16 object-cover rounded border"})}),s.jsx("button",{onClick:()=>n(f.id),className:"w-full mt-3 bg-red-600 text-white text-xs py-2 px-3 rounded hover:bg-red-700 transition-colors",children:"View Details"})]})})},f.id)}),t&&a&&!isNaN(parseFloat(t.lat))&&!isNaN(parseFloat(t.lng))&&s.jsx(sbe,{center:[parseFloat(t.lat),parseFloat(t.lng)],radius:r*1e3,pathOptions:{color:"#ef4444",fillColor:"#ef4444",fillOpacity:.1,weight:2}})]},`${o[0]}-${o[1]}-${c}`)})};class lbe{constructor(){this.googleMapsLoaded=!1,this.geocoder=null,this.autocomplete=null}async initializeGoogleMaps(){return this.googleMapsLoaded?Promise.resolve():new Promise((t,r)=>{if(window.google&&window.google.maps){this.googleMapsLoaded=!0,this.geocoder=new window.google.maps.Geocoder,t();return}const n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoPzRJLAmma54BBOyF4AhZ2ZIqGvak8CA&libraries=places,geometry",n.async=!0,n.defer=!0,n.onload=()=>{this.googleMapsLoaded=!0,this.geocoder=new window.google.maps.Geocoder,t()},n.onerror=r,document.head.appendChild(n)})}async searchWithGooglePlaces(t,r){return this.googleMapsLoaded||await this.initializeGoogleMaps(),!this.autocomplete&&r&&(this.autocomplete=new window.google.maps.places.Autocomplete(r,{types:["establishment","geocode"],componentRestrictions:{country:"in"},fields:["place_id","geometry","name","formatted_address"]})),this.autocomplete}async searchWithNominatim(t){if(!t||t.length<3)return[];try{const r=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&countrycodes=in&limit=5&addressdetails=1`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json()).map(i=>({id:i.place_id,name:i.display_name.split(",")[0],address:i.display_name,lat:parseFloat(i.lat),lng:parseFloat(i.lon),type:i.type,importance:i.importance})).sort((i,a)=>a.importance-i.importance)}catch(r){return console.error("Nominatim search error:",r),[]}}async reverseGeocodeWithGoogle(t,r){return this.googleMapsLoaded||await this.initializeGoogleMaps(),new Promise((n,i)=>{this.geocoder.geocode({location:{lat:t,lng:r}},(a,o)=>{if(o==="OK"&&a[0]){const l=a[0];let c="Current Location",d=l.formatted_address;if(l.address_components){const u=l.address_components,A=u.find(v=>v.types.includes("locality")),f=u.find(v=>v.types.includes("sublocality")),m=u.find(v=>v.types.includes("neighborhood")),x=u.find(v=>v.types.includes("administrative_area_level_1")),p=u.find(v=>v.types.includes("administrative_area_level_2"));A&&x?c=`${A.long_name}, ${x.long_name}`:f&&x?c=`${f.long_name}, ${x.long_name}`:m&&x?c=`${m.long_name}, ${x.long_name}`:p&&x?c=`${p.long_name}, ${x.long_name}`:c=l.formatted_address}n({name:c,address:d,lat:t,lng:r})}else i(new Error("Geocoding failed"))})})}async reverseGeocodeWithNominatim(t,r){try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${r}&addressdetails=1`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();let a="Current Location",o=i.display_name;if(i.address){const l=i.address;if(l.city||l.town||l.village){const c=l.city||l.town||l.village,d=l.state;a=d?`${c}, ${d}`:c}else if(l.suburb||l.neighbourhood){const c=l.suburb||l.neighbourhood,d=l.state;a=d?`${c}, ${d}`:c}else l.state&&(a=l.state)}return{name:a,address:o,lat:t,lng:r}}catch(n){return console.error("Nominatim reverse geocoding error:",n),{name:"Current Location",address:"Your current location",lat:t,lng:r}}}async searchLocation(t,r="google"){return r==="google"?null:await this.searchWithNominatim(t)}async reverseGeocode(t,r,n="google"){return n==="google"?await this.reverseGeocodeWithGoogle(t,r):await this.reverseGeocodeWithNominatim(t,r)}async getCurrentLocation(t="google"){return new Promise((r,n)=>{if(!navigator.geolocation){n(new Error("Geolocation is not supported by this browser."));return}navigator.geolocation.getCurrentPosition(async i=>{const{latitude:a,longitude:o}=i.coords;try{const l=await this.reverseGeocode(a,o,t);r({...l,accuracy:i.coords.accuracy,timestamp:new Date().toLocaleString()})}catch{r({name:"Current Location",address:"Your current location",lat:a,lng:o,accuracy:i.coords.accuracy,timestamp:new Date().toLocaleString()})}},i=>{let a="Unable to get your current location. ";switch(i.code){case i.PERMISSION_DENIED:a+="Location access denied by user.";break;case i.POSITION_UNAVAILABLE:a+="Location information unavailable.";break;case i.TIMEOUT:a+="Location request timed out.";break;default:a+="Unknown error occurred.";break}n(new Error(a))})})}}const Wb=new lbe,cbe=({mapType:e="google",onLocationSelect:t,placeholder:r="Search for a location (e.g., Koramangala, Bangalore)",className:n=""})=>{const[i,a]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,A]=_.useState(!1),[f,m]=_.useState(null),x=_.useRef(null),p=_.useRef(null),v=_.useRef(null);_.useEffect(()=>{e==="google"&&x.current&&y()},[e]);const y=async()=>{try{if(await Wb.initializeGoogleMaps(),x.current&&!f){const I=await Wb.searchWithGooglePlaces("",x.current);I.addListener("place_changed",()=>{const P=I.getPlace();if(P.geometry){const T={name:P.name||P.formatted_address,address:P.formatted_address,lat:P.geometry.location.lat(),lng:P.geometry.location.lng()};a(T.name),A(!1),t(T)}}),m(I)}}catch(I){console.error("Failed to initialize Google autocomplete:",I)}},b=async I=>{const P=I.target.value;if(a(P),v.current&&clearTimeout(v.current),P.length<3){l([]),A(!1);return}e==="leaflet"&&(v.current=setTimeout(async()=>{await w(P)},300))},w=async I=>{d(!0);try{const P=await Wb.searchWithNominatim(I);l(P),A(!0)}catch(P){console.error("Search error:",P),l([])}finally{d(!1)}},j=I=>{a(I.name),A(!1),t(I)},N=async()=>{d(!0);try{const I=await Wb.getCurrentLocation(e);a(I.name),A(!1),t(I)}catch(I){console.error("Current location error:",I),alert(I.message)}finally{d(!1)}},B=()=>{a(""),l([]),A(!1),x.current&&x.current.focus()};return _.useEffect(()=>{const I=P=>{p.current&&!p.current.contains(P.target)&&x.current&&!x.current.contains(P.target)&&A(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),s.jsxs("div",{className:`relative z-[9998] ${n}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{ref:x,type:"text",placeholder:r,value:i,onChange:b,onFocus:()=>{e==="leaflet"&&o.length>0&&A(!0)},className:"w-full pl-10 pr-20 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",autoComplete:"off"}),s.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[c&&s.jsx(Ni,{className:"w-4 h-4 text-gray-400 animate-spin"}),s.jsx("div",{className:"text-xs text-gray-500",children:e==="google"?s.jsx("span",{className:"text-green-600",children:" Google"}):s.jsx("span",{className:"text-blue-600",children:" Leaflet"})}),i&&s.jsx("button",{onClick:B,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(or,{className:"w-4 h-4"})})]})]}),e==="leaflet"&&u&&o.length>0&&s.jsx("div",{ref:p,className:"absolute z-[9999] w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-y-auto",style:{zIndex:9999},children:o.map((I,P)=>s.jsx("button",{onClick:()=>j(I),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:I.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:I.address}),I.type&&s.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:I.type})]})]})},I.id||P))}),s.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[s.jsxs("button",{onClick:N,disabled:c,className:"flex items-center space-x-2 text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsx("span",{children:"Use Current Location"})]}),s.jsx("div",{className:"text-xs text-gray-500",children:e==="google"?"Google Places Autocomplete":"OpenStreetMap Search"})]})]})},EC=()=>{const[e,t]=_.useState({}),[r,n]=_.useState([]),[i,a]=_.useState([]),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,A]=_.useState(""),[f,m]=_.useState(null),[x,p]=_.useState(null),[v,y]=_.useState(5),[b,w]=_.useState(!1),[j,N]=_.useState([]),[B,I]=_.useState([]),[P,T]=_.useState([]),F=Ar(),[E,k]=_.useState(null);_.useEffect(()=>{re()},[]);const M=ee=>{m(ee),A(ee.name),U(ee),Q(ee.lat,ee.lng,v)},U=ee=>{const fe={id:Date.now(),location:ee.name,address:ee.address,lat:ee.lat,lng:ee.lng,timestamp:new Date().toLocaleString(),radius:v,pgCount:0},ue=P.filter(ve=>ve.lat!==ee.lat||ve.lng!==ee.lng),V=[fe,...ue].slice(0,5);T(V)},W=ee=>{if(!ee)return"Address not available";if(typeof ee=="string")return ee;const{street:fe,city:ue,state:V,pincode:ve,landmark:Se}=ee;return[fe,Se,ue,V,ve].filter(Boolean).join(", ")},Y=(ee,fe,ue,V)=>te(ee,fe,ue,V),Q=async(ee,fe,ue=v)=>{try{const Se=((await kt.get("/property/public/properties")).data.data||[]).filter(ne=>ne.latitude&&ne.longitude).map(ne=>{const xe=Y(ee,fe,ne.latitude,ne.longitude);return{id:ne._id,name:ne.property_name||ne.propertyName||"Unnamed Property",address:W(ne.address),lat:ne.latitude,lng:ne.longitude,price:ne.rent?`${ne.rent.toLocaleString()}`:"Price not available",rating:4.5,distance:`${xe.toFixed(1)} km`,_distanceKm:xe,amenities:ne.amenities?Object.entries(ne.amenities).filter(([Le,ze])=>ze===!0).map(([Le])=>Le):[],propertyType:ne.propertyType||"PG",totalRooms:ne.totalRooms||ne.maxOccupancy||"N/A",images:ne.images?[ne.images.front,ne.images.hall,...ne.images.gallery||[]].filter(Boolean):[],ownerName:ne.ownerName||"Unknown Owner"}}).filter(ne=>ne._distanceKm<=ue).sort((ne,xe)=>ne._distanceKm-xe._distanceKm);N(Se),z(ee,fe,Se.length)}catch(V){console.error("Error fetching properties:",V),N([])}},z=(ee,fe,ue)=>{T(V=>V.map(ve=>Math.abs(ve.lat-ee)<.001&&Math.abs(ve.lng-fe)<.001?{...ve,pgCount:ue}:ve))},te=(ee,fe,ue,V)=>{const Se=(ue-ee)*Math.PI/180,ne=(V-fe)*Math.PI/180,xe=Math.sin(Se/2)*Math.sin(Se/2)+Math.cos(ee*Math.PI/180)*Math.cos(ue*Math.PI/180)*Math.sin(ne/2)*Math.sin(ne/2);return 6371*(2*Math.atan2(Math.sqrt(xe),Math.sqrt(1-xe)))},re=async()=>{try{const ue=((await kt.get("/property/public/properties")).data.data||[]).filter(V=>V.latitude&&V.longitude).map(V=>({id:V._id,name:V.property_name||V.propertyName||"Unnamed Property",address:W(V.address),lat:V.latitude,lng:V.longitude,price:V.rent?`${V.rent.toLocaleString()}`:"Price not available",rating:4.5,distance:"0 km",_distanceKm:0,amenities:V.amenities?Object.entries(V.amenities).filter(([ve,Se])=>Se===!0).map(([ve])=>ve):[],propertyType:V.propertyType||"PG",totalRooms:V.totalRooms||V.maxOccupancy||"N/A",images:V.images||[],ownerName:V.ownerName||"Unknown Owner"}));console.log(`Loaded ${ue.length} properties`),I(ue)}catch(ee){console.error("Error loading properties:",ee)}},J=ee=>{F(`/seeker/property/${ee}`)},H=ee=>{const fe=parseInt(ee.target.value);y(fe),f?Q(f.lat,f.lng,fe):x&&Q(x.lat,x.lng,fe)},Z=async()=>{try{const ee=JSON.parse(localStorage.getItem("user")||"{}");if(!(ee.id||ee._id||ee.userId))return;const V={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`};try{const Se=(await kt.get("/property/user/tenant-status")).data;if(Se.success&&Se.isTenant)return console.log("User has active tenancy, redirecting to TenantDashboard"),F("/tenant-dashboard"),!0}catch(ve){console.error("Error checking tenant status:",ve)}}catch(ee){console.error("Error checking dashboard redirect status:",ee)}return!1};_.useEffect(()=>{const ee=JSON.parse(localStorage.getItem("user")||"{}");t(ee),(()=>{const ve=`lastLogin_${ee._id||ee.id}`;localStorage.getItem(ve)?(d(!1),localStorage.setItem(ve,new Date().toISOString())):(d(!0),localStorage.setItem(ve,new Date().toISOString()))})(),Z().then(V=>{V||(T([]),K(),ie(),oe())});const ue=V=>{console.log("Booking status change detected:",V.detail),(V.detail.status==="confirmed"||V.detail.status==="approved")&&setTimeout(()=>{Z()},1e3)};return window.addEventListener("booking-approved",ue),window.addEventListener("booking-status-changed",ue),()=>{window.removeEventListener("booking-approved",ue),window.removeEventListener("booking-status-changed",ue)}},[]);const K=async()=>{try{const fe=(await kt.get("/property/public/properties")).data.data||[];console.log("=== RAW PROPERTIES DATA ==="),console.log("Total properties from API:",fe.length),fe.forEach((V,ve)=>{console.log(`
Property ${ve+1}:`),console.log("  _id:",V._id),console.log("  propertyName:",V.propertyName),console.log("  address:",V.address),console.log("  rent:",V.rent),console.log("  propertyType:",V.propertyType),console.log("  maxOccupancy:",V.maxOccupancy),console.log("  amenities:",V.amenities),console.log("  images:",V.images),console.log("  description:",V.description),console.log("  latitude:",V.latitude),console.log("  longitude:",V.longitude)}),console.log("=== END RAW PROPERTIES ===");const ue=fe.slice(0,4).map((V,ve)=>{var Se,ne,xe,Le,ze,Te,lt;return{id:V._id,name:V.property_name||V.propertyName||"Unnamed Property",location:W(V.address),price:V.rent?`${V.rent.toLocaleString()}`:"Price not available",rating:4.5,image:(Se=V.images)!=null&&Se.front||(ne=V.images)!=null&&ne.hall||(xe=V.images)!=null&&xe.gallery&&V.images.gallery[0]?((Le=V.images)==null?void 0:Le.front)||((ze=V.images)==null?void 0:ze.hall)||((lt=(Te=V.images)==null?void 0:Te.gallery)==null?void 0:lt[0]):"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",distance:`${(ve+1)*2}.${ve+1} km`,matchScore:95-ve*5,propertyType:V.propertyType||"PG",totalRooms:V.maxOccupancy||"N/A",amenities:V.amenities||[]}});l(ue),console.log("=== RECOMMENDATIONS DATA ==="),console.log("Total recommendations:",ue.length),ue.forEach((V,ve)=>{console.log(`
Recommendation ${ve+1}:`),console.log("  ID:",V.id),console.log("  Name:",V.name),console.log("  Location:",V.location),console.log("  Price:",V.price),console.log("  Rating:",V.rating),console.log("  Distance:",V.distance),console.log("  Match Score:",V.matchScore+"%"),console.log("  Property Type:",V.propertyType),console.log("  Max Occupancy:",V.maxOccupancy),console.log("  Amenities:",V.amenities),console.log("  Image URL:",V.image)}),console.log("=== END RECOMMENDATIONS ===")}catch(ee){console.error("Error fetching property recommendations:",ee),l([])}},ie=async()=>{try{const ee=JSON.parse(localStorage.getItem("user")||"{}"),fe=ee.userId||ee._id;if(console.log("Fetching favorites for userId:",fe),!fe){console.log("No userId found in localStorage");return}const ue="/property/favorites";console.log("Favorites API URL:",ue);const V=await kt.get(ue);if(console.log("Favorites API response status:",V.status),V.status===200){const ve=V.data;console.log("Favorites data received:",ve),n(ve.favorites||[]),console.log("Favorites count:",(ve.favorites||[]).length)}}catch(ee){console.error("Error fetching favorites count:",ee),n([])}},oe=async()=>{try{const ee=JSON.parse(localStorage.getItem("user")||"{}"),fe=ee.userId||ee._id;if(console.log("Fetching bookings for userId:",fe),!fe){console.log("No userId found in localStorage");return}const ue="/property/user/bookings";console.log("Bookings API URL:",ue);const V=await kt.get(ue);if(console.log("Bookings API response status:",V.status),V.status===200){const ve=V.data;console.log("Bookings data received:",ve),a(ve.bookings||[]),console.log("Bookings count:",(ve.bookings||[]).length)}}catch(ee){console.error("Error fetching bookings count:",ee),a([])}},he=ee=>{switch(ee){case"confirmed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},pe=ee=>{switch(ee){case"confirmed":return s.jsx(wt,{className:"w-4 h-4"});case"pending":return s.jsx(rs,{className:"w-4 h-4"});case"cancelled":return s.jsx(er,{className:"w-4 h-4"});default:return s.jsx(rs,{className:"w-4 h-4"})}};return s.jsxs(Er,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[c?"Welcome":"Welcome back",", ",e.name||"User","! "]}),s.jsx("p",{className:"text-gray-600",children:c?"Welcome to Lyvo+! Let's help you find your perfect co-living space.":"Ready to find your perfect PG? Here's what's happening with your account."})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(wr,{className:"w-5 h-5 mr-2 text-red-600"}),"Find PGs Near You"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Interactive Map:"}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-blue-600",children:[s.jsx(_ue,{className:"w-3 h-3"}),s.jsx("span",{children:"Leaflet + OpenStreetMap"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:s.jsx("div",{className:"lg:col-span-2",children:s.jsx(cbe,{mapType:"leaflet",onLocationSelect:M,placeholder:"Search for a location (e.g., Koramangala, Bangalore)"})})}),s.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tue,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Search Radius:"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"range",min:"1",max:"20",value:v,onChange:H,className:"w-32 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[3rem]",children:[v," km"]})]})]}),f&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"w-4 h-4 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:f.name}),s.jsx("p",{className:"text-sm text-gray-600",children:f.address})]})]})}),b&&s.jsx("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Getting Your Location..."}),s.jsx("p",{className:"text-sm text-gray-600",children:"Please allow location access and wait a moment."})]})]})}),E&&s.jsx("div",{className:"mt-4 p-4 bg-red-50 rounded-lg border border-red-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(er,{className:"w-4 h-4 text-red-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Location Error"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:E}),s.jsx("button",{onClick:()=>k(null),className:"text-xs text-red-600 hover:text-red-800 underline",children:"Dismiss"})]})]})}),s.jsxs("div",{className:"mt-4",children:[s.jsx(obe,{properties:f?j:B,selectedLocation:f,radius:v,onPropertyClick:J,height:"320px",showRadius:!!f}),s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[s.jsx("span",{className:"text-green-600",children:" Leaflet Map Loaded"}),s.jsx("span",{className:"ml-2 text-blue-600",children:"OpenStreetMap Tiles"})]})]}),j.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Found ",j.length," PGs within ",v," km"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map((ee,fe)=>s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:fe*.1,duration:.5},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>J(ee.id),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:ee.name}),s.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full",children:ee.distance})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:ee.address}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ca,{className:"w-3 h-3 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-xs text-gray-600",children:ee.rating})]}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:ee.propertyType})]}),s.jsx("div",{className:"space-y-1 text-xs text-gray-600",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Total Rooms:"}),s.jsx("span",{className:"font-medium",children:ee.totalRooms||"N/A"})]})}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:ee.amenities.slice(0,3).map((ue,V)=>s.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:ue},V))})]},ee.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Searches"})}),s.jsxs("div",{className:"space-y-3",children:[P.map((ee,fe)=>s.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+fe*.1,duration:.5},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>M(ee),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:ee.location}),s.jsx("p",{className:"text-sm text-gray-500",children:ee.timestamp}),s.jsxs("p",{className:"text-xs text-blue-600",children:[ee.radius,"km radius"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[ee.pgCount>0&&s.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:[ee.pgCount," PGs"]}),s.jsx(eo,{className:"w-4 h-4 text-gray-400"})]})]},ee.id)),P.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(wr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No recent searches yet"}),s.jsx("p",{className:"text-sm",children:"Search for a location to see it here"})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Available Rooms"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((ee,fe)=>s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+fe*.1,duration:.5},className:"group cursor-pointer",onClick:()=>J(ee.id),children:[s.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[s.jsx("img",{src:ee.image,alt:ee.name,className:"w-full h-32 object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[s.jsxs("div",{className:"bg-red-600 text-white text-xs px-2 py-1 rounded-full font-medium",children:[ee.matchScore,"% Match"]}),ee.rooms&&ee.rooms.length>0&&s.jsx("div",{className:`text-xs px-2 py-1 rounded-full font-medium ${ee.rooms.filter(ue=>ue.room_status==="available"&&ue.isAvailable).length>0?"bg-green-600 text-white":"bg-orange-600 text-white"}`,children:ee.rooms.filter(ue=>ue.room_status==="available"&&ue.isAvailable).length>0?"Rooms Available":"Fully Booked"})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-red-600 transition-colors",children:ee.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(wr,{className:"w-3 h-3 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:ee.location}),s.jsxs("span",{className:"text-xs text-gray-400",children:[" ",ee.distance]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ca,{className:"w-4 h-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-sm text-gray-600",children:ee.rating})]}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:ee.propertyType})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600 mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Total Rooms:"}),s.jsx("span",{className:"font-medium",children:ee.totalRooms||"N/A"})]}),ee.rooms&&ee.rooms.length>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Available:"}),s.jsxs("span",{className:"font-medium text-green-600",children:[ee.rooms.filter(ue=>ue.room_status==="available"&&ue.isAvailable).length,"/",ee.rooms.length]})]})]})]})]},ee.id))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-pink-50 rounded-lg border border-pink-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center",children:s.jsx(Kh,{className:"w-5 h-5 text-pink-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favorites"})]}),s.jsx("span",{className:"text-2xl font-bold text-pink-600",children:r.length})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Tr,{className:"w-5 h-5 text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Bookings"})]}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:i.length})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg border border-purple-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Xr,{className:"w-5 h-5 text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Searches"})]}),s.jsx("span",{className:"text-2xl font-bold text-purple-600",children:P.length})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Bookings"}),s.jsx("div",{className:"space-y-3",children:i.map((ee,fe)=>s.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4+fe*.1,duration:.5},className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:ee.pgName}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsxs("p",{children:["Check-in: ",ee.checkIn]}),s.jsxs("p",{children:["Check-out: ",ee.checkOut]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ee.amount}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${he(ee.status)} flex items-center space-x-1`,children:[pe(ee.status),s.jsx("span",{className:"capitalize",children:ee.status})]})]})]},ee.id))}),s.jsx(Ot,{to:"/seeker-bookings",className:"mt-4 w-full text-center text-red-600 hover:text-red-700 text-sm font-medium block",children:"View All Bookings"})]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Quick Tips"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[s.jsx("li",{children:" Save PGs to favorites for quick access"}),s.jsx("li",{children:" Use filters to find exact matches"}),s.jsx("li",{children:" Read reviews before booking"}),s.jsx("li",{children:" Contact owners for questions"})]})]})]})]})]}),s.jsx(sK,{})]})},TG=({isOpen:e,onClose:t,owner:r})=>{if(!e)return null;const n=()=>{if(r!=null&&r.phone){const o=encodeURIComponent("Hi, I'm interested in your property and would like to get more information.");window.open(`https://wa.me/${r.phone.replace(/\D/g,"")}?text=${o}`,"_blank")}},i=()=>{if(r!=null&&r.email){const o=encodeURIComponent("Property Inquiry"),l=encodeURIComponent(`Hi ${r.name||"Owner"},

I'm interested in your property and would like to get more information.

Thank you!`);window.location.href=`mailto:${r.email}?subject=${o}&body=${l}`}},a=()=>{r!=null&&r.phone&&(window.location.href=`tel:${r.phone}`)};return s.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:s.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full p-6 transform transition-all",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(or,{className:"w-6 h-6"})}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(cr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Owner"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get in touch with the property owner"})]})]})}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(cr,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Owner Name"}),s.jsx("p",{className:"font-medium text-gray-900",children:(r==null?void 0:r.name)||(r==null?void 0:r.ownerName)||"Not available"})]})]}),(r==null?void 0:r.phone)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Es,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-gray-900",children:r.phone})]})]}),(r==null?void 0:r.email)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(ln,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email Address"}),s.jsx("p",{className:"font-medium text-gray-900 break-all",children:r.email})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[(r==null?void 0:r.phone)&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Es,{className:"w-5 h-5"}),"Call Owner"]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Wh,{className:"w-5 h-5"}),"WhatsApp"]})]}),(r==null?void 0:r.email)&&s.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(ln,{className:"w-5 h-5"}),"Send Email"]})]}),s.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," Please be respectful when contacting the property owner. Provide your details and requirements clearly."]})})]})})]})},dbe=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[i,a]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,A]=_.useState(null),f=Ar(),{toast:m}=xc(),x=()=>{const N=localStorage.getItem("user");if(N)try{const B=JSON.parse(N);return B.id||B._id}catch(B){return console.error("Error parsing user data:",B),null}return null},p=async()=>{if(!x()){console.error("User ID not found"),n(!1);return}try{n(!0);const B=await kt.get("/property/favorites");if(B.status===200){const I=B.data;console.log("Favorites data received:",I);const P=(I.favorites||[]).map(T=>{var F,E,k,M,U;return{...T,property:{...T.propertyId,propertyName:(F=T.propertyId)==null?void 0:F.property_name,address:(E=T.propertyId)==null?void 0:E.address},room:{...T.roomId,roomNumber:(k=T.roomId)==null?void 0:k.room_number,roomImage:(M=T.roomId)==null?void 0:M.room_image,toiletImage:(U=T.roomId)==null?void 0:U.toilet_image}}});t(P),l(P)}else console.error("Failed to fetch favorites")}catch(B){console.error("Error fetching favorites:",B)}finally{n(!1)}},v=async(N,B,I)=>{const P=x();if(P)try{const T=await kt.post("/property/favorites/remove",{userId:P,propertyId:B,roomId:I});T.status===200?T.data.success&&(t(E=>E.filter(k=>k._id!==N)),l(E=>E.filter(k=>k._id!==N)),m({title:"Removed from Favorites",description:"Property has been removed from your favorites"})):(console.error("Failed to remove from favorites"),m({title:"Error",description:"Failed to remove from favorites",variant:"destructive"}))}catch(T){console.error("Error removing from favorites:",T),m({title:"Error",description:"Failed to remove from favorites",variant:"destructive"})}};_.useEffect(()=>{if(i){const N=e.filter(B=>{var E,k,M,U,W;const I=((k=(E=B.property)==null?void 0:E.propertyName)==null?void 0:k.toLowerCase())||"",P=(M=B.property)!=null&&M.address?typeof B.property.address=="string"?B.property.address.toLowerCase():`${B.property.address.street||""} ${B.property.address.city||""} ${B.property.address.state||""}`.toLowerCase():"",T=((W=(U=B.room)==null?void 0:U.roomNumber)==null?void 0:W.toLowerCase())||"",F=i.toLowerCase();return I.includes(F)||P.includes(F)||T.includes(F)});l(N)}else l(e)},[e,i]),_.useEffect(()=>{p()},[]);const y=N=>{switch(N.toLowerCase()){case"wifi":return s.jsx(rm,{className:"w-4 h-4"});case"ac":return s.jsx(TV,{className:"w-4 h-4"});case"food":return s.jsx(kf,{className:"w-4 h-4"});case"parking":return s.jsx(fl,{className:"w-4 h-4"});case"security":return s.jsx(rr,{className:"w-4 h-4"});default:return s.jsx(Xr,{className:"w-4 h-4"})}},b=N=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(N),w=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),j=N=>{var B,I,P,T;A({name:(B=N.property)==null?void 0:B.ownerName,phone:(I=N.property)==null?void 0:I.ownerPhone,email:(P=N.property)==null?void 0:P.ownerEmail,ownerName:(T=N.property)==null?void 0:T.ownerName}),d(!0)};return r?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your favorites..."})]})})}):s.jsxs(Er,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Favorites"}),s.jsx("p",{className:"text-gray-600",children:"Properties and rooms you've saved for later."})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsx("div",{className:"flex flex-col lg:flex-row gap-4",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search your favorites...",value:i,onChange:N=>a(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",o.length," of ",e.length," favorites"]}),s.jsx("button",{onClick:p,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Refresh"})]})]}),o.length===0?s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Kh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Favorites Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.length===0?"Start exploring properties and add them to your favorites to see them here!":"No favorites match your current search. Try adjusting your search criteria."}),e.length===0&&s.jsx("button",{onClick:()=>f("/seeker-dashboard"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]}):s.jsx("div",{className:"space-y-6",children:o.map((N,B)=>{var I,P,T,F,E,k,M,U,W,Y;return s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1+B*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"lg:w-80 flex-shrink-0",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:((I=N.room)==null?void 0:I.roomImage)||((T=(P=N.property)==null?void 0:P.images)==null?void 0:T[0])||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:((F=N.property)==null?void 0:F.propertyName)||"Property",className:"w-full h-48 object-cover rounded-lg",onError:Q=>{Q.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop"}}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("button",{onClick:()=>v(N._id,N.propertyId,N.roomId),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:s.jsx(tg,{className:"w-4 h-4"})})}),N.room&&s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs("span",{className:"px-3 py-1 bg-black bg-opacity-70 text-white text-sm font-medium rounded-lg",children:["Room ",N.room.roomNumber]})})]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:((E=N.property)==null?void 0:E.propertyName)||"Unnamed Property"})]}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[s.jsx(wr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(k=N.property)!=null&&k.address?typeof N.property.address=="string"?N.property.address:`${N.property.address.street||""}, ${N.property.address.city||""}, ${N.property.address.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Address not available"})]}),N.room&&s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(ca,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:["Room ",N.room.roomNumber]}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:N.room.roomType}),N.room.bedType&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:N.room.bedType})]})]}),((M=N.property)==null?void 0:M.propertyType)&&s.jsx("div",{className:"inline-block mb-2",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:N.property.propertyType})}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Tr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Added on ",w(N.addedAt)]})]})]}),s.jsxs("div",{className:"mt-4 lg:mt-0 lg:text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(U=N.room)!=null&&U.rent?b(N.room.rent):"Contact for Price"}),s.jsx("div",{className:"text-sm text-gray-600",children:N.room?"per month":"Property"})]})]}),((W=N.property)==null?void 0:W.amenities)&&Object.keys(N.property.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Property Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(N.property.amenities).filter(([Q,z])=>z===!0).slice(0,6).map(([Q,z])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[y(Q),Q]},Q))})]}),((Y=N.room)==null?void 0:Y.amenities)&&Object.keys(N.room.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(N.room.amenities).filter(([Q,z])=>z===!0).slice(0,6).map(([Q,z])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[y(Q),Q]},Q))})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:()=>{var Q;return f(`/seeker/property/${(Q=N.property)==null?void 0:Q._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(kr,{className:"w-4 h-4"}),"View Property"]}),N.room&&s.jsxs("button",{onClick:()=>{var Q;return f(`/seeker/room/${(Q=N.room)==null?void 0:Q._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(ca,{className:"w-4 h-4"}),"View Room"]}),s.jsxs("button",{onClick:()=>j(N),className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Wh,{className:"w-4 h-4"}),"Contact Owner"]})]})]})]})})},N._id)})})]}),s.jsx(TG,{isOpen:c,onClose:()=>d(!1),owner:u})]})},ube=()=>{var he,pe,ee,fe,ue;const[e,t]=_.useState([]),[r,n]=_.useState(!0),[i,a]=_.useState([]),[o,l]=_.useState("all"),[c,d]=_.useState(""),[u,A]=_.useState(!1),[f,m]=_.useState(null),[x,p]=_.useState(!1),[v,y]=_.useState(null),[b,w]=_.useState(!1),[j,N]=_.useState(!1),[B,I]=_.useState(null),[P,T]=_.useState(""),[F,E]=_.useState(!1),k=Ar(),{toast:M}=xc(),U=()=>{const V=localStorage.getItem("user");if(V)try{const ve=JSON.parse(V);return ve.id||ve._id}catch(ve){return console.error("Error parsing user data:",ve),null}return null},W=async()=>{if(!U()){console.error("User ID not found"),n(!1);return}try{n(!0),n(!0);const ve=await kt.get("/property/user/bookings");if(ve.status===200){const Se=ve.data;console.log("Bookings data received:",Se);const ne=(Se.bookings||[]).map(xe=>{var ze,Te,lt,tt,ge,Be,Ne,ke,Me,ot,nt,rt,Ke,st,at,gt,Bt,_t,Vt,yt,At,it,dt,et,Ve,Ct,Zt,Qn,tr,qr,_n,Ft,ps,gs,Tn;const Le={...xe,property:{...xe.propertySnapshot,_id:((ze=xe.propertyId)==null?void 0:ze._id)||xe.propertyId,propertyName:((Te=xe.propertyId)==null?void 0:Te.property_name)||((lt=xe.propertyId)==null?void 0:lt.propertyName)||((tt=xe.propertySnapshot)==null?void 0:tt.name),images:((ge=xe.propertyId)==null?void 0:ge.images)||((Be=xe.propertySnapshot)==null?void 0:Be.images)||[(Ne=xe.propertySnapshot)==null?void 0:Ne.image],address:((ke=xe.propertyId)==null?void 0:ke.address)||((Me=xe.propertySnapshot)==null?void 0:Me.address),security_deposit:((ot=xe.propertyId)==null?void 0:ot.security_deposit)||((nt=xe.propertyId)==null?void 0:nt.securityDeposit)||((rt=xe.propertySnapshot)==null?void 0:rt.security_deposit)},room:{...xe.roomSnapshot,_id:((Ke=xe.roomId)==null?void 0:Ke._id)||xe.roomId,roomNumber:((st=xe.roomId)==null?void 0:st.room_number)||((at=xe.roomId)==null?void 0:at.roomNumber)||((gt=xe.roomSnapshot)==null?void 0:gt.roomNumber),roomImage:((Bt=xe.roomId)==null?void 0:Bt.room_image)||((_t=xe.roomId)==null?void 0:_t.roomImage)||((yt=(Vt=xe.roomSnapshot)==null?void 0:Vt.images)==null?void 0:yt.room)||((At=xe.roomSnapshot)==null?void 0:At.roomImage)||((dt=(it=xe.roomSnapshot)==null?void 0:it.images)==null?void 0:dt[0]),toiletImage:((et=xe.roomId)==null?void 0:et.toilet_image)||((Ve=xe.roomId)==null?void 0:Ve.toiletImage)||((Zt=(Ct=xe.roomSnapshot)==null?void 0:Ct.images)==null?void 0:Zt.toilet)||((Qn=xe.roomSnapshot)==null?void 0:Qn.toiletImage),rent:((tr=xe.roomId)==null?void 0:tr.rent)||((qr=xe.roomSnapshot)==null?void 0:qr.rent),roomType:((_n=xe.roomId)==null?void 0:_n.room_type)||((Ft=xe.roomId)==null?void 0:Ft.roomType)||((ps=xe.roomSnapshot)==null?void 0:ps.roomType)}};return console.log("[DEBUG] Final Mapped booking:",Le._id,{propertyImage:(gs=Le.property)==null?void 0:gs.images,roomImage:(Tn=Le.room)==null?void 0:Tn.roomImage,payment:Le.payment}),Le});t(ne),a(ne)}else console.error("Failed to fetch bookings")}catch(ve){console.error("Error fetching bookings:",ve)}finally{n(!1)}},Y=V=>{y(V),p(!0)},Q=()=>{p(!1),y(null),w(!1)},z=V=>{I(V),T(V.checkInDate?new Date(V.checkInDate).toISOString().split("T")[0]:""),N(!0)},te=()=>{N(!1),I(null),T(""),E(!1)},re=async()=>{if(v)try{w(!0);const V=await kt.delete(`/property/bookings/${v._id}`);if(V.status===200)M({title:"Success",description:(v==null?void 0:v.status)==="rejected"?"Rejected booking removed successfully":"Booking cancelled and removed successfully",variant:"default"}),W(),window.dispatchEvent(new Event("booking-cancelled")),Q();else{const ve=V.data||{};M({title:"Error",description:ve.message||"Failed to cancel booking",variant:"destructive"})}}catch(V){console.error("Error cancelling booking:",V),M({title:"Error",description:"Failed to cancel booking. Please try again.",variant:"destructive"})}finally{w(!1)}},J=async()=>{if(!(!B||!P))try{E(!0);const V=await kt.post(`/property/user/check-in/${B._id}`,{checkInDate:P});if(V.status===200)M({title:"Success",description:"Check-in date marked successfully",variant:"default"}),W(),te();else{const ve=V.data||{};M({title:"Error",description:ve.message||"Failed to mark check-in date",variant:"destructive"})}}catch(V){console.error("Error marking check-in:",V),M({title:"Error",description:"Failed to mark check-in date. Please try again.",variant:"destructive"})}finally{E(!1)}};_.useEffect(()=>{let V=e;o!=="all"&&(V=V.filter(ve=>ve.status===o)),c&&(V=V.filter(ve=>{var ze,Te,lt,tt,ge;const Se=((Te=(ze=ve.property)==null?void 0:ze.propertyName)==null?void 0:Te.toLowerCase())||"",ne=((tt=(lt=ve.room)==null?void 0:lt.roomNumber)==null?void 0:tt.toLowerCase())||"";let xe="";(ge=ve.property)!=null&&ge.address&&(typeof ve.property.address=="string"?xe=ve.property.address.toLowerCase():xe=`${ve.property.address.street||""} ${ve.property.address.city||""} ${ve.property.address.state||""} ${ve.property.address.pincode||""}`.toLowerCase());const Le=c.toLowerCase();return Se.includes(Le)||ne.includes(Le)||xe.includes(Le)})),a(V)},[e,o,c]),_.useEffect(()=>{W()},[]);const H=(V,ve=null)=>{switch(V){case"confirmed":case"approved":return{color:"text-green-600 bg-green-100",icon:s.jsx(wt,{className:"w-4 h-4"}),text:"Approved"};case"checked_in":return{color:"text-blue-600 bg-blue-100",icon:s.jsx(wt,{className:"w-4 h-4"}),text:"Checked In"};case"pending_approval":return{color:"text-yellow-600 bg-yellow-100",icon:s.jsx(rs,{className:"w-4 h-4"}),text:"Pending Approval"};case"payment_pending":return{color:"text-orange-600 bg-orange-100",icon:s.jsx(rs,{className:"w-4 h-4"}),text:"Payment Pending"};case"rejected":return{color:"text-red-600 bg-red-100",icon:s.jsx(ir,{className:"w-4 h-4"}),text:"Rejected"};case"cancelled":return{color:"text-gray-600 bg-gray-100",icon:s.jsx(ir,{className:"w-4 h-4"}),text:ve==="user"?"Cancelled by User":"Cancelled"};default:return{color:"text-gray-600 bg-gray-100",icon:s.jsx(rs,{className:"w-4 h-4"}),text:"Unknown"}}},Z=V=>V?new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not specified",K=V=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(V),ie=V=>{var Se,ne,xe;const ve=V.ownerId&&typeof V.ownerId=="object"?V.ownerId:V.ownerSnapshot||{name:(Se=V.property)==null?void 0:Se.ownerName,phone:(ne=V.property)==null?void 0:ne.ownerPhone,email:(xe=V.property)==null?void 0:xe.ownerEmail};console.log("[DEBUG] Opening contact modal with owner:",ve),m(ve),A(!0)},oe=V=>{switch(V.toLowerCase()){case"wifi":return s.jsx(rm,{className:"w-4 h-4"});case"parking":return s.jsx(fl,{className:"w-4 h-4"});case"security":return s.jsx(rr,{className:"w-4 h-4"});case"food":return s.jsx(kf,{className:"w-4 h-4"});case"gym":return s.jsx(EV,{className:"w-4 h-4"});case"cctv":return s.jsx(es,{className:"w-4 h-4"});default:return s.jsx(Xr,{className:"w-4 h-4"})}};return r?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your bookings..."})]})})}):s.jsxs(Er,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Bookings"}),s.jsx("p",{className:"text-gray-600",children:"Manage and track all your room bookings and reservations."})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by property name, room number, or address...",value:c,onChange:V=>d(V.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsx("div",{className:"lg:w-64",children:s.jsxs("select",{value:o,onChange:V=>l(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"pending_approval",children:"Pending Approval"}),s.jsx("option",{value:"payment_pending",children:"Payment Pending"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",i.length," of ",e.length," bookings"]}),s.jsx("button",{onClick:W,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Refresh"})]})]}),i.length===0?s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Tr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Bookings Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.length===0?"You haven't made any bookings yet. Start exploring properties to book your perfect room!":"No bookings match your current filters. Try adjusting your search criteria."}),e.length===0&&s.jsx("button",{onClick:()=>k("/seeker-dashboard"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]}):s.jsx("div",{className:"space-y-6",children:i.map((V,ve)=>{var ne,xe,Le,ze,Te,lt,tt,ge,Be,Ne,ke,Me,ot,nt,rt,Ke,st,at,gt,Bt,_t,Vt,yt,At,it,dt,et,Ve,Ct,Zt,Qn,tr,qr,_n,Ft,ps,gs,Tn,ss,vr,St,un,ti,Hs,is,as,os,Cn,Ze,jt,Pt,ft,Ut,vn,Lr,je;const Se=H(V.status,V.cancelledBy);return console.log("Booking status:",V.status,"Booking ID:",V._id),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1+ve*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"lg:w-80 flex-shrink-0",children:[V.status==="rejected"?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full h-48 bg-red-50 border-2 border-red-200 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ir,{className:"w-12 h-12 text-red-400 mx-auto mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Booking Rejected"}),s.jsx("p",{className:"text-red-500 text-sm",children:"Room details unavailable"})]})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${Se.color}`,children:[Se.icon,Se.text]})})]}):s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:((ne=V.room)==null?void 0:ne.roomImage)||((xe=V.room)==null?void 0:xe.room_image)||((Le=V.room)==null?void 0:Le.toilet_image)||((ze=V.room)==null?void 0:ze.toiletImage)||((lt=(Te=V.room)==null?void 0:Te.images)==null?void 0:lt.room)||((ge=(tt=V.room)==null?void 0:tt.images)==null?void 0:ge.toilet)||(Array.isArray((Be=V.property)==null?void 0:Be.images)?V.property.images[0]:((ke=(Ne=V.property)==null?void 0:Ne.images)==null?void 0:ke.front)||((nt=(ot=(Me=V.property)==null?void 0:Me.images)==null?void 0:ot.gallery)==null?void 0:nt[0]))||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:`Room ${((rt=V.room)==null?void 0:rt.roomNumber)||"N/A"} - ${((Ke=V.property)==null?void 0:Ke.propertyName)||"Property"}`,className:"w-full h-48 object-cover rounded-lg",onError:Qe=>{Qe.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop"}}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${Se.color}`,children:[Se.icon,Se.text]})}),s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs("span",{className:"px-3 py-1 bg-black bg-opacity-70 text-white text-sm font-medium rounded-lg",children:["Room ",((st=V.room)==null?void 0:st.roomNumber)||"N/A"]})})]}),V.status!=="rejected"&&(((gt=(at=V.property)==null?void 0:at.images)==null?void 0:gt[0])||((_t=(Bt=V.property)==null?void 0:Bt.images)==null?void 0:_t.front))&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[s.jsx(Xr,{className:"w-3 h-3"}),s.jsx("span",{children:"Property View"})]}),s.jsx("img",{src:Array.isArray((Vt=V.property)==null?void 0:Vt.images)?V.property.images[0]:((At=(yt=V.property)==null?void 0:yt.images)==null?void 0:At.front)||((et=(dt=(it=V.property)==null?void 0:it.images)==null?void 0:dt.gallery)==null?void 0:et[0]),alt:V.property.propertyName||"Property",className:"w-full h-20 object-cover rounded-lg"})]}),V.status!=="rejected"&&(((Ve=V.room)==null?void 0:Ve.images)&&V.room.images.length>1||((Ct=V.room)==null?void 0:Ct.roomImage)&&((Zt=V.room)==null?void 0:Zt.toiletImage))&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[s.jsx(es,{className:"w-3 h-3"}),s.jsx("span",{children:"Room Gallery"})]}),s.jsxs("div",{className:"flex gap-1 overflow-x-auto",children:[((Qn=V.room)==null?void 0:Qn.roomImage)&&s.jsx("img",{src:V.room.roomImage,alt:`Room ${((tr=V.room)==null?void 0:tr.roomNumber)||"N/A"} - Main`,className:"w-16 h-12 object-cover rounded border",onError:Qe=>{Qe.target.style.display="none"}}),((qr=V.room)==null?void 0:qr.toiletImage)&&s.jsx("img",{src:V.room.toiletImage,alt:`Room ${((_n=V.room)==null?void 0:_n.roomNumber)||"N/A"} - Bathroom`,className:"w-16 h-12 object-cover rounded border",onError:Qe=>{Qe.target.style.display="none"}}),((Ft=V.room)==null?void 0:Ft.images)&&V.room.images.slice(0,2).map((Qe,Ge)=>{var xt;return s.jsx("img",{src:Qe,alt:`Room ${((xt=V.room)==null?void 0:xt.roomNumber)||"N/A"} - Photo ${Ge+1}`,className:"w-16 h-12 object-cover rounded border",onError:$t=>{$t.target.style.display="none"}},Ge)})]})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:((ps=V.property)==null?void 0:ps.propertyName)||"Unnamed Property"})]}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[s.jsx(wr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(gs=V.property)!=null&&gs.address?typeof V.property.address=="string"?V.property.address:`${V.property.address.street||""}, ${V.property.address.city||""}, ${V.property.address.state||""} ${V.property.address.pincode||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Address not available"})]}),V.status!=="rejected"&&s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(ca,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:["Room ",((Tn=V.room)==null?void 0:Tn.roomNumber)||"N/A"]}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:((ss=V.room)==null?void 0:ss.roomType)||"Standard Room"}),((vr=V.room)==null?void 0:vr.bedType)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:V.room.bedType})]})]}),V.status!=="rejected"&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-2",children:[((St=V.room)==null?void 0:St.occupancy)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zr,{className:"w-3 h-3"}),s.jsxs("span",{children:[V.room.occupancy," person",V.room.occupancy>1?"s":""]})]}),((un=V.room)==null?void 0:un.roomSize)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xr,{className:"w-3 h-3"}),s.jsxs("span",{children:[V.room.roomSize," sq ft"]})]})]}),((ti=V.property)==null?void 0:ti.propertyType)&&s.jsx("div",{className:"inline-block",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:V.property.propertyType})})]}),s.jsx("div",{className:"mt-4 lg:mt-0 lg:text-right",children:V.status==="rejected"?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-red-600 mb-1",children:"Booking Rejected"}),s.jsx("div",{className:"text-sm text-red-500",children:"Room unavailable"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:K(((Hs=V.room)==null?void 0:Hs.rent)||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"per month"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Check-in:"}),s.jsx("span",{children:Z(V.checkInDate)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Check-out:"}),s.jsx("span",{children:Z(V.checkOutDate)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Security Deposit:"}),s.jsx("span",{children:K(((is=V.payment)==null?void 0:is.securityDeposit)||((as=V.property)==null?void 0:as.security_deposit)||((os=V.property)==null?void 0:os.securityDeposit)||V.securityDeposit||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Amount:"}),s.jsx("span",{className:"font-medium",children:K(((Cn=V.payment)==null?void 0:Cn.totalAmount)||V.totalAmount||(((Ze=V.room)==null?void 0:Ze.rent)||0)+(((jt=V.payment)==null?void 0:jt.securityDeposit)||((Pt=V.property)==null?void 0:Pt.security_deposit)||0)||0)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Info"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Payment Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${((ft=V.payment)==null?void 0:ft.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:((Ut=V.payment)==null?void 0:Ut.paymentStatus)||"Pending"})]}),((vn=V.payment)==null?void 0:vn.paidAt)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Paid On:"}),s.jsx("span",{children:Z(V.payment.paidAt)})]}),V.approvedAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Approved On:"}),s.jsx("span",{children:Z(V.approvedAt)})]})]})]})]}),V.status!=="rejected"&&((Lr=V.room)==null?void 0:Lr.amenities)&&Object.keys(V.room.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Room Amenities"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(V.room.amenities).filter(([Qe,Ge])=>Ge===!0).slice(0,6).map(([Qe,Ge])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[oe(Qe),Qe]},Qe)),Object.keys(V.room.amenities).filter(Qe=>V.room.amenities[Qe]===!0).length>6&&s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:["+",Object.keys(V.room.amenities).filter(Qe=>V.room.amenities[Qe]===!0).length-6," more"]})]})]}),((je=V.property)==null?void 0:je.ownerName)&&s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Property Owner"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:V.property.ownerName})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("button",{onClick:()=>k(`/booking-dashboard/${V._id}`),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(Tr,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]}),s.jsxs("button",{onClick:()=>{var Qe;return k(`/seeker/property/${(Qe=V.property)==null?void 0:Qe._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(kr,{className:"w-4 h-4"}),s.jsx("span",{children:"View Property"})]}),V.status!=="rejected"&&s.jsxs("button",{onClick:()=>{var Qe;return k(`/seeker/room/${(Qe=V.room)==null?void 0:Qe._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(ca,{className:"w-4 h-4"}),s.jsx("span",{children:"View Room"})]}),s.jsxs("button",{onClick:()=>ie(V),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(Es,{className:"w-4 h-4"}),s.jsx("span",{children:"Contact Owner"})]}),V.status!=="checked_in"&&V.status!=="rejected"&&s.jsxs("button",{onClick:()=>z(V),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(eu,{className:"w-4 h-4"}),s.jsx("span",{children:V.checkInDate?"Update Check-in":"Set Check-in"})]}),V.status==="rejected"?s.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:"Booking was rejected by owner"}):V.status==="checked_in"?s.jsx("div",{className:"text-center text-blue-600 text-sm py-2 font-medium",children:"Successfully Checked In"}):s.jsxs("button",{onClick:()=>Y(V),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium border-2 border-red-800",children:[s.jsx(ir,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel Booking"})]})]})]})]})})},V._id)})})]}),s.jsx(TG,{isOpen:u,onClose:()=>A(!1),owner:f}),s.jsx(gn,{children:x&&s.jsx(s.Fragment,{children:s.jsx(X.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:Q,children:s.jsxs(X.div,{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(ir,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(v==null?void 0:v.status)==="rejected"?"Remove Booking":"Cancel Booking"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),s.jsx("button",{onClick:Q,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:b,children:s.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(er,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium mb-1",children:"Warning"}),s.jsx("p",{className:"text-red-700 text-sm",children:(v==null?void 0:v.status)==="rejected"?"Are you sure you want to remove this rejected booking from your list? This action cannot be undone and the booking will be permanently removed.":"Are you sure you want to cancel this booking? This action cannot be undone and the booking will be permanently removed."})]})]})}),v&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Property:"}),s.jsx("span",{className:"font-medium",children:((he=v.property)==null?void 0:he.propertyName)||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Room:"}),s.jsxs("span",{className:"font-medium",children:["Room ",((pe=v.room)==null?void 0:pe.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${v.status==="confirmed"?"bg-green-100 text-green-800":v.status==="pending_approval"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:((ee=v.status)==null?void 0:ee.replace("_"," ").toUpperCase())||"N/A"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:Q,disabled:b,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:((v==null?void 0:v.status)==="rejected","Keep Booking")}),s.jsx("button",{onClick:re,disabled:b,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:(v==null?void 0:v.status)==="rejected"?"Removing...":"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"w-4 h-4"}),s.jsx("span",{children:(v==null?void 0:v.status)==="rejected"?"Remove Booking":"Cancel Booking"})]})})]})]})})})}),s.jsx(gn,{children:j&&s.jsx(s.Fragment,{children:s.jsx(X.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:te,children:s.jsxs(X.div,{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(eu,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mark Check-in Date"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Select your check-in date"})]})]}),s.jsx("button",{onClick:te,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:F,children:s.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[B&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Property:"}),s.jsx("span",{className:"font-medium",children:((fe=B.property)==null?void 0:fe.propertyName)||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Room:"}),s.jsxs("span",{className:"font-medium",children:["Room ",((ue=B.room)==null?void 0:ue.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Current Check-in:"}),s.jsx("span",{className:"font-medium",children:Z(B.checkInDate)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Check-in Date *"}),s.jsx("input",{type:"date",id:"checkInDate",value:P,onChange:V=>T(V.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:F}),s.jsx("p",{className:"text-xs text-gray-500",children:"Select the date when you plan to check into the room"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:te,disabled:F,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:J,disabled:F||!P,className:"flex-1 px-4 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:F?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Marking..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(eu,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark Check-in"})]})})]})]})})})})]})},hbe="http://localhost:5000/api",kC=String(hbe).replace(/\/$/,""),Abe=kC.endsWith("/api")?kC:`${kC}/api`,PC=`${Abe}/behaviour`,fbe=()=>{const e=Ar(),[t,r]=_.useState(!0),[n,i]=_.useState([]),[a,o]=_.useState({budget:8e3}),[l,c]=_.useState(null),[d,u]=_.useState(0),A=localStorage.getItem("authToken"),f=localStorage.getItem("user");_.useEffect(()=>{try{const b=f?JSON.parse(f):null;if(b&&(b.isNewUser===!1||b.hasCompletedBehaviorQuestions)){e("/seeker-dashboard",{replace:!0});return}}catch{}if(!A||!f){e("/login",{replace:!0});return}(async()=>{var b,w,j,N;try{try{const I=await cn.get(`${PC}/status`,{headers:{Authorization:`Bearer ${A}`}});if((b=I==null?void 0:I.data)!=null&&b.completed){const P=JSON.parse(localStorage.getItem("user")||"{}");localStorage.setItem("user",JSON.stringify({...P,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),e("/seeker-dashboard",{replace:!0});return}}catch{}const B=await cn.get(`${PC}/questions`,{headers:{Authorization:`Bearer ${A}`}});i(B.data.questions||[])}catch(B){const I=(w=B==null?void 0:B.response)==null?void 0:w.status,P=((N=(j=B==null?void 0:B.response)==null?void 0:j.data)==null?void 0:N.message)||(B==null?void 0:B.message)||"Failed to load questions. Please try again.";if(c(P),I===401){localStorage.removeItem("authToken"),localStorage.removeItem("user"),e("/login");return}}finally{r(!1)}})()},[e,A,f]);const m=(y,b)=>{o(w=>({...w,[y]:b}))},x=()=>u(y=>Math.min(y+1,((n==null?void 0:n.length)||1)-1)),p=()=>u(y=>Math.max(y-1,0)),v=async()=>{var y,b;try{c(null),await cn.post(`${PC}/answers`,{answers:a},{headers:{Authorization:`Bearer ${A}`}});const w=JSON.parse(localStorage.getItem("user"));localStorage.setItem("user",JSON.stringify({...w,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),e("/seeker-dashboard",{replace:!0})}catch(w){const j=((b=(y=w==null?void 0:w.response)==null?void 0:y.data)==null?void 0:b.message)||(w==null?void 0:w.message)||"Failed to submit. Please try again.";c(j)}};return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading questions..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-stone-100",children:[s.jsx(HK,{onMenuToggle:()=>{}}),s.jsx("div",{className:"pt-20"}),s.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tell us about you"}),s.jsx("p",{className:"text-gray-600",children:"This helps us personalize your co-living matches."})]}),l&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),s.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden mb-6",children:s.jsx("div",{className:"h-full bg-red-500 transition-all duration-300",style:{width:`${n.length?(d+1)/n.length*100:0}%`}})}),s.jsx(gn,{mode:"wait",children:n[d]&&s.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-900",children:n[d].text}),s.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[d+1,"/",n.length]})]}),!n[d].type&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n[d].options.map(y=>s.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>m(n[d].id,y),className:`flex items-center gap-3 px-4 py-3 rounded-xl border text-sm font-medium transition shadow-sm ${a[n[d].id]===y?"bg-red-600 text-white border-red-600 shadow":"bg-white text-gray-800 border-gray-300 hover:border-red-400"}`,children:[s.jsx("span",{className:"text-lg",children:mbe(y)}),s.jsx("span",{className:"truncate",children:y})]},y))}),n[d].type==="range"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{type:"range",min:n[d].min,max:n[d].max,value:a[n[d].id]??n[d].min,onChange:y=>m(n[d].id,Number(y.target.value)),className:"w-full"}),s.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-700",children:[s.jsxs("span",{children:[" ",a[n[d].id]??n[d].min]}),s.jsx("div",{className:"flex gap-2",children:[4e3,8e3,12e3].map(y=>s.jsxs("button",{onClick:()=>m(n[d].id,y),className:"px-2 py-1 rounded-lg border border-gray-300 hover:border-red-400 hover:text-red-600",children:[" ",y]},y))})]})]}),s.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[s.jsx("button",{onClick:p,disabled:d===0,className:"px-4 py-2 rounded-lg border text-sm disabled:opacity-40",children:"Back"}),d<n.length-1?s.jsx("button",{onClick:x,className:"px-5 py-2 rounded-lg bg-red-600 text-white text-sm font-semibold hover:bg-red-700",children:"Next"}):s.jsx("button",{onClick:v,className:"px-5 py-2 rounded-lg bg-red-600 text-white text-sm font-semibold hover:bg-red-700",children:"Finish"})]})]},n[d].id)})]})]})};function mbe(e){const t=String(e||"").toLowerCase();return t.includes("night")?"":t.includes("early")?"":t.includes("flex")?"":t.includes("outgoing")?"":t.includes("social")?"":t.includes("private")?"":t.includes("smoke")||t.includes("drink")?"":t.includes("yes")?"":t.includes("no")?"":t.includes("clean")?"":t.includes("veg")?"":t.includes("non")?"":t.includes("vegan")?"":t.includes("cook")?"":t.includes("order")?"":t.includes("quiet")?"":t.includes("noise")?"":t.includes("privacy")?"":t.includes("match")?"":""}const pbe=()=>{const e=Ar(),[t,r]=_.useState(!1),[n,i]=_.useState(null),[a,o]=_.useState(!0),[l,c]=_.useState(null),[d,u]=_.useState(!1),[A,f]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,x]=_.useState({current:!1,new:!1,confirm:!1}),[p,v]=_.useState({type:"",message:""}),[y,b]=_.useState({}),[w,j]=_.useState(!1),[N,B]=_.useState({name:"",email:"",phone:"",location:"",age:"",occupation:"",gender:"",joinDate:"",bio:"",isVerified:!1,trustScore:0,profilePicture:""}),I=U=>{if(!U)return!1;const W=!!U.phone,Y=!(U.age===void 0||U.age===null||U.age==="")&&Number(U.age)>0,Q=!!U.occupation,z=!!U.gender;return W&&Y&&Q&&z};_.useEffect(()=>{(async()=>{try{const W=localStorage.getItem("authToken"),Y=localStorage.getItem("user");if(!W||!Y){i(null),o(!1),e("/login");return}let Q;try{Q=JSON.parse(Y)}catch(te){console.error("SeekerProfile: Error parsing user data:",te),c("Failed to load user data. Please log in again."),o(!1),setTimeout(()=>e("/login"),2e3);return}if(Q.role!==1){console.warn("SeekerProfile: User role mismatch, redirecting"),e("/login");return}i(Q),console.log("SeekerProfile: Loading user data from localStorage:",{id:Q._id,name:Q.name,age:Q.age,gender:Q.gender,phone:Q.phone,occupation:Q.occupation});const z=!Q.age||!Q.gender||!Q.phone||!Q.occupation;if(console.log("SeekerProfile: Should fetch fresh data from API:",z),console.log("SeekerProfile: Missing fields:",{age:!Q.age,gender:!Q.gender,phone:!Q.phone,occupation:!Q.occupation}),z)try{console.log("SeekerProfile: Fetching fresh user data from API...");const re=(await kt.get(`/user/profile/${Q._id}`)).data;if(re){console.log("SeekerProfile: Fresh data from API:",re);const J={...Q,...re};localStorage.setItem("user",JSON.stringify(J)),i(J),B(Z=>({...Z,name:re.name||"",email:re.email||"",profilePicture:re.profilePicture||"",phone:re.phone||"",location:re.location||"",age:re.age||"",occupation:re.occupation||"",gender:re.gender||"",bio:re.bio||"",isVerified:re.isVerified||!1,trustScore:95,joinDate:re.createdAt?new Date(re.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}));const H=[!re.phone,re.age===void 0||re.age===null||re.age==="",!re.occupation,!re.gender].some(Boolean);console.log("SeekerProfile: Profile completion check with fresh data:",{phone:re.phone,age:re.age,occupation:re.occupation,gender:re.gender,needsCompletion:H}),H&&(r(!0),j(!0))}else console.error("SeekerProfile: Failed to fetch fresh data from API"),B(H=>({...H,name:Q.name||"",email:Q.email||"",profilePicture:Q.profilePicture||"",phone:Q.phone||"",location:Q.location||"",age:Q.age||"",occupation:Q.occupation||"",gender:Q.gender||"",bio:Q.bio||"",isVerified:Q.isVerified||!1,trustScore:95,joinDate:Q.createdAt?new Date(Q.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"})),[!Q.phone,Q.age===void 0||Q.age===null||Q.age==="",!Q.occupation,!Q.gender].some(Boolean)&&(r(!0),j(!0))}catch(te){console.error("SeekerProfile: Error fetching fresh data:",te),B(J=>({...J,name:Q.name||"",email:Q.email||"",profilePicture:Q.profilePicture||"",phone:Q.phone||"",location:Q.location||"",age:Q.age||"",occupation:Q.occupation||"",gender:Q.gender||"",bio:Q.bio||"",isVerified:Q.isVerified||!1,trustScore:95,joinDate:Q.createdAt?new Date(Q.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"})),[!Q.phone,Q.age===void 0||Q.age===null||Q.age==="",!Q.occupation,!Q.gender].some(Boolean)&&(r(!0),j(!0))}else{B(re=>({...re,name:Q.name||"",email:Q.email||"",profilePicture:Q.profilePicture||"",phone:Q.phone||"",location:Q.location||"",age:Q.age||"",occupation:Q.occupation||"",gender:Q.gender||"",bio:Q.bio||"",isVerified:Q.isVerified||!1,trustScore:95,joinDate:Q.createdAt?new Date(Q.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}));const te=[!Q.phone,Q.age===void 0||Q.age===null||Q.age==="",!Q.occupation,!Q.gender].some(Boolean);console.log("SeekerProfile: Profile completion check with localStorage data:",{phone:Q.phone,age:Q.age,occupation:Q.occupation,gender:Q.gender,needsCompletion:te}),te&&(r(!0),j(!0))}}catch(W){console.error("SeekerProfile: Error in fetchUserData:",W),c(`An error occurred: ${W.message}`),i(null),setTimeout(()=>e("/login"),2e3)}finally{o(!1)}})()},[e]);const P=(U,W)=>{B(Y=>({...Y,[U]:W}))},T=(U,W)=>{f(Y=>({...Y,[U]:W}))},F=U=>{x(W=>({...W,[U]:!W[U]}))},E=async()=>{try{v({type:"loading",message:"Saving changes..."});const U={},W=/^\+?[0-9]{7,14}$/;(!N.phone||!W.test(String(N.phone).trim()))&&(U.phone="Enter a valid phone number (7-14 digits).");const Y=Number(N.age);if((!N.age||Number.isNaN(Y)||Y<1||Y>120)&&(U.age="Age must be a number between 1 and 120."),(!N.occupation||String(N.occupation).trim().length<2)&&(U.occupation="Occupation is required."),(!N.gender||!["male","female","other"].includes(String(N.gender)))&&(U.gender="Select a gender option."),b(U),Object.keys(U).length>0){v({type:"error",message:"Please fix the highlighted fields."});return}if(!localStorage.getItem("authToken"))throw new Error("No authentication token found");const z={name:N.name,phone:N.phone,age:N.age?Number(N.age):null,occupation:N.occupation,gender:N.gender||null,bio:N.bio};console.log("SeekerProfile: Sending update payload:",z),console.log("SeekerProfile: User ID being used:",n._id);const re=(await kt.put(`/user/profile/${n._id}`,z)).data;console.log("SeekerProfile: API response:",re);const H={...JSON.parse(localStorage.getItem("user")),...re.user};localStorage.setItem("user",JSON.stringify(H)),i(H),B(Z=>({...Z,name:re.user.name||"",email:re.user.email||"",profilePicture:re.user.profilePicture||"",phone:re.user.phone||"",location:re.user.location||"",age:re.user.age||"",occupation:re.user.occupation||"",gender:re.user.gender||"",bio:re.user.bio||"",isVerified:re.user.isVerified||!1})),console.log("SeekerProfile: Updated profileData:",{age:re.user.age,gender:re.user.gender,phone:re.user.phone,occupation:re.user.occupation}),r(!1),v({type:"success",message:"Profile updated successfully!"}),window.dispatchEvent(new Event("lyvo-profile-update")),I({phone:re.user.phone,age:re.user.age,occupation:re.user.occupation,gender:re.user.gender})&&j(!1),setTimeout(()=>v({type:"",message:""}),3e3)}catch(U){v({type:"error",message:U.message||"Failed to update profile"}),setTimeout(()=>v({type:"",message:""}),3e3)}},k=U=>{B(W=>({...W,profilePicture:U})),v({type:"success",message:"Profile picture updated successfully!"}),setTimeout(()=>v({type:"",message:""}),3e3)},M=async()=>{try{if(A.newPassword!==A.confirmPassword){v({type:"error",message:"New passwords do not match"});return}if(A.newPassword.length<6){v({type:"error",message:"Password must be at least 6 characters long"});return}v({type:"loading",message:"Updating password..."}),await kt.post("/user/change-password",{currentPassword:A.currentPassword,newPassword:A.newPassword}),v({type:"success",message:"Password updated successfully!"}),u(!1),f({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>v({type:"",message:""}),3e3)}catch(U){v({type:"error",message:U.message||"Failed to update password"}),setTimeout(()=>v({type:"",message:""}),3e3)}};return s.jsx(Er,{children:a?s.jsx("div",{className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."}),l&&s.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg max-w-md mx-auto",children:s.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[s.jsx(er,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:l})]})})]})}):n?s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:s.jsxs("div",{className:"relative min-h-[16rem] md:h-48 bg-gradient-to-r from-red-500/10 via-red-600/10 to-red-700/10 flex flex-col justify-end md:block",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-transparent"}),s.jsx("div",{className:"absolute top-4 right-4 md:top-6 md:right-8 z-10",children:s.jsxs(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!t),className:"bg-white/90 backdrop-blur-sm text-gray-700 px-3 py-1.5 md:px-4 md:py-2 rounded-xl font-medium flex items-center space-x-2 shadow-lg hover:bg-white transition-all duration-300 text-sm md:text-base",children:[t?s.jsx(or,{className:"w-4 h-4"}):s.jsx(hf,{className:"w-4 h-4"}),s.jsx("span",{children:t?"Cancel":"Edit"})]})}),s.jsxs("div",{className:"relative p-6 pt-12 md:p-0 md:absolute md:bottom-6 md:left-8 flex flex-col md:flex-row items-center md:items-end space-y-3 md:space-y-0 md:space-x-6 w-full md:w-auto",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(o6,{currentImage:N.profilePicture,onImageUpdate:k,className:"w-20 h-20 md:w-24 md:h-24"}),N.isVerified&&s.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 md:w-6 md:h-6 bg-green-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:s.jsx(rr,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"text-gray-900 pb-0 md:pb-2 text-center md:text-left",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-1",children:N.name||"User"}),s.jsxs("p",{className:"text-gray-600 flex items-center justify-center md:justify-start space-x-2 text-sm md:text-base",children:[s.jsx(Tr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Joined ",N.joinDate||"Recently"]})]})]})]})]})})}),s.jsx(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-8 flex justify-end",children:s.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const U=Cp(n);e(U==="/seeker-profile"||U==="/onboarding"?"/seeker-dashboard":U)},className:"w-full sm:w-auto bg-gradient-to-r from-red-600 to-red-700 text-white px-8 py-3 rounded-xl font-bold flex items-center justify-center space-x-2 shadow-lg shadow-red-500/30 hover:shadow-red-500/40 transition-all duration-300",children:[s.jsx(Cue,{className:"w-5 h-5"}),s.jsx("span",{children:"Go to Dashboard"})]})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4 md:p-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Personal Information"}),s.jsx("div",{className:"flex items-center space-x-2 self-start sm:self-auto",children:s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:[s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:"Verified"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),t?s.jsx("input",{type:"text",value:N.name,onChange:U=>P("name",U.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gender"}),t?s.jsxs("select",{value:N.gender,onChange:U=>P("gender",U.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.gender?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.gender?N.gender.charAt(0).toUpperCase()+N.gender.slice(1):"Not provided"}),t&&y.gender&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.gender})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(ln,{className:"w-4 h-4 mr-2 text-gray-400"}),N.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),t?s.jsx("input",{type:"tel",value:N.phone,onChange:U=>P("phone",U.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.phone?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(Es,{className:"w-4 h-4 mr-2 text-gray-400"}),N.phone||"Not provided"]}),t&&y.phone&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Age"}),t?s.jsx("input",{type:"number",min:0,max:120,value:N.age,onChange:U=>P("age",U.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.age?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,placeholder:"Your age"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.age||"Not provided"}),t&&y.age&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.age})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Occupation"}),t?s.jsx("input",{type:"text",value:N.occupation,onChange:U=>P("occupation",U.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.occupation?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,placeholder:"e.g., Student, Software Engineer"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.occupation||"Not provided"}),t&&y.occupation&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.occupation})]})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Trust Score"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:N.trustScore})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Excellent Profile"})]})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"w-full px-4 py-3 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-300 flex items-center justify-center space-x-2",children:[s.jsx(dc,{className:"w-4 h-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]}),t&&s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:s.jsx("div",{className:"text-center mt-8",children:s.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:E,disabled:p.type==="loading",className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Bv,{className:"w-5 h-5"}),s.jsx("span",{children:p.type==="loading"?"Saving...":"Save Changes"})]})})}),p.message&&s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`fixed top-20 right-4 z-50 px-6 py-3 rounded-xl shadow-lg ${p.type==="success"?"bg-green-100 border border-green-300 text-green-800":p.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-100 border border-blue-300 text-blue-800"}`,children:p.message}),w&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full border border-blue-200",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Complete your profile to continue"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Phone, Age, Occupation, and Gender are required."})]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:[!N.phone&&s.jsx("li",{children:"Phone Number is missing"}),(N.age===void 0||N.age===null||N.age==="")&&s.jsx("li",{children:"Age is missing"}),!N.occupation&&s.jsx("li",{children:"Occupation is missing"}),!N.gender&&s.jsx("li",{children:"Gender is missing"})]})}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsx("button",{onClick:()=>{r(!0),j(!1)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Edit Now"}),s.jsx("button",{disabled:!I(N),onClick:()=>j(!1),className:`flex-1 px-4 py-2 rounded-lg ${I(N)?"bg-green-600 text-white hover:bg-green-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Continue"})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-8 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Change Password"}),s.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(or,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.current?"text":"password",value:A.currentPassword,onChange:U=>T("currentPassword",U.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>F("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.current?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.new?"text":"password",value:A.newPassword,onChange:U=>T("newPassword",U.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>F("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.new?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.confirm?"text":"password",value:A.confirmPassword,onChange:U=>T("confirmPassword",U.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>F("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.confirm?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300",children:"Cancel"}),s.jsx("button",{onClick:M,disabled:p.type==="loading",className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-300 disabled:opacity-50",children:p.type==="loading"?"Updating...":"Update Password"})]})]})]})})]})}):s.jsx("div",{className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(cr,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access your profile."}),s.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-lg font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200",children:"Go to Login"})]})})})};delete Pa.Icon.Default.prototype._getIconUrl;Pa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const gbe=()=>{var B,I,P;const{id:e}=wu(),t=Ar(),{toast:r}=xc(),[n,i]=_.useState(null),[a,o]=_.useState(!0),[l,c]=_.useState(!1),[d,u]=_.useState([0,0]),[A,f]=_.useState(!1),m=_.useRef(null),p=n?(T=>{if(!(T!=null&&T.images))return[];const{gallery:F,...E}=T.images,k=Object.values(E).filter(U=>typeof U=="string"&&U.length>0),M=Array.isArray(F)?F:[];return[...k,...M]})(n):[],v=T=>{if(!T)return"";if(typeof T=="string")return T;const{street:F,city:E,state:k,pincode:M,landmark:U}=T;return[F,U,E,k,M].filter(Boolean).join(", ")},y=()=>{if(!(n!=null&&n.rooms)||n.rooms.length===0)return 0;const T=n.rooms.map(F=>F.rent||0);return Math.min(...T)};_.useEffect(()=>{e&&(async()=>{o(!0);try{const E=(await kt.get(`/property/public/properties/${e}`)).data;E.success&&E.data?(i(E.data),E.data.latitude&&E.data.longitude&&u([parseFloat(E.data.latitude),parseFloat(E.data.longitude)])):console.error("Property data missing:",E)}catch(F){console.error("Error fetching property details:",F),r({title:"Error",description:"Failed to load property details",variant:"destructive"})}finally{o(!1)}})()},[e,r]);const b=()=>{var T;(T=m.current)==null||T.scrollIntoView({behavior:"smooth"})};if(a)return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(!n)return s.jsx(Er,{children:s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Property Not Found"}),s.jsx("button",{onClick:()=>t(-1),className:"text-blue-600 hover:underline",children:"Go Back"})]})});const w=y(),j=n.ownerDetails,N=async()=>{if(navigator.share)try{await navigator.share({title:n.property_name,text:`Check out this property: ${n.property_name}`,url:window.location.href})}catch(T){console.log("Error sharing:",T)}else navigator.clipboard.writeText(window.location.href),r({title:"Link copied",description:"Property link copied to clipboard"})};return s.jsx(Er,{children:s.jsxs("div",{className:`min-h-screen bg-gray-50 pb-20 md:pb-10 ${A?"overflow-hidden h-screen":""}`,children:[s.jsx(gn,{children:A&&s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 text-white border-b border-gray-800",children:[s.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(or,{className:"w-6 h-6"})}),s.jsxs("span",{className:"font-medium",children:["All Photos (",p.length,")"]}),s.jsx("div",{className:"w-10"})," "]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:s.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map((T,F)=>s.jsx("div",{className:"aspect-video relative group overflow-hidden rounded-lg",children:s.jsx("img",{src:T,alt:`Property ${F+1}`,className:"w-full h-full object-cover"})},F))})})]})}),s.jsx("div",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(pi,{className:"w-5 h-5 text-gray-600"})})}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:N,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600",children:s.jsx(eg,{className:"w-5 h-5"})})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8 mt-2",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:n.property_name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-600 text-lg",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(wr,{className:"w-5 h-5"})," ",v(n.address)]}),s.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ca,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"})," 4.8 (12 reviews)"]})]})]}),s.jsxs("div",{className:"relative rounded-2xl overflow-hidden h-[300px] md:h-[450px] mb-8",children:[p.length===0?s.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:"No Images Available"}):p.length===1?s.jsx("img",{src:p[0],alt:"Property",className:"w-full h-full object-cover"}):s.jsxs("div",{className:"w-full h-full grid grid-cols-1 md:grid-cols-4 grid-rows-2 gap-2",children:[s.jsx("div",{className:"col-span-2 row-span-2 relative group cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:p[0],alt:"Main",className:"w-full h-full object-cover hover:opacity-95 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:p[1],alt:"Side 1",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:p[2]||p[1],alt:"Side 2",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:p[3]||p[1],alt:"Side 3",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsxs("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:[s.jsx("img",{src:p[4]||p[1],alt:"Side 4",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center hover:bg-black/40 transition-colors",children:s.jsxs("button",{onClick:T=>{T.stopPropagation(),f(!0)},className:"px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg text-sm font-semibold shadow-sm hover:scale-105 transition-transform flex items-center gap-2",children:[s.jsx(yF,{className:"w-4 h-4"})," Show all photos"]})})]})]}),s.jsxs("button",{onClick:()=>f(!0),className:"md:hidden absolute bottom-4 right-4 px-3 py-1.5 bg-white/90 backdrop-blur-md rounded-lg text-xs font-semibold shadow-sm flex items-center gap-2",children:[s.jsx(yF,{className:"w-3 h-3"})," Show all photos"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About this place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:n.description||"No description available."})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Property Highlights"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[s.jsx(ca,{className:"w-6 h-6 mb-2 text-gray-700"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[((B=n.rooms)==null?void 0:B.length)||0," Rooms"]})]}),s.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[s.jsx(zr,{className:"w-6 h-6 mb-2 text-gray-700"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["Max ",n.maxOccupancy||"N/A"]})]}),s.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[s.jsx(ei,{className:"w-6 h-6 mb-2 text-gray-700"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["",n.security_deposit||0," Dep."]})]}),s.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[s.jsx(rr,{className:"w-6 h-6 mb-2 text-gray-700"}),s.jsx("p",{className:"font-semibold text-gray-900",children:"Verified"})]})]})]}),s.jsx("hr",{className:"border-gray-100"}),n.amenities&&Object.keys(n.amenities).some(T=>n.amenities[T])&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What this place offers"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-y-4 gap-x-8",children:Object.entries(n.amenities).filter(([,T])=>T===!0).map(([T])=>s.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[s.jsx(wt,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"capitalize",children:T.replace(/([A-Z])/g," $1").trim()})]},T))})]}),s.jsx("hr",{className:"border-gray-100"}),n.rules&&Object.keys(n.rules).some(T=>n.rules[T]!==void 0)&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.rules).map(([T,F])=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl",children:[s.jsx("span",{className:"text-gray-700 capitalize font-medium",children:T.replace(/([A-Z])/g," $1").trim()}),F?s.jsx("span",{className:"text-green-700 text-sm font-bold bg-green-50 px-3 py-1 rounded-full",children:"Allowed"}):s.jsx("span",{className:"text-red-700 text-sm font-bold bg-red-50 px-3 py-1 rounded-full",children:"No"})]},T))})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{ref:m,className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Available Rooms"}),n.rooms&&n.rooms.length>0?s.jsx("div",{className:"space-y-4",children:n.rooms.map(T=>{var F;return s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 p-4 border border-gray-200 rounded-2xl hover:border-black transition-colors cursor-pointer group",onClick:()=>t(`/seeker/room/${T._id}`,{state:{fromPropertyId:e}}),children:[s.jsx("div",{className:"w-full md:w-48 h-32 bg-gray-100 rounded-xl overflow-hidden shrink-0",children:T.room_image?s.jsx("img",{src:T.room_image,alt:`Room ${T.roomNumber}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx(ca,{className:"w-8 h-8"})})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:["Room ",T.roomNumber,s.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500 capitalize",children:["(",T.type,")"]})]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[T.occupancy," Person Occupancy  ",T.dimension," sq ft "]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["",(F=T.rent)==null?void 0:F.toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500",children:"/ month"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:T.amenities&&Object.entries(T.amenities).slice(0,3).filter(([,E])=>E).map(([E])=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-md capitalize",children:E.replace(/([A-Z])/g," $1").trim()},E))})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 md:mt-0",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-md ${T.isAvailable?"text-green-700 bg-green-50":"text-red-700 bg-red-50"}`,children:T.isAvailable?"Available Now":"Not Available"}),s.jsx("span",{className:"text-sm font-semibold underline",children:"View Details"})]})]})]},T._id)})}):s.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-xl text-gray-500 border border-dashed border-gray-300",children:"No rooms listed yet."})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Where you'll be"}),s.jsx("div",{className:"h-64 md:h-[400px] w-full rounded-2xl overflow-hidden relative z-0 border border-gray-200",children:n.latitude&&n.longitude?s.jsxs("div",{className:"relative h-full w-full group",children:[s.jsxs(Gh,{center:d,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,dragging:!1,zoomControl:!1,children:[s.jsx(Yh,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(qh,{position:d})]}),s.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${n.latitude},${n.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 bg-black/5 group-hover:bg-black/10 transition-colors z-[400] flex items-center justify-center",children:s.jsxs("button",{className:"bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg text-sm font-semibold text-gray-800 flex items-center gap-2 transform group-hover:scale-105 transition-all",children:[s.jsx(wr,{className:"w-4 h-4 text-blue-600"}),"Open in Google Maps"]})})]}):s.jsxs("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-500",children:[s.jsx(wr,{className:"w-8 h-8 mb-2"}),s.jsx("p",{children:"Map location unavailable"})]})}),s.jsxs("p",{className:"text-gray-600",children:[(I=n.address)==null?void 0:I.city,", ",(P=n.address)==null?void 0:P.state]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-28 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Rent starts from"}),s.jsxs("div",{className:"flex items-end gap-1",children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",w.toLocaleString()]}),s.jsx("span",{className:"text-gray-500 mb-1",children:"/ month"})]})]}),s.jsxs("div",{className:"space-y-3 mb-6 border-t border-b border-gray-100 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(wt,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Zero Brokerage"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(wt,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Instant Booking"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(wt,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Verified Listing"})]})]}),s.jsx("button",{onClick:b,className:"w-full py-3.5 rounded-xl text-white font-bold text-lg shadow-md hover:shadow-lg transition-all transform active:scale-95 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"Check Availability"})]}),j&&s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[j.profilePicture?s.jsx("img",{src:j.profilePicture,alt:j.name,className:"w-14 h-14 rounded-full object-cover"}):s.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:s.jsx(cr,{className:"w-7 h-7"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:["Hosted by ",j.name]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Joined in 2024"})]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[j.bio&&s.jsx("p",{className:"text-sm text-gray-600",children:j.bio}),j.location&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{children:["Lives in ",j.location.city||j.location]})]})]}),s.jsx("button",{className:"w-full py-2.5 border border-gray-900 rounded-lg text-sm font-semibold text-gray-900 hover:bg-gray-50 transition-colors",children:"Contact Host"})]})]})})]})]})]})})},xbe=()=>{var Q,z,te,re;const{propertyId:e}=wu(),t=Ar(),{toast:r}=xc(),[n,i]=_.useState(null),[a,o]=_.useState([]),[l,c]=_.useState(!0),[d,u]=_.useState({}),[A,f]=_.useState({}),[m,x]=_.useState({}),[p,v]=_.useState({lat:12.9716,lng:77.5946}),[y,b]=_.useState(15),[w,j]=_.useState(!1),[N,B]=_.useState(null),I=_.useRef(null),P=_.useRef(null),T=_.useRef(null),F=()=>{const J=localStorage.getItem("user");if(J)try{const H=JSON.parse(J);return H.id||H._id}catch(H){return console.error("Error parsing user data:",H),null}return null},E=async J=>{const H=F();if(!(!H||!J)){x(Z=>({...Z,[J]:!0}));try{const Z=await kt.get(`/bookings/check-status?userId=${H}&roomId=${J}`),K=Z.data;if(f(ie=>({...ie,[J]:K})),Z.ok){const ie=await Z.json();f(oe=>({...oe,[J]:ie}))}}catch(Z){console.error("Error checking booking status:",Z)}finally{x(Z=>({...Z,[J]:!1}))}}},k=async()=>{try{if(!window.google||!window.google.maps){const J=document.createElement("script");J.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoPzRJLAmma54BBOyF4AhZ2ZIqGvak8CA&libraries=places,geometry",J.async=!0,J.defer=!0,await new Promise((H,Z)=>{J.onload=H,J.onerror=Z,document.head.appendChild(J)})}I.current&&window.google&&window.google.maps&&(P.current=new window.google.maps.Map(I.current,{center:p,zoom:y,mapTypeId:window.google.maps.MapTypeId.ROADMAP}),T.current=new window.google.maps.Marker({position:p,map:P.current,title:(n==null?void 0:n.property_name)||"Property Location"}))}catch(J){console.error("Error initializing Google Maps:",J)}},M=async()=>{try{c(!0);const H=(await kt.get(`/property/public/properties/${e}`)).data;if(console.log("Property API Response Data:",H),H.success&&H.data){i(H.data);const Z=H.data.rooms||[];o(Z),Z.forEach(K=>{K._id&&E(K._id)}),H.data.latitude&&H.data.longitude&&v({lat:parseFloat(H.data.latitude),lng:parseFloat(H.data.longitude)})}else throw new Error(H.message||"Failed to fetch property details")}catch(J){console.error("Error fetching property details:",J),r({title:"Error",description:`Failed to load property details: ${J.message}`,variant:"destructive"})}finally{c(!1)}},U=async J=>{const H=F();if(!H){r({title:"Authentication Required",description:"Please login to book a room",variant:"destructive"}),t("/login");return}u(Z=>({...Z,[J]:!0}));try{const K=(await kt.post("/property/payments/create-order",{userId:H,roomId:J,propertyId:e})).data;console.log("Payment order created:",K);const ie={key:"rzp_test_RL5vMta3bKvRd4",amount:K.order.amount,currency:K.order.currency,name:"Lyvo",description:`Booking for ${K.paymentDetails.roomDetails.roomType} Room`,order_id:K.order.id,handler:async function(he){try{const ee=(await kt.post("/property/payments/verify",{razorpay_order_id:he.razorpay_order_id,razorpay_payment_id:he.razorpay_payment_id,razorpay_signature:he.razorpay_signature,userId:H,roomId:J,propertyId:e,monthlyRent:K.paymentDetails.monthlyRent,securityDeposit:K.paymentDetails.securityDeposit})).data;console.log("Payment verified and booking created:",ee),r({title:"Payment Successful!",description:"Your payment has been processed. Waiting for owner approval.",variant:"default"})}catch(pe){console.error("Payment verification error:",pe),r({title:"Payment Verification Failed",description:"Please contact support.",variant:"destructive"})}},prefill:{name:(()=>{const he=localStorage.getItem("user");if(he)try{return JSON.parse(he).name||""}catch{return""}return""})(),email:(()=>{const he=localStorage.getItem("user");if(he)try{return JSON.parse(he).email||""}catch{return""}return""})(),contact:(()=>{const he=localStorage.getItem("user");if(he)try{return JSON.parse(he).phone||""}catch{return""}return""})()},theme:{color:"#2563eb"},modal:{ondismiss:function(){r({title:"Payment Cancelled",description:"Payment was cancelled. You can try again.",variant:"destructive"})}}};new window.Razorpay(ie).open()}catch(Z){console.error("Error creating payment order:",Z),r({title:"Error",description:"Failed to initiate payment. Please try again.",variant:"destructive"})}finally{u(Z=>({...Z,[J]:!1}))}},W=()=>Math.floor(Math.random()*30)+70,Y=()=>Math.random()>.3;return _.useEffect(()=>{e&&M()},[e]),_.useEffect(()=>{n&&p.lat&&p.lng&&k()},[n,p]),l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading property details..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Property ID: ",e]})]})}):n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.property_name}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[(Q=n.address)==null?void 0:Q.street,", ",(z=n.address)==null?void 0:z.city,", ",(te=n.address)==null?void 0:te.state]})]}),s.jsx("button",{onClick:()=>t("/seeker/dashboard"),className:"text-gray-600 hover:text-gray-900 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.images&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Images"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(n.images).map(([J,H])=>H&&typeof H=="string"?s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:H,alt:`Property ${J}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})},J):null)})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"About this property"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.description}),n.amenities&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Property Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(n.amenities).map(([J,H])=>H===!0?s.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full",children:J.replace(/([A-Z])/g," $1").replace(/^./,Z=>Z.toUpperCase())},J):null)})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location"}),s.jsx("div",{ref:I,className:"h-64 w-full rounded-lg overflow-hidden",style:{minHeight:"256px"}}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Coordinates: ",p.lat.toFixed(6),", ",p.lng.toFixed(6)]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Available Rooms"}),a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rooms available"}),s.jsx("p",{className:"text-gray-600",children:"This property doesn't have any available rooms at the moment."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(J=>{var H;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(J.roomImage||J.toiletImage)&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[J.roomImage&&s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:J.roomImage,alt:"Room",className:"w-full h-full object-cover"})}),J.toiletImage&&s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:J.toiletImage,alt:"Toilet",className:"w-full h-full object-cover"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",J.roomNumber,"  ",J.roomType]}),s.jsxs("div",{className:"flex items-center gap-2",children:[J.status==="inactive"?s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-800 font-medium",children:" Inactive"}):J.status==="maintenance"?s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 font-medium",children:" Maintenance"}):J.room_status==="full"?s.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-100 text-orange-800 font-medium",children:[" ",J.currentTenants||J.occupancy,"/",J.occupancy," Full"]}):s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${J.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:J.isAvailable?` ${J.currentTenants||0}/${J.occupancy} Available`:"Not Available"}),Y()&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"Verified"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:["Size: ",J.roomSize," sq ft"]}),s.jsxs("p",{children:["Bed: ",J.bedType]}),s.jsxs("p",{children:["Occupancy: ",J.occupancy," person",J.occupancy>1?"s":""]})]}),J.description&&s.jsx("p",{className:"text-sm text-gray-700",children:J.description}),J.amenities&&Object.keys(J.amenities).some(Z=>J.amenities[Z]===!0)&&s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(J.amenities).map(([Z,K])=>K===!0?s.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:Z.replace(/([A-Z])/g," $1").replace(/^./,ie=>ie.toUpperCase())},Z):null)}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Behavioral Match"}),s.jsxs("span",{className:"text-sm font-bold text-blue-900",children:[W(),"%"]})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${W()}%`}})})]}),(J.status==="inactive"||J.status==="maintenance"||J.room_status==="full")&&s.jsx("div",{className:`p-4 rounded-lg border-2 ${J.status==="inactive"?"bg-red-50 border-red-200":J.status==="maintenance"?"bg-yellow-50 border-yellow-200":"bg-orange-50 border-orange-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${J.status==="inactive"?"bg-red-100":J.status==="maintenance"?"bg-yellow-100":"bg-orange-100"}`,children:J.status==="inactive"?"":J.status==="maintenance"?"":""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-semibold text-sm mb-1 ${J.status==="inactive"?"text-red-900":J.status==="maintenance"?"text-yellow-900":"text-orange-900"}`,children:J.status==="inactive"?"Room Currently Inactive":J.status==="maintenance"?"Room Under Maintenance":`Room is Full (${J.currentTenants||J.occupancy}/${J.occupancy})`}),s.jsx("p",{className:`text-xs ${J.status==="inactive"?"text-red-700":J.status==="maintenance"?"text-yellow-700":"text-orange-700"}`,children:J.status==="inactive"?"This room has been temporarily deactivated by the owner and is not available for booking at this time.":J.status==="maintenance"?"This room is currently undergoing maintenance and will be available soon.":`This room has reached its maximum occupancy limit (${J.currentTenants||J.occupancy}/${J.occupancy}) and is not available for booking.`})]})]})}),J.status!=="inactive"&&J.status!=="maintenance"&&s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",J.rent?J.rent.toLocaleString():"Ask Price"]}),s.jsx("span",{className:"text-sm text-gray-600",children:"/month"})]}),m[J._id]?s.jsx("div",{className:"px-6 py-2 rounded-lg bg-gray-100 text-gray-600 text-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),"Checking..."]})}):(H=A[J._id])!=null&&H.hasBooking?s.jsxs("div",{className:"px-6 py-2 rounded-lg text-center",children:[A[J._id].status==="pending_approval"&&s.jsxs("div",{className:"bg-yellow-100 text-yellow-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"font-medium text-sm",children:"Approval Pending"})]}),s.jsx("p",{className:"text-xs",children:"Waiting for owner approval"})]}),A[J._id].status==="confirmed"&&s.jsxs("div",{className:"bg-green-100 text-green-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium text-sm",children:"Confirmed"})]}),s.jsx("p",{className:"text-xs",children:"Booking approved"})]}),A[J._id].status==="payment_pending"&&s.jsxs("div",{className:"bg-orange-100 text-orange-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"font-medium text-sm",children:"Payment Pending"})]}),s.jsx("p",{className:"text-xs",children:"Complete payment"})]}),A[J._id].status==="rejected"&&s.jsxs("div",{className:"bg-red-100 text-red-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium text-sm",children:"Rejected"})]}),s.jsx("p",{className:"text-xs",children:"Booking not approved"})]})]}):!J.isAvailable||J.room_status==="full"?s.jsx("div",{className:"px-6 py-2 rounded-lg bg-gray-100 text-gray-600 font-medium border border-gray-300",children:J.room_status==="full"?`Room Full (${J.currentTenants||J.occupancy}/${J.occupancy})`:"Not Available"}):s.jsx("button",{onClick:()=>{B(J),j(!0)},disabled:d[J._id],className:`px-6 py-2 rounded-lg font-medium transition-colors ${d[J._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:d[J._id]?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Booking..."]}):"Book Now"})]})]})]},J._id)})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Owner"}),s.jsx("p",{className:"font-medium text-gray-900",children:n.ownerName||"Unknown Owner"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Security Deposit"}),s.jsxs("p",{className:"font-medium text-gray-900",children:["",((re=n.security_deposit)==null?void 0:re.toLocaleString())||"Not specified"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Rooms"}),s.jsx("p",{className:"font-medium text-gray-900",children:a.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Available Rooms"}),s.jsx("p",{className:"font-medium text-gray-900",children:a.filter(J=>J.isAvailable).length})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Owner"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Have questions about this property? Contact the owner directly."}),s.jsx("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Contact Owner"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Add to Favorites"}),s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Share Property"}),s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Report Issue"})]})]})]})]})})]}),w&&N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Payment Breakdown"}),s.jsx("button",{onClick:()=>{j(!1),B(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:(n==null?void 0:n.property_name)||"Property"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Room ",N.room_number,"  ",N.room_type]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-700",children:"Monthly Rent"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["",N.rent?N.rent.toLocaleString():"0"]})]}),s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-700",children:"Security Deposit"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["",n!=null&&n.security_deposit?n.security_deposit.toLocaleString():"0"]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 bg-blue-50 rounded-lg px-4",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Total Amount"}),s.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["",N.rent&&(n!=null&&n.security_deposit)?(N.rent+n.security_deposit).toLocaleString():"0"]})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-200",children:s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-green-900 font-semibold",children:"Advance Payment (10%)"}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"To be paid online now"})]}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:["",N.rent&&(n!=null&&n.security_deposit)?((N.rent+n.security_deposit)*.1).toLocaleString():"0"]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border-2 border-orange-200",children:s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-orange-900 font-semibold",children:"Remaining Amount (90%)"}),s.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"To be paid offline during check-in"})]}),s.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["",N.rent&&(n!=null&&n.security_deposit)?((N.rent+n.security_deposit)*.9).toLocaleString():"0"]})]})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsxs("h5",{className:"font-semibold text-yellow-900 mb-2 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Important Notes"]}),s.jsxs("ul",{className:"text-sm text-yellow-900 space-y-1.5",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Security deposit is fully refundable at checkout"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Pay 10% advance online to confirm your booking"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Remaining 90% payment during check-in (cash/UPI)"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Owner approval required before check-in"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{j(!1),B(null)},className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),s.jsx("button",{onClick:()=>{j(!1),U(N._id)},disabled:d[N._id],className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-medium shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:d[N._id]?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Proceed to Pay"})]})]})})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The property you're looking for doesn't exist or is no longer available."}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-6",children:[s.jsxs("p",{children:["Property ID: ",e]}),s.jsx("p",{children:"Please check if the property service is running on port 3002"})]}),s.jsx("button",{onClick:()=>t("/seeker/dashboard"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})})},ybe=()=>{var Le,ze,Te,lt,tt,ge,Be,Ne,ke,Me,ot,nt,rt,Ke,st;const e=Ar(),{bookingId:t}=wu(),{toast:r}=xc(),[n,i]=_.useState(null),[a,o]=_.useState(null),[l,c]=_.useState(null),[d,u]=_.useState(null),[A,f]=_.useState(!0),[m,x]=_.useState(""),[p,v]=_.useState({amenities:!0,payment:!0,contact:!0,documents:!1}),[y,b]=_.useState(!1),[w,j]=_.useState(""),[N,B]=_.useState(!1),[I,P]=_.useState(!1),[T,F]=_.useState(""),[E,k]=_.useState(!1),[M,U]=_.useState(!1);_.useEffect(()=>{W()},[t]);const W=async()=>{var at,gt,Bt,_t,Vt;try{f(!0);const yt=localStorage.getItem("authToken"),At=JSON.parse(localStorage.getItem("user")||"{}");if(!yt){e("/login");return}const it=await kt.get(`/property/bookings/${t}`);if(it.status!==200)throw new Error("Failed to fetch booking details");const et=it.data.booking;if(i(et),et.propertyId&&typeof et.propertyId=="object"){const Ve=et.propertyId;o({...Ve,propertyName:Ve.property_name||Ve.propertyName,images:(gt=(at=Ve.images)==null?void 0:at.gallery)!=null&&gt.length?Ve.images.gallery:[(Bt=Ve.images)==null?void 0:Bt.front].filter(Boolean),security_deposit:Ve.security_deposit||Ve.securityDeposit})}else{const Ve=et.propertySnapshot;Ve&&o({_id:et.propertyId,propertyName:Ve.name,address:Ve.address,images:Ve.images||[Ve.image].filter(Boolean),security_deposit:Ve.security_deposit})}if(et.roomId&&typeof et.roomId=="object"){const Ve=et.roomId;c({...Ve,roomNumber:Ve.room_number||Ve.roomNumber,roomType:Ve.room_type||Ve.roomType,roomImage:Ve.room_image||Ve.roomImage,rent:Ve.rent})}else{const Ve=et.roomSnapshot;Ve&&c({_id:et.roomId,roomNumber:Ve.roomNumber,roomType:Ve.roomType,rent:Ve.rent,roomSize:Ve.roomSize,roomImage:(_t=Ve.images)==null?void 0:_t.room,toiletImage:(Vt=Ve.images)==null?void 0:Vt.toilet,amenities:Ve.amenities})}if(et.ownerId&&typeof et.ownerId=="object")u(et.ownerId);else{const Ve=et.ownerSnapshot;Ve&&u({id:et.ownerId,name:Ve.name,email:Ve.email,phone:Ve.phone})}}catch(yt){console.error("Error fetching booking details:",yt),x("Failed to load booking details")}finally{f(!1)}},Y=at=>{switch(at){case"confirmed":case"approved":return"bg-green-100 text-green-800";case"checked_in":return"bg-blue-100 text-blue-800";case"pending":case"pending_approval":case"payment_pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Q=at=>{switch(at){case"confirmed":case"approved":return s.jsx(Qr,{className:"w-4 h-4"});case"checked_in":return s.jsx(Qr,{className:"w-4 h-4 text-blue-600"});case"pending":case"pending_approval":case"payment_pending":return s.jsx(rs,{className:"w-4 h-4"});case"cancelled":return s.jsx(er,{className:"w-4 h-4"});default:return s.jsx(rs,{className:"w-4 h-4"})}},z=at=>({wifi:s.jsx(rm,{className:"w-3 h-3"}),parking:s.jsx(fl,{className:"w-3 h-3"}),kitchen:s.jsx(kf,{className:"w-3 h-3"}),powerBackup:s.jsx(tu,{className:"w-3 h-3"}),security:s.jsx(rr,{className:"w-3 h-3"}),parking4w:s.jsx(fl,{className:"w-3 h-3"}),parking2w:s.jsx(fl,{className:"w-3 h-3"}),gym:s.jsx(du,{className:"w-3 h-3"}),laundry:s.jsx(rc,{className:"w-3 h-3"}),balcony:s.jsx(Pr,{className:"w-3 h-3"}),ac:s.jsx(tu,{className:"w-3 h-3"}),tv:s.jsx(Iue,{className:"w-3 h-3"}),refrigerator:s.jsx(Pr,{className:"w-3 h-3"}),geyser:s.jsx(tu,{className:"w-3 h-3"}),cctv:s.jsx(es,{className:"w-3 h-3"}),lift:s.jsx(du,{className:"w-3 h-3"}),waterSupply:s.jsx(Pr,{className:"w-3 h-3"}),housekeeping:s.jsx(zr,{className:"w-3 h-3"})})[at]||s.jsx(Pr,{className:"w-3 h-3"}),te=at=>{v(gt=>({...gt,[at]:!gt[at]}))},re=(at,gt)=>{navigator.clipboard.writeText(at).then(()=>{r({title:"Copied!",description:`${gt} copied to clipboard`,variant:"default"})}).catch(()=>{r({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})})},J=async()=>{B(!0);try{const at=H(),gt=window.open("","_blank");gt.document.write(at),gt.document.close(),setTimeout(()=>{gt.print(),gt.close()},500),r({title:"Receipt Generated!",description:"Your booking receipt has been opened for download/printing",variant:"default"})}catch(at){console.error("Error generating receipt:",at),r({title:"Error",description:"Failed to generate receipt",variant:"destructive"})}finally{B(!1)}},H=()=>{var yt,At,it,dt,et,Ve,Ct,Zt;const at=((yt=n.payment)==null?void 0:yt.monthlyRent)||(l==null?void 0:l.rent)||((At=n.roomSnapshot)==null?void 0:At.rent)||0,gt=((it=n.payment)==null?void 0:it.securityDeposit)||(a==null?void 0:a.security_deposit)||((dt=n.propertySnapshot)==null?void 0:dt.security_deposit)||at,Bt=((et=n.payment)==null?void 0:et.totalAmount)||at+gt,_t=Bt*.1,Vt=Bt*.9;return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Booking Receipt - ${(a==null?void 0:a.propertyName)||"Property"}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
          .header { text-align: center; border-bottom: 2px solid #2563eb; padding-bottom: 20px; margin-bottom: 30px; }
          .logo { font-size: 24px; font-weight: bold; color: #2563eb; }
          .receipt-title { font-size: 20px; margin: 10px 0; }
          .receipt-info { background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 8px; }
          .info-label { font-weight: bold; }
          .section { margin-bottom: 25px; }
          .section-title { font-size: 18px; font-weight: bold; color: #1f2937; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; margin-bottom: 15px; }
          .payment-table { width: 100%; border-collapse: collapse; }
          .payment-table th, .payment-table td { padding: 10px; text-align: left; border-bottom: 1px solid #e5e7eb; }
          .payment-table th { background: #f3f4f6; font-weight: bold; }
          .total-row { font-weight: bold; background: #f0f9ff; }
          .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #6b7280; }
          @media print { body { margin: 0; } }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo">Lyvo+</div>
          <div class="receipt-title">Booking Receipt</div>
          <div>Generated on: ${new Date().toLocaleDateString()}</div>
        </div>
        
        <div class="receipt-info">
          <div class="info-row">
            <span class="info-label">Receipt Number:</span>
            <span>LYV-${((Ct=(Ve=n._id)==null?void 0:Ve.slice(-8))==null?void 0:Ct.toUpperCase())||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Booking Date:</span>
            <span>${pe(n.createdAt)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Status:</span>
            <span style="color: #059669; font-weight: bold;">CONFIRMED</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Property Details</div>
          <div class="info-row">
            <span class="info-label">Property Name:</span>
            <span>${(a==null?void 0:a.propertyName)||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Address:</span>
            <span>${ee(a==null?void 0:a.address)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Room Number:</span>
            <span>Room ${(l==null?void 0:l.roomNumber)||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Room Type:</span>
            <span>${(l==null?void 0:l.roomType)||"N/A"}</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Booking Period</div>
          <div class="info-row">
            <span class="info-label">Check-in Date:</span>
            <span>${he(n.checkInDate)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Check-out Date:</span>
            <span>${he(n.checkOutDate)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Duration:</span>
            <span>${Math.ceil((new Date(n.checkOutDate)-new Date(n.checkInDate))/(1e3*60*60*24))} days</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Payment Summary</div>
          <table class="payment-table">
            <tr>
              <th>Description</th>
              <th>Amount</th>
            </tr>
            <tr>
              <td>Monthly Rent</td>
              <td>${at.toLocaleString()}</td>
            </tr>
            <tr>
              <td>Security Deposit</td>
              <td>${gt.toLocaleString()}</td>
            </tr>
            <tr class="total-row">
              <td><strong>Total Amount</strong></td>
              <td><strong>${Bt.toLocaleString()}</strong></td>
            </tr>
            <tr>
              <td>Advance Paid (10%)</td>
              <td style="color: #059669;">${_t.toLocaleString()}</td>
            </tr>
            <tr>
              <td>Remaining (90%)</td>
              <td style="color: #d97706;">${Vt.toLocaleString()}</td>
            </tr>
          </table>
        </div>
        
        <div class="section">
          <div class="section-title">Payment Status</div>
          <div class="info-row">
            <span class="info-label">Payment Status:</span>
            <span style="color: #059669; font-weight: bold;">COMPLETED</span>
          </div>
          ${(Zt=n.payment)!=null&&Zt.transactionId?`
          <div class="info-row">
            <span class="info-label">Transaction ID:</span>
            <span>${n.payment.transactionId}</span>
          </div>
          `:""}
        </div>
        
        <div class="footer">
          <p>Thank you for choosing Lyvo+!</p>
          <p>For any queries, contact us at support@lyvo.com</p>
          <p>This is a computer-generated receipt and does not require a signature.</p>
        </div>
      </body>
      </html>
    `},Z=()=>{const at=l&&l.latitude&&l.longitude?{lat:l.latitude,lng:l.longitude,type:"room"}:a&&a.latitude&&a.longitude?{lat:a.latitude,lng:a.longitude,type:"property"}:null;if(at){const gt=`https://www.google.com/maps/dir/?api=1&destination=${at.lat},${at.lng}`;window.open(gt,"_blank"),r({title:"Directions Opened",description:`Opening directions to ${at.type==="room"?"your room":"the property"}`,variant:"default"})}else r({title:"Location Not Available",description:"Property and room location coordinates are not available",variant:"destructive"})},K=()=>{d&&d.phone?window.open(`tel:${d.phone}`,"_self"):d&&d.email?window.open(`mailto:${d.email}`,"_self"):r({title:"Contact Information Not Available",description:"Owner contact details are not available",variant:"destructive"})},ie=()=>{navigator.share?navigator.share({title:"My Booking Confirmation",text:`I've booked ${(a==null?void 0:a.propertyName)||"a room"} for ${n!=null&&n.checkInDate?new Date(n.checkInDate).toLocaleDateString():"N/A"}`,url:window.location.href}):re(window.location.href,"Booking link")},oe=at=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(at||0),he=at=>at?new Date(at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",pe=at=>at?new Date(at).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ee=at=>{if(!at)return"N/A";if(typeof at=="string")return at;const{street:gt,city:Bt,state:_t,pincode:Vt,landmark:yt}=at;return[gt,yt,Bt,_t,Vt].filter(Boolean).join(", ")},fe=()=>{if(!n)return!1;if(console.log(" Cancel Booking Debug:",{status:n.status,checkInDate:n.checkInDate,canCancel:!0}),["pending","pending_approval","payment_pending"].includes(n.status))return console.log(" Can cancel: Pending booking"),!0;if(n.status==="confirmed"){const at=new Date(n.checkInDate),gt=new Date,Bt=Math.ceil((at-gt)/(1e3*60*60*24));return console.log(" Confirmed booking check:",{checkInDate:at.toISOString(),today:gt.toISOString(),daysUntilCheckIn:Bt,canCancel:Bt>1}),Bt>1}return console.log(" Cannot cancel: Status not allowed"),!1},ue=async()=>{if(!(n!=null&&n._id)){r({title:"Error",description:"No booking found to cancel",variant:"destructive"});return}if(window.confirm("Are you sure you want to cancel this booking? This action cannot be undone and will remove all booking and tenant records."))try{U(!0);const gt=await kt.delete(`/property/bookings/${n._id}`);if(gt.status===200)r({title:"Booking Cancelled",description:"Your booking has been cancelled successfully",variant:"default"}),setTimeout(()=>{e("/seeker-dashboard")},1500);else{const Bt=gt.data;r({title:"Cancellation Failed",description:Bt.message||"Failed to cancel booking",variant:"destructive"})}}catch(gt){console.error("Error cancelling booking:",gt),r({title:"Error",description:"An error occurred while cancelling the booking",variant:"destructive"})}finally{U(!1)}},V=async()=>{if(!(!n||!T))try{k(!0);const at=await kt.post(`/property/user/check-in/${n._id}`,{checkInDate:T});if(at.status===200)r({title:"Success",description:"Check-in date marked successfully",variant:"default"}),W(),P(!1),F("");else{const gt=at.data;r({title:"Error",description:gt.message||"Failed to mark check-in date",variant:"destructive"})}}catch(at){console.error("Error marking check-in:",at),r({title:"Error",description:"Failed to mark check-in date. Please try again.",variant:"destructive"})}finally{k(!1)}},ve=()=>{F(n.checkInDate?new Date(n.checkInDate).toISOString().split("T")[0]:""),P(!0)};if(A)return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your booking details..."})]})})});if(m||!n)return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(er,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:m||"The booking you are looking for does not exist."}),s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Back to Dashboard"})]})})});const Se=n.status==="confirmed"||n.status==="approved"||n.status==="checked_in",ne=(n.status==="pending_approval"||n.status==="confirmed"||n.status==="approved"||n.status==="pending"||n.status==="payment_pending")&&n.status!=="checked_in",xe=Se||n.ownerAccepted===!0||n.ownerApproval==="approved"||n.ownerApproval==="accepted";return console.log("Booking data for debugging:",{status:n.status,ownerAccepted:n.ownerAccepted,ownerApproval:n.ownerApproval,isBookingConfirmed:Se,isOwnerAccepted:xe,allBookingFields:Object.keys(n)}),Se?s.jsxs(Er,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Qr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Booking Confirmed!"})]})}),s.jsx("p",{className:"text-gray-600 mb-2 text-sm sm:text-base",children:"Your accommodation is ready and confirmed"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Owner Accepted"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Payment Completed"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Ready for Check-in"})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-4 bg-white/80 p-3 rounded-xl border border-white shadow-sm w-full lg:w-auto",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-sm border border-gray-100",children:s.jsx("img",{src:(l==null?void 0:l.roomImage)||(l==null?void 0:l.room_image)||(l==null?void 0:l.toilet_image)||(l==null?void 0:l.toiletImage)||((Le=l==null?void 0:l.images)==null?void 0:Le.room)||((ze=l==null?void 0:l.images)==null?void 0:ze.toilet)||(Array.isArray(a==null?void 0:a.images)?a.images[0]:(Te=a==null?void 0:a.images)==null?void 0:Te.front)||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=100&h=100&fit=crop",alt:"Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-blue-600 font-bold truncate",children:(a==null?void 0:a.propertyName)||"Property Name"}),s.jsxs("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:["Room ",(l==null?void 0:l.roomNumber)||"N/A"]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ca,{className:"w-3 h-3"})," ",(l==null?void 0:l.roomType)||"Standard"]}),s.jsxs("span",{className:"flex items-center gap-1 font-bold text-green-600",children:["",((lt=n.payment)==null?void 0:lt.monthlyRent)||(l==null?void 0:l.rent),"/mo"]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full lg:w-auto",children:[s.jsxs("div",{className:"bg-white/70 rounded-xl p-3 border border-white shadow-sm flex-1 sm:flex-initial min-w-[140px]",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(Tr,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-tight",children:"Check-in"})]}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:n.checkInDate?he(n.checkInDate):"Not Set"}),n.checkInDate&&s.jsxs("p",{className:"text-[10px] text-green-600 font-bold mt-1 flex items-center gap-1",children:[s.jsx(Qr,{className:"w-3 h-3"})," Confirmed Arrival"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full lg:w-auto",children:[ne&&s.jsxs("button",{onClick:ve,className:"bg-purple-600 text-white px-4 py-2.5 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px]",children:[s.jsx(Tr,{className:"w-4 h-4 mr-1"}),n.checkInDate?"Update Check-in":"Set Check-in"]}),fe()&&n.status!=="checked_in"&&s.jsx("button",{onClick:ue,disabled:M,className:"bg-red-600 text-white px-4 py-2.5 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px] disabled:opacity-50 disabled:cursor-not-allowed",children:M?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-1"}),s.jsx("span",{children:"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Cancel Booking"})]})}),s.jsxs("button",{onClick:ie,className:"bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px]",children:[s.jsx(eg,{className:"w-4 h-4 mr-1"}),"Share"]})]})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row lg:flex-col items-start sm:items-center lg:items-end space-y-3 sm:space-y-0 sm:space-x-3 lg:space-x-0 lg:space-y-3",children:s.jsxs("span",{className:`inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium ${Y(n.status)}`,children:[Q(n.status),s.jsx("span",{className:"ml-2 capitalize",children:n.status})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Tr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Booking Details"]})})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:pe(n.createdAt)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Check-in Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:he(n.checkInDate)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${((tt=n.payment)==null?void 0:tt.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[((ge=n.payment)==null?void 0:ge.paymentStatus)==="completed"?s.jsx(wt,{className:"w-3 h-3 mr-1"}):s.jsx(rs,{className:"w-3 h-3 mr-1"}),((Be=n.payment)==null?void 0:Be.paymentStatus)||"Pending"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Status"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Y(n.status)}`,children:[Q(n.status),s.jsx("span",{className:"ml-1 capitalize",children:n.status})]})})]})]}),s.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Booking Confirmation Summary"}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Booking Status:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"}),"Confirmed"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner Acceptance:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"}),"Accepted"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Payment Status:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Confirmed On:"}),s.jsx("span",{className:"text-sm text-gray-600",children:pe(n.updatedAt||n.createdAt)})]})]})})]})]})]}),a&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Xr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Accommodation Details"]}),s.jsxs("button",{onClick:()=>te("amenities"),className:"text-blue-600 hover:text-blue-700 flex items-center text-xs sm:text-sm self-start sm:self-auto",children:[p.amenities?s.jsx(YA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(XA,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"ml-1",children:"Amenities"})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[((l==null?void 0:l.roomImage)||((Ne=l==null?void 0:l.images)==null?void 0:Ne[0]))&&s.jsx("div",{className:"w-full md:w-1/3 aspect-video md:aspect-square rounded-xl overflow-hidden shadow-sm",children:s.jsx("img",{src:l.roomImage||l.room_image||l.toilet_image||l.toiletImage||((ke=l.images)==null?void 0:ke.room)||((Me=l.images)==null?void 0:Me.toilet)||(Array.isArray(a==null?void 0:a.images)?a.images[0]:(ot=a==null?void 0:a.images)==null?void 0:ot.front),alt:"Your Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:a.propertyName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",l.roomNumber," (",l.roomType,")"]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-base font-semibold text-gray-900 leading-tight",children:ee(a.address)}),s.jsx("button",{onClick:Z,className:"text-blue-600 hover:text-blue-700",children:s.jsx(Eue,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monthly Rent"}),s.jsx("p",{className:"text-base font-semibold text-green-600",children:oe(l.rent)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Security Deposit"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:oe(((nt=n.payment)==null?void 0:nt.securityDeposit)||(a==null?void 0:a.security_deposit))})]})]})]}),a.amenities&&p.amenities&&s.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:Object.entries(a.amenities).map(([at,gt])=>gt?s.jsxs("div",{className:"flex items-center px-2 sm:px-3 py-2 bg-blue-50 text-blue-700 rounded-lg",children:[z(at),s.jsx("span",{className:"ml-2 text-xs sm:text-sm font-medium",children:at.replace(/([A-Z])/g," $1").trim()})]},at):null)})]}),l&&l.amenities&&p.amenities&&s.jsxs("div",{className:"mt-4 sm:mt-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:Object.entries(l.amenities).map(([at,gt])=>gt?s.jsxs("div",{className:"flex items-center px-2 sm:px-3 py-2 bg-green-50 text-green-700 rounded-lg",children:[z(at),s.jsx("span",{className:"ml-2 text-xs sm:text-sm font-medium",children:at.replace(/([A-Z])/g," $1").trim()})]},at):null)})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b",children:s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Vh,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Important Information"]})}),s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Qr,{className:"w-5 h-5 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Check-in Instructions"}),s.jsx("p",{className:"text-gray-600",children:"Please arrive on your check-in date. Contact the property owner for specific check-in procedures."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(er,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Status"}),s.jsx("p",{className:"text-gray-600",children:"Ensure all payments are completed before check-in. Contact support if you have payment issues."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Nue,{className:"w-5 h-5 text-blue-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Keys & Access"}),s.jsx("p",{className:"text-gray-600",children:"Keys will be provided upon check-in. Make sure to return them during check-out."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ss,{className:"w-5 h-5 text-purple-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Documentation"}),s.jsx("p",{className:"text-gray-600",children:"Keep your booking confirmation and payment receipts for your records."})]})]}),fe()&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ir,{className:"w-5 h-5 text-red-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Cancellation Policy"}),s.jsx("p",{className:"text-gray-600",children:n.status==="pending"?"You can cancel your pending booking at any time before owner approval.":"You can cancel your booking up to 24 hours before check-in. Cancellation after this period may incur charges."})]})]}),!fe()&&n.status==="confirmed"&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(rg,{className:"w-5 h-5 text-orange-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Cancellation Policy"}),s.jsx("p",{className:"text-gray-600",children:"Cancellation is not available as check-in is within 24 hours. Please contact support for assistance."})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[d&&s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(cr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Property Owner"]}),s.jsx("button",{onClick:()=>te("contact"),className:"text-blue-600 hover:text-blue-700",children:p.contact?s.jsx(YA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(XA,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),p.contact&&s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:s.jsx(cr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})}),s.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900",children:d.name||"Owner Name"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:d.email})]}),d.phone&&s.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Es,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:d.phone})]}),s.jsx("button",{onClick:()=>window.open(`tel:${d.phone}`,"_self"),className:"text-blue-600 hover:text-blue-700",children:s.jsx(qP,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:K,className:"bg-blue-600 text-white py-2 px-2 sm:px-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(Es,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Call"]}),s.jsxs("button",{onClick:()=>window.open(`mailto:${d.email}`,"_self"),className:"bg-green-600 text-white py-2 px-2 sm:px-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(ln,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Email"]})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("button",{onClick:J,disabled:N,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[N?s.jsx(Ka,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Jd,{className:"w-4 h-4 mr-2"}),N?"Generating...":"Download Receipt"]}),s.jsxs("button",{onClick:Z,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(w4,{className:"w-4 h-4 mr-2"}),"Get Directions"]}),s.jsxs("button",{onClick:ie,className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center",children:[s.jsx(eg,{className:"w-4 h-4 mr-2"}),"Share Booking"]}),fe()&&s.jsx("button",{onClick:ue,disabled:M,className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:M?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),s.jsx("span",{children:"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Cancel Booking"})]})})]})]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Zp,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Payment Summary"]}),s.jsx("button",{onClick:()=>te("payment"),className:"text-blue-600 hover:text-blue-700",children:p.payment?s.jsx(YA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(XA,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),p.payment&&(()=>{var yt,At,it,dt,et,Ve,Ct,Zt,Qn;const at=((yt=n.payment)==null?void 0:yt.monthlyRent)||(l==null?void 0:l.rent)||((At=n.roomSnapshot)==null?void 0:At.rent)||0,gt=((it=n.payment)==null?void 0:it.securityDeposit)||(a==null?void 0:a.security_deposit)||((dt=n.propertySnapshot)==null?void 0:dt.security_deposit)||at,Bt=at+gt,_t=((et=n.payment)==null?void 0:et.totalAmount)||Bt*.1,Vt=Bt-_t;return s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Monthly Rent"}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:oe(at)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Security Deposit"}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:oe(gt)})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between font-bold text-sm sm:text-base",children:[s.jsx("span",{children:"Total Amount"}),s.jsx("span",{className:"text-blue-600",children:oe(Bt)})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[s.jsx("span",{className:"text-green-700 font-semibold",children:"Advance Paid (10%)"}),s.jsx("span",{className:"font-bold text-green-600",children:oe(_t)})]}),s.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[s.jsx("span",{className:"text-orange-700 font-semibold",children:"Remaining (90%)"}),s.jsx("span",{className:"font-bold text-orange-600",children:oe(Vt)})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Payment Status"}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${((Ve=n.payment)==null?void 0:Ve.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[((Ct=n.payment)==null?void 0:Ct.paymentStatus)==="completed"?s.jsx(wt,{className:"w-3 h-3 mr-1"}):s.jsx(rs,{className:"w-3 h-3 mr-1"}),((Zt=n.payment)==null?void 0:Zt.paymentStatus)||"Pending"]})]}),((Qn=n.payment)==null?void 0:Qn.transactionId)&&s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Transaction ID"}),s.jsxs("button",{onClick:()=>re(n.payment.transactionId,"Transaction ID"),className:"text-xs text-blue-600 hover:text-blue-700 font-mono break-all",children:[n.payment.transactionId.slice(0,8),"..."]})]})]})]})})()]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Ss,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Documents"]}),s.jsx("button",{onClick:()=>te("documents"),className:"text-blue-600 hover:text-blue-700",children:p.documents?s.jsx(YA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(XA,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),p.documents&&s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("button",{className:"w-full bg-blue-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(CN,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Booking Confirmation"]}),s.jsxs("button",{className:"w-full bg-green-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(Ss,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Rental Agreement"]}),s.jsxs("button",{className:"w-full bg-purple-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(Zp,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Payment Receipt"]}),s.jsxs("button",{className:"w-full bg-orange-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(IV,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Print All Documents"]})]})]})]})]})]})}),I&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(eu,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mark Check-in Date"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Select your check-in date"})]})]}),s.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:E,children:s.jsx(ir,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[n&&s.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 mb-6 border border-gray-100 shadow-sm",children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-sm",children:s.jsx("img",{src:(l==null?void 0:l.roomImage)||(l==null?void 0:l.room_image)||((rt=a==null?void 0:a.images)==null?void 0:rt[0])||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=200&h=200&fit=crop",className:"w-full h-full object-cover",alt:"Room Preview"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:(a==null?void 0:a.propertyName)||"N/A"}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1 mt-0.5",children:[s.jsx(wr,{className:"w-3 h-3"}),ee(a==null?void 0:a.address)]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs("span",{className:"bg-blue-50 text-blue-700 text-[10px] font-bold px-2 py-0.5 rounded uppercase",children:["Room ",(l==null?void 0:l.roomNumber)||"N/A"]}),s.jsx("span",{className:"bg-purple-50 text-purple-700 text-[10px] font-bold px-2 py-0.5 rounded uppercase",children:(l==null?void 0:l.roomType)||"Standard"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-bold text-green-600",children:oe(((Ke=n.payment)==null?void 0:Ke.monthlyRent)||(l==null?void 0:l.rent))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:oe((st=n.payment)==null?void 0:st.securityDeposit)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Current Check-in:"}),s.jsx("span",{className:`font-bold ${n.checkInDate?"text-purple-600":"text-orange-500 italic"}`,children:n.checkInDate?he(n.checkInDate):"Not specified"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Check-in Date *"}),s.jsx("input",{type:"date",id:"checkInDate",value:T,onChange:at=>F(at.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:E}),s.jsx("p",{className:"text-xs text-gray-500",children:"Select the date when you plan to check into the room"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>P(!1),disabled:E,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:V,disabled:E||!T,className:"flex-1 px-4 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Marking..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(eu,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark Check-in"})]})})]})]})})})]}):s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx(rg,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Pending Approval"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your booking is currently waiting for the owner's approval. Please set your check-in date below to help the owner process your request."}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-left",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Booking Status:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Current Status:"}),s.jsx("span",{className:"font-semibold text-yellow-600 capitalize",children:n.status})]}),n.checkInDate&&s.jsxs("div",{className:"flex justify-between border-t border-yellow-200 pt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in Date:"}),s.jsx("span",{className:"font-semibold text-purple-600",children:he(n.checkInDate)})]}),!n.checkInDate&&s.jsxs("div",{className:"flex justify-between border-t border-yellow-200 pt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in Date:"}),s.jsx("span",{className:"text-red-500 italic",children:"Not set yet"})]})]})]}),n.checkInDate&&s.jsx("p",{className:"text-sm text-gray-500 mb-6 italic",children:"You've set your check-in date. The owner will review and approve your booking shortly."}),s.jsxs("div",{className:"space-y-4",children:[ne&&s.jsxs("button",{onClick:ve,className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center font-bold shadow-lg",children:[s.jsx(Tr,{className:"w-5 h-5 mr-2"}),n.checkInDate?"Update Check-in Date":"Set Check-in Date"]}),s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})]})})})},vbe=()=>{const e=Ar(),{toast:t}=xc(),[r,n]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(null),[c,d]=_.useState(null),[u,A]=_.useState(!0),[f,m]=_.useState(""),[x,p]=_.useState({amenities:!1,contact:!1,documents:!1});_.useEffect(()=>{v()},[]);const v=async()=>{try{A(!0);const F=localStorage.getItem("authToken"),E=JSON.parse(localStorage.getItem("user")||"{}");if(!F){e("/login");return}const k=await kt.get("/property/user/bookings");if(k.status===200){const U=(k.data.bookings||[]).find(W=>{var Y;return W.status==="confirmed"&&((Y=W.payment)==null?void 0:Y.paymentStatus)==="completed"});U?await y(U._id):m("No confirmed booking found")}else throw new Error("Failed to fetch user bookings")}catch(F){console.error("Error fetching user confirmed booking:",F),m("Failed to load your booking details")}finally{A(!1)}},y=async F=>{try{if(!localStorage.getItem("authToken")){e("/login");return}const k=await kt.get(`/property/bookings/${F}`);if(k.status!==200)throw new Error("Failed to fetch booking details");const M=k.data;if(n(M.booking),M.booking.propertyId)try{const U=await kt.get(`/property/public/properties/${M.booking.propertyId}`);if(U.status===200){const W=U.data;if(a(W.property),W.property.rooms){const Y=W.property.rooms.find(Q=>Q._id===M.booking.roomId);l(Y)}}}catch(U){console.error("Error fetching property details:",U)}if(M.booking.ownerId)try{const U=await kt.get(`/user/profile/${M.booking.ownerId}`);if(U.status===200){const W=U.data;d(W)}}catch(U){console.error("Error fetching owner details:",U)}}catch(E){console.error("Error fetching booking details:",E),m("Failed to load booking details")}},b=F=>({wifi:s.jsx(rm,{className:"w-4 h-4"}),parking:s.jsx(fl,{className:"w-4 h-4"}),kitchen:s.jsx(kf,{className:"w-4 h-4"}),powerBackup:s.jsx(tu,{className:"w-4 h-4"}),security:s.jsx(rr,{className:"w-4 h-4"}),parking4w:s.jsx(fl,{className:"w-4 h-4"}),parking2w:s.jsx(fl,{className:"w-4 h-4"}),gym:s.jsx(rc,{className:"w-4 h-4"}),laundry:s.jsx(rc,{className:"w-4 h-4"}),balcony:s.jsx(Pr,{className:"w-4 h-4"}),ac:s.jsx(tu,{className:"w-4 h-4"}),tv:s.jsx(rc,{className:"w-4 h-4"}),refrigerator:s.jsx(Pr,{className:"w-4 h-4"}),geyser:s.jsx(tu,{className:"w-4 h-4"}),cctv:s.jsx(es,{className:"w-4 h-4"}),lift:s.jsx(rc,{className:"w-4 h-4"}),waterSupply:s.jsx(Pr,{className:"w-4 h-4"}),housekeeping:s.jsx(zr,{className:"w-4 h-4"})})[F]||s.jsx(Pr,{className:"w-4 h-4"}),w=F=>{p(E=>({...E,[F]:!E[F]}))},j=F=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(F||0),N=F=>F?new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",B=()=>{if(!(r!=null&&r.checkInDate))return 0;const F=new Date,k=new Date(r.checkInDate)-F;return Math.ceil(k/(1e3*60*60*24))},I=()=>{c&&c.phone?window.open(`tel:${c.phone}`,"_self"):c&&c.email?window.open(`mailto:${c.email}`,"_self"):t({title:"Contact Information Not Available",description:"Owner contact details are not available",variant:"destructive"})},P=()=>{if(i&&i.latitude&&i.longitude){const F=`https://www.google.com/maps/dir/?api=1&destination=${i.latitude},${i.longitude}`;window.open(F,"_blank")}else t({title:"Location Not Available",description:"Property location coordinates are not available",variant:"destructive"})};return u?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your room details..."})]})})}):f||!r?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx(er,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Confirmed Booking"}),s.jsx("p",{className:"text-gray-600 mb-6",children:f||"You don't have any confirmed bookings yet. Book a room to access this dashboard."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Rooms"}),s.jsx("button",{onClick:()=>e("/seeker-bookings"),className:"w-full bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"View My Bookings"})]})]})})}):r.status==="confirmed"||r.status==="approved"?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[(i==null?void 0:i.images)&&i.images.length>0&&s.jsxs("div",{className:"relative h-64 sm:h-80 lg:h-96",children:[s.jsx("img",{src:i.images[0],alt:i.propertyName,className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[s.jsx("button",{className:"bg-white/90 backdrop-blur-sm text-gray-700 p-2 rounded-full hover:bg-white transition-colors",children:s.jsx(Kh,{className:"w-5 h-5"})}),s.jsx("button",{className:"bg-white/90 backdrop-blur-sm text-gray-700 p-2 rounded-full hover:bg-white transition-colors",children:s.jsx(eg,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"absolute bottom-4 left-4",children:s.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ca,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsx("span",{className:"text-sm font-semibold",children:"4.8"}),s.jsx("span",{className:"text-sm text-gray-600",children:" Excellent"})]})})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:(i==null?void 0:i.propertyName)||"Property Name"}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(wr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(i==null?void 0:i.address)||"Address"})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ca,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:["Room ",(o==null?void 0:o.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(zr,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[(o==null?void 0:o.maxOccupancy)||(i==null?void 0:i.maxOccupancy)||"N/A"," guests"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pr,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[(o==null?void 0:o.roomSize)||"N/A"," sq ft"]})]})]})]}),s.jsx("div",{className:"mt-4 lg:mt-0 lg:ml-6",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:j(o==null?void 0:o.rent)}),s.jsx("div",{className:"text-sm text-gray-600",children:"per month"})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:()=>e(`/booking-dashboard/${r._id}`),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(Ss,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),s.jsxs("button",{onClick:P,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[s.jsx(w4,{className:"w-4 h-4 mr-2"}),"Directions"]}),s.jsxs("button",{onClick:I,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[s.jsx(Es,{className:"w-4 h-4 mr-2"}),"Contact Owner"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Booking Status"}),s.jsxs("div",{className:"flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[s.jsx(Qr,{className:"w-4 h-4 mr-1"}),"Confirmed"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Check-in"}),s.jsx("div",{className:"font-semibold",children:N(r.checkInDate)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Check-out"}),s.jsx("div",{className:"font-semibold",children:N(r.checkOutDate)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Days Remaining"}),s.jsxs("div",{className:"font-semibold text-blue-600",children:[B()," days"]})]})]})]}),o&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Room Type"}),s.jsx("div",{className:"font-semibold",children:o.roomType})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Room Size"}),s.jsxs("div",{className:"font-semibold",children:[o.roomSize," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Max Occupancy"}),s.jsxs("div",{className:"font-semibold",children:[o.maxOccupancy||(i==null?void 0:i.maxOccupancy)," people"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Monthly Rent"}),s.jsx("div",{className:"font-semibold",children:j(o.rent)})]})]})]}),(i==null?void 0:i.amenities)&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Amenities"}),s.jsxs("button",{onClick:()=>w("amenities"),className:"text-blue-600 hover:text-blue-700 flex items-center text-sm",children:[x.amenities?s.jsx(YA,{className:"w-4 h-4"}):s.jsx(XA,{className:"w-4 h-4"}),s.jsx("span",{className:"ml-1",children:"View All"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Object.entries(i.amenities).slice(0,x.amenities?void 0:6).map(([F,E])=>E?s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:[b(F),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:F.replace(/([A-Z])/g," $1").trim()})]},F):null)})]}),(i==null?void 0:i.description)&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"About This Place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]})]}),s.jsxs("div",{className:"space-y-6",children:[c&&s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Host"]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(cr,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"font-semibold text-gray-900",children:c.name||"Host Name"}),s.jsx("p",{className:"text-sm text-gray-600",children:c.email})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("button",{onClick:I,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(Wh,{className:"w-4 h-4 mr-2"}),"Contact Host"]})})]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Info"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Paid"}),s.jsx("span",{className:"font-semibold",children:j(r.totalAmount)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Duration"}),s.jsxs("span",{className:"font-semibold",children:[Math.ceil((new Date(r.checkOutDate)-new Date(r.checkInDate))/(1e3*60*60*24))," days"]})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>e(`/booking-dashboard/${r._id}`),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(Ss,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),s.jsxs("button",{onClick:P,className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[s.jsx(w4,{className:"w-4 h-4 mr-2"}),"Get Directions"]}),s.jsxs("button",{onClick:()=>e("/seeker-bookings"),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[s.jsx(Tr,{className:"w-4 h-4 mr-2"}),"View All Bookings"]})]})]})]})]})]})})}):s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx(rg,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Ready"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"This dashboard is only available for confirmed bookings."}),s.jsx("div",{className:"space-y-3",children:s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})})]})})})};delete Pa.Icon.Default.prototype._getIconUrl;Pa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const bbe=()=>{var Z,K,ie,oe,he,pe,ee,fe,ue,V,ve,Se,ne;const{roomId:e}=wu(),t=Ar(),{toast:r}=xc();Ja();const[n,i]=_.useState(null),[a,o]=_.useState(null),[l,c]=_.useState(null),[d,u]=_.useState(!0),[A,f]=_.useState(0),[m,x]=_.useState(!1),[p,v]=_.useState(null),[y,b]=_.useState(!1),[w,j]=_.useState([0,0]),[N,B]=_.useState(!1),[I,P]=_.useState([]),[T,F]=_.useState(!1),E=xe=>{if(!(xe!=null&&xe.images))return[];if(Array.isArray(xe.images))return xe.images;const{gallery:Le,...ze}=xe.images,Te=Object.values(ze).filter(tt=>typeof tt=="string"&&tt.length>0),lt=Array.isArray(Le)?Le:[];return[...Te,...lt]},k=[...n!=null&&n.room_image?[n.room_image]:[],...n!=null&&n.toilet_image?[n.toilet_image]:[],...E(a)],M=()=>{const xe=localStorage.getItem("user");if(xe)try{const Le=JSON.parse(xe);return Le.id||Le._id}catch(Le){return console.error("Error parsing user data:",Le),null}return null},U=async()=>{var xe,Le;try{u(!0);const Te=(await kt.get(`/property/public/rooms/${e}`)).data;Te.success&&Te.data?(console.log("Room Data Fetched Support:",Te.data),i(Te.data.room),o(Te.data.property),c(Te.data.owner),(xe=Te.data.property)!=null&&xe.latitude&&((Le=Te.data.property)!=null&&Le.longitude)&&j([parseFloat(Te.data.property.latitude),parseFloat(Te.data.property.longitude)])):console.error("Room data missing or invalid structure:",Te)}catch(ze){console.error("Error fetching room details:",ze),r({title:"Error",description:"Failed to load room details",variant:"destructive"})}finally{u(!1)}},W=async()=>{const xe=M(),Le=localStorage.getItem("authToken");if(!(!xe||!e||!a||!Le))try{const ze=await kt.get("/property/favorites/check",{params:{propertyId:a._id,roomId:e}});ze.status===200&&x(ze.data.isFavorite)}catch(ze){console.error("Error checking favorite:",ze)}},Y=async()=>{const xe=M(),Le=localStorage.getItem("authToken");if(!(!xe||!e||!a||!Le))try{const ze=await kt.get("/property/user/check-booking",{params:{propertyId:a._id,roomId:e}});ze.status===200&&v(ze.data)}catch(ze){console.error("Error checking booking status:",ze)}},Q=async()=>{if(e)try{F(!0);const xe=await kt.get(`/property/public/rooms/${e}/tenants`);if(xe.status===200){const Le=xe.data;P(Le.tenants||[])}}catch(xe){console.error("Error fetching tenant details:",xe)}finally{F(!1)}};_.useEffect(()=>{e&&(U(),Q())},[e]),_.useEffect(()=>{n&&a&&(W(),Y())},[n,a]);const z=async()=>{const xe=M();if(localStorage.getItem("authToken"),!xe){r({title:"Please Login",description:"You need to specific login to add favorites",variant:"destructive"});return}try{const Le=m?"/property/favorites/remove":"/property/favorites";(await kt.post(Le,{userId:xe,propertyId:a._id,roomId:e})).status===200&&(x(!m),r({title:m?"Removed from Favorites":"Added to Favorites",description:m?"Room removed from your list":"Room saved to your favorites"}))}catch{r({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},te=async()=>{if(navigator.share)try{await navigator.share({title:`${a.property_name} - Room ${n.roomNumber}`,text:`Check out this room for ${n.rent}/month!`,url:window.location.href})}catch(xe){console.log("Error sharing:",xe)}else navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Room link copied to clipboard"})},re=async()=>{var Le,ze;const xe=M();if(localStorage.getItem("authToken"),!xe){r({title:"Please Login",description:"You need to log in to book a room",variant:"destructive"});return}if((p==null?void 0:p.status)==="confirmed"){r({title:"Already Booked",description:"You have already booked this room."});return}if((p==null?void 0:p.status)==="pending_approval"){r({title:"Pending Approval",description:"You already have a pending booking request for this room. Please wait for owner approval."});return}try{b(!0);const Te=await kt.get(`/user/profile/${xe}`);if(Te.status===200){const lt=Te.data;if(lt.kycStatus!=="approved"&&((Le=lt.user)==null?void 0:Le.kycStatus)!=="approved"){const tt=lt.kycStatus||((ze=lt.user)==null?void 0:ze.kycStatus);r({title:"KYC Verification Required",description:`Your KYC status is '${tt||"Not Verified"}'. You must be Approved to book this room.`,variant:"destructive",action:s.jsx("button",{onClick:()=>t("/seeker-kyc"),className:"bg-white text-destructive px-2 py-1 rounded text-xs",children:"Verify Now"})}),setTimeout(()=>t("/seeker-kyc"),2e3),b(!1);return}}}catch(Te){console.log("Error fetching profile for KYC check",Te),r({title:"Verification Failed",description:"Could not verify your KYC status. Please try again.",variant:"destructive"}),b(!1);return}finally{b(!1)}B(!0)},J=async()=>{const xe=M();localStorage.getItem("authToken");const Le=parseFloat(n.rent),ze=parseFloat(a.security_deposit||0),lt=(Le+ze)*.1;try{b(!0);const ge=(await kt.post("/property/payments/create-order",{amount:lt,receipt_id:`rcpt_${Date.now().toString().slice(-10)}`})).data,Be={key:"rzp_test_RL5vMta3bKvRd4",amount:ge.amount,currency:ge.currency,name:"Lyvo",description:`Booking Fee (10%) for ${a.property_name}`,order_id:ge.order_id,handler:async function(ke){try{const ot=(await kt.post("/property/payments/verify",{razorpay_order_id:ke.razorpay_order_id,razorpay_payment_id:ke.razorpay_payment_id,razorpay_signature:ke.razorpay_signature,bookingDetails:{propertyId:a._id,roomId:e,userId:xe,amount:lt,securityDeposit:ze,monthlyRent:Le}})).data;ot.success?(v({status:"pending_approval",bookingId:ot.bookingId}),B(!1),r({title:"Booking Requested",description:"Payment successful! Your booking request is now pending owner approval."})):r({title:"Booking Failed",description:ot.message,variant:"destructive"})}catch(Me){console.error("Verification Error:",Me),r({title:"Verification Error",description:"Payment verified but booking creation failed. Contact support.",variant:"destructive"})}},theme:{color:"#3399cc"}},Ne=new window.Razorpay(Be);Ne.on("payment.failed",function(ke){r({title:"Payment Failed",description:ke.error.description,variant:"destructive"})}),Ne.open()}catch(tt){console.error(tt),r({title:"Payment Error",description:"Could not initiate payment",variant:"destructive"})}finally{b(!1)}},H=async()=>{if(!(!(p!=null&&p.bookingId)||!window.confirm("Are you sure you want to cancel this booking? This will remove your booking request.")))try{b(!0);const Le=localStorage.getItem("authToken"),ze=await kt.delete(`/property/bookings/${p.bookingId}`);if(ze.status===200)v(null),r({title:"Booking Cancelled",description:"Your booking request has been cancelled."});else{const Te=ze.data||{};r({title:"Cancellation Failed",description:Te.message||"Failed to cancel booking",variant:"destructive"})}}catch(Le){console.error(Le),r({title:"Error",description:"Cancellation failed",variant:"destructive"})}finally{b(!1)}};return d?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):!n||!a?s.jsx(Er,{children:s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Room Not Found"}),s.jsx("button",{onClick:()=>t("/seeker-dashboard"),className:"text-blue-600 hover:underline",children:"Return to Dashboard"})]})}):s.jsxs(Er,{children:[s.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-10",children:[s.jsxs("div",{className:"relative h-[40vh] md:h-[50vh] bg-gray-900 group",children:[k.length>0?s.jsx("img",{src:k[A],alt:a.property_name,className:"w-full h-full object-cover opacity-90"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800 text-gray-500",children:s.jsx("span",{className:"text-lg",children:"No Images Available"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),s.jsx("div",{className:"absolute top-4 left-4 z-10",children:s.jsx("button",{onClick:()=>t(-1),className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all",children:s.jsx(pi,{className:"w-6 h-6"})})}),s.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-3",children:[s.jsx("button",{onClick:z,className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all",children:s.jsx(Kh,{className:`w-6 h-6 ${m?"fill-red-500 text-red-500":""}`})}),s.jsx("button",{onClick:te,className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all",children:s.jsx(eg,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"absolute bottom-6 left-4 right-4 md:left-8 md:right-8 text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"inline-block px-3 py-1 bg-blue-600 rounded-full text-xs font-semibold mb-2 uppercase tracking-wider",children:[n.room_type||n.type||"Standard"," Room"]}),s.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-1",children:[a.property_name," - Room ",n.room_number||n.roomNumber]}),s.jsxs("p",{className:"text-gray-200 flex items-center gap-1",children:[s.jsx(wr,{className:"w-4 h-4"}),(Z=a.address)==null?void 0:Z.city,", ",(K=a.address)==null?void 0:K.state]})]}),s.jsxs("div",{className:"text-right hidden md:block",children:[s.jsxs("p",{className:"text-3xl font-bold",children:["",(ie=n.rent)==null?void 0:ie.toLocaleString()]}),s.jsx("p",{className:"text-sm opacity-80",children:"per month"})]})]})}),k.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:k.map((xe,Le)=>s.jsx("button",{onClick:()=>f(Le),className:`w-2 h-2 rounded-full transition-all ${Le===A?"bg-white w-4":"bg-white/50"}`},Le))})]}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-6 relative z-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[s.jsx(zr,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),s.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Occupancy"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[n.occupancy," Person(s)"]})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[s.jsx(cx,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),s.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Size"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[n.room_size||n.dimension||"N/A"," sq ft"]})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[s.jsx(ca,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),s.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Bed Type"}),s.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:n.bed_type||"N/A"})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[s.jsx(Tr,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),s.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Status"}),s.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:n.is_available?"Available":"Occupied"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"About the Property"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:a.description||"A beautiful property located in a prime area, offering comfortable living spaces and modern amenities for a hassle-free stay."})]}),s.jsx("div",{className:"lg:hidden",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",(oe=n.rent)==null?void 0:oe.toLocaleString()]}),s.jsx("span",{className:"text-gray-500",children:"/month"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Deposit"}),s.jsxs("p",{className:"font-semibold text-gray-700",children:["",(he=a.security_deposit)==null?void 0:he.toLocaleString()]})]})]}),s.jsx("hr",{className:"border-gray-100 my-4"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Service Fee"}),s.jsx("span",{className:"font-medium text-gray-900",children:"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Maintenance"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Included"})]})]}),s.jsx("button",{onClick:re,disabled:y||(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"||(p==null?void 0:p.status)==="pending_approval",className:`w-full py-4 rounded-xl text-white font-bold text-lg shadow-lg hover:shadow-xl transition-all transform active:scale-95 ${(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"?"bg-green-600 cursor-default":(p==null?void 0:p.status)==="pending_approval"?"bg-amber-500 cursor-default":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:y?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(wt,{className:"w-5 h-5"})," Booked"]}):(p==null?void 0:p.status)==="pending_approval"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(rs,{className:"w-5 h-5"})," Waiting for Approval"]}):(p==null?void 0:p.status)==="pending_payment"?"Complete Payment":"Book Now"}),((p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"||(p==null?void 0:p.status)==="pending_approval")&&s.jsxs("button",{onClick:H,disabled:y,className:"w-full mt-3 py-3 rounded-xl border border-red-200 text-red-600 font-semibold hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(or,{className:"w-4 h-4"})," Cancel Booking"]}),s.jsx("p",{className:"text-xs text-center text-gray-400 mt-4",children:(p==null?void 0:p.status)==="pending_approval"?"Your request is being reviewed by the owner.":"You'll pay a 10% booking fee to reserve."})]})}),s.jsx("div",{className:"lg:hidden",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 right-0 p-3",children:s.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center",children:s.jsx(Ca,{className:"w-4 h-4 text-blue-600"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Compatibility"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-black text-blue-600",children:"92%"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Lifestyle Match"})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded",children:"Excellent"})})]}),s.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:s.jsx(X.div,{initial:{width:0},animate:{width:"92%"},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600"})}),s.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Based on your preferences for ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Quiet Evenings"})," and ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Shared Kitchen"})," usage."]})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-primary",children:"Room Features"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.amenities&&Object.entries(n.amenities).map(([xe,Le])=>{if(!Le)return null;const ze={ac:s.jsx(vF,{className:"w-5 h-5 text-blue-600"}),wifi:s.jsx(rm,{className:"w-5 h-5 text-blue-600"}),tv:s.jsx(Fue,{className:"w-5 h-5 text-blue-600"}),fridge:s.jsx(kf,{className:"w-5 h-5 text-blue-600"}),wardrobe:s.jsx(cx,{className:"w-5 h-5 text-blue-600"}),studyTable:s.jsx(cx,{className:"w-5 h-5 text-blue-600"}),balcony:s.jsx(cx,{className:"w-5 h-5 text-blue-600"}),attachedBathroom:s.jsx(rr,{className:"w-5 h-5 text-blue-600"})};return s.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded-xl border border-gray-100 transition-hover hover:border-blue-200",children:[ze[xe]||s.jsx(wt,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-xs font-medium text-gray-600 mt-2 text-center capitalize",children:xe.replace(/([A-Z])/g," $1").trim()})]},xe)}),(!n.amenities||Object.values(n.amenities).every(xe=>!xe))&&s.jsx("p",{className:"text-sm text-gray-500 italic col-span-full",children:"No specific room features listed."})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-primary",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.amenities&&Object.entries(a.amenities).filter(([xe,Le])=>Le).map(([xe])=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50/30 rounded-xl border border-blue-50",children:[s.jsx("div",{className:"p-2 bg-white rounded-lg text-blue-600 shadow-sm",children:xe.includes("parking")?s.jsx(fl,{className:"w-5 h-5"}):s.jsx(wt,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:xe.replace(/([A-Z])/g," $1").trim()})]},xe))})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-primary",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.rules&&Object.entries(a.rules).map(([xe,Le])=>{const ze={petsAllowed:Le?"Pets Welcome":"No Pets Allowed",smokingAllowed:Le?"Smoking Allowed":"No Smoking",visitorsAllowed:Le?"Visitors Allowed":"No Visitors",cookingAllowed:Le?"Cooking Allowed":"No Cooking Indoors"},Te={petsAllowed:s.jsx(yue,{className:`w-5 h-5 ${Le?"text-green-600":"text-red-500"}`}),smokingAllowed:s.jsx(vF,{className:`w-5 h-5 ${Le?"text-green-600":"text-red-500"}`}),visitorsAllowed:s.jsx(zr,{className:`w-5 h-5 ${Le?"text-green-600":"text-red-500"}`}),cookingAllowed:s.jsx(kf,{className:`w-5 h-5 ${Le?"text-green-600":"text-red-500"}`})};return s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl border border-gray-100 hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:`p-2 rounded-full ${Le?"bg-green-50":"bg-red-50"}`,children:Te[xe]}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-semibold ${Le?"text-gray-900":"text-gray-700"}`,children:ze[xe]}),s.jsx("p",{className:"text-xs text-gray-500",children:Le?"Permitted":"Strictly prohibited"})]})]},xe)})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 overflow-hidden relative",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 font-primary",children:"Living With"}),s.jsxs("span",{className:"text-xs font-semibold bg-blue-50 text-blue-600 px-3 py-1 rounded-full uppercase tracking-wider",children:[I.length," / ",n.occupancy||1," Occupied"]})]}),T?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10 gap-3",children:[s.jsx("div",{className:"w-8 h-8 border-3 border-blue-100 border-t-blue-600 rounded-full animate-spin"}),s.jsx("p",{className:"text-sm text-gray-500 animate-pulse",children:"Finding your future roommates..."})]}):I.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map((xe,Le)=>{var ze,Te;return s.jsx(X.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:Le*.1},className:"group p-4 rounded-2xl border border-gray-100 bg-gray-50/50 hover:bg-white hover:shadow-xl hover:shadow-blue-500/5 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-2xl flex items-center justify-center border-2 border-white shadow-sm overflow-hidden",children:xe.profilePicture||(ze=xe.userId)!=null&&ze.profilePicture?s.jsx("img",{src:xe.profilePicture||((Te=xe.userId)==null?void 0:Te.profilePicture),alt:xe.userName||"Resident",className:"w-full h-full object-cover"}):s.jsx(cr,{className:"w-6 h-6 text-blue-400"})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 border-2 border-white rounded-full flex items-center justify-center",children:s.jsx(wt,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h3",{className:"font-bold text-gray-900 truncate group-hover:text-blue-600 transition-colors",children:xe.userName||"Resident"})}),s.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[s.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(ln,{className:"w-3 h-3 text-blue-500"})," ",xe.userEmail]}),xe.userPhone&&s.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(Es,{className:"w-3 h-3 text-green-500"})," ",xe.userPhone]}),s.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(Tr,{className:"w-3 h-3 text-purple-500"})," Member since ",xe.actualCheckInDate?new Date(xe.actualCheckInDate).getFullYear():new Date().getFullYear()]})]})]})]})},xe._id||Le)})}):s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 border border-dashed border-gray-200 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm border border-gray-100",children:s.jsx(zr,{className:"w-8 h-8 text-gray-300"})}),s.jsx("h3",{className:"text-gray-900 font-bold mb-1",children:"Room is Currently Empty"}),s.jsx("p",{className:"text-sm text-gray-500 max-w-[250px] mx-auto leading-relaxed",children:"Be the first one to move in and set the vibe for this beautiful space!"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 font-primary",children:"Location Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(wr,{className:"w-5 h-5 text-blue-600 shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900 font-medium",children:"Address"}),s.jsxs("p",{className:"text-gray-600",children:[(pe=a.address)==null?void 0:pe.street,", ",(ee=a.address)==null?void 0:ee.city,", ",(fe=a.address)==null?void 0:fe.state,", ",(ue=a.address)==null?void 0:ue.pincode]})]})]}),((V=a.address)==null?void 0:V.landmark)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(v4,{className:"w-5 h-5 text-blue-600 shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900 font-medium",children:"Landmark"}),s.jsx("p",{className:"text-gray-600",children:a.address.landmark})]})]})]}),w[0]!==0&&s.jsx("div",{className:"mt-6 h-64 w-full rounded-2xl overflow-hidden border border-gray-100 shadow-inner relative",style:{zIndex:1},children:s.jsxs(Gh,{center:w,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[s.jsx(Yh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(qh,{position:w,children:s.jsx(_y,{children:s.jsxs("div",{className:"p-2",children:[s.jsx("p",{className:"font-bold text-gray-900",children:a.property_name}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:(ve=a.address)==null?void 0:ve.city})]})})})]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-24 space-y-6",children:[s.jsxs("div",{className:"hidden lg:block bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",(Se=n.rent)==null?void 0:Se.toLocaleString()]}),s.jsx("span",{className:"text-gray-500",children:"/month"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Deposit"}),s.jsxs("p",{className:"font-semibold text-gray-700",children:["",(ne=a.security_deposit)==null?void 0:ne.toLocaleString()]})]})]}),s.jsx("hr",{className:"border-gray-100 my-4"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Service Fee"}),s.jsx("span",{className:"font-medium text-gray-900",children:"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Maintenance"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Included"})]})]}),s.jsx("button",{onClick:re,disabled:y||(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"||(p==null?void 0:p.status)==="pending_approval",className:`w-full py-4 rounded-xl text-white font-bold text-lg shadow-lg hover:shadow-xl transition-all transform active:scale-95 ${(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"?"bg-green-600 cursor-default":(p==null?void 0:p.status)==="pending_approval"?"bg-amber-500 cursor-default":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:y?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(wt,{className:"w-5 h-5"})," Booked"]}):(p==null?void 0:p.status)==="pending_approval"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(rs,{className:"w-5 h-5"})," Waiting for Approval"]}):(p==null?void 0:p.status)==="pending_payment"?"Complete Payment":"Book Now"}),((p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"||(p==null?void 0:p.status)==="pending_approval")&&s.jsxs("button",{onClick:H,disabled:y,className:"w-full mt-3 py-3 rounded-xl border border-red-200 text-red-600 font-semibold hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(or,{className:"w-4 h-4"})," Cancel Booking"]}),s.jsx("p",{className:"text-xs text-center text-gray-400 mt-4",children:(p==null?void 0:p.status)==="pending_approval"?"Your request is being reviewed by the owner.":"You'll pay a 10% booking fee to reserve."})]}),l&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full overflow-hidden",children:l.profilePicture?s.jsx("img",{src:l.profilePicture,alt:l.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",children:s.jsx(cr,{className:"w-8 h-8"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900",children:l.name}),s.jsx("p",{className:"text-sm text-gray-500",children:"Property Owner"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"flex-1 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(ln,{className:"w-4 h-4"})," Message"]}),s.jsxs("button",{className:"flex-1 py-2 border border-blue-200 bg-blue-50 rounded-lg text-sm font-medium text-blue-700 hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Es,{className:"w-4 h-4"})," Call"]})]})]}),s.jsxs("div",{className:"hidden lg:block bg-white rounded-2xl shadow-sm p-6 overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 right-0 p-3",children:s.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center",children:s.jsx(Ca,{className:"w-4 h-4 text-blue-600"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Compatibility"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-black text-blue-600",children:"92%"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Lifestyle Match"})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded",children:"Excellent"})})]}),s.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:s.jsx(X.div,{initial:{width:0},animate:{width:"92%"},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600"})}),s.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Based on your preferences for ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Quiet Evenings"})," and ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Shared Kitchen"})," usage."]})]})]})]})})]})})]}),s.jsx(gn,{children:N&&s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:s.jsxs(X.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[s.jsx("button",{onClick:()=>B(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-400 hover:text-gray-600",children:s.jsx(or,{className:"w-5 h-5"})}),s.jsxs("div",{className:"p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Summary"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Please review the costs before proceeding"}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden shrink-0 shadow-sm border border-white",children:s.jsx("img",{src:n.room_image||n.roomImage||(Array.isArray(a.images)?a.images[0]:a.image),alt:"Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-gray-900",children:["Room ",n.room_number||n.roomNumber]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[n.room_type,"  ",n.bed_type]}),s.jsx("p",{className:"text-[10px] text-blue-600 font-semibold mt-0.5",children:a.property_name})]})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[s.jsx("span",{children:"Monthly Rent"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",n.rent]})]}),s.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[s.jsx("span",{children:"Security Deposit"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",a.security_deposit||0]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900 font-bold",children:"Total Amount"}),s.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["",parseFloat(n.rent)+parseFloat(a.security_deposit||0)]})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-xl p-5 mb-8",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(v4,{className:"w-6 h-6 text-blue-600 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Booking Fee: 10%"}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1 leading-relaxed",children:["You need to pay ",((parseFloat(n.rent)+parseFloat(a.security_deposit||0))*.1).toFixed(2)," to reserve this room. This amount will be adjusted in your first month's payment."]})]})]})}),s.jsx("button",{onClick:J,disabled:y,className:"w-full py-4 bg-blue-600 text-white rounded-xl font-bold text-lg hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02]",children:y?s.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):s.jsxs(s.Fragment,{children:["Pay ",((parseFloat(n.rent)+parseFloat(a.security_deposit||0))*.1).toFixed(2)," & Book Now"]})}),s.jsx("p",{className:"text-center text-xs text-gray-400 mt-5",children:"By proceeding, you agree to Lyvo's Terms and Conditions"})]})]})})})]})},wbe=()=>{const e=Ar(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,o]=_.useState("");_.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0);const c="http://localhost:5000/api/property";console.log("Fetching rooms from:",`${c}/api/debug/rooms`);const d=await fetch(`${c}/api/debug/rooms`,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("Response status:",d.status),!d.ok){const A=await d.text();throw new Error(`HTTP error! status: ${d.status} - ${A}`)}const u=await d.json();if(console.log("Rooms data:",u),u.success&&u.rooms)r(u.rooms);else throw new Error(u.message||"Failed to fetch rooms")}catch(c){console.error("Error fetching rooms:",c),o(c.message)}finally{i(!1)}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading rooms..."})]})}):a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Rooms"}),s.jsx("p",{className:"text-gray-600 mb-6",children:a}),s.jsx("button",{onClick:()=>e("/seeker/dashboard"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Room Debug - Available Rooms"}),s.jsx("button",{onClick:()=>e("/seeker/dashboard"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["Found ",t.length," rooms in the database"]})}),t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rooms found"}),s.jsx("p",{className:"text-gray-600",children:"There are no rooms in the database."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(c=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Room ",c.room_number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Type: ",c.room_type]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Room ID:"}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:c._id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Property ID:"}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:c.property_id})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.approval_status})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>e(`/seeker/room/${c._id}`),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"View Room Details"})})]},c._id))})]})})})},jbe=i6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),bn=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?NAe:"button";return s.jsx(o,{className:dn(jbe({variant:t,size:r,className:e})),ref:a,...i})});bn.displayName="Button";const Vd=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Vd.displayName="Card";const mf=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("flex flex-col space-y-1.5 p-6",e),...t}));mf.displayName="CardHeader";const pf=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("font-semibold leading-none tracking-tight",e),...t}));pf.displayName="CardTitle";const Nbe=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("text-sm text-muted-foreground",e),...t}));Nbe.displayName="CardDescription";const Kd=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("p-6 pt-0",e),...t}));Kd.displayName="CardContent";const _be=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("flex items-center p-6 pt-0",e),...t}));_be.displayName="CardFooter";const Cbe=i6("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),S2=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:dn(Cbe({variant:t}),e),...r}));S2.displayName="Alert";const Bbe=_.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:dn("mb-1 font-medium leading-none tracking-tight",e),...t}));Bbe.displayName="AlertTitle";const E2=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("text-sm [&_p]:leading-relaxed",e),...t}));E2.displayName="AlertDescription";var Sbe=g3[" useId ".trim().toString()]||(()=>{}),Ebe=0;function Ip(e){const[t,r]=_.useState(Sbe());return Ri(()=>{r(n=>n??String(Ebe++))},[e]),t?`radix-${t}`:""}var IC="focusScope.autoFocusOnMount",TC="focusScope.autoFocusOnUnmount",DU={bubbles:!1,cancelable:!0},kbe="FocusScope",T6=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=_.useState(null),d=hc(i),u=hc(a),A=_.useRef(null),f=ms(t,p=>c(p)),m=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?A.current=j:nh(A.current,{select:!0})},v=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||nh(A.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&nh(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),_.useEffect(()=>{if(l){QU.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(IC,DU);l.addEventListener(IC,d),l.dispatchEvent(y),y.defaultPrevented||(Pbe(Fbe(OG(l)),{select:!0}),document.activeElement===p&&nh(l))}return()=>{l.removeEventListener(IC,d),setTimeout(()=>{const y=new CustomEvent(TC,DU);l.addEventListener(TC,u),l.dispatchEvent(y),y.defaultPrevented||nh(p??document.body,{select:!0}),l.removeEventListener(TC,u),QU.remove(m)},0)}}},[l,d,u,m]);const x=_.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const b=p.currentTarget,[w,j]=Ibe(b);w&&j?!p.shiftKey&&y===j?(p.preventDefault(),r&&nh(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),r&&nh(j,{select:!0})):y===b&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(Gr.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});T6.displayName=kbe;function Pbe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(nh(n,{select:t}),document.activeElement!==r)return}function Ibe(e){const t=OG(e),r=MU(t,e),n=MU(t.reverse(),e);return[r,n]}function OG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function MU(e,t){for(const r of e)if(!Tbe(r,{upTo:t}))return r}function Tbe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Obe(e){return e instanceof HTMLInputElement&&"select"in e}function nh(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Obe(e)&&t&&e.select()}}var QU=Lbe();function Lbe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=$U(e,t),e.unshift(t)},remove(t){var r;e=$U(e,t),(r=e[0])==null||r.resume()}}}function $U(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Fbe(e){return e.filter(t=>t.tagName!=="A")}var OC=0;function LG(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??HU()),document.body.insertAdjacentElement("beforeend",e[1]??HU()),OC++,()=>{OC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),OC--}},[])}function HU(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $c=function(){return $c=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},$c.apply(this,arguments)};function FG(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Ube(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var b1="right-scroll-bar-position",w1="width-before-scroll-bar",Rbe="with-scroll-bars-hidden",Dbe="--removed-body-scroll-bar-size";function LC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Mbe(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var Qbe=typeof window<"u"?_.useLayoutEffect:_.useEffect,zU=new WeakMap;function $be(e,t){var r=Mbe(null,function(n){return e.forEach(function(i){return LC(i,n)})});return Qbe(function(){var n=zU.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(l){a.has(l)||LC(l,null)}),a.forEach(function(l){i.has(l)||LC(l,o)})}zU.set(r,e)},[e]),r}function Hbe(e){return e}function zbe(e,t){t===void 0&&(t=Hbe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return i}function Vbe(e){e===void 0&&(e={});var t=zbe(null);return t.options=$c({async:!0,ssr:!1},e),t}var UG=function(e){var t=e.sideCar,r=FG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,$c({},r))};UG.isSideCarExport=!0;function Kbe(e,t){return e.useMedium(t),UG}var RG=Vbe(),FC=function(){},GN=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:FC,onWheelCapture:FC,onTouchMoveCapture:FC}),i=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,A=e.shards,f=e.sideCar,m=e.noRelative,x=e.noIsolation,p=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,j=FG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,B=$be([r,t]),I=$c($c({},j),i);return _.createElement(_.Fragment,null,u&&_.createElement(N,{sideCar:RG,removeScrollBar:d,shards:A,noRelative:m,noIsolation:x,inert:p,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?_.cloneElement(_.Children.only(l),$c($c({},I),{ref:B})):_.createElement(b,$c({},I,{className:c,ref:B}),l))});GN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};GN.classNames={fullWidth:w1,zeroRight:b1};var Wbe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gbe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Wbe();return t&&e.setAttribute("nonce",t),e}function qbe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ybe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Xbe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Gbe())&&(qbe(t,r),Ybe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zbe=function(){var e=Xbe();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},DG=function(){var e=Zbe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},Jbe={left:0,top:0,right:0,gap:0},UC=function(e){return parseInt(e||"",10)||0},ewe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[UC(r),UC(n),UC(i)]},twe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Jbe;var t=ewe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},rwe=DG(),Tp="data-scroll-locked",nwe=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Rbe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Tp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(b1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(w1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(b1," .").concat(b1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(w1," .").concat(w1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Tp,`] {
    `).concat(Dbe,": ").concat(l,`px;
  }
`)},VU=function(){var e=parseInt(document.body.getAttribute(Tp)||"0",10);return isFinite(e)?e:0},swe=function(){_.useEffect(function(){return document.body.setAttribute(Tp,(VU()+1).toString()),function(){var e=VU()-1;e<=0?document.body.removeAttribute(Tp):document.body.setAttribute(Tp,e.toString())}},[])},iwe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;swe();var a=_.useMemo(function(){return twe(i)},[i]);return _.createElement(rwe,{styles:nwe(a,!t,i,r?"":"!important")})},q4=!1;if(typeof window<"u")try{var Gb=Object.defineProperty({},"passive",{get:function(){return q4=!0,!0}});window.addEventListener("test",Gb,Gb),window.removeEventListener("test",Gb,Gb)}catch{q4=!1}var Bm=q4?{passive:!1}:!1,awe=function(e){return e.tagName==="TEXTAREA"},MG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!awe(e)&&r[t]==="visible")},owe=function(e){return MG(e,"overflowY")},lwe=function(e){return MG(e,"overflowX")},KU=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=QG(e,n);if(i){var a=$G(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},cwe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},dwe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},QG=function(e,t){return e==="v"?owe(t):lwe(t)},$G=function(e,t){return e==="v"?cwe(t):dwe(t)},uwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},hwe=function(e,t,r,n,i){var a=uwe(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),d=!1,u=o>0,A=0,f=0;do{if(!l)break;var m=$G(e,l),x=m[0],p=m[1],v=m[2],y=p-v-a*x;(x||y)&&QG(e,l)&&(A+=y,f+=x);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(A)<1||!u&&Math.abs(f)<1)&&(d=!0),d},qb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},WU=function(e){return[e.deltaX,e.deltaY]},GU=function(e){return e&&"current"in e?e.current:e},Awe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fwe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mwe=0,Sm=[];function pwe(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(mwe++)[0],a=_.useState(DG)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var p=Ube([e.lockRef.current],(e.shards||[]).map(GU),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=qb(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-y[0],j="deltaY"in p?p.deltaY:b[1]-y[1],N,B=p.target,I=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&I==="h"&&B.type==="range")return!1;var P=window.getSelection(),T=P&&P.anchorNode,F=T?T===B||T.contains(B):!1;if(F)return!1;var E=KU(I,B);if(!E)return!0;if(E?N=I:(N=I==="v"?"h":"v",E=KU(I,B)),!E)return!1;if(!n.current&&"changedTouches"in p&&(w||j)&&(n.current=N),!N)return!0;var k=n.current||N;return hwe(k,v,p,k==="h"?w:j)},[]),c=_.useCallback(function(p){var v=p;if(!(!Sm.length||Sm[Sm.length-1]!==a)){var y="deltaY"in v?WU(v):qb(v),b=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&Awe(N.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(GU).filter(Boolean).filter(function(N){return N.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=_.useCallback(function(p,v,y,b){var w={name:p,delta:v,target:y,should:b,shadowParent:gwe(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),u=_.useCallback(function(p){r.current=qb(p),n.current=void 0},[]),A=_.useCallback(function(p){d(p.type,WU(p),p.target,l(p,e.lockRef.current))},[]),f=_.useCallback(function(p){d(p.type,qb(p),p.target,l(p,e.lockRef.current))},[]);_.useEffect(function(){return Sm.push(a),e.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Bm),document.addEventListener("touchmove",c,Bm),document.addEventListener("touchstart",u,Bm),function(){Sm=Sm.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Bm),document.removeEventListener("touchmove",c,Bm),document.removeEventListener("touchstart",u,Bm)}},[]);var m=e.removeScrollBar,x=e.inert;return _.createElement(_.Fragment,null,x?_.createElement(a,{styles:fwe(i)}):null,m?_.createElement(iwe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function gwe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xwe=Kbe(RG,pwe);var O6=_.forwardRef(function(e,t){return _.createElement(GN,$c({},e,{ref:t,sideCar:xwe}))});O6.classNames=GN.classNames;var ywe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Em=new WeakMap,Yb=new WeakMap,Xb={},RC=0,HG=function(e){return e&&(e.host||HG(e.parentNode))},vwe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=HG(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},bwe=function(e,t,r,n){var i=vwe(t,Array.isArray(e)?e:[e]);Xb[r]||(Xb[r]=new WeakMap);var a=Xb[r],o=[],l=new Set,c=new Set(i),d=function(A){!A||l.has(A)||(l.add(A),d(A.parentNode))};i.forEach(d);var u=function(A){!A||c.has(A)||Array.prototype.forEach.call(A.children,function(f){if(l.has(f))u(f);else try{var m=f.getAttribute(n),x=m!==null&&m!=="false",p=(Em.get(f)||0)+1,v=(a.get(f)||0)+1;Em.set(f,p),a.set(f,v),o.push(f),p===1&&x&&Yb.set(f,!0),v===1&&f.setAttribute(r,"true"),x||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),l.clear(),RC++,function(){o.forEach(function(A){var f=Em.get(A)-1,m=a.get(A)-1;Em.set(A,f),a.set(A,m),f||(Yb.has(A)||A.removeAttribute(n),Yb.delete(A)),m||A.removeAttribute(r)}),RC--,RC||(Em=new WeakMap,Em=new WeakMap,Yb=new WeakMap,Xb={})}},zG=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=ywe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),bwe(n,i,r,"aria-hidden")):function(){return null}},qN="Dialog",[VG]=Iv(qN),[wwe,yc]=VG(qN),KG=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=_.useRef(null),c=_.useRef(null),[d,u]=p2({prop:n,defaultProp:i??!1,onChange:a,caller:qN});return s.jsx(wwe,{scope:t,triggerRef:l,contentRef:c,contentId:Ip(),titleId:Ip(),descriptionId:Ip(),open:d,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(A=>!A),[u]),modal:o,children:r})};KG.displayName=qN;var WG="DialogTrigger",jwe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=yc(WG,r),a=ms(t,i.triggerRef);return s.jsx(Gr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":U6(i.open),...n,ref:a,onClick:Dr(e.onClick,i.onOpenToggle)})});jwe.displayName=WG;var L6="DialogPortal",[Nwe,GG]=VG(L6,{forceMount:void 0}),qG=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=yc(L6,t);return s.jsx(Nwe,{scope:t,forceMount:r,children:_.Children.map(n,o=>s.jsx(Tv,{present:r||a.open,children:s.jsx(TN,{asChild:!0,container:i,children:o})}))})};qG.displayName=L6;var k2="DialogOverlay",YG=_.forwardRef((e,t)=>{const r=GG(k2,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=yc(k2,e.__scopeDialog);return a.modal?s.jsx(Tv,{present:n||a.open,children:s.jsx(Cwe,{...i,ref:t})}):null});YG.displayName=k2;var _we=sg("DialogOverlay.RemoveScroll"),Cwe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=yc(k2,r);return s.jsx(O6,{as:_we,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Gr.div,{"data-state":U6(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Rf="DialogContent",XG=_.forwardRef((e,t)=>{const r=GG(Rf,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=yc(Rf,e.__scopeDialog);return s.jsx(Tv,{present:n||a.open,children:a.modal?s.jsx(Bwe,{...i,ref:t}):s.jsx(Swe,{...i,ref:t})})});XG.displayName=Rf;var Bwe=_.forwardRef((e,t)=>{const r=yc(Rf,e.__scopeDialog),n=_.useRef(null),i=ms(t,r.contentRef,n);return _.useEffect(()=>{const a=n.current;if(a)return zG(a)},[]),s.jsx(ZG,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Dr(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Dr(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Dr(e.onFocusOutside,a=>a.preventDefault())})}),Swe=_.forwardRef((e,t)=>{const r=yc(Rf,e.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return s.jsx(ZG,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),ZG=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=yc(Rf,r),c=_.useRef(null),d=ms(t,c);return LG(),s.jsxs(s.Fragment,{children:[s.jsx(T6,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(IN,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":U6(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Ewe,{titleId:l.titleId}),s.jsx(Pwe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),F6="DialogTitle",JG=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=yc(F6,r);return s.jsx(Gr.h2,{id:i.titleId,...n,ref:t})});JG.displayName=F6;var eq="DialogDescription",tq=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=yc(eq,r);return s.jsx(Gr.p,{id:i.descriptionId,...n,ref:t})});tq.displayName=eq;var rq="DialogClose",nq=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=yc(rq,r);return s.jsx(Gr.button,{type:"button",...n,ref:t,onClick:Dr(e.onClick,()=>i.onOpenChange(!1))})});nq.displayName=rq;function U6(e){return e?"open":"closed"}var sq="DialogTitleWarning",[iet,iq]=wAe(sq,{contentName:Rf,titleName:F6,docsSlug:"dialog"}),Ewe=({titleId:e})=>{const t=iq(sq),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},kwe="DialogDescriptionWarning",Pwe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iq(kwe).contentName}}.`;return _.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Iwe=KG,Twe=qG,aq=YG,oq=XG,lq=JG,cq=tq,Owe=nq;const dq=Iwe,Lwe=Twe,uq=_.forwardRef(({className:e,...t},r)=>s.jsx(aq,{ref:r,className:dn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uq.displayName=aq.displayName;const R6=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Lwe,{children:[s.jsx(uq,{}),s.jsxs(oq,{ref:n,className:dn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Owe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));R6.displayName=oq.displayName;const D6=({className:e,...t})=>s.jsx("div",{className:dn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});D6.displayName="DialogHeader";const M6=({className:e,...t})=>s.jsx("div",{className:dn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});M6.displayName="DialogFooter";const Q6=_.forwardRef(({className:e,...t},r)=>s.jsx(lq,{ref:r,className:dn("text-lg font-semibold leading-none tracking-tight",e),...t}));Q6.displayName=lq.displayName;const $6=_.forwardRef(({className:e,...t},r)=>s.jsx(cq,{ref:r,className:dn("text-sm text-muted-foreground",e),...t}));$6.displayName=cq.displayName;const Fwe=()=>{var Me,ot,nt,rt,Ke,st,at,gt,Bt,_t,Vt,yt;const e=Ar(),{toast:t}=xc(),r=_.useRef(null),n=_.useRef(null),[i,a]=_.useState(null),[o,l]=_.useState(null),[c,d]=_.useState(!1),[u,A]=_.useState(!1),[f,m]=_.useState(null),[x,p]=_.useState(null),[v,y]=_.useState(!1),[b,w]=_.useState(""),[j,N]=_.useState("pending"),[B,I]=_.useState(null),[P,T]=_.useState(null),[F,E]=_.useState(null),[k,M]=_.useState(!1),[U,W]=_.useState(!1),[Y,Q]=_.useState(null),[z,te]=_.useState("front"),[re,J]=_.useState(null),[H,Z]=_.useState(!1),[K,ie]=_.useState(!1),[oe,he]=_.useState(!1),[pe,ee]=_.useState(0),[fe,ue]=_.useState(!1),V="aadhar";_.useEffect(()=>{const At=JSON.parse(localStorage.getItem("user")||"{}");a(At),ze(),Le(),(async()=>{try{if(console.log("Checking camera availability..."),!navigator.mediaDevices){console.error("navigator.mediaDevices is not available");return}const dt=await navigator.mediaDevices.enumerateDevices();console.log("Available devices on mount:",dt);const et=dt.filter(Ve=>Ve.kind==="videoinput");if(console.log("Video devices on mount:",et),et.length===0?console.warn("No video devices found"):console.log("Camera devices found:",et.length),navigator.permissions)try{const Ve=await navigator.permissions.query({name:"camera"});console.log("Camera permission status:",Ve.state)}catch(Ve){console.log("Could not check camera permissions:",Ve)}}catch(dt){console.error("Error checking camera availability:",dt)}})()},[]);const ve=async()=>{try{if(J(null),ie(!0),Z(!1),console.log("Starting camera..."),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia is not supported in this browser");const At=await navigator.mediaDevices.enumerateDevices();console.log("Available devices:",At);const it=At.filter(Ve=>Ve.kind==="videoinput");if(console.log("Video devices:",it),it.length===0)throw new Error("No camera devices found");let dt={video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480}}};console.log("Trying camera with constraints:",dt);let et;try{et=await navigator.mediaDevices.getUserMedia(dt),console.log("Camera started successfully with back camera")}catch(Ve){console.log("Back camera failed, trying front camera:",Ve),dt.video.facingMode="user",et=await navigator.mediaDevices.getUserMedia(dt),console.log("Camera started successfully with front camera")}Q(et),W(!0),setTimeout(()=>{r.current?(console.log("Setting video source..."),r.current.srcObject=et,r.current.onloadedmetadata=()=>{console.log("Video metadata loaded"),Z(!0),ie(!1),r.current.play().catch(Ve=>{console.error("Error playing video:",Ve),J("Failed to start video playback")})},r.current.oncanplay=()=>{console.log("Video can play"),Z(!0),ie(!1)},r.current.onerror=Ve=>{console.error("Video error:",Ve),J("Video playback error"),ie(!1)},r.current.play().catch(Ve=>{console.error("Error playing video:",Ve)})):(console.error("Video ref is not available"),J("Video element not ready"),ie(!1))},100),console.log("Camera modal opened")}catch(At){console.error("Error accessing camera:",At),ie(!1);let it="Unable to access camera. ";At.name==="NotAllowedError"?it+="Please allow camera permissions and try again.":At.name==="NotFoundError"?it+="No camera found on this device.":At.name==="NotSupportedError"?it+="Camera is not supported in this browser.":At.name==="NotReadableError"?it+="Camera is being used by another application.":it+="Please check your camera settings.",J(it),t({title:"Camera Error",description:it,variant:"destructive"})}},Se=()=>{Y&&(Y.getTracks().forEach(At=>At.stop()),Q(null)),W(!1),J(null),Z(!1),ie(!1),r.current&&(r.current.srcObject=null)},ne=()=>{if(!r.current||!n.current)return;const At=r.current,it=n.current,dt=it.getContext("2d");it.width=At.videoWidth,it.height=At.videoHeight,dt.drawImage(At,0,0,it.width,it.height),it.toBlob(et=>{if(et){const Ve=new File([et],`captured_${z}_${Date.now()}.jpg`,{type:"image/jpeg"});m(Ve),p(URL.createObjectURL(et)),Se(),t({title:"Photo Captured",description:"Aadhar card photo captured successfully"})}},"image/jpeg",.8)},xe=()=>{te("front"),ve()},Le=async()=>{var At;try{M(!0);const it=await kt.get("/user/aadhar-status");if(it.status===200){const dt=it.data;console.log("[FRONTEND DEBUG] Aadhar approval status response:",dt),E(dt.aadharStatus),console.log("[FRONTEND DEBUG] Set aadharApprovalStatus to:",dt.aadharStatus),console.log("[FRONTEND DEBUG] isApproved:",(At=dt.aadharStatus)==null?void 0:At.isApproved)}}catch(it){console.error("Error checking Aadhar approval status:",it)}finally{M(!1)}},ze=async()=>{try{d(!0);const At=JSON.parse(localStorage.getItem("user")||"{}"),it=At.id||At._id;if(!it){console.error("User ID not found");return}const dt=await kt.get(`/user/profile/${it}`);if(dt.status===200){const et=dt.data;l(et.kycStatus||"not_verified"),N(et.kycStatus||"not_verified")}}catch(At){console.error("Error checking KYC status:",At)}finally{d(!1)}},Te=(At,it)=>{if(At){if(!At.type.startsWith("image/")){t({title:"Invalid file type",description:"Please upload an image file (JPG, PNG, etc.)",variant:"destructive"});return}if(At.size>5*1024*1024){t({title:"File too large",description:"Please upload an image smaller than 5MB",variant:"destructive"});return}{m(At);const dt=new FileReader;dt.onload=et=>p(et.target.result),dt.readAsDataURL(At)}}},lt=(At,it)=>{if(!At||!it)return{match:!1,confidence:0,reason:"Missing name data"};const dt=At.toUpperCase().trim(),et=it.toUpperCase().trim(),Ve=dt.split(/\s+/).filter(qr=>qr.length>0),Ct=et.split(/\s+/).filter(qr=>qr.length>0);if(dt===et)return{match:!0,confidence:1,reason:"Exact match"};let Zt=0,Qn=Math.max(Ve.length,Ct.length);for(const qr of Ve)for(const _n of Ct){if(qr===_n){Zt++;break}if(qr.length>2&&_n.length>2){const Ft=tt(qr,_n);if(Ft>.8){Zt+=Ft;break}}}const tr=Zt/Qn;return tr>=.8?{match:!0,confidence:tr,reason:"High similarity match"}:tr>=.5?{match:!1,confidence:tr,reason:"Partial match - manual review needed"}:{match:!1,confidence:tr,reason:"No significant match found"}},tt=(At,it)=>{const dt=At.toUpperCase(),et=it.toUpperCase(),Ve=dt.length>et.length?dt:et,Ct=dt.length>et.length?et:dt;if(Ve.length===0)return 1;const Zt=ge(Ve,Ct);return(Ve.length-Zt)/Ve.length},ge=(At,it)=>{const dt=[];for(let et=0;et<=it.length;et++)dt[et]=[et];for(let et=0;et<=At.length;et++)dt[0][et]=et;for(let et=1;et<=it.length;et++)for(let Ve=1;Ve<=At.length;Ve++)it.charAt(et-1)===At.charAt(Ve-1)?dt[et][Ve]=dt[et-1][Ve-1]:dt[et][Ve]=Math.min(dt[et-1][Ve-1]+1,dt[et][Ve-1]+1,dt[et-1][Ve]+1);return dt[it.length][At.length]},Be=async()=>{var it,dt;if(!f){t({title:"Front image required",description:"Please upload the front side of your document",variant:"destructive"});return}A(!0),I(null),T(null),he(!0),ee(0);const At=setInterval(()=>{ee(et=>et>=90?(clearInterval(At),90):et+10)},200);try{const et=new FormData;et.append("frontImage",f),et.append("idType",V),et.append("idNumber","");const Ve=await kt.post("/user/upload-kyc",et,{headers:{"Content-Type":"multipart/form-data"}}),Ct=Ve.data;if(Ve.status===200){if(clearInterval(At),ee(100),Ct.kycStatus==="rejected"){y(!0),w(Ct.verificationFailureReason||"Verification failed"),t({title:"Verification Failed",description:Ct.verificationFailureReason||"Please verify again with correct image",variant:"destructive"});return}if(I(Ct.ocrResult),(dt=(it=Ct.ocrResult)==null?void 0:it.extractedData)!=null&&dt.name){const Zt=lt(Ct.ocrResult.extractedData.name,(i==null?void 0:i.name)||"");T(Zt)}N(Ct.kycStatus),l(Ct.kycStatus),t({title:"Document uploaded successfully",description:`KYC status: ${Ct.kycStatus}`,variant:Ct.kycStatus==="approved"?"default":"destructive"}),ze(),Le()}else throw new Error(Ct.error||"Upload failed")}catch(et){console.error("Error uploading KYC:",et),clearInterval(At),ee(0),t({title:"Upload failed",description:et.message||"Failed to upload document",variant:"destructive"})}finally{A(!1)}},Ne=At=>{switch(At){case"approved":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"rejected":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},ke=At=>{switch(At){case"approved":return s.jsx(wt,{className:"w-5 h-5"});case"pending":return s.jsx(er,{className:"w-5 h-5"});case"rejected":return s.jsx(ir,{className:"w-5 h-5"});default:return s.jsx(rr,{className:"w-5 h-5"})}};return c||k?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ni,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:k?"Checking verification status...":"Loading KYC status..."})]})}):F&&F.isApproved?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(bn,{variant:"ghost",onClick:()=>e("/seeker-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-full",children:s.jsx(pi,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center mr-4",children:s.jsx(Qr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Identity Verification"}),s.jsx("p",{className:"text-gray-600",children:"Your Aadhar verification is complete"})]})]})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-8",children:s.jsxs(Vd,{className:"border-green-200 bg-green-50",children:[s.jsx(mf,{children:s.jsxs(pf,{className:"flex items-center text-green-800",children:[s.jsx(Qr,{className:"w-6 h-6 mr-2"}),"Verification Approved"]})}),s.jsx(Kd,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(rr,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Aadhar Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Status: Approved"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center text-green-600 font-semibold",children:[s.jsx(Qr,{className:"w-5 h-5 mr-1"}),"Verified"]}),s.jsx("p",{className:"text-xs text-gray-500",children:(Me=F.details)!=null&&Me.approvalDate?new Date(F.details.approvalDate).toLocaleDateString():"Recently approved"})]})]}),F.details&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 bg-gray-50 p-4 rounded-lg flex justify-center border border-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Verified Document"}),s.jsx("img",{src:F.details.frontImageUrl,alt:"Verified Aadhar",className:"max-h-64 rounded-lg shadow-md border-2 border-green-200 object-contain"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Verification Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Aadhar Number:"}),s.jsx("span",{className:"font-medium",children:F.details.aadharNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Name:"}),s.jsx("span",{className:"font-medium",children:F.details.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Confidence:"}),s.jsxs("span",{className:"font-medium",children:[F.details.overallConfidence,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Method:"}),s.jsx("span",{className:"font-medium capitalize",children:F.details.verificationMethod})]})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"What's Next?"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"You can now book rooms"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"Access all platform features"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"No need to verify again"]})]})]})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx(bn,{onClick:()=>e("/seeker-dashboard"),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Go to Dashboard"}),s.jsx(bn,{onClick:()=>e("/seeker-bookings"),variant:"outline",className:"flex-1",children:"View Bookings"})]})]})})]})})]})})}):s.jsxs(Er,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(bn,{variant:"ghost",onClick:()=>e("/seeker-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-full",children:s.jsx(pi,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mr-4",children:s.jsx(rr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aadhar Card Verification"}),s.jsx("p",{className:"text-gray-600",children:"Verify your identity to unlock premium features"})]})]})]})}),oe&&s.jsx(X.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"mb-6",children:s.jsx(Vd,{className:"border-green-200 bg-green-50",children:s.jsxs(Kd,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4",children:pe===100?s.jsx(Qr,{className:"w-6 h-6 text-white"}):s.jsx(Ni,{className:"w-6 h-6 text-white animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:pe===100?"Verification Complete!":"Verifying Your Identity"}),s.jsx("p",{className:"text-sm text-gray-600",children:pe===100?"Your identity has been successfully verified":"Please wait while we process your documents..."})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(X.div,{className:"bg-green-500 h-2 rounded-full",initial:{width:0},animate:{width:`${pe}%`},transition:{duration:.3}})}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[pe,"% Complete"]})]})})}),o&&!oe&&s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-6",children:s.jsx(S2,{className:`${Ne(o)} border-0`,children:s.jsxs("div",{className:"flex items-center",children:[ke(o),s.jsxs(E2,{className:"ml-2",children:[s.jsx("strong",{children:"Current Status:"})," ",o.charAt(0).toUpperCase()+o.slice(1)]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:s.jsxs(Vd,{children:[s.jsx(mf,{children:s.jsxs(pf,{className:"flex items-center",children:[s.jsx(rr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upload Document"]})}),s.jsxs(Kd,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Zp,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Aadhar Card Verification"})]}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Aadhar Card Photo"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors",children:x?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:x,alt:"Front preview",className:"mx-auto max-h-48 rounded-lg shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(bn,{variant:"destructive",size:"sm",onClick:()=>{m(null),p(null)},className:"rounded-full w-8 h-8 p-0",children:s.jsx(or,{className:"w-4 h-4"})})})]}),s.jsx("div",{className:"flex gap-2 justify-center",children:s.jsxs(bn,{variant:"outline",size:"sm",onClick:()=>xe(),className:"flex items-center",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Retake"]})})]}):s.jsxs("div",{children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(YP,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"text-gray-600 mb-4 font-medium",children:"Upload a clear photo of your Aadhar card"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:At=>Te(At.target.files[0]),className:"hidden",id:"front-upload"}),s.jsx("label",{htmlFor:"front-upload",className:"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold",children:"Choose File"}),s.jsxs(bn,{variant:"outline",onClick:()=>xe(),className:"flex items-center border-blue-300 text-blue-600 hover:bg-blue-50",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Take Photo"]})]})]})})]}),s.jsx(bn,{onClick:Be,disabled:!f||u,className:"w-full",size:"lg",children:u?s.jsxs(s.Fragment,{children:[s.jsx(Ni,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing Document..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Verify Document"]})})]})]})}),s.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:s.jsxs(Vd,{children:[s.jsx(mf,{children:s.jsxs(pf,{className:"flex items-center",children:[s.jsx(kr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Verification Results"]})}),s.jsx(Kd,{className:"p-6",children:B?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Qr,{className:"w-6 h-6 mr-2 text-blue-600"}),"Verification Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${(ot=B.validation)!=null&&ot.is_aadhar_card?"text-green-600":"text-red-600"}`,children:(nt=B.validation)!=null&&nt.is_aadhar_card?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Aadhar Card"}),s.jsx("div",{className:"text-xs text-gray-500",children:(rt=B.validation)!=null&&rt.is_aadhar_card?"Valid":"Invalid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${B.confidence>70?"text-green-600":B.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(B.confidence||0),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Overall Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${B.verified?"text-green-600":"text-yellow-600"}`,children:B.verified?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("div",{className:"text-xs text-gray-500",children:B.verified?"Approved":"Pending"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ss,{className:"w-5 h-5 mr-2 text-blue-600"}),"Extracted Information"]}),s.jsxs("div",{className:"space-y-3",children:[((Ke=B.extractedData)==null?void 0:Ke.name)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Name:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.extractedData.name})]}),((st=B.extractedData)==null?void 0:st.number)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"ID Number:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.extractedData.number})]}),((at=B.extractedData)==null?void 0:at.dob)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.extractedData.dob})]}),((gt=B.extractedData)==null?void 0:gt.gender)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Gender:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.extractedData.gender})]}),((Bt=B.extractedData)==null?void 0:Bt.mobile)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Mobile:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.extractedData.mobile})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Aue,{className:"w-5 h-5 mr-2 text-green-600"}),"Verification Status"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Overall Confidence:"}),s.jsxs("span",{className:`font-semibold ${B.confidence>70?"text-green-600":B.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(B.confidence||0),"%"]})]}),B.validation&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Aadhar Card Valid:"}),s.jsx("span",{className:`font-semibold ${B.validation.is_aadhar_card?"text-green-600":"text-red-600"}`,children:B.validation.is_aadhar_card?" Valid Aadhar Card":" Not Valid"})]}),s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Validation Details:"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Aadhar Keywords:"}),s.jsx("span",{className:B.validation.has_aadhar_keywords?"text-green-600":"text-red-600",children:B.validation.has_aadhar_keywords?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Aadhar Number:"}),s.jsx("span",{className:B.validation.has_aadhar_number?"text-green-600":"text-red-600",children:B.validation.has_aadhar_number?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Name:"}),s.jsx("span",{className:B.validation.has_name?"text-green-600":"text-red-600",children:B.validation.has_name?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Date of Birth:"}),s.jsx("span",{className:B.validation.has_dob?"text-green-600":"text-red-600",children:B.validation.has_dob?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Gender:"}),s.jsx("span",{className:B.validation.has_gender?"text-green-600":"text-red-600",children:B.validation.has_gender?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Validation Score:"}),s.jsxs("span",{className:`font-semibold ${B.validation.confidence_score>70?"text-green-600":B.validation.confidence_score>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(B.validation.confidence_score||0),"%"]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Final Status:"}),s.jsx("span",{className:`font-semibold ${B.verified?"text-green-600":"text-yellow-600"}`,children:B.verified?" Verified & Approved":" Under Review"})]})]})]}),P&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Name Verification"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Profile Name:"}),s.jsx("span",{className:"font-semibold",children:(i==null?void 0:i.name)||"Not available"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Document Name:"}),s.jsx("span",{className:"font-semibold",children:((_t=B.extractedData)==null?void 0:_t.name)||"Not extracted"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Match Status:"}),s.jsx("span",{className:`font-semibold ${P.match?"text-green-600":"text-red-600"}`,children:P.match?" Match":" No Match"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(P.confidence*100),"%"]})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2 p-2 bg-white rounded-lg",children:P.reason})]})]}),B.rawText&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>ue(!fe),children:[s.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[s.jsx(Ss,{className:"w-5 h-5 mr-2 text-gray-600"}),"Extracted Text"]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsxs("span",{className:"mr-2",children:[B.rawText.length," characters"]}),s.jsx("span",{className:`transform transition-transform ${fe?"rotate-180":""}`,children:""})]})]}),fe&&s.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 border",children:[s.jsx("div",{className:"text-sm text-gray-700 leading-relaxed max-h-60 overflow-y-auto whitespace-pre-wrap",children:B.rawText}),s.jsxs("div",{className:"mt-3 flex justify-between items-center text-xs text-gray-500",children:[s.jsx("span",{children:"Raw OCR output from Tesseract"}),s.jsx(bn,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(B.rawText),className:"text-blue-600 hover:text-blue-700",children:"Copy Text"})]})]})]}),B.ocrDetails&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(kr,{className:"w-5 h-5 mr-2 text-blue-600"}),"OCR Processing Details"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Text Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(B.ocrDetails.text_confidence||0),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Field Extraction:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(B.ocrDetails.field_extraction_confidence||0),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Validation Score:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(B.ocrDetails.validation_confidence||0),"%"]})]})]})]}),((yt=(Vt=B.verificationDetails)==null?void 0:Vt.missing_fields)==null?void 0:yt.length)>0&&s.jsxs(S2,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(rg,{className:"w-4 h-4 text-yellow-600"}),s.jsxs(E2,{className:"text-yellow-800",children:[s.jsx("strong",{children:"Missing Information:"})," The following fields could not be extracted: ",B.verificationDetails.missing_fields.join(", ")]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-6",children:s.jsx(rr,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Results Yet"}),s.jsx("p",{className:"text-gray-500",children:"Upload a document to see verification results"})]})})]})})]}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-lg w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capture Aadhar Card"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Take a clear photo of your Aadhar card"})]}),s.jsx(bn,{variant:"ghost",size:"sm",onClick:Se,className:"text-gray-500 hover:text-gray-700 rounded-full w-10 h-10 p-0",children:s.jsx(or,{className:"w-5 h-5"})})]}),re?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(er,{className:"w-10 h-10 text-red-500"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Camera Error"}),s.jsx("p",{className:"text-red-600 mb-6",children:re}),s.jsx(bn,{onClick:ve,className:"bg-blue-600 hover:bg-blue-700",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden",children:[K&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ni,{className:"w-12 h-12 text-white animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-sm",children:"Starting camera..."})]})}),s.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-80 object-cover ${H?"opacity-100":"opacity-0"} transition-opacity duration-300`,style:{backgroundColor:"#000"}}),s.jsx("canvas",{ref:n,className:"hidden"}),H&&s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-4 border-2 border-white border-dashed rounded-lg opacity-70",children:s.jsx("div",{className:"absolute top-2 left-2 text-white text-xs font-medium bg-black bg-opacity-50 px-2 py-1 rounded",children:"Align document within frame"})}),s.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-t-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-t-2 border-r-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-b-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-b-2 border-r-2 border-white"})]}),!H&&!K&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(es,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Camera not ready"})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(er,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tips for better capture:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[s.jsx("li",{children:"Ensure good lighting"}),s.jsx("li",{children:"Keep the document flat and straight"}),s.jsx("li",{children:"Align all four corners within the frame"}),s.jsx("li",{children:"Avoid shadows and reflections"})]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(bn,{onClick:ne,disabled:!H||K,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(es,{className:"w-5 h-5 mr-2"}),K?"Starting Camera...":H?"Capture Photo":"Camera Not Ready"]}),s.jsx(bn,{onClick:Se,variant:"outline",className:"px-6 py-3 border-2 border-gray-300 hover:border-gray-400 font-semibold rounded-xl",children:"Cancel"})]})]})]})}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-8 flex justify-center space-x-4",children:[s.jsx(bn,{variant:"outline",onClick:()=>e("/seeker-dashboard"),children:"Back to Dashboard"}),o==="approved"&&s.jsx(bn,{onClick:()=>e("/seeker-dashboard"),className:"bg-green-600 hover:bg-green-700",children:"Continue to Booking"})]})]})}),s.jsx(dq,{open:v,onOpenChange:y,children:s.jsxs(R6,{className:"sm:max-w-md",children:[s.jsxs(D6,{children:[s.jsxs(Q6,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(er,{className:"h-5 w-5"}),"Verification Failed"]}),s.jsx($6,{children:"Your KYC verification could not be completed."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:b})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Please ensure:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Upload a clear, valid Aadhar card image"}),s.jsx("li",{children:" The name on the document matches your profile name"}),s.jsx("li",{children:" The image is not blurry or rotated"}),s.jsx("li",{children:" All text is clearly visible"})]})]})]}),s.jsxs(M6,{className:"flex gap-2",children:[s.jsx(bn,{variant:"outline",onClick:()=>y(!1),children:"Close"}),s.jsx(bn,{onClick:()=>{y(!1),m(null),p(null),I(null),T(null),ee(0)},children:"Try Again"})]})]})})]})},Uwe=()=>{var A,f,m,x;const{tenantData:e,loading:t}=nm(),[r,n]=_.useState(new Date);if(_.useEffect(()=>{const p=setInterval(()=>n(new Date),1e3);return()=>clearInterval(p)},[]),t)return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-red-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})})});if(!e)return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(er,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy at the moment."})]})})});const{property:i,room:a}=e,o=Math.floor((new Date-new Date(e.actualCheckInDate))/(1e3*60*60*24)),l=new Date(e.actualCheckInDate);l.setMonth(l.getMonth()+1);const c=Math.ceil((l-new Date)/(1e3*60*60*24)),d=p=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(p||0),u=p=>p?new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-rose-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:"Welcome Home! "}),s.jsxs("p",{className:"text-red-100 text-lg",children:["You've been a tenant for ",o," days"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-red-100 text-sm",children:"Current Time"}),s.jsx("p",{className:"text-2xl font-bold",children:r.toLocaleTimeString()}),s.jsx("p",{className:"text-red-100 text-sm",children:r.toLocaleDateString()})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-400",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:d(e.monthlyRent)})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(ei,{className:"w-6 h-6 text-red-500"})})]})}),s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Next Rent Due"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[c," days"]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Tr,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["Room ",a==null?void 0:a.roomNumber]})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(ca,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Status"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1 capitalize",children:e.status})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(wt,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Pr,{className:"w-6 h-6 mr-2"}),"Your Room"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[(a==null?void 0:a.roomImage)&&s.jsx("div",{className:"md:w-1/3",children:s.jsx("img",{src:a.roomImage,alt:"Your Room",className:"w-full h-48 object-cover rounded-xl shadow-md"})}),s.jsx("div",{className:"flex-1 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["Room ",a==null?void 0:a.roomNumber]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Type"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a==null?void 0:a.roomType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:d(a==null?void 0:a.rent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Check-in Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u(e.actualCheckInDate)})]})]})})]})})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Xr,{className:"w-6 h-6 mr-2"}),"Property Details"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Property Name"}),s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:i==null?void 0:i.propertyName})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 font-medium flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-1"}),"Address"]}),s.jsx("p",{className:"text-base text-gray-700",children:typeof(i==null?void 0:i.address)=="string"?i.address:`${((A=i==null?void 0:i.address)==null?void 0:A.street)||""}, ${((f=i==null?void 0:i.address)==null?void 0:f.city)||""}, ${((m=i==null?void 0:i.address)==null?void 0:m.state)||""} ${((x=i==null?void 0:i.address)==null?void 0:x.pincode)||""}`})]})]})})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(ei,{className:"w-6 h-6 mr-2"}),"Payment Information"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:d(e.monthlyRent)})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-red-700 font-medium mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-2xl font-bold text-red-900",children:d(e.securityDeposit)})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Next Payment Due"}),s.jsx("p",{className:"text-lg font-bold text-purple-900",children:u(l)}),s.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["In ",c," days"]})]}),s.jsxs("div",{className:"bg-orange-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-orange-700 font-medium mb-1",children:"Total Paid"}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:d(e.amountPaid)})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 p-4",children:s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Property Owner"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(cr,{className:"w-10 h-10 text-indigo-600"})}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.ownerName})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center",children:[s.jsx(Es,{className:"w-4 h-4 mr-2"}),"Call Owner"]}),s.jsxs("button",{className:"w-full bg-red-500 text-white py-3 px-4 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center",children:[s.jsx(Wh,{className:"w-4 h-4 mr-2"}),"Send Message"]})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.9},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 p-4",children:s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[s.jsx(tu,{className:"w-5 h-5 mr-2"}),"Quick Actions"]})}),s.jsxs("div",{className:"p-6 space-y-3",children:[s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx($d,{className:"w-4 h-4 mr-3 text-orange-600"}),s.jsx("span",{className:"font-medium",children:"Request Maintenance"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(Ss,{className:"w-4 h-4 mr-3 text-red-500"}),s.jsx("span",{className:"font-medium",children:"View Agreement"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(du,{className:"w-4 h-4 mr-3 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Payment History"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(rr,{className:"w-4 h-4 mr-3 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Property Rules"})]})]})]}),s.jsx(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl shadow-xl p-6 border-2 border-yellow-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(er,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Reminder"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Your next rent payment of ",d(e.monthlyRent)," is due on ",u(l),"."]})]})]})})]})]})]})})})},Rwe=()=>{const{tenantData:e,loading:t}=nm(),[r,n]=_.useState("all"),[i,a]=_.useState([{id:1,month:"January 2025",amount:12e3,dueDate:"2025-01-05",paidDate:"2025-01-03",status:"paid",paymentMethod:"UPI",transactionId:"TXN123456789"},{id:2,month:"December 2024",amount:12e3,dueDate:"2024-12-05",paidDate:"2024-12-04",status:"paid",paymentMethod:"Bank Transfer",transactionId:"TXN123456788"},{id:3,month:"November 2024",amount:12e3,dueDate:"2024-11-05",paidDate:"2024-11-02",status:"paid",paymentMethod:"UPI",transactionId:"TXN123456787"}]),o=u=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(u||0),l=u=>u?new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",c=i.filter(u=>r==="all"?!0:u.status===r),d=i.filter(u=>u.status==="paid").reduce((u,A)=>u+A.amount,0);return t?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading payment history..."})]})})}):s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(ei,{className:"w-10 h-10 mr-3"}),"Payment History"]}),s.jsx("p",{className:"text-green-100 text-lg",children:"Track all your rent payments"})]}),s.jsxs("div",{className:"text-right bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Total Paid"}),s.jsx("p",{className:"text-3xl font-bold",children:o(d)})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Payments Made"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:i.filter(u=>u.status==="paid").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(wt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:o(e==null?void 0:e.monthlyRent)})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(du,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Security Deposit"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:o(e==null?void 0:e.securityDeposit)})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Zp,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-6 flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f2,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Filter:"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),s.jsx("button",{onClick:()=>n("paid"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="paid"?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Paid"}),s.jsx("button",{onClick:()=>n("pending"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="pending"?"bg-orange-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Pending"})]})]}),s.jsx("div",{className:"space-y-4",children:c.map((u,A)=>s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+A*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${u.status==="paid"?"bg-green-100":"bg-orange-100"}`,children:u.status==="paid"?s.jsx(wt,{className:"w-6 h-6 text-green-600"}):s.jsx(rs,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u.month}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Due: ",l(u.dueDate)]}),u.paidDate&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Paid: ",l(u.paidDate)]})]})]}),s.jsxs("div",{className:"flex flex-col md:items-end gap-2",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(u.amount)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${u.status==="paid"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:u.status==="paid"?"Paid":"Pending"}),u.paymentMethod&&s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:u.paymentMethod})]}),u.transactionId&&s.jsxs("p",{className:"text-xs text-gray-500",children:["TXN: ",u.transactionId]})]})]}),u.status==="paid"&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Jd,{className:"w-4 h-4"}),"Download Receipt"]})})]})},u.id))}),c.length===0&&s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(er,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No payments found"})]})]})})})},Dwe=()=>{const{tenantData:e,loading:t}=nm(),[r,n]=_.useState([]),[i,a]=_.useState(!0),[o,l]=_.useState(!1),[c,d]=_.useState({open:!1,id:null}),[u,A]=_.useState({title:"",category:"",priority:"medium",description:"",images:[]}),f=async()=>{try{const j=await kt.get("/maintenance/tenant");n(j.data)}catch(j){console.error("Error fetching requests:",j)}};_.useEffect(()=>{e?f():t||a(!1)},[e,t]);const m=["Plumbing","Electrical","Carpentry","Painting","Cleaning","Appliances","Other"],x=async j=>{var N,B;j.preventDefault(),a(!0);try{await kt.post("/maintenance",u),await f(),A({title:"",category:"",priority:"medium",description:"",images:[]}),l(!1)}catch(I){console.error("Error creating request:",I),alert("Failed to submit request: "+(((B=(N=I.response)==null?void 0:N.data)==null?void 0:B.message)||I.message))}finally{a(!1)}},p=j=>{d({open:!0,id:j})},v=async()=>{try{await kt.patch(`/maintenance/${c.id}`,{status:"cancelled"}),await f(),d({open:!1,id:null})}catch(j){console.error("Error cancelling request:",j),alert("Failed to cancel request")}},y=j=>{switch(j){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},b=j=>{switch(j){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-orange-100 text-orange-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return t?s.jsx(Er,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx($d,{className:"w-12 h-12 animate-spin text-orange-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading maintenance portal..."})]})})}):e?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx($d,{className:"w-10 h-10 mr-3"}),"Maintenance Requests"]}),s.jsx("p",{className:"text-orange-100 text-lg",children:"Report and track maintenance issues"})]}),s.jsx("button",{onClick:()=>l(!o),className:"bg-white text-orange-600 px-6 py-3 rounded-lg font-bold hover:bg-orange-50 transition-colors shadow-lg",children:o?"Cancel":"+ New Request"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-yellow-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(j=>j.status==="pending").length})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(rs,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"In Progress"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(j=>j.status==="in-progress").length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx($d,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Completed"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(j=>j.status==="completed").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(wt,{className:"w-6 h-6 text-green-600"})})]})})]}),o&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"New Maintenance Request"}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",required:!0,value:u.title,onChange:j=>A({...u,title:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Brief description of the issue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{required:!0,value:u.category,onChange:j=>A({...u,category:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select category"}),m.map(j=>s.jsx("option",{value:j,children:j},j))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),s.jsx("div",{className:"flex gap-4",children:["low","medium","high"].map(j=>s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"radio",name:"priority",value:j,checked:u.priority===j,onChange:N=>A({...u,priority:N.target.value}),className:"mr-2"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium capitalize ${b(j)}`,children:j})]},j))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{required:!0,value:u.description,onChange:j=>A({...u,description:j.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Provide detailed information about the issue..."})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors flex items-center gap-2",children:[s.jsx(Jp,{className:"w-4 h-4"}),"Submit Request"]})]})]})]}),s.jsx("div",{className:"space-y-4",children:r.map((j,N)=>s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o?0:.4+N*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${j.status==="completed"?"bg-green-100":j.status==="in-progress"?"bg-blue-100":"bg-yellow-100"}`,children:j.status==="completed"?s.jsx(wt,{className:"w-6 h-6 text-green-600"}):j.status==="in-progress"?s.jsx($d,{className:"w-6 h-6 text-blue-600"}):s.jsx(rs,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:j.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.category})]})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:j.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Tr,{className:"w-4 h-4"}),"Created: ",w(j.createdAt)]}),j.assignedTo&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(b4,{className:"w-4 h-4"}),j.assignedTo]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${y(j.status)}`,children:j.status.replace("-"," ")}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${b(j.priority)}`,children:[j.priority," Priority"]}),j.status==="pending"&&s.jsx("button",{onClick:()=>p(j._id),className:"px-3 py-1 bg-red-50 text-red-600 rounded-full text-xs font-medium hover:bg-red-100 transition-colors border border-red-200",children:"Cancel"})]})]})})},j._id||j.id))}),r.length===0&&s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(er,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No maintenance requests yet"}),s.jsx("button",{onClick:()=>l(!0),className:"mt-4 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Your First Request"})]}),s.jsx(gn,{children:c.open&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs(X.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Cancel Request?"}),s.jsx("button",{onClick:()=>d({open:!1,id:null}),className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to cancel this maintenance request? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>d({open:!1,id:null}),className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Keep Request"}),s.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Yes, Cancel"})]})]})})})]})})}):s.jsx(Er,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[s.jsx(er,{className:"w-16 h-16 text-gray-300 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600 max-w-md",children:"You need to have an active tenancy to submit maintenance requests."})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Y4=function(e,t){return Y4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Y4(e,t)};function vc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Y4(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var X4=function(){return X4=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},X4.apply(this,arguments)};function ya(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,[])).next())})}function Ji(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],i=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Zb(e,t,r){if(arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||t)}var fu=function(){function e(t,r,n,i){this.left=t,this.top=r,this.width=n,this.height=i}return e.prototype.add=function(t,r,n,i){return new e(this.left+t,this.top+r,this.width+n,this.height+i)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),YN=function(e,t){return fu.fromClientRect(e,t.getBoundingClientRect())},Mwe=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new fu(0,0,n,i)},XN=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},Us=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},qU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qwe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jb=0;Jb<qU.length;Jb++)Qwe[qU.charCodeAt(Jb)]=Jb;var YU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ax=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ew=0;ew<YU.length;ew++)Ax[YU.charCodeAt(ew)]=ew;var $we=function(e){var t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)a=Ax[e.charCodeAt(n)],o=Ax[e.charCodeAt(n+1)],l=Ax[e.charCodeAt(n+2)],c=Ax[e.charCodeAt(n+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},Hwe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},zwe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},gf=5,H6=11,DC=2,Vwe=H6-gf,hq=65536>>gf,Kwe=1<<gf,MC=Kwe-1,Wwe=1024>>gf,Gwe=hq+Wwe,qwe=Gwe,Ywe=32,Xwe=qwe+Ywe,Zwe=65536>>H6,Jwe=1<<Vwe,e1e=Jwe-1,XU=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},t1e=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},r1e=function(e,t){var r=$we(e),n=Array.isArray(r)?zwe(r):new Uint32Array(r),i=Array.isArray(r)?Hwe(r):new Uint16Array(r),a=24,o=XU(i,a/2,n[4]/2),l=n[5]===2?XU(i,(a+n[4])/2):t1e(n,Math.ceil((a+n[4])/4));return new n1e(n[0],n[1],n[2],n[3],o,l)},n1e=function(){function e(t,r,n,i,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>gf],r=(r<<DC)+(t&MC),this.data[r];if(t<=65535)return r=this.index[hq+(t-55296>>gf)],r=(r<<DC)+(t&MC),this.data[r];if(t<this.highStart)return r=Xwe-Zwe+(t>>H6),r=this.index[r],r+=t>>gf&e1e,r=this.index[r],r=(r<<DC)+(t&MC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ZU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s1e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tw=0;tw<ZU.length;tw++)s1e[ZU.charCodeAt(tw)]=tw;var i1e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",JU=50,a1e=1,Aq=2,fq=3,o1e=4,l1e=5,eR=7,mq=8,tR=9,vh=10,Z4=11,rR=12,J4=13,c1e=14,fx=15,eE=16,rw=17,D0=18,d1e=19,nR=20,tE=21,M0=22,QC=23,km=24,go=25,mx=26,px=27,Pm=28,u1e=29,HA=30,h1e=31,nw=32,sw=33,rE=34,nE=35,sE=36,Cy=37,iE=38,j1=39,N1=40,$C=41,pq=42,A1e=43,f1e=[9001,65288],gq="!",Ur="",iw="",aE=r1e(i1e),Ed=[HA,sE],oE=[a1e,Aq,fq,l1e],xq=[vh,mq],sR=[px,mx],m1e=oE.concat(xq),iR=[iE,j1,N1,rE,nE],p1e=[fx,J4],g1e=function(e,t){t===void 0&&(t="strict");var r=[],n=[],i=[];return e.forEach(function(a,o){var l=aE.get(a);if(l>JU?(i.push(!0),l-=JU):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),r.push(eE);if(l===o1e||l===Z4){if(o===0)return n.push(o),r.push(HA);var c=r[o-1];return m1e.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(HA))}if(n.push(o),l===h1e)return r.push(t==="strict"?tE:Cy);if(l===pq||l===u1e)return r.push(HA);if(l===A1e)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(Cy):r.push(HA);r.push(l)}),[n,r,i]},HC=function(e,t,r,n){var i=n[r];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=r;a<=n.length;){a++;var o=n[a];if(o===t)return!0;if(o!==vh)break}if(i===vh)for(var a=r;a>0;){a--;var l=n[a];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===t)return!0;if(o!==vh)break}if(l!==vh)break}return!1},aR=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===vh)r--;else return n}return 0},x1e=function(e,t,r,n,i){if(r[n]===0)return Ur;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return Ur;var o=a-1,l=a+1,c=t[a],d=o>=0?t[o]:0,u=t[l];if(c===Aq&&u===fq)return Ur;if(oE.indexOf(c)!==-1)return gq;if(oE.indexOf(u)!==-1||xq.indexOf(u)!==-1)return Ur;if(aR(a,t)===mq)return iw;if(aE.get(e[a])===Z4||(c===nw||c===sw)&&aE.get(e[l])===Z4||c===eR||u===eR||c===tR||[vh,J4,fx].indexOf(c)===-1&&u===tR||[rw,D0,d1e,km,Pm].indexOf(u)!==-1||aR(a,t)===M0||HC(QC,M0,a,t)||HC([rw,D0],tE,a,t)||HC(rR,rR,a,t))return Ur;if(c===vh)return iw;if(c===QC||u===QC)return Ur;if(u===eE||c===eE)return iw;if([J4,fx,tE].indexOf(u)!==-1||c===c1e||d===sE&&p1e.indexOf(c)!==-1||c===Pm&&u===sE||u===nR||Ed.indexOf(u)!==-1&&c===go||Ed.indexOf(c)!==-1&&u===go||c===px&&[Cy,nw,sw].indexOf(u)!==-1||[Cy,nw,sw].indexOf(c)!==-1&&u===mx||Ed.indexOf(c)!==-1&&sR.indexOf(u)!==-1||sR.indexOf(c)!==-1&&Ed.indexOf(u)!==-1||[px,mx].indexOf(c)!==-1&&(u===go||[M0,fx].indexOf(u)!==-1&&t[l+1]===go)||[M0,fx].indexOf(c)!==-1&&u===go||c===go&&[go,Pm,km].indexOf(u)!==-1)return Ur;if([go,Pm,km,rw,D0].indexOf(u)!==-1)for(var A=a;A>=0;){var f=t[A];if(f===go)return Ur;if([Pm,km].indexOf(f)!==-1)A--;else break}if([px,mx].indexOf(u)!==-1)for(var A=[rw,D0].indexOf(c)!==-1?o:a;A>=0;){var f=t[A];if(f===go)return Ur;if([Pm,km].indexOf(f)!==-1)A--;else break}if(iE===c&&[iE,j1,rE,nE].indexOf(u)!==-1||[j1,rE].indexOf(c)!==-1&&[j1,N1].indexOf(u)!==-1||[N1,nE].indexOf(c)!==-1&&u===N1||iR.indexOf(c)!==-1&&[nR,mx].indexOf(u)!==-1||iR.indexOf(u)!==-1&&c===px||Ed.indexOf(c)!==-1&&Ed.indexOf(u)!==-1||c===km&&Ed.indexOf(u)!==-1||Ed.concat(go).indexOf(c)!==-1&&u===M0&&f1e.indexOf(e[l])===-1||Ed.concat(go).indexOf(u)!==-1&&c===D0)return Ur;if(c===$C&&u===$C){for(var m=r[a],x=1;m>0&&(m--,t[m]===$C);)x++;if(x%2!==0)return Ur}return c===nw&&u===sw?Ur:iw},y1e=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=g1e(e,t.lineBreak),n=r[0],i=r[1],a=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(l){return[go,HA,pq].indexOf(l)!==-1?Cy:l}));var o=t.wordBreak==="keep-all"?a.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,i,o]},v1e=function(){function e(t,r,n,i){this.codePoints=t,this.required=r===gq,this.start=n,this.end=i}return e.prototype.slice=function(){return Us.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),b1e=function(e,t){var r=XN(e),n=y1e(r,t),i=n[0],a=n[1],o=n[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=Ur;d<l&&(u=x1e(r,a,i,++d,o))===Ur;);if(u!==Ur||d===l){var A=new v1e(r,u,c,d);return c=d,{value:A,done:!1}}return{done:!0,value:null}}}},w1e=1,j1e=2,Hv=4,oR=8,P2=10,lR=47,Dx=92,N1e=9,_1e=32,aw=34,Q0=61,C1e=35,B1e=36,S1e=37,ow=39,lw=40,$0=41,E1e=95,Ha=45,k1e=33,P1e=60,I1e=62,T1e=64,O1e=91,L1e=93,F1e=61,U1e=123,cw=63,R1e=125,cR=124,D1e=126,M1e=128,dR=65533,zC=42,tf=43,Q1e=44,$1e=58,H1e=59,By=46,z1e=0,V1e=8,K1e=11,W1e=14,G1e=31,q1e=127,Uc=-1,yq=48,vq=97,bq=101,Y1e=102,X1e=117,Z1e=122,wq=65,jq=69,Nq=70,J1e=85,e2e=90,ra=function(e){return e>=yq&&e<=57},t2e=function(e){return e>=55296&&e<=57343},Im=function(e){return ra(e)||e>=wq&&e<=Nq||e>=vq&&e<=Y1e},r2e=function(e){return e>=vq&&e<=Z1e},n2e=function(e){return e>=wq&&e<=e2e},s2e=function(e){return r2e(e)||n2e(e)},i2e=function(e){return e>=M1e},dw=function(e){return e===P2||e===N1e||e===_1e},I2=function(e){return s2e(e)||i2e(e)||e===E1e},uR=function(e){return I2(e)||ra(e)||e===Ha},a2e=function(e){return e>=z1e&&e<=V1e||e===K1e||e>=W1e&&e<=G1e||e===q1e},ch=function(e,t){return e!==Dx?!1:t!==P2},uw=function(e,t,r){return e===Ha?I2(t)||ch(t,r):I2(e)?!0:!!(e===Dx&&ch(e,t))},VC=function(e,t,r){return e===tf||e===Ha?ra(t)?!0:t===By&&ra(r):ra(e===By?t:e)},o2e=function(e){var t=0,r=1;(e[t]===tf||e[t]===Ha)&&(e[t]===Ha&&(r=-1),t++);for(var n=[];ra(e[t]);)n.push(e[t++]);var i=n.length?parseInt(Us.apply(void 0,n),10):0;e[t]===By&&t++;for(var a=[];ra(e[t]);)a.push(e[t++]);var o=a.length,l=o?parseInt(Us.apply(void 0,a),10):0;(e[t]===jq||e[t]===bq)&&t++;var c=1;(e[t]===tf||e[t]===Ha)&&(e[t]===Ha&&(c=-1),t++);for(var d=[];ra(e[t]);)d.push(e[t++]);var u=d.length?parseInt(Us.apply(void 0,d),10):0;return r*(i+l*Math.pow(10,-o))*Math.pow(10,c*u)},l2e={type:2},c2e={type:3},d2e={type:4},u2e={type:13},h2e={type:8},A2e={type:21},f2e={type:9},m2e={type:10},p2e={type:11},g2e={type:12},x2e={type:14},hw={type:23},y2e={type:1},v2e={type:25},b2e={type:24},w2e={type:26},j2e={type:27},N2e={type:28},_2e={type:29},C2e={type:31},lE={type:32},_q=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(XN(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==lE;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case aw:return this.consumeStringToken(aw);case C1e:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(uR(r)||ch(n,i)){var a=uw(r,n,i)?j1e:w1e,o=this.consumeName();return{type:5,value:o,flags:a}}break;case B1e:if(this.peekCodePoint(0)===Q0)return this.consumeCodePoint(),u2e;break;case ow:return this.consumeStringToken(ow);case lw:return l2e;case $0:return c2e;case zC:if(this.peekCodePoint(0)===Q0)return this.consumeCodePoint(),x2e;break;case tf:if(VC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Q1e:return d2e;case Ha:var l=t,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(VC(l,c,d))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(uw(l,c,d))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Ha&&d===I1e)return this.consumeCodePoint(),this.consumeCodePoint(),b2e;break;case By:if(VC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case lR:if(this.peekCodePoint(0)===zC)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===zC&&(u=this.consumeCodePoint(),u===lR))return this.consumeToken();if(u===Uc)return this.consumeToken()}break;case $1e:return w2e;case H1e:return j2e;case P1e:if(this.peekCodePoint(0)===k1e&&this.peekCodePoint(1)===Ha&&this.peekCodePoint(2)===Ha)return this.consumeCodePoint(),this.consumeCodePoint(),v2e;break;case T1e:var A=this.peekCodePoint(0),f=this.peekCodePoint(1),m=this.peekCodePoint(2);if(uw(A,f,m)){var o=this.consumeName();return{type:7,value:o}}break;case O1e:return N2e;case Dx:if(ch(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case L1e:return _2e;case F1e:if(this.peekCodePoint(0)===Q0)return this.consumeCodePoint(),h2e;break;case U1e:return p2e;case R1e:return g2e;case X1e:case J1e:var x=this.peekCodePoint(0),p=this.peekCodePoint(1);return x===tf&&(Im(p)||p===cw)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case cR:if(this.peekCodePoint(0)===Q0)return this.consumeCodePoint(),f2e;if(this.peekCodePoint(0)===cR)return this.consumeCodePoint(),A2e;break;case D1e:if(this.peekCodePoint(0)===Q0)return this.consumeCodePoint(),m2e;break;case Uc:return lE}return dw(t)?(this.consumeWhiteSpace(),C2e):ra(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):I2(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Us(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Im(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===cw&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Us.apply(void 0,t.map(function(c){return c===cw?yq:c})),16),a=parseInt(Us.apply(void 0,t.map(function(c){return c===cw?Nq:c})),16);return{type:30,start:i,end:a}}var o=parseInt(Us.apply(void 0,t),16);if(this.peekCodePoint(0)===Ha&&Im(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Im(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var a=parseInt(Us.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===lw?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===lw?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Uc)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===ow||r===aw){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Uc||this.peekCodePoint(0)===$0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),hw)}for(;;){var i=this.consumeCodePoint();if(i===Uc||i===$0)return{type:22,value:Us.apply(void 0,t)};if(dw(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Uc||this.peekCodePoint(0)===$0?(this.consumeCodePoint(),{type:22,value:Us.apply(void 0,t)}):(this.consumeBadUrlRemnants(),hw);if(i===aw||i===ow||i===lw||a2e(i))return this.consumeBadUrlRemnants(),hw;if(i===Dx)if(ch(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),hw;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;dw(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===$0||t===Uc)return;ch(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var i=Math.min(r,t);n+=Us.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var i=this._value[n];if(i===Uc||i===void 0||i===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===P2)return this._value.splice(0,n),y2e;if(i===Dx){var a=this._value[n+1];a!==Uc&&a!==void 0&&(a===P2?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):ch(i,a)&&(r+=this.consumeStringSlice(n),r+=Us(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Hv,n=this.peekCodePoint(0);for((n===tf||n===Ha)&&t.push(this.consumeCodePoint());ra(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===By&&ra(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=oR;ra(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===jq||n===bq)&&((i===tf||i===Ha)&&ra(a)||ra(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=oR;ra(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[o2e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(uw(i,a,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return i===S1e?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Im(t)){for(var r=Us(t);Im(this.peekCodePoint(0))&&r.length<6;)r+=Us(this.consumeCodePoint());dw(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||t2e(n)||n>1114111?dR:n}return t===Uc?dR:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(uR(r))t+=Us(r);else if(ch(r,this.peekCodePoint(0)))t+=Us(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),Cq=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new _q;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||S2e(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?lE:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),zv=function(e){return e.type===15},Wg=function(e){return e.type===17},jn=function(e){return e.type===20},B2e=function(e){return e.type===0},cE=function(e,t){return jn(e)&&e.value===t},Bq=function(e){return e.type!==31},ag=function(e){return e.type!==31&&e.type!==4},Ad=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},S2e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Xh=function(e){return e.type===17||e.type===15},Gs=function(e){return e.type===16||Xh(e)},Sq=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Li={type:17,number:0,flags:Hv},z6={type:16,number:50,flags:Hv},bh={type:16,number:100,flags:Hv},gx=function(e,t,r){var n=e[0],i=e[1];return[Rn(n,t),Rn(typeof i<"u"?i:n,r)]},Rn=function(e,t){if(e.type===16)return e.number/100*t;if(zv(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Eq="deg",kq="grad",Pq="rad",Iq="turn",ZN={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Eq:return Math.PI*t.number/180;case kq:return Math.PI/200*t.number;case Pq:return t.number;case Iq:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Tq=function(e){return e.type===15&&(e.unit===Eq||e.unit===kq||e.unit===Pq||e.unit===Iq)},Oq=function(e){var t=e.filter(jn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Li,Li];case"to top":case"bottom":return cl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Li,bh];case"to right":case"left":return cl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[bh,bh];case"to bottom":case"top":return cl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[bh,Li];case"to left":case"right":return cl(270)}return 0},cl=function(e){return Math.PI*e/180},Rh={name:"color",parse:function(e,t){if(t.type===18){var r=E2e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return wh(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return wh(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return wh(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return wh(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var l=nu[t.value.toUpperCase()];if(typeof l<"u")return l}return nu.TRANSPARENT}},Dh=function(e){return(255&e)===0},xi=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+r+","+t/255+")":"rgb("+i+","+n+","+r+")"},wh=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},hR=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},AR=function(e,t){var r=t.filter(ag);if(r.length===3){var n=r.map(hR),i=n[0],a=n[1],o=n[2];return wh(i,a,o,1)}if(r.length===4){var l=r.map(hR),i=l[0],a=l[1],o=l[2],c=l[3];return wh(i,a,o,c)}return 0};function KC(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var fR=function(e,t){var r=t.filter(ag),n=r[0],i=r[1],a=r[2],o=r[3],l=(n.type===17?cl(n.number):ZN.parse(e,n))/(Math.PI*2),c=Gs(i)?i.number/100:0,d=Gs(a)?a.number/100:0,u=typeof o<"u"&&Gs(o)?Rn(o,1):1;if(c===0)return wh(d*255,d*255,d*255,1);var A=d<=.5?d*(c+1):d+c-d*c,f=d*2-A,m=KC(f,A,l+1/3),x=KC(f,A,l),p=KC(f,A,l-1/3);return wh(m*255,x*255,p*255,u)},E2e={hsl:fR,hsla:fR,rgb:AR,rgba:AR},Mx=function(e,t){return Rh.parse(e,Cq.create(t).parseComponentValue())},nu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},k2e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(jn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},P2e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},JN=function(e,t){var r=Rh.parse(e,t[0]),n=t[1];return n&&Gs(n)?{color:r,stop:n}:{color:r,stop:null}},mR=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Li),n.stop===null&&(n.stop=bh);for(var i=[],a=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var c=Rn(l,t);c>a?i.push(c):i.push(a),a=c}else i.push(null)}for(var d=null,o=0;o<i.length;o++){var u=i[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var A=o-d,f=i[d-1],m=(u-f)/(A+1),x=1;x<=A;x++)i[d+x-1]=m*x;d=null}}return e.map(function(p,v){var y=p.color;return{color:y,stop:Math.max(Math.min(1,i[v]/t),0)}})},I2e=function(e,t,r){var n=t/2,i=r/2,a=Rn(e[0],t)-n,o=i-Rn(e[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},T2e=function(e,t,r){var n=typeof e=="number"?e:I2e(e,t,r),i=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),a=t/2,o=r/2,l=i/2,c=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[i,a-d,a+d,o-c,o+c]},Kl=function(e,t){return Math.sqrt(e*e+t*t)},pR=function(e,t,r,n,i){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,l){var c=l[0],d=l[1],u=Kl(r-c,n-d);return(i?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},O2e=function(e,t,r,n,i){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(e.shape===0)a=o=Math.min(Kl(t,r),Kl(t,r-i),Kl(t-n,r),Kl(t-n,r-i));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(t),Math.abs(t-n)),c=pR(n,i,t,r,!0),d=c[0],u=c[1];a=Kl(d-t,(u-r)/l),o=l*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(e.shape===0)a=o=Math.max(Kl(t,r),Kl(t,r-i),Kl(t-n,r),Kl(t-n,r-i));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(t),Math.abs(t-n)),A=pR(n,i,t,r,!1),d=A[0],u=A[1];a=Kl(d-t,(u-r)/l),o=l*a}break}return Array.isArray(e.size)&&(a=Rn(e.size[0],n),o=e.size.length===2?Rn(e.size[1],i):a),[a,o]},L2e=function(e,t){var r=cl(180),n=[];return Ad(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){r=Oq(i);return}else if(Tq(o)){r=ZN.parse(e,o);return}}var l=JN(e,i);n.push(l)}),{angle:r,stops:n,type:1}},Aw=function(e,t){var r=cl(180),n=[];return Ad(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=Oq(i);return}else if(Tq(o)){r=(ZN.parse(e,o)+cl(270))%cl(360);return}}var l=JN(e,i);n.push(l)}),{angle:r,stops:n,type:1}},F2e=function(e,t){var r=cl(180),n=[],i=1,a=0,o=3,l=[];return Ad(t).forEach(function(c,d){var u=c[0];if(d===0){if(jn(u)&&u.value==="linear"){i=1;return}else if(jn(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var A=Rh.parse(e,u.values[0]);n.push({stop:Li,color:A})}else if(u.name==="to"){var A=Rh.parse(e,u.values[0]);n.push({stop:bh,color:A})}else if(u.name==="color-stop"){var f=u.values.filter(ag);if(f.length===2){var A=Rh.parse(e,f[1]),m=f[0];Wg(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:A})}}}}),i===1?{angle:(r+cl(180))%cl(360),stops:n,type:i}:{size:o,shape:a,stops:n,position:l,type:i}},Lq="closest-side",Fq="farthest-side",Uq="closest-corner",Rq="farthest-corner",Dq="circle",Mq="ellipse",Qq="cover",$q="contain",U2e=function(e,t){var r=0,n=3,i=[],a=[];return Ad(t).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(A,f){if(d)if(jn(f))switch(f.value){case"center":return a.push(z6),A;case"top":case"left":return a.push(Li),A;case"right":case"bottom":return a.push(bh),A}else(Gs(f)||Xh(f))&&a.push(f);else if(jn(f))switch(f.value){case Dq:return r=0,!1;case Mq:return r=1,!1;case"at":return d=!0,!1;case Lq:return n=0,!1;case Qq:case Fq:return n=1,!1;case $q:case Uq:return n=2,!1;case Rq:return n=3,!1}else if(Xh(f)||Gs(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return A},c)}if(c){var u=JN(e,o);i.push(u)}}),{size:n,shape:r,stops:i,position:a,type:2}},fw=function(e,t){var r=0,n=3,i=[],a=[];return Ad(t).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,A){if(jn(A))switch(A.value){case"center":return a.push(z6),!1;case"top":case"left":return a.push(Li),!1;case"right":case"bottom":return a.push(bh),!1}else if(Gs(A)||Xh(A))return a.push(A),!1;return u},c):l===1&&(c=o.reduce(function(u,A){if(jn(A))switch(A.value){case Dq:return r=0,!1;case Mq:return r=1,!1;case $q:case Lq:return n=0,!1;case Fq:return n=1,!1;case Uq:return n=2,!1;case Qq:case Rq:return n=3,!1}else if(Xh(A)||Gs(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return u},c)),c){var d=JN(e,o);i.push(d)}}),{size:n,shape:r,stops:i,position:a,type:2}},R2e=function(e){return e.type===1},D2e=function(e){return e.type===2},V6={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=Hq[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function M2e(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Hq[e.name])}var Hq={"linear-gradient":L2e,"-moz-linear-gradient":Aw,"-ms-linear-gradient":Aw,"-o-linear-gradient":Aw,"-webkit-linear-gradient":Aw,"radial-gradient":U2e,"-moz-radial-gradient":fw,"-ms-radial-gradient":fw,"-o-radial-gradient":fw,"-webkit-radial-gradient":fw,"-webkit-gradient":F2e},Q2e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return ag(n)&&M2e(n)}).map(function(n){return V6.parse(e,n)})}},$2e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(jn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},H2e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ad(t).map(function(r){return r.filter(Gs)}).map(Sq)}},z2e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ad(t).map(function(r){return r.filter(jn).map(function(n){return n.value}).join(" ")}).map(V2e)}},V2e=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Op;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Op||(Op={}));var K2e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ad(t).map(function(r){return r.filter(W2e)})}},W2e=function(e){return jn(e)||Gs(e)},e5=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},G2e=e5("top"),q2e=e5("right"),Y2e=e5("bottom"),X2e=e5("left"),t5=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return Sq(r.filter(Gs))}}},Z2e=t5("top-left"),J2e=t5("top-right"),eje=t5("bottom-right"),tje=t5("bottom-left"),r5=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rje=r5("top"),nje=r5("right"),sje=r5("bottom"),ije=r5("left"),n5=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return zv(r)?r.number:0}}},aje=n5("top"),oje=n5("right"),lje=n5("bottom"),cje=n5("left"),dje={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},uje={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},hje={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(jn).reduce(function(r,n){return r|Aje(n.value)},0)}},Aje=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},fje={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mje={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},T2;(function(e){e.NORMAL="normal",e.STRICT="strict"})(T2||(T2={}));var pje={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return T2.STRICT;case"normal":default:return T2.NORMAL}}},gje={name:"line-height",initialValue:"normal",prefix:!1,type:4},gR=function(e,t){return jn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Gs(e)?Rn(e,t):t},xje={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:V6.parse(e,t)}},yje={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},dE={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},s5=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},vje=s5("top"),bje=s5("right"),wje=s5("bottom"),jje=s5("left"),Nje={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(jn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},_je={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},i5=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Cje=i5("top"),Bje=i5("right"),Sje=i5("bottom"),Eje=i5("left"),kje={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Pje={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ije={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&cE(t[0],"none")?[]:Ad(t).map(function(r){for(var n={color:nu.TRANSPARENT,offsetX:Li,offsetY:Li,blur:Li},i=0,a=0;a<r.length;a++){var o=r[a];Xh(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=Rh.parse(e,o)}return n})}},Tje={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Oje={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=Uje[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Lje=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},Fje=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,i,a,o,l]:null},Uje={matrix:Lje,matrix3d:Fje},xR={type:16,number:50,flags:Hv},Rje=[xR,xR],Dje={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Gs);return r.length!==2?Rje:[r[0],r[1]]}},Mje={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Qx;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Qx||(Qx={}));var Qje={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Qx.BREAK_ALL;case"keep-all":return Qx.KEEP_ALL;case"normal":default:return Qx.NORMAL}}},$je={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Wg(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},zq={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Hje={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Wg(t)?t.number:1}},zje={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Vje={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(jn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Kje={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Wje={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Gje={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Wg(t))return t.number;if(jn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},qje={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(jn).map(function(r){return r.value})}},Yje={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},hi=function(e,t){return(e&t)!==0},Xje={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Zje={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=t.filter(Bq),a=0;a<i.length;a++){var o=i[a],l=i[a+1];if(o.type===20){var c=l&&Wg(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},Jje={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(Bq),i=0;i<n.length;i++){var a=n[i],o=n[i+1];if(jn(a)&&a.value!=="none"){var l=o&&Wg(o)?o.number:0;r.push({counter:a.value,reset:l})}}return r}},eNe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(zv).map(function(r){return zq.parse(e,r)})}},tNe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],i=t.filter(B2e);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,l=i[a+1].value;n.push({open:o,close:l})}return n}},yR=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},rNe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&cE(t[0],"none")?[]:Ad(t).map(function(r){for(var n={color:255,offsetX:Li,offsetY:Li,blur:Li,spread:Li,inset:!1},i=0,a=0;a<r.length;a++){var o=r[a];cE(o,"inset")?n.inset=!0:Xh(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=Rh.parse(e,o)}return n})}},nNe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(jn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},sNe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},iNe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return zv(t)?t.number:0}},aNe=function(){function e(t,r){var n,i;this.animationDuration=Lt(t,eNe,r.animationDuration),this.backgroundClip=Lt(t,k2e,r.backgroundClip),this.backgroundColor=Lt(t,P2e,r.backgroundColor),this.backgroundImage=Lt(t,Q2e,r.backgroundImage),this.backgroundOrigin=Lt(t,$2e,r.backgroundOrigin),this.backgroundPosition=Lt(t,H2e,r.backgroundPosition),this.backgroundRepeat=Lt(t,z2e,r.backgroundRepeat),this.backgroundSize=Lt(t,K2e,r.backgroundSize),this.borderTopColor=Lt(t,G2e,r.borderTopColor),this.borderRightColor=Lt(t,q2e,r.borderRightColor),this.borderBottomColor=Lt(t,Y2e,r.borderBottomColor),this.borderLeftColor=Lt(t,X2e,r.borderLeftColor),this.borderTopLeftRadius=Lt(t,Z2e,r.borderTopLeftRadius),this.borderTopRightRadius=Lt(t,J2e,r.borderTopRightRadius),this.borderBottomRightRadius=Lt(t,eje,r.borderBottomRightRadius),this.borderBottomLeftRadius=Lt(t,tje,r.borderBottomLeftRadius),this.borderTopStyle=Lt(t,rje,r.borderTopStyle),this.borderRightStyle=Lt(t,nje,r.borderRightStyle),this.borderBottomStyle=Lt(t,sje,r.borderBottomStyle),this.borderLeftStyle=Lt(t,ije,r.borderLeftStyle),this.borderTopWidth=Lt(t,aje,r.borderTopWidth),this.borderRightWidth=Lt(t,oje,r.borderRightWidth),this.borderBottomWidth=Lt(t,lje,r.borderBottomWidth),this.borderLeftWidth=Lt(t,cje,r.borderLeftWidth),this.boxShadow=Lt(t,rNe,r.boxShadow),this.color=Lt(t,dje,r.color),this.direction=Lt(t,uje,r.direction),this.display=Lt(t,hje,r.display),this.float=Lt(t,fje,r.cssFloat),this.fontFamily=Lt(t,Kje,r.fontFamily),this.fontSize=Lt(t,Wje,r.fontSize),this.fontStyle=Lt(t,Yje,r.fontStyle),this.fontVariant=Lt(t,qje,r.fontVariant),this.fontWeight=Lt(t,Gje,r.fontWeight),this.letterSpacing=Lt(t,mje,r.letterSpacing),this.lineBreak=Lt(t,pje,r.lineBreak),this.lineHeight=Lt(t,gje,r.lineHeight),this.listStyleImage=Lt(t,xje,r.listStyleImage),this.listStylePosition=Lt(t,yje,r.listStylePosition),this.listStyleType=Lt(t,dE,r.listStyleType),this.marginTop=Lt(t,vje,r.marginTop),this.marginRight=Lt(t,bje,r.marginRight),this.marginBottom=Lt(t,wje,r.marginBottom),this.marginLeft=Lt(t,jje,r.marginLeft),this.opacity=Lt(t,Hje,r.opacity);var a=Lt(t,Nje,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Lt(t,_je,r.overflowWrap),this.paddingTop=Lt(t,Cje,r.paddingTop),this.paddingRight=Lt(t,Bje,r.paddingRight),this.paddingBottom=Lt(t,Sje,r.paddingBottom),this.paddingLeft=Lt(t,Eje,r.paddingLeft),this.paintOrder=Lt(t,nNe,r.paintOrder),this.position=Lt(t,Pje,r.position),this.textAlign=Lt(t,kje,r.textAlign),this.textDecorationColor=Lt(t,zje,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Lt(t,Vje,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Lt(t,Ije,r.textShadow),this.textTransform=Lt(t,Tje,r.textTransform),this.transform=Lt(t,Oje,r.transform),this.transformOrigin=Lt(t,Dje,r.transformOrigin),this.visibility=Lt(t,Mje,r.visibility),this.webkitTextStrokeColor=Lt(t,sNe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Lt(t,iNe,r.webkitTextStrokeWidth),this.wordBreak=Lt(t,Qje,r.wordBreak),this.zIndex=Lt(t,$je,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Dh(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return hi(this.display,4)||hi(this.display,33554432)||hi(this.display,268435456)||hi(this.display,536870912)||hi(this.display,67108864)||hi(this.display,134217728)},e}(),oNe=function(){function e(t,r){this.content=Lt(t,Xje,r.content),this.quotes=Lt(t,tNe,r.quotes)}return e}(),vR=function(){function e(t,r){this.counterIncrement=Lt(t,Zje,r.counterIncrement),this.counterReset=Lt(t,Jje,r.counterReset)}return e}(),Lt=function(e,t,r){var n=new _q,i=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(i);var a=new Cq(n.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,jn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return ZN.parse(e,a.parseComponentValue());case"color":return Rh.parse(e,a.parseComponentValue());case"image":return V6.parse(e,a.parseComponentValue());case"length":var l=a.parseComponentValue();return Xh(l)?l:Li;case"length-percentage":var c=a.parseComponentValue();return Gs(c)?c:Li;case"time":return zq.parse(e,a.parseComponentValue())}break}},lNe="data-html2canvas-debug",cNe=function(e){var t=e.getAttribute(lNe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},uE=function(e,t){var r=cNe(e);return r===1||t===r},fd=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,uE(r,3))debugger;this.styles=new aNe(t,window.getComputedStyle(r,null)),fE(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=YN(this.context,r),uE(r,4)&&(this.flags|=16)}return e}(),dNe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",bR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mw=0;mw<bR.length;mw++)xx[bR.charCodeAt(mw)]=mw;var uNe=function(e){var t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)a=xx[e.charCodeAt(n)],o=xx[e.charCodeAt(n+1)],l=xx[e.charCodeAt(n+2)],c=xx[e.charCodeAt(n+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},hNe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},ANe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},xf=5,K6=11,WC=2,fNe=K6-xf,Vq=65536>>xf,mNe=1<<xf,GC=mNe-1,pNe=1024>>xf,gNe=Vq+pNe,xNe=gNe,yNe=32,vNe=xNe+yNe,bNe=65536>>K6,wNe=1<<fNe,jNe=wNe-1,wR=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},NNe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},_Ne=function(e,t){var r=uNe(e),n=Array.isArray(r)?ANe(r):new Uint32Array(r),i=Array.isArray(r)?hNe(r):new Uint16Array(r),a=24,o=wR(i,a/2,n[4]/2),l=n[5]===2?wR(i,(a+n[4])/2):NNe(n,Math.ceil((a+n[4])/4));return new CNe(n[0],n[1],n[2],n[3],o,l)},CNe=function(){function e(t,r,n,i,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>xf],r=(r<<WC)+(t&GC),this.data[r];if(t<=65535)return r=this.index[Vq+(t-55296>>xf)],r=(r<<WC)+(t&GC),this.data[r];if(t<this.highStart)return r=vNe-bNe+(t>>K6),r=this.index[r],r+=t>>xf&jNe,r=this.index[r],r=(r<<WC)+(t&GC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),jR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BNe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pw=0;pw<jR.length;pw++)BNe[jR.charCodeAt(pw)]=pw;var SNe=1,qC=2,YC=3,NR=4,_R=5,ENe=7,CR=8,XC=9,ZC=10,BR=11,SR=12,ER=13,kR=14,JC=15,kNe=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},PNe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},INe=_Ne(dNe),tl="",eB="",TNe=function(e){return INe.get(e)},ONe=function(e,t,r){var n=r-2,i=t[n],a=t[r-1],o=t[r];if(a===qC&&o===YC)return tl;if(a===qC||a===YC||a===NR||o===qC||o===YC||o===NR)return eB;if(a===CR&&[CR,XC,BR,SR].indexOf(o)!==-1||(a===BR||a===XC)&&(o===XC||o===ZC)||(a===SR||a===ZC)&&o===ZC||o===ER||o===_R||o===ENe||a===SNe)return tl;if(a===ER&&o===kR){for(;i===_R;)i=t[--n];if(i===kR)return tl}if(a===JC&&o===JC){for(var l=0;i===JC;)l++,i=t[--n];if(l%2===0)return tl}return eB},LNe=function(e){var t=kNe(e),r=t.length,n=0,i=0,a=t.map(TNe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=tl;n<r&&(o=ONe(t,a,++n))===tl;);if(o!==tl||n===r){var l=PNe.apply(null,t.slice(i,n));return i=n,{value:l,done:!1}}return{done:!0,value:null}}}},FNe=function(e){for(var t=LNe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},UNe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(n),a===t)return!0}}return!1},RNe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,i=XN(n.data).map(function(c){return Us(c)}),a=0,o={},l=i.every(function(c,d){r.setStart(n,a),r.setEnd(n,a+c.length);var u=r.getBoundingClientRect();a+=c.length;var A=u.x>o.x||u.y>o.y;return o=u,d===0?!0:A});return e.body.removeChild(t),l},DNe=function(){return typeof new Image().crossOrigin<"u"},MNe=function(){return typeof new XMLHttpRequest().responseType=="string"},QNe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},PR=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},$Ne=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,a=t.toDataURL();i.src=a;var o=hE(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),IR(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=e.createElement("div");return d.style.backgroundImage="url("+a+")",d.style.height=r+"px",PR(c)?IR(hE(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),PR(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},hE=function(e,t,r,n,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(i),o},IR=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Oi={get SUPPORT_RANGE_BOUNDS(){var e=UNe(document);return Object.defineProperty(Oi,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Oi.SUPPORT_RANGE_BOUNDS&&RNe(document);return Object.defineProperty(Oi,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=QNe(document);return Object.defineProperty(Oi,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?$Ne(document):Promise.resolve(!1);return Object.defineProperty(Oi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=DNe();return Object.defineProperty(Oi,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=MNe();return Object.defineProperty(Oi,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Oi,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Oi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},$x=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),HNe=function(e,t,r,n){var i=KNe(t,r),a=[],o=0;return i.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Oi.SUPPORT_RANGE_BOUNDS){var c=TR(n,o,l.length).getClientRects();if(c.length>1){var d=W6(l),u=0;d.forEach(function(f){a.push(new $x(f,fu.fromDOMRectList(e,TR(n,u+o,f.length).getClientRects()))),u+=f.length})}else a.push(new $x(l,fu.fromDOMRectList(e,c)))}else{var A=n.splitText(l.length);a.push(new $x(l,zNe(e,n))),n=A}else Oi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),a},zNe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var a=YN(e,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return fu.EMPTY},TR=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+r),i},W6=function(e){if(Oi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return FNe(e)},VNe=function(e,t){if(Oi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return GNe(e,t)},KNe=function(e,t){return t.letterSpacing!==0?W6(e):VNe(e,t)},WNe=[32,160,4961,65792,65793,4153,4241],GNe=function(e,t){for(var r=b1e(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],i,a=function(){if(i.value){var o=i.value.slice(),l=XN(o),c="";l.forEach(function(d){WNe.indexOf(d)===-1?c+=Us(d):(c.length&&n.push(c),n.push(Us(d)),c="")}),c.length&&n.push(c)}};!(i=r.next()).done;)a();return n},qNe=function(){function e(t,r,n){this.text=YNe(r.data,n.textTransform),this.textBounds=HNe(t,this.text,n,r)}return e}(),YNe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(XNe,ZNe);case 2:return e.toUpperCase();default:return e}},XNe=/(^|\s|:|-|\(|\))([a-z])/g,ZNe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Kq=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t}(fd),Wq=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t}(fd),Gq=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this,a=new XMLSerializer,o=YN(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(fd),qq=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(fd),AE=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return t}(fd),JNe=[{type:15,flags:0,unit:"px",number:3}],e5e=[{type:16,flags:0,number:50}],t5e=function(e){return e.width>e.height?new fu(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new fu(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},r5e=function(e){var t=e.type===n5e?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},O2="checkbox",L2="radio",n5e="password",OR=707406591,G6=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=r5e(n),(i.type===O2||i.type===L2)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=t5e(i.bounds)),i.type){case O2:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=JNe;break;case L2:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=e5e;break}return i}return t}(fd),Yq=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(fd),Xq=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(fd),Zq=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=eY(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?Mx(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):nu.TRANSPARENT,o=n.contentWindow.document.body?Mx(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):nu.TRANSPARENT;i.backgroundColor=Dh(a)?Dh(o)?i.styles.backgroundColor:o:a}}catch{}return i}return t}(fd),s5e=["OL","UL","MENU"],_1=function(e,t,r,n){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,tY(i)&&i.data.trim().length>0)r.textNodes.push(new qNe(e,i,r.styles));else if(up(i))if(iY(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return _1(e,l,r,n)});else{var o=Jq(e,i);o.styles.isVisible()&&(i5e(i,o,n)?o.flags|=4:a5e(o.styles)&&(o.flags|=2),s5e.indexOf(i.tagName)!==-1&&(o.flags|=8),r.elements.push(o),i.slot,i.shadowRoot?_1(e,i.shadowRoot,o,n):!F2(i)&&!rY(i)&&!U2(i)&&_1(e,i,o,n))}},Jq=function(e,t){return mE(t)?new Kq(e,t):nY(t)?new Wq(e,t):rY(t)?new Gq(e,t):o5e(t)?new qq(e,t):l5e(t)?new AE(e,t):c5e(t)?new G6(e,t):U2(t)?new Yq(e,t):F2(t)?new Xq(e,t):sY(t)?new Zq(e,t):new fd(e,t)},eY=function(e,t){var r=Jq(e,t);return r.flags|=4,_1(e,t,r,r),r},i5e=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||q6(e)&&r.styles.isTransparent()},a5e=function(e){return e.isPositioned()||e.isFloating()},tY=function(e){return e.nodeType===Node.TEXT_NODE},up=function(e){return e.nodeType===Node.ELEMENT_NODE},fE=function(e){return up(e)&&typeof e.style<"u"&&!C1(e)},C1=function(e){return typeof e.className=="object"},o5e=function(e){return e.tagName==="LI"},l5e=function(e){return e.tagName==="OL"},c5e=function(e){return e.tagName==="INPUT"},d5e=function(e){return e.tagName==="HTML"},rY=function(e){return e.tagName==="svg"},q6=function(e){return e.tagName==="BODY"},nY=function(e){return e.tagName==="CANVAS"},LR=function(e){return e.tagName==="VIDEO"},mE=function(e){return e.tagName==="IMG"},sY=function(e){return e.tagName==="IFRAME"},FR=function(e){return e.tagName==="STYLE"},u5e=function(e){return e.tagName==="SCRIPT"},F2=function(e){return e.tagName==="TEXTAREA"},U2=function(e){return e.tagName==="SELECT"},iY=function(e){return e.tagName==="SLOT"},UR=function(e){return e.tagName.indexOf("-")>0},h5e=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,i=t.counterReset,a=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return a&&i.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},e}(),RR={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},DR={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},A5e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},f5e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Tm=function(e,t,r,n,i,a){return e<t||e>r?Sy(e,i,a.length>0):n.integers.reduce(function(o,l,c){for(;e>=l;)e-=l,o+=n.values[c];return o},"")+a},aY=function(e,t,r,n){var i="";do r||e--,i=n(e)+i,e/=t;while(e*t>=t);return i},Ls=function(e,t,r,n,i){var a=r-t+1;return(e<0?"-":"")+(aY(Math.abs(e),a,n,function(o){return Us(Math.floor(o%a)+t)})+i)},kA=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return aY(Math.abs(e),n,!1,function(i){return t[Math.floor(i%n)]})+r},zm=1,sh=2,ih=4,yx=8,kd=function(e,t,r,n,i,a){if(e<-9999||e>9999)return Sy(e,4,i.length>0);var o=Math.abs(e),l=i;if(o===0)return t[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&hi(a,zm)&&l!==""?l=t[d]+l:d>1||d===1&&c===0||d===1&&c===1&&hi(a,sh)||d===1&&c===1&&hi(a,ih)&&e>100||d===1&&c>1&&hi(a,yx)?l=t[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},MR="",QR="",$R="",tB="",Sy=function(e,t,r){var n=r?". ":"",i=r?"":"",a=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Ls(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return kA(e,"",i);case 6:return Tm(e,1,3999,RR,3,n).toLowerCase();case 7:return Tm(e,1,3999,RR,3,n);case 8:return Ls(e,945,969,!1,n);case 9:return Ls(e,97,122,!1,n);case 10:return Ls(e,65,90,!1,n);case 11:return Ls(e,1632,1641,!0,n);case 12:case 49:return Tm(e,1,9999,DR,3,n);case 35:return Tm(e,1,9999,DR,3,n).toLowerCase();case 13:return Ls(e,2534,2543,!0,n);case 14:case 30:return Ls(e,6112,6121,!0,n);case 15:return kA(e,"",i);case 16:return kA(e,"",i);case 17:case 48:return kd(e,"",MR,"",i,sh|ih|yx);case 47:return kd(e,"",QR,"",i,zm|sh|ih|yx);case 42:return kd(e,"",MR,"",i,sh|ih|yx);case 41:return kd(e,"",QR,"",i,zm|sh|ih|yx);case 26:return kd(e,"","",$R,i,0);case 25:return kd(e,"","",$R,i,zm|sh|ih);case 31:return kd(e,"","",tB,a,zm|sh|ih);case 33:return kd(e,"","",tB,a,0);case 32:return kd(e,"","",tB,a,zm|sh|ih);case 18:return Ls(e,2406,2415,!0,n);case 20:return Tm(e,1,19999,f5e,3,n);case 21:return Ls(e,2790,2799,!0,n);case 22:return Ls(e,2662,2671,!0,n);case 22:return Tm(e,1,10999,A5e,3,n);case 23:return kA(e,"");case 24:return kA(e,"");case 27:return Ls(e,3302,3311,!0,n);case 28:return kA(e,"",i);case 29:return kA(e,"",i);case 34:return Ls(e,3792,3801,!0,n);case 37:return Ls(e,6160,6169,!0,n);case 38:return Ls(e,4160,4169,!0,n);case 39:return Ls(e,2918,2927,!0,n);case 40:return Ls(e,1776,1785,!0,n);case 43:return Ls(e,3046,3055,!0,n);case 44:return Ls(e,3174,3183,!0,n);case 45:return Ls(e,3664,3673,!0,n);case 46:return Ls(e,3872,3881,!0,n);case 3:default:return Ls(e,48,57,!0,n)}},oY="data-html2canvas-ignore",HR=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new h5e,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,i=m5e(t,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=i.contentWindow,c=l.document,d=x5e(i).then(function(){return ya(n,void 0,void 0,function(){var u,A;return Ji(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(w5e),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,g5e(c)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,A)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(v5e(document.doctype)+"<html></html>"),b5e(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},e.prototype.createElementClone=function(t){if(uE(t,2))debugger;if(nY(t))return this.createCanvasClone(t);if(LR(t))return this.createVideoClone(t);if(FR(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return mE(r)&&(mE(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),UR(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return rB(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,r,n){(!up(r)||!u5e(r)&&!r.hasAttribute(oY)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!up(r)||!FR(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(up(a)&&iY(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return i.appendChildNode(r,l,n)})}else this.appendChildNode(r,a,n)},e.prototype.cloneNode=function(t,r){if(tY(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&up(t)&&(fE(t)||C1(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&fE(i)&&(this.clonedReferenceElement=i),q6(i)&&_5e(i);var c=this.counters.parse(new vR(this.context,a)),d=this.resolvePseudoContent(t,i,o,Hx.BEFORE);UR(t)&&(r=!0),LR(t)||this.cloneChildNodes(t,i,r),d&&i.insertBefore(d,i.firstChild);var u=this.resolvePseudoContent(t,i,l,Hx.AFTER);return u&&i.appendChild(u),this.counters.pop(c),(a&&(this.options.copyStyles||C1(t))&&!sY(t)||r)&&rB(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(F2(t)||U2(t))&&(F2(i)||U2(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,i){var a=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new vR(this.context,n));var c=new oNe(this.context,n),d=l.createElement("html2canvaspseudoelement");rB(n,d),c.content.forEach(function(A){if(A.type===0)d.appendChild(l.createTextNode(A.value));else if(A.type===22){var f=l.createElement("img");f.src=A.value,f.style.opacity="1",d.appendChild(f)}else if(A.type===18){if(A.name==="attr"){var m=A.values.filter(jn);m.length&&d.appendChild(l.createTextNode(t.getAttribute(m[0].value)||""))}else if(A.name==="counter"){var x=A.values.filter(ag),p=x[0],v=x[1];if(p&&jn(p)){var y=a.counters.getCounterValue(p.value),b=v&&jn(v)?dE.parse(a.context,v.value):3;d.appendChild(l.createTextNode(Sy(y,b,!1)))}}else if(A.name==="counters"){var w=A.values.filter(ag),p=w[0],j=w[1],v=w[2];if(p&&jn(p)){var N=a.counters.getCounterValues(p.value),B=v&&jn(v)?dE.parse(a.context,v.value):3,I=j&&j.type===0?j.value:"",P=N.map(function(E){return Sy(E,B,!1)}).join(I);d.appendChild(l.createTextNode(P))}}}else if(A.type===20)switch(A.value){case"open-quote":d.appendChild(l.createTextNode(yR(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(yR(c.quotes,--a.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(A.value))}}),d.className=pE+" "+gE;var u=i===Hx.BEFORE?" "+pE:" "+gE;return C1(r)?r.className.baseValue+=u:r.className+=u,d}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Hx;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Hx||(Hx={}));var m5e=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(oY,"true"),e.body.appendChild(r),r},p5e=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},g5e=function(e){return Promise.all([].slice.call(e.images,0).map(p5e))},x5e=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},y5e=["all","d","content"],rB=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);y5e.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},v5e=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},b5e=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},w5e=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},j5e=":before",N5e=":after",pE="___html2canvas___pseudoelement_before",gE="___html2canvas___pseudoelement_after",zR=`{
    content: "" !important;
    display: none !important;
}`,_5e=function(e){C5e(e,"."+pE+j5e+zR+`
         .`+gE+N5e+zR)},C5e=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},lY=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),B5e=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(sB(t)||P5e(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ya(this,void 0,void 0,function(){var r,n,i,a,o=this;return Ji(this,function(l){switch(l.label){case 0:return r=lY.isSameOrigin(t),n=!nB(t)&&this._options.useCORS===!0&&Oi.SUPPORT_CORS_IMAGES&&!r,i=!nB(t)&&!r&&!sB(t)&&typeof this._options.proxy=="string"&&Oi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!nB(t)&&!sB(t)&&!i&&!n?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(I5e(a)||n)&&(u.crossOrigin="anonymous"),u.src=a,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,o){var l=Oi.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")a(c.response);else{var A=new FileReader;A.addEventListener("load",function(){return a(A.result)},!1),A.addEventListener("error",function(f){return o(f)},!1),A.readAsDataURL(c.response)}else o("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+d+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+i)}}c.send()})},e}(),S5e=/^data:image\/svg\+xml/i,E5e=/^data:image\/.*;base64,/i,k5e=/^data:image\/.*/i,P5e=function(e){return Oi.SUPPORT_SVG_DRAWING||!T5e(e)},nB=function(e){return k5e.test(e)},I5e=function(e){return E5e.test(e)},sB=function(e){return e.substr(0,4)==="blob"},T5e=function(e){return e.substr(-3).toLowerCase()==="svg"||S5e.test(e)},Tt=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Om=function(e,t,r){return new Tt(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},gw=function(){function e(t,r,n,i){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=i}return e.prototype.subdivide=function(t,r){var n=Om(this.start,this.startControl,t),i=Om(this.startControl,this.endControl,t),a=Om(this.endControl,this.end,t),o=Om(n,i,t),l=Om(i,a,t),c=Om(o,l,t);return r?new e(this.start,n,o,c):new e(c,l,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),il=function(e){return e.type===1},O5e=function(){function e(t){var r=t.styles,n=t.bounds,i=gx(r.borderTopLeftRadius,n.width,n.height),a=i[0],o=i[1],l=gx(r.borderTopRightRadius,n.width,n.height),c=l[0],d=l[1],u=gx(r.borderBottomRightRadius,n.width,n.height),A=u[0],f=u[1],m=gx(r.borderBottomLeftRadius,n.width,n.height),x=m[0],p=m[1],v=[];v.push((a+c)/n.width),v.push((x+A)/n.width),v.push((o+p)/n.height),v.push((d+f)/n.height);var y=Math.max.apply(Math,v);y>1&&(a/=y,o/=y,c/=y,d/=y,A/=y,f/=y,x/=y,p/=y);var b=n.width-c,w=n.height-f,j=n.width-A,N=n.height-p,B=r.borderTopWidth,I=r.borderRightWidth,P=r.borderBottomWidth,T=r.borderLeftWidth,F=Rn(r.paddingTop,t.bounds.width),E=Rn(r.paddingRight,t.bounds.width),k=Rn(r.paddingBottom,t.bounds.width),M=Rn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Zn(n.left+T/3,n.top+B/3,a-T/3,o-B/3,an.TOP_LEFT):new Tt(n.left+T/3,n.top+B/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Zn(n.left+b,n.top+B/3,c-I/3,d-B/3,an.TOP_RIGHT):new Tt(n.left+n.width-I/3,n.top+B/3),this.bottomRightBorderDoubleOuterBox=A>0||f>0?Zn(n.left+j,n.top+w,A-I/3,f-P/3,an.BOTTOM_RIGHT):new Tt(n.left+n.width-I/3,n.top+n.height-P/3),this.bottomLeftBorderDoubleOuterBox=x>0||p>0?Zn(n.left+T/3,n.top+N,x-T/3,p-P/3,an.BOTTOM_LEFT):new Tt(n.left+T/3,n.top+n.height-P/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Zn(n.left+T*2/3,n.top+B*2/3,a-T*2/3,o-B*2/3,an.TOP_LEFT):new Tt(n.left+T*2/3,n.top+B*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Zn(n.left+b,n.top+B*2/3,c-I*2/3,d-B*2/3,an.TOP_RIGHT):new Tt(n.left+n.width-I*2/3,n.top+B*2/3),this.bottomRightBorderDoubleInnerBox=A>0||f>0?Zn(n.left+j,n.top+w,A-I*2/3,f-P*2/3,an.BOTTOM_RIGHT):new Tt(n.left+n.width-I*2/3,n.top+n.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||p>0?Zn(n.left+T*2/3,n.top+N,x-T*2/3,p-P*2/3,an.BOTTOM_LEFT):new Tt(n.left+T*2/3,n.top+n.height-P*2/3),this.topLeftBorderStroke=a>0||o>0?Zn(n.left+T/2,n.top+B/2,a-T/2,o-B/2,an.TOP_LEFT):new Tt(n.left+T/2,n.top+B/2),this.topRightBorderStroke=a>0||o>0?Zn(n.left+b,n.top+B/2,c-I/2,d-B/2,an.TOP_RIGHT):new Tt(n.left+n.width-I/2,n.top+B/2),this.bottomRightBorderStroke=A>0||f>0?Zn(n.left+j,n.top+w,A-I/2,f-P/2,an.BOTTOM_RIGHT):new Tt(n.left+n.width-I/2,n.top+n.height-P/2),this.bottomLeftBorderStroke=x>0||p>0?Zn(n.left+T/2,n.top+N,x-T/2,p-P/2,an.BOTTOM_LEFT):new Tt(n.left+T/2,n.top+n.height-P/2),this.topLeftBorderBox=a>0||o>0?Zn(n.left,n.top,a,o,an.TOP_LEFT):new Tt(n.left,n.top),this.topRightBorderBox=c>0||d>0?Zn(n.left+b,n.top,c,d,an.TOP_RIGHT):new Tt(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||f>0?Zn(n.left+j,n.top+w,A,f,an.BOTTOM_RIGHT):new Tt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||p>0?Zn(n.left,n.top+N,x,p,an.BOTTOM_LEFT):new Tt(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?Zn(n.left+T,n.top+B,Math.max(0,a-T),Math.max(0,o-B),an.TOP_LEFT):new Tt(n.left+T,n.top+B),this.topRightPaddingBox=c>0||d>0?Zn(n.left+Math.min(b,n.width-I),n.top+B,b>n.width+I?0:Math.max(0,c-I),Math.max(0,d-B),an.TOP_RIGHT):new Tt(n.left+n.width-I,n.top+B),this.bottomRightPaddingBox=A>0||f>0?Zn(n.left+Math.min(j,n.width-T),n.top+Math.min(w,n.height-P),Math.max(0,A-I),Math.max(0,f-P),an.BOTTOM_RIGHT):new Tt(n.left+n.width-I,n.top+n.height-P),this.bottomLeftPaddingBox=x>0||p>0?Zn(n.left+T,n.top+Math.min(N,n.height-P),Math.max(0,x-T),Math.max(0,p-P),an.BOTTOM_LEFT):new Tt(n.left+T,n.top+n.height-P),this.topLeftContentBox=a>0||o>0?Zn(n.left+T+M,n.top+B+F,Math.max(0,a-(T+M)),Math.max(0,o-(B+F)),an.TOP_LEFT):new Tt(n.left+T+M,n.top+B+F),this.topRightContentBox=c>0||d>0?Zn(n.left+Math.min(b,n.width+T+M),n.top+B+F,b>n.width+T+M?0:c-T+M,d-(B+F),an.TOP_RIGHT):new Tt(n.left+n.width-(I+E),n.top+B+F),this.bottomRightContentBox=A>0||f>0?Zn(n.left+Math.min(j,n.width-(T+M)),n.top+Math.min(w,n.height+B+F),Math.max(0,A-(I+E)),f-(P+k),an.BOTTOM_RIGHT):new Tt(n.left+n.width-(I+E),n.top+n.height-(P+k)),this.bottomLeftContentBox=x>0||p>0?Zn(n.left+T+M,n.top+N,Math.max(0,x-(T+M)),p-(P+k),an.BOTTOM_LEFT):new Tt(n.left+T+M,n.top+n.height-(P+k))}return e}(),an;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(an||(an={}));var Zn=function(e,t,r,n,i){var a=4*((Math.sqrt(2)-1)/3),o=r*a,l=n*a,c=e+r,d=t+n;switch(i){case an.TOP_LEFT:return new gw(new Tt(e,d),new Tt(e,d-l),new Tt(c-o,t),new Tt(c,t));case an.TOP_RIGHT:return new gw(new Tt(e,t),new Tt(e+o,t),new Tt(c,d-l),new Tt(c,d));case an.BOTTOM_RIGHT:return new gw(new Tt(c,t),new Tt(c,t+l),new Tt(e+o,d),new Tt(e,d));case an.BOTTOM_LEFT:default:return new gw(new Tt(c,d),new Tt(c-o,d),new Tt(e,t+l),new Tt(e,t))}},R2=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},L5e=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},D2=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},F5e=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),xw=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),U5e=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),R5e=function(e){return e.type===0},cY=function(e){return e.type===1},D5e=function(e){return e.type===2},VR=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},M5e=function(e,t,r,n,i){return e.map(function(a,o){switch(o){case 0:return a.add(t,r);case 1:return a.add(t+n,r);case 2:return a.add(t+n,r+i);case 3:return a.add(t,r+i)}return a})},dY=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),uY=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new O5e(this.container),this.container.styles.opacity<1&&this.effects.push(new U5e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new F5e(n,i,a))}if(this.container.styles.overflowX!==0){var o=R2(this.curves),l=D2(this.curves);VR(o,l)?this.effects.push(new xw(o,6)):(this.effects.push(new xw(o,2)),this.effects.push(new xw(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(c){return!cY(c)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=R2(n.curves),l=D2(n.curves);VR(o,l)||i.unshift(new xw(l,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(c){return hi(c.target,t)})},e}(),xE=function(e,t,r,n){e.container.elements.forEach(function(i){var a=hi(i.flags,4),o=hi(i.flags,2),l=new uY(i,e);hi(i.styles.display,2048)&&n.push(l);var c=hi(i.flags,8)?[]:n;if(a||o){var d=a||i.styles.isPositioned()?r:t,u=new dY(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var f=0;d.negativeZIndex.some(function(x,p){return A>x.element.container.styles.zIndex.order?(f=p,!1):f>0}),d.negativeZIndex.splice(f,0,u)}else if(A>0){var m=0;d.positiveZIndex.some(function(x,p){return A>=x.element.container.styles.zIndex.order?(m=p+1,!1):m>0}),d.positiveZIndex.splice(m,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);xE(l,u,a?u:r,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),xE(l,t,r,c);hi(i.flags,8)&&hY(i,c)})},hY=function(e,t){for(var r=e instanceof AE?e.start:1,n=e instanceof AE?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof qq&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=Sy(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},Q5e=function(e){var t=new uY(e,null),r=new dY(t),n=[];return xE(t,r,r,n),hY(t.container,n),r},KR=function(e,t){switch(t){case 0:return dl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return dl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return dl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return dl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},$5e=function(e,t){switch(t){case 0:return dl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return dl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return dl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return dl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},H5e=function(e,t){switch(t){case 0:return dl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return dl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return dl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return dl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},z5e=function(e,t){switch(t){case 0:return yw(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return yw(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return yw(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return yw(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},yw=function(e,t){var r=[];return il(e)?r.push(e.subdivide(.5,!1)):r.push(e),il(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},dl=function(e,t,r,n){var i=[];return il(e)?i.push(e.subdivide(.5,!1)):i.push(e),il(r)?i.push(r.subdivide(.5,!0)):i.push(r),il(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),il(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},AY=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},M2=function(e){var t=e.styles,r=e.bounds,n=Rn(t.paddingLeft,r.width),i=Rn(t.paddingRight,r.width),a=Rn(t.paddingTop,r.width),o=Rn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},V5e=function(e,t){return e===0?t.bounds:e===2?M2(t):AY(t)},K5e=function(e,t){return e===0?t.bounds:e===2?M2(t):AY(t)},iB=function(e,t,r){var n=V5e(Vm(e.styles.backgroundOrigin,t),e),i=K5e(Vm(e.styles.backgroundClip,t),e),a=W5e(Vm(e.styles.backgroundSize,t),r,n),o=a[0],l=a[1],c=gx(Vm(e.styles.backgroundPosition,t),n.width-o,n.height-l),d=G5e(Vm(e.styles.backgroundRepeat,t),c,a,n,i),u=Math.round(n.left+c[0]),A=Math.round(n.top+c[1]);return[d,u,A,o,l]},Lm=function(e){return jn(e)&&e.value===Op.AUTO},vw=function(e){return typeof e=="number"},W5e=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Gs(o)&&l&&Gs(l))return[Rn(o,r.width),Rn(l,r.height)];var c=vw(a);if(jn(o)&&(o.value===Op.CONTAIN||o.value===Op.COVER)){if(vw(a)){var d=r.width/r.height;return d<a!=(o.value===Op.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var u=vw(n),A=vw(i),f=u||A;if(Lm(o)&&(!l||Lm(l))){if(u&&A)return[n,i];if(!c&&!f)return[r.width,r.height];if(f&&c){var m=u?n:i*a,x=A?i:n/a;return[m,x]}var p=u?n:r.width,v=A?i:r.height;return[p,v]}if(c){var y=0,b=0;return Gs(o)?y=Rn(o,r.width):Gs(l)&&(b=Rn(l,r.height)),Lm(o)?y=b*a:(!l||Lm(l))&&(b=y/a),[y,b]}var w=null,j=null;if(Gs(o)?w=Rn(o,r.width):l&&Gs(l)&&(j=Rn(l,r.height)),w!==null&&(!l||Lm(l))&&(j=u&&A?w/n*i:r.height),j!==null&&Lm(o)&&(w=u&&A?j/i*n:r.width),w!==null&&j!==null)return[w,j];throw new Error("Unable to calculate background-size for element")},Vm=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},G5e=function(e,t,r,n,i){var a=t[0],o=t[1],l=r[0],c=r[1];switch(e){case 2:return[new Tt(Math.round(n.left),Math.round(n.top+o)),new Tt(Math.round(n.left+n.width),Math.round(n.top+o)),new Tt(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Tt(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Tt(Math.round(n.left+a),Math.round(n.top)),new Tt(Math.round(n.left+a+l),Math.round(n.top)),new Tt(Math.round(n.left+a+l),Math.round(n.height+n.top)),new Tt(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new Tt(Math.round(n.left+a),Math.round(n.top+o)),new Tt(Math.round(n.left+a+l),Math.round(n.top+o)),new Tt(Math.round(n.left+a+l),Math.round(n.top+o+c)),new Tt(Math.round(n.left+a),Math.round(n.top+o+c))];default:return[new Tt(Math.round(i.left),Math.round(i.top)),new Tt(Math.round(i.left+i.width),Math.round(i.top)),new Tt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Tt(Math.round(i.left),Math.round(i.height+i.top))]}},q5e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",WR="Hidden Text",Y5e=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=q5e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(WR)),n.appendChild(a),n.appendChild(i);var l=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(WR)),n.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),fY=function(){function e(t,r){this.context=t,this.options=r}return e}(),X5e=1e4,Z5e=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Y5e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},t.prototype.applyEffect=function(r){this.ctx.save(),D5e(r)&&(this.ctx.globalAlpha=r.opacity),R5e(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),cY(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return ya(this,void 0,void 0,function(){var n;return Ji(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return ya(this,void 0,void 0,function(){return Ji(this,function(n){switch(n.label){case 0:if(hi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,i){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var o=W6(r.text);o.reduce(function(l,c){return a.ctx.fillText(c,l,r.bounds.top+i),l+a.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=n_e(r.fontFamily).join(", "),a=zv(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(r,n){return ya(this,void 0,void 0,function(){var i,a,o,l,c,d,u,A,f=this;return Ji(this,function(m){return i=this.createFontStyle(n),a=i[0],o=i[1],l=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,A=n.paintOrder,r.textBounds.forEach(function(x){A.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=xi(n.color),f.renderTextWithLetterSpacing(x,n.letterSpacing,d);var v=n.textShadow;v.length&&x.text.trim().length&&(v.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=xi(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(x,n.letterSpacing,d)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=xi(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+d),x.bounds.width,1);break;case 2:f.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:f.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+u),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(f.ctx.strokeStyle=xi(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+d)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=M2(r),o=D2(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return ya(this,void 0,void 0,function(){var n,i,a,o,l,c,b,b,d,u,A,f,j,m,x,N,p,v,y,b,w,j,N;return Ji(this,function(B){switch(B.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,a=n.styles,o=0,l=n.textNodes,B.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:B.sent(),B.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof Kq))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=B.sent(),this.renderReplacedElement(n,i,b),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Wq&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Gq))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=B.sent(),this.renderReplacedElement(n,i,b),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Zq&&n.tree?(d=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:u=B.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),B.label=14;case 14:if(n instanceof G6&&(A=Math.min(n.bounds.width,n.bounds.height),n.type===O2?n.checked&&(this.ctx.save(),this.path([new Tt(n.bounds.left+A*.39363,n.bounds.top+A*.79),new Tt(n.bounds.left+A*.16,n.bounds.top+A*.5549),new Tt(n.bounds.left+A*.27347,n.bounds.top+A*.44071),new Tt(n.bounds.left+A*.39694,n.bounds.top+A*.5649),new Tt(n.bounds.left+A*.72983,n.bounds.top+A*.23),new Tt(n.bounds.left+A*.84,n.bounds.top+A*.34085),new Tt(n.bounds.left+A*.39363,n.bounds.top+A*.79)]),this.ctx.fillStyle=xi(OR),this.ctx.fill(),this.ctx.restore()):n.type===L2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+A/2,n.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=xi(OR),this.ctx.fill(),this.ctx.restore())),J5e(n)&&n.value.length){switch(f=this.createFontStyle(a),j=f[0],m=f[1],x=this.fontMetrics.getMetrics(j,m).baseline,this.ctx.font=j,this.ctx.fillStyle=xi(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=t_e(n.styles.textAlign),N=M2(n),p=0,n.styles.textAlign){case 1:p+=N.width/2;break;case 2:p+=N.width;break}v=N.add(p,0,0,-N.height/2+1),this.ctx.save(),this.path([new Tt(N.left,N.top),new Tt(N.left+N.width,N.top),new Tt(N.left+N.width,N.top+N.height),new Tt(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new $x(n.value,v),a.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!hi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];b=void 0,w=y.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return b=B.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(j=this.createFontStyle(a)[0],this.ctx.font=j,this.ctx.fillStyle=xi(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new fu(n.bounds.left,n.bounds.top+Rn(n.styles.paddingTop,n.bounds.width),n.bounds.width,gR(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new $x(r.listValue,N),a.letterSpacing,gR(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return ya(this,void 0,void 0,function(){var n,i,y,a,o,y,l,c,y,d,u,y,A,f,y,m,x,y,p,v,y;return Ji(this,function(b){switch(b.label){case 0:if(hi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,i=r.negativeZIndex,b.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),a=0,o=r.nonInlineLevel,b.label=7;case 7:return a<o.length?(y=o[a],[4,this.renderNode(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return a++,[3,7];case 10:l=0,c=r.nonPositionedFloats,b.label=11;case 11:return l<c.length?(y=c[l],[4,this.renderStack(y)]):[3,14];case 12:b.sent(),b.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,b.label=15;case 15:return d<u.length?(y=u[d],[4,this.renderStack(y)]):[3,18];case 16:b.sent(),b.label=17;case 17:return d++,[3,15];case 18:A=0,f=r.inlineLevel,b.label=19;case 19:return A<f.length?(y=f[A],[4,this.renderNode(y)]):[3,22];case 20:b.sent(),b.label=21;case 21:return A++,[3,19];case 22:m=0,x=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return m<x.length?(y=x[m],[4,this.renderStack(y)]):[3,26];case 24:b.sent(),b.label=25;case 25:return m++,[3,23];case 26:p=0,v=r.positiveZIndex,b.label=27;case 27:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,30];case 28:b.sent(),b.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(i,a){var o=il(i)?i.start:i;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),il(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(r,n,i,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(r,n,i){var a;if(r.width===n&&r.height===i)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,i);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,i),l},t.prototype.renderBackgroundImage=function(r){return ya(this,void 0,void 0,function(){var n,i,a,o,l,c;return Ji(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var A,f,m,F,Y,Q,M,U,P,x,F,Y,Q,M,U,p,v,y,b,w,j,N,B,I,P,T,F,E,k,M,U,W,Y,Q,z,te,re,J,H,Z,K,ie;return Ji(this,function(oe){switch(oe.label){case 0:if(u.type!==0)return[3,5];A=void 0,f=u.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,a.context.cache.match(f)];case 2:return A=oe.sent(),[3,4];case 3:return oe.sent(),a.context.logger.error("Error loading background-image "+f),[3,4];case 4:return A&&(m=iB(r,n,[A.width,A.height,A.width/A.height]),F=m[0],Y=m[1],Q=m[2],M=m[3],U=m[4],P=a.ctx.createPattern(a.resizeImage(A,M,U),"repeat"),a.renderRepeat(F,P,Y,Q)),[3,6];case 5:R2e(u)?(x=iB(r,n,[null,null,null]),F=x[0],Y=x[1],Q=x[2],M=x[3],U=x[4],p=T2e(u.angle,M,U),v=p[0],y=p[1],b=p[2],w=p[3],j=p[4],N=document.createElement("canvas"),N.width=M,N.height=U,B=N.getContext("2d"),I=B.createLinearGradient(y,w,b,j),mR(u.stops,v).forEach(function(he){return I.addColorStop(he.stop,xi(he.color))}),B.fillStyle=I,B.fillRect(0,0,M,U),M>0&&U>0&&(P=a.ctx.createPattern(N,"repeat"),a.renderRepeat(F,P,Y,Q))):D2e(u)&&(T=iB(r,n,[null,null,null]),F=T[0],E=T[1],k=T[2],M=T[3],U=T[4],W=u.position.length===0?[z6]:u.position,Y=Rn(W[0],M),Q=Rn(W[W.length-1],U),z=O2e(u,Y,Q,M,U),te=z[0],re=z[1],te>0&&re>0&&(J=a.ctx.createRadialGradient(E+Y,k+Q,0,E+Y,k+Q,te),mR(u.stops,te*2).forEach(function(he){return J.addColorStop(he.stop,xi(he.color))}),a.path(F),a.ctx.fillStyle=J,te!==re?(H=r.bounds.left+.5*r.bounds.width,Z=r.bounds.top+.5*r.bounds.height,K=re/te,ie=1/K,a.ctx.save(),a.ctx.translate(H,Z),a.ctx.transform(1,0,0,K,0,0),a.ctx.translate(-H,-Z),a.ctx.fillRect(E,ie*(k-Z)+Z,M,U*ie),a.ctx.restore()):a.ctx.fill())),oe.label=6;case 6:return n--,[2]}})},a=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,i(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,i){return ya(this,void 0,void 0,function(){return Ji(this,function(a){return this.path(KR(i,n)),this.ctx.fillStyle=xi(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,i,a){return ya(this,void 0,void 0,function(){var o,l;return Ji(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=$5e(a,i),this.path(o),this.ctx.fillStyle=xi(r),this.ctx.fill(),l=H5e(a,i),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return ya(this,void 0,void 0,function(){var n,i,a,o,l,c,d,u,A=this;return Ji(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Dh(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=e_e(Vm(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Dh(n.backgroundColor)||(this.ctx.fillStyle=xi(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){A.ctx.save();var x=R2(r.curves),p=m.inset?0:X5e,v=M5e(x,-p+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(A.path(x),A.ctx.clip(),A.mask(v)):(A.mask(x),A.ctx.clip(),A.path(v)),A.ctx.shadowOffsetX=m.offsetX.number+p,A.ctx.shadowOffsetY=m.offsetY.number,A.ctx.shadowColor=xi(m.color),A.ctx.shadowBlur=m.blur.number,A.ctx.fillStyle=m.inset?xi(m.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),f.label=2;case 2:l=0,c=0,d=a,f.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!Dh(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:f.sent(),f.label=11;case 11:l++,f.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,i,a,o){return ya(this,void 0,void 0,function(){var l,c,d,u,A,f,m,x,p,v,y,b,w,j,N,B,N,B;return Ji(this,function(I){return this.ctx.save(),l=z5e(a,i),c=KR(a,i),o===2&&(this.path(c),this.ctx.clip()),il(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),il(c[1])?(A=c[1].end.x,f=c[1].end.y):(A=c[1].x,f=c[1].y),i===0||i===2?m=Math.abs(d-A):m=Math.abs(u-f),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),x=n<3?n*3:n*2,p=n<3?n*2:n,o===3&&(x=n,p=n),v=!0,m<=x*2?v=!1:m<=x*2+p?(y=m/(2*x+p),x*=y,p*=y):(b=Math.floor((m+p)/(x+p)),w=(m-b*x)/(b-1),j=(m-(b+1)*x)/b,p=j<=0||Math.abs(p-w)<Math.abs(p-j)?w:j),v&&(o===3?this.ctx.setLineDash([0,x+p]):this.ctx.setLineDash([x,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=xi(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(il(c[0])&&(N=c[3],B=c[0],this.ctx.beginPath(),this.formatPath([new Tt(N.end.x,N.end.y),new Tt(B.start.x,B.start.y)]),this.ctx.stroke()),il(c[1])&&(N=c[1],B=c[2],this.ctx.beginPath(),this.formatPath([new Tt(N.end.x,N.end.y),new Tt(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return ya(this,void 0,void 0,function(){var n;return Ji(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=xi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Q5e(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(fY),J5e=function(e){return e instanceof Xq||e instanceof Yq?!0:e instanceof G6&&e.type!==L2&&e.type!==O2},e_e=function(e,t){switch(e){case 0:return R2(t);case 2:return L5e(t);case 1:default:return D2(t)}},t_e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},r_e=["-apple-system","system-ui"],n_e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return r_e.indexOf(t)===-1}):e},s_e=function(e){vc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t.prototype.render=function(r){return ya(this,void 0,void 0,function(){var n,i;return Ji(this,function(a){switch(a.label){case 0:return n=hE(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,i_e(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=xi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(fY),i_e=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},a_e=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Zb([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Zb([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Zb([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Zb([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),o_e=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new a_e({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new B5e(this,t)}return e.instanceCount=1,e}(),mY=function(e,t){return t===void 0&&(t={}),l_e(e,t)};typeof window<"u"&&lY.setContext(window);var l_e=function(e,t){return ya(void 0,void 0,void 0,function(){var r,n,i,a,o,l,c,d,u,A,f,m,x,p,v,y,b,w,j,N,I,B,I,P,T,F,E,k,M,U,W,Y,Q,z,te,re,J,H,Z,K;return Ji(this,function(ie){switch(ie.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(P=t.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(T=t.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:t.proxy,useCORS:(F=t.useCORS)!==null&&F!==void 0?F:!1},a=X4({logging:(E=t.logging)!==null&&E!==void 0?E:!0,cache:t.cache},i),o={windowWidth:(k=t.windowWidth)!==null&&k!==void 0?k:n.innerWidth,windowHeight:(M=t.windowHeight)!==null&&M!==void 0?M:n.innerHeight,scrollX:(U=t.scrollX)!==null&&U!==void 0?U:n.pageXOffset,scrollY:(W=t.scrollY)!==null&&W!==void 0?W:n.pageYOffset},l=new fu(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new o_e(a,l),d=(Y=t.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,u={allowTaint:(Q=t.allowTaint)!==null&&Q!==void 0?Q:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),A=new HR(c,e,u),f=A.clonedReferenceElement,f?[4,A.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=ie.sent(),x=q6(f)||d5e(f)?Mwe(f.ownerDocument):YN(c,f),p=x.width,v=x.height,y=x.left,b=x.top,w=c_e(c,f,t.backgroundColor),j={canvas:t.canvas,backgroundColor:w,scale:(te=(z=t.scale)!==null&&z!==void 0?z:n.devicePixelRatio)!==null&&te!==void 0?te:1,x:((re=t.x)!==null&&re!==void 0?re:0)+y,y:((J=t.y)!==null&&J!==void 0?J:0)+b,width:(H=t.width)!==null&&H!==void 0?H:Math.ceil(p),height:(Z=t.height)!==null&&Z!==void 0?Z:Math.ceil(v)},d?(c.logger.debug("Document cloned, using foreign object rendering"),I=new s_e(c,j),[4,I.render(f)]):[3,3];case 2:return N=ie.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+y+","+b+" with size "+p+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),B=eY(c,f),w===B.styles.backgroundColor&&(B.styles.backgroundColor=nu.TRANSPARENT),c.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),I=new Z5e(c,j),[4,I.render(B)];case 4:N=ie.sent(),ie.label=5;case 5:return(!((K=t.removeContainer)!==null&&K!==void 0)||K)&&(HR.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},c_e=function(e,t,r){var n=t.ownerDocument,i=n.documentElement?Mx(e,getComputedStyle(n.documentElement).backgroundColor):nu.TRANSPARENT,a=n.body?Mx(e,getComputedStyle(n.body).backgroundColor):nu.TRANSPARENT,o=typeof r=="string"?Mx(e,r):r===null?nu.TRANSPARENT:4294967295;return t===n.documentElement?Dh(i)?Dh(a)?o:a:i:o};const d_e=Object.freeze(Object.defineProperty({__proto__:null,default:mY},Symbol.toStringTag,{value:"Module"})),u_e="modulepreload",h_e=function(e){return"/"+e},GR={},aB=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=h_e(c),c in GR)return;GR[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const A=document.createElement("link");if(A.rel=d?"stylesheet":u_e,d||(A.as="script"),A.crossOrigin="",A.href=c,l&&A.setAttribute("nonce",l),document.head.appendChild(A),d)return new Promise((f,m)=>{A.addEventListener("load",f),A.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}var Ac=Uint8Array,Co=Uint16Array,Y6=Int32Array,X6=new Ac([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Z6=new Ac([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qR=new Ac([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pY=function(e,t){for(var r=new Co(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Y6(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},gY=pY(X6,2),A_e=gY.b,yE=gY.r;A_e[28]=258,yE[258]=28;var f_e=pY(Z6,0),YR=f_e.r,vE=new Co(32768);for(var qn=0;qn<32768;++qn){var Zu=(qn&43690)>>1|(qn&21845)<<1;Zu=(Zu&52428)>>2|(Zu&13107)<<2,Zu=(Zu&61680)>>4|(Zu&3855)<<4,vE[qn]=((Zu&65280)>>8|(Zu&255)<<8)>>1}var zx=function(e,t,r){for(var n=e.length,i=0,a=new Co(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new Co(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new Co(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],A=o[e[i]-1]++<<u,f=A|(1<<u)-1;A<=f;++A)l[vE[A]>>c]=d}else for(l=new Co(n),i=0;i<n;++i)e[i]&&(l[i]=vE[o[e[i]-1]++]>>15-e[i]);return l},Df=new Ac(288);for(var qn=0;qn<144;++qn)Df[qn]=8;for(var qn=144;qn<256;++qn)Df[qn]=9;for(var qn=256;qn<280;++qn)Df[qn]=7;for(var qn=280;qn<288;++qn)Df[qn]=8;var Q2=new Ac(32);for(var qn=0;qn<32;++qn)Q2[qn]=5;var m_e=zx(Df,9,0),p_e=zx(Q2,5,0),xY=function(e){return(e+7)/8|0},g_e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ac(e.subarray(t,r))},Pd=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},H0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},oB=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:vY,l:0};if(i==1){var o=new Ac(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,B){return N.f-B.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,A=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=r[r[d].f<r[A].f?d++:A++],c=r[d!=u&&r[d].f<r[A].f?d++:A++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=a[0].s,n=1;n<i;++n)a[n].s>f&&(f=a[n].s);var m=new Co(f+1),x=bE(r[u-1],m,0);if(x>t){var n=0,p=0,v=x-t,y=1<<v;for(a.sort(function(B,I){return m[I.s]-m[B.s]||B.f-I.f});n<i;++n){var b=a[n].s;if(m[b]>t)p+=y-(1<<x-m[b]),m[b]=t;else break}for(p>>=v;p>0;){var w=a[n].s;m[w]<t?p-=1<<t-m[w]++-1:++n}for(;n>=0&&p;--n){var j=a[n].s;m[j]==t&&(--m[j],++p)}x=t}return{t:new Ac(m),l:x}},bE=function(e,t,r){return e.s==-1?Math.max(bE(e.l,t,r+1),bE(e.r,t,r+1)):t[e.s]=r},XR=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Co(++t),n=0,i=e[0],a=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:r.subarray(0,n),n:t}},z0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},yY=function(e,t,r){var n=r.length,i=xY(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},ZR=function(e,t,r,n,i,a,o,l,c,d,u){Pd(t,u++,r),++i[256];for(var A=oB(i,15),f=A.t,m=A.l,x=oB(a,15),p=x.t,v=x.l,y=XR(f),b=y.c,w=y.n,j=XR(p),N=j.c,B=j.n,I=new Co(19),P=0;P<b.length;++P)++I[b[P]&31];for(var P=0;P<N.length;++P)++I[N[P]&31];for(var T=oB(I,7),F=T.t,E=T.l,k=19;k>4&&!F[qR[k-1]];--k);var M=d+5<<3,U=z0(i,Df)+z0(a,Q2)+o,W=z0(i,f)+z0(a,p)+o+14+3*k+z0(I,F)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&M<=U&&M<=W)return yY(t,u,e.subarray(c,c+d));var Y,Q,z,te;if(Pd(t,u,1+(W<U)),u+=2,W<U){Y=zx(f,m,0),Q=f,z=zx(p,v,0),te=p;var re=zx(F,E,0);Pd(t,u,w-257),Pd(t,u+5,B-1),Pd(t,u+10,k-4),u+=14;for(var P=0;P<k;++P)Pd(t,u+3*P,F[qR[P]]);u+=3*k;for(var J=[b,N],H=0;H<2;++H)for(var Z=J[H],P=0;P<Z.length;++P){var K=Z[P]&31;Pd(t,u,re[K]),u+=F[K],K>15&&(Pd(t,u,Z[P]>>5&127),u+=Z[P]>>12)}}else Y=m_e,Q=Df,z=p_e,te=Q2;for(var P=0;P<l;++P){var ie=n[P];if(ie>255){var K=ie>>18&31;H0(t,u,Y[K+257]),u+=Q[K+257],K>7&&(Pd(t,u,ie>>23&31),u+=X6[K]);var oe=ie&31;H0(t,u,z[oe]),u+=te[oe],oe>3&&(H0(t,u,ie>>5&8191),u+=Z6[oe])}else H0(t,u,Y[ie]),u+=Q[ie]}return H0(t,u,Y[256]),u+Q[256]},x_e=new Y6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vY=new Ac(0),y_e=function(e,t,r,n,i,a){var o=a.z||e.length,l=new Ac(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),d=a.l,u=(a.r||0)&7;if(t){u&&(c[0]=a.r>>3);for(var A=x_e[t-1],f=A>>13,m=A&8191,x=(1<<r)-1,p=a.p||new Co(32768),v=a.h||new Co(x+1),y=Math.ceil(r/3),b=2*y,w=function(Se){return(e[Se]^e[Se+1]<<y^e[Se+2]<<b)&x},j=new Y6(25e3),N=new Co(288),B=new Co(32),I=0,P=0,T=a.i||0,F=0,E=a.w||0,k=0;T+2<o;++T){var M=w(T),U=T&32767,W=v[M];if(p[U]=W,v[M]=U,E<=T){var Y=o-T;if((I>7e3||F>24576)&&(Y>423||!d)){u=ZR(e,c,0,j,N,B,P,F,k,T-k,u),F=I=P=0,k=T;for(var Q=0;Q<286;++Q)N[Q]=0;for(var Q=0;Q<30;++Q)B[Q]=0}var z=2,te=0,re=m,J=U-W&32767;if(Y>2&&M==w(T-J))for(var H=Math.min(f,Y)-1,Z=Math.min(32767,T),K=Math.min(258,Y);J<=Z&&--re&&U!=W;){if(e[T+z]==e[T+z-J]){for(var ie=0;ie<K&&e[T+ie]==e[T+ie-J];++ie);if(ie>z){if(z=ie,te=J,ie>H)break;for(var oe=Math.min(J,ie-2),he=0,Q=0;Q<oe;++Q){var pe=T-J+Q&32767,ee=p[pe],fe=pe-ee&32767;fe>he&&(he=fe,W=pe)}}}U=W,W=p[U],J+=U-W&32767}if(te){j[F++]=268435456|yE[z]<<18|YR[te];var ue=yE[z]&31,V=YR[te]&31;P+=X6[ue]+Z6[V],++N[257+ue],++B[V],E=T+z,++I}else j[F++]=e[T],++N[e[T]]}}for(T=Math.max(T,E);T<o;++T)j[F++]=e[T],++N[e[T]];u=ZR(e,c,d,j,N,B,P,F,k,T-k,u),d||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=v,a.p=p,a.i=T,a.w=E)}else{for(var T=a.w||0;T<o+d;T+=65535){var ve=T+65535;ve>=o&&(c[u/8|0]=d,ve=o),u=yY(c,u+1,e.subarray(T,ve))}a.i=o}return g_e(l,0,n+xY(u)+i)},bY=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},v_e=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Ac(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return y_e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},wY=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},b_e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=bY();i.p(t.dictionary),wY(e,2,i.d())}};function wE(e,t){t||(t={});var r=bY();r.p(e);var n=v_e(e,t,t.dictionary?6:2,4);return b_e(n,t),wY(n,n.length-4,r.d()),n}var w_e=typeof TextDecoder<"u"&&new TextDecoder,j_e=0;try{w_e.decode(vY,{stream:!0}),j_e=1}catch{}function N_e(e){if(Array.isArray(e))return e}function __e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function JR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function C_e(e,t){if(e){if(typeof e=="string")return JR(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JR(e,t):void 0}}function B_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eD(e,t){return N_e(e)||__e(e,t)||C_e(e,t)||B_e()}function tD(e,t="utf8"){return new TextDecoder(t).decode(e)}const S_e=new TextEncoder;function E_e(e){return S_e.encode(e)}const k_e=1024*8,P_e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),lB={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class J6{constructor(t=k_e,r={}){mn(this,"buffer");mn(this,"byteLength");mn(this,"byteOffset");mn(this,"length");mn(this,"offset");mn(this,"lastWrittenByte");mn(this,"littleEndian");mn(this,"_data");mn(this,"_mark");mn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof J6)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=lB[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===P_e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new lB[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new lB[r](a);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return tD(this.readBytes(t))}decodeText(t=1,r="utf8"){return tD(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(E_e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Gg(e){let t=e.length;for(;--t>=0;)e[t]=0}const I_e=3,T_e=258,jY=29,O_e=256,L_e=O_e+1+jY,NY=30,F_e=512,U_e=new Array((L_e+2)*2);Gg(U_e);const R_e=new Array(NY*2);Gg(R_e);const D_e=new Array(F_e);Gg(D_e);const M_e=new Array(T_e-I_e+1);Gg(M_e);const Q_e=new Array(jY);Gg(Q_e);const $_e=new Array(NY);Gg($_e);const H_e=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var jE=H_e;const z_e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},V_e=new Uint32Array(z_e()),K_e=(e,t,r,n)=>{const i=V_e,a=n+r;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Rc=K_e,NE={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_Y={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const W_e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var G_e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)W_e(r,n)&&(e[n]=r[n])}}return e},q_e=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];r.set(o,i),i+=o.length}return r},CY={assign:G_e,flattenChunks:q_e};let BY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{BY=!1}const Ey=new Uint8Array(256);for(let e=0;e<256;e++)Ey[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ey[254]=Ey[254]=1;var Y_e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,o=e.length,l=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const X_e=(e,t)=>{if(t<65534&&e.subarray&&BY)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Z_e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){a[i++]=o;continue}let l=Ey[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return X_e(a,i)},J_e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Ey[e[r]]>t?r:t},_E={string2buf:Y_e,buf2string:Z_e,utf8border:J_e};function eCe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var tCe=eCe;const bw=16209,rCe=16191;var nCe=function(t,r){let n,i,a,o,l,c,d,u,A,f,m,x,p,v,y,b,w,j,N,B,I,P,T,F;const E=t.state;n=t.next_in,T=t.input,i=n+(t.avail_in-5),a=t.next_out,F=t.output,o=a-(r-t.avail_out),l=a+(t.avail_out-257),c=E.dmax,d=E.wsize,u=E.whave,A=E.wnext,f=E.window,m=E.hold,x=E.bits,p=E.lencode,v=E.distcode,y=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;e:do{x<15&&(m+=T[n++]<<x,x+=8,m+=T[n++]<<x,x+=8),w=p[m&y];t:for(;;){if(j=w>>>24,m>>>=j,x-=j,j=w>>>16&255,j===0)F[a++]=w&65535;else if(j&16){N=w&65535,j&=15,j&&(x<j&&(m+=T[n++]<<x,x+=8),N+=m&(1<<j)-1,m>>>=j,x-=j),x<15&&(m+=T[n++]<<x,x+=8,m+=T[n++]<<x,x+=8),w=v[m&b];r:for(;;){if(j=w>>>24,m>>>=j,x-=j,j=w>>>16&255,j&16){if(B=w&65535,j&=15,x<j&&(m+=T[n++]<<x,x+=8,x<j&&(m+=T[n++]<<x,x+=8)),B+=m&(1<<j)-1,B>c){t.msg="invalid distance too far back",E.mode=bw;break e}if(m>>>=j,x-=j,j=a-o,B>j){if(j=B-j,j>u&&E.sane){t.msg="invalid distance too far back",E.mode=bw;break e}if(I=0,P=f,A===0){if(I+=d-j,j<N){N-=j;do F[a++]=f[I++];while(--j);I=a-B,P=F}}else if(A<j){if(I+=d+A-j,j-=A,j<N){N-=j;do F[a++]=f[I++];while(--j);if(I=0,A<N){j=A,N-=j;do F[a++]=f[I++];while(--j);I=a-B,P=F}}}else if(I+=A-j,j<N){N-=j;do F[a++]=f[I++];while(--j);I=a-B,P=F}for(;N>2;)F[a++]=P[I++],F[a++]=P[I++],F[a++]=P[I++],N-=3;N&&(F[a++]=P[I++],N>1&&(F[a++]=P[I++]))}else{I=a-B;do F[a++]=F[I++],F[a++]=F[I++],F[a++]=F[I++],N-=3;while(N>2);N&&(F[a++]=F[I++],N>1&&(F[a++]=F[I++]))}}else if(j&64){t.msg="invalid distance code",E.mode=bw;break e}else{w=v[(w&65535)+(m&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){E.mode=rCe;break e}else{t.msg="invalid literal/length code",E.mode=bw;break e}else{w=p[(w&65535)+(m&(1<<j)-1)];continue t}break}}while(n<i&&a<l);N=x>>3,n-=N,x-=N<<3,m&=(1<<x)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<l?257+(l-a):257-(a-l),E.hold=m,E.bits=x};const Fm=15,rD=852,nD=592,sD=0,cB=1,iD=2,sCe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),iCe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),aCe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oCe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),lCe=(e,t,r,n,i,a,o,l)=>{const c=l.bits;let d=0,u=0,A=0,f=0,m=0,x=0,p=0,v=0,y=0,b=0,w,j,N,B,I,P=null,T;const F=new Uint16Array(Fm+1),E=new Uint16Array(Fm+1);let k=null,M,U,W;for(d=0;d<=Fm;d++)F[d]=0;for(u=0;u<n;u++)F[t[r+u]]++;for(m=c,f=Fm;f>=1&&F[f]===0;f--);if(m>f&&(m=f),f===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(A=1;A<f&&F[A]===0;A++);for(m<A&&(m=A),v=1,d=1;d<=Fm;d++)if(v<<=1,v-=F[d],v<0)return-1;if(v>0&&(e===sD||f!==1))return-1;for(E[1]=0,d=1;d<Fm;d++)E[d+1]=E[d]+F[d];for(u=0;u<n;u++)t[r+u]!==0&&(o[E[t[r+u]]++]=u);if(e===sD?(P=k=o,T=20):e===cB?(P=sCe,k=iCe,T=257):(P=aCe,k=oCe,T=0),b=0,u=0,d=A,I=a,x=m,p=0,N=-1,y=1<<m,B=y-1,e===cB&&y>rD||e===iD&&y>nD)return 1;for(;;){M=d-p,o[u]+1<T?(U=0,W=o[u]):o[u]>=T?(U=k[o[u]-T],W=P[o[u]-T]):(U=96,W=0),w=1<<d-p,j=1<<x,A=j;do j-=w,i[I+(b>>p)+j]=M<<24|U<<16|W|0;while(j!==0);for(w=1<<d-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,u++,--F[d]===0){if(d===f)break;d=t[r+o[u]]}if(d>m&&(b&B)!==N){for(p===0&&(p=m),I+=A,x=d-p,v=1<<x;x+p<f&&(v-=F[x+p],!(v<=0));)x++,v<<=1;if(y+=1<<x,e===cB&&y>rD||e===iD&&y>nD)return 1;N=b&B,i[N]=m<<24|x<<16|I-a|0}}return b!==0&&(i[I+b]=d-p<<24|64<<16|0),l.bits=m,0};var Vx=lCe;const cCe=0,SY=1,EY=2,{Z_FINISH:aD,Z_BLOCK:dCe,Z_TREES:ww,Z_OK:Mf,Z_STREAM_END:uCe,Z_NEED_DICT:hCe,Z_STREAM_ERROR:yl,Z_DATA_ERROR:kY,Z_MEM_ERROR:PY,Z_BUF_ERROR:ACe,Z_DEFLATED:oD}=_Y,a5=16180,lD=16181,cD=16182,dD=16183,uD=16184,hD=16185,AD=16186,fD=16187,mD=16188,pD=16189,$2=16190,Id=16191,dB=16192,gD=16193,uB=16194,xD=16195,yD=16196,vD=16197,bD=16198,jw=16199,Nw=16200,wD=16201,jD=16202,ND=16203,_D=16204,CD=16205,hB=16206,BD=16207,SD=16208,Jn=16209,IY=16210,TY=16211,fCe=852,mCe=592,pCe=15,gCe=pCe,ED=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function xCe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const im=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<a5||t.mode>TY?1:0},OY=e=>{if(im(e))return yl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=a5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(fCe),t.distcode=t.distdyn=new Int32Array(mCe),t.sane=1,t.back=-1,Mf},LY=e=>{if(im(e))return yl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,OY(e)},FY=(e,t)=>{let r;if(im(e))return yl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?yl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,LY(e))},UY=(e,t)=>{if(!e)return yl;const r=new xCe;e.state=r,r.strm=e,r.window=null,r.mode=a5;const n=FY(e,t);return n!==Mf&&(e.state=null),n},yCe=e=>UY(e,gCe);let kD=!0,AB,fB;const vCe=e=>{if(kD){AB=new Int32Array(512),fB=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Vx(SY,e.lens,0,288,AB,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Vx(EY,e.lens,0,32,fB,0,e.work,{bits:5}),kD=!1}e.lencode=AB,e.lenbits=9,e.distcode=fB,e.distbits=5},RY=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},bCe=(e,t)=>{let r,n,i,a,o,l,c,d,u,A,f,m,x,p,v=0,y,b,w,j,N,B,I,P;const T=new Uint8Array(4);let F,E;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(im(e)||!e.output||!e.input&&e.avail_in!==0)return yl;r=e.state,r.mode===Id&&(r.mode=dB),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,A=l,f=c,P=Mf;e:for(;;)switch(r.mode){case a5:if(r.wrap===0){r.mode=dB;break}for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=d&255,T[1]=d>>>8&255,r.check=Rc(r.check,T,2,0),d=0,u=0,r.mode=lD;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=Jn;break}if((d&15)!==oD){e.msg="unknown compression method",r.mode=Jn;break}if(d>>>=4,u-=4,I=(d&15)+8,r.wbits===0&&(r.wbits=I),I>15||I>r.wbits){e.msg="invalid window size",r.mode=Jn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?pD:Id,d=0,u=0;break;case lD:for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==oD){e.msg="unknown compression method",r.mode=Jn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Jn;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Rc(r.check,T,2,0)),d=0,u=0,r.mode=cD;case cD:for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,T[2]=d>>>16&255,T[3]=d>>>24&255,r.check=Rc(r.check,T,4,0)),d=0,u=0,r.mode=dD;case dD:for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Rc(r.check,T,2,0)),d=0,u=0,r.mode=uD;case uD:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Rc(r.check,T,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=hD;case hD:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+m),I)),r.flags&512&&r.wrap&4&&(r.check=Rc(r.check,n,m,a)),l-=m,a+=m,r.length-=m),r.length))break e;r.length=0,r.mode=AD;case AD:if(r.flags&2048){if(l===0)break e;m=0;do I=n[a+m++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I));while(I&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Rc(r.check,n,m,a)),l-=m,a+=m,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=fD;case fD:if(r.flags&4096){if(l===0)break e;m=0;do I=n[a+m++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I));while(I&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Rc(r.check,n,m,a)),l-=m,a+=m,I)break e}else r.head&&(r.head.comment=null);r.mode=mD;case mD:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Jn;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Id;break;case pD:for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}e.adler=r.check=ED(d),d=0,u=0,r.mode=$2;case $2:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=u,hCe;e.adler=r.check=1,r.mode=Id;case Id:if(t===dCe||t===ww)break e;case dB:if(r.last){d>>>=u&7,u-=u&7,r.mode=hB;break}for(;u<3;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=gD;break;case 1:if(vCe(r),r.mode=jw,t===ww){d>>>=2,u-=2;break e}break;case 2:r.mode=yD;break;case 3:e.msg="invalid block type",r.mode=Jn}d>>>=2,u-=2;break;case gD:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Jn;break}if(r.length=d&65535,d=0,u=0,r.mode=uB,t===ww)break e;case uB:r.mode=xD;case xD:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;i.set(n.subarray(a,a+m),o),l-=m,a+=m,c-=m,o+=m,r.length-=m;break}r.mode=Id;break;case yD:for(;u<14;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Jn;break}r.have=0,r.mode=vD;case vD:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.lens[k[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[k[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},P=Vx(cCe,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,P){e.msg="invalid code lengths set",r.mode=Jn;break}r.have=0,r.mode=bD;case bD:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[d&(1<<r.lenbits)-1],y=v>>>24,b=v>>>16&255,w=v&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(w<16)d>>>=y,u-=y,r.lens[r.have++]=w;else{if(w===16){for(E=y+2;u<E;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(d>>>=y,u-=y,r.have===0){e.msg="invalid bit length repeat",r.mode=Jn;break}I=r.lens[r.have-1],m=3+(d&3),d>>>=2,u-=2}else if(w===17){for(E=y+3;u<E;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=y,u-=y,I=0,m=3+(d&7),d>>>=3,u-=3}else{for(E=y+7;u<E;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=y,u-=y,I=0,m=11+(d&127),d>>>=7,u-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Jn;break}for(;m--;)r.lens[r.have++]=I}}if(r.mode===Jn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Jn;break}if(r.lenbits=9,F={bits:r.lenbits},P=Vx(SY,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,P){e.msg="invalid literal/lengths set",r.mode=Jn;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},P=Vx(EY,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,P){e.msg="invalid distances set",r.mode=Jn;break}if(r.mode=jw,t===ww)break e;case jw:r.mode=Nw;case Nw:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=u,nCe(e,f),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,r.mode===Id&&(r.back=-1);break}for(r.back=0;v=r.lencode[d&(1<<r.lenbits)-1],y=v>>>24,b=v>>>16&255,w=v&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(b&&!(b&240)){for(j=y,N=b,B=w;v=r.lencode[B+((d&(1<<j+N)-1)>>j)],y=v>>>24,b=v>>>16&255,w=v&65535,!(j+y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=j,u-=j,r.back+=j}if(d>>>=y,u-=y,r.back+=y,r.length=w,b===0){r.mode=CD;break}if(b&32){r.back=-1,r.mode=Id;break}if(b&64){e.msg="invalid literal/length code",r.mode=Jn;break}r.extra=b&15,r.mode=wD;case wD:if(r.extra){for(E=r.extra;u<E;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=jD;case jD:for(;v=r.distcode[d&(1<<r.distbits)-1],y=v>>>24,b=v>>>16&255,w=v&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(!(b&240)){for(j=y,N=b,B=w;v=r.distcode[B+((d&(1<<j+N)-1)>>j)],y=v>>>24,b=v>>>16&255,w=v&65535,!(j+y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=j,u-=j,r.back+=j}if(d>>>=y,u-=y,r.back+=y,b&64){e.msg="invalid distance code",r.mode=Jn;break}r.offset=w,r.extra=b&15,r.mode=ND;case ND:if(r.extra){for(E=r.extra;u<E;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Jn;break}r.mode=_D;case _D:if(c===0)break e;if(m=f-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Jn;break}m>r.wnext?(m-=r.wnext,x=r.wsize-m):x=r.wnext-m,m>r.length&&(m=r.length),p=r.window}else p=i,x=o-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do i[o++]=p[x++];while(--m);r.length===0&&(r.mode=Nw);break;case CD:if(c===0)break e;i[o++]=r.length,c--,r.mode=Nw;break;case hB:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[a++]<<u,u+=8}if(f-=c,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?Rc(r.check,i,f,o-f):jE(r.check,i,f,o-f)),f=c,r.wrap&4&&(r.flags?d:ED(d))!==r.check){e.msg="incorrect data check",r.mode=Jn;break}d=0,u=0}r.mode=BD;case BD:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Jn;break}d=0,u=0}r.mode=SD;case SD:P=uCe;break e;case Jn:P=kY;break e;case IY:return PY;case TY:default:return yl}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=u,(r.wsize||f!==e.avail_out&&r.mode<Jn&&(r.mode<hB||t!==aD))&&RY(e,e.output,e.next_out,f-e.avail_out),A-=e.avail_in,f-=e.avail_out,e.total_in+=A,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?Rc(r.check,i,f,e.next_out-f):jE(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Id?128:0)+(r.mode===jw||r.mode===uB?256:0),(A===0&&f===0||t===aD)&&P===Mf&&(P=ACe),P},wCe=e=>{if(im(e))return yl;let t=e.state;return t.window&&(t.window=null),e.state=null,Mf},jCe=(e,t)=>{if(im(e))return yl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Mf):yl},NCe=(e,t)=>{const r=t.length;let n,i,a;return im(e)||(n=e.state,n.wrap!==0&&n.mode!==$2)?yl:n.mode===$2&&(i=1,i=jE(i,t,r,0),i!==n.check)?kY:(a=RY(e,t,r,r),a?(n.mode=IY,PY):(n.havedict=1,Mf))};var _Ce=LY,CCe=FY,BCe=OY,SCe=yCe,ECe=UY,kCe=bCe,PCe=wCe,ICe=jCe,TCe=NCe,OCe="pako inflate (from Nodeca project)",Ud={inflateReset:_Ce,inflateReset2:CCe,inflateResetKeep:BCe,inflateInit:SCe,inflateInit2:ECe,inflate:kCe,inflateEnd:PCe,inflateGetHeader:ICe,inflateSetDictionary:TCe,inflateInfo:OCe};function LCe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var FCe=LCe;const DY=Object.prototype.toString,{Z_NO_FLUSH:UCe,Z_FINISH:RCe,Z_OK:ky,Z_STREAM_END:mB,Z_NEED_DICT:pB,Z_STREAM_ERROR:DCe,Z_DATA_ERROR:PD,Z_MEM_ERROR:MCe}=_Y;function Vv(e){this.options=CY.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tCe,this.strm.avail_out=0;let r=Ud.inflateInit2(this.strm,t.windowBits);if(r!==ky)throw new Error(NE[r]);if(this.header=new FCe,Ud.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=_E.string2buf(t.dictionary):DY.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ud.inflateSetDictionary(this.strm,t.dictionary),r!==ky)))throw new Error(NE[r])}Vv.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?RCe:UCe,DY.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Ud.inflate(r,o),a===pB&&i&&(a=Ud.inflateSetDictionary(r,i),a===ky?a=Ud.inflate(r,o):a===PD&&(a=pB));r.avail_in>0&&a===mB&&r.state.wrap>0&&e[r.next_in]!==0;)Ud.inflateReset(r),a=Ud.inflate(r,o);switch(a){case DCe:case PD:case pB:case MCe:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===mB))if(this.options.to==="string"){let c=_E.utf8border(r.output,r.next_out),d=r.next_out-c,u=_E.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===ky&&l===0)){if(a===mB)return a=Ud.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Vv.prototype.onData=function(e){this.chunks.push(e)};Vv.prototype.onEnd=function(e){e===ky&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=CY.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function QCe(e,t){const r=new Vv(t);if(r.push(e),r.err)throw r.msg||NE[r.err];return r.result}var $Ce=Vv,HCe=QCe,zCe={Inflate:$Ce,inflate:HCe};const{Inflate:VCe,inflate:KCe}=zCe;var ID=VCe,WCe=KCe;const MY=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;MY[e]=t}const TD=4294967295;function GCe(e,t,r){let n=e;for(let i=0;i<r;i++)n=MY[(n^t[i])&255]^n>>>8;return n}function qCe(e,t){return(GCe(TD,e,t)^TD)>>>0}function OD(e,t,r){const n=e.readUint32(),i=qCe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function QY(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function $Y(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function HY(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function zY(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function VY(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+YCe(t[a-i],r[a],r[a-i])&255}}function YCe(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-r);return i<=a&&i<=o?e:a<=o?t:r}function XCe(e,t,r,n,i,a){switch(e){case 0:QY(t,r,i);break;case 1:$Y(t,r,i,a);break;case 2:HY(t,r,n,i);break;case 3:zY(t,r,n,i,a);break;case 4:VY(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const ZCe=new Uint16Array([255]),JCe=new Uint8Array(ZCe.buffer),eBe=JCe[0]===255;function tBe(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let d=0;for(let u=0;u<7;u++){const A=o[u],f=Math.ceil((r-A.x)/A.xStep),m=Math.ceil((n-A.y)/A.yStep);if(f<=0||m<=0)continue;const x=f*l,p=new Uint8Array(x);for(let v=0;v<m;v++){const y=t[d++],b=t.subarray(d,d+x);d+=x;const w=new Uint8Array(x);XCe(y,b,w,p,x,l),p.set(w);for(let j=0;j<f;j++){const N=A.x+j*A.xStep,B=A.y+v*A.yStep;if(!(N>=r||B>=n))for(let I=0;I<l;I++)c[(B*r+N)*l+I]=w[j*l+I]}}}if(a===16){const u=new Uint16Array(c.buffer);if(eBe)for(let A=0;A<u.length;A++)u[A]=rBe(u[A]);return u}else return c}function rBe(e){return(e&255)<<8|e>>8&255}const nBe=new Uint16Array([255]),sBe=new Uint8Array(nBe.buffer),iBe=sBe[0]===255,aBe=new Uint8Array(0);function LD(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let d=aBe,u=0,A,f;for(let m=0;m<n;m++){switch(A=t.subarray(u+1,u+1+l),f=c.subarray(m*l,(m+1)*l),t[u]){case 0:QY(A,f,l);break;case 1:$Y(A,f,l,o);break;case 2:HY(A,f,d,l);break;case 3:zY(A,f,d,l,o);break;case 4:VY(A,f,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=f,u+=l+1}if(a===16){const m=new Uint16Array(c.buffer);if(iBe)for(let x=0;x<m.length;x++)m[x]=oBe(m[x]);return m}else return c}function oBe(e){return(e&255)<<8|e>>8&255}const B1=Uint8Array.of(137,80,78,71,13,10,26,10);function FD(e){if(!lBe(e.readBytes(B1.length)))throw new Error("wrong PNG signature")}function lBe(e){if(e.length<B1.length)return!1;for(let t=0;t<B1.length;t++)if(e[t]!==B1[t])return!1;return!0}const cBe="tEXt",dBe=0,KY=new TextDecoder("latin1");function uBe(e){if(ABe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const hBe=/^[\u0000-\u00FF]*$/;function ABe(e){if(!hBe.test(e))throw new Error("invalid latin1 text")}function fBe(e,t,r){const n=WY(t);e[n]=mBe(t,r-n.length-1)}function WY(e){for(e.mark();e.readByte()!==dBe;);const t=e.offset;e.reset();const r=KY.decode(e.readBytes(t-e.offset-1));return e.skip(1),uBe(r),r}function mBe(e,t){return KY.decode(e.readBytes(t))}const po={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},gB={UNKNOWN:-1,DEFLATE:0},UD={UNKNOWN:-1,ADAPTIVE:0},xB={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_w={NONE:0,BACKGROUND:1,PREVIOUS:2},yB={SOURCE:0,OVER:1};class pBe extends J6{constructor(r,n={}){super(r);mn(this,"_checkCrc");mn(this,"_inflator");mn(this,"_png");mn(this,"_apng");mn(this,"_end");mn(this,"_hasPalette");mn(this,"_palette");mn(this,"_hasTransparency");mn(this,"_transparency");mn(this,"_compressionMethod");mn(this,"_filterMethod");mn(this,"_interlaceMethod");mn(this,"_colorType");mn(this,"_isAnimated");mn(this,"_numberOfFrames");mn(this,"_numberOfPlays");mn(this,"_frames");mn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new ID,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=gB.UNKNOWN,this._filterMethod=UD.UNKNOWN,this._interlaceMethod=xB.UNKNOWN,this._colorType=po.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(FD(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(FD(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case cBe:fBe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?OD(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?OD(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=gBe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case po.GREYSCALE:i=1;break;case po.TRUECOLOUR:i=3;break;case po.INDEXED_COLOUR:i=1;break;case po.GREYSCALE_ALPHA:i=2;break;case po.TRUECOLOUR_ALPHA:i=4;break;case po.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==gB.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case po.GREYSCALE:case po.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case po.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case po.UNKNOWN:case po.GREYSCALE_ALPHA:case po.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=WY(this),i=this.readUint8();if(i!==gB.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:WCe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=LD({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case _w.NONE:break;case _w.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case _w.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case yB.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=n.data[d+u]}break;case yB.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let u=0;u<this._png.channels;u++){const A=n.data[d+this._png.channels-1]/i,f=u%(this._png.channels-1)===0?1:n.data[d+u],m=Math.floor(A*f+(1-A)*r.data[c+u]);r.data[c+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==UD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===xB.NO_INTERLACE)this._png.data=LD({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===xB.ADAM7)this._png.data=tBe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_w.NONE,blendOp:yB.SOURCE,data:r}),this._inflator=new ID,this._writingDataChunks=!1}}function gBe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var RD;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(RD||(RD={}));function xBe(e,t){return new pBe(e,t).decode()}var hr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function vB(){hr.console&&typeof hr.console.log=="function"&&hr.console.log.apply(hr.console,arguments)}var kn={log:vB,warn:function(e){hr.console&&(typeof hr.console.warn=="function"?hr.console.warn.apply(hr.console,arguments):vB.call(null,arguments))},error:function(e){hr.console&&(typeof hr.console.error=="function"?hr.console.error.apply(hr.console,arguments):vB(e))}};function bB(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){DA(n.response,t,r)},n.onerror=function(){kn.error("could not download file")},n.send()}function DD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Cw(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var DA=hr.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==hr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=hr.URL||hr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?DD(i.href)?bB(e,t,r):Cw(i,i.target="_blank"):Cw(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Cw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(DD(e))bB(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Cw(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:pn(a)!=="object"&&(kn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return bB(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(hr.HTMLElement)||hr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=hr.URL||hr.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function GY(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var S1=hr.atob.bind(hr),MD=hr.btoa.bind(hr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function wB(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Gi(r,n,i,a,t[0],7,-680876936),a=Gi(a,r,n,i,t[1],12,-389564586),i=Gi(i,a,r,n,t[2],17,606105819),n=Gi(n,i,a,r,t[3],22,-1044525330),r=Gi(r,n,i,a,t[4],7,-176418897),a=Gi(a,r,n,i,t[5],12,1200080426),i=Gi(i,a,r,n,t[6],17,-1473231341),n=Gi(n,i,a,r,t[7],22,-45705983),r=Gi(r,n,i,a,t[8],7,1770035416),a=Gi(a,r,n,i,t[9],12,-1958414417),i=Gi(i,a,r,n,t[10],17,-42063),n=Gi(n,i,a,r,t[11],22,-1990404162),r=Gi(r,n,i,a,t[12],7,1804603682),a=Gi(a,r,n,i,t[13],12,-40341101),i=Gi(i,a,r,n,t[14],17,-1502002290),r=qi(r,n=Gi(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=qi(a,r,n,i,t[6],9,-1069501632),i=qi(i,a,r,n,t[11],14,643717713),n=qi(n,i,a,r,t[0],20,-373897302),r=qi(r,n,i,a,t[5],5,-701558691),a=qi(a,r,n,i,t[10],9,38016083),i=qi(i,a,r,n,t[15],14,-660478335),n=qi(n,i,a,r,t[4],20,-405537848),r=qi(r,n,i,a,t[9],5,568446438),a=qi(a,r,n,i,t[14],9,-1019803690),i=qi(i,a,r,n,t[3],14,-187363961),n=qi(n,i,a,r,t[8],20,1163531501),r=qi(r,n,i,a,t[13],5,-1444681467),a=qi(a,r,n,i,t[2],9,-51403784),i=qi(i,a,r,n,t[7],14,1735328473),r=Yi(r,n=qi(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Yi(a,r,n,i,t[8],11,-2022574463),i=Yi(i,a,r,n,t[11],16,1839030562),n=Yi(n,i,a,r,t[14],23,-35309556),r=Yi(r,n,i,a,t[1],4,-1530992060),a=Yi(a,r,n,i,t[4],11,1272893353),i=Yi(i,a,r,n,t[7],16,-155497632),n=Yi(n,i,a,r,t[10],23,-1094730640),r=Yi(r,n,i,a,t[13],4,681279174),a=Yi(a,r,n,i,t[0],11,-358537222),i=Yi(i,a,r,n,t[3],16,-722521979),n=Yi(n,i,a,r,t[6],23,76029189),r=Yi(r,n,i,a,t[9],4,-640364487),a=Yi(a,r,n,i,t[12],11,-421815835),i=Yi(i,a,r,n,t[15],16,530742520),r=Xi(r,n=Yi(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Xi(a,r,n,i,t[7],10,1126891415),i=Xi(i,a,r,n,t[14],15,-1416354905),n=Xi(n,i,a,r,t[5],21,-57434055),r=Xi(r,n,i,a,t[12],6,1700485571),a=Xi(a,r,n,i,t[3],10,-1894986606),i=Xi(i,a,r,n,t[10],15,-1051523),n=Xi(n,i,a,r,t[1],21,-2054922799),r=Xi(r,n,i,a,t[8],6,1873313359),a=Xi(a,r,n,i,t[15],10,-30611744),i=Xi(i,a,r,n,t[6],15,-1560198380),n=Xi(n,i,a,r,t[13],21,1309151649),r=Xi(r,n,i,a,t[4],6,-145523070),a=Xi(a,r,n,i,t[11],10,-1120210379),i=Xi(i,a,r,n,t[2],15,718787259),n=Xi(n,i,a,r,t[9],21,-343485551),e[0]=jh(r,e[0]),e[1]=jh(n,e[1]),e[2]=jh(i,e[2]),e[3]=jh(a,e[3])}function o5(e,t,r,n,i,a){return t=jh(jh(t,e),jh(n,a)),jh(t<<i|t>>>32-i,r)}function Gi(e,t,r,n,i,a,o){return o5(t&r|~t&n,e,t,i,a,o)}function qi(e,t,r,n,i,a,o){return o5(t&n|r&~n,e,t,i,a,o)}function Yi(e,t,r,n,i,a,o){return o5(t^r^n,e,t,i,a,o)}function Xi(e,t,r,n,i,a,o){return o5(r^(t|~n),e,t,i,a,o)}function qY(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)wB(n,yBe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(wB(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,wB(n,i),n}function yBe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var QD="0123456789abcdef".split("");function vBe(e){for(var t="",r=0;r<4;r++)t+=QD[e>>8*r+4&15]+QD[e>>8*r&15];return t}function bBe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function CE(e){return qY(e).map(bBe).join("")}var wBe=function(e){for(var t=0;t<e.length;t++)e[t]=vBe(e[t]);return e.join("")}(qY("hello"))!="5d41402abc4b2a76b9719d911017c592";function jh(e,t){if(wBe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function BE(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,n=l}else l=n;var A=t.length,f=0,m=0,x="";for(c=0;c<A;c++)m=(m+(u=l[f=(f+1)%256]))%256,l[f]=l[m],l[m]=u,o=l[(l[f]+l[m])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $D={print:4,modify:8,copy:16,"annot-forms":32};function Km(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if($D.perm!==void 0)throw new Error("Invalid permission: "+l);i+=$D[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=CE(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=BE(this.encryptionKey,this.padding)}function Wm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function HD(e){if(pn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(l){hr.console&&kn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function H2(e){if(!(this instanceof H2))return new H2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function YY(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function zA(e,t,r,n,i){if(!(this instanceof zA))return new zA(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,YY.call(this,n,i)}function hp(e,t,r,n,i){if(!(this instanceof hp))return new hp(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,YY.call(this,n,i)}function Yt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,d="S",u=null;pn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,f={},m={internal:{},__private__:{}};m.__private__.PubSub=HD;var x="1.3",p=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(R){x=R};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var y=m.__private__.getPageFormat=function(R){return v[R]};i=i||"a4";var b="compat",w="advanced",j=b;function N(){this.saveGraphicsState(),ne(new Ft(Ke,0,0,-Ke,0,bd()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),d="n",j=w}function B(){this.restoreGraphicsState(),d="S",j=b}var I=m.__private__.combineFontStyleAndFontWeight=function(R,se){if(R=="bold"&&se=="normal"||R=="bold"&&se==400||R=="normal"&&se=="italic"||R=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(R=se==400||se==="normal"?R==="italic"?"italic":"normal":se!=700&&se!=="bold"||R!=="normal"?(se==700?"bold":se)+""+R:"bold"),R};m.advancedAPI=function(R){var se=j===b;return se&&N.call(this),typeof R!="function"||(R(this),se&&B.call(this)),this},m.compatAPI=function(R){var se=j===w;return se&&B.call(this),typeof R!="function"||(R(this),se&&N.call(this)),this},m.isAdvancedAPI=function(){return j===w};var P,T=function(R){if(j!==w)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=m.roundToPrecision=m.__private__.roundToPrecision=function(R,se){var ye=t||se;if(isNaN(R)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(ye).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return F(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return F(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return F(R,16)};var E=m.f2=m.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return F(R,2)},k=m.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return F(R,3)},M=m.scale=m.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return j===b?R*Ke:j===w?R:void 0},U=function(R){return M(function(se){return j===b?bd()-se:j===w?se:void 0}(R))};m.__private__.setPrecision=m.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var W,Y="00000000000000000000000000000000",Q=m.__private__.getFileId=function(){return Y},z=m.__private__.setFileId=function(R){return Y=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Xn=new Km(u.userPermissions,u.userPassword,u.ownerPassword,Y)),Y};m.setFileId=function(R){return z(R),this},m.getFileId=function(){return Q()};var te=m.__private__.convertDateToPDFDate=function(R){var se=R.getTimezoneOffset(),ye=se<0?"+":"-",Ee=Math.floor(Math.abs(se/60)),Oe=Math.abs(se%60),We=[ye,K(Ee),"'",K(Oe),"'"].join("");return["D:",R.getFullYear(),K(R.getMonth()+1),K(R.getDate()),K(R.getHours()),K(R.getMinutes()),K(R.getSeconds()),We].join("")},re=m.__private__.convertPDFDateToDate=function(R){var se=parseInt(R.substr(2,4),10),ye=parseInt(R.substr(6,2),10)-1,Ee=parseInt(R.substr(8,2),10),Oe=parseInt(R.substr(10,2),10),We=parseInt(R.substr(12,2),10),ct=parseInt(R.substr(14,2),10);return new Date(se,ye,Ee,Oe,We,ct,0)},J=m.__private__.setCreationDate=function(R){var se;if(R===void 0&&(R=new Date),R instanceof Date)se=te(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=R}return W=se},H=m.__private__.getCreationDate=function(R){var se=W;return R==="jsDate"&&(se=re(W)),se};m.setCreationDate=function(R){return J(R),this},m.getCreationDate=function(R){return H(R)};var Z,K=m.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ie=m.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},oe=0,he=[],pe=[],ee=0,fe=[],ue=[],V=!1,ve=pe;m.__private__.setCustomOutputDestination=function(R){V=!0,ve=R};var Se=function(R){V||(ve=R)};m.__private__.resetCustomOutputDestination=function(){V=!1,ve=pe};var ne=m.__private__.out=function(R){return R=R.toString(),ee+=R.length+1,ve.push(R),ve},xe=m.__private__.write=function(R){return ne(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},Le=m.__private__.getArrayBuffer=function(R){for(var se=R.length,ye=new ArrayBuffer(se),Ee=new Uint8Array(ye);se--;)Ee[se]=R.charCodeAt(se);return ye},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ze};var Te=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(R){return Te=j===w?R/Ke:R,this};var lt,tt=m.__private__.getFontSize=m.getFontSize=function(){return j===b?Te:Te*Ke},ge=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(R){return ge=R,this},m.__private__.getR2L=m.getR2L=function(){return ge};var Be,Ne=m.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))lt=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');lt=R}else lt=parseInt(R,10)};m.__private__.getZoomMode=function(){return lt};var ke,Me=m.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Be=R};m.__private__.getPageMode=function(){return Be};var ot=m.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');ke=R};m.__private__.getLayoutMode=function(){return ke},m.__private__.setDisplayMode=m.setDisplayMode=function(R,se,ye){return Ne(R),ot(se),Me(ye),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(R){if(Object.keys(nt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[R]},m.__private__.getDocumentProperties=function(){return nt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(R){for(var se in nt)nt.hasOwnProperty(se)&&R[se]&&(nt[se]=R[se]);return this},m.__private__.setDocumentProperty=function(R,se){if(Object.keys(nt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[R]=se};var rt,Ke,st,at,gt,Bt={},_t={},Vt=[],yt={},At={},it={},dt={},et=null,Ve=0,Ct=[],Zt=new HD(m),Qn=e.hotfixes||[],tr={},qr={},_n=[],Ft=function R(se,ye,Ee,Oe,We,ct){if(!(this instanceof R))return new R(se,ye,Ee,Oe,We,ct);isNaN(se)&&(se=1),isNaN(ye)&&(ye=0),isNaN(Ee)&&(Ee=0),isNaN(Oe)&&(Oe=1),isNaN(We)&&(We=0),isNaN(ct)&&(ct=0),this._matrix=[se,ye,Ee,Oe,We,ct]};Object.defineProperty(Ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ft.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(R)},Ft.prototype.multiply=function(R){var se=R.sx*this.sx+R.shy*this.shx,ye=R.sx*this.shy+R.shy*this.sy,Ee=R.shx*this.sx+R.sy*this.shx,Oe=R.shx*this.shy+R.sy*this.sy,We=R.tx*this.sx+R.ty*this.shx+this.tx,ct=R.tx*this.shy+R.ty*this.sy+this.ty;return new Ft(se,ye,Ee,Oe,We,ct)},Ft.prototype.decompose=function(){var R=this.sx,se=this.shy,ye=this.shx,Ee=this.sy,Oe=this.tx,We=this.ty,ct=Math.sqrt(R*R+se*se),Rt=(R/=ct)*ye+(se/=ct)*Ee;ye-=R*Rt,Ee-=se*Rt;var zt=Math.sqrt(ye*ye+Ee*Ee);return Rt/=zt,R*(Ee/=zt)<se*(ye/=zt)&&(R=-R,se=-se,Rt=-Rt,ct=-ct),{scale:new Ft(ct,0,0,zt,0,0),translate:new Ft(1,0,0,1,Oe,We),rotate:new Ft(R,se,-se,R,0,0),skew:new Ft(1,0,Rt,1,0,0)}},Ft.prototype.toString=function(R){return this.join(" ")},Ft.prototype.inversed=function(){var R=this.sx,se=this.shy,ye=this.shx,Ee=this.sy,Oe=this.tx,We=this.ty,ct=1/(R*Ee-se*ye),Rt=Ee*ct,zt=-se*ct,dr=-ye*ct,pr=R*ct;return new Ft(Rt,zt,dr,pr,-Rt*Oe-dr*We,-zt*Oe-pr*We)},Ft.prototype.applyToPoint=function(R){var se=R.x*this.sx+R.y*this.shx+this.tx,ye=R.x*this.shy+R.y*this.sy+this.ty;return new El(se,ye)},Ft.prototype.applyToRectangle=function(R){var se=this.applyToPoint(R),ye=this.applyToPoint(new El(R.x+R.w,R.y+R.h));return new Fu(se.x,se.y,ye.x-se.x,ye.y-se.y)},Ft.prototype.clone=function(){var R=this.sx,se=this.shy,ye=this.shx,Ee=this.sy,Oe=this.tx,We=this.ty;return new Ft(R,se,ye,Ee,Oe,We)},m.Matrix=Ft;var ps=m.matrixMult=function(R,se){return se.multiply(R)},gs=new Ft(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=gs;var Tn=function(R,se){if(!At[R]){var ye=(se instanceof zA?"Sh":"P")+(Object.keys(yt).length+1).toString(10);se.id=ye,At[R]=ye,yt[ye]=se,Zt.publish("addPattern",se)}};m.ShadingPattern=zA,m.TilingPattern=hp,m.addShadingPattern=function(R,se){return T("addShadingPattern()"),Tn(R,se),this},m.beginTilingPattern=function(R){T("beginTilingPattern()"),xA(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},m.endTilingPattern=function(R,se){T("endTilingPattern()"),se.stream=ue[Z].join(`
`),Tn(R,se),Zt.publish("endTilingPattern",se),_n.pop().restore()};var ss,vr=m.__private__.newObject=function(){var R=St();return un(R,!0),R},St=m.__private__.newObjectDeferred=function(){return oe++,he[oe]=function(){return ee},oe},un=function(R,se){return se=typeof se=="boolean"&&se,he[R]=ee,se&&ne(R+" 0 obj"),R},ti=m.__private__.newAdditionalObject=function(){var R={objId:St(),content:""};return fe.push(R),R},Hs=St(),is=St(),as=m.__private__.decodeColorString=function(R){var se=R.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var ye=parseFloat(se[0]);se=[ye,ye,ye,"r"]}for(var Ee="#",Oe=0;Oe<3;Oe++)Ee+=("0"+Math.floor(255*parseFloat(se[Oe])).toString(16)).slice(-2);return Ee},os=m.__private__.encodeColorString=function(R){var se;typeof R=="string"&&(R={ch1:R});var ye=R.ch1,Ee=R.ch2,Oe=R.ch3,We=R.ch4,ct=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ye=="string"&&ye.charAt(0)!=="#"){var Rt=new GY(ye);if(Rt.ok)ye=Rt.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if(typeof ye=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),typeof ye=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var zt=parseInt(ye.substr(1),16);ye=zt>>16&255,Ee=zt>>8&255,Oe=255&zt}if(Ee===void 0||We===void 0&&ye===Ee&&Ee===Oe)se=typeof ye=="string"?ye+" "+ct[0]:R.precision===2?E(ye/255)+" "+ct[0]:k(ye/255)+" "+ct[0];else if(We===void 0||pn(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",ct[1]].join(" ");se=typeof ye=="string"?[ye,Ee,Oe,ct[1]].join(" "):R.precision===2?[E(ye/255),E(Ee/255),E(Oe/255),ct[1]].join(" "):[k(ye/255),k(Ee/255),k(Oe/255),ct[1]].join(" ")}else se=typeof ye=="string"?[ye,Ee,Oe,We,ct[2]].join(" "):R.precision===2?[E(ye),E(Ee),E(Oe),E(We),ct[2]].join(" "):[k(ye),k(Ee),k(Oe),k(We),ct[2]].join(" ");return se},Cn=m.__private__.getFilters=function(){return o},Ze=m.__private__.putStream=function(R){var se=(R=R||{}).data||"",ye=R.filters||Cn(),Ee=R.alreadyAppliedFilters||[],Oe=R.addLength1||!1,We=se.length,ct=R.objectId,Rt=function(ks){return ks};if(u!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Rt=Xn.encryptor(ct,0));var zt={};ye===!0&&(ye=["FlateEncode"]);var dr=R.additionalKeyValues||[],pr=(zt=Yt.API.processDataByFilters!==void 0?Yt.API.processDataByFilters(se,ye):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(zt.data.length!==0&&(dr.push({key:"Length",value:zt.data.length}),Oe===!0&&dr.push({key:"Length1",value:We})),pr.length!=0)if(pr.split("/").length-1==1)dr.push({key:"Filter",value:pr});else{dr.push({key:"Filter",value:"["+pr+"]"});for(var Fr=0;Fr<dr.length;Fr+=1)if(dr[Fr].key==="DecodeParms"){for(var Hn=[],ys=0;ys<zt.reverseChain.split("/").length-1;ys+=1)Hn.push("null");Hn.push(dr[Fr].value),dr[Fr].value="["+Hn.join(" ")+"]"}}ne("<<");for(var rn=0;rn<dr.length;rn++)ne("/"+dr[rn].key+" "+dr[rn].value);ne(">>"),zt.data.length!==0&&(ne("stream"),ne(Rt(zt.data)),ne("endstream"))},jt=m.__private__.putPage=function(R){var se=R.number,ye=R.data,Ee=R.objId,Oe=R.contentsObjId;un(Ee,!0),ne("<</Type /Page"),ne("/Parent "+R.rootDictionaryObjId+" 0 R"),ne("/Resources "+R.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(P(R.mediaBox.bottomLeftX))+" "+parseFloat(P(R.mediaBox.bottomLeftY))+" "+P(R.mediaBox.topRightX)+" "+P(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&ne("/CropBox ["+P(R.cropBox.bottomLeftX)+" "+P(R.cropBox.bottomLeftY)+" "+P(R.cropBox.topRightX)+" "+P(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&ne("/BleedBox ["+P(R.bleedBox.bottomLeftX)+" "+P(R.bleedBox.bottomLeftY)+" "+P(R.bleedBox.topRightX)+" "+P(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&ne("/TrimBox ["+P(R.trimBox.bottomLeftX)+" "+P(R.trimBox.bottomLeftY)+" "+P(R.trimBox.topRightX)+" "+P(R.trimBox.topRightY)+"]"),R.artBox!==null&&ne("/ArtBox ["+P(R.artBox.bottomLeftX)+" "+P(R.artBox.bottomLeftY)+" "+P(R.artBox.topRightX)+" "+P(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&ne("/UserUnit "+R.userUnit),Zt.publish("putPage",{objId:Ee,pageContext:Ct[se],pageNumber:se,page:ye}),ne("/Contents "+Oe+" 0 R"),ne(">>"),ne("endobj");var We=ye.join(`
`);return j===w&&(We+=`
Q`),un(Oe,!0),Ze({data:We,filters:Cn(),objectId:Oe}),ne("endobj"),Ee},Pt=m.__private__.putPages=function(){var R,se,ye=[];for(R=1;R<=Ve;R++)Ct[R].objId=St(),Ct[R].contentsObjId=St();for(R=1;R<=Ve;R++)ye.push(jt({number:R,data:ue[R],objId:Ct[R].objId,contentsObjId:Ct[R].contentsObjId,mediaBox:Ct[R].mediaBox,cropBox:Ct[R].cropBox,bleedBox:Ct[R].bleedBox,trimBox:Ct[R].trimBox,artBox:Ct[R].artBox,userUnit:Ct[R].userUnit,rootDictionaryObjId:Hs,resourceDictionaryObjId:is}));un(Hs,!0),ne("<</Type /Pages");var Ee="/Kids [";for(se=0;se<Ve;se++)Ee+=ye[se]+" 0 R ";ne(Ee+"]"),ne("/Count "+Ve),ne(">>"),ne("endobj"),Zt.publish("postPutPages")},ft=function(R){Zt.publish("putFont",{font:R,out:ne,newObject:vr,putStream:Ze}),R.isAlreadyPutted!==!0&&(R.objectNumber=vr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Wm(R.postScriptName)),ne("/Subtype /Type1"),typeof R.encoding=="string"&&ne("/Encoding /"+R.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Ut=function(R){R.objectNumber=vr();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[P(R.x),P(R.y),P(R.x+R.width),P(R.y+R.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var ye=R.pages[1].join(`
`);Ze({data:ye,additionalKeyValues:se,objectId:R.objectNumber}),ne("endobj")},vn=function(R,se){se||(se=21);var ye=vr(),Ee=function(ct,Rt){var zt,dr=[],pr=1/(Rt-1);for(zt=0;zt<1;zt+=pr)dr.push(zt);if(dr.push(1),ct[0].offset!=0){var Fr={offset:0,color:ct[0].color};ct.unshift(Fr)}if(ct[ct.length-1].offset!=1){var Hn={offset:1,color:ct[ct.length-1].color};ct.push(Hn)}for(var ys="",rn=0,ks=0;ks<dr.length;ks++){for(zt=dr[ks];zt>ct[rn+1].offset;)rn++;var ls=ct[rn].offset,zs=(zt-ls)/(ct[rn+1].offset-ls),La=ct[rn].color,si=ct[rn+1].color;ys+=ie(Math.round((1-zs)*La[0]+zs*si[0]).toString(16))+ie(Math.round((1-zs)*La[1]+zs*si[1]).toString(16))+ie(Math.round((1-zs)*La[2]+zs*si[2]).toString(16))}return ys.trim()}(R.colors,se),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+se+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze({data:Ee,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),ne("endobj"),R.objectNumber=vr(),ne("<< /ShadingType "+R.type),ne("/ColorSpace /DeviceRGB");var We="/Coords ["+P(parseFloat(R.coords[0]))+" "+P(parseFloat(R.coords[1]))+" ";R.type===2?We+=P(parseFloat(R.coords[2]))+" "+P(parseFloat(R.coords[3])):We+=P(parseFloat(R.coords[2]))+" "+P(parseFloat(R.coords[3]))+" "+P(parseFloat(R.coords[4]))+" "+P(parseFloat(R.coords[5])),ne(We+="]"),R.matrix&&ne("/Matrix ["+R.matrix.toString()+"]"),ne("/Function "+ye+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Lr=function(R,se){var ye=St(),Ee=vr();se.push({resourcesOid:ye,objectOid:Ee}),R.objectNumber=Ee;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+R.boundingBox.map(P).join(" ")+"]"}),Oe.push({key:"XStep",value:P(R.xStep)}),Oe.push({key:"YStep",value:P(R.yStep)}),Oe.push({key:"Resources",value:ye+" 0 R"}),R.matrix&&Oe.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),Ze({data:R.stream,additionalKeyValues:Oe,objectId:R.objectNumber}),ne("endobj")},je=function(R){for(var se in R.objectNumber=vr(),ne("<<"),R)switch(se){case"opacity":ne("/ca "+E(R[se]));break;case"stroke-opacity":ne("/CA "+E(R[se]))}ne(">>"),ne("endobj")},Qe=function(R){un(R.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var se in ne("/Font <<"),Bt)Bt.hasOwnProperty(se)&&(A===!1||A===!0&&f.hasOwnProperty(se))&&ne("/"+se+" "+Bt[se].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(yt).length>0){for(var se in ne("/Shading <<"),yt)yt.hasOwnProperty(se)&&yt[se]instanceof zA&&yt[se].objectNumber>=0&&ne("/"+se+" "+yt[se].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),ne(">>")}}(),function(se){if(Object.keys(yt).length>0){for(var ye in ne("/Pattern <<"),yt)yt.hasOwnProperty(ye)&&yt[ye]instanceof m.TilingPattern&&yt[ye].objectNumber>=0&&yt[ye].objectNumber<se&&ne("/"+ye+" "+yt[ye].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),ne(">>")}}(R.objectOid),function(){if(Object.keys(it).length>0){var se;for(se in ne("/ExtGState <<"),it)it.hasOwnProperty(se)&&it[se].objectNumber>=0&&ne("/"+se+" "+it[se].objectNumber+" 0 R");Zt.publish("putGStateDict"),ne(">>")}}(),function(){for(var se in ne("/XObject <<"),tr)tr.hasOwnProperty(se)&&tr[se].objectNumber>=0&&ne("/"+se+" "+tr[se].objectNumber+" 0 R");Zt.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},Ge=function(R){_t[R.fontName]=_t[R.fontName]||{},_t[R.fontName][R.fontStyle]=R.id},xt=function(R,se,ye,Ee,Oe){var We={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:R,fontName:se,fontStyle:ye,encoding:Ee,isStandardFont:Oe||!1,metadata:{}};return Zt.publish("addFont",{font:We,instance:this}),Bt[We.id]=We,Ge(We),We.id},$t=m.__private__.pdfEscape=m.pdfEscape=function(R,se){return function(ye,Ee){var Oe,We,ct,Rt,zt,dr,pr,Fr,Hn;if(ct=(Ee=Ee||{}).sourceEncoding||"Unicode",zt=Ee.outputEncoding,(Ee.autoencode||zt)&&Bt[rt].metadata&&Bt[rt].metadata[ct]&&Bt[rt].metadata[ct].encoding&&(Rt=Bt[rt].metadata[ct].encoding,!zt&&Bt[rt].encoding&&(zt=Bt[rt].encoding),!zt&&Rt.codePages&&(zt=Rt.codePages[0]),typeof zt=="string"&&(zt=Rt[zt]),zt)){for(pr=!1,dr=[],Oe=0,We=ye.length;Oe<We;Oe++)(Fr=zt[ye.charCodeAt(Oe)])?dr.push(String.fromCharCode(Fr)):dr.push(ye[Oe]),dr[Oe].charCodeAt(0)>>8&&(pr=!0);ye=dr.join("")}for(Oe=ye.length;pr===void 0&&Oe!==0;)ye.charCodeAt(Oe-1)>>8&&(pr=!0),Oe--;if(!pr)return ye;for(dr=Ee.noBOM?[]:[254,255],Oe=0,We=ye.length;Oe<We;Oe++){if((Hn=(Fr=ye.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+ye+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dr.push(Hn),dr.push(Fr-(Hn<<8))}return String.fromCharCode.apply(void 0,dr)}(R,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vr=m.__private__.beginPage=function(R){ue[++Ve]=[],Ct[Ve]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Nc(Ve),Se(ue[Z])},Jr=function(R,se){var ye,Ee,Oe;switch(r=se||r,typeof R=="string"&&(ye=y(R.toLowerCase()),Array.isArray(ye)&&(Ee=ye[0],Oe=ye[1])),Array.isArray(R)&&(Ee=R[0]*Ke,Oe=R[1]*Ke),isNaN(Ee)&&(Ee=i[0],Oe=i[1]),(Ee>14400||Oe>14400)&&(kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Oe=Math.min(14400,Oe)),i=[Ee,Oe],r.substr(0,1)){case"l":Oe>Ee&&(i=[Oe,Ee]);break;case"p":Ee>Oe&&(i=[Oe,Ee])}Vr(i),Nt(vd),ne(Sc),gA!==0&&ne(gA+" J"),Ou!==0&&ne(Ou+" j"),Zt.publish("addPage",{pageNumber:Ve})},ri=function(R){R>0&&R<=Ve&&(ue.splice(R,1),Ct.splice(R,1),Ve--,Z>Ve&&(Z=Ve),this.setPage(Z))},Nc=function(R){R>0&&R<=Ve&&(Z=R)},Ia=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return ue.length-1},no=function(R,se,ye){var Ee,Oe=void 0;return ye=ye||{},R=R!==void 0?R:Bt[rt].fontName,se=se!==void 0?se:Bt[rt].fontStyle,Ee=R.toLowerCase(),_t[Ee]!==void 0&&_t[Ee][se]!==void 0?Oe=_t[Ee][se]:_t[R]!==void 0&&_t[R][se]!==void 0?Oe=_t[R][se]:ye.disableWarning===!1&&kn.warn("Unable to look up font label for font '"+R+"', '"+se+"'. Refer to getFontList() for available fonts."),Oe||ye.noFallback||(Oe=_t.times[se])==null&&(Oe=_t.times.normal),Oe},mr=m.__private__.putInfo=function(){var R=vr(),se=function(Ee){return Ee};for(var ye in u!==null&&(se=Xn.encryptor(R,0)),ne("<<"),ne("/Producer ("+$t(se("jsPDF "+Yt.version))+")"),nt)nt.hasOwnProperty(ye)&&nt[ye]&&ne("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+$t(se(nt[ye]))+")");ne("/CreationDate ("+$t(se(W))+")"),ne(">>"),ne("endobj")},en=m.__private__.putCatalog=function(R){var se=(R=R||{}).rootDictionaryObjId||Hs;switch(vr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+se+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+lt;ye.substr(ye.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+E(lt)+"]")}switch(ke||(ke="continuous"),ke){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Be&&ne("/PageMode /"+Be),Zt.publish("putCatalog"),ne(">>"),ne("endobj")},ku=m.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(oe+1)),ne("/Root "+oe+" 0 R"),ne("/Info "+(oe-1)+" 0 R"),u!==null&&ne("/Encrypt "+Xn.oid+" 0 R"),ne("/ID [ <"+Y+"> <"+Y+"> ]"),ne(">>")},Bn=m.__private__.putHeader=function(){ne("%PDF-"+x),ne("%")},jl=m.__private__.putXRef=function(){var R="0000000000";ne("xref"),ne("0 "+(oe+1)),ne("0000000000 65535 f ");for(var se=1;se<=oe;se++)typeof he[se]=="function"?ne((R+he[se]()).slice(-10)+" 00000 n "):he[se]!==void 0?ne((R+he[se]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Ta=m.__private__.buildDocument=function(){var R;oe=0,ee=0,pe=[],he=[],fe=[],Hs=St(),is=St(),Se(pe),Zt.publish("buildDocument"),Bn(),Pt(),function(){Zt.publish("putAdditionalObjects");for(var ye=0;ye<fe.length;ye++){var Ee=fe[ye];un(Ee.objId,!0),ne(Ee.content),ne("endobj")}Zt.publish("postPutAdditionalObjects")}(),R=[],function(){for(var ye in Bt)Bt.hasOwnProperty(ye)&&(A===!1||A===!0&&f.hasOwnProperty(ye))&&ft(Bt[ye])}(),function(){var ye;for(ye in it)it.hasOwnProperty(ye)&&je(it[ye])}(),function(){for(var ye in tr)tr.hasOwnProperty(ye)&&Ut(tr[ye])}(),function(ye){var Ee;for(Ee in yt)yt.hasOwnProperty(Ee)&&(yt[Ee]instanceof zA?vn(yt[Ee]):yt[Ee]instanceof hp&&Lr(yt[Ee],ye))}(R),Zt.publish("putResources"),R.forEach(Qe),Qe({resourcesOid:is,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources"),u!==null&&(Xn.oid=vr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Xn.v),ne("/R "+Xn.r),ne("/U <"+Xn.toHexString(Xn.U)+">"),ne("/O <"+Xn.toHexString(Xn.O)+">"),ne("/P "+Xn.P),ne(">>"),ne("endobj")),mr(),en();var se=ee;return jl(),ku(),ne("startxref"),ne(""+se),ne("%%EOF"),Se(ue[Z]),pe.join(`
`)},ur=m.__private__.getBlob=function(R){return new Blob([Le(R)],{type:"application/pdf"})},On=m.output=m.__private__.output=(ss=function(R,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",R){case void 0:return Ta();case"save":m.save(se.filename);break;case"arraybuffer":return Le(Ta());case"blob":return ur(Ta());case"bloburi":case"bloburl":if(hr.URL!==void 0&&typeof hr.URL.createObjectURL=="function")return hr.URL&&hr.URL.createObjectURL(ur(Ta()))||void 0;kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",Ee=Ta();try{ye=MD(Ee)}catch{ye=MD(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+se.filename+";base64,"+ye;case"pdfobjectnewwindow":if(Object.prototype.toString.call(hr)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Oe=se.pdfObjectUrl,We="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",Rt=hr.open();return Rt!==null&&Rt.document.write(ct),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(hr)==="[object Window]"){var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',dr=hr.open();if(dr!==null){dr.document.write(zt);var pr=this;dr.document.documentElement.querySelector("#pdfViewer").onload=function(){dr.document.title=se.filename,dr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pr.output("bloburl"))}}return dr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(hr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',Hn=hr.open();if(Hn!==null&&(Hn.document.write(Fr),Hn.document.title=se.filename),Hn||typeof safari>"u")return Hn;break;case"datauri":case"dataurl":return hr.document.location.href=this.output("datauristring",se);default:return null}},ss.foo=function(){try{return ss.apply(this,arguments)}catch(ye){var R=ye.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var se="Error in function "+R.split(`
`)[0].split("<")[0]+": "+ye.message;if(!hr.console)throw new Error(se);hr.console.error(se,ye),hr.alert&&alert(se)}},ss.foo.bar=ss,ss.foo),Di=function(R){return Array.isArray(Qn)===!0&&Qn.indexOf(R)>-1};switch(n){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=Di("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ke=n}var Xn=null;J(),z();var xs=m.__private__.getPageInfo=m.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[R].objId,pageNumber:R,pageContext:Ct[R]}},hm=m.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in Ct)if(Ct[se].objId===R)break;return xs(se)},Pu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ct[Z].objId,pageNumber:Z,pageContext:Ct[Z]}};m.addPage=function(){return Jr.apply(this,arguments),this},m.setPage=function(){return Nc.apply(this,arguments),Se.call(this,ue[Z]),this},m.insertPage=function(R){return this.addPage(),this.movePage(Z,R),this},m.movePage=function(R,se){var ye,Ee;if(R>se){ye=ue[R],Ee=Ct[R];for(var Oe=R;Oe>se;Oe--)ue[Oe]=ue[Oe-1],Ct[Oe]=Ct[Oe-1];ue[se]=ye,Ct[se]=Ee,this.setPage(se)}else if(R<se){ye=ue[R],Ee=Ct[R];for(var We=R;We<se;We++)ue[We]=ue[We+1],Ct[We]=Ct[We+1];ue[se]=ye,Ct[se]=Ee,this.setPage(se)}return this},m.deletePage=function(){return ri.apply(this,arguments),this},m.__private__.text=m.text=function(R,se,ye,Ee,Oe){var We,ct,Rt,zt,dr,pr,Fr,Hn,ys,rn=(Ee=Ee||{}).scope||this;if(typeof R=="number"&&typeof se=="number"&&(typeof ye=="string"||Array.isArray(ye))){var ks=ye;ye=se,se=R,R=ks}if(arguments[3]instanceof Ft==0?(Rt=arguments[4],zt=arguments[5],pn(Fr=arguments[3])==="object"&&Fr!==null||(typeof Rt=="string"&&(zt=Rt,Rt=null),typeof Fr=="string"&&(zt=Fr,Fr=null),typeof Fr=="number"&&(Rt=Fr,Fr=null),Ee={flags:Fr,angle:Rt,align:zt})):(T("The transform parameter of text() with a Matrix value"),ys=Oe),isNaN(se)||isNaN(ye)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return rn;var ls,zs="",La=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Bc,si=rn.internal.scaleFactor;function Il(Kr){return Kr=Kr.split("	").join(Array(Ee.TabLen||9).join(" ")),$t(Kr,Fr)}function Tl(Kr){for(var nn,ds=Kr.concat(),bs=[],Dl=ds.length;Dl--;)typeof(nn=ds.shift())=="string"?bs.push(nn):Array.isArray(Kr)&&(nn.length===1||nn[1]===void 0&&nn[2]===void 0)?bs.push(nn[0]):bs.push([nn[0],nn[1],nn[2]]);return bs}function ii(Kr,nn){var ds;if(typeof Kr=="string")ds=nn(Kr)[0];else if(Array.isArray(Kr)){for(var bs,Dl,$i=Kr.concat(),Ml=[],gm=$i.length;gm--;)typeof(bs=$i.shift())=="string"?Ml.push(nn(bs)[0]):Array.isArray(bs)&&typeof bs[0]=="string"&&(Dl=nn(bs[0],bs[1],bs[2]),Ml.push([Dl[0],Dl[1],Dl[2]]));ds=Ml}return ds}var Ol=!1,Ec=!0;if(typeof R=="string")Ol=!0;else if(Array.isArray(R)){var wd=R.concat();ct=[];for(var Mo,Ps=wd.length;Ps--;)(typeof(Mo=wd.shift())!="string"||Array.isArray(Mo)&&typeof Mo[0]!="string")&&(Ec=!1);Ol=Ec}if(Ol===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var jd=Te/rn.internal.scaleFactor,Nd=jd*(La-1);switch(Ee.baseline){case"bottom":ye-=Nd;break;case"top":ye+=jd-Nd;break;case"hanging":ye+=jd-2*Nd;break;case"middle":ye+=jd/2-Nd}if((pr=Ee.maxWidth||0)>0&&(typeof R=="string"?R=rn.splitTextToSize(R,pr):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(Kr,nn){return Kr.concat(rn.splitTextToSize(nn,pr))},[]))),We={text:R,x:se,y:ye,options:Ee,mutex:{pdfEscape:$t,activeFontKey:rt,fonts:Bt,activeFontSize:Te}},Zt.publish("preProcessText",We),R=We.text,Rt=(Ee=We.options).angle,ys instanceof Ft==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Ee.rotationDirection===0&&(Rt=-Rt),j===w&&(Rt=-Rt);var Uu=Math.cos(Rt),bA=Math.sin(Rt);ys=new Ft(Uu,bA,-bA,Uu,0,0)}else Rt&&Rt instanceof Ft&&(ys=Rt);j!==w||ys||(ys=gs),(dr=Ee.charSpace||Do)!==void 0&&(zs+=P(M(dr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hn=Ee.horizontalScale)!==void 0&&(zs+=P(100*Hn)+` Tz
`),Ee.lang;var Sn=-1,Mi=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,Ru=rn.internal.getCurrentPageInfo().pageContext;switch(Mi){case 0:case!1:case"fill":Sn=0;break;case 1:case!0:case"stroke":Sn=1;break;case 2:case"fillThenStroke":Sn=2;break;case 3:case"invisible":Sn=3;break;case 4:case"fillAndAddForClipping":Sn=4;break;case 5:case"strokeAndAddPathForClipping":Sn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sn=6;break;case 7:case"addToPathForClipping":Sn=7}var Fa=Ru.usedRenderingMode!==void 0?Ru.usedRenderingMode:-1;Sn!==-1?zs+=Sn+` Tr
`:Fa!==-1&&(zs+=`0 Tr
`),Sn!==-1&&(Ru.usedRenderingMode=Sn),zt=Ee.align||"left";var Ua,Ra=Te*La,wA=rn.internal.pageSize.getWidth(),Ll=Bt[rt];dr=Ee.charSpace||Do,pr=Ee.maxWidth||0,Fr=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Fl=[],Qo=function(Kr){return rn.getStringUnitWidth(Kr,{font:Ll,charSpace:dr,fontSize:Te,doKerning:!1})*Te/si};if(Object.prototype.toString.call(R)==="[object Array]"){var ua;ct=Tl(R),zt!=="left"&&(Ua=ct.map(Qo));var vs,oo=0;if(zt==="right"){se-=Ua[0],R=[],Ps=ct.length;for(var Ul=0;Ul<Ps;Ul++)Ul===0?(vs=so(se),ua=io(ye)):(vs=M(oo-Ua[Ul]),ua=-Ra),R.push([ct[Ul],vs,ua]),oo=Ua[Ul]}else if(zt==="center"){se-=Ua[0]/2,R=[],Ps=ct.length;for(var $o=0;$o<Ps;$o++)$o===0?(vs=so(se),ua=io(ye)):(vs=M((oo-Ua[$o])/2),ua=-Ra),R.push([ct[$o],vs,ua]),oo=Ua[$o]}else if(zt==="left"){R=[],Ps=ct.length;for(var jA=0;jA<Ps;jA++)R.push(ct[jA])}else if(zt==="justify"&&Ll.encoding==="Identity-H"){R=[],Ps=ct.length,pr=pr!==0?pr:wA;for(var Qi=0,cs=0;cs<Ps;cs++)if(ua=cs===0?io(ye):-Ra,vs=cs===0?so(se):Qi,cs<Ps-1){var Rl=M((pr-Ua[cs])/(ct[cs].split(" ").length-1)),Ho=ct[cs].split(" ");R.push([Ho[0]+" ",vs,ua]),Qi=0;for(var Vs=1;Vs<Ho.length;Vs++){var kc=(Qo(Ho[Vs-1]+" "+Ho[Vs])-Qo(Ho[Vs]))*si+Rl;Vs==Ho.length-1?R.push([Ho[Vs],kc,0]):R.push([Ho[Vs]+" ",kc,0]),Qi-=kc}}else R.push([ct[cs],vs,ua]);R.push(["",Qi,0])}else{if(zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Ps=ct.length,pr=pr!==0?pr:wA,cs=0;cs<Ps;cs++){ua=cs===0?io(ye):-Ra,vs=cs===0?so(se):0;var Du=ct[cs].split(" ").length-1,_d=Du>0?(pr-Ua[cs])/Du:0;cs<Ps-1?Fl.push(P(M(_d))):Fl.push(0),R.push([ct[cs],vs,ua])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:ge)===!0&&(R=ii(R,function(Kr,nn,ds){return[Kr.split("").reverse().join(""),nn,ds]})),We={text:R,x:se,y:ye,options:Ee,mutex:{pdfEscape:$t,activeFontKey:rt,fonts:Bt,activeFontSize:Te}},Zt.publish("postProcessText",We),R=We.text,ls=We.mutex.isHex||!1;var Pc=Bt[rt].encoding;Pc!=="WinAnsiEncoding"&&Pc!=="StandardEncoding"||(R=ii(R,function(Kr,nn,ds){return[Il(Kr),nn,ds]})),ct=Tl(R),R=[];for(var zo,lo,ha,Vo=Array.isArray(ct[0])?1:0,Ko="",Ic=function(Kr,nn,ds){var bs="";return ds instanceof Ft?(ds=typeof Ee.angle=="number"?ps(ds,new Ft(1,0,0,1,Kr,nn)):ps(new Ft(1,0,0,1,Kr,nn),ds),j===w&&(ds=ps(new Ft(1,0,0,-1,0,0),ds)),bs=ds.join(" ")+` Tm
`):bs=P(Kr)+" "+P(nn)+` Td
`,bs},Da=0;Da<ct.length;Da++){switch(Ko="",Vo){case 1:ha=(ls?"<":"(")+ct[Da][0]+(ls?">":")"),zo=parseFloat(ct[Da][1]),lo=parseFloat(ct[Da][2]);break;case 0:ha=(ls?"<":"(")+ct[Da]+(ls?">":")"),zo=so(se),lo=io(ye)}Fl!==void 0&&Fl[Da]!==void 0&&(Ko=Fl[Da]+` Tw
`),Da===0?R.push(Ko+Ic(zo,lo,ys)+ha):Vo===0?R.push(Ko+ha):Vo===1&&R.push(Ko+Ic(zo,lo,ys)+ha)}R=Vo===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var Aa=`BT
/`;return Aa+=rt+" "+Te+` Tf
`,Aa+=P(Te*La)+` TL
`,Aa+=$n+`
`,Aa+=zs,Aa+=R,ne(Aa+="ET"),f[rt]=!0,rn};var Nl=m.__private__.clip=m.clip=function(R){return ne(R==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Nl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ne("n"),this};var Yr=m.__private__.isValidStyle=function(R){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(se=!0),se};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(R){return Yr(R)&&(d=R),this};var Uo=m.__private__.getStyle=m.getStyle=function(R){var se=d;switch(R){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=R}return se},_c=m.close=function(){return ne("h"),this};m.stroke=function(){return ne("S"),this},m.fill=function(R){return Ro("f",R),this},m.fillEvenOdd=function(R){return Ro("f*",R),this},m.fillStroke=function(R){return Ro("B",R),this},m.fillStrokeEvenOdd=function(R){return Ro("B*",R),this};var Ro=function(R,se){pn(se)==="object"?fA(se,R):ne(R)},_l=function(R){R===null||j===w&&R===void 0||(R=Uo(R),ne(R))};function yd(R,se,ye,Ee,Oe){var We=new hp(se||this.boundingBox,ye||this.xStep,Ee||this.yStep,this.gState,Oe||this.matrix);We.stream=this.stream;var ct=R+"$$"+this.cloneIndex+++"$$";return Tn(ct,We),We}var fA=function(R,se){var ye=At[R.key],Ee=yt[ye];if(Ee instanceof zA)ne("q"),ne(mA(se)),Ee.gState&&m.setGState(Ee.gState),ne(R.matrix.toString()+" cm"),ne("/"+ye+" sh"),ne("Q");else if(Ee instanceof hp){var Oe=new Ft(1,0,0,-1,0,bd());R.matrix&&(Oe=Oe.multiply(R.matrix||gs),ye=yd.call(Ee,R.key,R.boundingBox,R.xStep,R.yStep,Oe).id),ne("q"),ne("/Pattern cs"),ne("/"+ye+" scn"),Ee.gState&&m.setGState(Ee.gState),ne(se),ne("Q")}},mA=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cc=m.moveTo=function(R,se){return ne(P(M(R))+" "+P(U(se))+" m"),this},Iu=m.lineTo=function(R,se){return ne(P(M(R))+" "+P(U(se))+" l"),this},da=m.curveTo=function(R,se,ye,Ee,Oe,We){return ne([P(M(R)),P(U(se)),P(M(ye)),P(U(Ee)),P(M(Oe)),P(U(We)),"c"].join(" ")),this};m.__private__.line=m.line=function(R,se,ye,Ee,Oe){if(isNaN(R)||isNaN(se)||isNaN(ye)||isNaN(Ee)||!Yr(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return j===b?this.lines([[ye-R,Ee-se]],R,se,[1,1],Oe||"S"):this.lines([[ye-R,Ee-se]],R,se,[1,1]).stroke()},m.__private__.lines=m.lines=function(R,se,ye,Ee,Oe,We){var ct,Rt,zt,dr,pr,Fr,Hn,ys,rn,ks,ls,zs;if(typeof R=="number"&&(zs=ye,ye=se,se=R,R=zs),Ee=Ee||[1,1],We=We||!1,isNaN(se)||isNaN(ye)||!Array.isArray(R)||!Array.isArray(Ee)||!Yr(Oe)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cc(se,ye),ct=Ee[0],Rt=Ee[1],dr=R.length,ks=se,ls=ye,zt=0;zt<dr;zt++)(pr=R[zt]).length===2?(ks=pr[0]*ct+ks,ls=pr[1]*Rt+ls,Iu(ks,ls)):(Fr=pr[0]*ct+ks,Hn=pr[1]*Rt+ls,ys=pr[2]*ct+ks,rn=pr[3]*Rt+ls,ks=pr[4]*ct+ks,ls=pr[5]*Rt+ls,da(Fr,Hn,ys,rn,ks,ls));return We&&_c(),_l(Oe),this},m.path=function(R){for(var se=0;se<R.length;se++){var ye=R[se],Ee=ye.c;switch(ye.op){case"m":Cc(Ee[0],Ee[1]);break;case"l":Iu(Ee[0],Ee[1]);break;case"c":da.apply(this,Ee);break;case"h":_c()}}return this},m.__private__.rect=m.rect=function(R,se,ye,Ee,Oe){if(isNaN(R)||isNaN(se)||isNaN(ye)||isNaN(Ee)||!Yr(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return j===b&&(Ee=-Ee),ne([P(M(R)),P(U(se)),P(M(ye)),P(M(Ee)),"re"].join(" ")),_l(Oe),this},m.__private__.triangle=m.triangle=function(R,se,ye,Ee,Oe,We,ct){if(isNaN(R)||isNaN(se)||isNaN(ye)||isNaN(Ee)||isNaN(Oe)||isNaN(We)||!Yr(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-R,Ee-se],[Oe-ye,We-Ee],[R-Oe,se-We]],R,se,[1,1],ct,!0),this},m.__private__.roundedRect=m.roundedRect=function(R,se,ye,Ee,Oe,We,ct){if(isNaN(R)||isNaN(se)||isNaN(ye)||isNaN(Ee)||isNaN(Oe)||isNaN(We)||!Yr(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*ye),We=Math.min(We,.5*Ee),this.lines([[ye-2*Oe,0],[Oe*Rt,0,Oe,We-We*Rt,Oe,We],[0,Ee-2*We],[0,We*Rt,-Oe*Rt,We,-Oe,We],[2*Oe-ye,0],[-Oe*Rt,0,-Oe,-We*Rt,-Oe,-We],[0,2*We-Ee],[0,-We*Rt,Oe*Rt,-We,Oe,-We]],R+Oe,se,[1,1],ct,!0),this},m.__private__.ellipse=m.ellipse=function(R,se,ye,Ee,Oe){if(isNaN(R)||isNaN(se)||isNaN(ye)||isNaN(Ee)||!Yr(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*ye,ct=4/3*(Math.SQRT2-1)*Ee;return Cc(R+ye,se),da(R+ye,se-ct,R+We,se-Ee,R,se-Ee),da(R-We,se-Ee,R-ye,se-ct,R-ye,se),da(R-ye,se+ct,R-We,se+Ee,R,se+Ee),da(R+We,se+Ee,R+ye,se+ct,R+ye,se),_l(Oe),this},m.__private__.circle=m.circle=function(R,se,ye,Ee){if(isNaN(R)||isNaN(se)||isNaN(ye)||!Yr(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,se,ye,ye,Ee)},m.setFont=function(R,se,ye){return ye&&(se=I(se,ye)),rt=no(R,se,{disableWarning:!1}),this};var Tu=m.__private__.getFont=m.getFont=function(){return Bt[no.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var R,se,ye={};for(R in _t)if(_t.hasOwnProperty(R))for(se in ye[R]=[],_t[R])_t[R].hasOwnProperty(se)&&ye[R].push(se);return ye},m.addFont=function(R,se,ye,Ee,Oe){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(ye=I(ye,Ee)),xt.call(this,R,se,ye,Oe=Oe||"Identity-H")};var Bc,vd=e.lineWidth||.200025,u0=m.__private__.getLineWidth=m.getLineWidth=function(){return vd},Nt=m.__private__.setLineWidth=m.setLineWidth=function(R){return vd=R,ne(P(M(R))+" w"),this};m.__private__.setLineDash=Yt.API.setLineDash=Yt.API.setLineDashPattern=function(R,se){if(R=R||[],se=se||0,isNaN(se)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(ye){return P(M(ye))}).join(" "),se=P(M(se)),ne("["+R+"] "+se+" d"),this};var Oa=m.__private__.getLineHeight=m.getLineHeight=function(){return Te*Bc};m.__private__.getLineHeight=m.getLineHeight=function(){return Te*Bc};var tn=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Bc=R),this},Am=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Bc};tn(e.lineHeight);var so=m.__private__.getHorizontalCoordinate=function(R){return M(R)},io=m.__private__.getVerticalCoordinate=function(R){return j===w?R:Ct[Z].mediaBox.topRightY-Ct[Z].mediaBox.bottomLeftY-M(R)},pA=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(R){return P(so(R))},Cl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(R){return P(io(R))},Sc=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return as(Sc)},m.__private__.setStrokeColor=m.setDrawColor=function(R,se,ye,Ee){return Sc=os({ch1:R,ch2:se,ch3:ye,ch4:Ee,pdfColorType:"draw",precision:2}),ne(Sc),this};var Bl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return as(Bl)},m.__private__.setFillColor=m.setFillColor=function(R,se,ye,Ee){return Bl=os({ch1:R,ch2:se,ch3:ye,ch4:Ee,pdfColorType:"fill",precision:2}),ne(Bl),this};var $n=e.textColor||"0 g",Sl=m.__private__.getTextColor=m.getTextColor=function(){return as($n)};m.__private__.setTextColor=m.setTextColor=function(R,se,ye,Ee){return $n=os({ch1:R,ch2:se,ch3:ye,ch4:Ee,pdfColorType:"text",precision:3}),this};var Do=e.charSpace,fm=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Do||0)};m.__private__.setCharSpace=m.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Do=R,this};var gA=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(R){var se=m.CapJoinStyles[R];if(se===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gA=se,ne(se+" J"),this};var Ou=0;m.__private__.setLineJoin=m.setLineJoin=function(R){var se=m.CapJoinStyles[R];if(se===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ou=se,ne(se+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(P(M(R))+" M"),this},m.GState=H2,m.setGState=function(R){(R=typeof R=="string"?it[dt[R]]:Lu(null,R)).equals(et)||(ne("/"+R.id+" gs"),et=R)};var Lu=function(R,se){if(!R||!dt[R]){var ye=!1;for(var Ee in it)if(it.hasOwnProperty(Ee)&&it[Ee].equals(se)){ye=!0;break}if(ye)se=it[Ee];else{var Oe="GS"+(Object.keys(it).length+1).toString(10);it[Oe]=se,se.id=Oe}return R&&(dt[R]=se.id),Zt.publish("addGState",se),se}};m.addGState=function(R,se){return Lu(R,se),this},m.saveGraphicsState=function(){return ne("q"),Vt.push({key:rt,size:Te,color:$n}),this},m.restoreGraphicsState=function(){ne("Q");var R=Vt.pop();return rt=R.key,Te=R.size,$n=R.color,et=null,this},m.setCurrentTransformationMatrix=function(R){return ne(R.toString()+" cm"),this},m.comment=function(R){return ne("#"+R),this};var El=function(R,se){var ye=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(We){isNaN(We)||(ye=parseFloat(We))}});var Ee=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(We){isNaN(We)||(Ee=parseFloat(We))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(We){Oe=We.toString()}}),this},Fu=function(R,se,ye,Ee){El.call(this,R,se),this.type="rect";var Oe=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(ct){isNaN(ct)||(Oe=parseFloat(ct))}});var We=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(ct){isNaN(ct)||(We=parseFloat(ct))}}),this},jr=function(){this.page=Ve,this.currentPage=Z,this.pages=ue.slice(0),this.pagesContext=Ct.slice(0),this.x=st,this.y=at,this.matrix=gt,this.width=kl(Z),this.height=mm(Z),this.outputDestination=ve,this.id="",this.objectNumber=-1};jr.prototype.restore=function(){Ve=this.page,Z=this.currentPage,Ct=this.pagesContext,ue=this.pages,st=this.x,at=this.y,gt=this.matrix,yA(Z,this.width),ao(Z,this.height),ve=this.outputDestination};var xA=function(R,se,ye,Ee,Oe){_n.push(new jr),Ve=Z=0,ue=[],st=R,at=se,gt=Oe,Vr([ye,Ee])};for(var ni in m.beginFormObject=function(R,se,ye,Ee,Oe){return xA(R,se,ye,Ee,Oe),this},m.endFormObject=function(R){return function(se){if(qr[se])_n.pop().restore();else{var ye=new jr,Ee="Xo"+(Object.keys(tr).length+1).toString(10);ye.id=Ee,qr[se]=Ee,tr[Ee]=ye,Zt.publish("addFormObject",ye),_n.pop().restore()}}(R),this},m.doFormObject=function(R,se){var ye=tr[qr[R]];return ne("q"),ne(se.toString()+" cm"),ne("/"+ye.id+" Do"),ne("Q"),this},m.getFormObject=function(R){var se=tr[qr[R]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},m.save=function(R,se){return R=R||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(DA(ur(Ta()),R),typeof DA.unload=="function"&&hr.setTimeout&&setTimeout(DA.unload,911),this):new Promise(function(ye,Ee){try{var Oe=DA(ur(Ta()),R);typeof DA.unload=="function"&&hr.setTimeout&&setTimeout(DA.unload,911),ye(Oe)}catch(We){Ee(We.message)}})},Yt.API)Yt.API.hasOwnProperty(ni)&&(ni==="events"&&Yt.API.events.length?function(R,se){var ye,Ee,Oe;for(Oe=se.length-1;Oe!==-1;Oe--)ye=se[Oe][0],Ee=se[Oe][1],R.subscribe.apply(R,[ye].concat(typeof Ee=="function"?[Ee]:Ee))}(Zt,Yt.API.events):m[ni]=Yt.API[ni]);function kl(R){return Ct[R].mediaBox.topRightX-Ct[R].mediaBox.bottomLeftX}function yA(R,se){Ct[R].mediaBox.topRightX=se+Ct[R].mediaBox.bottomLeftX}function mm(R){return Ct[R].mediaBox.topRightY-Ct[R].mediaBox.bottomLeftY}function ao(R,se){Ct[R].mediaBox.topRightY=se+Ct[R].mediaBox.bottomLeftY}var Pl=m.getPageWidth=function(R){return kl(R=R||Z)/Ke},vA=m.setPageWidth=function(R,se){yA(R,se*Ke)},bd=m.getPageHeight=function(R){return mm(R=R||Z)/Ke},pm=m.setPageHeight=function(R,se){ao(R,se*Ke)};return m.internal={pdfEscape:$t,getStyle:Uo,getFont:Tu,getFontSize:tt,getCharSpace:fm,getTextColor:Sl,getLineHeight:Oa,getLineHeightFactor:Am,getLineWidth:u0,write:xe,getHorizontalCoordinate:so,getVerticalCoordinate:io,getCoordinateString:pA,getVerticalCoordinateString:Cl,collections:{},newObject:vr,newAdditionalObject:ti,newObjectDeferred:St,newObjectDeferredBegin:un,getFilters:Cn,putStream:Ze,events:Zt,scaleFactor:Ke,pageSize:{getWidth:function(){return Pl(Z)},setWidth:function(R){vA(Z,R)},getHeight:function(){return bd(Z)},setHeight:function(R){pm(Z,R)}},encryptionOptions:u,encryption:Xn,getEncryptor:function(R){return u!==null?Xn.encryptor(R,0):function(se){return se}},output:On,getNumberOfPages:Ia,get pages(){return ue},out:ne,f2:E,f3:k,getPageInfo:xs,getPageInfoByObjId:hm,getCurrentPageInfo:Pu,getPDFVersion:p,Point:El,Rectangle:Fu,Matrix:Ft,hasHotfix:Di},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Pl(Z)},set:function(R){vA(Z,R)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return bd(Z)},set:function(R){pm(Z,R)},enumerable:!0,configurable:!0}),(function(R){for(var se=0,ye=ze.length;se<ye;se++){var Ee=xt.call(this,R[se][0],R[se][1],R[se][2],ze[se][3],!0);A===!1&&(f[Ee]=!0);var Oe=R[se][0].split("-");Ge({id:Ee,fontName:Oe[0],fontStyle:Oe[1]||""})}Zt.publish("addFonts",{fonts:Bt,dictionary:_t})}).call(m,ze),rt="F1",Jr(i,r),Zt.publish("initialized"),m}Km.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Km.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Km.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Km.prototype.processOwnerPassword=function(e,t){return BE(CE(t).substr(0,5),e)},Km.prototype.encryptor=function(e,t){var r=CE(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return BE(r,n)}},H2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||pn(e)!==pn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Yt.API={events:[]},Yt.version="3.0.4";var Ns=Yt.API,eI=1,am=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Um=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xr=function(e){return e.toFixed(2)},Ju=function(e){return e.toFixed(5)};Ns.__acroform__={};var to=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},zD=function(e){return e*eI},Dc=function(e){var t=new ZY,r=Ht.internal.getHeight(e)||0,n=Ht.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xr(n)),Number(xr(r))],t},jBe=Ns.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},NBe=Ns.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},_Be=Ns.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ds=Ns.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _Be(e,t-1)},Ms=Ns.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jBe(e,t-1)},Qs=Ns.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return NBe(e,t-1)},CBe=Ns.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(xr(c.lowerLeft_X)),Number(xr(c.lowerLeft_Y)),Number(xr(c.upperRight_X)),Number(xr(c.upperRight_Y))]},BBe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=SE(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+xr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Dc(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},SE=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var a=r,o=Ht.internal.getHeight(e)||0;o=o<0?-o:o;var l=Ht.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(E,k,M){if(E+1<i.length){var U=k+" "+i[E+1][0];return Bw(U,e,M).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var d,u,A=Bw("3",e,a).height,f=e.multiline?o-a:(o-A)/2,m=f+=2,x=0,p=0,v=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Bw(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var y="",b=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var j=!1;if(i[w].length!==1&&v!==i[w].length-1){if((A+2)*(b+2)+2>o)continue e;y+=i[w][v],j=!0,p=w,w--}else{y=(y+=i[w][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(w),B=c(N,y,a),I=w>=i.length-1;if(B&&!I){y+=" ",v=0;continue}if(B||I){if(I)p=N;else if(e.multiline&&(A+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(A+2)*(b+2)+2>o)continue e;p=N}}for(var P="",T=x;T<=p;T++){var F=i[T];if(e.multiline){if(T===p){P+=F[v]+" ",v=(v+1)%F.length;continue}if(T===x){P+=F[F.length-1]+" ";continue}}P+=F[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,u=Bw(P,e,a).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=xr(d)+" "+xr(m)+` Td
`,t+="("+am(P)+`) Tj
`,t+=-xr(d)+` 0 Td
`,m=-(a+2),u=0,x=j?p:p+1,b++,y=""}break}return n.text=t,n.fontSize=a,n},Bw=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},SBe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},EBe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},kBe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(bc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(SBe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");eI=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new JY,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&EBe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=CBe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ht.createDefaultAppearanceStream(l),pn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=BBe(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var A="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var m=l.appearanceStreamContent[f];if(A+="/"+f+" ",A+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(i,l)),A+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,l)),A+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);A+=">>"}c.push({key:"AP",value:`<<
`+A+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&function(p,v){for(var y in p)if(p.hasOwnProperty(y)){var b=y,w=p[y];v.internal.newObjectDeferredBegin(w.objId,!0),pn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete p[b]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},XY=Ns.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),pn(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+am(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jB=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+am(n(e))+")"},Hc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Hc.prototype.toString=function(){return this.objId+" 0 R"},Hc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Hc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:XY(i,this.objId,this.scope)}):i instanceof Hc?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var ZY=function(){Hc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};to(ZY,Hc);var JY=function(){Hc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+am(r(e))+")"}},set:function(r){e=r}})};to(JY,Hc);var bc=function e(){Hc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ds(t,3)},set:function(y){y?this.F=Ms(t,3):this.F=Qs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof z2)return;a="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+am(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/eI:d},set:function(y){d=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof z2||this instanceof yf))return jB(A,this.objId,this.scope)},set:function(y){y=y.toString(),A=y}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof wi==0?jB(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof wi==0?y.substr(0,1)==="("?Um(y.substr(1,y.length-2)):Um(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wi==1?Um(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof wi==1?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof wi==0?jB(m,this.objId,this.scope):m},set:function(y){y=y.toString(),m=this instanceof wi==0?y.substr(0,1)==="("?Um(y.substr(1,y.length-2)):Um(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wi==1?Um(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof wi==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(y){y=!!y,p=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(y){x=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,1)},set:function(y){y?this.Ff=Ms(this.Ff,1):this.Ff=Qs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,2)},set:function(y){y?this.Ff=Ms(this.Ff,2):this.Ff=Qs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,3)},set:function(y){y?this.Ff=Ms(this.Ff,3):this.Ff=Qs(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};to(bc,Hc);var Lp=function(){bc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return XY(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,d=[];c=o.exec(a);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,18)},set:function(r){r?this.Ff=Ms(this.Ff,18):this.Ff=Qs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ms(this.Ff,19):this.Ff=Qs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,20)},set:function(r){r?(this.Ff=Ms(this.Ff,20),t.sort()):this.Ff=Qs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,22)},set:function(r){r?this.Ff=Ms(this.Ff,22):this.Ff=Qs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,23)},set:function(r){r?this.Ff=Ms(this.Ff,23):this.Ff=Qs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,27)},set:function(r){r?this.Ff=Ms(this.Ff,27):this.Ff=Qs(this.Ff,27)}}),this.hasAppearanceStream=!1};to(Lp,bc);var Fp=function(){Lp.call(this),this.fontName="helvetica",this.combo=!1};to(Fp,Lp);var Up=function(){Fp.call(this),this.combo=!0};to(Up,Fp);var E1=function(){Up.call(this),this.edit=!0};to(E1,Up);var wi=function(){bc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,15)},set:function(r){r?this.Ff=Ms(this.Ff,15):this.Ff=Qs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,16)},set:function(r){r?this.Ff=Ms(this.Ff,16):this.Ff=Qs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,17)},set:function(r){r?this.Ff=Ms(this.Ff,17):this.Ff=Qs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,26)},set:function(r){r?this.Ff=Ms(this.Ff,26):this.Ff=Qs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+am(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){pn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};to(wi,bc);var k1=function(){wi.call(this),this.pushButton=!0};to(k1,wi);var Rp=function(){wi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};to(Rp,wi);var z2=function(){var e,t;bc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+am(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){pn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};to(z2,bc),Rp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Rp.prototype.createOption=function(e){var t=new z2;return t.Parent=this,t.optionName=e,this.Kids.push(t),PBe.call(this.scope,t),t};var P1=function(){wi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ht.CheckBox.createAppearanceStream()};to(P1,wi);var yf=function(){bc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,13)},set:function(t){t?this.Ff=Ms(this.Ff,13):this.Ff=Qs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,21)},set:function(t){t?this.Ff=Ms(this.Ff,21):this.Ff=Qs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,23)},set:function(t){t?this.Ff=Ms(this.Ff,23):this.Ff=Qs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,24)},set:function(t){t?this.Ff=Ms(this.Ff,24):this.Ff=Qs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,25)},set:function(t){t?this.Ff=Ms(this.Ff,25):this.Ff=Qs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,26)},set:function(t){t?this.Ff=Ms(this.Ff,26):this.Ff=Qs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};to(yf,bc);var I1=function(){yf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,14)},set:function(e){e?this.Ff=Ms(this.Ff,14):this.Ff=Qs(this.Ff,14)}}),this.password=!0};to(I1,yf);var Ht={CheckBox:{createAppearanceStream:function(){return{N:{On:Ht.CheckBox.YesNormal},D:{On:Ht.CheckBox.YesPushDown,Off:Ht.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=SE(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+xr(Ht.internal.getWidth(e))+" "+xr(Ht.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+xr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Dc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Ht.internal.getHeight(e),o=Ht.internal.getWidth(e),l=SE(e,e.caption);return i.push("1 g"),i.push("0 0 "+xr(o)+" "+xr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xr(o-1)+" "+xr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+xr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Ht.internal.getWidth(e))+" "+xr(Ht.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ht.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ht.RadioButton.Circle.YesNormal,t.D[e]=Ht.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Dc(e);t.scope=e.scope;var r=[],n=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Ht.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ju(Ht.internal.getWidth(e)/2)+" "+Ju(Ht.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=[],n=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ht.internal.Bezier_C).toFixed(5)),o=Number((n*Ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ju(Ht.internal.getWidth(e)/2)+" "+Ju(Ht.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ju(Ht.internal.getWidth(e)/2)+" "+Ju(Ht.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=[],n=Ht.internal.getWidth(e)<=Ht.internal.getHeight(e)?Ht.internal.getWidth(e)/4:Ht.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ju(Ht.internal.getWidth(e)/2)+" "+Ju(Ht.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ht.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ht.RadioButton.Cross.YesNormal,t.D[e]=Ht.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Dc(e);t.scope=e.scope;var r=[],n=Ht.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+xr(Ht.internal.getWidth(e)-2)+" "+xr(Ht.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(xr(n.x1.x)+" "+xr(n.x1.y)+" m"),r.push(xr(n.x2.x)+" "+xr(n.x2.y)+" l"),r.push(xr(n.x4.x)+" "+xr(n.x4.y)+" m"),r.push(xr(n.x3.x)+" "+xr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=Ht.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+xr(Ht.internal.getWidth(e))+" "+xr(Ht.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+xr(Ht.internal.getWidth(e)-2)+" "+xr(Ht.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(xr(r.x1.x)+" "+xr(r.x1.y)+" m"),n.push(xr(r.x2.x)+" "+xr(r.x2.y)+" l"),n.push(xr(r.x4.x)+" "+xr(r.x4.y)+" m"),n.push(xr(r.x3.x)+" "+xr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Ht.internal.getWidth(e))+" "+xr(Ht.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ht.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ht.internal.getWidth(e),r=Ht.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ht.internal.getWidth=function(e){var t=0;return pn(e)==="object"&&(t=zD(e.Rect[2])),t},Ht.internal.getHeight=function(e){var t=0;return pn(e)==="object"&&(t=zD(e.Rect[3])),t};var PBe=Ns.addField=function(e){if(kBe(this,e),!(e instanceof bc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ns.AcroFormChoiceField=Lp,Ns.AcroFormListBox=Fp,Ns.AcroFormComboBox=Up,Ns.AcroFormEditBox=E1,Ns.AcroFormButton=wi,Ns.AcroFormPushButton=k1,Ns.AcroFormRadioButton=Rp,Ns.AcroFormCheckBox=P1,Ns.AcroFormTextField=yf,Ns.AcroFormPasswordField=I1,Ns.AcroFormAppearance=Ht,Ns.AcroForm={ChoiceField:Lp,ListBox:Fp,ComboBox:Up,EditBox:E1,Button:wi,PushButton:k1,RadioButton:Rp,CheckBox:P1,TextField:yf,PasswordField:I1,Appearance:Ht},Yt.AcroForm={ChoiceField:Lp,ListBox:Fp,ComboBox:Up,EditBox:E1,Button:wi,PushButton:k1,RadioButton:Rp,CheckBox:P1,TextField:yf,PasswordField:I1,Appearance:Ht};Yt.AcroForm;function eX(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(E,k){var M,U,W,Y,Q,z=r;if((k=k||r)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(B(E))for(Q in n)for(W=n[Q],M=0;M<W.length;M+=1){for(Y=!0,U=0;U<W[M].length;U+=1)if(W[M][U]!==void 0&&W[M][U]!==E[U]){Y=!1;break}if(Y===!0){z=Q;break}}else for(Q in n)for(W=n[Q],M=0;M<W.length;M+=1){for(Y=!0,U=0;U<W[M].length;U+=1)if(W[M][U]!==void 0&&W[M][U]!==E.charCodeAt(U)){Y=!1;break}if(Y===!0){z=Q;break}}return z===r&&k!==r&&(z=k),z},a=function E(k){for(var M=this.internal.write,U=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:k.width}),Y.push({key:"Height",value:k.height}),k.colorSpace===y.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===y.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var Q="",z=0,te=k.transparency.length;z<te;z++)Q+=k.transparency[z]+" "+k.transparency[z]+" ";Y.push({key:"Mask",value:"["+Q+"]"})}k.sMask!==void 0&&Y.push({key:"SMask",value:k.objectId+1+" 0 R"});var re=k.filter!==void 0?["/"+k.filter]:void 0;if(U({data:k.data,additionalKeyValues:Y,alreadyAppliedFilters:re,objectId:k.objectId}),M("endobj"),"sMask"in k&&k.sMask!==void 0){var J,H=(J=k.sMaskBitsPerComponent)!==null&&J!==void 0?J:k.bitsPerComponent,Z={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:H,data:k.sMask};"filter"in k&&(Z.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(H," /Columns ").concat(k.width),Z.filter=k.filter),E.call(this,Z)}if(k.colorSpace===y.INDEXED){var K=this.internal.newObject();U({data:P(new Uint8Array(k.palette)),objectId:K}),M("endobj")}},o=function(){var E=this.internal.collections[t+"images"];for(var k in E)a.call(this,E[k])},l=function(){var E,k=this.internal.collections[t+"images"],M=this.internal.write;for(var U in k)M("/I"+(E=k[U]).index,E.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var E=this.internal.collections[t+"images"];return c.call(this),E},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(E){return typeof e["process"+E.toUpperCase()]=="function"},f=function(E){return pn(E)==="object"&&E.nodeType===1},m=function(E,k){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var M=""+E.getAttribute("src");if(M.indexOf("data:image/")===0)return S1(unescape(M).split("base64,").pop());var U=e.loadFile(M,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var W;switch(k){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;default:W="image/jpeg"}return S1(E.toDataURL(W,1).split("base64,").pop())}},x=function(E){var k=this.internal.collections[t+"images"];if(k){for(var M in k)if(E===k[M].alias)return k[M]}},p=function(E,k,M){return E||k||(E=-96,k=-96),E<0&&(E=-1*M.width*72/E/this.internal.scaleFactor),k<0&&(k=-1*M.height*72/k/this.internal.scaleFactor),E===0&&(E=k*M.width/M.height),k===0&&(k=E*M.height/M.width),[E,k]},v=function(E,k,M,U,W,Y){var Q=p.call(this,M,U,W),z=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,re=d.call(this);if(M=Q[0],U=Q[1],re[W.index]=W,Y){Y*=Math.PI/180;var J=Math.cos(Y),H=Math.sin(Y),Z=function(ie){return ie.toFixed(4)},K=[Z(J),Z(H),Z(-1*H),Z(J),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,z(E),te(k+U),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([z(M),"0","0",z(U),"0","0","cm"].join(" "))):this.internal.write([z(M),"0","0",z(U),z(E),te(k+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var k,M,U=0;if(typeof E=="string")for(M=E.length,k=0;k<M;k++)U=(U<<5)-U+E.charCodeAt(k),U|=0;else if(B(E))for(M=E.byteLength/2,k=0;k<M;k++)U=(U<<5)-U+E[k],U|=0;return U},j=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var k=!0;return E.length===0&&(k=!1),E.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(k=!1),k},N=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var k=E.indexOf(",");return k<0?null:E.substring(0,k).trim().endsWith("base64")?E.substring(k+1):null};e.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var B=e.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},I=e.__addimage__.binaryStringToUint8Array=function(E){for(var k=E.length,M=new Uint8Array(k),U=0;U<k;U++)M[U]=E.charCodeAt(U);return M},P=e.__addimage__.arrayBufferToBinaryString=function(E){for(var k="",M=B(E)?E:new Uint8Array(E),U=0;U<M.length;U+=8192)k+=String.fromCharCode.apply(null,M.subarray(U,U+8192));return k};e.addImage=function(){var E,k,M,U,W,Y,Q,z,te;if(typeof arguments[1]=="number"?(k=r,M=arguments[1],U=arguments[2],W=arguments[3],Y=arguments[4],Q=arguments[5],z=arguments[6],te=arguments[7]):(k=arguments[1],M=arguments[2],U=arguments[3],W=arguments[4],Y=arguments[5],Q=arguments[6],z=arguments[7],te=arguments[8]),pn(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var re=E;E=re.imageData,k=re.format||k||r,M=re.x||M||0,U=re.y||U||0,W=re.w||re.width||W,Y=re.h||re.height||Y,Q=re.alias||Q,z=re.compression||z,te=re.rotation||re.angle||te}var J=this.internal.getFilters();if(z===void 0&&J.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(M)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var H=T.call(this,E,k,Q,z);return v.call(this,M,U,W,Y,H,te),this};var T=function(E,k,M,U){var W,Y,Q;if(typeof E=="string"&&i(E)===r){E=unescape(E);var z=F(E,!1);(z!==""||(z=e.loadFile(E,!0))!==void 0)&&(E=z)}if(f(E)&&(E=m(E,k)),k=i(E,k),!A(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((Q=M)==null||Q.length===0)&&(M=function(te){return typeof te=="string"||B(te)?w(te):B(te.data)?w(te.data):null}(E)),(W=x.call(this,M))||(E instanceof Uint8Array||k==="RGBA"||(Y=E,E=I(E)),W=this["process"+k.toUpperCase()](E,u.call(this),M,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:b.NONE}(U),Y)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},F=e.__addimage__.convertBase64ToBinaryString=function(E,k){k=typeof k!="boolean"||k;var M,U="";if(typeof E=="string"){var W;M=(W=N(E))!==null&&W!==void 0?W:E;try{U=S1(M)}catch(Y){if(k)throw j(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(E){var k,M,U="";if(f(E)&&(E=m(E)),typeof E=="string"&&i(E)===r&&((U=F(E,!1))===""&&(U=e.loadFile(E)||""),E=U),M=i(E),!A(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(E instanceof Uint8Array||(E=I(E)),!(k=this["process"+M.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=M,k}})(Yt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,A=0;A<d.length&&!u;A++)switch((n=d[A]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){n=d[f];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(p.objId),b=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(y(n.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(y(b))+") >>",p.content=a;var w=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(p.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var B=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+i),h:d(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,i,a),i+=.2*d,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-d,l,o,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Yt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=e.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&i.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length==4},A=e.__arabicParser__.resolveLigatures=function(p){var v=0,y=r,b="",w=0;for(v=0;v<p.length;v+=1)y[p.charCodeAt(v)]!==void 0?(w++,typeof(y=y[p.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(y),y=r,w=0),v===p.length-1&&(y=r,b+=p.charAt(v-(w-1)),v-=w-1,w=0)):(y=r,b+=p.charAt(v-w),v-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(p,v,y){return o(p)?a(p)===!1?-1:!d(p)||!o(v)&&!o(y)||!o(y)&&l(v)||l(p)&&!o(v)||l(p)&&c(v)||l(p)&&l(v)?0:u(p)&&o(v)&&!l(v)&&o(y)&&d(y)?3:l(p)||!o(y)?1:2:-1},m=function(p){var v=0,y=0,b=0,w="",j="",N="",B=(p=p||"").split("\\s+"),I=[];for(v=0;v<B.length;v+=1){for(I.push(""),y=0;y<B[v].length;y+=1)w=B[v][y],j=B[v][y-1],N=B[v][y+1],o(w)?(b=f(w,j,N),I[v]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):I[v]+=w;I[v]=A(I[v])}return I.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var p,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var b=0;for(y=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?y.push([m(v[b][0]),v[b][1],v[b][2]]):y.push([m(v[b])]);p=y}else p=m(v);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",x])}(Yt.API),Yt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Yt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(p){m=p}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(p){x=p}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,p=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=d.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,j){return w.concat(v.splitTextToSize(j,y))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)m<(p=this.getStringUnitWidth(c[b],{font:A})*u)&&(m=p);return m!==0&&(x=c.length),{w:m/=f,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=A.top,m&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,A,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var m,x,p,v,y=[],b=[],w=[],j={},N={},B=[],I=[],P=(f=f||{}).autoSize||!1,T=f.printHeaders!==!1,F=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,E=f.margins||Object.assign({width:this.getPageWidth()},t),k=typeof f.padding=="number"?f.padding:3,M=f.headerBackgroundColor||"#c8c8c8",U=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=U,this.setFontSize(F),A==null)b=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(A)&&pn(A[0])==="object")for(y=A.map(function(re){return re.name}),b=A.map(function(re){return re.prompt||re.name||""}),w=A.map(function(re){return re.align||"left"}),m=0;m<A.length;m+=1)N[A[m].name]=.7499990551181103*A[m].width;else Array.isArray(A)&&typeof A[0]=="string"&&(b=y=A,w=y.map(function(){return"left"}));if(P||Array.isArray(A)&&typeof A[0]=="string")for(m=0;m<y.length;m+=1){for(j[v=y[m]]=u.map(function(re){return re[v]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=j[v],this.setFont(void 0,"normal"),p=0;p<x.length;p+=1)B.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[v]=Math.max.apply(null,B)+k+k,B=[]}if(T){var W={};for(m=0;m<y.length;m+=1)W[y[m]]={},W[y[m]].text=b[m],W[y[m]].align=w[m];var Y=l.call(this,W,N);I=y.map(function(re){return new a(c,d,N[re],Y,W[re].text,void 0,W[re].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var Q=A.reduce(function(re,J){return re[J.name]=J.align,re},{});for(m=0;m<u.length;m+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:m,data:u[m]},this);var z=l.call(this,u[m],N);for(p=0;p<y.length;p+=1){var te=u[m][y[p]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:m,col:p,data:te},this),o.call(this,new a(c,d,N[y[p]],z,te,m+2,Q[y[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*A/f+u+u},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(Yt.API);var tX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],EE=eX(rX),nX=[100,200,300,400,500,600,700,800,900],IBe=eX(nX);function NB(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return tX[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof EE[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function VD(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var TBe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},KD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function WD(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function GD(e){return e.trimLeft()}function OBe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function LBe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Sw,qD,YD,Rm,Ew,XD,ZD,JD,_B=["times"];function eM(e,t,r,n,i){var a=4,o=rM;switch(i){case Yt.API.image_compression.FAST:a=1,o=tM;break;case Yt.API.image_compression.MEDIUM:a=6,o=nM;break;case Yt.API.image_compression.SLOW:a=9,o=sM}e=function(c,d,u,A){for(var f,m=c.length/d,x=new Uint8Array(c.length+m),p=[FBe,tM,rM,nM,sM],v=0;v<m;v+=1){var y=v*d,b=c.subarray(y,y+d);if(A)x.set(A(b,u,f),y+v);else{for(var w=p.length,j=[],N=0;N<w;N+=1)j[N]=p[N](b,u,f);var B=RBe(j.concat());x.set(j[B],y+v)}f=b}return x}(e,t,Math.ceil(r*n/8),o);var l=wE(e,{level:a});return Yt.API.__addimage__.arrayBufferToBinaryString(l)}function FBe(e){var t=Array.apply([],e);return t.unshift(0),t}function tM(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function rM(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=e[a]-o+256&255}return i}function nM(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=e[a-t]||0,l=r&&r[a]||0;i[a+1]=e[a]+256-(o+l>>>1)&255}return i}function sM(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=UBe(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function UBe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function RBe(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function CB(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return sX(e,i)>>a&o}function iM(e,t,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,c=(t&l)<<o;(function(d,u,A){if(u+1<d.byteLength)d.setUint16(u,A,!1);else{var f=A>>8&255;d.setUint8(u,f)}})(e,a,sX(e,a)&~(l<<o)&65535|c)}function sX(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function DBe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var d=!0,u=[],A=0,f=null,m=0,x=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];A=e[t++]|e[t++]<<8,f=e[t++],1&p||(f=null),m=p>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++],N=j>>6&1,B=1<<1+(7&j),I=l,P=c,T=!1;j>>7&&(T=!0,I=t,P=B,t+=3*B);var F=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:b,height:w,has_local_palette:T,palette_offset:I,palette_size:P,data_offset:F,data_length:t-F,transparent_index:f,interlaced:!!N,delay:A,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,M){var U=this.frameInfo(k),W=U.width*U.height,Y=new Uint8Array(W);aM(e,U.data_offset,Y,W);var Q=U.palette_offset,z=U.transparent_index;z===null&&(z=256);var te=U.width,re=r-te,J=te,H=4*(U.y*r+U.x),Z=4*((U.y+U.height)*r+U.x),K=H,ie=4*re;U.interlaced===!0&&(ie+=4*r*7);for(var oe=8,he=0,pe=Y.length;he<pe;++he){var ee=Y[he];if(J===0&&(J=te,(K+=ie)>=Z&&(ie=4*re+4*r*(oe-1),K=H+(te+re)*(oe<<1),oe>>=1)),ee===z)K+=4;else{var fe=e[Q+3*ee],ue=e[Q+3*ee+1],V=e[Q+3*ee+2];M[K++]=V,M[K++]=ue,M[K++]=fe,M[K++]=255}--J}},this.decodeAndBlitFrameRGBA=function(k,M){var U=this.frameInfo(k),W=U.width*U.height,Y=new Uint8Array(W);aM(e,U.data_offset,Y,W);var Q=U.palette_offset,z=U.transparent_index;z===null&&(z=256);var te=U.width,re=r-te,J=te,H=4*(U.y*r+U.x),Z=4*((U.y+U.height)*r+U.x),K=H,ie=4*re;U.interlaced===!0&&(ie+=4*r*7);for(var oe=8,he=0,pe=Y.length;he<pe;++he){var ee=Y[he];if(J===0&&(J=te,(K+=ie)>=Z&&(ie=4*re+4*r*(oe-1),K=H+(te+re)*(oe<<1),oe>>=1)),ee===z)K+=4;else{var fe=e[Q+3*ee],ue=e[Q+3*ee+1],V=e[Q+3*ee+2];M[K++]=fe,M[K++]=ue,M[K++]=V,M[K++]=255}--J}}}function aM(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,d=(1<<c)-1,u=0,A=0,f=0,m=e[t++],x=new Int32Array(4096),p=null;;){for(;u<16&&m!==0;)A|=e[t++]<<u,u+=8,m===1?m=e[t++]:--m;if(u<c)break;var v=A&d;if(A>>=c,u-=c,v!==a){if(v===o)break;for(var y=v<l?v:p,b=0,w=y;w>a;)w=x[w]>>8,++b;var j=w;if(f+b+(y!==v?1:0)>n)return void kn.log("Warning, gif stream longer than expected.");r[f++]=j;var N=f+=b;for(y!==v&&(r[f++]=j),w=y;b--;)w=x[w],r[--N]=255&w,w>>=8;p!==null&&l<4096&&(x[l++]=p<<8|j,l>=d+1&&c<12&&(++c,d=d<<1|1)),p=v}else l=o+1,d=(1<<(c=i+1))-1,p=null}return f!==n&&kn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function BB(e){var t,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),A=new Array(65535),f=new Array(65535),m=new Array(64),x=new Array(64),p=[],v=0,y=7,b=new Array(64),w=new Array(64),j=new Array(64),N=new Array(256),B=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(H,Z){for(var K=0,ie=0,oe=new Array,he=1;he<=16;he++){for(var pe=1;pe<=H[he];pe++)oe[Z[ie]]=[],oe[Z[ie]][0]=K,oe[Z[ie]][1]=he,ie++,K++;K*=2}return oe}function Q(H){for(var Z=H[0],K=H[1]-1;K>=0;)Z&1<<K&&(v|=1<<y),K--,--y<0&&(v==255?(z(255),z(0)):z(v),y=7,v=0)}function z(H){p.push(H)}function te(H){z(H>>8&255),z(255&H)}function re(H,Z,K,ie,oe){for(var he,pe=oe[0],ee=oe[240],fe=function(Te,lt){var tt,ge,Be,Ne,ke,Me,ot,nt,rt,Ke,st=0;for(rt=0;rt<8;++rt){tt=Te[st],ge=Te[st+1],Be=Te[st+2],Ne=Te[st+3],ke=Te[st+4],Me=Te[st+5],ot=Te[st+6];var at=tt+(nt=Te[st+7]),gt=tt-nt,Bt=ge+ot,_t=ge-ot,Vt=Be+Me,yt=Be-Me,At=Ne+ke,it=Ne-ke,dt=at+At,et=at-At,Ve=Bt+Vt,Ct=Bt-Vt;Te[st]=dt+Ve,Te[st+4]=dt-Ve;var Zt=.707106781*(Ct+et);Te[st+2]=et+Zt,Te[st+6]=et-Zt;var Qn=.382683433*((dt=it+yt)-(Ct=_t+gt)),tr=.5411961*dt+Qn,qr=1.306562965*Ct+Qn,_n=.707106781*(Ve=yt+_t),Ft=gt+_n,ps=gt-_n;Te[st+5]=ps+tr,Te[st+3]=ps-tr,Te[st+1]=Ft+qr,Te[st+7]=Ft-qr,st+=8}for(st=0,rt=0;rt<8;++rt){tt=Te[st],ge=Te[st+8],Be=Te[st+16],Ne=Te[st+24],ke=Te[st+32],Me=Te[st+40],ot=Te[st+48];var gs=tt+(nt=Te[st+56]),Tn=tt-nt,ss=ge+ot,vr=ge-ot,St=Be+Me,un=Be-Me,ti=Ne+ke,Hs=Ne-ke,is=gs+ti,as=gs-ti,os=ss+St,Cn=ss-St;Te[st]=is+os,Te[st+32]=is-os;var Ze=.707106781*(Cn+as);Te[st+16]=as+Ze,Te[st+48]=as-Ze;var jt=.382683433*((is=Hs+un)-(Cn=vr+Tn)),Pt=.5411961*is+jt,ft=1.306562965*Cn+jt,Ut=.707106781*(os=un+vr),vn=Tn+Ut,Lr=Tn-Ut;Te[st+40]=Lr+Pt,Te[st+24]=Lr-Pt,Te[st+8]=vn+ft,Te[st+56]=vn-ft,st++}for(rt=0;rt<64;++rt)Ke=Te[rt]*lt[rt],m[rt]=Ke>0?Ke+.5|0:Ke-.5|0;return m}(H,Z),ue=0;ue<64;++ue)x[I[ue]]=fe[ue];var V=x[0]-K;K=x[0],V==0?Q(ie[0]):(Q(ie[f[he=32767+V]]),Q(A[he]));for(var ve=63;ve>0&&x[ve]==0;)ve--;if(ve==0)return Q(pe),K;for(var Se,ne=1;ne<=ve;){for(var xe=ne;x[ne]==0&&ne<=ve;)++ne;var Le=ne-xe;if(Le>=16){Se=Le>>4;for(var ze=1;ze<=Se;++ze)Q(ee);Le&=15}he=32767+x[ne],Q(oe[(Le<<4)+f[he]]),Q(A[he]),ne++}return ve!=63&&Q(pe),K}function J(H){H=Math.min(Math.max(H,1),100),a!=H&&(function(Z){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var oe=o((K[ie]*Z+50)/100);oe=Math.min(Math.max(oe,1),255),l[I[ie]]=oe}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ee=o((he[pe]*Z+50)/100);ee=Math.min(Math.max(ee,1),255),c[I[pe]]=ee}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ue=0,V=0;V<8;V++)for(var ve=0;ve<8;ve++)d[ue]=1/(l[I[ue]]*fe[V]*fe[ve]*8),u[ue]=1/(c[I[ue]]*fe[V]*fe[ve]*8),ue++}(H<50?Math.floor(5e3/H):Math.floor(200-2*H)),a=H)}this.encode=function(H,Z){Z&&J(Z),p=new Array,v=0,y=7,te(65496),te(65504),te(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),te(1),te(1),z(0),z(0),function(){te(65499),te(132),z(0);for(var ge=0;ge<64;ge++)z(l[ge]);z(1);for(var Be=0;Be<64;Be++)z(c[Be])}(),function(ge,Be){te(65472),te(17),z(8),te(Be),te(ge),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(H.width,H.height),function(){te(65476),te(418),z(0);for(var ge=0;ge<16;ge++)z(P[ge+1]);for(var Be=0;Be<=11;Be++)z(T[Be]);z(16);for(var Ne=0;Ne<16;Ne++)z(F[Ne+1]);for(var ke=0;ke<=161;ke++)z(E[ke]);z(1);for(var Me=0;Me<16;Me++)z(k[Me+1]);for(var ot=0;ot<=11;ot++)z(M[ot]);z(17);for(var nt=0;nt<16;nt++)z(U[nt+1]);for(var rt=0;rt<=161;rt++)z(W[rt])}(),te(65498),te(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var K=0,ie=0,oe=0;v=0,y=7,this.encode.displayName="_encode_";for(var he,pe,ee,fe,ue,V,ve,Se,ne,xe=H.data,Le=H.width,ze=H.height,Te=4*Le,lt=0;lt<ze;){for(he=0;he<Te;){for(ue=Te*lt+he,ve=-1,Se=0,ne=0;ne<64;ne++)V=ue+(Se=ne>>3)*Te+(ve=4*(7&ne)),lt+Se>=ze&&(V-=Te*(lt+1+Se-ze)),he+ve>=Te&&(V-=he+ve-Te+4),pe=xe[V++],ee=xe[V++],fe=xe[V++],b[ne]=(B[pe]+B[ee+256|0]+B[fe+512|0]>>16)-128,w[ne]=(B[pe+768|0]+B[ee+1024|0]+B[fe+1280|0]>>16)-128,j[ne]=(B[pe+1280|0]+B[ee+1536|0]+B[fe+1792|0]>>16)-128;K=re(b,d,K,t,n),ie=re(w,u,ie,r,i),oe=re(j,u,oe,r,i),he+=32}lt+=8}if(y>=0){var tt=[];tt[1]=y+1,tt[0]=(1<<y+1)-1,Q(tt)}return te(65497),new Uint8Array(p)},e=e||50,function(){for(var H=String.fromCharCode,Z=0;Z<256;Z++)N[Z]=H(Z)}(),t=Y(P,T),r=Y(k,M),n=Y(F,E),i=Y(U,W),function(){for(var H=1,Z=2,K=1;K<=15;K++){for(var ie=H;ie<Z;ie++)f[32767+ie]=K,A[32767+ie]=[],A[32767+ie][1]=K,A[32767+ie][0]=ie;for(var oe=-(Z-1);oe<=-H;oe++)f[32767+oe]=K,A[32767+oe]=[],A[32767+oe][1]=K,A[32767+oe][0]=Z-1+oe;H<<=1,Z<<=1}}(),function(){for(var H=0;H<256;H++)B[H]=19595*H,B[H+256|0]=38470*H,B[H+512|0]=7471*H+32768,B[H+768|0]=-11059*H,B[H+1024|0]=-21709*H,B[H+1280|0]=32768*H+8421375,B[H+1536|0]=-27439*H,B[H+1792|0]=-5329*H}(),J(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oM(e){function t(T){if(!T)throw Error("assert :P")}function r(T,F,E){for(var k=0;4>k;k++)if(T[F+k]!=E.charCodeAt(k))return!0;return!1}function n(T,F,E,k,M){for(var U=0;U<M;U++)T[F+U]=E[k+U]}function i(T,F,E,k){for(var M=0;M<k;M++)T[F+M]=E}function a(T){return new Int32Array(T)}function o(T,F){for(var E=[],k=0;k<T;k++)E.push(new F);return E}function l(T,F){var E=[];return function k(M,U,W){for(var Y=W[U],Q=0;Q<Y&&(M.push(W.length>U+1?[]:new F),!(W.length<U+1));Q++)k(M[Q],U+1,W)}(E,0,T),E}var c=function(){var T=this;function F(C,O){for(var $=1<<O-1>>>0;C&$;)$>>>=1;return $?(C&$-1)+$:C}function E(C,O,$,G,ae){t(!(G%$));do C[O+(G-=$)]=ae;while(0<G)}function k(C,O,$,G,ae){if(t(2328>=ae),512>=ae)var le=a(512);else if((le=a(ae))==null)return 0;return function(de,Ae,me,be,Pe,De){var we,Ie,Fe=Ae,qe=1<<me,Re=a(16),Xe=a(16);for(t(Pe!=0),t(be!=null),t(de!=null),t(0<me),Ie=0;Ie<Pe;++Ie){if(15<be[Ie])return 0;++Re[be[Ie]]}if(Re[0]==Pe)return 0;for(Xe[1]=0,we=1;15>we;++we){if(Re[we]>1<<we)return 0;Xe[we+1]=Xe[we]+Re[we]}for(Ie=0;Ie<Pe;++Ie)we=be[Ie],0<be[Ie]&&(De[Xe[we]++]=Ie);if(Xe[15]==1)return(be=new M).g=0,be.value=De[0],E(de,Fe,1,qe,be),qe;var Je,pt=-1,ht=qe-1,qt=0,Qt=1,Nr=1,Kt=1<<me;for(Ie=0,we=1,Pe=2;we<=me;++we,Pe<<=1){if(Qt+=Nr<<=1,0>(Nr-=Re[we]))return 0;for(;0<Re[we];--Re[we])(be=new M).g=we,be.value=De[Ie++],E(de,Fe+qt,Pe,Kt,be),qt=F(qt,we)}for(we=me+1,Pe=2;15>=we;++we,Pe<<=1){if(Qt+=Nr<<=1,0>(Nr-=Re[we]))return 0;for(;0<Re[we];--Re[we]){if(be=new M,(qt&ht)!=pt){for(Fe+=Kt,Je=1<<(pt=we)-me;15>pt&&!(0>=(Je-=Re[pt]));)++pt,Je<<=1;qe+=Kt=1<<(Je=pt-me),de[Ae+(pt=qt&ht)].g=Je+me,de[Ae+pt].value=Fe-Ae-pt}be.g=we-me,be.value=De[Ie++],E(de,Fe+(qt>>me),Pe,Kt,be),qt=F(qt,we)}}return Qt!=2*Xe[15]-1?0:qe}(C,O,$,G,ae,le)}function M(){this.value=this.g=0}function U(){this.value=this.g=0}function W(){this.G=o(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Qo,U)}function Y(C,O,$,G){t(C!=null),t(O!=null),t(2147483648>G),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=O,C.pa=$,C.Jd=O,C.Yc=$+G,C.Zc=4<=G?$+G-4+1:$,pe(C)}function Q(C,O){for(var $=0;0<O--;)$|=fe(C,128)<<O;return $}function z(C,O){var $=Q(C,O);return ee(C)?-$:$}function te(C,O,$,G){var ae,le=0;for(t(C!=null),t(O!=null),t(4294967288>G),C.Sb=G,C.Ra=0,C.u=0,C.h=0,4<G&&(G=4),ae=0;ae<G;++ae)le+=O[$+ae]<<8*ae;C.Ra=le,C.bb=G,C.oa=O,C.pa=$}function re(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<oo-8>>>0,++C.bb,C.u-=8;ie(C)&&(C.h=1,C.u=0)}function J(C,O){if(t(0<=O),!C.h&&O<=vs){var $=K(C)&ua[O];return C.u+=O,re(C),$}return C.h=1,C.u=0}function H(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(C){return C.Ra>>>(C.u&oo-1)>>>0}function ie(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>oo}function oe(C,O){C.u=O,C.h=ie(C)}function he(C){C.u>=Ul&&(t(C.u>=Ul),re(C))}function pe(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function ee(C){return Q(C,1)}function fe(C,O){var $=C.Ca;0>C.b&&pe(C);var G=C.b,ae=$*O>>>8,le=(C.I>>>G>ae)+0;for(le?($-=ae,C.I-=ae+1<<G>>>0):$=ae+1,G=$,ae=0;256<=G;)ae+=8,G>>=8;return G=7^ae+$o[G],C.b-=G,C.Ca=($<<G)-1,le}function ue(C,O,$){C[O+0]=$>>24&255,C[O+1]=$>>16&255,C[O+2]=$>>8&255,C[O+3]=255&$}function V(C,O){return C[O+0]|C[O+1]<<8}function ve(C,O){return V(C,O)|C[O+2]<<16}function Se(C,O){return V(C,O)|V(C,O+2)<<16}function ne(C,O){var $=1<<O;return t(C!=null),t(0<O),C.X=a($),C.X==null?0:(C.Mb=32-O,C.Xa=O,1)}function xe(C,O){t(C!=null),t(O!=null),t(C.Xa==O.Xa),n(O.X,0,C.X,0,1<<O.Xa)}function Le(){this.X=[],this.Xa=this.Mb=0}function ze(C,O,$,G){t($!=null),t(G!=null);var ae=$[0],le=G[0];return ae==0&&(ae=(C*le+O/2)/O),le==0&&(le=(O*ae+C/2)/C),0>=ae||0>=le?0:($[0]=ae,G[0]=le,1)}function Te(C,O){return C+(1<<O)-1>>>O}function lt(C,O){return((4278255360&C)+(4278255360&O)>>>0&4278255360)+((16711935&C)+(16711935&O)>>>0&16711935)>>>0}function tt(C,O){T[O]=function($,G,ae,le,de,Ae,me){var be;for(be=0;be<de;++be){var Pe=T[C](Ae[me+be-1],ae,le+be);Ae[me+be]=lt($[G+be],Pe)}}}function ge(){this.ud=this.hd=this.jd=0}function Be(C,O){return((4278124286&(C^O))>>>1)+(C&O)>>>0}function Ne(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function ke(C,O){return Ne(C+(C-O+.5>>1))}function Me(C,O,$){return Math.abs(O-$)-Math.abs(C-$)}function ot(C,O,$,G,ae,le,de){for(G=le[de-1],$=0;$<ae;++$)le[de+$]=G=lt(C[O+$],G)}function nt(C,O,$,G,ae){var le;for(le=0;le<$;++le){var de=C[O+le],Ae=de>>8&255,me=16711935&(me=(me=16711935&de)+((Ae<<16)+Ae));G[ae+le]=(4278255360&de)+me>>>0}}function rt(C,O){O.jd=255&C,O.hd=C>>8&255,O.ud=C>>16&255}function Ke(C,O,$,G,ae,le){var de;for(de=0;de<G;++de){var Ae=O[$+de],me=Ae>>>8,be=Ae,Pe=255&(Pe=(Pe=Ae>>>16)+((C.jd<<24>>24)*(me<<24>>24)>>>5));be=255&(be=(be+=(C.hd<<24>>24)*(me<<24>>24)>>>5)+((C.ud<<24>>24)*(Pe<<24>>24)>>>5)),ae[le+de]=(4278255360&Ae)+(Pe<<16)+be}}function st(C,O,$,G,ae){T[O]=function(le,de,Ae,me,be,Pe,De,we,Ie){for(me=De;me<we;++me)for(De=0;De<Ie;++De)be[Pe++]=ae(Ae[G(le[de++])])},T[C]=function(le,de,Ae,me,be,Pe,De){var we=8>>le.b,Ie=le.Ea,Fe=le.K[0],qe=le.w;if(8>we)for(le=(1<<le.b)-1,qe=(1<<we)-1;de<Ae;++de){var Re,Xe=0;for(Re=0;Re<Ie;++Re)Re&le||(Xe=G(me[be++])),Pe[De++]=ae(Fe[Xe&qe]),Xe>>=we}else T["VP8LMapColor"+$](me,be,Fe,qe,Pe,De,de,Ae,Ie)}}function at(C,O,$,G,ae){for($=O+$;O<$;){var le=C[O++];G[ae++]=le>>16&255,G[ae++]=le>>8&255,G[ae++]=255&le}}function gt(C,O,$,G,ae){for($=O+$;O<$;){var le=C[O++];G[ae++]=le>>16&255,G[ae++]=le>>8&255,G[ae++]=255&le,G[ae++]=le>>24&255}}function Bt(C,O,$,G,ae){for($=O+$;O<$;){var le=(de=C[O++])>>16&240|de>>12&15,de=240&de|de>>28&15;G[ae++]=le,G[ae++]=de}}function _t(C,O,$,G,ae){for($=O+$;O<$;){var le=(de=C[O++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;G[ae++]=le,G[ae++]=de}}function Vt(C,O,$,G,ae){for($=O+$;O<$;){var le=C[O++];G[ae++]=255&le,G[ae++]=le>>8&255,G[ae++]=le>>16&255}}function yt(C,O,$,G,ae,le){if(le==0)for($=O+$;O<$;)ue(G,((le=C[O++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),ae+=32;else n(G,ae,C,O,$)}function At(C,O){T[O][0]=T[C+"0"],T[O][1]=T[C+"1"],T[O][2]=T[C+"2"],T[O][3]=T[C+"3"],T[O][4]=T[C+"4"],T[O][5]=T[C+"5"],T[O][6]=T[C+"6"],T[O][7]=T[C+"7"],T[O][8]=T[C+"8"],T[O][9]=T[C+"9"],T[O][10]=T[C+"10"],T[O][11]=T[C+"11"],T[O][12]=T[C+"12"],T[O][13]=T[C+"13"],T[O][14]=T[C+"0"],T[O][15]=T[C+"0"]}function it(C){return C==vm||C==bm||C==wm||C==h}function dt(){this.eb=[],this.size=this.A=this.fb=0}function et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ve(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new dt,this.f.kb=new et,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qn(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function tr(C,O){var $=C.T,G=O.ba.f.RGBA,ae=G.eb,le=G.fb+C.ka*G.A,de=Si[O.ba.S],Ae=C.y,me=C.O,be=C.f,Pe=C.N,De=C.ea,we=C.W,Ie=O.cc,Fe=O.dc,qe=O.Mc,Re=O.Nc,Xe=C.ka,Je=C.ka+C.T,pt=C.U,ht=pt+1>>1;for(Xe==0?de(Ae,me,null,null,be,Pe,De,we,be,Pe,De,we,ae,le,null,null,pt):(de(O.ec,O.fc,Ae,me,Ie,Fe,qe,Re,be,Pe,De,we,ae,le-G.A,ae,le,pt),++$);Xe+2<Je;Xe+=2)Ie=be,Fe=Pe,qe=De,Re=we,Pe+=C.Rc,we+=C.Rc,le+=2*G.A,de(Ae,(me+=2*C.fa)-C.fa,Ae,me,Ie,Fe,qe,Re,be,Pe,De,we,ae,le-G.A,ae,le,pt);return me+=C.fa,C.j+Je<C.o?(n(O.ec,O.fc,Ae,me,pt),n(O.cc,O.dc,be,Pe,ht),n(O.Mc,O.Nc,De,we,ht),$--):1&Je||de(Ae,me,null,null,be,Pe,De,we,be,Pe,De,we,ae,le+G.A,null,null,pt),$}function qr(C,O,$){var G=C.F,ae=[C.J];if(G!=null){var le=C.U,de=O.ba.S,Ae=de==BA||de==wm;O=O.ba.f.RGBA;var me=[0],be=C.ka;me[0]=C.T,C.Kb&&(be==0?--me[0]:(--be,ae[0]-=C.width),C.j+C.ka+C.T==C.o&&(me[0]=C.o-C.j-be));var Pe=O.eb;be=O.fb+be*O.A,C=f0(G,ae[0],C.width,le,me,Pe,be+(Ae?0:3),O.A),t($==me),C&&it(de)&&Wo(Pe,be,Ae,le,me,O.A)}return 0}function _n(C){var O=C.ma,$=O.ba.S,G=11>$,ae=$==_A||$==CA||$==BA||$==ym||$==12||it($);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!wA(O.Oa,C,ae?11:12))return 0;if(ae&&it($)&&Tl(),C.da)alert("todo:use_scaling");else{if(G){if(O.Ib=Qn,C.Kb){if($=C.U+1>>1,O.memory=a(C.U+2*$),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+C.U,O.Mc=O.cc,O.Nc=O.dc+$,O.Ib=tr,Tl()}}else alert("todo:EmitYUV");ae&&(O.Jb=qr,G&&si())}if(G&&!gT){for(C=0;256>C;++C)ore[C]=89858*(C-128)+db>>cb,dre[C]=-22014*(C-128)+db,cre[C]=-45773*(C-128),lre[C]=113618*(C-128)+db>>cb;for(C=v0;C<u_;++C)O=76283*(C-16)+db>>cb,ure[C-v0]=mr(O,255),hre[C-v0]=mr(O+8>>4,15);gT=1}return 1}function Ft(C){var O=C.ma,$=C.U,G=C.T;return t(!(1&C.ka)),0>=$||0>=G?0:($=O.Ib(C,O),O.Jb!=null&&O.Jb(C,O,$),O.Dc+=$,1)}function ps(C){C.ma.memory=null}function gs(C,O,$,G){return J(C,8)!=47?0:(O[0]=J(C,14)+1,$[0]=J(C,14)+1,G[0]=J(C,1),J(C,3)!=0?0:!C.h)}function Tn(C,O){if(4>C)return C+1;var $=C-2>>1;return(2+(1&C)<<$)+J(O,$)+1}function ss(C,O){return 120<O?O-120:1<=($=(($=Ce[O-1])>>4)*C+(8-(15&$)))?$:1;var $}function vr(C,O,$){var G=K($),ae=C[O+=255&G].g-8;return 0<ae&&(oe($,$.u+8),G=K($),O+=C[O].value,O+=G&(1<<ae)-1),oe($,$.u+C[O].g),C[O].value}function St(C,O,$){return $.g+=C.g,$.value+=C.value<<O>>>0,t(8>=$.g),C.g}function un(C,O,$){var G=C.xc;return t((O=G==0?0:C.vc[C.md*($>>G)+(O>>G)])<C.Wb),C.Ya[O]}function ti(C,O,$,G){var ae=C.ab,le=C.c*O,de=C.C;O=de+O;var Ae=$,me=G;for(G=C.Ta,$=C.Ua;0<ae--;){var be=C.gc[ae],Pe=de,De=O,we=Ae,Ie=me,Fe=(me=G,Ae=$,be.Ea);switch(t(Pe<De),t(De<=be.nc),be.hc){case 2:cs(we,Ie,(De-Pe)*Fe,me,Ae);break;case 0:var qe=Pe,Re=De,Xe=me,Je=Ae,pt=(Kt=be).Ea;qe==0&&(jA(we,Ie,null,null,1,Xe,Je),ot(we,Ie+1,0,0,pt-1,Xe,Je+1),Ie+=pt,Je+=pt,++qe);for(var ht=1<<Kt.b,qt=ht-1,Qt=Te(pt,Kt.b),Nr=Kt.K,Kt=Kt.w+(qe>>Kt.b)*Qt;qe<Re;){var Rr=Nr,ai=Kt,_r=1;for(Qi(we,Ie,Xe,Je-pt,1,Xe,Je);_r<pt;){var Wt=(_r&~qt)+ht;Wt>pt&&(Wt=pt),(0,Du[Rr[ai++]>>8&15])(we,Ie+ +_r,Xe,Je+_r-pt,Wt-_r,Xe,Je+_r),_r=Wt}Ie+=pt,Je+=pt,++qe&qt||(Kt+=Qt)}De!=be.nc&&n(me,Ae-Fe,me,Ae+(De-Pe-1)*Fe,Fe);break;case 1:for(Fe=we,Re=Ie,pt=(we=be.Ea)-(Je=we&~(Xe=(Ie=1<<be.b)-1)),qe=Te(we,be.b),ht=be.K,be=be.w+(Pe>>be.b)*qe;Pe<De;){for(qt=ht,Qt=be,Nr=new ge,Kt=Re+Je,Rr=Re+we;Re<Kt;)rt(qt[Qt++],Nr),_d(Nr,Fe,Re,Ie,me,Ae),Re+=Ie,Ae+=Ie;Re<Rr&&(rt(qt[Qt++],Nr),_d(Nr,Fe,Re,pt,me,Ae),Re+=pt,Ae+=pt),++Pe&Xe||(be+=qe)}break;case 3:if(we==me&&Ie==Ae&&0<be.b){for(Re=me,we=Fe=Ae+(De-Pe)*Fe-(Je=(De-Pe)*Te(be.Ea,be.b)),Ie=me,Xe=Ae,qe=[],Je=(pt=Je)-1;0<=Je;--Je)qe[Je]=Ie[Xe+Je];for(Je=pt-1;0<=Je;--Je)Re[we+Je]=qe[Je];Rl(be,Pe,De,me,Fe,me,Ae)}else Rl(be,Pe,De,we,Ie,me,Ae)}Ae=G,me=$}me!=$&&n(G,$,Ae,me,le)}function Hs(C,O){var $=C.V,G=C.Ba+C.c*C.C,ae=O-C.C;if(t(O<=C.l.o),t(16>=ae),0<ae){var le=C.l,de=C.Ta,Ae=C.Ua,me=le.width;if(ti(C,ae,$,G),ae=Ae=[Ae],t(($=C.C)<(G=O)),t(le.v<le.va),G>le.o&&(G=le.o),$<le.j){var be=le.j-$;$=le.j,ae[0]+=be*me}if($>=G?$=0:(ae[0]+=4*le.v,le.ka=$-le.j,le.U=le.va-le.v,le.T=G-$,$=1),$){if(Ae=Ae[0],11>($=C.ca).S){var Pe=$.f.RGBA,De=(G=$.S,ae=le.U,le=le.T,be=Pe.eb,Pe.A),we=le;for(Pe=Pe.fb+C.Ma*Pe.A;0<we--;){var Ie=de,Fe=Ae,qe=ae,Re=be,Xe=Pe;switch(G){case xm:Pc(Ie,Fe,qe,Re,Xe);break;case _A:zo(Ie,Fe,qe,Re,Xe);break;case vm:zo(Ie,Fe,qe,Re,Xe),Wo(Re,Xe,0,qe,1,0);break;case g0:Vo(Ie,Fe,qe,Re,Xe);break;case CA:yt(Ie,Fe,qe,Re,Xe,1);break;case bm:yt(Ie,Fe,qe,Re,Xe,1),Wo(Re,Xe,0,qe,1,0);break;case BA:yt(Ie,Fe,qe,Re,Xe,0);break;case wm:yt(Ie,Fe,qe,Re,Xe,0),Wo(Re,Xe,1,qe,1,0);break;case ym:lo(Ie,Fe,qe,Re,Xe);break;case h:lo(Ie,Fe,qe,Re,Xe),A0(Re,Xe,qe,1,0);break;case ab:ha(Ie,Fe,qe,Re,Xe);break;default:t(0)}Ae+=me,Pe+=De}C.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=$.height)}}C.C=O,t(C.C<=C.i)}function is(C){var O;if(0<C.ua)return 0;for(O=0;O<C.Wb;++O){var $=C.Ya[O].G,G=C.Ya[O].H;if(0<$[1][G[1]+0].g||0<$[2][G[2]+0].g||0<$[3][G[3]+0].g)return 0}return 1}function as(C,O,$,G,ae,le){if(C.Z!=0){var de=C.qd,Ae=C.rd;for(t(hn[C.Z]!=null);O<$;++O)hn[C.Z](de,Ae,G,ae,G,ae,le),de=G,Ae=ae,ae+=le;C.qd=de,C.rd=Ae}}function os(C,O){var $=C.l.ma,G=$.Z==0||$.Z==1?C.l.j:C.C;if(G=C.C<G?G:C.C,t(O<=C.l.o),O>G){var ae=C.l.width,le=$.ca,de=$.tb+ae*G,Ae=C.V,me=C.Ba+C.c*G,be=C.gc;t(C.ab==1),t(be[0].hc==3),Vs(be[0],G,O,Ae,me,le,de),as($,G,O,le,de,ae)}C.C=C.Ma=O}function Cn(C,O,$,G,ae,le,de){var Ae=C.$/G,me=C.$%G,be=C.m,Pe=C.s,De=$+C.$,we=De;ae=$+G*ae;var Ie=$+G*le,Fe=280+Pe.ua,qe=C.Pb?Ae:16777216,Re=0<Pe.ua?Pe.Wa:null,Xe=Pe.wc,Je=De<Ie?un(Pe,me,Ae):null;t(C.C<le),t(Ie<=ae);var pt=!1;e:for(;;){for(;pt||De<Ie;){var ht=0;if(Ae>=qe){var qt=De-$;t((qe=C).Pb),qe.wd=qe.m,qe.xd=qt,0<qe.s.ua&&xe(qe.s.Wa,qe.s.vb),qe=Ae+$e}if(me&Xe||(Je=un(Pe,me,Ae)),t(Je!=null),Je.Qb&&(O[De]=Je.qb,pt=!0),!pt)if(he(be),Je.jc){ht=be,qt=O;var Qt=De,Nr=Je.pd[K(ht)&Qo-1];t(Je.jc),256>Nr.g?(oe(ht,ht.u+Nr.g),qt[Qt]=Nr.value,ht=0):(oe(ht,ht.u+Nr.g-256),t(256<=Nr.value),ht=Nr.value),ht==0&&(pt=!0)}else ht=vr(Je.G[0],Je.H[0],be);if(be.h)break;if(pt||256>ht){if(!pt)if(Je.nd)O[De]=(Je.qb|ht<<8)>>>0;else{if(he(be),pt=vr(Je.G[1],Je.H[1],be),he(be),qt=vr(Je.G[2],Je.H[2],be),Qt=vr(Je.G[3],Je.H[3],be),be.h)break;O[De]=(Qt<<24|pt<<16|ht<<8|qt)>>>0}if(pt=!1,++De,++me>=G&&(me=0,++Ae,de!=null&&Ae<=le&&!(Ae%16)&&de(C,Ae),Re!=null))for(;we<De;)ht=O[we++],Re.X[(506832829*ht&4294967295)>>>Re.Mb]=ht}else if(280>ht){if(ht=Tn(ht-256,be),qt=vr(Je.G[4],Je.H[4],be),he(be),qt=ss(G,qt=Tn(qt,be)),be.h)break;if(De-$<qt||ae-De<ht)break e;for(Qt=0;Qt<ht;++Qt)O[De+Qt]=O[De+Qt-qt];for(De+=ht,me+=ht;me>=G;)me-=G,++Ae,de!=null&&Ae<=le&&!(Ae%16)&&de(C,Ae);if(t(De<=ae),me&Xe&&(Je=un(Pe,me,Ae)),Re!=null)for(;we<De;)ht=O[we++],Re.X[(506832829*ht&4294967295)>>>Re.Mb]=ht}else{if(!(ht<Fe))break e;for(pt=ht-280,t(Re!=null);we<De;)ht=O[we++],Re.X[(506832829*ht&4294967295)>>>Re.Mb]=ht;ht=De,t(!(pt>>>(qt=Re).Xa)),O[ht]=qt.X[pt],pt=!0}pt||t(be.h==ie(be))}if(C.Pb&&be.h&&De<ae)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&xe(C.s.vb,C.s.Wa);else{if(be.h)break e;de!=null&&de(C,Ae>le?le:Ae),C.a=0,C.$=De-$}return 1}return C.a=3,0}function Ze(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var O=C.Wa;O!=null&&(O.X=null),C.vb=null,t(C!=null)}function jt(){var C=new dr;return C==null?null:(C.a=0,C.xb=x0,At("Predictor","VP8LPredictors"),At("Predictor","VP8LPredictors_C"),At("PredictorAdd","VP8LPredictorsAdd"),At("PredictorAdd","VP8LPredictorsAdd_C"),cs=nt,_d=Ke,Pc=at,zo=gt,lo=Bt,ha=_t,Vo=Vt,T.VP8LMapColor32b=Ho,T.VP8LMapColor8b=kc,C)}function Pt(C,O,$,G,ae){var le=1,de=[C],Ae=[O],me=G.m,be=G.s,Pe=null,De=0;e:for(;;){if($)for(;le&&J(me,1);){var we=de,Ie=Ae,Fe=G,qe=1,Re=Fe.m,Xe=Fe.gc[Fe.ab],Je=J(Re,2);if(Fe.Oc&1<<Je)le=0;else{switch(Fe.Oc|=1<<Je,Xe.hc=Je,Xe.Ea=we[0],Xe.nc=Ie[0],Xe.K=[null],++Fe.ab,t(4>=Fe.ab),Je){case 0:case 1:Xe.b=J(Re,3)+2,qe=Pt(Te(Xe.Ea,Xe.b),Te(Xe.nc,Xe.b),0,Fe,Xe.K),Xe.K=Xe.K[0];break;case 3:var pt,ht=J(Re,8)+1,qt=16<ht?0:4<ht?1:2<ht?2:3;if(we[0]=Te(Xe.Ea,qt),Xe.b=qt,pt=qe=Pt(ht,1,0,Fe,Xe.K)){var Qt,Nr=ht,Kt=Xe,Rr=1<<(8>>Kt.b),ai=a(Rr);if(ai==null)pt=0;else{var _r=Kt.K[0],Wt=Kt.w;for(ai[0]=Kt.K[0][0],Qt=1;Qt<1*Nr;++Qt)ai[Qt]=lt(_r[Wt+Qt],ai[Qt-1]);for(;Qt<4*Rr;++Qt)ai[Qt]=0;Kt.K[0]=null,Kt.K[0]=ai,pt=1}}qe=pt;break;case 2:break;default:t(0)}le=qe}}if(de=de[0],Ae=Ae[0],le&&J(me,1)&&!(le=1<=(De=J(me,4))&&11>=De)){G.a=3;break e}var Et;if(Et=le)t:{var Ts,yr,Mr,zn=G,Ei=de,ma=Ae,ws=De,Vi=$,pa=zn.m,oi=zn.s,$r=[null],An=1,js=0,fn=Ue[ws];r:for(;;){if(Vi&&J(pa,1)){var ki=J(pa,3)+2,Ql=Te(Ei,ki),Os=Te(ma,ki),Qa=Ql*Os;if(!Pt(Ql,Os,0,zn,$r))break r;for($r=$r[0],oi.xc=ki,Ts=0;Ts<Qa;++Ts){var En=$r[Ts]>>8&65535;$r[Ts]=En,En>=An&&(An=En+1)}}if(pa.h)break r;for(yr=0;5>yr;++yr){var li=D[yr];!yr&&0<ws&&(li+=1<<ws),js<li&&(js=li)}var uo=o(An*fn,M),ga=An,ho=o(ga,W);if(ho==null)var Ao=null;else t(65536>=ga),Ao=ho;var $a=a(js);if(Ao==null||$a==null||uo==null){zn.a=1;break r}var fo=uo;for(Ts=Mr=0;Ts<An;++Ts){var Ln=Ao[Ts],mo=Ln.G,$l=Ln.H,SA=0,Cd=1,Pi=0;for(yr=0;5>yr;++yr){li=D[yr],mo[yr]=fo,$l[yr]=Mr,!yr&&0<ws&&(li+=1<<ws);s:{var hb,h_=li,Ab=zn,b0=$a,mre=fo,pre=Mr,A_=0,zu=Ab.m,gre=J(zu,1);if(i(b0,0,0,h_),gre){var xre=J(zu,1)+1,yre=J(zu,1),vT=J(zu,yre==0?1:8);b0[vT]=1,xre==2&&(b0[vT=J(zu,8)]=1);var fb=1}else{var bT=a(19),wT=J(zu,4)+4;if(19<wT){Ab.a=3;var mb=0;break s}for(hb=0;hb<wT;++hb)bT[ce[hb]]=J(zu,3);var f_=void 0,w0=void 0,jT=Ab,vre=bT,pb=h_,NT=b0,m_=0,Vu=jT.m,_T=8,CT=o(128,M);n:for(;k(CT,0,7,vre,19);){if(J(Vu,1)){var bre=2+2*J(Vu,3);if((f_=2+J(Vu,bre))>pb)break n}else f_=pb;for(w0=0;w0<pb&&f_--;){he(Vu);var BT=CT[0+(127&K(Vu))];oe(Vu,Vu.u+BT.g);var Nm=BT.value;if(16>Nm)NT[w0++]=Nm,Nm!=0&&(_T=Nm);else{var wre=Nm==16,ST=Nm-16,jre=S[ST],ET=J(Vu,g[ST])+jre;if(w0+ET>pb)break n;for(var Nre=wre?_T:0;0<ET--;)NT[w0++]=Nre}}m_=1;break n}m_||(jT.a=3),fb=m_}(fb=fb&&!zu.h)&&(A_=k(mre,pre,8,b0,h_)),fb&&A_!=0?mb=A_:(Ab.a=3,mb=0)}if(mb==0)break r;if(Cd&&q[yr]==1&&(Cd=fo[Mr].g==0),SA+=fo[Mr].g,Mr+=mb,3>=yr){var j0,p_=$a[0];for(j0=1;j0<li;++j0)$a[j0]>p_&&(p_=$a[j0]);Pi+=p_}}if(Ln.nd=Cd,Ln.Qb=0,Cd&&(Ln.qb=(mo[3][$l[3]+0].value<<24|mo[1][$l[1]+0].value<<16|mo[2][$l[2]+0].value)>>>0,SA==0&&256>mo[0][$l[0]+0].value&&(Ln.Qb=1,Ln.qb+=mo[0][$l[0]+0].value<<8)),Ln.jc=!Ln.Qb&&6>Pi,Ln.jc){var gb,Bd=Ln;for(gb=0;gb<Qo;++gb){var Ku=gb,Wu=Bd.pd[Ku],xb=Bd.G[0][Bd.H[0]+Ku];256<=xb.value?(Wu.g=xb.g+256,Wu.value=xb.value):(Wu.g=0,Wu.value=0,Ku>>=St(xb,8,Wu),Ku>>=St(Bd.G[1][Bd.H[1]+Ku],16,Wu),Ku>>=St(Bd.G[2][Bd.H[2]+Ku],0,Wu),St(Bd.G[3][Bd.H[3]+Ku],24,Wu))}}}oi.vc=$r,oi.Wb=An,oi.Ya=Ao,oi.yc=uo,Et=1;break t}Et=0}if(!(le=Et)){G.a=3;break e}if(0<De){if(be.ua=1<<De,!ne(be.Wa,De)){G.a=1,le=0;break e}}else be.ua=0;var g_=G,kT=de,_re=Ae,x_=g_.s,y_=x_.xc;if(g_.c=kT,g_.i=_re,x_.md=Te(kT,y_),x_.wc=y_==0?-1:(1<<y_)-1,$){G.xb=l_;break e}if((Pe=a(de*Ae))==null){G.a=1,le=0;break e}le=(le=Cn(G,Pe,0,de,Ae,Ae,null))&&!me.h;break e}return le?(ae!=null?ae[0]=Pe:(t(Pe==null),t($)),G.$=0,$||Ze(be)):Ze(be),le}function ft(C,O){var $=C.c*C.i,G=$+O+16*O;return t(C.c<=O),C.V=a(G),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+$+O,1)}function Ut(C,O){var $=C.C,G=O-$,ae=C.V,le=C.Ba+C.c*$;for(t(O<=C.l.o);0<G;){var de=16<G?16:G,Ae=C.l.ma,me=C.l.width,be=me*de,Pe=Ae.ca,De=Ae.tb+me*$,we=C.Ta,Ie=C.Ua;ti(C,de,ae,le),sb(we,Ie,Pe,De,be),as(Ae,$,$+de,Pe,De,me),G-=de,ae+=de*C.c,$+=de}t($==O),C.C=C.Ma=O}function vn(){this.ub=this.yd=this.td=this.Rb=0}function Lr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function je(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Qe(){this.Yb=function(){var C=[];return function O($,G,ae){for(var le=ae[G],de=0;de<le&&($.push(ae.length>G+1?[]:0),!(ae.length<G+1));de++)O($[de],G+1,ae)}(C,0,[3,11]),C}()}function Ge(){this.jb=a(3),this.Wc=l([4,8],Qe),this.Xc=l([4,17],Qe)}function xt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function $t(){this.ld=this.La=this.dd=this.tc=0}function Vr(){this.Na=this.la=0}function Jr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ri(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Nc(){this.uc=this.M=this.Nb=0,this.wa=Array(new $t),this.Y=0,this.ya=Array(new ri),this.aa=0,this.l=new en}function Ia(){this.y=a(16),this.f=a(8),this.ea=a(8)}function no(){this.cb=this.a=0,this.sc="",this.m=new H,this.Od=new vn,this.Kc=new Lr,this.ed=new xt,this.Qa=new je,this.Ic=this.$c=this.Aa=0,this.D=new Nc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,H),this.ia=0,this.pb=o(4,Jr),this.Pa=new Ge,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ia),this.Hd=0,this.rb=Array(new Vr),this.sb=0,this.wa=Array(new $t),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ri),this.L=this.aa=0,this.gd=l([4,2],$t),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function mr(C,O){return 0>C?0:C>O?O:C}function en(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ku(){var C=new no;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Jt||(Jt=ur)),C}function Bn(C,O,$){return C.a==0&&(C.a=O,C.sc=$,C.cb=0),0}function jl(C,O,$){return 3<=$&&C[O+0]==157&&C[O+1]==1&&C[O+2]==42}function Ta(C,O){if(C==null)return 0;if(C.a=0,C.sc="OK",O==null)return Bn(C,2,"null VP8Io passed to VP8GetHeaders()");var $=O.data,G=O.w,ae=O.ha;if(4>ae)return Bn(C,7,"Truncated header.");var le=$[G+0]|$[G+1]<<8|$[G+2]<<16,de=C.Od;if(de.Rb=!(1&le),de.td=le>>1&7,de.yd=le>>4&1,de.ub=le>>5,3<de.td)return Bn(C,3,"Incorrect keyframe parameters.");if(!de.yd)return Bn(C,4,"Frame not displayable.");G+=3,ae-=3;var Ae=C.Kc;if(de.Rb){if(7>ae)return Bn(C,7,"cannot parse picture header");if(!jl($,G,ae))return Bn(C,3,"Bad code word");Ae.c=16383&($[G+4]<<8|$[G+3]),Ae.Td=$[G+4]>>6,Ae.i=16383&($[G+6]<<8|$[G+5]),Ae.Ud=$[G+6]>>6,G+=7,ae-=7,C.za=Ae.c+15>>4,C.Ub=Ae.i+15>>4,O.width=Ae.c,O.height=Ae.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,i((le=C.Pa).jb,0,255,le.jb.length),t((le=C.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,i(le.Zb,0,0,le.Zb.length),i(le.Lb,0,0,le.Lb)}if(de.ub>ae)return Bn(C,7,"bad partition length");Y(le=C.m,$,G,de.ub),G+=de.ub,ae-=de.ub,de.Rb&&(Ae.Ld=ee(le),Ae.Kd=ee(le)),Ae=C.Qa;var me,be=C.Pa;if(t(le!=null),t(Ae!=null),Ae.Cb=ee(le),Ae.Cb){if(Ae.Bb=ee(le),ee(le)){for(Ae.Fb=ee(le),me=0;4>me;++me)Ae.Zb[me]=ee(le)?z(le,7):0;for(me=0;4>me;++me)Ae.Lb[me]=ee(le)?z(le,6):0}if(Ae.Bb)for(me=0;3>me;++me)be.jb[me]=ee(le)?Q(le,8):255}else Ae.Bb=0;if(le.Ka)return Bn(C,3,"cannot parse segment header");if((Ae=C.ed).zd=ee(le),Ae.Tb=Q(le,6),Ae.wb=Q(le,3),Ae.Pc=ee(le),Ae.Pc&&ee(le)){for(be=0;4>be;++be)ee(le)&&(Ae.vd[be]=z(le,6));for(be=0;4>be;++be)ee(le)&&(Ae.od[be]=z(le,6))}if(C.L=Ae.Tb==0?0:Ae.zd?1:2,le.Ka)return Bn(C,3,"cannot parse filter header");var Pe=ae;if(ae=me=G,G=me+Pe,Ae=Pe,C.Xb=(1<<Q(C.m,2))-1,Pe<3*(be=C.Xb))$=7;else{for(me+=3*be,Ae-=3*be,Pe=0;Pe<be;++Pe){var De=$[ae+0]|$[ae+1]<<8|$[ae+2]<<16;De>Ae&&(De=Ae),Y(C.Jc[+Pe],$,me,De),me+=De,Ae-=De,ae+=3}Y(C.Jc[+be],$,me,Ae),$=me<G?0:5}if($!=0)return Bn(C,$,"cannot parse partitions");for($=Q(me=C.m,7),ae=ee(me)?z(me,4):0,G=ee(me)?z(me,4):0,Ae=ee(me)?z(me,4):0,be=ee(me)?z(me,4):0,me=ee(me)?z(me,4):0,Pe=C.Qa,De=0;4>De;++De){if(Pe.Cb){var we=Pe.Zb[De];Pe.Fb||(we+=$)}else{if(0<De){C.pb[De]=C.pb[0];continue}we=$}var Ie=C.pb[De];Ie.Sc[0]=ut[mr(we+ae,127)],Ie.Sc[1]=It[mr(we+0,127)],Ie.Eb[0]=2*ut[mr(we+G,127)],Ie.Eb[1]=101581*It[mr(we+Ae,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=ut[mr(we+be,117)],Ie.Qc[1]=It[mr(we+me,127)],Ie.lc=we+me}if(!de.Rb)return Bn(C,4,"Not a key frame.");for(ee(le),de=C.Pa,$=0;4>$;++$){for(ae=0;8>ae;++ae)for(G=0;3>G;++G)for(Ae=0;11>Ae;++Ae)be=fe(le,Hu[$][ae][G][Ae])?Q(le,8):Ma[$][ae][G][Ae],de.Wc[$][ae].Yb[G][Ae]=be;for(ae=0;17>ae;++ae)de.Xc[$][ae]=de.Wc[$][o_[ae]]}return C.kc=ee(le),C.kc&&(C.Bd=Q(le,8)),C.cb=1}function ur(C,O,$,G,ae,le,de){var Ae=O[ae].Yb[$];for($=0;16>ae;++ae){if(!fe(C,Ae[$+0]))return ae;for(;!fe(C,Ae[$+1]);)if(Ae=O[++ae].Yb[0],$=0,ae==16)return 16;var me=O[ae+1].Yb;if(fe(C,Ae[$+2])){var be=C,Pe=0;if(fe(be,(we=Ae)[(De=$)+3]))if(fe(be,we[De+6])){for(Ae=0,De=2*(Pe=fe(be,we[De+8]))+(we=fe(be,we[De+9+Pe])),Pe=0,we=Br[De];we[Ae];++Ae)Pe+=Pe+fe(be,we[Ae]);Pe+=3+(8<<De)}else fe(be,we[De+7])?(Pe=7+2*fe(be,165),Pe+=fe(be,145)):Pe=5+fe(be,159);else Pe=fe(be,we[De+4])?3+fe(be,we[De+5]):2;Ae=me[2]}else Pe=1,Ae=me[1];me=de+Bi[ae],0>(be=C).b&&pe(be);var De,we=be.b,Ie=(De=be.Ca>>1)-(be.I>>we)>>31;--be.b,be.Ca+=Ie,be.Ca|=1,be.I-=(De+1&Ie)<<we,le[me]=((Pe^Ie)-Ie)*G[(0<ae)+0]}return 16}function On(C){var O=C.rb[C.sb-1];O.la=0,O.Na=0,i(C.zc,0,0,C.zc.length),C.ja=0}function Di(C,O,$,G,ae){ae=C[O+$+32*G]+(ae>>3),C[O+$+32*G]=-256&ae?0>ae?0:255:ae}function Xn(C,O,$,G,ae,le){Di(C,O,0,$,G+ae),Di(C,O,1,$,G+le),Di(C,O,2,$,G-le),Di(C,O,3,$,G-ae)}function xs(C){return(20091*C>>16)+C}function hm(C,O,$,G){var ae,le=0,de=a(16);for(ae=0;4>ae;++ae){var Ae=C[O+0]+C[O+8],me=C[O+0]-C[O+8],be=(35468*C[O+4]>>16)-xs(C[O+12]),Pe=xs(C[O+4])+(35468*C[O+12]>>16);de[le+0]=Ae+Pe,de[le+1]=me+be,de[le+2]=me-be,de[le+3]=Ae-Pe,le+=4,O++}for(ae=le=0;4>ae;++ae)Ae=(C=de[le+0]+4)+de[le+8],me=C-de[le+8],be=(35468*de[le+4]>>16)-xs(de[le+12]),Di($,G,0,0,Ae+(Pe=xs(de[le+4])+(35468*de[le+12]>>16))),Di($,G,1,0,me+be),Di($,G,2,0,me-be),Di($,G,3,0,Ae-Pe),le++,G+=32}function Pu(C,O,$,G){var ae=C[O+0]+4,le=35468*C[O+4]>>16,de=xs(C[O+4]),Ae=35468*C[O+1]>>16;Xn($,G,0,ae+de,C=xs(C[O+1]),Ae),Xn($,G,1,ae+le,C,Ae),Xn($,G,2,ae-le,C,Ae),Xn($,G,3,ae-de,C,Ae)}function Nl(C,O,$,G,ae){hm(C,O,$,G),ae&&hm(C,O+16,$,G+4)}function Yr(C,O,$,G){Ic(C,O+0,$,G,1),Ic(C,O+32,$,G+128,1)}function Uo(C,O,$,G){var ae;for(C=C[O+0]+4,ae=0;4>ae;++ae)for(O=0;4>O;++O)Di($,G,O,ae,C)}function _c(C,O,$,G){C[O+0]&&Kr(C,O+0,$,G),C[O+16]&&Kr(C,O+16,$,G+4),C[O+32]&&Kr(C,O+32,$,G+128),C[O+48]&&Kr(C,O+48,$,G+128+4)}function Ro(C,O,$,G){var ae,le=a(16);for(ae=0;4>ae;++ae){var de=C[O+0+ae]+C[O+12+ae],Ae=C[O+4+ae]+C[O+8+ae],me=C[O+4+ae]-C[O+8+ae],be=C[O+0+ae]-C[O+12+ae];le[0+ae]=de+Ae,le[8+ae]=de-Ae,le[4+ae]=be+me,le[12+ae]=be-me}for(ae=0;4>ae;++ae)de=(C=le[0+4*ae]+3)+le[3+4*ae],Ae=le[1+4*ae]+le[2+4*ae],me=le[1+4*ae]-le[2+4*ae],be=C-le[3+4*ae],$[G+0]=de+Ae>>3,$[G+16]=be+me>>3,$[G+32]=de-Ae>>3,$[G+48]=be-me>>3,G+=64}function _l(C,O,$){var G,ae=O-32,le=Hi,de=255-C[ae-1];for(G=0;G<$;++G){var Ae,me=le,be=de+C[O-1];for(Ae=0;Ae<$;++Ae)C[O+Ae]=me[be+C[ae+Ae]];O+=32}}function yd(C,O){_l(C,O,4)}function fA(C,O){_l(C,O,8)}function mA(C,O){_l(C,O,16)}function Cc(C,O){var $;for($=0;16>$;++$)n(C,O+32*$,C,O-32,16)}function Iu(C,O){var $;for($=16;0<$;--$)i(C,O,C[O-1],16),O+=32}function da(C,O,$){var G;for(G=0;16>G;++G)i(O,$+32*G,C,16)}function Tu(C,O){var $,G=16;for($=0;16>$;++$)G+=C[O-1+32*$]+C[O+$-32];da(G>>5,C,O)}function Bc(C,O){var $,G=8;for($=0;16>$;++$)G+=C[O-1+32*$];da(G>>4,C,O)}function vd(C,O){var $,G=8;for($=0;16>$;++$)G+=C[O+$-32];da(G>>4,C,O)}function u0(C,O){da(128,C,O)}function Nt(C,O,$){return C+2*O+$+2>>2}function Oa(C,O){var $,G=O-32;for(G=new Uint8Array([Nt(C[G-1],C[G+0],C[G+1]),Nt(C[G+0],C[G+1],C[G+2]),Nt(C[G+1],C[G+2],C[G+3]),Nt(C[G+2],C[G+3],C[G+4])]),$=0;4>$;++$)n(C,O+32*$,G,0,G.length)}function tn(C,O){var $=C[O-1],G=C[O-1+32],ae=C[O-1+64],le=C[O-1+96];ue(C,O+0,16843009*Nt(C[O-1-32],$,G)),ue(C,O+32,16843009*Nt($,G,ae)),ue(C,O+64,16843009*Nt(G,ae,le)),ue(C,O+96,16843009*Nt(ae,le,le))}function Am(C,O){var $,G=4;for($=0;4>$;++$)G+=C[O+$-32]+C[O-1+32*$];for(G>>=3,$=0;4>$;++$)i(C,O+32*$,G,4)}function so(C,O){var $=C[O-1+0],G=C[O-1+32],ae=C[O-1+64],le=C[O-1-32],de=C[O+0-32],Ae=C[O+1-32],me=C[O+2-32],be=C[O+3-32];C[O+0+96]=Nt(G,ae,C[O-1+96]),C[O+1+96]=C[O+0+64]=Nt($,G,ae),C[O+2+96]=C[O+1+64]=C[O+0+32]=Nt(le,$,G),C[O+3+96]=C[O+2+64]=C[O+1+32]=C[O+0+0]=Nt(de,le,$),C[O+3+64]=C[O+2+32]=C[O+1+0]=Nt(Ae,de,le),C[O+3+32]=C[O+2+0]=Nt(me,Ae,de),C[O+3+0]=Nt(be,me,Ae)}function io(C,O){var $=C[O+1-32],G=C[O+2-32],ae=C[O+3-32],le=C[O+4-32],de=C[O+5-32],Ae=C[O+6-32],me=C[O+7-32];C[O+0+0]=Nt(C[O+0-32],$,G),C[O+1+0]=C[O+0+32]=Nt($,G,ae),C[O+2+0]=C[O+1+32]=C[O+0+64]=Nt(G,ae,le),C[O+3+0]=C[O+2+32]=C[O+1+64]=C[O+0+96]=Nt(ae,le,de),C[O+3+32]=C[O+2+64]=C[O+1+96]=Nt(le,de,Ae),C[O+3+64]=C[O+2+96]=Nt(de,Ae,me),C[O+3+96]=Nt(Ae,me,me)}function pA(C,O){var $=C[O-1+0],G=C[O-1+32],ae=C[O-1+64],le=C[O-1-32],de=C[O+0-32],Ae=C[O+1-32],me=C[O+2-32],be=C[O+3-32];C[O+0+0]=C[O+1+64]=le+de+1>>1,C[O+1+0]=C[O+2+64]=de+Ae+1>>1,C[O+2+0]=C[O+3+64]=Ae+me+1>>1,C[O+3+0]=me+be+1>>1,C[O+0+96]=Nt(ae,G,$),C[O+0+64]=Nt(G,$,le),C[O+0+32]=C[O+1+96]=Nt($,le,de),C[O+1+32]=C[O+2+96]=Nt(le,de,Ae),C[O+2+32]=C[O+3+96]=Nt(de,Ae,me),C[O+3+32]=Nt(Ae,me,be)}function Cl(C,O){var $=C[O+0-32],G=C[O+1-32],ae=C[O+2-32],le=C[O+3-32],de=C[O+4-32],Ae=C[O+5-32],me=C[O+6-32],be=C[O+7-32];C[O+0+0]=$+G+1>>1,C[O+1+0]=C[O+0+64]=G+ae+1>>1,C[O+2+0]=C[O+1+64]=ae+le+1>>1,C[O+3+0]=C[O+2+64]=le+de+1>>1,C[O+0+32]=Nt($,G,ae),C[O+1+32]=C[O+0+96]=Nt(G,ae,le),C[O+2+32]=C[O+1+96]=Nt(ae,le,de),C[O+3+32]=C[O+2+96]=Nt(le,de,Ae),C[O+3+64]=Nt(de,Ae,me),C[O+3+96]=Nt(Ae,me,be)}function Sc(C,O){var $=C[O-1+0],G=C[O-1+32],ae=C[O-1+64],le=C[O-1+96];C[O+0+0]=$+G+1>>1,C[O+2+0]=C[O+0+32]=G+ae+1>>1,C[O+2+32]=C[O+0+64]=ae+le+1>>1,C[O+1+0]=Nt($,G,ae),C[O+3+0]=C[O+1+32]=Nt(G,ae,le),C[O+3+32]=C[O+1+64]=Nt(ae,le,le),C[O+3+64]=C[O+2+64]=C[O+0+96]=C[O+1+96]=C[O+2+96]=C[O+3+96]=le}function Bl(C,O){var $=C[O-1+0],G=C[O-1+32],ae=C[O-1+64],le=C[O-1+96],de=C[O-1-32],Ae=C[O+0-32],me=C[O+1-32],be=C[O+2-32];C[O+0+0]=C[O+2+32]=$+de+1>>1,C[O+0+32]=C[O+2+64]=G+$+1>>1,C[O+0+64]=C[O+2+96]=ae+G+1>>1,C[O+0+96]=le+ae+1>>1,C[O+3+0]=Nt(Ae,me,be),C[O+2+0]=Nt(de,Ae,me),C[O+1+0]=C[O+3+32]=Nt($,de,Ae),C[O+1+32]=C[O+3+64]=Nt(G,$,de),C[O+1+64]=C[O+3+96]=Nt(ae,G,$),C[O+1+96]=Nt(le,ae,G)}function $n(C,O){var $;for($=0;8>$;++$)n(C,O+32*$,C,O-32,8)}function Sl(C,O){var $;for($=0;8>$;++$)i(C,O,C[O-1],8),O+=32}function Do(C,O,$){var G;for(G=0;8>G;++G)i(O,$+32*G,C,8)}function fm(C,O){var $,G=8;for($=0;8>$;++$)G+=C[O+$-32]+C[O-1+32*$];Do(G>>4,C,O)}function gA(C,O){var $,G=4;for($=0;8>$;++$)G+=C[O+$-32];Do(G>>3,C,O)}function Ou(C,O){var $,G=4;for($=0;8>$;++$)G+=C[O-1+32*$];Do(G>>3,C,O)}function Lu(C,O){Do(128,C,O)}function El(C,O,$){var G=C[O-$],ae=C[O+0],le=3*(ae-G)+$u[1020+C[O-2*$]-C[O+$]],de=Tc[112+(le+4>>3)];C[O-$]=Hi[255+G+Tc[112+(le+3>>3)]],C[O+0]=Hi[255+ae-de]}function Fu(C,O,$,G){var ae=C[O+0],le=C[O+$];return fa[255+C[O-2*$]-C[O-$]]>G||fa[255+le-ae]>G}function jr(C,O,$,G){return 4*fa[255+C[O-$]-C[O+0]]+fa[255+C[O-2*$]-C[O+$]]<=G}function xA(C,O,$,G,ae){var le=C[O-3*$],de=C[O-2*$],Ae=C[O-$],me=C[O+0],be=C[O+$],Pe=C[O+2*$],De=C[O+3*$];return 4*fa[255+Ae-me]+fa[255+de-be]>G?0:fa[255+C[O-4*$]-le]<=ae&&fa[255+le-de]<=ae&&fa[255+de-Ae]<=ae&&fa[255+De-Pe]<=ae&&fa[255+Pe-be]<=ae&&fa[255+be-me]<=ae}function ni(C,O,$,G){var ae=2*G+1;for(G=0;16>G;++G)jr(C,O+G,$,ae)&&El(C,O+G,$)}function kl(C,O,$,G){var ae=2*G+1;for(G=0;16>G;++G)jr(C,O+G*$,1,ae)&&El(C,O+G*$,1)}function yA(C,O,$,G){var ae;for(ae=3;0<ae;--ae)ni(C,O+=4*$,$,G)}function mm(C,O,$,G){var ae;for(ae=3;0<ae;--ae)kl(C,O+=4,$,G)}function ao(C,O,$,G,ae,le,de,Ae){for(le=2*le+1;0<ae--;){if(xA(C,O,$,le,de))if(Fu(C,O,$,Ae))El(C,O,$);else{var me=C,be=O,Pe=$,De=me[be-2*Pe],we=me[be-Pe],Ie=me[be+0],Fe=me[be+Pe],qe=me[be+2*Pe],Re=27*(Je=$u[1020+3*(Ie-we)+$u[1020+De-Fe]])+63>>7,Xe=18*Je+63>>7,Je=9*Je+63>>7;me[be-3*Pe]=Hi[255+me[be-3*Pe]+Je],me[be-2*Pe]=Hi[255+De+Xe],me[be-Pe]=Hi[255+we+Re],me[be+0]=Hi[255+Ie-Re],me[be+Pe]=Hi[255+Fe-Xe],me[be+2*Pe]=Hi[255+qe-Je]}O+=G}}function Pl(C,O,$,G,ae,le,de,Ae){for(le=2*le+1;0<ae--;){if(xA(C,O,$,le,de))if(Fu(C,O,$,Ae))El(C,O,$);else{var me=C,be=O,Pe=$,De=me[be-Pe],we=me[be+0],Ie=me[be+Pe],Fe=Tc[112+(4+(qe=3*(we-De))>>3)],qe=Tc[112+(qe+3>>3)],Re=Fe+1>>1;me[be-2*Pe]=Hi[255+me[be-2*Pe]+Re],me[be-Pe]=Hi[255+De+qe],me[be+0]=Hi[255+we-Fe],me[be+Pe]=Hi[255+Ie-Re]}O+=G}}function vA(C,O,$,G,ae,le){ao(C,O,$,1,16,G,ae,le)}function bd(C,O,$,G,ae,le){ao(C,O,1,$,16,G,ae,le)}function pm(C,O,$,G,ae,le){var de;for(de=3;0<de;--de)Pl(C,O+=4*$,$,1,16,G,ae,le)}function R(C,O,$,G,ae,le){var de;for(de=3;0<de;--de)Pl(C,O+=4,1,$,16,G,ae,le)}function se(C,O,$,G,ae,le,de,Ae){ao(C,O,ae,1,8,le,de,Ae),ao($,G,ae,1,8,le,de,Ae)}function ye(C,O,$,G,ae,le,de,Ae){ao(C,O,1,ae,8,le,de,Ae),ao($,G,1,ae,8,le,de,Ae)}function Ee(C,O,$,G,ae,le,de,Ae){Pl(C,O+4*ae,ae,1,8,le,de,Ae),Pl($,G+4*ae,ae,1,8,le,de,Ae)}function Oe(C,O,$,G,ae,le,de,Ae){Pl(C,O+4,1,ae,8,le,de,Ae),Pl($,G+4,1,ae,8,le,de,Ae)}function We(){this.ba=new Ve,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zt(){this.ua=0,this.Wa=new Le,this.vb=new Le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new M}function dr(){this.xb=this.a=0,this.l=new en,this.ca=new Ve,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Z,this.Pb=0,this.wd=new Z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zt,this.ab=0,this.gc=o(4,Rt),this.Oc=0}function pr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new en,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fr(C,O,$,G,ae,le,de){for(C=C==null?0:C[O+0],O=0;O<de;++O)ae[le+O]=C+$[G+O]&255,C=ae[le+O]}function Hn(C,O,$,G,ae,le,de){var Ae;if(C==null)Fr(null,null,$,G,ae,le,de);else for(Ae=0;Ae<de;++Ae)ae[le+Ae]=C[O+Ae]+$[G+Ae]&255}function ys(C,O,$,G,ae,le,de){if(C==null)Fr(null,null,$,G,ae,le,de);else{var Ae,me=C[O+0],be=me,Pe=me;for(Ae=0;Ae<de;++Ae)be=Pe+(me=C[O+Ae])-be,Pe=$[G+Ae]+(-256&be?0>be?0:255:be)&255,be=me,ae[le+Ae]=Pe}}function rn(C,O,$,G){var ae=O.width,le=O.o;if(t(C!=null&&O!=null),0>$||0>=G||$+G>le)return null;if(!C.Cc){if(C.ga==null){var de;if(C.ga=new pr,(de=C.ga==null)||(de=O.width*O.o,t(C.Gb.length==0),C.Gb=a(de),C.Uc=0,C.Gb==null?de=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,de=1),de=!de),!de){de=C.ga;var Ae=C.Fa,me=C.P,be=C.qc,Pe=C.mb,De=C.nb,we=me+1,Ie=be-1,Fe=de.l;if(t(Ae!=null&&Pe!=null&&O!=null),hn[0]=null,hn[1]=Fr,hn[2]=Hn,hn[3]=ys,de.ca=Pe,de.tb=De,de.c=O.width,de.i=O.height,t(0<de.c&&0<de.i),1>=be)O=0;else if(de.$a=3&Ae[me+0],de.Z=Ae[me+0]>>2&3,de.Lc=Ae[me+0]>>4&3,me=Ae[me+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||me)O=0;else if(Fe.put=Ft,Fe.ac=_n,Fe.bc=ps,Fe.ma=de,Fe.width=O.width,Fe.height=O.height,Fe.Da=O.Da,Fe.v=O.v,Fe.va=O.va,Fe.j=O.j,Fe.o=O.o,de.$a)e:{t(de.$a==1),O=jt();t:for(;;){if(O==null){O=0;break e}if(t(de!=null),de.mc=O,O.c=de.c,O.i=de.i,O.l=de.l,O.l.ma=de,O.l.width=de.c,O.l.height=de.i,O.a=0,te(O.m,Ae,we,Ie),!Pt(de.c,de.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&is(O.s)?(de.ic=1,Ae=O.c*O.i,O.Ta=null,O.Ua=0,O.V=a(Ae),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(de.ic=0,O=ft(O,de.c)),!O))break t;O=1;break e}de.mc=null,O=0}else O=Ie>=de.c*de.i;de=!O}if(de)return null;C.ga.Lc!=1?C.Ga=0:G=le-$}t(C.ga!=null),t($+G<=le);e:{if(O=(Ae=C.ga).c,le=Ae.l.o,Ae.$a==0){if(we=C.rc,Ie=C.Vc,Fe=C.Fa,me=C.P+1+$*O,be=C.mb,Pe=C.nb+$*O,t(me<=C.P+C.qc),Ae.Z!=0)for(t(hn[Ae.Z]!=null),de=0;de<G;++de)hn[Ae.Z](we,Ie,Fe,me,be,Pe,O),we=be,Ie=Pe,Pe+=O,me+=O;else for(de=0;de<G;++de)n(be,Pe,Fe,me,O),we=be,Ie=Pe,Pe+=O,me+=O;C.rc=we,C.Vc=Ie}else{if(t(Ae.mc!=null),O=$+G,t((de=Ae.mc)!=null),t(O<=de.i),de.C>=O)O=1;else if(Ae.ic||si(),Ae.ic){Ae=de.V,we=de.Ba,Ie=de.c;var qe=de.i,Re=(Fe=1,me=de.$/Ie,be=de.$%Ie,Pe=de.m,De=de.s,de.$),Xe=Ie*qe,Je=Ie*O,pt=De.wc,ht=Re<Je?un(De,be,me):null;t(Re<=Xe),t(O<=qe),t(is(De));t:for(;;){for(;!Pe.h&&Re<Je;){if(be&pt||(ht=un(De,be,me)),t(ht!=null),he(Pe),256>(qe=vr(ht.G[0],ht.H[0],Pe)))Ae[we+Re]=qe,++Re,++be>=Ie&&(be=0,++me<=O&&!(me%16)&&os(de,me));else{if(!(280>qe)){Fe=0;break t}qe=Tn(qe-256,Pe);var qt,Qt=vr(ht.G[4],ht.H[4],Pe);if(he(Pe),!(Re>=(Qt=ss(Ie,Qt=Tn(Qt,Pe)))&&Xe-Re>=qe)){Fe=0;break t}for(qt=0;qt<qe;++qt)Ae[we+Re+qt]=Ae[we+Re+qt-Qt];for(Re+=qe,be+=qe;be>=Ie;)be-=Ie,++me<=O&&!(me%16)&&os(de,me);Re<Je&&be&pt&&(ht=un(De,be,me))}t(Pe.h==ie(Pe))}os(de,me>O?O:me);break t}!Fe||Pe.h&&Re<Xe?(Fe=0,de.a=Pe.h?5:3):de.$=Re,O=Fe}else O=Cn(de,de.V,de.Ba,de.c,de.i,O,Ut);if(!O){G=0;break e}}$+G>=le&&(C.Cc=1),G=1}if(!G)return null;if(C.Cc&&((G=C.ga)!=null&&(G.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+$*ae}function ks(C,O,$,G,ae,le){for(;0<ae--;){var de,Ae=C,me=O+($?1:0),be=C,Pe=O+($?0:3);for(de=0;de<G;++de){var De=be[Pe+4*de];De!=255&&(De*=32897,Ae[me+4*de+0]=Ae[me+4*de+0]*De>>23,Ae[me+4*de+1]=Ae[me+4*de+1]*De>>23,Ae[me+4*de+2]=Ae[me+4*de+2]*De>>23)}O+=le}}function ls(C,O,$,G,ae){for(;0<G--;){var le;for(le=0;le<$;++le){var de=C[O+2*le+0],Ae=15&(be=C[O+2*le+1]),me=4369*Ae,be=(240&be|be>>4)*me>>16;C[O+2*le+0]=(240&de|de>>4)*me>>16&240|(15&de|de<<4)*me>>16>>4&15,C[O+2*le+1]=240&be|Ae}O+=ae}}function zs(C,O,$,G,ae,le,de,Ae){var me,be,Pe=255;for(be=0;be<ae;++be){for(me=0;me<G;++me){var De=C[O+me];le[de+4*me]=De,Pe&=De}O+=$,de+=Ae}return Pe!=255}function La(C,O,$,G,ae){var le;for(le=0;le<ae;++le)$[G+le]=C[O+le]>>8}function si(){Wo=ks,A0=ls,f0=zs,sb=La}function Il(C,O,$){T[C]=function(G,ae,le,de,Ae,me,be,Pe,De,we,Ie,Fe,qe,Re,Xe,Je,pt){var ht,qt=pt-1>>1,Qt=Ae[me+0]|be[Pe+0]<<16,Nr=De[we+0]|Ie[Fe+0]<<16;t(G!=null);var Kt=3*Qt+Nr+131074>>2;for(O(G[ae+0],255&Kt,Kt>>16,qe,Re),le!=null&&(Kt=3*Nr+Qt+131074>>2,O(le[de+0],255&Kt,Kt>>16,Xe,Je)),ht=1;ht<=qt;++ht){var Rr=Ae[me+ht]|be[Pe+ht]<<16,ai=De[we+ht]|Ie[Fe+ht]<<16,_r=Qt+Rr+Nr+ai+524296,Wt=_r+2*(Rr+Nr)>>3;Kt=Wt+Qt>>1,Qt=(_r=_r+2*(Qt+ai)>>3)+Rr>>1,O(G[ae+2*ht-1],255&Kt,Kt>>16,qe,Re+(2*ht-1)*$),O(G[ae+2*ht-0],255&Qt,Qt>>16,qe,Re+(2*ht-0)*$),le!=null&&(Kt=_r+Nr>>1,Qt=Wt+ai>>1,O(le[de+2*ht-1],255&Kt,Kt>>16,Xe,Je+(2*ht-1)*$),O(le[de+2*ht+0],255&Qt,Qt>>16,Xe,Je+(2*ht+0)*$)),Qt=Rr,Nr=ai}1&pt||(Kt=3*Qt+Nr+131074>>2,O(G[ae+pt-1],255&Kt,Kt>>16,qe,Re+(pt-1)*$),le!=null&&(Kt=3*Nr+Qt+131074>>2,O(le[de+pt-1],255&Kt,Kt>>16,Xe,Je+(pt-1)*$)))}}function Tl(){Si[xm]=c_,Si[_A]=ob,Si[g0]=d_,Si[CA]=jm,Si[BA]=y0,Si[ym]=lb,Si[ab]=ire,Si[vm]=ob,Si[bm]=jm,Si[wm]=y0,Si[h]=lb}function ii(C){return C&-16384?0>C?0:255:C>>are}function Ol(C,O){return ii((19077*C>>8)+(26149*O>>8)-14234)}function Ec(C,O,$){return ii((19077*C>>8)-(6419*O>>8)-(13320*$>>8)+8708)}function wd(C,O){return ii((19077*C>>8)+(33050*O>>8)-17685)}function Mo(C,O,$,G,ae){G[ae+0]=Ol(C,$),G[ae+1]=Ec(C,O,$),G[ae+2]=wd(C,O)}function Ps(C,O,$,G,ae){G[ae+0]=wd(C,O),G[ae+1]=Ec(C,O,$),G[ae+2]=Ol(C,$)}function jd(C,O,$,G,ae){var le=Ec(C,O,$);O=le<<3&224|wd(C,O)>>3,G[ae+0]=248&Ol(C,$)|le>>5,G[ae+1]=O}function Nd(C,O,$,G,ae){var le=240&wd(C,O)|15;G[ae+0]=240&Ol(C,$)|Ec(C,O,$)>>4,G[ae+1]=le}function Uu(C,O,$,G,ae){G[ae+0]=255,Mo(C,O,$,G,ae+1)}function bA(C,O,$,G,ae){Ps(C,O,$,G,ae),G[ae+3]=255}function Sn(C,O,$,G,ae){Mo(C,O,$,G,ae),G[ae+3]=255}function Mi(C,O,$){T[C]=function(G,ae,le,de,Ae,me,be,Pe,De){for(var we=Pe+(-2&De)*$;Pe!=we;)O(G[ae+0],le[de+0],Ae[me+0],be,Pe),O(G[ae+1],le[de+0],Ae[me+0],be,Pe+$),ae+=2,++de,++me,Pe+=2*$;1&De&&O(G[ae+0],le[de+0],Ae[me+0],be,Pe)}}function Ru(C,O,$){return $==0?C==0?O==0?6:5:O==0?4:0:$}function Fa(C,O,$,G,ae){switch(C>>>30){case 3:Ic(O,$,G,ae,0);break;case 2:Da(O,$,G,ae);break;case 1:Kr(O,$,G,ae)}}function Ua(C,O){var $,G,ae=O.M,le=O.Nb,de=C.oc,Ae=C.pc+40,me=C.oc,be=C.pc+584,Pe=C.oc,De=C.pc+600;for($=0;16>$;++$)de[Ae+32*$-1]=129;for($=0;8>$;++$)me[be+32*$-1]=129,Pe[De+32*$-1]=129;for(0<ae?de[Ae-1-32]=me[be-1-32]=Pe[De-1-32]=129:(i(de,Ae-32-1,127,21),i(me,be-32-1,127,9),i(Pe,De-32-1,127,9)),G=0;G<C.za;++G){var we=O.ya[O.aa+G];if(0<G){for($=-1;16>$;++$)n(de,Ae+32*$-4,de,Ae+32*$+12,4);for($=-1;8>$;++$)n(me,be+32*$-4,me,be+32*$+4,4),n(Pe,De+32*$-4,Pe,De+32*$+4,4)}var Ie=C.Gd,Fe=C.Hd+G,qe=we.ad,Re=we.Hc;if(0<ae&&(n(de,Ae-32,Ie[Fe].y,0,16),n(me,be-32,Ie[Fe].f,0,8),n(Pe,De-32,Ie[Fe].ea,0,8)),we.Za){var Xe=de,Je=Ae-32+16;for(0<ae&&(G>=C.za-1?i(Xe,Je,Ie[Fe].y[15],4):n(Xe,Je,Ie[Fe+1].y,0,4)),$=0;4>$;$++)Xe[Je+128+$]=Xe[Je+256+$]=Xe[Je+384+$]=Xe[Je+0+$];for($=0;16>$;++$,Re<<=2)Xe=de,Je=Ae+xT[$],co[we.Ob[$]](Xe,Je),Fa(Re,qe,16*+$,Xe,Je)}else if(Xe=Ru(G,ae,we.Ob[0]),Oc[Xe](de,Ae),Re!=0)for($=0;16>$;++$,Re<<=2)Fa(Re,qe,16*+$,de,Ae+xT[$]);for($=we.Gc,Xe=Ru(G,ae,we.Dd),qo[Xe](me,be),qo[Xe](Pe,De),Re=qe,Xe=me,Je=be,255&(we=0|$)&&(170&we?Aa(Re,256,Xe,Je):nn(Re,256,Xe,Je)),we=Pe,Re=De,255&($>>=8)&&(170&$?Aa(qe,320,we,Re):nn(qe,320,we,Re)),ae<C.Ub-1&&(n(Ie[Fe].y,0,de,Ae+480,16),n(Ie[Fe].f,0,me,be+224,8),n(Ie[Fe].ea,0,Pe,De+224,8)),$=8*le*C.B,Ie=C.sa,Fe=C.ta+16*G+16*le*C.R,qe=C.qa,we=C.ra+8*G+$,Re=C.Ha,Xe=C.Ia+8*G+$,$=0;16>$;++$)n(Ie,Fe+$*C.R,de,Ae+32*$,16);for($=0;8>$;++$)n(qe,we+$*C.B,me,be+32*$,8),n(Re,Xe+$*C.B,Pe,De+32*$,8)}}function Ra(C,O,$,G,ae,le,de,Ae,me){var be=[0],Pe=[0],De=0,we=me!=null?me.kd:0,Ie=me??new ct;if(C==null||12>$)return 7;Ie.data=C,Ie.w=O,Ie.ha=$,O=[O],$=[$],Ie.gb=[Ie.gb];e:{var Fe=O,qe=$,Re=Ie.gb;if(t(C!=null),t(qe!=null),t(Re!=null),Re[0]=0,12<=qe[0]&&!r(C,Fe[0],"RIFF")){if(r(C,Fe[0]+8,"WEBP")){Re=3;break e}var Xe=Se(C,Fe[0]+4);if(12>Xe||4294967286<Xe){Re=3;break e}if(we&&Xe>qe[0]-8){Re=7;break e}Re[0]=Xe,Fe[0]+=12,qe[0]-=12}Re=0}if(Re!=0)return Re;for(Xe=0<Ie.gb[0],$=$[0];;){e:{var Je=C;qe=O,Re=$;var pt=be,ht=Pe,qt=Fe=[0];if((Kt=De=[De])[0]=0,8>Re[0])Re=7;else{if(!r(Je,qe[0],"VP8X")){if(Se(Je,qe[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Qt=Se(Je,qe[0]+8),Nr=1+ve(Je,qe[0]+12);if(2147483648<=Nr*(Je=1+ve(Je,qe[0]+15))){Re=3;break e}qt!=null&&(qt[0]=Qt),pt!=null&&(pt[0]=Nr),ht!=null&&(ht[0]=Je),qe[0]+=18,Re[0]-=18,Kt[0]=1}Re=0}}if(De=De[0],Fe=Fe[0],Re!=0)return Re;if(qe=!!(2&Fe),!Xe&&De)return 3;if(le!=null&&(le[0]=!!(16&Fe)),de!=null&&(de[0]=qe),Ae!=null&&(Ae[0]=0),de=be[0],Fe=Pe[0],De&&qe&&me==null){Re=0;break}if(4>$){Re=7;break}if(Xe&&De||!Xe&&!De&&!r(C,O[0],"ALPH")){$=[$],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{Qt=C,Re=O,Xe=$;var Kt=Ie.gb;pt=Ie.na,ht=Ie.P,qt=Ie.Sa,Nr=22,t(Qt!=null),t(Xe!=null),Je=Re[0];var Rr=Xe[0];for(t(pt!=null),t(qt!=null),pt[0]=null,ht[0]=null,qt[0]=0;;){if(Re[0]=Je,Xe[0]=Rr,8>Rr){Re=7;break e}var ai=Se(Qt,Je+4);if(4294967286<ai){Re=3;break e}var _r=8+ai+1&-2;if(Nr+=_r,0<Kt&&Nr>Kt){Re=3;break e}if(!r(Qt,Je,"VP8 ")||!r(Qt,Je,"VP8L")){Re=0;break e}if(Rr[0]<_r){Re=7;break e}r(Qt,Je,"ALPH")||(pt[0]=Qt,ht[0]=Je+8,qt[0]=ai),Je+=_r,Rr-=_r}}if($=$[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Re!=0)break}$=[$],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Kt=C,Re=O,Xe=$,pt=Ie.gb[0],ht=Ie.Ja,qt=Ie.xa,Qt=Re[0],Je=!r(Kt,Qt,"VP8 "),Nr=!r(Kt,Qt,"VP8L"),t(Kt!=null),t(Xe!=null),t(ht!=null),t(qt!=null),8>Xe[0])Re=7;else{if(Je||Nr){if(Kt=Se(Kt,Qt+4),12<=pt&&Kt>pt-12){Re=3;break e}if(we&&Kt>Xe[0]-8){Re=7;break e}ht[0]=Kt,Re[0]+=8,Xe[0]-=8,qt[0]=Nr}else qt[0]=5<=Xe[0]&&Kt[Qt+0]==47&&!(Kt[Qt+4]>>5),ht[0]=Xe[0];Re=0}if($=$[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],O=O[0],Re!=0)break;if(4294967286<Ie.Ja)return 3;if(Ae==null||qe||(Ae[0]=Ie.xa?2:1),de=[de],Fe=[Fe],Ie.xa){if(5>$){Re=7;break}Ae=de,we=Fe,qe=le,C==null||5>$?C=0:5<=$&&C[O+0]==47&&!(C[O+4]>>5)?(Xe=[0],Kt=[0],pt=[0],te(ht=new Z,C,O,$),gs(ht,Xe,Kt,pt)?(Ae!=null&&(Ae[0]=Xe[0]),we!=null&&(we[0]=Kt[0]),qe!=null&&(qe[0]=pt[0]),C=1):C=0):C=0}else{if(10>$){Re=7;break}Ae=Fe,C==null||10>$||!jl(C,O+3,$-3)?C=0:(we=C[O+0]|C[O+1]<<8|C[O+2]<<16,qe=16383&(C[O+7]<<8|C[O+6]),C=16383&(C[O+9]<<8|C[O+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Ie.Ja||!qe||!C?C=0:(de&&(de[0]=qe),Ae&&(Ae[0]=C),C=1))}if(!C||(de=de[0],Fe=Fe[0],De&&(be[0]!=de||Pe[0]!=Fe)))return 3;me!=null&&(me[0]=Ie,me.offset=O-me.w,t(4294967286>O-me.w),t(me.offset==me.ha-$));break}return Re==0||Re==7&&De&&me==null?(le!=null&&(le[0]|=Ie.na!=null&&0<Ie.na.length),G!=null&&(G[0]=de),ae!=null&&(ae[0]=Fe),0):Re}function wA(C,O,$){var G=O.width,ae=O.height,le=0,de=0,Ae=G,me=ae;if(O.Da=C!=null&&0<C.Da,O.Da&&(Ae=C.cd,me=C.bd,le=C.v,de=C.j,11>$||(le&=-2,de&=-2),0>le||0>de||0>=Ae||0>=me||le+Ae>G||de+me>ae))return 0;if(O.v=le,O.j=de,O.va=le+Ae,O.o=de+me,O.U=Ae,O.T=me,O.da=C!=null&&0<C.da,O.da){if(!ze(Ae,me,$=[C.ib],le=[C.hb]))return 0;O.ib=$[0],O.hb=le[0]}return O.ob=C!=null&&C.ob,O.Kb=C==null||!C.Sd,O.da&&(O.ob=O.ib<3*G/4&&O.hb<3*ae/4,O.Kb=0),1}function Ll(C){if(C==null)return 2;if(11>C.S){var O=C.f.RGBA;O.fb+=(C.height-1)*O.A,O.A=-O.A}else O=C.f.kb,C=C.height,O.O+=(C-1)*O.fa,O.fa=-O.fa,O.N+=(C-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(C-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(C-1)*O.lb,O.lb=-O.lb);return 0}function Fl(C,O,$,G){if(G==null||0>=C||0>=O)return 2;if($!=null){if($.Da){var ae=$.cd,le=$.bd,de=-2&$.v,Ae=-2&$.j;if(0>de||0>Ae||0>=ae||0>=le||de+ae>C||Ae+le>O)return 2;C=ae,O=le}if($.da){if(!ze(C,O,ae=[$.ib],le=[$.hb]))return 2;C=ae[0],O=le[0]}}G.width=C,G.height=O;e:{var me=G.width,be=G.height;if(C=G.S,0>=me||0>=be||!(C>=xm&&13>C))C=2;else{if(0>=G.Rd&&G.sd==null){de=le=ae=O=0;var Pe=(Ae=me*yT[C])*be;if(11>C||(le=(be+1)/2*(O=(me+1)/2),C==12&&(de=(ae=me)*be)),(be=a(Pe+2*le+de))==null){C=1;break e}G.sd=be,11>C?((me=G.f.RGBA).eb=be,me.fb=0,me.A=Ae,me.size=Pe):((me=G.f.kb).y=be,me.O=0,me.fa=Ae,me.Fd=Pe,me.f=be,me.N=0+Pe,me.Ab=O,me.Cd=le,me.ea=be,me.W=0+Pe+le,me.Db=O,me.Ed=le,C==12&&(me.F=be,me.J=0+Pe+2*le),me.Tc=de,me.lb=ae)}if(O=1,ae=G.S,le=G.width,de=G.height,ae>=xm&&13>ae)if(11>ae)C=G.f.RGBA,O&=(Ae=Math.abs(C.A))*(de-1)+le<=C.size,O&=Ae>=le*yT[ae],O&=C.eb!=null;else{C=G.f.kb,Ae=(le+1)/2,Pe=(de+1)/2,me=Math.abs(C.fa),be=Math.abs(C.Ab);var De=Math.abs(C.Db),we=Math.abs(C.lb),Ie=we*(de-1)+le;O&=me*(de-1)+le<=C.Fd,O&=be*(Pe-1)+Ae<=C.Cd,O=(O&=De*(Pe-1)+Ae<=C.Ed)&me>=le&be>=Ae&De>=Ae,O&=C.y!=null,O&=C.f!=null,O&=C.ea!=null,ae==12&&(O&=we>=le,O&=Ie<=C.Tc,O&=C.F!=null)}else O=0;C=O?0:2}}return C!=0||$!=null&&$.fd&&(C=Ll(G)),C}var Qo=64,ua=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vs=24,oo=32,Ul=8,$o=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(C){return C},T.Predictor2=function(C,O,$){return O[$+0]},T.Predictor3=function(C,O,$){return O[$+1]},T.Predictor4=function(C,O,$){return O[$-1]},T.Predictor5=function(C,O,$){return Be(Be(C,O[$+1]),O[$+0])},T.Predictor6=function(C,O,$){return Be(C,O[$-1])},T.Predictor7=function(C,O,$){return Be(C,O[$+0])},T.Predictor8=function(C,O,$){return Be(O[$-1],O[$+0])},T.Predictor9=function(C,O,$){return Be(O[$+0],O[$+1])},T.Predictor10=function(C,O,$){return Be(Be(C,O[$-1]),Be(O[$+0],O[$+1]))},T.Predictor11=function(C,O,$){var G=O[$+0];return 0>=Me(G>>24&255,C>>24&255,(O=O[$-1])>>24&255)+Me(G>>16&255,C>>16&255,O>>16&255)+Me(G>>8&255,C>>8&255,O>>8&255)+Me(255&G,255&C,255&O)?G:C},T.Predictor12=function(C,O,$){var G=O[$+0];return(Ne((C>>24&255)+(G>>24&255)-((O=O[$-1])>>24&255))<<24|Ne((C>>16&255)+(G>>16&255)-(O>>16&255))<<16|Ne((C>>8&255)+(G>>8&255)-(O>>8&255))<<8|Ne((255&C)+(255&G)-(255&O)))>>>0},T.Predictor13=function(C,O,$){var G=O[$-1];return(ke((C=Be(C,O[$+0]))>>24&255,G>>24&255)<<24|ke(C>>16&255,G>>16&255)<<16|ke(C>>8&255,G>>8&255)<<8|ke(255&C,255&G))>>>0};var jA=T.PredictorAdd0;T.PredictorAdd1=ot,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var Qi=T.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var cs,Rl=T.ColorIndexInverseTransform,Ho=T.MapARGB,Vs=T.VP8LColorIndexInverseTransformAlpha,kc=T.MapAlpha,Du=T.VP8LPredictorsAdd=[];Du.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var _d,Pc,zo,lo,ha,Vo,Ko,Ic,Da,Aa,Kr,nn,ds,bs,Dl,$i,Ml,gm,NA,tb,h0,rb,Mu,nb,Wo,A0,f0,sb,Go=a(511),m0=a(2041),p0=a(225),Qu=a(767),ib=0,$u=m0,Tc=p0,Hi=Qu,fa=Go,xm=0,_A=1,g0=2,CA=3,BA=4,ym=5,ab=6,vm=7,bm=8,wm=9,h=10,g=[2,3,7],S=[3,3,11],D=[280,256,256,256,40],q=[0,1,1,1,0],ce=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ce=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ue=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$e=8,ut=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],It=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jt=null,Br=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Bi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Is=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ma=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],o_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oc=[],co=[],qo=[],l_=1,x0=2,hn=[],Si=[];Il("UpsampleRgbLinePair",Mo,3),Il("UpsampleBgrLinePair",Ps,3),Il("UpsampleRgbaLinePair",Sn,4),Il("UpsampleBgraLinePair",bA,4),Il("UpsampleArgbLinePair",Uu,4),Il("UpsampleRgba4444LinePair",Nd,2),Il("UpsampleRgb565LinePair",jd,2);var c_=T.UpsampleRgbLinePair,d_=T.UpsampleBgrLinePair,ob=T.UpsampleRgbaLinePair,jm=T.UpsampleBgraLinePair,y0=T.UpsampleArgbLinePair,lb=T.UpsampleRgba4444LinePair,ire=T.UpsampleRgb565LinePair,cb=16,db=1<<cb-1,v0=-227,u_=482,are=6,gT=0,ore=a(256),lre=a(256),cre=a(256),dre=a(256),ure=a(u_-v0),hre=a(u_-v0);Mi("YuvToRgbRow",Mo,3),Mi("YuvToBgrRow",Ps,3),Mi("YuvToRgbaRow",Sn,4),Mi("YuvToBgraRow",bA,4),Mi("YuvToArgbRow",Uu,4),Mi("YuvToRgba4444Row",Nd,2),Mi("YuvToRgb565Row",jd,2);var xT=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ub=[0,2,8],Are=[8,7,6,4,4,2,2,2,1,1,1,1],fre=1;this.WebPDecodeRGBA=function(C,O,$,G,ae){var le=_A,de=new We,Ae=new Ve;de.ba=Ae,Ae.S=le,Ae.width=[Ae.width],Ae.height=[Ae.height];var me=Ae.width,be=Ae.height,Pe=new Ct;if(Pe==null||C==null)var De=2;else t(Pe!=null),De=Ra(C,O,$,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(De!=0?me=0:(me!=null&&(me[0]=Pe.width[0]),be!=null&&(be[0]=Pe.height[0]),me=1),me){Ae.width=Ae.width[0],Ae.height=Ae.height[0],G!=null&&(G[0]=Ae.width),ae!=null&&(ae[0]=Ae.height);e:{if(G=new en,(ae=new ct).data=C,ae.w=O,ae.ha=$,ae.kd=1,O=[0],t(ae!=null),((C=Ra(ae.data,ae.w,ae.ha,null,null,null,O,null,ae))==0||C==7)&&O[0]&&(C=4),(O=C)==0){if(t(de!=null),G.data=ae.data,G.w=ae.w+ae.offset,G.ha=ae.ha-ae.offset,G.put=Ft,G.ac=_n,G.bc=ps,G.ma=de,ae.xa){if((C=jt())==null){de=1;break e}if(function(we,Ie){var Fe=[0],qe=[0],Re=[0];t:for(;;){if(we==null)return 0;if(Ie==null)return we.a=2,0;if(we.l=Ie,we.a=0,te(we.m,Ie.data,Ie.w,Ie.ha),!gs(we.m,Fe,qe,Re)){we.a=3;break t}if(we.xb=x0,Ie.width=Fe[0],Ie.height=qe[0],!Pt(Fe[0],qe[0],1,we,null))break t;return 1}return t(we.a!=0),0}(C,G)){if(G=(O=Fl(G.width,G.height,de.Oa,de.ba))==0){t:{G=C;r:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t(($=G.l)!=null),t((ae=$.ma)!=null),G.xb!=0){if(G.ca=ae.ba,G.tb=ae.tb,t(G.ca!=null),!wA(ae.Oa,$,CA)){G.a=2;break r}if(!ft(G,$.width)||$.da)break r;if(($.da||it(G.ca.S))&&si(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&si()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!ne(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!Cn(G,G.V,G.Ba,G.c,G.i,$.o,Hs))break r;ae.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(O=C.a)}else O=C.a}else{if((C=new ku)==null){de=1;break e}if(C.Fa=ae.na,C.P=ae.P,C.qc=ae.Sa,Ta(C,G)){if((O=Fl(G.width,G.height,de.Oa,de.ba))==0){if(C.Aa=0,$=de.Oa,t((ae=C)!=null),$!=null){if(0<(me=0>(me=$.Md)?0:100<me?255:255*me/100)){for(be=Pe=0;4>be;++be)12>(De=ae.pb[be]).lc&&(De.ia=me*Are[0>De.lc?0:De.lc]>>3),Pe|=De.ia;Pe&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=$.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}(function(we,Ie){if(we==null)return 0;if(Ie==null)return Bn(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!Ta(we,Ie))return 0;if(t(we.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(we.L=0);var Fe=ub[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Ie.v-Fe>>4,we.zb=Ie.j-Fe>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Ie.o+15+Fe>>4,we.Hb=Ie.va+15+Fe>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var qe=we.ed;for(Fe=0;4>Fe;++Fe){var Re;if(we.Qa.Cb){var Xe=we.Qa.Lb[Fe];we.Qa.Fb||(Xe+=qe.Tb)}else Xe=qe.Tb;for(Re=0;1>=Re;++Re){var Je=we.gd[Fe][Re],pt=Xe;if(qe.Pc&&(pt+=qe.vd[0],Re&&(pt+=qe.od[0])),0<(pt=0>pt?0:63<pt?63:pt)){var ht=pt;0<qe.wb&&(ht=4<qe.wb?ht>>2:ht>>1)>9-qe.wb&&(ht=9-qe.wb),1>ht&&(ht=1),Je.dd=ht,Je.tc=2*pt+ht,Je.ld=40<=pt?2:15<=pt?1:0}else Je.tc=0;Je.La=Re}}}Fe=0}else Bn(we,6,"Frame setup failed"),Fe=we.a;if(Fe=Fe==0){if(Fe){we.$c=0,0<we.Aa||(we.Ic=fre);t:{Fe=we.Ic,qe=4*(ht=we.za);var qt=32*ht,Qt=ht+1,Nr=0<we.L?ht*(0<we.Aa?2:1):0,Kt=(we.Aa==2?2:1)*ht;if((Je=qe+832+(Re=3*(16*Fe+ub[we.L])/2*qt)+(Xe=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=Je)Fe=0;else{if(Je>we.Vb){if(we.Vb=0,we.Ec=a(Je),we.Fc=0,we.Ec==null){Fe=Bn(we,1,"no memory during frame initialization.");break t}we.Vb=Je}Je=we.Ec,pt=we.Fc,we.Ac=Je,we.Bc=pt,pt+=qe,we.Gd=o(qt,Ia),we.Hd=0,we.rb=o(Qt+1,Vr),we.sb=1,we.wa=Nr?o(Nr,$t):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=ht),t(!0),we.oc=Je,we.pc=pt,pt+=832,we.ya=o(Kt,ri),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=ht),we.R=16*ht,we.B=8*ht,ht=(qt=ub[we.L])*we.R,qt=qt/2*we.B,we.sa=Je,we.ta=pt+ht,we.qa=we.sa,we.ra=we.ta+16*Fe*we.R+qt,we.Ha=we.qa,we.Ia=we.ra+8*Fe*we.B+qt,we.$c=0,pt+=Re,we.mb=Xe?Je:null,we.nb=Xe?pt:null,t(pt+Xe<=we.Fc+we.Vb),On(we),i(we.Ac,we.Bc,0,qe),Fe=1}}if(Fe){if(Ie.ka=0,Ie.y=we.sa,Ie.O=we.ta,Ie.f=we.qa,Ie.N=we.ra,Ie.ea=we.Ha,Ie.Vd=we.Ia,Ie.fa=we.R,Ie.Rc=we.B,Ie.F=null,Ie.J=0,!ib){for(Fe=-255;255>=Fe;++Fe)Go[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)m0[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)p0[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)Qu[255+Fe]=0>Fe?0:255<Fe?255:Fe;ib=1}Ko=Ro,Ic=Nl,Aa=Yr,Kr=Uo,nn=_c,Da=Pu,ds=vA,bs=bd,Dl=se,$i=ye,Ml=pm,gm=R,NA=Ee,tb=Oe,h0=ni,rb=kl,Mu=yA,nb=mm,co[0]=Am,co[1]=yd,co[2]=Oa,co[3]=tn,co[4]=so,co[5]=pA,co[6]=io,co[7]=Cl,co[8]=Bl,co[9]=Sc,Oc[0]=Tu,Oc[1]=mA,Oc[2]=Cc,Oc[3]=Iu,Oc[4]=Bc,Oc[5]=vd,Oc[6]=u0,qo[0]=fm,qo[1]=fA,qo[2]=$n,qo[3]=Sl,qo[4]=Ou,qo[5]=gA,qo[6]=Lu,Fe=1}else Fe=0}Fe&&(Fe=function(Rr,ai){for(Rr.M=0;Rr.M<Rr.Va;++Rr.M){var _r,Wt=Rr.Jc[Rr.M&Rr.Xb],Et=Rr.m,Ts=Rr;for(_r=0;_r<Ts.za;++_r){var yr=Et,Mr=Ts,zn=Mr.Ac,Ei=Mr.Bc+4*_r,ma=Mr.zc,ws=Mr.ya[Mr.aa+_r];if(Mr.Qa.Bb?ws.$b=fe(yr,Mr.Pa.jb[0])?2+fe(yr,Mr.Pa.jb[2]):fe(yr,Mr.Pa.jb[1]):ws.$b=0,Mr.kc&&(ws.Ad=fe(yr,Mr.Bd)),ws.Za=!fe(yr,145)+0,ws.Za){var Vi=ws.Ob,pa=0;for(Mr=0;4>Mr;++Mr){var oi,$r=ma[0+Mr];for(oi=0;4>oi;++oi){$r=zi[zn[Ei+oi]][$r];for(var An=Is[fe(yr,$r[0])];0<An;)An=Is[2*An+fe(yr,$r[An])];$r=-An,zn[Ei+oi]=$r}n(Vi,pa,zn,Ei,4),pa+=4,ma[0+Mr]=$r}}else $r=fe(yr,156)?fe(yr,128)?1:3:fe(yr,163)?2:0,ws.Ob[0]=$r,i(zn,Ei,$r,4),i(ma,0,$r,4);ws.Dd=fe(yr,142)?fe(yr,114)?fe(yr,183)?1:3:2:0}if(Ts.m.Ka)return Bn(Rr,7,"Premature end-of-partition0 encountered.");for(;Rr.ja<Rr.za;++Rr.ja){if(Ts=Wt,yr=(Et=Rr).rb[Et.sb-1],zn=Et.rb[Et.sb+Et.ja],_r=Et.ya[Et.aa+Et.ja],Ei=Et.kc?_r.Ad:0)yr.la=zn.la=0,_r.Za||(yr.Na=zn.Na=0),_r.Hc=0,_r.Gc=0,_r.ia=0;else{var js,fn;if(yr=zn,zn=Ts,Ei=Et.Pa.Xc,ma=Et.ya[Et.aa+Et.ja],ws=Et.pb[ma.$b],Mr=ma.ad,Vi=0,pa=Et.rb[Et.sb-1],$r=oi=0,i(Mr,Vi,0,384),ma.Za)var ki=0,Ql=Ei[3];else{An=a(16);var Os=yr.Na+pa.Na;if(Os=Jt(zn,Ei[1],Os,ws.Eb,0,An,0),yr.Na=pa.Na=(0<Os)+0,1<Os)Ko(An,0,Mr,Vi);else{var Qa=An[0]+3>>3;for(An=0;256>An;An+=16)Mr[Vi+An]=Qa}ki=1,Ql=Ei[0]}var En=15&yr.la,li=15&pa.la;for(An=0;4>An;++An){var uo=1&li;for(Qa=fn=0;4>Qa;++Qa)En=En>>1|(uo=(Os=Jt(zn,Ql,Os=uo+(1&En),ws.Sc,ki,Mr,Vi))>ki)<<7,fn=fn<<2|(3<Os?3:1<Os?2:Mr[Vi+0]!=0),Vi+=16;En>>=4,li=li>>1|uo<<7,oi=(oi<<8|fn)>>>0}for(Ql=En,ki=li>>4,js=0;4>js;js+=2){for(fn=0,En=yr.la>>4+js,li=pa.la>>4+js,An=0;2>An;++An){for(uo=1&li,Qa=0;2>Qa;++Qa)Os=uo+(1&En),En=En>>1|(uo=0<(Os=Jt(zn,Ei[2],Os,ws.Qc,0,Mr,Vi)))<<3,fn=fn<<2|(3<Os?3:1<Os?2:Mr[Vi+0]!=0),Vi+=16;En>>=2,li=li>>1|uo<<5}$r|=fn<<4*js,Ql|=En<<4<<js,ki|=(240&li)<<js}yr.la=Ql,pa.la=ki,ma.Hc=oi,ma.Gc=$r,ma.ia=43690&$r?0:ws.ia,Ei=!(oi|$r)}if(0<Et.L&&(Et.wa[Et.Y+Et.ja]=Et.gd[_r.$b][_r.Za],Et.wa[Et.Y+Et.ja].La|=!Ei),Ts.Ka)return Bn(Rr,7,"Premature end-of-file encountered.")}if(On(Rr),Et=ai,Ts=1,_r=(Wt=Rr).D,yr=0<Wt.L&&Wt.M>=Wt.zb&&Wt.M<=Wt.Va,Wt.Aa==0)t:{if(_r.M=Wt.M,_r.uc=yr,Ua(Wt,_r),Ts=1,_r=(fn=Wt.D).Nb,yr=($r=ub[Wt.L])*Wt.R,zn=$r/2*Wt.B,An=16*_r*Wt.R,Qa=8*_r*Wt.B,Ei=Wt.sa,ma=Wt.ta-yr+An,ws=Wt.qa,Mr=Wt.ra-zn+Qa,Vi=Wt.Ha,pa=Wt.Ia-zn+Qa,li=(En=fn.M)==0,oi=En>=Wt.Va-1,Wt.Aa==2&&Ua(Wt,fn),fn.uc)for(uo=(Os=Wt).D.M,t(Os.D.uc),fn=Os.yb;fn<Os.Hb;++fn){ki=fn,Ql=uo;var ga=(ho=(Pi=Os).D).Nb;js=Pi.R;var ho=ho.wa[ho.Y+ki],Ao=Pi.sa,$a=Pi.ta+16*ga*js+16*ki,fo=ho.dd,Ln=ho.tc;if(Ln!=0)if(t(3<=Ln),Pi.L==1)0<ki&&rb(Ao,$a,js,Ln+4),ho.La&&nb(Ao,$a,js,Ln),0<Ql&&h0(Ao,$a,js,Ln+4),ho.La&&Mu(Ao,$a,js,Ln);else{var mo=Pi.B,$l=Pi.qa,SA=Pi.ra+8*ga*mo+8*ki,Cd=Pi.Ha,Pi=Pi.Ia+8*ga*mo+8*ki;ga=ho.ld,0<ki&&(bs(Ao,$a,js,Ln+4,fo,ga),$i($l,SA,Cd,Pi,mo,Ln+4,fo,ga)),ho.La&&(gm(Ao,$a,js,Ln,fo,ga),tb($l,SA,Cd,Pi,mo,Ln,fo,ga)),0<Ql&&(ds(Ao,$a,js,Ln+4,fo,ga),Dl($l,SA,Cd,Pi,mo,Ln+4,fo,ga)),ho.La&&(Ml(Ao,$a,js,Ln,fo,ga),NA($l,SA,Cd,Pi,mo,Ln,fo,ga))}}if(Wt.ia&&alert("todo:DitherRow"),Et.put!=null){if(fn=16*En,En=16*(En+1),li?(Et.y=Wt.sa,Et.O=Wt.ta+An,Et.f=Wt.qa,Et.N=Wt.ra+Qa,Et.ea=Wt.Ha,Et.W=Wt.Ia+Qa):(fn-=$r,Et.y=Ei,Et.O=ma,Et.f=ws,Et.N=Mr,Et.ea=Vi,Et.W=pa),oi||(En-=$r),En>Et.o&&(En=Et.o),Et.F=null,Et.J=null,Wt.Fa!=null&&0<Wt.Fa.length&&fn<En&&(Et.J=rn(Wt,Et,fn,En-fn),Et.F=Wt.mb,Et.F==null&&Et.F.length==0)){Ts=Bn(Wt,3,"Could not decode alpha data.");break t}fn<Et.j&&($r=Et.j-fn,fn=Et.j,t(!(1&$r)),Et.O+=Wt.R*$r,Et.N+=Wt.B*($r>>1),Et.W+=Wt.B*($r>>1),Et.F!=null&&(Et.J+=Et.width*$r)),fn<En&&(Et.O+=Et.v,Et.N+=Et.v>>1,Et.W+=Et.v>>1,Et.F!=null&&(Et.J+=Et.v),Et.ka=fn-Et.j,Et.U=Et.va-Et.v,Et.T=En-fn,Ts=Et.put(Et))}_r+1!=Wt.Ic||oi||(n(Wt.sa,Wt.ta-yr,Ei,ma+16*Wt.R,yr),n(Wt.qa,Wt.ra-zn,ws,Mr+8*Wt.B,zn),n(Wt.Ha,Wt.Ia-zn,Vi,pa+8*Wt.B,zn))}if(!Ts)return Bn(Rr,6,"Output aborted.")}return 1}(we,Ie)),Ie.bc!=null&&Ie.bc(Ie),Fe&=1}return Fe?(we.cb=0,Fe):0})(C,G)||(O=C.a)}}else O=C.a}O==0&&de.Oa!=null&&de.Oa.fd&&(O=Ll(de.ba))}de=O}le=de!=0?null:11>le?Ae.f.RGBA.eb:Ae.f.kb.y}else le=null;return le};var yT=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(T,F){for(var E="",k=0;k<4;k++)E+=String.fromCharCode(T[F++]);return E}function u(T,F){return T[F+0]|T[F+1]<<8}function A(T,F){return(T[F+0]|T[F+1]<<8|T[F+2]<<16)>>>0}function f(T,F){return(T[F+0]|T[F+1]<<8|T[F+2]<<16|T[F+3]<<24)>>>0}new c;var m=[0],x=[0],p=[],v=new c,y=e,b=function(T,F){var E={},k=0,M=!1,U=0,W=0;if(E.frames=[],!function(H,Z){for(var K=0;K<4;K++)if(H[Z+K]!="RIFF".charCodeAt(K))return!0;return!1}(T,F)){for(f(T,F+=4),F+=8;F<T.length;){var Y=d(T,F),Q=f(T,F+=4);F+=4;var z=Q+(1&Q);switch(Y){case"VP8 ":case"VP8L":E.frames[k]===void 0&&(E.frames[k]={}),(J=E.frames[k]).src_off=M?W:F-8,J.src_size=U+Q+8,k++,M&&(M=!1,U=0,W=0);break;case"VP8X":(J=E.header={}).feature_flags=T[F];var te=F+4;J.canvas_width=1+A(T,te),te+=3,J.canvas_height=1+A(T,te),te+=3;break;case"ALPH":M=!0,U=z+8,W=F-8;break;case"ANIM":(J=E.header).bgcolor=f(T,F),te=F+4,J.loop_count=u(T,te),te+=2;break;case"ANMF":var re,J;(J=E.frames[k]={}).offset_x=2*A(T,F),F+=3,J.offset_y=2*A(T,F),F+=3,J.width=1+A(T,F),F+=3,J.height=1+A(T,F),F+=3,J.duration=A(T,F),F+=3,re=T[F++],J.dispose=1&re,J.blend=re>>1&1}Y!="ANMF"&&(F+=z)}return E}}(y,0);b.response=y,b.rgbaoutput=!0,b.dataurl=!1;var w=b.header?b.header:null,j=b.frames?b.frames:null;if(w){w.loop_counter=w.loop_count,m=[w.canvas_height],x=[w.canvas_width];for(var N=0;N<j.length&&j[N].blend!=0;N++);}var B=j[0],I=v.WebPDecodeRGBA(y,B.src_off,B.src_size,x,m);B.rgba=I,B.imgwidth=x[0],B.imgheight=m[0];for(var P=0;P<x[0]*m[0]*4;P++)p[P]=I[P];return this.width=x,this.height=m,this.data=p,this}(function(e){var t,r,n,i,a,o,l,c,d,u=function(H){return H=H||{},this.isStrokeTransparent=H.isStrokeTransparent||!1,this.strokeOpacity=H.strokeOpacity||1,this.strokeStyle=H.strokeStyle||"#000000",this.fillStyle=H.fillStyle||"#000000",this.isFillTransparent=H.isFillTransparent||!1,this.fillOpacity=H.fillOpacity||1,this.font=H.font||"10px sans-serif",this.textBaseline=H.textBaseline||"alphabetic",this.textAlign=H.textAlign||"left",this.lineWidth=H.lineWidth||1,this.lineJoin=H.lineJoin||"miter",this.lineCap=H.lineCap||"butt",this.path=H.path||[],this.transform=H.transform!==void 0?H.transform.clone():new c,this.globalCompositeOperation=H.globalCompositeOperation||"normal",this.globalAlpha=H.globalAlpha||1,this.clip_path=H.clip_path||[],this.currentPoint=H.currentPoint||new o,this.miterLimit=H.miterLimit||10,this.lastPoint=H.lastPoint||new o,this.lineDashOffset=H.lineDashOffset||0,this.lineDash=H.lineDash||[],this.margin=H.margin||[0,0,0,0],this.prevPageLastElemOffset=H.prevPageLastElemOffset||0,this.ignoreClearRect=typeof H.ignoreClearRect!="boolean"||H.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var A=function(H){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=H;Object.defineProperty(this,"pdf",{get:function(){return Z}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(ne){K=!!ne}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(ne){ie=!!ne}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(ne){isNaN(ne)||(oe=ne)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(ne){isNaN(ne)||(he=ne)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ne){var xe;typeof ne=="number"?xe=[ne,ne,ne,ne]:((xe=new Array(4))[0]=ne[0],xe[1]=ne.length>=2?ne[1]:xe[0],xe[2]=ne.length>=3?ne[2]:xe[0],xe[3]=ne.length>=4?ne[3]:xe[1]),d.margin=xe}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(ne){pe=ne}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(ne){ee=ne}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(ne){fe=ne}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ne){ne instanceof u&&(d=ne)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ne){d.path=ne}});var ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return ue},set:function(ne){ue=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var xe;xe=f(ne),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var xe=f(ne);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var V=null,ve=null,Se=null;Object.defineProperty(this,"fontFaces",{get:function(){return Se},set:function(ne){V=null,ve=null,Se=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var xe;if(this.ctx.font=ne,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ne))!==null){var Le=xe[1];xe[2];var ze=xe[3],Te=xe[4];xe[5];var lt=xe[6],tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(tt==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var ge=function(st){var at,gt,Bt=[],_t=st.trim();if(_t==="")return _B;if(_t in KD)return[KD[_t]];for(;_t!=="";){switch(gt=null,at=(_t=GD(_t)).charAt(0)){case'"':case"'":gt=OBe(_t.substring(1),at);break;default:gt=LBe(_t)}if(gt===null||(Bt.push(gt[0]),(_t=GD(gt[1]))!==""&&_t.charAt(0)!==","))return _B;_t=_t.replace(/^,/,"")}return Bt}(lt);if(this.fontFaces){var Be=function(st,at){var gt=st.getFontList(),Bt=JSON.stringify(gt);if(V===null||ve!==Bt){var _t=function(Vt){var yt=[];return Object.keys(Vt).forEach(function(At){Vt[At].forEach(function(it){var dt=null;switch(it){case"bold":dt={family:At,weight:"bold"};break;case"italic":dt={family:At,style:"italic"};break;case"bolditalic":dt={family:At,weight:"bold",style:"italic"};break;case"":case"normal":dt={family:At}}dt!==null&&(dt.ref={name:At,style:it},yt.push(dt))})}),yt}(gt);V=function(Vt){for(var yt={},At=0;At<Vt.length;++At){var it=NB(Vt[At]),dt=it.family,et=it.stretch,Ve=it.style,Ct=it.weight;yt[dt]=yt[dt]||{},yt[dt][et]=yt[dt][et]||{},yt[dt][et][Ve]=yt[dt][et][Ve]||{},yt[dt][et][Ve][Ct]=it}return yt}(_t.concat(at)),ve=Bt}return V}(this.pdf,this.fontFaces),Ne=ge.map(function(st){return{family:st,stretch:"normal",weight:ze,style:Le}}),ke=function(st,at,gt){for(var Bt=(gt=gt||{}).defaultFontFamily||"times",_t=Object.assign({},TBe,gt.genericFontFamilies||{}),Vt=null,yt=null,At=0;At<at.length;++At)if(_t[(Vt=NB(at[At])).family]&&(Vt.family=_t[Vt.family]),st.hasOwnProperty(Vt.family)){yt=st[Vt.family];break}if(!(yt=yt||st[Bt]))throw new Error("Could not find a font-family for the rule '"+WD(Vt)+"' and default family '"+Bt+"'.");if(yt=function(it,dt){if(dt[it])return dt[it];var et=EE[it],Ve=et<=EE.normal?-1:1,Ct=VD(dt,rX,et,Ve);if(!Ct)throw new Error("Could not find a matching font-stretch value for "+it);return Ct}(Vt.stretch,yt),yt=function(it,dt){if(dt[it])return dt[it];for(var et=tX[it],Ve=0;Ve<et.length;++Ve)if(dt[et[Ve]])return dt[et[Ve]];throw new Error("Could not find a matching font-style for "+it)}(Vt.style,yt),!(yt=function(it,dt){if(dt[it])return dt[it];if(it===400&&dt[500])return dt[500];if(it===500&&dt[400])return dt[400];var et=IBe[it],Ve=VD(dt,nX,et,it<400?-1:1);if(!Ve)throw new Error("Could not find a matching font-weight for value "+it);return Ve}(Vt.weight,yt)))throw new Error("Failed to resolve a font for the rule '"+WD(Vt)+"'.");return yt}(Be,Ne);this.pdf.setFont(ke.ref.name,ke.ref.style)}else{var Me="";(ze==="bold"||parseInt(ze,10)>=700||Le==="bold")&&(Me="bold"),Le==="italic"&&(Me+="italic"),Me.length===0&&(Me="normal");for(var ot="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<ge.length;rt++){if(this.pdf.internal.getFont(ge[rt],Me,{noFallback:!0,disableWarning:!0})!==void 0){ot=ge[rt];break}if(Me==="bolditalic"&&this.pdf.internal.getFont(ge[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=ge[rt],Me="bold";else if(this.pdf.internal.getFont(ge[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=ge[rt],Me="normal";break}}if(ot===""){for(var Ke=0;Ke<ge.length;Ke++)if(nt[ge[Ke]]){ot=nt[ge[Ke]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,Me)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};A.prototype.setLineDash=function(H){this.lineDash=H},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){j.call(this,"fill",!1)},A.prototype.stroke=function(){j.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(H,Z){if(isNaN(H)||isNaN(Z))throw kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(H,Z));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(H,Z)},A.prototype.closePath=function(){var H=new o(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&pn(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){H=new o(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(H.x,H.y)},A.prototype.lineTo=function(H,Z){if(isNaN(H)||isNaN(Z))throw kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(H,Z));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},A.prototype.quadraticCurveTo=function(H,Z,K,ie){if(isNaN(K)||isNaN(ie)||isNaN(H)||isNaN(Z))throw kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(K,ie)),he=this.ctx.transform.applyToPoint(new o(H,Z));this.path.push({type:"qct",x1:he.x,y1:he.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},A.prototype.bezierCurveTo=function(H,Z,K,ie,oe,he){if(isNaN(oe)||isNaN(he)||isNaN(H)||isNaN(Z)||isNaN(K)||isNaN(ie))throw kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(oe,he)),ee=this.ctx.transform.applyToPoint(new o(H,Z)),fe=this.ctx.transform.applyToPoint(new o(K,ie));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:fe.x,y2:fe.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},A.prototype.arc=function(H,Z,K,ie,oe,he){if(isNaN(H)||isNaN(Z)||isNaN(K)||isNaN(ie)||isNaN(oe))throw kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(H,Z));H=pe.x,Z=pe.y;var ee=this.ctx.transform.applyToPoint(new o(0,K)),fe=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(ee.x-fe.x,2)+Math.pow(ee.y-fe.y,2))}Math.abs(oe-ie)>=2*Math.PI&&(ie=0,oe=2*Math.PI),this.path.push({type:"arc",x:H,y:Z,radius:K,startAngle:ie,endAngle:oe,counterclockwise:he})},A.prototype.arcTo=function(H,Z,K,ie,oe){throw new Error("arcTo not implemented.")},A.prototype.rect=function(H,Z,K,ie){if(isNaN(H)||isNaN(Z)||isNaN(K)||isNaN(ie))throw kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(H,Z),this.lineTo(H+K,Z),this.lineTo(H+K,Z+ie),this.lineTo(H,Z+ie),this.lineTo(H,Z),this.lineTo(H+K,Z),this.lineTo(H,Z)},A.prototype.fillRect=function(H,Z,K,ie){if(isNaN(H)||isNaN(Z)||isNaN(K)||isNaN(ie))throw kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(H,Z,K,ie),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},A.prototype.strokeRect=function(H,Z,K,ie){if(isNaN(H)||isNaN(Z)||isNaN(K)||isNaN(ie))throw kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(H,Z,K,ie),this.stroke())},A.prototype.clearRect=function(H,Z,K,ie){if(isNaN(H)||isNaN(Z)||isNaN(K)||isNaN(ie))throw kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(H,Z,K,ie))},A.prototype.save=function(H){H=typeof H!="boolean"||H;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),H){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},A.prototype.restore=function(H){H=typeof H!="boolean"||H;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),H&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(H){var Z,K,ie,oe;if(H.isCanvasGradient===!0&&(H=H.getColor()),!H)return{r:0,g:0,b:0,a:0,style:H};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(H))Z=0,K=0,ie=0,oe=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(H);if(he!==null)Z=parseInt(he[1]),K=parseInt(he[2]),ie=parseInt(he[3]),oe=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(H))!==null)Z=parseInt(he[1]),K=parseInt(he[2]),ie=parseInt(he[3]),oe=parseFloat(he[4]);else{if(oe=1,typeof H=="string"&&H.charAt(0)!=="#"){var pe=new GY(H);H=pe.ok?pe.toHex():"#000000"}H.length===4?(Z=H.substring(1,2),Z+=Z,K=H.substring(2,3),K+=K,ie=H.substring(3,4),ie+=ie):(Z=H.substring(1,3),K=H.substring(3,5),ie=H.substring(5,7)),Z=parseInt(Z,16),K=parseInt(K,16),ie=parseInt(ie,16)}}return{r:Z,g:K,b:ie,a:oe,style:H}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(H,Z,K,ie){if(isNaN(Z)||isNaN(K)||typeof H!="string")throw kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!m.call(this)){var oe=z(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;k.call(this,{text:H,x:Z,y:K,scale:he,angle:oe,align:this.textAlign,maxWidth:ie})}},A.prototype.strokeText=function(H,Z,K,ie){if(isNaN(Z)||isNaN(K)||typeof H!="string")throw kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ie=isNaN(ie)?void 0:ie;var oe=z(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;k.call(this,{text:H,x:Z,y:K,scale:he,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ie})}},A.prototype.measureText=function(H){if(typeof H!="string")throw kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,K=this.pdf.internal.scaleFactor,ie=Z.internal.getFontSize(),oe=Z.getStringUnitWidth(H)*ie/Z.internal.scaleFactor;return new function(he){var pe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:oe*=Math.round(96*K/72*1e4)/1e4})},A.prototype.scale=function(H,Z){if(isNaN(H)||isNaN(Z))throw kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(H,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},A.prototype.rotate=function(H){if(isNaN(H))throw kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new c(Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},A.prototype.translate=function(H,Z){if(isNaN(H)||isNaN(Z))throw kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,H,Z);this.ctx.transform=this.ctx.transform.multiply(K)},A.prototype.transform=function(H,Z,K,ie,oe,he){if(isNaN(H)||isNaN(Z)||isNaN(K)||isNaN(ie)||isNaN(oe)||isNaN(he))throw kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new c(H,Z,K,ie,oe,he);this.ctx.transform=this.ctx.transform.multiply(pe)},A.prototype.setTransform=function(H,Z,K,ie,oe,he){H=isNaN(H)?1:H,Z=isNaN(Z)?0:Z,K=isNaN(K)?0:K,ie=isNaN(ie)?1:ie,oe=isNaN(oe)?0:oe,he=isNaN(he)?0:he,this.ctx.transform=new c(H,Z,K,ie,oe,he)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(H,Z,K,ie,oe,he,pe,ee,fe){var ue=this.pdf.getImageProperties(H),V=1,ve=1,Se=1,ne=1;ie!==void 0&&ee!==void 0&&(Se=ee/ie,ne=fe/oe,V=ue.width/ie*ee/ie,ve=ue.height/oe*fe/oe),he===void 0&&(he=Z,pe=K,Z=0,K=0),ie!==void 0&&ee===void 0&&(ee=ie,fe=oe),ie===void 0&&ee===void 0&&(ee=ue.width,fe=ue.height);var xe=this.ctx.transform.decompose(),Le=z(xe.rotate.shx),ze=new c,Te=(ze=(ze=(ze=ze.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale)).applyToRectangle(new l(he-Z*Se,pe-K*ne,ie*V,oe*ve));if(this.autoPaging){for(var lt,tt=v.call(this,Te),ge=[],Be=0;Be<tt.length;Be+=1)ge.indexOf(tt[Be])===-1&&ge.push(tt[Be]);w(ge);for(var Ne=ge[0],ke=ge[ge.length-1],Me=Ne;Me<ke+1;Me++){this.pdf.setPage(Me);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=Me===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Me===1?0:rt+(Me-2)*Ke;if(this.ctx.clip_path.length!==0){var at=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(lt,this.posX+this.margin[3],-st+nt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=at}var gt=JSON.parse(JSON.stringify(Te));gt=b([gt],this.posX+this.margin[3],-st+nt+this.ctx.prevPageLastElemOffset)[0];var Bt=(Me>Ne||Me<ke)&&p.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ke,null).clip().discardPath()),this.pdf.addImage(H,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,Le),Bt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(H,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Le)};var v=function(H,Z,K){var ie=[];Z=Z||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(H.type){default:case"mt":case"lt":ie.push(Math.floor((H.y+oe)/K)+1);break;case"arc":ie.push(Math.floor((H.y+oe-H.radius)/K)+1),ie.push(Math.floor((H.y+oe+H.radius)/K)+1);break;case"qct":var he=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x,H.y);ie.push(Math.floor((he.y+oe)/K)+1),ie.push(Math.floor((he.y+he.h+oe)/K)+1);break;case"bct":var pe=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x2,H.y2,H.x,H.y);ie.push(Math.floor((pe.y+oe)/K)+1),ie.push(Math.floor((pe.y+pe.h+oe)/K)+1);break;case"rect":ie.push(Math.floor((H.y+oe)/K)+1),ie.push(Math.floor((H.y+H.h+oe)/K)+1)}for(var ee=0;ee<ie.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<ie[ee];)y.call(this);return ie},y=function(){var H=this.fillStyle,Z=this.strokeStyle,K=this.font,ie=this.lineCap,oe=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=H,this.strokeStyle=Z,this.font=K,this.lineCap=ie,this.lineWidth=oe,this.lineJoin=he},b=function(H,Z,K){for(var ie=0;ie<H.length;ie++)switch(H[ie].type){case"bct":H[ie].x2+=Z,H[ie].y2+=K;case"qct":H[ie].x1+=Z,H[ie].y1+=K;default:H[ie].x+=Z,H[ie].y+=K}return H},w=function(H){return H.sort(function(Z,K){return Z-K})},j=function(H,Z){var K=this.fillStyle,ie=this.strokeStyle,oe=this.lineCap,he=this.lineWidth,pe=Math.abs(he*this.ctx.transform.scaleX),ee=this.lineJoin;if(this.autoPaging){for(var fe,ue,V=JSON.parse(JSON.stringify(this.path)),ve=JSON.parse(JSON.stringify(this.path)),Se=[],ne=0;ne<ve.length;ne++)if(ve[ne].x!==void 0)for(var xe=v.call(this,ve[ne]),Le=0;Le<xe.length;Le+=1)Se.indexOf(xe[Le])===-1&&Se.push(xe[Le]);for(var ze=0;ze<Se.length;ze++)for(;this.pdf.internal.getNumberOfPages()<Se[ze];)y.call(this);w(Se);for(var Te=Se[0],lt=Se[Se.length-1],tt=Te;tt<lt+1;tt++){this.pdf.setPage(tt),this.fillStyle=K,this.strokeStyle=ie,this.lineCap=oe,this.lineWidth=pe,this.lineJoin=ee;var ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=tt===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=tt===1?0:Ne+(tt-2)*ke;if(this.ctx.clip_path.length!==0){var ot=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(fe,this.posX+this.margin[3],-Me+Be+this.ctx.prevPageLastElemOffset),N.call(this,H,!0),this.path=ot}if(ue=JSON.parse(JSON.stringify(V)),this.path=b(ue,this.posX+this.margin[3],-Me+Be+this.ctx.prevPageLastElemOffset),Z===!1||tt===0){var nt=(tt>Te||tt<lt)&&p.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,ke,null).clip().discardPath()),N.call(this,H,Z),nt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}this.path=V}else this.lineWidth=pe,N.call(this,H,Z),this.lineWidth=he},N=function(H,Z){if((H!=="stroke"||Z||!x.call(this))&&(H==="stroke"||Z||!m.call(this))){for(var K,ie,oe=[],he=this.path,pe=0;pe<he.length;pe++){var ee=he[pe];switch(ee.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ee,deltas:[],abs:[]});break;case"lt":var fe=oe.length;if(he[pe-1]&&!isNaN(he[pe-1].x)&&(K=[ee.x-he[pe-1].x,ee.y-he[pe-1].y],fe>0)){for(;fe>=0;fe--)if(oe[fe-1].close!==!0&&oe[fe-1].begin!==!0){oe[fe-1].deltas.push(K),oe[fe-1].abs.push(ee);break}}break;case"bct":K=[ee.x1-he[pe-1].x,ee.y1-he[pe-1].y,ee.x2-he[pe-1].x,ee.y2-he[pe-1].y,ee.x-he[pe-1].x,ee.y-he[pe-1].y],oe[oe.length-1].deltas.push(K);break;case"qct":var ue=he[pe-1].x+2/3*(ee.x1-he[pe-1].x),V=he[pe-1].y+2/3*(ee.y1-he[pe-1].y),ve=ee.x+2/3*(ee.x1-ee.x),Se=ee.y+2/3*(ee.y1-ee.y),ne=ee.x,xe=ee.y;K=[ue-he[pe-1].x,V-he[pe-1].y,ve-he[pe-1].x,Se-he[pe-1].y,ne-he[pe-1].x,xe-he[pe-1].y],oe[oe.length-1].deltas.push(K);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ee)}}ie=Z?null:H==="stroke"?"stroke":"fill";for(var Le=!1,ze=0;ze<oe.length;ze++)if(oe[ze].arc)for(var Te=oe[ze].abs,lt=0;lt<Te.length;lt++){var tt=Te[lt];tt.type==="arc"?P.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,Z,!Le):M.call(this,tt.x,tt.y),Le=!0}else if(oe[ze].close===!0)this.pdf.internal.out("h"),Le=!1;else if(oe[ze].begin!==!0){var ge=oe[ze].start.x,Be=oe[ze].start.y;U.call(this,oe[ze].deltas,ge,Be),Le=!0}ie&&T.call(this,ie),Z&&F.call(this)}},B=function(H){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return H-K;case"top":return H+Z-K;case"hanging":return H+Z-2*K;case"middle":return H+Z/2-K;default:return H}},I=function(H){return H+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var H=function(){};return H.colorStops=[],H.addColorStop=function(Z,K){this.colorStops.push([Z,K])},H.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},H.isCanvasGradient=!0,H},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(H,Z,K,ie,oe,he,pe,ee,fe){for(var ue=Y.call(this,K,ie,oe,he),V=0;V<ue.length;V++){var ve=ue[V];V===0&&(fe?E.call(this,ve.x1+H,ve.y1+Z):M.call(this,ve.x1+H,ve.y1+Z)),W.call(this,H,Z,ve.x2,ve.y2,ve.x3,ve.y3,ve.x4,ve.y4)}ee?F.call(this):T.call(this,pe)},T=function(H){switch(H){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(H,Z){this.pdf.internal.out(r(H)+" "+n(Z)+" m")},k=function(H){var Z;switch(H.align){case"right":case"end":Z="right";break;case"center":Z="center";break;default:Z="left"}var K,ie,oe,he=this.pdf.getTextDimensions(H.text),pe=B.call(this,H.y),ee=I.call(this,pe)-he.h,fe=this.ctx.transform.applyToPoint(new o(H.x,pe));if(this.autoPaging){var ue=this.ctx.transform.decompose(),V=new c;V=(V=(V=V.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var ve=this.ctx.transform.applyToRectangle(new l(H.x,pe,he.w,he.h)),Se=V.applyToRectangle(new l(H.x,ee,he.w,he.h)),ne=v.call(this,Se),xe=[],Le=0;Le<ne.length;Le+=1)xe.indexOf(ne[Le])===-1&&xe.push(ne[Le]);w(xe);for(var ze=xe[0],Te=xe[xe.length-1],lt=ze;lt<Te+1;lt++){this.pdf.setPage(lt);var tt=lt===1?this.posY+this.margin[0]:this.margin[0],ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],Ne=Be-this.margin[0],ke=this.pdf.internal.pageSize.width-this.margin[1],Me=ke-this.margin[3],ot=lt===1?0:ge+(lt-2)*Ne;if(this.ctx.clip_path.length!==0){var nt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(K,this.posX+this.margin[3],-1*ot+tt),N.call(this,"fill",!0),this.path=nt}var rt=b([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-ot+tt+this.ctx.prevPageLastElemOffset)[0];H.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*H.scale),oe=this.lineWidth,this.lineWidth=oe*H.scale);var Ke=this.autoPaging!=="text";if(Ke||rt.y+rt.h<=Be){if(Ke||rt.y>=tt&&rt.x<=ke){var st=Ke?H.text:this.pdf.splitTextToSize(H.text,H.maxWidth||ke-rt.x)[0],at=b([JSON.parse(JSON.stringify(ve))],this.posX+this.margin[3],-ot+tt+this.ctx.prevPageLastElemOffset)[0],gt=Ke&&(lt>ze||lt<Te)&&p.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Ne,null).clip().discardPath()),this.pdf.text(st,at.x,at.y,{angle:H.angle,align:Z,renderingMode:H.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else rt.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-rt.y);H.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=oe)}}else H.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*H.scale),oe=this.lineWidth,this.lineWidth=oe*H.scale),this.pdf.text(H.text,fe.x+this.posX,fe.y+this.posY,{angle:H.angle,align:Z,renderingMode:H.renderingMode,maxWidth:H.maxWidth}),H.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=oe)},M=function(H,Z,K,ie){K=K||0,ie=ie||0,this.pdf.internal.out(r(H+K)+" "+n(Z+ie)+" l")},U=function(H,Z,K){return this.pdf.lines(H,Z,K,null,null)},W=function(H,Z,K,ie,oe,he,pe,ee){this.pdf.internal.out([t(i(K+H)),t(a(ie+Z)),t(i(oe+H)),t(a(he+Z)),t(i(pe+H)),t(a(ee+Z)),"c"].join(" "))},Y=function(H,Z,K,ie){for(var oe=2*Math.PI,he=Math.PI/2;Z>K;)Z-=oe;var pe=Math.abs(K-Z);pe<oe&&ie&&(pe=oe-pe);for(var ee=[],fe=ie?-1:1,ue=Z;pe>1e-5;){var V=ue+fe*Math.min(pe,he);ee.push(Q.call(this,H,ue,V)),pe-=Math.abs(V-ue),ue=V}return ee},Q=function(H,Z,K){var ie=(K-Z)/2,oe=H*Math.cos(ie),he=H*Math.sin(ie),pe=oe,ee=-he,fe=pe*pe+ee*ee,ue=fe+pe*oe+ee*he,V=4/3*(Math.sqrt(2*fe*ue)-ue)/(pe*he-ee*oe),ve=pe-V*ee,Se=ee+V*pe,ne=ve,xe=-Se,Le=ie+Z,ze=Math.cos(Le),Te=Math.sin(Le);return{x1:H*Math.cos(Z),y1:H*Math.sin(Z),x2:ve*ze-Se*Te,y2:ve*Te+Se*ze,x3:ne*ze-xe*Te,y3:ne*Te+xe*ze,x4:H*Math.cos(K),y4:H*Math.sin(K)}},z=function(H){return 180*H/Math.PI},te=function(H,Z,K,ie,oe,he){var pe=H+.5*(K-H),ee=Z+.5*(ie-Z),fe=oe+.5*(K-oe),ue=he+.5*(ie-he),V=Math.min(H,oe,pe,fe),ve=Math.max(H,oe,pe,fe),Se=Math.min(Z,he,ee,ue),ne=Math.max(Z,he,ee,ue);return new l(V,Se,ve-V,ne-Se)},re=function(H,Z,K,ie,oe,he,pe,ee){var fe,ue,V,ve,Se,ne,xe,Le,ze,Te,lt,tt,ge,Be,Ne=K-H,ke=ie-Z,Me=oe-K,ot=he-ie,nt=pe-oe,rt=ee-he;for(ue=0;ue<41;ue++)ze=(xe=(V=H+(fe=ue/40)*Ne)+fe*((Se=K+fe*Me)-V))+fe*(Se+fe*(oe+fe*nt-Se)-xe),Te=(Le=(ve=Z+fe*ke)+fe*((ne=ie+fe*ot)-ve))+fe*(ne+fe*(he+fe*rt-ne)-Le),ue==0?(lt=ze,tt=Te,ge=ze,Be=Te):(lt=Math.min(lt,ze),tt=Math.min(tt,Te),ge=Math.max(ge,ze),Be=Math.max(Be,Te));return new l(Math.round(lt),Math.round(tt),Math.round(ge-lt),Math.round(Be-tt))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var H,Z,K=(H=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:H,lineDashOffset:Z}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Yt.API),function(e){var t=function(o){var l,c,d,u,A,f,m,x,p,v;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(A=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(f=(A=((A=((A=((A=(A-(v=A%85))/85)-(p=A%85))/85)-(x=A%85))/85)-(m=A%85))/85)%85,c.push(f+33,m+33,x+33,p+33,v+33)):c.push(122);return function(y,b){for(var w=b;w>0;w--)y.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,A,f=String,m="length",x=255,p="charCodeAt",v="slice",y="replace";for(o[v](-2),o=o[v](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),d=[],u=0,A=(o+=l="uuuuu"[v](o[m]%5||5))[m];A>u;u+=5)c=52200625*(o[p](u)-33)+614125*(o[p](u+1)-33)+7225*(o[p](u+2)-33)+85*(o[p](u+3)-33)+(o[p](u+4)-33),d.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(b,w){for(var j=w;j>0;j--)b.pop()}(d,l[m]),f.fromCharCode.apply(f,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=wE(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(Yt.API),function(e){e.loadFile=function(t,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var A=new XMLHttpRequest,f=0,m=function(x){var p=x.length,v=[],y=String.fromCharCode;for(f=0;f<p;f+=1)v.push(y(255&x.charCodeAt(f)));return v.join("")};if(A.open("GET",c,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?u(m(this.responseText)):u(void 0)}),A.send(null),d&&A.status===200)return m(A.responseText)}(i,a,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Yt.API),function(e){function t(){return(hr.html2canvas?Promise.resolve(hr.html2canvas):aB(()=>Promise.resolve().then(()=>d_e),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(hr.DOMPurify?Promise.resolve(hr.DOMPurify):aB(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=pn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},a=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),A=c.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||u.appendChild(l(A,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var x=u[m],p=x.src.find(function(v){return v.format==="truetype"});p&&d.addFont(p.url,x.ref.name,x.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,d.context2d.save(!0),c(this.prop.container,f)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||Yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,A){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return d.updateProgress(null,u),f}).then(u,A).then(function(f){return d.updateProgress(1),f})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),f=d.call(A,l,c);return o.convert(f,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Yt.getPageSize=function(l,c,d){if(pn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var A,f=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+c}var x,p=0,v=0;if(m.hasOwnProperty(f))p=m[f][1]/A,v=m[f][0]/A;else try{p=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",v>p&&(x=v,v=p,p=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",p>v&&(x=v,v=p,p=x)}return{width:v,height:p,unit:c,k:A,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(NB):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(Yt.API),Yt.API.addJS=function(e){return YD=e,this.internal.events.subscribe("postPutResources",function(){Sw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+YD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sw!==void 0&&qD!==void 0&&this.internal.out("/Names <</JavaScript "+Sw+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(a=0;a<d;a++){var A=r.internal.newObject();u.push(A);var f=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Yt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(A){for(var f,m=256*A.charCodeAt(4)+A.charCodeAt(5),x=A.length,p={width:0,height:0,numcomponents:1},v=4;v<x;v+=2){if(v+=m,t.indexOf(A.charCodeAt(v+1))!==-1){f=256*A.charCodeAt(v+5)+A.charCodeAt(v+6),p={width:256*A.charCodeAt(v+7)+A.charCodeAt(v+8),height:f,numcomponents:A.charCodeAt(v+9)};break}m=256*A.charCodeAt(v+2)+A.charCodeAt(v+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:i}}return u}}(Yt.API),Yt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=xBe(e,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,d=a.palette,u=a.depth;i=d&&c===1?function(P){for(var T=P.width,F=P.height,E=P.data,k=P.palette,M=P.depth,U=!1,W=[],Y=[],Q=void 0,z=!1,te=0,re=0;re<k.length;re++){var J=eD(k[re],4),H=J[0],Z=J[1],K=J[2],ie=J[3];W.push(H,Z,K),ie!=null&&(ie===0?(te++,Y.length<1&&Y.push(re)):ie<255&&(z=!0))}if(z||te>1){U=!0,Y=void 0;var oe=T*F;Q=new Uint8Array(oe);for(var he=new DataView(E.buffer),pe=0;pe<oe;pe++){var ee=CB(he,pe,M),fe=eD(k[ee],4)[3];Q[pe]=fe}}else te===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:E,alphaBytes:Q,needSMask:U,palette:W,mask:Y}}(a):c===2||c===4?function(P){for(var T=P.data,F=P.width,E=P.height,k=P.channels,M=P.depth,U=k===2?"DeviceGray":"DeviceRGB",W=k-1,Y=F*E,Q=W,z=Y*Q,te=1*Y,re=Math.ceil(z*M/8),J=Math.ceil(te*M/8),H=new Uint8Array(re),Z=new Uint8Array(J),K=new DataView(T.buffer),ie=new DataView(H.buffer),oe=new DataView(Z.buffer),he=!1,pe=0;pe<Y;pe++){for(var ee=pe*k,fe=0;fe<Q;fe++)iM(ie,CB(K,ee+fe,M),pe*Q+fe,M);var ue=CB(K,ee+Q,M);ue<(1<<M)-1&&(he=!0),iM(oe,ue,1*pe,M)}return{colorSpace:U,colorsPerPixel:W,sMaskBitsPerComponent:he?M:void 0,colorBytes:H,alphaBytes:Z,needSMask:he}}(a):function(P){var T=P.data,F=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(E){for(var k=E.length,M=new Uint8Array(2*k),U=new DataView(M.buffer,M.byteOffset,M.byteLength),W=0;W<k;W++)U.setUint16(2*W,E[W],!1);return M}(T):T,needSMask:!1}}(a);var A,f,m,x=i,p=x.colorSpace,v=x.colorsPerPixel,y=x.sMaskBitsPerComponent,b=x.colorBytes,w=x.alphaBytes,j=x.needSMask,N=x.palette,B=x.mask,I=null;return n!==Yt.API.image_compression.NONE&&typeof wE=="function"?(I=function(P){var T;switch(P){case Yt.API.image_compression.FAST:T=11;break;case Yt.API.image_compression.MEDIUM:T=13;break;case Yt.API.image_compression.SLOW:T=14;break;default:T=12}return T}(n),A=this.decode.FLATE_DECODE,f="/Predictor ".concat(I," /Colors ").concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=eM(b,Math.ceil(o*v*u/8),v,u,n),j&&(m=eM(w,Math.ceil(o*y/8),1,y,n))):(A=void 0,f=void 0,e=b,j&&(m=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:e,index:t,filter:A,decodeParameters:f,transparency:B,palette:N,sMask:m,predictor:I,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:p}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new DBe(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new BB(100).encode(d,100);return e.processJPEG.call(this,u,r,n,i)},e.processGIF87A=e.processGIF89A}(Yt.API),zl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){kn.log("bit decode error:"+r)}},zl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},zl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},zl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},zl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,d=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},zl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},zl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},zl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},zl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new zl(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new BB(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)}}(Yt.API),oM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new oM(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new BB(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)}}(Yt.API),Yt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var u=n[d],A=n[d+1],f=n[d+2],m=n[d+3];a[l++]=u,a[l++]=A,a[l++]=f,o[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Yt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Rm=Yt.API,Ew=Rm.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=d.fof?d.fof:1,A=t.doKerning!==!1,f=0,m=e.length,x=0,p=l[0]||c,v=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(f=A&&pn(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/u:0,v.push((l[n]||p)/c+f)),x=n;return v},XD=Rm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Rm.processArabic&&(e=Rm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:Ew.apply(this,arguments).reduce(function(a,o){return a+o},0)},ZD=function(e,t,r,n){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<r;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},JD=function(e,t,r){r||(r={});var n,i,a,o,l,c,d,u=[],A=[u],f=r.textIndent||0,m=0,x=0,p=e.split(" "),v=Ew.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),b=[];p.map(function(j){(j=j.split(/\s*\n/)).length>1?b=b.concat(j.map(function(N,B){return(B&&N.length?`
`:"")+N})):b.push(j[0])}),p=b,c=XD.apply(this,[y,r])}for(a=0,o=p.length;a<o;a++){var w=0;if(n=p[a],c&&n[0]==`
`&&(n=n.substr(1),w=1),f+m+(x=(i=Ew.apply(this,[n,r])).reduce(function(j,N){return j+N},0))>t||w){if(x>t){for(l=ZD.apply(this,[n,i,t-(f+m),t]),u.push(l.shift()),u=[l.pop()];l.length;)A.push([l.shift()]);x=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(j,N){return j+N},0)}else u=[n];A.push(u),f=x+c,m=v}else u.push(n),f+=m+x,m=v}return d=c?function(j,N){return(N?y:"")+j.join(" ")}:function(j){return j.join(" ")},A.map(d)},Rm.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle),f="Unicode";return A.metadata[f]?{widths:A.metadata[f].widths||{0:1},kerning:A.metadata[f].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(JD.apply(this,[n[l],o,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var o=function(f){return"0x"+parseInt(f,10).toString(16)},l=e.__fontmetrics__.compress=function(f){var m,x,p,v,y=["{"];for(var b in f){if(m=f[b],isNaN(parseInt(b,10))?x="'"+b+"'":(b=parseInt(b,10),x=(x=o(b).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof m=="number")m<0?(p=o(m).slice(3),v="-"):(p=o(m).slice(2),v=""),p=v+p.slice(0,-1)+i[p.slice(-1)];else{if(pn(m)!=="object")throw new Error("Don't know what to do with value type "+pn(m)+".");p=l(m)}y.push(x+p)}return y.push("}"),y.join("")},c=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,x,p,v,y={},b=1,w=y,j=[],N="",B="",I=f.length-1,P=1;P<I;P+=1)(v=f[P])=="'"?m?(p=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(j.push([w,p]),w={},p=void 0):v=="}"?((x=j.pop())[0][x[1]]=w,p=void 0,w=x[0]):v=="-"?b=-1:p===void 0?n.hasOwnProperty(v)?(N+=n[v],p=parseInt(N,16)*b,b=1,N=""):N+=v:n.hasOwnProperty(v)?(B+=n[v],w[p]=parseInt(B,16)*b,b=1,p=void 0,B=""):B+=v;return y},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var m=f.font,x=A.Unicode[m.postScriptName];x&&(m.metadata.Unicode={},m.metadata.Unicode.widths=x.widths,m.metadata.Unicode.kerning=x.kerning);var p=u.Unicode[m.postScriptName];p&&(m.metadata.Unicode.encoding=p,m.encoding=p.codePages[0])}])}(Yt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(S1(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Yt),Yt.API.addSvgAsImage=function(e,t,r,n,i,a,o,l){if(isNaN(t)||isNaN(r))throw kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(hr.canvg?Promise.resolve(hr.canvg):aB(()=>import("./index.es-DE_fxmze.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(u)}).then(function(){A.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,o,l)})},Yt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Yt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,A=0;function f(x,p){var v,y=!1;for(v=0;v<x.length;v+=1)x[v]===p&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(A=0;A<m;A+=1)r[l[A]].value=r[l[A]].defaultValue,r[l[A]].explicitSet=!1}if(pn(e)==="object"){for(i in e)if(a=e[i],f(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&f(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(u=0;u<a[d].length;u+=1)typeof a[d][u]!="number"&&(n=!1);n===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,p=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?p.push("/"+x+" /"+r[x].value):p.push("/"+x+" "+r[x].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Yt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],A=0,f=a.length;A<f;++A){if(l=o.metadata.characterToGlyph(a.charCodeAt(A)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(A),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(a){var o,l,c,d,u,A,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],A=0,f=(l=Object.keys(a).sort(function(m,x){return m-x})).length;A<f;A++)o=l[A],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(d=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var A=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<f.length;x++)m+=String.fromCharCode(f[x]);var p=d();u({data:m,addLength1:!0,objectId:p}),c("endobj");var v=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var y=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Wm(l.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Wm(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(A)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Wm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var A=l.metadata.rawData,f="",m=0;m<A.length;m++)f+=String.fromCharCode(A[m]);var x=d();u({data:f,addLength1:!0,objectId:x}),c("endobj");var p=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Wm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+Wm(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,d=a.y,u=a.options||{},A=a.mutex||{},f=A.pdfEscape,m=A.activeFontKey,x=A.fonts,p=m,v="",y=0,b="",w=x[p].encoding;if(x[p].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:A};for(b=l,p=m,Array.isArray(l)&&(b=l[0]),y=0;y<b.length;y+=1)x[p].metadata.hasOwnProperty("cmap")&&(o=x[p].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),o||b[y].charCodeAt(0)<256&&x[p].metadata.hasOwnProperty("Unicode")?v+=b[y]:v+="";var j="";return parseInt(p.slice(1))<14||w==="WinAnsiEncoding"?j=f(v,p).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(j=r(v,x[p])),A.isHex=!0,{text:j,x:c,y:d,options:u,mutex:A}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([i(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(i(Object.assign({},c,{text:o[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(Yt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Yt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,l,c,d,u,A=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var j=function(E){var k=E.charCodeAt(),M=k>>8,U=p[M];return U!==void 0?A[256*U+(255&k)]:M===252||M===253?"AL":y.test(M)?"L":M===8?"R":"N"},N=function(E){for(var k,M=0;M<E.length;M++){if((k=j(E.charAt(M)))==="L")return!1;if(k==="R")return!0}return!1},B=function(E,k,M,U){var W,Y,Q,z,te=k[U];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(te="AN");break;case"AL":b=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":U<1||U+1>=k.length||(W=M[U-1])!=="EN"&&W!=="AN"||(Y=k[U+1])!=="EN"&&Y!=="AN"?te="N":b&&(Y="AN"),te=Y===W?Y:"N";break;case"ES":te=(W=U>0?M[U-1]:"B")==="EN"&&U+1<k.length&&k[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&M[U-1]==="EN"){te="EN";break}if(b){te="N";break}for(Q=U+1,z=k.length;Q<z&&k[Q]==="ET";)Q++;te=Q<z&&k[Q]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(z=k.length,Q=U+1;Q<z&&k[Q]==="NSM";)Q++;if(Q<z){var re=E[U],J=re>=1425&&re<=2303||re===64286;if(W=k[Q],J&&(W==="R"||W==="AL")){te="R";break}}}te=U<1||(W=k[U-1])==="B"?"N":M[U-1];break;case"B":b=!1,i=!0,te=w;break;case"S":a=!0,te="N"}return te},I=function(E,k,M){var U=E.split("");return M&&P(U,M,{hiLevel:w}),U.reverse(),k&&k.reverse(),U.join("")},P=function(E,k,M){var U,W,Y,Q,z,te=-1,re=E.length,J=0,H=[],Z=w?m:f,K=[];for(b=!1,i=!1,a=!1,W=0;W<re;W++)K[W]=j(E[W]);for(Y=0;Y<re;Y++){if(z=J,H[Y]=B(E,K,H,Y),U=240&(J=Z[z][x[H[Y]]]),J&=15,k[Y]=Q=Z[J][5],U>0)if(U===16){for(W=te;W<Y;W++)k[W]=1;te=-1}else te=-1;if(Z[J][6])te===-1&&(te=Y);else if(te>-1){for(W=te;W<Y;W++)k[W]=Q;te=-1}K[Y]==="B"&&(k[Y]=0),M.hiLevel|=Q}a&&function(ie,oe,he){for(var pe=0;pe<he;pe++)if(ie[pe]==="S"){oe[pe]=w;for(var ee=pe-1;ee>=0&&ie[ee]==="WS";ee--)oe[ee]=w}}(K,k,re)},T=function(E,k,M,U,W){if(!(W.hiLevel<E)){if(E===1&&w===1&&!i)return k.reverse(),void(M&&M.reverse());for(var Y,Q,z,te,re=k.length,J=0;J<re;){if(U[J]>=E){for(z=J+1;z<re&&U[z]>=E;)z++;for(te=J,Q=z-1;te<Q;te++,Q--)Y=k[te],k[te]=k[Q],k[Q]=Y,M&&(Y=M[te],M[te]=M[Q],M[Q]=Y);J=z}J++}}},F=function(E,k,M){var U=E.split(""),W={hiLevel:w};return M||(M=[]),P(U,M,W),function(Y,Q,z){if(z.hiLevel!==0&&u)for(var te,re=0;re<Y.length;re++)Q[re]===1&&(te=v.indexOf(Y[re]))>=0&&(Y[re]=v[te+1])}(U,M,W),T(2,U,k,M,W),T(1,U,k,M,W),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,k,M){if(function(W,Y){if(Y)for(var Q=0;Q<W.length;Q++)Y[Q]=Q;l===void 0&&(l=N(W)),d===void 0&&(d=N(W))}(E,k),o||!c||d)if(o&&c&&l^d)w=l?1:0,E=I(E,k,M);else if(!o&&c&&d)w=l?1:0,E=F(E,k,M),E=I(E,k);else if(!o||l||c||d){if(o&&!c&&l^d)E=I(E,k),l?(w=0,E=F(E,k,M)):(w=1,E=F(E,k,M),E=I(E,k));else if(o&&l&&!c&&d)w=1,E=F(E,k,M),E=I(E,k);else if(!o&&!c&&l^d){var U=u;l?(w=1,E=F(E,k,M),w=0,u=!1,E=F(E,k,M),u=U):(w=0,E=F(E,k,M),E=I(E,k),w=1,u=!1,E=F(E,k,M),u=U,E=I(E,k))}}else w=0,E=F(E,k,M);else w=l?1:0,E=F(E,k,M);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,c=E.isOutputVisual,l=E.isInputRtl,d=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Yt),Yt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Zh(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new eSe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new MBe(this.contents),this.head=new $Be(this),this.name=new WBe(this),this.cmap=new iX(this),this.toUnicode={},this.hhea=new HBe(this),this.maxp=new GBe(this),this.hmtx=new qBe(this),this.post=new VBe(this),this.os2=new zBe(this),this.loca=new JBe(this),this.glyf=new YBe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var wc,Zh=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),MBe=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,l,c,d,u,A,f,m,x,p;for(p in m=Object.keys(r).length,c=Math.log(2),A=16*Math.floor(Math.log(m)/c),o=Math.floor(A/c),u=16*m-A,(i=new Zh).writeInt(this.scalarType),i.writeShort(m),i.writeShort(A),i.writeShort(o),i.writeShort(u),a=16*m,d=i.pos+a,l=null,x=[],r)for(f=r[p],i.writeString(p),i.writeInt(e(f)),i.writeInt(d),i.writeInt(f.length),x=x.concat(f),p==="head"&&(l=d),d+=f.length;d%4;)x.push(0),d++;return i.write(x),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=aX.call(r);r.length%4;)r.push(0);for(a=new Zh(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),QBe={}.hasOwnProperty,md=function(e,t){for(var r in t)QBe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};wc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var $Be=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return md(e,wc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Zh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),lM=function(){function e(t,r){var n,i,a,o,l,c,d,u,A,f,m,x,p,v,y,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),f=m/2,t.pos+=6,a=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(t.readUInt16());return N}(),t.pos+=2,p=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(t.readUInt16());return N}(),d=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(t.readUInt16());return N}(),u=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(t.readUInt16());return N}(),i=(this.length-t.pos+this.offset)/2,l=function(){var j,N;for(N=[],c=j=0;0<=i?j<i:j>i;c=0<=i?++j:--j)N.push(t.readUInt16());return N}(),c=y=0,w=a.length;y<w;c=++y)for(v=a[c],n=b=x=p[c];x<=v?b<=v:b>=v;n=x<=v?++b:--b)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-x)-(f-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=A}return e.encode=function(t,r){var n,i,a,o,l,c,d,u,A,f,m,x,p,v,y,b,w,j,N,B,I,P,T,F,E,k,M,U,W,Y,Q,z,te,re,J,H,Z,K,ie,oe,he,pe,ee,fe,ue,V;switch(U=new Zh,o=Object.keys(t).sort(function(ve,Se){return ve-Se}),r){case"macroman":for(p=0,v=function(){var ve=[];for(x=0;x<256;++x)ve.push(0);return ve}(),b={0:0},a={},W=0,te=o.length;W<te;W++)b[ee=t[i=o[W]]]==null&&(b[ee]=++p),a[i]={old:t[i],new:b[t[i]]},v[i]=b[t[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(v),{charMap:a,subtable:U.data,maxGlyphID:p+1};case"unicode":for(k=[],A=[],w=0,b={},n={},y=d=null,Y=0,re=o.length;Y<re;Y++)b[N=t[i=o[Y]]]==null&&(b[N]=++w),n[i]={old:N,new:b[N]},l=b[N]-i,y!=null&&l===d||(y&&A.push(y),k.push(i),d=l),y=i;for(y&&A.push(y),A.push(65535),k.push(65535),F=2*(T=k.length),P=2*Math.pow(Math.log(T)/Math.LN2,2),f=Math.log(P/2)/Math.LN2,I=2*T-P,c=[],B=[],m=[],x=Q=0,J=k.length;Q<J;x=++Q){if(E=k[x],u=A[x],E===65535){c.push(0),B.push(0);break}if(E-(M=n[E].new)>=32768)for(c.push(0),B.push(2*(m.length+T-x)),i=z=E;E<=u?z<=u:z>=u;i=E<=u?++z:--z)m.push(n[i].new);else c.push(M-E),B.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*T+2*m.length),U.writeUInt16(0),U.writeUInt16(F),U.writeUInt16(P),U.writeUInt16(f),U.writeUInt16(I),he=0,H=A.length;he<H;he++)i=A[he],U.writeUInt16(i);for(U.writeUInt16(0),pe=0,Z=k.length;pe<Z;pe++)i=k[pe],U.writeUInt16(i);for(fe=0,K=c.length;fe<K;fe++)l=c[fe],U.writeUInt16(l);for(ue=0,ie=B.length;ue<ie;ue++)j=B[ue],U.writeUInt16(j);for(V=0,oe=m.length;V<oe;V++)p=m[V],U.writeUInt16(p);return{charMap:n,subtable:U.data,maxGlyphID:w+1}}},e}(),iX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return md(e,wc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new lM(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=lM.encode(t,r),(i=new Zh).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),HBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return md(e,wc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),zBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return md(e,wc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),VBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return md(e,wc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),KBe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},WBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return md(e,wc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,o,l,c,d,u,A,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=u=0,A=n.length;u<A;a=++u)i=n[a],t.pos=i.offset,d=t.readString(i.length),o=new KBe(d,i),c[f=i.nameID]==null&&(c[f]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),GBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return md(e,wc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),qBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return md(e,wc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)u.push(t.readInt16());return u}(),this.widths=(function(){var d,u,A,f;for(f=[],d=0,u=(A=this.metrics).length;d<u;d++)a=A[d],f.push(a.advance);return f}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),aX=[].slice,YBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return md(e,wc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,o,l,c,d,u,A;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Zh(r.read(i))).readShort(),d=l.readShort(),A=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new ZBe(l,d,A,c,u):new XBe(l,o,d,A,c,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)i=t[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},e}(),XBe=function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),ZBe=function(){function e(t,r,n,i,a){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Zh(aX.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),JBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return md(e,wc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},e}(),eSe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,l,c,d,u,A,f,m,x,p,v,y;for(i in n=iX.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},y=n.charMap)m[(c=y[i]).old]=c.new;for(x in f=n.maxGlyphID,o)x in m||(m[x]=f++);return u=function(b){var w,j;for(w in j={},b)j[b[w]]=w;return j}(m),A=Object.keys(u).sort(function(b,w){return b-w}),p=function(){var b,w,j;for(j=[],b=0,w=A.length;b<w;b++)l=A[b],j.push(u[l]);return j}(),a=this.font.glyf.encode(o,p,m),d=this.font.loca.encode(a.offsets,p),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Yt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();const tSe=()=>{var d,u,A,f;const{tenantData:e,loading:t}=nm(),r=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(m||0),n=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",i=m=>{if(!m)return"N/A";if(typeof m=="string")return m;const{street:x,city:p,state:v,pincode:y,landmark:b}=m;return[x,b,p,v,y].filter(Boolean).join(", ")},a=async()=>{const m=document.getElementById("rental-agreement-content");if(m)try{const x=await mY(m,{scale:2,useCORS:!0,logging:!1,windowWidth:m.scrollWidth,windowHeight:m.scrollHeight}),p=x.toDataURL("image/png"),v=new Yt("p","mm","a4"),y=v.internal.pageSize.getWidth(),b=x.height*y/x.width;v.addImage(p,"PNG",0,0,y,b),v.save(`Rental-Agreement-${(e==null?void 0:e.userName)||"Tenant"}.pdf`)}catch(x){console.error("Error generating PDF:",x),alert("Failed to generate agreement PDF. Please try again.")}},o=()=>{window.print()};if(t)return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading agreement..."})]})})});if(!e)return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(er,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Agreement Found"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy agreement."})]})})});const{property:l,room:c}=e;return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(Ss,{className:"w-10 h-10 mr-3"}),"Tenancy Agreement"]}),s.jsx("p",{className:"text-purple-100 text-lg",children:"Your rental agreement details"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:o,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors shadow-lg flex items-center gap-2",children:[s.jsx(IV,{className:"w-4 h-4"}),"Print"]}),s.jsxs("button",{onClick:a,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors shadow-lg flex items-center gap-2",children:[s.jsx(Jd,{className:"w-4 h-4"}),"Download"]})]})]})})]})}),s.jsxs(X.div,{id:"rental-agreement-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 p-8 border-b-4 border-purple-600",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"RENTAL AGREEMENT"}),s.jsxs("p",{className:"text-gray-600",children:["This agreement is made on ",n(e.actualCheckInDate)]})]})}),s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Parties to the Agreement"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-purple-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-2",children:"LANDLORD (Owner)"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:((d=e.owner)==null?void 0:d.name)||e.ownerName}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((u=e.owner)==null?void 0:u.email)||e.ownerEmail||"Email not available"}),s.jsx("p",{className:"text-sm text-gray-600",children:((A=e.owner)==null?void 0:A.phone)||e.ownerPhone||"Phone not available"})]}),s.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-indigo-700 font-medium mb-2",children:"TENANT"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.userName}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.userEmail}),s.jsx("p",{className:"text-sm text-gray-600",children:e.userPhone})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Pr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Property Details"]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Property Name"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(l==null?void 0:l.propertyName)||e.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",(c==null?void 0:c.roomNumber)||e.roomNumber]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Address"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:i(l==null?void 0:l.address)!=="N/A"?i(l==null?void 0:l.address):((f=e.propertySnapshot)==null?void 0:f.address)||"Address not available"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Type"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(c==null?void 0:c.roomType)||"Standard"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(ei,{className:"w-5 h-5 mr-2 text-purple-600"}),"Financial Terms"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-3xl font-bold text-green-900",children:r(e.monthlyRent)}),s.jsx("p",{className:"text-xs text-green-600 mt-2",children:"Payable on or before 5th of every month"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r(e.securityDeposit)}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Refundable at end of tenancy"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Tr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Tenure Details"]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Check-in Date"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:n(e.actualCheckInDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Agreement Status"}),s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[s.jsx(wt,{className:"w-4 h-4 mr-1"}),"Active"]})]})]})})]}),s.jsx("div",{className:"border-t-2 border-gray-200 pt-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium mb-4",children:"Landlord's Signature"}),s.jsx("div",{className:"border-b-2 border-gray-300 pb-4 mb-2",children:s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl text-indigo-900",style:{fontFamily:'"Great Vibes", cursive'},children:e.ownerName}),s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-green-600 font-semibold border border-green-200 px-2 py-0.5 rounded bg-green-50",children:"Digitally Signed"})]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Date: ",n(e.actualCheckInDate)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium mb-4",children:"Tenant's Signature"}),s.jsx("div",{className:"border-b-2 border-gray-300 pb-4 mb-2",children:s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl text-indigo-900",style:{fontFamily:'"Great Vibes", cursive'},children:e.userName}),s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-green-600 font-semibold border border-green-200 px-2 py-0.5 rounded bg-green-50",children:"Digitally Signed"})]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Date: ",n(e.actualCheckInDate)]})]})]})})]}),s.jsx("div",{className:"bg-gray-100 p-6 text-center border-t",children:s.jsx("p",{className:"text-sm text-gray-600",children:"This is a digitally generated agreement. For any queries, please contact the property owner."})})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-xl overflow-hidden p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(rr,{className:"w-8 h-8 text-purple-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Terms & Conditions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant shall pay the monthly rent on or before the 5th of every month."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The security deposit will be refunded within 30 days of vacating the premises, subject to deductions for damages."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant must provide 30 days notice before vacating the property."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant is responsible for maintaining the property in good condition."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"Subletting is not permitted without prior written consent from the landlord."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The landlord reserves the right to inspect the property with 24 hours prior notice."})]})]})]})]})})})},rSe=()=>{var A,f;const{tenantData:e,loading:t}=nm(),[r,n]=_.useState([]),[i,a]=_.useState(!0);_.useEffect(()=>{e&&(async()=>{var x;if(e!=null&&e.roomId)try{a(!0);const p=localStorage.getItem("authToken"),v=((x=e.roomId)==null?void 0:x._id)||e.roomId,b=(await kt.get(`/property/public/rooms/${v}/tenants`)).data.tenants||[],w=[],j=new Set,N=B=>B?typeof B=="string"?B:(B._id||B.id||B).toString():"";b.forEach(B=>{const I=N(B.userId);I&&!j.has(I)&&(j.add(I),w.push(B))}),n(w)}catch(p){console.error("Error fetching roommates:",p)}finally{a(!1)}})()},[e]);const o=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",l=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(m||0);if(t||i)return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading roommates..."})]})})});if(!e)return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(er,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy at the moment."})]})})});const{property:c,room:d}=e,u=(A=JSON.parse(localStorage.getItem("user")))==null?void 0:A.id;return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(zr,{className:"w-10 h-10 mr-3"}),"Your Roommates"]}),s.jsxs("p",{className:"text-indigo-100 text-lg",children:["People living in Room ",d==null?void 0:d.roomNumber]})]}),s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-indigo-100 text-sm",children:"Total Tenants"}),s.jsx("p",{className:"text-4xl font-bold",children:r.length})]})]})})]})}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Pr,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Room Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-indigo-700 font-medium mb-1",children:"Property"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(c==null?void 0:c.propertyName)||e.propertyName||"N/A"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Room Number"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",(d==null?void 0:d.roomNumber)||e.roomNumber||"N/A"]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Room Type"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(d==null?void 0:d.roomType)||"Standard"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("p",{className:"text-sm text-green-700 font-medium mb-1 flex items-center gap-1",children:[s.jsx(ei,{className:"w-3 h-3"})," Monthly Rent"]}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:l((d==null?void 0:d.rent)||e.monthlyRent)})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 md:col-span-2 lg:col-span-2",children:[s.jsxs("p",{className:"text-sm text-amber-700 font-medium mb-1 flex items-center gap-1",children:[s.jsx(wr,{className:"w-3 h-3"})," Address"]}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:c!=null&&c.address&&typeof c.address=="object"?`${c.address.street||""}, ${c.address.city||""}, ${c.address.state||""} - ${c.address.pincode||""}`:((f=e.propertySnapshot)==null?void 0:f.address)||"Address not available"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((m,x)=>{var v,y;const p=m.userId===u;return s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+x*.1},className:`bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow ${p?"ring-2 ring-indigo-500":""}`,children:s.jsxs("div",{className:`p-6 ${p?"bg-gradient-to-r from-indigo-50 to-purple-50":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.profilePicture||typeof m.userId=="object"&&((v=m.userId)!=null&&v.profilePicture)?s.jsx("img",{src:m.profilePicture||((y=m.userId)==null?void 0:y.profilePicture),alt:m.userName,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-sm"}):s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx(cr,{className:"w-8 h-8 text-white"})}),p&&s.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-xs font-medium rounded-full",children:"You"}),m.status==="active"&&s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full flex items-center gap-1",children:[s.jsx(Rue,{className:"w-3 h-3"}),"Active"]})]}),s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:[m.userName," ",p&&s.jsx("span",{className:"text-indigo-600 font-semibold",children:"(You)"})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ln,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:m.userEmail})]}),m.userPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Es,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),s.jsx("span",{children:m.userPhone})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Tr,{className:"w-4 h-4 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Checked in on"}),s.jsx("p",{className:"font-medium text-gray-900",children:o(m.actualCheckInDate)})]})]})})]})},m._id)})}),r.length===0&&s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(zr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No roommates found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"You might be the only tenant in this room"})]}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(rr,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Privacy Notice"}),s.jsx("p",{className:"text-sm text-gray-700",children:"Contact information is shared only with tenants residing in the same room. Please respect each other's privacy and maintain a friendly environment."})]})]})})]})})})},nSe=()=>{const{tenantData:e,loading:t,error:r}=nm(),{toast:n}=xc(),[i,a]=_.useState([]),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,A]=_.useState([]),[f,m]=_.useState(null),x=k=>k?typeof k=="string"?k:(k._id||k.id||k).toString():"",p=localStorage.getItem("userUpiId")||"",[v,y]=_.useState({description:"",totalAmount:"",paidBy:"",splitWith:[],category:"groceries",date:new Date().toISOString().split("T")[0],targetUpiId:p}),b=["Groceries","Utilities","Food Delivery","Cleaning Supplies","Internet","Maintenance","Other"];_.useEffect(()=>{const k=JSON.parse(localStorage.getItem("user"));k&&(m(k.id||k._id||k.userId),y(M=>({...M,paidBy:k.name||""})))},[]);const w=async()=>{var k;if(e!=null&&e.roomId)try{l(!0);const M=localStorage.getItem("authToken"),U=((k=e.roomId)==null?void 0:k._id)||e.roomId,Y=(await kt.get(`/property/public/rooms/${U}/tenants`)).data.tenants||[],Q=[],z=new Set;Y.forEach(re=>{const J=x(re.userId);J&&!z.has(J)&&(z.add(J),Q.push(re))}),a(Q);const te=await kt.get("/property/expenses");A(te.data.expenses||[])}catch(M){console.error("Error fetching data:",M)}finally{l(!1)}};_.useEffect(()=>{e&&w()},[e]);const j=async k=>{var Q,z;k.preventDefault();const M=[...v.splitWith,f],U=[...new Set(M)],W=parseFloat(v.totalAmount)/U.length,Y=U.map(te=>({user:te,amount:W}));try{const te=localStorage.getItem("authToken");await kt.post("/property/expenses",{description:v.description,totalAmount:parseFloat(v.totalAmount),category:v.category,date:v.date,targetUpiId:v.targetUpiId,splits:Y}),localStorage.setItem("userUpiId",v.targetUpiId),n({title:"Success",description:"Expense added successfully"}),d(!1),y({description:"",totalAmount:"",paidBy:v.paidBy,splitWith:[],category:"groceries",date:new Date().toISOString().split("T")[0],targetUpiId:v.targetUpiId}),w()}catch(te){console.error("Error adding expense:",te),n({variant:"destructive",title:"Error",description:((z=(Q=te.response)==null?void 0:Q.data)==null?void 0:z.message)||"Failed to add expense"})}},N=async(k,M)=>{var Y,Q;const U=((Y=k.paidBy)==null?void 0:Y.name)||((Q=k.paidBy)==null?void 0:Q.userName)||"Roommate",W=`upi://pay?pa=${k.targetUpiId}&pn=${encodeURIComponent(U)}&tr=${k._id}&tn=${encodeURIComponent(k.description)}&am=${M}&cu=INR`;window.location.href=W,setTimeout(()=>{window.confirm("Did you complete the payment via your UPI app?")&&B(k._id)},3e3)},B=async k=>{try{const M=localStorage.getItem("authToken");await kt.post(`/property/expenses/${k}/settle`,{}),n({title:"Success",description:"Payment settled!"}),w()}catch(M){console.error("Error settling expense:",M),n({variant:"destructive",title:"Error",description:"Failed to update payment status"})}},I=k=>{if(!k||!f)return;const M=x(k),U=x(f);M!==U&&y(W=>{const Y=W.splitWith.some(Q=>Q.toString()===M);return{...W,splitWith:Y?W.splitWith.filter(Q=>Q.toString()!==M):[...W.splitWith,M]}})},P=k=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(k||0),T=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),F=u.reduce((k,M)=>{const U=M.splits.find(W=>W.user._id===f||W.user===f);return U&&M.paidBy._id!==f&&U.status==="pending"?k+U.amount:k},0),E=u.reduce((k,M)=>{if(M.paidBy._id===f){const U=M.splits.reduce((W,Y)=>Y.user._id!==f&&Y.status==="pending"?W+Y.amount:W,0);return k+U}return k},0);return t?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-green-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Verifying tenant status..."})]})})}):e?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(CN,{className:"w-8 h-8 text-green-600"}),"Expense Split"]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Manage shared expenses easily"})]}),s.jsxs("button",{onClick:()=>d(!c),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg flex items-center gap-2 text-sm",children:[c?s.jsx(or,{className:"w-4 h-4"}):s.jsx(ad,{className:"w-4 h-4"}),c?"Cancel":"Add Expense"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-red-100 flex flex-col justify-between h-32 relative overflow-hidden group",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wider mb-1",children:"You Owe"}),s.jsx("h3",{className:"text-2xl font-bold text-red-600",children:P(F)})]}),s.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:s.jsx(gF,{className:"w-16 h-16 text-red-600"})})]}),s.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-green-100 flex flex-col justify-between h-32 relative overflow-hidden group",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wider mb-1",children:"Owed to You"}),s.jsx("h3",{className:"text-2xl font-bold text-green-600",children:P(E)})]}),s.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:s.jsx(jo,{className:"w-16 h-16 text-green-600"})})]})]}),c&&s.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-6 mb-8 border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"New Expense"}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),s.jsx("input",{type:"text",required:!0,value:v.description,onChange:k=>y({...v,description:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"What's this for?"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:""}),s.jsx("input",{type:"number",required:!0,min:"1",value:v.totalAmount,onChange:k=>y({...v,totalAmount:k.target.value}),className:"w-full pl-7 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Category"}),s.jsx("select",{required:!0,value:v.category,onChange:k=>y({...v,category:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",children:b.map(k=>s.jsx("option",{value:k.toLowerCase(),children:k},k))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Your UPI ID (for receiving payment)"}),s.jsx("input",{type:"text",required:!0,value:v.targetUpiId,onChange:k=>y({...v,targetUpiId:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50",placeholder:"username@upi"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Roommates will pay to this ID."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2",children:"Split with"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.filter(k=>x(k.userId)!==x(f)).map(k=>{var W,Y;const M=x(k.userId),U=v.splitWith.some(Q=>x(Q)===M);return s.jsxs("button",{type:"button",onClick:()=>I(k.userId),className:`flex items-center gap-2 px-3 py-1.5 rounded-full border text-sm transition-all ${U?"bg-green-50 border-green-500 text-green-700":"bg-white border-gray-200 text-gray-600 hover:border-green-300"}`,children:[k.profilePicture||typeof k.userId=="object"&&((W=k.userId)!=null&&W.profilePicture)?s.jsx("img",{src:k.profilePicture||((Y=k.userId)==null?void 0:Y.profilePicture),alt:k.userName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(cr,{className:"w-3 h-3"}),k.userName]},k._id)})}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["You + ",v.splitWith.length," others. Share: ",s.jsxs("strong",{className:"text-gray-700",children:[P(v.totalAmount&&v.splitWith.length+1?v.totalAmount/(v.splitWith.length+1):0),"/person"]})]})]}),s.jsx("button",{type:"submit",disabled:v.splitWith.length===0,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-medium hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:"Add Expense"})]})]}),s.jsxs("div",{className:"space-y-4",children:[u.map(k=>{var Y,Q,z,te;const M=k.paidBy._id===f,U=k.splits.find(re=>re.user._id===f||re.user===f),W=(U==null?void 0:U.status)==="settled";return!M&&!U?null:s.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${M?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:M?s.jsx(jo,{className:"w-5 h-5"}):s.jsx(gF,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:k.description}),s.jsx("p",{className:"text-xs text-gray-500",children:M?`You paid ${P(k.totalAmount)}`:`${((Y=k.paidBy)==null?void 0:Y.name)||((Q=k.paidBy)==null?void 0:Q.userName)||"Someone"} paid ${P(k.totalAmount)}`})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-0.5",children:T(k.date)}),s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs font-medium capitalize",children:k.category})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"text-sm",children:M?s.jsxs("span",{className:"text-green-700 font-medium",children:["You are owed ",P(k.splits.reduce((re,J)=>J.user._id!==f&&J.status==="pending"?re+J.amount:re,0))]}):s.jsx("span",{className:W?"text-gray-500":"text-red-700 font-medium",children:W?"You settled your share":`You owe ${P(U==null?void 0:U.amount)}`})})}),!M&&!W&&s.jsxs("button",{onClick:()=>N(k,U.amount),className:"px-4 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-full hover:bg-blue-700 transition-colors shadow-sm flex items-center gap-1",children:["Pay ",(((z=k.paidBy)==null?void 0:z.name)||((te=k.paidBy)==null?void 0:te.userName)||"Roommate").split(" ")[0]]}),M&&s.jsx("div",{className:"flex -space-x-2",children:k.splits.filter(re=>re.user._id!==f).map(re=>{var J,H,Z,K;return s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center border-2 border-white text-[10px] font-bold ${re.status==="settled"?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,title:`${((J=re.user)==null?void 0:J.name)||((H=re.user)==null?void 0:H.userName)||"User"}: ${re.status}`,children:(((Z=re.user)==null?void 0:Z.name)||((K=re.user)==null?void 0:K.userName)||"?").charAt(0)},re._id)})})]})]},k._id)}),u.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"No shared expenses yet."})})]})]})})}):s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md bg-white p-8 rounded-2xl shadow-xl",children:[s.jsx(er,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Unable to verify tenant status.",r?s.jsxs("span",{className:"block mt-2 text-red-500 text-sm",children:["Error: ",r]}):s.jsx("span",{className:"block mt-2 text-sm text-gray-500",children:"Please make sure the backend server is running."})]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Retry"})]})})})},sSe=e=>{const t=new Date(e),n=Math.floor((new Date-t)/1e3);if(n<60)return"Just now";const i=Math.floor(n/60);if(i<60)return`${i} minute${i>1?"s":""} ago`;const a=Math.floor(i/60);if(a<24)return`${a} hour${a>1?"s":""} ago`;const o=Math.floor(a/24);if(o<7)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/7);if(l<4)return`${l} week${l>1?"s":""} ago`;const c=Math.floor(o/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(o/365);return`${d} year${d>1?"s":""} ago`},iSe=({onMenuToggle:e})=>{const t=Ar(),r=_.useRef(!0),[n,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState([]),[d,u]=_.useState(0),[A,f]=_.useState(!1),[m,x]=_.useState(()=>JSON.parse(localStorage.getItem("user")||"{}"));_.useEffect(()=>{const j=()=>{try{x(JSON.parse(localStorage.getItem("user")||"{}"))}catch{}};return window.addEventListener("lyvo-profile-update",j),window.addEventListener("lyvo-login",j),window.addEventListener("lyvo-logout",j),()=>{window.removeEventListener("lyvo-profile-update",j),window.removeEventListener("lyvo-login",j),window.removeEventListener("lyvo-logout",j)}},[]),_.useEffect(()=>{const j=N=>{console.log(" OwnerNavbar received new-notification event:",N.detail),p(!0)};return window.addEventListener("new-notification",j),()=>window.removeEventListener("new-notification",j)},[]);const p=async(j=!1)=>{if(A&&!j){console.log("Skipping fetch: already loading");return}try{j||f(!0);const N=JSON.parse(localStorage.getItem("user")||"{}");if(!N._id){console.log("Skipping fetch: Not authenticated");return}console.log("Fetching notifications for user:",N._id);const B=await kt.get("/notifications",{headers:{"x-user-id":N._id}});if(B.status===200){const I=B.data;I.success&&r.current&&(console.log("Notifications fetched:",I.data.length),c(I.data||[]),u(I.unreadCount||0))}else console.error("Fetch failed:",B.status)}catch(N){console.error("Error fetching notifications:",N)}finally{j||f(!1)}},v=async j=>{try{const N=JSON.parse(localStorage.getItem("user")||"{}");if(!N._id)return;(await kt.delete(`/notifications/${j}`,{headers:{"x-user-id":N._id}})).status===200&&(c(I=>I.filter(P=>P._id!==j)),u(I=>Math.max(0,I-1)),p(!0))}catch(N){console.error("Error deleting notification:",N)}};_.useEffect(()=>()=>{r.current=!1},[]),_.useEffect(()=>{p();const j=setInterval(()=>{p()},12e4);return()=>{clearInterval(j)}},[]),_.useEffect(()=>{const j=N=>{console.log(" OwnerNavbar received new-notification event:",N.detail),p(!0)};return window.addEventListener("new-notification",j),()=>window.removeEventListener("new-notification",j)},[]),_.useEffect(()=>{const j=N=>{N.target.closest(".dropdown-container")||(i(!1),o(!1))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const y=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),t("/login")},b={hidden:{opacity:0,y:-10,scale:.95,transformOrigin:"top right"},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15,ease:"easeIn"}}},w={hover:{scale:1.05,transition:{duration:.1}},tap:{scale:.95,transition:{duration:.1}}};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 py-3 lg:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx(X.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Toggle menu",variants:w,whileHover:"hover",whileTap:"tap",children:s.jsx(_N,{className:"w-5 h-5"})}),s.jsxs(Ot,{to:"/owner-dashboard",className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(X.div,{className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Owner",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Property Management"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(X.button,{onClick:()=>o(!a),className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 relative","aria-label":"Notifications",variants:w,whileHover:"hover",whileTap:"tap",children:[s.jsx(Vh,{className:"w-5 h-5"}),d>0&&s.jsx(X.span,{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white px-1",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:d>9?"9+":d})]}),s.jsx(gn,{children:a&&s.jsxs(X.div,{className:"absolute right-0 mt-2 w-72 sm:w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:b,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:A?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading notifications..."})]}):l.filter(j=>!j.is_read).length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Vh,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No new notifications"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You're all caught up!"})]}):l.filter(j=>!j.is_read).slice(0,5).map(j=>s.jsxs(X.div,{className:"relative p-4 border-b border-gray-100 bg-blue-50 hover:bg-blue-100 group",transition:{duration:.2},children:[s.jsx("div",{className:"cursor-pointer pr-8",onClick:()=>{j.action_url&&(t(j.action_url),o(!1))},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.title}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:j.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:sSe(j.createdAt)})]}),s.jsx("span",{className:"ml-2 w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]})}),s.jsx("button",{onClick:N=>{N.stopPropagation(),v(j._id)},className:"absolute top-3 right-3 p-1 rounded-full hover:bg-red-100 transition-colors opacity-0 group-hover:opacity-100",title:"Delete notification",children:s.jsx(ir,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]},j._id))}),l.filter(j=>!j.is_read).length>0&&s.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsx(Ot,{to:"/owner-notifications",className:"text-sm text-red-600 hover:text-red-700 font-medium",onClick:()=>o(!1),children:"View all notifications"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[l.filter(j=>!j.is_read).length," unread"]})]})]})})]}),s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(X.button,{onClick:()=>i(!n),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"User menu",variants:w,whileHover:"hover",whileTap:"tap",children:[s.jsx(X.div,{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full overflow-hidden bg-red-100 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:m!=null&&m.profilePicture?s.jsx("img",{src:m.profilePicture,alt:"avatar",className:"w-full h-full object-cover"}):s.jsx(cr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:m.name||"Owner"})]}),s.jsx(gn,{children:n&&s.jsx(X.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:b,initial:"hidden",animate:"visible",exit:"exit",children:s.jsxs("div",{className:"py-2",children:[s.jsx(X.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsx(Ot,{to:"/owner-profile",className:"block px-4 py-2 text-sm text-gray-700",children:"Profile Settings"})}),s.jsx(X.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx(uc,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})})]})})})]})]})]})})},cM=({onClose:e})=>{const t=Ja(),r=Ar(),n=JSON.parse(localStorage.getItem("user")||"{}"),i=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login")},a=[{name:"Dashboard",href:"/owner-dashboard",icon:Pr},{name:"Properties",href:"/owner-properties",icon:Xr},{name:"Tenants",href:"/owner-tenants",icon:zr},{name:"Bookings",href:"/owner-bookings",icon:Tr},{name:"Maintenance",href:"/owner-maintenance",icon:$d},{name:"Payments",href:"/owner-payments",icon:ei},{name:"Analytics",href:"/owner-analytics",icon:Np},{name:"Profile Settings",href:"/owner-settings",icon:rc}],o=d=>t.pathname===d,l={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},c={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(X.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-gray-200 flex flex-col shadow-xl",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs(X.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsx(X.div,{className:"w-8 h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Owner",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Property Management"})]})]}),s.jsx(X.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Close sidebar",variants:c,whileHover:"hover",whileTap:"tap",children:s.jsx(or,{className:"w-5 h-5"})})]}),s.jsx(X.div,{className:"flex-shrink-0 p-4 border-b border-gray-200",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(X.div,{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx(zr,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.name||"Property Owner"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email||"owner@lyvo+.com"})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s.jsxs("div",{className:"px-4 space-y-2",children:[s.jsx(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:s.jsxs(Ot,{to:"/owner-add-property",onClick:e,className:"group flex items-center px-3 py-3 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200 mb-4 shadow-sm",children:[s.jsx(ad,{className:"mr-3 h-5 w-5"}),"Add Property"]})}),a.map((d,u)=>{const A=d.icon;return s.jsx(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25+u*.05,duration:.3,ease:"easeOut"},children:s.jsx(X.div,{variants:l,whileHover:"hover",whileTap:"tap",children:s.jsxs(Ot,{to:d.href,onClick:e,className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${o(d.href)?"text-red-700 bg-red-50 border-r-2 border-red-700":"text-gray-700 hover:text-red-700 hover:bg-red-50"}`,children:[s.jsx(A,{className:`mr-3 h-5 w-5 ${o(d.href)?"text-red-700":"text-gray-400 group-hover:text-red-700"}`}),d.name]})})},d.name)})]})}),s.jsx(X.div,{className:"flex-shrink-0 p-4 border-t border-gray-200",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:s.jsxs(X.button,{onClick:i,className:"group flex items-center w-full px-3 py-3 text-sm font-medium text-gray-700 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200",variants:c,whileHover:"hover",whileTap:"tap",children:[s.jsx(uc,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-red-700"}),"Logout"]})})]})},aSe=()=>s.jsx("footer",{className:"bg-white border-t border-gray-200 py-6 px-4 lg:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 md:gap-8",children:[s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Property Management Platform"})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-md",children:"Streamline your property management operations with our comprehensive platform designed for property owners and managers."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"Facebook"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"Twitter"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"LinkedIn"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ot,{to:"/owner-dashboard",className:"text-sm text-gray-600 hover:text-gray-900",children:"Dashboard"})}),s.jsx("li",{children:s.jsx(Ot,{to:"/owner-properties",className:"text-sm text-gray-600 hover:text-gray-900",children:"Properties"})}),s.jsx("li",{children:s.jsx(Ot,{to:"/owner-tenants",className:"text-sm text-gray-600 hover:text-gray-900",children:"Tenants"})}),s.jsx("li",{children:s.jsx(Ot,{to:"/owner-settings",className:"text-sm text-gray-600 hover:text-gray-900",children:"Settings"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Help Center"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Contact Support"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Documentation"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"API Reference"})})]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[" 2024 ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"}),". All rights reserved."]}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Privacy Policy"}),s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Terms of Service"}),s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Cookie Policy"})]})]})})]})}),Nn=({children:e,hideFooter:t=!1})=>{const[r,n]=_.useState(!1),[i,a]=_.useState(!1),o=()=>{n(!r)},l=()=>{n(!1)},c={hidden:{x:"-100%",opacity:0,transition:{duration:.3,ease:"easeInOut"}},visible:{x:0,opacity:1,transition:{duration:.3,ease:"easeInOut"}},exit:{x:"-100%",opacity:0,transition:{duration:.25,ease:"easeInOut"}}},d={hidden:{opacity:0,transition:{duration:.2}},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},u=A=>{if(!A||A.role!==3)return!1;const f=!!A.govtIdFrontUrl||!!A.govtIdBackUrl,m=A.kycVerified===!0||A.kycStatus==="approved";return!(f||m)};return _.useEffect(()=>{const A=async()=>{try{const m=localStorage.getItem("user");if(!m)return;const x=JSON.parse(m);if((x==null?void 0:x.role)!==3)return;a(u(x));const p=localStorage.getItem("authToken");if(!p||!(x!=null&&x._id))return;const y=await fetch(`http://localhost:5000/api/user/profile/${x._id}`,{headers:{Authorization:`Bearer ${p}`}});if(y.ok){const b=await y.json();b!=null&&b._id&&(localStorage.setItem("user",JSON.stringify(b)),a(u(b)))}}catch{}};A();const f=()=>A();return window.addEventListener("lyvo-user-updated",f),()=>window.removeEventListener("lyvo-user-updated",f)},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(cM,{onClose:l})}),s.jsxs("div",{className:"lg:ml-64",children:[s.jsx("div",{className:"sticky top-0 z-30 bg-white shadow-sm",children:s.jsx(iSe,{onMenuToggle:o})}),i&&s.jsx("div",{className:"fixed top-20 right-4 z-40 max-w-xs",children:s.jsxs("div",{className:"bg-white border border-yellow-300 rounded-xl shadow-lg p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Add Govt ID"}),s.jsx("div",{className:"text-xs text-gray-600 mb-3",children:"Verify your identity to boost trust. Upload any govt-approved ID."}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("button",{onClick:()=>{window.location.href="/owner-settings#kyc"},className:"px-3 py-1.5 bg-red-600 text-white text-xs rounded-md hover:bg-red-700",children:"Add ID"}),s.jsx("button",{onClick:()=>a(!1),className:"px-2 py-1 text-xs text-gray-500 hover:text-gray-700",children:"Dismiss"})]})]})}),s.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 overflow-auto",children:e}),!t&&s.jsx(aSe,{})]}),s.jsx(gn,{children:r&&s.jsx(X.div,{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",variants:d,initial:"hidden",animate:"visible",exit:"exit",onClick:l})}),s.jsx(gn,{children:r&&s.jsx("div",{className:"fixed inset-0 z-50 lg:hidden",children:s.jsx(X.div,{className:"absolute inset-y-0 left-0 w-64 max-w-[80vw]",variants:c,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(cM,{onClose:l})})})}),s.jsx($K,{}),s.jsx(sW,{})]})},oSe=()=>{const e=Ar(),[t,r]=_.useState(null),[n,i]=_.useState(!0),[a,o]=_.useState(0),[l,c]=_.useState(!1),[d,u]=_.useState(null),[A,f]=_.useState([]),[m,x]=_.useState([]),[p,v]=_.useState({totalProperties:0,activeTenants:0,monthlyRevenue:0,averageRating:0,occupancyRate:0,pendingApplications:0}),[y,b]=_.useState(!1),[w,j]=_.useState(null);_.useEffect(()=>{(()=>{const z=localStorage.getItem("authToken"),te=localStorage.getItem("user");if(!z||!te){e("/login");return}try{const re=JSON.parse(te);if(re.role!==3){e("/login");return}r(re)}catch(re){console.error("Error parsing user data:",re),e("/login")}i(!1)})()},[e]);const N=async()=>{try{c(!0),u(null);const Q=await kt.get("/property/owner/tenants");if(console.log("Tenant fetch response status:",Q.status),Q.status===200){const z=Q.data;if(console.log("Tenant fetch response data:",z),z.success){const te=z.count||0;o(te),console.log(`Successfully fetched ${te} tenants`),u(null)}else console.warn("API returned success: false",z.message),u(z.message||"Failed to fetch tenant data")}else u(`Failed to fetch tenants (${Q.status})`)}catch(Q){console.error("Network error fetching tenant count:",Q),Q.response&&Q.response.status===404?(o(0),u(null)):u("Failed to fetch tenants")}finally{c(!1)}};_.useEffect(()=>{t&&F()},[t]),_.useEffect(()=>{(A.length>0||m.length>0)&&T()},[A,m,a]);const B=()=>{console.log("Retrying tenant fetch..."),N()},I=async()=>{try{const Q=await kt.get("/property/owner/properties");if(Q.status===200){const z=Q.data;z.success&&z.data&&(f(z.data),console.log(`Successfully fetched ${z.data.length} properties`))}}catch(Q){console.error("Error fetching properties:",Q)}},P=async()=>{try{const Q=await kt.get("/property/owner/bookings");if(Q.status===200){const z=Q.data;z.success&&z.bookings&&(x(z.bookings),console.log(`Successfully fetched ${z.bookings.length} bookings`))}}catch(Q){console.error("Error fetching bookings:",Q)}},T=()=>{try{const Q=A.length,z=a,re=m.filter(he=>he.status==="confirmed").reduce((he,pe)=>he+(pe.rent||0),0),J=A.filter(he=>he.rating&&he.rating>0),H=J.length>0?J.reduce((he,pe)=>he+pe.rating,0)/J.length:0;let Z=0,K=0;A.forEach(he=>{he.rooms&&Array.isArray(he.rooms)&&(Z+=he.rooms.length,K+=he.rooms.filter(pe=>!pe.isAvailable).length)});const ie=Z>0?Math.round(K/Z*100):0,oe=m.filter(he=>he.status==="pending").length;v({totalProperties:Q,activeTenants:z,monthlyRevenue:re,averageRating:Math.round(H*10)/10,occupancyRate:ie,pendingApplications:oe}),console.log("Dashboard stats calculated:",{totalProperties:Q,activeTenants:z,monthlyRevenue:re,averageRating:H,occupancyRate:ie,pendingApplications:oe})}catch(Q){console.error("Error calculating dashboard stats:",Q)}},F=async()=>{try{b(!0),j(null),await Promise.all([I(),P(),N()])}catch(Q){console.error("Error fetching dashboard data:",Q),j("Failed to load dashboard data")}finally{b(!1)}},E=A.slice(0,3).map(Q=>{const z=Q.rooms||[],te=z.length,re=z.filter(oe=>!oe.isAvailable).length,J=te>0?Math.round(re/te*100):0,Z=m.filter(oe=>String(oe.propertyId)===String(Q._id)&&oe.status==="confirmed").reduce((oe,he)=>oe+(he.rent||0),0),K=Q.images&&Q.images[0]?Q.images[0]:Q.frontImage||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center";let ie="Location not available";if(Q.address){if(typeof Q.address=="string")ie=Q.address;else if(typeof Q.address=="object"){const oe=[];Q.address.city&&oe.push(Q.address.city),Q.address.state&&oe.push(Q.address.state),ie=oe.length>0?oe.join(", "):"Location not available"}}return{id:Q._id,name:Q.propertyName||Q.property_name||"Unnamed Property",location:ie,type:Q.propertyType||Q.property_type||"Property",tenants:re,occupancy:`${J}%`,revenue:`${Z.toLocaleString("en-IN")}`,status:Q.status==="approved"?"Active":Q.status||"Pending",image:K}}),k=Q=>{if(!Q)return"Unknown time";const z=new Date(Q),re=Math.floor((new Date-z)/1e3);if(re<60)return"Just now";const J=Math.floor(re/60);if(J<60)return`${J} minute${J>1?"s":""} ago`;const H=Math.floor(J/60);if(H<24)return`${H} hour${H>1?"s":""} ago`;const Z=Math.floor(H/24);if(Z<7)return`${Z} day${Z>1?"s":""} ago`;const K=Math.floor(Z/7);if(K<4)return`${K} week${K>1?"s":""} ago`;const ie=Math.floor(Z/30);if(ie<12)return`${ie} month${ie>1?"s":""} ago`;const oe=Math.floor(Z/365);return`${oe} year${oe>1?"s":""} ago`},U=(()=>{const Q=[];return m.slice(0,3).forEach(z=>{var ie;const te=A.find(oe=>String(oe._id)===String(z.propertyId)),re=te?te.propertyName||te.property_name:"Unknown Property",J=((ie=z.userSnapshot)==null?void 0:ie.name)||"Unknown User";let H="",Z="",K="";switch(z.status){case"pending_approval":H=`New booking request from ${J} for ${re}`,Z="pending",K="tenant";break;case"confirmed":H=`Booking confirmed by ${J} for ${re}`,Z="completed",K="payment";break;case"checked_in":H=`${J} successfully checked in to ${re}`,Z="completed",K="tenant";break;case"rejected":H=`Booking rejected for ${re}`,Z="completed",K="tenant";break;case"cancelled":H=`Booking cancelled for ${re}`,Z="completed",K="tenant";break;default:H=`Booking ${z.status} for ${re}`,Z="in-progress",K="tenant"}Q.push({id:`booking-${z._id}`,type:K,message:H,time:k(z.createdAt||z.bookedAt),status:Z,createdAt:z.createdAt||z.bookedAt})}),A.slice(0,2).forEach(z=>{const te=z.propertyName||z.property_name||"Unnamed Property";Q.push({id:`property-${z._id}`,type:"property",message:`Property "${te}" ${z.status==="approved"?"approved":"pending approval"}`,time:k(z.createdAt),status:z.status==="approved"?"completed":"pending",createdAt:z.createdAt})}),Q.sort((z,te)=>new Date(te.createdAt)-new Date(z.createdAt)).slice(0,4)})(),W=Q=>{switch(Q){case"tenant":return s.jsx(zr,{className:"w-5 h-5 text-blue-600"});case"payment":return s.jsx(ei,{className:"w-5 h-5 text-green-600"});case"maintenance":return s.jsx(Xr,{className:"w-5 h-5 text-orange-600"});case"property":return s.jsx(ad,{className:"w-5 h-5 text-purple-600"});default:return s.jsx(Tr,{className:"w-5 h-5 text-gray-600"})}},Y=Q=>{switch(Q){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"in-progress":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}};return n?s.jsx(Nn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(Nn,{children:s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Welcome back, ",(t==null?void 0:t.name)||"Owner","!"]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Here's what's happening with your properties today."})]}),s.jsxs("div",{className:"sm:mt-0 flex space-x-3",children:[s.jsxs("button",{onClick:()=>e("/owner-messages"),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors duration-200",children:[s.jsx(Wh,{className:"w-4 h-4 mr-2"}),"Messages"]}),s.jsxs("button",{onClick:()=>e("/owner-add-property"),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200",children:[s.jsx(ad,{className:"w-4 h-4 mr-2"}),"Add Property"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Properties"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:p.totalProperties})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:s.jsx(Xr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-green-600",children:[s.jsx(jo,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsx("span",{children:"+2 this month"})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Active Tenants"}),l?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):d?s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-red-600",children:"Error loading tenants"}),s.jsx("button",{onClick:B,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Retry"})]}):s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:p.activeTenants})]}),s.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${d?"bg-red-100":"bg-green-100"}`,children:s.jsx(zr,{className:`w-5 h-5 sm:w-6 sm:h-6 ${d?"text-red-600":"text-green-600"}`})})]}),!l&&!d&&s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-green-600",children:[s.jsx(jo,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsx("span",{children:p.activeTenants>0?"+3 this week":"No tenants yet"})]}),d&&s.jsx("div",{className:"mt-3 sm:mt-4",children:s.jsx("p",{className:"text-xs text-gray-500",children:d==="No tenants found for this owner"?"Start by adding properties and getting bookings":"Check your connection and try again"})})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["",p.monthlyRevenue.toLocaleString()]})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:s.jsx(ei,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-green-600",children:[s.jsx(jo,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsx("span",{children:"+12% vs last month"})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Average Rating"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:p.averageRating})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg",children:s.jsx(Ca,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-green-600",children:[s.jsx(jo,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsx("span",{children:"+0.2 this month"})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Occupancy Rate"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[p.occupancyRate,"%"]})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-lg",children:s.jsx(du,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-green-600",children:[s.jsx(jo,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsx("span",{children:"+5% vs last month"})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200 sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pending Applications"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:p.pendingApplications})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-orange-100 rounded-lg",children:s.jsx(Tr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600"})})]}),s.jsx("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-blue-600",children:s.jsx("span",{children:"Requires attention"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Properties"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Your latest property listings and their performance"})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:y?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-red-600 mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading properties..."})]}):E.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Xr,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No properties yet"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Add your first property to get started"}),s.jsx("button",{onClick:()=>e("/owner-add-property"),className:"px-4 py-2 bg-red-600 text-white text-xs font-medium rounded-lg hover:bg-red-700",children:"Add Property"})]}):E.map(Q=>s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx("img",{src:Q.image,alt:Q.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-lg object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:Q.name}),s.jsx("p",{className:"text-xs text-gray-500",children:Q.location}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-600",children:[Q.tenants," tenants"]}),s.jsx("span",{className:"text-xs text-gray-600",children:""}),s.jsxs("span",{className:"text-xs text-gray-600",children:[Q.occupancy," occupied"]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:Q.revenue}),s.jsx("p",{className:"text-xs text-green-600",children:Q.status})]}),s.jsx("button",{className:"p-1 sm:p-2 text-gray-400 hover:text-gray-600 flex-shrink-0",children:s.jsx(GP,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]},Q.id))}),s.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200",children:s.jsx("button",{onClick:()=>e("/owner-properties"),className:"text-xs sm:text-sm text-red-600 hover:text-red-700 font-medium",children:"View all properties "})})]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},className:"bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Activities"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Latest updates and notifications"})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:y?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-red-600 mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading activities..."})]}):U.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Tr,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No recent activities"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Activities will appear here as bookings and properties are created"})]}):U.map(Q=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:W(Q.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-900",children:Q.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Q.time})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Y(Q.status)} flex-shrink-0`,children:Q.status})]},Q.id))})]})]})]})})},lSe=()=>{const e=Ar(),[t,r]=_.useState(null),[n,i]=_.useState(!0),[a,o]=_.useState([]),[l,c]=_.useState(""),[d,u]=_.useState("all"),[A,f]=_.useState({}),[m,x]=_.useState({}),p=async()=>{try{const j=localStorage.getItem("authToken");if(!j){e("/login");return}const N=await fetch("http://localhost:5000/api/property/owner/properties",{headers:{Authorization:`Bearer ${j}`}});if(N.ok){const B=await N.json();B.success&&(console.log("Properties fetched:",B.data),o(B.data))}}catch(j){console.error("Error fetching properties:",j)}},v=async(j,N)=>{try{x(P=>({...P,[j]:!0}));const B=localStorage.getItem("authToken");if(!B){e("/login");return}const I=await fetch(`http://localhost:5000/api/property/owner/properties/${j}/status`,{method:"PUT",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},body:JSON.stringify({status:N})});I.ok?(await I.json()).success&&(o(T=>T.map(F=>F._id===j?{...F,status:N,updated_at:new Date().toISOString()}:F)),console.log("Property status updated successfully")):console.error("Failed to update property status")}catch(B){console.error("Error updating property status:",B)}finally{x(B=>({...B,[j]:!1}))}};window.refreshProperties=p,_.useEffect(()=>{(()=>{const N=localStorage.getItem("authToken"),B=localStorage.getItem("user");if(!N||!B){e("/login");return}try{const I=JSON.parse(B);if(I.role!==3){e("/login");return}r(I),p()}catch(I){console.error("Error parsing user data:",I),e("/login")}i(!1)})()},[e]);const y=a.map(j=>{var I,P,T,F;let N=[],B=!1;if(console.log("Processing property:",j.property_name),console.log("Property images:",j.images),j.images){const E=[{url:j.images.front,label:"Front"},{url:j.images.hall,label:"Hall"},{url:j.images.room,label:"Room"},{url:j.images.back,label:"Back"},{url:j.images.toilet,label:"Toilet"},{url:j.images.frontImage,label:"Front"},{url:j.images.hallImage,label:"Hall"},{url:j.images.roomImage,label:"Room"},{url:j.images.backImage,label:"Back"},{url:j.images.toiletImage,label:"Toilet"}].filter(k=>k.url);j.images.images&&Array.isArray(j.images.images)&&j.images.images.forEach((k,M)=>{k&&E.push({url:k,label:`Image ${M+1}`})}),N=E,B=E.length>0,console.log("Found images:",N.length)}return B||(N=[{url:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",label:"Default"}]),{id:j._id||j.id,name:j.property_name,location:`${((I=j.address)==null?void 0:I.city)||""}, ${((P=j.address)==null?void 0:P.state)||""}`,type:j.property_type,status:j.status==="active"?"Active":"Inactive",tenants:j.rooms?j.rooms.filter(E=>!E.is_available).length:0,maxTenants:j.rooms?j.rooms.length:0,monthlyRent:((T=j.pricing)==null?void 0:T.monthly_rent)||((F=j.rooms)==null?void 0:F.reduce((E,k)=>E+(k.rent||0),0))||0,totalRooms:j.rooms?j.rooms.length:0,lastUpdated:j.updated_at?new Date(j.updated_at).toISOString().split("T")[0]:j.created_at?new Date(j.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],images:N,hasUploadedImages:B}}),b=j=>{switch(j){case"Active":return"text-green-600 bg-green-100";case"Under Construction":return"text-yellow-600 bg-yellow-100";case"Maintenance":return"text-orange-600 bg-orange-100";case"Inactive":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},w=y.filter(j=>{const N=j.name.toLowerCase().includes(l.toLowerCase())||j.location.toLowerCase().includes(l.toLowerCase()),B=d==="all"||j.status===d;return N&&B});return n?s.jsx(Nn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(Nn,{children:s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Properties"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage your property portfolio and listings"})]})}),s.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search properties by name or location...",value:l,onChange:j=>c(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:d,onChange:j=>u(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Under Construction",children:"Under Construction"}),s.jsx("option",{value:"Maintenance",children:"Maintenance"}),s.jsx("option",{value:"Inactive",children:"Inactive"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:w.map((j,N)=>{var B,I,P,T;return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[s.jsxs("div",{className:"relative h-40 sm:h-48 bg-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:(B=j.images[0])==null?void 0:B.url,alt:`${j.name} - ${(I=j.images[0])==null?void 0:I.label}`,className:"w-full h-full object-cover",onLoad:()=>{f(F=>({...F,[j.id]:!1}))},onError:F=>{F.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",f(E=>({...E,[j.id]:!1}))}}),A[j.id]!==!1&&s.jsx(X.div,{className:"absolute inset-0 bg-gray-200 flex items-center justify-center",initial:{opacity:1},animate:{opacity:0},transition:{delay:.5,duration:.3},children:s.jsx(X.div,{className:"w-8 h-8 border-2 border-gray-300 border-t-red-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}),((P=j.images[0])==null?void 0:P.label)!=="Default"&&s.jsx("div",{className:"absolute bottom-1 left-1",children:s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-black bg-opacity-50 text-white",children:(T=j.images[0])==null?void 0:T.label})})]}),s.jsx(X.div,{className:"absolute top-2 sm:top-3 right-2 sm:right-3",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.3},children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b(j.status)}`,children:j.status})})]}),s.jsxs("div",{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:j.name}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 flex-shrink-0",children:s.jsx(GP,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"space-y-2 mb-3 sm:mb-4",children:s.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-600",children:[s.jsx(wr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:j.location})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 mb-3 sm:mb-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:j.totalRooms}),s.jsx("div",{className:"text-xs text-gray-500",children:"Rooms"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:j.type||"N/A"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Type"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:j.status}),s.jsx("div",{className:"text-xs text-gray-500",children:"Status"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{console.log("View button clicked for property:",j.id),console.log("Navigating to:",`/owner-property/${j.id}`),e(`/owner-property/${j.id}`)},className:"flex-1 flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx(kr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"View"]}),s.jsxs("button",{onClick:()=>e(`/owner-edit-property/${j.id}`),className:"flex-1 flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-gray-700 bg-blue-100 rounded-lg hover:bg-blue-200 transition-colors duration-200",children:[s.jsx(hf,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Edit"]}),s.jsx("button",{onClick:()=>v(j.id,j.status==="Active"?"inactive":"active"),disabled:m[j.id],className:`flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors duration-200 ${j.status==="Active"?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"} ${m[j.id]?"opacity-50 cursor-not-allowed":""}`,children:m[j.id]?s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):j.status==="Active"?s.jsx(kV,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(PV,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),s.jsxs("div",{className:"mt-2 sm:mt-3 text-xs text-gray-500 text-center",children:["Last updated: ",new Date(j.lastUpdated).toLocaleDateString()]})]})]},j.id)})}),w.length===0&&s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx(Xr,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No properties found"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:l||d!=="all"?"Try adjusting your search or filters":"No properties available"})]})]})})};delete Pa.Icon.Default.prototype._getIconUrl;Pa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const cSe=()=>{var qr,_n,Ft,ps,gs,Tn,ss,vr,St,un,ti,Hs,is,as,os,Cn,Ze,jt,Pt,ft,Ut,vn,Lr;const{id:e}=wu(),t=Ar(),[r,n]=_.useState(null),[i,a]=_.useState(!0),[o,l]=_.useState(0),[c,d]=_.useState(null),[u,A]=_.useState(null),[f,m]=_.useState(!1),[x,p]=_.useState(null),[v,y]=_.useState(!1),[b,w]=_.useState(!1),[j,N]=_.useState({}),[B,I]=_.useState(!1),[P,T]=_.useState({}),[F,E]=_.useState(!1),[k,M]=_.useState(!1),[U,W]=_.useState({room_number:"",room_type:"Single",rent:"",description:"",occupancy:1,amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},room_image:null,room_image_file:null,toilet_image:null,toilet_image_file:null}),[Y,Q]=_.useState(!1),[z,te]=_.useState(""),[re,J]=_.useState(!1),[H,Z]=_.useState(!1),[K,ie]=_.useState({}),[oe,he]=_.useState(""),[pe,ee]=_.useState(!1),fe=(je,Qe)=>{const Ge=Qe.toLowerCase().endsWith(".pdf");console.log("Opening document preview:",{docUrl:je,fileName:Qe,isPdf:Ge}),fetch(je,{method:"HEAD"}).then(xt=>{console.log("Document URL response:",xt.status,xt.statusText),xt.ok||console.error("Document URL not accessible:",xt.status)}).catch(xt=>{console.error("Error checking document URL:",xt)}),A({url:je,name:Qe,type:Ge?"pdf":"image"})},ue=je=>{console.log("Opening room details for room:",je),console.log("Room ID:",je._id),p(je),y(!0)},V=je=>{console.log("Opening edit room for:",je),T({_id:je._id,room_number:je.room_number,room_type:je.room_type,room_size:je.room_size,bed_type:je.bed_type,occupancy:je.occupancy,rent:je.rent,description:je.description||"",amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1,...je.amenities},room_image:je.room_image,toilet_image:je.toilet_image}),w(!0)},ve=()=>{let je="101";if(r&&r.rooms&&r.rooms.length>0){const Qe=r.rooms.map(Ge=>parseInt(Ge.room_number)).filter(Ge=>!isNaN(Ge));Qe.length>0&&(je=(Math.max(...Qe)+1).toString())}W({room_number:je,room_type:"Single",room_size:"",bed_type:"Single Bed",rent:"",description:"",occupancy:1,amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},room_image:null,room_image_file:null,toilet_image:null,toilet_image_file:null}),E(!0)},Se=(je,Qe)=>{W(Ge=>{const xt={...Ge,[je]:Qe};if(je==="room_type"){const $t={Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1};xt.occupancy=$t[Qe]||1}return xt})},ne=(je,Qe)=>{W(Ge=>({...Ge,amenities:{...Ge.amenities,[je]:Qe}}))},xe=(je,Qe)=>{const Ge=je.target.files[0];Ge&&W(xt=>({...xt,[Qe]:URL.createObjectURL(Ge),[`${Qe}_file`]:Ge}))},Le=je=>{W(Qe=>({...Qe,[je]:null,[`${je}_file`]:null}))},ze=()=>{const je=[];return U.room_number||je.push("Room Number is required"),r&&r.rooms&&r.rooms.some(Qe=>Qe.room_number.toString()===U.room_number.toString())&&je.push("Room Number already exists"),(!U.rent||Number(U.rent)<=0)&&je.push("Valid Rent is required"),(!U.room_size||Number(U.room_size)<=0)&&je.push("Valid Room Size is required"),U.room_image_file||je.push("Room Image is required"),U.amenities.attachedBathroom&&!U.toilet_image_file&&je.push("Toilet Image is required for attached bathroom"),je},Te=async()=>{try{const je=ze();if(je.length>0)throw new Error(je.join(`
`));M(!0);const Qe=localStorage.getItem("authToken"),Ge=new FormData,xt={...U};delete xt.room_image,delete xt.room_image_file,delete xt.toilet_image,delete xt.toilet_image_file,Ge.append("roomData",JSON.stringify(xt)),U.room_image_file&&Ge.append("room_image",U.room_image_file),U.toilet_image_file&&Ge.append("toilet_image",U.toilet_image_file);const $t=await fetch(`http://localhost:5000/api/property/owner/properties/${e}/rooms`,{method:"POST",headers:{Authorization:`Bearer ${Qe}`},body:Ge}),Vr=await $t.json();if($t.ok&&Vr.success)await Ke(),E(!1),te("Room added successfully!"),Q(!0),setTimeout(()=>Q(!1),3e3);else throw new Error(Vr.message||"Failed to add room")}catch(je){console.error("Error adding room:",je),te(`Error: ${je.message}`),Q(!0)}finally{M(!1)}},lt=(je,Qe)=>{T(Ge=>{const xt={...Ge,[je]:Qe};if(je==="room_type"){const $t={Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1};xt.occupancy=$t[Qe]||1}return xt})},tt=(je,Qe)=>{T(Ge=>{const xt={...Ge,amenities:{...Ge.amenities,[je]:Qe}};return je==="attachedBathroom"&&!Qe&&(xt.toilet_image=null,xt.toilet_image_file=null),xt})},ge=(je,Qe)=>{ie(Ge=>({...Ge,[je]:Qe}))},Be=(je,Qe)=>{ie(Ge=>({...Ge,amenities:{...Ge.amenities,[je]:Qe}}))},Ne=(je,Qe)=>{ie(Ge=>({...Ge,rules:{...Ge.rules,[je]:Qe}}))},ke=async je=>{try{ee(!0);const Qe=localStorage.getItem("authToken");if(!Qe){t("/login");return}const Ge=await fetch(`http://localhost:5000/api/property/owner/properties/${e}/status`,{method:"PUT",headers:{Authorization:`Bearer ${Qe}`,"Content-Type":"application/json"},body:JSON.stringify({status:je})});Ge.ok?(await Ge.json()).success&&(n($t=>({...$t,status:je,updated_at:new Date().toISOString()})),console.log("Property status updated successfully")):console.error("Failed to update property status")}catch(Qe){console.error("Error updating property status:",Qe)}finally{ee(!1)}},Me=je=>{const Qe=je.target.files[0];if(Qe){const Ge=URL.createObjectURL(Qe);T(xt=>({...xt,room_image:Ge,room_image_file:Qe}))}},ot=je=>{const Qe=je.target.files[0];if(Qe){const Ge=URL.createObjectURL(Qe);T(xt=>({...xt,toilet_image:Ge,toilet_image_file:Qe}))}},nt=()=>{T(je=>({...je,room_image:null,room_image_file:null}))},rt=()=>{T(je=>({...je,toilet_image:null,toilet_image_file:null}))},Ke=async()=>{try{const je=localStorage.getItem("authToken"),Qe=await fetch(`http://localhost:5000/api/property/owner/properties/${e}`,{headers:{Authorization:`Bearer ${je}`,"x-user-id":(()=>{try{const Ge=JSON.parse(localStorage.getItem("user")||"{}");return Ge._id||Ge.id||""}catch{return""}})()}});if(Qe.ok){const Ge=await Qe.json();Ge.success&&(n(Ge.data),console.log("Property data refreshed"))}}catch(je){console.error("Error refreshing property data:",je)}},st=async()=>{try{const je=localStorage.getItem("authToken"),Qe=(()=>{try{const xt=JSON.parse(localStorage.getItem("user")||"{}");return xt._id||xt.id||""}catch{return""}})();console.log("Fetching owner email for userId:",Qe),console.log("User service URL:",`http://localhost:4002/api/users/${Qe}`);const Ge=await fetch(`http://localhost:5000/api/user/profile/${Qe}`,{headers:{Authorization:`Bearer ${je}`,"x-user-id":Qe}});if(console.log("Owner email response status:",Ge.status),Ge.ok){const xt=await Ge.json();console.log("Owner email response data:",xt),xt.success&&xt.data&&(he(xt.data.email||""),console.log("Owner email fetched and set:",xt.data.email))}else console.error("Failed to fetch owner email:",Ge.status)}catch(je){console.error("Error fetching owner email:",je)}},at=async()=>{try{I(!0);const je=localStorage.getItem("authToken"),Qe=(()=>{try{const Jr=JSON.parse(localStorage.getItem("user")||"{}");return Jr._id||Jr.id||""}catch{return""}})(),Ge=new FormData,xt={...P};delete xt.room_image_file,delete xt.toilet_image_file,delete xt.room_image,delete xt.toilet_image,Ge.append("roomData",JSON.stringify(xt)),P.room_image_file&&Ge.append("room_image",P.room_image_file),P.toilet_image_file&&Ge.append("toilet_image",P.toilet_image_file),console.log("Updating room:",P._id),console.log("Room data:",xt);const $t=await fetch(`http://localhost:5000/api/property/rooms/${P._id}`,{method:"PUT",headers:{Authorization:`Bearer ${je}`,"x-user-id":Qe},body:Ge}),Vr=await $t.json();if(console.log("Update response:",Vr),$t.ok){if(await Ke(),x&&x._id===P._id)try{const Jr=localStorage.getItem("authToken"),ri=(()=>{try{const Ia=JSON.parse(localStorage.getItem("user")||"{}");return Ia._id||Ia.id||""}catch{return""}})(),Nc=await fetch(`http://localhost:5000/api/property/owner/properties/${e}`,{headers:{Authorization:`Bearer ${Jr}`,"x-user-id":ri}});if(Nc.ok){const Ia=await Nc.json();if(Ia.success&&Ia.data){const no=Ia.data.rooms.find(mr=>mr._id===P._id);no&&p(no)}}}catch(Jr){console.error("Error fetching updated room data:",Jr)}w(!1),te("Room updated successfully!"),Q(!0),setTimeout(()=>{Q(!1)},3e3)}else console.error("Failed to update room:",$t.status,Vr),te(`Failed to update room: ${Vr.message||"Unknown error"}`),Q(!0)}catch(je){console.error("Error updating room:",je),te(`Error updating room: ${je.message}`),Q(!0)}finally{I(!1)}},gt=async()=>{try{Z(!0);const je=localStorage.getItem("authToken"),Qe=(()=>{try{const Vr=JSON.parse(localStorage.getItem("user")||"{}");return Vr._id||Vr.id||""}catch{return""}})(),Ge={property_name:K.property_name,description:K.description,amenities:K.amenities,rules:K.rules,contact_number:K.contact_number,security_deposit:K.security_deposit,maintenance_fee:K.maintenance_fee,latitude:K.latitude,longitude:K.longitude,address:{street:K.address,city:K.city,state:K.state,pincode:K.pincode,landmark:K.landmark}};console.log("Updating property:",K._id),console.log("Property data:",Ge);const xt=await fetch(`http://localhost:5000/api/property/owner/properties/${K._id}`,{method:"PUT",headers:{Authorization:`Bearer ${je}`,"Content-Type":"application/json","x-user-id":Qe},body:JSON.stringify(Ge)}),$t=await xt.json();console.log("Update response:",$t),xt.ok?(await Ke(),J(!1),te("Property updated successfully!"),Q(!0),setTimeout(()=>{Q(!1)},3e3)):(console.error("Failed to update property:",xt.status,$t),te(`Failed to update property: ${$t.message||"Unknown error"}`),Q(!0))}catch(je){console.error("Error updating property:",je),te(`Error updating property: ${je.message}`),Q(!0)}finally{Z(!1)}},Bt=async(je,Qe)=>{try{console.log("Updating room status:",{roomId:je,newStatus:Qe}),N(Jr=>({...Jr,[je]:!0}));const Ge=localStorage.getItem("authToken"),xt=(()=>{try{const Jr=JSON.parse(localStorage.getItem("user")||"{}");return Jr._id||Jr.id||""}catch{return""}})();console.log("API call details:",{url:`http://localhost:5000/api/property/api/rooms/${je}/status`,authToken:Ge?"Present":"Missing",userId:xt||"Missing"});const $t=await fetch(`http://localhost:5000/api/property/rooms/${je}/status`,{method:"PUT",headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json","x-user-id":xt},body:JSON.stringify({is_available:Qe==="active"})});console.log("Response status:",$t.status);const Vr=await $t.json();console.log("Response data:",Vr),$t.ok?(n(Jr=>({...Jr,rooms:Jr.rooms.map(ri=>ri._id===je?{...ri,status:Qe}:ri)})),x&&x._id===je&&p(Jr=>({...Jr,status:Qe})),console.log("Room status updated successfully"),te("Room status updated successfully!"),Q(!0),setTimeout(()=>{Q(!1)},3e3)):(console.error("Failed to update room status:",$t.status,Vr),te(`Failed to update room status: ${Vr.message||"Unknown error"}`),Q(!0))}catch(Ge){console.error("Error updating room status:",Ge),te(`Error updating room status: ${Ge.message}`),Q(!0)}finally{N(Ge=>({...Ge,[je]:!1}))}},_t=je=>{switch(je){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Vt=je=>{switch(je){case"active":return wt;case"inactive":return ir;case"maintenance":return rs;default:return ir}};_.useEffect(()=>{(()=>{const Qe=localStorage.getItem("authToken"),Ge=localStorage.getItem("user");if(!Qe||!Ge){t("/login");return}try{const xt=JSON.parse(Ge);if(xt.role!==3){t("/login");return}d(xt)}catch(xt){console.error("Error parsing user data:",xt),t("/login")}})()},[t]),_.useEffect(()=>{e&&(async()=>{try{console.log("PropertyDetails - Fetching property with ID:",e);const Qe=localStorage.getItem("authToken");if(!Qe)return;const Ge=`http://localhost:5000/api/property/owner/properties/${e}`;console.log("PropertyDetails - Fetching from URL:",Ge);const xt=await fetch(Ge,{headers:{Authorization:`Bearer ${Qe}`,"x-user-id":(()=>{try{const $t=JSON.parse(localStorage.getItem("user")||"{}");return $t._id||$t.id||""}catch{return""}})()}});if(xt.ok){const $t=await xt.json();$t.success&&(console.log("Property details fetched:",$t.data),console.log("Property toilet_outside:",$t.data.toilet_outside),console.log("Property outside_toilet_image:",$t.data.outside_toilet_image),console.log("Property documents:",$t.data.documents),console.log("Property rooms:",$t.data.rooms),$t.data.rooms&&$t.data.rooms.forEach((Vr,Jr)=>{console.log(`Room ${Jr}:`,Vr),console.log(`Room ${Jr} ID:`,Vr._id)}),n($t.data))}else console.error("Failed to fetch property:",xt.status)}catch(Qe){console.error("Error fetching property details:",Qe)}finally{a(!1)}})()},[e]),_.useEffect(()=>{e&&st()},[e]),_.useEffect(()=>{oe&&re&&ie(je=>({...je,contact_email:oe}))},[oe,re]);const yt=je=>{if(!je)return[];const Qe=[];return[{key:"front",label:"Front View"},{key:"back",label:"Back View"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"}].forEach(({key:xt,label:$t})=>{je[xt]&&je[xt]!==null&&Qe.push({url:je[xt],label:$t,type:"property"})}),je.gallery&&Array.isArray(je.gallery)&&je.gallery.forEach((xt,$t)=>{xt&&xt!==null&&Qe.push({url:xt,label:`Gallery Image ${$t+1}`,type:"gallery"})}),Qe},At=je=>{if(!je||!Array.isArray(je))return[];const Qe=[];return je.forEach((Ge,xt)=>{var $t;Ge.room_image&&Qe.push({url:Ge.room_image,label:`Room ${Ge.room_number||xt+1} - Room Image`,type:"room",roomNumber:Ge.room_number||xt+1}),Ge.toilet_image&&(($t=Ge.amenities)!=null&&$t.attachedBathroom)&&Qe.push({url:Ge.toilet_image,label:`Room ${Ge.room_number||xt+1} - Toilet Image`,type:"toilet",roomNumber:Ge.room_number||xt+1})}),Qe},it=()=>{tr&&tr.length>1&&l(je=>(je+1)%tr.length)},dt=()=>{tr&&tr.length>1&&l(je=>(je-1+tr.length)%tr.length)},et=je=>({wifi:rm,parking:fl,kitchen:Cm,gym:EV,security:rr,camera:es,ac:Cm,waterSupply:Cm,powerBackup:Cm,garden:Cm,swimmingPool:Cm})[je.toLowerCase()]||Pr,Ve=je=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(je);if(i)return s.jsx(Nn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property details..."})]})})});if(!r)return s.jsx(Nn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The property you're looking for doesn't exist or has been removed."}),s.jsxs("button",{onClick:()=>t("/owner-properties"),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(pi,{className:"w-4 h-4 mr-2"}),"Back to Properties"]})]})})});const Ct=yt(r.images),Zt=At(r.rooms),Qn=r.outside_toilet_image?[{url:r.outside_toilet_image,label:"Outside Toilet",type:"property"}]:[];console.log("Outside toilet image processing:",{toilet_outside:r.toilet_outside,outside_toilet_image:r.outside_toilet_image,outsideToiletImage:Qn});const tr=[...Ct,...Zt,...Qn];return s.jsx(Nn,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between py-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/owner-properties"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(pi,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.property_name}),s.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsxs("span",{children:[(qr=r.address)==null?void 0:qr.city,", ",(_n=r.address)==null?void 0:_n.state]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Xr,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:r.property_mode||"Room"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(zr,{className:"w-4 h-4"}),s.jsxs("span",{children:[((Ft=r.rooms)==null?void 0:Ft.length)||0," Rooms"]})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(eg,{className:"w-5 h-5 text-gray-600"})}),s.jsx("button",{onClick:()=>t(`/owner-edit-property/${r._id||r.id}`),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(hf,{className:"w-5 h-5 text-gray-600"})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[tr.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:s.jsx("img",{src:(ps=tr[o])==null?void 0:ps.url,alt:(gs=tr[o])==null?void 0:gs.label,className:"w-full h-96 object-cover",onError:je=>{je.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=800&h=600&fit=crop&crop=center"}})}),tr.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:dt,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(xF,{className:"w-5 h-5"})}),s.jsx("button",{onClick:it,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(XA,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[s.jsxs("span",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[o+1," / ",tr.length]}),s.jsx("span",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:(Tn=tr[o])==null?void 0:Tn.label})]}),s.jsx("button",{onClick:()=>m(!0),className:"absolute bottom-4 right-4 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(kue,{className:"w-5 h-5"})})]}),tr.length>1&&s.jsx("div",{className:"p-4 bg-gray-50",children:s.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:tr.map((je,Qe)=>s.jsx("button",{onClick:()=>l(Qe),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${Qe===o?"border-red-500":"border-gray-200 hover:border-gray-300"}`,children:s.jsx("img",{src:je.url,alt:je.label,className:"w-full h-full object-cover"})},Qe))})})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[s.jsx(es,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Images Available"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"This property doesn't have any images uploaded yet."}),s.jsxs("button",{onClick:()=>t(`/owner-edit-property/${r._id||r.id}`),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Add Images"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})]}),r.property_mode==="room"&&r.rooms&&r.rooms.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Room Details"}),s.jsxs("button",{onClick:ve,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(ad,{className:"w-5 h-5 mr-2"}),"Add Room"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.rooms.map((je,Qe)=>{var xt,$t;const Ge=Vt(je.status||"active");return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all cursor-pointer group",onClick:()=>ue(je),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-bold text-lg",children:je.room_number||Qe+1})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",je.room_number||Qe+1]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[je.room_type,"  ",je.room_size," sq ft"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ve(je.rent)}),s.jsx("p",{className:"text-sm text-gray-500",children:"per month"})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ${_t(je.status||"active")}`,children:[s.jsx(Ge,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:je.status||"Active"})]}),s.jsx("div",{className:"text-sm text-gray-500 group-hover:text-gray-700",children:"Click to view details "})]}),s.jsxs("div",{className:`grid gap-4 mb-4 ${je.room_image&&je.toilet_image&&((xt=je.amenities)!=null&&xt.attachedBathroom)?"grid-cols-2":"grid-cols-1"}`,children:[je.room_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("img",{src:je.room_image,alt:`Room ${je.room_number||Qe+1}`,className:"w-full h-32 object-cover rounded-lg border",onError:Vr=>{Vr.target.src="https://via.placeholder.com/300x200?text=Room+Image"}})]}),je.toilet_image&&(($t=je.amenities)==null?void 0:$t.attachedBathroom)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("img",{src:je.toilet_image,alt:`Room ${je.room_number||Qe+1} Toilet`,className:"w-full h-32 object-cover rounded-lg border",onError:Vr=>{Vr.target.src="https://via.placeholder.com/300x200?text=Toilet+Image"}})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Bed Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:je.bed_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Occupancy:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[je.occupancy," people"]})]})]}),je.description&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Description:"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:je.description})]}),je.amenities&&Object.keys(je.amenities).length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Amenities:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(je.amenities).map(([Vr,Jr])=>{if(Jr){const ri=et(Vr);return s.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-green-50 text-green-700 rounded-full text-xs",children:[s.jsx(ri,{className:"w-3 h-3"}),s.jsx("span",{className:"capitalize",children:Vr.replace(/([A-Z])/g," $1").trim()})]},Vr)}return null})})]})]})]},Qe)})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Pricing Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.security_deposit&&s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx(rr,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Ve(r.security_deposit)})]}),r.property_mode==="room"&&r.rooms&&r.rooms.length>0&&s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(ei,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Starting from"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Ve(Math.min(...r.rooms.map(je=>je.rent)))}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"per room/month"})]})]})]}),r.amenities&&Object.keys(r.amenities).length>0&&(()=>{const je=Object.entries(r.amenities).filter(([Qe,Ge])=>Ge===!0);return je.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:je.map(([Qe,Ge])=>{const xt=et(Qe);return s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(xt,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800 capitalize",children:Qe.replace(/([A-Z])/g," $1").trim()})]},Qe)})})]}):null})(),r.toilet_outside&&r.outside_toilet_image&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Outside Toilet"}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Xr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Outside Toilet Available"}),s.jsx("p",{className:"text-xs text-blue-600",children:"Shared toilet facility for all residents"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("img",{src:r.outside_toilet_image,alt:"Outside Toilet",className:"w-full max-w-md h-64 object-cover rounded-lg border",onError:je=>{je.target.src="https://via.placeholder.com/400x300?text=Outside+Toilet+Image"}})})]}),r.rules&&Object.keys(r.rules).length>0&&(()=>{const je=Object.entries(r.rules).filter(([Qe,Ge])=>Ge===!0);return je.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:je.map(([Qe,Ge])=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(wt,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700 capitalize",children:Qe.replace(/([A-Z])/g," $1").trim()})]},Qe))})]}):null})(),(r.land_tax_receipt||r.documents&&r.documents.length>0)&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Property Documents"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.land_tax_receipt&&s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ss,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Land Tax Receipt"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>fe(r.land_tax_receipt,"Land Tax Receipt.pdf"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Preview",children:s.jsx(kr,{className:"w-4 h-4"})}),s.jsx("a",{href:r.land_tax_receipt,download:"Land Tax Receipt.pdf",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:s.jsx(Jd,{className:"w-4 h-4"})})]})]}),r.documents&&r.documents.map((je,Qe)=>{const Ge=je.split("/").pop()||`Document ${Qe+1}`,xt=Ge.toLowerCase().endsWith(".pdf");return s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ss,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[200px]",children:Ge}),s.jsx("p",{className:"text-xs text-gray-500",children:xt?"PDF Document":"Image Document"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>fe(je,Ge),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Preview",children:s.jsx(kr,{className:"w-4 h-4"})}),s.jsx("a",{href:je,download:Ge,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:s.jsx(Jd,{className:"w-4 h-4"})})]})]},Qe)})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Status"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status==="active"?"Active":"Inactive"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>ke(r.status==="active"?"inactive":"active"),disabled:pe,className:`flex items-center justify-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${r.status==="active"?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"} ${pe?"opacity-50 cursor-not-allowed":""}`,children:pe?s.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):r.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(kV,{className:"w-4 h-4 mr-1"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(PV,{className:"w-4 h-4 mr-1"}),"Activate"]})}),s.jsx("button",{className:"text-sm text-red-600 hover:text-red-700",children:s.jsx(tg,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Property Mode"}),s.jsx("p",{className:"font-medium capitalize",children:r.property_mode||"Room"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Number of Rooms"}),s.jsx("p",{className:"font-medium",children:((ss=r.rooms)==null?void 0:ss.length)||0})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Tr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Listed On"}),s.jsx("p",{className:"font-medium",children:new Date(r.createdAt||r.created_at).toLocaleDateString()})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(wr,{className:"w-5 h-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Street"}),s.jsx("p",{className:"font-medium",children:((vr=r.address)==null?void 0:vr.street)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Xr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"City, State"}),s.jsxs("p",{className:"font-medium",children:[(St=r.address)==null?void 0:St.city,", ",(un=r.address)==null?void 0:un.state]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Pr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pincode"}),s.jsx("p",{className:"font-medium",children:((ti=r.address)==null?void 0:ti.pincode)||"Not provided"})]})]}),((Hs=r.address)==null?void 0:Hs.landmark)&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ca,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Landmark"}),s.jsx("p",{className:"font-medium",children:r.address.landmark})]})]})]})]}),r.latitude&&r.longitude&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Coordinates"}),s.jsxs("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:[r.latitude,", ",r.longitude]})]}),s.jsx("div",{className:"h-64 w-full rounded-lg overflow-hidden relative",style:{minHeight:"256px",zIndex:1},children:s.jsxs(Gh,{center:[parseFloat(r.latitude),parseFloat(r.longitude)],zoom:15,style:{height:"100%",width:"100%",zIndex:1},scrollWheelZoom:!0,children:[s.jsx(Yh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(qh,{position:[parseFloat(r.latitude),parseFloat(r.longitude)],children:s.jsx(_y,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:(r==null?void 0:r.property_name)||"Property Location"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((is=r==null?void 0:r.address)==null?void 0:is.street)&&`${r.address.street}, `,((as=r==null?void 0:r.address)==null?void 0:as.city)&&`${r.address.city}, `,((os=r==null?void 0:r.address)==null?void 0:os.state)&&`${r.address.state}`]})]})})})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ln,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:(c==null?void 0:c.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Es,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("p",{className:"font-medium",children:(c==null?void 0:c.phone)||"Not provided"})]})]})]})]})]})]})}),f&&tr.length>0&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:s.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[s.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 z-10 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(ir,{className:"w-6 h-6"})}),s.jsx("img",{src:(Cn=tr[o])==null?void 0:Cn.url,alt:(Ze=tr[o])==null?void 0:Ze.label,className:"max-w-full max-h-full object-contain rounded-lg"}),tr.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:dt,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(xF,{className:"w-6 h-6"})}),s.jsx("button",{onClick:it,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(XA,{className:"w-6 h-6"})})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["Document Preview - ",u.name]}),s.jsx("button",{type:"button",onClick:()=>A(null),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsx("div",{className:"p-4 max-h-[80vh] overflow-auto",children:u.type==="pdf"?s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:s.jsx("iframe",{title:"PDF Preview",src:`${u.url}#toolbar=1&navpanes=1&scrollbar=1`,className:"w-full h-full border-0",style:{minHeight:"600px"},onLoad:()=>{console.log("PDF iframe loaded successfully")},onError:je=>{console.error("PDF iframe error:",je),je.target.style.display="none";const Qe=je.target.parentElement;Qe.innerHTML=`
                          <div class="flex flex-col items-center justify-center h-full bg-gray-50 p-8">
                            <div class="text-center">
                              <FileText class="w-16 h-16 text-gray-400 mx-auto mb-4" />
                              <h3 class="text-lg font-medium text-gray-900 mb-2">PDF Preview Not Available</h3>
                              <p class="text-gray-600 mb-4">This PDF cannot be previewed in the browser.</p>
                              <div class="flex flex-col sm:flex-row gap-3 justify-center">
                                <a href="${u.url}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                                  <ExternalLink class="w-4 h-4 mr-2" />
                                  Open in New Tab
                                </a>
                                <a href="${u.url}" download="${u.name}" class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
                                  <Download class="w-4 h-4 mr-2" />
                                  Download PDF
                                </a>
                              </div>
                            </div>
                          </div>
                        `}})}):s.jsx("img",{src:u.url,alt:u.name,className:"w-full max-h-[70vh] object-contain border border-gray-200 rounded-lg",onError:je=>{je.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[s.jsx("div",{className:"text-xs text-gray-500",children:u.type==="pdf"?"PDF Document":"Image Document"}),s.jsxs("div",{className:"flex gap-2",children:[u.type==="pdf"&&s.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(qP,{className:"w-4 h-4 mr-1"}),"Open in New Tab"]}),s.jsxs("a",{href:u.url,download:u.name,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Jd,{className:"w-4 h-4 mr-1"}),"Download"]})]})]})]})}),v&&x&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-bold text-lg",children:x.room_number})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Room ",x.room_number]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[x.room_type,"  ",x.room_size," sq ft"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ${_t(x.status||"active")}`,children:[(()=>{const je=Vt(x.status||"active");return s.jsx(je,{className:"w-4 h-4"})})(),s.jsx("span",{className:"capitalize",children:x.status||"Active"})]}),s.jsx("button",{onClick:()=>V(x),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Room",children:s.jsx(hf,{className:"w-5 h-5 text-blue-600"})}),s.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ir,{className:"w-5 h-5 text-gray-500"})})]})]}),s.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Room Images"}),x.room_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("img",{src:x.room_image,alt:`Room ${x.room_number}`,className:"w-full h-64 object-cover rounded-lg border",onError:je=>{je.target.src="https://via.placeholder.com/400x300?text=Room+Image"}})]}),x.toilet_image&&((jt=x.amenities)==null?void 0:jt.attachedBathroom)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("img",{src:x.toilet_image,alt:`Room ${x.room_number} Toilet`,className:"w-full h-64 object-cover rounded-lg border",onError:je=>{je.target.src="https://via.placeholder.com/400x300?text=Toilet+Image"}})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pricing"}),s.jsx("div",{className:"text-3xl font-bold text-green-600",children:Ve(x.rent)}),s.jsx("p",{className:"text-sm text-gray-500",children:"per month"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Specifications"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Room Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:x.room_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Room Size:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[x.room_size," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Bed Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:x.bed_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Occupancy:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[x.occupancy," people"]})]})]})]}),x.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:x.description})]}),x.amenities&&Object.keys(x.amenities).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(x.amenities).map(([je,Qe])=>{if(Qe){const Ge=et(je);return s.jsxs("div",{className:"flex items-center space-x-1 px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm",children:[s.jsx(Ge,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:je.replace(/([A-Z])/g," $1").trim()})]},je)}return null})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Room Status Management"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>Bt(x._id,"active"),disabled:j[x._id]||x.status==="active",className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.status==="active"?"bg-green-100 text-green-800 cursor-not-allowed":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[j[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):s.jsx(wt,{className:"w-4 h-4"}),s.jsx("span",{children:"Active"})]}),s.jsxs("button",{onClick:()=>Bt(x._id,"inactive"),disabled:j[x._id]||x.status==="inactive",className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.status==="inactive"?"bg-gray-100 text-gray-800 cursor-not-allowed":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[j[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}):s.jsx(ir,{className:"w-4 h-4"}),s.jsx("span",{children:"Inactive"})]}),s.jsxs("button",{onClick:()=>Bt(x._id,"maintenance"),disabled:j[x._id]||x.status==="maintenance",className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.status==="maintenance"?"bg-yellow-100 text-yellow-800 cursor-not-allowed":"bg-yellow-50 text-yellow-700 hover:bg-yellow-100"}`,children:[j[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"}):s.jsx(rs,{className:"w-4 h-4"}),s.jsx("span",{children:"Maintenance"})]})]})]})]})]})})]})}),b&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Room ",P.room_number]}),s.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ir,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Room Images"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),P.room_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:P.room_image,alt:"Room",className:"w-full h-48 object-cover rounded-lg border"}),s.jsx("button",{onClick:nt,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(ir,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:Me,className:"hidden",id:"room-image-upload"}),s.jsxs("label",{htmlFor:"room-image-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:[s.jsx(es,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Click to upload room image"})]})]})]}),((Pt=P.amenities)==null?void 0:Pt.attachedBathroom)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),P.toilet_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:P.toilet_image,alt:"Toilet",className:"w-full h-48 object-cover rounded-lg border"}),s.jsx("button",{onClick:rt,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(ir,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:ot,className:"hidden",id:"toilet-image-upload"}),s.jsxs("label",{htmlFor:"toilet-image-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:[s.jsx(es,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Click to upload toilet image"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),s.jsxs("select",{value:P.room_type,onChange:je=>lt("room_type",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single",children:"Single"}),s.jsx("option",{value:"Double",children:"Double"}),s.jsx("option",{value:"Triple",children:"Triple"}),s.jsx("option",{value:"Quad",children:"Quad"}),s.jsx("option",{value:"Master",children:"Master"}),s.jsx("option",{value:"Studio",children:"Studio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (sq ft)"}),s.jsx("input",{type:"number",value:P.room_size,onChange:je=>lt("room_size",parseInt(je.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),s.jsxs("select",{value:P.bed_type,onChange:je=>lt("bed_type",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single Bed",children:"Single Bed"}),s.jsx("option",{value:"Double Bed",children:"Double Bed"}),s.jsx("option",{value:"Queen Bed",children:"Queen Bed"}),s.jsx("option",{value:"King Bed",children:"King Bed"}),s.jsx("option",{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx("option",{value:"No Bed",children:"No Bed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupancy"}),s.jsx("input",{type:"number",value:P.occupancy,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 cursor-not-allowed"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-set based on room type"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Rent ()"}),s.jsx("input",{type:"number",value:P.rent,onChange:je=>lt("rent",parseInt(je.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attached Bathroom"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Has attached bathroom?"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`text-sm font-medium ${(ft=P.amenities)!=null&&ft.attachedBathroom?"text-gray-500":"text-gray-900"}`,children:"NO"}),s.jsx("button",{type:"button",onClick:()=>{var je;return tt("attachedBathroom",!((je=P.amenities)!=null&&je.attachedBathroom))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 ${(Ut=P.amenities)!=null&&Ut.attachedBathroom?"bg-red-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${(vn=P.amenities)!=null&&vn.attachedBathroom?"translate-x-6":"translate-x-1"}`})}),s.jsx("span",{className:`text-sm font-medium ${(Lr=P.amenities)!=null&&Lr.attachedBathroom?"text-gray-900":"text-gray-500"}`,children:"YES"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:P.description,onChange:je=>lt("description",je.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Describe this room's features..."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(P.amenities||{}).map(([je,Qe])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:Qe,onChange:Ge=>tt(je,Ge.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("label",{className:"text-sm text-gray-700 capitalize",children:je.replace(/([A-Z])/g," $1").trim()})]},je))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:at,disabled:B,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:B?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Updating..."})]}):"Update Room"})]})]})]})})]})}),Y&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-md shadow-xl",children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:z.includes("successfully")?s.jsx(wt,{className:"w-8 h-8 text-green-600"}):s.jsx(ir,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:z.includes("successfully")?"Success!":"Error"}),s.jsx("p",{className:"text-gray-600 mb-6",children:z}),s.jsx("button",{onClick:()=>Q(!1),className:`px-6 py-2 rounded-lg font-medium transition-colors ${z.includes("successfully")?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:"OK"})]})})}),re&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Property"}),s.jsx("button",{onClick:()=>J(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ir,{className:"w-6 h-6 text-gray-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name"}),s.jsx("input",{type:"text",value:K.property_name||"",onChange:je=>ge("property_name",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter property name"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{value:K.address||"",onChange:je=>ge("address",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:"3",placeholder:"Enter full address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),s.jsx("input",{type:"text",value:K.city||"",onChange:je=>ge("city",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter city"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),s.jsx("input",{type:"text",value:K.state||"",onChange:je=>ge("state",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter state"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),s.jsx("input",{type:"text",value:K.pincode||"",onChange:je=>ge("pincode",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter pincode"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:K.landmark||"",onChange:je=>ge("landmark",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter landmark"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),s.jsx("input",{type:"tel",value:K.contact_number||"",onChange:je=>ge("contact_number",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter contact number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Email"}),s.jsx("input",{type:"email",value:K.contact_email||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed",placeholder:"Owner email will be loaded automatically"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This is your registered email address"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit"}),s.jsx("input",{type:"number",value:K.security_deposit||"",onChange:je=>ge("security_deposit",parseFloat(je.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter security deposit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maintenance Fee"}),s.jsx("input",{type:"number",value:K.maintenance_fee||"",onChange:je=>ge("maintenance_fee",parseFloat(je.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter maintenance fee"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:K.description||"",onChange:je=>ge("description",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:"4",placeholder:"Enter property description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Rules and Policies"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(K.rules||{}).map(([je,Qe])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:Qe,onChange:Ge=>Ne(je,Ge.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsxs("label",{className:"text-sm text-gray-700 capitalize",children:[je.replace(/([A-Z])/g," $1").trim()," Allowed"]})]},je))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(K.amenities||{}).map(([je,Qe])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:Qe,onChange:Ge=>Be(je,Ge.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("label",{className:"text-sm text-gray-700 capitalize",children:je.replace(/([A-Z])/g," $1").trim()})]},je))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:gt,disabled:H,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:H?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Updating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(hf,{className:"w-4 h-4"}),s.jsx("span",{children:"Update Property"})]})})]})]})]})})}),F&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Room"}),s.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx(ir,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),s.jsx("input",{type:"text",value:U.room_number,onChange:je=>Se("room_number",je.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"e.g. 101"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rent ()"}),s.jsx("input",{type:"number",value:U.rent,onChange:je=>Se("rent",je.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"e.g. 5000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),s.jsxs("select",{value:U.room_type,onChange:je=>Se("room_type",je.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single",children:"Single"}),s.jsx("option",{value:"Double",children:"Double"}),s.jsx("option",{value:"Triple",children:"Triple"}),s.jsx("option",{value:"Quad",children:"Quad"}),s.jsx("option",{value:"Master",children:"Master"}),s.jsx("option",{value:"Studio",children:"Studio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (sq.ft)"}),s.jsx("input",{type:"number",value:U.room_size||"",onChange:je=>Se("room_size",je.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"e.g. 150"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),s.jsxs("select",{value:U.bed_type,onChange:je=>Se("bed_type",je.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single Bed",children:"Single Bed"}),s.jsx("option",{value:"Double Bed",children:"Double Bed"}),s.jsx("option",{value:"Queen Bed",children:"Queen Bed"}),s.jsx("option",{value:"King Bed",children:"King Bed"}),s.jsx("option",{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx("option",{value:"No Bed",children:"No Bed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupancy"}),s.jsx("input",{type:"number",value:U.occupancy,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-100"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:U.description,onChange:je=>Se("description",je.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"Room description..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(U.amenities).map(([je,Qe])=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Qe,onChange:Ge=>ne(je,Ge.target.checked),className:"rounded text-red-600 focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-gray-600 capitalize",children:je.replace(/([A-Z])/g," $1").trim()})]},je))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition-colors",children:U.room_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:U.room_image,alt:"Room Preview",className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{onClick:()=>Le("room_image"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(ir,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"cursor-pointer block",children:[s.jsx(es,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:je=>xe(je,"room_image")})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition-colors",children:U.toilet_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:U.toilet_image,alt:"Toilet Preview",className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{onClick:()=>Le("toilet_image"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(ir,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"cursor-pointer block",children:[s.jsx(es,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:je=>xe(je,"toilet_image")})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),s.jsxs("button",{onClick:Te,disabled:k,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50",children:[k?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):null,s.jsx("span",{children:k?"Adding...":"Add Room"})]})]})]})]})})})]})})};function dM(e,[t,r]){return Math.min(r,Math.max(t,e))}var dSe=_.createContext(void 0);function uSe(e){const t=_.useContext(dSe);return e||t||"ltr"}const hSe=["top","right","bottom","left"],Jh=Math.min,wo=Math.max,V2=Math.round,kw=Math.floor,ed=e=>({x:e,y:e}),ASe={left:"right",right:"left",bottom:"top",top:"bottom"},fSe={start:"end",end:"start"};function kE(e,t,r){return wo(e,Jh(t,r))}function mu(e,t){return typeof e=="function"?e(t):e}function pu(e){return e.split("-")[0]}function qg(e){return e.split("-")[1]}function tI(e){return e==="x"?"y":"x"}function rI(e){return e==="y"?"height":"width"}const mSe=new Set(["top","bottom"]);function zc(e){return mSe.has(pu(e))?"y":"x"}function nI(e){return tI(zc(e))}function pSe(e,t,r){r===void 0&&(r=!1);const n=qg(e),i=nI(e),a=rI(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=K2(o)),[o,K2(o)]}function gSe(e){const t=K2(e);return[PE(e),t,PE(t)]}function PE(e){return e.replace(/start|end/g,t=>fSe[t])}const uM=["left","right"],hM=["right","left"],xSe=["top","bottom"],ySe=["bottom","top"];function vSe(e,t,r){switch(e){case"top":case"bottom":return r?t?hM:uM:t?uM:hM;case"left":case"right":return t?xSe:ySe;default:return[]}}function bSe(e,t,r,n){const i=qg(e);let a=vSe(pu(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(PE)))),a}function K2(e){return e.replace(/left|right|bottom|top/g,t=>ASe[t])}function wSe(e){return{top:0,right:0,bottom:0,left:0,...e}}function oX(e){return typeof e!="number"?wSe(e):{top:e,right:e,bottom:e,left:e}}function W2(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function AM(e,t,r){let{reference:n,floating:i}=e;const a=zc(t),o=nI(t),l=rI(o),c=pu(t),d=a==="y",u=n.x+n.width/2-i.width/2,A=n.y+n.height/2-i.height/2,f=n[l]/2-i[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-i.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:A};break;case"left":m={x:n.x-i.width,y:A};break;default:m={x:n.x,y:n.y}}switch(qg(t)){case"start":m[o]-=f*(r&&d?-1:1);break;case"end":m[o]+=f*(r&&d?-1:1);break}return m}const jSe=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:A}=AM(d,n,c),f=n,m={},x=0;for(let p=0;p<l.length;p++){const{name:v,fn:y}=l[p],{x:b,y:w,data:j,reset:N}=await y({x:u,y:A,initialPlacement:n,placement:f,strategy:i,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});u=b??u,A=w??A,m={...m,[v]:{...m[v],...j}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:u,y:A}=AM(d,f,c)),p=-1)}return{x:u,y:A,placement:f,strategy:i,middlewareData:m}};async function Py(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:A="floating",altBoundary:f=!1,padding:m=0}=mu(t,e),x=oX(m),v=l[f?A==="floating"?"reference":"floating":A],y=W2(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=A==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=W2(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-N.top+x.top)/j.y,bottom:(N.bottom-y.bottom+x.bottom)/j.y,left:(y.left-N.left+x.left)/j.x,right:(N.right-y.right+x.right)/j.x}}const NSe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=mu(e,t)||{};if(d==null)return{};const A=oX(u),f={x:r,y:n},m=nI(i),x=rI(m),p=await o.getDimensions(d),v=m==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=a.reference[x]+a.reference[m]-f[m]-a.floating[x],N=f[m]-a.reference[m],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let I=B?B[w]:0;(!I||!await(o.isElement==null?void 0:o.isElement(B)))&&(I=l.floating[w]||a.floating[x]);const P=j/2-N/2,T=I/2-p[x]/2-1,F=Jh(A[y],T),E=Jh(A[b],T),k=F,M=I-p[x]-E,U=I/2-p[x]/2+P,W=kE(k,U,M),Y=!c.arrow&&qg(i)!=null&&U!==W&&a.reference[x]/2-(U<k?F:E)-p[x]/2<0,Q=Y?U<k?U-k:U-M:0;return{[m]:f[m]+Q,data:{[m]:W,centerOffset:U-W-Q,...Y&&{alignmentOffset:Q}},reset:Y}}}),_Se=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:A=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...v}=mu(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=pu(i),b=zc(l),w=pu(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=f||(w||!p?[K2(l)]:gSe(l)),B=x!=="none";!f&&B&&N.push(...bSe(l,p,x,j));const I=[l,...N],P=await Py(t,v),T=[];let F=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&T.push(P[y]),A){const U=pSe(i,o,j);T.push(P[U[0]],P[U[1]])}if(F=[...F,{placement:i,overflows:T}],!T.every(U=>U<=0)){var E,k;const U=(((E=a.flip)==null?void 0:E.index)||0)+1,W=I[U];if(W&&(!(A==="alignment"?b!==zc(W):!1)||F.every(z=>zc(z.placement)===b?z.overflows[0]>0:!0)))return{data:{index:U,overflows:F},reset:{placement:W}};let Y=(k=F.filter(Q=>Q.overflows[0]<=0).sort((Q,z)=>Q.overflows[1]-z.overflows[1])[0])==null?void 0:k.placement;if(!Y)switch(m){case"bestFit":{var M;const Q=(M=F.filter(z=>{if(B){const te=zc(z.placement);return te===b||te==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(te=>te>0).reduce((te,re)=>te+re,0)]).sort((z,te)=>z[1]-te[1])[0])==null?void 0:M[0];Q&&(Y=Q);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function fM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mM(e){return hSe.some(t=>e[t]>=0)}const CSe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=mu(e,t);switch(n){case"referenceHidden":{const a=await Py(t,{...i,elementContext:"reference"}),o=fM(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mM(o)}}}case"escaped":{const a=await Py(t,{...i,altBoundary:!0}),o=fM(a,r.floating);return{data:{escapedOffsets:o,escaped:mM(o)}}}default:return{}}}}},lX=new Set(["left","top"]);async function BSe(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=pu(r),l=qg(r),c=zc(r)==="y",d=lX.has(o)?-1:1,u=a&&c?-1:1,A=mu(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const SSe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await BSe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},ESe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=mu(e,t),d={x:r,y:n},u=await Py(t,c),A=zc(pu(i)),f=tI(A);let m=d[f],x=d[A];if(a){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=m+u[v],w=m-u[y];m=kE(b,m,w)}if(o){const v=A==="y"?"top":"left",y=A==="y"?"bottom":"right",b=x+u[v],w=x-u[y];x=kE(b,x,w)}const p=l.fn({...t,[f]:m,[A]:x});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[f]:a,[A]:o}}}}}},kSe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=mu(e,t),u={x:r,y:n},A=zc(i),f=tI(A);let m=u[f],x=u[A];const p=mu(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=f==="y"?"height":"width",j=a.reference[f]-a.floating[w]+v.mainAxis,N=a.reference[f]+a.reference[w]-v.mainAxis;m<j?m=j:m>N&&(m=N)}if(d){var y,b;const w=f==="y"?"width":"height",j=lX.has(pu(i)),N=a.reference[A]-a.floating[w]+(j&&((y=o.offset)==null?void 0:y[A])||0)+(j?0:v.crossAxis),B=a.reference[A]+a.reference[w]+(j?0:((b=o.offset)==null?void 0:b[A])||0)-(j?v.crossAxis:0);x<N?x=N:x>B&&(x=B)}return{[f]:m,[A]:x}}}},PSe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=mu(e,t),u=await Py(t,d),A=pu(i),f=qg(i),m=zc(i)==="y",{width:x,height:p}=a.floating;let v,y;A==="top"||A==="bottom"?(v=A,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=A,v=f==="end"?"top":"bottom");const b=p-u.top-u.bottom,w=x-u.left-u.right,j=Jh(p-u[v],b),N=Jh(x-u[y],w),B=!t.middlewareData.shift;let I=j,P=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(I=b),B&&!f){const F=wo(u.left,0),E=wo(u.right,0),k=wo(u.top,0),M=wo(u.bottom,0);m?P=x-2*(F!==0||E!==0?F+E:wo(u.left,u.right)):I=p-2*(k!==0||M!==0?k+M:wo(u.top,u.bottom))}await c({...t,availableWidth:P,availableHeight:I});const T=await o.getDimensions(l.floating);return x!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function l5(){return typeof window<"u"}function Yg(e){return cX(e)?(e.nodeName||"").toLowerCase():"#document"}function Eo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pd(e){var t;return(t=(cX(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cX(e){return l5()?e instanceof Node||e instanceof Eo(e).Node:!1}function fc(e){return l5()?e instanceof Element||e instanceof Eo(e).Element:!1}function cd(e){return l5()?e instanceof HTMLElement||e instanceof Eo(e).HTMLElement:!1}function pM(e){return!l5()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Eo(e).ShadowRoot}const ISe=new Set(["inline","contents"]);function Kv(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=mc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ISe.has(i)}const TSe=new Set(["table","td","th"]);function OSe(e){return TSe.has(Yg(e))}const LSe=[":popover-open",":modal"];function c5(e){return LSe.some(t=>{try{return e.matches(t)}catch{return!1}})}const FSe=["transform","translate","scale","rotate","perspective"],USe=["transform","translate","scale","rotate","perspective","filter"],RSe=["paint","layout","strict","content"];function sI(e){const t=iI(),r=fc(e)?mc(e):e;return FSe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||USe.some(n=>(r.willChange||"").includes(n))||RSe.some(n=>(r.contain||"").includes(n))}function DSe(e){let t=eA(e);for(;cd(t)&&!og(t);){if(sI(t))return t;if(c5(t))return null;t=eA(t)}return null}function iI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MSe=new Set(["html","body","#document"]);function og(e){return MSe.has(Yg(e))}function mc(e){return Eo(e).getComputedStyle(e)}function d5(e){return fc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eA(e){if(Yg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pM(e)&&e.host||pd(e);return pM(t)?t.host:t}function dX(e){const t=eA(e);return og(t)?e.ownerDocument?e.ownerDocument.body:e.body:cd(t)&&Kv(t)?t:dX(t)}function Iy(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=dX(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Eo(i);if(a){const l=IE(o);return t.concat(o,o.visualViewport||[],Kv(i)?i:[],l&&r?Iy(l):[])}return t.concat(i,Iy(i,[],r))}function IE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uX(e){const t=mc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=cd(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=V2(r)!==a||V2(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function aI(e){return fc(e)?e:e.contextElement}function Dp(e){const t=aI(e);if(!cd(t))return ed(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=uX(t);let o=(a?V2(r.width):r.width)/n,l=(a?V2(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const QSe=ed(0);function hX(e){const t=Eo(e);return!iI()||!t.visualViewport?QSe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $Se(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Eo(e)?!1:t}function Qf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=aI(e);let o=ed(1);t&&(n?fc(n)&&(o=Dp(n)):o=Dp(e));const l=$Se(a,r,n)?hX(a):ed(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,A=i.height/o.y;if(a){const f=Eo(a),m=n&&fc(n)?Eo(n):n;let x=f,p=IE(x);for(;p&&n&&m!==x;){const v=Dp(p),y=p.getBoundingClientRect(),b=mc(p),w=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,j=y.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,A*=v.y,c+=w,d+=j,x=Eo(p),p=IE(x)}}return W2({width:u,height:A,x:c,y:d})}function u5(e,t){const r=d5(e).scrollLeft;return t?t.left+r:Qf(pd(e)).left+r}function AX(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-u5(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function HSe(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=pd(n),l=t?c5(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=ed(1);const u=ed(0),A=cd(n);if((A||!A&&!a)&&((Yg(n)!=="body"||Kv(o))&&(c=d5(n)),cd(n))){const m=Qf(n);d=Dp(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const f=o&&!A&&!a?AX(o,c):ed(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function zSe(e){return Array.from(e.getClientRects())}function VSe(e){const t=pd(e),r=d5(e),n=e.ownerDocument.body,i=wo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=wo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+u5(e);const l=-r.scrollTop;return mc(n).direction==="rtl"&&(o+=wo(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const gM=25;function KSe(e,t){const r=Eo(e),n=pd(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=iI();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=u5(n);if(d<=0){const u=n.ownerDocument,A=u.body,f=getComputedStyle(A),m=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,x=Math.abs(n.clientWidth-A.clientWidth-m);x<=gM&&(a-=x)}else d<=gM&&(a+=d);return{width:a,height:o,x:l,y:c}}const WSe=new Set(["absolute","fixed"]);function GSe(e,t){const r=Qf(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=cd(e)?Dp(e):ed(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function xM(e,t,r){let n;if(t==="viewport")n=KSe(e,r);else if(t==="document")n=VSe(pd(e));else if(fc(t))n=GSe(t,r);else{const i=hX(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return W2(n)}function fX(e,t){const r=eA(e);return r===t||!fc(r)||og(r)?!1:mc(r).position==="fixed"||fX(r,t)}function qSe(e,t){const r=t.get(e);if(r)return r;let n=Iy(e,[],!1).filter(l=>fc(l)&&Yg(l)!=="body"),i=null;const a=mc(e).position==="fixed";let o=a?eA(e):e;for(;fc(o)&&!og(o);){const l=mc(o),c=sI(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&WSe.has(i.position)||Kv(o)&&!c&&fX(e,o))?n=n.filter(u=>u!==o):i=l,o=eA(o)}return t.set(e,n),n}function YSe(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?c5(t)?[]:qSe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const A=xM(t,u,i);return d.top=wo(A.top,d.top),d.right=Jh(A.right,d.right),d.bottom=Jh(A.bottom,d.bottom),d.left=wo(A.left,d.left),d},xM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function XSe(e){const{width:t,height:r}=uX(e);return{width:t,height:r}}function ZSe(e,t,r){const n=cd(t),i=pd(t),a=r==="fixed",o=Qf(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ed(0);function d(){c.x=u5(i)}if(n||!n&&!a)if((Yg(t)!=="body"||Kv(i))&&(l=d5(t)),n){const m=Qf(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&d();a&&!n&&i&&d();const u=i&&!n&&!a?AX(i,l):ed(0),A=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:A,y:f,width:o.width,height:o.height}}function SB(e){return mc(e).position==="static"}function yM(e,t){if(!cd(e)||mc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return pd(e)===r&&(r=r.ownerDocument.body),r}function mX(e,t){const r=Eo(e);if(c5(e))return r;if(!cd(e)){let i=eA(e);for(;i&&!og(i);){if(fc(i)&&!SB(i))return i;i=eA(i)}return r}let n=yM(e,t);for(;n&&OSe(n)&&SB(n);)n=yM(n,t);return n&&og(n)&&SB(n)&&!sI(n)?r:n||DSe(e)||r}const JSe=async function(e){const t=this.getOffsetParent||mX,r=this.getDimensions,n=await r(e.floating);return{reference:ZSe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function e4e(e){return mc(e).direction==="rtl"}const t4e={convertOffsetParentRelativeRectToViewportRelativeRect:HSe,getDocumentElement:pd,getClippingRect:YSe,getOffsetParent:mX,getElementRects:JSe,getClientRects:zSe,getDimensions:XSe,getScale:Dp,isElement:fc,isRTL:e4e};function pX(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function r4e(e,t){let r=null,n;const i=pd(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:A,width:f,height:m}=d;if(l||t(),!f||!m)return;const x=kw(A),p=kw(i.clientWidth-(u+f)),v=kw(i.clientHeight-(A+m)),y=kw(u),w={rootMargin:-x+"px "+-p+"px "+-v+"px "+-y+"px",threshold:wo(0,Jh(1,c))||1};let j=!0;function N(B){const I=B[0].intersectionRatio;if(I!==c){if(!j)return o();I?o(!1,I):n=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!pX(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),a}function n4e(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=aI(e),u=i||a?[...d?Iy(d):[],...Iy(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const A=d&&l?r4e(d,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let x,p=c?Qf(e):null;c&&v();function v(){const y=Qf(e);p&&!pX(p,y)&&r(),p=y,x=requestAnimationFrame(v)}return r(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),A==null||A(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const s4e=SSe,i4e=ESe,a4e=_Se,o4e=PSe,l4e=CSe,vM=NSe,c4e=kSe,d4e=(e,t,r)=>{const n=new Map,i={platform:t4e,...r},a={...i.platform,_c:n};return jSe(e,t,{...i,platform:a})};var u4e=typeof document<"u",h4e=function(){},T1=u4e?_.useLayoutEffect:h4e;function G2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!G2(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!G2(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function gX(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bM(e,t){const r=gX(e);return Math.round(t*r)/r}function EB(e){const t=_.useRef(e);return T1(()=>{t.current=e}),t}function A4e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,A]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=_.useState(n);G2(f,n)||m(n);const[x,p]=_.useState(null),[v,y]=_.useState(null),b=_.useCallback(z=>{z!==B.current&&(B.current=z,p(z))},[]),w=_.useCallback(z=>{z!==I.current&&(I.current=z,y(z))},[]),j=a||x,N=o||v,B=_.useRef(null),I=_.useRef(null),P=_.useRef(u),T=c!=null,F=EB(c),E=EB(i),k=EB(d),M=_.useCallback(()=>{if(!B.current||!I.current)return;const z={placement:t,strategy:r,middleware:f};E.current&&(z.platform=E.current),d4e(B.current,I.current,z).then(te=>{const re={...te,isPositioned:k.current!==!1};U.current&&!G2(P.current,re)&&(P.current=re,sA.flushSync(()=>{A(re)}))})},[f,t,r,E,k]);T1(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,A(z=>({...z,isPositioned:!1})))},[d]);const U=_.useRef(!1);T1(()=>(U.current=!0,()=>{U.current=!1}),[]),T1(()=>{if(j&&(B.current=j),N&&(I.current=N),j&&N){if(F.current)return F.current(j,N,M);M()}},[j,N,M,F,T]);const W=_.useMemo(()=>({reference:B,floating:I,setReference:b,setFloating:w}),[b,w]),Y=_.useMemo(()=>({reference:j,floating:N}),[j,N]),Q=_.useMemo(()=>{const z={position:r,left:0,top:0};if(!Y.floating)return z;const te=bM(Y.floating,u.x),re=bM(Y.floating,u.y);return l?{...z,transform:"translate("+te+"px, "+re+"px)",...gX(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:te,top:re}},[r,l,Y.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:M,refs:W,elements:Y,floatingStyles:Q}),[u,M,W,Y,Q])}const f4e=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?vM({element:n.current,padding:i}).fn(r):{}:n?vM({element:n,padding:i}).fn(r):{}}}},m4e=(e,t)=>({...s4e(e),options:[e,t]}),p4e=(e,t)=>({...i4e(e),options:[e,t]}),g4e=(e,t)=>({...c4e(e),options:[e,t]}),x4e=(e,t)=>({...a4e(e),options:[e,t]}),y4e=(e,t)=>({...o4e(e),options:[e,t]}),v4e=(e,t)=>({...l4e(e),options:[e,t]}),b4e=(e,t)=>({...f4e(e),options:[e,t]});var w4e="Arrow",xX=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(Gr.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});xX.displayName=w4e;var j4e=xX;function N4e(e){const[t,r]=_.useState(void 0);return Ri(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var oI="Popper",[yX,vX]=Iv(oI),[_4e,bX]=yX(oI),wX=e=>{const{__scopePopper:t,children:r}=e,[n,i]=_.useState(null);return s.jsx(_4e,{scope:t,anchor:n,onAnchorChange:i,children:r})};wX.displayName=oI;var jX="PopperAnchor",NX=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=bX(jX,r),o=_.useRef(null),l=ms(t,o),c=_.useRef(null);return _.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(Gr.div,{...i,ref:l})});NX.displayName=jX;var lI="PopperContent",[C4e,B4e]=yX(lI),_X=_.forwardRef((e,t)=>{var he,pe,ee,fe,ue,V;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:A="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=e,v=bX(lI,r),[y,b]=_.useState(null),w=ms(t,ve=>b(ve)),[j,N]=_.useState(null),B=N4e(j),I=(B==null?void 0:B.width)??0,P=(B==null?void 0:B.height)??0,T=n+(a!=="center"?"-"+a:""),F=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},E=Array.isArray(d)?d:[d],k=E.length>0,M={padding:F,boundary:E.filter(E4e),altBoundary:k},{refs:U,floatingStyles:W,placement:Y,isPositioned:Q,middlewareData:z}=A4e({strategy:"fixed",placement:T,whileElementsMounted:(...ve)=>n4e(...ve,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[m4e({mainAxis:i+P,alignmentAxis:o}),c&&p4e({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?g4e():void 0,...M}),c&&x4e({...M}),y4e({...M,apply:({elements:ve,rects:Se,availableWidth:ne,availableHeight:xe})=>{const{width:Le,height:ze}=Se.reference,Te=ve.floating.style;Te.setProperty("--radix-popper-available-width",`${ne}px`),Te.setProperty("--radix-popper-available-height",`${xe}px`),Te.setProperty("--radix-popper-anchor-width",`${Le}px`),Te.setProperty("--radix-popper-anchor-height",`${ze}px`)}}),j&&b4e({element:j,padding:l}),k4e({arrowWidth:I,arrowHeight:P}),f&&v4e({strategy:"referenceHidden",...M})]}),[te,re]=SX(Y),J=hc(x);Ri(()=>{Q&&(J==null||J())},[Q,J]);const H=(he=z.arrow)==null?void 0:he.x,Z=(pe=z.arrow)==null?void 0:pe.y,K=((ee=z.arrow)==null?void 0:ee.centerOffset)!==0,[ie,oe]=_.useState();return Ri(()=>{y&&oe(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Q?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(fe=z.transformOrigin)==null?void 0:fe.x,(ue=z.transformOrigin)==null?void 0:ue.y].join(" "),...((V=z.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(C4e,{scope:r,placedSide:te,onArrowChange:N,arrowX:H,arrowY:Z,shouldHideArrow:K,children:s.jsx(Gr.div,{"data-side":te,"data-align":re,...p,ref:w,style:{...p.style,animation:Q?void 0:"none"}})})})});_X.displayName=lI;var CX="PopperArrow",S4e={top:"bottom",right:"left",bottom:"top",left:"right"},BX=_.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=B4e(CX,n),o=S4e[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(j4e,{...i,ref:r,style:{...i.style,display:"block"}})})});BX.displayName=CX;function E4e(e){return e!==null}var k4e=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:i}=t,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=SX(r),A={start:"0%",center:"50%",end:"100%"}[u],f=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let x="",p="";return d==="bottom"?(x=o?A:`${f}px`,p=`${-c}px`):d==="top"?(x=o?A:`${f}px`,p=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=o?A:`${m}px`):d==="left"&&(x=`${n.floating.width+c}px`,p=o?A:`${m}px`),{data:{x,y:p}}}});function SX(e){const[t,r="center"]=e.split("-");return[t,r]}var P4e=wX,I4e=NX,T4e=_X,O4e=BX;function L4e(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var F4e=[" ","Enter","ArrowUp","ArrowDown"],U4e=[" ","Enter"],$f="Select",[h5,A5,R4e]=aK($f),[Xg]=Iv($f,[R4e,vX]),f5=vX(),[D4e,oA]=Xg($f),[M4e,Q4e]=Xg($f),EX=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:A,disabled:f,required:m,form:x}=e,p=f5(t),[v,y]=_.useState(null),[b,w]=_.useState(null),[j,N]=_.useState(!1),B=uSe(d),[I,P]=p2({prop:n,defaultProp:i??!1,onChange:a,caller:$f}),[T,F]=p2({prop:o,defaultProp:l,onChange:c,caller:$f}),E=_.useRef(null),k=v?x||!!v.closest("form"):!0,[M,U]=_.useState(new Set),W=Array.from(M).map(Y=>Y.props.value).join(";");return s.jsx(P4e,{...p,children:s.jsxs(D4e,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Ip(),value:T,onValueChange:F,open:I,onOpenChange:P,dir:B,triggerPointerDownPosRef:E,disabled:f,children:[s.jsx(h5.Provider,{scope:t,children:s.jsx(M4e,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(Y=>{U(Q=>new Set(Q).add(Y))},[]),onNativeOptionRemove:_.useCallback(Y=>{U(Q=>{const z=new Set(Q);return z.delete(Y),z})},[]),children:r})}),k?s.jsxs(JX,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:A,value:T,onChange:Y=>F(Y.target.value),disabled:f,form:x,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},W):null]})})};EX.displayName=$f;var kX="SelectTrigger",PX=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=f5(r),o=oA(kX,r),l=o.disabled||n,c=ms(t,o.onTriggerChange),d=A5(r),u=_.useRef("touch"),[A,f,m]=tZ(p=>{const v=d().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),b=rZ(v,p,y);b!==void 0&&o.onValueChange(b.value)}),x=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(I4e,{asChild:!0,...a,children:s.jsx(Gr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":eZ(o.value)?"":void 0,...i,ref:c,onClick:Dr(i.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:Dr(i.onPointerDown,p=>{u.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:Dr(i.onKeyDown,p=>{const v=A.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(v&&p.key===" ")&&F4e.includes(p.key)&&(x(),p.preventDefault())})})})});PX.displayName=kX;var IX="SelectValue",TX=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=e,c=oA(IX,r),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,A=ms(t,c.onValueNodeChange);return Ri(()=>{d(u)},[d,u]),s.jsx(Gr.span,{...l,ref:A,style:{pointerEvents:"none"},children:eZ(c.value)?s.jsx(s.Fragment,{children:o}):a})});TX.displayName=IX;var $4e="SelectIcon",OX=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(Gr.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});OX.displayName=$4e;var H4e="SelectPortal",LX=e=>s.jsx(TN,{asChild:!0,...e});LX.displayName=H4e;var Hf="SelectContent",FX=_.forwardRef((e,t)=>{const r=oA(Hf,e.__scopeSelect),[n,i]=_.useState();if(Ri(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?sA.createPortal(s.jsx(UX,{scope:e.__scopeSelect,children:s.jsx(h5.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(RX,{...e,ref:t})});FX.displayName=Hf;var Gl=10,[UX,lA]=Xg(Hf),z4e="SelectContentImpl",V4e=sg("SelectContent.RemoveScroll"),RX=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:A,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v,...y}=e,b=oA(Hf,r),[w,j]=_.useState(null),[N,B]=_.useState(null),I=ms(t,he=>j(he)),[P,T]=_.useState(null),[F,E]=_.useState(null),k=A5(r),[M,U]=_.useState(!1),W=_.useRef(!1);_.useEffect(()=>{if(w)return zG(w)},[w]),LG();const Y=_.useCallback(he=>{const[pe,...ee]=k().map(V=>V.ref.current),[fe]=ee.slice(-1),ue=document.activeElement;for(const V of he)if(V===ue||(V==null||V.scrollIntoView({block:"nearest"}),V===pe&&N&&(N.scrollTop=0),V===fe&&N&&(N.scrollTop=N.scrollHeight),V==null||V.focus(),document.activeElement!==ue))return},[k,N]),Q=_.useCallback(()=>Y([P,w]),[Y,P,w]);_.useEffect(()=>{M&&Q()},[M,Q]);const{onOpenChange:z,triggerPointerDownPosRef:te}=b;_.useEffect(()=>{if(w){let he={x:0,y:0};const pe=fe=>{var ue,V;he={x:Math.abs(Math.round(fe.pageX)-(((ue=te.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((V=te.current)==null?void 0:V.y)??0))}},ee=fe=>{he.x<=10&&he.y<=10?fe.preventDefault():w.contains(fe.target)||z(!1),document.removeEventListener("pointermove",pe),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",ee,{capture:!0})}}},[w,z,te]),_.useEffect(()=>{const he=()=>z(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[z]);const[re,J]=tZ(he=>{const pe=k().filter(ue=>!ue.disabled),ee=pe.find(ue=>ue.ref.current===document.activeElement),fe=rZ(pe,he,ee);fe&&setTimeout(()=>fe.ref.current.focus())}),H=_.useCallback((he,pe,ee)=>{const fe=!W.current&&!ee;(b.value!==void 0&&b.value===pe||fe)&&(T(he),fe&&(W.current=!0))},[b.value]),Z=_.useCallback(()=>w==null?void 0:w.focus(),[w]),K=_.useCallback((he,pe,ee)=>{const fe=!W.current&&!ee;(b.value!==void 0&&b.value===pe||fe)&&E(he)},[b.value]),ie=n==="popper"?TE:DX,oe=ie===TE?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:A,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(UX,{scope:r,content:w,viewport:N,onViewportChange:B,itemRefCallback:H,selectedItem:P,onItemLeave:Z,itemTextRefCallback:K,focusSelectedItem:Q,selectedItemText:F,position:n,isPositioned:M,searchRef:re,children:s.jsx(O6,{as:V4e,allowPinchZoom:!0,children:s.jsx(T6,{asChild:!0,trapped:b.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Dr(i,he=>{var pe;(pe=b.trigger)==null||pe.focus({preventScroll:!0}),he.preventDefault()}),children:s.jsx(IN,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ie,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:he=>he.preventDefault(),...y,...oe,onPlaced:()=>U(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Dr(y.onKeyDown,he=>{const pe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!pe&&he.key.length===1&&J(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let fe=k().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(he.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const ue=he.target,V=fe.indexOf(ue);fe=fe.slice(V+1)}setTimeout(()=>Y(fe)),he.preventDefault()}})})})})})})});RX.displayName=z4e;var K4e="SelectItemAlignedPosition",DX=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=oA(Hf,r),o=lA(Hf,r),[l,c]=_.useState(null),[d,u]=_.useState(null),A=ms(t,I=>u(I)),f=A5(r),m=_.useRef(!1),x=_.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,w=_.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&p&&v&&y){const I=a.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),F=y.getBoundingClientRect();if(a.dir!=="rtl"){const ue=F.left-P.left,V=T.left-ue,ve=I.left-V,Se=I.width+ve,ne=Math.max(Se,P.width),xe=window.innerWidth-Gl,Le=dM(V,[Gl,Math.max(Gl,xe-ne)]);l.style.minWidth=Se+"px",l.style.left=Le+"px"}else{const ue=P.right-F.right,V=window.innerWidth-T.right-ue,ve=window.innerWidth-I.right-V,Se=I.width+ve,ne=Math.max(Se,P.width),xe=window.innerWidth-Gl,Le=dM(V,[Gl,Math.max(Gl,xe-ne)]);l.style.minWidth=Se+"px",l.style.right=Le+"px"}const E=f(),k=window.innerHeight-Gl*2,M=p.scrollHeight,U=window.getComputedStyle(d),W=parseInt(U.borderTopWidth,10),Y=parseInt(U.paddingTop,10),Q=parseInt(U.borderBottomWidth,10),z=parseInt(U.paddingBottom,10),te=W+Y+M+z+Q,re=Math.min(v.offsetHeight*5,te),J=window.getComputedStyle(p),H=parseInt(J.paddingTop,10),Z=parseInt(J.paddingBottom,10),K=I.top+I.height/2-Gl,ie=k-K,oe=v.offsetHeight/2,he=v.offsetTop+oe,pe=W+Y+he,ee=te-pe;if(pe<=K){const ue=E.length>0&&v===E[E.length-1].ref.current;l.style.bottom="0px";const V=d.clientHeight-p.offsetTop-p.offsetHeight,ve=Math.max(ie,oe+(ue?Z:0)+V+Q),Se=pe+ve;l.style.height=Se+"px"}else{const ue=E.length>0&&v===E[0].ref.current;l.style.top="0px";const ve=Math.max(K,W+p.offsetTop+(ue?H:0)+oe)+ee;l.style.height=ve+"px",p.scrollTop=pe-K+p.offsetTop}l.style.margin=`${Gl}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,l,d,p,v,y,a.dir,n]);Ri(()=>w(),[w]);const[j,N]=_.useState();Ri(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const B=_.useCallback(I=>{I&&x.current===!0&&(w(),b==null||b(),x.current=!1)},[w,b]);return s.jsx(G4e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:B,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Gr.div,{...i,ref:A,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});DX.displayName=K4e;var W4e="SelectPopperPosition",TE=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Gl,...a}=e,o=f5(r);return s.jsx(T4e,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});TE.displayName=W4e;var[G4e,cI]=Xg(Hf,{}),OE="SelectViewport",MX=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=lA(OE,r),o=cI(OE,r),l=ms(t,a.onViewportChange),c=_.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(h5.Slot,{scope:r,children:s.jsx(Gr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Dr(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:A,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&A){const m=Math.abs(c.current-u.scrollTop);if(m>0){const x=window.innerHeight-Gl*2,p=parseFloat(A.style.minHeight),v=parseFloat(A.style.height),y=Math.max(p,v);if(y<x){const b=y+m,w=Math.min(x,b),j=b-w;A.style.height=w+"px",A.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,A.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});MX.displayName=OE;var QX="SelectGroup",[q4e,Y4e]=Xg(QX),X4e=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Ip();return s.jsx(q4e,{scope:r,id:i,children:s.jsx(Gr.div,{role:"group","aria-labelledby":i,...n,ref:t})})});X4e.displayName=QX;var $X="SelectLabel",HX=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Y4e($X,r);return s.jsx(Gr.div,{id:i.id,...n,ref:t})});HX.displayName=$X;var q2="SelectItem",[Z4e,zX]=Xg(q2),VX=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,l=oA(q2,r),c=lA(q2,r),d=l.value===n,[u,A]=_.useState(a??""),[f,m]=_.useState(!1),x=ms(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,i)}),p=Ip(),v=_.useRef("touch"),y=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Z4e,{scope:r,value:n,disabled:i,textId:p,isSelected:d,onItemTextChange:_.useCallback(b=>{A(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(h5.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:s.jsx(Gr.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:Dr(o.onFocus,()=>m(!0)),onBlur:Dr(o.onBlur,()=>m(!1)),onClick:Dr(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Dr(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Dr(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Dr(o.onPointerMove,b=>{var w;v.current=b.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Dr(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Dr(o.onKeyDown,b=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(U4e.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});VX.displayName=q2;var vx="SelectItemText",KX=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=oA(vx,r),l=lA(vx,r),c=zX(vx,r),d=Q4e(vx,r),[u,A]=_.useState(null),f=ms(t,y=>A(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=u==null?void 0:u.textContent,x=_.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=d;return Ri(()=>(p(x),()=>v(x)),[p,v,x]),s.jsxs(s.Fragment,{children:[s.jsx(Gr.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?sA.createPortal(a.children,o.valueNode):null]})});KX.displayName=vx;var WX="SelectItemIndicator",GX=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zX(WX,r).isSelected?s.jsx(Gr.span,{"aria-hidden":!0,...n,ref:t}):null});GX.displayName=WX;var LE="SelectScrollUpButton",qX=_.forwardRef((e,t)=>{const r=lA(LE,e.__scopeSelect),n=cI(LE,e.__scopeSelect),[i,a]=_.useState(!1),o=ms(t,n.onScrollButtonChange);return Ri(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(XX,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});qX.displayName=LE;var FE="SelectScrollDownButton",YX=_.forwardRef((e,t)=>{const r=lA(FE,e.__scopeSelect),n=cI(FE,e.__scopeSelect),[i,a]=_.useState(!1),o=ms(t,n.onScrollButtonChange);return Ri(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(XX,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});YX.displayName=FE;var XX=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=lA("SelectScrollButton",r),o=_.useRef(null),l=A5(r),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Ri(()=>{var u;const d=l().find(A=>A.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Gr.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Dr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Dr(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Dr(i.onPointerLeave,()=>{c()})})}),J4e="SelectSeparator",ZX=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Gr.div,{"aria-hidden":!0,...n,ref:t})});ZX.displayName=J4e;var UE="SelectArrow",eEe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=f5(r),a=oA(UE,r),o=lA(UE,r);return a.open&&o.position==="popper"?s.jsx(O4e,{...i,...n,ref:t}):null});eEe.displayName=UE;var tEe="SelectBubbleInput",JX=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=_.useRef(null),a=ms(n,i),o=L4e(t);return _.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const A=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(A)}},[o,t]),s.jsx(Gr.select,{...r,style:{...uK,...r.style},ref:a,defaultValue:t})});JX.displayName=tEe;function eZ(e){return e===""||e===void 0}function tZ(e){const t=hc(e),r=_.useRef(""),n=_.useRef(0),i=_.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function rZ(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=rEe(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function rEe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var nEe=EX,nZ=PX,sEe=TX,iEe=OX,aEe=LX,sZ=FX,oEe=MX,iZ=HX,aZ=VX,lEe=KX,cEe=GX,oZ=qX,lZ=YX,cZ=ZX;const Y2=nEe,X2=sEe,Ty=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(nZ,{ref:n,className:dn("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(iEe,{asChild:!0,children:s.jsx(YA,{className:"h-4 w-4 opacity-50"})})]}));Ty.displayName=nZ.displayName;const dZ=_.forwardRef(({className:e,...t},r)=>s.jsx(oZ,{ref:r,className:dn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(gue,{className:"h-4 w-4"})}));dZ.displayName=oZ.displayName;const uZ=_.forwardRef(({className:e,...t},r)=>s.jsx(lZ,{ref:r,className:dn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(YA,{className:"h-4 w-4"})}));uZ.displayName=lZ.displayName;const Oy=_.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>s.jsx(aEe,{children:s.jsxs(sZ,{ref:i,className:dn("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(dZ,{}),s.jsx(oEe,{className:dn("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(uZ,{})]})}));Oy.displayName=sZ.displayName;const dEe=_.forwardRef(({className:e,...t},r)=>s.jsx(iZ,{ref:r,className:dn("px-2 py-1.5 text-sm font-semibold",e),...t}));dEe.displayName=iZ.displayName;const xa=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(aZ,{ref:n,className:dn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(cEe,{children:s.jsx(Hm,{className:"h-4 w-4"})})}),s.jsx(lEe,{children:t})]}));xa.displayName=aZ.displayName;const uEe=_.forwardRef(({className:e,...t},r)=>s.jsx(cZ,{ref:r,className:dn("-mx-1 my-1 h-px bg-muted",e),...t}));uEe.displayName=cZ.displayName;delete Pa.Icon.Default.prototype._getIconUrl;Pa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const hEe=({onLocationSelect:e})=>(WN({click:t=>{const{lat:r,lng:n}=t.latlng;e(r,n)}}),null),AEe=({center:e})=>{const t=WN({});return _e.useEffect(()=>{e&&e[0]&&e[1]&&t.setView(e,t.getZoom())},[e,t]),null},fEe=()=>{const e=Ar(),[t,r]=_.useState(null),[n,i]=_.useState(!0),[a,o]=_.useState(!1),[l,c]=_.useState({propertyName:"",description:"",numberOfRooms:"",propertyMode:"room",address:{street:"",city:"",state:"",pincode:"",landmark:"",latitude:"",longitude:""},monthlyRent:"",securityDeposit:"",amenities:{parking4w:!1,parking2w:!1,kitchen:!1,powerBackup:!1},rules:{petsAllowed:!1,smokingAllowed:!1,visitorsAllowed:!0,cookingAllowed:!0},images:[],requiredImages:{front:null,back:null,hall:null,kitchen:null},toiletOutside:!1,outsideToiletImage:null,landTaxReceipt:null,documents:[],rooms:[]}),[d,u]=_.useState({}),[A,f]=_.useState(!1),[m,x]=_.useState(!1),p=ge=>{const Be=[];for(let Ne=1;Ne<=ge;Ne++)Be.push({roomNumber:Ne,roomType:"",roomSize:"",bedType:"",occupancy:1,rent:"",amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},description:"",roomImage:null,toiletImage:null});return Be},v=ge=>{const Be=parseInt(ge),Ne=isNaN(Be)?0:Math.min(Be,6);c(ke=>({...ke,numberOfRooms:String(Ne),rooms:Ne>0?p(Ne):[]})),x(Ne>0),!isNaN(Be)&&Be>6?u(ke=>({...ke,numberOfRooms:"Maximum 6 rooms allowed"})):d.numberOfRooms==="Maximum 6 rooms allowed"&&u(ke=>({...ke,numberOfRooms:""}))},y=ge=>({Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1})[ge]||1,b=(ge,Be,Ne)=>{c(ke=>({...ke,rooms:ke.rooms.map((Me,ot)=>{if(ot===ge){const nt={...Me,[Be]:Ne};return Be==="roomType"&&Ne&&(nt.occupancy=y(Ne)),nt}return Me})}))},w=(ge,Be,Ne)=>{c(ke=>({...ke,rooms:ke.rooms.map((Me,ot)=>ot===ge?{...Me,amenities:{...Me.amenities,[Be]:Ne}}:Me)}))},j=(ge,Be,Ne)=>{var nt;const ke=(nt=Ne.target.files)==null?void 0:nt[0];if(!ke)return;const Me={file:ke,preview:URL.createObjectURL(ke),name:ke.name};c(rt=>({...rt,rooms:rt.rooms.map((Ke,st)=>st===ge?{...Ke,[Be]:Me}:Ke)}));const ot=Be==="roomImage"?`room_${ge}_roomImage`:`room_${ge}_toiletImage`;d[ot]&&u(rt=>({...rt,[ot]:""}))},N=(ge,Be)=>{c(Ne=>({...Ne,rooms:Ne.rooms.map((ke,Me)=>Me===ge?{...ke,[Be]:null}:ke)}))};_.useRef(null),_.useRef(null);const[B,I]=_.useState(!1),[P,T]=_.useState(!1),[F,E]=_.useState(""),[k,M]=_.useState([]),[U,W]=_.useState(-1),[Y,Q]=_.useState(!1),z=_.useRef(null),te=_.useRef(null),re=_.useRef(!1),[J,H]=_.useState([12.9716,77.5946]);_.useEffect(()=>{(()=>{const Be=localStorage.getItem("authToken"),Ne=localStorage.getItem("user");if(!Be||!Ne){e("/login");return}try{const ke=JSON.parse(Ne);if(ke.role!==3){e("/login");return}r(ke);const Me=!ke.kycVerified&&!(ke.govtIdFrontUrl&&ke.govtIdBackUrl);o(Me)}catch(ke){console.error("Error parsing user data:",ke),e("/login")}i(!1)})()},[e]),_.useEffect(()=>{if(l.address.latitude&&l.address.longitude){const ge=parseFloat(l.address.latitude),Be=parseFloat(l.address.longitude);!isNaN(ge)&&!isNaN(Be)&&H([ge,Be])}},[l.address.latitude,l.address.longitude]);const Z=(ge,Be)=>{H([ge,Be]),c(Ne=>({...Ne,address:{...Ne.address,latitude:String(ge),longitude:String(Be)}}))},K=ge=>{const{lat:Be,lng:Ne}=ge.target.getLatLng();Z(Be,Ne)},ie=()=>{I(!B)},oe=()=>{var ke;const ge=l.address.latitude,Be=l.address.longitude;if(!ge||!Be){alert("Set a location first (drag marker or select a place).");return}const Ne=`${ge}, ${Be}`;(ke=navigator.clipboard)!=null&&ke.writeText?navigator.clipboard.writeText(Ne).then(()=>{alert("Coordinates copied to clipboard")}).catch(()=>{window.prompt("Copy coordinates:",Ne)}):window.prompt("Copy coordinates:",Ne)};_.useEffect(()=>{if(!F||F.trim().length<2){M([]),Q(!1),W(-1);return}if(!re.current)return z.current&&clearTimeout(z.current),z.current=setTimeout(async()=>{try{const ge=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(F)}&format=json&addressdetails=1&limit=5&countrycodes=in`,{headers:{Accept:"application/json","User-Agent":"LyvoPropertyApp/1.0"}});if(ge.ok){const Be=await ge.json();M(Be),Q(Be.length>0),W(-1)}else M([]),Q(!1),W(-1)}catch(ge){console.error("Error fetching place suggestions:",ge),M([]),Q(!1),W(-1)}},250),()=>{z.current&&clearTimeout(z.current)}},[F]),_.useEffect(()=>{if(!te.current)return;const ge=te.current.querySelector(`[data-idx="${U}"]`);ge&&ge.scrollIntoView({block:"nearest"})},[U]);const he=ge=>{if(!ge)return;re.current=!0,z.current&&clearTimeout(z.current),Q(!1),M([]);const Be=ge.address||{},Ne=[Be.road,Be.suburb,Be.neighbourhood].filter(Boolean).join(", "),ke=Be.city||Be.town||Be.village||Be.municipality||"",Me=Be.state||"",ot=Be.postcode||"",nt=ge.name||Be.amenity||"",rt=parseFloat(ge.lat),Ke=parseFloat(ge.lon);!isNaN(rt)&&!isNaN(Ke)&&H([rt,Ke]),c(st=>({...st,address:{...st.address,street:Ne||st.address.street,city:ke||st.address.city,state:Me||st.address.state,pincode:ot||st.address.pincode,landmark:nt||st.address.landmark,latitude:isNaN(rt)?st.address.latitude:String(rt),longitude:isNaN(Ke)?st.address.longitude:String(Ke)}})),E(ge.display_name||""),Q(!1),W(-1),setTimeout(()=>{re.current=!1},0)},pe=ge=>{!Y||k.length===0||(ge.key==="ArrowDown"?(ge.preventDefault(),W(Be=>(Be+1)%k.length)):ge.key==="ArrowUp"?(ge.preventDefault(),W(Be=>(Be-1+k.length)%k.length)):ge.key==="Enter"?U>=0&&(ge.preventDefault(),he(k[U])):ge.key==="Escape"&&(Q(!1),W(-1)))},ee=(ge,Be)=>{if(ge.includes(".")){const[Ne,ke]=ge.split(".");c(Me=>({...Me,[Ne]:{...Me[Ne],[ke]:Be}}))}else c(Ne=>({...Ne,[ge]:Be}));d[ge]&&u(Ne=>({...Ne,[ge]:""}))},fe=ge=>{c(Be=>({...Be,amenities:{...Be.amenities,[ge]:!Be.amenities[ge]}}))},ue=ge=>{c(Be=>({...Be,rules:{...Be.rules,[ge]:!Be.rules[ge]}}))},V=ge=>{const Ne=Array.from(ge.target.files).map(ke=>({file:ke,preview:URL.createObjectURL(ke),name:ke.name}));c(ke=>({...ke,images:[...ke.images,...Ne]}))},ve=(ge,Be)=>{var Me;const Ne=(Me=Be.target.files)==null?void 0:Me[0];if(!Ne)return;const ke={file:Ne,preview:URL.createObjectURL(Ne),name:Ne.name};c(ot=>({...ot,requiredImages:{...ot.requiredImages,[ge]:ke}})),d[`requiredImages.${ge}`]&&u(ot=>({...ot,[`requiredImages.${ge}`]:""}))},Se=ge=>{var ke;const Be=(ke=ge.target.files)==null?void 0:ke[0];if(!Be)return;const Ne={file:Be,preview:URL.createObjectURL(Be),name:Be.name};c(Me=>({...Me,outsideToiletImage:Ne})),d.outsideToiletImage&&u(Me=>({...Me,outsideToiletImage:""}))},ne=ge=>{c(Be=>({...Be,requiredImages:{...Be.requiredImages,[ge]:null}}))},xe=ge=>{c(Be=>({...Be,images:Be.images.filter((Ne,ke)=>ke!==ge)}))},Le=ge=>{var ke;const Be=(ke=ge.target.files)==null?void 0:ke[0];if(!Be)return;const Ne={file:Be,preview:URL.createObjectURL(Be),name:Be.name,type:Be.type};c(Me=>({...Me,landTaxReceipt:Ne})),d.landTaxReceipt&&u(Me=>({...Me,landTaxReceipt:""}))},ze=()=>{c(ge=>({...ge,landTaxReceipt:null}))},Te=()=>{const ge={};if(l.propertyName.trim()||(ge.propertyName="Property name is required"),l.description.trim()||(ge.description="Description is required"),l.propertyMode==="room"){const Ne=parseInt(l.numberOfRooms);!Ne||Ne<=0?ge.numberOfRooms="Number of rooms is required":Ne>6&&(ge.numberOfRooms="Maximum 6 rooms allowed")}else l.dormitory.numDorms||(ge["dormitory.numDorms"]="Number of dorms is required"),parseInt(l.dormitory.numDorms||"0")>0&&(l.dormitory.bedsPerDorms||[]).findIndex(Me=>!Me||parseInt(Me)<=0)!==-1&&(ge["dormitory.bedsPerDorms"]="Enter beds for each dorm"),l.dormitory.pricePerBed||(ge["dormitory.pricePerBed"]="Price per bed is required");l.propertyMode==="room"&&l.rooms.length>0&&l.rooms.forEach((Ne,ke)=>{var Me;Ne.roomType||(ge[`room_${ke}_type`]=`Room ${ke+1} type is required`),(!Ne.roomSize||parseInt(Ne.roomSize)<=0)&&(ge[`room_${ke}_size`]=`Room ${ke+1} size is required`),Ne.bedType||(ge[`room_${ke}_bed`]=`Room ${ke+1} bed type is required`),(!Ne.rent||parseInt(Ne.rent)<=0)&&(ge[`room_${ke}_rent`]=`Room ${ke+1} rent is required`),Ne.roomImage||(ge[`room_${ke}_roomImage`]=`Room ${ke+1} image is required`),(Me=Ne.amenities)!=null&&Me.attachedBathroom&&!Ne.toiletImage&&(ge[`room_${ke}_toiletImage`]=`Room ${ke+1} toilet image is required`)}),l.address.street.trim()||(ge["address.street"]="Street address is required"),l.address.city.trim()||(ge["address.city"]="City is required"),l.address.state.trim()||(ge["address.state"]="State is required"),l.address.pincode.trim()||(ge["address.pincode"]="Pincode is required"),l.securityDeposit||(ge.securityDeposit="Security deposit is required");const Be=["front","back","hall"];return l.amenities.kitchen&&Be.push("kitchen"),Be.forEach(Ne=>{l.requiredImages[Ne]||(ge[`requiredImages.${Ne}`]="Required")}),l.toiletOutside&&!l.outsideToiletImage&&(ge.outsideToiletImage="Outside toilet image is required"),l.landTaxReceipt||(ge.landTaxReceipt="Latest Land Tax Receipt (PDF) is required"),u(ge),Object.keys(ge).length===0},lt=async ge=>{var Be,Ne,ke,Me,ot,nt,rt;if(ge.preventDefault(),!!Te()){f(!0);try{const Ke=localStorage.getItem("authToken");if(!Ke)throw new Error("Authentication token not found");const st=new FormData,at={...l};l.propertyMode==="room"?at.rooms=(at.rooms||[]).map(_t=>{const{roomImage:Vt,toiletImage:yt,...At}=_t;return At}):at.rooms=[],st.append("propertyData",JSON.stringify(at)),(Be=l.requiredImages.front)!=null&&Be.file&&st.append("frontImage",l.requiredImages.front.file),(Ne=l.requiredImages.back)!=null&&Ne.file&&st.append("backImage",l.requiredImages.back.file),(ke=l.requiredImages.hall)!=null&&ke.file&&st.append("hallImage",l.requiredImages.hall.file),(Me=l.requiredImages.kitchen)!=null&&Me.file&&st.append("kitchenImage",l.requiredImages.kitchen.file),l.propertyMode==="room"?(l.rooms||[]).forEach((_t,Vt)=>{var yt,At;(yt=_t.roomImage)!=null&&yt.file&&st.append(`rooms[${Vt}][roomImage]`,_t.roomImage.file),(At=_t.toiletImage)!=null&&At.file&&st.append(`rooms[${Vt}][toiletImage]`,_t.toiletImage.file)}):((l.dormitory.images||[]).forEach((_t,Vt)=>{_t.file&&st.append("dormitoryImages",_t.file)}),(ot=l.dormitory.toiletImage)!=null&&ot.file&&st.append("dormitoryToiletImage",l.dormitory.toiletImage.file)),st.append("toiletOutside",String(!!l.toiletOutside)),l.toiletOutside&&((nt=l.outsideToiletImage)!=null&&nt.file)&&st.append("outsideToiletImage",l.outsideToiletImage.file),console.log("Documents:",l.documents),(rt=l.landTaxReceipt)!=null&&rt.file&&st.append("landTaxReceipt",l.landTaxReceipt.file),l.documents&&Array.isArray(l.documents)&&l.documents.forEach((_t,Vt)=>{_t.file&&(console.log("Adding document: documents",_t.file.name),st.append("documents",_t.file))}),console.log("FormData entries:");for(let[_t,Vt]of st.entries())console.log(_t,Vt);const gt=await fetch("http://localhost:5000/api/property/add",{method:"POST",headers:{Authorization:`Bearer ${Ke}`},body:st}),Bt=await gt.json();if(!gt.ok)throw new Error(Bt.message||"Failed to create property");if(Bt.success)window.refreshProperties&&window.refreshProperties(),e("/owner-properties");else throw new Error(Bt.message||"Failed to create property")}catch(Ke){console.error("Error adding property:",Ke),alert(`Error: ${Ke.message}`)}finally{f(!1)}}};if(n)return s.jsx(Nn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})});const tt=!n&&t&&a;return s.jsxs(Nn,{children:[s.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-0 space-y-4 sm:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("button",{onClick:()=>e("/owner-dashboard"),className:"p-1.5 sm:p-2 text-gray-600 hover:text-gray-800 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:s.jsx(pi,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg sm:text-xl sm:text-2xl font-bold text-gray-900",children:"Add New Property"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Fill in the details to list your property"})]})]})}),tt&&s.jsxs("div",{className:"p-3 sm:p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("div",{className:"text-xs sm:text-sm text-yellow-900",children:"To add a property, please upload and verify your Government ID."}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:()=>e("/owner-settings#kyc"),className:"px-3 py-2 bg-red-600 text-white rounded-md text-xs sm:text-sm hover:bg-red-700",children:"Go to Upload Documents"})})]}),s.jsxs("form",{onSubmit:lt,className:`space-y-6 sm:space-y-8 ${tt?"pointer-events-none opacity-50 select-none":""}`,children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(Xr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Basic Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name *"}),s.jsx("input",{type:"text",value:l.propertyName,onChange:ge=>ee("propertyName",ge.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.propertyName?"border-red-500":"border-gray-300"}`,placeholder:"Enter property name"}),d.propertyName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.propertyName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit () *"}),s.jsx("input",{type:"number",value:l.securityDeposit,onChange:ge=>ee("securityDeposit",ge.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.securityDeposit?"border-red-500":"border-gray-300"}`,placeholder:"Security deposit amount",min:"0"}),d.securityDeposit&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.securityDeposit})]}),l.propertyMode==="room"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Rooms *"}),s.jsx("input",{type:"number",min:"1",max:"6",value:l.numberOfRooms,onChange:ge=>v(ge.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.numberOfRooms?"border-red-500":"border-gray-300"}`,placeholder:"Enter number of rooms (max 6)"}),d.numberOfRooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.numberOfRooms})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{value:l.description,onChange:ge=>ee("description",ge.target.value),rows:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe your property, its features, and what makes it special..."}),d.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.description})]})]})]}),m&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(Pr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Room Details"})]}),s.jsx("div",{className:"space-y-4",children:l.rooms.map((ge,Be)=>s.jsxs("div",{className:"border border-red-200 rounded-md p-3 sm:p-4 shadow-sm hover:shadow-md transition-all bg-red-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 rounded-md px-3 py-2 border border-red-200 bg-red-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-700 flex items-center justify-center font-bold",children:ge.roomNumber}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 tracking-wide",children:["Room ",ge.roomNumber]}),s.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-1.5",children:[ge.roomType&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:ge.roomType}),ge.roomSize&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:[ge.roomSize," sq ft"]}),ge.occupancy&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:[ge.occupancy," pax"]}),ge.rent&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-green-50 text-green-700 border border-green-200",children:["",ge.rent]})]})]})]}),s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-[11px] font-medium bg-red-50 text-red-700 border border-red-200",children:"Room Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 items-start",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type *"}),s.jsxs(Y2,{value:ge.roomType,onValueChange:Ne=>b(Be,"roomType",Ne),children:[s.jsx(Ty,{className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_type`]?"border-red-500":"border-gray-300"}`,children:s.jsx(X2,{placeholder:"Select room type"})}),s.jsxs(Oy,{position:"popper",children:[s.jsx(xa,{value:"Single",children:"Single"}),s.jsx(xa,{value:"Double",children:"Double"}),s.jsx(xa,{value:"Triple",children:"Triple"}),s.jsx(xa,{value:"Quad",children:"Quad"}),s.jsx(xa,{value:"Master",children:"Master"}),s.jsx(xa,{value:"Studio",children:"Studio"})]})]}),d[`room_${Be}_type`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_type`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Size (sq ft) *"}),s.jsx("input",{type:"number",min:"50",value:ge.roomSize,onChange:Ne=>b(Be,"roomSize",Ne.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_size`]?"border-red-500":"border-gray-300"}`,placeholder:"Enter room size"}),d[`room_${Be}_size`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_size`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bed Type *"}),s.jsxs(Y2,{value:ge.bedType,onValueChange:Ne=>b(Be,"bedType",Ne),children:[s.jsx(Ty,{className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_bed`]?"border-red-500":"border-gray-300"}`,children:s.jsx(X2,{placeholder:"Select bed type"})}),s.jsxs(Oy,{position:"popper",children:[s.jsx(xa,{value:"Single Bed",children:"Single Bed"}),s.jsx(xa,{value:"Double Bed",children:"Double Bed"}),s.jsx(xa,{value:"Queen Bed",children:"Queen Bed"}),s.jsx(xa,{value:"King Bed",children:"King Bed"}),s.jsx(xa,{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx(xa,{value:"No Bed",children:"No Bed"})]})]}),d[`room_${Be}_bed`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_bed`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Occupancy *"}),s.jsx("input",{type:"number",min:"1",max:"10",value:ge.occupancy,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-50 text-gray-700 cursor-not-allowed border-gray-300",placeholder:"Auto-set based on room type"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Automatically set based on room type"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Rent () *"}),s.jsx("input",{type:"number",min:"0",value:ge.rent,onChange:Ne=>b(Be,"rent",Ne.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_rent`]?"border-red-500":"border-gray-300"}`,placeholder:"Enter monthly rent"}),d[`room_${Be}_rent`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_rent`]})]}),s.jsxs("div",{className:"md:mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attached Bathroom"}),s.jsxs("div",{className:"flex items-center h-10 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>w(Be,"attachedBathroom",!ge.amenities.attachedBathroom),className:`relative inline-flex items-center h-9 w-16 rounded-full transition-colors border ${ge.amenities.attachedBathroom?"bg-green-500 border-green-500":"bg-gray-200 border-gray-300"}`,title:"Toggle attached bathroom","aria-pressed":ge.amenities.attachedBathroom,children:[s.jsx("span",{className:`absolute left-1 top-1 h-7 w-7 rounded-full bg-white shadow transition-transform ${ge.amenities.attachedBathroom?"translate-x-7":"translate-x-0"}`}),s.jsx("span",{className:"sr-only",children:"Attached bathroom toggle"})]}),s.jsx("span",{className:`text-xs font-semibold ${ge.amenities.attachedBathroom?"text-green-700":"text-gray-600"}`,children:ge.amenities.attachedBathroom?"YES":"NO"})]})]}),s.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Description"}),s.jsx("textarea",{value:ge.description,onChange:Ne=>b(Be,"description",Ne.target.value),rows:5,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent border-gray-300 h-36",placeholder:"Describe this room's features..."})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image *"}),ge.roomImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:ge.roomImage.preview,alt:ge.roomImage.name,className:"w-full max-w-[220px] h-36 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>N(Be,"roomImage"),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(or,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-36 border-2 border-dashed rounded-lg cursor-pointer ${d[`room_${Be}_roomImage`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Upload Room Image"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ne=>j(Be,"roomImage",Ne)})]}),d[`room_${Be}_roomImage`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d[`room_${Be}_roomImage`]})]}),s.jsx("div",{className:"flex flex-col",children:ge.amenities.attachedBathroom&&s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image (for attached bathroom) *"}),ge.toiletImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:ge.toiletImage.preview,alt:ge.toiletImage.name,className:"w-full max-w-[220px] h-36 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>N(Be,"toiletImage"),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(or,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-36 border-2 border-dashed rounded-lg cursor-pointer ${d[`room_${Be}_toiletImage`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Upload Toilet Image"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ne=>j(Be,"toiletImage",Ne)})]}),d[`room_${Be}_toiletImage`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d[`room_${Be}_toiletImage`]})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-3 items-center",children:Object.entries(ge.amenities).filter(([Ne])=>Ne!=="attachedBathroom").map(([Ne,ke])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:ke,onChange:Me=>w(Be,Ne,Me.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-gray-700 capitalize",children:Ne.replace(/([A-Z])/g," $1").trim()})]},Ne))})]})]})]},Be))})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(wr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Address Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search PG/Property via Google Maps"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:F,onChange:ge=>E(ge.target.value),onFocus:()=>k.length>0&&Q(!0),onKeyDown:pe,placeholder:"Start typing address, area, landmark...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),Y&&s.jsxs("div",{ref:te,className:"absolute z-40 left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-xl max-h-80 overflow-auto",children:[k.length===0&&s.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No results"}),k.map((ge,Be)=>s.jsxs("button",{type:"button","data-idx":Be,onMouseEnter:()=>W(Be),onMouseLeave:()=>W(-1),onClick:()=>he(ge),className:`w-full text-left px-4 py-3 text-sm transition-colors ${Be===U?"bg-red-50":"hover:bg-gray-50"}`,children:[s.jsx("div",{className:"text-gray-700 leading-snug line-clamp-2",children:ge.display_name||ge.name||""}),ge.type&&s.jsx("div",{className:"text-xs text-gray-500 mt-0.5 capitalize",children:ge.type})]},`${ge.place_id}-${Be}`)),s.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-[11px] text-gray-500",children:"Powered by OpenStreetMap"})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pin PG Location"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>T(!0),className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Open Map"}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Lat: ",l.address.latitude||""," | Lng: ",l.address.longitude||""]}),s.jsx("button",{type:"button",onClick:oe,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 text-xs",children:"Copy Coords"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",value:l.address.street,onChange:ge=>ee("address.street",ge.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.street"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter street address"}),d["address.street"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.street"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:l.address.city,onChange:ge=>ee("address.city",ge.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.city"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter city"}),d["address.city"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.city"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",value:l.address.state,onChange:ge=>ee("address.state",ge.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.state"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter state"}),d["address.state"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.state"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),s.jsx("input",{type:"text",value:l.address.pincode,onChange:ge=>ee("address.pincode",ge.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.pincode"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter pincode"}),d["address.pincode"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.pincode"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:l.address.landmark,onChange:ge=>ee("address.landmark",ge.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Near landmark (optional)"})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(rm,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Amenities"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[["parking4w","Parking (4 wheeler)"],["parking2w","Parking (2 wheeler)"],["kitchen","Kitchen"],["powerBackup","Power Backup"]].map(([ge,Be])=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:!!l.amenities[ge],onChange:()=>fe(ge),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:Be})]},ge))})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(rr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Rules and Policies"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:Object.entries(l.rules).map(([ge,Be])=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Be,onChange:()=>ue(ge),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[ge.replace(/([A-Z])/g," $1").trim()," Allowed"]})]},ge))})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(es,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Property Images"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{key:"front",label:"Front"},{key:"back",label:"Back"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"}].filter(({key:ge})=>ge!=="kitchen"||l.amenities.kitchen).map(({key:ge,label:Be})=>s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:[Be," ",ge!=="kitchen"||l.amenities.kitchen?"*":""]}),l.requiredImages[ge]?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:l.requiredImages[ge].preview,alt:l.requiredImages[ge].name,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>ne(ge),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(or,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${d[`requiredImages.${ge}`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsxs("div",{className:"text-xs text-gray-500 text-center px-2",children:["Upload ",Be]}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ne=>ve(ge,Ne)})]}),d[`requiredImages.${ge}`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d[`requiredImages.${ge}`]})]},ge))}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(ad,{className:"w-8 h-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:V,className:"hidden"})]})}),s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Toilet Outside the Room"}),s.jsxs("button",{type:"button",onClick:()=>c(ge=>({...ge,toiletOutside:!ge.toiletOutside})),className:`relative inline-flex items-center h-7 w-14 rounded-full transition-colors border ${l.toiletOutside?"bg-blue-500 border-blue-500":"bg-gray-200 border-gray-300"}`,"aria-pressed":l.toiletOutside,children:[s.jsx("span",{className:`absolute left-1 top-1 h-5 w-5 rounded-full bg-white shadow transition-transform ${l.toiletOutside?"translate-x-7":"translate-x-0"}`}),s.jsx("span",{className:"sr-only",children:"Toilet outside toggle"})]}),s.jsx("span",{className:`text-xs font-semibold ${l.toiletOutside?"text-blue-700":"text-gray-600"}`,children:l.toiletOutside?"YES":"NO"})]})}),l.toiletOutside&&s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outside Toilet Image *"}),l.outsideToiletImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:l.outsideToiletImage.preview,alt:l.outsideToiletImage.name,className:"w-44 h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>c(ge=>({...ge,outsideToiletImage:null})),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(or,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex flex-col items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${d.outsideToiletImage?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx(ad,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload or drag and drop"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Se})]}),d.outsideToiletImage&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d.outsideToiletImage})]}),l.images.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:l.images.map((ge,Be)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:ge.preview,alt:ge.name,className:"w-full h-24 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>xe(Be),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(or,{className:"w-3 h-3"})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 truncate",children:ge.name})]},Be))})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.65},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(Ss,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Property Documents"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Upload the latest Land Tax Receipt (PDF). No other property documents are accepted."}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Latest Land Tax Receipt (PDF) *"}),l.landTaxReceipt&&s.jsx("button",{type:"button",onClick:ze,className:"text-xs text-red-600 hover:underline",children:"Remove"})]}),l.landTaxReceipt?s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded bg-red-100",children:s.jsx(Ss,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.landTaxReceipt.name}),s.jsx("div",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsx("button",{type:"button",onClick:ze,className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"Change"})]}):s.jsxs("label",{className:`flex flex-col items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${d.landTaxReceipt?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx(Ss,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload latest Land Tax Receipt (PDF only)"}),s.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:Le})]}),d.landTaxReceipt&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d.landTaxReceipt})]})})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/owner-dashboard"),className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:A,className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center space-x-2",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Adding Property..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Bv,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Property"})]})})]})]})]}),P&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Select Location"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:ie,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 text-xs",children:[B?"Satellite":"Street"," view"]}),s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]})]}),s.jsx("div",{style:{width:"100%",height:"420px"},children:s.jsxs(Gh,{center:J,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[s.jsx(Yh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:B?"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},B?"satellite":"street"),J&&J[0]&&J[1]&&s.jsx(qh,{position:J,draggable:!0,eventHandlers:{dragend:K}}),s.jsx(AEe,{center:J}),s.jsx(hEe,{onLocationSelect:Z})]})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 text-xs text-gray-600 flex items-center justify-between",children:[s.jsxs("div",{children:["Lat: ",l.address.latitude||""," | Lng: ",l.address.longitude||""]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 text-xs",children:"Use This Location"}),s.jsx("button",{type:"button",onClick:oe,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100",children:"Copy Coords"}),s.jsx("span",{className:"text-gray-500 hidden sm:inline",children:"Drag marker or click map to set exact point"})]})]})]})})]})},mEe=()=>{const e=Ar();return s.jsx(Nn,{children:s.jsx("div",{className:"max-w-3xl mx-auto p-4",children:s.jsxs("div",{className:"bg-white border border-yellow-200 rounded-xl p-6",children:[s.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Government ID verification required"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"To add a property, please upload and verify your Government ID."}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{type:"button",onClick:()=>e("/owner-settings#kyc"),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",children:"Go to Upload Documents"})})]})})})};var pEe=Array.isArray,ro=pEe,gEe=typeof tx=="object"&&tx&&tx.Object===Object&&tx,hZ=gEe,xEe=hZ,yEe=typeof self=="object"&&self&&self.Object===Object&&self,vEe=xEe||yEe||Function("return this")(),gd=vEe,bEe=gd,wEe=bEe.Symbol,Wv=wEe,wM=Wv,AZ=Object.prototype,jEe=AZ.hasOwnProperty,NEe=AZ.toString,V0=wM?wM.toStringTag:void 0;function _Ee(e){var t=jEe.call(e,V0),r=e[V0];try{e[V0]=void 0;var n=!0}catch{}var i=NEe.call(e);return n&&(t?e[V0]=r:delete e[V0]),i}var CEe=_Ee,BEe=Object.prototype,SEe=BEe.toString;function EEe(e){return SEe.call(e)}var kEe=EEe,jM=Wv,PEe=CEe,IEe=kEe,TEe="[object Null]",OEe="[object Undefined]",NM=jM?jM.toStringTag:void 0;function LEe(e){return e==null?e===void 0?OEe:TEe:NM&&NM in Object(e)?PEe(e):IEe(e)}var _u=LEe;function FEe(e){return e!=null&&typeof e=="object"}var Cu=FEe,UEe=_u,REe=Cu,DEe="[object Symbol]";function MEe(e){return typeof e=="symbol"||REe(e)&&UEe(e)==DEe}var Zg=MEe,QEe=ro,$Ee=Zg,HEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zEe=/^\w*$/;function VEe(e,t){if(QEe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||$Ee(e)?!0:zEe.test(e)||!HEe.test(e)||t!=null&&e in Object(t)}var dI=VEe;function KEe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var cA=KEe;const Jg=Zr(cA);var WEe=_u,GEe=cA,qEe="[object AsyncFunction]",YEe="[object Function]",XEe="[object GeneratorFunction]",ZEe="[object Proxy]";function JEe(e){if(!GEe(e))return!1;var t=WEe(e);return t==YEe||t==XEe||t==qEe||t==ZEe}var uI=JEe;const ar=Zr(uI);var eke=gd,tke=eke["__core-js_shared__"],rke=tke,kB=rke,_M=function(){var e=/[^.]+$/.exec(kB&&kB.keys&&kB.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nke(e){return!!_M&&_M in e}var ske=nke,ike=Function.prototype,ake=ike.toString;function oke(e){if(e!=null){try{return ake.call(e)}catch{}try{return e+""}catch{}}return""}var fZ=oke,lke=uI,cke=ske,dke=cA,uke=fZ,hke=/[\\^$.*+?()[\]{}|]/g,Ake=/^\[object .+?Constructor\]$/,fke=Function.prototype,mke=Object.prototype,pke=fke.toString,gke=mke.hasOwnProperty,xke=RegExp("^"+pke.call(gke).replace(hke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yke(e){if(!dke(e)||cke(e))return!1;var t=lke(e)?xke:Ake;return t.test(uke(e))}var vke=yke;function bke(e,t){return e==null?void 0:e[t]}var wke=bke,jke=vke,Nke=wke;function _ke(e,t){var r=Nke(e,t);return jke(r)?r:void 0}var om=_ke,Cke=om,Bke=Cke(Object,"create"),m5=Bke,CM=m5;function Ske(){this.__data__=CM?CM(null):{},this.size=0}var Eke=Ske;function kke(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Pke=kke,Ike=m5,Tke="__lodash_hash_undefined__",Oke=Object.prototype,Lke=Oke.hasOwnProperty;function Fke(e){var t=this.__data__;if(Ike){var r=t[e];return r===Tke?void 0:r}return Lke.call(t,e)?t[e]:void 0}var Uke=Fke,Rke=m5,Dke=Object.prototype,Mke=Dke.hasOwnProperty;function Qke(e){var t=this.__data__;return Rke?t[e]!==void 0:Mke.call(t,e)}var $ke=Qke,Hke=m5,zke="__lodash_hash_undefined__";function Vke(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Hke&&t===void 0?zke:t,this}var Kke=Vke,Wke=Eke,Gke=Pke,qke=Uke,Yke=$ke,Xke=Kke;function e0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}e0.prototype.clear=Wke;e0.prototype.delete=Gke;e0.prototype.get=qke;e0.prototype.has=Yke;e0.prototype.set=Xke;var Zke=e0;function Jke(){this.__data__=[],this.size=0}var e3e=Jke;function t3e(e,t){return e===t||e!==e&&t!==t}var hI=t3e,r3e=hI;function n3e(e,t){for(var r=e.length;r--;)if(r3e(e[r][0],t))return r;return-1}var p5=n3e,s3e=p5,i3e=Array.prototype,a3e=i3e.splice;function o3e(e){var t=this.__data__,r=s3e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():a3e.call(t,r,1),--this.size,!0}var l3e=o3e,c3e=p5;function d3e(e){var t=this.__data__,r=c3e(t,e);return r<0?void 0:t[r][1]}var u3e=d3e,h3e=p5;function A3e(e){return h3e(this.__data__,e)>-1}var f3e=A3e,m3e=p5;function p3e(e,t){var r=this.__data__,n=m3e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var g3e=p3e,x3e=e3e,y3e=l3e,v3e=u3e,b3e=f3e,w3e=g3e;function t0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}t0.prototype.clear=x3e;t0.prototype.delete=y3e;t0.prototype.get=v3e;t0.prototype.has=b3e;t0.prototype.set=w3e;var g5=t0,j3e=om,N3e=gd,_3e=j3e(N3e,"Map"),AI=_3e,BM=Zke,C3e=g5,B3e=AI;function S3e(){this.size=0,this.__data__={hash:new BM,map:new(B3e||C3e),string:new BM}}var E3e=S3e;function k3e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var P3e=k3e,I3e=P3e;function T3e(e,t){var r=e.__data__;return I3e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var x5=T3e,O3e=x5;function L3e(e){var t=O3e(this,e).delete(e);return this.size-=t?1:0,t}var F3e=L3e,U3e=x5;function R3e(e){return U3e(this,e).get(e)}var D3e=R3e,M3e=x5;function Q3e(e){return M3e(this,e).has(e)}var $3e=Q3e,H3e=x5;function z3e(e,t){var r=H3e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var V3e=z3e,K3e=E3e,W3e=F3e,G3e=D3e,q3e=$3e,Y3e=V3e;function r0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}r0.prototype.clear=K3e;r0.prototype.delete=W3e;r0.prototype.get=G3e;r0.prototype.has=q3e;r0.prototype.set=Y3e;var fI=r0,mZ=fI,X3e="Expected a function";function mI(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(X3e);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(mI.Cache||mZ),r}mI.Cache=mZ;var pZ=mI;const Z3e=Zr(pZ);var J3e=pZ,ePe=500;function tPe(e){var t=J3e(e,function(n){return r.size===ePe&&r.clear(),n}),r=t.cache;return t}var rPe=tPe,nPe=rPe,sPe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iPe=/\\(\\)?/g,aPe=nPe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(sPe,function(r,n,i,a){t.push(i?a.replace(iPe,"$1"):n||r)}),t}),oPe=aPe;function lPe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var pI=lPe,SM=Wv,cPe=pI,dPe=ro,uPe=Zg,EM=SM?SM.prototype:void 0,kM=EM?EM.toString:void 0;function gZ(e){if(typeof e=="string")return e;if(dPe(e))return cPe(e,gZ)+"";if(uPe(e))return kM?kM.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var hPe=gZ,APe=hPe;function fPe(e){return e==null?"":APe(e)}var xZ=fPe,mPe=ro,pPe=dI,gPe=oPe,xPe=xZ;function yPe(e,t){return mPe(e)?e:pPe(e,t)?[e]:gPe(xPe(e))}var yZ=yPe,vPe=Zg;function bPe(e){if(typeof e=="string"||vPe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var y5=bPe,wPe=yZ,jPe=y5;function NPe(e,t){t=wPe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[jPe(t[r++])];return r&&r==n?e:void 0}var gI=NPe,_Pe=gI;function CPe(e,t,r){var n=e==null?void 0:_Pe(e,t);return n===void 0?r:n}var vZ=CPe;const ko=Zr(vZ);function BPe(e){return e==null}var SPe=BPe;const fr=Zr(SPe);var EPe=_u,kPe=ro,PPe=Cu,IPe="[object String]";function TPe(e){return typeof e=="string"||!kPe(e)&&PPe(e)&&EPe(e)==IPe}var OPe=TPe;const zf=Zr(OPe);var bZ={exports:{}},yn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI=Symbol.for("react.element"),yI=Symbol.for("react.portal"),v5=Symbol.for("react.fragment"),b5=Symbol.for("react.strict_mode"),w5=Symbol.for("react.profiler"),j5=Symbol.for("react.provider"),N5=Symbol.for("react.context"),LPe=Symbol.for("react.server_context"),_5=Symbol.for("react.forward_ref"),C5=Symbol.for("react.suspense"),B5=Symbol.for("react.suspense_list"),S5=Symbol.for("react.memo"),E5=Symbol.for("react.lazy"),FPe=Symbol.for("react.offscreen"),wZ;wZ=Symbol.for("react.module.reference");function bl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xI:switch(e=e.type,e){case v5:case w5:case b5:case C5:case B5:return e;default:switch(e=e&&e.$$typeof,e){case LPe:case N5:case _5:case E5:case S5:case j5:return e;default:return t}}case yI:return t}}}yn.ContextConsumer=N5;yn.ContextProvider=j5;yn.Element=xI;yn.ForwardRef=_5;yn.Fragment=v5;yn.Lazy=E5;yn.Memo=S5;yn.Portal=yI;yn.Profiler=w5;yn.StrictMode=b5;yn.Suspense=C5;yn.SuspenseList=B5;yn.isAsyncMode=function(){return!1};yn.isConcurrentMode=function(){return!1};yn.isContextConsumer=function(e){return bl(e)===N5};yn.isContextProvider=function(e){return bl(e)===j5};yn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xI};yn.isForwardRef=function(e){return bl(e)===_5};yn.isFragment=function(e){return bl(e)===v5};yn.isLazy=function(e){return bl(e)===E5};yn.isMemo=function(e){return bl(e)===S5};yn.isPortal=function(e){return bl(e)===yI};yn.isProfiler=function(e){return bl(e)===w5};yn.isStrictMode=function(e){return bl(e)===b5};yn.isSuspense=function(e){return bl(e)===C5};yn.isSuspenseList=function(e){return bl(e)===B5};yn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===v5||e===w5||e===b5||e===C5||e===B5||e===FPe||typeof e=="object"&&e!==null&&(e.$$typeof===E5||e.$$typeof===S5||e.$$typeof===j5||e.$$typeof===N5||e.$$typeof===_5||e.$$typeof===wZ||e.getModuleId!==void 0)};yn.typeOf=bl;bZ.exports=yn;var UPe=bZ.exports,RPe=_u,DPe=Cu,MPe="[object Number]";function QPe(e){return typeof e=="number"||DPe(e)&&RPe(e)==MPe}var jZ=QPe;const $Pe=Zr(jZ);var HPe=jZ;function zPe(e){return HPe(e)&&e!=+e}var VPe=zPe;const n0=Zr(VPe);var ba=function(t){return t===0?0:t>0?1:-1},rf=function(t){return zf(t)&&t.indexOf("%")===t.length-1},vt=function(t){return $Pe(t)&&!n0(t)},KPe=function(t){return fr(t)},mi=function(t){return vt(t)||zf(t)},WPe=0,lm=function(t){var r=++WPe;return"".concat(t||"").concat(r)},wa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!vt(t)&&!zf(t))return n;var a;if(rf(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return n0(a)&&(a=n),i&&a>r&&(a=r),a},ph=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},GPe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Ai=function(t,r){return vt(t)&&vt(r)?function(n){return t+n*(r-t)}:function(){return r}};function Z2(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ko(n,t))===r})}var qPe=function(t,r){return vt(t)&&vt(r)?t-r:zf(t)&&zf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Mp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function RE(e){"@babel/helpers - typeof";return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RE(e)}var YPe=["viewBox","children"],XPe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PM=["points","pathLength"],PB={svg:YPe,polygon:PM,polyline:PM},vI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],J2=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!Jg(n))return null;var i={};return Object.keys(n).forEach(function(a){vI.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},ZPe=function(t,r,n){return function(i){return t(r,n,i),null}},Vf=function(t,r,n){if(!Jg(t)||RE(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];vI.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=ZPe(o,r,n))}),i},JPe=["children"],e6e=["children"];function IM(e,t){if(e==null)return{};var r=t6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DE(e){"@babel/helpers - typeof";return DE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DE(e)}var TM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},su=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},OM=null,IB=null,bI=function e(t){if(t===OM&&Array.isArray(IB))return IB;var r=[];return _.Children.forEach(t,function(n){fr(n)||(UPe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),IB=r,OM=t,r};function Po(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return su(i)}):n=[su(t)],bI(e).forEach(function(i){var a=ko(i,"type.displayName")||ko(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function bo(e,t){var r=Po(e,t);return r&&r[0]}var LM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!vt(n)||n<=0||!vt(i)||i<=0)},r6e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],n6e=function(t){return t&&t.type&&zf(t.type)&&r6e.indexOf(t.type)>=0},NZ=function(t){return t&&DE(t)==="object"&&"clipDot"in t},s6e=function(t,r,n,i){var a,o=(a=PB==null?void 0:PB[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ar(t)&&(i&&o.includes(r)||XPe.includes(r))||n&&vI.includes(r)},Xt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(_.isValidElement(t)&&(i=t.props),!Jg(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;s6e((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},ME=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return FM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!FM(a,o))return!1}return!0},FM=function(t,r){if(fr(t)&&fr(r))return!0;if(!fr(t)&&!fr(r)){var n=t.props||{},i=n.children,a=IM(n,JPe),o=r.props||{},l=o.children,c=IM(o,e6e);return i&&l?Mp(a,c)&&ME(i,l):!i&&!l?Mp(a,c):!1}return!1},UM=function(t,r){var n=[],i={};return bI(t).forEach(function(a,o){if(n6e(a))n.push(a);else if(a){var l=su(a.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!i[l])){var A=d(a,l,o);n.push(A),i[l]=!0}}}),n},i6e=function(t){var r=t&&t.type;return r&&TM[r]?TM[r]:null},a6e=function(t,r){return bI(r).indexOf(t)},o6e=["children","width","height","viewBox","className","style","title","desc"];function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QE.apply(this,arguments)}function l6e(e,t){if(e==null)return{};var r=c6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $E(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,d=l6e(e,o6e),u=i||{width:r,height:n,x:0,y:0},A=gr("recharts-surface",a);return _e.createElement("svg",QE({},Xt(d,!0,"svg"),{className:A,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),_e.createElement("title",null,l),_e.createElement("desc",null,c),t)}var d6e=["children","className"];function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HE.apply(this,arguments)}function u6e(e,t){if(e==null)return{};var r=h6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ir=_e.forwardRef(function(e,t){var r=e.children,n=e.className,i=u6e(e,d6e),a=gr("recharts-layer",n);return _e.createElement("g",HE({className:a},Xt(i,!0),{ref:t}),r)}),oc=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function A6e(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var f6e=A6e,m6e=f6e;function p6e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:m6e(e,t,r)}var g6e=p6e,x6e="\\ud800-\\udfff",y6e="\\u0300-\\u036f",v6e="\\ufe20-\\ufe2f",b6e="\\u20d0-\\u20ff",w6e=y6e+v6e+b6e,j6e="\\ufe0e\\ufe0f",N6e="\\u200d",_6e=RegExp("["+N6e+x6e+w6e+j6e+"]");function C6e(e){return _6e.test(e)}var _Z=C6e;function B6e(e){return e.split("")}var S6e=B6e,CZ="\\ud800-\\udfff",E6e="\\u0300-\\u036f",k6e="\\ufe20-\\ufe2f",P6e="\\u20d0-\\u20ff",I6e=E6e+k6e+P6e,T6e="\\ufe0e\\ufe0f",O6e="["+CZ+"]",zE="["+I6e+"]",VE="\\ud83c[\\udffb-\\udfff]",L6e="(?:"+zE+"|"+VE+")",BZ="[^"+CZ+"]",SZ="(?:\\ud83c[\\udde6-\\uddff]){2}",EZ="[\\ud800-\\udbff][\\udc00-\\udfff]",F6e="\\u200d",kZ=L6e+"?",PZ="["+T6e+"]?",U6e="(?:"+F6e+"(?:"+[BZ,SZ,EZ].join("|")+")"+PZ+kZ+")*",R6e=PZ+kZ+U6e,D6e="(?:"+[BZ+zE+"?",zE,SZ,EZ,O6e].join("|")+")",M6e=RegExp(VE+"(?="+VE+")|"+D6e+R6e,"g");function Q6e(e){return e.match(M6e)||[]}var $6e=Q6e,H6e=S6e,z6e=_Z,V6e=$6e;function K6e(e){return z6e(e)?V6e(e):H6e(e)}var W6e=K6e,G6e=g6e,q6e=_Z,Y6e=W6e,X6e=xZ;function Z6e(e){return function(t){t=X6e(t);var r=q6e(t)?Y6e(t):void 0,n=r?r[0]:t.charAt(0),i=r?G6e(r,1).join(""):t.slice(1);return n[e]()+i}}var J6e=Z6e,eIe=J6e,tIe=eIe("toUpperCase"),rIe=tIe;const k5=Zr(rIe);function Un(e){return function(){return e}}const IZ=Math.cos,ej=Math.sin,jc=Math.sqrt,tj=Math.PI,P5=2*tj,KE=Math.PI,WE=2*KE,MA=1e-6,nIe=WE-MA;function TZ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function sIe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return TZ;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class iIe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?TZ:sIe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,d=i-r,u=o-t,A=l-r,f=u*u+A*A;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>MA)if(!(Math.abs(A*c-d*u)>MA)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=i-l,p=c*c+d*d,v=m*m+x*x,y=Math.sqrt(p),b=Math.sqrt(f),w=a*Math.tan((KE-Math.acos((p+f-v)/(2*y*b)))/2),j=w/b,N=w/y;Math.abs(j-1)>MA&&this._append`L${t+j*u},${r+j*A}`,this._append`A${a},${a},0,0,${+(A*m>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=t+l,u=r+c,A=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>MA||Math.abs(this._y1-u)>MA)&&this._append`L${d},${u}`,n&&(f<0&&(f=f%WE+WE),f>nIe?this._append`A${n},${n},0,1,${A},${t-l},${r-c}A${n},${n},0,1,${A},${this._x1=d},${this._y1=u}`:f>MA&&this._append`A${n},${n},0,${+(f>=KE)},${A},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function wI(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new iIe(t)}function jI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OZ(e){this._context=e}OZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function I5(e){return new OZ(e)}function LZ(e){return e[0]}function FZ(e){return e[1]}function UZ(e,t){var r=Un(!0),n=null,i=I5,a=null,o=wI(l);e=typeof e=="function"?e:e===void 0?LZ:Un(e),t=typeof t=="function"?t:t===void 0?FZ:Un(t);function l(c){var d,u=(c=jI(c)).length,A,f=!1,m;for(n==null&&(a=i(m=o())),d=0;d<=u;++d)!(d<u&&r(A=c[d],d,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(A,d,c),+t(A,d,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Un(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Un(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Un(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function Pw(e,t,r){var n=null,i=Un(!0),a=null,o=I5,l=null,c=wI(d);e=typeof e=="function"?e:e===void 0?LZ:Un(+e),t=typeof t=="function"?t:Un(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?FZ:Un(+r);function d(A){var f,m,x,p=(A=jI(A)).length,v,y=!1,b,w=new Array(p),j=new Array(p);for(a==null&&(l=o(b=c())),f=0;f<=p;++f){if(!(f<p&&i(v=A[f],f,A))===y)if(y=!y)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=f-1;x>=m;--x)l.point(w[x],j[x]);l.lineEnd(),l.areaEnd()}y&&(w[f]=+e(v,f,A),j[f]=+t(v,f,A),l.point(n?+n(v,f,A):w[f],r?+r(v,f,A):j[f]))}if(b)return l=null,b+""||null}function u(){return UZ().defined(i).curve(o).context(a)}return d.x=function(A){return arguments.length?(e=typeof A=="function"?A:Un(+A),n=null,d):e},d.x0=function(A){return arguments.length?(e=typeof A=="function"?A:Un(+A),d):e},d.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Un(+A),d):n},d.y=function(A){return arguments.length?(t=typeof A=="function"?A:Un(+A),r=null,d):t},d.y0=function(A){return arguments.length?(t=typeof A=="function"?A:Un(+A),d):t},d.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:Un(+A),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(A){return arguments.length?(i=typeof A=="function"?A:Un(!!A),d):i},d.curve=function(A){return arguments.length?(o=A,a!=null&&(l=o(a)),d):o},d.context=function(A){return arguments.length?(A==null?a=l=null:l=o(a=A),d):a},d}class RZ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function aIe(e){return new RZ(e,!0)}function oIe(e){return new RZ(e,!1)}const NI={draw(e,t){const r=jc(t/tj);e.moveTo(r,0),e.arc(0,0,r,0,P5)}},lIe={draw(e,t){const r=jc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},DZ=jc(1/3),cIe=DZ*2,dIe={draw(e,t){const r=jc(t/cIe),n=r*DZ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uIe={draw(e,t){const r=jc(t),n=-r/2;e.rect(n,n,r,r)}},hIe=.8908130915292852,MZ=ej(tj/10)/ej(7*tj/10),AIe=ej(P5/10)*MZ,fIe=-IZ(P5/10)*MZ,mIe={draw(e,t){const r=jc(t*hIe),n=AIe*r,i=fIe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=P5*a/5,l=IZ(o),c=ej(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},TB=jc(3),pIe={draw(e,t){const r=-jc(t/(TB*3));e.moveTo(0,r*2),e.lineTo(-TB*r,-r),e.lineTo(TB*r,-r),e.closePath()}},Xo=-.5,Zo=jc(3)/2,GE=1/jc(12),gIe=(GE/2+1)*3,xIe={draw(e,t){const r=jc(t/gIe),n=r/2,i=r*GE,a=n,o=r*GE+r,l=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Xo*n-Zo*i,Zo*n+Xo*i),e.lineTo(Xo*a-Zo*o,Zo*a+Xo*o),e.lineTo(Xo*l-Zo*c,Zo*l+Xo*c),e.lineTo(Xo*n+Zo*i,Xo*i-Zo*n),e.lineTo(Xo*a+Zo*o,Xo*o-Zo*a),e.lineTo(Xo*l+Zo*c,Xo*c-Zo*l),e.closePath()}};function yIe(e,t){let r=null,n=wI(i);e=typeof e=="function"?e:Un(e||NI),t=typeof t=="function"?t:Un(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Un(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Un(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function rj(){}function nj(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QZ(e){this._context=e}QZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vIe(e){return new QZ(e)}function $Z(e){this._context=e}$Z.prototype={areaStart:rj,areaEnd:rj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bIe(e){return new $Z(e)}function HZ(e){this._context=e}HZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wIe(e){return new HZ(e)}function zZ(e){this._context=e}zZ.prototype={areaStart:rj,areaEnd:rj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jIe(e){return new zZ(e)}function RM(e){return e<0?-1:1}function DM(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(RM(a)+RM(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function MM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function OB(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function sj(e){this._context=e}sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:OB(this,this._t0,MM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,OB(this,MM(this,r=DM(this,e,t)),r);break;default:OB(this,this._t0,r=DM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function VZ(e){this._context=new KZ(e)}(VZ.prototype=Object.create(sj.prototype)).point=function(e,t){sj.prototype.point.call(this,t,e)};function KZ(e){this._context=e}KZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function NIe(e){return new sj(e)}function _Ie(e){return new VZ(e)}function WZ(e){this._context=e}WZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=QM(e),i=QM(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function QM(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function CIe(e){return new WZ(e)}function T5(e,t){this._context=e,this._t=t}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function BIe(e){return new T5(e,.5)}function SIe(e){return new T5(e,0)}function EIe(e){return new T5(e,1)}function lg(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,l=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function qE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function kIe(e,t){return e[t]}function PIe(e){const t=[];return t.key=e,t}function IIe(){var e=Un([]),t=qE,r=lg,n=kIe;function i(a){var o=Array.from(e.apply(this,arguments),PIe),l,c=o.length,d=-1,u;for(const A of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(A,o[l].key,d,a)]).data=A;for(l=0,u=jI(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Un(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Un(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?qE:typeof a=="function"?a:Un(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??lg,i):r},i}function TIe(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}lg(e,t)}}function OIe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}lg(e,t)}}function LIe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],A=u[n][1]||0,f=u[n-1][1]||0,m=(A-f)/2,x=0;x<l;++x){var p=e[t[x]],v=p[n][1]||0,y=p[n-1][1]||0;m+=v-y}c+=A,d+=m*A}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,lg(e,t)}}function Ly(e){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ly(e)}var FIe=["type","size","sizeType"];function YE(){return YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YE.apply(this,arguments)}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){UIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UIe(e,t,r){return t=RIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RIe(e){var t=DIe(e,"string");return Ly(t)=="symbol"?t:t+""}function DIe(e,t){if(Ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MIe(e,t){if(e==null)return{};var r=QIe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GZ={symbolCircle:NI,symbolCross:lIe,symbolDiamond:dIe,symbolSquare:uIe,symbolStar:mIe,symbolTriangle:pIe,symbolWye:xIe},$Ie=Math.PI/180,HIe=function(t){var r="symbol".concat(k5(t));return GZ[r]||NI},zIe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*$Ie;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},VIe=function(t,r){GZ["symbol".concat(k5(t))]=r},_I=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=MIe(t,FIe),d=HM(HM({},c),{},{type:n,size:a,sizeType:l}),u=function(){var v=HIe(n),y=yIe().type(v).size(zIe(a,l,n));return y()},A=d.className,f=d.cx,m=d.cy,x=Xt(d,!0);return f===+f&&m===+m&&a===+a?_e.createElement("path",YE({},x,{className:gr("recharts-symbols",A),transform:"translate(".concat(f,", ").concat(m,")"),d:u()})):null};_I.registerSymbol=VIe;function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XE.apply(this,arguments)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){Fy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YZ(n.key),n)}}function qIe(e,t,r){return t&&GIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YIe(e,t,r){return t=ij(t),XIe(e,qZ()?Reflect.construct(t,r||[],ij(e).constructor):t.apply(e,r))}function XIe(e,t){if(t&&(cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZIe(e)}function ZIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qZ=function(){return!!e})()}function ij(e){return ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ij(e)}function JIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}function ZE(e,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZE(e,t)}function Fy(e,t,r){return t=YZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=eTe(e,"string");return cg(t)=="symbol"?t:t+""}function eTe(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jo=32,CI=function(e){function t(){return WIe(this,t),YIe(this,t,arguments)}return JIe(t,e),qIe(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Jo/2,o=Jo/6,l=Jo/3,c=n.inactive?i:n.color;if(n.type==="plainline")return _e.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Jo,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return _e.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Jo,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return _e.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Jo/8,"h").concat(Jo,"v").concat(Jo*3/4,"h").concat(-Jo,"z"),className:"recharts-legend-icon"});if(_e.isValidElement(n.legendIcon)){var d=KIe({},n);return delete d.legendIcon,_e.cloneElement(n.legendIcon,d)}return _e.createElement(_I,{fill:c,cx:a,cy:a,size:Jo,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,u={x:0,y:0,width:Jo,height:Jo},A={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,x){var p=m.formatter||c,v=gr(Fy(Fy({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=ar(m.value)?null:m.value;oc(!ar(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?d:m.color;return _e.createElement("li",XE({className:v,style:A,key:"legend-item-".concat(x)},Vf(n.props,m,x)),_e.createElement($E,{width:o,height:o,viewBox:u,style:f},n.renderIcon(m)),_e.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,m,x):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return _e.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(_.PureComponent);Fy(CI,"displayName","Legend");Fy(CI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tTe=g5;function rTe(){this.__data__=new tTe,this.size=0}var nTe=rTe;function sTe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var iTe=sTe;function aTe(e){return this.__data__.get(e)}var oTe=aTe;function lTe(e){return this.__data__.has(e)}var cTe=lTe,dTe=g5,uTe=AI,hTe=fI,ATe=200;function fTe(e,t){var r=this.__data__;if(r instanceof dTe){var n=r.__data__;if(!uTe||n.length<ATe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new hTe(n)}return r.set(e,t),this.size=r.size,this}var mTe=fTe,pTe=g5,gTe=nTe,xTe=iTe,yTe=oTe,vTe=cTe,bTe=mTe;function s0(e){var t=this.__data__=new pTe(e);this.size=t.size}s0.prototype.clear=gTe;s0.prototype.delete=xTe;s0.prototype.get=yTe;s0.prototype.has=vTe;s0.prototype.set=bTe;var XZ=s0,wTe="__lodash_hash_undefined__";function jTe(e){return this.__data__.set(e,wTe),this}var NTe=jTe;function _Te(e){return this.__data__.has(e)}var CTe=_Te,BTe=fI,STe=NTe,ETe=CTe;function aj(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new BTe;++t<r;)this.add(e[t])}aj.prototype.add=aj.prototype.push=STe;aj.prototype.has=ETe;var ZZ=aj;function kTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var JZ=kTe;function PTe(e,t){return e.has(t)}var eJ=PTe,ITe=ZZ,TTe=JZ,OTe=eJ,LTe=1,FTe=2;function UTe(e,t,r,n,i,a){var o=r&LTe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var A=-1,f=!0,m=r&FTe?new ITe:void 0;for(a.set(e,t),a.set(t,e);++A<l;){var x=e[A],p=t[A];if(n)var v=o?n(p,x,A,t,e,a):n(x,p,A,e,t,a);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!TTe(t,function(y,b){if(!OTe(m,b)&&(x===y||i(x,y,r,n,a)))return m.push(b)})){f=!1;break}}else if(!(x===p||i(x,p,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var tJ=UTe,RTe=gd,DTe=RTe.Uint8Array,MTe=DTe;function QTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var $Te=QTe;function HTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var BI=HTe,VM=Wv,KM=MTe,zTe=hI,VTe=tJ,KTe=$Te,WTe=BI,GTe=1,qTe=2,YTe="[object Boolean]",XTe="[object Date]",ZTe="[object Error]",JTe="[object Map]",eOe="[object Number]",tOe="[object RegExp]",rOe="[object Set]",nOe="[object String]",sOe="[object Symbol]",iOe="[object ArrayBuffer]",aOe="[object DataView]",WM=VM?VM.prototype:void 0,LB=WM?WM.valueOf:void 0;function oOe(e,t,r,n,i,a,o){switch(r){case aOe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case iOe:return!(e.byteLength!=t.byteLength||!a(new KM(e),new KM(t)));case YTe:case XTe:case eOe:return zTe(+e,+t);case ZTe:return e.name==t.name&&e.message==t.message;case tOe:case nOe:return e==t+"";case JTe:var l=KTe;case rOe:var c=n&GTe;if(l||(l=WTe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=qTe,o.set(e,t);var u=VTe(l(e),l(t),n,i,a,o);return o.delete(e),u;case sOe:if(LB)return LB.call(e)==LB.call(t)}return!1}var lOe=oOe;function cOe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var rJ=cOe,dOe=rJ,uOe=ro;function hOe(e,t,r){var n=t(e);return uOe(e)?n:dOe(n,r(e))}var AOe=hOe;function fOe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var mOe=fOe;function pOe(){return[]}var gOe=pOe,xOe=mOe,yOe=gOe,vOe=Object.prototype,bOe=vOe.propertyIsEnumerable,GM=Object.getOwnPropertySymbols,wOe=GM?function(e){return e==null?[]:(e=Object(e),xOe(GM(e),function(t){return bOe.call(e,t)}))}:yOe,jOe=wOe;function NOe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _Oe=NOe,COe=_u,BOe=Cu,SOe="[object Arguments]";function EOe(e){return BOe(e)&&COe(e)==SOe}var kOe=EOe,qM=kOe,POe=Cu,nJ=Object.prototype,IOe=nJ.hasOwnProperty,TOe=nJ.propertyIsEnumerable,OOe=qM(function(){return arguments}())?qM:function(e){return POe(e)&&IOe.call(e,"callee")&&!TOe.call(e,"callee")},SI=OOe,oj={exports:{}};function LOe(){return!1}var FOe=LOe;oj.exports;(function(e,t){var r=gd,n=FOe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(oj,oj.exports);var sJ=oj.exports,UOe=9007199254740991,ROe=/^(?:0|[1-9]\d*)$/;function DOe(e,t){var r=typeof e;return t=t??UOe,!!t&&(r=="number"||r!="symbol"&&ROe.test(e))&&e>-1&&e%1==0&&e<t}var EI=DOe,MOe=9007199254740991;function QOe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MOe}var kI=QOe,$Oe=_u,HOe=kI,zOe=Cu,VOe="[object Arguments]",KOe="[object Array]",WOe="[object Boolean]",GOe="[object Date]",qOe="[object Error]",YOe="[object Function]",XOe="[object Map]",ZOe="[object Number]",JOe="[object Object]",eLe="[object RegExp]",tLe="[object Set]",rLe="[object String]",nLe="[object WeakMap]",sLe="[object ArrayBuffer]",iLe="[object DataView]",aLe="[object Float32Array]",oLe="[object Float64Array]",lLe="[object Int8Array]",cLe="[object Int16Array]",dLe="[object Int32Array]",uLe="[object Uint8Array]",hLe="[object Uint8ClampedArray]",ALe="[object Uint16Array]",fLe="[object Uint32Array]",Wn={};Wn[aLe]=Wn[oLe]=Wn[lLe]=Wn[cLe]=Wn[dLe]=Wn[uLe]=Wn[hLe]=Wn[ALe]=Wn[fLe]=!0;Wn[VOe]=Wn[KOe]=Wn[sLe]=Wn[WOe]=Wn[iLe]=Wn[GOe]=Wn[qOe]=Wn[YOe]=Wn[XOe]=Wn[ZOe]=Wn[JOe]=Wn[eLe]=Wn[tLe]=Wn[rLe]=Wn[nLe]=!1;function mLe(e){return zOe(e)&&HOe(e.length)&&!!Wn[$Oe(e)]}var pLe=mLe;function gLe(e){return function(t){return e(t)}}var iJ=gLe,lj={exports:{}};lj.exports;(function(e,t){var r=hZ,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(lj,lj.exports);var xLe=lj.exports,yLe=pLe,vLe=iJ,YM=xLe,XM=YM&&YM.isTypedArray,bLe=XM?vLe(XM):yLe,aJ=bLe,wLe=_Oe,jLe=SI,NLe=ro,_Le=sJ,CLe=EI,BLe=aJ,SLe=Object.prototype,ELe=SLe.hasOwnProperty;function kLe(e,t){var r=NLe(e),n=!r&&jLe(e),i=!r&&!n&&_Le(e),a=!r&&!n&&!i&&BLe(e),o=r||n||i||a,l=o?wLe(e.length,String):[],c=l.length;for(var d in e)(t||ELe.call(e,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||CLe(d,c)))&&l.push(d);return l}var PLe=kLe,ILe=Object.prototype;function TLe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ILe;return e===r}var OLe=TLe;function LLe(e,t){return function(r){return e(t(r))}}var oJ=LLe,FLe=oJ,ULe=FLe(Object.keys,Object),RLe=ULe,DLe=OLe,MLe=RLe,QLe=Object.prototype,$Le=QLe.hasOwnProperty;function HLe(e){if(!DLe(e))return MLe(e);var t=[];for(var r in Object(e))$Le.call(e,r)&&r!="constructor"&&t.push(r);return t}var zLe=HLe,VLe=uI,KLe=kI;function WLe(e){return e!=null&&KLe(e.length)&&!VLe(e)}var Gv=WLe,GLe=PLe,qLe=zLe,YLe=Gv;function XLe(e){return YLe(e)?GLe(e):qLe(e)}var O5=XLe,ZLe=AOe,JLe=jOe,eFe=O5;function tFe(e){return ZLe(e,eFe,JLe)}var rFe=tFe,ZM=rFe,nFe=1,sFe=Object.prototype,iFe=sFe.hasOwnProperty;function aFe(e,t,r,n,i,a){var o=r&nFe,l=ZM(e),c=l.length,d=ZM(t),u=d.length;if(c!=u&&!o)return!1;for(var A=c;A--;){var f=l[A];if(!(o?f in t:iFe.call(t,f)))return!1}var m=a.get(e),x=a.get(t);if(m&&x)return m==t&&x==e;var p=!0;a.set(e,t),a.set(t,e);for(var v=o;++A<c;){f=l[A];var y=e[f],b=t[f];if(n)var w=o?n(b,y,f,t,e,a):n(y,b,f,e,t,a);if(!(w===void 0?y===b||i(y,b,r,n,a):w)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(p=!1)}return a.delete(e),a.delete(t),p}var oFe=aFe,lFe=om,cFe=gd,dFe=lFe(cFe,"DataView"),uFe=dFe,hFe=om,AFe=gd,fFe=hFe(AFe,"Promise"),mFe=fFe,pFe=om,gFe=gd,xFe=pFe(gFe,"Set"),lJ=xFe,yFe=om,vFe=gd,bFe=yFe(vFe,"WeakMap"),wFe=bFe,JE=uFe,ek=AI,tk=mFe,rk=lJ,nk=wFe,cJ=_u,i0=fZ,JM="[object Map]",jFe="[object Object]",e8="[object Promise]",t8="[object Set]",r8="[object WeakMap]",n8="[object DataView]",NFe=i0(JE),_Fe=i0(ek),CFe=i0(tk),BFe=i0(rk),SFe=i0(nk),QA=cJ;(JE&&QA(new JE(new ArrayBuffer(1)))!=n8||ek&&QA(new ek)!=JM||tk&&QA(tk.resolve())!=e8||rk&&QA(new rk)!=t8||nk&&QA(new nk)!=r8)&&(QA=function(e){var t=cJ(e),r=t==jFe?e.constructor:void 0,n=r?i0(r):"";if(n)switch(n){case NFe:return n8;case _Fe:return JM;case CFe:return e8;case BFe:return t8;case SFe:return r8}return t});var EFe=QA,FB=XZ,kFe=tJ,PFe=lOe,IFe=oFe,s8=EFe,i8=ro,a8=sJ,TFe=aJ,OFe=1,o8="[object Arguments]",l8="[object Array]",Iw="[object Object]",LFe=Object.prototype,c8=LFe.hasOwnProperty;function FFe(e,t,r,n,i,a){var o=i8(e),l=i8(t),c=o?l8:s8(e),d=l?l8:s8(t);c=c==o8?Iw:c,d=d==o8?Iw:d;var u=c==Iw,A=d==Iw,f=c==d;if(f&&a8(e)){if(!a8(t))return!1;o=!0,u=!1}if(f&&!u)return a||(a=new FB),o||TFe(e)?kFe(e,t,r,n,i,a):PFe(e,t,c,r,n,i,a);if(!(r&OFe)){var m=u&&c8.call(e,"__wrapped__"),x=A&&c8.call(t,"__wrapped__");if(m||x){var p=m?e.value():e,v=x?t.value():t;return a||(a=new FB),i(p,v,r,n,a)}}return f?(a||(a=new FB),IFe(e,t,r,n,i,a)):!1}var UFe=FFe,RFe=UFe,d8=Cu;function dJ(e,t,r,n,i){return e===t?!0:e==null||t==null||!d8(e)&&!d8(t)?e!==e&&t!==t:RFe(e,t,r,n,dJ,i)}var PI=dJ,DFe=XZ,MFe=PI,QFe=1,$Fe=2;function HFe(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var A=new DFe;if(n)var f=n(d,u,c,e,t,A);if(!(f===void 0?MFe(u,d,QFe|$Fe,n,A):f))return!1}}return!0}var zFe=HFe,VFe=cA;function KFe(e){return e===e&&!VFe(e)}var uJ=KFe,WFe=uJ,GFe=O5;function qFe(e){for(var t=GFe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,WFe(i)]}return t}var YFe=qFe;function XFe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var hJ=XFe,ZFe=zFe,JFe=YFe,eUe=hJ;function tUe(e){var t=JFe(e);return t.length==1&&t[0][2]?eUe(t[0][0],t[0][1]):function(r){return r===e||ZFe(r,e,t)}}var rUe=tUe;function nUe(e,t){return e!=null&&t in Object(e)}var sUe=nUe,iUe=yZ,aUe=SI,oUe=ro,lUe=EI,cUe=kI,dUe=y5;function uUe(e,t,r){t=iUe(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=dUe(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&cUe(i)&&lUe(o,i)&&(oUe(e)||aUe(e)))}var hUe=uUe,AUe=sUe,fUe=hUe;function mUe(e,t){return e!=null&&fUe(e,t,AUe)}var pUe=mUe,gUe=PI,xUe=vZ,yUe=pUe,vUe=dI,bUe=uJ,wUe=hJ,jUe=y5,NUe=1,_Ue=2;function CUe(e,t){return vUe(e)&&bUe(t)?wUe(jUe(e),t):function(r){var n=xUe(r,e);return n===void 0&&n===t?yUe(r,e):gUe(t,n,NUe|_Ue)}}var BUe=CUe;function SUe(e){return e}var a0=SUe;function EUe(e){return function(t){return t==null?void 0:t[e]}}var kUe=EUe,PUe=gI;function IUe(e){return function(t){return PUe(t,e)}}var TUe=IUe,OUe=kUe,LUe=TUe,FUe=dI,UUe=y5;function RUe(e){return FUe(e)?OUe(UUe(e)):LUe(e)}var DUe=RUe,MUe=rUe,QUe=BUe,$Ue=a0,HUe=ro,zUe=DUe;function VUe(e){return typeof e=="function"?e:e==null?$Ue:typeof e=="object"?HUe(e)?QUe(e[0],e[1]):MUe(e):zUe(e)}var xd=VUe;function KUe(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var AJ=KUe;function WUe(e){return e!==e}var GUe=WUe;function qUe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var YUe=qUe,XUe=AJ,ZUe=GUe,JUe=YUe;function eRe(e,t,r){return t===t?JUe(e,t,r):XUe(e,ZUe,r)}var tRe=eRe,rRe=tRe;function nRe(e,t){var r=e==null?0:e.length;return!!r&&rRe(e,t,0)>-1}var sRe=nRe;function iRe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var aRe=iRe;function oRe(){}var lRe=oRe,UB=lJ,cRe=lRe,dRe=BI,uRe=1/0,hRe=UB&&1/dRe(new UB([,-0]))[1]==uRe?function(e){return new UB(e)}:cRe,ARe=hRe,fRe=ZZ,mRe=sRe,pRe=aRe,gRe=eJ,xRe=ARe,yRe=BI,vRe=200;function bRe(e,t,r){var n=-1,i=mRe,a=e.length,o=!0,l=[],c=l;if(r)o=!1,i=pRe;else if(a>=vRe){var d=t?null:xRe(e);if(d)return yRe(d);o=!1,i=gRe,c=new fRe}else c=t?[]:l;e:for(;++n<a;){var u=e[n],A=t?t(u):u;if(u=r||u!==0?u:0,o&&A===A){for(var f=c.length;f--;)if(c[f]===A)continue e;t&&c.push(A),l.push(u)}else i(c,A,r)||(c!==l&&c.push(A),l.push(u))}return l}var wRe=bRe,jRe=xd,NRe=wRe;function _Re(e,t){return e&&e.length?NRe(e,jRe(t)):[]}var CRe=_Re;const u8=Zr(CRe);function fJ(e,t,r){return t===!0?u8(e,r):ar(t)?u8(e,t):e}function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}var BRe=["ref"];function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(n){L5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pJ(n.key),n)}}function ERe(e,t,r){return t&&A8(e.prototype,t),r&&A8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kRe(e,t,r){return t=cj(t),PRe(e,mJ()?Reflect.construct(t,r||[],cj(e).constructor):t.apply(e,r))}function PRe(e,t){if(t&&(dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IRe(e)}function IRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!e})()}function cj(e){return cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cj(e)}function TRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sk(e,t)}function sk(e,t){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sk(e,t)}function L5(e,t,r){return t=pJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pJ(e){var t=ORe(e,"string");return dg(t)=="symbol"?t:t+""}function ORe(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LRe(e,t){if(e==null)return{};var r=FRe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function URe(e){return e.value}function RRe(e,t){if(_e.isValidElement(e))return _e.cloneElement(e,t);if(typeof e=="function")return _e.createElement(e,t);t.ref;var r=LRe(t,BRe);return _e.createElement(CI,r)}var f8=1,Mh=function(e){function t(){var r;SRe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=kRe(this,t,[].concat(i)),L5(r,"lastBoundingBox",{width:-1,height:-1}),r}return TRe(t,e),ERe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>f8||Math.abs(i.height-this.lastBoundingBox.height)>f8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Td({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,u=i.chartHeight,A,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();A={left:((d||0)-m.width)/2}}else A=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();f={top:((u||0)-x.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Td(Td({},A),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,u=i.payload,A=Td(Td({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return _e.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:function(m){n.wrapperNode=m}},RRe(a,Td(Td({},this.props),{},{payload:fJ(u,d,URe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Td(Td({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&vt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(_.PureComponent);L5(Mh,"displayName","Legend");L5(Mh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var m8=Wv,DRe=SI,MRe=ro,p8=m8?m8.isConcatSpreadable:void 0;function QRe(e){return MRe(e)||DRe(e)||!!(p8&&e&&e[p8])}var $Re=QRe,HRe=rJ,zRe=$Re;function gJ(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=zRe),i||(i=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?gJ(l,t-1,r,n,i):HRe(i,l):n||(i[i.length]=l)}return i}var xJ=gJ;function VRe(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(a[c],c,a)===!1)break}return t}}var KRe=VRe,WRe=KRe,GRe=WRe(),qRe=GRe,YRe=qRe,XRe=O5;function ZRe(e,t){return e&&YRe(e,t,XRe)}var yJ=ZRe,JRe=Gv;function eDe(e,t){return function(r,n){if(r==null)return r;if(!JRe(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var tDe=eDe,rDe=yJ,nDe=tDe,sDe=nDe(rDe),II=sDe,iDe=II,aDe=Gv;function oDe(e,t){var r=-1,n=aDe(e)?Array(e.length):[];return iDe(e,function(i,a,o){n[++r]=t(i,a,o)}),n}var vJ=oDe;function lDe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var cDe=lDe,g8=Zg;function dDe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=g8(e),o=t!==void 0,l=t===null,c=t===t,d=g8(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!d&&e<t||d&&r&&i&&!n&&!a||l&&r&&i||!o&&i||!c)return-1}return 0}var uDe=dDe,hDe=uDe;function ADe(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,l=r.length;++n<o;){var c=hDe(i[n],a[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return e.index-t.index}var fDe=ADe,RB=pI,mDe=gI,pDe=xd,gDe=vJ,xDe=cDe,yDe=iJ,vDe=fDe,bDe=a0,wDe=ro;function jDe(e,t,r){t.length?t=RB(t,function(a){return wDe(a)?function(o){return mDe(o,a.length===1?a[0]:a)}:a}):t=[bDe];var n=-1;t=RB(t,yDe(pDe));var i=gDe(e,function(a,o,l){var c=RB(t,function(d){return d(a)});return{criteria:c,index:++n,value:a}});return xDe(i,function(a,o){return vDe(a,o,r)})}var NDe=jDe;function _De(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var CDe=_De,BDe=CDe,x8=Math.max;function SDe(e,t,r){return t=x8(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=x8(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),BDe(e,this,l)}}var EDe=SDe;function kDe(e){return function(){return e}}var PDe=kDe,IDe=om,TDe=function(){try{var e=IDe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bJ=TDe,ODe=PDe,y8=bJ,LDe=a0,FDe=y8?function(e,t){return y8(e,"toString",{configurable:!0,enumerable:!1,value:ODe(t),writable:!0})}:LDe,UDe=FDe,RDe=800,DDe=16,MDe=Date.now;function QDe(e){var t=0,r=0;return function(){var n=MDe(),i=DDe-(n-r);if(r=n,i>0){if(++t>=RDe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var $De=QDe,HDe=UDe,zDe=$De,VDe=zDe(HDe),KDe=VDe,WDe=a0,GDe=EDe,qDe=KDe;function YDe(e,t){return qDe(GDe(e,t,WDe),e+"")}var XDe=YDe,ZDe=hI,JDe=Gv,eMe=EI,tMe=cA;function rMe(e,t,r){if(!tMe(r))return!1;var n=typeof t;return(n=="number"?JDe(r)&&eMe(t,r.length):n=="string"&&t in r)?ZDe(r[t],e):!1}var F5=rMe,nMe=xJ,sMe=NDe,iMe=XDe,v8=F5,aMe=iMe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&v8(e,t[0],t[1])?t=[]:r>2&&v8(t[0],t[1],t[2])&&(t=[t[0]]),sMe(e,nMe(t,1),[])}),oMe=aMe;const TI=Zr(oMe);function Uy(e){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ik.apply(this,arguments)}function lMe(e,t){return hMe(e)||uMe(e,t)||dMe(e,t)||cMe()}function cMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dMe(e,t){if(e){if(typeof e=="string")return b8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b8(e,t)}}function b8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function hMe(e){if(Array.isArray(e))return e}function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(n){AMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AMe(e,t,r){return t=fMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fMe(e){var t=mMe(e,"string");return Uy(t)=="symbol"?t:t+""}function mMe(e,t){if(Uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pMe(e){return Array.isArray(e)&&mi(e[0])&&mi(e[1])?e.join(" ~ "):e}var gMe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,A=t.formatter,f=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,p=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(u&&u.length){var k={padding:0,margin:0},M=(f?TI(u,f):u).map(function(U,W){if(U.type==="none")return null;var Y=DB({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),Q=U.formatter||A||pMe,z=U.value,te=U.name,re=z,J=te;if(Q&&re!=null&&J!=null){var H=Q(z,te,U,W,u);if(Array.isArray(H)){var Z=lMe(H,2);re=Z[0],J=Z[1]}else re=H}return _e.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:Y},mi(J)?_e.createElement("span",{className:"recharts-tooltip-item-name"},J):null,mi(J)?_e.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,_e.createElement("span",{className:"recharts-tooltip-item-value"},re),_e.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return _e.createElement("ul",{className:"recharts-tooltip-item-list",style:k},M)}return null},j=DB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=DB({margin:0},d),B=!fr(p),I=B?p:"",P=gr("recharts-default-tooltip",m),T=gr("recharts-tooltip-label",x);B&&v&&u!==void 0&&u!==null&&(I=v(p,u));var F=b?{role:"status","aria-live":"assertive"}:{};return _e.createElement("div",ik({className:P,style:j},F),_e.createElement("p",{className:T,style:N},_e.isValidElement(I)?I:"".concat(I)),w())};function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function Tw(e,t,r){return t=xMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xMe(e){var t=yMe(e,"string");return Ry(t)=="symbol"?t:t+""}function yMe(e,t){if(Ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K0="recharts-tooltip-wrapper",vMe={visibility:"hidden"};function bMe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return gr(K0,Tw(Tw(Tw(Tw({},"".concat(K0,"-right"),vt(r)&&t&&vt(t.x)&&r>=t.x),"".concat(K0,"-left"),vt(r)&&t&&vt(t.x)&&r<t.x),"".concat(K0,"-bottom"),vt(n)&&t&&vt(t.y)&&n>=t.y),"".concat(K0,"-top"),vt(n)&&t&&vt(t.y)&&n<t.y))}function j8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&vt(a[n]))return a[n];var u=r[n]-l-i,A=r[n]+i;if(t[n])return o[n]?u:A;if(o[n]){var f=u,m=c[n];return f<m?Math.max(A,c[n]):Math.max(u,c[n])}var x=A+l,p=c[n]+d;return x>p?Math.max(u,c[n]):Math.max(A,c[n])}function wMe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jMe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,A;return o.height>0&&o.width>0&&r?(u=j8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),A=j8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=wMe({translateX:u,translateY:A,useTranslate3d:l})):d=vMe,{cssProperties:d,cssClasses:bMe({translateX:u,translateY:A,coordinate:r})}}function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){ok(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jJ(n.key),n)}}function CMe(e,t,r){return t&&_Me(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BMe(e,t,r){return t=dj(t),SMe(e,wJ()?Reflect.construct(t,r||[],dj(e).constructor):t.apply(e,r))}function SMe(e,t){if(t&&(ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EMe(e)}function EMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wJ=function(){return!!e})()}function dj(e){return dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dj(e)}function kMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ak(e,t)}function ok(e,t,r){return t=jJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jJ(e){var t=PMe(e,"string");return ug(t)=="symbol"?t:t+""}function PMe(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var C8=1,IMe=function(e){function t(){var r;NMe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=BMe(this,t,[].concat(i)),ok(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ok(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return kMe(t,e),CMe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>C8||Math.abs(n.height-this.state.lastBoundingBox.height)>C8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,u=i.coordinate,A=i.hasPayload,f=i.isAnimationActive,m=i.offset,x=i.position,p=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,w=jMe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),j=w.cssClasses,N=w.cssProperties,B=_8(_8({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&A?"visible":"hidden",position:"absolute",top:0,left:0},b);return _e.createElement("div",{tabIndex:-1,className:j,style:B,ref:function(P){n.wrapperNode=P}},d)}}])}(_.PureComponent),TMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dA={isSsr:TMe()};function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){OI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_J(n.key),n)}}function FMe(e,t,r){return t&&LMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UMe(e,t,r){return t=uj(t),RMe(e,NJ()?Reflect.construct(t,r||[],uj(e).constructor):t.apply(e,r))}function RMe(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DMe(e)}function DMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NJ=function(){return!!e})()}function uj(e){return uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uj(e)}function MMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lk(e,t)}function lk(e,t){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lk(e,t)}function OI(e,t,r){return t=_J(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _J(e){var t=QMe(e,"string");return hg(t)=="symbol"?t:t+""}function QMe(e,t){if(hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $Me(e){return e.dataKey}function HMe(e,t){return _e.isValidElement(e)?_e.cloneElement(e,t):typeof e=="function"?_e.createElement(e,t):_e.createElement(gMe,t)}var na=function(e){function t(){return OMe(this,t),UMe(this,t,arguments)}return MMe(t,e),FMe(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,u=i.coordinate,A=i.filterNull,f=i.isAnimationActive,m=i.offset,x=i.payload,p=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,j=i.wrapperStyle,N=x??[];A&&N.length&&(N=fJ(x.filter(function(I){return I.value!=null&&(I.hide!==!0||n.props.includeHidden)}),p,$Me));var B=N.length>0;return _e.createElement(IMe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:u,hasPayload:B,offset:m,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:j},HMe(d,S8(S8({},this.props),{},{payload:N})))}}])}(_.PureComponent);OI(na,"displayName","Tooltip");OI(na,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dA.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zMe=gd,VMe=function(){return zMe.Date.now()},KMe=VMe,WMe=/\s/;function GMe(e){for(var t=e.length;t--&&WMe.test(e.charAt(t)););return t}var qMe=GMe,YMe=qMe,XMe=/^\s+/;function ZMe(e){return e&&e.slice(0,YMe(e)+1).replace(XMe,"")}var JMe=ZMe,e8e=JMe,E8=cA,t8e=Zg,k8=NaN,r8e=/^[-+]0x[0-9a-f]+$/i,n8e=/^0b[01]+$/i,s8e=/^0o[0-7]+$/i,i8e=parseInt;function a8e(e){if(typeof e=="number")return e;if(t8e(e))return k8;if(E8(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=E8(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e8e(e);var r=n8e.test(e);return r||s8e.test(e)?i8e(e.slice(2),r?2:8):r8e.test(e)?k8:+e}var CJ=a8e,o8e=cA,MB=KMe,P8=CJ,l8e="Expected a function",c8e=Math.max,d8e=Math.min;function u8e(e,t,r){var n,i,a,o,l,c,d=0,u=!1,A=!1,f=!0;if(typeof e!="function")throw new TypeError(l8e);t=P8(t)||0,o8e(r)&&(u=!!r.leading,A="maxWait"in r,a=A?c8e(P8(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function m(B){var I=n,P=i;return n=i=void 0,d=B,o=e.apply(P,I),o}function x(B){return d=B,l=setTimeout(y,t),u?m(B):o}function p(B){var I=B-c,P=B-d,T=t-I;return A?d8e(T,a-P):T}function v(B){var I=B-c,P=B-d;return c===void 0||I>=t||I<0||A&&P>=a}function y(){var B=MB();if(v(B))return b(B);l=setTimeout(y,p(B))}function b(B){return l=void 0,f&&n?m(B):(n=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,n=c=i=l=void 0}function j(){return l===void 0?o:b(MB())}function N(){var B=MB(),I=v(B);if(n=arguments,i=this,c=B,I){if(l===void 0)return x(c);if(A)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return N.cancel=w,N.flush=j,N}var h8e=u8e,A8e=h8e,f8e=cA,m8e="Expected a function";function p8e(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(m8e);return f8e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),A8e(e,t,{leading:n,maxWait:t,trailing:i})}var g8e=p8e;const BJ=Zr(g8e);function Dy(e){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(n){x8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x8e(e,t,r){return t=y8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8e(e){var t=v8e(e,"string");return Dy(t)=="symbol"?t:t+""}function v8e(e,t){if(Dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b8e(e,t){return _8e(e)||N8e(e,t)||j8e(e,t)||w8e()}function w8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8e(e,t){if(e){if(typeof e=="string")return T8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T8(e,t)}}function T8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function _8e(e){if(Array.isArray(e))return e}var nf=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,A=e.minHeight,f=e.maxHeight,m=e.children,x=e.debounce,p=x===void 0?0:x,v=e.id,y=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,N=_.useRef(null),B=_.useRef();B.current=b,_.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var I=_.useState({containerWidth:i.width,containerHeight:i.height}),P=b8e(I,2),T=P[0],F=P[1],E=_.useCallback(function(M,U){F(function(W){var Y=Math.round(M),Q=Math.round(U);return W.containerWidth===Y&&W.containerHeight===Q?W:{containerWidth:Y,containerHeight:Q}})},[]);_.useEffect(function(){var M=function(te){var re,J=te[0].contentRect,H=J.width,Z=J.height;E(H,Z),(re=B.current)===null||re===void 0||re.call(B,H,Z)};p>0&&(M=BJ(M,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(M),W=N.current.getBoundingClientRect(),Y=W.width,Q=W.height;return E(Y,Q),U.observe(N.current),function(){U.disconnect()}},[E,p]);var k=_.useMemo(function(){var M=T.containerWidth,U=T.containerHeight;if(M<0||U<0)return null;oc(rf(o)||rf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),oc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=rf(o)?M:o,Y=rf(c)?U:c;r&&r>0&&(W?Y=W/r:Y&&(W=Y*r),f&&Y>f&&(Y=f)),oc(W>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,Y,o,c,u,A,r);var Q=!Array.isArray(m)&&su(m.type).endsWith("Chart");return _e.Children.map(m,function(z){return _e.isValidElement(z)?_.cloneElement(z,Ow({width:W,height:Y},Q?{style:Ow({height:"100%",width:"100%",maxHeight:Y,maxWidth:W},z.props.style)}:{})):z})},[r,m,c,f,A,u,T,o]);return _e.createElement("div",{id:v?"".concat(v):void 0,className:gr("recharts-responsive-container",y),style:Ow(Ow({},j),{},{width:o,height:c,minWidth:u,minHeight:A,maxHeight:f}),ref:N},k)}),U5=function(t){return null};U5.displayName="Cell";function My(e){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(e)}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){C8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C8e(e,t,r){return t=B8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8e(e){var t=S8e(e,"string");return My(t)=="symbol"?t:t+""}function S8e(e,t){if(My(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dm={widthCache:{},cacheCount:0},E8e=2e3,k8e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},L8="recharts_measurement_span";function P8e(e){var t=ck({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Kx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||dA.isSsr)return{width:0,height:0};var n=P8e(r),i=JSON.stringify({text:t,copyStyle:n});if(Dm.widthCache[i])return Dm.widthCache[i];try{var a=document.getElementById(L8);a||(a=document.createElement("span"),a.setAttribute("id",L8),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=ck(ck({},k8e),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Dm.widthCache[i]=c,++Dm.cacheCount>E8e&&(Dm.cacheCount=0,Dm.widthCache={}),c}catch{return{width:0,height:0}}},I8e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}function hj(e,t){return F8e(e)||L8e(e,t)||O8e(e,t)||T8e()}function T8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8e(e,t){if(e){if(typeof e=="string")return F8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F8(e,t)}}function F8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function F8e(e){if(Array.isArray(e))return e}function U8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D8e(n.key),n)}}function R8e(e,t,r){return t&&U8(e.prototype,t),r&&U8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function D8e(e){var t=M8e(e,"string");return Qy(t)=="symbol"?t:t+""}function M8e(e,t){if(Qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var R8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Q8e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$8e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},H8e=Object.keys(SJ),Ap="NaN";function z8e(e,t){return e*SJ[t]}var Lw=function(){function e(t,r){U8e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Q8e.test(r)&&(this.num=NaN,this.unit=""),H8e.includes(r)&&(this.num=z8e(t,r),this.unit="px")}return R8e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=$8e.exec(r))!==null&&n!==void 0?n:[],a=hj(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function EJ(e){if(e.includes(Ap))return Ap;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=R8.exec(t))!==null&&r!==void 0?r:[],i=hj(n,4),a=i[1],o=i[2],l=i[3],c=Lw.parse(a??""),d=Lw.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Ap;t=t.replace(R8,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var A,f=(A=D8.exec(t))!==null&&A!==void 0?A:[],m=hj(f,4),x=m[1],p=m[2],v=m[3],y=Lw.parse(x??""),b=Lw.parse(v??""),w=p==="+"?y.add(b):y.subtract(b);if(w.isNaN())return Ap;t=t.replace(D8,w.toString())}return t}var M8=/\(([^()]*)\)/;function V8e(e){for(var t=e;t.includes("(");){var r=M8.exec(t),n=hj(r,2),i=n[1];t=t.replace(M8,EJ(i))}return t}function K8e(e){var t=e.replace(/\s+/g,"");return t=V8e(t),t=EJ(t),t}function W8e(e){try{return K8e(e)}catch{return Ap}}function QB(e){var t=W8e(e.slice(5,-1));return t===Ap?"":t}var G8e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],q8e=["dx","dy","angle","className","breakAll"];function dk(){return dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dk.apply(this,arguments)}function Q8(e,t){if(e==null)return{};var r=Y8e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $8(e,t){return e7e(e)||J8e(e,t)||Z8e(e,t)||X8e()}function X8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z8e(e,t){if(e){if(typeof e=="string")return H8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H8(e,t)}}function H8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function e7e(e){if(Array.isArray(e))return e}var kJ=/[ \f\n\r\t\v\u2028\u2029]+/,PJ=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];fr(r)||(n?a=r.toString().split(""):a=r.toString().split(kJ));var o=a.map(function(c){return{word:c,width:Kx(c,i).width}}),l=n?0:Kx("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},t7e=function(t,r,n,i,a){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=vt(o),A=l,f=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(Y,Q){var z=Q.word,te=Q.width,re=Y[Y.length-1];if(re&&(i==null||a||re.width+te+n<Number(i)))re.words.push(z),re.width+=te+n;else{var J={words:[z],width:te};Y.push(J)}return Y},[])},m=f(r),x=function(W){return W.reduce(function(Y,Q){return Y.width>Q.width?Y:Q})};if(!u)return m;for(var p="",v=function(W){var Y=A.slice(0,W),Q=PJ({breakAll:d,style:c,children:Y+p}).wordsWithComputedWidth,z=f(Q),te=z.length>o||x(z).width>Number(i);return[te,z]},y=0,b=A.length-1,w=0,j;y<=b&&w<=A.length-1;){var N=Math.floor((y+b)/2),B=N-1,I=v(B),P=$8(I,2),T=P[0],F=P[1],E=v(N),k=$8(E,1),M=k[0];if(!T&&!M&&(y=N+1),T&&M&&(b=N-1),!T&&M){j=F;break}w++}return j||m},z8=function(t){var r=fr(t)?[]:t.toString().split(kJ);return[{words:r}]},r7e=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!dA.isSsr){var c,d,u=PJ({breakAll:o,children:i,style:a});if(u){var A=u.wordsWithComputedWidth,f=u.spaceWidth;c=A,d=f}else return z8(i);return t7e({breakAll:o,children:i,maxLines:l,style:a},c,d,r,n)}return z8(i)},V8="#808080",Kf=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,A=u===void 0?!1:u,f=t.textAnchor,m=f===void 0?"start":f,x=t.verticalAnchor,p=x===void 0?"end":x,v=t.fill,y=v===void 0?V8:v,b=Q8(t,G8e),w=_.useMemo(function(){return r7e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:A,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,A,b.style,b.width]),j=b.dx,N=b.dy,B=b.angle,I=b.className,P=b.breakAll,T=Q8(b,q8e);if(!mi(n)||!mi(a))return null;var F=n+(vt(j)?j:0),E=a+(vt(N)?N:0),k;switch(p){case"start":k=QB("calc(".concat(d,")"));break;case"middle":k=QB("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:k=QB("calc(".concat(w.length-1," * -").concat(l,")"));break}var M=[];if(A){var U=w[0].width,W=b.width;M.push("scale(".concat((vt(W)?W/U:1)/U,")"))}return B&&M.push("rotate(".concat(B,", ").concat(F,", ").concat(E,")")),M.length&&(T.transform=M.join(" ")),_e.createElement("text",dk({},Xt(T,!0),{x:F,y:E,className:gr("recharts-text",I),textAnchor:m,fill:y.includes("url")?V8:y}),w.map(function(Y,Q){var z=Y.words.join(P?"":" ");return _e.createElement("tspan",{x:F,dy:Q===0?k:l,key:"".concat(z,"-").concat(Q)},z)}))};function Qh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function n7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LI(e){let t,r,n;e.length!==2?(t=Qh,r=(l,c)=>Qh(e(l),c),n=(l,c)=>e(l)-c):(t=e===Qh||e===n7e?e:s7e,r=e,n=e);function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const A=d+u>>>1;r(l[A],c)<0?d=A+1:u=A}while(d<u)}return d}function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const A=d+u>>>1;r(l[A],c)<=0?d=A+1:u=A}while(d<u)}return d}function o(l,c,d=0,u=l.length){const A=i(l,c,d,u-1);return A>d&&n(l[A-1],c)>-n(l[A],c)?A-1:A}return{left:i,center:o,right:a}}function s7e(){return 0}function IJ(e){return e===null?NaN:+e}function*i7e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const a7e=LI(Qh),qv=a7e.right;LI(IJ).center;class K8 extends Map{constructor(t,r=c7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(W8(this,t))}has(t){return super.has(W8(this,t))}set(t,r){return super.set(o7e(this,t),r)}delete(t){return super.delete(l7e(this,t))}}function W8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function o7e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function l7e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function c7e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function d7e(e=Qh){if(e===Qh)return TJ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function TJ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const u7e=Math.sqrt(50),h7e=Math.sqrt(10),A7e=Math.sqrt(2);function Aj(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=u7e?10:a>=h7e?5:a>=A7e?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Aj(e,t,r*2):[l,c,d]}function uk(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Aj(t,e,r):Aj(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function hk(e,t,r){return t=+t,e=+e,r=+r,Aj(e,t,r)[2]}function Ak(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?hk(t,e,r):hk(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function G8(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function q8(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OJ(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?TJ:d7e(i);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),A=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*A*(c-A)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*A/c+f)),x=Math.min(n,Math.floor(t+(c-d)*A/c+f));OJ(e,t,m,x,i)}const a=e[t];let o=r,l=n;for(W0(e,r,t),i(e[n],a)>0&&W0(e,r,n);o<l;){for(W0(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?W0(e,r,l):(++l,W0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function W0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function f7e(e,t,r){if(e=Float64Array.from(i7e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return q8(e);if(t>=1)return G8(e);var n,i=(n-1)*t,a=Math.floor(i),o=G8(OJ(e,a).subarray(0,a+1)),l=q8(e.subarray(a+1));return o+(l-o)*(i-a)}}function m7e(e,t,r=IJ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function p7e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function wl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fk=Symbol("implicit");function FI(){var e=new K8,t=[],r=[],n=fk;function i(a){let o=e.get(a);if(o===void 0){if(n!==fk)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new K8;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return FI(t,r).unknown(n)},wl.apply(i,arguments),i}function $y(){var e=FI().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function A(){var f=t().length,m=i<n,x=m?i:n,p=m?n:i;a=(p-x)/Math.max(1,f-c+d*2),l&&(a=Math.floor(a)),x+=(p-x-a*(f-c))*u,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=p7e(f).map(function(y){return x+a*y});return r(m?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),A()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,A()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,A()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(l=!!f,A()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),A()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),A()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,A()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),A()):u},e.copy=function(){return $y(t(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(u)},wl.apply(A(),arguments)}function LJ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return LJ(t())},e}function Wx(){return LJ($y.apply(null,arguments).paddingInner(1))}function UI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function FJ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Yv(){}var Hy=.7,fj=1/Hy,Qp="\\s*([+-]?\\d+)\\s*",zy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",td="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g7e=/^#([0-9a-f]{3,8})$/,x7e=new RegExp(`^rgb\\(${Qp},${Qp},${Qp}\\)$`),y7e=new RegExp(`^rgb\\(${td},${td},${td}\\)$`),v7e=new RegExp(`^rgba\\(${Qp},${Qp},${Qp},${zy}\\)$`),b7e=new RegExp(`^rgba\\(${td},${td},${td},${zy}\\)$`),w7e=new RegExp(`^hsl\\(${zy},${td},${td}\\)$`),j7e=new RegExp(`^hsla\\(${zy},${td},${td},${zy}\\)$`),Y8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UI(Yv,Vy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:X8,formatHex:X8,formatHex8:N7e,formatHsl:_7e,formatRgb:Z8,toString:Z8});function X8(){return this.rgb().formatHex()}function N7e(){return this.rgb().formatHex8()}function _7e(){return UJ(this).formatHsl()}function Z8(){return this.rgb().formatRgb()}function Vy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=g7e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?J8(t):r===3?new Wa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Fw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Fw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=x7e.exec(e))?new Wa(t[1],t[2],t[3],1):(t=y7e.exec(e))?new Wa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=v7e.exec(e))?Fw(t[1],t[2],t[3],t[4]):(t=b7e.exec(e))?Fw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w7e.exec(e))?r7(t[1],t[2]/100,t[3]/100,1):(t=j7e.exec(e))?r7(t[1],t[2]/100,t[3]/100,t[4]):Y8.hasOwnProperty(e)?J8(Y8[e]):e==="transparent"?new Wa(NaN,NaN,NaN,0):null}function J8(e){return new Wa(e>>16&255,e>>8&255,e&255,1)}function Fw(e,t,r,n){return n<=0&&(e=t=r=NaN),new Wa(e,t,r,n)}function C7e(e){return e instanceof Yv||(e=Vy(e)),e?(e=e.rgb(),new Wa(e.r,e.g,e.b,e.opacity)):new Wa}function mk(e,t,r,n){return arguments.length===1?C7e(e):new Wa(e,t,r,n??1)}function Wa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}UI(Wa,mk,FJ(Yv,{brighter(e){return e=e==null?fj:Math.pow(fj,e),new Wa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hy:Math.pow(Hy,e),new Wa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wa(vf(this.r),vf(this.g),vf(this.b),mj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e7,formatHex:e7,formatHex8:B7e,formatRgb:t7,toString:t7}));function e7(){return`#${sf(this.r)}${sf(this.g)}${sf(this.b)}`}function B7e(){return`#${sf(this.r)}${sf(this.g)}${sf(this.b)}${sf((isNaN(this.opacity)?1:this.opacity)*255)}`}function t7(){const e=mj(this.opacity);return`${e===1?"rgb(":"rgba("}${vf(this.r)}, ${vf(this.g)}, ${vf(this.b)}${e===1?")":`, ${e})`}`}function mj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sf(e){return e=vf(e),(e<16?"0":"")+e.toString(16)}function r7(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new tc(e,t,r,n)}function UJ(e){if(e instanceof tc)return new tc(e.h,e.s,e.l,e.opacity);if(e instanceof Yv||(e=Vy(e)),!e)return new tc;if(e instanceof tc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new tc(o,l,c,e.opacity)}function S7e(e,t,r,n){return arguments.length===1?UJ(e):new tc(e,t,r,n??1)}function tc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}UI(tc,S7e,FJ(Yv,{brighter(e){return e=e==null?fj:Math.pow(fj,e),new tc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hy:Math.pow(Hy,e),new tc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Wa($B(e>=240?e-240:e+120,i,n),$B(e,i,n),$B(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new tc(n7(this.h),Uw(this.s),Uw(this.l),mj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mj(this.opacity);return`${e===1?"hsl(":"hsla("}${n7(this.h)}, ${Uw(this.s)*100}%, ${Uw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function n7(e){return e=(e||0)%360,e<0?e+360:e}function Uw(e){return Math.max(0,Math.min(1,e||0))}function $B(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const RI=e=>()=>e;function E7e(e,t){return function(r){return e+r*t}}function k7e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function P7e(e){return(e=+e)==1?RJ:function(t,r){return r-t?k7e(t,r,e):RI(isNaN(t)?r:t)}}function RJ(e,t){var r=t-e;return r?E7e(e,r):RI(isNaN(e)?t:e)}const s7=function e(t){var r=P7e(t);function n(i,a){var o=r((i=mk(i)).r,(a=mk(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),d=RJ(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=c(u),i.opacity=d(u),i+""}}return n.gamma=e,n}(1);function I7e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function T7e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function O7e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=o0(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function L7e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function pj(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function F7e(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=o0(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var pk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HB=new RegExp(pk.source,"g");function U7e(e){return function(){return e}}function R7e(e){return function(t){return e(t)+""}}function D7e(e,t){var r=pk.lastIndex=HB.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=pk.exec(e))&&(i=HB.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:pj(n,i)})),r=HB.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?R7e(c[0].x):U7e(t):(t=c.length,function(d){for(var u=0,A;u<t;++u)l[(A=c[u]).i]=A.x(d);return l.join("")})}function o0(e,t){var r=typeof t,n;return t==null||r==="boolean"?RI(t):(r==="number"?pj:r==="string"?(n=Vy(t))?(t=n,s7):D7e:t instanceof Vy?s7:t instanceof Date?L7e:T7e(t)?I7e:Array.isArray(t)?O7e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?F7e:pj)(e,t)}function DI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function M7e(e,t){t===void 0&&(t=e,e=o0);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function Q7e(e){return function(){return e}}function gj(e){return+e}var i7=[0,1];function ja(e){return e}function gk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Q7e(isNaN(t)?NaN:.5)}function $7e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function H7e(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=gk(i,n),a=r(o,a)):(n=gk(n,i),a=r(a,o)),function(l){return a(n(l))}}function z7e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=gk(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=qv(e,l,1,n)-1;return a[c](i[c](l))}}function Xv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function R5(){var e=i7,t=i7,r=o0,n,i,a,o=ja,l,c,d;function u(){var f=Math.min(e.length,t.length);return o!==ja&&(o=$7e(e[0],e[f-1])),l=f>2?z7e:H7e,c=d=null,A}function A(f){return f==null||isNaN(f=+f)?a:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return A.invert=function(f){return o(i((d||(d=l(t,e.map(n),pj)))(f)))},A.domain=function(f){return arguments.length?(e=Array.from(f,gj),u()):e.slice()},A.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},A.rangeRound=function(f){return t=Array.from(f),r=DI,u()},A.clamp=function(f){return arguments.length?(o=f?!0:ja,u()):o!==ja},A.interpolate=function(f){return arguments.length?(r=f,u()):r},A.unknown=function(f){return arguments.length?(a=f,A):a},function(f,m){return n=f,i=m,u()}}function MI(){return R5()(ja,ja)}function V7e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xj(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ag(e){return e=xj(Math.abs(e)),e?e[1]:NaN}function K7e(e,t){return function(r,n){for(var i=r.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function W7e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var G7e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ky(e){if(!(t=G7e.exec(e)))throw new Error("invalid format: "+e);var t;return new QI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ky.prototype=QI.prototype;function QI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}QI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q7e(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var DJ;function Y7e(e,t){var r=xj(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(DJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+xj(e,Math.max(0,t+a-1))[0]}function a7(e,t){var r=xj(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const o7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:V7e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a7(e*100,t),r:a7,s:Y7e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function l7(e){return e}var c7=Array.prototype.map,d7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function X7e(e){var t=e.grouping===void 0||e.thousands===void 0?l7:K7e(c7.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?l7:W7e(c7.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(A){A=Ky(A);var f=A.fill,m=A.align,x=A.sign,p=A.symbol,v=A.zero,y=A.width,b=A.comma,w=A.precision,j=A.trim,N=A.type;N==="n"?(b=!0,N="g"):o7[N]||(w===void 0&&(w=12),j=!0,N="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var B=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",I=p==="$"?n:/[%p]/.test(N)?o:"",P=o7[N],T=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function F(E){var k=B,M=I,U,W,Y;if(N==="c")M=P(E)+M,E="";else{E=+E;var Q=E<0||1/E<0;if(E=isNaN(E)?c:P(Math.abs(E),w),j&&(E=q7e(E)),Q&&+E==0&&x!=="+"&&(Q=!1),k=(Q?x==="("?x:l:x==="-"||x==="("?"":x)+k,M=(N==="s"?d7[8+DJ/3]:"")+M+(Q&&x==="("?")":""),T){for(U=-1,W=E.length;++U<W;)if(Y=E.charCodeAt(U),48>Y||Y>57){M=(Y===46?i+E.slice(U+1):E.slice(U))+M,E=E.slice(0,U);break}}}b&&!v&&(E=t(E,1/0));var z=k.length+E.length+M.length,te=z<y?new Array(y-z+1).join(f):"";switch(b&&v&&(E=t(te+E,te.length?y-M.length:1/0),te=""),m){case"<":E=k+E+M+te;break;case"=":E=k+te+E+M;break;case"^":E=te.slice(0,z=te.length>>1)+k+E+M+te.slice(z);break;default:E=te+k+E+M;break}return a(E)}return F.toString=function(){return A+""},F}function u(A,f){var m=d((A=Ky(A),A.type="f",A)),x=Math.max(-8,Math.min(8,Math.floor(Ag(f)/3)))*3,p=Math.pow(10,-x),v=d7[8+x/3];return function(y){return m(p*y)+v}}return{format:d,formatPrefix:u}}var Rw,$I,MJ;Z7e({thousands:",",grouping:[3],currency:["$",""]});function Z7e(e){return Rw=X7e(e),$I=Rw.format,MJ=Rw.formatPrefix,Rw}function J7e(e){return Math.max(0,-Ag(Math.abs(e)))}function eQe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ag(t)/3)))*3-Ag(Math.abs(e)))}function tQe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ag(t)-Ag(e))+1}function QJ(e,t,r,n){var i=Ak(e,t,r),a;switch(n=Ky(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=eQe(i,o))&&(n.precision=a),MJ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=tQe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=J7e(i))&&(n.precision=a-(n.type==="%")*2);break}}return $I(n)}function uA(e){var t=e.domain;return e.ticks=function(r){var n=t();return uk(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return QJ(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],l=n[a],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);u-- >0;){if(d=hk(o,l,r),d===c)return n[i]=o,n[a]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function yj(){var e=MI();return e.copy=function(){return Xv(e,yj())},wl.apply(e,arguments),uA(e)}function $J(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,gj),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $J(e).unknown(t)},e=arguments.length?Array.from(e,gj):[0,1],uA(r)}function HJ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function u7(e){return Math.log(e)}function h7(e){return Math.exp(e)}function rQe(e){return-Math.log(-e)}function nQe(e){return-Math.exp(-e)}function sQe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iQe(e){return e===10?sQe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function aQe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function A7(e){return(t,r)=>-e(-t,r)}function HI(e){const t=e(u7,h7),r=t.domain;let n=10,i,a;function o(){return i=aQe(n),a=iQe(n),r()[0]<0?(i=A7(i),a=A7(a),e(rQe,nQe)):e(u7,h7),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const A=u<d;A&&([d,u]=[u,d]);let f=i(d),m=i(u),x,p;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),d>0){for(;f<=m;++f)for(x=1;x<n;++x)if(p=f<0?x/a(-f):x*a(f),!(p<d)){if(p>u)break;y.push(p)}}else for(;f<=m;++f)for(x=n-1;x>=1;--x)if(p=f>0?x/a(-f):x*a(f),!(p<d)){if(p>u)break;y.push(p)}y.length*2<v&&(y=uk(d,u,v))}else y=uk(f,m,Math.min(m-f,v)).map(a);return A?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ky(c)).precision==null&&(c.trim=!0),c=$I(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let A=u/a(Math.round(i(u)));return A*n<n-.5&&(A*=n),A<=d?c(u):""}},t.nice=()=>r(HJ(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function zJ(){const e=HI(R5()).domain([1,10]);return e.copy=()=>Xv(e,zJ()).base(e.base()),wl.apply(e,arguments),e}function f7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function m7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zI(e){var t=1,r=e(f7(t),m7(t));return r.constant=function(n){return arguments.length?e(f7(t=+n),m7(t)):t},uA(r)}function VJ(){var e=zI(R5());return e.copy=function(){return Xv(e,VJ()).constant(e.constant())},wl.apply(e,arguments)}function p7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oQe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lQe(e){return e<0?-e*e:e*e}function VI(e){var t=e(ja,ja),r=1;function n(){return r===1?e(ja,ja):r===.5?e(oQe,lQe):e(p7(r),p7(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},uA(t)}function KI(){var e=VI(R5());return e.copy=function(){return Xv(e,KI()).exponent(e.exponent())},wl.apply(e,arguments),e}function cQe(){return KI.apply(null,arguments).exponent(.5)}function g7(e){return Math.sign(e)*e*e}function dQe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KJ(){var e=MI(),t=[0,1],r=!1,n;function i(a){var o=dQe(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(g7(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,gj)).map(g7)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return KJ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},wl.apply(i,arguments),uA(i)}function WJ(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=m7e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[qv(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Qh),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return WJ().domain(e).range(t).unknown(n)},wl.apply(a,arguments)}function GJ(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[qv(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return GJ().domain([e,t]).range(i).unknown(a)},wl.apply(uA(o),arguments)}function qJ(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[qv(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return qJ().domain(e).range(t).unknown(r)},wl.apply(i,arguments)}const zB=new Date,VB=new Date;function gi(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return c},i.filter=a=>gi(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(zB.setTime(+a),VB.setTime(+o),e(zB),e(VB),Math.floor(r(zB,VB))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const vj=gi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?gi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vj);vj.range;const Wd=1e3,ul=Wd*60,Gd=ul*60,gu=Gd*24,WI=gu*7,x7=gu*30,KB=gu*365,af=gi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wd)},(e,t)=>(t-e)/Wd,e=>e.getUTCSeconds());af.range;const GI=gi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wd)},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getMinutes());GI.range;const qI=gi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getUTCMinutes());qI.range;const YI=gi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wd-e.getMinutes()*ul)},(e,t)=>{e.setTime(+e+t*Gd)},(e,t)=>(t-e)/Gd,e=>e.getHours());YI.range;const XI=gi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gd)},(e,t)=>(t-e)/Gd,e=>e.getUTCHours());XI.range;const Zv=gi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ul)/gu,e=>e.getDate()-1);Zv.range;const D5=gi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gu,e=>e.getUTCDate()-1);D5.range;const YJ=gi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gu,e=>Math.floor(e/gu));YJ.range;function cm(e){return gi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ul)/WI)}const M5=cm(0),bj=cm(1),uQe=cm(2),hQe=cm(3),fg=cm(4),AQe=cm(5),fQe=cm(6);M5.range;bj.range;uQe.range;hQe.range;fg.range;AQe.range;fQe.range;function dm(e){return gi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/WI)}const Q5=dm(0),wj=dm(1),mQe=dm(2),pQe=dm(3),mg=dm(4),gQe=dm(5),xQe=dm(6);Q5.range;wj.range;mQe.range;pQe.range;mg.range;gQe.range;xQe.range;const ZI=gi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ZI.range;const JI=gi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());JI.range;const xu=gi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});xu.range;const yu=gi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});yu.range;function XJ(e,t,r,n,i,a){const o=[[af,1,Wd],[af,5,5*Wd],[af,15,15*Wd],[af,30,30*Wd],[a,1,ul],[a,5,5*ul],[a,15,15*ul],[a,30,30*ul],[i,1,Gd],[i,3,3*Gd],[i,6,6*Gd],[i,12,12*Gd],[n,1,gu],[n,2,2*gu],[r,1,WI],[t,1,x7],[t,3,3*x7],[e,1,KB]];function l(d,u,A){const f=u<d;f&&([d,u]=[u,d]);const m=A&&typeof A.range=="function"?A:c(d,u,A),x=m?m.range(d,+u+1):[];return f?x.reverse():x}function c(d,u,A){const f=Math.abs(u-d)/A,m=LI(([,,v])=>v).right(o,f);if(m===o.length)return e.every(Ak(d/KB,u/KB,A));if(m===0)return vj.every(Math.max(Ak(d,u,A),1));const[x,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return x.every(p)}return[l,c]}const[yQe,vQe]=XJ(yu,JI,Q5,YJ,XI,qI),[bQe,wQe]=XJ(xu,ZI,M5,Zv,YI,GI);function WB(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function GB(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function G0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function jQe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=q0(i),u=Y0(i),A=q0(a),f=Y0(a),m=q0(o),x=Y0(o),p=q0(l),v=Y0(l),y=q0(c),b=Y0(c),w={a:Q,A:z,b:te,B:re,c:null,d:N7,e:N7,f:KQe,g:r$e,G:s$e,H:HQe,I:zQe,j:VQe,L:ZJ,m:WQe,M:GQe,p:J,q:H,Q:B7,s:S7,S:qQe,u:YQe,U:XQe,V:ZQe,w:JQe,W:e$e,x:null,X:null,y:t$e,Y:n$e,Z:i$e,"%":C7},j={a:Z,A:K,b:ie,B:oe,c:null,d:_7,e:_7,f:c$e,g:y$e,G:b$e,H:a$e,I:o$e,j:l$e,L:eee,m:d$e,M:u$e,p:he,q:pe,Q:B7,s:S7,S:h$e,u:A$e,U:f$e,V:m$e,w:p$e,W:g$e,x:null,X:null,y:x$e,Y:v$e,Z:w$e,"%":C7},N={a:F,A:E,b:k,B:M,c:U,d:w7,e:w7,f:DQe,g:b7,G:v7,H:j7,I:j7,j:LQe,L:RQe,m:OQe,M:FQe,p:T,q:TQe,Q:QQe,s:$Qe,S:UQe,u:SQe,U:EQe,V:kQe,w:BQe,W:PQe,x:W,X:Y,y:b7,Y:v7,Z:IQe,"%":MQe};w.x=B(r,w),w.X=B(n,w),w.c=B(t,w),j.x=B(r,j),j.X=B(n,j),j.c=B(t,j);function B(ee,fe){return function(ue){var V=[],ve=-1,Se=0,ne=ee.length,xe,Le,ze;for(ue instanceof Date||(ue=new Date(+ue));++ve<ne;)ee.charCodeAt(ve)===37&&(V.push(ee.slice(Se,ve)),(Le=y7[xe=ee.charAt(++ve)])!=null?xe=ee.charAt(++ve):Le=xe==="e"?" ":"0",(ze=fe[xe])&&(xe=ze(ue,Le)),V.push(xe),Se=ve+1);return V.push(ee.slice(Se,ve)),V.join("")}}function I(ee,fe){return function(ue){var V=G0(1900,void 0,1),ve=P(V,ee,ue+="",0),Se,ne;if(ve!=ue.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(fe&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(Se=GB(G0(V.y,0,1)),ne=Se.getUTCDay(),Se=ne>4||ne===0?wj.ceil(Se):wj(Se),Se=D5.offset(Se,(V.V-1)*7),V.y=Se.getUTCFullYear(),V.m=Se.getUTCMonth(),V.d=Se.getUTCDate()+(V.w+6)%7):(Se=WB(G0(V.y,0,1)),ne=Se.getDay(),Se=ne>4||ne===0?bj.ceil(Se):bj(Se),Se=Zv.offset(Se,(V.V-1)*7),V.y=Se.getFullYear(),V.m=Se.getMonth(),V.d=Se.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),ne="Z"in V?GB(G0(V.y,0,1)).getUTCDay():WB(G0(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(ne+5)%7:V.w+V.U*7-(ne+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,GB(V)):WB(V)}}function P(ee,fe,ue,V){for(var ve=0,Se=fe.length,ne=ue.length,xe,Le;ve<Se;){if(V>=ne)return-1;if(xe=fe.charCodeAt(ve++),xe===37){if(xe=fe.charAt(ve++),Le=N[xe in y7?fe.charAt(ve++):xe],!Le||(V=Le(ee,ue,V))<0)return-1}else if(xe!=ue.charCodeAt(V++))return-1}return V}function T(ee,fe,ue){var V=d.exec(fe.slice(ue));return V?(ee.p=u.get(V[0].toLowerCase()),ue+V[0].length):-1}function F(ee,fe,ue){var V=m.exec(fe.slice(ue));return V?(ee.w=x.get(V[0].toLowerCase()),ue+V[0].length):-1}function E(ee,fe,ue){var V=A.exec(fe.slice(ue));return V?(ee.w=f.get(V[0].toLowerCase()),ue+V[0].length):-1}function k(ee,fe,ue){var V=y.exec(fe.slice(ue));return V?(ee.m=b.get(V[0].toLowerCase()),ue+V[0].length):-1}function M(ee,fe,ue){var V=p.exec(fe.slice(ue));return V?(ee.m=v.get(V[0].toLowerCase()),ue+V[0].length):-1}function U(ee,fe,ue){return P(ee,t,fe,ue)}function W(ee,fe,ue){return P(ee,r,fe,ue)}function Y(ee,fe,ue){return P(ee,n,fe,ue)}function Q(ee){return o[ee.getDay()]}function z(ee){return a[ee.getDay()]}function te(ee){return c[ee.getMonth()]}function re(ee){return l[ee.getMonth()]}function J(ee){return i[+(ee.getHours()>=12)]}function H(ee){return 1+~~(ee.getMonth()/3)}function Z(ee){return o[ee.getUTCDay()]}function K(ee){return a[ee.getUTCDay()]}function ie(ee){return c[ee.getUTCMonth()]}function oe(ee){return l[ee.getUTCMonth()]}function he(ee){return i[+(ee.getUTCHours()>=12)]}function pe(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var fe=B(ee+="",w);return fe.toString=function(){return ee},fe},parse:function(ee){var fe=I(ee+="",!1);return fe.toString=function(){return ee},fe},utcFormat:function(ee){var fe=B(ee+="",j);return fe.toString=function(){return ee},fe},utcParse:function(ee){var fe=I(ee+="",!0);return fe.toString=function(){return ee},fe}}}var y7={"-":"",_:" ",0:"0"},Ci=/^\s*\d+/,NQe=/^%/,_Qe=/[\\^$*+?|[\]().{}]/g;function Wr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function CQe(e){return e.replace(_Qe,"\\$&")}function q0(e){return new RegExp("^(?:"+e.map(CQe).join("|")+")","i")}function Y0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function BQe(e,t,r){var n=Ci.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function SQe(e,t,r){var n=Ci.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function EQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function kQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function PQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function v7(e,t,r){var n=Ci.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function b7(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function IQe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function TQe(e,t,r){var n=Ci.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function OQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function w7(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function LQe(e,t,r){var n=Ci.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function j7(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function FQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function UQe(e,t,r){var n=Ci.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function RQe(e,t,r){var n=Ci.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function DQe(e,t,r){var n=Ci.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function MQe(e,t,r){var n=NQe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function QQe(e,t,r){var n=Ci.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function $Qe(e,t,r){var n=Ci.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function N7(e,t){return Wr(e.getDate(),t,2)}function HQe(e,t){return Wr(e.getHours(),t,2)}function zQe(e,t){return Wr(e.getHours()%12||12,t,2)}function VQe(e,t){return Wr(1+Zv.count(xu(e),e),t,3)}function ZJ(e,t){return Wr(e.getMilliseconds(),t,3)}function KQe(e,t){return ZJ(e,t)+"000"}function WQe(e,t){return Wr(e.getMonth()+1,t,2)}function GQe(e,t){return Wr(e.getMinutes(),t,2)}function qQe(e,t){return Wr(e.getSeconds(),t,2)}function YQe(e){var t=e.getDay();return t===0?7:t}function XQe(e,t){return Wr(M5.count(xu(e)-1,e),t,2)}function JJ(e){var t=e.getDay();return t>=4||t===0?fg(e):fg.ceil(e)}function ZQe(e,t){return e=JJ(e),Wr(fg.count(xu(e),e)+(xu(e).getDay()===4),t,2)}function JQe(e){return e.getDay()}function e$e(e,t){return Wr(bj.count(xu(e)-1,e),t,2)}function t$e(e,t){return Wr(e.getFullYear()%100,t,2)}function r$e(e,t){return e=JJ(e),Wr(e.getFullYear()%100,t,2)}function n$e(e,t){return Wr(e.getFullYear()%1e4,t,4)}function s$e(e,t){var r=e.getDay();return e=r>=4||r===0?fg(e):fg.ceil(e),Wr(e.getFullYear()%1e4,t,4)}function i$e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wr(t/60|0,"0",2)+Wr(t%60,"0",2)}function _7(e,t){return Wr(e.getUTCDate(),t,2)}function a$e(e,t){return Wr(e.getUTCHours(),t,2)}function o$e(e,t){return Wr(e.getUTCHours()%12||12,t,2)}function l$e(e,t){return Wr(1+D5.count(yu(e),e),t,3)}function eee(e,t){return Wr(e.getUTCMilliseconds(),t,3)}function c$e(e,t){return eee(e,t)+"000"}function d$e(e,t){return Wr(e.getUTCMonth()+1,t,2)}function u$e(e,t){return Wr(e.getUTCMinutes(),t,2)}function h$e(e,t){return Wr(e.getUTCSeconds(),t,2)}function A$e(e){var t=e.getUTCDay();return t===0?7:t}function f$e(e,t){return Wr(Q5.count(yu(e)-1,e),t,2)}function tee(e){var t=e.getUTCDay();return t>=4||t===0?mg(e):mg.ceil(e)}function m$e(e,t){return e=tee(e),Wr(mg.count(yu(e),e)+(yu(e).getUTCDay()===4),t,2)}function p$e(e){return e.getUTCDay()}function g$e(e,t){return Wr(wj.count(yu(e)-1,e),t,2)}function x$e(e,t){return Wr(e.getUTCFullYear()%100,t,2)}function y$e(e,t){return e=tee(e),Wr(e.getUTCFullYear()%100,t,2)}function v$e(e,t){return Wr(e.getUTCFullYear()%1e4,t,4)}function b$e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?mg(e):mg.ceil(e),Wr(e.getUTCFullYear()%1e4,t,4)}function w$e(){return"+0000"}function C7(){return"%"}function B7(e){return+e}function S7(e){return Math.floor(+e/1e3)}var Mm,ree,nee;j$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function j$e(e){return Mm=jQe(e),ree=Mm.format,Mm.parse,nee=Mm.utcFormat,Mm.utcParse,Mm}function N$e(e){return new Date(e)}function _$e(e){return e instanceof Date?+e:+new Date(+e)}function eT(e,t,r,n,i,a,o,l,c,d){var u=MI(),A=u.invert,f=u.domain,m=d(".%L"),x=d(":%S"),p=d("%I:%M"),v=d("%I %p"),y=d("%a %d"),b=d("%b %d"),w=d("%B"),j=d("%Y");function N(B){return(c(B)<B?m:l(B)<B?x:o(B)<B?p:a(B)<B?v:n(B)<B?i(B)<B?y:b:r(B)<B?w:j)(B)}return u.invert=function(B){return new Date(A(B))},u.domain=function(B){return arguments.length?f(Array.from(B,_$e)):f().map(N$e)},u.ticks=function(B){var I=f();return e(I[0],I[I.length-1],B??10)},u.tickFormat=function(B,I){return I==null?N:d(I)},u.nice=function(B){var I=f();return(!B||typeof B.range!="function")&&(B=t(I[0],I[I.length-1],B??10)),B?f(HJ(I,B)):u},u.copy=function(){return Xv(u,eT(e,t,r,n,i,a,o,l,c,d))},u}function C$e(){return wl.apply(eT(bQe,wQe,xu,ZI,M5,Zv,YI,GI,af,ree).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B$e(){return wl.apply(eT(yQe,vQe,yu,JI,Q5,D5,XI,qI,af,nee).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $5(){var e=0,t=1,r,n,i,a,o=ja,l=!1,c;function d(A){return A==null||isNaN(A=+A)?c:o(i===0?.5:(A=(a(A)-r)*i,l?Math.max(0,Math.min(1,A)):A))}d.domain=function(A){return arguments.length?([e,t]=A,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(A){return arguments.length?(l=!!A,d):l},d.interpolator=function(A){return arguments.length?(o=A,d):o};function u(A){return function(f){var m,x;return arguments.length?([m,x]=f,o=A(m,x),d):[o(0),o(1)]}}return d.range=u(o0),d.rangeRound=u(DI),d.unknown=function(A){return arguments.length?(c=A,d):c},function(A){return a=A,r=A(e),n=A(t),i=r===n?0:1/(n-r),d}}function hA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function see(){var e=uA($5()(ja));return e.copy=function(){return hA(e,see())},Bu.apply(e,arguments)}function iee(){var e=HI($5()).domain([1,10]);return e.copy=function(){return hA(e,iee()).base(e.base())},Bu.apply(e,arguments)}function aee(){var e=zI($5());return e.copy=function(){return hA(e,aee()).constant(e.constant())},Bu.apply(e,arguments)}function tT(){var e=VI($5());return e.copy=function(){return hA(e,tT()).exponent(e.exponent())},Bu.apply(e,arguments)}function S$e(){return tT.apply(null,arguments).exponent(.5)}function oee(){var e=[],t=ja;function r(n){if(n!=null&&!isNaN(n=+n))return t((qv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Qh),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>f7e(e,a/n))},r.copy=function(){return oee(t).domain(e)},Bu.apply(r,arguments)}function H5(){var e=0,t=.5,r=1,n=1,i,a,o,l,c,d=ja,u,A=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-a)*(n*p<n*a?l:c),d(A?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,i=u(e=+e),a=u(t=+t),o=u(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(A=!!p,m):A},m.interpolator=function(p){return arguments.length?(d=p,m):d};function x(p){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,d=M7e(p,[y,b,w]),m):[d(0),d(.5),d(1)]}}return m.range=x(o0),m.rangeRound=x(DI),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return u=p,i=p(e),a=p(t),o=p(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function lee(){var e=uA(H5()(ja));return e.copy=function(){return hA(e,lee())},Bu.apply(e,arguments)}function cee(){var e=HI(H5()).domain([.1,1,10]);return e.copy=function(){return hA(e,cee()).base(e.base())},Bu.apply(e,arguments)}function dee(){var e=zI(H5());return e.copy=function(){return hA(e,dee()).constant(e.constant())},Bu.apply(e,arguments)}function rT(){var e=VI(H5());return e.copy=function(){return hA(e,rT()).exponent(e.exponent())},Bu.apply(e,arguments)}function E$e(){return rT.apply(null,arguments).exponent(.5)}const E7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$y,scaleDiverging:lee,scaleDivergingLog:cee,scaleDivergingPow:rT,scaleDivergingSqrt:E$e,scaleDivergingSymlog:dee,scaleIdentity:$J,scaleImplicit:fk,scaleLinear:yj,scaleLog:zJ,scaleOrdinal:FI,scalePoint:Wx,scalePow:KI,scaleQuantile:WJ,scaleQuantize:GJ,scaleRadial:KJ,scaleSequential:see,scaleSequentialLog:iee,scaleSequentialPow:tT,scaleSequentialQuantile:oee,scaleSequentialSqrt:S$e,scaleSequentialSymlog:aee,scaleSqrt:cQe,scaleSymlog:VJ,scaleThreshold:qJ,scaleTime:C$e,scaleUtc:B$e,tickFormat:QJ},Symbol.toStringTag,{value:"Module"}));var k$e=Zg;function P$e(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(l===void 0?o===o&&!k$e(o):r(o,l)))var l=o,c=a}return c}var z5=P$e;function I$e(e,t){return e>t}var uee=I$e,T$e=z5,O$e=uee,L$e=a0;function F$e(e){return e&&e.length?T$e(e,L$e,O$e):void 0}var U$e=F$e;const Nh=Zr(U$e);function R$e(e,t){return e<t}var hee=R$e,D$e=z5,M$e=hee,Q$e=a0;function $$e(e){return e&&e.length?D$e(e,Q$e,M$e):void 0}var H$e=$$e;const V5=Zr(H$e);var z$e=pI,V$e=xd,K$e=vJ,W$e=ro;function G$e(e,t){var r=W$e(e)?z$e:K$e;return r(e,V$e(t))}var q$e=G$e,Y$e=xJ,X$e=q$e;function Z$e(e,t){return Y$e(X$e(e,t),1)}var J$e=Z$e;const eHe=Zr(J$e);var tHe=PI;function rHe(e,t){return tHe(e,t)}var nHe=rHe;const Wf=Zr(nHe);var l0=1e9,sHe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sT,ns=!0,vl="[DecimalError] ",bf=vl+"Invalid argument: ",nT=vl+"Exponent out of range: ",c0=Math.floor,$A=Math.pow,iHe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,No,vi=1e7,Gn=7,Aee=9007199254740991,jj=c0(Aee/Gn),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Gn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Mt.dividedBy=Mt.div=function(e){return iu(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,r=t.constructor;return In(iu(t,new r(e),0,1),r.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return Js(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(No))throw Error(vl+"NaN");if(r.s<1)throw Error(vl+(r.s?"NaN":"-Infinity"));return r.eq(No)?new n(0):(ns=!1,t=iu(Wy(r,a),Wy(e,a),a),ns=!0,In(t,i))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pee(t,e):fee(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(vl+"NaN");return r.s?(ns=!1,t=iu(r,e,0,1).times(e),ns=!0,r.minus(t)):In(new n(r),i)};Mt.naturalExponential=Mt.exp=function(){return mee(this)};Mt.naturalLogarithm=Mt.ln=function(){return Wy(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fee(t,e):pee(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bf+e);if(t=Js(i)+1,n=i.d.length-1,r=n*Gn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Mt.squareRoot=Mt.sqrt=function(){var e,t,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(vl+"NaN")}for(e=Js(l),ns=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Vc(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=c0((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(iu(l,a,o+2)).times(.5),Vc(a.d).slice(0,o)===(t=Vc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(In(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return ns=!0,In(n,r)};Mt.times=Mt.mul=function(e){var t,r,n,i,a,o,l,c,d,u=this,A=u.constructor,f=u.d,m=(e=new A(e)).d;if(!u.s||!e.s)return new A(0);for(e.s*=u.s,r=u.e+e.e,c=f.length,d=m.length,c<d&&(a=f,f=m,m=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+m[n]*f[i-n-1]+t,a[i--]=l%vi|0,t=l/vi|0;a[i]=(a[i]+t)%vi|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,ns?In(e,A.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(dd(e,0,l0),t===void 0?t=n.rounding:dd(t,0,8),In(r,e+Js(r)+1,t))};Mt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Gf(n,!0):(dd(e,0,l0),t===void 0?t=i.rounding:dd(t,0,8),n=In(new i(n),e+1,t),r=Gf(n,!0,e+1)),r};Mt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Gf(i):(dd(e,0,l0),t===void 0?t=a.rounding:dd(t,0,8),n=In(new a(i),e+Js(i)+1,t),r=Gf(n.abs(),!1,e+Js(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return In(new t(e),Js(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,r,n,i,a,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(No);if(l=new c(l),!l.s){if(e.s<1)throw Error(vl+"Infinity");return l}if(l.eq(No))return l;if(n=c.precision,e.eq(No))return In(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=u<0?-u:u)<=Aee){for(i=new c(No),t=Math.ceil(n/Gn+4),ns=!1;r%2&&(i=i.times(l),P7(i.d,t)),r=c0(r/2),r!==0;)l=l.times(l),P7(l.d,t);return ns=!0,e.s<0?new c(No).div(i):In(i,n)}}else if(a<0)throw Error(vl+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ns=!1,i=e.times(Wy(l,n+d)),ns=!0,i=mee(i),i.s=a,i};Mt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Js(i),n=Gf(i,r<=a.toExpNeg||r>=a.toExpPos)):(dd(e,1,l0),t===void 0?t=a.rounding:dd(t,0,8),i=In(new a(i),e,t),r=Js(i),n=Gf(i,e<=r||r<=a.toExpNeg,e)),n};Mt.toSignificantDigits=Mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(dd(e,1,l0),t===void 0?t=n.rounding:dd(t,0,8)),In(new n(r),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Js(e),r=e.constructor;return Gf(e,t<=r.toExpNeg||t>=r.toExpPos)};function fee(e,t){var r,n,i,a,o,l,c,d,u=e.constructor,A=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ns?In(t,A):t;if(c=e.d,d=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(A/Gn),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/vi|0,c[a]%=vi;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,ns?In(t,A):t}function dd(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bf+e)}function Vc(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Gn-n.length,r&&(a+=dh(r)),a+=n;o=e[t],n=o+"",r=Gn-n.length,r&&(a+=dh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var iu=function(){function e(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%vi|0,o=a/vi|0;return o&&n.unshift(o),n}function t(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*vi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,d,u,A,f,m,x,p,v,y,b,w,j,N,B,I,P,T=n.constructor,F=n.s==i.s?1:-1,E=n.d,k=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(vl+"Division by zero");for(c=n.e-i.e,I=k.length,N=E.length,m=new T(F),x=m.d=[],d=0;k[d]==(E[d]||0);)++d;if(k[d]>(E[d]||0)&&--c,a==null?b=a=T.precision:o?b=a+(Js(n)-Js(i))+1:b=a,b<0)return new T(0);if(b=b/Gn+2|0,d=0,I==1)for(u=0,k=k[0],b++;(d<N||u)&&b--;d++)w=u*vi+(E[d]||0),x[d]=w/k|0,u=w%k|0;else{for(u=vi/(k[0]+1)|0,u>1&&(k=e(k,u),E=e(E,u),I=k.length,N=E.length),j=I,p=E.slice(0,I),v=p.length;v<I;)p[v++]=0;P=k.slice(),P.unshift(0),B=k[0],k[1]>=vi/2&&++B;do u=0,l=t(k,p,I,v),l<0?(y=p[0],I!=v&&(y=y*vi+(p[1]||0)),u=y/B|0,u>1?(u>=vi&&(u=vi-1),A=e(k,u),f=A.length,v=p.length,l=t(A,p,f,v),l==1&&(u--,r(A,I<f?P:k,f))):(u==0&&(l=u=1),A=k.slice()),f=A.length,f<v&&A.unshift(0),r(p,A,v),l==-1&&(v=p.length,l=t(k,p,I,v),l<1&&(u++,r(p,I<v?P:k,v))),v=p.length):l===0&&(u++,p=[0]),x[d++]=u,l&&p[0]?p[v++]=E[j]||0:(p=[E[j]],v=1);while((j++<N||p[0]!==void 0)&&b--)}return x[0]||x.shift(),m.e=c,In(m,o?a+Js(m)+1:a)}}();function mee(e,t){var r,n,i,a,o,l,c=0,d=0,u=e.constructor,A=u.precision;if(Js(e)>16)throw Error(nT+Js(e));if(!e.s)return new u(No);for(ns=!1,l=A,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log($A(2,d))/Math.LN10*2+5|0,l+=n,r=i=a=new u(No),u.precision=l;;){if(i=In(i.times(e),l),r=r.times(++c),o=a.plus(iu(i,r,l)),Vc(o.d).slice(0,l)===Vc(a.d).slice(0,l)){for(;d--;)a=In(a.times(a),l);return u.precision=A,t==null?(ns=!0,In(a,A)):a}a=o}}function Js(e){for(var t=e.e*Gn,r=e.d[0];r>=10;r/=10)t++;return t}function qB(e,t,r){if(t>e.LN10.sd())throw ns=!0,r&&(e.precision=r),Error(vl+"LN10 precision limit exceeded");return In(new e(e.LN10),t)}function dh(e){for(var t="";e--;)t+="0";return t}function Wy(e,t){var r,n,i,a,o,l,c,d,u,A=1,f=10,m=e,x=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(vl+(m.s?"NaN":"-Infinity"));if(m.eq(No))return new p(0);if(t==null?(ns=!1,d=v):d=t,m.eq(10))return t==null&&(ns=!0),qB(p,d);if(d+=f,p.precision=d,r=Vc(x),n=r.charAt(0),a=Js(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Vc(m.d),n=r.charAt(0),A++;a=Js(m),n>1?(m=new p("0."+r),a++):m=new p(n+"."+r.slice(1))}else return c=qB(p,d+2,v).times(a+""),m=Wy(new p(n+"."+r.slice(1)),d-f).plus(c),p.precision=v,t==null?(ns=!0,In(m,v)):m;for(l=o=m=iu(m.minus(No),m.plus(No),d),u=In(m.times(m),d),i=3;;){if(o=In(o.times(u),d),c=l.plus(iu(o,new p(i),d)),Vc(c.d).slice(0,d)===Vc(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(qB(p,d+2,v).times(a+""))),l=iu(l,new p(A),d),p.precision=v,t==null?(ns=!0,In(l,v)):l;l=c,i+=2}}function k7(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=c0(r/Gn),e.d=[],n=(r+1)%Gn,r<0&&(n+=Gn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Gn;n<i;)e.d.push(+t.slice(n,n+=Gn));t=t.slice(n),n=Gn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ns&&(e.e>jj||e.e<-jj))throw Error(nT+r)}else e.s=0,e.e=0,e.d=[0];return e}function In(e,t,r){var n,i,a,o,l,c,d,u,A=e.d;for(o=1,a=A[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Gn,i=t,d=A[u=0];else{if(u=Math.ceil((n+1)/Gn),a=A.length,u>=a)return e;for(d=a=A[u],o=1;a>=10;a/=10)o++;n%=Gn,i=n-Gn+o}if(r!==void 0&&(a=$A(10,o-i-1),l=d/a%10|0,c=t<0||A[u+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/$A(10,o-i):0:A[u-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return c?(a=Js(e),A.length=1,t=t-a-1,A[0]=$A(10,(Gn-t%Gn)%Gn),e.e=c0(-t/Gn)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(n==0?(A.length=u,a=1,u--):(A.length=u+1,a=$A(10,Gn-n),A[u]=i>0?(d/$A(10,o-i)%$A(10,i)|0)*a:0),c)for(;;)if(u==0){(A[0]+=a)==vi&&(A[0]=1,++e.e);break}else{if(A[u]+=a,A[u]!=vi)break;A[u--]=0,a=1}for(n=A.length;A[--n]===0;)A.pop();if(ns&&(e.e>jj||e.e<-jj))throw Error(nT+Js(e));return e}function pee(e,t){var r,n,i,a,o,l,c,d,u,A,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),ns?In(t,m):t;if(c=e.d,A=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=A.length):(r=A,n=d,l=c.length),i=Math.max(Math.ceil(m/Gn),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=A.length,u=i<l,u&&(l=i),i=0;i<l;i++)if(c[i]!=A[i]){u=c[i]<A[i];break}o=0}for(u&&(r=c,c=A,A=r,t.s=-t.s),l=c.length,i=A.length-l;i>0;--i)c[l++]=0;for(i=A.length;i>o;){if(c[--i]<A[i]){for(a=i;a&&c[--a]===0;)c[a]=vi-1;--c[a],c[i]+=vi}c[i]-=A[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ns?In(t,m):t):new f(0)}function Gf(e,t,r){var n,i=Js(e),a=Vc(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+dh(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+dh(-i-1)+a,r&&(n=r-o)>0&&(a+=dh(n))):i>=o?(a+=dh(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+dh(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=dh(n))),e.s<0?"-"+a:a}function P7(e,t){if(e.length>t)return e.length=t,!0}function gee(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(bf+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return k7(o,a.toString())}else if(typeof a!="string")throw Error(bf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,iHe.test(a))k7(o,a);else throw Error(bf+a)}if(i.prototype=Mt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gee,i.config=i.set=aHe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function aHe(e){if(!e||typeof e!="object")throw Error(vl+"Object expected");var t,r,n,i=["precision",1,l0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(c0(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(bf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bf+r+": "+n);return this}var sT=gee(sHe);No=new sT(1);const wn=sT;function oHe(e){return uHe(e)||dHe(e)||cHe(e)||lHe()}function lHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cHe(e,t){if(e){if(typeof e=="string")return xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(e,t)}}function dHe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function uHe(e){if(Array.isArray(e))return xk(e)}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hHe=function(t){return t},xee={},yee=function(t){return t===xee},I7=function(t){return function r(){return arguments.length===0||arguments.length===1&&yee(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},AHe=function e(t,r){return t===1?r:I7(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==xee}).length;return o>=t?r.apply(void 0,i):e(t-o,I7(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=i.map(function(A){return yee(A)?c.shift():A});return r.apply(void 0,oHe(u).concat(c))}))})},K5=function(t){return AHe(t.length,t)},yk=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},fHe=K5(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),mHe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return hHe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},vk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},vee=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function pHe(e){var t;return e===0?t=1:t=Math.floor(new wn(e).abs().log(10).toNumber())+1,t}function gHe(e,t,r){for(var n=new wn(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var xHe=K5(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),yHe=K5(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),vHe=K5(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const W5={rangeStep:gHe,getDigitCount:pHe,interpolateNumber:xHe,uninterpolateNumber:yHe,uninterpolateTruncation:vHe};function bk(e){return jHe(e)||wHe(e)||bee(e)||bHe()}function bHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wHe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jHe(e){if(Array.isArray(e))return wk(e)}function Gy(e,t){return CHe(e)||_He(e,t)||bee(e,t)||NHe()}function NHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bee(e,t){if(e){if(typeof e=="string")return wk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wk(e,t)}}function wk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _He(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function CHe(e){if(Array.isArray(e))return e}function wee(e){var t=Gy(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function jee(e,t,r){if(e.lte(0))return new wn(0);var n=W5.getDigitCount(e.toNumber()),i=new wn(10).pow(n),a=e.div(i),o=n!==1?.05:.1,l=new wn(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new wn(Math.ceil(c))}function BHe(e,t,r){var n=1,i=new wn(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new wn(10).pow(W5.getDigitCount(e)-1),i=new wn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new wn(Math.floor(e)))}else e===0?i=new wn(Math.floor((t-1)/2)):r||(i=new wn(Math.floor(e)));var o=Math.floor((t-1)/2),l=mHe(fHe(function(c){return i.add(new wn(c-o).mul(n)).toNumber()}),yk);return l(0,t)}function Nee(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new wn(0),tickMin:new wn(0),tickMax:new wn(0)};var a=jee(new wn(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new wn(0):(o=new wn(e).add(t).div(2),o=o.sub(new wn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new wn(t).sub(o).div(a).toNumber()),d=l+c+1;return d>r?Nee(e,t,r,n,i+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:a,tickMin:o.sub(new wn(l).mul(a)),tickMax:o.add(new wn(c).mul(a))})}function SHe(e){var t=Gy(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=wee([r,n]),c=Gy(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var A=u===1/0?[d].concat(bk(yk(0,i-1).map(function(){return 1/0}))):[].concat(bk(yk(0,i-1).map(function(){return-1/0})),[u]);return r>n?vk(A):A}if(d===u)return BHe(d,i,a);var f=Nee(d,u,o,a),m=f.step,x=f.tickMin,p=f.tickMax,v=W5.rangeStep(x,p.add(new wn(.1).mul(m)),m);return r>n?vk(v):v}function EHe(e,t){var r=Gy(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=wee([n,i]),l=Gy(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var u=Math.max(t,2),A=jee(new wn(d).sub(c).div(u-1),a,0),f=[].concat(bk(W5.rangeStep(new wn(c),new wn(d).sub(new wn(.99).mul(A)),A)),[d]);return n>i?vk(f):f}var kHe=vee(SHe),PHe=vee(EHe),IHe="Invariant failed";function qf(e,t){throw new Error(IHe)}var THe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nj.apply(this,arguments)}function OHe(e,t){return RHe(e)||UHe(e,t)||FHe(e,t)||LHe()}function LHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FHe(e,t){if(e){if(typeof e=="string")return T7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T7(e,t)}}function T7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function RHe(e){if(Array.isArray(e))return e}function DHe(e,t){if(e==null)return{};var r=MHe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MHe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $He(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bee(n.key),n)}}function HHe(e,t,r){return t&&$He(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zHe(e,t,r){return t=_j(t),VHe(e,_ee()?Reflect.construct(t,r||[],_j(e).constructor):t.apply(e,r))}function VHe(e,t){if(t&&(pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KHe(e)}function KHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ee=function(){return!!e})()}function _j(e){return _j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_j(e)}function WHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jk(e,t)}function jk(e,t){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jk(e,t)}function Cee(e,t,r){return t=Bee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=GHe(e,"string");return pg(t)=="symbol"?t:t+""}function GHe(e,t){if(pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jv=function(e){function t(){return QHe(this,t),zHe(this,t,arguments)}return WHe(t,e),HHe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,A=n.yAxis,f=DHe(n,THe),m=Xt(f,!1);this.props.direction==="x"&&u.type!=="number"&&qf();var x=c.map(function(p){var v=d(p,l),y=v.x,b=v.y,w=v.value,j=v.errorVal;if(!j)return null;var N=[],B,I;if(Array.isArray(j)){var P=OHe(j,2);B=P[0],I=P[1]}else B=I=j;if(a==="vertical"){var T=u.scale,F=b+i,E=F+o,k=F-o,M=T(w-B),U=T(w+I);N.push({x1:U,y1:E,x2:U,y2:k}),N.push({x1:M,y1:F,x2:U,y2:F}),N.push({x1:M,y1:E,x2:M,y2:k})}else if(a==="horizontal"){var W=A.scale,Y=y+i,Q=Y-o,z=Y+o,te=W(w-B),re=W(w+I);N.push({x1:Q,y1:re,x2:z,y2:re}),N.push({x1:Y,y1:te,x2:Y,y2:re}),N.push({x1:Q,y1:te,x2:z,y2:te})}return _e.createElement(Ir,Nj({className:"recharts-errorBar",key:"bar-".concat(N.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},m),N.map(function(J){return _e.createElement("line",Nj({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return _e.createElement(Ir,{className:"recharts-errorBars"},x)}}])}(_e.Component);Cee(Jv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Cee(Jv,"displayName","ErrorBar");function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}function O7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O7(Object(r),!0).forEach(function(n){qHe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qHe(e,t,r){return t=YHe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YHe(e){var t=XHe(e,"string");return qy(t)=="symbol"?t:t+""}function XHe(e,t){if(qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var See=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=bo(r,Mh);if(!o)return null;var l=Mh.defaultProps,c=l!==void 0?PA(PA({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(n||[]).reduce(function(u,A){var f=A.item,m=A.props,x=m.sectors||m.data||[];return u.concat(x.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(n||[]).map(function(u){var A=u.item,f=A.type.defaultProps,m=f!==void 0?PA(PA({},f),A.props):{},x=m.dataKey,p=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:x,type:c.iconType||v||"square",color:iT(A),value:p||x,payload:m}}),PA(PA(PA({},c),Mh.getWithHeight(o,i)),{},{payload:d,item:o})};function Yy(e){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}function L7(e){return t9e(e)||e9e(e)||JHe(e)||ZHe()}function ZHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JHe(e,t){if(e){if(typeof e=="string")return Nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nk(e,t)}}function e9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t9e(e){if(Array.isArray(e))return Nk(e)}function Nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F7(Object(r),!0).forEach(function(n){$p(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $p(e,t,r){return t=r9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9e(e){var t=n9e(e,"string");return Yy(t)=="symbol"?t:t+""}function n9e(e,t){if(Yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $s(e,t,r){return fr(e)||fr(t)?r:mi(t)?ko(e,t,r):ar(t)?t(e):r}function Gx(e,t,r,n){var i=eHe(e,function(l){return $s(l,t)});if(r==="number"){var a=i.filter(function(l){return vt(l)||parseFloat(l)});return a.length?[V5(a),Nh(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!fr(l)}):i;return o.map(function(l){return mi(l)||l instanceof Date?l:""})}var s9e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var u=d>0?i[d-1].coordinate:i[l-1].coordinate,A=i[d].coordinate,f=d>=l-1?i[0].coordinate:i[d+1].coordinate,m=void 0;if(ba(A-u)!==ba(f-A)){var x=[];if(ba(f-A)===ba(c[1]-c[0])){m=f;var p=A+c[1]-c[0];x[0]=Math.min(p,(p+u)/2),x[1]=Math.max(p,(p+u)/2)}else{m=u;var v=f+c[1]-c[0];x[0]=Math.min(A,(v+A)/2),x[1]=Math.max(A,(v+A)/2)}var y=[Math.min(A,(m+A)/2),Math.max(A,(m+A)/2)];if(t>y[0]&&t<=y[1]||t>=x[0]&&t<=x[1]){o=i[d].index;break}}else{var b=Math.min(u,f),w=Math.max(u,f);if(t>(b+A)/2&&t<=(w+A)/2){o=i[d].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},iT=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Bs(Bs({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},i9e=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var u=a[l[c]].stackGroups,A=Object.keys(u),f=0,m=A.length;f<m;f++){var x=u[A[f]],p=x.items,v=x.cateAxisId,y=p.filter(function(I){return su(I.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Bs(Bs({},b),y[0].props):y[0].props,j=w.barSize,N=w[v];o[N]||(o[N]=[]);var B=fr(j)?r:j;o[N].push({item:y[0],stackList:y.slice(1),barSize:fr(B)?void 0:wa(B,n,0)})}}return o},a9e=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=wa(r,i,0,!0),u,A=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=i/c,x=o.reduce(function(j,N){return j+N.barSize||0},0);x+=(c-1)*d,x>=i&&(x-=(c-1)*d,d=0),x>=i&&m>0&&(f=!0,m*=.9,x=c*m);var p=(i-x)/2>>0,v={offset:p-d,size:0};u=o.reduce(function(j,N){var B={item:N.item,position:{offset:v.offset+v.size+d,size:f?m:N.barSize}},I=[].concat(L7(j),[B]);return v=I[I.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){I.push({item:P,position:v})}),I},A)}else{var y=wa(n,i,0,!0);i-2*y-(c-1)*d<=0&&(d=0);var b=(i-2*y-(c-1)*d)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;u=o.reduce(function(j,N,B){var I=[].concat(L7(j),[{item:N.item,position:{offset:y+(b+d)*B+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){I.push({item:P,position:I[I.length-1].position})}),I},A)}return u},o9e=function(t,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=See({children:a,legendWidth:c});if(d){var u=i||{},A=u.width,f=u.height,m=d.align,x=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&m!=="center"&&vt(t[m]))return Bs(Bs({},t),{},$p({},m,t[m]+(A||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&x!=="middle"&&vt(t[x]))return Bs(Bs({},t),{},$p({},x,t[x]+(f||0)))}return t},l9e=function(t,r,n){return fr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Eee=function(t,r,n,i,a){var o=r.props.children,l=Po(o,Jv).filter(function(d){return l9e(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var A=$s(u,n);if(fr(A))return d;var f=Array.isArray(A)?[V5(A),Nh(A)]:[A,A],m=c.reduce(function(x,p){var v=$s(u,p,0),y=f[0]-Math.abs(Array.isArray(v)?v[0]:v),b=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},c9e=function(t,r,n,i,a){var o=r.map(function(l){return Eee(t,l,n,a,i)}).filter(function(l){return!fr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},kee=function(t,r,n,i,a){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&Eee(t,c,d,i)||Gx(t,d,n,a)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,A=d.length;u<A;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},Pee=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Iee=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},qd=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ba(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(A){var f=a?a.indexOf(A):A;return{coordinate:i(f)+d,value:A,offset:d}});return u.filter(function(A){return!n0(A.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(A,f){return{coordinate:i(A)+d,value:A,index:f,offset:d}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(A){return{coordinate:i(A)+d,value:A,offset:d}}):i.domain().map(function(A,f){return{coordinate:i(A)+d,value:a?a[A]:A,index:f,offset:d}})},YB=new WeakMap,Dw=function(t,r){if(typeof r!="function")return t;YB.has(t)||YB.set(t,new WeakMap);var n=YB.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Tee=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$y(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:yj(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wx(),realScaleType:"point"}:a==="category"?{scale:$y(),realScaleType:"band"}:{scale:yj(),realScaleType:"linear"};if(zf(i)){var c="scale".concat(k5(i));return{scale:(E7[c]||Wx)(),realScaleType:E7[c]?c:"point"}}return ar(i)?{scale:i}:{scale:Wx(),realScaleType:"point"}},U7=1e-4,Oee=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-U7,o=Math.max(i[0],i[1])+U7,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},d9e=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},u9e=function(t,r){if(!r||r.length!==2||!vt(r[0])||!vt(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!vt(t[0])||t[0]<n)&&(a[0]=n),(!vt(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},h9e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=n0(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},A9e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=n0(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},f9e={sign:h9e,expand:TIe,none:lg,silhouette:OIe,wiggle:LIe,positive:A9e},m9e=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=f9e[n],o=IIe().keys(i).value(function(l,c){return+$s(l,c,0)}).order(qE).offset(a);return o(t)},p9e=function(t,r,n,i,a,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(A,f){var m,x=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Bs(Bs({},f.type.defaultProps),f.props):f.props,p=x.stackId,v=x.hide;if(v)return A;var y=x[n],b=A[y]||{hasStack:!1,stackGroups:{}};if(mi(p)){var w=b.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[lm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Bs(Bs({},A),{},$p({},y,b))},c),u={};return Object.keys(d).reduce(function(A,f){var m=d[f];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var y=m.stackGroups[v];return Bs(Bs({},p),{},$p({},v,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:m9e(t,y.items,a)}))},x)}return Bs(Bs({},A),{},$p({},f,m))},u)},Lee=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=kHe(d,a,l);return t.domain([V5(u),Nh(u)]),{niceTicks:u}}if(a&&i==="number"){var A=t.domain(),f=PHe(A,a,l);return{niceTicks:f}}return null};function Cj(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fr(i[t.dataKey])){var l=Z2(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=$s(i,fr(o)?t.dataKey:o);return fr(c)?null:t.scale(c)}var R7=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=$s(o,r.dataKey,r.domain[l]);return fr(c)?null:r.scale(c)-a/2+i},g9e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},x9e=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Bs(Bs({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(mi(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},y9e=function(t){return t.reduce(function(r,n){return[V5(n.concat([r[0]]).filter(vt)),Nh(n.concat([r[1]]).filter(vt))]},[1/0,-1/0])},Fee=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(d,u){var A=y9e(u.slice(r,n+1));return[Math.min(d[0],A[0]),Math.max(d[1],A[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},D7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_k=function(t,r,n){if(ar(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(vt(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(D7.test(t[0])){var a=+D7.exec(t[0])[1];i[0]=r[0]-a}else ar(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(vt(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(M7.test(t[1])){var o=+M7.exec(t[1])[1];i[1]=r[1]+o}else ar(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Bj=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=TI(r,function(A){return A.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],u=a[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Q7=function(t,r,n){return!t||!t.length||Wf(t,ko(n,"type.defaultProps.domain"))?r:t},Uee=function(t,r){var n=t.type.defaultProps?Bs(Bs({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return Bs(Bs({},Xt(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:iT(t),value:$s(r,i),type:c,payload:r,chartType:d,hide:u})};function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}function $7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$7(Object(r),!0).forEach(function(n){Ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ree(e,t,r){return t=v9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9e(e){var t=b9e(e,"string");return Xy(t)=="symbol"?t:t+""}function b9e(e,t){if(Xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w9e(e,t){return C9e(e)||_9e(e,t)||N9e(e,t)||j9e()}function j9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9e(e,t){if(e){if(typeof e=="string")return H7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H7(e,t)}}function H7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function C9e(e){if(Array.isArray(e))return e}var Sj=Math.PI/180,B9e=function(t){return t*180/Math.PI},Mn=function(t,r,n,i){return{x:t+Math.cos(-Sj*i)*n,y:r+Math.sin(-Sj*i)*n}},Dee=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},S9e=function(t,r,n,i,a){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=wa(t.cx,o,o/2),A=wa(t.cy,l,l/2),f=Dee(o,l,n),m=wa(t.innerRadius,f,0),x=wa(t.outerRadius,f,f*.8),p=Object.keys(r);return p.reduce(function(v,y){var b=r[y],w=b.domain,j=b.reversed,N;if(fr(b.range))i==="angleAxis"?N=[c,d]:i==="radiusAxis"&&(N=[m,x]),j&&(N=[N[1],N[0]]);else{N=b.range;var B=N,I=w9e(B,2);c=I[0],d=I[1]}var P=Tee(b,a),T=P.realScaleType,F=P.scale;F.domain(w).range(N),Oee(F);var E=Lee(F,Ld(Ld({},b),{},{realScaleType:T})),k=Ld(Ld(Ld({},b),E),{},{range:N,radius:x,realScaleType:T,scale:F,cx:u,cy:A,innerRadius:m,outerRadius:x,startAngle:c,endAngle:d});return Ld(Ld({},v),{},Ree({},y,k))},{})},E9e=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},k9e=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,l=E9e({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:B9e(d),angleInRadian:d}},P9e=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},I9e=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},z7=function(t,r){var n=t.x,i=t.y,a=k9e({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=P9e(r),A=u.startAngle,f=u.endAngle,m=l,x;if(A<=f){for(;m>f;)m-=360;for(;m<A;)m+=360;x=m>=A&&m<=f}else{for(;m>A;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=A}return x?Ld(Ld({},r),{},{radius:o,angle:I9e(m,r)}):null},Mee=function(t){return!_.isValidElement(t)&&!ar(t)&&typeof t!="boolean"?t.className:""};function Zy(e){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(e)}var T9e=["offset"];function O9e(e){return R9e(e)||U9e(e)||F9e(e)||L9e()}function L9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9e(e,t){if(e){if(typeof e=="string")return Ck(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ck(e,t)}}function U9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R9e(e){if(Array.isArray(e))return Ck(e)}function Ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D9e(e,t){if(e==null)return{};var r=M9e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V7(Object(r),!0).forEach(function(n){Q9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q9e(e,t,r){return t=$9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $9e(e){var t=H9e(e,"string");return Zy(t)=="symbol"?t:t+""}function H9e(e,t){if(Zy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jy.apply(this,arguments)}var z9e=function(t){var r=t.value,n=t.formatter,i=fr(t.children)?r:t.children;return ar(n)?n(i):i},V9e=function(t,r){var n=ba(r-t),i=Math.min(Math.abs(r-t),360);return n*i},K9e=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,d=c.cx,u=c.cy,A=c.innerRadius,f=c.outerRadius,m=c.startAngle,x=c.endAngle,p=c.clockWise,v=(A+f)/2,y=V9e(m,x),b=y>=0?1:-1,w,j;i==="insideStart"?(w=m+b*o,j=p):i==="insideEnd"?(w=x-b*o,j=!p):i==="end"&&(w=x+b*o,j=p),j=y<=0?j:!j;var N=Mn(d,u,v,w),B=Mn(d,u,v,w+(j?1:-1)*359),I="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(B.x,",").concat(B.y),P=fr(t.id)?lm("recharts-radial-line-"):t.id;return _e.createElement("text",Jy({},n,{dominantBaseline:"central",className:gr("recharts-radial-bar-label",l)}),_e.createElement("defs",null,_e.createElement("path",{id:P,d:I})),_e.createElement("textPath",{xlinkHref:"#".concat(P)},r))},W9e=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,u=a.startAngle,A=a.endAngle,f=(u+A)/2;if(i==="outside"){var m=Mn(o,l,d+n,f),x=m.x,p=m.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,y=Mn(o,l,v,f),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},G9e=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,A=u>=0?1:-1,f=A*i,m=A>0?"end":"start",x=A>0?"start":"end",p=d>=0?1:-1,v=p*i,y=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var w={x:l+d/2,y:c-A*i,textAnchor:"middle",verticalAnchor:m};return di(di({},w),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var j={x:l+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:x};return di(di({},j),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(a==="left"){var N={x:l-v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return di(di({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(a==="right"){var B={x:l+d+v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return di(di({},B),n?{width:Math.max(n.x+n.width-B.x,0),height:u}:{})}var I=n?{width:d,height:u}:{};return a==="insideLeft"?di({x:l+v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},I):a==="insideRight"?di({x:l+d-v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},I):a==="insideTop"?di({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:x},I):a==="insideBottom"?di({x:l+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:m},I):a==="insideTopLeft"?di({x:l+v,y:c+f,textAnchor:b,verticalAnchor:x},I):a==="insideTopRight"?di({x:l+d-v,y:c+f,textAnchor:y,verticalAnchor:x},I):a==="insideBottomLeft"?di({x:l+v,y:c+u-f,textAnchor:b,verticalAnchor:m},I):a==="insideBottomRight"?di({x:l+d-v,y:c+u-f,textAnchor:y,verticalAnchor:m},I):Jg(a)&&(vt(a.x)||rf(a.x))&&(vt(a.y)||rf(a.y))?di({x:l+wa(a.x,d),y:c+wa(a.y,u),textAnchor:"end",verticalAnchor:"end"},I):di({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},q9e=function(t){return"cx"in t&&vt(t.cx)};function ji(e){var t=e.offset,r=t===void 0?5:t,n=D9e(e,T9e),i=di({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,u=i.className,A=u===void 0?"":u,f=i.textBreakAll;if(!a||fr(l)&&fr(c)&&!_.isValidElement(d)&&!ar(d))return null;if(_.isValidElement(d))return _.cloneElement(d,i);var m;if(ar(d)){if(m=_.createElement(d,i),_.isValidElement(m))return m}else m=z9e(i);var x=q9e(a),p=Xt(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return K9e(i,m,p);var v=x?W9e(i):G9e(i);return _e.createElement(Kf,Jy({className:gr("recharts-label",A)},p,v,{breakAll:f}),m)}ji.displayName="Label";var Qee=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,A=t.x,f=t.y,m=t.top,x=t.left,p=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(vt(p)&&vt(v)){if(vt(A)&&vt(f))return{x:A,y:f,width:p,height:v};if(vt(m)&&vt(x))return{x:m,y:x,width:p,height:v}}return vt(A)&&vt(f)?{x:A,y:f,width:0,height:0}:vt(r)&&vt(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},Y9e=function(t,r){return t?t===!0?_e.createElement(ji,{key:"label-implicit",viewBox:r}):mi(t)?_e.createElement(ji,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===ji?_.cloneElement(t,{key:"label-implicit",viewBox:r}):_e.createElement(ji,{key:"label-implicit",content:t,viewBox:r}):ar(t)?_e.createElement(ji,{key:"label-implicit",content:t,viewBox:r}):Jg(t)?_e.createElement(ji,Jy({viewBox:r},t,{key:"label-implicit"})):null:null},X9e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=Qee(t),o=Po(i,ji).map(function(c,d){return _.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return o;var l=Y9e(t.label,r||a);return[l].concat(O9e(o))};ji.parseViewBox=Qee;ji.renderCallByParent=X9e;function Z9e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var J9e=Z9e;const eze=Zr(J9e);function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}var tze=["valueAccessor"],rze=["data","dataKey","clockWise","id","textBreakAll"];function nze(e){return oze(e)||aze(e)||ize(e)||sze()}function sze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ize(e,t){if(e){if(typeof e=="string")return Bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(e,t)}}function aze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oze(e){if(Array.isArray(e))return Bk(e)}function Bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ej.apply(this,arguments)}function K7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K7(Object(r),!0).forEach(function(n){lze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lze(e,t,r){return t=cze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cze(e){var t=dze(e,"string");return ev(t)=="symbol"?t:t+""}function dze(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G7(e,t){if(e==null)return{};var r=uze(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hze=function(t){return Array.isArray(t.value)?eze(t.value):t.value};function rd(e){var t=e.valueAccessor,r=t===void 0?hze:t,n=G7(e,tze),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=G7(n,rze);return!i||!i.length?null:_e.createElement(Ir,{className:"recharts-label-list"},i.map(function(u,A){var f=fr(a)?r(u,A):$s(u&&u.payload,a),m=fr(l)?{}:{id:"".concat(l,"-").concat(A)};return _e.createElement(ji,Ej({},Xt(u,!0),d,m,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:ji.parseViewBox(fr(o)?u:W7(W7({},u),{},{clockWise:o})),key:"label-".concat(A),index:A}))}))}rd.displayName="LabelList";function Aze(e,t){return e?e===!0?_e.createElement(rd,{key:"labelList-implicit",data:t}):_e.isValidElement(e)||ar(e)?_e.createElement(rd,{key:"labelList-implicit",data:t,content:e}):Jg(e)?_e.createElement(rd,Ej({data:t},e,{key:"labelList-implicit"})):null:null}function fze(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Po(n,rd).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=Aze(e.label,t);return[a].concat(nze(i))}rd.renderCallByParent=fze;function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sk.apply(this,arguments)}function q7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q7(Object(r),!0).forEach(function(n){mze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mze(e,t,r){return t=pze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pze(e){var t=gze(e,"string");return tv(t)=="symbol"?t:t+""}function gze(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xze=function(t,r){var n=ba(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Mw=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+i,A=Math.asin(c/u)/Sj,f=d?a:a+o*A,m=Mn(r,n,u,f),x=Mn(r,n,i,f),p=d?a-o*A:a,v=Mn(r,n,u*Math.cos(A*Sj),p);return{center:m,circleTangency:x,lineTangency:v,theta:A}},$ee=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=xze(o,l),d=o+c,u=Mn(r,n,a,o),A=Mn(r,n,a,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(i>0){var m=Mn(r,n,i,o),x=Mn(r,n,i,d);f+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},yze=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,A=ba(u-d),f=Mw({cx:r,cy:n,radius:a,angle:d,sign:A,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,x=f.lineTangency,p=f.theta,v=Mw({cx:r,cy:n,radius:a,angle:u,sign:-A,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,w=v.theta,j=c?Math.abs(d-u):Math.abs(d-u)-p-w;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$ee({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(A<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var B=Mw({cx:r,cy:n,radius:i,angle:d,sign:A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=B.circleTangency,P=B.lineTangency,T=B.theta,F=Mw({cx:r,cy:n,radius:i,angle:u,sign:-A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=F.circleTangency,k=F.lineTangency,M=F.theta,U=c?Math.abs(d-u):Math.abs(d-u)-T-M;if(U<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(A>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},vze={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Hee=function(t){var r=Y7(Y7({},vze),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,A=r.endAngle,f=r.className;if(o<a||u===A)return null;var m=gr("recharts-sector",f),x=o-a,p=wa(l,x,0,!0),v;return p>0&&Math.abs(u-A)<360?v=yze({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:A}):v=$ee({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:A}),_e.createElement("path",Sk({},Xt(r,!0),{className:m,d:v,role:"img"}))};function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ek.apply(this,arguments)}function X7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X7(Object(r),!0).forEach(function(n){bze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bze(e,t,r){return t=wze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wze(e){var t=jze(e,"string");return rv(t)=="symbol"?t:t+""}function jze(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J7={curveBasisClosed:bIe,curveBasisOpen:wIe,curveBasis:vIe,curveBumpX:aIe,curveBumpY:oIe,curveLinearClosed:jIe,curveLinear:I5,curveMonotoneX:NIe,curveMonotoneY:_Ie,curveNatural:CIe,curveStep:BIe,curveStepAfter:EIe,curveStepBefore:SIe},Qw=function(t){return t.x===+t.x&&t.y===+t.y},X0=function(t){return t.x},Z0=function(t){return t.y},Nze=function(t,r){if(ar(t))return t;var n="curve".concat(k5(t));return(n==="curveMonotone"||n==="curveBump")&&r?J7["".concat(n).concat(r==="vertical"?"Y":"X")]:J7[n]||I5},_ze=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=Nze(n,l),A=d?a.filter(function(p){return Qw(p)}):a,f;if(Array.isArray(o)){var m=d?o.filter(function(p){return Qw(p)}):o,x=A.map(function(p,v){return Z7(Z7({},p),{},{base:m[v]})});return l==="vertical"?f=Pw().y(Z0).x1(X0).x0(function(p){return p.base.x}):f=Pw().x(X0).y1(Z0).y0(function(p){return p.base.y}),f.defined(Qw).curve(u),f(x)}return l==="vertical"&&vt(o)?f=Pw().y(Z0).x1(X0).x0(o):vt(o)?f=Pw().x(X0).y1(Z0).y0(o):f=UZ().x(X0).y(Z0),f.defined(Qw).curve(u),f(A)},wf=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?_ze(t):i;return _.createElement("path",Ek({},Xt(t,!1),J2(t),{className:gr("recharts-curve",r),d:o,ref:a}))},zee={exports:{}},Cze="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bze=Cze,Sze=Bze;function Vee(){}function Kee(){}Kee.resetWarningCache=Vee;var Eze=function(){function e(n,i,a,o,l,c){if(c!==Sze){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Kee,resetWarningCache:Vee};return r.PropTypes=r,r};zee.exports=Eze();var kze=zee.exports;const sn=Zr(kze),{getOwnPropertyNames:Pze,getOwnPropertySymbols:Ize}=Object,{hasOwnProperty:Tze}=Object.prototype;function XB(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function $w(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=e(r,n,i);return a.delete(r),a.delete(n),c}}function Oze(e){return e!=null?e[Symbol.toStringTag]:void 0}function eQ(e){return Pze(e).concat(Ize(e))}const Lze=Object.hasOwn||((e,t)=>Tze.call(e,t));function um(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Fze="__v",Uze="__o",Rze="_owner",{getOwnPropertyDescriptor:tQ,keys:rQ}=Object;function Dze(e,t){return e.byteLength===t.byteLength&&kj(new Uint8Array(e),new Uint8Array(t))}function Mze(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Qze(e,t){return e.byteLength===t.byteLength&&kj(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function $ze(e,t){return um(e.getTime(),t.getTime())}function Hze(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zze(e,t){return e===t}function nQ(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const d=t.entries();let u=!1,A=0;for(;(l=d.next())&&!l.done;){if(i[A]){A++;continue}const f=o.value,m=l.value;if(r.equals(f[0],m[0],c,A,e,t,r)&&r.equals(f[1],m[1],f[0],m[0],e,t,r)){u=i[A]=!0;break}A++}if(!u)return!1;c++}return!0}const Vze=um;function Kze(e,t,r){const n=rQ(e);let i=n.length;if(rQ(t).length!==i)return!1;for(;i-- >0;)if(!Wee(e,t,r,n[i]))return!1;return!0}function J0(e,t,r){const n=eQ(e);let i=n.length;if(eQ(t).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!Wee(e,t,r,a)||(o=tQ(e,a),l=tQ(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Wze(e,t){return um(e.valueOf(),t.valueOf())}function Gze(e,t){return e.source===t.source&&e.flags===t.flags}function sQ(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.values();let o,l;for(;(o=a.next())&&!o.done;){const c=t.values();let d=!1,u=0;for(;(l=c.next())&&!l.done;){if(!i[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=i[u]=!0;break}u++}if(!d)return!1}return!0}function kj(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function qze(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Wee(e,t,r,n){return(n===Rze||n===Uze||n===Fze)&&(e.$$typeof||t.$$typeof)?!0:Lze(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const Yze="[object ArrayBuffer]",Xze="[object Arguments]",Zze="[object Boolean]",Jze="[object DataView]",eVe="[object Date]",tVe="[object Error]",rVe="[object Map]",nVe="[object Number]",sVe="[object Object]",iVe="[object RegExp]",aVe="[object Set]",oVe="[object String]",lVe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},cVe="[object URL]",dVe=Object.prototype.toString;function uVe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:u,areSetsEqual:A,areTypedArraysEqual:f,areUrlsEqual:m,unknownTagComparators:x}){return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;const w=typeof v;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(v,y,b):w==="function"?a(v,y,b):!1;const j=v.constructor;if(j!==y.constructor)return!1;if(j===Object)return c(v,y,b);if(Array.isArray(v))return t(v,y,b);if(j===Date)return n(v,y,b);if(j===RegExp)return u(v,y,b);if(j===Map)return o(v,y,b);if(j===Set)return A(v,y,b);const N=dVe.call(v);if(N===eVe)return n(v,y,b);if(N===iVe)return u(v,y,b);if(N===rVe)return o(v,y,b);if(N===aVe)return A(v,y,b);if(N===sVe)return typeof v.then!="function"&&typeof y.then!="function"&&c(v,y,b);if(N===cVe)return m(v,y,b);if(N===tVe)return i(v,y,b);if(N===Xze)return c(v,y,b);if(lVe[N])return f(v,y,b);if(N===Yze)return e(v,y,b);if(N===Jze)return r(v,y,b);if(N===Zze||N===nVe||N===oVe)return d(v,y,b);if(x){let B=x[N];if(!B){const I=Oze(v);I&&(B=x[I])}if(B)return B(v,y,b)}return!1}}function hVe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:Dze,areArraysEqual:r?J0:Mze,areDataViewsEqual:Qze,areDatesEqual:$ze,areErrorsEqual:Hze,areFunctionsEqual:zze,areMapsEqual:r?XB(nQ,J0):nQ,areNumbersEqual:Vze,areObjectsEqual:r?J0:Kze,arePrimitiveWrappersEqual:Wze,areRegExpsEqual:Gze,areSetsEqual:r?XB(sQ,J0):sQ,areTypedArraysEqual:r?XB(kj,J0):kj,areUrlsEqual:qze,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=$w(n.areArraysEqual),a=$w(n.areMapsEqual),o=$w(n.areObjectsEqual),l=$w(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function AVe(e){return function(t,r,n,i,a,o,l){return e(t,r,l)}}function fVe({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:d=e?new WeakMap:void 0,meta:u}=r();return t(l,c,{cache:d,equals:n,meta:u,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return t(l,c,a)}}const mVe=AA();AA({strict:!0});AA({circular:!0});AA({circular:!0,strict:!0});AA({createInternalComparator:()=>um});AA({strict:!0,createInternalComparator:()=>um});AA({circular:!0,createInternalComparator:()=>um});AA({circular:!0,createInternalComparator:()=>um,strict:!0});function AA(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,a=hVe(e),o=uVe(a),l=r?r(o):AVe(o);return fVe({circular:t,comparator:o,createState:n,equals:l,strict:i})}function pVe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function iQ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):pVe(i)};requestAnimationFrame(n)}function kk(e){"@babel/helpers - typeof";return kk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kk(e)}function gVe(e){return bVe(e)||vVe(e)||yVe(e)||xVe()}function xVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yVe(e,t){if(e){if(typeof e=="string")return aQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aQ(e,t)}}function aQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bVe(e){if(Array.isArray(e))return e}function wVe(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=gVe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){iQ(i.bind(null,d),c);return}i(c),iQ(i.bind(null,d));return}kk(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function oQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oQ(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return t=jVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jVe(e){var t=NVe(e,"string");return nv(t)==="symbol"?t:String(t)}function NVe(e,t){if(nv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ve=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},CVe=function(t){return t},BVe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},qx=function(t,r){return Object.keys(r).reduce(function(n,i){return lQ(lQ({},n),{},Gee({},i,t(i,r[i])))},{})},cQ=function(t,r,n){return t.map(function(i){return"".concat(BVe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function SVe(e,t){return PVe(e)||kVe(e,t)||qee(e,t)||EVe()}function EVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function PVe(e){if(Array.isArray(e))return e}function IVe(e){return LVe(e)||OVe(e)||qee(e)||TVe()}function TVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qee(e,t){if(e){if(typeof e=="string")return Pk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(e,t)}}function OVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LVe(e){if(Array.isArray(e))return Pk(e)}function Pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pj=1e-4,Yee=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Xee=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},dQ=function(t,r){return function(n){var i=Yee(t,r);return Xee(i,n)}},FVe=function(t,r){return function(n){var i=Yee(t,r),a=[].concat(IVe(i.map(function(o,l){return o*l}).slice(1)),[0]);return Xee(a,n)}},uQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=SVe(d,4);i=u[0],a=u[1],o=u[2],l=u[3]}}}var A=dQ(i,o),f=dQ(a,l),m=FVe(i,o),x=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,w=b,j=0;j<8;++j){var N=A(w)-b,B=m(w);if(Math.abs(N-b)<Pj||B<Pj)return f(w);w=x(w-N/B)}return f(w)};return p.isStepper=!1,p},UVe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(u,A,f){var m=-(u-A)*n,x=f*a,p=f+(m-x)*l/1e3,v=f*l/1e3+u;return Math.abs(v-A)<Pj&&Math.abs(p)<Pj?[A,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},RVe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uQ(i);case"spring":return UVe();default:if(i.split("(")[0]==="cubic-bezier")return uQ(i)}return typeof i=="function"?i:null};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function hQ(e){return QVe(e)||MVe(e)||Zee(e)||DVe()}function DVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QVe(e){if(Array.isArray(e))return Tk(e)}function AQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AQ(Object(r),!0).forEach(function(n){Ik(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ik(e,t,r){return t=$Ve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Ve(e){var t=HVe(e,"string");return sv(t)==="symbol"?t:String(t)}function HVe(e,t){if(sv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zVe(e,t){return WVe(e)||KVe(e,t)||Zee(e,t)||VVe()}function VVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zee(e,t){if(e){if(typeof e=="string")return Tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tk(e,t)}}function Tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function WVe(e){if(Array.isArray(e))return e}var Ij=function(t,r,n){return t+(r-t)*n},Ok=function(t){var r=t.from,n=t.to;return r!==n},GVe=function e(t,r,n){var i=qx(function(a,o){if(Ok(o)){var l=t(o.from,o.to,o.velocity),c=zVe(l,2),d=c[0],u=c[1];return Ii(Ii({},o),{},{from:d,velocity:u})}return o},r);return n<1?qx(function(a,o){return Ok(o)?Ii(Ii({},o),{},{velocity:Ij(o.velocity,i[a].velocity,n),from:Ij(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const qVe=function(e,t,r,n,i){var a=_Ve(e,t),o=a.reduce(function(v,y){return Ii(Ii({},v),{},Ik({},y,[e[y],t[y]]))},{}),l=a.reduce(function(v,y){return Ii(Ii({},v),{},Ik({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,d,u,A=function(){return null},f=function(){return qx(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(Ok).length},x=function(y){d||(d=y);var b=y-d,w=b/r.dt;l=GVe(r,l,w),i(Ii(Ii(Ii({},e),t),f())),d=y,m()||(c=requestAnimationFrame(A))},p=function(y){u||(u=y);var b=(y-u)/n,w=qx(function(N,B){return Ij.apply(void 0,hQ(B).concat([r(b)]))},o);if(i(Ii(Ii(Ii({},e),t),w)),b<1)c=requestAnimationFrame(A);else{var j=qx(function(N,B){return Ij.apply(void 0,hQ(B).concat([r(1)]))},o);i(Ii(Ii(Ii({},e),t),j))}};return A=r.isStepper?x:p,function(){return requestAnimationFrame(A),function(){cancelAnimationFrame(c)}}};function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}var YVe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function XVe(e,t){if(e==null)return{};var r=ZVe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZVe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ZB(e){return rKe(e)||tKe(e)||eKe(e)||JVe()}function JVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eKe(e,t){if(e){if(typeof e=="string")return Lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lk(e,t)}}function tKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rKe(e){if(Array.isArray(e))return Lk(e)}function Lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fQ(Object(r),!0).forEach(function(n){bx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bx(e,t,r){return t=Jee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jee(n.key),n)}}function iKe(e,t,r){return t&&sKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jee(e){var t=aKe(e,"string");return gg(t)==="symbol"?t:String(t)}function aKe(e,t){if(gg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fk(e,t)}function Fk(e,t){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fk(e,t)}function lKe(e){var t=cKe();return function(){var n=Tj(e),i;if(t){var a=Tj(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Uk(this,i)}}function Uk(e,t){if(t&&(gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rk(e)}function Rk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tj(e){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tj(e)}var pc=function(e){oKe(r,e);var t=lKe(r);function r(n,i){var a;nKe(this,r),a=t.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,A=o.steps,f=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Rk(a)),a.changeStyle=a.changeStyle.bind(Rk(a)),!l||m<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:u}),Uk(a);if(A&&A.length)a.state={style:A[0].style};else if(d){if(typeof f=="function")return a.state={style:d},Uk(a);a.state={style:c?bx({},c,d):d}}else a.state={style:{}};return a}return iKe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,u=a.to,A=a.from,f=this.state.style;if(l){if(!o){var m={style:c?bx({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(m);return}if(!(mVe(i.to,u)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||d?A:i.to;if(this.state&&f){var v={style:c?bx({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(v)}this.runAnimation(Vl(Vl({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,u=i.begin,A=i.onAnimationEnd,f=i.onAnimationStart,m=qVe(o,l,RVe(d),c,this.changeStyle),x=function(){a.stopJSAnimation=m()};this.manager.start([f,u,x,c,A])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],u=d.style,A=d.duration,f=A===void 0?0:A,m=function(p,v,y){if(y===0)return p;var b=v.duration,w=v.easing,j=w===void 0?"ease":w,N=v.style,B=v.properties,I=v.onAnimationEnd,P=y>0?o[y-1]:v,T=B||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(ZB(p),[a.runJSAnimation.bind(a,{from:P.style,to:N,duration:b,easing:j}),b]);var F=cQ(T,b,j),E=Vl(Vl(Vl({},P.style),N),{},{transition:F});return[].concat(ZB(p),[E,b,I]).filter(CVe)};return this.manager.start([c].concat(ZB(o.reduce(m,[u,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wVe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,u=i.onAnimationStart,A=i.onAnimationEnd,f=i.steps,m=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var p=l?bx({},l,c):c,v=cQ(Object.keys(p),o,d);x.start([u,a,Vl(Vl({},p),{},{transition:v}),o,A])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=XVe(i,YVe),d=_.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!l||d===0||o<=0)return a;var A=function(m){var x=m.props,p=x.style,v=p===void 0?{}:p,y=x.className,b=_.cloneElement(m,Vl(Vl({},c),{},{style:Vl(Vl({},v),u),className:y}));return b};return d===1?A(_.Children.only(a)):_e.createElement("div",null,_.Children.map(a,function(f){return A(f)}))}}]),r}(_.PureComponent);pc.displayName="Animate";pc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pc.propTypes={from:sn.oneOfType([sn.object,sn.string]),to:sn.oneOfType([sn.object,sn.string]),attributeName:sn.string,duration:sn.number,begin:sn.number,easing:sn.oneOfType([sn.string,sn.func]),steps:sn.arrayOf(sn.shape({duration:sn.number.isRequired,style:sn.object.isRequired,easing:sn.oneOfType([sn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sn.func]),properties:sn.arrayOf("string"),onAnimationEnd:sn.func})),children:sn.oneOfType([sn.node,sn.func]),isActive:sn.bool,canBegin:sn.bool,onAnimationEnd:sn.func,shouldReAnimate:sn.bool,onAnimationStart:sn.func,onAnimationReStart:sn.func};function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function Oj(){return Oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oj.apply(this,arguments)}function dKe(e,t){return fKe(e)||AKe(e,t)||hKe(e,t)||uKe()}function uKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hKe(e,t){if(e){if(typeof e=="string")return mQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mQ(e,t)}}function mQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function fKe(e){if(Array.isArray(e))return e}function pQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pQ(Object(r),!0).forEach(function(n){mKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mKe(e,t,r){return t=pKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pKe(e){var t=gKe(e,"string");return iv(t)=="symbol"?t:t+""}function gKe(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xQ=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var A=[0,0,0,0],f=0,m=4;f<m;f++)A[f]=a[f]>o?o:a[f];u="M".concat(t,",").concat(r+l*A[0]),A[0]>0&&(u+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(d,",").concat(t+c*A[0],",").concat(r)),u+="L ".concat(t+n-c*A[1],",").concat(r),A[1]>0&&(u+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*A[1])),u+="L ".concat(t+n,",").concat(r+i-l*A[2]),A[2]>0&&(u+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(d,`,
        `).concat(t+n-c*A[2],",").concat(r+i)),u+="L ".concat(t+c*A[3],",").concat(r+i),A[3]>0&&(u+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+i-l*A[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-c*x,",").concat(r+i,`
            L `).concat(t+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+i-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},xKe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),u=Math.max(a,a+l),A=Math.min(o,o+c),f=Math.max(o,o+c);return n>=d&&n<=u&&i>=A&&i<=f}return!1},yKe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aT=function(t){var r=gQ(gQ({},yKe),t),n=_.useRef(),i=_.useState(-1),a=dKe(i,2),o=a[0],l=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,d=r.y,u=r.width,A=r.height,f=r.radius,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||A!==+A||u===0||A===0)return null;var w=gr("recharts-rectangle",m);return b?_e.createElement(pc,{canBegin:o>0,from:{width:u,height:A,x:c,y:d},to:{width:u,height:A,x:c,y:d},duration:p,animationEasing:x,isActive:b},function(j){var N=j.width,B=j.height,I=j.x,P=j.y;return _e.createElement(pc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:x},_e.createElement("path",Oj({},Xt(r,!0),{className:w,d:xQ(I,P,N,B,f),ref:n})))}):_e.createElement("path",Oj({},Xt(r,!0),{className:w,d:xQ(c,d,u,A,f)}))},vKe=["points","className","baseLinePoints","connectNulls"];function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(this,arguments)}function bKe(e,t){if(e==null)return{};var r=wKe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yQ(e){return CKe(e)||_Ke(e)||NKe(e)||jKe()}function jKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NKe(e,t){if(e){if(typeof e=="string")return Dk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dk(e,t)}}function _Ke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CKe(e){if(Array.isArray(e))return Dk(e)}function Dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vQ=function(t){return t&&t.x===+t.x&&t.y===+t.y},BKe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){vQ(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),vQ(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Yx=function(t,r){var n=BKe(t);r&&(n=[n.reduce(function(a,o){return[].concat(yQ(a),yQ(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},SKe=function(t,r,n){var i=Yx(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Yx(r.reverse(),n).slice(1))},EKe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=bKe(t,vKe);if(!r||!r.length)return null;var l=gr("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=SKe(r,i,a);return _e.createElement("g",{className:l},_e.createElement("path",fp({},Xt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?_e.createElement("path",fp({},Xt(o,!0),{fill:"none",d:Yx(r,a)})):null,c?_e.createElement("path",fp({},Xt(o,!0),{fill:"none",d:Yx(i,a)})):null)}var u=Yx(r,a);return _e.createElement("path",fp({},Xt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mk.apply(this,arguments)}var eb=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=gr("recharts-dot",a);return r===+r&&n===+n&&i===+i?_.createElement("circle",Mk({},Xt(t,!1),J2(t),{className:o,cx:r,cy:n,r:i})):null};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}var kKe=["x","y","top","left","width","height","className"];function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qk.apply(this,arguments)}function bQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PKe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bQ(Object(r),!0).forEach(function(n){IKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IKe(e,t,r){return t=TKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TKe(e){var t=OKe(e,"string");return av(t)=="symbol"?t:t+""}function OKe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LKe(e,t){if(e==null)return{};var r=FKe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UKe=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},RKe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,A=u===void 0?0:u,f=t.height,m=f===void 0?0:f,x=t.className,p=LKe(t,kKe),v=PKe({x:n,y:a,top:l,left:d,width:A,height:m},p);return!vt(n)||!vt(a)||!vt(A)||!vt(m)||!vt(l)||!vt(d)?null:_e.createElement("path",Qk({},Xt(v,!0),{className:gr("recharts-cross",x),d:UKe(n,a,A,m,l,d)}))},DKe=z5,MKe=uee,QKe=xd;function $Ke(e,t){return e&&e.length?DKe(e,QKe(t),MKe):void 0}var HKe=$Ke;const zKe=Zr(HKe);var VKe=z5,KKe=xd,WKe=hee;function GKe(e,t){return e&&e.length?VKe(e,KKe(t),WKe):void 0}var qKe=GKe;const YKe=Zr(qKe);var XKe=["cx","cy","angle","ticks","axisLine"],ZKe=["ticks","tick","angle","tickFormatter","stroke"];function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(this,arguments)}function wQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wQ(Object(r),!0).forEach(function(n){G5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jQ(e,t){if(e==null)return{};var r=JKe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tte(n.key),n)}}function tWe(e,t,r){return t&&NQ(e.prototype,t),r&&NQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rWe(e,t,r){return t=Lj(t),nWe(e,ete()?Reflect.construct(t,r||[],Lj(e).constructor):t.apply(e,r))}function nWe(e,t){if(t&&(xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sWe(e)}function sWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ete(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ete=function(){return!!e})()}function Lj(e){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lj(e)}function iWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$k(e,t)}function $k(e,t){return $k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$k(e,t)}function G5(e,t,r){return t=tte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tte(e){var t=aWe(e,"string");return xg(t)=="symbol"?t:t+""}function aWe(e,t){if(xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q5=function(e){function t(){return eWe(this,t),rWe(this,t,arguments)}return iWe(t,e),tWe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Mn(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=zKe(l,function(u){return u.coordinate||0}),d=YKe(l,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=jQ(n,XKe),u=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),A=Mn(i,a,u[0],o),f=Mn(i,a,u[1],o),m=IA(IA(IA({},Xt(d,!1)),{},{fill:"none"},Xt(c,!1)),{},{x1:A.x,y1:A.y,x2:f.x,y2:f.y});return _e.createElement("line",Xx({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,u=jQ(i,ZKe),A=this.getTickTextAnchor(),f=Xt(u,!1),m=Xt(o,!1),x=a.map(function(p,v){var y=n.getTickValueCoord(p),b=IA(IA(IA(IA({textAnchor:A,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:d},m),{},{index:v},y),{},{payload:p});return _e.createElement(Ir,Xx({className:gr("recharts-polar-radius-axis-tick",Mee(o)),key:"tick-".concat(p.coordinate)},Vf(n.props,p,v)),t.renderTickItem(o,b,c?c(p.value,v):p.value))});return _e.createElement(Ir,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:_e.createElement(Ir,{className:gr("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ji.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return _e.isValidElement(n)?o=_e.cloneElement(n,i):ar(n)?o=n(i):o=_e.createElement(Kf,Xx({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(_.PureComponent);G5(q5,"displayName","PolarRadiusAxis");G5(q5,"axisType","radiusAxis");G5(q5,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function VA(){return VA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VA.apply(this,arguments)}function _Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_Q(Object(r),!0).forEach(function(n){Y5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_Q(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nte(n.key),n)}}function lWe(e,t,r){return t&&CQ(e.prototype,t),r&&CQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cWe(e,t,r){return t=Fj(t),dWe(e,rte()?Reflect.construct(t,r||[],Fj(e).constructor):t.apply(e,r))}function dWe(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uWe(e)}function uWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rte=function(){return!!e})()}function Fj(e){return Fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fj(e)}function hWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hk(e,t)}function Hk(e,t){return Hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hk(e,t)}function Y5(e,t,r){return t=nte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nte(e){var t=AWe(e,"string");return yg(t)=="symbol"?t:t+""}function AWe(e,t){if(yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fWe=Math.PI/180,BQ=1e-5,X5=function(e){function t(){return oWe(this,t),cWe(this,t,arguments)}return hWe(t,e),lWe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,u=d||8,A=Mn(a,o,l,n.coordinate),f=Mn(a,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:A.x,y1:A.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*fWe),o;return a>BQ?o=i==="outer"?"start":"end":a<-BQ?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=TA(TA({},Xt(this.props,!1)),{},{fill:"none"},Xt(l,!1));if(c==="circle")return _e.createElement(eb,VA({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var u=this.props.ticks,A=u.map(function(f){return Mn(i,a,o,f.coordinate)});return _e.createElement(EKe,VA({className:"recharts-polar-angle-axis-line"},d,{points:A}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,u=Xt(this.props,!1),A=Xt(o,!1),f=TA(TA({},u),{},{fill:"none"},Xt(l,!1)),m=a.map(function(x,p){var v=n.getTickLineCoord(x),y=n.getTickTextAnchor(x),b=TA(TA(TA({textAnchor:y},u),{},{stroke:"none",fill:d},A),{},{index:p,payload:x,x:v.x2,y:v.y2});return _e.createElement(Ir,VA({className:gr("recharts-polar-angle-axis-tick",Mee(o)),key:"tick-".concat(x.coordinate)},Vf(n.props,x,p)),l&&_e.createElement("line",VA({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&t.renderTickItem(o,b,c?c(x.value,p):x.value))});return _e.createElement(Ir,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:_e.createElement(Ir,{className:gr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return _e.isValidElement(n)?o=_e.cloneElement(n,i):ar(n)?o=n(i):o=_e.createElement(Kf,VA({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(_.PureComponent);Y5(X5,"displayName","PolarAngleAxis");Y5(X5,"axisType","angleAxis");Y5(X5,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mWe=oJ,pWe=mWe(Object.getPrototypeOf,Object),gWe=pWe,xWe=_u,yWe=gWe,vWe=Cu,bWe="[object Object]",wWe=Function.prototype,jWe=Object.prototype,ste=wWe.toString,NWe=jWe.hasOwnProperty,_We=ste.call(Object);function CWe(e){if(!vWe(e)||xWe(e)!=bWe)return!1;var t=yWe(e);if(t===null)return!0;var r=NWe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ste.call(r)==_We}var BWe=CWe;const SWe=Zr(BWe);var EWe=_u,kWe=Cu,PWe="[object Boolean]";function IWe(e){return e===!0||e===!1||kWe(e)&&EWe(e)==PWe}var TWe=IWe;const OWe=Zr(TWe);function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uj.apply(this,arguments)}function LWe(e,t){return DWe(e)||RWe(e,t)||UWe(e,t)||FWe()}function FWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UWe(e,t){if(e){if(typeof e=="string")return SQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SQ(e,t)}}function SQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function DWe(e){if(Array.isArray(e))return e}function EQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EQ(Object(r),!0).forEach(function(n){MWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MWe(e,t,r){return t=QWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QWe(e){var t=$We(e,"string");return ov(t)=="symbol"?t:t+""}function $We(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PQ=function(t,r,n,i,a){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},HWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zWe=function(t){var r=kQ(kQ({},HWe),t),n=_.useRef(),i=_.useState(-1),a=LWe(i,2),o=a[0],l=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,A=r.lowerWidth,f=r.height,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||A!==+A||f!==+f||u===0&&A===0||f===0)return null;var b=gr("recharts-trapezoid",m);return y?_e.createElement(pc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:u,lowerWidth:A,height:f,x:c,y:d},duration:p,animationEasing:x,isActive:y},function(w){var j=w.upperWidth,N=w.lowerWidth,B=w.height,I=w.x,P=w.y;return _e.createElement(pc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:x},_e.createElement("path",Uj({},Xt(r,!0),{className:b,d:PQ(I,P,j,N,B),ref:n})))}):_e.createElement("g",null,_e.createElement("path",Uj({},Xt(r,!0),{className:b,d:PQ(c,d,u,A,f)})))},VWe=["option","shapeType","propTransformer","activeClassName","isActive"];function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function KWe(e,t){if(e==null)return{};var r=WWe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IQ(Object(r),!0).forEach(function(n){GWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GWe(e,t,r){return t=qWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qWe(e){var t=YWe(e,"string");return lv(t)=="symbol"?t:t+""}function YWe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XWe(e,t){return Rj(Rj({},t),e)}function ZWe(e,t){return e==="symbols"}function TQ(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return _e.createElement(aT,r);case"trapezoid":return _e.createElement(zWe,r);case"sector":return _e.createElement(Hee,r);case"symbols":if(ZWe(t))return _e.createElement(_I,r);break;default:return null}}function JWe(e){return _.isValidElement(e)?e.props:e}function ite(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?XWe:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=KWe(e,VWe),d;if(_.isValidElement(t))d=_.cloneElement(t,Rj(Rj({},c),JWe(t)));else if(ar(t))d=t(c);else if(SWe(t)&&!OWe(t)){var u=i(t,c);d=_e.createElement(TQ,{shapeType:r,elementProps:u})}else{var A=c;d=_e.createElement(TQ,{shapeType:r,elementProps:A})}return l?_e.createElement(Ir,{className:o},d):d}function Z5(e,t){return t!=null&&"trapezoids"in e.props}function J5(e,t){return t!=null&&"sectors"in e.props}function cv(e,t){return t!=null&&"points"in e.props}function eGe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function tGe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function rGe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function nGe(e,t){var r;return Z5(e,t)?r=eGe:J5(e,t)?r=tGe:cv(e,t)&&(r=rGe),r}function sGe(e,t){var r;return Z5(e,t)?r="trapezoids":J5(e,t)?r="sectors":cv(e,t)&&(r="points"),r}function iGe(e,t){if(Z5(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(J5(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return cv(e,t)?t.payload:{}}function aGe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=sGe(r,t),a=iGe(r,t),o=n.filter(function(c,d){var u=Wf(a,c),A=r.props[i].filter(function(x){var p=nGe(r,t);return p(x,t)}),f=r.props[i].indexOf(A[A.length-1]),m=d===f;return u&&m}),l=n.indexOf(o[o.length-1]);return l}var O1;function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}function OQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OQ(Object(r),!0).forEach(function(n){ol(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ote(n.key),n)}}function lGe(e,t,r){return t&&LQ(e.prototype,t),r&&LQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cGe(e,t,r){return t=Dj(t),dGe(e,ate()?Reflect.construct(t,r||[],Dj(e).constructor):t.apply(e,r))}function dGe(e,t){if(t&&(vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uGe(e)}function uGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ate(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ate=function(){return!!e})()}function Dj(e){return Dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dj(e)}function hGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zk(e,t)}function zk(e,t){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zk(e,t)}function ol(e,t,r){return t=ote(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ote(e){var t=AGe(e,"string");return vg(t)=="symbol"?t:t+""}function AGe(e,t){if(vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Su=function(e){function t(r){var n;return oGe(this,t),n=cGe(this,t,[r]),ol(n,"pieRef",null),ol(n,"sectorRefs",[]),ol(n,"id",lm("recharts-pie-")),ol(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ar(i)&&i()}),ol(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ar(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return hGe(t,e),lGe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,u=Xt(this.props,!1),A=Xt(o,!1),f=Xt(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(p,v){var y=(p.startAngle+p.endAngle)/2,b=Mn(p.cx,p.cy,p.outerRadius+m,y),w=Fn(Fn(Fn(Fn({},u),p),{},{stroke:"none"},A),{},{index:v,textAnchor:t.getTextAnchor(b.x,p.cx)},b),j=Fn(Fn(Fn(Fn({},u),p),{},{fill:"none",stroke:p.fill},f),{},{index:v,points:[Mn(p.cx,p.cy,p.outerRadius,y),b]}),N=c;return fr(c)&&fr(d)?N="value":fr(c)&&(N=d),_e.createElement(Ir,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,w,$s(p,N)))});return _e.createElement(Ir,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var A=i.isActiveIndex(u),f=c&&i.hasActiveIndex()?c:null,m=A?o:f,x=Fn(Fn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return _e.createElement(Ir,mp({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Vf(i.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),_e.createElement(ite,mp({option:m,isActive:A,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,u=i.animationId,A=this.state,f=A.prevSectors,m=A.prevIsAnimationActive;return _e.createElement(pc,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,v=[],y=a&&a[0],b=y.startAngle;return a.forEach(function(w,j){var N=f&&f[j],B=j>0?ko(w,"paddingAngle",0):0;if(N){var I=Ai(N.endAngle-N.startAngle,w.endAngle-w.startAngle),P=Fn(Fn({},w),{},{startAngle:b+B,endAngle:b+I(p)+B});v.push(P),b=P.endAngle}else{var T=w.endAngle,F=w.startAngle,E=Ai(0,T-F),k=E(p),M=Fn(Fn({},w),{},{startAngle:b+B,endAngle:b+k+B});v.push(M),b=M.endAngle}}),_e.createElement(Ir,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Wf(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,u=i.cy,A=i.innerRadius,f=i.outerRadius,m=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!vt(d)||!vt(u)||!vt(A)||!vt(f))return null;var p=gr("recharts-pie",l);return _e.createElement(Ir,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),ji.renderCallByParent(this.props,null,!1),(!m||x)&&rd.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(_e.isValidElement(n))return _e.cloneElement(n,i);if(ar(n))return n(i);var o=gr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return _e.createElement(wf,mp({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(_e.isValidElement(n))return _e.cloneElement(n,i);var o=a;if(ar(n)&&(o=n(i),_e.isValidElement(o)))return o;var l=gr("recharts-pie-label-text",typeof n!="boolean"&&!ar(n)?n.className:"");return _e.createElement(Kf,mp({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(_.PureComponent);O1=Su;ol(Su,"displayName","Pie");ol(Su,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!dA.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ol(Su,"parseDeltaAngle",function(e,t){var r=ba(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ol(Su,"getRealPieData",function(e){var t=e.data,r=e.children,n=Xt(e,!1),i=Po(r,U5);return t&&t.length?t.map(function(a,o){return Fn(Fn(Fn({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Fn(Fn({},n),a.props)}):[]});ol(Su,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=Dee(i,a),l=n+wa(e.cx,i,i/2),c=r+wa(e.cy,a,a/2),d=wa(e.innerRadius,o,0),u=wa(e.outerRadius,o,o*.8),A=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:A}});ol(Su,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Fn(Fn({},t.type.defaultProps),t.props):t.props,i=O1.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,A=n.valueKey,f=n.tooltipType,m=Math.abs(n.minAngle),x=O1.parseCoordinateOfPie(n,r),p=O1.parseDeltaAngle(o,l),v=Math.abs(p),y=d;fr(d)&&fr(A)?(oc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):fr(d)&&(oc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=A);var b=i.filter(function(P){return $s(P,y,0)!==0}).length,w=(v>=360?b:b-1)*c,j=v-b*m-w,N=i.reduce(function(P,T){var F=$s(T,y,0);return P+(vt(F)?F:0)},0),B;if(N>0){var I;B=i.map(function(P,T){var F=$s(P,y,0),E=$s(P,u,T),k=(vt(F)?F:0)/N,M;T?M=I.endAngle+ba(p)*c*(F!==0?1:0):M=o;var U=M+ba(p)*((F!==0?m:0)+k*j),W=(M+U)/2,Y=(x.innerRadius+x.outerRadius)/2,Q=[{name:E,value:F,payload:P,dataKey:y,type:f}],z=Mn(x.cx,x.cy,Y,W);return I=Fn(Fn(Fn({percent:k,cornerRadius:a,name:E,tooltipPayload:Q,midAngle:W,middleRadius:Y,tooltipPosition:z},P),x),{},{value:$s(P,y),startAngle:M,endAngle:U,payload:P,paddingAngle:ba(p)*c}),I})}return Fn(Fn({},x),{},{sectors:B,data:i})});var fGe=Math.ceil,mGe=Math.max;function pGe(e,t,r,n){for(var i=-1,a=mGe(fGe((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var gGe=pGe,xGe=CJ,FQ=1/0,yGe=17976931348623157e292;function vGe(e){if(!e)return e===0?e:0;if(e=xGe(e),e===FQ||e===-FQ){var t=e<0?-1:1;return t*yGe}return e===e?e:0}var lte=vGe,bGe=gGe,wGe=F5,JB=lte;function jGe(e){return function(t,r,n){return n&&typeof n!="number"&&wGe(t,r,n)&&(r=n=void 0),t=JB(t),r===void 0?(r=t,t=0):r=JB(r),n=n===void 0?t<r?1:-1:JB(n),bGe(t,r,n,e)}}var NGe=jGe,_Ge=NGe,CGe=_Ge(),BGe=CGe;const Mj=Zr(BGe);function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function UQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UQ(Object(r),!0).forEach(function(n){cte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cte(e,t,r){return t=SGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SGe(e){var t=EGe(e,"string");return dv(t)=="symbol"?t:t+""}function EGe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kGe=["Webkit","Moz","O","ms"],PGe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=kGe.reduce(function(a,o){return RQ(RQ({},a),{},cte({},o+n,r))},{});return i[t]=r,i};function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qj.apply(this,arguments)}function DQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DQ(Object(r),!0).forEach(function(n){yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ute(n.key),n)}}function TGe(e,t,r){return t&&MQ(e.prototype,t),r&&MQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OGe(e,t,r){return t=$j(t),LGe(e,dte()?Reflect.construct(t,r||[],$j(e).constructor):t.apply(e,r))}function LGe(e,t){if(t&&(bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FGe(e)}function FGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dte=function(){return!!e})()}function $j(e){return $j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$j(e)}function UGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vk(e,t)}function Vk(e,t){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vk(e,t)}function yo(e,t,r){return t=ute(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=RGe(e,"string");return bg(t)=="symbol"?t:t+""}function RGe(e,t){if(bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DGe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Wx().domain(Mj(0,c)).range([a,a+o-l]),u=d.domain().map(function(A){return d(A)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:u}},QQ=function(t){return t.changedTouches&&!!t.changedTouches.length},wg=function(e){function t(r){var n;return IGe(this,t),n=OGe(this,t,[r]),yo(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),yo(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),yo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),yo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),yo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),yo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),yo(n,"handleSlideDragStart",function(i){var a=QQ(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return UGe(t,e),TGe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,A=Math.min(i,a),f=Math.max(i,a),m=t.getIndexInRange(o,A),x=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=$s(a[n],l,n);return ar(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,u=c.width,A=c.travellerWidth,f=c.startIndex,m=c.endIndex,x=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,d+u-A-l,d+u-A-o):p<0&&(p=Math.max(p,d-o,d-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==f||v.endIndex!==m)&&x&&x(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=QQ(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],u=this.props,A=u.x,f=u.width,m=u.travellerWidth,x=u.onChange,p=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,A+f-m-d):b<0&&(b=Math.max(b,A-d)),y[o]=d+b;var w=this.getIndex(y),j=w.startIndex,N=w.endIndex,B=function(){var P=v.length-1;return o==="startX"&&(l>c?j%p===0:N%p===0)||l<c&&N===P||o==="endX"&&(l>c?N%p===0:j%p===0)||l>c&&N===P};this.setState(yo(yo({},o,d+b),"brushMoveStartX",n.pageX),function(){x&&B()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[i],A=l.indexOf(u);if(A!==-1){var f=A+n;if(!(f===-1||f>=l.length)){var m=l[f];i==="startX"&&m>=d||i==="endX"&&m<=c||this.setState(yo({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return _e.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,A=_.Children.only(d);return A?_e.cloneElement(A,{x:i,y:a,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,A=c.height,f=c.traveller,m=c.ariaLabel,x=c.data,p=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=eS(eS({},Xt(this.props,!1)),{},{x:y,y:d,width:u,height:A}),w=m||"Min value: ".concat((a=x[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return _e.createElement(Ir,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,u=Math.min(n,i)+d,A=Math.max(Math.abs(i-n)-d,0);return _e.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:A,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,A=u.startX,f=u.endX,m=5,x={pointerEvents:"none",fill:d};return _e.createElement(Ir,{className:"recharts-brush-texts"},_e.createElement(Kf,Qj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(A,f)-m,y:o+l/2},x),this.getTextOfTick(i)),_e.createElement(Kf,Qj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(A,f)+c+m,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,A=n.alwaysShowText,f=this.state,m=f.startX,x=f.endX,p=f.isTextActive,v=f.isSlideMoving,y=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!vt(l)||!vt(c)||!vt(d)||!vt(u)||d<=0||u<=0)return null;var w=gr("recharts-brush",a),j=_e.Children.count(o)===1,N=PGe("userSelect","none");return _e.createElement(Ir,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(p||v||y||b||A)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(a+l/2)-1;return _e.createElement(_e.Fragment,null,_e.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),_e.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),_e.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return _e.isValidElement(n)?a=_e.cloneElement(n,i):ar(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,A=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return eS({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?DGe({data:a,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:A}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var f=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(_.PureComponent);yo(wg,"displayName","Brush");yo(wg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var MGe=II;function QGe(e,t){var r;return MGe(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var $Ge=QGe,HGe=JZ,zGe=xd,VGe=$Ge,KGe=ro,WGe=F5;function GGe(e,t,r){var n=KGe(e)?HGe:VGe;return r&&WGe(e,t,r)&&(t=void 0),n(e,zGe(t))}var qGe=GGe;const YGe=Zr(qGe);var nd=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},$Q=bJ;function XGe(e,t,r){t=="__proto__"&&$Q?$Q(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ZGe=XGe,JGe=ZGe,eqe=yJ,tqe=xd;function rqe(e,t){var r={};return t=tqe(t),eqe(e,function(n,i,a){JGe(r,i,t(n,i,a))}),r}var nqe=rqe;const sqe=Zr(nqe);function iqe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var aqe=iqe,oqe=II;function lqe(e,t){var r=!0;return oqe(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var cqe=lqe,dqe=aqe,uqe=cqe,hqe=xd,Aqe=ro,fqe=F5;function mqe(e,t,r){var n=Aqe(e)?dqe:uqe;return r&&fqe(e,t,r)&&(t=void 0),n(e,hqe(t))}var pqe=mqe;const hte=Zr(pqe);var gqe=["x","y"];function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kk.apply(this,arguments)}function HQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HQ(Object(r),!0).forEach(function(n){xqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xqe(e,t,r){return t=yqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yqe(e){var t=vqe(e,"string");return uv(t)=="symbol"?t:t+""}function vqe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bqe(e,t){if(e==null)return{};var r=wqe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jqe(e,t){var r=e.x,n=e.y,i=bqe(e,gqe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||i.height),u=parseInt(d,10),A="".concat(t.width||i.width),f=parseInt(A,10);return ex(ex(ex(ex(ex({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function zQ(e){return _e.createElement(ite,Kk({shapeType:"rectangle",propTransformer:jqe,activeClassName:"recharts-active-bar"},e))}var Nqe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=vt(n)||KPe(n);return a?t(n,i):(a||qf(),r)}},_qe=["value","background"],Ate;function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function Cqe(e,t){if(e==null)return{};var r=Bqe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hj.apply(this,arguments)}function VQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VQ(Object(r),!0).forEach(function(n){_h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mte(n.key),n)}}function Eqe(e,t,r){return t&&KQ(e.prototype,t),r&&KQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kqe(e,t,r){return t=zj(t),Pqe(e,fte()?Reflect.construct(t,r||[],zj(e).constructor):t.apply(e,r))}function Pqe(e,t){if(t&&(jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iqe(e)}function Iqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fte=function(){return!!e})()}function zj(e){return zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zj(e)}function Tqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wk(e,t)}function Wk(e,t){return Wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wk(e,t)}function _h(e,t,r){return t=mte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mte(e){var t=Oqe(e,"string");return jg(t)=="symbol"?t:t+""}function Oqe(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vu=function(e){function t(){var r;Sqe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=kqe(this,t,[].concat(i)),_h(r,"state",{isAnimationFinished:!1}),_h(r,"id",lm("recharts-bar-")),_h(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),_h(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Tqe(t,e),Eqe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,u=Xt(this.props,!1);return n&&n.map(function(A,f){var m=f===c,x=m?d:o,p=Ws(Ws(Ws({},u),A),{},{isActive:m,option:x,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return _e.createElement(Ir,Hj({className:"recharts-bar-rectangle"},Vf(i.props,A,f),{key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(f)}),_e.createElement(zQ,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,u=i.animationEasing,A=i.animationId,f=this.state.prevData;return _e.createElement(pc,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,p=a.map(function(v,y){var b=f&&f[y];if(b){var w=Ai(b.x,v.x),j=Ai(b.y,v.y),N=Ai(b.width,v.width),B=Ai(b.height,v.height);return Ws(Ws({},v),{},{x:w(x),y:j(x),width:N(x),height:B(x)})}if(o==="horizontal"){var I=Ai(0,v.height),P=I(x);return Ws(Ws({},v),{},{y:v.y+v.height-P,height:P})}var T=Ai(0,v.width),F=T(x);return Ws(Ws({},v),{},{width:F})});return _e.createElement(Ir,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Wf(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Xt(this.props.background,!1);return a.map(function(d,u){d.value;var A=d.background,f=Cqe(d,_qe);if(!A)return null;var m=Ws(Ws(Ws(Ws(Ws({},f),{},{fill:"#eee"},A),c),Vf(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return _e.createElement(zQ,Hj({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,A=Po(u,Jv);if(!A)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,m=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:$s(v,y)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return _e.createElement(Ir,x,A.map(function(p){return _e.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,A=n.width,f=n.height,m=n.isAnimationActive,x=n.background,p=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=gr("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=b||w,N=fr(p)?this.id:p;return _e.createElement(Ir,{className:y},b||w?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(N)},_e.createElement("rect",{x:b?d:d-A/2,y:w?u:u-f/2,width:b?A:A*2,height:w?f:f*2}))):null,_e.createElement(Ir,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!m||v)&&rd.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(_.PureComponent);Ate=vu;_h(vu,"displayName","Bar");_h(vu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dA.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_h(vu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,A=e.displayedData,f=e.offset,m=d9e(n,r);if(!m)return null;var x=t.layout,p=r.type.defaultProps,v=p!==void 0?Ws(Ws({},p),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,j=x==="horizontal"?o:a,N=d?j.scale.domain():null,B=g9e({numericAxis:j}),I=Po(b,U5),P=A.map(function(T,F){var E,k,M,U,W,Y;d?E=u9e(d[u+F],N):(E=$s(T,y),Array.isArray(E)||(E=[B,E]));var Q=Nqe(w,Ate.defaultProps.minPointSize)(E[1],F);if(x==="horizontal"){var z,te=[o.scale(E[0]),o.scale(E[1])],re=te[0],J=te[1];k=R7({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:T,index:F}),M=(z=J??re)!==null&&z!==void 0?z:void 0,U=m.size;var H=re-J;if(W=Number.isNaN(H)?0:H,Y={x:k,y:o.y,width:U,height:o.height},Math.abs(Q)>0&&Math.abs(W)<Math.abs(Q)){var Z=ba(W||Q)*(Math.abs(Q)-Math.abs(W));M-=Z,W+=Z}}else{var K=[a.scale(E[0]),a.scale(E[1])],ie=K[0],oe=K[1];if(k=ie,M=R7({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:T,index:F}),U=oe-ie,W=m.size,Y={x:a.x,y:M,width:a.width,height:W},Math.abs(Q)>0&&Math.abs(U)<Math.abs(Q)){var he=ba(U||Q)*(Math.abs(Q)-Math.abs(U));U+=he}}return Ws(Ws(Ws({},T),{},{x:k,y:M,width:U,height:W,value:d?E:E[1],payload:T,background:Y},I&&I[F]&&I[F].props),{},{tooltipPayload:[Uee(r,T)],tooltipPosition:{x:k+U/2,y:M+W/2}})});return Ws({data:P,layout:x},f)});function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function Lqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pte(n.key),n)}}function Fqe(e,t,r){return t&&WQ(e.prototype,t),r&&WQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GQ(Object(r),!0).forEach(function(n){e_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e_(e,t,r){return t=pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=Uqe(e,"string");return hv(t)=="symbol"?t:t+""}function Uqe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oT=function(t,r,n,i,a){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),A={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!bo(d,vu);return u.reduce(function(m,x){var p=r[x],v=p.orientation,y=p.domain,b=p.padding,w=b===void 0?{}:b,j=p.mirror,N=p.reversed,B="".concat(v).concat(j?"Mirror":""),I,P,T,F,E;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var k=y[1]-y[0],M=1/0,U=p.categoricalDomain.sort(qPe);if(U.forEach(function(K,ie){ie>0&&(M=Math.min((K||0)-(U[ie-1]||0),M))}),Number.isFinite(M)){var W=M/k,Y=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(I=W*Y/2),p.padding==="no-gap"){var Q=wa(t.barCategoryGap,W*Y),z=W*Y/2;I=z-Q-(z-Q)/Y*Q}}}i==="xAxis"?P=[n.left+(w.left||0)+(I||0),n.left+n.width-(w.right||0)-(I||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(I||0),n.top+n.height-(w.bottom||0)-(I||0)]:P=p.range,N&&(P=[P[1],P[0]]);var te=Tee(p,a,f),re=te.scale,J=te.realScaleType;re.domain(y).range(P),Oee(re);var H=Lee(re,Zl(Zl({},p),{},{realScaleType:J}));i==="xAxis"?(E=v==="top"&&!j||v==="bottom"&&j,T=n.left,F=A[B]-E*p.height):i==="yAxis"&&(E=v==="left"&&!j||v==="right"&&j,T=A[B]-E*p.width,F=n.top);var Z=Zl(Zl(Zl({},p),H),{},{realScaleType:J,x:T,y:F,scale:re,width:i==="xAxis"?n.width:p.width,height:i==="yAxis"?n.height:p.height});return Z.bandSize=Bj(Z,H),!p.hide&&i==="xAxis"?A[B]+=(E?-1:1)*Z.height:p.hide||(A[B]+=(E?-1:1)*Z.width),Zl(Zl({},m),{},e_({},x,Z))},{})},gte=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Rqe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return gte({x:r,y:n},{x:i,y:a})},xte=function(){function e(t){Lqe(this,e),this.scale=t}return Fqe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();e_(xte,"EPS",1e-4);var lT=function(t){var r=Object.keys(t).reduce(function(n,i){return Zl(Zl({},n),{},e_({},i,xte.create(t[i])))},{});return Zl(Zl({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return sqe(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return hte(i,function(a,o){return r[o].isInRange(a)})}})};function Dqe(e){return(e%180+180)%180}var Mqe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Dqe(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Qqe=xd,$qe=Gv,Hqe=O5;function zqe(e){return function(t,r,n){var i=Object(t);if(!$qe(t)){var a=Qqe(r);t=Hqe(t),r=function(l){return a(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}var Vqe=zqe,Kqe=lte;function Wqe(e){var t=Kqe(e),r=t%1;return t===t?r?t-r:t:0}var Gqe=Wqe,qqe=AJ,Yqe=xd,Xqe=Gqe,Zqe=Math.max;function Jqe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Xqe(r);return i<0&&(i=Zqe(n+i,0)),qqe(e,Yqe(t),i)}var eYe=Jqe,tYe=Vqe,rYe=eYe,nYe=tYe(rYe),sYe=nYe;const iYe=Zr(sYe);var aYe=Z3e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),cT=_.createContext(void 0),dT=_.createContext(void 0),yte=_.createContext(void 0),vte=_.createContext({}),bte=_.createContext(void 0),wte=_.createContext(0),jte=_.createContext(0),qQ=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=aYe(a);return _e.createElement(cT.Provider,{value:n},_e.createElement(dT.Provider,{value:i},_e.createElement(vte.Provider,{value:a},_e.createElement(yte.Provider,{value:u},_e.createElement(bte.Provider,{value:o},_e.createElement(wte.Provider,{value:d},_e.createElement(jte.Provider,{value:c},l)))))))},oYe=function(){return _.useContext(bte)},Nte=function(t){var r=_.useContext(cT);r==null&&qf();var n=r[t];return n==null&&qf(),n},lYe=function(){var t=_.useContext(cT);return ph(t)},cYe=function(){var t=_.useContext(dT),r=iYe(t,function(n){return hte(n.domain,Number.isFinite)});return r||ph(t)},_te=function(t){var r=_.useContext(dT);r==null&&qf();var n=r[t];return n==null&&qf(),n},dYe=function(){var t=_.useContext(yte);return t},uYe=function(){return _.useContext(vte)},uT=function(){return _.useContext(jte)},hT=function(){return _.useContext(wte)};function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function hYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bte(n.key),n)}}function fYe(e,t,r){return t&&AYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mYe(e,t,r){return t=Vj(t),pYe(e,Cte()?Reflect.construct(t,r||[],Vj(e).constructor):t.apply(e,r))}function pYe(e,t){if(t&&(Ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gYe(e)}function gYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cte=function(){return!!e})()}function Vj(e){return Vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vj(e)}function xYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gk(e,t)}function Gk(e,t){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gk(e,t)}function YQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YQ(Object(r),!0).forEach(function(n){AT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AT(e,t,r){return t=Bte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bte(e){var t=yYe(e,"string");return Ng(t)=="symbol"?t:t+""}function yYe(e,t){if(Ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vYe(e,t){return NYe(e)||jYe(e,t)||wYe(e,t)||bYe()}function bYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wYe(e,t){if(e){if(typeof e=="string")return ZQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZQ(e,t)}}function ZQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jYe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function NYe(e){if(Array.isArray(e))return e}function qk(){return qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qk.apply(this,arguments)}var _Ye=function(t,r){var n;return _e.isValidElement(t)?n=_e.cloneElement(t,r):ar(t)?n=t(r):n=_e.createElement("line",qk({},r,{className:"recharts-reference-line-line"})),n},CYe=function(t,r,n,i,a,o,l,c,d){var u=a.x,A=a.y,f=a.width,m=a.height;if(n){var x=d.y,p=t.y.apply(x,{position:o});if(nd(d,"discard")&&!t.y.isInRange(p))return null;var v=[{x:u+f,y:p},{x:u,y:p}];return c==="left"?v.reverse():v}if(r){var y=d.x,b=t.x.apply(y,{position:o});if(nd(d,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:A+m},{x:b,y:A}];return l==="top"?w.reverse():w}if(i){var j=d.segment,N=j.map(function(B){return t.apply(B,{position:o})});return nd(d,"discard")&&YGe(N,function(B){return!t.isInRange(B)})?null:N}return null};function BYe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=oYe(),u=Nte(i),A=_te(a),f=dYe();if(!d||!f)return null;oc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=lT({x:u.scale,y:A.scale}),x=mi(t),p=mi(r),v=n&&n.length===2,y=CYe(m,x,p,v,f,e.position,u.orientation,A.orientation,e);if(!y)return null;var b=vYe(y,2),w=b[0],j=w.x,N=w.y,B=b[1],I=B.x,P=B.y,T=nd(e,"hidden")?"url(#".concat(d,")"):void 0,F=XQ(XQ({clipPath:T},Xt(e,!0)),{},{x1:j,y1:N,x2:I,y2:P});return _e.createElement(Ir,{className:gr("recharts-reference-line",l)},_Ye(o,F),ji.renderCallByParent(e,Rqe({x1:j,y1:N,x2:I,y2:P})))}var fT=function(e){function t(){return hYe(this,t),mYe(this,t,arguments)}return xYe(t,e),fYe(t,[{key:"render",value:function(){return _e.createElement(BYe,this.props)}}])}(_e.Component);AT(fT,"displayName","ReferenceLine");AT(fT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yk.apply(this,arguments)}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function JQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JQ(Object(r),!0).forEach(function(n){t_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ete(n.key),n)}}function kYe(e,t,r){return t&&EYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PYe(e,t,r){return t=Kj(t),IYe(e,Ste()?Reflect.construct(t,r||[],Kj(e).constructor):t.apply(e,r))}function IYe(e,t){if(t&&(_g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TYe(e)}function TYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ste(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ste=function(){return!!e})()}function Kj(e){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kj(e)}function OYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xk(e,t)}function Xk(e,t){return Xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xk(e,t)}function t_(e,t,r){return t=Ete(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ete(e){var t=LYe(e,"string");return _g(t)=="symbol"?t:t+""}function LYe(e,t){if(_g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FYe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=lT({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return nd(t,"discard")&&!o.isInRange(l)?null:l},r_=function(e){function t(){return SYe(this,t),PYe(this,t,arguments)}return OYe(t,e),kYe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=mi(i),u=mi(a);if(oc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var A=FYe(this.props);if(!A)return null;var f=A.x,m=A.y,x=this.props,p=x.shape,v=x.className,y=nd(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=e$(e$({clipPath:y},Xt(this.props,!0)),{},{cx:f,cy:m});return _e.createElement(Ir,{className:gr("recharts-reference-dot",v)},t.renderDot(p,b),ji.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(_e.Component);t_(r_,"displayName","ReferenceDot");t_(r_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});t_(r_,"renderDot",function(e,t){var r;return _e.isValidElement(e)?r=_e.cloneElement(e,t):ar(e)?r=e(t):r=_e.createElement(eb,Yk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Zk(){return Zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zk.apply(this,arguments)}function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(n){n_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pte(n.key),n)}}function DYe(e,t,r){return t&&RYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MYe(e,t,r){return t=Wj(t),QYe(e,kte()?Reflect.construct(t,r||[],Wj(e).constructor):t.apply(e,r))}function QYe(e,t){if(t&&(Cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ye(e)}function $Ye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kte=function(){return!!e})()}function Wj(e){return Wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wj(e)}function HYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jk(e,t)}function Jk(e,t){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jk(e,t)}function n_(e,t,r){return t=Pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pte(e){var t=zYe(e,"string");return Cg(t)=="symbol"?t:t+""}function zYe(e,t){if(Cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VYe=function(t,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,u=a.xAxis,A=a.yAxis;if(!u||!A)return null;var f=lT({x:u.scale,y:A.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},x={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(d,{position:"end"}):f.y.rangeMax};return nd(a,"discard")&&(!f.isInRange(m)||!f.isInRange(x))?null:gte(m,x)},s_=function(e){function t(){return UYe(this,t),MYe(this,t,arguments)}return HYe(t,e),DYe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;oc(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=mi(i),f=mi(a),m=mi(o),x=mi(l),p=this.props.shape;if(!A&&!f&&!m&&!x&&!p)return null;var v=VYe(A,f,m,x,this.props);if(!v&&!p)return null;var y=nd(this.props,"hidden")?"url(#".concat(u,")"):void 0;return _e.createElement(Ir,{className:gr("recharts-reference-area",c)},t.renderRect(p,r$(r$({clipPath:y},Xt(this.props,!0)),v)),ji.renderCallByParent(this.props,v))}}])}(_e.Component);n_(s_,"displayName","ReferenceArea");n_(s_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});n_(s_,"renderRect",function(e,t){var r;return _e.isValidElement(e)?r=_e.cloneElement(e,t):ar(e)?r=e(t):r=_e.createElement(aT,Zk({},t,{className:"recharts-reference-area-rect"})),r});function Ite(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function KYe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Mqe(n,r)}function WYe(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Gj(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function GYe(e,t){return Ite(e,t+1)}function qYe(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,A=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:Ite(n,d)};var p=c,v,y=function(){return v===void 0&&(v=r(x,p)),v},b=x.coordinate,w=c===0||Gj(e,b,y,u,l);w||(c=0,u=o,d+=1),w&&(u=b+e*(y()/2+i),c+=d)},f;d<=a.length;)if(f=A(),f)return f.v;return[]}function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(n){YYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YYe(e,t,r){return t=XYe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XYe(e){var t=ZYe(e,"string");return Av(t)=="symbol"?t:t+""}function ZYe(e,t){if(Av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JYe(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,d=function(f){var m=a[f],x,p=function(){return x===void 0&&(x=r(m,f)),x};if(f===o-1){var v=e*(m.coordinate+e*p()/2-c);a[f]=m=ta(ta({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else a[f]=m=ta(ta({},m),{},{tickCoord:m.coordinate});var y=Gj(e,m.tickCoord,p,l,c);y&&(c=m.tickCoord-e*(p()/2+i),a[f]=ta(ta({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return a}function eXe(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(a){var u=n[l-1],A=r(u,l-1),f=e*(u.coordinate+e*A/2-d);o[l-1]=u=ta(ta({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var m=Gj(e,u.tickCoord,function(){return A},c,d);m&&(d=u.tickCoord-e*(A/2+i),o[l-1]=ta(ta({},u),{},{isShow:!0}))}for(var x=a?l-1:l,p=function(b){var w=o[b],j,N=function(){return j===void 0&&(j=r(w,b)),j};if(b===0){var B=e*(w.coordinate-e*N()/2-c);o[b]=w=ta(ta({},w),{},{tickCoord:B<0?w.coordinate-B*e:w.coordinate})}else o[b]=w=ta(ta({},w),{},{tickCoord:w.coordinate});var I=Gj(e,w.tickCoord,N,c,d);I&&(c=w.tickCoord+e*(N()/2+i),o[b]=ta(ta({},w),{},{isShow:!0}))},v=0;v<x;v++)p(v);return o}function mT(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,A=e.angle;if(!i||!i.length||!n)return[];if(vt(c)||dA.isSsr)return GYe(i,typeof c=="number"&&vt(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",x=u&&m==="width"?Kx(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,j){var N=ar(d)?d(w.value,j):w.value;return m==="width"?KYe(Kx(N,{fontSize:t,letterSpacing:r}),x,A):Kx(N,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?ba(i[1].coordinate-i[0].coordinate):1,y=WYe(a,v,m);return c==="equidistantPreserveStart"?qYe(v,y,p,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=eXe(v,y,p,i,o,c==="preserveStartEnd"):f=JYe(v,y,p,i,o),f.filter(function(b){return b.isShow}))}var tXe=["viewBox"],rXe=["viewBox"],nXe=["ticks"];function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(this,arguments)}function s$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(r),!0).forEach(function(n){pT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tS(e,t){if(e==null)return{};var r=sXe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ote(n.key),n)}}function aXe(e,t,r){return t&&i$(e.prototype,t),r&&i$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oXe(e,t,r){return t=qj(t),lXe(e,Tte()?Reflect.construct(t,r||[],qj(e).constructor):t.apply(e,r))}function lXe(e,t){if(t&&(Bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cXe(e)}function cXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tte=function(){return!!e})()}function qj(e){return qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qj(e)}function dXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}function e3(e,t){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e3(e,t)}function pT(e,t,r){return t=Ote(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ote(e){var t=uXe(e,"string");return Bg(t)=="symbol"?t:t+""}function uXe(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var d0=function(e){function t(r){var n;return iXe(this,t),n=oXe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return dXe(t,e),aXe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=tS(n,tXe),l=this.props,c=l.viewBox,d=tS(l,rXe);return!Mp(a,c)||!Mp(o,d)||!Mp(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,u=i.tickSize,A=i.mirror,f=i.tickMargin,m,x,p,v,y,b,w=A?-1:1,j=n.tickSize||u,N=vt(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":m=x=n.coordinate,v=o+ +!A*c,p=v-w*j,b=p-w*f,y=N;break;case"left":p=v=n.coordinate,x=a+ +!A*l,m=x-w*j,y=m-w*f,b=N;break;case"right":p=v=n.coordinate,x=a+ +A*l,m=x+w*j,y=m+w*f,b=N;break;default:m=x=n.coordinate,v=o+ +A*c,p=v+w*j,b=p+w*f,y=N;break}return{line:{x1:m,y1:p,x2:x,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,A=ci(ci(ci({},Xt(this.props,!1)),Xt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);A=ci(ci({},A),{},{x1:i,y1:a+f*l,x2:i+o,y2:a+f*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);A=ci(ci({},A),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+l})}return _e.createElement("line",pp({},A,{className:gr("recharts-cartesian-axis-line",ko(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,A=l.tickFormatter,f=l.unit,m=mT(ci(ci({},this.props),{},{ticks:n}),i,a),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Xt(this.props,!1),y=Xt(u,!1),b=ci(ci({},v),{},{fill:"none"},Xt(c,!1)),w=m.map(function(j,N){var B=o.getTickLineCoord(j),I=B.line,P=B.tick,T=ci(ci(ci(ci({textAnchor:x,verticalAnchor:p},v),{},{stroke:"none",fill:d},y),P),{},{index:N,payload:j,visibleTicksCount:m.length,tickFormatter:A});return _e.createElement(Ir,pp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Vf(o.props,j,N)),c&&_e.createElement("line",pp({},b,I,{className:gr("recharts-cartesian-axis-tick-line",ko(c,"className"))})),u&&t.renderTickItem(u,T,"".concat(ar(A)?A(j.value,N):j.value).concat(f||"")))});return _e.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,u=i.hide;if(u)return null;var A=this.props,f=A.ticks,m=tS(A,nXe),x=f;return ar(c)&&(x=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:_e.createElement(Ir,{className:gr("recharts-cartesian-axis",d),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),ji.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=gr(i.className,"recharts-cartesian-axis-tick-value");return _e.isValidElement(n)?o=_e.cloneElement(n,ci(ci({},i),{},{className:l})):ar(n)?o=n(ci(ci({},i),{},{className:l})):o=_e.createElement(Kf,pp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(_.Component);pT(d0,"displayName","CartesianAxis");pT(d0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hXe=["x1","y1","x2","y2","key"],AXe=["offset"];function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(n){fXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fXe(e,t,r){return t=mXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mXe(e){var t=pXe(e,"string");return Yf(t)=="symbol"?t:t+""}function pXe(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function o$(e,t){if(e==null)return{};var r=gXe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var xXe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return _e.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Lte(e,t){var r;if(_e.isValidElement(e))r=_e.cloneElement(e,t);else if(ar(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=o$(t,hXe),d=Xt(c,!1);d.offset;var u=o$(d,AXe);r=_e.createElement("line",of({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function yXe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=ia(ia({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Lte(i,d)});return _e.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function vXe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=ia(ia({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Lte(i,d)});return _e.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function bXe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==u[0]&&u.unshift(0);var A=u.map(function(f,m){var x=!u[m+1],p=x?i+o-f:u[m+1]-f;if(p<=0)return null;var v=m%t.length;return _e.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _e.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function wXe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==u[0]&&u.unshift(0);var A=u.map(function(f,m){var x=!u[m+1],p=x?a+l-f:u[m+1]-f;if(p<=0)return null;var v=m%n.length;return _e.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return _e.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var jXe=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return Iee(mT(ia(ia(ia({},d0.defaultProps),n),{},{ticks:qd(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},NXe=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return Iee(mT(ia(ia(ia({},d0.defaultProps),n),{},{ticks:qd(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Qm={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function jf(e){var t,r,n,i,a,o,l=uT(),c=hT(),d=uYe(),u=ia(ia({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qm.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Qm.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Qm.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Qm.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Qm.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qm.verticalFill,x:vt(e.x)?e.x:d.left,y:vt(e.y)?e.y:d.top,width:vt(e.width)?e.width:d.width,height:vt(e.height)?e.height:d.height}),A=u.x,f=u.y,m=u.width,x=u.height,p=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=lYe(),w=cYe();if(!vt(m)||m<=0||!vt(x)||x<=0||!vt(A)||A!==+A||!vt(f)||f!==+f)return null;var j=u.verticalCoordinatesGenerator||jXe,N=u.horizontalCoordinatesGenerator||NXe,B=u.horizontalPoints,I=u.verticalPoints;if((!B||!B.length)&&ar(N)){var P=v&&v.length,T=N({yAxis:w?ia(ia({},w),{},{ticks:P?v:w.ticks}):void 0,width:l,height:c,offset:d},P?!0:p);oc(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yf(T),"]")),Array.isArray(T)&&(B=T)}if((!I||!I.length)&&ar(j)){var F=y&&y.length,E=j({xAxis:b?ia(ia({},b),{},{ticks:F?y:b.ticks}):void 0,width:l,height:c,offset:d},F?!0:p);oc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yf(E),"]")),Array.isArray(E)&&(I=E)}return _e.createElement("g",{className:"recharts-cartesian-grid"},_e.createElement(xXe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),_e.createElement(yXe,of({},u,{offset:d,horizontalPoints:B,xAxis:b,yAxis:w})),_e.createElement(vXe,of({},u,{offset:d,verticalPoints:I,xAxis:b,yAxis:w})),_e.createElement(bXe,of({},u,{horizontalPoints:B})),_e.createElement(wXe,of({},u,{verticalPoints:I})))}jf.displayName="CartesianGrid";var _Xe=["type","layout","connectNulls","ref"],CXe=["key"];function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function l$(e,t){if(e==null)return{};var r=BXe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}function c$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(r),!0).forEach(function(n){Jl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $m(e){return PXe(e)||kXe(e)||EXe(e)||SXe()}function SXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EXe(e,t){if(e){if(typeof e=="string")return t3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t3(e,t)}}function kXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PXe(e){if(Array.isArray(e))return t3(e)}function t3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ute(n.key),n)}}function TXe(e,t,r){return t&&d$(e.prototype,t),r&&d$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OXe(e,t,r){return t=Yj(t),LXe(e,Fte()?Reflect.construct(t,r||[],Yj(e).constructor):t.apply(e,r))}function LXe(e,t){if(t&&(Sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FXe(e)}function FXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fte=function(){return!!e})()}function Yj(e){return Yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yj(e)}function UXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r3(e,t)}function Jl(e,t,r){return t=Ute(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ute(e){var t=RXe(e,"string");return Sg(t)=="symbol"?t:t+""}function RXe(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xf=function(e){function t(){var r;IXe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=OXe(this,t,[].concat(i)),Jl(r,"state",{isAnimationFinished:!0,totalLength:0}),Jl(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Jl(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(y,b){return y+b});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),A=o%d,f=l-o,m=[],x=0,p=0;x<c.length;p+=c[x],++x)if(p+c[x]>A){m=[].concat($m(c.slice(0,x)),[A-p]);break}var v=m.length%2===0?[0,f]:[f];return[].concat($m(t.repeat(c,u)),$m(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Jl(r,"id",lm("recharts-line-")),Jl(r,"pathRef",function(o){r.mainCurve=o}),Jl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Jl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return UXe(t,e),TXe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,A=Po(u,Jv);if(!A)return null;var f=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:$s(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return _e.createElement(Ir,m,A.map(function(x){return _e.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,A=Xt(this.props,!1),f=Xt(c,!0),m=d.map(function(p,v){var y=xo(xo(xo({key:"dot-".concat(v),r:3},A),f),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:d});return t.renderDotItem(c,y)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return _e.createElement(Ir,Zx({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var A=l$(l,_Xe),f=xo(xo(xo({},Xt(A,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return _e.createElement(wf,Zx({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,A=o.animationDuration,f=o.animationEasing,m=o.animationId,x=o.animateNewValues,p=o.width,v=o.height,y=this.state,b=y.prevPoints,w=y.totalLength;return _e.createElement(pc,{begin:u,duration:A,isActive:d,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var N=j.t;if(b){var B=b.length/l.length,I=l.map(function(k,M){var U=Math.floor(M*B);if(b[U]){var W=b[U],Y=Ai(W.x,k.x),Q=Ai(W.y,k.y);return xo(xo({},k),{},{x:Y(N),y:Q(N)})}if(x){var z=Ai(p*2,k.x),te=Ai(v/2,k.y);return xo(xo({},k),{},{x:z(N),y:te(N)})}return xo(xo({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(I,n,i)}var P=Ai(0,w),T=P(N),F;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});F=a.getStrokeDasharray(T,w,E)}else F=a.generateSimpleStrokeDasharray(w,T);return a.renderCurveStatically(l,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Wf(d,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,u=i.yAxis,A=i.top,f=i.left,m=i.width,x=i.height,p=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=gr("recharts-line",c),j=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,B=j||N,I=fr(v)?this.id:v,P=(n=Xt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=P.r,F=T===void 0?3:T,E=P.strokeWidth,k=E===void 0?2:E,M=NZ(o)?o:{},U=M.clipDot,W=U===void 0?!0:U,Y=F*2+k;return _e.createElement(Ir,{className:w},j||N?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(I)},_e.createElement("rect",{x:j?f:f-m/2,y:N?A:A-x/2,width:j?m:m*2,height:N?x:x*2})),!W&&_e.createElement("clipPath",{id:"clipPath-dots-".concat(I)},_e.createElement("rect",{x:f-Y/2,y:A-Y/2,width:m+Y,height:x+Y}))):null,!b&&this.renderCurve(B,I),this.renderErrorBar(B,I),(b||o)&&this.renderDots(B,W,I),(!p||y)&&rd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat($m(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat($m(o),$m(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(_e.isValidElement(n))a=_e.cloneElement(n,i);else if(ar(n))a=n(i);else{var o=i.key,l=l$(i,CXe),c=gr("recharts-line-dot",typeof n!="boolean"?n.className:"");a=_e.createElement(eb,Zx({key:o},l,{className:c}))}return a}}])}(_.PureComponent);Jl(Xf,"displayName","Line");Jl(Xf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!dA.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Jl(Xf,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,A=c.map(function(f,m){var x=$s(f,o);return u==="horizontal"?{x:Cj({axis:r,ticks:i,bandSize:l,entry:f,index:m}),y:fr(x)?null:n.scale(x),value:x,payload:f}:{x:fr(x)?null:r.scale(x),y:Cj({axis:n,ticks:a,bandSize:l,entry:f,index:m}),value:x,payload:f}});return xo({points:A,layout:u},d)});var DXe=["layout","type","stroke","connectNulls","isRange","ref"],MXe=["key"],Rte;function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function Dte(e,t){if(e==null)return{};var r=QXe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}function u$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u$(Object(r),!0).forEach(function(n){Kc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qte(n.key),n)}}function HXe(e,t,r){return t&&h$(e.prototype,t),r&&h$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zXe(e,t,r){return t=Xj(t),VXe(e,Mte()?Reflect.construct(t,r||[],Xj(e).constructor):t.apply(e,r))}function VXe(e,t){if(t&&(Eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KXe(e)}function KXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mte=function(){return!!e})()}function Xj(e){return Xj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xj(e)}function WXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}function n3(e,t){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n3(e,t)}function Kc(e,t,r){return t=Qte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=GXe(e,"string");return Eg(t)=="symbol"?t:t+""}function GXe(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eu=function(e){function t(){var r;$Xe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zXe(this,t,[].concat(i)),Kc(r,"state",{isAnimationFinished:!0}),Kc(r,"id",lm("recharts-area-")),Kc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ar(o)&&o()}),Kc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ar(o)&&o()}),r}return WXe(t,e),HXe(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,A=c.dataKey,f=Xt(this.props,!1),m=Xt(d,!0),x=u.map(function(v,y){var b=ah(ah(ah({key:"dot-".concat(y),r:3},f),m),{},{index:y,cx:v.x,cy:v.y,dataKey:A,value:v.value,payload:v.payload,points:u});return t.renderDotItem(d,b)}),p={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return _e.createElement(Ir,lf({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=n*Math.abs(c-d),A=Nh(o.map(function(f){return f.y||0}));return vt(a)&&typeof a=="number"?A=Math.max(a,A):a&&Array.isArray(a)&&a.length&&(A=Math.max(Nh(a.map(function(f){return f.y||0})),A)),vt(A)?_e.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(A+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=n*Math.abs(c-d),A=Nh(o.map(function(f){return f.x||0}));return vt(a)&&typeof a=="number"?A=Math.max(a,A):a&&Array.isArray(a)&&a.length&&(A=Math.max(Nh(a.map(function(f){return f.x||0})),A)),vt(A)?_e.createElement("rect",{x:0,y:c<d?c:c-u,width:A+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,A=l.connectNulls,f=l.isRange;l.ref;var m=Dte(l,DXe);return _e.createElement(Ir,{clipPath:a?"url(#clipPath-".concat(o,")"):null},_e.createElement(wf,lf({},Xt(m,!0),{points:n,connectNulls:A,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&_e.createElement(wf,lf({},Xt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:A,fill:"none",points:n})),u!=="none"&&f&&_e.createElement(wf,lf({},Xt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:A,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,A=o.animationDuration,f=o.animationEasing,m=o.animationId,x=this.state,p=x.prevPoints,v=x.prevBaseLine;return _e.createElement(pc,{begin:u,duration:A,isActive:d,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(p){var w=p.length/l.length,j=l.map(function(P,T){var F=Math.floor(T*w);if(p[F]){var E=p[F],k=Ai(E.x,P.x),M=Ai(E.y,P.y);return ah(ah({},P),{},{x:k(b),y:M(b)})}return P}),N;if(vt(c)&&typeof c=="number"){var B=Ai(v,c);N=B(b)}else if(fr(c)||n0(c)){var I=Ai(v,0);N=I(b)}else N=c.map(function(P,T){var F=Math.floor(T*w);if(v[F]){var E=v[F],k=Ai(E.x,P.x),M=Ai(E.y,P.y);return ah(ah({},P),{},{x:k(b),y:M(b)})}return P});return a.renderAreaStatically(j,N,n,i)}return _e.createElement(Ir,null,_e.createElement("defs",null,_e.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),_e.createElement(Ir,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,d=this.state,u=d.prevPoints,A=d.prevBaseLine,f=d.totalLength;return c&&o&&o.length&&(!u&&f>0||!Wf(u,o)||!Wf(A,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.top,u=i.left,A=i.xAxis,f=i.yAxis,m=i.width,x=i.height,p=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=gr("recharts-area",c),j=A&&A.allowDataOverflow,N=f&&f.allowDataOverflow,B=j||N,I=fr(v)?this.id:v,P=(n=Xt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=P.r,F=T===void 0?3:T,E=P.strokeWidth,k=E===void 0?2:E,M=NZ(o)?o:{},U=M.clipDot,W=U===void 0?!0:U,Y=F*2+k;return _e.createElement(Ir,{className:w},j||N?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(I)},_e.createElement("rect",{x:j?u:u-m/2,y:N?d:d-x/2,width:j?m:m*2,height:N?x:x*2})),!W&&_e.createElement("clipPath",{id:"clipPath-dots-".concat(I)},_e.createElement("rect",{x:u-Y/2,y:d-Y/2,width:m+Y,height:x+Y}))):null,b?null:this.renderArea(B,I),(o||b)&&this.renderDots(B,W,I),(!p||y)&&rd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(_.PureComponent);Rte=Eu;Kc(Eu,"displayName","Area");Kc(Eu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!dA.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Kc(Eu,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(vt(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),A=Math.min(d[0],d[1]);return l==="dataMin"?A:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Kc(Eu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,A=e.displayedData,f=e.offset,m=t.layout,x=d&&d.length,p=Rte.getBaseValue(t,r,n,i),v=m==="horizontal",y=!1,b=A.map(function(j,N){var B;x?B=d[u+N]:(B=$s(j,c),Array.isArray(B)?y=!0:B=[p,B]);var I=B[1]==null||x&&$s(j,c)==null;return v?{x:Cj({axis:n,ticks:a,bandSize:l,entry:j,index:N}),y:I?null:i.scale(B[1]),value:B,payload:j}:{x:I?null:n.scale(B[1]),y:Cj({axis:i,ticks:o,bandSize:l,entry:j,index:N}),value:B,payload:j}}),w;return x||y?w=b.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return v?{x:j.x,y:N!=null&&j.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:j.y}}):w=v?i.scale(p):n.scale(p),ah({points:b,baseLine:w,layout:m,isRange:y},f)});Kc(Eu,"renderDotItem",function(e,t){var r;if(_e.isValidElement(e))r=_e.cloneElement(e,t);else if(ar(e))r=e(t);else{var n=gr("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=Dte(t,MXe);r=_e.createElement(eb,lf({},a,{key:i,className:n}))}return r});function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function qXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YXe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zte(n.key),n)}}function XXe(e,t,r){return t&&YXe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZXe(e,t,r){return t=Zj(t),JXe(e,$te()?Reflect.construct(t,r||[],Zj(e).constructor):t.apply(e,r))}function JXe(e,t){if(t&&(kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eZe(e)}function eZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($te=function(){return!!e})()}function Zj(e){return Zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zj(e)}function tZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s3(e,t)}function Hte(e,t,r){return t=zte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zte(e){var t=rZe(e,"string");return kg(t)=="symbol"?t:t+""}function rZe(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function i3(){return i3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i3.apply(this,arguments)}function nZe(e){var t=e.xAxisId,r=uT(),n=hT(),i=Nte(t);return i==null?null:_.createElement(d0,i3({},i,{className:gr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return qd(o,!0)}}))}var lc=function(e){function t(){return qXe(this,t),ZXe(this,t,arguments)}return tZe(t,e),XXe(t,[{key:"render",value:function(){return _.createElement(nZe,this.props)}}])}(_.Component);Hte(lc,"displayName","XAxis");Hte(lc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function sZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iZe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wte(n.key),n)}}function aZe(e,t,r){return t&&iZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oZe(e,t,r){return t=Jj(t),lZe(e,Vte()?Reflect.construct(t,r||[],Jj(e).constructor):t.apply(e,r))}function lZe(e,t){if(t&&(Pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cZe(e)}function cZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vte=function(){return!!e})()}function Jj(e){return Jj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jj(e)}function dZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a3(e,t)}function Kte(e,t,r){return t=Wte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wte(e){var t=uZe(e,"string");return Pg(t)=="symbol"?t:t+""}function uZe(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function o3(){return o3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o3.apply(this,arguments)}var hZe=function(t){var r=t.yAxisId,n=uT(),i=hT(),a=_te(r);return a==null?null:_.createElement(d0,o3({},a,{className:gr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return qd(l,!0)}}))},hl=function(e){function t(){return sZe(this,t),oZe(this,t,arguments)}return dZe(t,e),aZe(t,[{key:"render",value:function(){return _.createElement(hZe,this.props)}}])}(_.Component);Kte(hl,"displayName","YAxis");Kte(hl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function A$(e){return pZe(e)||mZe(e)||fZe(e)||AZe()}function AZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZe(e,t){if(e){if(typeof e=="string")return l3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l3(e,t)}}function mZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pZe(e){if(Array.isArray(e))return l3(e)}function l3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c3=function(t,r,n,i,a){var o=Po(t,fT),l=Po(t,r_),c=[].concat(A$(o),A$(l)),d=Po(t,s_),u="".concat(i,"Id"),A=i[0],f=r;if(c.length&&(f=c.reduce(function(p,v){if(v.props[u]===n&&nd(v.props,"extendDomain")&&vt(v.props[A])){var y=v.props[A];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},f)),d.length){var m="".concat(A,"1"),x="".concat(A,"2");f=d.reduce(function(p,v){if(v.props[u]===n&&nd(v.props,"extendDomain")&&vt(v.props[m])&&vt(v.props[x])){var y=v.props[m],b=v.props[x];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},f)}return a&&a.length&&(f=a.reduce(function(p,v){return vt(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},f)),f},Gte={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function a(c,d,u,A,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,A||c,f),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,A;if(this._eventsCount===0)return d;for(A in u=this._events)t.call(u,A)&&d.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,A=this._events[u];if(!A)return[];if(A.fn)return[A.fn];for(var f=0,m=A.length,x=new Array(m);f<m;f++)x[f]=A[f].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,A=this._events[u];return A?A.fn?1:A.length:0},l.prototype.emit=function(d,u,A,f,m,x){var p=r?r+d:d;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,A),!0;case 4:return v.fn.call(v.context,u,A,f),!0;case 5:return v.fn.call(v.context,u,A,f,m),!0;case 6:return v.fn.call(v.context,u,A,f,m,x),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,N;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(d,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,A);break;case 4:v[w].fn.call(v[w].context,u,A,f);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(d,u,A){return a(this,d,u,A,!1)},l.prototype.once=function(d,u,A){return a(this,d,u,A,!0)},l.prototype.removeListener=function(d,u,A,f){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===u&&(!f||x.once)&&(!A||x.context===A)&&o(this,m);else{for(var p=0,v=[],y=x.length;p<y;p++)(x[p].fn!==u||f&&!x[p].once||A&&x[p].context!==A)&&v.push(x[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Gte);var gZe=Gte.exports;const xZe=Zr(gZe);var rS=new xZe,nS="recharts.syncMouseEvents";function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function yZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vZe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qte(n.key),n)}}function bZe(e,t,r){return t&&vZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sS(e,t,r){return t=qte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qte(e){var t=wZe(e,"string");return fv(t)=="symbol"?t:t+""}function wZe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jZe=function(){function e(){yZe(this,e),sS(this,"activeIndex",0),sS(this,"coordinateList",[]),sS(this,"layout","horizontal")}return bZe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,A=u===void 0?null:u,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=A??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,A=a+c+d,f=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:A,pageY:f})}}}])}();function NZe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&vt(n)&&vt(i))return!0}return!1}function _Ze(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Yte(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=Mn(t,r,n,i),l=Mn(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function CZe(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,A=t.angle,f=Mn(l,c,d,A),m=Mn(l,c,u,A);n=f.x,i=f.y,a=m.x,o=m.y}else return Yte(t);return[{x:n,y:i},{x:a,y:o}]}function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(n){BZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BZe(e,t,r){return t=SZe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SZe(e){var t=EZe(e,"string");return mv(t)=="symbol"?t:t+""}function EZe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kZe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,A=e.layout,f=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var x,p=wf;if(f==="ScatterChart")x=o,p=RKe;else if(f==="BarChart")x=_Ze(A,o,c,u),p=aT;else if(A==="radial"){var v=Yte(o),y=v.cx,b=v.cy,w=v.radius,j=v.startAngle,N=v.endAngle;x={cx:y,cy:b,startAngle:j,endAngle:N,innerRadius:w,outerRadius:w},p=Hee}else x={points:CZe(A,o,c)},p=wf;var B=Hw(Hw(Hw(Hw({stroke:"#ccc",pointerEvents:"none"},c),x),Xt(m,!1)),{},{payload:l,payloadIndex:d,className:gr("recharts-tooltip-cursor",m.className)});return _.isValidElement(m)?_.cloneElement(m,B):_.createElement(p,B)}var PZe=["item"],IZe=["children","className","width","height","style","compact","title","desc"];function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}function m$(e,t){return LZe(e)||OZe(e,t)||Zte(e,t)||TZe()}function TZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OZe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function LZe(e){if(Array.isArray(e))return e}function p$(e,t){if(e==null)return{};var r=FZe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FZe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RZe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jte(n.key),n)}}function DZe(e,t,r){return t&&RZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MZe(e,t,r){return t=eN(t),QZe(e,Xte()?Reflect.construct(t,r||[],eN(e).constructor):t.apply(e,r))}function QZe(e,t){if(t&&(Ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ze(e)}function $Ze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xte=function(){return!!e})()}function eN(e){return eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eN(e)}function HZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d3(e,t)}function d3(e,t){return d3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d3(e,t)}function Tg(e){return KZe(e)||VZe(e)||Zte(e)||zZe()}function zZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zte(e,t){if(e){if(typeof e=="string")return u3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u3(e,t)}}function VZe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KZe(e){if(Array.isArray(e))return u3(e)}function u3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(n){nr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nr(e,t,r){return t=Jte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jte(e){var t=WZe(e,"string");return Ig(t)=="symbol"?t:t+""}function WZe(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GZe={xAxis:["bottom","top"],yAxis:["left","right"]},qZe={width:"100%",height:"100%"},ere={x:0,y:0};function zw(e){return e}var YZe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},XZe=function(t,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Ye(Ye(Ye({},i),Mn(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return Ye(Ye(Ye({},i),Mn(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return ere},i_=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Tg(l),Tg(d)):l},[]);return o.length>0?o:t&&t.length&&vt(i)&&vt(a)?t.slice(i,a+1):[]};function tre(e){return e==="number"?[0,"auto"]:void 0}var h3=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,l=i_(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,d){var u,A=(u=d.props.data)!==null&&u!==void 0?u:r;A&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(A=A.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=A===void 0?l:A;f=Z2(m,o.dataKey,i)}else f=A&&A[n]||l[n];return f?[].concat(Tg(c),[Uee(d,f)]):c},[])},x$=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=YZe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=s9e(o,l,d,c);if(u>=0&&d){var A=d[u]&&d[u].value,f=h3(t,r,u,A),m=XZe(n,l,u,a);return{activeTooltipIndex:u,activeLabel:A,activePayload:f,activeCoordinate:m}}return null},ZZe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,A=t.children,f=t.stackOffset,m=Pee(u,a);return n.reduce(function(x,p){var v,y=p.type.defaultProps!==void 0?Ye(Ye({},p.type.defaultProps),p.props):p.props,b=y.type,w=y.dataKey,j=y.allowDataOverflow,N=y.allowDuplicatedCategory,B=y.scale,I=y.ticks,P=y.includeHidden,T=y[o];if(x[T])return x;var F=i_(t.data,{graphicalItems:i.filter(function(H){var Z,K=o in H.props?H.props[o]:(Z=H.type.defaultProps)===null||Z===void 0?void 0:Z[o];return K===T}),dataStartIndex:c,dataEndIndex:d}),E=F.length,k,M,U;NZe(y.domain,j,b)&&(k=_k(y.domain,null,j),m&&(b==="number"||B!=="auto")&&(U=Gx(F,w,"category")));var W=tre(b);if(!k||k.length===0){var Y,Q=(Y=y.domain)!==null&&Y!==void 0?Y:W;if(w){if(k=Gx(F,w,b),b==="category"&&m){var z=GPe(k);N&&z?(M=k,k=Mj(0,E)):N||(k=Q7(Q,k,p).reduce(function(H,Z){return H.indexOf(Z)>=0?H:[].concat(Tg(H),[Z])},[]))}else if(b==="category")N?k=k.filter(function(H){return H!==""&&!fr(H)}):k=Q7(Q,k,p).reduce(function(H,Z){return H.indexOf(Z)>=0||Z===""||fr(Z)?H:[].concat(Tg(H),[Z])},[]);else if(b==="number"){var te=c9e(F,i.filter(function(H){var Z,K,ie=o in H.props?H.props[o]:(Z=H.type.defaultProps)===null||Z===void 0?void 0:Z[o],oe="hide"in H.props?H.props.hide:(K=H.type.defaultProps)===null||K===void 0?void 0:K.hide;return ie===T&&(P||!oe)}),w,a,u);te&&(k=te)}m&&(b==="number"||B!=="auto")&&(U=Gx(F,w,"category"))}else m?k=Mj(0,E):l&&l[T]&&l[T].hasStack&&b==="number"?k=f==="expand"?[0,1]:Fee(l[T].stackGroups,c,d):k=kee(F,i.filter(function(H){var Z=o in H.props?H.props[o]:H.type.defaultProps[o],K="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return Z===T&&(P||!K)}),b,u,!0);if(b==="number")k=c3(A,k,T,a,I),Q&&(k=_k(Q,k,j));else if(b==="category"&&Q){var re=Q,J=k.every(function(H){return re.indexOf(H)>=0});J&&(k=re)}}return Ye(Ye({},x),{},nr({},T,Ye(Ye({},y),{},{axisType:a,domain:k,categoricalDomain:U,duplicateDomain:M,originalDomain:(v=y.domain)!==null&&v!==void 0?v:W,isCategorical:m,layout:u})))},{})},JZe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,A=t.children,f=i_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),m=f.length,x=Pee(u,a),p=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?Ye(Ye({},y.type.defaultProps),y.props):y.props,w=b[o],j=tre("number");if(!v[w]){p++;var N;return x?N=Mj(0,m):l&&l[w]&&l[w].hasStack?(N=Fee(l[w].stackGroups,c,d),N=c3(A,N,w,a)):(N=_k(j,kee(f,n.filter(function(B){var I,P,T=o in B.props?B.props[o]:(I=B.type.defaultProps)===null||I===void 0?void 0:I[o],F="hide"in B.props?B.props.hide:(P=B.type.defaultProps)===null||P===void 0?void 0:P.hide;return T===w&&!F}),"number",u),i.defaultProps.allowDataOverflow),N=c3(A,N,w,a)),Ye(Ye({},v),{},nr({},w,Ye(Ye({axisType:a},i.defaultProps),{},{hide:!0,orientation:ko(GZe,"".concat(a,".").concat(p%2),null),domain:N,originalDomain:j,isCategorical:x,layout:u})))}return v},{})},eJe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,A="".concat(i,"Id"),f=Po(u,a),m={};return f&&f.length?m=ZZe(t,{axes:f,graphicalItems:o,axisType:i,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(m=JZe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},tJe=function(t){var r=ph(t),n=qd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:TI(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Bj(r,n)}},y$=function(t){var r=t.children,n=t.defaultShowTooltip,i=bo(r,wg),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},rJe=function(t){return!t||!t.length?!1:t.some(function(r){var n=su(r&&r.type);return n&&n.indexOf("Bar")>=0})},v$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nJe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,A=n.children,f=n.margin||{},m=bo(A,wg),x=bo(A,Mh),p=Object.keys(c).reduce(function(N,B){var I=c[B],P=I.orientation;return!I.mirror&&!I.hide?Ye(Ye({},N),{},nr({},P,N[P]+I.width)):N},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(N,B){var I=o[B],P=I.orientation;return!I.mirror&&!I.hide?Ye(Ye({},N),{},nr({},P,ko(N,"".concat(P))+I.height)):N},{top:f.top||0,bottom:f.bottom||0}),y=Ye(Ye({},v),p),b=y.bottom;m&&(y.bottom+=m.props.height||wg.defaultProps.height),x&&r&&(y=o9e(y,i,n,r));var w=d-y.left-y.right,j=u-y.top-y.bottom;return Ye(Ye({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(j,0)})},sJe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},a_=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,A=t.defaultProps,f=function(y,b){var w=b.graphicalItems,j=b.stackGroups,N=b.offset,B=b.updateId,I=b.dataStartIndex,P=b.dataEndIndex,T=y.barSize,F=y.layout,E=y.barGap,k=y.barCategoryGap,M=y.maxBarSize,U=v$(F),W=U.numericAxisName,Y=U.cateAxisName,Q=rJe(w),z=[];return w.forEach(function(te,re){var J=i_(y.data,{graphicalItems:[te],dataStartIndex:I,dataEndIndex:P}),H=te.type.defaultProps!==void 0?Ye(Ye({},te.type.defaultProps),te.props):te.props,Z=H.dataKey,K=H.maxBarSize,ie=H["".concat(W,"Id")],oe=H["".concat(Y,"Id")],he={},pe=c.reduce(function(tt,ge){var Be=b["".concat(ge.axisType,"Map")],Ne=H["".concat(ge.axisType,"Id")];Be&&Be[Ne]||ge.axisType==="zAxis"||qf();var ke=Be[Ne];return Ye(Ye({},tt),{},nr(nr({},ge.axisType,ke),"".concat(ge.axisType,"Ticks"),qd(ke)))},he),ee=pe[Y],fe=pe["".concat(Y,"Ticks")],ue=j&&j[ie]&&j[ie].hasStack&&x9e(te,j[ie].stackGroups),V=su(te.type).indexOf("Bar")>=0,ve=Bj(ee,fe),Se=[],ne=Q&&i9e({barSize:T,stackGroups:j,totalSize:sJe(pe,Y)});if(V){var xe,Le,ze=fr(K)?M:K,Te=(xe=(Le=Bj(ee,fe,!0))!==null&&Le!==void 0?Le:ze)!==null&&xe!==void 0?xe:0;Se=a9e({barGap:E,barCategoryGap:k,bandSize:Te!==ve?Te:ve,sizeList:ne[oe],maxBarSize:ze}),Te!==ve&&(Se=Se.map(function(tt){return Ye(Ye({},tt),{},{position:Ye(Ye({},tt.position),{},{offset:tt.position.offset-Te/2})})}))}var lt=te&&te.type&&te.type.getComposedData;lt&&z.push({props:Ye(Ye({},lt(Ye(Ye({},pe),{},{displayedData:J,props:y,dataKey:Z,item:te,bandSize:ve,barPosition:Se,offset:N,stackedData:ue,layout:F,dataStartIndex:I,dataEndIndex:P}))),{},nr(nr(nr({key:te.key||"item-".concat(re)},W,pe[W]),Y,pe[Y]),"animationId",B)),childIndex:a6e(te,y.children),item:te})}),z},m=function(y,b){var w=y.props,j=y.dataStartIndex,N=y.dataEndIndex,B=y.updateId;if(!LM({props:w}))return null;var I=w.children,P=w.layout,T=w.stackOffset,F=w.data,E=w.reverseStackOrder,k=v$(P),M=k.numericAxisName,U=k.cateAxisName,W=Po(I,n),Y=p9e(F,W,"".concat(M,"Id"),"".concat(U,"Id"),T,E),Q=c.reduce(function(H,Z){var K="".concat(Z.axisType,"Map");return Ye(Ye({},H),{},nr({},K,eJe(w,Ye(Ye({},Z),{},{graphicalItems:W,stackGroups:Z.axisType===M&&Y,dataStartIndex:j,dataEndIndex:N}))))},{}),z=nJe(Ye(Ye({},Q),{},{props:w,graphicalItems:W}),b==null?void 0:b.legendBBox);Object.keys(Q).forEach(function(H){Q[H]=u(w,Q[H],z,H.replace("Map",""),r)});var te=Q["".concat(U,"Map")],re=tJe(te),J=f(w,Ye(Ye({},Q),{},{dataStartIndex:j,dataEndIndex:N,updateId:B,graphicalItems:W,stackGroups:Y,offset:z}));return Ye(Ye({formattedGraphicalItems:J,graphicalItems:W,offset:z,stackGroups:Y},re),Q)},x=function(v){function y(b){var w,j,N;return UZe(this,y),N=MZe(this,y,[b]),nr(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nr(N,"accessibilityManager",new jZe),nr(N,"handleLegendBBoxUpdate",function(B){if(B){var I=N.state,P=I.dataStartIndex,T=I.dataEndIndex,F=I.updateId;N.setState(Ye({legendBBox:B},m({props:N.props,dataStartIndex:P,dataEndIndex:T,updateId:F},Ye(Ye({},N.state),{},{legendBBox:B}))))}}),nr(N,"handleReceiveSyncEvent",function(B,I,P){if(N.props.syncId===B){if(P===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(I)}}),nr(N,"handleBrushChange",function(B){var I=B.startIndex,P=B.endIndex;if(I!==N.state.dataStartIndex||P!==N.state.dataEndIndex){var T=N.state.updateId;N.setState(function(){return Ye({dataStartIndex:I,dataEndIndex:P},m({props:N.props,dataStartIndex:I,dataEndIndex:P,updateId:T},N.state))}),N.triggerSyncEvent({dataStartIndex:I,dataEndIndex:P})}}),nr(N,"handleMouseEnter",function(B){var I=N.getMouseInfo(B);if(I){var P=Ye(Ye({},I),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var T=N.props.onMouseEnter;ar(T)&&T(P,B)}}),nr(N,"triggeredAfterMouseMove",function(B){var I=N.getMouseInfo(B),P=I?Ye(Ye({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var T=N.props.onMouseMove;ar(T)&&T(P,B)}),nr(N,"handleItemMouseEnter",function(B){N.setState(function(){return{isTooltipActive:!0,activeItem:B,activePayload:B.tooltipPayload,activeCoordinate:B.tooltipPosition||{x:B.cx,y:B.cy}}})}),nr(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),nr(N,"handleMouseMove",function(B){B.persist(),N.throttleTriggeredAfterMouseMove(B)}),nr(N,"handleMouseLeave",function(B){N.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};N.setState(I),N.triggerSyncEvent(I);var P=N.props.onMouseLeave;ar(P)&&P(I,B)}),nr(N,"handleOuterEvent",function(B){var I=i6e(B),P=ko(N.props,"".concat(I));if(I&&ar(P)){var T,F;/.*touch.*/i.test(I)?F=N.getMouseInfo(B.changedTouches[0]):F=N.getMouseInfo(B),P((T=F)!==null&&T!==void 0?T:{},B)}}),nr(N,"handleClick",function(B){var I=N.getMouseInfo(B);if(I){var P=Ye(Ye({},I),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var T=N.props.onClick;ar(T)&&T(P,B)}}),nr(N,"handleMouseDown",function(B){var I=N.props.onMouseDown;if(ar(I)){var P=N.getMouseInfo(B);I(P,B)}}),nr(N,"handleMouseUp",function(B){var I=N.props.onMouseUp;if(ar(I)){var P=N.getMouseInfo(B);I(P,B)}}),nr(N,"handleTouchMove",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(B.changedTouches[0])}),nr(N,"handleTouchStart",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.handleMouseDown(B.changedTouches[0])}),nr(N,"handleTouchEnd",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.handleMouseUp(B.changedTouches[0])}),nr(N,"handleDoubleClick",function(B){var I=N.props.onDoubleClick;if(ar(I)){var P=N.getMouseInfo(B);I(P,B)}}),nr(N,"handleContextMenu",function(B){var I=N.props.onContextMenu;if(ar(I)){var P=N.getMouseInfo(B);I(P,B)}}),nr(N,"triggerSyncEvent",function(B){N.props.syncId!==void 0&&rS.emit(nS,N.props.syncId,B,N.eventEmitterSymbol)}),nr(N,"applySyncEvent",function(B){var I=N.props,P=I.layout,T=I.syncMethod,F=N.state.updateId,E=B.dataStartIndex,k=B.dataEndIndex;if(B.dataStartIndex!==void 0||B.dataEndIndex!==void 0)N.setState(Ye({dataStartIndex:E,dataEndIndex:k},m({props:N.props,dataStartIndex:E,dataEndIndex:k,updateId:F},N.state)));else if(B.activeTooltipIndex!==void 0){var M=B.chartX,U=B.chartY,W=B.activeTooltipIndex,Y=N.state,Q=Y.offset,z=Y.tooltipTicks;if(!Q)return;if(typeof T=="function")W=T(z,B);else if(T==="value"){W=-1;for(var te=0;te<z.length;te++)if(z[te].value===B.activeLabel){W=te;break}}var re=Ye(Ye({},Q),{},{x:Q.left,y:Q.top}),J=Math.min(M,re.x+re.width),H=Math.min(U,re.y+re.height),Z=z[W]&&z[W].value,K=h3(N.state,N.props.data,W),ie=z[W]?{x:P==="horizontal"?z[W].coordinate:J,y:P==="horizontal"?H:z[W].coordinate}:ere;N.setState(Ye(Ye({},B),{},{activeLabel:Z,activeCoordinate:ie,activePayload:K,activeTooltipIndex:W}))}else N.setState(B)}),nr(N,"renderCursor",function(B){var I,P=N.state,T=P.isTooltipActive,F=P.activeCoordinate,E=P.activePayload,k=P.offset,M=P.activeTooltipIndex,U=P.tooltipAxisBandSize,W=N.getTooltipEventType(),Y=(I=B.props.active)!==null&&I!==void 0?I:T,Q=N.props.layout,z=B.key||"_recharts-cursor";return _e.createElement(kZe,{key:z,activeCoordinate:F,activePayload:E,activeTooltipIndex:M,chartName:r,element:B,isActive:Y,layout:Q,offset:k,tooltipAxisBandSize:U,tooltipEventType:W})}),nr(N,"renderPolarAxis",function(B,I,P){var T=ko(B,"type.axisType"),F=ko(N.state,"".concat(T,"Map")),E=B.type.defaultProps,k=E!==void 0?Ye(Ye({},E),B.props):B.props,M=F&&F[k["".concat(T,"Id")]];return _.cloneElement(B,Ye(Ye({},M),{},{className:gr(T,M.className),key:B.key||"".concat(I,"-").concat(P),ticks:qd(M,!0)}))}),nr(N,"renderPolarGrid",function(B){var I=B.props,P=I.radialLines,T=I.polarAngles,F=I.polarRadius,E=N.state,k=E.radiusAxisMap,M=E.angleAxisMap,U=ph(k),W=ph(M),Y=W.cx,Q=W.cy,z=W.innerRadius,te=W.outerRadius;return _.cloneElement(B,{polarAngles:Array.isArray(T)?T:qd(W,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(F)?F:qd(U,!0).map(function(re){return re.coordinate}),cx:Y,cy:Q,innerRadius:z,outerRadius:te,key:B.key||"polar-grid",radialLines:P})}),nr(N,"renderLegend",function(){var B=N.state.formattedGraphicalItems,I=N.props,P=I.children,T=I.width,F=I.height,E=N.props.margin||{},k=T-(E.left||0)-(E.right||0),M=See({children:P,formattedGraphicalItems:B,legendWidth:k,legendContent:d});if(!M)return null;var U=M.item,W=p$(M,PZe);return _.cloneElement(U,Ye(Ye({},W),{},{chartWidth:T,chartHeight:F,margin:E,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),nr(N,"renderTooltip",function(){var B,I=N.props,P=I.children,T=I.accessibilityLayer,F=bo(P,na);if(!F)return null;var E=N.state,k=E.isTooltipActive,M=E.activeCoordinate,U=E.activePayload,W=E.activeLabel,Y=E.offset,Q=(B=F.props.active)!==null&&B!==void 0?B:k;return _.cloneElement(F,{viewBox:Ye(Ye({},Y),{},{x:Y.left,y:Y.top}),active:Q,label:W,payload:Q?U:[],coordinate:M,accessibilityLayer:T})}),nr(N,"renderBrush",function(B){var I=N.props,P=I.margin,T=I.data,F=N.state,E=F.offset,k=F.dataStartIndex,M=F.dataEndIndex,U=F.updateId;return _.cloneElement(B,{key:B.key||"_recharts-brush",onChange:Dw(N.handleBrushChange,B.props.onChange),data:T,x:vt(B.props.x)?B.props.x:E.left,y:vt(B.props.y)?B.props.y:E.top+E.height+E.brushBottom-(P.bottom||0),width:vt(B.props.width)?B.props.width:E.width,startIndex:k,endIndex:M,updateId:"brush-".concat(U)})}),nr(N,"renderReferenceElement",function(B,I,P){if(!B)return null;var T=N,F=T.clipPathId,E=N.state,k=E.xAxisMap,M=E.yAxisMap,U=E.offset,W=B.type.defaultProps||{},Y=B.props,Q=Y.xAxisId,z=Q===void 0?W.xAxisId:Q,te=Y.yAxisId,re=te===void 0?W.yAxisId:te;return _.cloneElement(B,{key:B.key||"".concat(I,"-").concat(P),xAxis:k[z],yAxis:M[re],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:F})}),nr(N,"renderActivePoints",function(B){var I=B.item,P=B.activePoint,T=B.basePoint,F=B.childIndex,E=B.isRange,k=[],M=I.props.key,U=I.item.type.defaultProps!==void 0?Ye(Ye({},I.item.type.defaultProps),I.item.props):I.item.props,W=U.activeDot,Y=U.dataKey,Q=Ye(Ye({index:F,dataKey:Y,cx:P.x,cy:P.y,r:4,fill:iT(I.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Xt(W,!1)),J2(W));return k.push(y.renderActiveDot(W,Q,"".concat(M,"-activePoint-").concat(F))),T?k.push(y.renderActiveDot(W,Ye(Ye({},Q),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(F))):E&&k.push(null),k}),nr(N,"renderGraphicChild",function(B,I,P){var T=N.filterFormatItem(B,I,P);if(!T)return null;var F=N.getTooltipEventType(),E=N.state,k=E.isTooltipActive,M=E.tooltipAxis,U=E.activeTooltipIndex,W=E.activeLabel,Y=N.props.children,Q=bo(Y,na),z=T.props,te=z.points,re=z.isRange,J=z.baseLine,H=T.item.type.defaultProps!==void 0?Ye(Ye({},T.item.type.defaultProps),T.item.props):T.item.props,Z=H.activeDot,K=H.hide,ie=H.activeBar,oe=H.activeShape,he=!!(!K&&k&&Q&&(Z||ie||oe)),pe={};F!=="axis"&&Q&&Q.props.trigger==="click"?pe={onClick:Dw(N.handleItemMouseEnter,B.props.onClick)}:F!=="axis"&&(pe={onMouseLeave:Dw(N.handleItemMouseLeave,B.props.onMouseLeave),onMouseEnter:Dw(N.handleItemMouseEnter,B.props.onMouseEnter)});var ee=_.cloneElement(B,Ye(Ye({},T.props),pe));function fe(ge){return typeof M.dataKey=="function"?M.dataKey(ge.payload):null}if(he)if(U>=0){var ue,V;if(M.dataKey&&!M.allowDuplicatedCategory){var ve=typeof M.dataKey=="function"?fe:"payload.".concat(M.dataKey.toString());ue=Z2(te,ve,W),V=re&&J&&Z2(J,ve,W)}else ue=te==null?void 0:te[U],V=re&&J&&J[U];if(oe||ie){var Se=B.props.activeIndex!==void 0?B.props.activeIndex:U;return[_.cloneElement(B,Ye(Ye(Ye({},T.props),pe),{},{activeIndex:Se})),null,null]}if(!fr(ue))return[ee].concat(Tg(N.renderActivePoints({item:T,activePoint:ue,basePoint:V,childIndex:U,isRange:re})))}else{var ne,xe=(ne=N.getItemByXY(N.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:ee},Le=xe.graphicalItem,ze=Le.item,Te=ze===void 0?B:ze,lt=Le.childIndex,tt=Ye(Ye(Ye({},T.props),pe),{},{activeIndex:lt});return[_.cloneElement(Te,tt),null,null]}return re?[ee,null,null]:[ee,null]}),nr(N,"renderCustomized",function(B,I,P){return _.cloneElement(B,Ye(Ye({key:"recharts-customized-".concat(P)},N.props),N.state))}),nr(N,"renderMap",{CartesianGrid:{handler:zw,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:zw},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:zw},YAxis:{handler:zw},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:lm("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=BJ(N.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return HZe(y,v),DZe(y,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,N=w.data,B=w.height,I=w.layout,P=bo(j,na);if(P){var T=P.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,E=h3(this.state,N,T,F),k=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+B)/2,U=I==="horizontal",W=U?{x:k,y:M}:{y:k,x:M},Y=this.state.formattedGraphicalItems.find(function(z){var te=z.item;return te.type.name==="Scatter"});Y&&(W=Ye(Ye({},W),Y.props.points[T].tooltipPosition),E=Y.props.points[T].tooltipPayload);var Q={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:F,activePayload:E,activeCoordinate:W};this.setState(Q),this.renderCursor(P),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,B;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0}})}return null}},{key:"componentDidUpdate",value:function(w){ME([bo(w.children,na)],[bo(this.props.children,na)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=bo(this.props.children,na);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),B=I8e(N),I={chartX:Math.round(w.pageX-B.left),chartY:Math.round(w.pageY-B.top)},P=N.width/j.offsetWidth||1,T=this.inRange(I.chartX,I.chartY,P);if(!T)return null;var F=this.state,E=F.xAxisMap,k=F.yAxisMap,M=this.getTooltipEventType(),U=x$(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&E&&k){var W=ph(E).scale,Y=ph(k).scale,Q=W&&W.invert?W.invert(I.chartX):null,z=Y&&Y.invert?Y.invert(I.chartY):null;return Ye(Ye({},I),{},{xValue:Q,yValue:z},U)}return U?Ye(Ye({},I),U):null}},{key:"inRange",value:function(w,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=this.props.layout,I=w/N,P=j/N;if(B==="horizontal"||B==="vertical"){var T=this.state.offset,F=I>=T.left&&I<=T.left+T.width&&P>=T.top&&P<=T.top+T.height;return F?{x:I,y:P}:null}var E=this.state,k=E.angleAxisMap,M=E.radiusAxisMap;if(k&&M){var U=ph(k);return z7({x:I,y:P},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),N=bo(w,na),B={};N&&j==="axis"&&(N.props.trigger==="click"?B={onClick:this.handleClick}:B={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=J2(this.props,this.handleOuterEvent);return Ye(Ye({},I),B)}},{key:"addListener",value:function(){rS.on(nS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){rS.removeListener(nS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,N){for(var B=this.state.formattedGraphicalItems,I=0,P=B.length;I<P;I++){var T=B[I];if(T.item===w||T.props.key===w.key||j===su(T.item.type)&&N===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,N=j.left,B=j.top,I=j.height,P=j.width;return _e.createElement("defs",null,_e.createElement("clipPath",{id:w},_e.createElement("rect",{x:N,y:B,height:I,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,N){var B=m$(N,2),I=B[0],P=B[1];return Ye(Ye({},j),{},nr({},I,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,N){var B=m$(N,2),I=B[0],P=B[1];return Ye(Ye({},j),{},nr({},I,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,N=j.formattedGraphicalItems,B=j.activeItem;if(N&&N.length)for(var I=0,P=N.length;I<P;I++){var T=N[I],F=T.props,E=T.item,k=E.type.defaultProps!==void 0?Ye(Ye({},E.type.defaultProps),E.props):E.props,M=su(E.type);if(M==="Bar"){var U=(F.data||[]).find(function(z){return xKe(w,z)});if(U)return{graphicalItem:T,payload:U}}else if(M==="RadialBar"){var W=(F.data||[]).find(function(z){return z7(w,z)});if(W)return{graphicalItem:T,payload:W}}else if(Z5(T,B)||J5(T,B)||cv(T,B)){var Y=aGe({graphicalItem:T,activeTooltipItem:B,itemData:k.data}),Q=k.activeIndex===void 0?Y:k.activeIndex;return{graphicalItem:Ye(Ye({},T),{},{childIndex:Q}),payload:cv(T,B)?k.data[Y]:T.props.data[Y]}}}return null}},{key:"render",value:function(){var w=this;if(!LM(this))return null;var j=this.props,N=j.children,B=j.className,I=j.width,P=j.height,T=j.style,F=j.compact,E=j.title,k=j.desc,M=p$(j,IZe),U=Xt(M,!1);if(F)return _e.createElement(qQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_e.createElement($E,gp({},U,{width:I,height:P,title:E,desc:k}),this.renderClipPath(),UM(N,this.renderMap)));if(this.props.accessibilityLayer){var W,Y;U.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,U.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",U.onKeyDown=function(z){w.accessibilityManager.keyboardEvent(z)},U.onFocus=function(){w.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return _e.createElement(qQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_e.createElement("div",gp({className:gr("recharts-wrapper",B),style:Ye({position:"relative",cursor:"default",width:I,height:P},T)},Q,{ref:function(te){w.container=te}}),_e.createElement($E,gp({},U,{width:I,height:P,title:E,desc:k,style:qZe}),this.renderClipPath(),UM(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);nr(x,"displayName",r),nr(x,"defaultProps",Ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},A)),nr(x,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,j=v.children,N=v.width,B=v.height,I=v.layout,P=v.stackOffset,T=v.margin,F=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var k=y$(v);return Ye(Ye(Ye({},k),{},{updateId:0},m(Ye(Ye({props:v},k),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:B,prevLayout:I,prevStackOffset:P,prevMargin:T,prevChildren:j})}if(b!==y.prevDataKey||w!==y.prevData||N!==y.prevWidth||B!==y.prevHeight||I!==y.prevLayout||P!==y.prevStackOffset||!Mp(T,y.prevMargin)){var M=y$(v),U={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},W=Ye(Ye({},x$(y,w,I)),{},{updateId:y.updateId+1}),Y=Ye(Ye(Ye({},M),U),W);return Ye(Ye(Ye({},Y),m(Ye({props:v},Y),y)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:B,prevLayout:I,prevStackOffset:P,prevMargin:T,prevChildren:j})}if(!ME(j,y.prevChildren)){var Q,z,te,re,J=bo(j,wg),H=J&&(Q=(z=J.props)===null||z===void 0?void 0:z.startIndex)!==null&&Q!==void 0?Q:F,Z=J&&(te=(re=J.props)===null||re===void 0?void 0:re.endIndex)!==null&&te!==void 0?te:E,K=H!==F||Z!==E,ie=!fr(w),oe=ie&&!K?y.updateId:y.updateId+1;return Ye(Ye({updateId:oe},m(Ye(Ye({props:v},y),{},{updateId:oe,dataStartIndex:H,dataEndIndex:Z}),y)),{},{prevChildren:j,dataStartIndex:H,dataEndIndex:Z})}return null}),nr(x,"renderActiveDot",function(v,y,b){var w;return _.isValidElement(v)?w=_.cloneElement(v,y):ar(v)?w=v(y):w=_e.createElement(eb,y),_e.createElement(Ir,{className:"recharts-active-dot",key:b},w)});var p=_.forwardRef(function(y,b){return _e.createElement(x,gp({},y,{ref:b}))});return p.displayName=x.displayName,p},rre=a_({chartName:"LineChart",GraphicalChild:Xf,axisComponents:[{axisType:"xAxis",AxisComp:lc},{axisType:"yAxis",AxisComp:hl}],formatAxisMap:oT}),nre=a_({chartName:"BarChart",GraphicalChild:vu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:lc},{axisType:"yAxis",AxisComp:hl}],formatAxisMap:oT}),iJe=a_({chartName:"PieChart",GraphicalChild:Su,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:X5},{axisType:"radiusAxis",AxisComp:q5}],formatAxisMap:S9e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),sre=a_({chartName:"AreaChart",GraphicalChild:Eu,axisComponents:[{axisType:"xAxis",AxisComp:lc},{axisType:"yAxis",AxisComp:hl}],formatAxisMap:oT});const aJe=({onClose:e})=>{const t=Ja(),r=Ar(),i=(()=>{try{const A=localStorage.getItem("user");return A?JSON.parse(A):null}catch(A){return console.error("Error parsing user data:",A),null}})(),a=[{name:"Dashboard",href:"/admin-dashboard",icon:Pr},{name:"All Users",href:"/admin-users",icon:zr},{name:"Add Admin",href:"/admin-add-admin",icon:rr},{name:"Room Owners",href:"/admin-owners",icon:cr},{name:"Seekers",href:"/admin-seekers",icon:cr},{name:"Properties",href:"/admin-properties",icon:Xr},{name:"Settings",href:"/admin-settings",icon:rc}],o=()=>{e&&e()},l=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login"),e&&e()},c=A=>t.pathname===A,d={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},u={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(X.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-gray-200 flex flex-col shadow-xl",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs(X.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsx(X.div,{className:"w-8 h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Admin",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"})," Admin"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Co-Living Platform"})]})]}),s.jsx(X.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Close sidebar",variants:u,whileHover:"hover",whileTap:"tap",children:s.jsx(or,{className:"w-5 h-5"})})]}),s.jsx(X.div,{className:"flex-shrink-0 p-4 border-b border-gray-200",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(X.div,{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx(rr,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(i==null?void 0:i.name)||"Admin User"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:(i==null?void 0:i.email)||"admin@lyvo.com"})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s.jsx("div",{className:"px-4 space-y-2",children:a.map((A,f)=>{const m=A.icon;return s.jsx(X.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25+f*.05,duration:.3,ease:"easeOut"},children:s.jsx(X.div,{variants:d,whileHover:"hover",whileTap:"tap",children:s.jsxs(Ot,{to:A.href,onClick:o,className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${c(A.href)?"text-red-700 bg-red-50 border-r-2 border-red-700":"text-gray-700 hover:text-red-700 hover:bg-red-50"}`,children:[s.jsx(m,{className:`mr-3 h-5 w-5 ${c(A.href)?"text-red-700":"text-gray-400 group-hover:text-red-700"}`}),A.name]})})},A.name)})})}),s.jsx(X.div,{className:"flex-shrink-0 p-4 border-t border-gray-200",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:s.jsxs(X.button,{onClick:l,className:"group flex items-center w-full px-3 py-3 text-sm font-medium text-gray-700 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200",variants:u,whileHover:"hover",whileTap:"tap",children:[s.jsx(uc,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-red-700"}),"Logout"]})})]})},oJe=({onMenuClick:e})=>{const[t,r]=_.useState(!1),[n,i]=_.useState(!1),[a,o]=_.useState([]),[l,c]=_.useState(!1),[d,u]=_.useState(0),A=Ar(),f="http://localhost:5000/api",m="http://localhost:5000/api",p=(()=>{try{const k=localStorage.getItem("user");return k?JSON.parse(k):null}catch(k){return console.error("Error parsing user data:",k),null}})();_.useEffect(()=>{const k=M=>{M.target.closest(".dropdown-container")||(r(!1),i(!1))};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const v=()=>{r(!t),i(!1)},y=()=>{i(!n),r(!1)},b=async()=>{c(!0);try{const k=localStorage.getItem("authToken"),M=JSON.parse(localStorage.getItem("user")||"{}");if(!k||!M._id)return;const U={"Content-Type":"application/json",Authorization:`Bearer ${k}`,"x-user-id":M._id},[W,Y,Q]=await Promise.all([fetch(`${m}/notifications`,{headers:U}),fetch(`${f}/user/all`,{headers:U}),fetch(`${m}/property/admin/properties?limit=100`,{headers:U})]),z=await W.json(),te=await Y.json(),re=await Q.json(),J=te.data||[],H=re.data||re.properties||[],Z=[];z.success&&z.data&&z.data.filter(pe=>!pe.is_read).forEach(pe=>{var ee,fe;Z.push({_id:pe._id,id:pe._id,type:pe.type||"general",icon:(ee=pe.type)!=null&&ee.includes("property")?A2:(fe=pe.type)!=null&&fe.includes("user")?wy:er,title:pe.title,message:pe.message,time:I(pe.createdAt),actionUrl:pe.action_url,isRead:pe.is_read,createdAt:pe.createdAt})});const K=w();H.filter(pe=>pe.approval_status==="pending").slice(0,3).forEach(pe=>{const ee=`pending-prop-${pe._id}`;if(K.includes(ee))return;Z.find(ue=>ue.message&&ue.message.includes(pe.property_name)&&ue.type.includes("property"))||Z.push({id:ee,type:"property_approval",icon:A2,title:"Property Approval Required",message:`${pe.property_name} is waiting for approval`,time:I(pe.createdAt),actionUrl:`/admin-property-details/${pe._id}`,isRead:!1,createdAt:pe.createdAt,isSystemGenerated:!0})});const oe=new Date(Date.now()-24*60*60*1e3);J.filter(pe=>pe.role!==2&&new Date(pe.createdAt)>oe).sort((pe,ee)=>new Date(ee.createdAt)-new Date(pe.createdAt)).slice(0,3).forEach(pe=>{const ee=`new-user-${pe._id}`;if(K.includes(ee))return;const fe=pe.role===1?"Seeker":pe.role===3?"Owner":"User";Z.find(V=>V.message&&V.message.includes(pe.name)&&V.type.includes("user"))||Z.push({id:ee,type:"user_registration",icon:wy,title:`New ${fe} Registered`,message:`${pe.name} just joined the platform`,time:I(pe.createdAt),actionUrl:pe.role===3?"/admin-owners":"/admin-seekers",isRead:!1,createdAt:pe.createdAt,isSystemGenerated:!0})}),Z.sort((pe,ee)=>{const fe=pe.type==="property_approval"?0:1,ue=ee.type==="property_approval"?0:1;return fe!==ue?fe-ue:new Date(ee.createdAt)-new Date(pe.createdAt)}),o(Z),u(Z.length),N()}catch(k){console.error("Error fetching admin notifications:",k)}finally{c(!1)}},w=()=>{try{const k=localStorage.getItem("admin_dismissed_notifications");return k?JSON.parse(k):[]}catch{return[]}},j=k=>{try{const M=w();M.includes(k)||(M.push(k),localStorage.setItem("admin_dismissed_notifications",JSON.stringify(M)))}catch(M){console.error("Error saving dismissed notification:",M)}},N=k=>{try{const U=w().filter(Q=>Q.startsWith("pending-prop-")||Q.startsWith("new-user-")),W=Date.now()-7*24*60*60*1e3,Y=U.slice(-50);localStorage.setItem("admin_dismissed_notifications",JSON.stringify(Y))}catch(M){console.error("Error cleaning up dismissed notifications:",M)}},B=async(k,M)=>{try{if(M){j(k),o(Q=>Q.filter(z=>z.id!==k)),u(Q=>Math.max(0,Q-1));return}const U=localStorage.getItem("authToken"),W=JSON.parse(localStorage.getItem("user")||"{}");if(!U||!W._id)return;(await fetch(`${m}/notifications/${k}`,{method:"DELETE",headers:{Authorization:`Bearer ${U}`,"x-user-id":W._id}})).ok&&(o(Q=>Q.filter(z=>z._id!==k)),u(Q=>Math.max(0,Q-1)),b())}catch(U){console.error("Error deleting notification:",U)}},I=k=>{const M=new Date(k),W=Math.floor((new Date-M)/1e3);return W<60?`${W}s ago`:W<3600?`${Math.floor(W/60)}m ago`:W<86400?`${Math.floor(W/3600)}h ago`:W<2592e3?`${Math.floor(W/86400)}d ago`:`${Math.floor(W/2592e3)}mo ago`};_.useEffect(()=>{b();const k=setInterval(b,3e4);return()=>clearInterval(k)},[]);const P=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),A("/login")},T=k=>{k.actionUrl&&(A(k.actionUrl),i(!1))};_.useEffect(()=>{const k=M=>{console.log(" AdminNavbar received new-notification event:",M.detail),b()};return window.addEventListener("new-notification",k),()=>window.removeEventListener("new-notification",k)},[]);const F={hidden:{opacity:0,y:-10,scale:.95,transformOrigin:"top right"},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15,ease:"easeIn"}}},E={hover:{scale:1.05,transition:{duration:.1}},tap:{scale:.95,transition:{duration:.1}}};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 py-3 lg:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx(X.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Toggle menu",variants:E,whileHover:"hover",whileTap:"tap",children:s.jsx(_N,{className:"w-5 h-5"})}),s.jsxs(Ot,{to:"/admin-dashboard",className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(X.div,{className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Admin",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Lyvo Admin"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Co-Living Platform"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(X.button,{onClick:y,className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 relative","aria-label":"Notifications",variants:E,whileHover:"hover",whileTap:"tap",children:[s.jsx(Vh,{className:"w-5 h-5"}),d>0&&s.jsx(X.span,{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white px-1",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:15},children:d>9?"9+":d})]}),s.jsx(gn,{children:n&&s.jsxs(X.div,{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:F,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),d>0&&s.jsxs("span",{className:"px-2 py-1 text-xs font-semibold bg-red-100 text-red-700 rounded-full",children:[d," new"]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:l?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Loading notifications..."})]}):a.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(Vh,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-sm font-medium",children:"No notifications"}),s.jsx("p",{className:"text-xs mt-1",children:"You're all caught up!"})]}):a.map((k,M)=>{const U=k.icon;return s.jsxs(X.div,{className:`relative p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors group ${k.type==="property_approval"?"bg-orange-50 hover:bg-orange-100":""}`,whileHover:{backgroundColor:k.type==="property_approval"?"#fed7aa":"#f9fafb"},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.05,duration:.2},children:[s.jsxs("div",{className:"flex items-start space-x-3 pr-8",onClick:()=>T(k),children:[s.jsx("div",{className:`p-2 rounded-lg ${k.type==="property_approval"?"bg-orange-200 text-orange-700":"bg-blue-100 text-blue-600"}`,children:s.jsx(U,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:k.title}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:k.message}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-1.5"}),k.time]})]}),k.type==="property_approval"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx(er,{className:"w-4 h-4 text-orange-600"})})]}),s.jsx("button",{onClick:W=>{W.stopPropagation(),B(k._id||k.id,k.isSystemGenerated)},className:"absolute top-3 right-3 p-1 rounded-full hover:bg-red-100 transition-colors opacity-0 group-hover:opacity-100",title:"Dismiss notification",children:s.jsx(ir,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]},k.id)})}),a.length>0&&s.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:()=>{i(!1),A("/admin-properties")},className:"w-full text-sm text-red-600 hover:text-red-700 font-medium py-2 hover:bg-red-50 rounded-md transition-colors",children:"View all pending approvals "})})]})})]}),s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(X.button,{onClick:v,className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"User menu",variants:E,whileHover:"hover",whileTap:"tap",children:[s.jsx(X.div,{className:"w-7 h-7 sm:w-8 sm:h-8 bg-red-100 rounded-full flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx(cr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:(p==null?void 0:p.name)||"Admin"})]}),s.jsx(gn,{children:t&&s.jsx(X.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:F,initial:"hidden",animate:"visible",exit:"exit",children:s.jsxs("div",{className:"py-2",children:[s.jsx(X.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs(Ot,{to:"/admin-settings",className:"block px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx(rc,{className:"w-4 h-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(X.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs("button",{onClick:P,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx(uc,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})})]})})})]})]})]})})},lJe=()=>s.jsx("footer",{className:"bg-white border-t border-gray-200 px-6 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lyvo"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Co-Living Platform"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Quick Links"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Support"})}),s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Privacy"})}),s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Terms"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Contact"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("div",{children:"admin@lyvo.com"}),s.jsx("div",{children:"+44 20 7998 7571"})]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center text-sm text-gray-600",children:[" ",new Date().getFullYear()," Lyvo. All rights reserved."]})})]})}),ml=({children:e,showSidebar:t=!0})=>{const[r,n]=_.useState(!1),i=()=>{n(!r)},a=()=>{n(!1)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:a}),t&&s.jsx("div",{className:`
          fixed lg:fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out
          ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:s.jsx(aJe,{onClose:a})}),s.jsxs("div",{className:`flex-1 flex flex-col ${t?"lg:ml-64":""}`,children:[s.jsx("div",{className:"sticky top-0 z-30 bg-white",children:s.jsx(oJe,{onMenuClick:i})}),s.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:e}),s.jsx(lJe,{})]})]})},cJe=()=>{const[e,t]=_.useState("overview"),[r,n]=_.useState(!0),[i,a]=_.useState([]),[o,l]=_.useState([]),[c,d]=_.useState([]),[u,A]=_.useState({totalUsers:0,activeProperties:0,monthlyRevenue:0,pendingApprovals:0}),f="http://localhost:5000/api",m="http://localhost:5000/api",x=B=>{const I=new Date(B),T=Math.floor((new Date-I)/1e3);return T<60?`${T} seconds ago`:T<3600?`${Math.floor(T/60)} minutes ago`:T<86400?`${Math.floor(T/3600)} hours ago`:T<2592e3?`${Math.floor(T/86400)} days ago`:`${Math.floor(T/2592e3)} months ago`},p=B=>B>=1e7?`${(B/1e7).toFixed(1)}Cr`:B>=1e5?`${(B/1e5).toFixed(1)}L`:B>=1e3?`${(B/1e3).toFixed(1)}K`:`${B}`;_.useEffect(()=>{(async()=>{n(!0);try{const I=localStorage.getItem("authToken"),P={"Content-Type":"application/json",Authorization:I?`Bearer ${I}`:""},[T,F,E]=await Promise.all([fetch(`${f}/user/all`,{headers:P}),fetch(`${m}/property/admin/properties?limit=1000`,{headers:P}),fetch(`${m}/property/debug/bookings`,{headers:P})]),k=await T.json(),M=await F.json(),U=await E.json();a(k.data||[]),l(M.data||M.properties||[]),d(U.bookings||[])}catch(I){console.error("Error fetching dashboard data:",I)}finally{n(!1)}})()},[]);const v=_.useMemo(()=>{const B=i.filter(U=>U.role!==2).length,I=o.length,P=o.filter(U=>(U.approval_status==="approved"||U.status==="active")&&U.status!=="inactive").length,T=o.filter(U=>U.approval_status==="pending").length;console.log("Dashboard Stats:",{totalProperties:o.length,activeProperties:P,pendingApprovals:T,propertiesBreakdown:o.map(U=>({name:U.property_name,approval_status:U.approval_status,status:U.status,isActive:(U.approval_status==="approved"||U.status==="active")&&U.status!=="inactive"}))});const F=new Date().getMonth(),E=new Date().getFullYear(),M=c.filter(U=>{var Y;const W=new Date(U.createdAt);return W.getMonth()===F&&W.getFullYear()===E&&U.status==="confirmed"&&((Y=U.payment)==null?void 0:Y.paymentStatus)==="completed"}).reduce((U,W)=>{var Y;return U+(((Y=W.payment)==null?void 0:Y.amount)||0)},0);return{totalUsers:B,totalProperties:I,activeProperties:P,monthlyRevenue:M,pendingApprovals:T}},[i,o,c]),y=_.useMemo(()=>{const B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],I=[],P=new Date;for(let F=5;F>=0;F--){const E=new Date(P.getFullYear(),P.getMonth()-F,1),k=E.getMonth(),M=E.getFullYear(),U=i.filter(W=>{if(W.role===2)return!1;const Y=new Date(W.createdAt);return Y.getMonth()===k&&Y.getFullYear()===M}).length;I.push({month:B[k],users:U,growth:U})}let T=0;return I.map(F=>(T+=F.users,{...F,users:T}))},[i]),b=_.useMemo(()=>{const B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],I=[],P=new Date;for(let T=5;T>=0;T--){const F=new Date(P.getFullYear(),P.getMonth()-T,1),E=F.getMonth(),k=F.getFullYear(),M=c.filter(W=>{var Q;const Y=new Date(W.createdAt);return Y.getMonth()===E&&Y.getFullYear()===k&&W.status==="confirmed"&&((Q=W.payment)==null?void 0:Q.paymentStatus)==="completed"}),U=M.reduce((W,Y)=>{var Q;return W+(((Q=Y.payment)==null?void 0:Q.amount)||0)},0);I.push({month:B[E],revenue:U,bookings:M.length})}return I},[c]),w=[{title:"Total Users",value:v.totalUsers.toLocaleString(),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{title:"Total Properties",value:v.totalProperties.toString(),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{title:"Monthly Revenue",value:p(v.monthlyRevenue),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{title:"Pending Approvals",value:v.pendingApprovals.toString(),change:"0%",changeType:v.pendingApprovals>0?"negative":"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}],j=_.useMemo(()=>{const B=[];return i.filter(F=>F.role!==2).sort((F,E)=>new Date(E.createdAt)-new Date(F.createdAt)).slice(0,3).forEach(F=>{B.push({id:`user-${F._id}`,type:"user_registration",message:`New user registered: ${F.name}`,time:x(F.createdAt),status:"success"})}),o.sort((F,E)=>new Date(E.createdAt)-new Date(F.createdAt)).slice(0,2).forEach(F=>{F.approval_status==="approved"&&B.push({id:`prop-${F._id}`,type:"property_approval",message:`Property approved: ${F.property_name}`,time:x(F.updatedAt||F.createdAt),status:"success"})}),c.filter(F=>{var E;return F.status==="confirmed"&&((E=F.payment)==null?void 0:E.paymentStatus)==="completed"}).sort((F,E)=>new Date(E.createdAt)-new Date(F.createdAt)).slice(0,2).forEach(F=>{var E;B.push({id:`booking-${F._id}`,type:"payment_received",message:`Payment received: ${p(((E=F.payment)==null?void 0:E.amount)||0)}`,time:x(F.createdAt),status:"success"})}),B.sort((F,E)=>0).slice(0,5)},[i,o,c]),N=[{id:"overview",label:"Overview",icon:""},{id:"analytics",label:"Analytics",icon:""},{id:"reports",label:"Reports",icon:""}];return r?s.jsx(ml,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ni,{className:"w-12 h-12 text-red-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading dashboard data..."})]})})}):s.jsx(ml,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsx("p",{className:"mt-1 lg:mt-2 text-sm lg:text-base text-gray-600",children:"Welcome back! Here's what's happening with your platform today."})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2 lg:space-x-3",children:[s.jsx("button",{className:"px-3 lg:px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-sm",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("button",{className:"px-3 lg:px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 text-sm",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:w.map((B,I)=>s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:I*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6 hover:shadow-md transition-shadow duration-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:B.title}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900 mt-1",children:B.value}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("span",{className:`text-xs lg:text-sm font-medium ${B.changeType==="positive"?"text-green-600":"text-red-600"}`,children:B.change}),s.jsx("span",{className:"text-xs lg:text-sm text-gray-500 ml-1 hidden sm:inline",children:"from last month"})]})]}),s.jsx("div",{className:"p-2 lg:p-3 bg-red-50 rounded-lg text-red-600",children:B.icon})]})},B.title))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-4 lg:space-x-8 px-4 lg:px-6 overflow-x-auto",children:N.map(B=>s.jsxs("button",{onClick:()=>t(B.id),className:`py-3 lg:py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors duration-200 ${e===B.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx("span",{className:"mr-2",children:B.icon}),B.label]},B.id))})}),s.jsxs("div",{className:"p-4 lg:p-6",children:[e==="overview"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"User Growth"}),s.jsx(nf,{width:"100%",height:250,className:"lg:h-[300px]",children:s.jsxs(sre,{data:y,children:[s.jsx(jf,{strokeDasharray:"3 3"}),s.jsx(lc,{dataKey:"month"}),s.jsx(hl,{}),s.jsx(na,{}),s.jsx(Eu,{type:"monotone",dataKey:"users",stroke:"#ef4444",fill:"#fef2f2",strokeWidth:2})]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Revenue & Bookings"}),s.jsx(nf,{width:"100%",height:250,className:"lg:h-[300px]",children:s.jsxs(nre,{data:b,children:[s.jsx(jf,{strokeDasharray:"3 3"}),s.jsx(lc,{dataKey:"month"}),s.jsx(hl,{yAxisId:"left"}),s.jsx(hl,{yAxisId:"right",orientation:"right"}),s.jsx(na,{}),s.jsx(Mh,{}),s.jsx(vu,{yAxisId:"left",dataKey:"revenue",fill:"#ef4444"}),s.jsx(vu,{yAxisId:"right",dataKey:"bookings",fill:"#3b82f6"})]})})]})]})}),e==="analytics"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Detailed Analytics"}),s.jsx(nf,{width:"100%",height:300,className:"lg:h-[400px]",children:s.jsxs(rre,{data:y,children:[s.jsx(jf,{strokeDasharray:"3 3"}),s.jsx(lc,{dataKey:"month"}),s.jsx(hl,{}),s.jsx(na,{}),s.jsx(Mh,{}),s.jsx(Xf,{type:"monotone",dataKey:"users",stroke:"#ef4444",strokeWidth:3,dot:{fill:"#ef4444",strokeWidth:2,r:6}}),s.jsx(Xf,{type:"monotone",dataKey:"growth",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:6}})]})})]})}),e==="reports"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Recent Activities"}),s.jsx("div",{className:"space-y-3 lg:space-y-4",children:j.map(B=>s.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[s.jsx("div",{className:`w-2 h-2 lg:w-3 lg:h-3 rounded-full mr-3 flex-shrink-0 ${B.status==="success"?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-gray-700 text-sm lg:text-base truncate",children:B.message})]}),s.jsx("span",{className:"text-xs lg:text-sm text-gray-500 ml-2 flex-shrink-0",children:B.time})]},B.id))})]})})]})]})]})})},dJe=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[i,a]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,A]=_.useState(null),[f,m]=_.useState(!1),[x,p]=_.useState(!1);_.useEffect(()=>{(async()=>{try{n(!0),a("");const j=localStorage.getItem("authToken"),B=await fetch("http://localhost:5000/api/user/users",{headers:{Authorization:`Bearer ${j}`}}),I=await B.json();if(!B.ok)throw new Error((I==null?void 0:I.message)||"Failed to fetch users");const P=((I==null?void 0:I.data)||[]).filter(T=>T.role===3).map(T=>({_id:T._id,name:T.name,email:T.email,kycStatus:T.kycStatus||"not_submitted",govtIdFrontUrl:T.govtIdFrontUrl||null,govtIdBackUrl:T.govtIdBackUrl||null,isVerified:!!T.isVerified,isActive:T.isActive!==!1,createdAt:T.createdAt,updatedAt:T.updatedAt}));l(P)}catch(j){a(j.message),l([])}finally{n(!1)}})()},[]);const v=_.useMemo(()=>o.filter(w=>w.name.toLowerCase().includes(e.toLowerCase())||w.email.toLowerCase().includes(e.toLowerCase())),[o,e]),y=async(w,j)=>{try{m(!0);const N=localStorage.getItem("authToken"),I=await fetch("http://localhost:5000/api/admin/kyc/review",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({userId:w,action:j})}),P=await I.json();if(!I.ok)throw new Error((P==null?void 0:P.message)||"Failed to update KYC status");l(T=>T.map(F=>F._id===w?{...F,kycStatus:j==="approve"?"approved":"rejected"}:F)),u&&u._id===w&&A(T=>({...T,kycStatus:j==="approve"?"approved":"rejected"})),alert(`KYC ${j==="approve"?"approved":"rejected"} successfully!`)}catch(N){console.error("KYC review error:",N),alert(`Error: ${N.message}`)}finally{m(!1)}},b=async w=>{try{p(!0);const j=localStorage.getItem("authToken"),B=await fetch(`http://localhost:5000/api/admin/user/${w}/toggle-status`,{method:"PATCH",headers:{Authorization:`Bearer ${j}`}}),I=await B.json();if(!B.ok)throw new Error((I==null?void 0:I.message)||"Failed to toggle user status");l(P=>P.map(T=>T._id===w?{...T,isActive:!T.isActive}:T)),u&&u._id===w&&A(P=>({...P,isActive:!P.isActive})),alert(`User ${I.user.isActive?"activated":"deactivated"} successfully!`)}catch(j){console.error("Toggle status error:",j),alert(`Error: ${j.message}`)}finally{p(!1)}};return s.jsx(ml,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Room Owners"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all property owners"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-gray-600",children:[s.jsx(zr,{className:"w-4 h-4"}),s.jsxs("span",{children:[v.length," owners"]})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"flex gap-3",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{value:e,onChange:w=>t(w.target.value),placeholder:"Search owners...",className:"w-full pl-9 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})}),r&&s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Loading owners"}),i&&!r&&s.jsx("div",{className:"mt-3 text-sm text-red-600",children:i})]}),s.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full table-fixed",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Owner"}),s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"KYC"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left w-24",children:"Email Verified"}),s.jsx("th",{className:"px-6 py-3 text-left w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 truncate",children:w.name}),s.jsxs("td",{className:"px-6 py-3 truncate flex items-center gap-2",children:[s.jsx(ln,{className:"w-4 h-4 text-gray-400"}),w.email]}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.kycStatus==="approved"?"bg-green-100 text-green-800":w.kycStatus==="rejected"?"bg-red-100 text-red-800":w.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(w.kycStatus).toUpperCase()})}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isActive?"ACTIVE":"INACTIVE"})}),s.jsx("td",{className:"px-6 py-3",children:w.isVerified?"Yes":"No"}),s.jsx("td",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>{A(w),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md hover:bg-gray-50",children:[s.jsx(kr,{className:"w-4 h-4 mr-1"}),"Details"]}),s.jsx("button",{onClick:()=>b(w._id),disabled:x,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${w.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,title:w.isActive?"Deactivate User":"Activate User",children:w.isActive?"Deactivate":"Activate"}),w.kycStatus==="pending"&&(w.govtIdFrontUrl||w.govtIdBackUrl)&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>y(w._id,"approve"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",title:"Approve KYC",children:s.jsx(wt,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>y(w._id,"reject"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",title:"Reject KYC",children:s.jsx(ir,{className:"w-3 h-3"})})]})]})})]},w._id))})]})}),s.jsx("div",{className:"lg:hidden p-4 space-y-3",children:v.map(w=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("div",{className:"font-semibold",children:w.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(ln,{className:"w-4 h-4"}),w.email]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.kycStatus==="approved"?"bg-green-100 text-green-800":w.kycStatus==="rejected"?"bg-red-100 text-red-800":w.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(w.kycStatus).toUpperCase()}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isActive?"ACTIVE":"INACTIVE"})]}),s.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>{A(w),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md",children:"View"}),s.jsx("button",{onClick:()=>b(w._id),disabled:x,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${w.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:w.isActive?"Deactivate":"Activate"}),w.kycStatus==="pending"&&(w.govtIdFrontUrl||w.govtIdBackUrl)&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>y(w._id,"approve"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[s.jsx(wt,{className:"w-3 h-3 mr-1"}),"Approve"]}),s.jsxs("button",{onClick:()=>y(w._id,"reject"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:[s.jsx(ir,{className:"w-3 h-3 mr-1"}),"Reject"]})]})]})]},w._id))})]}),c&&u&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Owner Details"}),s.jsx("button",{onClick:()=>d(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsxs("div",{className:"p-4 space-y-4 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:u.name}),s.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[s.jsx(ln,{className:"w-4 h-4"})," ",u.email]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"KYC Status:"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.kycStatus==="approved"?"bg-green-100 text-green-800":u.kycStatus==="rejected"?"bg-red-100 text-red-800":u.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(u.kycStatus).toUpperCase()})]}),(u.govtIdFrontUrl||u.govtIdBackUrl)&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Government ID Documents:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.govtIdFrontUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Front Image"}),s.jsx("img",{src:u.govtIdFrontUrl,alt:"Front",className:"w-full h-40 object-cover rounded border"})]}),u.govtIdBackUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Back Image"}),s.jsx("img",{src:u.govtIdBackUrl,alt:"Back",className:"w-full h-40 object-cover rounded border"})]})]})]}),u.kycStatus==="pending"&&(u.govtIdFrontUrl||u.govtIdBackUrl)&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"font-medium text-gray-900 mb-3",children:"Review KYC Documents:"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>y(u._id,"approve"),disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(wt,{className:"w-4 h-4"}),f?"Processing...":"Approve KYC"]}),s.jsxs("button",{onClick:()=>y(u._id,"reject"),disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ir,{className:"w-4 h-4"}),f?"Processing...":"Reject KYC"]})]})]}),u.kycStatus==="pending"&&!u.govtIdFrontUrl&&!u.govtIdBackUrl&&s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[s.jsx(rs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"No KYC documents uploaded yet"})]})})]})]})})]})})},uJe=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[i,a]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,A]=_.useState(null),[f,m]=_.useState(!1);_.useEffect(()=>{(async()=>{try{n(!0),a("");const y=localStorage.getItem("authToken"),w=await fetch("http://localhost:5000/api/user/users",{headers:{Authorization:`Bearer ${y}`}}),j=await w.json();if(!w.ok)throw new Error((j==null?void 0:j.message)||"Failed to fetch users");const N=((j==null?void 0:j.data)||[]).filter(B=>B.role===1).map(B=>({_id:B._id,name:B.name,email:B.email,isVerified:!!B.isVerified,isActive:B.isActive!==!1,createdAt:B.createdAt,updatedAt:B.updatedAt}));l(N)}catch(y){a(y.message),l([])}finally{n(!1)}})()},[]);const x=_.useMemo(()=>o.filter(v=>v.name.toLowerCase().includes(e.toLowerCase())||v.email.toLowerCase().includes(e.toLowerCase())),[o,e]),p=async v=>{try{m(!0);const y=localStorage.getItem("authToken"),w=await fetch(`http://localhost:5000/api/admin/user/${v}/toggle-status`,{method:"PATCH",headers:{Authorization:`Bearer ${y}`}}),j=await w.json();if(!w.ok)throw new Error((j==null?void 0:j.message)||"Failed to toggle user status");l(N=>N.map(B=>B._id===v?{...B,isActive:!B.isActive}:B)),u&&u._id===v&&A(N=>({...N,isActive:!N.isActive})),alert(`User ${j.user.isActive?"activated":"deactivated"} successfully!`)}catch(y){console.error("Toggle status error:",y),alert(`Error: ${y.message}`)}finally{m(!1)}};return s.jsx(ml,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Seekers"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all room seekers"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-gray-600",children:[s.jsx(zr,{className:"w-4 h-4"}),s.jsxs("span",{children:[x.length," seekers"]})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"flex gap-3",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{value:e,onChange:v=>t(v.target.value),placeholder:"Search seekers...",className:"w-full pl-9 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})}),r&&s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Loading seekers"}),i&&!r&&s.jsx("div",{className:"mt-3 text-sm text-red-600",children:i})]}),s.jsxs(X.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full table-fixed",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Seeker"}),s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left w-24",children:"Email Verified"}),s.jsx("th",{className:"px-6 py-3 text-left w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:x.map(v=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 truncate",children:v.name}),s.jsxs("td",{className:"px-6 py-3 truncate flex items-center gap-2",children:[s.jsx(ln,{className:"w-4 h-4 text-gray-400"}),v.email]}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.isActive?"ACTIVE":"INACTIVE"})}),s.jsx("td",{className:"px-6 py-3",children:v.isVerified?"Yes":"No"}),s.jsx("td",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>{A(v),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md hover:bg-gray-50",children:[s.jsx(kr,{className:"w-4 h-4 mr-1"}),"Details"]}),s.jsx("button",{onClick:()=>p(v._id),disabled:f,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${v.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,title:v.isActive?"Deactivate User":"Activate User",children:v.isActive?"Deactivate":"Activate"})]})})]},v._id))})]})}),s.jsx("div",{className:"lg:hidden p-4 space-y-3",children:x.map(v=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("div",{className:"font-semibold",children:v.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(ln,{className:"w-4 h-4"}),v.email]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.isActive?"ACTIVE":"INACTIVE"})}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{onClick:()=>{A(v),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md",children:"View"}),s.jsx("button",{onClick:()=>p(v._id),disabled:f,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${v.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:v.isActive?"Deactivate":"Activate"})]})]},v._id))})]}),c&&u&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Seeker Details"}),s.jsx("button",{onClick:()=>d(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:u.name}),s.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[s.jsx(ln,{className:"w-4 h-4"})," ",u.email]}),s.jsxs("div",{children:["Email Verified: ",s.jsx("span",{className:"font-medium",children:u.isVerified?"Yes":"No"})]})]})]})})]})})},hJe=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[i,a]=_.useState(""),[o,l]=_.useState(""),[c,d]=_.useState("all"),[u,A]=_.useState("all"),[f,m]=_.useState(null),[x,p]=_.useState(""),v="http://localhost:5000/api",y=P=>({1:"Seeker",2:"Admin",3:"Owner"})[P]||"Unknown",b=P=>({1:{color:"bg-blue-100 text-blue-800",icon:cr},2:{color:"bg-purple-100 text-purple-800",icon:rr},3:{color:"bg-green-100 text-green-800",icon:Pr}})[P]||{color:"bg-gray-100 text-gray-800",icon:cr},w=async()=>{try{n(!0),a("");const P=localStorage.getItem("authToken"),T=await fetch(`${v}/user/all`,{method:"GET",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}});if(!T.ok)throw new Error("Failed to fetch users");const F=await T.json();console.log("Fetched users:",F);const E=F.users||F.data||F||[];t(Array.isArray(E)?E:[])}catch(P){console.error("Error fetching users:",P),a(P.message||"Failed to load users")}finally{n(!1)}};_.useEffect(()=>{w()},[]);const j=async(P,T)=>{try{m(P);const F=localStorage.getItem("authToken"),E=await fetch(`${v}/user/${P}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({isActive:!T})});if(!E.ok)throw new Error("Failed to update user status");const k=await E.json();t(M=>M.map(U=>U._id===P?{...U,isActive:!T}:U)),p(`User ${T?"deactivated":"activated"} successfully!`),setTimeout(()=>p(""),3e3)}catch(F){console.error("Error updating user status:",F),a(F.message||"Failed to update user status"),setTimeout(()=>a(""),3e3)}finally{m(null)}},N=e.filter(P=>{var k,M,U;if(P.role===2)return!1;const T=o===""||((k=P.name)==null?void 0:k.toLowerCase().includes(o.toLowerCase()))||((M=P.email)==null?void 0:M.toLowerCase().includes(o.toLowerCase()))||((U=P.phone)==null?void 0:U.includes(o)),F=c==="all"||P.role===parseInt(c),E=u==="all"||u==="active"&&P.isActive!==!1||u==="inactive"&&P.isActive===!1;return T&&F&&E}),B=e.filter(P=>P.role!==2),I={total:B.length,active:B.filter(P=>P.isActive!==!1).length,inactive:B.filter(P=>P.isActive===!1).length,seekers:B.filter(P=>P.role===1).length,owners:B.filter(P=>P.role===3).length};return s.jsx(ml,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(zr,{className:"w-8 h-8 text-red-600"}),"All Users"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all users across the platform"})]})}),x&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[s.jsx(wt,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-green-800 font-medium",children:x})]}),i&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[s.jsx(er,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"text-red-800 font-medium",children:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.total})]}),s.jsx(zr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.active})]}),s.jsx(wt,{className:"w-8 h-8 text-green-500"})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:I.inactive})]}),s.jsx(ir,{className:"w-8 h-8 text-red-500"})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Seekers"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.seekers})]}),s.jsx(cr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Owners"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.owners})]}),s.jsx(Pr,{className:"w-8 h-8 text-green-500"})]})})]}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:o,onChange:P=>l(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(f2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:c,onChange:P=>d(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"1",children:"Seekers"}),s.jsx("option",{value:"3",children:"Owners"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(f2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:u,onChange:P=>A(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}):N.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(zr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No users found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your filters"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map((P,T)=>{var M;const F=b(P.role),E=F.icon,k=P.isActive!==!1;return s.jsxs(X.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.05},className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center text-white font-semibold",children:((M=P.name)==null?void 0:M.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name||"Unknown User"}),s.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.color}`,children:[s.jsx(E,{className:"w-3 h-3 mr-1"}),y(P.role)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(Es,{className:"w-3 h-3 text-gray-400"}),P.phone||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(wr,{className:"w-3 h-3 text-gray-400"}),P.location||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(Tr,{className:"w-3 h-3 text-gray-400"}),P.createdAt?new Date(P.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k?s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"w-3 h-3 mr-1"}),"Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"w-3 h-3 mr-1"}),"Inactive"]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("button",{onClick:()=>j(P._id,k),disabled:f===P._id,className:`inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${k?"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[f===P._id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current mr-1"}):k?s.jsx(ir,{className:"w-3 h-3 mr-1"}):s.jsx(wt,{className:"w-3 h-3 mr-1"}),f===P._id?"Updating...":k?"Deactivate":"Activate"]})})]},P._id)})})]})})}),!r&&N.length>0&&s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-4 text-center text-sm text-gray-600",children:["Showing ",N.length," of ",e.length," users"]})]})})},AJe=()=>{const e=Ar(),[t,r]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[n,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState(!1),[d,u]=_.useState(""),[A,f]=_.useState(""),[m,x]=_.useState({}),[p,v]=_.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[y,b]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[w,j]=_.useState(!1),[N,B]=_.useState(null),I="http://localhost:5000/api",P=async W=>{if(!W||!W.includes("@")){B(null);return}j(!0);try{const Y=localStorage.getItem("authToken"),Q=await fetch(`${I}/user/check-email?email=${encodeURIComponent(W.toLowerCase().trim())}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:Y?`Bearer ${Y}`:""}}),z=await Q.json();Q.ok?B(z.exists?z:null):B(null)}catch(Y){console.error("Error checking email:",Y),B(null)}finally{j(!1)}};_.useEffect(()=>{if(t.email&&y.email){const W=setTimeout(()=>{P(t.email)},500);return()=>clearTimeout(W)}else B(null)},[t.email,y.email]);const T=()=>{const W={};t.name.trim()?t.name.trim().length<2?W.name="Name must be at least 2 characters":t.name.trim().length>50&&(W.name="Name must not exceed 50 characters"):W.name="Name is required";const Y=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!t.email.trim())W.email="Email is required";else if(!Y.test(t.email))W.email="Please enter a valid email address";else if(N&&N.exists){const Q=N.role===1?"Seeker":N.role===3?"Owner":"Admin";W.email=`This email is already registered as a ${Q}`}else t.email.trim().length>100&&(W.email="Email must not exceed 100 characters");if(!t.password)W.password="Password is required";else{const Q=[];t.password.length<8&&Q.push("at least 8 characters"),/[A-Z]/.test(t.password)||Q.push("one uppercase letter"),/[a-z]/.test(t.password)||Q.push("one lowercase letter"),/[0-9]/.test(t.password)||Q.push("one number"),/[!@#$%^&*(),.?":{}|<>]/.test(t.password)||Q.push("one special character (!@#$%^&*...)"),Q.length>0&&(W.password=`Password must contain ${Q.join(", ")}`)}return t.confirmPassword?t.password!==t.confirmPassword&&(W.confirmPassword="Passwords do not match"):W.confirmPassword="Please confirm password",x(W),Object.keys(W).length===0},F=W=>{v({length:W.length>=8,uppercase:/[A-Z]/.test(W),lowercase:/[a-z]/.test(W),number:/[0-9]/.test(W),special:/[!@#$%^&*(),.?":{}|<>]/.test(W)})},E=W=>{const{name:Y,value:Q}=W.target;r(z=>({...z,[Y]:Q})),Y==="password"&&F(Q),y[Y]&&M(Y,Q)},k=W=>{const{name:Y}=W.target;b(Q=>({...Q,[Y]:!0})),M(Y,t[Y])},M=(W,Y)=>{const Q={...m};switch(W){case"name":Y.trim()?Y.trim().length<2?Q.name="Name must be at least 2 characters":Y.trim().length>50?Q.name="Name must not exceed 50 characters":delete Q.name:Q.name="Name is required";break;case"email":const z=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;Y.trim()?z.test(Y)?Y.trim().length>100?Q.email="Email must not exceed 100 characters":delete Q.email:Q.email="Please enter a valid email address":Q.email="Email is required";break;case"password":Y?!p.length||!p.uppercase||!p.lowercase||!p.number||!p.special?Q.password="":delete Q.password:Q.password="Password is required";break;case"confirmPassword":Y?Y!==t.password?Q.confirmPassword="Passwords do not match":delete Q.confirmPassword:Q.confirmPassword="Please confirm password";break}x(Q)},U=async W=>{if(W.preventDefault(),!!T()){c(!0),u(""),f("");try{const Y=localStorage.getItem("authToken"),Q=await fetch(`${I}/admin/create-admin`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({name:t.name.trim(),email:t.email.trim().toLowerCase(),password:t.password,role:2})}),z=await Q.json();if(!Q.ok)throw new Error(z.message||"Failed to create admin");f(`Admin account created successfully! Login credentials have been sent to ${t.email}`),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{e("/admin-dashboard")},3e3)}catch(Y){console.error("Error creating admin:",Y),u(Y.message||"Failed to create admin account")}finally{c(!1)}}};return s.jsx(ml,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsxs("button",{onClick:()=>e("/admin-dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(pi,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(rr,{className:"w-8 h-8 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Admin"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new administrator account"})]})]})]}),A&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[s.jsx(wt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-green-800 font-medium",children:A}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:" Email notification sent with login credentials."}),s.jsx("p",{className:"text-green-700 text-sm",children:"Redirecting to dashboard..."})]})]}),d&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[s.jsx(er,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-red-800 font-medium",children:d})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-2xl mx-auto",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:s.jsxs("form",{onSubmit:U,className:"space-y-6",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(rr,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-purple-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Administrator Privileges"}),s.jsx("p",{children:"This account will have full access to the admin panel including user management, property approvals, and system settings."})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:E,onBlur:k,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.name?"border-red-500":y.name&&!m.name&&t.name?"border-green-500":"border-gray-200"}`,placeholder:"Enter admin's full name",disabled:l}),m.name&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(er,{className:"w-3 h-3"}),m.name]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ln,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:E,onBlur:k,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${N&&N.exists||m.email?"border-red-500":y.email&&!m.email&&t.email&&!w&&!N?"border-green-500":"border-gray-200"}`,placeholder:"admin@example.com",disabled:l}),w&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(Ni,{className:"w-5 h-5 text-gray-400 animate-spin"})}),!w&&y.email&&t.email&&!m.email&&!N&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(wt,{className:"w-5 h-5 text-green-500"})}),!w&&N&&N.exists&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(er,{className:"w-5 h-5 text-red-500"})})]}),N&&N.exists&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(er,{className:"w-3 h-3"}),`This email is already registered as a ${N.role===1?"Seeker":N.role===3?"Owner":"Admin"}`]}),m.email&&!N&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(er,{className:"w-3 h-3"}),m.email]}),!w&&y.email&&t.email&&!m.email&&!N&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(wt,{className:"w-3 h-3"}),"Email is available!"]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:n?"text":"password",id:"password",name:"password",value:t.password,onChange:E,onBlur:k,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.password?"border-red-500":"border-gray-200"}`,placeholder:"Enter secure password",disabled:l}),s.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]}),m.password&&m.password!==""&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(er,{className:"w-3 h-3"}),m.password]}),t.password&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1.5",children:"Password requirements:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${p.length?"text-green-600":"text-gray-500"}`,children:[p.length?s.jsx(wt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${p.uppercase?"text-green-600":"text-gray-500"}`,children:[p.uppercase?s.jsx(wt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One uppercase letter (A-Z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${p.lowercase?"text-green-600":"text-gray-500"}`,children:[p.lowercase?s.jsx(wt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One lowercase letter (a-z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${p.number?"text-green-600":"text-gray-500"}`,children:[p.number?s.jsx(wt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One number (0-9)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${p.special?"text-green-600":"text-gray-500"}`,children:[p.special?s.jsx(wt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One special character (!@#$%^&*...)"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:a?"text":"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:E,onBlur:k,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.confirmPassword?"border-red-500":y.confirmPassword&&!m.confirmPassword&&t.confirmPassword?"border-green-500":"border-gray-200"}`,placeholder:"Re-enter password",disabled:l}),s.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]}),m.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(er,{className:"w-3 h-3"}),m.confirmPassword]}),y.confirmPassword&&!m.confirmPassword&&t.confirmPassword&&t.password===t.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(wt,{className:"w-3 h-3"}),"Passwords match!"]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/admin-dashboard"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l||w||N&&N.exists,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-purple-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wy,{className:"w-5 h-5"}),"Create Admin Account"]})})]})]})}),s.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(er,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Security Reminder"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-yellow-700",children:[s.jsx("li",{children:"Share admin credentials securely"}),s.jsx("li",{children:"Use strong, unique passwords"}),s.jsx("li",{children:"Only create admin accounts for trusted personnel"}),s.jsx("li",{children:"Admin accounts have unrestricted system access"})]})]})]})})]})]})})},fJe=()=>{const e=Ar(),[t,r]=_.useState(""),[n,i]=_.useState("all"),[a,o]=_.useState([]),[l,c]=_.useState(!1),[d,u]=_.useState(""),[A,f]=_.useState([]),[m,x]=_.useState(!1),[p,v]=_.useState(""),y="http://localhost:5000/api";_.useEffect(()=>{(async()=>{try{c(!0),u("");const I=localStorage.getItem("authToken"),P=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),T=P._id||P.id||"",F=`${y}/property/admin/properties?page=1&limit=200`;console.log("Fetching Admin Properties from:",F),console.log("Using Auth Token:",I?"Yes":"No"),console.log("User ID:",T);const E=await fetch(F,{headers:{Authorization:I?`Bearer ${I}`:"","x-user-id":T}});console.log("Response Status:",E.status);const k=await E.json();if(console.log("Response Data:",k),!E.ok||k.success!==!0)throw new Error(k.message||"Failed to fetch properties");const M=Array.isArray(k.data)?k.data:[];console.log("Set Properties:",M.length),f(M)}catch(I){console.error("Fetch Error:",I),u(I.message)}finally{c(!1)}})()},[]);const b=_.useMemo(()=>{const B=t.trim().toLowerCase();return(A||[]).filter(I=>{var k,M,U,W;const P=(I.property_name||"").toLowerCase(),T=`${((k=I.address)==null?void 0:k.street)||""} ${((M=I.address)==null?void 0:M.city)||""} ${((U=I.address)==null?void 0:U.state)||""}`.toLowerCase(),F=!B||P.includes(B)||T.includes(B)||(((W=I.owner)==null?void 0:W.name)||"").toLowerCase().includes(B),E=n==="all"||(I.approval_status||"pending")===n||(I.status||"active")===n;return F&&E})},[A,t,n]),w=_.useMemo(()=>{const B={};return b.forEach(I=>{var T,F;const P=((T=I.owner)==null?void 0:T.name)||((F=I.owner)==null?void 0:F.email)||I.owner_id||"Unknown Owner";B[P]||(B[P]=[]),B[P].push(I)}),B},[b]),j=_.useMemo(()=>{const B=A.length,I=A.filter(E=>(E.approval_status==="approved"||E.status==="active")&&E.status!=="inactive").length,P=A.filter(E=>E.approval_status==="pending").length;let T=0;return A.forEach(E=>{E.rooms&&Array.isArray(E.rooms)&&E.rooms.forEach(k=>{k.rent&&typeof k.rent=="number"&&(T+=k.rent)})}),{totalProperties:B,activeListings:I,pendingApproval:P,totalRevenue:(E=>E>=1e7?`${(E/1e7).toFixed(1)}Cr`:E>=1e5?`${(E/1e5).toFixed(1)}L`:E>=1e3?`${(E/1e3).toFixed(1)}K`:`${E}`)(T)}},[A]),N=B=>{const I={active:{text:"Active",color:"bg-green-100 text-green-800"},pending:{text:"Pending",color:"bg-yellow-100 text-yellow-800"},approved:{text:"Approved",color:"bg-green-100 text-green-800"},rejected:{text:"Rejected",color:"bg-red-100 text-red-800"},inactive:{text:"Inactive",color:"bg-gray-100 text-gray-800"},suspended:{text:"Suspended",color:"bg-red-100 text-red-800"}};return I[B]||I.inactive};return s.jsx(ml,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Property Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all owner properties, view details, and approve or reject rooms"})]}),d&&s.jsx("div",{className:"p-3 rounded-md bg-red-50 text-red-700 border border-red-200",children:d}),l&&s.jsx("div",{className:"p-3 rounded-md bg-gray-50 text-gray-700 border border-gray-200",children:"Loading properties"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Properties"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.totalProperties})]}),s.jsx("div",{className:"p-3 rounded-lg bg-blue-50",children:s.jsx(Pr,{className:"w-6 h-6 text-blue-500"})})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Listings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.activeListings})]}),s.jsx("div",{className:"p-3 rounded-lg bg-green-50",children:s.jsx(Ca,{className:"w-6 h-6 text-green-500"})})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.pendingApproval})]}),s.jsx("div",{className:"p-3 rounded-lg bg-yellow-50",children:s.jsx(Tr,{className:"w-6 h-6 text-yellow-500"})})]})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.totalRevenue})]}),s.jsx("div",{className:"p-3 rounded-lg bg-green-50",children:s.jsx(ei,{className:"w-6 h-6 text-green-500"})})]})})]}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search properties by title or location...",value:t,onChange:B=>r(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(f2,{className:"w-4 h-4 text-gray-400"}),s.jsxs("select",{value:n,onChange:B=>i(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]}),a.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[a.length," selected"]}),s.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Approve Selected"}),s.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Reject Selected"})]})]})}),s.jsx("div",{className:"space-y-8",children:Object.entries(w).map(([B,I])=>{var P,T;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-100 flex items-center justify-center",children:s.jsx(cr,{className:"w-5 h-5 text-gray-700"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:B}),s.jsx("p",{className:"text-gray-500 text-sm",children:((T=(P=I[0])==null?void 0:P.owner)==null?void 0:T.email)||""})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map((F,E)=>{var Q,z,te,re;const k=N(F.approval_status||"pending"),M=F.rooms||[],U=((Q=F.images)==null?void 0:Q.front)||((z=M.find(J=>J.room_image))==null?void 0:z.room_image),W=M.filter(J=>(J.approval_status||"pending")==="pending").length,Y=M.filter(J=>(J.approval_status||"pending")==="approved").length;return s.jsxs(X.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:E*.05},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>{console.log("Property clicked:",F._id,F.property_name),console.log("Navigating to:",`/admin-property-details/${F._id}`),e(`/admin-property-details/${F._id}`)},children:[s.jsxs("div",{className:"relative h-48 bg-gray-200",children:[U?s.jsx("img",{src:U,alt:F.property_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:s.jsx(Xr,{className:"w-12 h-12 text-gray-400"})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.color}`,children:k.text})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(kr,{className:"w-8 h-8 text-white"})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:F.property_name})}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[s.jsx(wr,{className:"w-4 h-4 mr-1 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:`${((te=F.address)==null?void 0:te.city)||""}, ${((re=F.address)==null?void 0:re.state)||""}`})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Rooms"}),s.jsx("span",{className:"font-semibold text-gray-900",children:M.length})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Approved"}),s.jsx("span",{className:"font-semibold text-green-600",children:Y})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Pending"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:W})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("button",{onClick:J=>{J.stopPropagation(),console.log("View Details clicked:",F._id,F.property_name),console.log("Navigating to:",`/admin-property-details/${F._id}`),e(`/admin-property-details/${F._id}`)},className:"flex items-center px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[s.jsx(kr,{className:"w-3 h-3 mr-1"}),"View Details"]})}),s.jsx(SV,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600 transition-colors"})]})]})]},F._id)})})]},B)})}),s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:Object.keys(w).length})," owner groups  ",s.jsx("span",{className:"font-medium",children:b.length})," properties"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Previous"}),s.jsx("button",{className:"px-3 py-1 text-sm bg-red-600 text-white rounded-md",children:"1"}),s.jsx("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"2"}),s.jsx("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"3"}),s.jsx("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Next"})]})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:s.jsx(Qr,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Success!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:p}),s.jsx("button",{onClick:()=>x(!1),className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"OK"})]})})})]})})},mJe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",pJe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let gJe=Pa.icon({iconUrl:mJe,shadowUrl:pJe,iconSize:[25,41],iconAnchor:[12,41]});Pa.Marker.prototype.options.icon=gJe;const xJe=()=>{var H,Z,K,ie,oe,he,pe,ee,fe,ue,V,ve,Se,ne,xe,Le,ze,Te,lt,tt,ge,Be;const{propertyId:e}=wu(),t=Ar();console.log("AdminPropertyDetails component loaded"),console.log("propertyId from useParams:",e),console.log("Current URL:",window.location.href),console.log("Component mounted successfully");const[r,n]=_.useState(null),[i,a]=_.useState(!0),[o,l]=_.useState(""),[c,d]=_.useState(null),[u,A]=_.useState(!1),[f,m]=_.useState(!1),[x,p]=_.useState(!1),[v,y]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[b,w]=_.useState(""),[j,N]=_.useState(!1),[B,I]=_.useState(""),[P,T]=_.useState(""),[F,E]=_.useState(!1),k="http://localhost:5000/api",M=r&&typeof r.latitude=="number"&&typeof r.longitude=="number"&&!Number.isNaN(r.latitude)&&!Number.isNaN(r.longitude);_.useEffect(()=>{e&&(async()=>{try{a(!0),l("");const ke=localStorage.getItem("authToken"),Me=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),ot=Me._id||Me.id||"";console.log("Fetching property details for ID:",e),console.log("Current URL:",window.location.href);const nt=await fetch(`${k}/property/admin/properties/${e}`,{headers:{Authorization:ke?`Bearer ${ke}`:"","x-user-id":ot}}),rt=await nt.json();if(console.log("Admin property response:",rt),!nt.ok||rt.success!==!0)throw new Error(rt.message||"Failed to fetch property");console.log("Found property:",rt.data),n(rt.data)}catch(ke){l(ke.message)}finally{a(!1)}})()},[e]);const U=async(Ne,ke)=>{try{console.log(`Attempting to ${ke} room:`,Ne);const Me=localStorage.getItem("authToken"),ot=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),nt=ot._id||ot.id||"";console.log("Auth token:",Me?"Present":"Missing"),console.log("User ID:",nt);const rt=await fetch(`${k}/property/admin/rooms/${Ne}/approve`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:Me?`Bearer ${Me}`:"","x-user-id":nt},body:JSON.stringify({status:ke==="approve"?"approved":"rejected"})});console.log("Response status:",rt.status);const Ke=await rt.json();if(console.log("Response data:",Ke),!rt.ok||Ke.success!==!0)throw new Error(Ke.message||"Failed to update room");n(st=>({...st,rooms:(st.rooms||[]).map(at=>at._id===Ne?{...at,...Ke.data}:at)})),A(!1),w(`Room ${ke==="approve"?"approved":"rejected"} successfully!`),p(!0),setTimeout(()=>{p(!1)},3e3),console.log(`Room ${Ne} ${ke}ed successfully`)}catch(Me){console.error(`Error ${ke}ing room:`,Me),I(`Failed to ${ke} room: ${Me.message}`),N(!0),setTimeout(()=>{N(!1)},5e3)}},W=async()=>{try{const Ne=localStorage.getItem("authToken"),ke=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),Me=ke._id||ke.id||"",ot=await fetch(`${k}/property/admin/properties/${e}`,{method:"DELETE",headers:{Authorization:Ne?`Bearer ${Ne}`:"","x-user-id":Me}}),nt=await ot.json();if(!ot.ok||nt.success!==!0)throw new Error(nt.message||"Failed to delete property");w("Property deleted successfully!"),p(!0),setTimeout(()=>{p(!1),t("/admin-properties")},1500)}catch(Ne){I(Ne.message),N(!0),setTimeout(()=>N(!1),5e3)}},Y=async Ne=>{try{const ke=localStorage.getItem("authToken"),Me=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),ot=Me._id||Me.id||"",nt=await fetch(`${k}/property/admin/rooms/${Ne}`,{method:"DELETE",headers:{Authorization:ke?`Bearer ${ke}`:"","x-user-id":ot}}),rt=await nt.json();if(!nt.ok||rt.success!==!0)throw new Error(rt.message||"Failed to delete room");n(Ke=>({...Ke,rooms:(Ke.rooms||[]).filter(st=>st._id!==Ne)})),w("Room deleted successfully!"),p(!0),setTimeout(()=>p(!1),3e3)}catch(ke){I(ke.message),N(!0),setTimeout(()=>N(!1),5e3)}},Q=async Ne=>{try{const ke=localStorage.getItem("authToken"),Me=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),ot=Me._id||Me.id||"",nt=await fetch(`${k}/property/admin/properties/${e}/approve`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:ke?`Bearer ${ke}`:"","x-user-id":ot},body:JSON.stringify({status:Ne==="approve"?"approved":"rejected"})}),rt=await nt.json();if(!nt.ok||rt.success!==!0)throw new Error(rt.message||"Failed to update property");n(Ke=>({...Ke,...rt.data})),w(`Property ${Ne==="approve"?"approved":"rejected"} successfully!`),p(!0),setTimeout(()=>p(!1),3e3)}catch(ke){I(ke.message),N(!0),setTimeout(()=>N(!1),5e3)}},z=async()=>{if(!P.trim()){I("Please enter a message"),N(!0),setTimeout(()=>N(!1),3e3);return}try{E(!0);const Ne=localStorage.getItem("authToken"),ke=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),Me=ke._id||ke.id||"",ot=await fetch(`${k}/property/admin/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:Ne?`Bearer ${Ne}`:"","x-user-id":Me},body:JSON.stringify({propertyId:e,message:P.trim()})}),nt=await ot.json();if(!ot.ok||nt.success!==!0)throw new Error(nt.message||"Failed to send message");w("Message sent to owner successfully!"),p(!0),setTimeout(()=>p(!1),3e3),T("")}catch(Ne){I(Ne.message||"Failed to send message"),N(!0),setTimeout(()=>N(!1),5e3)}finally{E(!1)}},te=Ne=>({ac:"",wifi:"",tv:"",fridge:"",wardrobe:"",studyTable:"",balcony:"",attachedBathroom:"",parking4w:"",parking2w:"",kitchen:"",powerBackup:""})[Ne]||"",re=Ne=>{const ke={active:{text:"Active",color:"bg-green-100 text-green-800"},pending:{text:"Pending",color:"bg-yellow-100 text-yellow-800"},approved:{text:"Approved",color:"bg-green-100 text-green-800"},rejected:{text:"Rejected",color:"bg-red-100 text-red-800"},inactive:{text:"Inactive",color:"bg-gray-100 text-gray-800"}};return ke[Ne]||ke.pending},J=Ne=>{d(Ne),A(!0)};return i?s.jsx(ml,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property details..."})]})})}):o||!r?s.jsx(ml,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-600 mb-4",children:o||"Property not found"}),s.jsx("button",{onClick:()=>t("/admin-properties"),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Back to Properties"})]})})}):s.jsx(ml,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between min-h-[4rem] py-4 md:py-0 space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/admin-properties"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(pi,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 line-clamp-1",children:r.property_name}),s.jsx("p",{className:"text-sm md:text-base text-gray-600 line-clamp-1",children:((H=r.owner)==null?void 0:H.name)||"Unknown Owner"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:space-x-3",children:[s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${re(r.approval_status||"pending").color}`,children:re(r.approval_status||"pending").text}),s.jsxs("div",{className:"flex flex-1 md:flex-none gap-2 overflow-x-auto pb-1 md:pb-0",children:[["pending","rejected"].includes(r.approval_status||"pending")&&s.jsx("button",{onClick:()=>y({isOpen:!0,title:"Approve Property?",message:"Are you sure you want to approve this property? This will make it visible to potential tenants.",onConfirm:()=>Q("approve")}),className:"flex-shrink-0 bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 whitespace-nowrap",children:"Approve"}),["pending","approved"].includes(r.approval_status||"pending")&&s.jsx("button",{onClick:()=>y({isOpen:!0,title:"Reject Property?",message:"Are you sure you want to reject this property?",onConfirm:()=>Q("reject")}),className:"flex-shrink-0 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 whitespace-nowrap",children:"Reject"}),s.jsxs("button",{onClick:()=>y({isOpen:!0,title:"Delete Property?",message:`Are you sure you want to permanently delete "${r.property_name}"? This will delete all associated rooms and cannot be undone.`,onConfirm:()=>W()}),className:"flex-shrink-0 bg-red-700 text-white px-3 py-2 rounded text-sm hover:bg-red-800 flex items-center whitespace-nowrap",children:[s.jsx(tg,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(wue,{className:"w-5 h-5 mr-2"}),"Property Images"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((Z=r.images)==null?void 0:Z.front)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Front View"}),s.jsx("img",{src:r.images.front,alt:"Front View",className:"w-full h-48 object-cover rounded-lg"})]}),((K=r.images)==null?void 0:K.back)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Back View"}),s.jsx("img",{src:r.images.back,alt:"Back View",className:"w-full h-48 object-cover rounded-lg"})]}),((ie=r.images)==null?void 0:ie.hall)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Hall"}),s.jsx("img",{src:r.images.hall,alt:"Hall",className:"w-full h-48 object-cover rounded-lg"})]}),((oe=r.images)==null?void 0:oe.kitchen)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Kitchen"}),s.jsx("img",{src:r.images.kitchen,alt:"Kitchen",className:"w-full h-48 object-cover rounded-lg"})]}),r.outside_toilet_image&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Outside Toilet"}),s.jsx("img",{src:r.outside_toilet_image,alt:"Outside Toilet",className:"w-full h-48 object-cover rounded-lg"})]})]}),((he=r.images)==null?void 0:he.gallery)&&r.images.gallery.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.images.gallery.map((Ne,ke)=>s.jsx("img",{src:Ne,alt:`Gallery ${ke+1}`,className:"w-full h-32 object-cover rounded-lg"},ke))})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Pr,{className:"w-5 h-5 mr-2"}),"Property Details"]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:r.description||"No description provided"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:((pe=r.address)==null?void 0:pe.street)||"N/A"}),s.jsxs("p",{className:"text-gray-600",children:[((ee=r.address)==null?void 0:ee.city)||"N/A",", ",((fe=r.address)==null?void 0:fe.state)||"N/A"]}),s.jsxs("p",{className:"text-gray-600",children:["Pincode: ",((ue=r.address)==null?void 0:ue.pincode)||"N/A"]}),((V=r.address)==null?void 0:V.landmark)&&s.jsxs("p",{className:"text-gray-600",children:["Landmark: ",r.address.landmark]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Security Deposit"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",((ve=r.security_deposit)==null?void 0:ve.toLocaleString())||"0"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.rooms&&r.rooms.length>0?`${Math.min(...r.rooms.map(Ne=>Ne.rent||0)).toLocaleString()} - ${Math.max(...r.rooms.map(Ne=>Ne.rent||0)).toLocaleString()}`:r.monthly_rent?`${r.monthly_rent.toLocaleString()}`:"0"}),r.rooms&&r.rooms.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Range from ",r.rooms.length," room(s)"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Coordinates"}),s.jsx("p",{className:"text-sm text-gray-600",children:M?`${r.latitude}, ${r.longitude}`:"Not provided"})]})]}),r.amenities&&Object.keys(r.amenities).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(r.amenities).map(([Ne,ke])=>ke?s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-green-50 rounded-lg",children:[s.jsx("span",{className:"text-lg",children:te(Ne)}),s.jsx("span",{className:"text-sm font-medium text-green-800 capitalize",children:Ne.replace(/([A-Z])/g," $1").trim()})]},Ne):null)})]}),r.rules&&Object.keys(r.rules).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(r.rules).map(([Ne,ke])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${ke?"bg-green-500":"bg-red-500"}`}),s.jsxs("span",{className:"text-sm text-gray-700 capitalize",children:[Ne.replace(/([A-Z])/g," $1").trim(),": ",ke?"Allowed":"Not Allowed"]})]},Ne))})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Xr,{className:"w-5 h-5 mr-2"}),"Rooms (",(r.rooms||[]).length,")"]}),(r.rooms||[]).some(Ne=>Ne.approval_status==="pending")&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[s.jsxs("button",{onClick:()=>{const Ne=(r.rooms||[]).filter(ke=>ke.approval_status==="pending");y({isOpen:!0,title:"Approve All Pending Rooms?",message:`Are you sure you want to approve all ${Ne.length} pending rooms? This action cannot be undone.`,onConfirm:()=>Ne.forEach(ke=>U(ke._id,"approve"))})},className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 transition-colors flex items-center justify-center whitespace-nowrap",children:[s.jsx(Qr,{className:"w-4 h-4 mr-1"}),"Approve All"]}),s.jsxs("button",{onClick:()=>{const Ne=(r.rooms||[]).filter(ke=>ke.approval_status==="pending");y({isOpen:!0,title:"Reject All Pending Rooms?",message:`Are you sure you want to reject all ${Ne.length} pending rooms? This action cannot be undone.`,onConfirm:()=>Ne.forEach(ke=>U(ke._id,"reject"))})},className:"bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors flex items-center justify-center whitespace-nowrap",children:[s.jsx(ir,{className:"w-4 h-4 mr-1"}),"Reject All"]})]})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b overflow-x-auto",children:s.jsxs("div",{className:"flex items-center space-x-6 min-w-max",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="pending").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="pending").length," Pending"]})]}),(r.rooms||[]).filter(Ne=>Ne.approval_status==="approved").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="approved").length," Approved"]})]}),(r.rooms||[]).filter(Ne=>Ne.approval_status==="rejected").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="rejected").length," Rejected"]})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(r.rooms||[]).map(Ne=>{var Me,ot;const ke=re(Ne.approval_status||"pending");return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",Ne.room_number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[Ne.room_type,"  ",Ne.room_size," sq ft"]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ke.color}`,children:ke.text})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Rent"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",((Me=Ne.rent)==null?void 0:Me.toLocaleString())||"0"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Occupancy"}),s.jsx("span",{className:"font-semibold text-gray-900",children:Ne.occupancy||"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Bed Type"}),s.jsx("span",{className:"font-semibold text-gray-900",children:Ne.bed_type||"N/A"})]})]}),Ne.description&&s.jsx("div",{className:"mt-3",children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:Ne.description})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[Ne.room_image&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Room Image"}),s.jsx("img",{src:Ne.room_image,alt:"Room",className:"w-full h-32 object-cover rounded"})]}),Ne.toilet_image&&((ot=Ne.amenities)==null?void 0:ot.attachedBathroom)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Toilet Image"}),s.jsx("img",{src:Ne.toilet_image,alt:"Toilet",className:"w-full h-32 object-cover rounded"})]})]}),Ne.amenities&&Object.keys(Ne.amenities).length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(Ne.amenities).map(([nt,rt])=>rt?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[te(nt)," ",nt.replace(/([A-Z])/g," $1").trim()]},nt):null)})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 sm:flex sm:items-center sm:space-x-2",children:[s.jsxs("button",{onClick:()=>J(Ne),className:"col-span-2 sm:col-span-1 sm:flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 transition-colors flex items-center justify-center order-1 sm:order-none",children:[s.jsx(kr,{className:"w-4 h-4 inline mr-1"}),"View"]}),Ne.approval_status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:nt=>{nt.stopPropagation(),y({isOpen:!0,title:"Approve Room?",message:`Are you sure you want to approve Room ${Ne.room_number}?`,onConfirm:()=>U(Ne._id,"approve")})},className:"flex-1 bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 transition-colors flex items-center justify-center order-2 sm:order-none",children:[s.jsx(Qr,{className:"w-4 h-4 inline mr-1"}),"Approve"]}),s.jsxs("button",{onClick:nt=>{nt.stopPropagation(),y({isOpen:!0,title:"Reject Room?",message:`Are you sure you want to reject Room ${Ne.room_number}?`,onConfirm:()=>U(Ne._id,"reject")})},className:"flex-1 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 transition-colors flex items-center justify-center order-3 sm:order-none",children:[s.jsx(ir,{className:"w-4 h-4 inline mr-1"}),"Reject"]})]}),Ne.approval_status==="approved"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 bg-green-100 text-green-800 px-3 py-2 rounded text-sm text-center font-medium flex items-center justify-center order-2 sm:order-none",children:[s.jsx(Qr,{className:"w-4 h-4 inline mr-1"}),"Approved"]}),s.jsx("button",{onClick:nt=>{nt.stopPropagation(),y({isOpen:!0,title:"Reject Approved Room?",message:`Are you sure you want to reject this already approved Room ${Ne.room_number}? It will be hidden from seekers.`,onConfirm:()=>U(Ne._id,"reject")})},className:"p-2 bg-red-50 text-red-600 rounded hover:bg-red-100 transition-colors border border-red-200 mt-0 flex items-center justify-center order-3 sm:order-none",title:"Reject this room",children:s.jsx(ir,{className:"w-5 h-5"})})]}),Ne.approval_status==="rejected"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 bg-red-100 text-red-800 px-3 py-2 rounded text-sm text-center font-medium flex items-center justify-center order-2 sm:order-none",children:[s.jsx(ir,{className:"w-4 h-4 inline mr-1"}),"Rejected"]}),s.jsx("button",{onClick:nt=>{nt.stopPropagation(),y({isOpen:!0,title:"Re-Approve Room?",message:`Are you sure you want to approve this previously rejected Room ${Ne.room_number}? It will become visible to seekers.`,onConfirm:()=>U(Ne._id,"approve")})},className:"p-2 bg-green-50 text-green-600 rounded hover:bg-green-100 transition-colors border border-green-200 mt-0 flex items-center justify-center order-3 sm:order-none",title:"Re-approve this room",children:s.jsx(Qr,{className:"w-5 h-5"})})]}),s.jsx("button",{onClick:nt=>{nt.stopPropagation(),y({isOpen:!0,title:"Delete Room?",message:`Are you sure you want to permanently delete Room ${Ne.room_number}? This action cannot be undone.`,onConfirm:()=>Y(Ne._id)})},className:"col-span-2 sm:col-span-1 p-2 bg-gray-50 text-gray-600 rounded hover:bg-red-50 hover:text-red-600 transition-colors border border-gray-200 hover:border-red-200 sm:ml-2 flex items-center justify-center order-4 sm:order-none",title:"Delete this room",children:s.jsx(tg,{className:"w-5 h-5"})})]})]},Ne._id)})})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Owner Information"]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[(Se=r.owner)!=null&&Se.profilePicture?s.jsx("img",{src:r.owner.profilePicture,alt:r.owner.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200",children:s.jsx("span",{className:"text-xl font-semibold text-gray-500",children:(((ne=r.owner)==null?void 0:ne.name)||"?").charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:((xe=r.owner)==null?void 0:xe.name)||"Unknown"}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-0.5",children:[(Le=r.owner)!=null&&Le.isVerified?s.jsxs("span",{className:"flex items-center text-green-600 bg-green-50 px-1.5 py-0.5 rounded",children:[s.jsx(Qr,{className:"w-3 h-3 mr-1"})," Verified"]}):s.jsx("span",{className:"flex items-center text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:"Unverified"}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["Joined ",(ze=r.owner)!=null&&ze.createdAt?new Date(r.owner.createdAt).toLocaleDateString():"N/A"]})]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-3",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(ln,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-900 break-all",children:((Te=r.owner)==null?void 0:Te.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Es,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Phone"}),s.jsx("p",{className:"text-sm text-gray-900",children:((lt=r.owner)==null?void 0:lt.phone)||"Not provided"})]})]})]}),s.jsxs("button",{onClick:()=>{var Ne,ke;T(`Hi ${((Ne=r.owner)==null?void 0:Ne.name)||"Owner"}, regarding your property "${r.property_name}"...`),(ke=document.querySelector("textarea"))==null||ke.focus(),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},className:"w-full mt-2 bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors flex items-center justify-center",children:[s.jsx(b4,{className:"w-4 h-4 mr-2"}),"Contact Owner"]})]})]}),M&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(wr,{className:"w-5 h-5 mr-2"}),"Location"]}),s.jsx("button",{onClick:()=>m(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Full Map"})]})}),s.jsx("div",{className:"h-64 relative",children:s.jsx("div",{className:"h-64 relative z-0",children:s.jsxs(Gh,{center:[r.latitude,r.longitude],zoom:15,scrollWheelZoom:!1,className:"w-full h-full",style:{height:"100%",width:"100%"},children:[s.jsx(Yh,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s.jsx(qh,{position:[r.latitude,r.longitude],children:s.jsx(_y,{children:r.property_name})})]})})})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2"}),"Owner Information"]})}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Name"}),s.jsx("p",{className:"text-gray-900",children:((tt=r.owner)==null?void 0:tt.name)||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:((ge=r.owner)==null?void 0:ge.email)||"Not provided"})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Ss,{className:"w-5 h-5 mr-2"}),"Documents"]})}),s.jsx("div",{className:"p-4",children:r.land_tax_receipt?s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ss,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Land Tax Receipt"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsx("a",{href:r.land_tax_receipt,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:s.jsx(Jd,{className:"w-4 h-4"})})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded"})})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(b4,{className:"w-5 h-5 mr-2"}),"Send Message to Owner"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Send a notification message to the property owner"})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:P,onChange:Ne=>T(Ne.target.value),placeholder:"Type your message here... (e.g., Property details incorrect, Already listed elsewhere, etc.)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all",rows:"4",maxLength:"500",disabled:F}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsxs("span",{className:"text-xs text-gray-500 order-2 sm:order-1",children:[P.length,"/500 characters"]}),s.jsx("button",{onClick:z,disabled:F||!P.trim(),className:`flex items-center justify-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all w-full sm:w-auto order-1 sm:order-2 ${F||!P.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md"}`,children:F?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Jp,{className:"w-4 h-4"}),s.jsx("span",{children:"Send Message"})]})})]}),s.jsx("p",{className:"text-xs text-gray-400 italic",children:" Tip: Use this to notify the owner about issues like duplicate listings, incorrect information, or required updates."})]})})]})]})]})}),u&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Room ",c.room_number," Details"]}),s.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:""})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Room Type"}),s.jsx("p",{className:"text-gray-900",children:c.room_type})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Room Size"}),s.jsxs("p",{className:"text-gray-900",children:[c.room_size," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Bed Type"}),s.jsx("p",{className:"text-gray-900",children:c.bed_type})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Occupancy"}),s.jsx("p",{className:"text-gray-900",children:c.occupancy})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Rent"}),s.jsxs("p",{className:"text-gray-900",children:["",(Be=c.rent)==null?void 0:Be.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Status"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${re(c.approval_status||"pending").color}`,children:re(c.approval_status||"pending").text})]})]}),c.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:c.description})]}),c.amenities&&Object.keys(c.amenities).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(c.amenities).map(([Ne,ke])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${ke?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm text-gray-700 capitalize",children:Ne.replace(/([A-Z])/g," $1").trim()})]},Ne))})]}),s.jsx("div",{className:"flex items-center space-x-3 pt-4 border-t"})]})]})}),v.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:v.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:v.message}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>y({...v,isOpen:!1}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{v.onConfirm&&v.onConfirm(),y({...v,isOpen:!1})},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Confirm"})]})]})})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:s.jsx(Qr,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Success!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b}),s.jsx("button",{onClick:()=>p(!1),className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"OK"})]})})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:s.jsx(ir,{className:"h-6 w-6 text-red-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:B}),s.jsx("button",{onClick:()=>N(!1),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"OK"})]})})}),f&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Property Location"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})})]}),s.jsx("div",{style:{width:"100%",height:"500px"},children:s.jsxs(Gh,{center:[r.latitude,r.longitude],zoom:16,scrollWheelZoom:!0,className:"w-full h-full",style:{height:"100%",width:"100%"},children:[s.jsx(Yh,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s.jsx(qh,{position:[r.latitude,r.longitude],children:s.jsx(_y,{children:r.property_name})})]})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 text-sm text-gray-600 flex items-center justify-between",children:[s.jsxs("div",{children:["Lat: ",(r==null?void 0:r.latitude)||""," | Lng: ",(r==null?void 0:r.longitude)||""]}),s.jsx("div",{className:"text-xs text-gray-500",children:(r==null?void 0:r.name)||"Property Location"})]})]})})]})})},yJe=()=>{const[e,t]=_.useState("security"),[r,n]=_.useState({enableTwoFactor:!1}),[i,a]=_.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[o,l]=_.useState({old:!1,new:!1,confirm:!1}),[c,d]=_.useState({}),[u,A]=_.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[f,m]=_.useState({oldPassword:!1,newPassword:!1,confirmPassword:!1}),[x,p]=_.useState(!1),[v,y]=_.useState(!1),[b,w]=_.useState(""),j=F=>{const E={length:F.length>=8,uppercase:/[A-Z]/.test(F),lowercase:/[a-z]/.test(F),number:/[0-9]/.test(F),special:/[!@#$%^&*(),.?":{}|<>]/.test(F)};return A(E),Object.values(E).every(Boolean)},N=(F,E)=>{const k={...c};return F==="oldPassword"&&(E?delete k.oldPassword:k.oldPassword="Current password is required"),F==="newPassword"&&(E?j(E)?E===i.oldPassword?k.newPassword="New password must be different from current password":delete k.newPassword:k.newPassword="Password does not meet all requirements":k.newPassword="New password is required"),F==="confirmPassword"&&(E?E!==i.newPassword?k.confirmPassword="Passwords do not match":delete k.confirmPassword:k.confirmPassword="Please confirm your new password"),d(k),Object.keys(k).length===0},B=(F,E)=>{a(k=>({...k,[F]:E})),F==="newPassword"&&j(E),f[F]&&N(F,E),F==="newPassword"&&f.confirmPassword&&N("confirmPassword",i.confirmPassword)},I=F=>{m(E=>({...E,[F]:!0})),N(F,i[F])},P=async F=>{F.preventDefault(),y(!1),w(""),m({oldPassword:!0,newPassword:!0,confirmPassword:!0});const E=N("oldPassword",i.oldPassword),k=N("newPassword",i.newPassword),M=N("confirmPassword",i.confirmPassword);if(!(!E||!k||!M)){p(!0);try{const U=localStorage.getItem("authToken"),Y=await fetch("http://localhost:5000/api/user/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:U?`Bearer ${U}`:""},body:JSON.stringify({currentPassword:i.oldPassword,newPassword:i.newPassword})}),Q=await Y.json();if(!Y.ok||!Q.success)throw new Error(Q.message||"Failed to change password");y(!0),a({oldPassword:"",newPassword:"",confirmPassword:""}),m({oldPassword:!1,newPassword:!1,confirmPassword:!1}),d({}),setTimeout(()=>y(!1),5e3)}catch(U){console.error("Password change error:",U),w(U.message||"Failed to change password")}finally{p(!1)}}},T=[{id:"security",name:"Security",icon:rr},{id:"system",name:"System",icon:xue}];return s.jsx(ml,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"System Settings"}),s.jsx("p",{className:"text-sm lg:text-base text-gray-600 mt-1",children:"Configure platform settings and preferences"})]})}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsx("div",{className:"lg:hidden p-4",children:s.jsx("select",{value:e,onChange:F=>t(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm",children:T.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))})}),s.jsx("nav",{className:"hidden lg:flex space-x-8 px-6",children:T.map(F=>{const E=F.icon;return s.jsxs("button",{onClick:()=>t(F.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${e===F.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(E,{className:"w-4 h-4"}),s.jsx("span",{children:F.name})]},F.id)})})]}),s.jsxs("div",{className:"p-4 lg:p-6",children:[e==="security"&&s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),v&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[s.jsx(wt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-green-800 font-medium",children:"Password changed successfully!"}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Your password has been updated."})]})]}),b&&s.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[s.jsx(er,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("span",{className:"text-red-800 font-medium",children:b})]}),s.jsxs("form",{onSubmit:P,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"oldPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Current Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.old?"text":"password",id:"oldPassword",value:i.oldPassword,onChange:F=>B("oldPassword",F.target.value),onBlur:()=>I("oldPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.oldPassword&&f.oldPassword?"border-red-500":"border-gray-300"}`,placeholder:"Enter your current password"}),s.jsx("button",{type:"button",onClick:()=>l(F=>({...F,old:!F.old})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.old?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]}),c.oldPassword&&f.oldPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(er,{className:"w-3 h-3"}),c.oldPassword]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.new?"text":"password",id:"newPassword",value:i.newPassword,onChange:F=>B("newPassword",F.target.value),onBlur:()=>I("newPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.newPassword&&f.newPassword?"border-red-500":"border-gray-300"}`,placeholder:"Enter your new password"}),s.jsx("button",{type:"button",onClick:()=>l(F=>({...F,new:!F.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.new?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]}),c.newPassword&&f.newPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(er,{className:"w-3 h-3"}),c.newPassword]}),i.newPassword&&s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1.5",children:"Password must contain:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.length?"text-green-600":"text-gray-500"}`,children:[u.length?s.jsx(wt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.uppercase?"text-green-600":"text-gray-500"}`,children:[u.uppercase?s.jsx(wt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One uppercase letter (A-Z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.lowercase?"text-green-600":"text-gray-500"}`,children:[u.lowercase?s.jsx(wt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One lowercase letter (a-z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.number?"text-green-600":"text-gray-500"}`,children:[u.number?s.jsx(wt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One number (0-9)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.special?"text-green-600":"text-gray-500"}`,children:[u.special?s.jsx(wt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One special character (!@#$%^&*...)"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.confirm?"text":"password",id:"confirmPassword",value:i.confirmPassword,onChange:F=>B("confirmPassword",F.target.value),onBlur:()=>I("confirmPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.confirmPassword&&f.confirmPassword?"border-red-500":f.confirmPassword&&!c.confirmPassword&&i.confirmPassword?"border-green-500":"border-gray-300"}`,placeholder:"Re-enter your new password"}),s.jsx("button",{type:"button",onClick:()=>l(F=>({...F,confirm:!F.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.confirm?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(kr,{className:"w-5 h-5"})})]}),c.confirmPassword&&f.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(er,{className:"w-3 h-3"}),c.confirmPassword]}),f.confirmPassword&&!c.confirmPassword&&i.confirmPassword&&i.newPassword===i.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(wt,{className:"w-3 h-3"}),"Passwords match!"]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(X.button,{type:"submit",disabled:x||Object.keys(c).length>0,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:x?s.jsxs(s.Fragment,{children:[s.jsx(Ni,{className:"w-5 h-5 animate-spin"}),"Changing Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-5 h-5"}),"Change Password"]})})})]})]}),e==="system"&&s.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"System Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-600",children:"All systems operational"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Database"}),s.jsx("span",{className:"text-sm text-gray-600",children:"MongoDB v5.0"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Version"}),s.jsx("span",{className:"text-sm text-gray-600",children:"v2.1.0"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Last Updated"}),s.jsx("span",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString()})]})]})]})]})]})]})})},vJe=()=>s.jsx(ml,{showSidebar:!1,children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"mx-auto w-24 h-24 bg-red-100 rounded-full flex items-center justify-center",children:s.jsxs("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),s.jsx("circle",{cx:"12",cy:"8",r:"2",stroke:"currentColor",strokeWidth:2,fill:"none"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6"})]})})}),s.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Admin Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"The admin page you're looking for doesn't exist or has been moved."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ot,{to:"/admin-dashboard",className:"inline-flex items-center px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors duration-200",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]}),"Go to Admin Dashboard"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(Ot,{to:"/admin-users",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Users"]}),s.jsxs(Ot,{to:"/admin-properties",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Properties"]}),s.jsxs(Ot,{to:"/admin-settings",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsx(Ot,{to:"/",className:"text-red-600 hover:text-red-700 font-medium transition-colors duration-200",children:" Back to Main Site"})})]})})}),b$=()=>{var ss,vr,St,un,ti,Hs,is,as,os,Cn;const e=Ar(),{toast:t}=xc(),r=_.useRef(null),n=_.useRef(null),[i,a]=_.useState(null),[o,l]=_.useState(!0),[c,d]=_.useState("profile"),[u,A]=_.useState(!1),[f,m]=_.useState(!1),[x,p]=_.useState(!1),[v,y]=_.useState(!1),[b,w]=_.useState(!1),[j,N]=_.useState({}),[B,I]=_.useState(0),[P,T]=_.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[F,E]=_.useState(null),[k,M]=_.useState(!1),[U,W]=_.useState(null),[Y,Q]=_.useState(null),[z,te]=_.useState(!1),[re,J]=_.useState(""),[H,Z]=_.useState("pending"),[K,ie]=_.useState(null),[oe,he]=_.useState(null),[pe,ee]=_.useState(null),[fe,ue]=_.useState(!1),[V,ve]=_.useState(!1),[Se,ne]=_.useState(null),[xe,Le]=_.useState("front"),[ze,Te]=_.useState(null),[lt,tt]=_.useState(!1),[ge,Be]=_.useState(!1),[Ne,ke]=_.useState(!1),[Me,ot]=_.useState(0),[nt,rt]=_.useState(!1),Ke="aadhar",st=async()=>{try{const Ze=localStorage.getItem("authToken"),jt=JSON.parse(localStorage.getItem("user")||"null");if(!Ze||!(jt!=null&&jt._id))return;const ft=(await kt.get(`/user/profile/${jt._id}`)).data;ft!=null&&ft._id&&(localStorage.setItem("user",JSON.stringify(ft)),a(ft))}catch(Ze){console.error("refreshUserFromApi error:",Ze)}},at=async()=>{try{if(Te(null),Be(!0),tt(!1),console.log("Starting camera..."),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia is not supported in this browser");const Ze=await navigator.mediaDevices.enumerateDevices();console.log("Available devices:",Ze);const jt=Ze.filter(Ut=>Ut.kind==="videoinput");if(console.log("Video devices:",jt),jt.length===0)throw new Error("No camera devices found");let Pt={video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480}}};console.log("Trying camera with constraints:",Pt);let ft;try{ft=await navigator.mediaDevices.getUserMedia(Pt),console.log("Camera started successfully with back camera")}catch(Ut){console.log("Back camera failed, trying front camera:",Ut),Pt.video.facingMode="user",ft=await navigator.mediaDevices.getUserMedia(Pt),console.log("Camera started successfully with front camera")}ne(ft),ve(!0),setTimeout(()=>{r.current?(console.log("Setting video source..."),r.current.srcObject=ft,r.current.onloadedmetadata=()=>{console.log("Video metadata loaded"),tt(!0),Be(!1),r.current.play().catch(Ut=>{console.error("Error playing video:",Ut),Te("Failed to start video playback")})},r.current.oncanplay=()=>{console.log("Video can play"),tt(!0),Be(!1)},r.current.onerror=Ut=>{console.error("Video error:",Ut),Te("Video playback error"),Be(!1)},r.current.play().catch(Ut=>{console.error("Error playing video:",Ut)})):(console.error("Video ref is not available"),Te("Video element not ready"),Be(!1))},100),console.log("Camera modal opened")}catch(Ze){console.error("Error accessing camera:",Ze),Be(!1);let jt="Unable to access camera. ";Ze.name==="NotAllowedError"?jt+="Please allow camera permissions and try again.":Ze.name==="NotFoundError"?jt+="No camera found on this device.":Ze.name==="NotSupportedError"?jt+="Camera is not supported in this browser.":Ze.name==="NotReadableError"?jt+="Camera is being used by another application.":jt+="Please check your camera settings.",Te(jt),t({title:"Camera Error",description:jt,variant:"destructive"})}},gt=()=>{Se&&(Se.getTracks().forEach(Ze=>Ze.stop()),ne(null)),ve(!1),Te(null),tt(!1),Be(!1),r.current&&(r.current.srcObject=null)},Bt=()=>{if(!r.current||!n.current)return;const Ze=r.current,jt=n.current,Pt=jt.getContext("2d");jt.width=Ze.videoWidth,jt.height=Ze.videoHeight,Pt.drawImage(Ze,0,0,jt.width,jt.height),jt.toBlob(ft=>{if(ft){const Ut=new File([ft],`captured_${xe}_${Date.now()}.jpg`,{type:"image/jpeg"});W(Ut),Q(URL.createObjectURL(ft)),gt(),t({title:"Photo Captured",description:"Aadhar card photo captured successfully"})}},"image/jpeg",.8)},_t=()=>{Le("front"),at()},Vt=async()=>{try{if(ue(!0),!localStorage.getItem("authToken")){console.error("No auth token found");return}const jt=await kt.get("/user/aadhar-status");if(jt.ok){const Pt=await jt.json();ee(Pt.aadharStatus),console.log("Aadhar approval status:",Pt.aadharStatus)}}catch(Ze){console.error("Error checking Aadhar approval status:",Ze)}finally{ue(!1)}},yt=async()=>{try{l(!0);const Ze=localStorage.getItem("authToken"),jt=JSON.parse(localStorage.getItem("user")||"{}"),Pt=jt.id||jt._id;if(!Pt){console.error("User ID not found");return}const ft=await kt.get(`/user/profile/${Pt}`);if(ft.ok){const Ut=await ft.json();E(Ut.kycStatus||"not_verified"),Z(Ut.kycStatus||"not_verified")}}catch(Ze){console.error("Error checking KYC status:",Ze)}finally{l(!1)}},At=(Ze,jt)=>{if(Ze){if(!Ze.type.startsWith("image/")){t({title:"Invalid file type",description:"Please upload an image file (JPG, PNG, etc.)",variant:"destructive"});return}if(Ze.size>5*1024*1024){t({title:"File too large",description:"Please upload an image smaller than 5MB",variant:"destructive"});return}{W(Ze);const Pt=new FileReader;Pt.onload=ft=>Q(ft.target.result),Pt.readAsDataURL(Ze)}}},it=(Ze,jt)=>{if(!Ze||!jt)return{match:!1,confidence:0,reason:"Missing name data"};const Pt=Ze.toUpperCase().trim(),ft=jt.toUpperCase().trim(),Ut=Pt.split(/\s+/).filter(Ge=>Ge.length>0),vn=ft.split(/\s+/).filter(Ge=>Ge.length>0);if(Pt===ft)return{match:!0,confidence:1,reason:"Exact match"};let Lr=0,je=Math.max(Ut.length,vn.length);for(const Ge of Ut)for(const xt of vn){if(Ge===xt){Lr++;break}if(Ge.length>2&&xt.length>2){const $t=dt(Ge,xt);if($t>.8){Lr+=$t;break}}}const Qe=Lr/je;return Qe>=.8?{match:!0,confidence:Qe,reason:"High similarity match"}:Qe>=.5?{match:!1,confidence:Qe,reason:"Partial match - manual review needed"}:{match:!1,confidence:Qe,reason:"No significant match found"}},dt=(Ze,jt)=>{const Pt=Ze.toUpperCase(),ft=jt.toUpperCase(),Ut=Pt.length>ft.length?Pt:ft,vn=Pt.length>ft.length?ft:Pt;if(Ut.length===0)return 1;const Lr=et(Ut,vn);return(Ut.length-Lr)/Ut.length},et=(Ze,jt)=>{const Pt=[];for(let ft=0;ft<=jt.length;ft++)Pt[ft]=[ft];for(let ft=0;ft<=Ze.length;ft++)Pt[0][ft]=ft;for(let ft=1;ft<=jt.length;ft++)for(let Ut=1;Ut<=Ze.length;Ut++)jt.charAt(ft-1)===Ze.charAt(Ut-1)?Pt[ft][Ut]=Pt[ft-1][Ut-1]:Pt[ft][Ut]=Math.min(Pt[ft-1][Ut-1]+1,Pt[ft][Ut-1]+1,Pt[ft-1][Ut]+1);return Pt[jt.length][Ze.length]},Ve=async()=>{var jt,Pt;if(!U){t({title:"Front image required",description:"Please upload the front side of your document",variant:"destructive"});return}M(!0),ie(null),he(null),ke(!0),ot(0);const Ze=setInterval(()=>{ot(ft=>ft>=90?(clearInterval(Ze),90):ft+10)},200);try{const ft=localStorage.getItem("authToken"),Ut=new FormData;Ut.append("frontImage",U),Ut.append("idType",Ke),Ut.append("idNumber","");const vn=await kt.post("/user/upload-kyc",Ut,{headers:{"Content-Type":"multipart/form-data"}}),Lr=await vn.json();if(vn.ok){if(clearInterval(Ze),ot(100),Lr.kycStatus==="rejected"){te(!0),J(Lr.verificationFailureReason||"Verification failed"),t({title:"Verification Failed",description:Lr.verificationFailureReason||"Please verify again with correct image",variant:"destructive"});return}if(ie(Lr.ocrResult),(Pt=(jt=Lr.ocrResult)==null?void 0:jt.extractedData)!=null&&Pt.name){const je=it(Lr.ocrResult.extractedData.name,(i==null?void 0:i.name)||"");he(je)}Z(Lr.kycStatus),E(Lr.kycStatus),t({title:"Document uploaded successfully",description:`KYC status: ${Lr.kycStatus}`,variant:Lr.kycStatus==="approved"?"default":"destructive"}),yt(),Vt()}else throw new Error(Lr.error||"Upload failed")}catch(ft){console.error("Error uploading KYC:",ft),clearInterval(Ze),ot(0),t({title:"Upload failed",description:ft.message||"Failed to upload document",variant:"destructive"})}finally{M(!1)}},Ct=Ze=>{switch(Ze){case"approved":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"rejected":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},Zt=Ze=>{switch(Ze){case"approved":return s.jsx(wt,{className:"w-5 h-5"});case"pending":return s.jsx(er,{className:"w-5 h-5"});case"rejected":return s.jsx(ir,{className:"w-5 h-5"});default:return s.jsx(rr,{className:"w-5 h-5"})}};_.useEffect(()=>{(()=>{const jt=localStorage.getItem("authToken"),Pt=localStorage.getItem("user");if(!jt||!Pt){e("/login");return}try{const ft=JSON.parse(Pt);if(ft.role!==3){e("/login");return}a(ft),yt(),Vt()}catch(ft){console.error("Error parsing user data:",ft),e("/login")}l(!1)})()},[e]);const Qn=async()=>{if(i!=null&&i._id)try{y(!0);const Ze=localStorage.getItem("authToken");await kt.put(`/user/profile/${i._id}`,{profilePicture:null});const jt={...i,profilePicture:null};localStorage.setItem("user",JSON.stringify(jt)),a(jt),t({title:"Success",description:"Profile picture removed successfully"})}catch(Ze){console.error("Remove profile picture error:",Ze),t({title:"Error",description:"Failed to remove picture. Please try again.",variant:"destructive"})}finally{y(!1)}},tr=async Ze=>{var jt,Pt;if(Ze.preventDefault(),!!(i!=null&&i._id))try{y(!0);const ft=localStorage.getItem("authToken"),Ut=document.getElementById("profile-name").value.trim(),vn=document.getElementById("profile-phone").value.trim(),Lr={name:Ut,phone:vn||void 0},{data:je}=await kt.put(`/user/profile/${i._id}`,Lr);je!=null&&je.user&&(localStorage.setItem("user",JSON.stringify(je.user)),a(je.user),window.dispatchEvent(new Event("lyvo-user-updated")),t({title:"Success",description:"Profile updated successfully!"}))}catch(ft){console.error("Profile update error:",ft),t({title:"Error",description:((Pt=(jt=ft==null?void 0:ft.response)==null?void 0:jt.data)==null?void 0:Pt.message)||"Failed to update profile. Please try again.",variant:"destructive"})}finally{y(!1)}},qr=Ze=>{const jt={length:Ze.length>=8,uppercase:/[A-Z]/.test(Ze),lowercase:/[a-z]/.test(Ze),number:/\d/.test(Ze),special:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(Ze)};T(jt);const Pt=Object.values(jt).filter(Boolean).length*20;return I(Pt),jt},_n=(Ze,jt,Pt)=>{const ft={};if(Ze.trim()||(ft.currentPassword="Current password is required"),!jt.trim())ft.newPassword="New password is required";else{const Ut=qr(jt);Ut.length?Ut.uppercase?Ut.lowercase?Ut.number?Ut.special||(ft.newPassword="Password must contain at least one special character"):ft.newPassword="Password must contain at least one number":ft.newPassword="Password must contain at least one lowercase letter":ft.newPassword="Password must contain at least one uppercase letter":ft.newPassword="Password must be at least 8 characters long"}return Pt.trim()?jt!==Pt&&(ft.confirmPassword="Passwords do not match"):ft.confirmPassword="Please confirm your new password",Ze&&jt&&Ze===jt&&(ft.newPassword="New password must be different from current password"),N(ft),Object.keys(ft).length===0},Ft=Ze=>Ze<40?"bg-red-500":Ze<60?"bg-orange-500":Ze<80?"bg-yellow-500":"bg-green-500",ps=Ze=>Ze<40?"Weak":Ze<60?"Fair":Ze<80?"Good":"Strong",gs=async Ze=>{var jt,Pt;if(Ze.preventDefault(),!!(i!=null&&i._id))try{w(!0);const ft=localStorage.getItem("authToken"),Ut=document.getElementById("current-password").value,vn=document.getElementById("new-password").value,Lr=document.getElementById("confirm-password").value;if(!_n(Ut,vn,Lr)){t({title:"Validation Error",description:"Please fix the errors below before proceeding",variant:"destructive"});return}await kt.post("/user/change-password",{currentPassword:Ut,newPassword:vn}),document.getElementById("current-password").value="",document.getElementById("new-password").value="",document.getElementById("confirm-password").value="",N({}),I(0),T({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),t({title:"Success",description:"Password updated successfully!"})}catch(ft){console.error("Password change error:",ft),t({title:"Error",description:((Pt=(jt=ft==null?void 0:ft.response)==null?void 0:jt.data)==null?void 0:Pt.message)||"Failed to update password. Please try again.",variant:"destructive"})}finally{w(!1)}},Tn=[{id:"profile",name:"Profile",icon:cr},{id:"security",name:"Security",icon:rr},{id:"kyc",name:"Govt ID (KYC)",icon:rr}];return _.useEffect(()=>{window.location.hash==="#kyc"&&d("kyc")},[]),_.useEffect(()=>{c==="kyc"&&st()},[c]),o?s.jsx(Nn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(Nn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account and property preferences"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"lg:hidden p-4 border-b border-gray-200",children:s.jsxs(Y2,{value:c,onValueChange:Ze=>d(Ze),children:[s.jsx(Ty,{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:s.jsx(X2,{placeholder:"Select section"})}),s.jsx(Oy,{position:"popper",children:Tn.map(Ze=>s.jsx(xa,{value:Ze.id,children:Ze.name},Ze.id))})]})}),s.jsx("div",{className:"hidden lg:flex border-b border-gray-200",children:Tn.map(Ze=>{const jt=Ze.icon;return s.jsxs("button",{onClick:()=>d(Ze.id),className:`flex items-center space-x-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors duration-200 ${c===Ze.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(jt,{className:"w-5 h-5"}),s.jsx("span",{children:Ze.name})]},Ze.id)})}),s.jsxs("div",{className:"p-6",children:[c==="kyc"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aadhar Card Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."}),pe&&pe.isApproved?s.jsxs(Vd,{className:"border-green-200 bg-green-50",children:[s.jsx(mf,{children:s.jsxs(pf,{className:"flex items-center text-green-800",children:[s.jsx(Qr,{className:"w-6 h-6 mr-2"}),"Verification Approved"]})}),s.jsx(Kd,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(rr,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Aadhar Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Status: Approved"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center text-green-600 font-semibold",children:[s.jsx(Qr,{className:"w-5 h-5 mr-1"}),"Verified"]}),s.jsx("p",{className:"text-xs text-gray-500",children:(ss=pe.details)!=null&&ss.approvalDate?new Date(pe.details.approvalDate).toLocaleDateString():"Recently approved"})]})]}),pe.details&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Verification Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Aadhar Number:"}),s.jsx("span",{className:"font-medium",children:pe.details.aadharNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Name:"}),s.jsx("span",{className:"font-medium",children:pe.details.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Confidence:"}),s.jsxs("span",{className:"font-medium",children:[pe.details.overallConfidence,"%"]})]})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"What's Next?"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"You can now list properties"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"Access all platform features"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Qr,{className:"w-4 h-4 text-green-600 mr-2"}),"No need to verify again"]})]})]})]})]})})]}):s.jsxs(s.Fragment,{children:[Ne&&s.jsx(Vd,{className:"border-green-200 bg-green-50",children:s.jsxs(Kd,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4",children:Me===100?s.jsx(Qr,{className:"w-6 h-6 text-white"}):s.jsx(Ni,{className:"w-6 h-6 text-white animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Me===100?"Verification Complete!":"Verifying Your Identity"}),s.jsx("p",{className:"text-sm text-gray-600",children:Me===100?"Your identity has been successfully verified":"Please wait while we process your documents..."})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(X.div,{className:"bg-green-500 h-2 rounded-full",initial:{width:0},animate:{width:`${Me}%`},transition:{duration:.3}})}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[Me,"% Complete"]})]})}),F&&!Ne&&s.jsx(S2,{className:`${Ct(F)} border-0`,children:s.jsxs("div",{className:"flex items-center",children:[Zt(F),s.jsxs(E2,{className:"ml-2",children:[s.jsx("strong",{children:"Current Status:"})," ",F.charAt(0).toUpperCase()+F.slice(1)]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Vd,{children:[s.jsx(mf,{children:s.jsxs(pf,{className:"flex items-center",children:[s.jsx(rr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upload Document"]})}),s.jsxs(Kd,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(rr,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Aadhar Card Verification"})]}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Aadhar Card Photo"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors",children:Y?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:Y,alt:"Front preview",className:"mx-auto max-h-48 rounded-lg shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(bn,{variant:"destructive",size:"sm",onClick:()=>{W(null),Q(null)},className:"rounded-full w-8 h-8 p-0",children:s.jsx(or,{className:"w-4 h-4"})})})]}),s.jsx("div",{className:"flex gap-2 justify-center",children:s.jsxs(bn,{variant:"outline",size:"sm",onClick:()=>_t(),className:"flex items-center",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Retake"]})})]}):s.jsxs("div",{children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(YP,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"text-gray-600 mb-4 font-medium",children:"Upload a clear photo of your Aadhar card"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:Ze=>At(Ze.target.files[0]),className:"hidden",id:"front-upload"}),s.jsx("label",{htmlFor:"front-upload",className:"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold",children:"Choose File"}),s.jsxs(bn,{variant:"outline",onClick:()=>_t(),className:"flex items-center border-blue-300 text-blue-600 hover:bg-blue-50",children:[s.jsx(es,{className:"w-4 h-4 mr-2"}),"Take Photo"]})]})]})})]}),s.jsx(bn,{onClick:Ve,disabled:!U||k,className:"w-full",size:"lg",children:k?s.jsxs(s.Fragment,{children:[s.jsx(Ni,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing Document..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),"Verify Document"]})})]})]}),s.jsxs(Vd,{children:[s.jsx(mf,{children:s.jsxs(pf,{className:"flex items-center",children:[s.jsx(kr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Verification Results"]})}),s.jsx(Kd,{className:"p-6",children:K?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Qr,{className:"w-6 h-6 mr-2 text-blue-600"}),"Verification Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${(vr=K.validation)!=null&&vr.is_aadhar_card?"text-green-600":"text-red-600"}`,children:(St=K.validation)!=null&&St.is_aadhar_card?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Aadhar Card"}),s.jsx("div",{className:"text-xs text-gray-500",children:(un=K.validation)!=null&&un.is_aadhar_card?"Valid":"Invalid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${K.confidence>70?"text-green-600":K.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(K.confidence||0),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Overall Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${K.verified?"text-green-600":"text-yellow-600"}`,children:K.verified?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("div",{className:"text-xs text-gray-500",children:K.verified?"Approved":"Pending"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ss,{className:"w-5 h-5 mr-2 text-blue-600"}),"Extracted Information"]}),s.jsxs("div",{className:"space-y-3",children:[((ti=K.extractedData)==null?void 0:ti.name)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Name:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:K.extractedData.name})]}),((Hs=K.extractedData)==null?void 0:Hs.number)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"ID Number:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:K.extractedData.number})]}),((is=K.extractedData)==null?void 0:is.dob)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:K.extractedData.dob})]}),((as=K.extractedData)==null?void 0:as.gender)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Gender:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:K.extractedData.gender})]})]})]}),oe&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(cr,{className:"w-5 h-5 mr-2 text-green-600"}),"Name Verification"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Profile Name:"}),s.jsx("span",{className:"font-semibold",children:(i==null?void 0:i.name)||"Not available"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Document Name:"}),s.jsx("span",{className:"font-semibold",children:((os=K.extractedData)==null?void 0:os.name)||"Not extracted"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Match Status:"}),s.jsx("span",{className:`font-semibold ${oe.match?"text-green-600":"text-red-600"}`,children:oe.match?" Match":" No Match"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(oe.confidence*100),"%"]})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2 p-2 bg-white rounded-lg",children:oe.reason})]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-6",children:s.jsx(rr,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Results Yet"}),s.jsx("p",{className:"text-gray-500",children:"Upload a document to see verification results"})]})})]})]})]})]}),c==="profile"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Profile Picture"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(o6,{currentImage:(i==null?void 0:i.profilePicture)||null,onImageUpdate:Ze=>{const jt={...i,profilePicture:Ze};localStorage.setItem("user",JSON.stringify(jt)),a(jt)}}),(i==null?void 0:i.profilePicture)&&s.jsx("button",{type:"button",onClick:Qn,disabled:v,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:v?"Removing":"Remove"})]})]}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),s.jsxs("form",{onSubmit:tr,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",id:"profile-name",defaultValue:(i==null?void 0:i.name)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:(i==null?void 0:i.email)||"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed",disabled:!0,readOnly:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"profile-phone",defaultValue:(i==null?void 0:i.phone)||(i==null?void 0:i.phoneNumber)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"+91 98765 43210"})]})]}),s.jsxs("button",{type:"submit",disabled:v,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Bv,{className:"w-4 h-4 mr-2"}),v?"Saving...":"Save Changes"]})]})]}),c==="security"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"}),i!=null&&i.googleId?s.jsx("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(rr,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-1",children:"Google Account"}),s.jsx("p",{className:"text-sm text-blue-700",children:"You signed in using Google. Your password is managed by Google and cannot be changed here."}),s.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["To change your password, please visit your"," ",s.jsx("a",{href:"https://myaccount.google.com/security",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium hover:text-blue-800",children:"Google Account Security Settings"})]})]})]})}):s.jsxs("form",{onSubmit:gs,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",id:"current-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${j.currentPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),s.jsx("button",{type:"button",onClick:()=>A(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?s.jsx(Zs,{className:"h-5 w-5 text-gray-400"}):s.jsx(kr,{className:"h-5 w-5 text-gray-400"})})]}),j.currentPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.currentPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:f?"text":"password",id:"new-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${j.newPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0,onChange:Ze=>{qr(Ze.target.value),j.newPassword&&N(jt=>{const Pt={...jt};return delete Pt.newPassword,Pt})}}),s.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f?s.jsx(Zs,{className:"h-5 w-5 text-gray-400"}):s.jsx(kr,{className:"h-5 w-5 text-gray-400"})})]}),((Cn=document.getElementById("new-password"))==null?void 0:Cn.value)&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Password Strength:"}),s.jsx("span",{className:`text-xs font-medium ${B<40?"text-red-600":B<60?"text-orange-600":B<80?"text-yellow-600":"text-green-600"}`,children:ps(B)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Ft(B)}`,style:{width:`${B}%`}})})]}),!Object.values(P).every(Boolean)&&s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("div",{className:`flex items-center text-xs ${P.length?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${P.length?"bg-green-500":"bg-gray-300"}`,children:P.length&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"At least 8 characters"]}),s.jsxs("div",{className:`flex items-center text-xs ${P.uppercase?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${P.uppercase?"bg-green-500":"bg-gray-300"}`,children:P.uppercase&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One uppercase letter"]}),s.jsxs("div",{className:`flex items-center text-xs ${P.lowercase?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${P.lowercase?"bg-green-500":"bg-gray-300"}`,children:P.lowercase&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One lowercase letter"]}),s.jsxs("div",{className:`flex items-center text-xs ${P.number?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${P.number?"bg-green-500":"bg-gray-300"}`,children:P.number&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One number"]}),s.jsxs("div",{className:`flex items-center text-xs ${P.special?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${P.special?"bg-green-500":"bg-gray-300"}`,children:P.special&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One special character"]})]}),j.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.newPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:x?"text":"password",id:"confirm-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${j.confirmPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0,onChange:Ze=>{const jt=Ze.target.value,Pt=document.getElementById("new-password").value;jt&&Pt&&jt!==Pt?N(ft=>({...ft,confirmPassword:"Passwords do not match"})):j.confirmPassword&&N(ft=>{const Ut={...ft};return delete Ut.confirmPassword,Ut})}}),s.jsx("button",{type:"button",onClick:()=>p(!x),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:x?s.jsx(Zs,{className:"h-5 w-5 text-gray-400"}):s.jsx(kr,{className:"h-5 w-5 text-gray-400"})})]}),j.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.confirmPassword})]}),s.jsxs("button",{type:"submit",disabled:b||Object.values(j).some(Ze=>Ze&&Ze.trim())||!Object.values(P).every(Boolean),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(rr,{className:"w-4 h-4 mr-2"}),b?"Updating...":"Update Password"]}),!b&&(Object.values(j).some(Ze=>Ze&&Ze.trim())||!Object.values(P).every(Boolean))&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Complete all password requirements above to enable the update button"})]})]})]})]}),V&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-lg w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capture Aadhar Card"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Take a clear photo of your Aadhar card"})]}),s.jsx(bn,{variant:"ghost",size:"sm",onClick:gt,className:"text-gray-500 hover:text-gray-700 rounded-full w-10 h-10 p-0",children:s.jsx(or,{className:"w-5 h-5"})})]}),ze?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(er,{className:"w-10 h-10 text-red-500"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Camera Error"}),s.jsx("p",{className:"text-red-600 mb-6",children:ze}),s.jsx(bn,{onClick:at,className:"bg-blue-600 hover:bg-blue-700",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden",children:[ge&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ni,{className:"w-12 h-12 text-white animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-sm",children:"Starting camera..."})]})}),s.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-80 object-cover ${lt?"opacity-100":"opacity-0"} transition-opacity duration-300`,style:{backgroundColor:"#000"}}),s.jsx("canvas",{ref:n,className:"hidden"}),lt&&s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-4 border-2 border-white border-dashed rounded-lg opacity-70",children:s.jsx("div",{className:"absolute top-2 left-2 text-white text-xs font-medium bg-black bg-opacity-50 px-2 py-1 rounded",children:"Align document within frame"})}),s.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-t-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-t-2 border-r-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-b-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-b-2 border-r-2 border-white"})]}),!lt&&!ge&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(es,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Camera not ready"})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(er,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tips for better capture:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[s.jsx("li",{children:"Ensure good lighting"}),s.jsx("li",{children:"Keep the document flat and straight"}),s.jsx("li",{children:"Align all four corners within the frame"}),s.jsx("li",{children:"Avoid shadows and reflections"})]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(bn,{onClick:Bt,disabled:!lt||ge,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(es,{className:"w-5 h-5 mr-2"}),ge?"Starting Camera...":lt?"Capture Photo":"Camera Not Ready"]}),s.jsx(bn,{onClick:gt,variant:"outline",className:"px-6 py-3 border-2 border-gray-300 hover:border-gray-400 font-semibold rounded-xl",children:"Cancel"})]})]})]})}),s.jsx(dq,{open:z,onOpenChange:te,children:s.jsxs(R6,{className:"sm:max-w-md",children:[s.jsxs(D6,{children:[s.jsxs(Q6,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(er,{className:"h-5 w-5"}),"Verification Failed"]}),s.jsx($6,{children:"Your KYC verification could not be completed."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:re})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Please ensure:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Upload a clear, valid Aadhar card image"}),s.jsx("li",{children:" The name on the document matches your profile name"}),s.jsx("li",{children:" The image is not blurry or rotated"}),s.jsx("li",{children:" All text is clearly visible"})]})]})]}),s.jsxs(M6,{className:"flex gap-2",children:[s.jsx(bn,{variant:"outline",onClick:()=>te(!1),children:"Close"}),s.jsx(bn,{onClick:()=>{te(!1),W(null),Q(null),ie(null),he(null),ot(0)},children:"Try Again"})]})]})})]})})},bJe=()=>{const e=Ar(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,o]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState("all"),[A,f]=_.useState(!1),[m,x]=_.useState("table"),[p,v]=_.useState(new Set);_.useEffect(()=>{y();const E=setInterval(()=>{console.log("[AUTO-REFRESH] Polling for new bookings..."),y(!0)},3e4);return()=>clearInterval(E)},[]);const y=async(E=!1)=>{try{E||i(!0),E&&f(!0),o("");const k="http://localhost:5000/api",M=localStorage.getItem("authToken"),U=await fetch(`${k}/property/owner/bookings`,{headers:{"Content-Type":"application/json",...M?{Authorization:`Bearer ${M}`}:{}}});if(!U.ok){const Y=await U.text();throw new Error(Y||`HTTP ${U.status}`)}const W=await U.json();r(Array.isArray(W.bookings)?W.bookings:[])}catch(k){E||o(k.message||"Failed to load bookings")}finally{E||i(!1),E&&f(!1)}},b=_.useMemo(()=>{const E=l.trim().toLowerCase();return t.filter(k=>d==="all"?k.status!=="checked_in":d==="pending"?["pending_approval","payment_pending","pending"].includes(k.status):d==="confirmed"?["confirmed","checked_in"].includes(k.status):k.status===d).filter(k=>{var Y,Q,z,te,re;if(!E)return!0;const M=`${((Y=k.userSnapshot)==null?void 0:Y.name)||""} ${((Q=k.userSnapshot)==null?void 0:Q.email)||""}`.toLowerCase(),U=`${((z=k.propertySnapshot)==null?void 0:z.name)||""}`.toLowerCase(),W=`${((te=k.roomSnapshot)==null?void 0:te.roomNumber)||""} ${((re=k.roomSnapshot)==null?void 0:re.roomType)||""}`.toLowerCase();return M.includes(E)||U.includes(E)||W.includes(E)}).sort((k,M)=>new Date(M.createdAt||M.bookedAt)-new Date(k.createdAt||k.bookedAt))},[t,l,d]),w=_.useMemo(()=>{const E=t.filter(Y=>Y.status!=="checked_in").length,k=t.filter(Y=>["confirmed","checked_in"].includes(Y.status)).length,M=t.filter(Y=>["pending_approval","payment_pending","pending"].includes(Y.status)).length,U=t.filter(Y=>Y.status==="cancelled").length,W=t.filter(Y=>Y.status==="rejected").length;return{total:E,confirmed:k,pending:M,cancelled:U,rejected:W}},[t]),j=async()=>{f(!0),await y(),f(!1)},N=E=>E?`${Number(E).toLocaleString()}`:"-",B=E=>{const k=new Date(E);return{date:k.toLocaleDateString(),time:k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},I=E=>{const k=new Set(p);k.has(E)?k.delete(E):k.add(E),v(k)},P=(E,k=null)=>{switch(E){case"confirmed":case"approved":return"bg-green-100 text-green-800 border-green-200";case"checked_in":return"bg-blue-100 text-blue-800 border-blue-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";case"pending_approval":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}},T=(E,k=null)=>{switch(E){case"confirmed":case"approved":return s.jsx(wt,{className:"w-4 h-4"});case"checked_in":return s.jsx(wr,{className:"w-4 h-4"});case"rejected":return s.jsx(ir,{className:"w-4 h-4"});case"cancelled":return s.jsx(ir,{className:"w-4 h-4"});case"pending_approval":return s.jsx(rs,{className:"w-4 h-4"});default:return s.jsx(rs,{className:"w-4 h-4"})}},F=(E,k=null)=>{switch(E){case"confirmed":case"approved":return"Approved";case"checked_in":return"Checked In";case"rejected":return"Rejected";case"cancelled":return k==="user"?"Cancelled by User":"Cancelled";case"pending_approval":return"Pending Approval";default:return E.replace("_"," ").replace(/\b\w/g,M=>M.toUpperCase())}};return s.jsx(Nn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bookings Management"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-gray-600",children:"Manage and review all property bookings"}),s.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-50 text-green-700 text-[10px] font-bold uppercase tracking-wider rounded border border-green-100 animate-pulse",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Live Updates"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>x("table"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Table"}),s.jsx("button",{onClick:()=>x("cards"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="cards"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Cards"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[A?s.jsx(Ka,{className:"w-4 h-4 animate-spin"}):s.jsx(Ka,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[s.jsx(jo,{className:"w-4 h-4"}),"Dashboard"]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>u("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Active Bookings"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:w.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(Tr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="confirmed"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>u("confirmed"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Confirmed"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:w.confirmed})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(wt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsxs("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow relative cursor-pointer ${d==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>u("pending"),children:[w.pending>0&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg animate-pulse",children:w.pending}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:w.pending}),w.pending>0&&s.jsx("div",{className:"text-xs text-yellow-700 mt-1",children:"Awaiting your approval"})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(rs,{className:"w-6 h-6 text-yellow-600"})})]})]}),s.jsx("div",{className:`bg-gradient-to-br from-gray-50 to-gray-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="cancelled"?"border-gray-400 ring-2 ring-gray-200":"border-gray-200"}`,onClick:()=>u("cancelled"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Cancelled"}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:w.cancelled})]}),s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx(ir,{className:"w-6 h-6 text-gray-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-red-50 to-red-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="rejected"?"border-red-400 ring-2 ring-red-200":"border-red-200"}`,onClick:()=>u("rejected"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-red-600 mb-1",children:"Rejected"}),s.jsx("div",{className:"text-3xl font-bold text-red-900",children:w.rejected})]}),s.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-lg flex items-center justify-center",children:s.jsx(ir,{className:"w-6 h-6 text-red-600"})})]})})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(eo,{className:"w-5 h-5 text-gray-400 absolute left-3 top-3"}),s.jsx("input",{value:l,onChange:E=>c(E.target.value),placeholder:"Search by seeker name, property, or room...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm"})]}),d!=="all"&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-lg",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Showing: ",d.charAt(0).toUpperCase()+d.slice(1)," bookings"]}),s.jsx("button",{onClick:()=>u("all"),className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(ir,{className:"w-4 h-4"})})]})]})}),n?s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Loading Bookings"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your bookings..."})]}):a?s.jsxs("div",{className:"bg-white rounded-xl border border-red-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ir,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Bookings"}),s.jsx("p",{className:"text-gray-600 mb-4",children:a}),s.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(Ka,{className:"w-4 h-4"}),"Try Again"]})]}):t.length===0?s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Tr,{className:"w-8 h-8 text-gray-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Bookings Yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"New bookings will appear here when tenants make reservations."}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(jo,{className:"w-4 h-4"}),"Go to Dashboard"]})]}):m==="table"?s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-32",children:"Date"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Status"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-40",children:"Seeker"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-48",children:"Property"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-20",children:"Room"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Rent"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(E=>{var M,U,W,Y,Q,z,te,re,J,H,Z;const k=B(E.createdAt||E.bookedAt);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900",children:k.date}),s.jsx("div",{className:"text-xs text-gray-500",children:k.time})]}),s.jsx("td",{className:"px-3 py-3",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${P(E.status,E.cancelledBy)}`,children:[T(E.status,E.cancelledBy),s.jsx("span",{className:"hidden sm:inline",children:F(E.status,E.cancelledBy)})]})}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:((M=E.userSnapshot)==null?void 0:M.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:((U=E.userSnapshot)==null?void 0:U.email)||"-"})]}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:((W=E.propertySnapshot)==null?void 0:W.name)||((Y=E.property)==null?void 0:Y.propertyName)||"-"}),s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[((z=(Q=E.propertySnapshot)==null?void 0:Q.address)==null?void 0:z.city)||"",(re=(te=E.propertySnapshot)==null?void 0:te.address)!=null&&re.state?`, ${E.propertySnapshot.address.state}`:""]})]}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["R",((J=E.roomSnapshot)==null?void 0:J.roomNumber)||"-"]}),s.jsx("div",{className:"text-xs text-gray-500",children:((H=E.roomSnapshot)==null?void 0:H.roomType)||""})]}),s.jsx("td",{className:"px-3 py-3",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:N((Z=E.roomSnapshot)==null?void 0:Z.rent)})}),s.jsx("td",{className:"px-3 py-3 text-right",children:s.jsxs("button",{onClick:()=>e(`/owner-bookings/${E._id}`,{state:{userId:E.userId,ownerId:E.ownerId,propertyId:E.propertyId,roomId:E.roomId}}),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-xs font-medium",children:[s.jsx(kr,{className:"w-3 h-3"}),s.jsx("span",{className:"hidden sm:inline",children:"View"})]})})]},E._id)})})]})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(E=>{var U,W,Y,Q,z,te,re,J,H,Z,K,ie,oe,he,pe;const k=B(E.createdAt||E.bookedAt),M=p.has(E._id);return s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Tr,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.date}),s.jsx("div",{className:"text-xs text-gray-500",children:k.time})]})]}),s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${P(E.status,E.cancelledBy)}`,children:[T(E.status,E.cancelledBy),F(E.status,E.cancelledBy)]})]}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center mr-3",children:s.jsx(cr,{className:"w-4 h-4 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((U=E.userSnapshot)==null?void 0:U.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500",children:((W=E.userSnapshot)==null?void 0:W.email)||"-"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Y=E.propertySnapshot)==null?void 0:Y.name)||((Q=E.property)==null?void 0:Q.propertyName)||"-"})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-6",children:[((te=(z=E.propertySnapshot)==null?void 0:z.address)==null?void 0:te.street)||"",(J=(re=E.propertySnapshot)==null?void 0:re.address)!=null&&J.city?`, ${E.propertySnapshot.address.city}`:"",(Z=(H=E.propertySnapshot)==null?void 0:H.address)!=null&&Z.state?`, ${E.propertySnapshot.address.state}`:""]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ca,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["Room ",((K=E.roomSnapshot)==null?void 0:K.roomNumber)||"-"]}),s.jsx("div",{className:"text-xs text-gray-500",children:((ie=E.roomSnapshot)==null?void 0:ie.roomType)||""})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:N((oe=E.roomSnapshot)==null?void 0:oe.rent)}),s.jsx("div",{className:"text-xs text-gray-500",children:"per month"})]})]}),M&&s.jsx("div",{className:"border-t border-gray-200 pt-4 mb-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Es,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:((he=E.userSnapshot)==null?void 0:he.phone)||"Not provided"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ln,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:((pe=E.userSnapshot)==null?void 0:pe.email)||"Not provided"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>I(E._id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:M?"Show Less":"Show More"}),s.jsxs("button",{onClick:()=>e(`/owner-bookings/${E._id}`,{state:{userId:E.userId,ownerId:E.ownerId,propertyId:E.propertyId,roomId:E.roomId}}),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[s.jsx(kr,{className:"w-4 h-4"}),"View Details"]})]})]})},E._id)})})]})})},wJe=()=>{var P,T,F,E,k,M,U,W,Y,Q,z,te,re,J,H,Z,K,ie,oe,he,pe,ee,fe,ue,V,ve,Se,ne,xe,Le,ze,Te,lt,tt,ge,Be;const{bookingId:e}=wu(),t=Ar(),r=Ja(),[n,i]=_.useState(null),[a,o]=_.useState(!0),[l,c]=_.useState(""),[d,u]=_.useState(""),[A,f]=_.useState(!1),[m,x]=_.useState(!1),[p,v]=_.useState(!1),[y,b]=_.useState(!1),[w,j]=_.useState(null);_.useEffect(()=>{(async()=>{try{o(!0),c("");const ke="http://localhost:5000/api/property",Me=localStorage.getItem("authToken");let ot=Me&&e?`${ke}/bookings/${e}`:null,nt;ot&&(nt=await fetch(ot,{headers:{"Content-Type":"application/json",...Me?{Authorization:`Bearer ${Me}`}:{}}}));let rt;if(nt&&nt.ok)rt=await nt.json(),i(rt.booking),console.log("Booking Data:",rt.booking),u(rt.source||"booking");else{const Ke=r.state||{},st=new URLSearchParams(r.search),at=Ke.userId||st.get("userId"),gt=Ke.ownerId||st.get("ownerId"),Bt=Ke.propertyId||st.get("propertyId"),_t=Ke.roomId||st.get("roomId");if(at&&gt&&Bt&&_t){const Vt=`${ke}/bookings/lookup/payment?userId=${encodeURIComponent(at)}&ownerId=${encodeURIComponent(gt)}&propertyId=${encodeURIComponent(Bt)}&roomId=${encodeURIComponent(_t)}`,yt=await fetch(Vt);if(!yt.ok){const it=await yt.text();throw new Error(it||`HTTP ${yt.status}`)}const At=await yt.json();i(At.booking),u(At.source||"composed")}else if(nt){const Vt=await nt.text();throw new Error(Vt||`HTTP ${nt.status}`)}else throw new Error("No booking ID or lookup parameters found")}}catch(ke){c(ke.message||"Failed to load booking")}finally{o(!1)}})()},[e,r.search,r.state]);const N=async Ne=>{try{if(!(n!=null&&n._id))return;f(!0);const ke="http://localhost:5000/api",Me=localStorage.getItem("authToken"),ot=Ne==="approve"?"approved":"rejected",nt=await fetch(`${ke}/property/bookings/${n._id}/status`,{method:"POST",headers:{"Content-Type":"application/json",...Me?{Authorization:`Bearer ${Me}`}:{}},body:JSON.stringify({status:ot})});if(!nt.ok){const Ke=await nt.text();throw new Error(Ke||`HTTP ${nt.status}`)}const rt=await nt.json();i(rt.booking),j(Ne),Ne==="approve"?x(!0):v(!0)}catch(ke){c(ke.message||"Failed to update booking")}finally{f(!1)}},B=async()=>{try{if(!(n!=null&&n._id))return;f(!0);const Ne="http://localhost:5000/api",ke=localStorage.getItem("authToken"),Me=await fetch(`${Ne}/property/bookings/${n._id}/finalize-check-in`,{method:"POST",headers:{"Content-Type":"application/json",...ke?{Authorization:`Bearer ${ke}`}:{}}});if(!Me.ok){const nt=await Me.text();throw new Error(nt||`HTTP ${Me.status}`)}const ot=await Me.json();i(nt=>({...nt,status:"checked_in"})),b(!0)}catch(Ne){c(Ne.message||"Failed to finalize check-in")}finally{f(!1)}},I=Ne=>{const ke={pending_approval:{bg:"bg-yellow-100",text:"text-yellow-800",icon:rs,label:"Pending Approval"},confirmed:{bg:"bg-green-100",text:"text-green-800",icon:wt,label:"Approved"},approved:{bg:"bg-green-100",text:"text-green-800",icon:wt,label:"Approved"},checked_in:{bg:"bg-blue-100",text:"text-blue-800",icon:wr,label:"Checked In"},rejected:{bg:"bg-red-100",text:"text-red-800",icon:ir,label:"Rejected"},cancelled:{bg:"bg-gray-100",text:"text-gray-800",icon:ir,label:"Cancelled"}},Me=ke[Ne]||ke.pending_approval,ot=Me.icon;return s.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${Me.bg} ${Me.text} font-medium`,children:[s.jsx(ot,{className:"w-4 h-4"}),Me.label]})};return s.jsxs(Nn,{children:[s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/owner-bookings"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(pi,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Back to Bookings"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Booking Details"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and review booking information"})]}),n&&s.jsx("div",{children:I(n.status)})]})]}),a?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading booking details..."})]}):l?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx(er,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-lg",children:l})]}):n?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Xr,{className:"w-6 h-6"}),"Property Details"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Pr,{className:"w-4 h-4"}),"Property Name"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((P=n.propertySnapshot)==null?void 0:P.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ei,{className:"w-4 h-4"}),"Security Deposit"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((T=n.propertySnapshot)==null?void 0:T.security_deposit)!=null?`${Number(n.propertySnapshot.security_deposit).toLocaleString()}`:"N/A"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(wr,{className:"w-4 h-4"}),"Address"]}),s.jsxs("p",{className:"mt-1 text-gray-900",children:[((E=(F=n.propertySnapshot)==null?void 0:F.address)==null?void 0:E.street)&&`${n.propertySnapshot.address.street}, `,((M=(k=n.propertySnapshot)==null?void 0:k.address)==null?void 0:M.city)&&`${n.propertySnapshot.address.city}, `,((W=(U=n.propertySnapshot)==null?void 0:U.address)==null?void 0:W.state)&&`${n.propertySnapshot.address.state} `,((Q=(Y=n.propertySnapshot)==null?void 0:Y.address)==null?void 0:Q.pincode)&&`- ${n.propertySnapshot.address.pincode}`,!((z=n.propertySnapshot)!=null&&z.address)&&"N/A"]})]})]})})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(ca,{className:"w-6 h-6"}),"Room Details"]})}),s.jsxs("div",{className:"p-6",children:[(((re=(te=n.roomSnapshot)==null?void 0:te.images)==null?void 0:re.room)||((H=(J=n.roomSnapshot)==null?void 0:J.images)==null?void 0:H.toilet))&&s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[((K=(Z=n.roomSnapshot)==null?void 0:Z.images)==null?void 0:K.room)&&s.jsxs("div",{className:"relative group overflow-hidden rounded-xl",children:[s.jsx("img",{src:n.roomSnapshot.images.room,alt:"Room",className:"w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:s.jsx("p",{className:"text-white font-medium",children:"Room View"})})]}),((oe=(ie=n.roomSnapshot)==null?void 0:ie.images)==null?void 0:oe.toilet)&&s.jsxs("div",{className:"relative group overflow-hidden rounded-xl",children:[s.jsx("img",{src:n.roomSnapshot.images.toilet,alt:"Bathroom",className:"w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:s.jsx("p",{className:"text-white font-medium",children:"Bathroom View"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Oue,{className:"w-4 h-4"}),"Room Number"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((he=n.roomSnapshot)==null?void 0:he.roomNumber)??"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ca,{className:"w-4 h-4"}),"Room Type"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((pe=n.roomSnapshot)==null?void 0:pe.roomType)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Pue,{className:"w-4 h-4"}),"Room Size"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((ee=n.roomSnapshot)==null?void 0:ee.roomSize)!=null?`${n.roomSnapshot.roomSize} sq ft`:"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Bed Type"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((fe=n.roomSnapshot)==null?void 0:fe.bedType)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(zr,{className:"w-4 h-4"}),"Occupancy"]}),s.jsxs("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:[((ue=n.roomSnapshot)==null?void 0:ue.occupancy)??"N/A"," ",((V=n.roomSnapshot)==null?void 0:V.occupancy)>1?"Persons":"Person"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ei,{className:"w-4 h-4"}),"Monthly Rent"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-green-600",children:((ve=n.roomSnapshot)==null?void 0:ve.rent)!=null?`${Number(n.roomSnapshot.rent).toLocaleString()}`:"N/A"})]}),s.jsxs("div",{className:n.status==="pending_approval"?"bg-purple-50 p-3 rounded-xl border border-purple-100":"",children:[s.jsxs("label",{className:"text-sm font-medium text-purple-600 flex items-center gap-2",children:[s.jsx(Tr,{className:"w-4 h-4"}),"Requested Check-in"]}),s.jsx("p",{className:`mt-1 text-lg font-bold ${n.checkInDate?"text-purple-700":"text-gray-400 italic"}`,children:n.checkInDate?new Date(n.checkInDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"Not set by seeker yet"})]})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Tr,{className:"w-6 h-6"}),"Booking Timeline"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:new Date(n.createdAt||n.bookedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.createdAt||n.bookedAt).toLocaleTimeString("en-IN")})]}),n.checkInDate&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Requested Check-in Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-purple-600",children:new Date(n.checkInDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Expected arrival"})]}),n.approvedAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Approved Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:new Date(n.approvedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.approvedAt).toLocaleTimeString("en-IN")})]})]})})]}),n.status==="pending_approval"&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Actions"}),!n.checkInDate&&n.status==="pending_approval"&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 p-4 rounded-xl mb-4 flex items-start gap-3",children:[s.jsx(rg,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Awaiting Seeker's Check-in Date"}),s.jsx("p",{className:"text-xs mt-1",children:"The seeker needs to set their preferred check-in date from their dashboard before you can approve this booking."})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("button",{disabled:A||!n.checkInDate,onClick:()=>N("approve"),className:"flex-1 min-w-[200px] bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-4 rounded-xl font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed flex items-center justify-center gap-2",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"w-5 h-5"}),n.checkInDate?"Approve Booking":"Awaiting Date"]})}),s.jsx("button",{disabled:A,onClick:()=>N("reject"),className:"flex-1 min-w-[200px] bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-4 rounded-xl font-semibold hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"w-5 h-5"}),"Reject Booking"]})})]})]}),(n.status==="approved"||n.status==="confirmed")&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg p-6 border-l-4 border-blue-600",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(wr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Final Check-in Confirmation"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Confirm that the seeker has arrived at the property and successfully checked in."})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(rr,{className:"w-4 h-4"}),"What happens next?"]}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Seeker will be officially added as a Tenant in this room"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Room occupancy will be updated"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Tenancy records will be visible in your Tenant Management area"]})]})]}),s.jsx("button",{disabled:A,onClick:B,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-xl font-bold hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center gap-3",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Check-in..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wt,{className:"w-6 h-6"}),"Confirm Final Check-in"]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5"}),"Seeker Information"]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-4",children:(Se=n.userId)!=null&&Se.profilePicture||(ne=n.userId)!=null&&ne.picture?s.jsx("img",{src:((xe=n.userId)==null?void 0:xe.profilePicture)||((Le=n.userId)==null?void 0:Le.picture),alt:"Seeker Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-indigo-50 shadow-md"}):s.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-300",children:s.jsx(cr,{className:"w-12 h-12"})})}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((ze=n.userSnapshot)==null?void 0:ze.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ln,{className:"w-4 h-4"}),"Email"]}),s.jsx("p",{className:"mt-1 text-gray-900 break-words",children:((Te=n.userSnapshot)==null?void 0:Te.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Es,{className:"w-4 h-4"}),"Phone"]}),s.jsx("p",{className:"mt-1 text-gray-900",children:((lt=n.userSnapshot)==null?void 0:lt.phone)||"N/A"})]})]})]}),n.userId&&(n.userId.govtIdFrontUrl||n.userId.govtIdBackUrl)&&s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.25},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(rr,{className:"w-5 h-5"}),"Identity Verification"]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.userId.kycVerified?s.jsxs("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full flex items-center gap-1 font-medium",children:[s.jsx(wt,{className:"w-3 h-3"})," Verified"]}):s.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full flex items-center gap-1 font-medium",children:[s.jsx(rs,{className:"w-3 h-3"})," Pending"]})}),s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:"Government ID"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.userId.govtIdFrontUrl&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Front Side"}),s.jsx("img",{src:n.userId.govtIdFrontUrl,alt:"ID Front",className:"w-full h-40 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(n.userId.govtIdFrontUrl,"_blank")})]}),n.userId.govtIdBackUrl&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Back Side"}),s.jsx("img",{src:n.userId.govtIdBackUrl,alt:"ID Back",className:"w-full h-40 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(n.userId.govtIdBackUrl,"_blank")})]})]})]})]}),s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(cr,{className:"w-5 h-5"}),"Owner Information"]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((tt=n.ownerSnapshot)==null?void 0:tt.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ln,{className:"w-4 h-4"}),"Email"]}),s.jsx("p",{className:"mt-1 text-gray-900 break-words",children:((ge=n.ownerSnapshot)==null?void 0:ge.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Es,{className:"w-4 h-4"}),"Phone"]}),s.jsx("p",{className:"mt-1 text-gray-900",children:((Be=n.ownerSnapshot)==null?void 0:Be.phone)||"N/A"})]})]})]})]})]}):null]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(wt,{className:"w-10 h-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Approved!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The booking has been successfully approved. The seeker will be notified via email."}),s.jsx("button",{onClick:()=>{x(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-200",children:"Back to Bookings"})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ir,{className:"w-10 h-10 text-red-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Rejected"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The booking has been rejected. The seeker will be notified via email."}),s.jsx("button",{onClick:()=>{v(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-red-700 hover:to-red-800 transition-all duration-200",children:"Back to Bookings"})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(X.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(wt,{className:"w-10 h-10 text-blue-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check-in Successful!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The seeker has been successfully checked in."}),s.jsx("button",{onClick:()=>{b(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-200",children:"Back to Bookings"})]})})]})},jJe=()=>{const e=Ar(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,o]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState("all"),[A,f]=_.useState(!1),[m,x]=_.useState(!1),[p,v]=_.useState(null),[y,b]=_.useState(!1),w=async()=>{try{i(!0),o("");const k=await kt.get("/property/owner/tenants");if(k.status===200){const M=k.data;r(Array.isArray(M.tenants)?M.tenants:[])}else throw new Error(`HTTP ${k.status}`)}catch(k){o(k.message||"Failed to load tenants")}finally{i(!1)}};_.useEffect(()=>{w()},[]);const j=_.useMemo(()=>{const k=l.trim().toLowerCase();return t.filter(M=>d==="all"?!0:M.status===d).filter(M=>{if(!k)return!0;const U=`${M.userName||""} ${M.userEmail||""}`.toLowerCase(),W=`${M.propertyName||""}`.toLowerCase(),Y=`${M.roomNumber||""} ${M.roomType||""}`.toLowerCase();return U.includes(k)||W.includes(k)||Y.includes(k)}).sort((M,U)=>new Date(U.actualCheckInDate)-new Date(M.actualCheckInDate))},[t,l,d]),N=_.useMemo(()=>{const k=t.length,M=t.filter(Y=>Y.status==="active").length,U=new Date().toDateString(),W=t.filter(Y=>new Date(Y.actualCheckInDate).toDateString()===U).length;return{total:k,active:M,checkedInToday:W}},[t]),B=async()=>{f(!0),await w(),f(!1)},I=k=>k?`${Number(k).toLocaleString()}`:"-",P=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",T=k=>{switch(k){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"checked_out":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},F=k=>{v(k),x(!0)},E=async()=>{if(p)try{if(b(!0),b(!0),(await kt.post(`/property/tenants/${p._id}/check-out`)).status!==200)throw new Error("Failed to check out tenant");r(M=>M.map(U=>U._id===p._id?{...U,status:"checked_out"}:U)),x(!1),v(null)}catch(k){o(k.message||"Failed to check out tenant")}finally{b(!1)}};return n?s.jsx(Nn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ka,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading tenants..."})]})})}):s.jsx(Nn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Checked-In Tenants"}),s.jsx("p",{className:"text-gray-600",children:"Manage and view all active tenants"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:B,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[A?s.jsx(Ka,{className:"w-4 h-4 animate-spin"}):s.jsx(Ka,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[s.jsx(jo,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>u("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Total Tenants"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:N.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(zr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="active"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>u("active"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Active"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:N.active})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(wt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-purple-600 mb-1",children:"Checked-In Today"}),s.jsx("div",{className:"text-3xl font-bold text-purple-900",children:N.checkedInToday})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-200 rounded-lg flex items-center justify-center",children:s.jsx(Tr,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant name, email, property, or room...",value:l,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-800",children:a})}),j.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(zr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tenants Found"}),s.jsx("p",{className:"text-gray-600",children:l?"Try adjusting your search criteria":"No checked-in tenants yet"})]}):s.jsx("div",{className:"space-y-4",children:j.map((k,M)=>s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},className:`bg-white border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${k.status==="checked_out"?"border-red-300 bg-red-50":"border-gray-200"}`,children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[s.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center ${k.status==="checked_out"?"bg-red-100":"bg-blue-100"}`,children:s.jsx(cr,{className:`w-6 h-6 sm:w-7 sm:h-7 ${k.status==="checked_out"?"text-red-600":"text-blue-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:k.userName}),s.jsx("span",{className:`inline-block px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-xs font-medium ${T(k.status)}`,children:k.status})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 text-xs sm:text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[s.jsx(ln,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:k.userEmail})]}),k.userPhone&&s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[s.jsx(Es,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),s.jsx("span",{children:k.userPhone})]})]})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Property"}),s.jsx("p",{className:"text-sm xl:text-base font-semibold text-gray-900",children:k.propertyName})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Room"}),s.jsxs("p",{className:"text-sm xl:text-base font-semibold text-gray-900",children:["Room ",k.roomNumber]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Rent"}),s.jsx("p",{className:"text-sm xl:text-base font-semibold text-green-600",children:I(k.monthlyRent)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Check-in"}),s.jsx("p",{className:"text-sm xl:text-base font-semibold text-gray-900",children:P(k.actualCheckInDate)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:justify-end",children:[k.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>e(`/owner/tenants/${k._id}`),className:"w-full sm:w-auto px-3 sm:px-4 py-2 sm:py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center justify-center gap-1.5 sm:gap-2",children:[s.jsx(kr,{className:"w-4 h-4"}),s.jsx("span",{children:"Details"})]}),s.jsxs("button",{onClick:()=>F(k),className:"w-full sm:w-auto px-3 sm:px-4 py-2 sm:py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium flex items-center justify-center gap-1.5 sm:gap-2",children:[s.jsx(uc,{className:"w-4 h-4"}),s.jsx("span",{children:"Checkout"})]})]}),k.status==="checked_out"&&s.jsx("div",{className:"w-full sm:w-auto px-3 sm:px-4 py-2 sm:py-2.5 bg-red-100 text-red-800 rounded-lg text-sm font-medium text-center",children:"Checked Out"})]})]}),s.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Property"}),s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:k.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Room"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["Room ",k.roomNumber]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Monthly Rent"}),s.jsx("p",{className:"font-semibold text-green-600",children:I(k.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Check-in Date"}),s.jsx("p",{className:"font-semibold text-gray-900",children:P(k.actualCheckInDate)})]})]})]})},k._id))}),m&&p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-6 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Confirm Checkout"}),s.jsx("p",{className:"text-red-100",children:"Are you sure you want to check out this tenant?"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Tenant Name"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:p.userName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:p.userEmail})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Property"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:p.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Room"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Room ",p.roomNumber]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-semibold text-green-600",children:I(p.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Security Deposit"}),s.jsx("p",{className:"text-sm font-semibold text-blue-600",children:I(p.securityDeposit)})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Check-in Date"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:P(p.actualCheckInDate)})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," This action will mark the tenant as checked out. The security deposit will need to be processed separately."]})})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>{x(!1),v(null)},disabled:y,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:E,disabled:y,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:y?s.jsxs(s.Fragment,{children:[s.jsx(Ka,{className:"w-4 h-4 animate-spin"}),"Checking Out..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{className:"w-5 h-5"}),"Confirm Checkout"]})})]})]})})]})})};delete Pa.Icon.Default.prototype._getIconUrl;Pa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const NJe=({onLocationSelect:e})=>(WN({click:t=>{const{lat:r,lng:n}=t.latlng;e(r,n)}}),null),_Je=({center:e})=>{const t=WN({});return _e.useEffect(()=>{e&&e[0]&&e[1]&&t.setView(e,t.getZoom())},[e,t]),null},CJe=()=>{const e=Ar(),{id:t}=wu(),[r,n]=_.useState(null),[i,a]=_.useState(!0),[o,l]=_.useState(!1),[c,d]=_.useState(null),[u,A]=_.useState(null),[f,m]=_.useState(null),[x,p]=_.useState("basic"),[v,y]=_.useState([12.9716,77.5946]),[b,w]=_.useState(13),[j,N]=_.useState({}),[B,I]=_.useState({}),[P,T]=_.useState(null),F=_.useRef({}),[E,k]=_.useState({property_name:"",description:"",property_mode:"room",address:{street:"",city:"",state:"",pincode:"",landmark:""},latitude:"",longitude:"",security_deposit:"",amenities:{parking4w:!1,parking2w:!1,kitchen:!1,powerBackup:!1},rules:{petsAllowed:!1,smokingAllowed:!1,visitorsAllowed:!0,cookingAllowed:!0},images:{front:"",back:"",hall:"",kitchen:"",gallery:[]},requiredImages:{front:null,back:null,hall:null,kitchen:null},toilet_outside:!1,outside_toilet_image:"",land_tax_receipt:"",status:"active"});_.useEffect(()=>{(async()=>{var ie,oe,he,pe,ee,fe,ue,V,ve,Se,ne,xe,Le,ze,Te,lt,tt,ge,Be,Ne,ke,Me;try{a(!0);const ot=localStorage.getItem("authToken");if(!ot){e("/login");return}const nt=await fetch(`http://localhost:5000/api/property/owner/properties/${t}`,{headers:{Authorization:`Bearer ${ot}`}});if(nt.ok){const rt=await nt.json();if(rt.success){const Ke=rt.data;d(Ke),k({property_name:Ke.property_name||"",description:Ke.description||"",property_mode:Ke.property_mode||"room",address:{street:((ie=Ke.address)==null?void 0:ie.street)||"",city:((oe=Ke.address)==null?void 0:oe.city)||"",state:((he=Ke.address)==null?void 0:he.state)||"",pincode:((pe=Ke.address)==null?void 0:pe.pincode)||"",landmark:((ee=Ke.address)==null?void 0:ee.landmark)||""},latitude:Ke.latitude||"",longitude:Ke.longitude||"",security_deposit:Ke.security_deposit||"",amenities:{parking4w:((fe=Ke.amenities)==null?void 0:fe.parking4w)||!1,parking2w:((ue=Ke.amenities)==null?void 0:ue.parking2w)||!1,kitchen:((V=Ke.amenities)==null?void 0:V.kitchen)||!1,powerBackup:((ve=Ke.amenities)==null?void 0:ve.powerBackup)||!1},rules:{petsAllowed:((Se=Ke.rules)==null?void 0:Se.petsAllowed)||!1,smokingAllowed:((ne=Ke.rules)==null?void 0:ne.smokingAllowed)||!1,visitorsAllowed:((xe=Ke.rules)==null?void 0:xe.visitorsAllowed)!==!1,cookingAllowed:((Le=Ke.rules)==null?void 0:Le.cookingAllowed)!==!1},images:{front:((ze=Ke.images)==null?void 0:ze.front)||"",back:((Te=Ke.images)==null?void 0:Te.back)||"",hall:((lt=Ke.images)==null?void 0:lt.hall)||"",kitchen:((tt=Ke.images)==null?void 0:tt.kitchen)||"",gallery:((ge=Ke.images)==null?void 0:ge.gallery)||[]},requiredImages:{front:(Be=Ke.images)!=null&&Be.front?{file:null,preview:Ke.images.front,name:"Front View"}:null,back:(Ne=Ke.images)!=null&&Ne.back?{file:null,preview:Ke.images.back,name:"Back View"}:null,hall:(ke=Ke.images)!=null&&ke.hall?{file:null,preview:Ke.images.hall,name:"Hall View"}:null,kitchen:(Me=Ke.images)!=null&&Me.kitchen?{file:null,preview:Ke.images.kitchen,name:"Kitchen View"}:null},toilet_outside:Ke.toilet_outside||!1,outside_toilet_image:Ke.outside_toilet_image||"",land_tax_receipt:Ke.land_tax_receipt||"",status:Ke.status||"active"}),Ke.latitude&&Ke.longitude&&y([Ke.latitude,Ke.longitude])}else A("Property not found")}else A("Failed to fetch property details")}catch(ot){console.error("Error fetching property:",ot),A("Error loading property details")}finally{a(!1)}})()},[t,e]),_.useEffect(()=>{const K=JSON.parse(localStorage.getItem("user")||"{}");n(K)},[]);const M=(K,ie)=>{if(K.includes(".")){const[oe,he]=K.split(".");k(pe=>({...pe,[oe]:{...pe[oe],[he]:ie}}))}else k(oe=>({...oe,[K]:ie}))},U=K=>{k(ie=>({...ie,amenities:{...ie.amenities,[K]:!ie.amenities[K]}}))},W=K=>{k(ie=>({...ie,rules:{...ie.rules,[K]:!ie.rules[K]}}))},Y=(K,ie)=>{k(oe=>({...oe,latitude:K,longitude:ie})),y([K,ie])},Q=(K,ie)=>{const oe=ie.toLowerCase().endsWith(".pdf");console.log("Opening document preview:",{docUrl:K,fileName:ie,isPdf:oe}),fetch(K,{method:"HEAD"}).then(he=>{console.log("Document URL response:",he.status,he.statusText),he.ok||console.error("Document URL not accessible:",he.status)}).catch(he=>{console.error("Error checking document URL:",he)}),T({url:K,name:ie,type:oe?"pdf":"image"})},z=(K,ie)=>{var pe;const oe=(pe=ie.target.files)==null?void 0:pe[0];if(!oe)return;const he={file:oe,preview:URL.createObjectURL(oe),name:oe.name};k(ee=>({...ee,requiredImages:{...ee.requiredImages,[K]:he}}))},te=K=>{k(ie=>({...ie,requiredImages:{...ie.requiredImages,[K]:null}}))},re=(K,ie)=>{if(ie)if(K==="gallery"){const oe={file:ie,preview:URL.createObjectURL(ie),name:ie.name};k(he=>({...he,images:{...he.images,gallery:[...he.images.gallery,oe]}}))}else{const oe={file:ie,preview:URL.createObjectURL(ie),name:ie.name};k(he=>({...he,images:{...he.images,[K]:oe}}))}},J=(K,ie=null)=>{k(K==="gallery"&&ie!==null?oe=>({...oe,images:{...oe.images,gallery:oe.images.gallery.filter((he,pe)=>pe!==ie)}}):oe=>({...oe,images:{...oe.images,[K]:null}}))},H=async K=>{var ie,oe,he,pe,ee;K.preventDefault(),l(!0),A(null),m(null);try{const fe=localStorage.getItem("authToken");if(!fe){e("/login");return}const ue="http://localhost:5000/api/property",V=new FormData,Se={...{...E},pricing:{security_deposit:E.security_deposit}};delete Se.security_deposit,V.append("propertyData",JSON.stringify(Se)),(ie=E.requiredImages.front)!=null&&ie.file&&V.append("frontImage",E.requiredImages.front.file),(oe=E.requiredImages.back)!=null&&oe.file&&V.append("backImage",E.requiredImages.back.file),(he=E.requiredImages.hall)!=null&&he.file&&V.append("hallImage",E.requiredImages.hall.file),(pe=E.requiredImages.kitchen)!=null&&pe.file&&V.append("kitchenImage",E.requiredImages.kitchen.file),E.images.gallery&&Array.isArray(E.images.gallery)&&E.images.gallery.forEach((xe,Le)=>{xe.file&&V.append("galleryImages",xe.file)}),E.outside_toilet_image&&E.outside_toilet_image.file&&V.append("outsideToiletImage",E.outside_toilet_image.file),(ee=E.land_tax_receipt)!=null&&ee.file&&V.append("landTaxReceipt",E.land_tax_receipt.file),E.documents&&Array.isArray(E.documents)&&E.documents.forEach((xe,Le)=>{xe.file&&V.append("documents",xe.file)}),console.log("FormData entries for update:");for(let[xe,Le]of V.entries())console.log(xe,Le);const ne=await fetch(`http://localhost:5000/api/property/owner/properties/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${fe}`},body:V});if(ne.ok){const xe=await ne.json();xe.success?(m("Property updated successfully!"),setTimeout(()=>{e("/owner-properties")},2e3)):A(xe.message||"Failed to update property")}else A("Failed to update property")}catch(fe){console.error("Error updating property:",fe),A("Error updating property")}finally{l(!1)}},Z=[{id:"basic",label:"Basic Info",icon:Xr},{id:"location",label:"Location & Map",icon:wr},{id:"amenities",label:"Amenities & Rules",icon:Pr},{id:"media",label:"Images & Documents",icon:es}];return i?s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ni,{className:"w-8 h-8 animate-spin text-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading property details..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Property ID: ",t]})]})})}):u&&!c?s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(er,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Property"}),s.jsx("p",{className:"text-gray-600 mb-4",children:u}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Property ID: ",t]}),s.jsx("button",{onClick:()=>e("/owner-properties"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Back to Properties"})]})})}):s.jsxs(Nn,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx("button",{onClick:()=>e("/owner-properties"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(pi,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"Edit Property"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Update your property information"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:H,disabled:o,className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?s.jsx(Ni,{className:"w-4 h-4 animate-spin"}):s.jsx(Bv,{className:"w-4 h-4"}),s.jsx("span",{children:o?"Saving...":"Save Changes"})]})})]})}),f&&s.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center space-x-2",children:[s.jsx(wt,{className:"w-5 h-5"}),s.jsx("span",{children:f})]}),u&&s.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center space-x-2",children:[s.jsx(er,{className:"w-5 h-5"}),s.jsx("span",{children:u})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-6 lg:space-x-8 overflow-x-auto scrollbar-hide",children:Z.map(K=>{const ie=K.icon;return s.jsxs("button",{onClick:()=>p(K.id),className:`flex items-center space-x-2 sm:space-x-3 py-3 px-3 sm:px-4 border-b-2 font-medium text-sm whitespace-nowrap min-w-0 ${x===K.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(ie,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{children:K.label})]},K.id)})})})}),s.jsxs("form",{onSubmit:H,className:"space-y-6 sm:space-y-8",children:[x==="basic"&&s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Basic Information & Pricing"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name *"}),s.jsx("input",{type:"text",value:E.property_name,onChange:K=>M("property_name",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter property name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Mode"}),s.jsxs(Y2,{value:E.property_mode,onValueChange:K=>M("property_mode",K),children:[s.jsx(Ty,{children:s.jsx(X2,{placeholder:"Select property mode"})}),s.jsx(Oy,{children:s.jsx(xa,{value:"room",children:"Room"})})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{value:E.description,onChange:K=>M("description",K.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Describe your property...",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Pricing Information"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit () *"}),s.jsx("input",{type:"number",value:E.security_deposit,onChange:K=>M("security_deposit",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter security deposit amount",required:!0})]})})]})]}),x==="location"&&s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Location & Map"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",value:E.address.street,onChange:K=>M("address.street",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter street address",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:E.address.city,onChange:K=>M("address.city",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"City",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",value:E.address.state,onChange:K=>M("address.state",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"State",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),s.jsx("input",{type:"text",value:E.address.pincode,onChange:K=>M("address.pincode",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Pincode",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:E.address.landmark,onChange:K=>M("address.landmark",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Nearby landmark"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),s.jsx("input",{type:"number",step:"any",value:E.latitude,onChange:K=>M("latitude",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Latitude"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),s.jsx("input",{type:"number",step:"any",value:E.longitude,onChange:K=>M("longitude",K.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Longitude"})]})]})]}),s.jsx("div",{className:"h-64 sm:h-80 lg:h-96 rounded-lg overflow-hidden border border-gray-300",children:s.jsxs(Gh,{center:v,zoom:b,style:{height:"100%",width:"100%"},children:[s.jsx(Yh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(NJe,{onLocationSelect:Y}),s.jsx(_Je,{center:v}),E.latitude&&E.longitude&&s.jsx(qh,{position:[E.latitude,E.longitude]})]})})]})]}),x==="amenities"&&s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Amenities & Rules"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"parking4w",label:"4-Wheeler Parking",icon:fl},{key:"parking2w",label:"2-Wheeler Parking",icon:fl},{key:"kitchen",label:"Kitchen",icon:kf},{key:"powerBackup",label:"Power Backup",icon:TV}].map(K=>{const ie=K.icon;return s.jsxs("label",{className:`flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${E.amenities[K.key]?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{type:"checkbox",checked:E.amenities[K.key],onChange:()=>U(K.key),className:"sr-only"}),s.jsx(ie,{className:"w-6 h-6 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-center",children:K.label})]},K.key)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Rules & Policies"}),s.jsx("div",{className:"space-y-3 sm:space-y-4",children:[{key:"petsAllowed",label:"Pets Allowed",description:"Allow tenants to keep pets"},{key:"smokingAllowed",label:"Smoking Allowed",description:"Allow smoking on the property"},{key:"visitorsAllowed",label:"Visitors Allowed",description:"Allow tenants to have visitors"},{key:"cookingAllowed",label:"Cooking Allowed",description:"Allow cooking in the property"}].map(K=>s.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:E.rules[K.key],onChange:()=>W(K.key),className:"mt-1 h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.label}),s.jsx("div",{className:"text-sm text-gray-500",children:K.description})]})]},K.key))})]})]}),x==="media"&&s.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Images & Documents"}),s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(es,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h4",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:"Property Images"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{key:"front",label:"Front"},{key:"back",label:"Back"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"}].filter(({key:K})=>K!=="kitchen"||E.amenities.kitchen).map(({key:K,label:ie})=>{var pe;const oe=E.requiredImages[K]||E.images[K],he=((pe=E.requiredImages[K])==null?void 0:pe.preview)||E.images[K];return s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:[ie," ",K!=="kitchen"||E.amenities.kitchen?"*":""]}),oe?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:he,alt:`${ie} View`,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>te(K),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(or,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${j[K]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:j[K]?"Uploading...":`Upload ${ie}`}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ee=>z(K,ee)})]})]},K)})}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(ad,{className:"w-8 h-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:K=>{Array.from(K.target.files).forEach(oe=>{oe&&re("gallery",oe)})},className:"hidden"})]})}),E.images.gallery&&E.images.gallery.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:E.images.gallery.map((K,ie)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:typeof K=="string"?K:K.preview,alt:`Gallery ${ie+1}`,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>J("gallery",ie),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(or,{className:"w-3 h-3"})})]},ie))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",checked:E.toilet_outside,onChange:K=>M("toilet_outside",K.target.checked),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Outside Toilet Available"})]}),E.toilet_outside&&s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:E.outside_toilet_image?s.jsx("img",{src:typeof E.outside_toilet_image=="string"?E.outside_toilet_image:E.outside_toilet_image.preview,alt:"Outside Toilet",className:"w-full h-full object-cover rounded-lg"}):s.jsx(es,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{ref:K=>F.current.outside_toilet_image=K,type:"file",accept:"image/*",onChange:K=>re("outside_toilet_image",K.target.files[0]),className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>{var K;return(K=F.current.outside_toilet_image)==null?void 0:K.click()},disabled:j.outside_toilet_image,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Upload Image"}),E.outside_toilet_image&&s.jsx("button",{type:"button",onClick:()=>J("outside_toilet_image"),className:"px-4 py-2 text-red-600 border border-red-600 rounded-lg hover:bg-red-50 text-sm",children:"Remove"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Documents"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Land Tax Receipt"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-20 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center",children:E.land_tax_receipt?s.jsx("img",{src:typeof E.land_tax_receipt=="string"?E.land_tax_receipt:E.land_tax_receipt.preview,alt:"Land Tax Receipt",className:"w-full h-full object-cover rounded-lg"}):s.jsxs(s.Fragment,{children:[s.jsx(Ss,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Land Tax Receipt"})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{ref:K=>F.current.land_tax_receipt=K,type:"file",accept:"image/*,.pdf",onChange:K=>re("land_tax_receipt",K.target.files[0]),className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>{var K;return(K=F.current.land_tax_receipt)==null?void 0:K.click()},disabled:j.land_tax_receipt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Upload Document"}),E.land_tax_receipt&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>Q(E.land_tax_receipt,"Land Tax Receipt.pdf"),className:"w-10 h-10 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",title:"Preview Document",children:s.jsx(kr,{className:"w-4 h-4"})}),s.jsx("a",{href:typeof E.land_tax_receipt=="string"?E.land_tax_receipt:E.land_tax_receipt.preview,download:"Land Tax Receipt.pdf",className:"w-10 h-10 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",title:"Download Document",children:s.jsx(Jd,{className:"w-4 h-4"})})]})]})]})]})})]})]})]})]})]})}),P&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["Document Preview - ",P.name]}),s.jsx("button",{type:"button",onClick:()=>T(null),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:""})]}),s.jsx("div",{className:"p-4",children:P.type==="pdf"?s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:s.jsx("iframe",{title:"PDF Preview",src:`${P.url}#toolbar=1&navpanes=1&scrollbar=1`,className:"w-full h-full border-0",style:{minHeight:"600px"},onLoad:()=>{console.log("PDF iframe loaded successfully")},onError:()=>{console.error("PDF iframe failed to load")}})}):s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50 flex items-center justify-center",children:s.jsx("img",{src:P.url,alt:P.name,className:"w-full max-h-[70vh] object-contain border border-gray-200 rounded-lg",onError:K=>{K.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})})}),s.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-600",children:P.type==="pdf"?"PDF Document":"Image Document"}),s.jsxs("div",{className:"flex gap-2",children:[P.type==="pdf"&&s.jsxs("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(qP,{className:"w-4 h-4 mr-1"}),"Open in New Tab"]}),s.jsxs("a",{href:P.url,download:P.name,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(Jd,{className:"w-4 h-4 mr-1"}),"Download"]})]})]})]})})]})},BJe=()=>{const e=Ar(),[t,r]=_.useState(!0),[n,i]=_.useState("6months"),[a,o]=_.useState([]),[l,c]=_.useState([]),[d,u]=_.useState([]),A="http://localhost:5000/api";_.useEffect(()=>{(async()=>{r(!0);try{const j=localStorage.getItem("authToken"),N=JSON.parse(localStorage.getItem("user")||"{}");if(!j||!N._id){e("/login");return}const B={"Content-Type":"application/json",Authorization:`Bearer ${j}`,"x-user-id":N._id},[I,P]=await Promise.all([fetch(`${A}/property/owner/properties?page=1&limit=500`,{headers:B}),fetch(`${A}/property/owner/bookings`,{headers:B})]),T=await I.json(),F=await P.json(),E=T.properties||T.data||[];o(E),c(F.bookings||F.data||[]);const k=E.reduce((M,U)=>{const Y=(U.rooms&&Array.isArray(U.rooms)?U.rooms:[]).map(Q=>({...Q,rent:Q.rent??Q.price??0,roomType:Q.roomType??Q.room_type??"Unknown",is_available:typeof Q.is_available=="boolean"?Q.is_available:Q.status==="active",property}));return[...M,...Y]},[]);u(k)}catch(j){console.error("Error fetching analytics data:",j)}finally{r(!1)}})()},[e]);const f=_.useMemo(()=>{const w=a.length,j=d.length,N=d.filter(te=>te.status==="active"||te.is_available).length,B=d.filter(te=>te.is_available===!1).length,I=l.filter(te=>{var H;const re=((H=te.payment)==null?void 0:H.paymentStatus)||te.paymentStatus;return(te.status||te.bookingStatus)==="confirmed"&&re==="completed"}),P=I.reduce((te,re)=>{var J;return te+(((J=re.payment)==null?void 0:J.amount)||0)},0),T=new Date().getMonth(),F=new Date().getFullYear(),E=I.filter(te=>{const re=new Date(te.createdAt);return re.getMonth()===T&&re.getFullYear()===F}).reduce((te,re)=>{var J;return te+(((J=re.payment)==null?void 0:J.amount)||0)},0),k=T===0?11:T-1,M=T===0?F-1:F,U=I.filter(te=>{const re=new Date(te.createdAt);return re.getMonth()===k&&re.getFullYear()===M}).reduce((te,re)=>{var J;return te+(((J=re.payment)==null?void 0:J.amount)||0)},0),W=U>0?((E-U)/U*100).toFixed(1):0,Y=j>0?(B/j*100).toFixed(1):0,Q=d.length>0?Math.round(d.reduce((te,re)=>te+(re.rent||0),0)/d.length):0,z=l.filter(te=>te.status==="pending").length;return{totalProperties:w,totalRooms:j,activeRooms:N,occupiedRooms:B,totalRevenue:P,monthlyRevenue:E,revenueChange:W,occupancyRate:Y,avgRent:Q,pendingBookings:z,totalBookings:l.length}},[a,d,l]),m=_.useMemo(()=>{const w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],j=n==="1month"?1:n==="3months"?3:n==="6months"?6:12,N=[],B=new Date;for(let I=j-1;I>=0;I--){const P=new Date(B.getFullYear(),B.getMonth()-I,1),T=P.getMonth(),F=P.getFullYear(),E=l.filter(k=>{var Y;const M=k.status||k.bookingStatus,U=((Y=k.payment)==null?void 0:Y.paymentStatus)||k.paymentStatus;if(M!=="confirmed"||U!=="completed")return!1;const W=new Date(k.createdAt||k.updatedAt||k.date||Date.now());return W.getMonth()===T&&W.getFullYear()===F}).reduce((k,M)=>{var U;return k+(((U=M.payment)==null?void 0:U.amount)||M.amount||M.totalAmount||0)},0);N.push({month:w[T],revenue:E,bookings:l.filter(k=>{const M=new Date(k.createdAt||k.updatedAt||k.date||Date.now());return M.getMonth()===T&&M.getFullYear()===F}).length})}return N},[l,n]),x=_.useMemo(()=>a.map(w=>{const j=w.propertyName||w.property_name||"Property",N=Array.isArray(w.rooms)?w.rooms:[],B=new Set(N.map(T=>(T._id||T.id||"").toString())),I=l.filter(T=>{const F=(T.roomId||T.room_id||"").toString();return F&&B.has(F)}),P=I.filter(T=>{var F;return(T.status||T.bookingStatus)==="confirmed"&&(((F=T.payment)==null?void 0:F.paymentStatus)||T.paymentStatus)==="completed"}).reduce((T,F)=>{var E;return T+(((E=F.payment)==null?void 0:E.amount)||F.amount||F.totalAmount||0)},0);return{name:j.length>15?j.substring(0,15)+"...":j,fullName:j,revenue:P,bookings:I.length,rooms:N.length,occupiedRooms:N.filter(T=>T.is_available===!1).length}}).sort((w,j)=>j.revenue-w.revenue),[a,l]),p=_.useMemo(()=>{const w=l.filter(I=>I.status==="confirmed").length,j=l.filter(I=>I.status==="pending").length,N=l.filter(I=>I.status==="rejected").length,B=l.filter(I=>I.status==="cancelled").length;return[{name:"Confirmed",value:w,color:"#10b981"},{name:"Pending",value:j,color:"#f59e0b"},{name:"Rejected",value:N,color:"#ef4444"},{name:"Cancelled",value:B,color:"#6b7280"}].filter(I=>I.value>0)},[l]),v=_.useMemo(()=>{const w={};return d.forEach(j=>{const N=j.roomType||j.room_type||"Unknown";w[N]=(w[N]||0)+1}),Object.entries(w).map(([j,N])=>({name:j,value:N,color:j==="Single"?"#3b82f6":j==="Double"?"#8b5cf6":j==="Triple"?"#ec4899":"#6b7280"}))},[d]),y=w=>w>=1e7?`${(w/1e7).toFixed(1)}Cr`:w>=1e5?`${(w/1e5).toFixed(1)}L`:w>=1e3?`${(w/1e3).toFixed(1)}K`:`${w}`;if(t)return s.jsx(Nn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ni,{className:"w-12 h-12 animate-spin text-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})})});const b=[{title:"Total Revenue",value:y(f.totalRevenue),change:`${f.revenueChange}%`,changeType:f.revenueChange>=0?"positive":"negative",icon:ei,color:"bg-green-500",description:"All-time earnings"},{title:"Monthly Revenue",value:y(f.monthlyRevenue),change:`${f.revenueChange}%`,changeType:f.revenueChange>=0?"positive":"negative",icon:du,color:"bg-blue-500",description:"This month"},{title:"Occupancy Rate",value:`${f.occupancyRate}%`,change:`${f.occupiedRooms}/${f.totalRooms} rooms`,icon:Xr,color:"bg-purple-500",description:"Current occupancy"},{title:"Total Bookings",value:f.totalBookings.toString(),change:`${f.pendingBookings} pending`,icon:Tr,color:"bg-orange-500",description:"All bookings"},{title:"Average Rent",value:y(f.avgRent),change:`${f.totalRooms} rooms`,icon:pF,color:"bg-pink-500",description:"Per room"},{title:"Active Rooms",value:f.activeRooms.toString(),change:`${f.totalRooms} total`,icon:wt,color:"bg-teal-500",description:"Available for booking"}];return s.jsx(Nn,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-6",children:[s.jsx(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[s.jsx(Np,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"}),"Analytics Dashboard"]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Track your property performance and revenue"})]}),s.jsx("div",{className:"flex items-center gap-1 sm:gap-2 bg-white rounded-lg border border-gray-200 p-1",children:[{label:"1M",value:"1month"},{label:"3M",value:"3months"},{label:"6M",value:"6months"},{label:"1Y",value:"1year"}].map(w=>s.jsx("button",{onClick:()=>i(w.value),className:`px-2 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ${n===w.value?"bg-red-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:w.label},w.value))})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:b.map((w,j)=>{const N=w.icon;return s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`${w.color} p-2 sm:p-3 rounded-lg`,children:s.jsx(N,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),w.changeType&&s.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${w.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[w.changeType==="positive"?s.jsx(jo,{className:"w-4 h-4"}):s.jsx(hue,{className:"w-4 h-4"}),w.change]})]}),s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:w.value}),s.jsx("p",{className:"text-sm text-gray-600",children:w.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.description})]},w.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(du,{className:"w-5 h-5 text-green-600"}),"Revenue Trend"]}),s.jsx(nf,{width:"100%",height:250,children:s.jsxs(sre,{data:m,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(jf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(lc,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(hl,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(na,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:w=>[`${w.toLocaleString()}`,"Revenue"]}),s.jsx(Eu,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:2})]})})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Tr,{className:"w-5 h-5 text-blue-600"}),"Bookings Trend"]}),s.jsx(nf,{width:"100%",height:250,children:s.jsxs(rre,{data:m,children:[s.jsx(jf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(lc,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(hl,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(na,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:w=>[w,"Bookings"]}),s.jsx(Xf,{type:"monotone",dataKey:"bookings",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 lg:col-span-2",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Xr,{className:"w-5 h-5 text-purple-600"}),"Property Performance"]}),s.jsx(nf,{width:"100%",height:250,children:s.jsxs(nre,{data:x,children:[s.jsx(jf,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(lc,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"11px"}}),s.jsx(hl,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(na,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(w,j)=>[j==="revenue"?`${w.toLocaleString()}`:w,j==="revenue"?"Revenue":"Bookings"],content:({active:w,payload:j})=>{if(w&&j&&j.length){const N=j[0].payload;return s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:N.fullName}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Revenue: ",s.jsxs("span",{className:"font-medium text-purple-600",children:["",N.revenue.toLocaleString()]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Bookings: ",s.jsx("span",{className:"font-medium text-blue-600",children:N.bookings})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Occupancy: ",s.jsxs("span",{className:"font-medium",children:[N.occupiedRooms,"/",N.rooms," rooms"]})]})]})}return null}}),s.jsx(vu,{dataKey:"revenue",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]}),s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(pF,{className:"w-5 h-5 text-orange-600"}),"Booking Status"]}),p.length>0?s.jsxs(s.Fragment,{children:[s.jsx(nf,{width:"100%",height:200,children:s.jsxs(iJe,{children:[s.jsx(Su,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:p.map((w,j)=>s.jsx(U5,{fill:w.color},`cell-${j}`))}),s.jsx(na,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:p.map(w=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:w.color}}),s.jsx("span",{className:"text-gray-600",children:w.name})]}),s.jsx("span",{className:"font-semibold text-gray-900",children:w.value})]},w.name))})]}):s.jsx("div",{className:"flex items-center justify-center h-[250px] text-gray-400",children:s.jsxs("div",{className:"text-center",children:[s.jsx(er,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"No bookings yet"})]})})]})]}),v.length>0&&s.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(kr,{className:"w-5 h-5 text-pink-600"}),"Room Type Distribution"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:v.map(w=>s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:w.color}}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:w.name})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.value}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(w.value/d.length*100).toFixed(1),"% of total"]})]},w.name))})]})]})})},w$="http://localhost:5000/api",SJe=()=>{const e=Ar(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,o]=_.useState(""),[l,c]=_.useState("all"),[d,u]=_.useState(!1),[A,f]=_.useState({open:!1,requestId:null,newStatus:null,title:"",message:""}),m=async()=>{try{const B=If(),P=(await cn.get(`${w$}/maintenance/owner`,{headers:{Authorization:`Bearer ${B}`}})).data.map(T=>{var F,E,k,M,U;return{id:T._id,tenantName:((F=T.tenantId)==null?void 0:F.name)||"Unknown",tenantEmail:(E=T.tenantId)==null?void 0:E.email,tenantPhone:(k=T.tenantId)==null?void 0:k.phone,propertyName:((M=T.propertyId)==null?void 0:M.property_name)||"N/A",roomNumber:((U=T.roomId)==null?void 0:U.room_number)||"N/A",title:T.title,description:T.description,category:T.category,priority:T.priority,status:T.status,dateSubmitted:T.createdAt,assignedTo:T.assignedTo}});r(P)}catch(B){console.error("Error fetching maintenance requests:",B)}finally{i(!1),u(!1)}};_.useEffect(()=>{m()},[]);const x=_.useMemo(()=>{const B=a.trim().toLowerCase();return t.filter(I=>l==="all"?I.status!=="completed":I.status===l).filter(I=>{if(!B)return!0;const P=`${I.tenantName} ${I.tenantEmail}`.toLowerCase(),T=I.propertyName.toLowerCase(),F=(I.roomNumber||"").toLowerCase(),E=I.title.toLowerCase();return P.includes(B)||T.includes(B)||F.includes(B)||E.includes(B)}).sort((I,P)=>new Date(P.dateSubmitted)-new Date(I.dateSubmitted))},[t,a,l]),p=_.useMemo(()=>{const B=t.length,I=t.filter(E=>E.status==="pending").length,P=t.filter(E=>E.status==="in-progress").length,T=t.filter(E=>E.status==="completed").length,F=t.filter(E=>E.status!=="completed").length;return{total:B,pending:I,inProgress:P,completed:T,active:F}},[t]),v=()=>{u(!0),m()},y=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),b=B=>{switch(B){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=B=>{switch(B){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-orange-100 text-orange-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},j=(B,I)=>{const P=I==="in-progress";f({open:!0,requestId:B.id,newStatus:I,title:P?"Start Maintenance?":"Complete Request?",message:P?`Are you sure you want to start working on "${B.title}"? This will notify the tenant.`:`Are you sure you want to mark "${B.title}" as completed? This will notify the tenant.`})},N=async()=>{var B,I;try{const P=If();await cn.patch(`${w$}/maintenance/${A.requestId}`,{status:A.newStatus},{headers:{Authorization:`Bearer ${P}`}}),m(),f({open:!1,requestId:null,newStatus:null,title:"",message:""})}catch(P){console.error("Error updating status:",P),alert("Failed to update status: "+(((I=(B=P.response)==null?void 0:B.data)==null?void 0:I.message)||P.message))}};return n?s.jsx(Nn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ka,{className:"w-12 h-12 animate-spin text-orange-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading maintenance requests..."})]})})}):s.jsxs(Nn,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Maintenance Requests"}),s.jsx("p",{className:"text-gray-600",children:"Manage tenant maintenance requests"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[d?s.jsx(Ka,{className:"w-4 h-4 animate-spin"}):s.jsx(Ka,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg text-sm font-medium hover:bg-orange-700 transition-colors",children:[s.jsx(jo,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-orange-50 to-orange-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="all"?"border-orange-400 ring-2 ring-orange-200":"border-orange-200"}`,onClick:()=>c("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-orange-600 mb-1",children:"Active Requests"}),s.jsx("div",{className:"text-3xl font-bold text-orange-900",children:p.active})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-200 rounded-lg flex items-center justify-center",children:s.jsx($d,{className:"w-6 h-6 text-orange-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>c("pending"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:p.pending})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(er,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="in-progress"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>c("in-progress"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"In Progress"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:p.inProgress})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(rs,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="completed"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>c("completed"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Completed"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:p.completed})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(wt,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant, property, room, or request title...",value:a,onChange:B=>o(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),x.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx($d,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Requests Found"}),s.jsx("p",{className:"text-gray-600",children:a?"Try adjusting your search criteria":"No maintenance requests yet"})]}):s.jsx("div",{className:"space-y-4",children:x.map((B,I)=>s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.05},className:"bg-white border-2 border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:B.title}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${b(B.status)}`,children:B.status.replace("-"," ")}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${w(B.priority)}`,children:B.priority})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:B.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(cr,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:B.tenantName})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Xr,{className:"w-4 h-4"}),s.jsx("span",{children:B.propertyName})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(ca,{className:"w-4 h-4"}),s.jsxs("span",{children:["Room ",B.roomNumber]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Tr,{className:"w-4 h-4"}),s.jsx("span",{children:y(B.dateSubmitted)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full font-medium",children:B.category}),B.assignedTo&&s.jsxs("span",{className:"text-gray-600",children:["Assigned to: ",s.jsx("span",{className:"font-medium",children:B.assignedTo})]})]})]}),s.jsxs("div",{className:"flex lg:flex-col gap-2 lg:items-end",children:[B.status==="pending"&&s.jsx("button",{onClick:()=>j(B,"in-progress"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Start Work"}),B.status==="in-progress"&&s.jsx("button",{onClick:()=>j(B,"completed"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Mark Complete"})]})]})})},B.id))})]}),s.jsx(gn,{children:A.open&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs(X.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:A.title}),s.jsx("button",{onClick:()=>f({...A,open:!1}),className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:A.message}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>f({...A,open:!1}),className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:N,className:`px-4 py-2 text-white font-medium rounded-lg transition-colors ${A.newStatus==="completed"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,children:"Confirm"})]})]})})})]})},EJe=()=>{const e=Ar(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,o]=_.useState(""),[l,c]=_.useState("all"),[d,u]=_.useState(!1),[A,f]=_.useState(!1),[m,x]=_.useState({tenantId:"",amount:"",reason:"",dueDate:""}),p=[{id:1,tenantName:"John Doe",tenantEmail:"john@example.com",tenantPhone:"+91 98765 43210",propertyName:"Sunshine Apartments",roomNumber:"101",monthlyRent:15e3,lastPaymentDate:"2024-12-25",nextDueDate:"2025-01-25",paymentStatus:"pending",daysOverdue:5},{id:2,tenantName:"Jane Smith",tenantEmail:"jane@example.com",tenantPhone:"+91 98765 43211",propertyName:"Green Valley PG",roomNumber:"205",monthlyRent:12e3,lastPaymentDate:"2025-01-20",nextDueDate:"2025-02-20",paymentStatus:"paid",daysOverdue:0},{id:3,tenantName:"Bob Wilson",tenantEmail:"bob@example.com",tenantPhone:"+91 98765 43212",propertyName:"Sunshine Apartments",roomNumber:"303",monthlyRent:18e3,lastPaymentDate:"2024-12-15",nextDueDate:"2025-01-15",paymentStatus:"overdue",daysOverdue:15}];_.useEffect(()=>{setTimeout(()=>{r(p),i(!1)},500)},[]);const v=_.useMemo(()=>{const T=a.trim().toLowerCase();return t.filter(F=>l==="all"?!0:F.paymentStatus===l).filter(F=>{if(!T)return!0;const E=`${F.tenantName} ${F.tenantEmail}`.toLowerCase(),k=F.propertyName.toLowerCase(),M=F.roomNumber.toLowerCase();return E.includes(T)||k.includes(T)||M.includes(T)}).sort((F,E)=>E.daysOverdue-F.daysOverdue)},[t,a,l]),y=_.useMemo(()=>{const T=t.length,F=t.filter(M=>M.paymentStatus==="pending").length,E=t.filter(M=>M.paymentStatus==="overdue").length,k=t.filter(M=>M.paymentStatus==="paid").reduce((M,U)=>M+U.monthlyRent,0);return{total:T,pending:F,overdue:E,collectedThisMonth:k}},[t]),b=async()=>{u(!0),setTimeout(()=>{u(!1)},1e3)},w=T=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(T||0),j=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=T=>{switch(T){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=T=>{alert(`Payment request sent to tenant ${T}`)},I=T=>{r(F=>F.map(E=>E.id===T?{...E,paymentStatus:"paid",daysOverdue:0}:E))},P=()=>{var T;if(!m.tenantId||!m.amount||!m.reason){alert("Please fill in all required fields");return}alert(`Custom payment request created:
Tenant: ${(T=t.find(F=>F.id===parseInt(m.tenantId)))==null?void 0:T.tenantName}
Amount: ${w(m.amount)}
Reason: ${m.reason}`),f(!1),x({tenantId:"",amount:"",reason:"",dueDate:""})};return n?s.jsx(Nn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ka,{className:"w-12 h-12 animate-spin text-green-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading payment information..."})]})})}):s.jsx(Nn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage tenant rent payments"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[d?s.jsx(Ka,{className:"w-4 h-4 animate-spin"}):s.jsx(Ka,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:[s.jsx(ad,{className:"w-4 h-4"}),"Custom Request"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors",children:[s.jsx(jo,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>c("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Total Tenants"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:y.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(cr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>c("pending"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:y.pending})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(rs,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-red-50 to-red-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="overdue"?"border-red-400 ring-2 ring-red-200":"border-red-200"}`,onClick:()=>c("overdue"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-red-600 mb-1",children:"Overdue"}),s.jsx("div",{className:"text-3xl font-bold text-red-900",children:y.overdue})]}),s.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-lg flex items-center justify-center",children:s.jsx(er,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Collected"}),s.jsx("div",{className:"text-2xl font-bold text-green-900",children:w(y.collectedThisMonth)})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(ei,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(eo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant, property, or room...",value:a,onChange:T=>o(T.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),v.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(ei,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tenants Found"}),s.jsx("p",{className:"text-gray-600",children:a?"Try adjusting your search criteria":"No tenants with payment information"})]}):s.jsx("div",{className:"space-y-4",children:v.map((T,F)=>s.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},className:`bg-white border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${T.paymentStatus==="overdue"?"border-red-300 bg-red-50":"border-gray-200"}`,children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[s.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center ${T.paymentStatus==="overdue"?"bg-red-100":"bg-green-100"}`,children:s.jsx(cr,{className:`w-6 h-6 sm:w-7 sm:h-7 ${T.paymentStatus==="overdue"?"text-red-600":"text-green-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:T.tenantName}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${N(T.paymentStatus)}`,children:T.paymentStatus}),T.daysOverdue>0&&s.jsxs("span",{className:"px-2.5 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:[T.daysOverdue," days overdue"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs sm:text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsx("span",{children:T.propertyName})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ca,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsxs("span",{children:["Room ",T.roomNumber]})]})]})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-base font-bold text-green-600",children:w(T.monthlyRent)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Last Payment"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:j(T.lastPaymentDate)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Next Due"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:j(T.nextDueDate)})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.paymentStatus!=="paid"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>B(T.id),className:"px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-1.5",children:[s.jsx(Jp,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Send Request"}),s.jsx("span",{className:"sm:hidden",children:"Request"})]}),s.jsxs("button",{onClick:()=>I(T.id),className:"px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium flex items-center gap-1.5",children:[s.jsx(wt,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Mark Paid"}),s.jsx("span",{className:"sm:hidden",children:"Paid"})]})]}),s.jsxs("button",{className:"px-3 sm:px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center gap-1.5",children:[s.jsx(bue,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"History"})]})]})]}),s.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Monthly Rent"}),s.jsx("p",{className:"font-bold text-green-600",children:w(T.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Last Payment"}),s.jsx("p",{className:"font-semibold text-gray-900",children:j(T.lastPaymentDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Next Due Date"}),s.jsx("p",{className:"font-semibold text-gray-900",children:j(T.nextDueDate)})]})]})]})},T.id))}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(X.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Create Custom Payment Request"}),s.jsx("button",{onClick:()=>f(!1),className:"p-1 hover:bg-purple-800 rounded-lg transition-colors",children:s.jsx(or,{className:"w-6 h-6"})})]}),s.jsx("p",{className:"text-purple-100 mt-2",children:"Request payment from a tenant for any reason"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Tenant ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:m.tenantId,onChange:T=>x({...m,tenantId:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose a tenant..."}),t.map(T=>s.jsxs("option",{value:T.id,children:[T.tenantName," - ",T.propertyName," Room ",T.roomNumber]},T.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:m.amount,onChange:T=>x({...m,amount:T.target.value}),placeholder:"Enter amount",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:m.reason,onChange:T=>x({...m,reason:T.target.value}),placeholder:"e.g., Electricity bill, Maintenance charges, Damage repair, etc.",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date (Optional)"}),s.jsx("input",{type:"date",value:m.dueDate,onChange:T=>x({...m,dueDate:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:P,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Jp,{className:"w-5 h-5"}),"Send Request"]})]})]})})]})})},kJe=()=>{var f,m,x;const{tenantId:e}=wu(),t=Ar(),[r,n]=_.useState(null),[i,a]=_.useState(!0),[o,l]=_.useState("");_.useEffect(()=>{e&&(async()=>{var v,y;try{const b=await kt.get(`/property/tenants/${e}`);b.data.success&&n(b.data.tenant)}catch(b){console.error("Error fetching tenant details:",b),l(((y=(v=b.response)==null?void 0:v.data)==null?void 0:y.message)||"Failed to load tenant details")}finally{a(!1)}})()},[e]);const c=p=>p?`${Number(p).toLocaleString()}`:"-",d=p=>p?new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-";if(i)return s.jsx(Nn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(o||!r)return s.jsx(Nn,{children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[s.jsx(rg,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-red-900 mb-2",children:"Error Loading Tenant"}),s.jsx("p",{className:"text-red-600 mb-6",children:o||"Tenant not found"}),s.jsx("button",{onClick:()=>t("/owner-tenants"),className:"px-4 py-2 bg-white border border-red-300 rounded-lg text-red-700 font-medium hover:bg-red-50",children:"Back to Tenants"})]})})});const{kyc:u}=r,A=(f=u==null?void 0:u.aadhar)==null?void 0:f.extractedData;return s.jsx(Nn,{children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/owner-tenants"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[s.jsx(pi,{className:"w-4 h-4 mr-1"}),"Back to Tenants List"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tenant Profile"}),s.jsx("p",{className:"text-gray-600",children:"Detailed information and documents"})]}),s.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-medium border ${r.status==="active"?"bg-green-100 text-green-800 border-green-200":r.status==="checked_out"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:["Status: ",r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4 overflow-hidden border-4 border-white shadow-md",children:r.profilePicture?s.jsx("img",{src:r.profilePicture,alt:r.userName,className:"w-full h-full object-cover"}):s.jsx(cr,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:r.userName}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Tenant since ",d(r.actualCheckInDate)]}),s.jsxs("div",{className:"w-full space-y-3 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(ln,{className:"w-4 h-4 mr-3 text-gray-400"}),s.jsx("span",{className:"truncate",children:r.userEmail})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Es,{className:"w-4 h-4 mr-3 text-gray-400"}),s.jsx("span",{children:r.userPhone||"No phone provided"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ss,{className:"w-5 h-5 mr-2 text-blue-600"}),"Lease Details"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Property"}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(wr,{className:"w-4 h-4 mr-2 text-gray-400 mt-0.5"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.propertyName})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Room"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900 ml-6",children:["Room ",r.roomNumber]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-bold text-green-600 ml-6",children:c(r.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Deposit"}),s.jsx("p",{className:"text-sm font-bold text-blue-600 ml-6",children:c(r.securityDeposit)})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Check-in Date"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tr,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d(r.actualCheckInDate)})]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:`rounded-xl p-6 border ${(u==null?void 0:u.status)==="approved"?"bg-green-50 border-green-200":(u==null?void 0:u.status)==="rejected"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${(u==null?void 0:u.status)==="approved"?"bg-green-100 text-green-600":(u==null?void 0:u.status)==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:s.jsx(rr,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:`text-lg font-bold ${(u==null?void 0:u.status)==="approved"?"text-green-900":(u==null?void 0:u.status)==="rejected"?"text-red-900":"text-yellow-900"}`,children:["KYC Status: ",u!=null&&u.status?u.status.charAt(0).toUpperCase()+u.status.slice(1):"Not Submitted"]}),s.jsx("p",{className:`text-sm ${(u==null?void 0:u.status)==="approved"?"text-green-700":(u==null?void 0:u.status)==="rejected"?"text-red-700":"text-yellow-700"}`,children:(u==null?void 0:u.status)==="approved"?"Identity verified successfully.":(u==null?void 0:u.status)==="rejected"?"Identity verification failed.":"Verification is pending or incomplete."})]})]})})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:[s.jsx(Zp,{className:"w-5 h-5 mr-2 text-blue-600"}),"Identity Verification"]})}),s.jsx("div",{className:"p-6",children:A?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Extracted Details"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Full Name"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:A.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Date of Birth"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:A.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Gender"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:A.gender})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Aadhar Number"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 blur-sm hover:blur-none transition-all cursor-pointer",title:"Click to reveal",children:A.aadharNumber})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Document Images"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[((m=u==null?void 0:u.aadhar)==null?void 0:m.frontImageUrl)&&s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Front Side"}),s.jsxs("div",{className:"aspect-[1.6] bg-gray-100 rounded overflow-hidden relative group",children:[s.jsx("img",{src:u.aadhar.frontImageUrl,alt:"ID Front",className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("a",{href:u.aadhar.frontImageUrl,target:"_blank",rel:"noreferrer",className:"px-3 py-1.5 bg-white text-gray-900 text-xs font-medium rounded-full",children:"View Full Size"})})]})]}),((x=u==null?void 0:u.aadhar)==null?void 0:x.backImageUrl)&&s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Back Side"}),s.jsxs("div",{className:"aspect-[1.6] bg-gray-100 rounded overflow-hidden relative group",children:[s.jsx("img",{src:u.aadhar.backImageUrl,alt:"ID Back",className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("a",{href:u.aadhar.backImageUrl,target:"_blank",rel:"noreferrer",className:"px-3 py-1.5 bg-white text-gray-900 text-xs font-medium rounded-full",children:"View Full Size"})})]})]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ss,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No identity documents have been processed for this tenant."})]})})]})]})]})]})})},eh=({children:e})=>{const[t,r]=_.useState(!0),[n,i]=_.useState(!1);return _.useEffect(()=>{const a=()=>{console.log("Global Logout Triggered"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login"};return window.addEventListener("lyvo-logout",a),()=>window.removeEventListener("lyvo-logout",a)},[]),_.useEffect(()=>{(()=>{const o=localStorage.getItem("authToken"),l=localStorage.getItem("user");if(o&&l)try{const c=JSON.parse(l);if(console.log("ProtectedAdminRoute: User role check:",c.role),c.role===2)i(!0);else{console.log("ProtectedAdminRoute: User is not admin, redirecting to login"),window.location.href="/login";return}}catch(c){console.error("Error parsing user data:",c),window.location.href="/login";return}else{console.log("ProtectedAdminRoute: No token or user data, redirecting to login"),window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},Zi=({children:e})=>{const[t,r]=_.useState(!0),[n,i]=_.useState(!1);return _.useEffect(()=>{(()=>{const o=If(),l=Fv();if(o&&l)if(Lv(l)===3)i(!0);else{const d=Cp(l);window.location.href=d;return}else{window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},Ks=({children:e})=>{const[t,r]=_.useState(!0),[n,i]=_.useState(!1);return _.useEffect(()=>{(()=>{const o=If(),l=Fv();if(o&&l)if(Lv(l)===1)i(!0);else{const d=Cp(l);window.location.href=d;return}else{window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},PJe=({children:e})=>{const[t,r]=_.useState(!0),[n,i]=_.useState(!1);return _.useEffect(()=>{(()=>{const o=localStorage.getItem("authToken"),l=localStorage.getItem("user");if(o&&l)try{const c=JSON.parse(l);if(console.log("ProtectedUserRoute: User role check:",c.role),c.role===1)i(!0);else if(c.role===2){console.log("ProtectedUserRoute: Redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(c.role===3){console.log("ProtectedUserRoute: Redirecting owner to owner dashboard"),window.location.href="/owner-dashboard";return}else{console.log("ProtectedUserRoute: Invalid role, redirecting to login"),window.location.href="/login";return}}catch(c){console.error("Error parsing user data:",c),window.location.href="/login";return}else{console.log("ProtectedUserRoute: No token or user data, redirecting to login"),window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},IJe=({children:e})=>{const[t,r]=_.useState(!0);return _.useEffect(()=>{(()=>{const i=localStorage.getItem("authToken"),a=localStorage.getItem("user");if(i&&a)try{const o=JSON.parse(a),l=window.location.pathname;if(console.log("RootAuthCheck: User logged in with role:",o.role,"on path:",l),l==="/"){if(o.role===2){console.log("RootAuthCheck: Root path - redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(o.role===3){console.log("RootAuthCheck: Root path - redirecting owner to owner dashboard"),window.location.href="/owner-dashboard";return}else if(o.role===1){console.log("RootAuthCheck: Root path - redirecting seeker to appropriate page"),o.isNewUser&&!o.hasCompletedBehaviorQuestions?window.location.href="/seeker-onboarding":window.location.href="/seeker-dashboard";return}}}catch(o){console.error("Error parsing user data in root auth check:",o)}else console.log("RootAuthCheck: No user logged in");r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Checking authentication..."})]})}):e};function TJe(){const e=Ja(),[t,r]=_.useState(!1);return _.useEffect(()=>{r(!0);const n=setTimeout(()=>r(!1),1e3);return()=>clearTimeout(n)},[e.pathname]),e.pathname.startsWith("/admin"),e.pathname.startsWith("/owner"),s.jsxs(s.Fragment,{children:[t&&s.jsx(Mve,{}),s.jsx(gn,{mode:"wait",children:s.jsxs(Wie,{location:e,children:[s.jsx(Gt,{path:"/",element:s.jsx(Wfe,{})}),s.jsx(Gt,{path:"/dashboard",element:s.jsx(Ks,{children:s.jsx(EC,{})})}),s.jsx(Gt,{path:"/seeker",element:s.jsx(Ks,{children:s.jsx(EC,{})})}),s.jsx(Gt,{path:"/seeker-dashboard",element:s.jsx(Ks,{children:s.jsx(EC,{})})}),s.jsx(Gt,{path:"/seeker-favorites",element:s.jsx(Ks,{children:s.jsx(dbe,{})})}),s.jsx(Gt,{path:"/seeker-bookings",element:s.jsx(Ks,{children:s.jsx(ube,{})})}),s.jsx(Gt,{path:"/seeker-onboarding",element:s.jsx(Ks,{children:s.jsx(fbe,{})})}),s.jsx(Gt,{path:"/seeker-profile",element:s.jsx($ve,{children:s.jsx(Ks,{children:s.jsx(pbe,{})})})}),s.jsx(Gt,{path:"/seeker/property/:id",element:s.jsx(Ks,{children:s.jsx(gbe,{})})}),s.jsx(Gt,{path:"/seeker-dashboard/:propertyId",element:s.jsx(Ks,{children:s.jsx(xbe,{})})}),s.jsx(Gt,{path:"/my-room",element:s.jsx(Ks,{children:s.jsx(vbe,{})})}),s.jsx(Gt,{path:"/booking-dashboard/:bookingId",element:s.jsx(Ks,{children:s.jsx(ybe,{})})}),s.jsx(Gt,{path:"/seeker/room/:roomId",element:s.jsx(Ks,{children:s.jsx(bbe,{})})}),s.jsx(Gt,{path:"/seeker-kyc",element:s.jsx(Ks,{children:s.jsx(Fwe,{})})}),s.jsx(Gt,{path:"/tenant-dashboard",element:s.jsx(Ks,{children:s.jsx(Uwe,{})})}),s.jsx(Gt,{path:"/tenant-payments",element:s.jsx(Ks,{children:s.jsx(Rwe,{})})}),s.jsx(Gt,{path:"/tenant-maintenance",element:s.jsx(Ks,{children:s.jsx(Dwe,{})})}),s.jsx(Gt,{path:"/tenant-agreement",element:s.jsx(Ks,{children:s.jsx(tSe,{})})}),s.jsx(Gt,{path:"/tenant-roommates",element:s.jsx(Ks,{children:s.jsx(rSe,{})})}),s.jsx(Gt,{path:"/tenant-expenses",element:s.jsx(Ks,{children:s.jsx(nSe,{})})}),s.jsx(Gt,{path:"/debug/rooms",element:s.jsx(Ks,{children:s.jsx(wbe,{})})}),s.jsx(Gt,{path:"/profile",element:s.jsx(PJe,{children:s.jsx(epe,{})})}),s.jsx(Gt,{path:"/login",element:s.jsx(Eve,{})}),s.jsx(Gt,{path:"/signup",element:s.jsx(kve,{})}),s.jsx(Gt,{path:"/room-owner-signup",element:s.jsx(Ive,{})}),s.jsx(Gt,{path:"/forgot-password",element:s.jsx(Tve,{})}),s.jsx(Gt,{path:"/reset-password",element:s.jsx(Lve,{})}),s.jsx(Gt,{path:"/verify-email",element:s.jsx(Fve,{})}),s.jsx(Gt,{path:"/resend-verification",element:s.jsx(Uve,{})}),s.jsx(Gt,{path:"/debug-logout",element:s.jsx(Rve,{})}),s.jsx(Gt,{path:"/onboarding",element:s.jsx(Dve,{})}),s.jsx(Gt,{path:"/room-owner-dashboard",element:s.jsx(Zi,{children:s.jsx(Hve,{})})}),s.jsx(Gt,{path:"/about",element:s.jsx(tpe,{})}),s.jsx(Gt,{path:"/contact",element:s.jsx(rpe,{})}),s.jsx(Gt,{path:"/owner-dashboard",element:s.jsx(Zi,{children:s.jsx(oSe,{})})}),s.jsx(Gt,{path:"/owner-properties",element:s.jsx(Zi,{children:s.jsx(lSe,{})})}),s.jsx(Gt,{path:"/owner-property/:id",element:s.jsx(Zi,{children:s.jsx(cSe,{})})}),s.jsx(Gt,{path:"/owner-add-property",element:s.jsx(Zi,{children:s.jsx(fEe,{})})}),s.jsx(Gt,{path:"/owner-edit-property/:id",element:s.jsx(Zi,{children:s.jsx(CJe,{})})}),s.jsx(Gt,{path:"/owner-kyc-required",element:s.jsx(Zi,{children:s.jsx(mEe,{})})}),s.jsx(Gt,{path:"/owner-bookings",element:s.jsx(Zi,{children:s.jsx(bJe,{})})}),s.jsx(Gt,{path:"/owner-bookings/:bookingId",element:s.jsx(Zi,{children:s.jsx(wJe,{})})}),s.jsx(Gt,{path:"/owner-profile",element:s.jsx(Zi,{children:s.jsx(b$,{})})}),s.jsx(Gt,{path:"/owner-settings",element:s.jsx(Zi,{children:s.jsx(b$,{})})}),s.jsx(Gt,{path:"/owner-tenants",element:s.jsx(Zi,{children:s.jsx(jJe,{})})}),s.jsx(Gt,{path:"/owner/tenants/:tenantId",element:s.jsx(Zi,{children:s.jsx(kJe,{})})}),s.jsx(Gt,{path:"/owner-analytics",element:s.jsx(Zi,{children:s.jsx(BJe,{})})}),s.jsx(Gt,{path:"/owner-maintenance",element:s.jsx(Zi,{children:s.jsx(SJe,{})})}),s.jsx(Gt,{path:"/owner-payments",element:s.jsx(Zi,{children:s.jsx(EJe,{})})}),s.jsx(Gt,{path:"/admin-dashboard",element:s.jsx(eh,{children:s.jsx(cJe,{})})}),s.jsx(Gt,{path:"/admin-users",element:s.jsx(eh,{children:s.jsx(hJe,{})})}),s.jsx(Gt,{path:"/admin-add-admin",element:s.jsx(eh,{children:s.jsx(AJe,{})})}),s.jsx(Gt,{path:"/admin-owners",element:s.jsx(eh,{children:s.jsx(dJe,{})})}),s.jsx(Gt,{path:"/admin-seekers",element:s.jsx(eh,{children:s.jsx(uJe,{})})}),s.jsx(Gt,{path:"/admin-properties",element:s.jsx(eh,{children:s.jsx(fJe,{})})}),s.jsx(Gt,{path:"/admin-property-details/:propertyId",element:s.jsx(eh,{children:s.jsx(xJe,{})})}),s.jsx(Gt,{path:"/admin-settings",element:s.jsx(eh,{children:s.jsx(yJe,{})})}),s.jsx(Gt,{path:"/admin/*",element:s.jsx(vJe,{})}),s.jsx(Gt,{path:"*",element:s.jsx(npe,{})})]},e.pathname)})]})}function OJe(){const e=Ja(),t=e.pathname.startsWith("/admin"),r=e.pathname.startsWith("/owner"),n=e.pathname.startsWith("/seeker")||e.pathname==="/dashboard"||e.pathname.startsWith("/seeker/room/")||e.pathname.startsWith("/booking-dashboard/")||e.pathname.startsWith("/seeker-dashboard")||e.pathname==="/my-room"||e.pathname==="/tenant-dashboard"||e.pathname==="/tenant-payments"||e.pathname==="/tenant-maintenance"||e.pathname==="/tenant-agreement"||e.pathname==="/tenant-roommates"||e.pathname==="/tenant-expenses";return _.useEffect(()=>{(()=>{const a=If(),o=Fv();if(a&&o){const l=e.pathname;if(Lv(o)===1&&(l.startsWith("/admin")||l.startsWith("/owner"))){window.location.href="/dashboard";return}}})()},[e.pathname]),s.jsxs("div",{className:"App min-h-screen bg-gradient-to-br from-slate-50 to-stone-100",children:[!t&&!r&&!n&&s.jsx(Due,{}),s.jsx(TJe,{}),!t&&!r&&!n&&s.jsx(Mue,{}),!t&&!r&&!n&&s.jsx(sK,{}),s.jsx($K,{})]})}function LJe(){return _.useEffect(()=>{Zfe()},[]),s.jsx(tae,{children:s.jsx(Qve,{children:s.jsx(IJe,{children:s.jsx(OJe,{})})})})}const FJe=iS.createRoot(document.getElementById("root"));FJe.render(s.jsx(_e.StrictMode,{children:s.jsx(LJe,{})}));export{pn as _,tx as c,Zr as g};
